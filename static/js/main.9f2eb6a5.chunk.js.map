{"version":3,"sources":["selectors/selectors.js","selectors/configSelectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/locationSelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/newTransactionSelectors.js","selectors/newItemsSelectors.js","selectors/itemsSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/index.js","services/smart-contracts/actions/stats.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","helpers/localStorageHelpers.js","resources/getting-started/GS-bonus-ic.png","resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/CampaignReceipt.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/charts/simplified.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/IdentitySteps.js","components/signin/identity/styles.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","constants/actionTypes.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","services/store-data/analytics.js","services/smart-contracts/actions/core.js","services/requester/requester.js","services/requester/index.js","helpers/formatters.js","services/store-data/loop.js","constants/targeting.js","services/store-data/campaigns.js","services/store-data/account.js","services/translations/translations.js","helpers/sanitizer.js","services/crypto/crypto.js","constants/misc.js","store/history.js","store/initialState.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/ledger_logo_header.png","constants/spinners.js","services/smart-contracts/ethers.js","resources/getting-started/GS-email-ic.png","resources/getting-started/GS-create-ic.png","resources/getting-started/GS-launch-ic.png","actions/common.js","actions/uiActions.js","helpers/errors.js","helpers/numbers.js","actions/itemActions.js","services/auth/auth.js","helpers/timeHelpers.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","actions/campaignActions.js","actions/newItemsActions.js","actions/index.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/channelsReducer.js","reducers/ensReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","helpers/miscHelpers.js","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","services/wallet/wallet.js","resources/404-no.png","resources/404-yes.png","resources/getting-started/GS-fund-ic.png","resources/getting-started/GS-place-ic.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js","services/adex-market/actions.js","services/smart-contracts/actions/identity.js","services/adex-relayer/actions.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectRelayerConfig","state","getState","persist","config","relayer","selectFeeTokenWhitelist","createSelector","_ref","feeTokenWhitelist","reduce","all","t","tokens","Object","objectSpread","address","selectRoutineWithdrawTokens","_ref2","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","_ref3","map","selectMainToken","relayerConfig","_ref4","mainToken","selectSaiToken","_ref5","saiAddr","selectMainFeeToken","_ref6","selectAccount","account","selectChannels","channels","selectAuth","wallet","identity","authSig","authType","selectWallet","selectEmail","email","selectEmailProvider","split","selectAuthSig","selectWalletAddress","selectAuthType","selectAccountIdentity","_ref7","selectAccountIdentityAddr","_ref8","selectAccountStats","_ref9","stats","selectAccountStatsRaw","_ref10","settings","_ref11","raw","selectAccountStatsFormatted","_ref12","formatted","selectAccountIdentityDeployData","_ref13","relayerData","routineAuthorizationsData","_ref14","deployData","selectChannelsWithUserBalancesEligible","_ref15","withOutstandingBalance","toConsumableArray","selectChannelsWithUserBalancesAll","_ref16","withBalanceAll","selectAccountIdentityCurrentPrivileges","_ref17","_ref17$relayerData","currentPrivileges","selectWalletPrivileges","selectPublisherMinRevenueReached","_ref18","_ref19","totalRevenue","decimals","bigNumberify","gt","parseUnits","selectIdentity","memory","selectEnsAddressByAddr","ensAddresses","_","selectLocation","router","location","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","selectNavTitle","nav","navTitle","selectSide","side","selectGlobalUi","ui","global","selectSpinners","spinners","selectIdentityUi","byIdentity","identityAddr","identitiesUi","selectCompanyData","companyData","selectSpinnerById","id","selectRegistrationAllowed","ids","allowRegistration","process","selectEasterEggsAllowed","allowEasterEggs","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectHideGettingStarted","hideGettingStarted","selectSelectedCampaigns","selectedItems","campaigns","selectLoginDirectSide","goToSide","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","_opts$components","components","translate","selectAnalytics","analytics","selectAdvancedAnalytics","advanced","selectAnalyticsTimeframe","timeframe","selectDemandAnalytics","demand","selectAdvancedAnalyticsByType","type","campaignAnalytics","selectPublisherStatsByType","advancedByType","publisherStats","selectPublisherTotalImpressions","reportPublisherToAdUnit","values","value","Number","selectCampaignAnalyticsByChannelStats","campaignId","slicedToArray","analyticsByType","byChannelStats","selectCampaignAnalyticsByChannelToAdUnit","reportChannelToAdUnit","selectAnalyticsDataAggr","eventType","metric","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","aggr","selectCampaignEventsCount","selectTotalImpressions","eventCounts","selectTotalClicks","selectTotalMoney","eventPayouts","formatTokenAmount","selectTotalImpressionsWithPayouts","_ref20","filter","c","find","e","time","_ref21","selectAverageCPM","_ref22","_ref23","totalMoney","totalImpressions","selectStatsChartData","_ref25","noLastOne","rest","objectWithoutProperties","data","_ref26","_ref26$data","slice","memo","item","labels","push","formatDateTime","datasets","_ref24","parseFloat","parseInt","parseValueByMetric","selectChartDatapointsImpressions","_ref27","_ref28","selectChartDatapointsClicks","_ref30","_ref31","selectChartDatapointsPayouts","_ref33","_ref34","selectChartDatapointsCPM","_ref36","_ref37","_ref38","payouts","impressions","result","n","i","toFixed","selectValidations","validations","selectValidationsById","selectNewTransactionById","newTransactions","txns","selectNewItems","newItem","selectNewCampaign","Campaign","CampaignModel","selectNewAdSlot","AdUnit","AdUnitModel","AdSlot","AdSlotModel","selectItemsByType","items","itemType","selectItemsArrayByType","selectCampaigns","selectCampaignWithAnalyticsById","campaign","clicks","selectCampaignsArray","selectAdUnits","adUnits","selectAdUnitsArray","selectAdSlotsArray","adSlots","selectCampaignsTableData","_ref$decimals","depositAsset","_item$spec","spec","_item$adUnits","firstUnit","media","mediaUrl","mediaMime","status","humanFriendlyName","originalName","name","depositAmount","formatUnits","fundsDistributedRatio","minPerImpression","created","activeFrom","withdrawPeriodStart","actions","receiptAvailable","selectCampaignsMaxImpressions","Math","max","apply","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","fallbackUnit","concat","title","replace","to","ipfs","selectAdUnitsTableData","units","selectCampaignStatsTableData","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","keys","key","website","ctr","earnings","selectCampaignStatsMaxValues","channelId","current","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","sort","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","label","selectSlotTypesSourceWithDemands","symbol","constants","AdUnitsTypes","dA","avgCPM","dB","index","source","hasPopularGroup","group","hasNoDemandGroup","demandIfo","totalVolume","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","adSlotsArray","selectHasAdSlotImpressions","selectHas5000Impressions","__webpack_require__","d","__webpack_exports__","configSelectors_selectRelayerConfig","translationsSelectors_t","privilegesNames","valueToKey","IdentityPrivilegeLevel","tokenAvailableBalance","token","balance","feeToken","min","mul","lte","getTotalAccountRevenue","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","mark","_callee2","withdrawTokens","wrap","_context2","prev","next","_callee","revenuePr","revenue","balanceMainToken","_args","_context","sent","minFinal","tokenInMainTokenValue","t0","abrupt","add","stop","_x2","this","Promise","resolve","_x","getWithdrawTokensBalances","_callee4","getFullBalances","getToken","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","_context4","getEthers","_callee3","tokenContract","available","_context3","balanceOf","_x4","balanceData","_x3","getAddressBalances","_x5","_getAddressBalances","_callee6","provider","calls","_context6","getBalance","path","serializedPath","balanceEth","formatEther","toString","tokensBalances","getAccountStats","_x6","_getAccountStats","_callee7","_ref11$outstandingBal","outstandingBalanceMainToken","getIdentity","_selectMainToken","_identity$status","identityContract","privilegesAction","_ref22$","identityWithdrawTokensBalancesBalances","walletPrivileges","_context7","total","deployed","privileges","then","res","catch","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","totalOutstandingBalanceMainToken","availableIdentityBalanceMainToken","totalIdentityBalanceMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_x7","_getOutstandingBalance","_callee8","withBalance","bigZero","initial","allOutstanding","_context8","amounts","ch","outstanding","outstandingAvailable","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","getAllValidatorsAuthForIdentity","_x9","_getAllValidatorsAuthForIdentity","_callee11","validatorAuthTokens","allValidators","tokenCalls","allTokens","validatorsAuth","_context11","_objectSpread2","channel","leader","validators","follower","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_callee10","_context10","getValidatorAuthToken","validatorId","_x12","saiDaiConversion","_callee5","_context5","_x10","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_x11","_tokenInMainTokenValue","_callee12","_selectMainToken2","valueInMainToken","_context12","toLowerCase","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","bundle","showOnTrezor","getAddresses","asyncToGenerator","regenerator_default","_ref3$from","_ref3$to","success","payload","ethereumGetAddress","signTx","params","txProps","signature","txSigned","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","r","s","v","serializeTransaction","Error","error","sendTransaction","txData","signMessage","message","_args4","ethereumSignMessage","hex","hash","mode","SignatureModes","GETH","connect","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","password","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","getAddress","signetTx","sign","_args5","arrayify","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","_getSigner","signer","_signer2","_signer3","AUTH_TYPES","METAMASK","LEDGER","LedgerSigner","TREZOR","GRANT","QUICK","getTypedDataHash","typedData","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","authToken","floor","random","MAX_SAFE_INTEGER","_signTx","tx","sig","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","signatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getValidatorRequester","baseUrl","Requester","getRequesters","requester","url","validator","processResponse","json","text","handleRequesterErrorRes","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","existingAuth","era","Date","now","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","fetch","headers","authorization","results","authTokens","lastApprovedState","route","method","closeCampaign","body","JSON","stringify","events","Content-Type","identityAnalytics","leaderAuth","limit","segmentByChannel","aggregates","queryParams","identityCampaignsAnalytics","isEthAddressERC20","addr","contract","isEthAddress","ethers","Contract","ERC20TokenABI","totalSupply","AddressZero","allowance","isConnectionLost","eth","race","reject","setTimeout","getBlockNumber","urlRegex","passwordRegex","validUrl","test","validateNumber","numberStr","isNaN","isFinite","validName","msg","errMsgArgs","validPassword","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$ens","ens","ensAddress","resolveName","code","loadFromLocalStorage","localStorage","getItem","parse","err","saveToLocalStorage","serialized","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","module","exports","p","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","props","close","setState","active","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","anchorOrigin","vertical","horizontal","top","react_default","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","useSelector","assign","_ref$isProp","_ref$args","Confirm","bind","assertThisInitialized","confirm","visible","_this$props","children","cancelLabel","confirmLabel","noActionBtns","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","onConfirm","onCancel","calledOn","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","Array","_key","resolveToLocation","pathname","history","createHref","handleClick","event","preventDefault","stopPropagation","_this$props2","forwardedRef","match","staticContext","toLocation","ref","href","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","Anchor","target","underline","externalIcon","isExternal","getUrl","linkProps","draggable","rel","style","Link","OpenInNew","ExternalAnchor","anchor_Anchor","fontWeight","styles","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","mixins","drawerPaper","content","palette","background","default","padding","marginLeft","contentInner","sideIndex","advertiser","publisher","0","1","handleChange","ev","execute","useStyles","makeStyles","activeColor","accentOne","main","accentTwo","minWidth","&$selected","selected","light","indicator","SideSwitch","Box","bgcolor","boxShadow","Tabs","onChange","indicatorColor","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","&:hover","adxLink","hint","sideSwitch","marginBottom","useCommonStyles","SideNav","commonClasses","routerLocation","List","component","AdexIconTxt","spinners_LoadingSection","ListItemText","Typography","gutterBottom","Divider","dashboard_SideSwitch","button","ListItemIcon","Dashboard_default","primary","Fragment","CampaignIcon","List_default","toUpperCase","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","_useState","useState","_useState2","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","handleDrawerToggle","imgSrc","btnMenuLabel","formatAddress","AppBar","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","size","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","cropCanvas","scaleCanvas","crossOrigin","crop","x","round","y","getContext","drawImage","toBlob","file","URL","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","preventBubbling","revokeObjectURL","onCropChange","saveCropped","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","errMsg","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","Grid","container","alignContent","sm","md","react_image_crop_default","imageStyle","imgDropzonePreview","disabled","Save_default","dist_es","img_Img","grey","marginTop","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","exact","required","isValid","checkExactishAspect","masgArgs","dirty","validateMedia","getMediaSize","validateId","ValidationHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","newValues","onOk","vals","forEach","onChangeReady","errImg","imgPropName","AVATAR_MAX_WIDTH","AVATAR_MAX_HEIGHT","Cancel_default","forms_ImgForm_ImgForm","imgLabel","ValidItemHoc","SaveBtn","spinner","dirtyProps","save","validationId","Check_default","fabProgress","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","G404","xs","inline","textTransform","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","align","PageNotFound_G404","IMG_404_1","window","IMG_404_2","adSlotPut","schemas","adUnitPut","campaignPut","AdSizesByValue","ItemsConstants","ItemHoc","Item","updateNav","objModel","dp","indexOf","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","updateItem","_authType","editImg","_activeInput","_this$props4","matchId","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","_this$props5","Joi","_this$props6","description","_this$props7","page_not_found_PageNotFound","isDemo","canEdit","temp","fallbackMediaUrl","titleErr","descriptionErr","react_router","when","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","containers_ImgDialog_ImgDialog","_id","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","lg","htmlFor","multiline","rows","validateDescription","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","fabButton","Info_default","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","MUIDataTableEnhanced","columns","mui_datatables_dist_default","elevation","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","disableToolbarSelect","toolbarEnabled","mapStatusIcons","humanFriendlyStatus","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","cellImg","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","formatAbbrNum","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","pl","pr","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selector","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","useCallback","useEffect","ReloadData","handleReload","react","Tooltip","Refresh","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","PRINTING_CAMPAIGNS_RECEIPTS","startIcon","Print","RRIconButton","getCols","maxDeposit","customBodyRender","includes","commify","sortDirection","enterDelay","Visibility","Receipt","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","customToolbarSelect","displayData","setSelectedRows","selectedIndexes","dataIndex","handlePrintSelectedReceipts","CampaignsTable","_useSelector","_useTableData","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","innerWidth","StepLabel","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","MaterialStepper","_props$initialPage","initialPage","_props$pages","setCurrentPage","canReverse","pageProps","Comp","_page$pageValidation","pageValidation","onValid","stepsId","dirtyErrors","dirtyErrs","getDirtyValidationErrors","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","onKeyPressed","onKeyPress","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","FormSteps","CancelBtn","onSave","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","goToNextPageIfValid","MaterialUiStepper","FormSteps_FormSteps","fullHeight","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialog","iconButton","textButton","fabVariant","btnLabelArgs","mini","btnLabel","dialogActions","onBeforeOpen","btnProps","setOpen","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","closeDialog","NewAdUnitHoc","ItemForm","updateNewItem","addUnit","resetNewItem","saved","formControl","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","helperText","_props$fullWidth","noSrcLabel","IconComponent","inputLabel","useRef","_React$useState","_React$useState2","labelWidth","setLabelWidth","offsetWidth","Select","ListSubheader","spinners_InputLoading","adUnitPost","AdTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","addUtmLink","addUtmParameters","withHttp","removeFromUrl","protocol","host","newQuery","_i","_Object$entries","entries","UTM_PARAMS","format","addUrlUtmTracking","newTemp","checked","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getWidAndHightFromType","sizes","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","getSuggestions","inputValue","allowCreate","validateCreation","suggestion","newSuggestion","chip","inputRoot","multiple","validateAutocomplete","errorText","onInit","setInputValue","suggestions","selectedItem","Autocomplete","getOptionLabel","option","onInputChange","renderInput","inputProps","SourcesSelect","SOURCES","collection","tag","score","placeholder","AdUnitTargeting","handleTargetChange","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","splice","targetTag","_ref2$source","autocomplete_Autocomplete","openOnClick","suggestionMatch","showSuggestionsWhenValueIsSet","slider","markLabel","collections","tg","newCollection","targeting","tags","_ref4$source","_ref4$target","AddIcon","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref$targets","subHeader","dense","subheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","strong","imgPreview","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","openCampaign","OPENING_CAMPAIGN","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedItemsIds","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","esm_DateTimePicker","InputProps","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","isNumberString","moment","MomentUtils","getTotalImpressions","dep","CampaignFinance","minTargetingScore","_campaign$temp","maxChannelFees","maxDepositFormatted","GETTING_CAMPAIGNS_FEES","date","valueOf","errDepAmnt","errMin","errFrom","errTo","validateNumberString","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","UnitsTable","NewCampaignFormPreview","_newItem$temp","feesFormatted","totalSpendFormatted","getCampaignActualFees","FormsCommon_WalletAction","CampaignFormPreview_UnitsTable","addSlot","AdSlotBasic","adTypesSource","_newItem$title","_newItem$description","_newItem$website","_newItem$type","_newItem$minPerImpres","UPDATING_SLOTS_DEMAND","updateSlotsDemandThrottled","errWebsite","errType","updateNewSlot","dangerouslySetInnerHTML","__html","NewAdSlotHoc","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch","Collapse","in","PredefinedTags","custom","AdSlotTargeting","SlotFallback","AdSlotPreview","mainTokenSymbol","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","onInvalid","validateNewCampaignAdUnits","validateNewCampaignFinance","CampaignFormPreview","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","validateNewSlotBasics","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","truncateString","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","onRowsSelect","rowsSelected","AdUnitsTable","campaignUnits","_props$selected","setSelectorArgs","allRowsSelected","AdSlotsTable_RRIconButton","AdSlotsTable","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","CardContent","updateItemTemp","_ref2$prop","_ref2$value","_ref2$item","ValidatedSlotMinCPM","minCPM","validateAmount","ValidatedSlotWebsite","validateWebsite","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","join","CampaignProps","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","formatNumberWithCommas","CampaignStatsBreakdownTable","_useSelector2","dottedDivider","borderBottom","solidDevider","breakdownTable","breakAll","whiteSpace","pageBreak","pageBreakAfter","campaignBreakdown","companyName","firstLastName","country","mb","mt","Table","TableHead","TableRow","TableCell","TableBody","CompanyDetails","updateCompanyData","a4","hideOnMobile","hideOnDesktop","CampaignReceipt","invoice","useParams","selectedByPropsOrParams","receipts","Receipt_CompanyDetails","react_to_print_lib_default","trigger","containers_Receipt_Receipt","VIEW_MODE","context","handleTabChange","tabIndex","CampaignActions","statistics","scrollButtons","clone","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","CampaignItem","ownProps","rowsView","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","cpm","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y4Label","y4Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","_ref$y4Color","y4Color","Chart","pluginService","register","afterDraw","chart","tooltip","_active","activePoint","controller","ctx","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","yLabel","formatFloatNumberWithCommas","hover","xAxes","gridLines","scaleLabel","labelString","ticks","autoSkip","callback","tick","array","yAxes","beginAtZero","drawOnChartArea","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","typography","pxToRem","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","progress","StatsCard","explain","deepOrange","amber","lime","contrastThreshold","tonalOffset","disabledBackground","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","MuiPaper","rounded","MuiTooltip","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","themeMUI","responsiveFontSizes","factor","infoStatsContainer","dashboardCardBody","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","timeHints","hour","day","week","BasicStats","averageCPM","loadingImpressions","loadingMoney","loadingCPM","loadingClicks","dataInSync","DashboardStats_StatsCard","updateAnalyticsTimeframe","Infinity","simplified_SimpleStatistics","DashboardStats","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","WithdrawFromIdentity","_useSelector3","amountToWithdraw","withdrawTo","_useSelector4","errAmount","errAddr","updateNewTransaction","NewTransactionHoc","TransactionHoc","txId","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","getErrMsg","saveFn","acc","log","txs","txResults","WithdrawAnyTokenFromIdentityForm","numStr","tokenAddress","withdrawToSpinner","balanceAnySpinner","tokenBalance","tokenDecimals","errToken","validateAddress","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPageForm","handleValidate","_timeout","setEns","validateENS","withdrawAmount","setEnsSpinner","noValidate","IdentityWithdrawPreview","feesData","fees","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","identityAvailable","previewWarnMsgs","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","validateIdentityWithdraw","TransactionPreview","_ref4$transaction","identityWithdraw","SetIdentityPrivilege","validatePrivilegesChange","addrIdentityPrivilege","setIdentityPrivilege","getFeesOnly","WithdrawAnyTokenFromIdentity","WithdrawAnyTokenFromIdentityPage","identityWithdrawAny","_ref9$transaction","withdrawOtherTokensFromIdentity","SetAccountENS","SetAccountENSPage","setIdentityENS","username","addIdentityENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountInfo","_useSelector$authType","canMakeTx","identityEnsName","localWalletDownloadHref","setLocalWalletDownloadHref","loadBackupHref","obj","getRecoveryWalletData","expanded","setExpanded","AccountInfo_AccountItem","transactions_SetAccountENS","py","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","square","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","SaveAlt_default","transactions_SetIdentityPrivilege","transactions_WithdrawAnyTokenFromIdentity","useColorlibStepIconStyles","transition","completed","star","ColorlibConnector","line","backgroundSize","StepConnector","ColorlibStepIcon","_clsx","clsx","backgroundImage","Stars","createAdUnitTutorial","confirmAction","fundAccountTutorial","anchor_ExternalAnchor","launchFirstCampaign","createAdSlot","placeAdSlot","instructions","GettingStarted","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","isGettingStartedHidden","emailProvider","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","indexOfFirstIncompleteStep","findIndex","setActiveStep","esm_ExpandMore","Star","StarBorder","Hidden","mdUp","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","smDown","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","esm_Close","Campaigns","NewItems_NewCampaignDialog","accent","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Dashboard","mobileOpen","setMobileOpen","dataLoaded","setDataLoaded","minPublisherRevenueReached","showTxPrivLevelWarning","_updateInitialData","loadAccountData","updateInitialData","stopAccountDataUpdate","resolveEnsAddress","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","Alert","severity","updatePrivilegesWarningAccepted","Account","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","w","goTo","confirmLogout","toExecute","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","waitingMetamaskAction","setWaitingMetamaskAction","_useState5","_useState6","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","_useState7","_useState8","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","metamaskSigner","_address","_stats","updateIdentity","updateIdentityWallet","signType","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","sideSelect","IdentityForm","login","resetIdentity","ready","waitingExpected","waiting","CREATING_SESSION","waitingUpload","UPLOADING_ACCOUNT_DATA","IdentityHoc","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","QuickInfo","sessionSpinner","walletMsgs","emailCheck","passwordCheck","tosCheck","accessWarningCheck","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","QuickLogin","getIdentitiesForDropdown","FullLogin","ownerIdentities","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","set","updateOwnerIdentities","owner","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","final","infoPaper","gutters","input","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","updateEasterEggsAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","useUtils_cfb96ac9","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","hostname","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAccount","analyticsLoop","analyticsCampaignsLoop","campaignsLoop","statsLoop","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_abi_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","Loop","syncAction","_syncAction","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","updateAccountAnalytics","loopName","stopOn","_syncAction2","updateAccountCampaignsAnalytics","Core","Interface","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","crypto","createHash","digest","Channel","creator","tokenAddr","tokenAmount","validUntil","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","fee","feeNum","div","feeDen","feeAddr","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","getWithdrawnPerUserOutstanding","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default","functions","withdrawnPerUser","sub","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","getAllCampaigns","byEarner","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_unused","_channel$status","bTree","BalanceTree","balanceNum","_x8","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref4$withBalance","_withBalance$sort$red","eligible","c1","c2","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","sum","lt","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","executeRoutines","encode","routinesSweepTxCount","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","isSweepTx","getSwapAmountsByToken","saiToken","swaps","swapsSumInMainToken","swapsByToken","getSweepingTxnsIfNeeded","_getSweepingTxnsIfNeeded","amountInMainTokenNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","approveTxns","channelOpenTx","txnsByFeeToken","totalBN","mtBalance","maxAvailable","maxAvailableFormatted","storeCampaign","channelOpen","extraTxFeesCount","getApproveTxns","approveForAddress","approveAmount","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","processExecuteByFeeTokens","extraData","closeChannel","_closeChannel","textObj","statusText","AdexNodeRequester","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref4$route","_ref4$queryParams","_ref4$method","_ref4$headers","_ref4$authSig","userAddr","_ref4$noCache","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","joinSymbol","substring","parts","number","decPlaces","pow","abbrev","string","Looper","_ref$loopName","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","makeStopCheck","startLoop","checkLoop","start","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","genders","Genders","LOOP_TIMEOUT","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","updateUserCampaigns","accountStatsLoop","updateAccountStats","translations_translate","setLang","translations","adexTranslations","translation","tpl","pattern","RegExp","interpolated","isValidElement","cloneElement","every","interpolate","lng","getKeyHash","encrypt","iv","cipher","encr","encrypted","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","encryptLegacy","crypted","createCipher","decryptLegacy","dec","createDecipher","BID_STATES","ExchangeConstants","TIMEOUTS","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","_WALLET_ACTIONS_MSGS","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","campaings","web3Transactions","ethNetwork","networkId","gasData","market","QUICK_WALLET_BACKUP","UPDATING_ACCOUNT_IDENTITY","setLogLevel","getEthersResult","adexCore","coreAddr","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","ethereum","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","ethereumNetworkId","networkVersion","isMetaMask","types","updateGlobalUi","category","updateUiByIdentity","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","changeLanguage","get","updateSelectedItems","updateSelectedCampaigns","refreshCacheAndReload","caches","notifyNewTOS","grant","accepted","getErrorMsg","numStringCPMtoImpression","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","resUnit","passback","postAdSlot","getAllItems","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","addSig","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","fillEmptyTime","prevAggr","defaultValue","intervals","nowUTC","utc","lastSixHoursPeriod","startOf","lastHour","subtract","end","last24Hours","last7Days","thisWeek","endOf","lastWeek","thisMonth","lastMonth","intervalsMs","interval","ammount","newAggr","diff","unix","prevAggrInInterval","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","byType","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","analyticsParams","callsParams","analyticsCampaignsParams","aggrByChannelsSegments","feeTokens","_aggr$sort$reduce","aggregations","_withdrawTokens$depos","minBalance","currentAggr","currentChannelValue","hasMinBalance","currentTimeValue","feeSubtracted","currentAvailable","currentAdded","points","curInnerAggr","accountChanged","allAnalytics","updateValidatorAuthTokens","newAuth","aggrByChannelSegments","isAccountChanged","updateSlotsDemand","throttle","demandAnalytics","leading","trailing","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","updateGasData","hasAuth","accountCheck","updateAccountIdentityData","updatedIdentity","getIdentityData","isLimitedVolume","newIdentity","newTokens","createSession","_ref9$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","checkSession","skipErrToast","getSession","signerAddress","cfg","getRelayerConfigData","getNetworkId","_callee14","_context14","getNetwork","getNetworkData","_callee15","network","_context15","isMetamaskMatters","_callee16","doesItMatter","_context16","onMetamaskNetworkChange","_x13","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","identityContractOwner","_x14","_x15","metamaskAccountCheck","_x16","_x17","_callee9","_context9","_x18","_x19","on","accounts","_x20","_x21","hasBackup","_callee17","salt","encryptedWallet","_context17","generateSalt","getWalletHash","getQuickWallet","makeBackup","_callee18","walletSalt","walletHash","_context18","backupWallet","_selectWallet","isLocal","_x24","_x25","t4","t5","_x26","_x27","_callee13","_context13","_x28","_x29","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","handleAfterValidation","validateEmailCheck","validatePassword","validatePasswordCheck","validateTOS","validateWallet","validateIdentityContractOwner","validateAccessWarning","validateCampaignUnits","_x22","_x23","validateCampaignValidators","validateAmounts","_ref21$maxDeposit","validateWithdrawAmount","availableIdentityBalanceMainTokenRaw","availableIdentityBalanceMainTokenFormatted","errorMsg","amount","validateCampaignAmount","isValidNumber","deposit","isValidDeposit","isValidMin","_x30","_x31","getCampaignDatesValidation","_ref28$created","validateCampaignDates","_ref29","_x32","_x33","validateCampaignTitle","_ref32","_x34","_x35","validateEthAddress","_ref33$nonZeroAddr","_ref33$nonERC","_callee19","_ref35","_context19","_x36","_x37","validatePrivilegesAddress","_ref36$setAddr","_ref36$walletAddr","_callee20","isCurrentAddress","_context20","_x38","_x39","validatePrivLevel","_ref39","_callee21","_context21","_x40","_x41","validateSchemaProp","_ref40","_ref41","_callee22","_context22","_x42","validateEmail","validateNotExisting","_ref42","_callee23","_ref43","existing","_context23","getEmail","_x43","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","abort","readAsText","withdrawFromIdentity","identityData","getOwnerIdentities","lookupAddress","_selectIdentity","identityTxData","registerAccount","regAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","getIdentityDeployData","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","inputValidations","validation","_selectNewTransaction2","_selectAccountStatsRa","_selectAccountStatsFo","updateCampaignState","getHumanFriendlyName","_selectAccount","getCampaigns","closeCampaignMarket","currentCampaign","tempValidators","_campaign$temp2","totalSpend","adSlotPost","currentSlot","_slot$minPerImpressio","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","campaignActions","newItemsActions","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","derive","publicExtendedKey","HDNode","fromExtendedKey","_ref4$from","_ref4$to","transport","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","payloadEncoded","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","isMoment","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","semverGreaterThan","versionA","versionB","versionsA","versionsB","cache","latestVersion","latestTOS","currentVersion","currentTOS","tosVersion","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","statuses","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","baseIdentityAddr","identityRecoveryAddr","routineAuthorizationsRaw","bytecode","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","totalAmountInMainTokenNeeded","_ref16$sweepTxns","_ref16$swapAmountsByT","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","minRecommended","minDeploy","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesSweepTxCo","_tx$extraTxFeesCount","txFeeAmount","minFeeAmount","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","txnsRaw","executeTx","_withdrawOtherTokensFromIdentity","_selectRelayerConfig4","services_requester__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"sHAIaA,EAA0BC,YACtCC,IACAC,KAGYC,EAAqCH,YACjDC,IACA,eAACG,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAK,GAAIG,EAATH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAa,GAAb,OAAoBD,EAAEE,SAAWE,EAAEF,wBCPvBG,EAAsB,SAAAC,GAClC,OAAQA,GAASC,eAAYC,QAAQC,OAAOC,SAmBhCC,EAA0BC,YACtC,CAACP,GACD,SAAAQ,GACC,OAD0BA,EAAxBC,kBACuBC,OAAO,SAACC,EAAKC,GACrC,IAAMC,EAAMC,OAAAC,EAAA,EAAAD,CAAA,GAAQH,GAGpB,OAFAE,EAAOD,EAAEI,SAAWJ,EAEbC,GACL,MAIQI,EAA8BV,YAC1C,CAACP,GACD,SAAAkB,GACC,OAD8BA,EAA5BC,sBAC2BT,OAAO,SAACC,EAAKC,GACzC,IAAMC,EAAMC,OAAAC,EAAA,EAAAD,CAAA,GAAQH,GAGpB,OAFAE,EAAOD,EAAEI,SAAWJ,EAEbC,GACL,MAIQO,EAAuCb,YACnD,CAACP,GACD,SAAAqB,GACC,OAD8BA,EAA5BF,sBAC2BG,IAAI,SAAAV,GAAC,OAAIA,EAAEI,YAY7BO,GARehB,YAC3B,CAACP,GACD,SAAAwB,GAEC,OADSV,OAAAC,EAAA,EAAAD,CAAA,GAAQU,KAKYjB,YAC9B,CAACP,GACD,SAAAyB,GAAA,OAAAA,EAAGC,WAA6B,MAGpBC,EAAiBpB,YAC7B,CAACP,EAAqBiB,GACtB,SAAAW,EAAcT,GAAd,OAAwCA,EAAxCS,EAAGC,WAGSC,EAAqBvB,YACjC,CAACP,EAAqBM,GACtB,SAAAyB,EAAgBtB,GACf,OAAOA,EAD8BsB,EAAnCL,UACiCV,2BCtExBgB,EAAgB,SAAA/B,GAAK,OAAIA,EAAME,QAAQ8B,SAAW,IAClDC,EAAiB,SAAAjC,GAAK,OAAIA,EAAME,QAAQgC,UAExCC,EAAa7B,YACzByB,EACA,SAAAxB,GAAA,IAAG6B,EAAH7B,EAAG6B,OAAQC,EAAX9B,EAAW8B,SAAX,QACGD,KACAA,EAAOrB,WACPqB,EAAOE,WACPF,EAAOG,YACPF,EAAStB,UAGAyB,EAAenD,EAC3B0C,EACA,SAAAd,GAAA,OAAAA,EAAGmB,QAAuB,KAGdK,EAAcnC,YAC1ByB,EACA,SAAAX,GAAA,OAAAA,EAAGsB,QAGSC,EAAsBrC,YAClCmC,EACA,SAAAC,GAAK,OAAOA,EAAQA,EAAME,MAAM,KAAK,GAAK,OAG9BC,EAAgBvC,YAC5BkC,EACA,SAAAhB,GAAA,OAAAA,EAAGc,UAGSQ,EAAsBxC,YAClCkC,EACA,SAAAb,GAAA,OAAAA,EAAGZ,UAGSgC,EAAiBzC,YAC7BkC,EACA,SAAAV,GAAA,OAAAA,EAAGS,WAGSS,EAAwB1C,YACpCyB,EACA,SAAAkB,GAAA,OAAAA,EAAGZ,UAA2B,KAGlBa,EAA4B5C,YACxC0C,EACA,SAAAG,GAAA,OAAAA,EAAGpC,UAGSqC,EAAqB9C,YACjCyB,EACA,SAAAsB,GAAA,OAAAA,EAAGC,OAAqB,KAQZC,GALwBjD,YACpCyB,EACA,SAAAyB,GAAA,OAAAA,EAAGC,UAA2B,KAGMnD,YACpC8C,EACA,SAAAM,GAAA,OAAAA,EAAGC,KAAiB,MAGRC,EAA8BtD,YAC1C8C,EACA,SAAAS,GAAA,OAAAA,EAAGC,WAA6B,KAapBC,GAVwCzD,YACpD0C,EACA,SAAAgB,GAAA,IAAGC,EAAHD,EAAGC,YAAH,OACCA,GACAA,EAAYC,2BACZD,EAAYC,0BAA0B,GACnCD,EAAYC,0BAA0B,GACtC,OAG0C5D,YAC9C0C,EACA,SAAAmB,GAAA,OAAAA,EAAGF,YAA8BG,cAGrBC,EAAyC/D,YACrD2B,EACA,SAAAqC,GAAA,IAAGC,EAAHD,EAAGC,uBAAH,OAAA1D,OAAA2D,EAAA,EAAA3D,CAAqC0D,GAA0B,MAGnDE,EAAoCnE,YAChD2B,EACA,SAAAyC,GAAA,IAAGC,EAAHD,EAAGC,eAAH,OAAA9D,OAAAC,EAAA,EAAAD,CAAA,GAA+B8D,GAAkB,MAGrCC,EAAyCtE,YACrD0C,EACA,SAAA6B,GAAA,IAAAC,EAAAD,EAAGZ,YAAH,OAAAa,OAAA,IAAAA,EAAwC,GAAxCA,GAAkBC,mBAAoD,KAG1DC,EAAyB1E,YACrC,CAACsE,EAAwC9B,GACzC,kBAAAnD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAc,IAAdA,UAAAC,OAAA,EAAAD,UAAA,QAAAE,IAAqD,IAGzCoF,EAAmC3E,YAC/C,CAACiD,EAAuBjC,GACxB,SAAA4D,EAAAC,GAAA,IAAGC,EAAHF,EAAGE,aAAkBC,EAArBF,EAAqBE,SAArB,OACCC,uBAAaF,GAAgB,GAAGG,GAC/BC,qBAlH2B,KAkHOH,MCpHxBI,EAAiB,SAAAzF,GAAK,OAAIA,EAAM0F,OAAOrD,UAIvCsD,EAAyBrF,YACrC,CAHiC,SAAAN,GAAK,OAAIA,EAAME,QAAQ0F,cAGnC,SAACC,EAAG9E,GAAJ,OAAgBA,IACrC,SAAC6E,EAAc7E,GAAf,OAA2B6E,EAAa7E,IAAY,KCNxC+E,EAAiB,SAAA9F,GAAK,OAAIA,EAAM+F,OAAOC,UAOvCC,GALe3F,YAC3BwF,EACA,SAAAvF,GAAA,OAAAA,EAAG2F,SAG+B5F,YAClCwF,EACA,SAAA7E,GAAA,OAAAA,EAAGkF,OAAqB,MAGZC,EAAqB9F,YACjCwF,EACA,SAAA1E,GAAA,IAAG8E,EAAH9E,EAAG8E,OAAH,OAAgB,IAAIG,gBAAgBH,KCXxBI,EAAiB,SAAAtG,GAAK,OAAIA,EAAM0F,OAAOa,IAAIC,UAC3CC,EAAa,SAAAzG,GAAK,OAAIA,EAAM0F,OAAOa,IAAIG,MACvCC,EAAiB,SAAA3G,GAAK,OAAIA,EAAME,QAAQ0G,GAAGC,QAI3CC,EAAiB,SAAA9G,GAAK,OAAIA,EAAM0F,OAAOqB,UAEvCC,EAAmB1G,YAC/B,CAAC4C,EANgC,SAAAlD,GAAK,OAAIA,EAAME,QAAQ0G,GAAGK,aAO3D,SAACC,EAAcC,GAAf,OAAgCA,EAAaD,IAAiB,KAGlDE,EAAoB9G,YAChC,CAAC0G,GACD,SAAAzG,GAAA,OAAAA,EAAG8G,aAAiC,KAGxBC,EAAoBhH,YAChC,CAACwG,EAAgB,SAACjB,EAAG0B,GAAJ,OAAWA,IAC5B,SAACR,EAAUQ,GAAX,OAAkBR,EAASQ,KAQfC,GAL8BlH,YAC1C,CAACwG,EAAgB,SAACjB,EAAG4B,GAAJ,OAAYA,IAC7B,SAACV,EAAUU,GAAX,OAAmBA,EAAIpG,IAAI,SAAAkG,GAAE,OAAIR,EAASQ,OAGFjH,YACxCqG,EACA,SAAA1F,KAAGyG,kBAAH,OAhCyBC,KAmCbC,EAA0BtH,YACtCqG,EACA,SAAAvF,GAAA,OAAAA,EAAGyG,kBAGSC,EAAkCxH,YAC9C0G,EACA,SAAAxF,GAAA,QAAAA,EAAGuG,4BAGSC,GAA2B1H,YACvC0G,EACA,SAAArF,GAAA,OAAAA,EAAGsG,qBAGSC,GAA0B5H,YA5CJ,SAAAN,GAAK,OAAIA,EAAM0F,OAAOyC,eA8CxD,SAAArG,GAAA,OAAAA,EAAGsG,WAA6B,KAGpBC,GAAwB/H,YACpCqG,EACA,SAAA1D,GAAA,OAAAA,EAAGqF,UAA2B,cCxDlBC,GAAa,SAAAvI,GAAK,OAAIA,EAAME,QAAQsI,UAEpCC,GAAqBnI,YACjC,CACCiI,GACA,SAAC1C,EAAG6C,GACH,MAAO,CAAEA,MAAKC,KADQhJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,MAIjB,SAACiJ,EAADrI,GAAyB,IAAhBmI,EAAgBnI,EAAhBmI,IAAKC,EAAWpI,EAAXoI,KAAWE,EACiCF,EAAjDG,cADgB,IAAAD,KAAAE,EACiCJ,EAAjCK,YADA,IAAAD,EACO,CAAC,IADRA,EAAAE,EACiCN,EAApBO,kBADb,IAAAD,EAC0B,GAD1BA,EAExB,OAAOE,aAAUT,EAAK,CAAEI,SAAQE,OAAME,cAAcN,KAOzCjI,GAAI,SAAC+H,EAAKC,GACtB,OAAOF,GAAmBxI,cAAYyI,EAAKC,+BCnB/BS,GAAkB,SAAApJ,GAAK,OAAIA,EAAME,QAAQmJ,WASzCC,IAPsBhJ,YAClC,CAAC8I,GAAiB,SAACvD,EAAGa,GAAJ,OAAaA,IAC/B,SAAC2C,EAAW3C,GACX,OAAO2C,EAAU3C,IAAS,KAIWpG,YACtC,CAAC8I,IACD,SAAAC,GAAS,OAAIA,EAAUE,UAAY,MAGvBC,GAA2BlJ,YACvC8I,GACA,SAAA7I,GACC,OADkBA,EAAhBkJ,YAUSC,IAL0BpJ,YACtC,CAAC8I,IACD,SAAAnI,GAAA,OAAAA,EAAGmH,WAA6B,KAGI9H,YACpC,CAAC8I,IACD,SAAAhI,GAAA,OAAAA,EAAGuI,QAAuB,MAGdC,GAAgCtJ,YAC5C,CAACgJ,GAAyB,SAACzD,EAAGgE,GAAJ,OAAaA,IACvC,SAACC,EAAmBD,GAApB,OAA6BC,EAAkBD,IAAS,KAG5CE,GAA6BzJ,YACzC,SAACN,EAAO6J,GAAR,OAAiBD,GAA8B5J,EAAO6J,IACtD,SAAAG,GAAc,OAAIA,EAAeC,gBAAkB,KAEvCC,GAAkC5J,YAC9C,SAAAN,GAAK,OAAI+J,GAA2B/J,EAAO,eAC3C,SAAAwB,GAAiC,IAA9B2I,EAA8B3I,EAA9B2I,wBAQF,OAPyBA,EACtBtJ,OAAOuJ,OAAOD,GAAyB1J,OACvC,SAACf,EAAG2K,GAAJ,OAAc3K,EAAI4K,OAAOD,IAAU,GACnC,GAEA,IAMQE,GAAwCjK,YACpD,SAACN,GAAD,IAAA2B,EAAAhC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArBkK,EAAVlI,EAAUkI,KAAMW,EAAhB7I,EAAgB6I,WAAhB,MAAsC,CACrCZ,GAA8B5J,EAAO6J,GACrCW,IAED,SAAA1I,GAAA,IAAAmB,EAAApC,OAAA4J,GAAA,EAAA5J,CAAAiB,EAAA,GAAE4I,EAAFzH,EAAA,GAAmBuH,EAAnBvH,EAAA,UACEyH,EAAgBC,gBAAkB,IAAIH,IAAe,KAG3CI,GAA2CtK,YACvD,SAACN,GAAD,IAAAmD,EAAAxD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArBkK,EAAV1G,EAAU0G,KAAMW,EAAhBrH,EAAgBqH,WAAhB,MAAsC,CACrCD,GAAsCvK,EAAO,CAAE6J,OAAMW,iBAEtD,SAAAnH,GACC,OADgCxC,OAAA4J,GAAA,EAAA5J,CAAAwC,EAAA,MAA7BwH,uBAC6B,KAIrBC,GAA0BxK,YACtC,CAAC8I,GAAiB,SAACvD,GAAD,OAAAlG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAW,KAC7B,WAA4D,IAA3D0J,EAA2D1J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/C,GAA+C+D,EAAA/D,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAzC6G,EAAyChD,EAAzCgD,KAAMqE,EAAmCrH,EAAnCqH,UAAWC,EAAwBtH,EAAxBsH,OAAQvB,EAAgB/F,EAAhB+F,UAAgBwB,EAUvD5B,EAHF3C,GAPyDwE,GAAAD,OAAA,IAAAA,EAStD,GATsDA,GAQxDF,GARwDI,GAAAD,OAAA,IAAAA,EAQQ,GARRA,GAQzCF,GARyCI,GAAAD,OAAA,IAAAA,EAQC,GARDA,GAQ7B1B,GAI9B,OAZ2D2B,OAAA,IAAAA,EAQN,GARMA,GAQfC,OAQvC,SAASC,GAA0BzB,EAAMW,GAC/C,OAAO3J,OAAOuJ,OAEbQ,GAAyC3K,cAAY,CACpD4J,OACAW,gBAEA/J,OAAO,SAACf,EAAGI,GAAJ,OAAUJ,EAAII,GAAG,GAGpB,IAAMyL,GAAyBjL,YACrC,SAACN,GAAD,IAAA6D,EAAAlE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAV7C,EAAU6C,KAAM+C,EAAhB5F,EAAgB4F,UAAhB,OACCqB,GAAwB9K,EAAO,CAC9B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,iBAEV,SAAAQ,GAAW,OACVA,EACGA,EAAY/K,OAAO,SAACf,EAADsE,GAAA,IAAMqG,EAANrG,EAAMqG,MAAN,OAAkB3K,EAAI4K,OAAOD,IAAU,GAAG,GAC7D,OAGQoB,GAAoBnL,YAChC,SAACN,GAAD,IAAAmE,EAAAxE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAVvC,EAAUuC,KAAM+C,EAAhBtF,EAAgBsF,UAAhB,OACCqB,GAAwB9K,EAAO,CAC9B0G,OACA+C,YACAsB,UAAW,QACXC,OAAQ,iBAEV,SAAAQ,GAAW,OACVA,EACGA,EAAY/K,OAAO,SAACf,EAAD4E,GAAA,IAAM+F,EAAN/F,EAAM+F,MAAN,OAAkB3K,EAAI4K,OAAOD,IAAU,GAAG,GAC7D,OAGQqB,GAAmBpL,YAC/B,SAACN,GAAD,IAAA0E,EAAA/E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAVhC,EAAUgC,KAAM+C,EAAhB/E,EAAgB+E,UAAhB,OACCqB,GAAwB9K,EAAO,CAC9B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,kBAEV,SAAAW,GAAY,OACXA,EACGA,EAAalL,OACb,SAACf,EAADmF,GAAA,IAAMwF,EAANxF,EAAMwF,MAAN,OAAkB3K,EAAI4K,OAAOsB,aAAkBvB,GAAS,EAAG,MAAQ,GACnE,GAEA,OAGQwB,GAAoCvL,YAChD,SAACN,GAAD,IAAAkF,EAAAvF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAVxB,EAAUwB,KAAM+C,EAAhBvE,EAAgBuE,UAAhB,MAAqC,CACpCqB,GAAwB9K,EAAO,CAC9B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,gBAETF,GAAwB9K,EAAO,CAC9B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,mBAGV,SAAA7F,GAAA,IAAA2G,EAAAjL,OAAA4J,GAAA,EAAA5J,CAAAsE,EAAA,GAAEqG,EAAFM,EAAA,GAAeH,EAAfG,EAAA,UACCN,GAAeG,EACZH,EACCO,OACA,SAAAC,GAAC,OAEY,QADXL,EAAaM,KAAK,SAAAC,GAAC,OAAIA,EAAEC,OAASH,EAAEG,QAAS,CAAE9B,MAAO,OACrDA,QAEH5J,OAAO,SAACf,EAAD0M,KAAMD,KAAN,IAAY9B,EAAZ+B,EAAY/B,MAAZ,OAAwB3K,EAAI4K,OAAOD,IAAU,GAAG,GACxD,OAGQgC,GAAmB/L,YAC/B,CACC,SAACN,GAAD,IAAAsM,EAAA3M,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAV4F,EAAU5F,KAAM+C,EAAhB6C,EAAgB7C,UAAhB,OACCiC,GAAiB1L,EAAO,CAAE0G,OAAM+C,eACjC,SAACzJ,GAAD,IAAAuM,EAAA5M,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAV6F,EAAU7F,KAAM+C,EAAhB8C,EAAgB9C,UAAhB,OACCoC,GAAkC7L,EAAO,CAAE0G,OAAM+C,gBAEnD,SAAC+C,EAAYC,GAAb,OACgB,OAAfD,GAA4C,OAArBC,EACnB,IAAOnC,OAAOkC,GAAelC,OAAOmC,GACrC,OAcQC,GAAuBpM,YACnC,CACC,SAACN,GAAuC,IAAA2M,EAAAhN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAvBiN,EAA8BD,EAA9BC,UAAcC,EAAgBhM,OAAAiM,GAAA,EAAAjM,CAAA8L,EAAA,eACvC,OAAO9L,OAAAC,EAAA,EAAAD,CAAA,CAAEkM,KAAMjC,GAAwB9K,EAAO6M,GAAOD,aAAcC,KAGrE,SAAAG,GAA+C,IAAAC,EAAAD,EAA5CD,YAA4C,IAAAE,EAArC,GAAqCA,EAAjCL,EAAiCI,EAAjCJ,UAAW5B,EAAsBgC,EAAtBhC,OAAsBnK,OAAAiM,GAAA,EAAAjM,CAAAmM,EAAA,+BAE9C,OADaJ,EAAYG,EAAKG,MAAM,GAAI,GAAKH,GACjCtM,OACX,SAAC0M,EAAMC,GAAS,IACPjB,EAAgBiB,EAAhBjB,KAAM9B,EAAU+C,EAAV/C,MAKd,OAJA8C,EAAKE,OAAOC,KAAKC,aAAepB,IAChCgB,EAAKK,SAASF,KACH,OAAVjD,EAxBsB,SAAAoD,GAAuB,IAApBpD,EAAoBoD,EAApBpD,MAC7B,OADiDoD,EAAbzC,QAEnC,IAAK,eACJ,OAAO0C,WAAW9B,aAAkBvB,EAAO,KAC5C,IAAK,cACJ,OAAOsD,SAAStD,EAAO,IACxB,QACC,OAAOA,GAiBYuD,CAAmB,CAAEvD,QAAOW,WAAYX,GAEnD8C,GAER,CACCE,OAAQ,GACRG,SAAU,OAMDK,GAAmCvN,YAC/C,SAACN,GAAD,IAAA8N,EAAAnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAVoH,EAAUpH,KAAM+C,EAAhBqE,EAAgBrE,UAAhB,MAAqC,CACpCiD,GAAqB1M,EAAO,CAC3B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,cACR4B,WAAW,MAGb,SAAAmB,GAAA,OAAAlN,OAAA4J,GAAA,EAAA5J,CAAAkN,EAAA,QAGYC,GAA8B1N,YAC1C,SAACN,GAAD,IAAAiO,EAAAtO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAVuH,EAAUvH,KAAM+C,EAAhBwE,EAAgBxE,UAAhB,MAAqC,CACpCiD,GAAqB1M,EAAO,CAC3B0G,OACA+C,YACAsB,UAAW,QACXC,OAAQ,cACR4B,WAAW,MAGb,SAAAsB,GAAA,OAAArN,OAAA4J,GAAA,EAAA5J,CAAAqN,EAAA,QAGYC,GAA+B7N,YAC3C,SAACN,GAAD,IAAAoO,EAAAzO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAV0H,EAAU1H,KAAM+C,EAAhB2E,EAAgB3E,UAAhB,MAAqC,CACpCiD,GAAqB1M,EAAO,CAC3B0G,OACA+C,YACAsB,UAAW,aACXC,OAAQ,eACR4B,WAAW,MAGb,SAAAyB,GAAA,OAAAxN,OAAA4J,GAAA,EAAA5J,CAAAwN,EAAA,QAGYC,GAA2BhO,YACvC,SAACN,GAAD,IAAAuO,EAAA5O,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApB+G,EAAV6H,EAAU7H,KAAM+C,EAAhB8E,EAAgB9E,UAAhB,MAAqC,CACpC0E,GAA6BnO,EAAO,CAAE0G,OAAM+C,cAC5CoE,GAAiC7N,EAAO,CAAE0G,OAAM+C,gBAEjD,SAAA+E,GAA4B,IAAAC,EAAA5N,OAAA4J,GAAA,EAAA5J,CAAA2N,EAAA,GAA1BE,EAA0BD,EAAA,GAAjBE,EAAiBF,EAAA,GACrBG,EAAS,CACdvB,OAAQ,GACRG,SAAU,IAQX,OANAoB,EAAOvB,OAASqB,EAAQrB,OACxBuB,EAAOpB,SAAWkB,EAAQlB,SAASnM,IAAI,SAACwN,EAAGC,GAC1C,OAAmC,IAA5BH,EAAYnB,SAASsB,IACvBD,EAAIF,EAAYnB,SAASsB,GAAM,KAAMC,QAAQ,GAC/CF,IAEGD,ICtRII,GAAoB,SAAAhP,GAAK,OAAIA,EAAM0F,OAAOuJ,aAE1CC,GAAwB5O,YACpC,CAAC0O,GAAmB,SAACnJ,EAAG0B,GAAJ,OAAWA,IAC/B,SAAC0H,EAAa1H,GAAd,OAAqB0H,EAAY1H,KCFrB4H,IDKiC7O,YAC7C,CAAC0O,GAAmB,SAACnJ,EAAG4B,GAAJ,OAAYA,IAChC,SAACwH,EAAaxH,GAAd,OAAsBA,EAAIpG,IAAI,SAAAkG,GAAE,OAAI0H,EAAY1H,OCPTjH,YACvC,CAHoC,SAAAN,GAAK,OAAIA,EAAM0F,OAAO0J,iBAGlC,SAACvJ,EAAG0B,GAAJ,OAAWA,IACnC,SAAC8H,EAAM9H,GAAP,OAAc8H,EAAK9H,IAAO,eCEd+H,GAAiB,SAAAtP,GAAK,OAAIA,EAAM0F,OAAO6J,SAEvCC,GAAoBlP,YAChCgP,GACA,SAAA/O,GAAA,IAAGkP,EAAHlP,EAAGkP,SAAH,OAAkB,IAAIC,YAAcD,KAQxBE,IALkBrP,YAC9BgP,GACA,SAAArO,GAAA,IAAG2O,EAAH3O,EAAG2O,OAAH,OAAgB,IAAIC,UAAYD,KAGFtP,YAC9BgP,GACA,SAAAlO,GAAA,IAAG0O,EAAH1O,EAAG0O,OAAH,OAAgB,IAAIC,UAAYD,MClBpBE,GAAoB1P,YAChC,CAH0B,SAAAN,GAAK,OAAIA,EAAME,QAAQ+P,OAGnC,SAACpK,EAAGqK,GAAJ,OAAiBA,IAC/B,SAACD,EAAOC,GAAR,OAAqBD,EAAMC,IAAa,KAG5BC,GAAyB7P,YACrC,CAAC0P,GAAmB,SAACnK,EAAGqK,GAAJ,OAAiBA,IACrC,eAACD,EAADtQ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgBkB,OAAOuJ,OAAO6F,KAGlBG,GAAkB9P,YAC9B,SAAAN,GAAK,OAAIgQ,GAAkBhQ,EAAO,aAClC,SAAAoI,GAAS,OAAIA,IAQDiI,IALqB/P,YACjC,CAAC8P,GAAiB,SAACvK,EAAG0B,GAAJ,OAAWA,IAC7B,SAACa,EAAWb,GAAZ,OAAmBa,EAAUb,KAGiBjH,YAC9C,CAAC8P,GAAiB,SAACvK,EAAG0B,GAAJ,OAAWA,IAC7B,SAACa,EAAWb,GACX,IAAM+I,EAAQzP,OAAAC,EAAA,EAAAD,CAAA,GAASuH,EAAUb,IAAO,IAGxC,OAFA+I,EAASC,OAASjF,GAA0B,QAAS/D,GACrD+I,EAAS3B,YAAcrD,GAA0B,aAAc/D,GACxD+I,KAIIE,GAAuBlQ,YACnC,SAAAN,GAAK,OAAImQ,GAAuBnQ,EAAO,aACvC,SAAAoI,GAAS,OAAIA,IAGDqI,GAAgBnQ,YAC5B,SAAAN,GAAK,OAAIgQ,GAAkBhQ,EAAO,WAClC,SAAA0Q,GAAO,OAAIA,IAQCC,IALmBrQ,YAC/B,CAACmQ,GAAe,SAAC5K,EAAG0B,GAAJ,OAAWA,IAC3B,SAAC0I,EAAO1I,GAAR,OAAe0I,EAAM1I,KAGYjH,YACjC,SAAAN,GAAK,OAAImQ,GAAuBnQ,EAAO,WACvC,SAAA0Q,GAAO,OAAIA,KAQCE,IALgBtQ,YAC5B,SAAAN,GAAK,OAAIgQ,GAAkBhQ,EAAO,WAClC,SAAA6Q,GAAO,OAAIA,IAGsBvQ,YACjC,SAAAN,GAAK,OAAImQ,GAAuBnQ,EAAO,WACvC,SAAA6Q,GAAO,OAAIA,KCjDCC,GAA2BxQ,YACvC,CAACkQ,GAAsBxP,EAA6B,SAAC6E,EAAGa,GAAJ,OAAaA,IACjE,SAAC0B,EAAWxH,EAAQ8F,GAApB,OACC0B,EAAU/G,IAAI,SAAA+L,GAAQ,IAAA2D,GACKnQ,EAAOwM,EAAK4D,eAAiB,IAA/C3L,gBADa,IAAA0L,EACF,GADEA,EAEbxJ,EAAgC6F,EAAhC7F,GAFa0J,EAEmB7D,EAA5B8D,YAFS,IAAAD,EAEF,GAFEA,EAAAE,EAEmB/D,EAAjBsD,QAEjBU,QAJe,IAAAD,EAEY,GAFZA,GAIK,IAAM,GAEhC,MAAO,CACNE,MAAO,CACN9J,KACA+J,SAAUF,EAAUE,UAAY,GAChCC,UAAWH,EAAUG,WAAa,IAEnCC,OAAQ,CACPC,kBAAmBrE,EAAKoE,OAAOC,kBAC/BC,aAActE,EAAKoE,OAAOG,MAE3BC,cAAetH,OAAOuH,sBAAYzE,EAAKwE,eAAiB,IAAKvM,IAC7DyM,sBAAuB1E,EAAKoE,OAAOM,uBAAyB,EAC5DnD,YAAarD,GAA0B,aAAc8B,EAAK7F,IAC1DgJ,OAAQjF,GAA0B,QAAS8B,EAAK7F,IAChDwK,iBAAkB,CACjBxK,KACAwK,iBAMK,IALJzH,OACCuH,sBACCX,EAAKa,kBAAoB3E,EAAK2E,kBAAoB,IAClD1M,KAIJ2M,QAAS5E,EAAK4E,QACdC,WAAYf,EAAKe,YAAc7E,EAAK6E,WACpCC,oBACChB,EAAKgB,qBAAuB9E,EAAK8E,oBAClCC,QAAS,CACRzL,KAAMA,EACNa,KACAkK,kBAAmBrE,EAAKoE,OAAOC,mBAEhClK,KACA6K,iBACmC,WAAlChF,EAAKoE,OAAOC,mBACsB,cAAlCrE,EAAKoE,OAAOC,uBAUJY,IALyC5S,EACrDqR,GACA,SAAA/D,GAAI,OAAIA,IAGoCzM,YAC5CkQ,GACA,SAAApI,GAAS,OACRkK,KAAKC,IAAIC,MAAM,KAAMpK,EAAU/G,IAAI,SAAAyN,GAAC,OAAIxE,OAAOwE,EAAEH,aAAe,OAAQ,KAG7D8D,GAA2BnS,YACvCkQ,GACA,SAAApI,GAAS,OACRkK,KAAKC,IAAIC,MAAM,KAAMpK,EAAU/G,IAAI,SAAAyN,GAAC,OAAIxE,OAAOwE,EAAEyB,QAAU,OAAQ,IAGxDmC,GAA4BpS,YACxC,CAACkQ,GAAsBxP,GACvB,SAACoH,EAAWxH,GAAZ,OACC0R,KAAKC,IAAIC,MACR,KACApK,EAAU/G,IAAI,SAAAyN,GAAK,IAAA6D,GACQ/R,EAAOkO,EAAEkC,eAAiB,IAA5C3L,gBADU,IAAAsN,EACC,GADDA,EAElB,OAAOrI,OAAOuH,sBAAY/C,EAAE8C,cAAevM,IAAa,QAK/CuN,GAAyBtS,YACrC,CAACsQ,GAAoB,SAAC/K,EAAGa,GAAJ,OAAaA,IAClC,SAACmM,EAAOnM,GAAR,OACCmM,EAAMxR,IAAI,SAAA+L,GACT,MAAO,CACNiE,MAAO,CACN9J,GAAI6F,EAAK7F,GACT+J,SAAUlE,EAAK0F,aAAL,UAAAC,OAA8B3F,EAAK0F,cAAiB,GAC9DvB,UAAW,cAEZyB,MAAO5F,EAAK4F,MACZnJ,KAAMuD,EAAKvD,KAAKoJ,QAAQ,UAAW,IACnCjB,QAAS5E,EAAK4E,QACdG,QAAS,CACRe,GAAE,cAAAH,OAAgBrM,EAAhB,YAAAqM,OAA+B3F,EAAK7F,IAAM6F,EAAK+F,MACjD/F,aAMQgG,GAAyB9S,YACrC,CAACmQ,GAAe,SAAC5K,EAADzE,GAAA,MAAyB,CAAEsF,KAA3BtF,EAAMsF,KAA2BuJ,MAAjC7O,EAAY6O,SAC5B,SAACoD,EAAD7R,GAAA,IAAUkF,EAAVlF,EAAUkF,KAAMuJ,EAAhBzO,EAAgByO,MAAhB,OACCpP,OAAOuJ,OAAO6F,GAASoD,GAAOhS,IAAI,SAAA+L,GAAI,MAAK,CAC1C7F,GAAI6F,EAAK7F,GACT8J,MAAO,CACN9J,GAAI6F,EAAK7F,GACT+J,SAAUlE,EAAKkE,SACfC,UAAWnE,EAAKmE,WAEjByB,MAAO5F,EAAK4F,OAASK,EAAMjG,EAAK+F,MAAMH,MACtCnJ,KAAMuD,EAAKvD,KACXmI,QAAS5E,EAAK4E,QACdG,QAAS,CACRe,GAAE,cAAAH,OAAgBrM,EAAhB,YAAAqM,OAA+B3F,EAAK7F,IAAM6F,EAAK+F,MACjD/F,aAKSkG,GAA+BhT,YAC3C,SAACN,EAAOwK,GACP,MAAO,CACNmE,YAAapE,GAAsCvK,EAAO,CACzD6J,KAAM,aACNW,eAED+F,OAAQhG,GAAsCvK,EAAO,CACpD6J,KAAM,QACNW,iBAIH,SAAA7I,GAA6B,IAA1BgN,EAA0BhN,EAA1BgN,YAAa4B,EAAa5O,EAAb4O,OACTgD,EAAY5E,EAAY6E,yBAA2B,GACnDC,EAAalD,EAAOiD,yBAA2B,GAC/CE,EAAY/E,EAAYgF,4BAA8B,GAC5D,OAAO9S,OAAO+S,KAAKL,GAAWlS,IAAI,SAAAwS,GAAG,MAAK,CACzCC,QAASD,EACTlF,YAAa4E,EAAUM,IAAQ,EAC/BE,MACIN,EAAWI,IAAQ,IAAMN,EAAUM,IAAQ,GAAM,KAAK9E,QAAQ,IACjE,EACDiF,SAAU1J,QAAQoJ,EAAUG,IAAQ,GAAG9E,QAAQ,IAC/CwB,OAAQkD,EAAWI,IAAQ,OAoBjBI,IAf4B3T,YACxC,SAACN,EAAOkU,GAAR,OAAsBZ,GAA6BtT,EAAOkU,IAC1D,SAAAnH,GAAI,OACHA,EAAKtM,OACJ,SAACmO,EAAQuF,GACR,IAAMC,EAASvT,OAAAC,EAAA,EAAAD,CAAA,GAAQ+N,GAIvB,OAHAwF,EAAUC,aAAeF,EAAQ5D,OACjC6D,EAAU3H,kBAAoB0H,EAAQxF,YACtCyF,EAAUE,eAAiBH,EAAQH,SAC5BI,GAER,CAAEC,YAAa,EAAG5H,iBAAkB,EAAG6H,cAAe,MAIbhU,YAC3C,SAACN,EAAOkU,GAAR,OAAsBZ,GAA6BtT,EAAOkU,IAC1D,SAAAnH,GAAI,OACHA,EAAKtM,OACJ,SAACmO,EAAQuF,GACR,IAAMC,EAASvT,OAAAC,EAAA,EAAAD,CAAA,GAAQ+N,GAYvB,OAVAwF,EAAUG,UAAYjC,KAAKC,IAAI4B,EAAQ5D,OAAQ6D,EAAUG,WACzDH,EAAUI,OAASlC,KAAKC,IAAI4B,EAAQJ,IAAKK,EAAUI,QACnDJ,EAAUK,eAAiBnC,KAAKC,IAC/B4B,EAAQxF,YACRyF,EAAUK,gBAEXL,EAAUM,YAAcpC,KAAKC,IAC5B4B,EAAQH,SACRI,EAAUM,aAEJN,GAER,CAAEG,UAAW,EAAGE,eAAgB,EAAGC,YAAa,EAAGF,OAAQ,OChMjDG,GAA8BrU,YAC1C,SAACN,EAADO,GAAqD,IAA3CiK,EAA2CjK,EAA3CiK,WAAYoK,EAA+BrU,EAA/BqU,YAAaC,EAAkBtU,EAAlBsU,YAC5BxL,EAAY,CACjBsF,YAAapE,GAAsCvK,EAAO,CACzD6J,KAAM,aACNW,eAED+F,OAAQhG,GAAsCvK,EAAO,CACpD6J,KAAM,QACNW,gBAIF,OAAO3J,OAAAC,EAAA,EAAAD,CAAA,GAAKwI,EAAZ,CAAuBuL,cAAaC,iBAErC,SAAA5T,GAAuD,IAApD0N,EAAoD1N,EAApD0N,YAAa4B,EAAuCtP,EAAvCsP,OAAQqE,EAA+B3T,EAA/B2T,YAAaC,EAAkB5T,EAAlB4T,YAC9BtB,EAAY5E,EAAY6E,yBAA2B,GACnDC,EAAalD,EAAOiD,yBAA2B,GAFCsB,EAINjU,OAAO+S,KAAKL,GAC1DwB,KAAK,SAACrV,EAAGI,GAAJ,OAAUyT,EAAUzT,GAAKyT,EAAU7T,KACxCe,OACA,SAACsM,EAAM8G,EAAK/E,GACX,IAAMkG,EAAOnU,OAAAC,EAAA,EAAAD,CAAA,GAAQkM,GAerB,OAdI+B,EAAI+F,GACPG,EAAQ3H,OAAOC,KAAKuG,GACpBmB,EAAQC,gBAAgB3H,KAAKiG,EAAUM,IAAQ,GAC/C9G,EAAKmI,WAAW5H,KAAKmG,EAAWI,IAAQ,KAExC9G,EAAKM,OAAOwH,GAAelU,GAAE,mBAE7BoM,EAAKkI,gBAAgBJ,IACnB9H,EAAKkI,gBAAgBJ,IAAgB,IAAMtB,EAAUM,IAAQ,GAE/D9G,EAAKmI,WAAWL,IACd9H,EAAKmI,WAAWL,IAAgB,IAAMpB,EAAWI,IAAQ,IAGrDmB,GAER,CAAE3H,OAAQ,GAAI4H,gBAAiB,GAAIC,WAAY,KArBzC7H,EAJ8CyH,EAI9CzH,OAAQ4H,EAJsCH,EAItCG,gBAAiBC,EAJqBJ,EAIrBI,WA4CjC,MApBa,CACZ7H,SACAG,SAAU,CACT,CACC2H,gBAAiBP,EACjBQ,qBAAsBR,EACtBS,YAAa,EACbtI,KAAMkI,EACNK,MAAO3U,GAAE,4BAEV,CACCwU,gBAAiBP,EACjBQ,qBAAsBR,EACtBS,YAAa,EACbtI,KAAMmI,EACNI,MAAO3U,GAAE,2BCxDD4U,GAAmCjV,YAC/C,CAACoJ,GAAuBpI,GACxB,SAACqI,EAADpJ,GAAwB,IAAbiV,EAAajV,EAAbiV,OAoDV,OAnDmBC,aAAUC,aAAarU,IAAI,SAAAwI,GAC7C,MAAO,CACNQ,MAAOR,EACPyL,MAAOzL,EAAKjH,MAAM,KAAK,GACvB+G,OAAQA,EAAOE,MAGfkL,KAAK,SAACrV,EAAGI,GACT,IAAM6V,EAAKrQ,uBAAa5F,EAAEiK,OAASjK,EAAEiK,OAAOhG,IAAIiS,OAAS,GACnDC,EAAKvQ,uBAAaxF,EAAE6J,OAAS7J,EAAE6J,OAAOhG,IAAIiS,OAAS,GAEzD,OAAOD,EAAGpQ,GAAGsQ,IAAO,EAAIA,EAAGtQ,GAAGoQ,GAAM,EAAI,IAExClV,OACA,SAACsM,EAAMlD,EAAMiM,GACZ,IAAMd,EAAOnU,OAAAC,EAAA,EAAAD,CAAA,GAAQkM,GACfgJ,EAASf,EAAQe,OACjB5B,EAAUtK,EAehB,GAdc,IAAViM,GAAejM,EAAKF,SACvBqL,EAAQgB,iBAAkB,EAC1BD,EAAOzI,KAAK,CAAE2I,MAAOtV,GAAE,0BAGtBqU,EAAQkB,mBACTlB,EAAQgB,iBACE,IAAVF,GACCjM,EAAKF,SAENqL,EAAQkB,kBAAmB,EAC3BH,EAAOzI,KAAK,CAAE2I,MAAOtV,GAAE,4BAGpBwT,EAAQxK,OAAQ,CACnB,IAAMwM,EAAYxV,GAAE,wBAAyB,CAC5CqI,KAAM,CACLmL,EAAQxK,OAAO7F,UAAU8R,OACzBJ,EACArB,EAAQxK,OAAO7F,UAAUsS,YACzBZ,KAGFrB,EAAQmB,MAAR,GAAAvC,OAAmBoB,EAAQmB,MAA3B,MAAAvC,OAAqCoD,EAArC,KAMD,OAJAJ,EAAOzI,KAAK6G,GAEZa,EAAQe,OAASA,EAEVf,GAER,CAAEe,OAAQ,GAAIC,iBAAiB,EAAOE,kBAAkB,IAjDlDH,SCEGM,GAAyB/V,YACrC,CAACqQ,IACD,SAAA2F,GAAY,OAAIA,EAAa1W,OAAS,IAG1B2W,GAA2BjW,YACvC,CAACkQ,IACD,SAAAgG,GAAc,OAAIA,EAAe5W,OAAS,IAG9B6W,GAA0BnW,YACtC,CAACyD,GACD,SAAAxD,GAAA,QAAAA,EAAGmW,KAAkBC,iBAGTC,GAAyBtW,YACrC,CAACsD,EAA6B2S,IAC9B,SAAAtV,EAA+B4V,GAA/B,IAAGC,EAAH7V,EAAG6V,yBAAH,OACCD,GAAevM,OAAOwM,GAA4B,IAGvCC,GAAyBzW,YACrCsQ,GACA,SAAAoG,GAAY,OAAIA,EAAapX,OAAS,IAG1BqX,GAA6B3W,YACzC4J,GACA,SAAAuC,GAAgB,OAAIA,EAAmB,IAE3ByK,GAA2B5W,YACvC4J,GACA,SAAAuC,GAAgB,OAAIA,EAAmB,MC1CxC0K,EAAAC,EAAAC,EAAA,sBAAAhY,IAAA8X,EAAAC,EAAAC,EAAA,sBAAA5X,IAAA0X,EAAAC,EAAAC,EAAA,uBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAhX,IAAA8W,EAAAC,EAAAC,EAAA,uBAAArW,IAAAmW,EAAAC,EAAAC,EAAA,uBAAAlW,IAAAgW,EAAAC,EAAAC,EAAA,uBAAA/V,IAAA6V,EAAAC,EAAAC,EAAA,uBAAA3V,IAAAyV,EAAAC,EAAAC,EAAA,uBAAAxV,IAAAsV,EAAAC,EAAAC,EAAA,sBAAAtV,IAAAoV,EAAAC,EAAAC,EAAA,sBAAAlV,IAAAgV,EAAAC,EAAAC,EAAA,uBAAA7U,IAAA2U,EAAAC,EAAAC,EAAA,sBAAA1U,IAAAwU,EAAAC,EAAAC,EAAA,sBAAAxU,IAAAsU,EAAAC,EAAAC,EAAA,uBAAAvU,IAAAqU,EAAAC,EAAAC,EAAA,sBAAAtU,IAAAoU,EAAAC,EAAAC,EAAA,sBAAArU,IAAAmU,EAAAC,EAAAC,EAAA,sBAAAnU,IAAAiU,EAAAC,EAAAC,EAAA,sBAAA9T,IAAA4T,EAAAC,EAAAC,EAAA,sBAAAzT,IAAAuT,EAAAC,EAAAC,EAAA,sBAAAtT,IAAAoT,EAAAC,EAAAC,EAAA,sBAAAhT,IAAA8S,EAAAC,EAAAC,EAAA,sBAAA5S,IAAA0S,EAAAC,EAAAC,EAAA,uBAAArS,IAAAmS,EAAAC,EAAAC,EAAA,uBAAApS,IAAAkS,EAAAC,EAAAC,EAAA,sBAAA5R,IAAA0R,EAAAC,EAAAC,EAAA,sBAAA1R,IAAAwR,EAAAC,EAAAC,EAAA,uBAAAvR,IAAAqR,EAAAC,EAAAC,EAAA,uBAAApR,IAAAkR,EAAAC,EAAAC,EAAA,uBAAAjR,IAAA+Q,EAAAC,EAAAC,EAAA,uBAAA/Q,IAAA6Q,EAAAC,EAAAC,EAAA,uBAAA5Q,IAAA0Q,EAAAC,EAAAC,EAAA,sBAAAjQ,IAAA+P,EAAAC,EAAAC,EAAA,uBAAA/P,IAAA6P,EAAAC,EAAAC,EAAA,uBAAA7P,IAAA2P,EAAAC,EAAAC,EAAA,sBAAAzP,IAAAuP,EAAAC,EAAAC,EAAA,uBAAAvP,IAAAqP,EAAAC,EAAAC,EAAA,sBAAArP,KAAAmP,EAAAC,EAAAC,EAAA,uBAAAnP,KAAAiP,EAAAC,EAAAC,EAAA,uBAAAhP,KAAA8O,EAAAC,EAAAC,EAAA,sBAAA9O,KAAA4O,EAAAC,EAAAC,EAAA,uBAAAE,KAAAJ,EAAAC,EAAAC,EAAA,sBAAAjO,KAAA+N,EAAAC,EAAAC,EAAA,sBAAA7N,KAAA2N,EAAAC,EAAAC,EAAA,sBAAA3N,KAAAyN,EAAAC,EAAAC,EAAA,uBAAAnN,KAAAiN,EAAAC,EAAAC,EAAA,sBAAA9M,KAAA4M,EAAAC,EAAAC,EAAA,sBAAA/L,KAAA6L,EAAAC,EAAAC,EAAA,uBAAA9L,KAAA4L,EAAAC,EAAAC,EAAA,uBAAA5L,KAAA0L,EAAAC,EAAAC,EAAA,uBAAA3L,KAAAyL,EAAAC,EAAAC,EAAA,sBAAAhL,KAAA8K,EAAAC,EAAAC,EAAA,sBAAAxJ,KAAAsJ,EAAAC,EAAAC,EAAA,sBAAArJ,KAAAmJ,EAAAC,EAAAC,EAAA,sBAAAlJ,KAAAgJ,EAAAC,EAAAC,EAAA,sBAAA/I,KAAA6I,EAAAC,EAAAC,EAAA,uBAAAnI,KAAAiI,EAAAC,EAAAC,EAAA,uBAAAlI,KAAAgI,EAAAC,EAAAC,EAAA,uBAAA7H,KAAA2H,EAAAC,EAAAC,EAAA,uBAAA1H,KAAAwH,EAAAC,EAAAC,EAAA,sBAAAhH,KAAA8G,EAAAC,EAAAC,EAAA,sBAAA7G,KAAA2G,EAAAC,EAAAC,EAAA,sBAAA5G,KAAA0G,EAAAC,EAAAC,EAAA,sBAAA1G,KAAAwG,EAAAC,EAAAC,EAAA,sBAAAzG,KAAAuG,EAAAC,EAAAC,EAAA,sBAAAvG,KAAAqG,EAAAC,EAAAC,EAAA,sBAAAhF,KAAA8E,EAAAC,EAAAC,EAAA,sBAAA5E,KAAA0E,EAAAC,EAAAC,EAAA,sBAAA3E,KAAAyE,EAAAC,EAAAC,EAAA,sBAAAzE,KAAAuE,EAAAC,EAAAC,EAAA,sBAAAjE,KAAA+D,EAAAC,EAAAC,EAAA,sBAAA/D,KAAA6D,EAAAC,EAAAC,EAAA,sBAAApD,KAAAkD,EAAAC,EAAAC,EAAA,sBAAA1C,KAAAwC,EAAAC,EAAAC,EAAA,uBAAA9B,KAAA4B,EAAAC,EAAAC,EAAA,sBAAAhB,KAAAc,EAAAC,EAAAC,EAAA,sBAAAd,KAAAY,EAAAC,EAAAC,EAAA,sBAAAZ,KAAAU,EAAAC,EAAAC,EAAA,sBAAAT,KAAAO,EAAAC,EAAAC,EAAA,sBAAAN,KAAAI,EAAAC,EAAAC,EAAA,sBAAAJ,KAAAE,EAAAC,EAAAC,EAAA,sBAAAH,ySCYMM,EAAkB/B,YAAUgC,WAAWhC,YAAUiC,wBAEjDC,EAAwB,SAAApX,GAAmC,IAAhCqX,EAAgCrX,EAAhCqX,MAAOC,EAAyBtX,EAAzBsX,QAASpW,EAAgBlB,EAAhBkB,UAChD,GAAImW,EAAM7W,UAAYU,EAAUV,QAC/B,OAAO8W,EAGR,IAAMC,EAAWzX,cAA0BuX,EAAM7W,SAMjD,OAHiBuE,uBAAawS,EAASC,KAAKC,IAAI1S,uBAAa,IAEhC0S,IAAI1S,uBAAa,IAAI2S,IAAIJ,GACjCA,EAAUvS,uBAAa,IAGhC4S,EAAsB,eAAA9W,EAAAP,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAAG,SAAAC,EAAArX,GAAA,IAAAP,EAAA6X,EAAAnT,EAAA,OAAAgT,EAAA1Y,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAASjY,EAATO,EAASP,IACxC6X,EAAiBvX,eADcyX,EAAAE,KAAA,EAEV9X,OAAOuJ,OAAO1J,GAAKD,OAAnB,eAAAe,EAAAX,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAC1B,SAAAO,EAAOC,GAAP,IAAAlX,EAAAkW,EAAA7G,EAAA8H,EAAAlB,EAAAmB,EAAAC,EAAArZ,UAAA,OAAAyY,EAAA1Y,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAhX,EAAAqX,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GAA8C,GAA1BnB,EAApBlW,EAAoBkW,QAAS7G,EAA7BrP,EAA6BqP,aAA7BiI,EAAAN,KAAA,EACuBE,EADvB,UACOC,EADPG,EAAAC,KAGOtB,EAAQW,EAAevH,IAEP1L,uBAAauS,GAAStS,GAC3CD,uBAAasS,EAAMuB,WANrB,CAAAF,EAAAN,KAAA,gBAAAM,EAAAN,KAAA,EAUUS,EAAsB,CAC5BxB,QACAC,YAZJ,OAAAoB,EAAAI,GAAAJ,EAAAC,KAAAD,EAAAN,KAAA,iBAAAM,EAAAI,GAcI/T,uBAAa,GAdjB,eASOyT,EATPE,EAAAI,GAAAJ,EAAAK,OAAA,SAgBQR,EAAQS,IAAIR,IAhBpB,yBAAAE,EAAAO,SAAAZ,MAD0B,gBAAAa,GAAA,OAAAjY,EAAAgR,MAAAkH,KAAA/Z,YAAA,GAmB1Bga,QAAQC,QAAQtU,uBAAa,KArBO,cAE/BF,EAF+BqT,EAAAS,KAAAT,EAAAa,OAAA,SAwB9BlU,GAxB8B,wBAAAqT,EAAAe,SAAAlB,MAAH,gBAAAuB,GAAA,OAAAzY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GA2BtBma,EAAyB,eAAA7W,EAAApC,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAAG,SAAA0B,EAAAjY,GAAA,IAAAS,EAAAxB,EAAAiZ,EAAA7W,EAAA8W,EAAAC,EAAAhZ,EAAAO,EAAA0Y,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAnC,EAAA1Y,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cACxCpW,EADwCT,EACxCS,SACAxB,EAFwCe,EAExCf,QACAiZ,EAHwClY,EAGxCkY,gBAHwCQ,EAAA7B,KAAA,EAKb8B,YAAUlY,GALG,cAAAY,EAAAqX,EAAAtB,KAKhCe,EALgC9W,EAKhC8W,SALgCC,EAMKna,eAArCmB,EANgCgZ,EAMhChZ,sBAAuBO,EANSyY,EAMTzY,UACzB0Y,EAAgBjZ,EAAsBG,IAAtB,eAAAgC,EAAAxC,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAA0B,SAAAqC,EAAM9C,GAAN,IAAA+C,EAAA9C,EAAA+C,EAAA7B,EAAA,OAAAX,EAAA1Y,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cACzCgC,EAAgBV,EAASrC,GADgBiD,EAAAlC,KAAA,EAGzBgC,EAAcG,UAAU/Z,GAHC,cAGzC8W,EAHyCgD,EAAA3B,KAKzC0B,EAAYZ,EACfnC,EACAF,EAAsB,CACtBC,QACAnW,YACAoW,YAV4CgD,EAAAlC,KAAA,EAahBS,EAAsB,CACpDxB,QACAC,QAAS+C,IAfqC,cAazC7B,EAbyC8B,EAAA3B,KAAA2B,EAAAvB,OAAA,SAkBxC,CAAE1B,QAAOC,QAAS+C,EAAW7B,qBAlBW,wBAAA8B,EAAArB,SAAAkB,MAA1B,gBAAAK,GAAA,OAAA1X,EAAAmP,MAAAkH,KAAA/Z,YAAA,IAPkB6a,EAAA7B,KAAA,EA4BjBgB,QAAQjZ,IAAIyZ,GA5BK,cA4BlCC,EA5BkCI,EAAAtB,KAAAmB,EA6BcD,EAAS3Z,OAC9D,SAACsM,EAAMiO,GASN,OARAjO,EAAKuN,wBAA0BvN,EAAKuN,wBAAwBf,IAC3DyB,EAAYjC,kBAGTiC,EAAYpD,MAAM7W,UAAYU,EAAUV,UAC3CgM,EAAKwN,iBAAmBS,EAAYnD,SAG9B9K,GAER,CACCuN,wBAAyBhV,uBAAa,GACtCiV,iBAAkBjV,uBAAa,KAdzBgV,EA7BgCD,EA6BhCC,wBAAyBC,EA7BOF,EA6BPE,iBA7BOC,EAAAlB,OAAA,SA+CjC,CACNc,WACAG,mBACAD,4BAlDuC,yBAAAE,EAAAhB,SAAAO,MAAH,gBAAAkB,GAAA,OAAAhY,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAsD/B,SAAeub,EAAtBC,GAAA,OAAAC,EAAA5I,MAAAkH,KAAA/Z,sDAAO,SAAA0b,EAAA7X,GAAA,IAAAzC,EAAAwB,EAAAyX,EAAA9U,EAAAoW,EAAAC,EAAAnB,EAAAtW,EAAA,OAAAsU,EAAA1Y,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cACN5X,EADMyC,EACNzC,QACAwB,EAFMiB,EAENjB,SACAyX,EAHMxW,EAGNwW,gBAHMwB,EAAA7C,KAAA,EAKqB8B,YAAUlY,GAL/B,cAAA2C,EAAAsW,EAAAtC,KAKEoC,EALFpW,EAKEoW,SAEFC,EAAQ,CACbD,EAASG,WAAW1a,EAAQA,SAC5B+Y,EAA0B,CACzBvX,WACAxB,QAASA,EAAQA,QACjBiZ,qBAZIwB,EAAA7C,KAAA,EAgBiBgB,QAAQjZ,IAAI6a,GAhB7B,cAgBAnB,EAhBAoB,EAAAtC,KAiBApV,EAAY,CACjB/C,QAASA,EAAQA,QACjB2a,KAAM3a,EAAQ4a,gBAAkB5a,EAAQ2a,KACxCE,WAAYC,sBAAYzB,EAAS,GAAG0B,YACpCC,eAAgB3B,EAAS,GAAGA,SAAS/Y,IAAI,SAAA8D,GAAwB,IAArByS,EAAqBzS,EAArByS,MAAOC,EAAc1S,EAAd0S,QAClD,MAAO,CACNA,QAASjM,YAAkBiM,EAASD,EAAMvS,UAAU,EAAO,GAC3DmQ,OAAQoC,EAAMpC,WAxBXgG,EAAAlC,OAAA,SA6BCxV,GA7BD,yBAAA0X,EAAAhC,SAAA6B,6BAgCA,SAAeW,EAAtBC,GAAA,OAAAC,EAAA1J,MAAAkH,KAAA/Z,sDAAO,SAAAwc,EAAAzY,GAAA,IAAA1B,EAAAoa,EAAAC,EAAA3b,EAAA0B,EAAAC,EAAAE,EAAAxB,EAAA+K,EAAAwQ,EAAAC,EAAAlX,EAAAmX,EAAAhL,EAAAiL,EAAAC,EAAAnB,EAAAnP,EAAAE,EAAAqQ,EAAAC,EAAAC,EAAAzX,EAAA0R,EAAAnT,EAAAG,EAAA,OAAAsU,EAAA1Y,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cACN3W,EADM0B,EACN1B,QADMoa,EAAA1Y,EAEN2Y,mCAFM,IAAAD,EAEwB,CAC7BW,MAAOzX,uBAAa,KACpBsV,UAAWtV,uBAAa,MAJnB8W,EAMN1b,EANMgD,EAMNhD,IAEQ0B,EAAqBJ,EAArBI,OAAQC,EAAaL,EAAbK,SACRE,EAAaH,EAAbG,SACAxB,EAAYsB,EAAZtB,QAVF+b,EAAAnE,KAAA,EAWwB8B,YAAUlY,GAXlC,cAAAuJ,EAAAgR,EAAA5D,KAWEoD,EAXFxQ,EAWEwQ,YAXFC,EAYejb,eAAb+D,EAZFkX,EAYElX,SAZFmX,EAckBna,EAAhBmP,cAdF,IAAAgL,EAcW,GAdXA,EAeAC,EAAmBH,EAAY,CAAEvb,YAfjC+b,EAAApE,KAAA,GAAAoE,EAAAnE,KAAA,GAkBC8D,EAAiBO,WAlBlB,QAmBLN,EAAmBD,EAAiBQ,WAAW7a,EAAOrB,SAnBjD+b,EAAAnE,KAAA,iBAAAmE,EAAApE,KAAA,GAAAoE,EAAAzD,GAAAyD,EAAA,UAqBLJ,EAAmB/C,QAAQC,QAAQpI,EAAO3H,MAAQ,gBArB7C,eAwBA0R,EAAQ,CACbzB,EAA0B,CAAEvX,WAAUxB,YACtC2b,EACAxE,EAAuB,CAAExX,SA3BpBoc,EAAAnE,KAAA,GAkCIgB,QAAQjZ,IACjB6a,EAAMla,IAAI,SAAA2K,GAAC,OACVA,EACEkR,KAAK,SAAAC,GAAG,OAAIA,IACZC,MAAM,SAAAlR,SAtCJ,eAAAE,EAAA0Q,EAAA5D,KAAA5M,EAAAzL,OAAAwc,EAAA,EAAAxc,CAAAuL,EAAA,GAAAuQ,EAAArQ,EAAA,GA+BLsQ,OA/BK,IAAAD,EA+BoC,GA/BpCA,EAgCLE,EAhCKvQ,EAAA,GAiCLlH,EAjCKkH,EAAA,GA4CAwK,EACL8F,EAAuCtC,wBAGlC3W,EAAM,CACXiZ,yCACAC,mBACA/F,2BACAuF,4BAA6BA,EAA4BzB,UACzD0C,iCAAkCjB,EAA4BU,MAC9DQ,kCAAmCzG,EAAyByC,IAC3D8C,EAA4BzB,WAE7B4C,8BAA+B1G,EAAyByC,IACvD8C,EAA4BU,OAE7B3X,gBAGKtB,EAAY,CACjB2Z,cAAerb,EAAOrB,QACtB2c,eAAgBtb,EAAOG,SACvBsa,iBAAkBrF,EAAgBqF,GAClCc,gBAAiBtb,EAAStB,QAC1B+V,yBAA0BlL,YACzBkL,EACAzR,GACA,EACA,GAEDgX,4BAA6BzQ,YAC5BjI,EAAI0Y,4BACJhX,GACA,EACA,GAEDiY,iCAAkC1R,YACjCjI,EAAI2Z,iCACJjY,GACA,EACA,GAEDkY,kCAAmC3R,YAClCjI,EAAI4Z,kCACJlY,GACA,EACA,GAEDmY,8BAA+B5R,YAC9BjI,EAAI6Z,8BACJnY,GACA,EACA,GAEDD,aAAcwG,YACbjI,EAAIyB,cAAgB,IACpBC,GACA,EACA,IAtGIyX,EAAAxD,OAAA,SA0GC,CACN3V,MACAG,cA5GK,yBAAAgZ,EAAAtD,SAAA2C,EAAA,0CAkHA,SAAeyB,EAAtBC,GAAA,OAAAC,EAAAtL,MAAAkH,KAAA/Z,sDAAO,SAAAoe,EAAAla,GAAA,IAAAma,EAAAC,EAAAC,EAAAC,EAAA,OAAA/F,EAAA1Y,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAAuCqF,EAAvCna,EAAuCma,YACvCC,EAAU3Y,uBAAa,GAEvB4Y,EAAU,CAAEnB,MAAOkB,EAASrD,UAAWqD,GAEvCE,EAAiBH,EAAYvd,OAAO,SAAC4d,EAASC,GAAO,IAClDC,EAAsCD,EAAtCC,YAAaC,EAAyBF,EAAzBE,qBACfrK,EAAOtT,OAAA4d,EAAA,EAAA5d,CAAA,GAAQwd,GAMrB,OALAlK,EAAQ4I,MAAQ5I,EAAQ4I,MAAMxD,IAAIgF,GAClCpK,EAAQyG,UAAYzG,EAAQyG,UAAUrB,IACrCjU,uBAAakZ,IAGPrK,GACL+J,GAdGE,EAAA9E,OAAA,SAgBC6E,GAhBD,wBAAAC,EAAA5E,SAAAuE,6BA8CA,SAAeW,EAAtBC,GAAA,OAAAC,EAAApM,MAAAkH,KAAA/Z,sDAAO,SAAAkf,EAAA1a,GAAA,IAAA6Z,EAAAhc,EAAA8c,EAAAC,EAAAnL,EAAAoL,EAAAC,EAAAC,EAAA,OAAA9G,EAAA1Y,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,cACNqF,EADM7Z,EACN6Z,YACAhc,EAFMmC,EAENnC,QAEM8c,EAAsB9c,EAAQK,SAASyc,qBAAuB,GAE9DC,EAAgBf,EAAYvd,OAAO,SAACC,EAAD6L,GAAsB,IAAA6S,EAAdC,EAAc9S,EAAd8S,QAC1CC,GAAUD,EAAQE,YAAcF,EAAQnO,KAAKqO,YAAY,GAAGhY,GAC5DiY,GAAYH,EAAQE,YAAcF,EAAQnO,KAAKqO,YAAY,GAAGhY,GAQpE,OANgB1G,OAAA4d,EAAA,EAAA5d,CAAA,GACZH,GADY0e,EAAA,GAAAve,OAAA4e,EAAA,EAAA5e,CAAAue,EAEdE,EAAS5e,EAAI4e,IAAWR,EAAoBQ,IAAW,MAFzCze,OAAA4e,EAAA,EAAA5e,CAAAue,EAGdI,EAAW9e,EAAI8e,IAAaV,EAAoBU,IAAa,MAH/CJ,KAOd,IAEGxL,EAAO/S,OAAO+S,KAAKmL,GAEnBC,EAAapL,EAAKvS,IAAL,eAAAoM,EAAA5M,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAAS,SAAAqH,EAAM7L,GAAN,IAAA+D,EAAA,OAAAQ,EAAA1Y,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,WACvBoG,EAAclL,GADS,CAAA8L,EAAAhH,KAAA,eAAAgH,EAAArG,OAAA,SAEnByF,EAAclL,IAFK,cAAA8L,EAAAhH,KAAA,EAINiH,YAAsB,CACzCC,YAAahM,EACb7R,YANyB,cAIpB4V,EAJoB+H,EAAAzG,KAAAyG,EAAArG,OAAA,SASnB1B,GATmB,wBAAA+H,EAAAnG,SAAAkG,MAAT,gBAAAI,GAAA,OAAArS,EAAA+E,MAAAkH,KAAA/Z,YAAA,IArBbwf,EAAAxG,KAAA,EAkCkBgB,QAAQjZ,IAAIse,GAlC9B,cAkCAC,EAlCAE,EAAAjG,KAoCAgG,EAAiBtL,EAAKnT,OAAO,SAACC,EAAKmT,EAAKiC,GAM7C,OALgBjV,OAAA4d,EAAA,EAAA5d,CAAA,GACZH,EADYG,OAAA4e,EAAA,EAAA5e,CAAA,GAEdgT,EAAMoL,EAAUnJ,MAIhB,IA3CGqJ,EAAA7F,OAAA,SA6CC4F,GA7CD,yBAAAC,EAAA3F,SAAAqF,6BAgDP,IAAMkB,EAAgB,eAAArb,EAAA7D,OAAAsX,EAAA,EAAAtX,CAAAuX,EAAA1Y,EAAA2Y,KAAG,SAAA2H,EAAA1b,GAAA,IAAAuT,EAAA,OAAAO,EAAA1Y,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAArU,EAASsT,MAAOC,EAAhBvT,EAAgBuT,QAAhBoI,EAAA3G,OAAA,SAA8BzB,GAA9B,wBAAAoI,EAAAzG,SAAAwG,MAAH,gBAAAE,GAAA,OAAAxb,EAAA8N,MAAAkH,KAAA/Z,YAAA,GAEhBwgB,EAA8B,CAEnCC,6CAA8C,CAE7CC,6CAA8CN,GAG/CM,6CAA8C,CAE7CD,6CAA8CL,IAIzC,SAAe3G,EAAtBkH,GAAA,OAAAC,EAAA/N,MAAAkH,KAAA/Z,sDAAO,SAAA6gB,EAAA3b,GAAA,IAAA+S,EAAAC,EAAA4I,EAAA1f,EAAA2f,EAAA,OAAAtI,EAAA1Y,EAAA8Y,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,UAAuCf,EAAvC/S,EAAuC+S,MAAOC,EAA9ChT,EAA8CgT,QAA9C4I,EACcnf,gBAAZP,EADF0f,EACE1f,WAEQ6W,EAAM7W,QAHhB,CAAA4f,EAAAhI,KAAA,eAAAgI,EAAArH,OAAA,SAIEzB,GAJF,cAAA8I,EAAAhI,KAAA,EAOyBwH,EAC9Bpf,EAAQ6f,eACPhJ,EAAM7W,QAAQ6f,eAAe,CAC9BhJ,QACAC,YAXK,cAOA6I,EAPAC,EAAAzH,KAAAyH,EAAArH,OAAA,SAcCoH,GAdD,wBAAAC,EAAAnH,SAAAgH,4LCxWDK,EAAkB,iBAExBC,IAAcC,SAAS,CACtBre,MAAO,yBACPse,OAAQ,4BAGYC,cACpB,SAAAA,EAAY3F,GAAqB,IAAA4F,EAAXvY,EAAWhJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAkB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAuH,IAChCC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAogB,GAAAK,KAAA5H,QAYD6H,cAAgB,WAEf,IAF+C,IAAAhhB,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAO6hB,EAAAjhB,EAA7BkhB,YAA6B,IAAAD,EAAtB,EAAsBA,EAAAE,EAAAnhB,EAAnB2S,UAAmB,IAAAwO,EAAd,GAAcA,EACzCC,EAAS,GACN7L,EAAQ2L,EAAM3L,EAAQ5C,EAAI4C,IAClC6L,EAAOrU,KAAK,CACXoO,KAAMwF,EAAKxF,KAAL,IAAA3I,OAAgB+C,GACtB8L,cAAc,IAIhB,MAAO,CAAED,WAtBuBT,EAyBjCW,aAzBiChhB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAyBlB,SAAAO,IAAA,IAAAxX,EAAA4gB,EAAAP,EAAAQ,EAAA/O,EAAA1R,EAAA0gB,EAAAC,EAAAnJ,EAAArZ,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAvX,EAAA4X,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GAA8B,GAA9BgJ,EAAA5gB,EAASqgB,YAAT,IAAAO,EAAgB,EAAhBA,EAAAC,EAAA7gB,EAAmB8R,UAAnB,IAAA+O,EAAwB,EAAxBA,EAAAhJ,EAAAN,KAAA,EACqBmI,IAAcsB,mBAChDlB,EAAKK,cAAc,CAAEE,OAAMvO,QAFd,cAAA1R,EAAAyX,EAAAC,KACNgJ,EADM1gB,EACN0gB,QAASC,EADH3gB,EACG2gB,QADHlJ,EAAAK,OAAA,SAKP,CAAE4I,UAASC,YALJ,wBAAAlJ,EAAAO,SAAAZ,MAzBkBsI,EAiCjCmB,OAjCiC,eAAA1gB,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAiCxB,SAAAC,EAAMgK,GAAN,IAAAC,EAAAzgB,EAAAogB,EAAAC,EAAAK,EAAAC,EAAA,OAAAV,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACc+J,QAAMC,kBAAkBL,GADtC,cACFC,EADE9J,EAAAS,MAGA7O,MAAQkY,EAAQlY,OAASqY,QAAME,QAAQ,GAHvCnK,EAAAE,KAAA,EAK2BmI,IAAc+B,wBAAwB,CACxEnH,KAAMwF,EAAKxF,KACXoH,YAAaP,IAPN,UAAAzgB,EAAA2W,EAAAS,KAKAgJ,EALApgB,EAKAogB,QAASC,EALTrgB,EAKSqgB,SAKbD,EAVI,CAAAzJ,EAAAE,KAAA,gBAWD6J,EAAY,CACjBO,EAAGZ,EAAQY,EACXC,EAAGb,EAAQa,EACXC,EAAGtV,SAASwU,EAAQc,IAGfR,EAAWC,QAAMQ,qBAAqBX,EAASC,GAjB9C/J,EAAAa,OAAA,SAmBAmJ,GAnBA,cAqBD,IAAIU,MAAMhB,EAAQiB,OArBjB,yBAAA3K,EAAAe,SAAAlB,MAjCwB,gBAAAuB,GAAA,OAAAlY,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EA0DjCmC,gBA1DiC,eAAApgB,EAAApC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KA0Df,SAAAqC,EAAM4H,GAAN,IAAAG,EAAAa,EAAA,OAAAvB,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EACMuI,EAAKmB,OAAOC,GADlB,cACXG,EADW5H,EAAA3B,KAEXoK,EAASpC,EAAK5F,SAAS+H,gBAAgBZ,GAF5B5H,EAAAvB,OAAA,SAGVgK,GAHU,wBAAAzI,EAAArB,SAAAkB,MA1De,gBAAAjB,GAAA,OAAAxW,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAgEjCqC,YAhEiC,eAAApgB,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAgEnB,SAAA0B,EAAOyJ,GAAP,IAAA7a,EAAAtF,EAAA6e,EAAAC,EAAAhF,EAAAsG,EAAA9jB,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAgBhQ,EAAhB8a,EAAA7jB,OAAA,QAAAC,IAAA4jB,EAAA,GAAAA,EAAA,GAAuB,GAAvBjJ,EAAA7B,KAAA,EACsBmI,IAAc4C,oBAAoB,CACpEhI,KAAMwF,EAAKxF,KACX8H,QAASA,EACTG,MAAOhb,EAAKgb,MAJA,UAAAtgB,EAAAmX,EAAAtB,KACLgJ,EADK7e,EACL6e,QAASC,EADJ9e,EACI8e,SAMbD,EAPS,CAAA1H,EAAA7B,KAAA,gBAQNwE,EAAM,CAMXqF,UAAW,KAAOL,EAAQK,UAC1BoB,KAAMJ,EACNK,KAAMpO,YAAUqO,eAAeC,KAC/BhjB,QAASohB,EAAQphB,SAjBNyZ,EAAAlB,OAAA,SAoBL6D,GApBK,cAsBN,IAAIgG,MAAMhB,EAAQiB,OAtBZ,yBAAA5I,EAAAhB,SAAAO,MAhEmB,gBAAAkB,GAAA,OAAA9X,EAAAqP,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EA0FjC8C,QAAU,SAAA1I,GACT,OAAO,IAAI2F,EAAa3F,EAAU,CAAEI,KAAMwF,EAAKxF,QAzF/CwF,EAAK+C,UAAY3I,EACjB4F,EAAKgD,MAAQvb,EAAK+S,MAAQmF,EAHMK,oEAOhC,OAAOxH,KAAKwK,uCAGZ,OAAOxK,KAAKuK,iBAX4BE,2BCPrBC,cACpB,SAAAA,EAAY9I,GAAqB,IAAA4F,EAAXvY,EAAWhJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAkB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA0K,IAChClD,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAujB,GAAA9C,KAAA5H,QAMD2K,UAPiCxjB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAOrB,SAAAO,IAAA,IAAA0L,EAAA5hB,EAAA6hB,EAAAhiB,EAAAiiB,EAAA,OAAAzC,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,WACPuI,EAAKuD,QADE,CAAAxL,EAAAN,KAAA,eAAAM,EAAAK,OAAA,SAEH4H,EAAKuD,SAFF,cAAAH,EAI4BpD,EAAKwD,MAAnChiB,EAJE4hB,EAIF5hB,MAAO6hB,EAJLD,EAIKC,SAAUhiB,EAJf+hB,EAIe/hB,SAJf0W,EAAAN,KAAA,EAKegM,YAAe,CACvCjiB,QACA6hB,WACAhiB,aARS,cAKJiiB,EALIvL,EAAAC,KAWVgI,EAAKuD,QAAU,IAAIG,SAAOJ,EAAWzX,KAAK8X,WAAY3D,EAAK+C,WAXjDhL,EAAAK,OAAA,SAYH4H,EAAKuD,SAZF,yBAAAxL,EAAAO,SAAAZ,MAPqBsI,EA2BjC4D,WA3BiCjkB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KA2BpB,SAAAC,IAAA,OAAAyJ,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACCuI,EAAKmD,YAAYtjB,QADlB,cAAA0X,EAAAa,OAAA,SAAAb,EAAAS,MAAA,wBAAAT,EAAAe,SAAAlB,MA3BoB4I,EA+BjCmB,OA/BiC,eAAAjhB,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KA+BxB,SAAAqC,EAAM4H,GAAN,IAAAyC,EAAA,OAAAhD,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EACeuI,EAAKmD,YAAYW,KAAK1C,GADrC,cACFyC,EADElK,EAAA3B,KAAA2B,EAAAvB,OAAA,SAEDyL,GAFC,wBAAAlK,EAAArB,SAAAkB,MA/BwB,gBAAAb,GAAA,OAAAzY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAoCjCmC,gBApCiC,eAAA7hB,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAoCf,SAAA0B,EAAMuI,GAAN,IAAAG,EAAAa,EAAA,OAAAvB,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACMuI,EAAKmB,OAAOC,GADlB,cACXG,EADWjI,EAAAtB,KAEXoK,EAASpC,EAAK5F,SAAS+H,gBAAgBZ,GAF5BjI,EAAAlB,OAAA,SAGVgK,GAHU,wBAAA9I,EAAAhB,SAAAO,MApCe,gBAAAN,GAAA,OAAAjY,EAAAgR,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EA0CjCqC,YA1CiC,eAAA5hB,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KA0CnB,SAAA2H,EAAOwD,GAAP,IAAAphB,EAAAogB,EAAArF,EAAA8H,EAAAtlB,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAsM,EAAArlB,OAAA,QAAAC,IAAAolB,EAAA,GAAAA,EAAA,GAAuB,IAC3BtB,MACRH,EAAUd,QAAMwC,SAAS1B,IAFbvD,EAAAtH,KAAA,EAKQuI,EAAKmD,YALb,cAKPjiB,EALO6d,EAAA/G,KAAA+G,EAAAtH,KAAA,EAOWvW,EAAOmhB,YAAYC,GAP9B,cAOPhB,EAPOvC,EAAA/G,KAQPiE,EAAM,CACXqF,YACAoB,KAAMJ,EACNK,KAAMpO,YAAUqO,eAAeC,KAC/BhjB,QAASqB,EAAOrB,SAZJkf,EAAA3G,OAAA,SAeN6D,GAfM,yBAAA8C,EAAAzG,SAAAwG,MA1CmB,gBAAA/E,GAAA,OAAAtZ,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EA4DjC8C,QAAU,SAAA1I,GACT,OAAO,IAAI8I,EAAY9I,EAAU,CAChC5Y,MAAOwe,EAAKxe,MACZ6hB,SAAUrD,EAAKqD,YA5DhBrD,EAAK+C,UAAY3I,EACjB4F,EAAKwD,MAAQ/b,EAJmBuY,wEAwBhC,OAAOxH,KAAKuK,iBAzB2BE,UCDpBgB,cACpB,SAAAA,EAAY7J,GAAqB,IAAA4F,EAAAvhB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,UAAAkB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAyL,IAChCjE,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAskB,GAAA7D,KAAA5H,QASDoL,WAViCjkB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAUpB,SAAAO,IAAA,OAAAmJ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAK,OAAA,SACL4H,EAAKkE,QAAQN,cADR,wBAAA7L,EAAAO,SAAAZ,MAVoBsI,EAcjCmC,gBAdiC,eAAApiB,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAcf,SAAAC,EAAMgK,GAAN,OAAAP,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAa,OAAA,SACV4H,EAAKkE,QAAQ/B,gBAAgBf,IADnB,wBAAA7J,EAAAe,SAAAlB,MAde,gBAAAuB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAkBjCqC,YAlBiC,eAAAniB,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAkBnB,SAAAqC,EAAO8I,GAAP,IAAAhB,EAAArF,EAAAkI,EAAA1lB,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAA0M,EAAAzlB,OAAA,QAAAC,IAAAwlB,EAAA,GAAAA,EAAA,GAAuB,IAC3B1B,MACRH,EAAUd,QAAMwC,SAAS1B,IAFb3I,EAAAlC,KAAA,EAKWuI,EAAKkE,QAAQ7B,YAAYC,GALpC,cAKPhB,EALO3H,EAAA3B,KAAA2B,EAAAxB,GAQZmJ,EARY3H,EAAAyK,GASN9B,EATM3I,EAAA0K,GAUN9P,YAAUqO,eAAeC,KAVnBlJ,EAAAlC,KAAA,GAWGuI,EAAKkE,QAAQN,aAXhB,eAAAjK,EAAA2K,GAAA3K,EAAA3B,KAOPiE,EAPO,CAQZqF,UARY3H,EAAAxB,GASZuK,KATY/I,EAAAyK,GAUZzB,KAVYhJ,EAAA0K,GAWZxkB,QAXY8Z,EAAA2K,IAAA3K,EAAAvB,OAAA,SAcN6D,GAdM,yBAAAtC,EAAArB,SAAAkB,MAlBmB,gBAAAjB,GAAA,OAAArY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAmCjC8C,QAAU,SAAA1I,GACT,OAAO,IAAI6J,EAAe7J,IAlC1B4F,EAAK+C,UAAY3I,EACjB4F,EAAKkE,QAAU9J,EAASmK,YAHQvE,wEAOhC,OAAOxH,KAAKuK,iBAR8BE,mBCMrC,SAAesB,EAAtB5L,GAAA,OAAA6L,EAAAlT,MAAAkH,KAAA/Z,sDAAO,SAAAiZ,EAAArY,GAAA,IAAA6B,EAAAkZ,EAAA/Y,EAAAmZ,EAAAhZ,EAAA6hB,EAAAoB,EAAAP,EAAAQ,EAAAC,EAAA,OAAA9D,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAA2BvW,EAA3B7B,EAA2B6B,OAAQkZ,EAAnC/a,EAAmC+a,SAEjC/Y,EAAoCH,EAApCG,SAAUmZ,EAA0BtZ,EAA1BsZ,KAAMhZ,EAAoBN,EAApBM,MAAO6hB,EAAaniB,EAAbmiB,SAE3BhiB,IAAaujB,IAAWC,SAASpU,KAJ/B,CAAAsH,EAAAN,KAAA,eAKCgN,EAAS,IAAIR,EAAe7J,GAL7BrC,EAAAK,OAAA,SAMEqM,GANF,UAQFpjB,IAAaujB,IAAWE,OAAOrU,KAR7B,CAAAsH,EAAAN,KAAA,eASCgN,EAAS,IAAIM,IAAa3K,EAAU,CAAEI,SATvCzC,EAAAK,OAAA,SAWEqM,GAXF,UAaFpjB,IAAaujB,IAAWI,OAAOvU,KAb7B,CAAAsH,EAAAN,KAAA,gBAcCgN,EAAS,IAAI1E,EAAa3F,EAAU,CAAEI,SAdvCzC,EAAAK,OAAA,SAeEqM,GAfF,WAkBLpjB,IAAaujB,IAAWK,MAAMxU,MAC9BpP,IAAaujB,IAAWM,MAAMzU,KAnBzB,CAAAsH,EAAAN,KAAA,gBAqBCgN,EAAS,IAAIvB,EAAY9I,EAAU,CAAE5Y,QAAO6hB,WAAUhiB,aArBvD0W,EAAAK,OAAA,SAuBEqM,GAvBF,cA0BA,IAAIxC,MAAJ,2BAAApQ,OAAqC3Q,EAAOG,WA1B5C,yBAAA0W,EAAAO,SAAAZ,6HA8BA,IAAMyN,EAAmB,SAAAplB,GAAmB,IAAhBqlB,EAAgBrlB,EAAhBqlB,UAC5Blc,EAASkc,EAAUjlB,IAAI,SAAAklB,GAC5B,MAA8B,kBAAhBA,EAAMlc,MACjBqY,QAAM8D,YAAYD,EAAMlc,OACxBqY,QAAME,QAAQ2D,EAAMlc,SAElBoc,EAAa/D,QAAMgE,UAAUlU,MAAM,KAAMpI,GACzCuc,EAASL,EAAUjlB,IAAI,SAAAklB,GAC5B,OAAO7D,QAAM8D,YAAYD,EAAM1c,KAAO,IAAM0c,EAAM5U,QAG7CiV,EAAalE,QAAMgE,UAAUlU,MAAM,KAAMmU,GAM/C,OALajE,QAAMmE,kBAClB,CAAC,UAAW,WACZ,CAACD,EAAYH,KAMR,SAAeK,EAAtBrN,GAAA,OAAAsN,EAAAvU,MAAAkH,KAAA/Z,sDAAO,SAAA2Y,EAAAlX,GAAA,IAAAgB,EAAAa,EAAAqY,EAAAqK,EAAAqB,EAAApD,EAAApB,EAAA,OAAAT,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAA4BvW,EAA5BhB,EAA4BgB,OAA5BqW,EAAAE,KAAA,EACqB8B,YAAUrY,EAAOG,UADtC,cAAAU,EAAAwV,EAAAS,KACEoC,EADFrY,EACEqY,SADF7C,EAAAE,KAAA,EAEe8M,EAAU,CAAErjB,SAAQkZ,aAFnC,cAEAqK,EAFAlN,EAAAS,KAIA8N,EAAY1U,KAAK2U,MACtB3U,KAAK4U,SAAW5c,OAAO6c,kBACtBrL,WAGI8H,EAAOyC,EAAiB,CAAEC,UADd,CAAC,CAAEzc,KAAM,OAAQ8H,KAAM,aAActH,MAAO2c,MARxDvO,EAAAE,KAAA,GAUkBgN,EAAOpC,YAAYK,EAAM,CAAED,KAAK,IAVlD,eAUAnB,EAVA/J,EAAAS,KAAAT,EAAAa,OAAA,SAAAzY,OAAAC,EAAA,EAAAD,CAAA,GAaF2hB,EAbE,CAcLwE,YACApD,UAfK,yBAAAnL,EAAAe,SAAAlB,6BA0BA,SAAe+J,EAAtBtH,GAAA,OAAAqM,EAAA5U,MAAAkH,KAAA/Z,sDAAO,SAAAoa,EAAApY,GAAA,IAAA0lB,EAAA1B,EAAA2B,EAAA9E,EAAA,OAAAT,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAwB0O,EAAxB1lB,EAAwB0lB,GAAI1B,EAA5BhkB,EAA4BgkB,OAA5BnL,EAAA7B,KAAA,EACYgN,EAAOpC,YAAY,IAAIgE,cAAYF,GAAIG,UAAW,CACnE7D,KAAK,IAFA,cACA2D,EADA9M,EAAAtB,KAIAsJ,EAAYiF,mBAASH,EAAI9E,WAJzBhI,EAAAlB,OAAA,SAKCkJ,GALD,wBAAAhI,EAAAhB,SAAAO,6BAQA,SAAe2N,EAAtBvM,GAAA,OAAAwM,EAAAnV,MAAAkH,KAAA/Z,sDAAO,SAAAqgB,EAAAle,GAAA,IAAAuN,EAAAsW,EAAAiC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAZ,EAAA,OAAAtF,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,OAAyCtJ,EAAzCvN,EAAyCuN,KAAMsW,EAA/C7jB,EAA+C6jB,OAC/CiC,EAAa,GADbC,GAAA,EAAAC,GAAA,EAAAC,OAAAloB,EAAAogB,EAAAvH,KAAA,EAAAsP,EAEW3Y,EAFX6Y,OAAAC,YAAA,UAAAN,GAAAI,EAAAD,EAAArP,QAAAyP,KAAA,CAAAnI,EAAAtH,KAAA,gBAEK0O,EAFLY,EAAA5d,MAAA4V,EAAA5G,GAGLuO,EAHK3H,EAAAtH,KAAA,GAGiB0J,EAAO,CAAEgF,KAAI1B,WAH9B,QAAA1F,EAAAqF,GAAArF,EAAA/G,KAAA+G,EAAA5G,GAGM/L,KAHNgU,KAAArB,EAAA5G,GAAA4G,EAAAqF,IAAA,QAAAuC,GAAA,EAAA5H,EAAAtH,KAAA,gBAAAsH,EAAAtH,KAAA,iBAAAsH,EAAAvH,KAAA,GAAAuH,EAAAsF,GAAAtF,EAAA,SAAA6H,GAAA,EAAAC,EAAA9H,EAAAsF,GAAA,QAAAtF,EAAAvH,KAAA,GAAAuH,EAAAvH,KAAA,GAAAmP,GAAA,MAAAG,EAAAK,QAAAL,EAAAK,SAAA,WAAApI,EAAAvH,KAAA,IAAAoP,EAAA,CAAA7H,EAAAtH,KAAA,eAAAoP,EAAA,eAAA9H,EAAAqI,OAAA,mBAAArI,EAAAqI,OAAA,mBAAArI,EAAA3G,OAAA,SAMCsO,GAND,yBAAA3H,EAAAzG,SAAAwG,EAAA,2UCrFDuI,EAAwB,SAAAhoB,GAAiB,IAAdioB,EAAcjoB,EAAdioB,QAChC,OAAO,IAAIC,IAAU,CAAED,aAGlBE,EAAgB,SAAAznB,GAAkB,IAAfqP,EAAerP,EAAfqP,SAClBgP,GAAUhP,EAASiP,YAAcjP,EAASY,KAAKqO,YAAY,GAC3DC,GAAYlP,EAASiP,YAAcjP,EAASY,KAAKqO,YAAY,GAMnE,MAAO,CACND,OAAQ,CAAEqJ,UANaJ,EAAsB,CAAEC,QAASlJ,EAAOsJ,MAMzBC,UAAWvJ,GACjDE,SAAU,CAAEmJ,UANaJ,EAAsB,CAC/CC,QAAShJ,EAASoJ,MAKwBC,UAAWrJ,KAIjDsJ,EAAkB,SAAA3L,GACvB,OAAIA,EAAI3L,QAAU,KAAO2L,EAAI3L,OAAS,IAC9B2L,EAAI4L,OAGL5L,EAAI6L,OAAO9L,KAAK,SAAA8L,GACtBC,YAAwB,CAAE9L,MAAK6L,YAIpBpJ,EAAqB,eAAApe,EAAAX,OAAAqoB,EAAA,EAAAroB,CAAAsoB,EAAAzpB,EAAA2Y,KAAG,SAAAO,EAAAxX,GAAA,IAAAye,EAAA7d,EAAAK,EAAAD,EAAAgnB,EAAAznB,EAAA2Z,EAAAqK,EAAAxD,EAAAvK,EAAA,OAAAuR,EAAAzpB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAASkH,EAATze,EAASye,YAAa7d,EAAtBZ,EAAsBY,QAClDK,EAAqBL,EAArBK,SAAUD,EAAWJ,EAAXI,SACZgnB,GAAgB/mB,EAASyc,qBAAuB,IAAIe,IAFtB,CAAA5G,EAAAN,KAAA,eAAAM,EAAAK,OAAA,SAI5B8P,GAJ4B,cAAAnQ,EAAAN,KAAA,EAOT8B,YAAUrY,EAAOG,UAPR,cAAAZ,EAAAsX,EAAAC,KAO5BoC,EAP4B3Z,EAO5B2Z,SAP4BrC,EAAAN,KAAA,GAQf8M,YAAU,CAAErjB,SAAQkZ,aARL,eAQ9BqK,EAR8B1M,EAAAC,KAU9BiJ,EAAU,CACf5a,GAAIsY,EACJxd,SAAUA,EAAStB,QACnBsoB,IAAK/W,KAAK2U,MAAMqC,KAAKC,MAAQ,MAGxB3R,EAAQ4R,IAAIxE,KAAKW,EAAQxD,GAhBKlJ,EAAAK,OAAA,SAkB7B1B,GAlB6B,yBAAAqB,EAAAO,SAAAZ,MAAH,gBAAAiB,GAAA,OAAArY,EAAAgR,MAAAkH,KAAA/Z,YAAA,GAqB5B8pB,EAAW,eAAAxmB,EAAApC,OAAAqoB,EAAA,EAAAroB,CAAAsoB,EAAAzpB,EAAA2Y,KAAG,SAAAC,EAAAxW,GAAA,IAAA4nB,EAAApZ,EAAAqZ,EAAA3nB,EAAA4nB,EAAApK,EAAAF,EAAAuK,EAAAC,EAAAC,EAAAC,EAAA,OAAAb,EAAAzpB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAASrI,EAATxO,EAASwO,SAAUqZ,EAAnB7nB,EAAmB6nB,QAAS3nB,EAA5BF,EAA4BE,QAA5B4nB,EACUlB,EAAc,CAAEpY,aAArCkP,EADWoK,EACXpK,SAAUF,EADCsK,EACDtK,OADC7G,EAAAE,KAAA,EAGaiH,EAAsB,CACrDC,YAAaL,EAASqJ,UAAUthB,GAChCvF,YALkB,cAGb6nB,EAHapR,EAAAS,KAAAT,EAAAE,KAAA,EAOWiH,EAAsB,CACnDC,YAAaP,EAAOuJ,UAAUthB,GAC9BvF,YATkB,cAOb8nB,EAParR,EAAAS,KAAAT,EAAAE,KAAA,GAWU6G,EAASmJ,UACpCsB,MAD2BppB,OAAA4d,EAAA,EAAA5d,CAAA,GAExB8oB,EAFwB,CAG3BO,QAAQrpB,OAAA4d,EAAA,EAAA5d,CAAA,GACJ8oB,EAAQO,QADL,CAENC,cApEkB,UAoEaN,OAGhC3M,KAAK4L,GAnBY,eAWbiB,EAXatR,EAAAS,KAAAT,EAAAE,KAAA,GAqBQ2G,EAAOqJ,UAChCsB,MADyBppB,OAAA4d,EAAA,EAAA5d,CAAA,GAEtB8oB,EAFsB,CAGzBO,QAAQrpB,OAAA4d,EAAA,EAAA5d,CAAA,GACJ8oB,EAAQO,QADL,CAENC,cA9EkB,UA8EaL,OAGhC5M,KAAK4L,GA7BY,eAqBbkB,EArBavR,EAAAS,KAAAT,EAAAa,OAAA,SA+BZ,CACN8Q,QAAS,CACRL,iBACAC,gBAEDK,YAAUX,EAAA,GAAA7oB,OAAA4e,EAAA,EAAA5e,CAAA6oB,EACRlK,EAASjY,GAAKsiB,GADNhpB,OAAA4e,EAAA,EAAA5e,CAAA6oB,EAERpK,EAAO/X,GAAKuiB,GAFJJ,KApCQ,yBAAAjR,EAAAe,SAAAlB,MAAH,gBAAAmB,GAAA,OAAAxW,EAAAuP,MAAAkH,KAAA/Z,YAAA,GA2CJ2qB,EAAoB,SAAAnnB,GAAkB,IAAfmN,EAAenN,EAAfmN,SAGnC,OAFmBoY,EAAc,CAAEpY,aAA3BgP,OAEMqJ,UACZsB,MAAM,CACNM,MAAK,WAAAxX,OAAazC,EAAS/I,GAAtB,kBACLijB,OAAQ,QAERtN,KAAK4L,IAGK2B,EAAgB,SAAApnB,GAA2B,IAAxBiN,EAAwBjN,EAAxBiN,SAAUtO,EAAcqB,EAAdrB,QACnC2nB,EAAU,CACfY,MAAK,WAAAxX,OAAazC,EAAS/I,GAAtB,WACLijB,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CAAEC,OAAQ,CAAC,CAAEhhB,KAAM,YACxCqgB,QAAS,CAAEY,eAAgB,qBAG5B,OAAOrB,EAAY,CAAEnZ,WAAUqZ,UAAS3nB,aAG5B+oB,EAAiB,eAAArnB,EAAA7C,OAAAqoB,EAAA,EAAAroB,CAAAsoB,EAAAzpB,EAAA2Y,KAAG,SAAAqC,EAAAlX,GAAA,IAAAwnB,EAAAjgB,EAAAC,EAAAvB,EAAAwhB,EAAAvkB,EAAAwkB,EAAAvC,EAAAwC,EAAA,OAAAhC,EAAAzpB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAChCqS,EADgCxnB,EAChCwnB,WACAjgB,EAFgCvH,EAEhCuH,UACAC,EAHgCxH,EAGhCwH,OACAvB,EAJgCjG,EAIhCiG,UACAwhB,EALgCznB,EAKhCynB,MACAvkB,EANgClD,EAMhCkD,KACAwkB,EAPgC1nB,EAOhC0nB,iBA3HoCvjB,6BA8H9BghB,EAAYJ,EAAsB,CAAEC,QA9HN7gB,+BAoHJkT,EAAAlC,KAAA,EAYPgQ,EACvBsB,MAAM,CACNM,MAAK,kBAAAxX,OAAoBrM,GACzB8jB,OAAQ,MACRY,YAAa,CACZpgB,SACAvB,YACAwhB,QACAC,mBACAngB,aAEDmf,QAAS,CACRC,cA7IkB,UA6Iaa,KAGhC9N,KAAK4L,GA3ByB,cAY1BqC,EAZ0BtQ,EAAA3B,KAAA2B,EAAAvB,OAAA,SA6BzB,CAAE6R,aAAYngB,WA7BW,wBAAA6P,EAAArB,SAAAkB,MAAH,gBAAAO,GAAA,OAAAvX,EAAA8O,MAAAkH,KAAA/Z,YAAA,GAgCjB0rB,EAA0B,eAAArnB,EAAAnD,OAAAqoB,EAAA,EAAAroB,CAAAsoB,EAAAzpB,EAAA2Y,KAAG,SAAA0B,EAAAlW,GAAA,IAAAmnB,EAAAjgB,EAAA4d,EAAAwC,EAAA,OAAAhC,EAAAzpB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAASqS,EAATnnB,EAASmnB,WAAYjgB,EAArBlH,EAAqBkH,UApJ1BpD,6BAsJ9BghB,EAAYJ,EAAsB,CAAEC,QAtJN7gB,+BAoJK6S,EAAA7B,KAAA,EAIhBgQ,EACvBsB,MAAM,CACNM,MAAK,sBACLC,OAAQ,MACRY,YAAa,CAAErgB,aACfmf,QAAS,CACRC,cA/JkB,UA+Jaa,KAGhC9N,KAAK4L,GAbkC,cAInCqC,EAJmC3Q,EAAAtB,KAAAsB,EAAAlB,OAAA,SAelC6R,GAfkC,wBAAA3Q,EAAAhB,SAAAO,MAAH,gBAAAgB,GAAA,OAAA/W,EAAAwO,MAAAkH,KAAA/Z,YAAA,yFCrJ1B2rB,EAAiB,eAAA/qB,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,IAAA,IAAA2S,EAAAhpB,EAAAtB,EAAAqa,EAAAkQ,EAAAxS,EAAArZ,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAAO4S,EAAPvS,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GAAc,GAAIzW,EAAlByW,EAAApZ,OAAA,EAAAoZ,EAAA,QAAAnZ,EAAAoZ,EAAAP,KAAA,GAE3B+S,EAAaF,GAFc,CAAAtS,EAAAN,KAAA,gBAAAM,EAAAN,KAAA,EAGH8B,YAAUlY,GAHP,cAAAtB,EAAAgY,EAAAC,KAGtBoC,EAHsBra,EAGtBqa,SACFkQ,EAAW,IAAIE,SAAOC,SAASJ,EAAMK,EAAetQ,GAJ5BrC,EAAAN,KAAA,GAKxBgB,QAAQjZ,IAAI,CACjB8qB,EAASK,cACTL,EAAS1Q,UAAUrF,YAAUqW,aAC7BN,EAASO,UAAUtW,YAAUqW,YAAarW,YAAUqW,eARvB,eAAA7S,EAAAK,OAAA,UAUvB,GAVuB,eAAAL,EAAAK,OAAA,UAYxB,GAZwB,eAAAL,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SAAAA,EAAAK,OAAA,UAcxB,GAdwB,yBAAAL,EAAAO,SAAAZ,EAAA,kBAAH,yBAAArY,EAAAiS,MAAAkH,KAAA/Z,YAAA,GCHjBqsB,EAAgB,eAAAzrB,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,EAAMrW,GAAN,IAAA0pB,EAAA,OAAAlK,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAP,KAAA,EAAAO,EAAAN,KAAA,EAKZgB,QAAQuS,KAAK,CAC9BzR,YAAUlY,GACV,IAAIoX,QAAQ,SAACC,EAASuS,GACrBC,WAAW,WACVD,EAAO,cACL,SAVyB,cAKxBF,EALwBhT,EAAAC,KAAAD,EAAAN,KAAA,EAaxBsT,EAAI3Q,SAAS+Q,iBAbW,cAAApT,EAAAK,OAAA,UAcvB,GAduB,cAAAL,EAAAP,KAAA,EAAAO,EAAAI,GAAAJ,EAAA,SAAAA,EAAAK,OAAA,UAgBvB,GAhBuB,yBAAAL,EAAAO,SAAAZ,EAAA,iBAAH,gBAAAiB,GAAA,OAAAtZ,EAAAiS,MAAAkH,KAAA/Z,YAAA,mOCG7B,IAAM2sB,EAAW,iFAGXC,EAAgB,8CAGTC,EAAW,SAAA5D,GAGvB,OAFAA,EAAMA,GAAO,GACG0D,EAASG,KAAK7D,IAIlB8D,EAAiB,SAAAC,GAI7B,OAHAA,EAAYA,GAAa,IAEvBC,MAAMlf,WAAWif,KAAeE,SAASF,IAAcA,EAAY,GAWzDG,EAAY,SAAAnb,GACxB,IAAIob,EAAM,GACJC,EAAa,GAWnB,OAVKrb,EAEMA,EAAK/R,OAAS,GACxBmtB,EAAM,iBACNC,EAAW1f,KAAK,IACNqE,EAAK/R,OAAS,MACxBmtB,EAAM,iBACNC,EAAW1f,KAAK,MANhByf,EAAM,qBASA,CACNA,MACAC,eAIWC,EAAgB,SAAA1I,GAG5B,OAFAA,EAAWA,GAAY,GACPgI,EAAcE,KAAKlI,IAIvBkH,EAAe,WAAe,IAAdF,EAAc5rB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACnC,IACC+iB,QAAMoC,WAAWyG,GAChB,MAAOrf,GACR,OAAO,EAER,OAAO,GAGKghB,EAAmB,WAAe,IAAd3B,EAAc5rB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACvC,QAAO8rB,EAAaF,IACjB7I,QAAMpd,aAAaod,QAAMoC,WAAWyG,IAAO4B,UAIlCC,EAAe,eAAAnsB,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,EAAArY,GAAA,IAAA8sB,EAAA9B,EAAA+B,EAAAC,EAAAhrB,EAAAwqB,EAAAS,EAAAC,EAAA,OAAA1L,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAAA0U,EAAA9sB,EAC9BgrB,YAD8B,IAAA8B,EACvB,GADuBA,EAE9BC,EAF8B/sB,EAE9B+sB,YACAC,EAH8BhtB,EAG9BgtB,SACAhrB,EAJ8BhC,EAI9BgC,SAEIwqB,EAAM,GANoB9T,EAAAP,KAAA,EAQvB8U,EAAiBN,EAAiB3B,KACjBE,EAAaF,GATP,CAAAtS,EAAAN,KAAA,QAW5BoU,EAAM,0BAXsB9T,EAAAN,KAAA,oBAaxB2U,IAAeE,EAbS,CAAAvU,EAAAN,KAAA,SAc3BoU,EAAM,+BAdqB9T,EAAAN,KAAA,wBAAAM,EAAAN,KAAA,GAgBEqT,EAAiBzpB,GAhBnB,YAAA0W,EAAAC,KAAA,CAAAD,EAAAN,KAAA,SAkB1BoU,EAAM,8BAlBoB9T,EAAAN,KAAA,wBAAAM,EAAAN,KAAA,GAoBI2S,EAAkBC,GApBtB,QAoBpBkC,EApBoBxU,EAAAC,MAqBrBsU,GAAkBD,GAAYE,IAClCV,EAAM,iCAtBmB,QAAA9T,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SA2Bf,mCAAVA,EAAAI,KACH0T,EAAM,+BA5BsB,eAAA9T,EAAAK,OAAA,SA8BvB,CAAEyT,QA9BqB,yBAAA9T,EAAAO,SAAAZ,EAAA,kBAAH,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAiCf+tB,EAAW,eAAAlsB,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAC,EAAAlX,GAAA,IAAAusB,EAAAC,EAAArrB,EAAAwqB,EAAAprB,EAAA2Z,EAAAuS,EAAA,OAAA9L,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAgV,EAAAvsB,EAASwsB,WAAT,IAAAD,EAAe,GAAfA,EAAmBprB,EAAnBnB,EAAmBmB,SACzCwqB,EAAM,GADgBtU,EAAAC,KAAA,EAGb,KAARkV,EAHqB,CAAAnV,EAAAE,KAAA,QAIxBoU,EAAM,mBAJkBtU,EAAAE,KAAA,uBAAAF,EAAAE,KAAA,EAMG8B,YAAUlY,GANb,cAAAZ,EAAA8W,EAAAS,KAMhBoC,EANgB3Z,EAMhB2Z,SANgB7C,EAAAE,KAAA,GAOC2C,EAASwS,YAAT,GAAA/a,OACrB6a,EADqB,KAAA7a,OACdpL,aARa,SAOlBkmB,EAPkBpV,EAAAS,QAWLgU,EAAiBW,KAAad,EAAM,oBAX/B,QAAAtU,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SAexBsU,EADkB,qBAAftU,EAAAY,GAAM0U,KACH,2BAEA,gBAjBkB,eAAAtV,EAAAa,OAAA,SAoBnB,CAAEyT,QApBiB,yBAAAtU,EAAAe,SAAAlB,EAAA,kBAAH,gBAAAmB,GAAA,OAAAjY,EAAAgR,MAAAkH,KAAA/Z,YAAA,qCCxGjB,SAASquB,EAAqBna,GACpC,IACC,IAAM9G,EAAOkhB,aAAaC,QAAQra,GAClC,GAAa,OAAT9G,EACH,OAED,OAAO4d,KAAKwD,MAAMphB,GACjB,MAAOqhB,GACR,QAIK,SAASC,EAAmBthB,EAAM8G,GACxC,IACC,IAAMya,EAAa3D,KAAKC,UAAU7d,GAClCkhB,aAAaM,QAAQ1a,EAAKya,GACzB,MAAOF,GACRI,QAAQC,KAAKL,IAIR,SAASM,EAAuB7a,GACtCoa,aAAaU,WAAW9a,GAGlB,SAAS+a,IACf,OAAO/tB,OAAO+S,KAAKqa,cA1BpB9W,EAAAC,EAAAC,EAAA,sBAAA2W,IAAA7W,EAAAC,EAAAC,EAAA,sBAAAgX,IAAAlX,EAAAC,EAAAC,EAAA,sBAAAqX,IAAAvX,EAAAC,EAAAC,EAAA,sBAAAuX,0BCAAC,EAAAC,QAAiB3X,EAAA4X,EAAuB,8DCAxCF,EAAAC,QAAiB3X,EAAA4X,EAAuB,iYCkBlCC,EAAc,CACnBC,OAAQC,IACRhN,QAASgN,IACTC,QAASC,IACTC,OAAQC,IACRlM,MAAOkM,IACPC,KAAMC,KAGMC,EAAb,SAAAC,GACC,SAAAD,EAAYE,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA+V,IAClBvO,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA4uB,GAAAnO,KAAA5H,KAAMiW,KAwBPC,MAAQ,SAAAroB,GACP2Z,EAAK2O,SAAS,CAAEC,QAAQ,IACxB5O,EAAKyO,MAAMxd,QAAQ4d,YAAYxoB,IAxB/B2Z,EAAKlhB,MAAQ,CACZ8vB,QAAQ,EACRE,MAAO,IALU9O,EADpB,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAA4uB,EAAAC,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAA4uB,EAAA,EAAA5b,IAAA,4BAAAxJ,MAAA,SAU2B8lB,GACzB,IAAIH,EAAQtW,KAAK1Z,MAAMgwB,MACnBI,EAAYD,EAAUE,OAAO,GAE5BD,IAKcA,GAAaJ,EAAMzoB,KAAO6oB,EAAU7oB,IAGtDmS,KAAKmW,SAAS,CAAEC,QAAQ,EAAME,MAAOI,IAPrC1W,KAAKmW,SAAS,CAAEC,QAAQ,EAAOE,MAAO,OAfzC,CAAAnc,IAAA,SAAAxJ,MAAA,WA+BU,IAAAimB,EAAAC,EAAA7W,KACAsW,EAAUtW,KAAK1Z,MAAfgwB,MACAQ,EAAY9W,KAAKiW,MAAjBa,QACFC,EAAOzB,EAAYgB,EAAMnmB,MAE/B,IAAKmmB,IAAUS,EAAM,OAAO,KAE5B,IAAMC,EAAeV,EAAMU,cAAgB,CAC1CC,SAAU,SACVC,WAAY,UAQb,OALIZ,EAAMa,MACTH,EAAaE,WAAa,SAC1BF,EAAaC,SAAW,OAIxBG,EAAApxB,EAAAqxB,cAACC,EAAA,EAAD,CACCC,KAAMvX,KAAK1Z,MAAM8vB,OACjBoB,iBAAkBlB,EAAMmB,SAAW,EACnCC,QAAS,kBAAOpB,EAAMqB,YAAcd,EAAKX,MAAMI,EAAMzoB,KACrDmpB,aAAcA,GAEdI,EAAApxB,EAAAqxB,cAACO,EAAA,EAAD,CACCC,mBAAiB,kBACjB/N,QACCsN,EAAApxB,EAAAqxB,cAAA,QAAMxpB,GAAG,kBAAkBiqB,UAAWhB,EAAQhN,SAC7CsN,EAAApxB,EAAAqxB,cAACN,EAAD,CAAMe,UAAWC,IAAWjB,EAAQkB,KAAMlB,EAAQmB,gBAChD3B,EAAM1a,OAAS,IAAIwG,YAGvB8V,OAAQ,CACP5B,EAAM4B,QAAU5B,EAAM4B,QACrB5B,EAAMqB,YACNP,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CACChe,IAAI,QACJie,aAAW,QACXC,MAAM,UACNP,UAAWhB,EAAQZ,MACnBoC,QAAS,kBAAOhC,EAAMqB,YAAcd,EAAKX,MAAMI,EAAMzoB,MAErDupB,EAAApxB,EAAAqxB,cAACkB,EAAAvyB,EAAD,CAAW8xB,UAAWhB,EAAQkB,SAIjCF,UAAWC,IAAWjB,EAAQ0B,UAAT5B,EAAA,GAAAzvB,OAAAsxB,EAAA,EAAAtxB,CAAAyvB,EACnBE,EAAQK,MAAQb,EAAMa,KADHhwB,OAAAsxB,EAAA,EAAAtxB,CAAAyvB,EAEnBE,EAAQvB,OAAwB,WAAfe,EAAMnmB,MAFJhJ,OAAAsxB,EAAA,EAAAtxB,CAAAyvB,EAGnBE,EAAQnB,OAAwB,WAAfW,EAAMnmB,MAHJhJ,OAAAsxB,EAAA,EAAAtxB,CAAAyvB,EAInBE,EAAQrB,QAAyB,YAAfa,EAAMnmB,MAJLymB,WA7E1Bb,EAAA,CAA2B2C,aA4GZpO,kBAdf,SAAyBhkB,GAGxB,MAAO,CACNqwB,OAFYrwB,EAAM0F,OAEH2qB,QAAU,KAI3B,SAA4BgC,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIxBrO,CAGbuO,YC1IoB,SAAAC,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACNP,SAAU,CACTQ,OAAQ,YACRC,aAAc,EACdxd,gBAAiB,OACjByd,WAAY,CACXC,UAAW,oBAEZC,OAAQL,GAETtD,QAAS,CACR4D,YAAa,UACbhB,MAAO,WAER1C,OAAQ,CACP0D,YAAa,UACbhB,MAAO,WAER9C,OAAQ,CACP8D,YAAa,UACbhB,MAAO,WAERL,KAAM,CACLsB,SAAU,IAEXrB,YAAa,CACZsB,QAAS,GACTC,YAAaT,GAEdjP,QAAS,CACR2P,QAAS,OACTC,WAAY,SACZC,UAAW,aAEZxC,IAAK,CACJyC,MAAO,OACPC,SAAU,UDoGXhB,CAAmB9C,iFErIN,SAAS+D,EAAUC,GAajC,OAZA,SAAoB9D,GACnB,IAAMnnB,EAAWkrB,YAAYnrB,KAQ7B,OAAOuoB,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GAAehE,EAAf,CAAsBhvB,EANnB,SAAC+H,GAA8C,IAAAnI,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAOi0B,EAAArzB,EAAvCuI,cAAuC,IAAA8qB,KAAAC,EAAAtzB,EAAvByI,YAAuB,IAAA6qB,EAAhB,CAAC,IAAeA,EAGxD,OAFoB1qB,YAAUT,EAAK,CAAEI,SAAQE,QAAQR,QCGjD,IAAMsrB,EAAb,SAAApE,GACC,SAAAoE,EAAYnE,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAoa,IAClB5S,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAizB,GAAAxS,KAAA5H,KAAMiW,KAEDN,OAASnO,EAAKmO,OAAO0E,KAAZlzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,IACdA,EAAK+S,QAAU/S,EAAK+S,QAAQF,KAAblzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,IACfA,EAAKlhB,MAAQ,CACZ8vB,QAAQ,GANS5O,EADpB,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAAizB,EAAApE,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAizB,EAAA,EAAAjgB,IAAA,4BAAAxJ,MAAA,SAW2B8lB,GACzBzW,KAAKmW,SAAS,CAAEC,OAAQK,EAAU+D,YAZpC,CAAArgB,IAAA,UAAAxJ,MAAA,WAgBoC,oBAAvBqP,KAAKiW,MAAMsE,SACrBva,KAAKiW,MAAMsE,UAEZva,KAAKmW,SAAS,CAAEC,QAAQ,MAnB1B,CAAAjc,IAAA,SAAAxJ,MAAA,WAuBmC,oBAAtBqP,KAAKiW,MAAMN,QACrB3V,KAAKiW,MAAMN,SAGZ3V,KAAKmW,SAAS,CAAEC,QAAQ,MA3B1B,CAAAjc,IAAA,SAAAxJ,MAAA,WA8BU,IAAA8pB,EASJza,KAAKiW,MAPR3c,EAFOmhB,EAEPnhB,MACAgW,EAHOmL,EAGPnL,KACAoL,EAJOD,EAIPC,SACAC,EALOF,EAKPE,YACAC,EANOH,EAMPG,aACA3zB,EAPOwzB,EAOPxzB,EACA4zB,EAROJ,EAQPI,aAED,OACCzD,EAAApxB,EAAAqxB,cAACyD,EAAA,EAAD,CAAQvD,KAAMvX,KAAK1Z,MAAM8vB,QACxBgB,EAAApxB,EAAAqxB,cAAC0D,EAAA,EAAD,CAAaltB,GAAG,sBAAsByL,GACtC8d,EAAApxB,EAAAqxB,cAAC2D,EAAA,EAAD,KACC5D,EAAApxB,EAAAqxB,cAAC4D,EAAA,EAAD,CAAmBptB,GAAG,4BACpByhB,GAEDoL,IAEAG,GACDzD,EAAApxB,EAAAqxB,cAAC6D,EAAA,EAAD,KACC9D,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CAAQ7C,QAAStY,KAAK2V,OAAQ0C,MAAM,WAClCsC,GAAe1zB,EAAE,WAEnBmwB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CAAQ7C,QAAStY,KAAKua,QAASlC,MAAM,UAAU+C,WAAS,GACtDR,GAAgB3zB,EAAE,aAvD1BmzB,EAAA,CAA6B1B,aAkGdpO,kBArBf,SAAyBhkB,GAExB,MAAO,CACNq0B,aAFDr0B,EAAQA,EAAM0F,QAEMuuB,QAAQlnB,KAAKsnB,YAChCC,aAAct0B,EAAMi0B,QAAQlnB,KAAKunB,aACjCthB,MAAOhT,EAAMi0B,QAAQlnB,KAAKiG,OAAS,GACnCgW,KAAMhpB,EAAMi0B,QAAQlnB,KAAKic,MAAQ,GACjCiL,QAASj0B,EAAMi0B,QAAQc,UACvB1F,OAAQrvB,EAAMi0B,QAAQe,SACtBd,QAASl0B,EAAMi0B,QAAQnE,SAAU,EACjCmF,SAAUj1B,EAAMi0B,QAAQgB,SACxBV,aAAcv0B,EAAMi0B,QAAQM,eAI9B,SAA4BlC,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIxBrO,CAGbwP,EAAUM,2HC9GCoB,GAAsB,SAAA9C,GAAa,IACzCqB,EADyC,SAAA0B,GAAA,SAAA1B,IAAA,IAAA2B,EAAAlU,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA+Z,GAAA,QAAA4B,EAAA11B,UAAAC,OAAAoJ,EAAA,IAAAssB,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAvsB,EAAAusB,GAAA51B,UAAA41B,GAAA,OAAArU,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,MAAA0b,EAAAv0B,OAAAwgB,EAAA,EAAAxgB,CAAA4yB,IAAAnS,KAAA9O,MAAA4iB,EAAA,CAAA1b,MAAA3G,OAAA/J,MAE9CwsB,kBAAoB,SAAAtiB,GACnB,IAAMwI,EAAqB,kBAAPxI,EAAkBA,EAAK,CAAEuiB,SAAUviB,GAEvD,OADagO,EAAKyO,MAAM+F,QAAQC,WAAWja,IAJEwF,EAQ9C0U,YAR8C,eAAAr1B,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAQhC,SAAAO,EAAMid,GAAN,IAAA1B,EAAAjhB,EAAA8e,EAAA,OAAAjQ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UACbkd,EAAMC,iBACND,EAAME,kBAFO5B,EAGWjT,EAAKyO,MAArBzc,EAHKihB,EAGLjhB,KAAI8e,EAHCmC,EAGDnC,UAEsB,oBAAZA,EALT,CAAA/Y,EAAAN,KAAA,eAAAM,EAAAN,KAAA,EAMNqZ,IANM,OAOZ9Q,EAAKyO,MAAM+F,QAAQpoB,KAAK4F,GAPZ+F,EAAAN,KAAA,gBASZuI,EAAKyO,MAAM+F,QAAQpoB,KAAK4F,GATZ,yBAAA+F,EAAAO,SAAAZ,MARgC,gBAAAiB,GAAA,OAAAtZ,EAAAiS,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAAA,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAA4yB,EAAA0B,GAAAt0B,OAAAqvB,EAAA,EAAArvB,CAAA4yB,EAAA,EAAA5f,IAAA,SAAAxJ,MAAA,WA2BrC,IAAA2rB,EAUJtc,KAAKiW,MARRsG,EAFOD,EAEPC,aACA/iB,EAHO8iB,EAGP9iB,GAMGrG,GATImpB,EAIPE,MAJOF,EAKPhwB,SALOgwB,EAMPN,QANOM,EAOPG,cAPOH,EAQPhE,QAROnxB,OAAAiM,GAAA,EAAAjM,CAAAm1B,EAAA,+EAWFI,EAAa1c,KAAK8b,kBAAkBtiB,GAE1C,OACC4d,EAAApxB,EAAAqxB,cAACqB,EAADvxB,OAAA8yB,OAAA,CACC0C,IAAKJ,GACDppB,EAFL,CAGCypB,KAAMF,EACNpE,QAAStY,KAAKkc,mBA7C6BnC,EAAA,CACvB8C,IAAMnE,WAkDxBoE,EAAaC,aAAWhD,GAE9B,OAAOiD,qBAAW,SAAC/G,EAAO0G,GAAR,OACjBvF,EAAApxB,EAAAqxB,cAACyF,EAAD31B,OAAA8yB,OAAA,GAAgBhE,EAAhB,CAAuBsG,aAAcI,uCCtDxBM,GAAA,SAACjb,EAAMkb,GAA8B,IAAjBC,EAAiBl3B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACxC8wB,EAAO,SAAAd,GAAK,OACfmB,EAAApxB,EAAAqxB,cAAC+F,GAAA,EAADj2B,OAAA8yB,OAAA,CAASkD,QAASA,GAAalH,GAC7BjU,IAQH,OAJA+U,EAAKmG,YAAcA,GACnBnG,EAAOsG,KAAKtG,IACPuG,QAAU,UAERvG,GCZOkG,MACd7F,EAAApxB,EAAAqxB,cAAA,SACCD,EAAApxB,EAAAqxB,cAAA,QAAM3Z,EAAE,0MACR0Z,EAAApxB,EAAAqxB,cAAA,QAAM3Z,EAAE,oLAGT,WACA,yDCGK6f,GAAS,SAAA12B,GAST,IARL+1B,EAQK/1B,EARL+1B,KACAY,EAOK32B,EAPL22B,OACA9C,EAMK7zB,EANL6zB,SACA9e,EAKK/U,EALL+U,MACA6hB,EAIK52B,EAJL42B,UACAC,EAGK72B,EAHL62B,aACArF,EAEKxxB,EAFLwxB,MACGllB,EACEhM,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,yEACC82B,EAAaH,GAAqB,WAAXA,EACvBtO,EAAMyO,EApBE,SAAAzO,GAMd,OALAA,GAAOA,GAAO,IAAI3V,QAAQ,mBAAoB,OAE7C2V,EAAM,KAAOA,GAGPA,EAckB0O,CAAOhB,GAAQA,EAElCiB,EAAS12B,OAAAC,GAAA,EAAAD,CAAA,CACds2B,UAAWA,GAAa,OACxBpF,MAAOA,GAAS,UAChByF,UAAW,SACPH,GAAc,CAAEI,IAAK,uBAJX,CAKdP,SACAZ,KAAM1N,EACN8O,MAAO,CAAErE,UAAW,cACjBxmB,GAEJ,OACCikB,EAAApxB,EAAAqxB,cAAC4G,GAAA,EAASJ,EACRnD,GAAY9e,EAAO,IACnB8hB,GAAgBtG,EAAApxB,EAAAqxB,cAAA6G,GAAA,GAAWF,MAAO,CAAE1E,SAAU,aAKrC6E,GAAiB,SAAA52B,GAAA,IAAGq1B,EAAHr1B,EAAGq1B,KAAMlC,EAATnzB,EAASmzB,SAATnzB,EAAmBy2B,MAAnB,OAC7B5G,EAAApxB,EAAAqxB,cAAC+G,GAAD,CACCJ,MAAO,CAAEK,WAAY,QACrBZ,UAAU,SACVD,OAAO,SACPnF,MAAM,UACNqF,cAAY,EACZd,KAAMA,GAELlC,IAIY6C,MCvDFe,GAAS,SAAAxF,GAAS,IAAAyF,EAC9B,MAAO,CACNC,KAAM,CACLC,SAAU,EACVC,OAAQ,EACRC,SAAU,SACVC,SAAU,WACVnF,QAAS,OACToF,UAAW,QACXjF,MAAO,QAERkF,OAAO33B,OAAAsxB,EAAA,EAAAtxB,CAAA,CACNgwB,IAAK,EACL4H,KAAM,EACNC,MAAO,EACPpF,MAAO,OACPgF,SAAU,SAET9F,EAAMmG,YAAYC,GAAG,MAAQ,CAE7BH,KAtBgB,MAyBlBI,KAAM,CACLA,KAAM,EACNC,cAAe,MACf3F,QAAS,OACTC,WAAY,UAGb2F,QAAS,CACR5F,QAAS,OACTC,WAAY,SACZ4F,UAAW,OACXC,WAAYzG,EAAMC,QAAQ,GAC1ByG,cAAe1G,EAAMC,QAAQ,GAC7B0G,eAAgB,CACfC,aAAc,IACdH,WAAYzG,EAAMC,QAAQ,GAC1ByG,cAAe1G,EAAMC,QAAQ,GAC7B4G,YAAa7G,EAAMC,QAAQ,KAG7B6G,gBAAiB,CAChBC,eAAgB,YAEjBC,aAAc,CACbD,eAAgB,cAEjBE,YAAY54B,OAAAsxB,EAAA,EAAAtxB,CAAA,CACXqyB,YAAa,IACZV,EAAMmG,YAAYC,GAAG,MAAQ,CAC7BzF,QAAS,SAGXuG,QAAQ74B,OAAAC,GAAA,EAAAD,CAAA,CACP84B,SAAU,OACVC,OAAQ,KACLpH,EAAMqH,OAAOH,SAEjBI,aAAW7B,EAAA,CACV3E,MA/DiB,KA8DPzyB,OAAAsxB,EAAA,EAAAtxB,CAAAo3B,EAETzF,EAAMmG,YAAYC,GAAG,MAAQ,CAC7BN,SAAU,UAHDz3B,OAAAsxB,EAAA,EAAAtxB,CAAAo3B,EAAA,kBAKO,QALPA,GAOX8B,QAAQl5B,OAAAsxB,EAAA,EAAAtxB,CAAA,CACPs3B,SAAU,EACVhjB,gBAAiBqd,EAAMwH,QAAQC,WAAWC,QAC1CC,QAAS3H,EAAMC,QAAQ,GACvBwG,WAAYzG,EAAMC,QAAQ,GAC1B4F,SAAU,QACT7F,EAAMmG,YAAYC,GAAG,MAAQ,CAC7BwB,WA5EgB,MA+ElBC,aAAc,CACb9G,SAAU,KACVT,OAAQ,QAETpB,KAAM,CACLkI,OAAQ,GACRtG,MAAO,2DC5EJgH,GAAY,CACjBC,WAAY,EACZC,UAAW,EACXC,EAAK,aACLC,EAAK,aAGAC,GAAe,SAACC,EAAI9kB,GACzB+kB,YAAQvtB,aAAI,cAAAyF,OAAeunB,GAAUxkB,EAAQ,QAGxCglB,GAAYC,aAAW,SAAAvI,GAC5B,IAAMwI,EAAc,SAAAz6B,GAAA,MACV,eADUA,EAAGmG,KAEnB8rB,EAAMwH,QAAQiB,UAAUC,KACxB1I,EAAMwH,QAAQmB,UAAUD,MAM5B,MAAO,CAENhD,KAAM,CACLkD,SAAU,GACVC,aAAc,CACbtJ,MAAOiJ,IAGTM,SAAU,CACTvJ,MAAOiJ,EACP7lB,gBAdoB,SAAAlU,GAAA,MACZ,eADYA,EAAGyF,KAErB8rB,EAAMwH,QAAQiB,UAAUM,MACxB/I,EAAMwH,QAAQmB,UAAUI,OAY1BF,aAAc,CACbtJ,MAAOiJ,IAGTQ,UAAW,CACVrmB,gBAAiB6lB,MA2BLS,GAtBI,SAAAr6B,GAAyB,IAAtBsF,EAAsBtF,EAAtBsF,KAAM8qB,EAAgBpwB,EAAhBowB,UACrBhB,EAAUsK,GAAU,CAAEp0B,SAC5B,OACCoqB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWA,GACfV,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKC,QAAQ,mBAAmBC,UAAW,GAC1C9K,EAAApxB,EAAAqxB,cAAC8K,GAAA,EAAD,CACCrL,QAASA,EACTnmB,MAAOiwB,GAAU5zB,GACjBo1B,SAAUnB,GACVoB,eAAe,UACfC,UAAU,UACVC,QAAQ,YACRnK,aAAW,eAEXhB,EAAApxB,EAAAqxB,cAACmL,GAAA,EAAD,CAAK1L,QAASA,EAASlb,MAAO3U,aAAE,gBAChCmwB,EAAApxB,EAAAqxB,cAACmL,GAAA,EAAD,CAAK1L,QAASA,EAASlb,MAAO3U,aAAE,mBC/DtBg2B,MACd7F,EAAApxB,EAAAqxB,cAAA,SACCD,EAAApxB,EAAAqxB,cAAA,QACCoL,KAAK,kBACL/kB,EAAE,mdAEH0Z,EAAApxB,EAAAqxB,cAAA,QACCoL,KAAK,oBACL/kB,EAAE,uMAEH0Z,EAAApxB,EAAAqxB,cAAA,QACCoL,KAAK,kBACL/kB,EAAE,wgDAGJ,WACA,qJChBYglB,GAAe,SAAA77B,GAAA,IAAGixB,EAAHjxB,EAAGixB,UAAH6K,EAAA97B,EAAcwxB,aAAd,IAAAsK,EAAsB,UAAtBA,EAAA,OAC3BvL,EAAApxB,EAAAqxB,cAAAuL,GAAA,GAAgB9K,UAAWA,EAAWO,MAAOA,KAGjCwK,GAAiB,SAAAt7B,GAAA,IAAGu7B,EAAHv7B,EAAGu7B,QAASpI,EAAZnzB,EAAYmzB,SAAZ,OAC7BtD,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKvI,QAAQ,OAAO0F,KAAK,IAAIzF,WAAW,UACvCtC,EAAApxB,EAAAqxB,cAAA2K,GAAA,OAAMtH,GACNtD,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKe,GAAI,EAAGC,GAAI,GACdF,GAAW1L,EAAApxB,EAAAqxB,cAAA4L,GAAA,WCsBTC,GAAa1H,GAAoB2H,MAC/BC,GAAuBn1B,gCAEzBmzB,GAAYC,aAAW,SAAAvI,GAC5B,IAKMuK,EAAgB,SAAA97B,GAAA,MACZ,eADYA,EAAGyF,KAErB8rB,EAAMwH,QAAQiB,UAAUC,KACxB1I,EAAMwH,QAAQmB,UAAUD,MAO5B,MAAO,CACN8B,WAAY,CACX7nB,gBAAiBqd,EAAMwH,QAAQC,WAAWgD,OAE3CC,WAAY,CACXjE,WAAY,GAEbkE,YAAa,CACZpL,MAAOS,EAAMwH,QAAQhR,KAAKoU,UAC1BjK,QAAS,OACT2F,cAAe,SACfS,eAAgB,iBAEjB8D,QAAS,CACR/E,SAAU,WACVzH,IAAK,EACL4H,KAAM,EACNC,MAAO,EACP4E,OAAQ,GACRC,UAAW,OACXC,UAAW,UAEZC,eAAgB,GAChBC,QAAS,CACRpF,SAAU,WACVgF,OAAQ,EACR7E,KAAM,EACNC,MAAO,EACPyB,QAAS,GACTd,YAAa,GACbsE,eAAgB,EAChBC,eAAgBpL,EAAMwH,QAAQ6D,QAC9BC,eAAgB,SAEjBhO,OAAQ,CACPiC,MAlDkB,SAAAxxB,GAAA,MACV,eADUA,EAAGmG,KAEnB8rB,EAAMwH,QAAQiB,UAAU8C,aACxBvL,EAAMwH,QAAQmB,UAAU4C,cAgD1B5oB,gBAAiB4nB,EACjBiB,UAAW,CACV7oB,gBAAiB4nB,GAElBkB,UAAW,CACV9oB,gBA9CwB,SAAA/T,GAAA,MACjB,eADiBA,EAAGsF,KAE1B8rB,EAAMwH,QAAQiB,UAAUM,MACxB/I,EAAMwH,QAAQmB,UAAUI,OA4CzBxJ,MAAOS,EAAMwH,QAAQhR,KAAKoU,YAG5Bc,QAAS,CACRnM,MAAOS,EAAMwH,QAAQhR,KAAKmV,KAC1BF,UAAW,CACVlM,MAAOS,EAAMwH,QAAQhR,KAAKoU,YAG5BgB,WAAY,CACXC,aAAY,GAAAtrB,OAAKyf,EAAMC,QAAQ,GAAnB,UAKT6L,GAAkBvD,aAAW/C,IAyLpBuG,OAvLf,SAAiB5O,GAChB,IAAMjpB,EAAOgtB,YAAYjtB,MACnBpE,EAAWqxB,YAAYxwB,KACvBstB,EAAUsK,GAAU,CAAEp0B,SACtB83B,EAAgBF,KAChBG,EAAiB/K,YAAY5tB,MAC3B0P,EAAWke,YAAYpyB,MAAvBkU,OAGFxP,EAAWy4B,EAAehJ,SAAS7yB,MAAM,KAAK,GAE9CqN,EADwB,eAATvJ,EACQ,QAAU,QAC/B6W,EAAsCmW,YAC7C9vB,KADO2Z,kCAIR,MAAgB,eAAT7W,GAAkC,cAATA,EAAuB,KACtDoqB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQwM,YACvBlM,EAAApxB,EAAAqxB,cAAC2N,GAAA,EAAD,CACClO,QAAS,CACR2J,QAAS3J,EAAQ0M,WACjBhF,KAAM1H,EAAQ2M,aAEf3L,UAAWhB,EAAQ6M,QACnBsB,UAAU,OAEV7N,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCC,QAAQ,mBACRnK,UAAWC,IACV+M,EAAc9E,QACdlJ,EAAQiN,iBAGT3M,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,KACC/L,EAAApxB,EAAAqxB,cAAC6N,GAAD,CAAapN,UAAWgN,EAAc9M,QAEvCZ,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,KACC/L,EAAApxB,EAAAqxB,cAAC8N,GAAD,CACCrC,SACEjf,GACqC,IAAtCA,GAGDuT,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,KACChO,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,KAAK0C,UAAU,MAAM5M,MAAM,eAC9CjB,EAAApxB,EAAAqxB,cAAA,iBAAAhe,OAAYwK,GACX,EADD,KAAAxK,OACMyC,KAEPsb,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,SAAS9I,QAAQ,QAAQ6L,cAAY,GACvDr+B,aAAE,yBAMRmwB,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,MACAnO,EAAApxB,EAAAqxB,cAACmO,GAAD,CAAY1N,UAAWhB,EAAQ4N,WAAY13B,KAAMA,EAAM/F,EAAGA,OAC1DmwB,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,MACAnO,EAAApxB,EAAAqxB,cAAC6L,GAAD,CACCuC,QAAM,EACNjsB,GAAI,CAAEuiB,SAAU,cAAgB/uB,GAChC8qB,UAAWC,IAAW5wB,OAAAsxB,EAAA,EAAAtxB,CAAA,GAAG2vB,EAAQV,QAAU9pB,KAE3C8qB,EAAApxB,EAAAqxB,cAACqO,GAAA,EAAD,KACCtO,EAAApxB,EAAAqxB,cAACsO,GAAA3/B,EAAD,OAEDoxB,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CAAcQ,QAAS3+B,aAAE,gBAE1BmwB,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,MACU,eAATv4B,GACAoqB,EAAApxB,EAAAqxB,cAAAD,EAAApxB,EAAA6/B,SAAA,KACCzO,EAAApxB,EAAAqxB,cAAC6L,GAAD,CACCuC,QAAM,EACNjsB,GAAI,CAAEuiB,SAAU,mCAChBjE,UAAWC,IAAW5wB,OAAAsxB,EAAA,EAAAtxB,CAAA,GACpB2vB,EAAQV,OAAsB,cAAb9pB,KAGnB8qB,EAAApxB,EAAAqxB,cAACqO,GAAA,EAAD,KACCtO,EAAApxB,EAAAqxB,cAACyO,GAAD,OAED1O,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CAAcQ,QAAS3+B,aAAE,gBAE1BmwB,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,OAGFnO,EAAApxB,EAAAqxB,cAAC6L,GAAD,CACCuC,QAAM,EACNjsB,GAAI,CAAEuiB,SAAU,cAAgB/uB,EAAO,IAAMuJ,GAC7CuhB,UAAWC,IAAW5wB,OAAAsxB,EAAA,EAAAtxB,CAAA,GAAG2vB,EAAQV,OAAS9pB,IAAaiK,KAEvD6gB,EAAApxB,EAAAqxB,cAACqO,GAAA,EAAD,KACCtO,EAAApxB,EAAAqxB,cAAC0O,GAAA//B,EAAD,OAEDoxB,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CAAcQ,QAAS3+B,aAAEsP,EAAMyvB,kBAEhC5O,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,OAEDnO,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAC4O,GAAD,CAAQzI,OAAO,SAASZ,KAAI,GAAAvjB,OAAKpL,uCAChCmpB,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAApxB,EAAAqxB,cAACqO,GAAA,EAAD,KACCtO,EAAApxB,EAAAqxB,cAAC6O,GAAAlgC,EAAD,OAEDoxB,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CAAcQ,QAAS3+B,aAAE,YAI3BmwB,EAAApxB,EAAAqxB,cAAC4O,GAAD,CAAQzI,OAAO,SAASZ,KAAI,GAAAvjB,OAAK+pB,GAAqBz6B,IACrDyuB,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAApxB,EAAAqxB,cAACqO,GAAA,EAAD,KACCtO,EAAApxB,EAAAqxB,cAAC8O,GAAAngC,EAAD,OAEDoxB,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CAAcQ,QAAS3+B,aAAE,oBAI3BmwB,EAAApxB,EAAAqxB,cAAC6L,GAAD,CACCuC,QAAM,EACNjsB,GAAI,CAAEuiB,SAAU,cAAgB/uB,EAAO,YACvC8qB,UAAWC,IAAW5wB,OAAAsxB,EAAA,EAAAtxB,CAAA,GACpB2vB,EAAQV,OAAsB,YAAb9pB,KAGnB8qB,EAAApxB,EAAAqxB,cAACqO,GAAA,EAAD,KACCtO,EAAApxB,EAAAqxB,cAAC+O,GAAApgC,EAAD,OAEDoxB,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CAAcQ,QAAS3+B,aAAE,gBAI5BmwB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQkN,SACvB5M,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ0N,SACvBpN,EAAApxB,EAAAqxB,cAAA,aACE,IADF,SAES,IAAIzH,MAAOyW,cAFpB,QAGCjP,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCnO,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAM3uB,6BAHP,wBASFmpB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,aACCD,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCnO,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAM3uB,2EAHP,qBAQDmpB,EAAApxB,EAAAqxB,cAAA,oBACAD,EAAApxB,EAAAqxB,cAAA,aACCD,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCnO,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAM3uB,2EAHP,cASFmpB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,aACCD,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCnO,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAK,wEAHN,KAKI0J,GAAYtC,QALhB,wBCpRAuC,GAAU,SAAA1/B,GAAa,IAAV2/B,EAAU3/B,EAAV2/B,IAClB,OACCpP,EAAApxB,EAAAqxB,cAAA,OACCmP,IAAKA,EACLtG,OAAQ,GACRtG,MAAM,OACN6M,IAAI,OACJzI,MAAO,CAAExE,YAAa,MAkEVkN,OA7Df,SAAAn/B,GAA+E,IAAzDmzB,EAAyDnzB,EAAzDmzB,SAAUiM,EAA+Cp/B,EAA/Co/B,SAAU/qB,EAAqCrU,EAArCqU,MAAOgrB,EAA8Br/B,EAA9Bq/B,UAAWC,EAAmBt/B,EAAnBs/B,YAAah5B,EAAMtG,EAANsG,GAAMi5B,EAClDC,oBAAS,GADyCC,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GACvE1Q,EADuE4Q,EAAA,GAC/DC,EAD+DD,EAAA,GAAAE,EAE9CH,mBAAS,MAFqCI,EAAAhgC,OAAA4J,GAAA,EAAA5J,CAAA+/B,EAAA,GAEvEE,EAFuED,EAAA,GAE7DE,EAF6DF,EAAA,GAGxE5P,EAAO+P,QAAQF,GAefG,EAAWV,EAAczP,EAAApxB,EAAAqxB,cAACmQ,GAAD,CAAShB,IAAKK,IAAkB,KAE/D,OACCzP,EAAApxB,EAAAqxB,cAAAD,EAAApxB,EAAA6/B,SAAA,KACCzO,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC6C,MAAO2I,EACPrO,QAdgB,SAAA6D,GAClBkL,EAAYlL,EAAMsL,gBAchBC,YAAW75B,EACX85B,gBAAc,QAEbJ,EACDnQ,EAAApxB,EAAAqxB,cAAA,QACC2G,MAAO,CACNnE,SAAU,IACV8E,SAAU,SACViJ,aAAc,aAGdhsB,GAEDgrB,GAEFxP,EAAApxB,EAAAqxB,cAACwQ,GAAA,EAAD,CACCh6B,GAAIA,EACJ0pB,KAAMA,EACN6P,SAAUA,EASV9O,QA/CuB,WACzB2O,GAAW7Q,GACXiR,EAAY,OA8CV3P,QAvCiB,WACnB2P,EAAY,QAwCT3M,uHCjEQoN,GAAc,SAAAj/B,GAC1B,OAAQA,GACP,KAAKujB,KAAWC,SAASpU,KACxB,OAAO8vB,KACR,KAAK3b,KAAWI,OAAOvU,KACtB,OAAO+vB,KACR,KAAK5b,KAAWE,OAAOrU,KACtB,OAAOgwB,KACR,KAAK7b,KAAW8b,KAAKjwB,KACpB,OAAOkwB,KACR,QACC,MAAO,qHCYJC,GAAa5M,GAAoB6M,MACjCjH,GAAYC,aAAW/C,IA6FdxE,SA3Ff,SAAAjzB,GAAiD,IAA/ByhC,EAA+BzhC,EAA/ByhC,mBAAoBt7B,EAAWnG,EAAXmG,KAAM/F,EAAKJ,EAALI,EACrC6vB,EAAUsK,KACVt0B,EAAWktB,YAAYptB,MACvBtE,EAAU0xB,YAAY3xB,KACtBkgC,EAAST,GAAYx/B,EAAQI,OAAOG,UACpC2/B,EACuB,SAA5BlgC,EAAQI,OAAOG,SACZ5B,EAAE,aACFqB,EAAQU,OACRy/B,aAAcngC,EAAQI,OAAOrB,UAC7BJ,EAAE,cAEN,OACCmwB,EAAApxB,EAAAqxB,cAACqR,GAAA,EAAD,CAAQ5Q,UAAWhB,EAAQgI,OAAQzG,MAAM,UAAUuG,SAAS,UAC3DxH,EAAApxB,EAAAqxB,cAACsR,GAAA,EAAD,CAAS7Q,UAAWhB,EAAQkJ,SAC3B5I,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQuI,SACvBjI,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CACCE,MAAM,UACND,aAAW,cACXE,QAASgQ,EACTxQ,UAAWC,IAAWjB,EAAQiJ,cAE9B3I,EAAApxB,EAAAqxB,cAACuR,GAAA5iC,EAAD,OAMDoxB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWC,IAAWjB,EAAQqI,KAAMrI,EAAQ8I,kBAIhDxI,EAAApxB,EAAAqxB,cAACwR,GAAA7iC,EAAD,CACC8iC,SAAU,GACVC,KAAMC,8BAAmB1gC,EAAQI,OAAOrB,WAEzC+vB,EAAApxB,EAAAqxB,cAAC4R,GAAD,CACCp7B,GAAG,cACHg5B,YAAa0B,EACb3B,UAAWxP,EAAApxB,EAAAqxB,cAAC6R,GAAAljC,EAAD,MACX4V,MAAO4sB,EACPpS,QAAQ,GAERgB,EAAApxB,EAAAqxB,cAAC+Q,GAAD,CACCz3B,MAAM,UACN6I,GAAI,CAAEuiB,SAAU,cAAgB/uB,EAAO,YACvCm8B,QAASliC,EAAE,YAEXmwB,EAAApxB,EAAAqxB,cAACqO,GAAA,EAAD,KACCtO,EAAApxB,EAAAqxB,cAAC+O,GAAApgC,EAAD,OAEDoxB,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtO,QAAS,CAAE8O,QAAS9O,EAAQ8O,SAC5BA,QAAS3+B,EAAE,cAIbmwB,EAAApxB,EAAAqxB,cAACgR,GAAA,EAAD,CACC13B,MAAM,SACN2nB,QAAS,WACR8Q,iBAGDhS,EAAApxB,EAAAqxB,cAACqO,GAAA,EAAD,KACCtO,EAAApxB,EAAAqxB,cAACgS,GAAArjC,EAAD,OAEDoxB,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtO,QAAS,CAAE8O,QAAS9O,EAAQ8O,SAC5BA,QAAS3+B,EAAE,gBAMhBmwB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQuI,SACvBjI,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWC,IAAWjB,EAAQqI,KAAMrI,EAAQgJ,eAChD1I,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CACC9C,QAAQ,YACRlK,MAAM,UACNP,UAAWhB,EAAQqI,KACnBmK,QAAM,GAELriC,EAAE6F,0JC/FJy8B,GAAoB,IACpBC,eACL,SAAAA,EAAYvT,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAwpB,IAClBhiB,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAqiC,GAAA5hB,KAAA5H,KAAMiW,KAYPwT,QAAU,SAAAjD,GACT,OAAMA,GAAOjxB,eAAYm0B,QAAQC,UAAU5W,KAAKyT,GACxCoD,WAAQC,wBAAwBrD,EAAKv4B,mCAGtCu4B,GAlBWhf,EAqBnBsiB,aAAe,SAAA5I,GACdA,GAAMA,EAAG7E,iBAAmB6E,EAAG7E,kBAC/B6E,GAAMA,EAAG9E,gBAAkB8E,EAAG9E,iBAC9B,IAAIhG,EAAS5O,EAAKlhB,MAAM8vB,OACxB5O,EAAK2O,SAAS,CAAEC,QAASA,KAzBP5O,EAqDnBuiB,0BAA4B,SAAAtT,GAC3B,IAAMuT,EAAUxiB,EAAKiiB,QAAQhT,EAAU+P,KACjCyD,EAAUziB,EAAKiiB,QAAQjiB,EAAKyO,MAAMuQ,KAClC0D,EAAe1iB,EAAKiiB,QAAQhT,EAAU0T,aACpCtyB,EAAc4e,EAAd5e,UAEJmyB,IAAYC,MACGpyB,GAAauyB,aAAavyB,IAG3C2P,EAAK6iB,aAAe7iB,EAAK6iB,cAAgBC,SAASjT,cAAc,SAChE7P,EAAK+iB,gBAAgB,CACpBC,MAAOhjB,EAAKiiB,QAAQO,GACpBS,SAAUjjB,EAAKiiB,QAAQS,IAAiBQ,SAGzCljB,EAAKmjB,aAAenjB,EAAKmjB,cAAgB,IAAIC,MAC7CpjB,EAAKqjB,gBAAgB,CACpBL,MAAOhjB,EAAKiiB,QAAQO,GACpBS,SAAUjjB,EAAKiiB,QAAQS,IAAiBQ,UAxEzBljB,EAwFnBsjB,iBAAmB,WACdtjB,EAAKujB,cACRC,aAAaxjB,EAAKujB,aAClBvjB,EAAKujB,YAAc,OA3FFvjB,EA+FnByjB,OAAS,SAAAR,GACJjjB,EAAKmjB,eACRnjB,EAAKmjB,aAAaO,QAAU,KAC5B1jB,EAAKmjB,aAAaQ,OAAS,KAC3B3jB,EAAKmjB,aAAaS,QAAU,KAE5B5jB,EAAKsjB,mBACLtjB,EAAKmjB,aAAanE,IAAMiE,GAGzBjjB,EAAKsjB,mBAELtjB,EAAK2O,SAAS,CACboS,OAAQkC,GAAY,QA5GHjjB,EAgHnBqjB,gBAAkB,SAAAhkC,GAAyB,IAAtB2jC,EAAsB3jC,EAAtB2jC,MAAOC,EAAe5jC,EAAf4jC,SAC3BjjB,EAAKujB,YAAcrY,WAAW,WAC7BlL,EAAKyjB,OAAOR,IACVlB,IAEH/hB,EAAKmjB,aAAaO,QAAU1jB,EAAKmjB,aAAaS,QAAU5jB,EAAKyjB,OAAO5Q,KAAZlzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,GAEvDijB,GAGDjjB,EAAKmjB,aAAaQ,OAAS,WAC1B3jB,EAAKsjB,mBACLtjB,EAAK2O,SAAS,CACboS,OAAQiC,KAIVhjB,EAAKmjB,aAAanE,IAAMgE,GAjINhjB,EAoInB+iB,gBAAkB,SAAAhjC,GAAyB,IAAtBijC,EAAsBjjC,EAAtBijC,MAAOC,EAAeljC,EAAfkjC,SAC3BjjB,EAAK6iB,aAAa7D,IAAMgE,EAExBhjB,EAAKujB,YAAcrY,WAAW,WAC7BlL,EAAKyjB,OAAOR,IACVlB,IAEH/hB,EAAK6iB,aAAagB,iBAAmB,SAAA3jC,GAAgBA,EAAb81B,OACvChW,EAAKsjB,mBACLtjB,EAAK2O,SAAS,CACbmV,SAAUd,MA5IZhjB,EAAKlhB,MAAQ,CACZiiC,OAAQ,KACRnS,QAAQ,EACRkV,SAAU,MAGX9jB,EAAKqjB,gBAAkBrjB,EAAKqjB,gBAAgBxQ,KAArBlzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,IACvBA,EAAK+iB,gBAAkB/iB,EAAK+iB,gBAAgBlQ,KAArBlzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,IACvBA,EAAKujB,YAAc,KAVDvjB,mFA4BC,IAAAiT,EACiCza,KAAKiW,MAAjDuQ,EADW/L,EACX+L,IAAK2D,EADM1P,EACN0P,YAAatyB,EADP4iB,EACO5iB,UAAW0zB,EADlB9Q,EACkB8Q,WAC/BC,IAAY3zB,GAAauyB,aAAavyB,GAE5C,GAAI2zB,IAAYD,EACf,OAAOvrB,KAAKmW,SAAS,CACpBoS,OAAQkD,OAIND,GACHxrB,KAAKqqB,aAAeC,SAASjT,cAAc,SAC3CrX,KAAKuqB,gBAAgB,CACpBC,MAAOxqB,KAAKypB,QAAQjD,GACpBiE,SAAUzqB,KAAKypB,QAAQU,IAAgBO,SAGxC1qB,KAAK2qB,aAAe,IAAIC,MACxB5qB,KAAK6qB,gBAAgB,CACpBL,MAAOxqB,KAAKypB,QAAQjD,GACpBiE,SAAUzqB,KAAKypB,QAAQU,IAAgBO,uDA+BzC1qB,KAAK8qB,mBACD9qB,KAAK2qB,eACR3qB,KAAK2qB,aAAaO,QAAU,KAC5BlrB,KAAK2qB,aAAaQ,OAAS,KAC3BnrB,KAAK2qB,aAAaS,QAAU,KAC5BprB,KAAK2qB,aAAe,8CA+DN,IAAA9T,EAAA7W,KACP8W,EAAY9W,KAAKiW,MAAjBa,QACR,OACCM,EAAApxB,EAAAqxB,cAAA,YACCD,EAAApxB,EAAAqxB,cAACqU,GAAA,EAAD,CACCC,KAAK,QACLtT,MAAM,UACNP,UAAWC,IAAWjB,EAAQ8U,gBAC9BtT,QAAS,WACRzB,EAAKiT,iBAGN1S,EAAApxB,EAAAqxB,cAACwU,GAAA7lC,EAAD,OAEAga,KAAK8rB,2EAKgB,IAAAxP,EACUtc,KAAKiW,MAA/BhvB,EADgBq1B,EAChBr1B,EAAGw/B,EADanK,EACbmK,IAAK3P,EADQwF,EACRxF,QAAS3mB,EADDmsB,EACCnsB,KADD47B,EAEa/rB,KAAK1Z,MAAlC8vB,EAFgB2V,EAEhB3V,OAAQmS,EAFQwD,EAERxD,OAAQ+C,EAFAS,EAEAT,SAExB,OACClU,EAAApxB,EAAAqxB,cAACyD,EAAA,EAAD,CACCvD,KAAMnB,EACNjmB,KAAMA,GAAQ,SACd0pB,UAAU,EACVnC,QAAS1X,KAAK8pB,aACdhT,QAAS,CAAEyM,MAAOzM,EAAQkV,SAE1B5U,EAAApxB,EAAAqxB,cAAC2D,EAAA,EAAD,CAAelD,UAAWhB,EAAQmV,mBAChC1D,EACAnR,EAAApxB,EAAAqxB,cAAA,OACCoP,IAAKA,EACLD,IAAK+B,EACLzK,UAAU,QACVhG,UAAWC,IAAWjB,EAAQoV,YAAapV,EAAQqV,YACnDC,YAAa,SAAAjQ,GAAK,OAAIA,EAAMC,oBAG7BhF,EAAApxB,EAAAqxB,cAAA,SACCmP,IAAK8E,EACLe,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJC,UAAQ,EACR1U,UAAWC,IAAWjB,EAAQoV,YAAapV,EAAQqV,eAItD/U,EAAApxB,EAAAqxB,cAAC6D,EAAA,EAAD,KACC9D,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CAAQ7C,QAAStY,KAAK8pB,aAAczR,MAAM,WACxCpxB,EAAE,6CAOC,IAAAwlC,EAOJzsB,KAAKiW,MALRwQ,EAFOgG,EAEPhG,IACAiG,EAHOD,EAGPC,gBACA5U,EAJO2U,EAIP3U,UACAhB,EALO2V,EAKP3V,QACA6V,EANOF,EAMPE,kBANOC,EAQqB5sB,KAAK1Z,MAA1BiiC,EARAqE,EAQArE,OAAQ+C,EARRsB,EAQQtB,SAChB,OAAO/C,GAAU+C,EAChBlU,EAAApxB,EAAAqxB,cAAA,OACCS,UAAWC,IAAWjB,EAAQ+V,UAAW/U,EAAWhB,EAAQgW,UAEzDvE,EACFnR,EAAApxB,EAAAqxB,cAAA,OACCoP,IAAKA,EACLD,IAAKxmB,KAAK1Z,MAAMiiC,OAChBzK,UAAU,QACVhG,UAAWC,IAAWjB,EAAQqV,WAAYrU,EAAWhB,EAAQiW,KAC7DX,YAAa,SAAAjQ,GAAK,OAAIA,EAAMC,kBAC5B9D,QAASqU,GAAqB3sB,KAAK8pB,eAGpC1S,EAAApxB,EAAAqxB,cAAA,SACCmP,IAAK8E,EACLxT,UAAWC,IAAWjB,EAAQqV,WAAYrU,EAAWhB,EAAQiW,KAC7DV,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJjU,QAASqU,GAAqB3sB,KAAK8pB,eAGpC4C,GAAmB1sB,KAAKgtB,gBACxBL,GAAqB3sB,KAAK8rB,0BAG5B1U,EAAApxB,EAAAqxB,cAAA,QAAMS,UAAWC,IAAWjB,EAAQqV,WAAYrU,IAC/CV,EAAApxB,EAAAqxB,cAAA,QAAMS,UAAWhB,EAAQmW,UACxB7V,EAAApxB,EAAAqxB,cAAC4L,GAAA,EAAD,eAtPavK,aAsQHoB,KAAUjB,YC1RH,SAAAC,GAAK,MAAK,CAC/BqT,WAAY,CACXhV,IAAK,EACL4H,KAAM,EACNnF,MAAO,OACPsG,OAAQ,OACRtB,SAAU,WACVnF,QAAS,gBAEVoT,UAAW,CACV1V,IAAK,EACL4H,KAAM,EACNnF,MAAO,OACPsG,OAAQ,cACRtB,SAAU,WACVnF,QAAS,gBAEVwT,SAAU,CACTrO,SAAU,WACVzH,IAAK,mBACL4H,KAAM,mBACNtF,QAAS,gBAEVmS,eAAgB,CACfhN,SAAU,WACVzH,IAAK2B,EAAMC,QAAQ,GACnBiG,MAAOlG,EAAMC,QAAQ,GACrBmU,OAAQ,UACRtT,MAAO,OACPsG,OAAQ,OACRrB,UAAW,QAEZmN,OAAQ,CACPmB,0BAA2B,CAC1BzL,SAAQ,gBAAAroB,OAAkByf,EAAMC,QAAQ,GAAhC,QAETqU,2BAA4B,CAC3BvO,UAAW,SAGboN,kBAAmB,CAClBoB,2BAA4B,CAC3BxT,SAAU,OACVyT,UAAW,QACX7T,QAAS,QACTL,OAAQ,QAET+T,0BAA2B,CAC1BxN,YAAa,EACbD,aAAc,IAGhBwM,YAAa,CACZhM,OAAQ,OACRrG,SAAU,QAEXkT,IAAK,CACJnT,MAAO,OACPsG,OAAQ,QAET4M,QAAS,CACR5M,OAAQ,cACRtG,MAAO,iBD4NgBf,CAAmB2Q,oCErR/B+D,GAAmB,SAAA1mC,GAA2C,IAAxC2mC,EAAwC3mC,EAAxC2mC,OAAQC,EAAgC5mC,EAAhC4mC,UAAWC,EAAqB7mC,EAArB6mC,SAAU/B,EAAW9kC,EAAX8kC,KAEzDgC,EAAarD,SAASjT,cAAc,UACpCuW,EAActD,SAASjT,cAAc,UAErC0V,EAAM,IAAInC,MAKhB,OAJAmC,EAAIc,YAAc,YAClBd,EAAIvG,IAAMgH,EAGH,IAAIvtB,QAAQ,SAACC,EAASuS,GAC5Bsa,EAAI5B,OAAS,WACZ,IAAMvR,EAAQmT,EAAInT,MACZsG,EAAS6M,EAAI7M,OAGb4N,EAAO,CACZC,EAAGn1B,KAAKo1B,MAAMpU,GAAS6T,EAAUM,EAAI,MACrCE,EAAGr1B,KAAKo1B,MAAM9N,GAAUuN,EAAUQ,EAAI,MACtCrU,MAAOhhB,KAAKo1B,MAAMpU,GAAS6T,EAAU7T,MAAQ,MAC7CsG,OAAQtnB,KAAKo1B,MAAM9N,GAAUuN,EAAUvN,OAAS,OAGjDyN,EAAW/T,MAAQkU,EAAKlU,MACxB+T,EAAWzN,OAAS4N,EAAK5N,OACZyN,EAAWO,WAAW,MAE9BC,UACJpB,EACAe,EAAKC,EACLD,EAAKG,EACLH,EAAKlU,MACLkU,EAAK5N,OACL,EACA,EACA4N,EAAKlU,MACLkU,EAAK5N,QAGN0N,EAAYhU,MAAQ+R,EAAK/R,MACzBgU,EAAY1N,OAASyL,EAAKzL,OAEb0N,EAAYM,WAAW,MAE/BC,UACJR,EACA,EACA,EACAG,EAAKlU,MACLkU,EAAK5N,OACL,EACA,EACAyL,EAAK/R,MACL+R,EAAKzL,QAGN0N,EAAYQ,OAAO,SAAAC,GACbA,GACJ5b,EAAO,uBAER4b,EAAKp2B,KAAOy1B,EACZxtB,EAAQouB,IAAIC,gBAAgBF,KAC1B,sGC9CAG,eACL,SAAAA,EAAYvY,GAAO,IAAAzO,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAwuB,IAClBhnB,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAqnC,GAAA5mB,KAAA5H,KAAMiW,KAaPwY,OAAS,SAACC,EAAeC,GACxB,IAAMC,EAAIznC,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,GACJ6mB,EAAOK,EAAc,GAC3B,GAAKL,EAAL,CACA,IAAMQ,EAAYP,IAAIC,gBAAgBF,GAEtCO,EAAKzY,SAAS,CACboS,OAAQsG,EACRC,QAAST,EAAKp2B,KACd82B,KAAMV,EAAKl+B,OAGZqX,EAAKyO,MAAMmM,SAAS,CACnB4M,QAASH,EACTE,KAAMV,EAAKl+B,SA5BMqX,EAgCnBynB,SAAW,SAAAz8B,GACVgV,EAAK0nB,gBAAgB18B,GADN,IAGP+1B,EAAW/gB,EAAKlhB,MAAhBiiC,OAEJA,IACH+F,IAAIa,gBAAgB5G,GACpB/gB,EAAK2O,SAAS,CAAEoS,OAAQ,GAAIuG,QAAS,KACrCtnB,EAAKyO,MAAMmM,SAAS,CAAE4M,QAAS,KAAMD,KAAM,SAxC1BvnB,EA4CnB4nB,aAAe,SAAAtB,GACdtmB,EAAK2O,SAAS,CAAE2X,UA7CEtmB,EAgDnB6nB,YAAc,WAAM,IAAAtD,EACqBvkB,EAAKlhB,MAArCiiC,EADWwD,EACXxD,OAAQuF,EADG/B,EACH+B,KAAMiB,EADHhD,EACGgD,KAAMD,EADT/C,EACS+C,QADTrU,EAEQjT,EAAKyO,MAAxBmM,EAFW3H,EAEX2H,SAAUuJ,EAFClR,EAEDkR,KAClB4B,GAAiB,CAChBC,OAAQjF,EACRkF,UAAWK,EACXJ,SAAQ,WAAAr0B,OAAay1B,GACrBnD,SACEnoB,KAAK,SAAA8rB,GACPhB,IAAIa,gBAAgB5G,GACpB/gB,EAAK2O,SAAS,CAAEoS,OAAQ+G,EAAaC,UAAU,IAC/CnN,EAAS,CACR4M,QAASM,EACTP,YA7DgBvnB,EAkEnB0nB,gBAAkB,SAAA18B,GACbA,EAAE6pB,iBACL7pB,EAAE6pB,kBAEC7pB,EAAEg9B,aACLh9B,EAAEg9B,YAAYC,4BAvEGjoB,EA2EnBkoB,WAAa,WAAM,IAAApT,EACmB9U,EAAKyO,MAAlChvB,EADUq1B,EACVr1B,EAAG6vB,EADOwF,EACPxF,QAAS6U,EADFrP,EACEqP,KAAMgE,EADRrT,EACQqT,OADR/C,EAEOplB,EAAKlhB,MAAtBiiC,EAFUqE,EAEVrE,OAAQwG,EAFEnC,EAEFmC,KAChB,OACC3X,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ8Y,YACtBrH,IAAW6B,aAAa2E,GACxB3X,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ+Y,iBAEpBlE,GACFvU,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRlK,MAAM,UACNC,QAAS,SAAA9lB,GACRgV,EAAK0nB,gBAAgB18B,GACrBgV,EAAK2O,SAAS,CAAEoZ,UAAU,KAE3BzX,UAAWhB,EAAQgZ,aAEnB1Y,EAAApxB,EAAAqxB,cAAC0Y,GAAA/pC,EAAD,CAAU8xB,UAAWhB,EAAQyQ,WAC5BtgC,EAAE,kBAbN,OAiBCmwB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRjK,QAAS9Q,EAAKynB,SACdnX,UAAWhB,EAAQgZ,aAEnB1Y,EAAApxB,EAAAqxB,cAAC2Y,GAAAhqC,EAAD,CAAW8xB,UAAWhB,EAAQyQ,WAC7BtgC,EAAE,oBAILmwB,EAAApxB,EAAAqxB,cAAC4Y,GAAAjqC,EAAD,MAEDoxB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,gBAAQpwB,EAAE,2BAAV,MAEDmwB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,0CAEDD,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYvN,UAAWhB,EAAQ6Y,OAAQtX,MAAM,SAC3CsX,MAtHa,IAEVhE,EAAuB1V,EAAvB0V,KAAMpD,EAAiBtS,EAAjBsS,OAAQwG,EAAS9Y,EAAT8Y,KAChBmB,EAASvE,EAAOA,EAAK/R,MAAQ+R,EAAKzL,YAAS/5B,EAH/B,OAKlBqhB,EAAKlhB,MAAQ,CACZiiC,OAAQA,GAAU,GAClBwG,KAAMA,GAAQ,GACdD,QAAS,GACTS,UAAU,EACVzB,KAAM,CAAEoC,OAAQA,IAVC1oB,wEA8HV,IAAAqP,EAAA7W,KAAAysB,EACsCzsB,KAAKiW,MAA3ChvB,EADAwlC,EACAxlC,EAAG6vB,EADH2V,EACG3V,QAASlb,EADZ6wB,EACY7wB,MAAOu0B,EADnB1D,EACmB0D,eADnBC,EAE0CpwB,KAAK1Z,MAA/CwnC,EAFAsC,EAEAtC,KAAMyB,EAFNa,EAEMb,SAAUT,EAFhBsB,EAEgBtB,QAASvG,EAFzB6H,EAEyB7H,OAAQwG,EAFjCqB,EAEiCrB,KAEnCzD,EAAWlB,aAAa2E,GAC9B,OACC3X,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQuZ,SACvBjZ,EAAApxB,EAAAqxB,cAACqR,GAAA,EAAD,CACC9J,SAAS,SACTvG,MAAM,UACNvB,QAAS,CACR0H,KAAM1H,EAAQwZ,SAGflZ,EAAApxB,EAAAqxB,cAACsR,GAAA,EAAD,KACEJ,GAAUuG,EACV1X,EAAApxB,EAAAqxB,cAAA,YACEzb,GAAS,QADX,KACsBkzB,GAGtB1X,EAAApxB,EAAAqxB,cAAA,gBAAQzb,GAAS,eAAjB,OAIHwb,EAAApxB,EAAAqxB,cAAA,WACEkY,EACAnY,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQyZ,SAAUjY,QAAStY,KAAKkvB,iBAC/C9X,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CACCC,WAAS,EACT1X,QAAS,EACT2X,aAAa,SACbhX,WAAW,UAEXtC,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAACwZ,GAAA7qC,EAAD,CACCg4B,MAAO,CAAEnE,SAAU,OAAQyT,UAAW,KACtCwD,WAAY,CACXjX,SAAU,OACVyT,UAAW,QACX1T,MAAO,OACPsG,OAAQ,QAETpI,UAAWhB,EAAQia,mBACnBjD,KAAMA,EACNtH,IAAK+B,GAAU,GACfnG,SAAUpiB,KAAKovB,gBAIjBhY,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYhN,MAAM,UAAUiN,cAAY,GACtCr+B,EAAE,kBAEJmwB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRlK,MAAM,UACNC,QAAStY,KAAKqvB,YACd2B,UAAWlD,EAAKlU,QAAUkU,EAAK5N,OAC/BpI,UAAWhB,EAAQgZ,aAEnB1Y,EAAApxB,EAAAqxB,cAAC4Z,GAAAjrC,EAAD,CAAU8xB,UAAWhB,EAAQyQ,WAC5BtgC,EAAE,uBAEJmwB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRjK,QAAS,kBAAMzB,EAAKV,SAAS,CAAEoZ,UAAU,KACzCzX,UAAWhB,EAAQgZ,aAEnB1Y,EAAApxB,EAAAqxB,cAAC2Y,GAAAhqC,EAAD,CAAW8xB,UAAWhB,EAAQyQ,WAC7BtgC,EAAE,4BAMPmwB,EAAApxB,EAAAqxB,cAAC6Z,GAAA,EAAD,CACC3b,OAAO,uBACPkZ,OAAQzuB,KAAKyuB,OACb3W,UAAWhB,EAAQyZ,UAEnBnZ,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CACCC,WAAS,EACT1X,QAAS,EACT2X,aAAa,SACbhX,WAAW,UAEXtC,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACrBtF,EACAlU,EAAApxB,EAAAqxB,cAAA,SAAOmV,UAAQ,EAAChG,IAAK+B,EAAQp4B,KAAK,cAElCinB,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACC3K,IAAK+B,EACL9B,IAAK,OACL3O,UAAWhB,EAAQia,sBAItB3Z,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAAArX,KAAM0vB,WAAN,UAMLtY,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,iBAAS8Y,EAAT,cAxOiBzX,aAqPPoB,KAAUjB,YC1QH,SAAAC,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACNuX,OAAQ,CACP3L,aAAc5L,GAEfwX,SAAU,CACT9W,QAAS,OACT2F,cAAe,SACfD,KAAM,MACNe,OAAQ,OACRtG,MAAO,OACPZ,OAAM,cAAA3f,OAAgByf,EAAMwH,QAAQ8Q,KAAK,MACzC7Q,WAAYzH,EAAMwH,QAAQC,WAAWC,QACrCC,QAAS,GACTyM,OAAQ,UACRvO,SAAU,UAEXoS,mBAAoB,CACnBzD,UAAW,IACXzT,SAAU,OACVqG,OAAQ,OACRtG,MAAO,QAERkW,YAAa,CACZnL,aAAc5L,EACdS,YAAaT,GAEdwO,SAAU,CACT/N,YAAaT,GAEd8W,cAAe,CACdwB,UAAWtY,KD0OWF,CAAmB2V,KElQ7B,SAAS8C,GAAcvX,GAAW,IAC1CwX,EAD0C,SAAAvb,GAAA,SAAAub,IAAA,IAAA7V,EAAAlU,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAuxB,GAAA,QAAA5V,EAAA11B,UAAAC,OAAAoJ,EAAA,IAAAssB,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAvsB,EAAAusB,GAAA51B,UAAA41B,GAAA,OAAArU,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,MAAA0b,EAAAv0B,OAAAwgB,EAAA,EAAAxgB,CAAAoqC,IAAA3pB,KAAA9O,MAAA4iB,EAAA,CAAA1b,MAAA3G,OAAA/J,MAE/CkiC,SAAW,SAAA3qC,GAYL,IAXL4qC,EAWK5qC,EAXL4qC,UACAC,EAUK7qC,EAVL6qC,YACAC,EASK9qC,EATL8qC,aACAC,EAQK/qC,EARL+qC,WACAC,EAOKhrC,EAPLgrC,YACAxe,EAMKxsB,EANLwsB,IACAye,EAKKjrC,EALLirC,MAEA1P,GAGKv7B,EAJLkrC,SAIKlrC,EAHLu7B,UACA2M,EAEKloC,EAFLkoC,KACAC,EACKnoC,EADLmoC,QAEIgD,GAAU,EAEVF,IACHE,EAAUC,aACTP,EACAE,EACAD,EACAE,KAIGC,IAAUJ,EAAcE,GAAcD,EAAeE,KACzDG,GAAU,GAGX,IAAME,EAAW,CAACR,EAAaC,EAAc,MAE7CnqB,EAAKyO,MAAMub,SAASC,EAAW,CAC9BO,QAASA,EACTtd,IAAK,CAAErB,IAAKA,EAAK/jB,KAAM4iC,GACvBC,OAAO,IAUgB,oBAAb/P,GACVA,EAASqP,EARO,CAChB7X,MAAOgY,EACP1R,OAAQ2R,EACR9C,OACAC,aA1C6CxnB,EAkD/C4qB,cAlD+CjrC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAkD/B,SAAAO,IAAA,IAAAxX,EAAA+pC,EAAAC,EAAAC,EAAAte,EAAAye,EAAAC,EAAA3P,EAAAzqB,EAAAg0B,EAAArsB,EAAArZ,UAAA,OAAAoiB,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAAAvX,EAAA4X,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GASX,GAPHmyB,EAFc/pC,EAEd+pC,UACAC,EAHchqC,EAGdgqC,YACAC,EAJcjqC,EAIdiqC,aACAte,EALc3rB,EAKd2rB,IACAye,EANcpqC,EAMdoqC,MACAC,EAPcrqC,EAOdqqC,SACA3P,EARc16B,EAQd06B,SAEDzqB,EAVe2H,EAAApZ,OAAA,EAAAoZ,EAAA,QAAAnZ,EAYV4rC,GAAap6B,EAAMq3B,UAAW5M,EAZpB,CAAA7iB,EAAAN,KAAA,eAaduI,EAAKyO,MAAMub,SAASC,EAAW,CAC9BO,SAAS,EACTtd,IAAK,CAAErB,IAAKA,EAAK/jB,KAAM,IACvB6iC,OAAO,IAGR/P,EAASqP,EAAW95B,GAnBN4H,EAAAK,OAAA,oBAuBVjI,EAAMo3B,MAASp3B,EAAMq3B,QAvBX,CAAAzvB,EAAAN,KAAA,eAwBduI,EAAKyO,MAAMub,SAASC,EAAW,CAC9BO,SAAS,EACTG,OAAO,IA1BM5yB,EAAAK,OAAA,wBAAAL,EAAAN,KAAA,GA+BIozB,aAAa,CAAEtD,KAAMp3B,EAAMo3B,KAAMvI,IAAK7uB,EAAMq3B,UA/BhD,QA+BTrD,EA/BSpsB,EAAAC,KAiCfgI,EAAKgqB,SAAS,CACbC,YACAC,cACAC,eACAC,WAAYjG,EAAK/R,MACjBiY,YAAalG,EAAKzL,OAClB7M,MACAye,QACAC,WACA3P,WACA2M,KAAMp3B,EAAMo3B,KACZC,QAASr3B,EAAMq3B,UA5CD,yBAAAzvB,EAAAO,SAAAZ,MAlD+BsI,EAAA,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAAoqC,EAAAvb,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAoqC,EAAA,EAAAp3B,IAAA,SAAAxJ,MAAA,WAmG9C,IAAMslB,EAAQjW,KAAKiW,MACnB,OAAOmB,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GAAehE,EAAf,CAAsBmc,cAAepyB,KAAKoyB,qBApGHb,EAAA,CACvB7Y,aAyHzB,OAAOpO,YAbP,SAAyBhkB,EAAO2vB,GAE/B,MAAO,CACN1gB,YAFkBjP,EAAX0F,OAEauJ,YAAY0gB,EAAMqc,cAIxC,SAA4B3Z,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIhCrO,CAGLwP,EAAUyX,IC9HE,SAASgB,GAAcxY,GA0BrC,OAzBkB,SAAA9D,GACjB,IAAM1gB,EACLykB,YAAY,SAAA1zB,GAAK,OAAIkP,aAAsBlP,EAAO2vB,EAAMqc,eAAgB,GAUzE,OACClb,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GACKhE,EADL,CAECub,SAXqB,SACtBr3B,EADsBtT,GAGlB,IADFmrC,EACEnrC,EADFmrC,QACEQ,EAAA3rC,EADO6tB,WACP,IAAA8d,EADa,CAAEnf,IAAK,GAAI/jB,KAAM,IAC9BkjC,EAAAC,EAAA5rC,EADoCsrC,aACpC,IAAAM,KAAAC,EAAA7rC,EADmD8rC,iBACnD,IAAAD,KACIJ,EAAerc,EAAfqc,WACRnR,YAAQqQ,aAASc,EAAYn4B,EAAK,CAAE63B,UAAStd,MAAKyd,QAAOQ,gBAOxDC,cAAer9B,MCxBZ,ICmBMs9B,GAAb,SAAA7c,GACC,SAAA6c,EAAY5c,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA6yB,IAClBrrB,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA0rC,GAAAjrB,KAAA5H,KAAMiW,KAMPgL,aAAe,SAAChpB,EAAMtH,GACrB,IAAImiC,EAAS3rC,OAAAC,GAAA,EAAAD,CAAA,GAAQqgB,EAAKlhB,MAAMoK,QAChCoiC,EAAU76B,GAAQtH,EAClB6W,EAAK2O,SAAS,CAAEzlB,OAAQoiC,KAVNtrB,EAanBurB,KAAO,WACN,IAAMC,EAAOxrB,EAAKlhB,MAAMoK,OACxBvJ,OAAO+S,KAAK84B,GAAMC,QAAQ,SAAA94B,GACzBqN,EAAKyO,MAAMid,cAAc/4B,EAAK64B,EAAK74B,MAEpCqN,EAAKyO,MAAM6T,gBAhBXtiB,EAAKlhB,MAAQ,CACZoK,OAAQ,IAHS8W,EADpB,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAA0rC,EAAA7c,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAA0rC,EAAA,EAAA14B,IAAA,SAAAxJ,MAAA,WAuBE,IAEIwiC,GADcnzB,KAAKiW,MAAM2c,eAAiB,IACrB5yB,KAAKiW,MAAMmd,aAChCxZ,EAAQ5Z,KAAKiW,MAAM2D,OAASyZ,KAC5BnT,EAASlgB,KAAKiW,MAAMiK,QAAUoT,KAClC,OACClc,EAAApxB,EAAAqxB,cAAA,YACCD,EAAApxB,EAAAqxB,cAACyD,EAAA,EAAD,CACCvD,KAAMvX,KAAKiW,MAAMG,OAGjB9c,MAAO0G,KAAKiW,MAAM3c,MAClBnJ,KAAM6P,KAAKiW,MAAM9lB,MAAQ,UAGzBinB,EAAApxB,EAAAqxB,cAAC0D,EAAA,EAAD,KACC3D,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CAAYG,QAAStY,KAAKiW,MAAM6T,cAC/B1S,EAAApxB,EAAAqxB,cAACkc,GAAAvtC,EAAD,OAEAga,KAAKiW,MAAMhvB,EAAE+Y,KAAKiW,MAAM3c,QAE1B8d,EAAApxB,EAAAqxB,cAAC2D,EAAA,EAAD,KACC5D,EAAApxB,EAAAqxB,cAACmc,GAAD,CACC53B,WAASoE,KAAKiW,MAAMwd,SACpBlL,OAAQvoB,KAAKiW,MAAMsS,QAAU,GAC7BnG,SAAUpiB,KAAKiW,MAAMmc,cAAc/X,KAAKra,KAAM,CAC7CyxB,UAAWzxB,KAAKiW,MAAMmd,YACtB1B,YAAa9X,EACb+X,aAAczR,EACd7M,IAAKrT,KAAKiW,MAAM0Z,OAChBmC,MAAO9xB,KAAKiW,MAAM6b,MAClBC,SAAU/xB,KAAKiW,MAAM8b,SACrB3P,SAAUpiB,KAAKihB,eAEhBkP,oBAAkBnwB,KAAKiW,MAAMka,eAC7BR,OAAQwD,EAASA,EAAOxD,OAAS,GACjChE,KAAM,CAAE/R,MAAOA,EAAOsG,OAAQA,MAGhC9I,EAAApxB,EAAAqxB,cAAC6D,EAAA,EAAD,KACC9D,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CAAQ7C,QAAStY,KAAKiW,MAAM6T,aAAczR,MAAM,WAC9C,UAEFjB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC7C,QAAStY,KAAK+yB,KACd1a,MAAM,UACN+C,WAAS,EACT4V,YACIhxB,KAAKiW,MAAM2c,eAAiB,IAAI5yB,KAAKiW,MAAMmd,cAG9C,aA1ERP,EAAA,CAA+Bna,aAsGhBpO,mBAdf,SAAyBhkB,GAGxB,MAAO,CACNgC,QAHahC,EAAME,QAGF8B,UAInB,SAA4BqwB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIxBrO,CAGbopB,GAAapC,GAAczY,YD5HP,SAAAC,GAErB,MAAO,IC0HqBD,CAAmBga,2DC7G1Cc,oLACI,IAAAlZ,EAUJza,KAAKiW,MARR2d,EAFOnZ,EAEPmZ,QACA9c,EAHO2D,EAGP3D,QACAtO,EAJOiS,EAIPjS,QACAqrB,EALOpZ,EAKPoZ,WACAC,EANOrZ,EAMPqZ,KACAv+B,EAPOklB,EAOPllB,YACAw+B,EAROtZ,EAQPsZ,aACA/C,EATOvW,EASPuW,SAED,OACC5Z,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ8H,UACvBxH,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQgW,SACvB1V,EAAApxB,EAAAqxB,cAACqU,GAAA,EAAD,CACCrT,MAAM,UAENC,QAAS,kBAAMwb,KACf9C,SACCA,GACA4C,IACCC,EAAW3tC,UACViB,OAAO+S,KAAK3E,EAAYw+B,IAAiB,IAAI7tC,QAK/CsiB,EAAU4O,EAAApxB,EAAAqxB,cAAC2c,GAAAhuC,EAAD,MAAgBoxB,EAAApxB,EAAAqxB,cAAC4Z,GAAAjrC,EAAD,SAEzB4tC,GACFxc,EAAApxB,EAAAqxB,cAAC4L,GAAA,EAAD,CAAkB0I,KAAM,GAAI7T,UAAWhB,EAAQmd,uBA/B/Bvb,aA8DPpO,mBAff,SAAyBhkB,EAAO2vB,GAE/B,IAAMjqB,EAAS1F,EAAM0F,OACrB,MAAO,CACN4nC,QAAS5nC,EAAOqB,SAAS4oB,EAAMie,WAC/B3+B,YAAavJ,EAAOuJ,cAItB,SAA4BojB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIxBrO,CAGbwP,EAAUjB,YC9EU,SAAAC,GAAK,MAAK,CAC/B0F,KAAM,CACL/E,QAAS,OACTC,WAAY,UAEboT,QAAS,CACRlO,SAAU,YAEXuV,cAAe,CACd14B,gBAAiB4c,KAAM,KACvBkM,UAAW,CACV9oB,gBAAiB4c,KAAM,OAGzB4b,YAAa,CACZ5b,MAAOA,KAAM,KACbuG,SAAU,WACVzH,KAAM,EACN4H,MAAO,EACPL,OAAQ,GAET0V,eAAgB,CACf/b,MAAOA,KAAM,KACbuG,SAAU,WACVzH,IAAK,MACL4H,KAAM,MACNsS,WAAY,GACZ3Q,YAAa,IAEd9B,SAAU,CACTA,SAAU,QACVzH,IAAK,GACL6H,MAAO,GACPN,OAAQ5F,EAAM4F,OAAOI,OAAS,KD6CpBjG,CAAmB8a,4EEhFlBrV,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAG9B,MAAO,CACNsb,UAAW,CACVnU,OAAQ,EACRX,WALa,SAMbX,SAAU,WACVD,SAAU,UAEXoO,IAAK,CACJnO,SAAU,WACVzH,IAAK,EACLyM,OAAQ,EACR7E,KAAM,EACNC,MAAO,EACP5F,OAAQ,OAGR8G,OAAQ,OACRtG,MAAO,QAER0a,YAAa,CACZ5T,WAAY3H,GAEbwb,WAAY,CACX/a,YAAaT,GAEdrP,MAAO,CACN2O,MAAOS,EAAMwH,QAAQ5W,MAAM8X,MAE5BgT,UAAW,CACV7P,aAAc5L,EACdS,YAAaT,GAEd5B,IAAK,CACJsC,QAAS,OACT2F,cAAe,SACfqV,SAAU,OACV5a,SAAU,OAEX6a,YAAa,CACZjb,QAAS,OACT2F,cAAe,MACfqV,SAAU,OACV/a,WAAY,SACZrB,MAAOS,EAAMwH,QAAQoD,UAAUlC,KAC/BmD,aAAc5L,GAEf4b,WAAY,CACXvb,OAAQL,EACR2H,WAAY,GAEbkU,SAAU,CACThW,SAAU,WACVgF,OAAQ7K,EACRiG,MAAOjG,yDC3CJ8b,GAAWrZ,GAAoBL,KAE/B2Z,GAAO,SAAAjuC,GAAA,IAAG8kC,EAAH9kC,EAAG8kC,KAAH,OACZvU,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAIpJ,GACdvU,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CACC2P,QAAM,EACNzS,QAAO,IAAAlpB,OAAMsyB,GACb3N,MAAO,CAAEiX,cAAe,cAEvBhuC,aAAE,UAKAiuC,oLACI,IAAAza,EAQJza,KAAKiW,MANRa,EAFO2D,EAEP3D,QACAxd,EAHOmhB,EAGPnhB,MACA67B,EAJO1a,EAIP0a,SACAC,EALO3a,EAKP2a,QACAC,EANO5a,EAMP4a,SACAC,EAPO7a,EAOP6a,eAED,OACCle,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQgW,SACvB1V,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,EAAGwc,QAAQ,SAAS7b,WAAW,UACvDtC,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYvN,UAAWhB,EAAQxH,KAAMiT,QAAQ,KAAKiT,MAAM,UACtDvuC,aAAEqS,GAAS,QAGZ67B,GACA/d,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYvN,UAAWhB,EAAQxH,KAAMiT,QAAQ,aAC3Ct7B,aAAEkuC,KAKN/d,EAAApxB,EAAAqxB,cAACoe,GAAD,CAAM9J,KAAM,IACZvU,EAAApxB,EAAAqxB,cAACoe,GAAD,CAAM9J,KAAM,IACZvU,EAAApxB,EAAAqxB,cAACoe,GAAD,CAAM9J,KAAM,IACZvU,EAAApxB,EAAAqxB,cAACoe,GAAD,CAAM9J,KAAM,IACZvU,EAAApxB,EAAAqxB,cAACoe,GAAD,CAAM9J,KAAM,IACZvU,EAAApxB,EAAAqxB,cAACoe,GAAD,CAAM9J,KAAM,IACZvU,EAAApxB,EAAAqxB,cAACoe,GAAD,CAAM9J,KAAM,IAEZvU,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,EAAGpE,GAAI,GACrBvZ,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CAAK3K,IAAKkP,KAAWjP,IAAK,KAAM3O,UAAWhB,EAAQiW,OAEpD3V,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,EAAGpE,GAAI,GACrBvZ,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY2P,QAAM,EAACld,UAAWhB,EAAQxH,KAAMiT,QAAQ,SAClDoT,OAAOrpC,SAASswB,MAElBxF,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY2P,QAAM,EAACld,UAAWhB,EAAQxH,KAAMiT,QAAQ,SAClDoT,OAAOrpC,SAASswB,MAElBxF,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY2P,QAAM,EAACld,UAAWhB,EAAQxH,KAAMiT,QAAQ,SAClDoT,OAAOrpC,SAASswB,MAElBxF,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY2P,QAAM,EAACld,UAAWhB,EAAQxH,KAAMiT,QAAQ,SAClDoT,OAAOrpC,SAASswB,OAGnBxF,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,EAAGpE,GAAI,GACrBvZ,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CAAK3K,IAAKoP,KAAWnP,IAAK,MAAO3O,UAAWhB,EAAQiW,OAErD3V,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,EAAGpE,GAAI,IACnB2E,GACDle,EAAApxB,EAAAqxB,cAACwd,GAAD,CACCtS,QAAQ,YACR/oB,GAAI67B,GAAY,IAChB1J,KAAK,QACLtT,MAAM,WAELpxB,aAAEmuC,GAAW,sBA7DKvY,IAAMnE,WA+ElBoB,KAAUjB,YC3GH,SAAAC,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACN+T,QAAS,CACR1T,OAAM,GAAA/f,OAAe,EAAV0f,EAAL,WACNc,SAAU,KAEXkT,IAAK,CACJlT,SAAU,OACVqG,OAAQ,UDkGcrH,CAAmBqc,KE3EpCW,GAAsCC,WAAtCD,UAAWE,GAA2BD,WAA3BC,UAAWC,GAAgBF,WAAhBE,YACtBC,GAAmBC,SAAnBD,eAEO,SAASE,GAAQpc,GAAW,IACpCqc,EADoC,SAAApgB,GAEzC,SAAAogB,EAAYngB,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAo2B,IAClB5uB,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAivC,GAAAxuB,KAAA5H,KAAMiW,KAYPogB,UAAY,WAAe,IAAd3iC,EAAczN,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAOw0B,EACOjT,EAAKyO,MAA9Bxd,EADkBgiB,EAClBhiB,QAASxR,EADSwzB,EACTxzB,EAAGuP,EADMikB,EACNjkB,SACpBiC,EAAQ49B,UACP,WACApvC,EAAEuP,EAAU,CAAEpH,QAAQ,IAAU,MAAQsE,EAAK4F,OAAS,KAjBrCkO,EAwEnByZ,aAAe,SAAChpB,EAAMtH,GAAU,IACvB2lC,EAAa9uB,EAAKyO,MAAlBqgB,SADuBvK,EAEFvkB,EAAKlhB,MAA1BoN,EAFuBq4B,EAEvBr4B,KAAMmgC,EAFiB9H,EAEjB8H,WAERh+B,EAAU,IAAIygC,EAAS5iC,GAC7BmC,EAAQoC,GAAQtH,EAEhB,IAAM4lC,EAAK1C,EAAWrgC,MAAM,GAExB+iC,EAAGC,QAAQv+B,GAAQ,GACtBs+B,EAAG3iC,KAAKqE,GAGTuP,EAAK2O,SAAS,CAAEziB,KAAMmC,EAAQ4gC,WAAY5C,WAAY0C,KArFpC/uB,EAwFnBkvB,yBAA2B,SAAAC,GAAY,IAAAra,EACR9U,EAAKyO,MAA3BqgB,EAD8Bha,EAC9Bga,SAAU79B,EADoB6jB,EACpB7jB,QADoBm0B,EAESplB,EAAKlhB,MAA5CutC,EAF8BjH,EAE9BiH,WAAY+C,EAFkBhK,EAElBgK,iBAAkBljC,EAFAk5B,EAEAl5B,KAChCmjC,EAAwBD,EAAiBD,GACzC9gC,EAAU,IAAIygC,EAAS5iC,GAC7BmC,EAAQ8gC,GAAYE,EAEpB,IAAMN,EAAK1C,EAAWxhC,OAAO,SAAAkkC,GAC5B,OAAOA,IAAOI,IAGfnvB,EAAK2O,SAAS,CAAEziB,KAAMmC,EAAQ4gC,WAAY5C,WAAY0C,IAEtD99B,EAAQq+B,sBAAsBpjC,EAAK7F,GAAI8oC,IArGrBnvB,EAwGnBuvB,gBAAkB,SAACC,EAAOrmC,GACzB,IAAIsmC,EAAe9vC,OAAAC,GAAA,EAAAD,CAAA,GAAQqgB,EAAKlhB,MAAM4wC,cACtCD,EAAgBD,GAASrmC,EACzB6W,EAAK2O,SAAS,CAAE+gB,aAAcD,KA3GZzvB,EA+GnBssB,KAAO,WAAM,IAAArH,EAC2BjlB,EAAKyO,MAApCzf,EADIi2B,EACJj2B,SAAUo9B,EADNnH,EACMmH,QAASn7B,EADfg0B,EACeh0B,QADf23B,EAEiB5oB,EAAKlhB,MAA1BoN,EAFI08B,EAEJ18B,KAFI08B,EAEEyD,WAEC3tC,SAAW0tC,IACzBn7B,EAAQ0+B,WAAW,CAClB3gC,WACA9C,SAED8T,EAAK2O,SAAS,CAAE0d,WAAY,OAxHXrsB,EAgInBsiB,aAAe,WAGd,KAFgD,SAAjCtiB,EAAKyO,MAAM3tB,QAAQ8uC,WAElC,CAEA,IAAIhhB,EAAS5O,EAAKlhB,MAAM+wC,QACxB7vB,EAAK2O,SAAS,CAAEkhB,SAAUjhB,MApI1B5O,EAAKssB,KAAOtsB,EAAKssB,KAAKzZ,KAAVlzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,IACZA,EAAKlhB,MAAQ,CACZ4wC,aAAc,GACdxjC,KAAM,KACNkjC,iBAAkB,GAClB/C,WAAY,GACZwD,SAAS,EACTC,aAAc,MATG9vB,EAFsB,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAAivC,EAAApgB,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAivC,EAAA,EAAAj8B,IAAA,qBAAAxJ,MAAA,WAuBpB,IAAA4mC,EACgBv3B,KAAKiW,MAAjCviB,EADY6jC,EACZ7jC,KAAM8jC,EADMD,EACNC,QAASlB,EADHiB,EACGjB,SAEvB,GAAK5iC,EAAL,CAKA,IAAMkjC,EAAmB,IAAIN,EAAS5iC,GAEtCsM,KAAKmW,SAAS,CAAEziB,KAAKvM,OAAAC,GAAA,EAAAD,CAAA,GAAMuM,GAAQkjC,iBAAkBA,IACrD52B,KAAKq2B,UAAUO,QAPd52B,KAAKq2B,UAAU,CAAE/8B,MAAOk+B,MA3Be,CAAAr9B,IAAA,4BAAAxJ,MAAA,SA2Cf8lB,EAAWghB,GAAW,IACvCnB,EAAat2B,KAAKiW,MAAlBqgB,SAEJoB,EAAkB,IAAIpB,EADTt2B,KAAK1Z,MAAdoN,MACmC,IAIvCikC,EAAc,IAAIrB,EADP7f,EAAU/iB,MACkB,IAEvCgkC,EAAgBE,aAAeD,EAAYC,YAK9C53B,KAAKmW,SAAS,CACbziB,KAAMikC,EAAYlB,WAClBG,iBAAkBe,EAClBT,aAAc,GACdrD,WAAY,KAId7zB,KAAKq2B,UAAUsB,KAjEyB,CAAAx9B,IAAA,uBAAAxJ,MAAA,WAqEpCqP,KAAK1Z,MAAMoN,MACdsM,KAAKiW,MAAMxd,QAAQo/B,cAAc,SAAW73B,KAAK1Z,MAAMoN,KAAK7F,IAAI,KAtEzB,CAAAsM,IAAA,cAAAxJ,MAAA,SA8H7BmnC,GACX,OAAO93B,KAAK1Z,MAAMoN,KAAKmgC,WAAW2C,QAAQsB,IAAS,IA/HX,CAAA39B,IAAA,cAAAxJ,MAAA,SA2I7BsH,GAEX,OADgBmb,aAAUnb,GAAlBob,MA5IgC,CAAAlZ,IAAA,gBAAAxJ,MAAA,SAgJ3BsH,EAAMk6B,EAAOxC,GAAQ,IAAAoI,EACH/3B,KAAKiW,MAA5Bzf,EAD0BuhC,EAC1BvhC,SAAUg7B,EADgBuG,EAChBvG,SACdvkB,EAAS,KAEb,OAAQzW,GACP,IAAK,SACJyW,EAAS4oB,GAAUv8B,MACnB,MACD,IAAK,SACJ2T,EAAS8oB,GAAUz8B,MACnB,MACD,IAAK,WACJ2T,EAAS+oB,GAAY18B,MAMvB,IAAMpE,EAAS8iC,OAAIxG,SAASv5B,EAAMgV,GAClCukB,EAAS,QAAS,CACjBQ,SAAU98B,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClDqoB,MAAOA,MAtKgC,CAAAh4B,IAAA,sBAAAxJ,MAAA,SA0KrBsH,EAAMk6B,EAAOxC,GAAQ,IAAAsI,EACTj4B,KAAKiW,MAA5Bzf,EADgCyhC,EAChCzhC,SAAUg7B,EADsByG,EACtBzG,SACdvkB,EAAS,KAEb,OAAQzW,GACP,IAAK,SACJyW,EAAS4oB,GAAUqC,YACnB,MACD,IAAK,SACJjrB,EAAS8oB,GAAUmC,YAKrB,IAAMhjC,EAAS8iC,OAAIxG,SAASv5B,EAAMgV,GAClCukB,EAAS,cAAe,CACvBQ,SAAU98B,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClDqoB,MAAOA,MA5LgC,CAAAh4B,IAAA,SAAAxJ,MAAA,WAgMhC,IAAAkmB,EAAA7W,KAAAm4B,EAaJn4B,KAAKiW,MAVRa,GAHOqhB,EAEP5iC,YAFO4iC,EAGPrhB,SACA7vB,EAJOkxC,EAIPlxC,EACAqB,EALO6vC,EAKP7vC,QACAkO,EANO2hC,EAMP3hC,SACA8/B,EAPO6B,EAOP7B,SACAkB,EAROW,EAQPX,QACAxqC,EATOmrC,EASPnrC,KACA4lC,EAVOuF,EAUPvF,cACAN,EAXO6F,EAWP7F,WACGn/B,EAZIhM,OAAAiM,GAAA,EAAAjM,CAAAgxC,EAAA,6GAgBR,IAFkBn4B,KAAKiW,MAAMviB,KAG5B,OACC0jB,EAAApxB,EAAAqxB,cAAC+gB,GAAD,CACC9+B,MAAOrS,EAAE,wBACTkuC,SAAUluC,EAAE,0BAA2B,CACtCqI,KAAM,CAACkH,EAASwvB,cAAewR,KAEhCnC,SAAQ,cAAAh8B,OAAgBrM,GACxBooC,QAAQ,oBASX,IAAMiD,EAA+B,SAAtB/vC,EAAQ8uC,UACjB1jC,EAAO,IAAI4iC,EAASt2B,KAAK1Z,MAAMoN,MAAQ,IACzC4kC,EAAuB,WAAb9hC,EACV+xB,EAAS70B,EAAK6kC,KAAKvJ,SAAWt7B,EAAKkE,UAAYlE,EAAK8kC,iBAElDC,EAAW7F,EAAa,MACxB8F,EAAiB9F,EAAa,YACpC,OACCxb,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACCC,OAAQ54B,KAAK1Z,MAAMutC,WAAW3tC,OAC9B4jB,QAAS7iB,EAAE,2BAEZmwB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CACCC,WAAS,EACThhB,UAAWhB,EAAQ0d,UACnBpb,OAAO,QACP1P,QAAS+uB,KAAcA,EAAS9I,QAEhCvY,EAAApxB,EAAAqxB,cAAC0hB,GAAA,EAAD,KAAa9xC,EAAE,QAAS,CAAEmI,QAAQ,KAClCgoB,EAAApxB,EAAAqxB,cAAC2hB,GAAA,EAAD,CACCF,WAAS,EACT1d,WAAS,EACTjrB,KAAK,OACL8H,KAAMhR,EAAE,QAAS,CAAEmI,QAAQ,IAC3BuB,MAAO+C,EAAK4F,MACZ8oB,SAAU,SAAAlB,GACTrK,EAAKoiB,cAAc/X,EAAG1D,OAAO7sB,OAAO,GACpCkmB,EAAKoK,aAAa,QAASC,EAAG1D,OAAO7sB,QAEtCuoC,UAAW,KACXC,OAAQ,SAAAjY,GACPrK,EAAKkgB,gBAAgB,SAAS,IAE/BqC,QAAS,kBAAMviB,EAAKoiB,cAAcvlC,EAAK4F,OAAO,IAC9C03B,UAAWhxB,KAAK1Z,MAAM4wC,aAAa59B,MACnC+/B,aACCjiB,EAAApxB,EAAAqxB,cAACiiB,GAAA,EAAD,CAAgB1a,SAAS,OACxBxH,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CAGC6Y,SAAUqH,EACVhgB,MAAM,YACNP,UAAWhB,EAAQwd,YACnBhc,QAAS,SAAA4I,GAAE,OAAIrK,EAAKkgB,gBAAgB,SAAS,KAE7C3f,EAAApxB,EAAAqxB,cAACkiB,GAAAvzC,EAAD,UAKHyyC,GAAYA,EAAS9I,QAAU8I,EAAStG,OACxC/a,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KACEvyC,EAAEwxC,EAAS9I,OAAQ,CAAErgC,KAAMmpC,EAASnlB,gBAM3B,aAAb9c,GACA4gB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACoiB,GAADtyC,OAAA8yB,OAAA,GACK9mB,EADL,CAECo1B,OAAQA,EACRuB,aAAc9pB,KAAK8pB,aACnB1T,OAAQpW,KAAK1Z,MAAM+wC,QACnBnE,cAAelzB,KAAKihB,aACpBqR,WAAY5+B,EAAKgmC,IACjB9f,MACC5Z,KAAKiW,MAAM0jB,iBACV1D,GAAeviC,EAAKi4B,OAAS,IAAI/R,MAEnCsG,OACClgB,KAAKiW,MAAM2jB,kBACV3D,GAAeviC,EAAKi4B,OAAS,IAAIzL,OAEnC5mB,MAAOrS,EAAE+Y,KAAKiW,MAAM4jB,gBACpB1J,eAAgBlpC,EAAE+Y,KAAKiW,MAAM6jB,oBAC7BhI,MAAO9xB,KAAKiW,MAAM8jB,eAClBpK,OAAQ3vB,KAAKiW,MAAM+jB,gBACnB5G,YAAY,UAGdhc,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,GAAIC,GAAI,GAAIqJ,GAAI,GACtC7iB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CACCzf,OAAO,QACP0f,WAAS,EACThhB,UAAWhB,EAAQ0d,UACnB9qB,QAASgvB,KAAoBA,EAAe/I,QAE5CvY,EAAApxB,EAAAqxB,cAAC0hB,GAAA,EAAD,CAAYmB,QAAQ,eAClBjzC,EAAE,cAAe,CAAEmI,QAAQ,KAE7BgoB,EAAApxB,EAAAqxB,cAAC2hB,GAAA,EAAD,CACCF,WAAS,EACT1d,WAAS,EACT+e,WAAS,EACTC,KAAM,EACNjqC,KAAK,OACL8H,KAAK,cACLtH,MAAO+C,EAAKwkC,aAAe,GAC3B9V,SAAU,SAAAlB,GACTrK,EAAKwjB,oBAAoBnZ,EAAG1D,OAAO7sB,OAAO,GAC1CkmB,EAAKoK,aAAa,cAAeC,EAAG1D,OAAO7sB,QAE5CuoC,UAAW,KACXC,OAAQ,SAAAjY,GACPrK,EAAKkgB,gBAAgB,eAAe,IAErCqC,QAAS,kBACRviB,EAAKwjB,oBAAoB3mC,EAAKwkC,aAAa,IAE5ClH,UAAWhxB,KAAK1Z,MAAM4wC,aAAagB,YACnCmB,aACCjiB,EAAApxB,EAAAqxB,cAACiiB,GAAA,EAAD,CAAgB1a,SAAS,OACxBxH,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CAECE,MAAM,YACNP,UAAWhB,EAAQwd,YACnBtD,SAAUqH,EACV/f,QAAS,SAAA4I,GAAE,OACVrK,EAAKkgB,gBAAgB,eAAe,KAGrC3f,EAAApxB,EAAAqxB,cAACkiB,GAAAvzC,EAAD,UAKH0yC,GAAoBA,EAAe/I,OACnCvY,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KACEvyC,EAAEyxC,EAAe/I,OAAQ,CACzBrgC,KAAMopC,EAAeplB,eAItB5f,EAAKwkC,aACL9gB,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KACEvyC,EAAE,0BAOTmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,GAAIC,GAAI,GAAIqJ,GAAI,GACrCj6B,KAAKiW,MAAMqkB,UACXljB,EAAApxB,EAAAqxB,cAAA,OAAK2G,MAAO,CAAEpE,MAAO,MACpBxC,EAAApxB,EAAAqxB,cAACkjB,GAAA,EAAD,CACCziB,UAAWC,IACVjB,EAAQud,UACRvd,EAAQ0jB,eAGTpjB,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACCzE,iBAAiB,EACjBlG,IAAK+B,EACL9B,IAAK/yB,EAAK+mC,SACV3iB,UAAWC,IAAWjB,EAAQiW,IAAT5lC,OAAAsxB,EAAA,EAAAtxB,CAAA,GACnB2vB,EAAQ4jB,QACR16B,KAAKiW,MAAM0kB,aAAetC,MAG7BjhB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCyf,WAAS,EACTjP,KAAK,QACLtT,MAAM,YACNP,UAAWhB,EAAQ8d,SACnBtc,QAAU+f,EAA6B,KAApBr4B,KAAK8pB,aACxBkH,SAAUqH,GAEVjhB,EAAApxB,EAAAqxB,cAACkiB,GAAAvzC,EAAD,aAUToxB,EAAApxB,EAAAqxB,cAAA,aACIrX,KAAK1Z,MAAMutC,WAAW3tC,QACxBkxB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ4d,aACvBtd,EAAApxB,EAAAqxB,cAACwjB,EAAA70C,EAAD,CAAiB8xB,UAAWhB,EAAQyd,aACpCnd,EAAApxB,EAAAqxB,cAAA,QAAMS,UAAWhB,EAAQyd,YACvBttC,EAAE,mBADJ,KAGC+Y,KAAK1Z,MAAMutC,WAAWlsC,IAAI,SAAA0tB,GAC1B,OACC+B,EAAApxB,EAAAqxB,cAACyjB,GAAA,EAAD,CACChjB,UAAWhB,EAAQ6d,WACnBx6B,IAAKkb,EACLzZ,MAAO3U,EAAEouB,EAAG,CAAEjmB,QAAQ,IACtB2rC,SAAU,kBAAMlkB,EAAK6f,yBAAyBrhB,UAOpD+B,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAC2jB,GAAD,CACC9G,UAAW,SAAWxgC,EAAK7F,GAC3BkmC,aAAc,UAAYzB,EAC1BuB,WAAY7zB,KAAK1Z,MAAMutC,WACvBC,KAAM9zB,KAAK8zB,KACX9C,UACEhxB,KAAK1Z,MAAMutC,WAAW3tC,UACrBiB,OAAO+S,KAAK04B,GAAe1sC,UAIhCkxB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GACK9mB,EADL,CAEC7K,QAASA,EACTrB,EAAGA,EACHg0C,SAAUj7B,KAAK1Z,MAAMutC,WAAW3tC,OAChCwN,KAAMA,EACNogC,KAAM9zB,KAAK8zB,KACX7S,aAAcjhB,KAAKihB,aACnBia,cAAel7B,KAAK8pB,aAAazP,KAAKra,MACtCk3B,aAAcl3B,KAAK1Z,MAAM4wC,aACzBH,gBAAiB/2B,KAAK+2B,gBAAgB1c,KAAKra,MAC3Cs4B,QAASA,EACT9hC,SAAUA,EACV6hC,OAAQA,WAzc4BjC,EAAA,CACvB1d,aAydbyiB,EAAmB,SAAAt0C,GAGxB,IAH6C,IAAlB0P,EAAkB1P,EAAlB0P,MAAOkD,EAAW5S,EAAX4S,KAC9BS,EAAO/S,OAAO+S,KAAK3D,GAEd6F,EAAQ,EAAGA,EAAQlC,EAAKhU,OAAQkW,IAAS,CACjD,IACM1I,EAAO6C,EADD2D,EAAKkC,IAGjB,GAAM1I,GAAQA,EAAK0nC,OAAW3hC,GAAQ/F,EAAK0nC,QAAU3hC,EACpD,OAAO/F,EAIT,OAAO,MA6BR,OAAO4W,YA1BP,SAAyBhkB,EAAO2vB,GAAO,IAC9BzvB,EAAYF,EAAZE,QAEF+P,EAAQ/P,EAAQ+P,MAAM0f,EAAMzf,UAC5B3I,EAAKooB,EAAMuG,MAAM5T,OAAOyyB,OAC1B3nC,EAAO6C,EAAM1I,GAMjB,OAJK6F,QAA2BvN,IAAnB8vB,EAAMzf,WAClB9C,EAAOynC,EAAiB,CAAE5kC,MAAOA,EAAOkD,KAAM5L,KAGxC,CACNvF,QAAS9B,EAAQ8B,QACjBoL,KAAMA,EACN4+B,WAAY,WAAa5+B,EAAOA,EAAK7F,IAAM6F,EAAK+F,KAAO,YACvD+9B,QAAS3pC,EACTb,KAAMD,aAAWzG,KAInB,SAA4BqyB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIhCrO,CAGLuO,YAAWyF,GAAXzF,CAAmB6a,GAAa5Z,EAAUsc,6DCriBvCkF,GAAsB,CAC3BC,YAAa,EACbC,mBAAoB,CAAC,EAAG,GAAI,GAAI,GAAI,KACpCC,cAAe,WACd,MAAO,CACNhb,QAAS,UACTkL,KAAM,QACN/R,MAAO,OACP4b,MAAO,WAGTkG,WAAY,CACX1qB,KAAM,CACL2qB,QAAS10C,aAAE,kBACX20C,QAAS30C,aAAE,iBACX40C,oBAAqB,SAAAC,GAAM,SAAAziC,OACvBpS,aAAE,uBAAwB,CAC5BqI,KAAM,CAACwsC,EAAOlgC,OAASkgC,QAG1BC,WAAY,CACX98B,KAAMhY,aAAE,cACR+0C,SAAU/0C,aAAE,cACZs0C,YAAat0C,aAAE,uBACfg1C,YAAah1C,aAAE,uBAEhB+4B,QAAS,CACRxzB,OAAQvF,aAAE,gBACVi1C,YAAaj1C,aAAE,gBACfk1C,MAAOl1C,aAAE,eACTm1C,YAAan1C,aAAE,mBACfo1C,YAAap1C,aAAE,iBAEhBoL,OAAQ,CACPrL,IAAKC,aAAE,oBACPqS,MAAOrS,aAAE,sBACTq1C,MAAOr1C,aAAE,uBAEVm1C,YAAa,CACZ9iC,MAAOrS,aAAE,mBACTs1C,UAAWt1C,aAAE,yBAEdu1C,aAAc,CACbltB,KAAMroB,aAAE,uBACRw1C,OAAQx1C,aAAE,gBACVy1C,WAAYz1C,aAAE,4BAIF,SAAS01C,GAAqB1mB,GAAO,IAC3C3c,EAAkC2c,EAAlC3c,MAAOjG,EAA2B4iB,EAA3B5iB,KAAMupC,EAAqB3mB,EAArB2mB,QAAS3sB,EAAYgG,EAAZhG,QAE9B,OACCmH,EAAApxB,EAAAqxB,cAACwlB,GAAA72C,EAAD,CACCsT,MAAOA,EACPjG,KAAMA,EACNupC,QAASA,EACT3sB,QAAO9oB,OAAAC,GAAA,EAAAD,CAAA,GACHm0C,GACArrB,EAFG,CAGN6sB,UAAW,EACXtwC,QAASypB,EAAM8mB,SACfC,UAAW/mB,EAAMgnB,WACjBd,OAAQlmB,EAAMinB,QACdC,eAAgBlnB,EAAMmnB,cAAgB,WAAa,OACnDC,sBAAsBpnB,EAAMqnB,sFC/D1BC,GAAiB,SAACC,EAAqB1lC,EAAQ6zB,GACpD,IAAM3T,EAAO,CACZ+c,GAAI,CAAEzb,SAAU,IAChBsX,GAAI,CAAEtX,SAAU,IAChBmkB,GAAI,CAAEnkB,SAAU,KAEXokB,EAAWtmB,EAAApxB,EAAAqxB,cAACsmB,GAAA33C,EAAD,CAAmBg4B,MAAOhG,EAAK2T,GAAOtT,MAAO,cACxDulB,EAAWxmB,EAAApxB,EAAAqxB,cAACwmB,GAAA73C,EAAD,CAAag4B,MAAOhG,EAAK2T,GAAOtT,MAAO,YAClDylB,EAAc1mB,EAAApxB,EAAAqxB,cAAC0mB,EAAA/3C,EAAD,CAAag4B,MAAOhG,EAAK2T,GAAOtT,MAAO,UACrD2lB,EAAW5mB,EAAApxB,EAAAqxB,cAAC4mB,GAAAj4C,EAAD,CAAoBg4B,MAAOhG,EAAK2T,GAAOtT,MAAO,cAC/D,GAA4B,WAAxBmlB,GAA6D,cAAzB1lC,EAAOoP,cAC9C,OAAOw2B,EACR,OAAQ5lC,EAAOoP,eACd,IAAK,SACL,IAAK,QACJ,OAAO02B,EACR,IAAK,UACL,IAAK,eACL,IAAK,UACJ,OAAOF,EACR,IAAK,UACL,IAAK,eACL,IAAK,YACL,IAAK,UACJ,OAAOI,EACR,IAAK,WACJ,OAAOE,EACR,QACC,MAAO,cClCG1f,GAAS,SAAAxF,GAAK,MAAK,CAC/BolB,QAAS,CACRtkB,MAAO,OACPsG,OAAQ,OACRoN,UAAW,GACXzT,SAAU,IACVqT,OAAQ,uBCMGiR,GAAsB,SAAAt3C,GAK7B,IAAAu3C,EAAAv3C,EAJL2d,eAIK,IAAA45B,EAJK,GAILA,EAAAC,EAAAx3C,EAHLy3C,mBAGK,IAAAD,EAHS,GAGTA,EAAAE,EAAA13C,EAFL23C,kBAEK,IAAAD,EAFQ,GAERA,EAAAE,EAAA53C,EADL63C,sBACK,IAAAD,EADY,EACZA,EACCpgC,EAAMmG,EAAQ,IAAM,EACpB3L,EAAM2L,EAAQ,IAAM,IACpBm6B,EAhBe,SAACtgC,EAAKxF,EAAK+lC,GAAyB,IAAlBC,EAAkB54C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,EAKnD,OAFc+N,aAFD6E,EAAMwF,GACCugC,GACUvpC,QAAQwpC,IAazBC,CAAczgC,EAAKxF,EAAK2lC,EAAYE,GACjD,MAAO,CACNrsC,QAAQ,EACRonB,QAAS,OACTslB,WAAY,SACZC,wBAAyB,CACxBC,OAAQ,SAAA11B,GAAC,SAAAlQ,OACLilC,EADK,MAAAjlC,OACW6lC,aAAc31B,EAAE,GAAI,GAD/B,OAAAlQ,OACuC6lC,aAAc31B,EAAE,GAAI,KACpE41B,OAAQ,SAACC,EAAYC,EAAWjjC,GAE/B,OADAgjC,EAAWhjC,GAAS,GACbgjC,IAITE,cAAe,CACdC,MAAO,GACPC,MAAO,SAACC,EAAWC,GAClB,IAAMC,EAAW/uC,OAAO6uC,EAAUr9B,WAAW7I,QAAQ,WAAY,KACjE,OAAImmC,EAAQx5C,OAAS,IACby5C,EAAWD,EAAQ,IAAMC,EAAWD,EAAQ,KAIrDjmB,QAAS,SAAC2lB,EAAYhd,EAAUhmB,EAAO0/B,GACtC,OACC1kB,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAYx3B,GAAE,gBAAAwL,OAAkByiC,EAAO7jC,MAAQqtB,cAAY,GACzDgZ,GAEFlnB,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAK4d,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACtB1oB,EAAApxB,EAAAqxB,cAAA0oB,GAAA,GACC1hC,IAAKA,EACLxF,IAAKA,EACLmnC,MAAO,CACN,CACCrvC,MAAO0N,EACPzC,MAAOsjC,aAAc7gC,EAAK,IAE3B,CACC1N,MAAOkI,EACP+C,MAAOsjC,aAAcrmC,EAAK,KAI5B8lC,KAAMA,EACNhuC,MACCyuC,EAAWhjC,GAAOlW,OAAS,EAAIk5C,EAAWhjC,GAASoI,EAEpD4d,SAAU,SAACj2B,EAAG8zC,GACb7d,EAAS6d,EAAU7jC,EAAO0/B,IAE3BoE,kBAAkB,OAClBC,kBAAA,gBAAA9mC,OAAiCyiC,EAAO7jC,MACxCmoC,iBAAkB,SAAA72B,GAAC,OAAI21B,aAAc31B,EAAG,IACxC82B,iBAAkB,SAAA92B,GAAC,OAAI21B,aAAc31B,EAAG,YCvEzC,SAAS+2B,GAATz5C,GAA8D,IAAtC05C,EAAsC15C,EAAtC05C,SAAUC,EAA4B35C,EAA5B25C,aAAcC,EAAc55C,EAAd45C,WAAc3Z,EAC5CC,mBAAS,IADmCC,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GAC7DzzB,EAD6D2zB,EAAA,GACvD0Z,EADuD1Z,EAAA,GAAAE,EAEtCH,mBAAS,IAF6BI,EAAAhgC,OAAA4J,GAAA,EAAA5J,CAAA+/B,EAAA,GAE7D0V,EAF6DzV,EAAA,GAEpDwZ,EAFoDxZ,EAAA,GAI9DyZ,EAAe5mB,YAAY,SAAA1zB,GAAK,OAAIi6C,EAASj6C,EAAOk6C,KAEpDK,EAAaC,sBAAY,WAC9BJ,EAAQE,GACRD,EAAWF,MACT,CAACA,EAAYG,IAOhB,OALAG,oBAAU,WACTF,KAEE,CAACD,EAAa16C,OAAQq6C,EAAUC,IAE5B,CAAEntC,OAAMupC,UAASiE,+CCLnBzf,GAAYC,aAAW,SAAAvI,GAAK,MAAK,CACtCgU,QAAS,CACR1T,OAAQN,EAAMC,QAAQ,GACtB6F,SAAU,YAEXwV,eAAgB,CACfxV,SAAU,WACVzH,IAAK,MACL4H,KAAM,MACNsS,WAAY,GACZ3Q,YAAa,OAIR,SAASsgB,GAATn6C,GAAsC,IAAhBo6C,EAAgBp6C,EAAhBo6C,aAC5B,OACC7pB,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACC9pB,EAAApxB,EAAAqxB,cAAA8pB,GAAA,GAAS7nC,MAAOrS,aAAE,gBACjBmwB,EAAApxB,EAAAqxB,cAAAc,EAAA,GAAYG,QAAS2oB,GACpB7pB,EAAApxB,EAAAqxB,cAAA+pB,GAAA,WAmBE,SAASC,GAAT35C,GAAgE,IAApC45C,EAAoC55C,EAApC45C,uBAAwBtQ,EAAYtpC,EAAZspC,SACpDla,EAAUsK,KACVmgB,EAAkBvnB,YAAY,SAAA1zB,GAAK,OACxCsH,aAAkBtH,EAAOk7C,QAG1B,OACCpqB,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACC9pB,EAAApxB,EAAAqxB,cAAA8pB,GAAA,GAAS7nC,MAAOrS,aAAE,uBACjBmwB,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKe,GAAI,EAAGC,GAAI,GACf5L,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQgW,SACvB1V,EAAApxB,EAAAqxB,cAAA8D,EAAA,GACCsmB,UAAWrqB,EAAApxB,EAAAqxB,cAAAqqB,GAAA,QACXppB,QAASgpB,EACT/e,QAAQ,YACRlK,MAAM,UACN2Y,SAAUA,GAAYuQ,GAErBt6C,aAAE,uBAEHs6C,GACAnqB,EAAApxB,EAAAqxB,cAAA4L,GAAA,GAAkB0I,KAAM,GAAI7T,UAAWhB,EAAQsd,qBC/CtD,IAAMuN,GAAenmB,GAAoBrD,EAAA,GAEnCiJ,GAAYC,aAAW/C,IAEvBsjB,GAAU,SAAA/6C,GAAA,IACfiwB,EADejwB,EACfiwB,QACAhb,EAFejV,EAEfiV,OACAf,EAHelU,EAGfkU,eACA8mC,EAJeh7C,EAIfg7C,WACAhnC,EALehU,EAKfgU,UALe,MAMV,CACL,CACC5C,KAAM,KACNgY,QAAS,CACRwJ,QAAS,WACTpnB,QAAQ,IAGV,CACC4F,KAAM,mBACNgY,QAAS,CACRwJ,QAAS,WACTujB,UAAU,EACV3qC,QAAQ,IAGV,CACC4F,KAAM,QACN2D,MAAO3U,aAAE,cACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACN2hC,UAAU,EACV8E,iBAAkB,SAAAv6C,GAAiC,IAA9BsG,EAA8BtG,EAA9BsG,GAAI+J,EAA0BrQ,EAA1BqQ,SAAUC,EAAgBtQ,EAAhBsQ,UAClC,OAECuf,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACCh3B,IAAKtM,EACL8+B,mBAAmB,EACnB7U,UAAWC,IAAWjB,EAAQonB,SAC9B1X,IAAK5uB,EACL6uB,IAAK54B,EACLgK,UAAWA,EACX0zB,YAAU,OAMf,CACCtzB,KAAM,SACN2D,MAAO3U,aAAE,eACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNikC,cAAe,CACdC,MAAO,CAAC,SAAU,SAAU,aAC5BC,MAAO,SAAC1nC,EAAQ4nC,GACf,QAAIA,EAAQx5C,SAAgBw5C,EAAQqC,SAASjqC,EAAOC,qBAItD+pC,iBAAkB,SAAAp6C,GAAA,IAAGqQ,EAAHrQ,EAAGqQ,kBAAmBC,EAAtBtQ,EAAsBsQ,aAAcnK,EAApCnG,EAAoCmG,GAApC,OACjBupB,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,CAAU/mC,IAAKtM,GACbkK,EAAmB,IACnBwlC,GAAexlC,EAAmBC,EAAc,UAMrD,CACCC,KAAM,gBACN2D,MAAO3U,aAAE,gBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNymC,iBAAkB,SAAA5pC,GAAa,OAC9Bkf,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,QAAA7nC,OAAcnB,EAAc7C,QAAQ,GAApC,KAAAgE,OAA0CyC,MAExCqiC,GAAoB,CACtB35B,QAAS,CAAC,EAAGq9B,GACbvD,YAAar3C,aAAE,sBAIlB,CACCgR,KAAM,wBACN2D,MAAO3U,aAAE,oBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNymC,iBAAkB,SAAA1pC,GAAqB,SAAAiB,SACjCjB,GAAyB,GAAK,IAAI/C,QAAQ,GADT,OAEpC8oC,GAAoB,CACtB35B,QAAS,CAAC,EAAG,KACb85B,YAAar3C,aAAE,0BAIlB,CACCgR,KAAM,cACN2D,MAAO3U,aAAE,qBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNymC,iBAAkB,SAAA7sC,GAAW,OAAI+sC,mBAAQ/sC,GAAe,KACrDkpC,GAAoB,CACtB35B,QAAS,CAAC,EAAGzJ,GACbujC,YAAar3C,aAAE,0BAIlB,CACCgR,KAAM,SACN2D,MAAO3U,aAAE,sBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNymC,iBAAkB,SAAAjrC,GAAM,OAAImrC,mBAAQnrC,GAAU,KAC3CsnC,GAAoB,CACtB35B,QAAS,CAAC,EAAG3J,GACbyjC,YAAar3C,aAAE,qBAIlB,CACCgR,KAAM,mBACN2D,MAAO3U,aAAE,YACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNymC,iBAAkB,SAAAh6C,GAAA,IAAGuQ,EAAHvQ,EAAGuQ,iBAAkBxK,EAArB/F,EAAqB+F,GAArB,OACjBupB,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,CAAU/mC,IAAKtM,GAAf,GAAAwL,OAAuBhB,EAAiBhD,QACvC,GADD,KAAAgE,OAEKyC,OAIR,CACC7D,KAAM,UACN2D,MAAO3U,aAAE,gBACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACN4mC,cAAe,OACfH,iBAAkB,SAAAxpC,GAAO,OAAIzE,aAAeyE,MAG9C,CACCL,KAAM,aACN2D,MAAO3U,aAAE,eACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNymC,iBAAkB,SAAAvpC,GAAU,OAAI1E,aAAe0E,MAGjD,CACCN,KAAM,sBACN2D,MAAO3U,aAAE,aACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNymC,iBAAkB,SAAAtpC,GAAmB,OACpC3E,aAAe2E,MAGlB,CACCP,KAAM,UACN2D,MAAO3U,aAAE,WACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACN2hC,UAAU,EACV8E,iBAAkB,SAAA75C,GAAA,IAAG+E,EAAH/E,EAAG+E,KAAMa,EAAT5F,EAAS4F,GAAIkK,EAAb9P,EAAa8P,kBAAb,OACjBqf,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,CAAU/mC,IAAKtM,GACdupB,EAAApxB,EAAAqxB,cAAA8pB,GAAA,GACC7nC,MAAOrS,aAAE,cAETi7C,WAAY,KAEZ9qB,EAAApxB,EAAAqxB,cAACsqB,GAAD,CACCnoC,GAAE,cAAAH,OAAgBrM,EAAhB,cAAAqM,OAAiCxL,GACnC00B,QAAQ,YACRnK,aAAW,WAEXhB,EAAApxB,EAAAqxB,cAAA8qB,GAAA,GAAY9pB,MAAM,eAGI,WAAtBtgB,GACqB,cAAtBA,IACAqf,EAAApxB,EAAAqxB,cAAA8pB,GAAA,GACC7nC,MAAOrS,aAAE,gBAETi7C,WAAY,KAEZ9qB,EAAApxB,EAAAqxB,cAACsqB,GAAD,CACCnoC,GAAE,cAAAH,OAAgBrM,EAAhB,sBAAAqM,OAAyCxL,GAC3C00B,QAAQ,YACRnK,aAAW,WAEXhB,EAAApxB,EAAAqxB,cAAA+qB,GAAA,GAAS/pB,MAAM,oBA+BjBgqB,GAAa,SAAAj6C,KAAGuD,SAAH,IAAamQ,EAAb1T,EAAa0T,OAAQ+kC,EAArBz4C,EAAqBy4C,WAArB,MAAuC,CACzD9B,WAAY,cACZ5B,eAAgB,OAChBmF,WAAY,SAACC,EAAWC,EAAW5F,EAASvpC,GAAhC,OAxBM,SAACkvC,EAAWC,EAAW5F,EAASvpC,EAAM1H,EAAUmQ,GAClE,IAAM2mC,EAAapvC,EAAK1L,IAAI,SAAAyN,GAAC,MAAK,CACjCgH,MAAOhH,EAAEgH,MACT/I,KAAM,CACL+B,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GAAG0E,kBAJL,GAAAsB,OAKFjE,EAAE/B,KAAK,GALL,KAAAgG,OAKWyC,GALX,GAAAzC,SAMAjE,EAAE/B,KAAK,IAAM,GAAK,IAAIgC,QAAQ,GAN9B,KAOLD,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GACPQ,aAAeuB,EAAE/B,KAAK,IACtBQ,aAAeuB,EAAE/B,KAAK,KACtBQ,aAAeuB,EAAE/B,KAAK,SAGxB,MAAO,GAAAgG,OAAGkpC,EAAU3F,IAAbvjC,OAAwBmpC,EAAUC,IAAcC,OAOtDJ,CAAWC,EAAWC,EAAW5F,EAASvpC,EAAM1H,EAAUmQ,IAC3D6mC,cAAe,kBAAMvrB,EAAApxB,EAAAqxB,cAAC2pB,GAAD,CAAYC,aAAcJ,KAC/C+B,oBAAqB,SAACpG,EAAcqG,EAAaC,GAChD,IAAMC,EAAkBvG,EAAanpC,KAAK1L,IAAI,SAAAyN,GAAC,OAAIA,EAAE4tC,YAC/Cv0C,EAAgBo0C,EACpBxwC,OAAO,SAAAqB,GAAI,OAAIqvC,EAAgBhB,SAASruC,EAAKsvC,YAActvC,EAAKL,KAAK,KACrE1L,IAAI,SAAA+L,GAAI,OAAIA,EAAKL,KAAK,KACxB,OACC+jB,EAAApxB,EAAAqxB,cAACgqB,GAAD,CACCC,uBAAwB,kBACvBngB,YAAQ8hB,YAA4Bx0C,KAErCuiC,SAAmC,IAAzBviC,EAAcvI,YA2Cbg9C,OArCf,SAAwBjtB,GACvB,IAAMa,EAAUsK,KACVp0B,EAAOgtB,YAAYjtB,MACnBgO,EAAiBif,YAAYrhB,KAC7BkC,EAAYmf,YAAYjhB,KACxB8oC,EAAa7nB,YAAYhhB,KALDmqC,EAMDnpB,YAAYpyB,MAAjCkU,EANsBqnC,EAMtBrnC,OAAQnQ,EANcw3C,EAMdx3C,SANcy3C,EAQQ9C,GAAa,CAClDC,SAAUnpC,IACVopC,aAAcxzC,EACdyzC,WAAY,kBACXmB,GAAQ,CACPj2C,WACAmrB,UACAhb,SACAf,iBACAF,YACAgnC,kBAVKxuC,EARsB+vC,EAQtB/vC,KAAMupC,EARgBwG,EAQhBxG,QAASiE,EAROuC,EAQPvC,WAcjB5wB,EAAUoyB,GAAW,CAAE12C,WAAUmQ,SAAQ+kC,eAE/C,OACCzpB,EAAApxB,EAAAqxB,cAACslB,GAADx1C,OAAA8yB,OAAA,CACC3gB,MAAOrS,aAAE,iBACToM,KAAMA,EACNupC,QAASA,EACT3sB,QAASA,EACTmtB,eAAa,EACbE,gBAAc,GACVrnB,uDCxRDmL,GAAYC,aC7BI,SAAAvI,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GACxBsqB,EAAWvqB,EAAMwH,QAAQ5W,MAAM8X,KACrC,MAAO,CACNhD,KAAM,CACLnG,MAAO,SACPirB,WAAY,CACXjrB,MAAO,UAGTjC,OAAQ,CACPiC,MAAO,UAERkrB,eAAgB,CAEf3kB,SAAU,WACVgF,OAAQ,EACR7E,KAAM,EACNC,MAAO,EACP7H,IAAK,GAENqsB,UAAW,CACV5kB,SAAU,WACVgF,OAAQ,EACR7E,KAAM,EACNC,MAAO,EACP7H,IAAK,KAENssB,YAAa,CACZ7kB,SAAU,WACVzH,IAAK,GACL4H,KAAM,GACNC,MAAO,GACP4E,OAAQ,GACRnD,QAAS,GACToD,UAAW,OACXC,UAAW,SACXrK,QAAS,OACT0F,KAAM,EACNU,eAAgB,gBAChBT,cAAe,SACfskB,wBAAyB,QACzBC,0BAA2B,CAC1BhkB,YAAa,EACbD,aAAc,IAGhB8M,SAAU,CACT5N,SAAU,WACVgF,OAAQ,EACR7E,KAAM,GACNC,MAAO,IAERA,MAAO,CACN4kB,UAAW,QACXnqB,QAAS,eACTG,MAAO,MACPiqB,0BAA2B,CAC1BjqB,MAAO,QAGTmF,KAAM,CACLtF,QAAS,eACTmqB,UAAW,OACXhqB,MAAO,MACPiqB,0BAA2B,CAC1BjqB,MAAO,QAGTkqB,cAAe,CACdlqB,MAAO,OACPmqB,QAAS,CACRnqB,MAAO,OACPsG,OAAQ,SAGV8jB,gBAAiB,CAChBC,SAAU,CACT3qB,SAAU,OACVF,OAAQ,aAETwqB,UAAW,SACXhqB,MAAO,QAERsqB,sBAAuB,CACtB9qB,OAAQL,EACR6F,SAAU,YAEXwV,eAAgB,CACfxV,SAAU,WACVzH,IAAK,MACL4H,KAAM,MACNsS,WAAY,GACZ3Q,YAAa,IAEdyjB,QAAS,CACR9rB,MAAOgrB,EACPhqB,YAAagqB,EACbe,QAAS,CACR/rB,MAAOgrB,GAER7pB,YAAaT,EACb4L,aAAc5L,MDtEXsrB,GAAa,SAAAx9C,GAA+C,IAA5Cy9C,EAA4Cz9C,EAA5Cy9C,MAAOC,EAAqC19C,EAArC09C,YAAaztB,EAAwBjwB,EAAxBiwB,QAAwB3vB,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,mCACjE,OAAI8uC,OAAO6O,YAAc,IAEvBptB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACotB,GAAA,EAAD,CAAW3sB,UAAWhB,EAAQktB,iBAA9B,IACGO,EAAc,EADjB,IACqBD,EAAMp+C,OAD3B,KACqCo+C,EAAMC,GAAajrC,OAExD8d,EAAApxB,EAAAqxB,cAACqtB,GAAA,EAAD,CACCC,WAAYJ,EACZ3F,MAAO0F,EAAMp+C,OACb04B,SAAU,SACV2D,QAAQ,WACRzK,UAAWhB,EAAQgtB,iBAMtB1sB,EAAApxB,EAAAqxB,cAACutB,GAAA,EAAD,CAAYC,kBAAgB,EAACF,WAAYJ,GACvCD,EAAM38C,IAAI,SAACm9C,EAAM1vC,GACjB,OACCgiB,EAAApxB,EAAAqxB,cAAC0tB,GAAA,EAAD,CAAM5qC,IAAK2qC,EAAKxrC,OACf8d,EAAApxB,EAAAqxB,cAACotB,GAAA,EAAD,KAAYK,EAAKxrC,YA+LR0rC,GAvLS,SAAA/uB,GAAS,IAAAgvB,EAK5BhvB,EAHHivB,mBAF+B,IAAAD,EAEjB,EAFiBA,EAAAE,EAK5BlvB,EAFHquB,aAH+B,IAAAa,EAGvB,GAHuBA,EAM1BruB,EAAUsK,KANgB0F,EAQMC,oBAAUme,GARhBle,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GAQzByd,EARyBvd,EAAA,GAQZoe,EARYpe,EAAA,GAS1Bqe,EAAaf,EAAMp+C,OAASq+C,GAAeA,EAAc,EAEzDO,EAAOR,EAAMC,IAAgB,GAC7Be,EAAYR,EAAK7uB,OAAS,GACxBqc,EAAegT,EAAfhT,WACFiT,EAAOT,EAAK7f,WAAa,KAdCugB,EAeoBV,EAA5CW,sBAfwB,IAAAD,EAeP,KAfOA,EAeDE,EAAqBZ,EAArBY,QAASC,EAAYb,EAAZa,QAElCpwC,EAAcykB,YAAY,SAAA1zB,GAAK,OACpCkP,aAAsBlP,EAAOgsC,KAGxBsT,EAlE0B,WAAsB,IAArBrwC,EAAqBtP,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAS/C,OARekB,OAAO+S,KAAK3E,GAAaxO,OAAO,SAAC8+C,EAAW1rC,GAC1D,IAAMua,EAAMnf,EAAY4E,GAIxB,OAHIua,EAAIyd,OACP0T,EAAUjyC,KAAK,CAAEyf,IAAKqB,EAAIib,OAAQqH,MAAO/vC,aAAEkT,EAAK,CAAE/K,QAAQ,MAEpDy2C,GACL,IA2DiBC,CAAyBvwC,GAEvCq+B,EAAU5Z,YAAY,SAAA1zB,GAAK,OAAIsH,aAAkBtH,EAAOgsC,KAExDyT,EAAcjF,sBAAY,WAC/B,OAAQ35C,OAAO+S,KAAK3E,GAAe,IAAIrP,QACrC,CAACqP,IAIEywC,EAAWlF,sBAAW,eAAAv5C,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAC3B,SAAAO,EAAM+mC,GAAN,IAAAC,EAAA,OAAA79B,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OAEOinC,EAAYD,EAAW1B,GADV0B,EAAW1B,GAGZ2B,IACjBd,EAAea,GALjB,wBAAA1mC,EAAAO,SAAAZ,MAD2B,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAS3B,CAACs+C,IAGI4B,EAAmBrF,sBAAW35C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAC,SAAAC,IAAA,OAAAyJ,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAChComC,GACHW,EAASzB,EAAc,GAFY,wBAAAxlC,EAAAe,SAAAlB,MAIlC,CAACymC,EAAYd,EAAayB,IAEvBI,EAAetF,sBAAW35C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAC,SAAAqC,IAAA,OAAAqH,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,OAC5BwmC,EACHA,EAAe,CACdE,UACArT,aACAH,OAAO,EACPuT,QAASA,GAAY,kBAAMM,EAASzB,EAAc,MAEzCwB,KACVC,EAASzB,EAAc,GATQ,wBAAApjC,EAAArB,SAAAkB,MAW9B,CACFujC,EACAyB,EACAD,EACAL,EACAD,EACAE,EACArT,IAGDyO,oBAAU,WACL0E,GACHA,EAAe,CAAEE,UAASrT,aAAYH,OAAO,KAE5C,CAACoS,EAAakB,EAAgBE,EAASrT,IAE1C,IAAM+T,EAAevF,sBAAW,eAAA74C,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAC/B,SAAA0B,EAAM6gB,GAAN,OAAA7Y,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,OACgB,UAAXiiB,EAAG/mB,MACN+mB,EAAG9E,iBACHgqB,KAHF,wBAAAtlC,EAAAhB,SAAAO,MAD+B,gBAAAN,GAAA,OAAA9X,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GAO/B,CAACmgD,IAGF,OACChvB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQysB,eAAgB+C,WAAYD,GACnDjvB,EAAApxB,EAAAqxB,cAACkjB,GAAA,EAAD,CACCzjB,QAAS,CACR0H,KAAM1H,EAAQyvB,aAGfnvB,EAAApxB,EAAAqxB,cAACmvB,GAADr/C,OAAA8yB,OAAA,GACKhE,EADL,CAECquB,MAAOA,EACPxtB,QAASA,EACTytB,YAAaA,EACbyB,SAAUA,MAGZ5uB,EAAApxB,EAAAqxB,cAAA,WAEAD,EAAApxB,EAAAqxB,cAACkjB,GAAA,EAAD,CACCzjB,QAAS,CACR0H,KAAM1H,EAAQ0sB,YAGfpsB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ2sB,eACpB8B,GAAQnuB,EAAApxB,EAAAqxB,cAACkuB,EAASD,KAElBM,GACFxuB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3J,MAAM,cACTutB,EAAYj+C,IAAI,SAAA+sB,GAAG,OACnB0C,EAAApxB,EAAAqxB,cAACyjB,GAAA,EAAD,CACC3gC,IAAKua,EAAIsiB,MACTlgB,QAAS,CAAE0H,KAAM1H,EAAQqtB,SACzBnsB,KAAMZ,EAAApxB,EAAAqxB,cAACovB,EAAAzgD,EAAD,MACNu8B,QAAQ,WACRoJ,KAAK,QACL/vB,MAAK,GAAAvC,OAAKqb,EAAIsiB,MAAT,MAAA39B,OAAmBqb,EAAIrB,KAC5BgF,MAAM,gBAOXjB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ0V,UACvBpV,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQiI,OACtBsmB,GAAgBP,EAAK4B,oBAAsBX,IAG3C,GAFA3uB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CAAQ7C,QAAS6tB,GAAmBl/C,aAAE,UAMxCmwB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQkI,QAEtB8lB,EAAK6B,WAAe7B,EAAK4B,oBAAsBX,IAE5C,KADH3uB,EAAApxB,EAAAqxB,cAACytB,EAAK6B,UAAN,MAG+B,oBAAxB7B,EAAK8B,gBACX9B,EAAK4B,oBAAsBX,IAEzB,KADH3uB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CAAQ7C,QAASwsB,EAAK8B,gBAAiB3/C,aAAE,YAIxC69C,EAAK+B,aAAiBpB,EACvBruB,EAAApxB,EAAAqxB,cAAA,QAAMS,UAAWhB,EAAQotB,uBACxB9sB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC6V,SAAU4C,IAAamS,MAAkBN,EACzCljB,QAAQ,YACRlK,MAAM,UACNC,QAAS8tB,GAERn/C,aAAE,aAEH2sC,GACAxc,EAAApxB,EAAAqxB,cAAC4L,GAAA,EAAD,CACC0I,KAAM,GACN7T,UAAWhB,EAAQsd,kBAInB,KACH0Q,EAAK+B,cAAgBpB,GAAkBM,IACvC3uB,EAAApxB,EAAAqxB,cAACytB,EAAK+B,YAAN,MAEA,QElODC,iMACiBrwB,GACrB,OAAOxF,KAAKC,UAAUlR,KAAKiW,SAAWhF,KAAKC,UAAUuF,oCAG7C,IAAAjP,EAAAxH,KACFskC,EAAQ,GADN7pB,EAYJza,KAAKiW,MATR0d,EAHOlZ,EAGPkZ,QACAoT,EAJOtsB,EAIPssB,UAEAC,GANOvsB,EAKPmsB,eALOnsB,EAMPusB,QACArB,EAPOlrB,EAOPkrB,QACAsB,EAROxsB,EAQPwsB,WACAC,EATOzsB,EASPysB,iBACAC,EAVO1sB,EAUP0sB,eACGh0C,EAXIhM,OAAAiM,GAAA,EAAAjM,CAAAszB,EAAA,8GAaF2sB,EAAe,kBACpBhwB,EAAApxB,EAAAqxB,cAAC0vB,EAAD5/C,OAAA8yB,OAAA,GAAe9mB,EAAf,CAAqBwyC,QAASA,EAASqB,OAAQA,EAAQ//C,EAAGA,SAErDqrC,GAAc6U,GAAkB,IAAM,IAAMxB,EA8BlD,OA5BAsB,EAAWhU,QAAQ,SAAC6R,EAAM1oC,GACzBkoC,EAAM1wC,KAAK,CACV0F,MAAOrS,aAAE69C,EAAKxrC,OACdqtC,UAAWS,EACXniB,UAAY6f,EAAKW,eAEdX,EAAKA,MAAQA,EADbpR,GAAaoR,EAAKA,MAAQA,GAE7BW,eAAgBX,EAAKW,eACrB4B,oBAAqBvC,EAAKuC,oBAC1B1B,UACA1vB,MAAM9uB,OAAAC,GAAA,EAAAD,CAAA,GAAMqgB,EAAKyO,MAAZ,CAAmB0vB,UAASrT,WAAYA,EAAa,IAAMl2B,QAIlEkoC,EAAM1wC,KAAK,CACV0F,MAAOrS,aAAEigD,EAAiB5tC,OAAS,WACnCutC,YAAa,kBACZzvB,EAAApxB,EAAAqxB,cAACsc,EAADxsC,OAAA8yB,OAAA,GAAa9mB,EAAb,CAAmBwyC,QAASA,EAASqB,OAAQA,EAAQ//C,EAAGA,SAEzD0/C,UAAWS,EACXniB,UAAWyO,GAAawT,EAAiBpC,MAAQoC,GACjDvB,UACA1vB,MAAM9uB,OAAAC,GAAA,EAAAD,CAAA,GACF6Y,KAAKiW,MADJ,CAEJqc,WAAYA,EAAa,IAAM2U,EAAW/gD,WAM3CkxB,EAAApxB,EAAAqxB,cAACiwB,GAAD,CAAiBhD,MAAOA,WArDH5rB,aAkETsE,wBAAW,SAAC/G,EAAO0G,GAAR,OACzBvF,EAAApxB,EAAAqxB,cAACkwB,GAADpgD,OAAA8yB,OAAA,GAAehE,EAAf,CAAsBsG,aAAcI,sCCvExB2B,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GACxByuB,EAAa5uC,KAAKC,IAAI88B,OAAO8R,YAAc1uB,EAAS,KAC1D,MAAO,CACNiT,OAAQ,CACPnN,UAAS,GAAAxlB,OAAKmuC,EAAL,MACT9lB,SAAU,KACV7H,SAAU,KACVpe,gBAAiB21B,KAAK,KAEtB/D,2BAA4B,CAC3BxT,SAAU,OACV6H,SAAQ,gBAAAroB,OAAkByf,EAAMC,QAAQ,GAAhC,QAETqU,2BAA4B,CAC3BvO,UAAS,QAAAxlB,OAAUmuC,EAAV,OAAAnuC,OAA0Byf,EAAMC,QAAQ,GAAxC,SAGX2uB,YAAa,CACZjuB,QAAS,OACT2F,cAAe,MACf1F,WAAY,SACZmG,eAAgB,gBAChB8nB,SAAU,cAEXtnB,QAAS,CACR5G,QAAS,OACT2F,cAAe,SACfD,KAAM,WACNP,SAAU,WACV6B,QAAS,EACTrH,OAAM,KAAA/f,OAAO0f,EAAP,OAAA1f,OAAoB0f,EAApB,OAAA1f,OAAiC0f,EAAjC,MACN6uB,gBAAiB,CAChBroB,WAAYxG,GAEb4F,SAAU,UACVkF,UAAW,QAEZgkB,WAAY,CAMXpuB,QAAS,OACT2F,cAAe,SACfD,KAAM,GAEP2oB,QAAS,CACR1uB,OAAQ,SACRQ,MAAO,QAERmuB,YAAa,CACZtpB,SAAU,GAEXupB,0BAA2B,CAC1BC,WAAY,EACZzuB,YAAaV,EAAMC,QAAQ,IAE5BmvB,kBAAmB,CAClBzuB,QAAS,OACT2F,cAAe,MACfS,eAAgB,SAChBnG,WAAY,SACZyuB,UAAW,CACV1nB,QAAS3H,EAAMC,QAAQ,KAGzBqvB,QAAS,CACRlb,OAAQ,WAETmb,YAAa,CACZ7uB,YAAaV,EAAMC,QAAQ,IAE5BuvB,QAAQnhD,OAAAsxB,EAAA,EAAAtxB,CAAA,CACP8tC,cAAe,YAEf2O,UAAW,SACV9qB,EAAMmG,YAAYspB,KAAK,MAAQ,CAC/B3E,UAAW,SAGb4E,SAAU,CACT5E,UAAW,QAEZ6E,qBAAsB,CACrB7pB,SAAU,WACVG,KAAM,mBACN5H,IAAK,oBAENuxB,SAAU,CACT9pB,SAAU,QACVzH,IAAK,GACL6H,MAAO,GACPN,OAAQ5F,EAAM4F,OAAOI,QAEtB6pB,UAAW,CACVhvB,UAAW,aACXivB,aAAc,aACdC,QAAS,QAEVC,QAAS,CACR3xB,IAAK,OACL4H,KAAM,OACNC,MAAO,EACP4E,OAAQ,EACRhK,MAAO,QACPsG,OAAQ,OACRtB,SAAU,YAEXmqB,SAAU,CACTnqB,SAAU,YAEXoqB,iBAAkB,CACjBrkB,aAAc,QAEfskB,mBAAoB,CACnBxvB,QAAS,OACT0F,KAAM,EACNC,cAAe,SACfS,eAAgB,SAChBnG,WAAY,YC5FTwvB,GAAUrwB,YAAWyF,GAAXzF,CAbA,SAAAhyB,GAA4D,IAAzD+U,EAAyD/U,EAAzD+U,MAAOkc,EAAkDjxB,EAAlDixB,UAAWhB,EAAuCjwB,EAAvCiwB,QAASkH,EAA8Bn3B,EAA9Bm3B,MAAO1F,EAAuBzxB,EAAvByxB,QAAuBnxB,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,mDAC3E,OACCuwB,EAAApxB,EAAAqxB,cAAA,QACCS,UAAWC,IAAWjB,EAAQsxB,QAAStwB,GACvCkG,MAAOA,EACP1F,QAASA,GAER,IACA1c,EAAO,OAOLutC,GAAatsB,IAAMG,WAAW,SAAoB/G,EAAO0G,GAC9D,OAAOvF,EAAApxB,EAAAqxB,cAAC+xB,GAAA,EAADjiD,OAAA8yB,OAAA,CAAOovB,UAAU,KAAK1sB,IAAKA,GAAS1G,MAGtCmL,GAAYC,aAAW/C,IAEd,SAAS6X,GAAQpc,GAC/B,SAASuvB,EAAWrzB,GAAO,IAEzBsG,EAoBGtG,EApBHsG,aACAgtB,EAmBGtzB,EAnBHszB,WACAC,EAkBGvzB,EAlBHuzB,WACA5O,EAiBG3kB,EAjBH2kB,UACArY,EAgBGtM,EAhBHsM,QAEAlK,GAcGpC,EAfHwzB,WAeGxzB,EAdHoC,OACAsT,EAaG1V,EAbH0V,KAEA+d,GAWGzzB,EAZH0zB,KAYG1zB,EAXHyzB,cACAE,EAUG3zB,EAVH2zB,SACA5Y,EASG/a,EATH+a,SACAlZ,EAQG7B,EARH6B,UACAE,EAOG/B,EAPH+B,KACA1e,EAMG2c,EANH3c,MACAuwC,EAKG5zB,EALH4zB,cACAvxB,EAIGrC,EAJHqC,QACAwgB,EAGG7iB,EAHH6iB,UACAgR,EAEG7zB,EAFH6zB,aACG32C,EArBsBhM,OAAAiM,GAAA,EAAAjM,CAsBtB8uB,EAtBsB,0NAwBpB8zB,EAAW,CAChB1xB,QACAsT,OACApJ,WAGKzL,EAAUsK,KA9BU0F,EA+BFC,oBAAS,GA/BPC,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GA+BnBvP,EA/BmByP,EAAA,GA+BbgjB,EA/BahjB,EAAA,GAiCpB8C,EAAY,eAAAviC,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,IAAA,OAAAmJ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UACQ,oBAAjB6qC,GAAgCvyB,EADvB,CAAAhY,EAAAN,KAAA,eAAAM,EAAAN,KAAA,EAEb6qC,IAFa,OAKpBE,GAASzyB,GALW,wBAAAhY,EAAAO,SAAAZ,MAAH,yBAAA3X,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAQZi2B,EAAW,eAAAx0B,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAC,EAAMsiB,GAAN,OAAA7Y,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACnBiiB,GAAMA,EAAG7E,iBAAmB6E,EAAG7E,kBAC/B6E,GAAMA,EAAG9E,gBAAkB8E,EAAG9E,iBAFXrd,EAAAE,KAAA,EAGb6qB,IAHa,OAIfxR,GAASA,IAJM,wBAAAvZ,EAAAe,SAAAlB,MAAH,gBAAAuB,GAAA,OAAAzY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAWbgkD,EAAkB,KAElBV,EACHU,EAAkB9xB,IACRqxB,EACVS,EAAkBf,GACRtO,EACVqP,EAAkBve,MAElBue,EAAkB9uB,IAClB4uB,EAASjR,UAAYA,GAGtB,IAAMoR,EAAqBN,EACxB3iD,aAAE2iD,EAAU,CAAEt6C,KAAMo6C,GAAgB,CAAC,MACrC,GAEH,OACCtyB,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACC9pB,EAAApxB,EAAAqxB,cAAC4yB,EAAD9iD,OAAA8yB,OAAA,CACC+W,SAAUA,EACV5Y,aAAY8xB,EACZtuC,MAAOsuC,EACP5xB,QAAS,SAAA4I,GAAE,OAAIhF,EAAYgF,KACvB6oB,EALL,CAMCjyB,UAAWC,IACVD,EADoB3wB,OAAAsxB,EAAA,EAAAtxB,CAAA,GAEjB2vB,EAAQ4xB,WAAa9N,GAFJzzC,OAAAsxB,EAAA,EAAAtxB,CAAA,GAGjB2vB,EAAQqzB,MAAkB,UAAV9xB,GAHClxB,OAAAsxB,EAAA,EAAAtxB,CAAA,GAIjB2vB,EAAQszB,OAAmB,WAAV/xB,MAGpBL,GACCuxB,GAAcW,GAEjB9yB,EAAApxB,EAAAqxB,cAACyD,EAAA,EAAD,CAKCvD,KAAMA,EACNG,QAASoS,EACTugB,oBAAqBlB,GACrBryB,QAAS,CAAEyM,MAAOzM,EAAQkV,SAI1B5U,EAAApxB,EAAAqxB,cAAC0D,EAAA,EAAD,CAAauvB,mBAAiB,GAC7BlzB,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CACC9C,QAAQ,YACRzL,QAAS,CACR0H,KAAMzG,IAAWjB,EAAQ4wB,YAAa5wB,EAAQ6xB,aAG9C1hD,aAAEqS,GACH8d,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CAAYG,QAASwR,GACpB1S,EAAApxB,EAAAqxB,cAACkc,GAAAvtC,EAAD,SAGY,IACfoxB,EAAApxB,EAAAqxB,cAAC2D,EAAA,EAAD,CAAelE,QAAS,CAAE0H,KAAM1H,EAAQuJ,UACvCjJ,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,CAAW0C,IAAKJ,GAAkBppB,EAAlC,CAAwCo3C,YAjExB,WACnBP,GAAQ,QAkELH,GAAiBzyB,EAAApxB,EAAAqxB,cAAC6D,EAAA,EAAD,KAAgB2uB,KAatC,OAAO7sB,qBAAW,SAAC/G,EAAO0G,GAAR,OACjBvF,EAAApxB,EAAAqxB,cAACiyB,EAADniD,OAAA8yB,OAAA,GAAgBhE,EAAhB,CAAuBsG,aAAcI,qDClKxB,SAAS6tB,GAAazwB,GAAW,IACzC0wB,EADyC,SAAAz0B,GAE9C,SAAAy0B,EAAYx0B,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAyqC,IAClBjjC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAsjD,GAAA7iC,KAAA5H,KAAMiW,KAUPgL,aAAe,SAAC6W,EAAMnnC,EAAOmiC,GAC5BtrB,EAAKyO,MAAMxd,QAAQiyC,cAClBljC,EAAKyO,MAAMpgB,QACXi9B,GAAS3rC,OAAAsxB,EAAA,EAAAtxB,CAAA,GAAO2wC,EAAOnnC,GACvB,SACAuF,YAhBiBsR,EAoBnBw/B,OAAS,WAAM,IACNuD,EAAgB/iC,EAAKyO,MAArBs0B,YACJA,GACHA,KAvBiB/iC,EA2BnBssB,KAAO,WAAM,IAAArZ,EACiBjT,EAAKyO,MAA1Bxd,EADIgiB,EACJhiB,QAAS5C,EADL4kB,EACK5kB,QACjB4C,EAAQkyC,QAAQ90C,GAEhB2R,EAAKw/B,SACLvuC,EAAQmyC,aAAa,WAhCHpjC,EAmCnBmO,OAAS,WACRnO,EAAKw/B,SACLx/B,EAAKyO,MAAMxd,QAAQmyC,aAAa,WAlChCpjC,EAAKssB,KAAOtsB,EAAKssB,KAAKzZ,KAAVlzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,IAEZA,EAAKlhB,MAAQ,CACZ8vB,QAAQ,EACRy0B,OAAO,GAPUrjC,EAF2B,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAAsjD,EAAAz0B,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAsjD,EAAA,EAAAtwC,IAAA,SAAAxJ,MAAA,WA0CrC,IAAA2rB,EACqBtc,KAAKiW,MAAd9iB,GADZmpB,EACAxF,QADA3vB,OAAAiM,GAAA,EAAAjM,CAAAm1B,EAAA,cAER,OACClF,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GACK9mB,EADL,CAEC2gC,KAAM9zB,KAAK8zB,KACX7S,aAAcjhB,KAAKihB,aACnBtL,OAAQ3V,KAAK2V,cAjD8B80B,EAAA,CACxB/xB,aA0EvB,OAAOpO,YAbP,SAAyBhkB,EAAO2vB,GAAO,IAC9BjqB,EAAW1F,EAAX0F,OACR,MAAO,CACN6J,QAAS,IAAIK,UAAOlK,EAAO6J,QAAP,UAItB,SAA4B8iB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIhCrO,CAGLmgC,8CCtEGrpB,GAAYC,aCfI,SAAAvI,GAAK,MAAK,CAC/BgyB,YAAa,CAEZppB,SAAU,QD8GGqpB,OAhGf,SAAkB90B,GACjB,IAAMa,EAAUsK,KAGfgB,EAgBGnM,EAhBHmM,SAJuB4oB,EAoBpB/0B,EAfHra,aALuB,IAAAovC,EAKf,GALeA,EAMvBr6C,EAcGslB,EAdHtlB,MANuBs6C,EAoBpBh1B,EAbH5Z,cAPuB,IAAA4uC,EAOd,GAPcA,EAAAC,EAoBpBj1B,EAZHk1B,cARuB,IAAAD,EAQd,UARcA,EAAAE,EAoBpBn1B,EAXH+a,gBATuB,IAAAoa,KAAAC,EAoBpBp1B,EAVHvM,aAVuB,IAAA2hC,KAWvBC,EASGr1B,EATHq1B,WAXuBC,EAoBpBt1B,EAPH6iB,iBAbuB,IAAAyS,KAcvBzzB,EAMG7B,EANH6B,UACAia,EAKG9b,EALH8b,SACAjP,EAIG7M,EAJH6M,QACA0oB,EAGGv1B,EAHHu1B,WACAjpB,EAEGtM,EAFHsM,QACAkpB,EACGx1B,EADHw1B,cAGKC,EAAa7uB,IAAM8uB,OAAO,MAtBRC,EAuBY/uB,IAAMkK,SAAS,GAvB3B8kB,EAAA1kD,OAAA4J,GAAA,EAAA5J,CAAAykD,EAAA,GAuBjBE,EAvBiBD,EAAA,GAuBLE,EAvBKF,EAAA,GAiCxB,OATAhvB,IAAMkkB,UAAU,WACfgL,EAAcL,EAAWjxC,QAAQuxC,cAC/B,IAQF50B,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CACC/gB,UAAWC,IAAWD,EAAWhB,EAAQg0B,aACzC9Z,SAAUA,EACVtnB,MAAOA,EACPovB,UAAWA,EACXvW,QAASA,GAETnL,EAAApxB,EAAAqxB,cAAC0hB,GAAA,EAAD,CAAYpc,IAAK+uB,EAAYxR,QAASiR,EAAQpZ,SAAUA,GACtDn2B,GAECS,EAAOnW,SAAW48B,EACpB1L,EAAApxB,EAAAqxB,cAAC40B,GAAA,EAAD,CACCt7C,MAAOA,EAAM9C,IAAM8C,EACnByxB,SAnBiB,SAAAjG,GACpBiG,EAASjG,EAAMqB,OAAO7sB,QAmBnBm7C,WAAYA,EACZL,cAAeA,GAEdtkD,OAAA2D,GAAA,EAAA3D,CAAIkV,GAAQ1U,IAAI,SAAA6+B,GAChB,OAAOA,EAAIjqB,MACV6a,EAAApxB,EAAAqxB,cAAC60B,GAAA,EAAD,CAAe/xC,IAAKqsB,EAAIjqB,MAAMtE,MAAQuuB,EAAIjqB,OACxCiqB,EAAIjqB,MAAMtE,MAAQuuB,EAAIjqB,OAGxB6a,EAAApxB,EAAAqxB,cAACgR,GAAA,EAAD,CACCluB,IAAKqsB,EAAI71B,MAAMwJ,KAAOqsB,EAAI71B,MAAM9C,IAAM24B,EAAI71B,MAC1CA,MAAO61B,EAAI71B,MAAM9C,IAAM24B,EAAI71B,OAE1B61B,EAAI5qB,UAKLknB,EAGJ1L,EAAApxB,EAAAqxB,cAAAD,EAAApxB,EAAA6/B,SAAA,KACCzO,EAAApxB,EAAAqxB,cAAC2hB,GAAA,EAAD,CAAOhI,UAAQ,EAACrgC,MAAO1J,aAAE,kBACzBmwB,EAAApxB,EAAAqxB,cAAC80B,GAAD,OAJD/0B,EAAApxB,EAAAqxB,cAAC2hB,GAAA,EAAD,CAAOhI,UAAQ,EAACrgC,MAAO66C,IAMrB,IACFF,GAAcl0B,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KAAiB8R,8CE/E3Bc,GAAetW,WAAfsW,WAEFC,GAAUtwC,aAAUC,aAAarU,IAAI,SAAAwI,GAC1C,MAAO,CACNQ,MAAOR,EACPyL,MAAOzL,EAAKjH,MAAM,KAAK,MAqMV4wB,KAFQ0wB,eA9LtB,SAAA8B,EAAYr2B,GAAO,IAAAzO,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAssC,IAClB9kC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAmlD,GAAA1kC,KAAA5H,KAAMiW,KAiDPs2B,sBAAwB,SAACpa,EAAOxhC,GAC/B,IAAMuE,EAAS8iC,OAAIxG,SAAS7gC,EAAOy7C,GAAWj8C,MAC9CqX,EAAKyO,MAAMgL,aAAa,OAAQtwB,GAChC6W,EAAKyO,MAAMub,SAAS,OAAQ,CAC3BQ,SAAU98B,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClDqoB,MAAOA,KAxDU,IAEVt8B,EAAYogB,EAAZpgB,QAFU,OAGlB2R,EAAKyxB,cAAcpjC,EAAQyD,OAAO,GAClCkO,EAAK6yB,oBAAoBxkC,EAAQqiC,aAAa,GAC9C1wB,EAAKglC,kBAAkB32C,EAAQ42C,WAAW,GAC1CjlC,EAAK+kC,uBAAsB,EAAO12C,EAAQ1F,MANxBqX,kFASAklC,GAEjBA,EAAU72C,QAAQyD,QAAU0G,KAAKiW,MAAMpgB,QAAQyD,OAC/CozC,EAAU72C,QAAQ1F,OAAS6P,KAAKiW,MAAMpgB,QAAQ1F,MAC9Cu8C,EAAU72C,QAAQ0iC,KAAKoU,aAAe3sC,KAAKiW,MAAMpgB,QAAQ0iC,KAAKoU,YAE9D3sC,KAAK4sC,yDAIO30C,EAAMk6B,EAAOxC,GAC1B,IAAMz6B,EAAS8iC,OAAIxG,SAASv5B,EAAMm0C,GAAW9yC,OAE7C0G,KAAKiW,MAAMub,SAAS,QAAS,CAC5BQ,SAAU98B,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClDqoB,MAAOA,gDAIWl6B,EAAMk6B,EAAOxC,GAChC,IAAMz6B,EAAS8iC,OAAIxG,SAASv5B,EAAMm0C,GAAWlU,aAE7Cl4B,KAAKiW,MAAMub,SAAS,cAAe,CAClCQ,SAAU98B,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClDqoB,MAAOA,8CAISsa,EAAWta,GAC5B,IAAM0a,EAAW,SAAA39B,GAAG,MAAM,gBAAgB6D,KAAK7D,GAAyBA,EAA/C,UAAA7V,OAAuC6V,IAC1Dha,EAAS8iC,OAAIxG,SAASqb,EAASJ,GAAYL,GAAWK,WAC5DzsC,KAAKiW,MAAMub,SAAS,YAAa,CAChCQ,SAAU98B,EAAOwU,MACjBgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClDqoB,MAAOA,IAEHj9B,EAAOwU,OAAO1J,KAAK4sC,iBAAiBC,EAASJ,+CAahC,IAAAhyB,EACgBza,KAAKiW,MAA/BgL,EADUxG,EACVwG,aAAcprB,EADJ4kB,EACI5kB,QACd42C,EAAiC52C,EAAjC42C,UAAWnzC,EAAsBzD,EAAtByD,MAAOnJ,EAAe0F,EAAf1F,KAClBw8C,EADiC92C,EAAT0iC,KACxBoU,WACFF,GAOLxrB,EAAa,YC1FiB,SAAAp6B,GAK3B,IAJL4lD,EAIK5lD,EAJL4lD,UACA71C,EAGK/P,EAHL+P,SACAypB,EAEKx5B,EAFLw5B,QACAysB,EACKjmD,EADLimD,cAEA,GAAML,EAAW,CAChB,IAAMne,EAAMpf,KAAIuF,MAAMg4B,GAAW,GAGjC,GAFAne,EAAI9hC,OAAS,KAET8hC,EAAIye,UAAYze,EAAI0e,KAAM,CAC7B,IAAMC,EAAW,GACjB,GAAIH,EAAe,CAClB,QAAAI,EAAA,EAAAC,EAAyBhmD,OAAOimD,QAAQ9e,EAAI7hC,OAA5CygD,EAAAC,EAAAjnD,OAAAgnD,IAAoD,KAAAplD,EAAAqlD,EAAAD,GAAAxlD,EAAAP,OAAA4J,GAAA,EAAA5J,CAAAW,EAAA,GAA1CqS,EAA0CzS,EAAA,GAArCiJ,EAAqCjJ,EAAA,GAC/C2lD,KAAWlzC,KAASxJ,IACvBs8C,EAAS9yC,GAAOxJ,GAGlB29B,EAAI7hC,MAAQwgD,MACN,CACN,IAAMxgD,EAAKtF,OAAAC,GAAA,EAAAD,CAAA,GAAQkmD,KAAe/e,EAAI7hC,OAElCmK,IACHnK,EAAK,aAAmBmK,GAErBypB,IACH5zB,EAAK,YAAkB4zB,GAExBiO,EAAI7hC,MAAQA,EAEb,OAAOyiB,KAAIo+B,OAAOhf,IAIpB,OAAOme,EDkDgBc,CAAkB,CACtCd,YACA71C,SAAU0C,EACV+mB,QAASlwB,EACT28C,eAAgBH,oDAMIzrB,GAAI,IAClBqX,EAASv4B,KAAKiW,MAAMpgB,QAApB0iC,KACFiV,EAAOrmD,OAAAC,GAAA,EAAAD,CAAA,GAAQoxC,GAErBiV,EAAQb,WAAazrB,EAAG1D,OAAOiwB,QAC/BztC,KAAKiW,MAAMgL,aAAa,OAAQusB,oCAGxB,IAAA32B,EAAA7W,KAAAsc,EAC4Ctc,KAAKiW,MAAjDhvB,EADAq1B,EACAr1B,EAAG4O,EADHymB,EACGzmB,QAAS+8B,EADZtW,EACYsW,cAAe3R,EAD3B3E,EAC2B2E,aAC3BwrB,EAA8C52C,EAA9C42C,UAAWt8C,EAAmC0F,EAAnC1F,KAAMmJ,EAA6BzD,EAA7ByD,MAAO4+B,EAAsBriC,EAAtBqiC,YACxByU,EAD8C92C,EAAT0iC,KACrCoU,WACFe,EAAW9a,EAAa,MACxB+a,EAAiB/a,EAAa,YAC9Bgb,EAAehb,EAAa,UAElC,OACCxb,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,IACdvZ,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,EAAE,QAAS,CAAEmI,QAAQ,IAC5B6I,KAAK,OACLtH,MAAO2I,EACP8oB,SAAU,SAAAlB,GAAE,OAAID,EAAa,QAASC,EAAG1D,OAAO7sB,QAChDwoC,OAAQ,kBAAMtiB,EAAKoiB,cAAc3/B,GAAO,IACxC8/B,QAAS,kBAAMviB,EAAKoiB,cAAc3/B,GAAO,IACzCoQ,MAAOgkC,KAAcA,EAASvb,MAC9B+G,UAAW,IACXoS,WACCoC,GAAcA,EAASvb,MACpBub,EAAS/d,OACT1oC,EAAE,mBAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,IACdvZ,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACLgqC,WAAS,EACTC,KAAM,EACNx+B,MAAO3U,EAAE,cAAe,CAAEmI,QAAQ,IAClCuB,MAAOunC,EACP9V,SAAU,SAAAlB,GAAE,OAAID,EAAa,cAAeC,EAAG1D,OAAO7sB,QACtDwoC,OAAQ,WACPtiB,EAAKwjB,oBAAoBnC,GAAa,IAEvCkB,QAAS,kBAAMviB,EAAKwjB,oBAAoBnC,GAAa,IACrDxuB,MAAOikC,KAAoBA,EAAexb,MAC1C+G,UAAW,IACXoS,WACCqC,GAAoBA,EAAexb,MAChCwb,EAAehe,OACf1oC,EAAE,yBAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,EAAE,YAAa,CAAEmI,QAAQ,IAChCuB,MAAO87C,EACPrqB,SAAU,SAAAlB,GAAE,OAAID,EAAa,YAAaC,EAAG1D,OAAO7sB,QACpDwoC,OAAQ,kBAAMtiB,EAAK21B,kBAAkBC,GAAW,IAChDrT,QAAS,kBAAMviB,EAAK21B,kBAAkBC,GAAW,IACjD/iC,MAAOkkC,KAAkBA,EAAazb,MACtCmZ,WACCsC,GAAkBA,EAAazb,MAAQyb,EAAaje,OAAS,MAIhEvY,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAApxB,EAAAqxB,cAAC22B,GAAA,EAAD,CACCP,QAASd,EACTvqB,SAAU,SAAAlB,GAAE,OAAIrK,EAAKo3B,uBAAuB/sB,IAC5CvwB,MAAM,WACN0nB,MAAM,YAGRzc,MAAO3U,EAAE,mBAGXmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,IACtBxZ,EAAApxB,EAAAqxB,cAAC62B,GAAD,CACCpV,WAAS,EACT/G,UAAQ,EACR3P,SAAUpiB,KAAKusC,sBAAsBlyB,KAAKra,MAAM,GAChD3D,OAAQgwC,GACR17C,MAAOR,EAAO,GACdyL,MAAO3U,EAAE,SAAU,CAAEmI,QAAQ,IAC7B+7C,OAAO,aACPlzC,KAAK,qBA/KcygB,eEbpBy1B,GAAyB,SAAAh+C,GAE9B,KADAA,EAAOA,GAAQ,IAEd,MAAO,CACNypB,MAAO,EACPsG,OAAQ,GAIV,IAAMkuB,EAAQj+C,EAAKjH,MAAM,KAAK,GAAGA,MAAM,KACvC,MAAO,CACN0wB,MAAO3lB,SAASm6C,EAAM,GAAI,IAC1BluB,OAAQjsB,SAASm6C,EAAM,GAAI,MAwFdt0B,KAFQ0wB,GAAalZ,8MAlDnC+c,gBAAkB,SAACvW,EAAM/K,GAAQ,IAAAtS,EACEjT,EAAKyO,MAA/BpgB,EADwB4kB,EACxB5kB,SAERorB,EAHgCxG,EACfwG,cAEJ6W,EADA3wC,OAAAC,GAAA,EAAAD,CAAA,GAAQ0O,EAAQ0iC,KAASxL,wFAjCnB,IAAAzQ,EAC0Btc,KAAKiW,MAA1CpgB,EADWymB,EACXzmB,QAAS27B,EADElV,EACFkV,SAAUY,EADR9V,EACQ8V,cACnBjiC,EAAe0F,EAAf1F,KAAMooC,EAAS1iC,EAAT0iC,KACNvJ,EAAkBuJ,EAAlBvJ,QAASD,EAASwJ,EAATxJ,KAHEuf,EAKOH,GAAuBh+C,GAAzCypB,EALW00B,EAKX10B,MAAOsG,EALIouB,EAKJpuB,OAEX8O,EACHoD,EACC,CACCX,UAAW,OACXC,YAAa9X,EACb+X,aAAczR,EACd7M,IAAK,qBACLye,OAAO,EACPC,UAAU,GAEX,CACC/C,UACAD,SAIFyC,EAAS,OAAQ,CAChBQ,SAAS,EACTtd,IAAK,CAAErB,IAAK,sBACZ8e,OAAO,qCAWD,IAAA1F,EAC8BzsB,KAAKiW,MAAnCpgB,EADA42B,EACA52B,QAAS5O,EADTwlC,EACSxlC,EAAGmrC,EADZ3F,EACY2F,cACZjiC,EAAe0F,EAAf1F,KAAMooC,EAAS1iC,EAAT0iC,KACRpF,EAASnzB,KAAKiW,MAAM2c,cAAX,KAHP2b,EAIkBJ,GAAuBh+C,GAAzCypB,EAJA20B,EAIA30B,MAAOsG,EAJPquB,EAIOruB,OAEf,OACC9I,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,GACdrZ,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,IACdvZ,EAAApxB,EAAAqxB,cAACmc,GAAD,CACC53B,MAAO3U,EAAE,yBACTshC,OAAQgQ,EAAKvJ,SAAW,GACxBD,KAAMwJ,EAAKxJ,MAAQ,GACnB3M,SAAUgQ,EAAc/X,KAAKra,KAAM,CAClCyxB,UAAW,OACXC,YAAa9X,EACb+X,aAAczR,EACd7M,IAAK,qBACLye,OAAO,EACPC,UAAU,EACV3P,SAAUpiB,KAAKquC,kBAEhBle,eAAgBlpC,EAAE,uBAAwB,CACzCqI,KAAM,CAACsqB,EAAOsG,EAAQ,QAEvByP,OAAQwD,EAASA,EAAOxD,OAAS,GACjChE,KAAM,CACL/R,MAAOA,EACPsG,OAAQA,eAnEUxH,2BCyDb81B,GAAiB,WAKzB,IAJJC,EAIIxoD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAJS,GACboW,EAGIpW,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAFJuoD,EAEIzoD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EADJwoD,EACI1oD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACJ,OAAKsoD,GAGJA,EAAaA,EAAWvnC,cAAcw7B,QAEtCrmC,EAASA,EAAOhK,OAAO,SAAAu8C,GACtB,OACEH,IAI0B,IAH3BG,EAAWhzC,MACTsL,cACAw7B,OACAlM,QAAQiY,MAKU9mD,IAAI,SAAA+L,GACzB,OAAOA,EAAK/C,QAIJoxC,SAAS0M,KACjBC,GACEC,IAAoBA,EAAiBF,IAEvCpyC,EAAOzI,KAhDY,SAAA66C,GACrB,MAAO,CACN7yC,MAAK,GAAAvC,OAAK5J,YACT,oBADI,MAAA4J,OAECo1C,EAAWvnC,cAAcw7B,OAF1B,KAGL/xC,MAAO89C,EAAWvnC,cAAcw7B,QA2CnBmM,CAAcJ,IAGpBpyC,GA3BAA,GCPMwc,mBCjFO,SAAAC,GAAK,MAAK,CAC/B0F,KAAM,CACLC,SAAU,EACVyB,OAAQ,KAETuQ,UAAW,CACVhS,SAAU,EACVG,SAAU,YAEX2E,MAAO,CACN3E,SAAU,WAEVF,OAAQ,IACR2S,UAAWvY,EAAMC,QAAQ,GACzBgG,KAAM,EACNC,MAAO,EACPL,SAAU,SACVuB,OAAQ,IACRtG,MAAO,QAERk1B,KAAM,CACL11B,OAAM,GAAA/f,OAAKyf,EAAMC,QAAQ,GAAK,EAAxB,OAAA1f,OAA+Byf,EAAMC,QAAQ,GAAK,EAAlD,OAEPg2B,UAAW,CACVta,SAAU,UDyDG5b,CAxEf,SAAsB5C,GAiBjBA,EAfHpoB,GAF2B,IAG3BipB,EAcGb,EAdHa,QACAza,EAaG4Z,EAbH5Z,OACA2yC,EAYG/4B,EAZH+4B,SACAr+C,EAWGslB,EAXHtlB,MACAiL,EAUGqa,EAVHra,MACA2mB,EASGtM,EATHsM,QACAmsB,EAQGz4B,EARHy4B,YACAC,EAOG14B,EAPH04B,iBAEAjlC,GAKGuM,EANHg5B,qBAMGh5B,EALHvM,OACAwlC,EAIGj5B,EAJHi5B,UACAC,EAGGl5B,EAHHk5B,OACA/sB,EAEGnM,EAFHmM,SAf2B0E,GAAA3/B,OAAAiM,GAAA,EAAAjM,CAiBxB8uB,EAjBwB,gKAkBQ8Q,mBAAS,KAlBjBC,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GAkBrB2nB,EAlBqBznB,EAAA,GAkBTooB,EAlBSpoB,EAAA,GAoBtBqoB,EAAcb,GACnBC,EACApyC,EACAqyC,EACAC,GAED5N,oBAAU,WACToO,KAEE,IAEH,IAAMluB,EAAe,SAAAvtB,GACpB,IAAM47C,EAAe57C,EAAOA,EAAK/C,OAAS+C,EAAKkI,MAAQlI,EACvD0uB,EAASktB,IAGV,OACCl4B,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ2Z,WACvBrZ,EAAApxB,EAAAqxB,cAAAk4B,GAAA,GACCP,SAAUA,EACV/+B,QAASo/B,EACTG,eAAgB,SAAAC,GAAM,OAAIA,EAAO7zC,OACjCwmB,SAAU,SAACj2B,EAAG8zC,GAAJ,OAAiBhf,EAAagf,IACxCyP,cAAe,SAACvjD,EAAG8zC,GAAJ,OAAiBmP,EAAcnP,IAC9C0P,YAAa,SAAA/mC,GAEZ,OADIjY,IAAOiY,EAAOgnC,WAAWj/C,MAAQA,GAEpCymB,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD1mD,OAAA8yB,OAAA,GACKrR,EADL,CAEChN,MAAOA,EACP2mB,QAASA,EACTuW,WAAS,EACTpvB,MAAOA,QAKVA,GACA0N,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,CAAgB9vB,OAAK,EAAC7b,GAAG,wBACvBqhD,iBE7CDlP,GAAQ,CACb,CACCrvC,MAAO,EACPiL,MAAO,OAER,CACCjL,MAAO,GACPiL,MAAO,UAER,CACCjL,MAAO,GACPiL,MAAO,SAIHi0C,GAAgB1oD,OAAO+S,KAAK41C,MAASnoD,IAAI,SAAAwS,GAC9C,MAAO,CACNxJ,MAAO,CACNwJ,IAAKA,EACLkC,OAAQlC,EACR41C,WAAYD,KAAQ31C,GAAK41C,WACzBvyB,OAAQ,CAAEwyB,IAAK,GAAIC,MAAO,GAC1Br0C,MAAOnM,YAAS,gBAAA4J,OAAiBc,EAAI6rB,gBACrCkqB,YAAazgD,YAAS,gBAAA4J,OAAiBc,EAAI6rB,iBAE5CpqB,MAAOnM,YAAS,WAAA4J,OAAYc,EAAI6rB,cAAhB,eAIZmqB,eACL,SAAAA,EAAYl6B,GAAO,IAAAzO,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAmwC,IAClB3oC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAgpD,GAAAvoC,KAAA5H,KAAMiW,KAkCPm6B,mBAAqB,SAACh0C,EAAO07B,EAAMmI,GAClC,IAAMoQ,EAAUlpD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMgqD,SAC5BC,EAASppD,OAAAC,GAAA,EAAAD,CAAA,GAAQkpD,EAAWj0C,GAAOohB,QACzC+yB,EAAUzY,GAAQmI,EAClBoQ,EAAWj0C,GAAXjV,OAAAC,GAAA,EAAAD,CAAA,GAAyBkpD,EAAWj0C,GAApC,CAA4CohB,OAAQ+yB,IACpD/oC,EAAKgpC,yBAAyBH,GAC9B7oC,EAAK2O,SAAS,CAAEm6B,QAASD,KAzCP7oC,EA4CnB+oC,UAAY,SAAA/yB,GACX,IAAM6yB,EAAUlpD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMgqD,SAC5BC,EAASppD,OAAAC,GAAA,EAAAD,CAAA,GAAQq2B,GACvB+yB,EAAUp2C,IAAMk2C,EAAWnqD,OAC3BqqD,EAAU/yB,OAAVr2B,OAAAC,GAAA,EAAAD,CAAA,GAAwBq2B,EAAOA,QAC/B6yB,EAAWz8C,KAAK28C,GAChB/oC,EAAK2O,SAAS,CAAEm6B,QAASD,KAlDP7oC,EAqDnBipC,aAAe,SAAAr0C,GACd,IAAMi0C,EAAUlpD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMgqD,SAClCD,EAAWK,OAAOt0C,EAAO,GACzBoL,EAAKgpC,yBAAyBH,GAC9B7oC,EAAK2O,SAAS,CAAEm6B,QAASD,IACzB7oC,EAAKynC,qBAAqB,CACzBphD,GAAE,UAAAwL,OAAY+C,GACd41B,SAAS,EACTG,OAAO,KA7DU3qB,EAiEnBynC,qBAAuB,SAAApoD,GAA4B,IAAzBgH,EAAyBhH,EAAzBgH,GAAImkC,EAAqBnrC,EAArBmrC,QAASG,EAAYtrC,EAAZsrC,MACtC3qB,EAAKyO,MAAMub,SAAS3jC,EAAI,CACvBmkC,UACAtd,IAAK,CAAErB,IAAK,sBACZ8e,WArEiB3qB,EAyEnBmpC,UAAY,SAAAppD,GAUN,IAAAqpD,EAAArpD,EATL8U,cASK,IAAAu0C,EATI,GASJA,EARLb,EAQKxoD,EARLwoD,WACAG,EAOK3oD,EAPL2oD,YACAt0C,EAMKrU,EANLqU,MACAQ,EAKK7U,EALL6U,MACAohB,EAIKj2B,EAJLi2B,OACAv2B,EAGKM,EAHLN,EACA6vB,EAEKvvB,EAFLuvB,QACA8b,EACKrrC,EADLqrC,cAEM/kC,EAAE,UAAAwL,OAAa+C,GACrB,OACCgb,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAInE,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAACw5B,GAAD,CACChjD,GAAIA,EACJw7C,UAAU,OACVyH,aAAW,EACX/e,UAAU,EACVroB,MAAOkpB,EAAc/kC,IAAO+kC,EAAc/kC,GAAIskC,MAC9C+c,UACCtc,EAAc/kC,IAAS+kC,EAAc/kC,GAAIskC,MACtCS,EAAc/kC,GAAI8hC,OAClB,KAEJvN,SAAU,SAAA6d,GACTz4B,EAAK4oC,mBAAmBh0C,EAAO,MAAO6jC,EAAU8P,GAChDvoC,EAAKynC,qBAAqB,CACzBphD,KACAmkC,QAASiO,EACT9N,OAAO,KAGTgd,OAAQ,kBACP3nC,EAAKynC,qBAAqB,CACzBphD,KACAmkC,QAASxU,EAAOwyB,IAChB7d,OAAO,KAGT8c,qBAAsBznC,EAAKynC,qBAE3BrzC,MAAOA,EACPs0C,YAAaA,EACb7zC,OAAQA,EACR1L,MAAO6sB,EAAOwyB,IACde,gBAAgB,WAChBC,+BAA+B,EAC/BtC,aAAcryC,EAAOnW,OACrBq8B,QAAQ,cAGVnL,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAInE,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYx3B,GAAE,gBAAAwL,OAAkB+C,IAE9BnV,EAAE,qBAAsB,CACxBqI,KAAM,CAACkuB,EAAOyyB,UAGhB74B,EAAApxB,EAAAqxB,cAAC0oB,GAAA,EAAD,CACCjpB,QAAS,CAAE0H,KAAM1H,EAAQm6B,OAAQC,UAAWp6B,EAAQo6B,WACpD/Q,kBAAA,gBAAA9mC,OAAiC+C,GACjCiC,IAAK,EACLxF,IAAK,IACL8lC,KAAM,EACNuB,kBAAkB,OAClBlP,UAAWxT,EAAOwyB,IAClBr/C,MAAO6sB,EAAOyyB,MACdjQ,MAAOA,GACP5d,SAAU,SAAClB,EAAI+e,GAAL,OACTz4B,EAAK4oC,mBAAmBh0C,EAAO,QAAS6jC,EAAU8P,QAKtD34B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAAC+8B,WAAS,EAACsE,GAAI,EAAGnE,GAAI,EAAGlX,WAAW,UAC7CtC,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CAAYG,QAAS,kBAAM9Q,EAAKipC,aAAar0C,KAC5Cgb,EAAApxB,EAAAqxB,cAACkc,GAAAvtC,EAAD,UAxJc,IAGVsqD,GAAYr6B,EAAMpgB,QAAQ0iC,MAAQ,IAAlC+X,QAHU,OAIlB9oC,EAAKlhB,MAAQ,CACZgqD,QAAQnpD,OAAA2D,GAAA,EAAA3D,CAAMmpD,GAAW,KALR9oC,wFASM8oC,GAAS,IAAA71B,EACCza,KAAKiW,MAA/BpgB,EADyB4kB,EACzB5kB,QAASorB,EADgBxG,EAChBwG,aACXkwB,EAAchqD,OAAA2D,GAAA,EAAA3D,CAAImpD,GAASvpD,OAChC,SAACC,EAAKoqD,GACL,IAAMC,EAAgBrqD,EAAIoqD,EAAGrB,aAAe,GAO5C,OAJMqB,EAAG5zB,OAAOwyB,KACfqB,EAAcz9C,KAAKw9C,EAAG5zB,QAEvBx2B,EAAIoqD,EAAGrB,YAAcsB,EACdrqD,GAER,CAAEsqD,UAAW,GAAIC,KAAM,KAGhBhZ,EAAS1iC,EAAT0iC,KACFiV,EAAOrmD,OAAAC,GAAA,EAAAD,CAAA,GAAQoxC,GAGrBiV,EAAQ8C,QAARnpD,OAAA2D,GAAA,EAAA3D,CAAsBmpD,GACtBa,EAAY5Y,KAAOiV,EAEnBvsB,EAAa,KAAM,KAAMkwB,oCA+HjB,IAAAt6B,EAAA7W,KAAAsc,EAMJtc,KAAKiW,MAJRhvB,EAFOq1B,EAEPr1B,EAEA6vB,EAJOwF,EAIPxF,QACG3jB,EALIhM,OAAAiM,GAAA,EAAAjM,CAAAm1B,EAAA,iBASAg0B,EAAYtwC,KAAK1Z,MAAjBgqD,QACR,OACCl5B,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACb5tC,OAAA2D,GAAA,EAAA3D,CAAImpD,GAAS3oD,IACb,eAAAG,EAAA7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAOK,GAPLurD,EAAA1pD,EAEEuU,cAFF,IAAAm1C,EAEW,GAFXA,EAGEzB,EAHFjoD,EAGEioD,WACAn0C,EAJF9T,EAIE8T,MACAs0C,EALFpoD,EAKEooD,YALFuB,EAAA3pD,EAME01B,cANF,IAAAi0B,EAMW,GANXA,EAQCr1C,EARDnW,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAA,OAUCixB,EAAApxB,EAAAqxB,cAACR,EAAK85B,UAANxpD,OAAA8yB,OAAA,CACC9f,IAAKiC,EACLR,MAAO3U,EAAE2U,GACTs0C,YAAajpD,EAAEipD,GACf9zC,MAAOA,EACPC,QAASyzC,KAAQzzC,IAAW,IAAImqB,KAAO,GACvCupB,WAAYA,EACZvyB,OAAQA,EACRv2B,EAAGA,EACH6vB,QAASA,GACL3jB,OAMRikB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAAC62B,GAAD,CACC3rB,QAAQ,WACRuW,WAAS,EACT1W,SAAU,SAAA5E,GACT3G,EAAK05B,UAALppD,OAAAC,GAAA,EAAAD,CAAA,GAAoBq2B,KAErBnhB,OAAMlV,OAAA2D,GAAA,EAAA3D,CAAM0oD,IACZl/C,MAAO,GACPiL,MAAO3U,EAAE,cACTkkD,OAAO,aACPlzC,KAAK,SACLwzC,cAAeiG,iBArNQh5B,aAwOfoB,KAFY0wB,GAAa3xB,YA3QzB,CACdo4B,OAAQ,CACPxwB,QAAS,YAEVywB,UAAW,CACV/5B,IAAK,SAsQiC0B,CAAmBs3B,oGC7QrDwB,GAAa,CAClBrlD,SAAUslD,KACVC,OAAQC,KACRC,IAAKC,MAGAC,GAAgB,SAAAjC,GAErB,OADaA,EAAI9mD,MAAM,KAAK,IAAM,QAiDpBgpD,8MA5CdC,kBAAoB,SAAC30B,EAAQrtB,EAAMlJ,EAAGmV,GACrC,IAAMg2C,EAAaT,GAAWxhD,IAASkiD,KACvC,OACCj7B,EAAApxB,EAAAqxB,cAAA,QAAMld,IAAKqjB,EAAOwyB,IAAMxyB,EAAOyyB,MAAQ7zC,GACtCgb,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,KACC/L,EAAApxB,EAAAqxB,cAACqO,GAAA,EAAD,KACCtO,EAAApxB,EAAAqxB,cAAC+6B,EAAD,OAEDh7B,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCQ,QAAS3+B,EAAEu2B,EAAOwyB,IAAK,CAAEsC,UAAU,IACnC5uB,UAAWlG,EAAOyyB,QAEnB74B,EAAApxB,EAAAqxB,cAACk7B,GAAA,EAAD,KAA0B/0B,EAAOyyB,QAElC74B,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,UAKHitB,YAAc,SAAA3rD,GAAA,IAAA4rD,EAAA5rD,EAAGypD,eAAH,IAAAmC,EAAa,GAAbA,EAAiBC,EAAjB7rD,EAAiB6rD,UAAWzrD,EAA5BJ,EAA4BI,EAA5BE,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,oCACbuwB,EAAApxB,EAAAqxB,cAAC2N,GAAA,EAAD,CACC2tB,OAAK,EACLC,UACCF,EAAYt7B,EAAApxB,EAAAqxB,cAAC60B,GAAA,EAAD,KAAgBjlD,EAAEyrD,IAA8B,MAG5DpC,EAAQ3oD,IAAI,SAAA61B,GACZ,IAAMrtB,EAAO8hD,GAAcz0B,EAAOwyB,KAClC,OAAOxoC,EAAK2qC,kBAAkB30B,EAAQrtB,EAAMlJ,+EAM9C,OAAOmwB,EAAApxB,EAAAqxB,cAAArX,KAAMwyC,YAAgBxyC,KAAKiW,cAnCVyC,aC8Gbm6B,GAAUh6B,YAAWyF,GAAXzF,CA5HP,SAAAhyB,GAAA,IACfiwB,EADejwB,EACfiwB,QACAiI,EAFel4B,EAEfk4B,KACAC,EAHen4B,EAGfm4B,MACAlH,EAJejxB,EAIfixB,UACAg7B,EALejsD,EAKfisD,cACAC,EANelsD,EAMfksD,eANeC,EAAAnsD,EAOfm3B,aAPe,IAAAg1B,EAOP,GAPOA,EAAA,OASf57B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CACC98B,MAAI,EACJ+8B,WAAS,EACT1X,QAAS,EACTgc,GAAI,GACJjd,UAAWC,IAAWD,GACtBkG,MAAOA,GAEP5G,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CACC98B,MAAI,EACJqhC,GAAI,GACJpE,GAAI,EACJsJ,GAAI,EACJniB,UAAWC,IAAWjB,EAAQwxB,QAASxxB,EAAQm8B,UAAWH,IAEzD/zB,GAEF3H,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CACC98B,MAAI,EACJqhC,GAAI,GACJpE,GAAI,EACJsJ,GAAI,EACJniB,UAAWC,IACVjB,EAAQ0xB,SACR1xB,EAAQ6xB,UACRoK,IAGA/zB,MAwFSk0B,GAAar6B,YAAWyF,GAAXzF,CAnFP,SAAAtxB,KAAGuvB,QAAH,IAAY4D,EAAZnzB,EAAYmzB,SAAU5C,EAAtBvwB,EAAsBuwB,UAAtB,OAClBV,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCpI,MAAO,EACPsG,OAAQ,EACRzG,QAAQ,OACR2F,cAAc,SACdtH,UAAWA,GAEV4C,KA4EUy4B,GAAct6B,YAAWyF,GAAXzF,CAxEP,SAAAnxB,KAAGovB,QAAH,IAAY4D,EAAZhzB,EAAYgzB,SAAU5C,EAAtBpwB,EAAsBowB,UAAtB,OACnBV,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKvD,SAAU,EAAG3G,UAAWA,GAC3B4C,KAuEU04B,GAAmBv6B,YAAWyF,GAAXzF,CAnEP,SAAA/wB,GAAA,IAAGgvB,EAAHhvB,EAAGgvB,QAAS4D,EAAZ5yB,EAAY4yB,SAAZ5yB,EAAsBgwB,UAAtB,OACxBV,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWC,IAAWjB,EAAQkyB,mBAAoBtuB,KAmE3C24B,GAAax6B,YAAWyF,GAAXzF,CAhEP,SAAA5wB,GAAA,IAAG6uB,EAAH7uB,EAAG6uB,QAASzD,EAAZprB,EAAYorB,IAAKigC,EAAjBrrD,EAAiBqrD,OAAjBrrD,EAAyB6vB,UAAzB,OAClBV,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWC,IAAWjB,EAAQoxB,oBAClC9wB,EAAApxB,EAAAqxB,cAAA4L,GAAA,GAAkBnL,UAAWhB,EAAQkxB,0BAA2Brc,KAAM,KACtEvU,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYJ,UAAU,OAAtB,IAA8B5R,EAA9B,KACCigC,GACAl8B,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYJ,UAAU,OACrB7N,EAAApxB,EAAAqxB,cAAA,cAASi8B,QA0DDC,GAAqB16B,YAAWyF,GAAXzF,CAnDP,SAAAzwB,GAAA,IAAG0uB,EAAH1uB,EAAG0uB,QAAH,OAC1BM,EAAApxB,EAAAqxB,cAAA4L,GAAA,GACCnL,UAAWC,IAAWjB,EAAQ2xB,sBAC9B9c,KAAM,OAiDK6nB,GAAqB36B,YAAWyF,GAAXzF,CA7CP,SAAAtvB,GAAA,IAC1BmxB,EAD0BnxB,EAC1BmxB,SAD0B+4B,EAAAlqD,EAE1BmqD,YAF0B,IAAAD,EAEnB,GAFmBA,EAG1B7f,EAH0BrqC,EAG1BqqC,QAH0B+f,EAAApqD,EAI1B8uB,aAJ0B,IAAAs7B,EAIlB,UAJkBA,EAAA,OAM1Bv8B,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCpI,MAAO,EACPsG,OAAQ,EACRzG,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXmG,eAAe,SACfoC,QAAO,GAAA5oB,OAAKgf,EAAL,SACPA,MAAK,GAAAhf,OAAKgf,EAAL,kBAEJub,GACAxc,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAApxB,EAAAqxB,cAAA4L,GAAA,GACC5K,MAAK,GAAAhf,OAAKgf,EAAL,iBAELsT,KAAM,MAIRjR,EACAg5B,EACCrhD,OAAO,SAAA07B,GAAC,QAAMA,GAAKA,EAAEjkB,UACrBniB,IAAI,SAAC0rB,EAAKjX,GACV,IAAM0N,EAAU7iB,aAAEosB,EAAIvJ,QAAS,CAAExa,KAAM+jB,EAAI/jB,OAC3C,OACC8nB,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYlrB,IAAKiC,EAAO6oB,UAAU,OAChC5R,EAAIugC,OAASx8B,EAAApxB,EAAAqxB,cAAA,cAASvN,GAAoBA,QChIpCwU,GAAS,SAAAxF,GAErB,MAAO,CACN+6B,WAAY,CACXvmB,UAAW,IACX1T,MAAO,OACPC,SAAU,OACVqG,OAAQ,OACRgC,UAAWpJ,EAAMg7B,QAAQ,IAE1BC,kBAAmB,CAClB7zB,OAAQ,iBCIL8zB,eACL,SAAAA,EAAY/9B,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAg0C,IAClBxsC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA6sD,GAAApsC,KAAA5H,KAAMiW,KACD6d,KAAO7d,EAAM6d,KAFAtsB,wEAKV,IAAAiT,EAC8Bza,KAAKiW,MAAnCa,EADA2D,EACA3D,QAASxuB,EADTmyB,EACSnyB,QAAY6K,EADrBhM,OAAAiM,GAAA,EAAAjM,CAAAszB,EAAA,uBAEA5kB,EAAe1C,EAAf0C,QAAS5O,EAAMkM,EAANlM,EACTkJ,EAA8C0F,EAA9C1F,KAAMmJ,EAAwCzD,EAAxCyD,MAAO4+B,EAAiCriC,EAAjCqiC,YAAaK,EAAoB1iC,EAApB0iC,KAAM+Y,EAAcz7C,EAAdy7C,UAExC,OACCl6B,EAAApxB,EAAAqxB,cAAC67B,GAAD,KACC97B,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,EAAE,QAAS,CAAEmI,QAAQ,IAC3B4vB,MAAO12B,EAAQI,OAAOrB,UAEvB+vB,EAAApxB,EAAAqxB,cAACw7B,GAAD,CAAS9zB,KAAM93B,EAAE,OAAQ,CAAEmI,QAAQ,IAAS4vB,MAAO7uB,IACnDinB,EAAApxB,EAAAqxB,cAACw7B,GAAD,CAAS9zB,KAAM93B,EAAE,QAAS,CAAEmI,QAAQ,IAAS4vB,MAAO1lB,IACpD8d,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,EAAE,cAAe,CAAEmI,QAAQ,IACjC4vB,MAAOkZ,IAER9gB,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,EAAE,SACR+3B,MACC5H,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACCzE,iBAAiB,EACjB5U,UAAWhB,EAAQ+8B,WACnBrtB,IAAK+R,EAAKvJ,SAAW,GACrBvI,IAAKntB,EACLzB,UAAW0gC,EAAKxJ,KAChBxD,YAAU,MAIZ+lB,GACAl6B,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,EAAE,YAAa,CAAEmI,QAAQ,IAC/B4vB,MACC5H,EAAApxB,EAAAqxB,cAAC48B,GAAD9sD,OAAA8yB,OAAA,GACK9mB,EADL,CAECm9C,QAASgB,EACTrqD,EAAGA,OAOPmwB,EAAApxB,EAAAqxB,cAAA,oBAnD2BqB,aAwEhC,IAAMw7B,GAAuB1J,GAAa3xB,YAAWyF,GAAXzF,CAAmBm7B,KAC9C1pC,eARf,SAAyBhkB,GAExB,MAAO,CACNgC,QAFmBhC,EAAZE,QAEU8B,UAKJgiB,CAAyBwP,EAAUo6B,KChFnC,SAASC,GAAep6B,GAAW,IAC3C0wB,EAD2C,SAAAz0B,GAEhD,SAAAy0B,EAAYx0B,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAyqC,IAClBjjC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAsjD,GAAA7iC,KAAA5H,KAAMiW,KAUPgL,aAAe,SAAC6W,EAAMnnC,EAAOmiC,GAC5BtrB,EAAKyO,MAAMxd,QAAQiyC,cAClBljC,EAAKyO,MAAMpgB,QACXi9B,GAAS3rC,OAAAsxB,EAAA,EAAAtxB,CAAA,GAAO2wC,EAAOnnC,GACvB,WACAoF,cAhBiByR,EAoBnBw/B,OAAS,WAAM,IACNuD,EAAgB/iC,EAAKyO,MAArBs0B,YACJA,GACHA,KAvBiB/iC,EA2BnBssB,KA3BmB3sC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KA2BZ,SAAAO,IAAA,IAAAub,EAAAhiB,EAAA5C,EAAA0iC,EAAAiV,EAAA,OAAAnlC,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAwb,EACuBjT,EAAKyO,MAA1Bxd,EADFgiB,EACEhiB,QAAS5C,EADX4kB,EACW5kB,QACT0iC,EAAS1iC,EAAT0iC,MACFiV,EAHArmD,OAAAC,GAAA,EAAAD,CAAA,GAGeoxC,IACb6b,eAAgB,EACxB5sC,EAAKyZ,aAAa,OAAQusB,GALpBjuC,EAAAN,KAAA,EAMAxG,EAAQ47C,aAAa,CAAEz9C,SAAUf,IANjC,OAQN23C,EAAQ4G,eAAgB,EACxB5sC,EAAKyZ,aAAa,OAAQusB,GAC1BhmC,EAAKw/B,SACLvuC,EAAQmyC,aAAa,YAXf,yBAAArrC,EAAAO,SAAAZ,MA3BYsI,EAyCnBmO,OAAS,WACRnO,EAAKw/B,SACLx/B,EAAKyO,MAAMxd,QAAQmyC,aAAa,aAxChCpjC,EAAKssB,KAAOtsB,EAAKssB,KAAKzZ,KAAVlzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,IAEZA,EAAKlhB,MAAQ,CACZ8vB,QAAQ,EACRy0B,OAAO,GAPUrjC,EAF6B,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAAsjD,EAAAz0B,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAsjD,EAAA,EAAAtwC,IAAA,SAAAxJ,MAAA,WAgDvC,IAAA2rB,EACqBtc,KAAKiW,MAAd9iB,GADZmpB,EACAxF,QADA3vB,OAAAiM,GAAA,EAAAjM,CAAAm1B,EAAA,cAER,OACClF,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GACK9mB,EADL,CAEC2gC,KAAM9zB,KAAK8zB,KACX7S,aAAcjhB,KAAKihB,aACnBtL,OAAQ3V,KAAK2V,cAvDgC80B,EAAA,CAC1B/xB,aAsFvB,OAAOpO,YAnBP,SAAyBhkB,EAAO2vB,GAAO,IAC9BzvB,EAAoBF,EAApBE,QAASwF,EAAW1F,EAAX0F,OAEXgL,EAAUxQ,EAAQ+P,MAAR,QAA2B,GACrCqG,EAAezV,OAAOuJ,OAAOsG,IAAY,GAC/C,MAAO,CACNnB,QAAS,IAAIE,YAAS/J,EAAO6J,QAAP,UACtBmB,UACA4F,eACAg3B,QAAS5nC,EAAOqB,SAASinD,QAI3B,SAA4B37B,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIhCrO,CAGLmgC,GC1BY8J,OA1Df,SAAuBt+B,GAAO,IACrBsiB,EAASve,YAAYlkB,MAArByiC,KACAic,EAAkBjc,EAAlBic,cACFC,EAAaz6B,YAAYjjB,KACzB29C,EAAkB16B,YAAY/iB,KAC9B09C,EAAaD,GAAmBA,EAAgBxuD,OActD,OACCkxB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CACCC,WAAS,EACT1X,QAAS,EACTswB,UAAWsL,EAAa,KAAO,SAC/Bj7B,WAAYi7B,EAAa,KAAO,UAEhCv9B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,IACdvZ,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACEwB,EACAv9B,EAAApxB,EAAAqxB,cAACu9B,GAAD,CACChzB,SAAU4yB,EACVj+C,MAAOm+C,EACPljB,SAAUvb,EAAMub,SAChBqjB,aA3Bc,WAAgD,IAAAhuD,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAtC88C,EAA6Cl8C,EAA7Ck8C,gBAAiB+R,EAA4BjuD,EAA5BiuD,iBAClCn7C,EAAQxS,OAAOuJ,OAAOokD,GAAkBntD,IAAI,SAAAgJ,GACjD,OAAO8jD,EAAW9jD,KAGb68C,EAAOrmD,OAAAC,GAAA,EAAAD,CAAA,GAAQoxC,GACrBiV,EAAQgH,cAAgBzR,EAExB5hB,YAAQ4zB,YAAkB,UAAWp7C,IACrCwnB,YAAQ4zB,YAAkB,OAAQvH,KAmB5BwH,SAAO,EACP/X,YAAU,EACVG,eAAa,EACbF,SAAO,EACP+X,WAAS,IAGV79B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC4Y,UAAU,SAAS3vB,WAAW,UAC7CtC,EAAApxB,EAAAqxB,cAAA,SAAIpwB,aAAE,gCACNmwB,EAAApxB,EAAAqxB,cAAC69B,GAAD,CACC3yB,QAAQ,WACRlK,MAAM,YACNuxB,SAAS,6DCrDZuL,GAAmB,SAAAtuD,GAAA,IAAAuuD,EAAAvuD,EACxBmxB,YADwB,IAAAo9B,EACjBh+B,EAAApxB,EAAAqxB,cAACg+B,GAAArvD,EAAD,MADiBovD,EAExBE,EAFwBzuD,EAExByuD,UACAC,EAHwB1uD,EAGxB0uD,YAHwB,OAKxBn+B,EAAApxB,EAAAqxB,cAACiiB,GAAA,EAAD,CAAgB1a,SAAS,OACxBxH,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CAAYE,MAAOi9B,EAAWh9B,QAASi9B,GACrCv9B,KAKSw9B,GAAb,SAAAx/B,GAAA,SAAAw/B,IAAA,OAAAruD,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAw1C,GAAAruD,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAquD,GAAA18C,MAAAkH,KAAA/Z,YAAA,OAAAkB,OAAAovB,EAAA,EAAApvB,CAAAquD,EAAAx/B,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAquD,EAAA,EAAAr7C,IAAA,SAAAxJ,MAAA,WACU,IAAA8pB,EACwDza,KAAKiW,MAA7Dw/B,EADAh7B,EACAg7B,aAAcz9B,EADdyC,EACczC,KAAMs9B,EADpB76B,EACoB66B,UAAWC,EAD/B96B,EAC+B86B,YAAgBpiD,EAD/ChM,OAAAiM,GAAA,EAAAjM,CAAAszB,EAAA,mDAER,OACCrD,EAAApxB,EAAAqxB,cAACq+B,GAAA,EAADvuD,OAAA8yB,OAAA,CACC07B,WAAY,CACX3kB,SAAU79B,EAAK69B,SACfqI,aAAcoc,EACbr+B,EAAApxB,EAAAqxB,cAACu+B,GAAD,CACC59B,KAAMA,EACNs9B,UAAWA,EACXC,YAAaA,IAEX,OAEDpiD,QAfRqiD,EAAA,CAAoC98B,aAqBrB88B,UA2BuB38B,YCpEhB,SAAAC,GACrB,MAAO,CACN+8B,wBAAyB,CACxBx9B,MAAOS,EAAMwH,QAAQw1B,OAAOC,OAE7BC,wBAAyB,CACxB39B,MAAOS,EAAMwH,QAAQw1B,OAAOC,MAC5BE,mCAAoC,CACnC59B,MAAOS,EAAMwH,QAAQw1B,OAAOC,QAG9BG,+BAAgC,GAChCC,4BAA6B,CAC5BC,UAAW,CAEVp9B,OAAQ,gBAETq9B,WAAY,CACXr9B,OAAQ,mBDkD0BH,CAzBT,SAAAtxB,GAA8C,IAA3CuvB,EAA2CvvB,EAA3CuvB,QAAS2+B,EAAkCluD,EAAlCkuD,aAAcz9B,EAAoBzwB,EAApBywB,KAAS7kB,EAAWhM,OAAAiM,GAAA,EAAAjM,CAAAI,EAAA,mCAC1E,OACC6vB,EAAApxB,EAAAqxB,cAACi/B,GAADnvD,OAAA8yB,OAAA,CACCs8B,gBAAiB,CAChBz/B,QAAS,CACR0H,KAAM1H,EAAQk/B,yBAEfQ,iBAAkB,CACjBh4B,KAAM1H,EAAQk/B,wBACdS,QAAS3/B,EAAQo/B,iCAGnBP,WAAY,CACX3kB,SAAU79B,EAAK69B,SACfla,QAAS,CACR0H,KAAM1H,EAAQ++B,wBACdp4B,UAAW3G,EAAQq/B,6BAEpB9c,aAAcoc,EAAer+B,EAAApxB,EAAAqxB,cAACu+B,GAAD,CAAkB59B,KAAMA,IAAW,OAE7D7kB,uBErCCujD,GAAmBnhD,eAAnBmhD,eAEFC,GAAS,IAAIC,KAEbC,GAAsB,SAAAhwD,GAAyC,IAAtCqR,EAAsCrR,EAAtCqR,cAAeG,EAAuBxR,EAAvBwR,iBAC7C,IACC,IAAMy+C,EAAMJ,GAAex+C,IAAkBlE,WAAWkE,GAClDmG,EAAMq4C,GAAer+C,IAAqBrE,WAAWqE,GAC3D,GAAKy+C,EAEE,IAAKz4C,EAEL,CACN,IAAMpJ,EAAc+T,SAAMg5B,QAAQppC,KAAK2U,MAAOupC,EAAMz4C,EAAO,MAC3D,OAAOpX,aAAE,oBAAqB,CAAEqI,KAAM,CAAC2F,KAHvC,OAAOhO,aAAE,eAFT,OAAOA,aAAE,mBAOT,MAAOytB,GACR,MAAO,QA8NMqiC,OA1Nf,SAAAxvD,GAAyC,IAAd+qC,EAAc/qC,EAAd+qC,WACpBM,EAAgB5Y,YACrB,SAAA1zB,GAAK,OAAIkP,aAAsBlP,EAAOgsC,IAAe,KAG9Cx2B,EAAWke,YAAYpyB,MAAvBkU,OACFlF,EAAWojB,YAAYlkB,MAG5BwD,EASG1C,EATH0C,MACAuM,EAQGjP,EARHiP,WACA3N,EAOGtB,EAPHsB,cACAG,EAMGzB,EANHyB,iBAEAE,EAIG3B,EAJH2B,WACAC,EAGG5B,EAHH4B,oBACAw+C,EAEGpgD,EAFHogD,kBAhBuCC,EAkBpCrgD,EADH2hC,YAjBuC,IAAA0e,EAiBhC,GAjBgCA,EAoBhCC,EAAwC3e,EAAxC2e,eAAgBC,EAAwB5e,EAAxB4e,oBAElBvjB,EAAU5Z,YAAY,SAAA1zB,GAAK,OAChCsH,aAAkBtH,EAAO8wD,QAGpBrvC,EAAOxP,QAAcpS,EACrBqT,EAAKhB,QAAuBrS,EAC5B0pB,EAAM8mC,GAAOU,OAAOC,UAEpB5J,EAAW9a,EAAa,MACxB2kB,EAAa3kB,EAAa,cAC1B4kB,EAAS5kB,EAAa,iBACtB6kB,EAAU7kB,EAAa,WACvB8kB,EAAQ9kB,EAAa,oBAErB39B,EAAc4hD,GAAoB,CACvC3+C,gBACAG,qBAGKuN,EAASC,EAAW,IAAM,GAC1BC,EAAWD,EAAW,IAAM,GAElC,OACCuR,EAAApxB,EAAAqxB,cAAA,WACEuc,EACAxc,EAAApxB,EAAAqxB,cAACk8B,GAAD,MAEAn8B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,IACtBxZ,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,QAAS,CAAEmI,QAAQ,IAC5B6I,KAAK,QACLtH,MAAO2I,EACP8oB,SAAU,SAAAlB,GACTC,YAAQ4zB,YAAkB,QAAS7zB,EAAG1D,OAAO7sB,SAE9C+Y,MAAOgkC,KAAcA,EAASvb,MAC9B+G,UAAW,IACXoS,WACCoC,GAAcA,EAASvb,MACpBub,EAAS/d,OACT1oC,aAAE,uBAKRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CAAaC,WAAS,EAAC9H,UAAQ,GAC9B5Z,EAAApxB,EAAAqxB,cAAC0hB,GAAA,EAAD,CAAYmB,QAAQ,oBAClBjzC,aAAE,2BAEJmwB,EAAApxB,EAAAqxB,cAAC2hB,GAAA,EAAD,CAAOnrC,GAAG,mBAAmB8C,MAAOiV,EAAOsJ,KAAO,KAClDkI,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KAAiB5zB,EAAO/X,MAI1BupB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CAAaC,WAAS,EAAC9H,UAAQ,GAC9B5Z,EAAApxB,EAAAqxB,cAAC0hB,GAAA,EAAD,CAAYmB,QAAQ,sBAClBjzC,aAAE,2BAEJmwB,EAAApxB,EAAAqxB,cAAC2hB,GAAA,EAAD,CAAOnrC,GAAG,qBAAqB8C,MAAOmV,EAASoJ,KAAO,KACtDkI,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KAAiB1zB,EAASjY,MAG5BupB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,uBAAwB,CAChCqI,KAAM,CAAC6nD,EAAqBr7C,EAAQo7C,EAAgBp7C,KAErD7D,KAAK,gBACLtH,MAAOuH,EACPkqB,SAAU,SAAAlB,GACT,IAAMvwB,EAAQuwB,EAAG1D,OAAO7sB,MACxBwwB,YAAQ4zB,YAAkB,gBAAiBpkD,IAC3CwwB,YACCw2B,aAAqB,CACpBrlB,aACAwF,KAAM,gBACNnnC,QACAwhC,OAAO,MAIVzoB,MAAO6tC,KAAgBA,EAAWplB,MAClC+G,UAAW,IACXoS,WACCiM,GAAgBA,EAAWplB,MAAQolB,EAAW5nB,OAAS,MAI1DvY,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,YAAa,CAAEqI,KAAM,CAAC2F,KAC/BgD,KAAK,mBACLtH,MAAO0H,EACP+pB,SAAU,SAAAlB,GACT,IAAMvwB,EAAQuwB,EAAG1D,OAAO7sB,MACxBwwB,YAAQ4zB,YAAkB,mBAAoBpkD,IAC9CwwB,YACCw2B,aAAqB,CACpBrlB,aACAwF,KAAM,mBACNnnC,QACAwhC,OAAO,MAIVzoB,MAAO8tC,KAAYA,EAAOrlB,MAC1B+G,UAAW,IACXoS,WACCkM,GAAYA,EAAOrlB,MAAQqlB,EAAO7nB,OAAS1oC,aAAE,qBAIhDmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAACugC,GAAD,CACCC,WAAY5wD,aAAE,sBACd6wD,aAAW,EACXhf,WAAS,EACT2c,cAAY,EACZ75C,MAAO3U,aAAE,mBACT8wD,QAASloC,EACTmoC,QAASx+C,EACT4oB,SAAU,SAAApzB,GACTmyB,YAAQ4zB,YAAkB,aAAc/lD,EAAIsoD,aAE7C3mD,MAAOoX,GAAQ,KACf2B,MAAO+tC,KAAaA,EAAQtlB,MAC5BmZ,WACCmM,GAAaA,EAAQtlB,MAClBslB,EAAQ9nB,OACR1oC,aAAE,sCAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAACugC,GAAD,CACCC,WAAY5wD,aAAE,oBACd6wD,aAAW,EACXhf,WAAS,EACT2c,cAAY,EACZ75C,MAAO3U,aAAE,iBACT8wD,QAAShwC,GAAQ8H,EACjBuS,SAAU,SAAApzB,GAAG,OACZmyB,YAAQ4zB,YAAkB,sBAAuB/lD,EAAIsoD,aAEtD3mD,MAAO6I,GAAM,KACbkQ,MAAOguC,KAAWA,EAAMvlB,MACxBmZ,WACCoM,GAAWA,EAAMvlB,MACdulB,EAAM/nB,OACN1oC,aAAE,+BAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAAC4gC,GAAA,EAAD,CAAWC,KAAG,GACb9gC,EAAApxB,EAAAqxB,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAApxB,EAAAqxB,cAAC22B,GAAA,EAAD,CACCP,UAAWuJ,EACX50B,SAAU,SAAAlB,GAAE,OACXC,YACC4zB,YACC,oBACA7zB,EAAG1D,OAAOiwB,QAAU,EAAI,QAI3B98C,MAAM,sBAGRiL,MAAO3U,aAAE,iCCvPJkxD,GAAe,SAAAtxD,GAAqB,IAE5CysD,EAF0BrsD,EAAkBJ,EAAlBI,EAC1BosB,EAAM,GAEV,OAHgDxsB,EAAfgC,UAIhC,KAAKujB,KAAWC,SAASpU,KACxBob,EAAM,0BACNigC,EAAS,+BACT,MACD,KAAKlnC,KAAWI,OAAOvU,KACtBob,EAAM,wBACN,MACD,KAAKjH,KAAWE,OAAOrU,KACtBob,EAAM,wBACN,MACD,QACCA,EAAM,0BAIR,OAAO+D,EAAApxB,EAAAqxB,cAACg8B,GAAD,CAAYhgC,IAAKpsB,EAAEosB,GAAMigC,OAAQrsD,EAAEqsD,MCErC8E,GAAa,SAAAvxD,GAAe,IAAZ0P,EAAY1P,EAAZ0P,MACrB,OACC6gB,EAAApxB,EAAAqxB,cAAAmZ,GAAA,GAAM98B,MAAI,EAACi9B,GAAI,IACdvZ,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAACu9B,GAAD,CAAcr+C,MAAOA,EAAOwmC,UAAQ,EAACkY,WAAS,EAAChY,YAAU,EAACC,SAAO,OAqIrE,IACemb,GADgBlE,GA/H/B,WAA+C,IAAhBt+C,GAAgB5P,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAZ4P,QACxBrI,EAAewsB,YAAYxwB,KAC3BX,EAAWmxB,YAAY3wB,KAErByS,EADUke,YAAYpyB,MACtBkU,OACF83B,EAAU5Z,YAAY,SAAA1zB,GAAK,OAChCsH,aAAkBtH,EAAO8wD,QAIzB99C,EAaGzD,EAbHyD,MAEAtC,EAWGnB,EAXHmB,QACA6O,EAUGhQ,EAVHgQ,WACA3N,EASGrC,EATHqC,cACAG,EAQGxC,EARHwC,iBAGAG,EAKG3C,EALH2C,oBACAD,EAIG1C,EAJH0C,WACAy+C,EAGGnhD,EAHHmhD,kBApB6CsB,EAuB1CziD,EADH0iC,YAtB6C,IAAA+f,EAsBtC,GAtBsCA,EAyBtCC,EAAuChgB,EAAvCggB,cAAeC,EAAwBjgB,EAAxBigB,oBAMvB,OAJAzX,oBAAU,WACT5f,YAAQs3B,gBACN,IAEI7kB,EACNxc,EAAApxB,EAAAqxB,cAACk8B,GAAD,MAEAn8B,EAAApxB,EAAAqxB,cAAC67B,GAAD,KACE3a,EAAK6b,cACLh9B,EAAApxB,EAAAqxB,cAAC+7B,GAAD,KACCh8B,EAAApxB,EAAAqxB,cAACqhC,GAAD,CAAczxD,EAAGA,KAAG4B,SAAUA,KAE5B,KACJuuB,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAACw7B,GAAD,CAAS9zB,KAAM93B,aAAE,QAAS,CAAEmI,QAAQ,IAAS4vB,MAAO1lB,IACpD8d,EAAApxB,EAAAqxB,cAACw7B,GAAD,CAAS9zB,KAAM93B,aAAE,QAAS,CAAEmI,QAAQ,IAAS4vB,MAAOxxB,IAYpD4pB,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,aAAE,UAAW,CAAEmI,QAAQ,IAC7B4vB,MAAO5H,EAAApxB,EAAAqxB,cAACshC,GAAD,CAAYpiD,MAAOS,MAE3BogB,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,aAAE,aAAc,CAAEmI,QAAQ,IAChC4vB,MACC5H,EAAApxB,EAAAqxB,cAAA,WACExR,EAAWle,IAAI,SAAAqH,GAAG,OAClBooB,EAAApxB,EAAAqxB,cAAA,OAAKld,IAAKnL,EAAInB,IAAd,GAAAwL,OAAsBrK,EAAIkgB,IAA1B,OAAA7V,OAAmCrK,EAAInB,UAK3CupB,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,aAAE,MAAO,CAAEmI,QAAQ,IACzB4vB,MAAK,GAAA3lB,OAAKhB,EAAL,KAAAgB,OAAyByC,KAE/Bsb,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,aAAE,gBAAiB,CAAEmI,QAAQ,IACnC4vB,MAAK,GAAA3lB,OAAKnB,EAAL,KAAAmB,OAAsByC,KAG5Bsb,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,aAAE,QACR+3B,WACmB74B,IAAlBoyD,EAAA,GAAAl/C,OACIk/C,EADJ,KAAAl/C,OACqByC,GAEpBsb,EAAApxB,EAAAqxB,cAAA4L,GAAA,GAAkB0I,KAAM,OAI3BvU,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,aAAE,4BACR+3B,WACyB74B,IAAxBqyD,EAAA,GAAAn/C,OACIm/C,EADJ,KAAAn/C,OAC2ByC,GAE1Bsb,EAAApxB,EAAAqxB,cAAA4L,GAAA,GAAkB0I,KAAM,OAS3BvU,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,aAAE,aAAc,CAAEmI,QAAQ,IAChC4vB,MAAOnrB,aAAe0E,KAEvB6e,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,aAAE,sBAAuB,CAAEmI,QAAQ,IACzC4vB,MAAOnrB,aAAe2E,KAEtBw+C,GAAqB5/B,EAAApxB,EAAAqxB,cAACw7B,GAAD,CAAS7zB,MAAO/3B,aAAE,4BAOxCmwB,EAAApxB,EAAAqxB,cAAA,eCjJW,SAASmzB,GAAazwB,GAAW,IACzC0wB,EADyC,SAAAz0B,GAE9C,SAAAy0B,EAAYx0B,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAyqC,IAClBjjC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAsjD,GAAA7iC,KAAA5H,KAAMiW,KAUPgL,aAAe,SAAC6W,EAAMnnC,EAAOmiC,GAC5BtrB,EAAKyO,MAAMxd,QAAQiyC,cAClBljC,EAAKyO,MAAMpgB,QACXi9B,GAAS3rC,OAAAsxB,EAAA,EAAAtxB,CAAA,GAAO2wC,EAAOnnC,GACvB,SACAyF,YAhBiBoR,EAoBnBw/B,OAAS,WAAM,IACNuD,EAAgB/iC,EAAKyO,MAArBs0B,YACJA,GACHA,KAvBiB/iC,EA2BnBssB,KAAO,WAAM,IAAArZ,EACiBjT,EAAKyO,MAA1Bxd,EADIgiB,EACJhiB,QAAS5C,EADL4kB,EACK5kB,QAEjB4C,EAAQmgD,QAAQ/iD,GAEhB2R,EAAKw/B,SACLvuC,EAAQmyC,aAAa,WAjCHpjC,EAoCnBmO,OAAS,WACRnO,EAAKw/B,SACLx/B,EAAKyO,MAAMxd,QAAQmyC,aAAa,WAnChCpjC,EAAKssB,KAAOtsB,EAAKssB,KAAKzZ,KAAVlzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,IAEZA,EAAKlhB,MAAQ,CACZ8vB,QAAQ,EACRy0B,OAAO,GAPUrjC,EAF2B,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAAsjD,EAAAz0B,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAsjD,EAAA,EAAAtwC,IAAA,SAAAxJ,MAAA,WA2CrC,IAAA2rB,EACqBtc,KAAKiW,MAAd9iB,GADZmpB,EACAxF,QADA3vB,OAAAiM,GAAA,EAAAjM,CAAAm1B,EAAA,cAER,OACClF,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GACK9mB,EADL,CAEC2gC,KAAM9zB,KAAK8zB,KACX7S,aAAcjhB,KAAKihB,aACnBtL,OAAQ3V,KAAK2V,cAlD8B80B,EAAA,CACxB/xB,aA2EvB,OAAOpO,YAbP,SAAyBhkB,EAAO2vB,GAAO,IAC9BjqB,EAAW1F,EAAX0F,OACR,MAAO,CACN6J,QAAS,IAAIO,UAAOpK,EAAO6J,QAAP,UAItB,SAA4B8iB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIhCrO,CAGLmgC,GCmGYoO,OAlKf,SAAAhyD,GAAqC,IAAdyrC,EAAczrC,EAAdyrC,WAChBz8B,EAAUmkB,YAAY/jB,MACtB6iD,EAAgB9+B,YAAYne,MAFEk9C,EAShCljD,EALHyD,aAJmC,IAAAy/C,EAI3B,GAJ2BA,EAAAC,EAShCnjD,EAJHqiC,mBALmC,IAAA8gB,EAKrB,GALqBA,EAAAC,EAShCpjD,EAHHuE,eANmC,IAAA6+C,EAMzB,GANyBA,EAAAC,EAShCrjD,EAFH1F,YAPmC,IAAA+oD,EAO5B,GAP4BA,EAAAC,EAShCtjD,EADHwC,wBARmC,IAAA8gD,EAQhB,GARgBA,EAW9BvlB,EAAU5Z,YAAY,SAAA1zB,GAAK,OAChCsH,aAAkBtH,EAAO8yD,QAGpBxmB,EAAgB5Y,YACrB,SAAA1zB,GAAK,OAAIkP,aAAsBlP,EAAOgsC,IAAe,KAGtDyO,oBAAU,WACT5f,YAAQk4B,iBAEN,IAtBiC,IAyB5B3L,EAKJ9a,EALHt5B,MACaq0C,EAIV/a,EAJHsF,YACSohB,EAGN1mB,EAHHx4B,QACMm/C,EAEH3mB,EAFHziC,KACkBqnD,EACf5kB,EADHv6B,iBAGOyD,EAAWlU,KAAXkU,OAER,OACCsb,EAAApxB,EAAAqxB,cAAA,WACEuc,EACAxc,EAAApxB,EAAAqxB,cAACk8B,GAAD,MAEAn8B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,IACdvZ,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO,WAAa3U,aAAE,QAAS,CAAEmI,QAAQ,IACzC6I,KAAK,OACLtH,MAAO2I,EACP8oB,SAAU,SAAAlB,GAAE,OAAIC,YAAQq4B,aAAc,QAASt4B,EAAG1D,OAAO7sB,SACzD+Y,MAAOgkC,KAAcA,EAASvb,MAC9B+G,UAAW,IACXoS,WACCoC,GAAcA,EAASvb,MACpBub,EAAS/d,OACT1oC,aAAE,mBAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,IACdvZ,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACLgqC,WAAS,EACTC,KAAM,EACNx+B,MAAO3U,aAAE,cAAe,CAAEmI,QAAQ,IAClCuB,MAAOunC,EACP9V,SAAU,SAAAlB,GAAE,OACXC,YAAQq4B,aAAc,cAAet4B,EAAG1D,OAAO7sB,SAEhD+Y,MAAOikC,KAAoBA,EAAexb,MAC1C+G,UAAW,IACXoS,WACCqC,GAAoBA,EAAexb,MAChCwb,EAAehe,OACf1oC,aAAE,yBAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,IACdvZ,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,gBACTgR,KAAK,UACLtH,MAAOyJ,EACPgoB,SAAU,SAAAlB,GAAE,OACXC,YAAQq4B,aAAc,UAAWt4B,EAAG1D,OAAO7sB,SAE5C+Y,MAAO4vC,KAAgBA,EAAWnnB,MAClC+G,UAAW,IACXoS,WACCgO,GAAgBA,EAAWnnB,MAC1BmnB,EAAW3pB,OAEXvY,EAAApxB,EAAAqxB,cAAA,QACCoiC,wBAAyB,CACxBC,OAAQzyD,aAAE,mCAOhBmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,IACtBxZ,EAAApxB,EAAAqxB,cAAC62B,GAAD,CACCpV,WAAS,EACT/G,UAAQ,EACR3P,SAAU,SAAAzxB,GAAK,OAAIwwB,YAAQq4B,aAAc,OAAQ7oD,KACjD0L,OAAQy8C,EACRnoD,MAAOR,EAAO,GACdyL,MAAO3U,aAAE,SAAU,CAAEmI,QAAQ,IAC7B+7C,OAAO,aACPlzC,KAAK,SACLyR,MAAO6vC,KAAaA,EAAQpnB,MAC5B+G,UAAW,IACXoS,WACCiO,GAAaA,EAAQpnB,MAClBonB,EAAQ5pB,OACR1oC,aAAE,uBAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,GAAIC,GAAI,IACtBxZ,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,qBAAsB,CAAEqI,KAAM,CAACwM,KACxC7D,KAAK,mBACLtH,MAAO0H,GAAoB,GAC3B+pB,SAAU,SAAAlB,GACT,IAAMvwB,EAAQuwB,EAAG1D,OAAO7sB,MACxBwwB,YAAQq4B,aAAc,mBAAoB7oD,IAC1CwwB,YACCw2B,aAAqB,CACpBrlB,aACAwF,KAAM,mBACNnnC,QACAwhC,OAAO,MAIVzoB,MAAO8tC,KAAYA,EAAOrlB,MAC1B+G,UAAW,IACXoS,WACCkM,GAAYA,EAAOrlB,MAChBqlB,EAAO7nB,OACP1oC,aAAE,iDC7JLmlD,GAAetW,WAAfsW,WAEF+B,GAAyB,SAAAh+C,GAE9B,KADAA,EAAOA,GAAQ,kBAEd,MAAO,CACNypB,MAAO,EACPsG,OAAQ,GAIV,IAAMkuB,EAAQj+C,EAAKjH,MAAM,KAAK,GAAGA,MAAM,KACvC,MAAO,CACN0wB,MAAO3lB,SAASm6C,EAAM,GAAI,IAC1BluB,OAAQjsB,SAASm6C,EAAM,GAAI,MAsKdt0B,KAFQ6/B,GAAaroB,8MApJnCsoB,cAAgB,SAAAC,GAAe,IAAAp/B,EACejT,EAAKyO,MAA1CpgB,EADsB4kB,EACtB5kB,QAAS27B,EADa/W,EACb+W,SAAUY,EADG3X,EACH2X,cACnBjiC,EAAe0F,EAAf1F,KAAMooC,EAAS1iC,EAAT0iC,KACNvJ,EAAkBuJ,EAAlBvJ,QAASD,EAASwJ,EAATxJ,KAHauf,EAKJH,GAAuBh+C,GAAzCypB,EALsB00B,EAKtB10B,MAAOsG,EALeouB,EAKfpuB,OAEV25B,EASM7qB,GACVoD,EACC,CACCX,UAAW,OACXC,YAAa9X,EACb+X,aAAczR,EACd7M,IAAK,qBACLye,OAAO,EACPC,UAAU,GAEX,CACC/C,UACAD,SApBFyC,EAAS,OAAQ,CAChBQ,SAAS,EACTtd,IAAK,CACJrB,IAAK,qBACL/jB,KAAM,CAACsqB,EAAOsG,EAAQ,OAEvBiS,OAAO,OAoBV2nB,oBAAsB,SAACrN,EAAWta,EAAO0nB,GACxC,IAAM3kD,EAAS8iC,OAAIxG,SAASib,EAAWL,GAAWK,WAClDjlC,EAAKyO,MAAMub,SAAS,YAAa,CAChCQ,SAAU6nB,IAAgB3kD,EAAOwU,MACjCgL,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClDqoB,MAAOA,OAIT4nB,qBAAuB,SAAAF,GAAe,IAAAG,EACTxyC,EAAKyO,MAAMpgB,QAA/B0iC,EAD6ByhB,EAC7BzhB,KAAMkU,EADuBuN,EACvBvN,UACRe,EAAOrmD,OAAAC,GAAA,EAAAD,CAAA,GAAQoxC,GACrBiV,EAAQqM,YAAcA,EAEtBryC,EAAKyO,MAAMgL,aAAa,OAAQusB,GAChChmC,EAAKsyC,oBAAoBrN,EAAW,KAAMoN,GAC1CryC,EAAKoyC,cAAcC,MAGpBxL,gBAAkB,SAACvW,EAAM/K,GAAQ,IAAAzQ,EACE9U,EAAKyO,MAA/BpgB,EADwBymB,EACxBzmB,SAERorB,EAHgC3E,EACf2E,cAEJ6W,EADA3wC,OAAAC,GAAA,EAAAD,CAAA,GAAQ0O,EAAQ0iC,KAASxL,wFAlEnB,IACXl3B,EAAYmK,KAAKiW,MAAjBpgB,QACA0iC,EAAoB1iC,EAApB0iC,KAAMkU,EAAc52C,EAAd42C,UACNoN,EAAgBthB,EAAhBshB,YAEJA,IACH75C,KAAK45C,cAAcC,GACnB75C,KAAK85C,oBAAoBrN,GAAW,EAAMoN,qCA+DnC,IAAAhjC,EAAA7W,KAAAysB,EAOJzsB,KAAKiW,MALRpgB,EAFO42B,EAEP52B,QACA5O,EAHOwlC,EAGPxlC,EACAmrC,EAJO3F,EAIP2F,cACAQ,EALOnG,EAKPmG,cACA3R,EANOwL,EAMPxL,aAEOwrB,EAA0B52C,EAA1B42C,UAAWt8C,EAAe0F,EAAf1F,KAAMooC,EAAS1iC,EAAT0iC,KACnBshB,EAActhB,EAAKshB,cAAe,EAClC1mB,EAASnzB,KAAKiW,MAAM2c,cAAX,KACTqnB,EAAiBrnB,EAAa,UAX5B2b,EAYkBJ,GAAuBh+C,GAAzCypB,EAZA20B,EAYA30B,MAAOsG,EAZPquB,EAYOruB,OAEf,OACC9I,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAApxB,EAAAqxB,cAAC6iC,GAAA,EAAD,CACCzM,QAASoM,EACTz3B,SAAU,SAAAlB,GAAE,OAAIrK,EAAKkjC,qBAAqB74B,EAAG1D,OAAOiwB,YAGtD7xC,MAAO3U,EAAE,uBAEVmwB,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KAAiBvyC,EAAE,4BAEpBmwB,EAAApxB,EAAAqxB,cAAC8iC,GAAA,EAAD,CAAUC,GAAIP,GACbziC,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,EAAE,YAAa,CAAEmI,QAAQ,IAChCuB,MAAO87C,EACPrqB,SAAU,SAAAlB,GAAE,OAAID,EAAa,YAAaC,EAAG1D,OAAO7sB,QACpDwoC,OAAQ,kBACPtiB,EAAKijC,oBAAoBrN,GAAW,EAAMoN,IAE3CzgB,QAAS,kBACRviB,EAAKijC,oBAAoBrN,GAAW,EAAOoN,IAE5CnwC,MAAOuwC,KAAoBA,EAAe9nB,MAC1CmZ,WACC2O,GAAoBA,EAAe9nB,MAChC8nB,EAAetqB,OACf1oC,EAAE,+BAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,IACdvZ,EAAApxB,EAAAqxB,cAACmc,GAAD,CACC53B,MAAO3U,EAAE,6BACTshC,OAAQgQ,EAAKvJ,SAAW,GACxB5M,SAAUgQ,EAAc/X,KAAKra,KAAM,CAClCyxB,UAAW,OACXC,YAAa9X,EACb+X,aAAczR,EACd7M,IAAK,qBACLye,OAAO,EACPC,UAAU,EACV3P,SAAUpiB,KAAKquC,kBAEhBle,eAAgBlpC,EAAE,2BAA4B,CAC7CqI,KAAM,CAACsqB,EAAOsG,EAAQ,QAEvByP,OAAQwD,EAASA,EAAOxD,OAAS,GACjChE,KAAM,CACL/R,MAAOA,EACPsG,OAAQA,iBA/IQxH,gBCLpBo3B,GAAU,CACfyB,KAAM,CAAE/qB,IAXDzqB,aAAUs+C,eAAe1yD,IAAI,SAAAqoD,GACnC,MAAO,CACNp0C,MAAOo0C,EAAItW,IACX/oC,MAAOq/C,EAAItW,OAQQqW,WAAY,QACjCuK,OAAQ,CAAE9zB,IAAK,GAAIupB,WAAY,SAW1B/P,GAAQ,CACb,CACCrvC,MAAO,EACPiL,MAAO,OAER,CACCjL,MAAO,GACPiL,MAAO,UAER,CACCjL,MAAO,GACPiL,MAAO,SAIHi0C,GAAgB1oD,OAAO+S,KAAK41C,IAASnoD,IAAI,SAAAwS,GAC9C,MAAO,CACNxJ,MAAO,CACNwJ,IAAKA,EACLkC,OAAQlC,EACR41C,WAAYD,GAAQ31C,GAAK41C,WACzBvyB,OAAQ,CAAEwyB,IAAK,GAAIC,MAAO,GAC1Br0C,MAAOnM,YAAS,gBAAA4J,OAAiBc,EAAI6rB,gBACrCkqB,YAAazgD,YAAS,gBAAA4J,OAAiBc,EAAI6rB,iBAE5CpqB,MAAOnM,YAAS,WAAA4J,OAAYc,EAAI6rB,cAAhB,eAIZu0B,eACL,SAAAA,EAAYtkC,GAAO,IAAAzO,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAu6C,IAClB/yC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAozD,GAAA3yC,KAAA5H,KAAMiW,KAgCPm6B,mBAAqB,SAACh0C,EAAO07B,EAAMmI,GAClC,IAAMoQ,EAAUlpD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMgqD,SAC5BC,EAASppD,OAAAC,GAAA,EAAAD,CAAA,GAAQkpD,EAAWj0C,GAAOohB,QACzC+yB,EAAUzY,GAAQmI,EAClBoQ,EAAWj0C,GAAXjV,OAAAC,GAAA,EAAAD,CAAA,GAAyBkpD,EAAWj0C,GAApC,CAA4CohB,OAAQ+yB,IACpD/oC,EAAKgpC,yBAAyBH,GAC9B7oC,EAAK2O,SAAS,CAAEm6B,QAASD,KAvCP7oC,EA0CnB+oC,UAAY,SAAA/yB,GACX,IAAM6yB,EAAUlpD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMgqD,SAC5BC,EAASppD,OAAAC,GAAA,EAAAD,CAAA,GAAQq2B,GACvB+yB,EAAUp2C,IAAMk2C,EAAWnqD,OAC3BqqD,EAAU/yB,OAAVr2B,OAAAC,GAAA,EAAAD,CAAA,GAAwBq2B,EAAOA,QAC/B6yB,EAAWz8C,KAAK28C,GAChB/oC,EAAK2O,SAAS,CAAEm6B,QAASD,KAhDP7oC,EAmDnBipC,aAAe,SAAAr0C,GACd,IAAMi0C,EAAUlpD,OAAA2D,GAAA,EAAA3D,CAAOqgB,EAAKlhB,MAAMgqD,SAClCD,EAAWK,OAAOt0C,EAAO,GACzBoL,EAAKgpC,yBAAyBH,GAC9B7oC,EAAK2O,SAAS,CAAEm6B,QAASD,IACzB7oC,EAAKynC,qBAAqB,CACzBphD,GAAE,UAAAwL,OAAY+C,GACd41B,SAAS,EACTG,OAAO,KA3DU3qB,EA+DnBynC,qBAAuB,SAAApoD,GAA4B,IAAzBgH,EAAyBhH,EAAzBgH,GAAImkC,EAAqBnrC,EAArBmrC,QAASG,EAAYtrC,EAAZsrC,MACtC3qB,EAAKyO,MAAMub,SAAS3jC,EAAI,CACvBmkC,UACAtd,IAAK,CAAErB,IAAK,sBACZ8e,WAnEiB3qB,EAuEnBmpC,UAAY,SAAAppD,GAUN,IAAAqpD,EAAArpD,EATL8U,cASK,IAAAu0C,EATI,GASJA,EARLb,EAQKxoD,EARLwoD,WACAG,EAOK3oD,EAPL2oD,YACAt0C,EAMKrU,EANLqU,MACAQ,EAKK7U,EALL6U,MACAohB,EAIKj2B,EAJLi2B,OACAv2B,EAGKM,EAHLN,EACA6vB,EAEKvvB,EAFLuvB,QACA8b,EACKrrC,EADLqrC,cAEM/kC,EAAE,UAAAwL,OAAa+C,GACrB,OACCgb,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAInE,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAACw5B,GAAD,CACChjD,GAAIA,EACJw7C,UAAU,OACVyH,aAAW,EACX/e,UAAU,EACVroB,MAAOkpB,EAAc/kC,IAAO+kC,EAAc/kC,GAAIskC,MAC9C+c,UACCtc,EAAc/kC,IAAS+kC,EAAc/kC,GAAIskC,MACtCS,EAAc/kC,GAAI8hC,OAClB,KAEJvN,SAAU,SAAA6d,GACTz4B,EAAK4oC,mBAAmBh0C,EAAO,MAAO6jC,EAAU8P,GAChDvoC,EAAKynC,qBAAqB,CACzBphD,KACAmkC,QAASiO,EACT9N,OAAO,KAGTgd,OAAQ,kBACP3nC,EAAKynC,qBAAqB,CACzBphD,KACAmkC,QAASxU,EAAOwyB,IAChB7d,OAAO,KAITv2B,MAAOA,EACPs0C,YAAaA,EACb7zC,OAAQA,EACR1L,MAAO6sB,EAAOwyB,IACde,gBAAgB,WAChBC,+BAA+B,EAC/BtC,aAAcryC,EAAOnW,OACrBq8B,QAAQ,cAGVnL,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAInE,GAAI,GACtBxZ,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYx3B,GAAE,gBAAAwL,OAAkB+C,IAE9BnV,EAAE,qBAAsB,CACxBqI,KAAM,CAACkuB,EAAOyyB,UAGhB74B,EAAApxB,EAAAqxB,cAAC0oB,GAAA,EAAD,CACCjpB,QAAS,CAAE0H,KAAM1H,EAAQm6B,OAAQC,UAAWp6B,EAAQo6B,WACpD/Q,kBAAA,gBAAA9mC,OAAiC+C,GACjCiC,IAAK,EACLxF,IAAK,IACL8lC,KAAM,EACNuB,kBAAkB,OAClBlP,UAAWxT,EAAOwyB,IAClBr/C,MAAO6sB,EAAOyyB,MACdjQ,MAAOA,GACP5d,SAAU,SAAClB,EAAI+e,GAAL,OACTz4B,EAAK4oC,mBAAmBh0C,EAAO,QAAS6jC,EAAU8P,QAKtD34B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAAC+8B,WAAS,EAACsE,GAAI,EAAGnE,GAAI,EAAGlX,WAAW,UAC7CtC,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CAAYG,QAAS,kBAAM9Q,EAAKipC,aAAar0C,KAC5Cgb,EAAApxB,EAAAqxB,cAACkc,GAAAvtC,EAAD,UArJc,IAGVsqD,GAAYr6B,EAAMpgB,QAAQ0iC,MAAQ,IAAlC+X,QAHU,OAIlB9oC,EAAKlhB,MAAQ,CACZgqD,QAASA,GAAW,IALH9oC,wFASM8oC,GACxB,IAAMa,EAAchqD,OAAA2D,GAAA,EAAA3D,CAAImpD,GAASvpD,OAChC,SAACC,EAAKoqD,GACL,IAAMC,EAAgBrqD,EAAIoqD,EAAGrB,aAAe,GAM5C,OAJMqB,EAAG5zB,OAAOwyB,KACfqB,EAAcz9C,KAAKw9C,EAAG5zB,QAEvBx2B,EAAIoqD,EAAGrB,YAAcsB,EACdrqD,GAER,CAAEsqD,UAAW,GAAIC,KAAM,KAGhBhZ,EAASv4B,KAAKiW,MAAMpgB,QAApB0iC,KACFiV,EAAOrmD,OAAAC,GAAA,EAAAD,CAAA,GAAQoxC,GAGrBiV,EAAQ8C,QAARnpD,OAAA2D,GAAA,EAAA3D,CAAsBmpD,GACtBa,EAAY5Y,KAAOiV,EAEnBxtC,KAAKiW,MAAMgL,aAAa,KAAM,KAAMkwB,oCA8H5B,IAAAt6B,EAAA7W,KAAAya,EAMJza,KAAKiW,MAJRhvB,EAFOwzB,EAEPxzB,EAEA6vB,EAJO2D,EAIP3D,QACG3jB,EALIhM,OAAAiM,GAAA,EAAAjM,CAAAszB,EAAA,iBASA61B,EAAYtwC,KAAK1Z,MAAjBgqD,QAER,OACCl5B,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,IACbxpC,OAAA2D,GAAA,EAAA3D,CAAImpD,GAAS3oD,IACb,eAAAG,EAAA7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAOK,GAPLurD,EAAA1pD,EAEEuU,cAFF,IAAAm1C,EAEW,GAFXA,EAGEzB,EAHFjoD,EAGEioD,WACAn0C,EAJF9T,EAIE8T,MACAs0C,EALFpoD,EAKEooD,YALFuB,EAAA3pD,EAME01B,cANF,IAAAi0B,EAMW,GANXA,EAQCr1C,EARDnW,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAA,OAUCixB,EAAApxB,EAAAqxB,cAACR,EAAK85B,UAANxpD,OAAA8yB,OAAA,CACC9f,IAAKiC,EACLR,MAAO3U,EAAE2U,GACTs0C,YAAajpD,EAAEipD,GACf9zC,MAAOA,EACPC,QAASyzC,GAAQzzC,IAAW,IAAImqB,KAAO,GACvCupB,WAAYA,EACZvyB,OAAQA,EACRv2B,EAAGA,EACH6vB,QAASA,GACL3jB,OAKRikB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACi9B,GAAI,IACdvZ,EAAApxB,EAAAqxB,cAAC62B,GAAD,CACC3rB,QAAQ,WACRuW,WAAS,EACT1W,SAAU,SAAA5E,GACT3G,EAAK05B,UAALppD,OAAAC,GAAA,EAAAD,CAAA,GAAoBq2B,KAErBnhB,OAAMlV,OAAA2D,GAAA,EAAA3D,CAAM0oD,IACZl/C,MAAO,GACPiL,MAAO3U,EAAE,cACTkkD,OAAO,aACPlzC,KAAK,SACLwzC,cAAeiG,iBAlNQh5B,aAqOfoB,KAFY6/B,GAAa9gC,YAxQzB,CACdo4B,OAAQ,CACPxwB,QAAS,YAEVywB,UAAW,CACV/5B,IAAK,SAmQiC0B,CAAmB0hC,MCtRrDC,GAAe,SAAA3zD,GAAoC,IAAjCkmC,EAAiClmC,EAAjCkmC,IAAK0f,EAA4B5lD,EAA5B4lD,UAAWxlD,EAAiBJ,EAAjBI,EAAG6vB,EAAcjwB,EAAdiwB,QAC1C,OACCM,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,EAAE,2BACR+3B,MACC5H,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACCzE,iBAAiB,EACjB5V,QAAS,CACRiW,IAAKjW,EAAQ+8B,WACb/mB,QAAShW,EAAQi9B,mBAElBvtB,IAAKuG,EAAIiC,SAAW,GACpBvI,IAAKgmB,EACL50C,UAAWk1B,EAAIgC,KACfxD,YAAU,MAIbnU,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,EAAE,gBAAiB,CAAEmI,QAAQ,IACnC4vB,MACC5H,EAAApxB,EAAAqxB,cAAC4O,GAAD,CAAQrJ,KAAM6vB,EAAWjvB,OAAO,UAC9BivB,OAQDgO,eACL,SAAAA,EAAYxkC,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAy6C,IAClBjzC,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAszD,GAAA7yC,KAAA5H,KAAMiW,KACD6d,KAAO7d,EAAM6d,KAFAtsB,wEAKV,IAAAiT,EAC+Cza,KAAKiW,MAApDa,EADA2D,EACA3D,QAASxuB,EADTmyB,EACSnyB,QAASoyD,EADlBjgC,EACkBigC,gBAAoBvnD,EADtChM,OAAAiM,GAAA,EAAAjM,CAAAszB,EAAA,yCAEA5kB,EAAe1C,EAAf0C,QAAS5O,EAAMkM,EAANlM,EAEhBkJ,EAQG0F,EARH1F,KACAmJ,EAOGzD,EAPHyD,MACA4+B,EAMGriC,EANHqiC,YACA99B,EAKGvE,EALHuE,QACAm+B,EAIG1iC,EAJH0iC,KACAgZ,EAGG17C,EAHH07C,KACA9E,EAEG52C,EAFH42C,UACAp0C,EACGxC,EADHwC,iBAGD,OACC+e,EAAApxB,EAAAqxB,cAAC67B,GAAD,KACC97B,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,EAAE,QAAS,CAAEmI,QAAQ,IAC3B4vB,MAAO12B,EAAQI,OAAOrB,UAEvB+vB,EAAApxB,EAAAqxB,cAACw7B,GAAD,CAAS9zB,KAAM93B,EAAE,OAAQ,CAAEmI,QAAQ,IAAS4vB,MAAO7uB,IACnDinB,EAAApxB,EAAAqxB,cAACw7B,GAAD,CAAS9zB,KAAM93B,EAAE,QAAS,CAAEmI,QAAQ,IAAS4vB,MAAO1lB,IACpD8d,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,EAAE,cAAe,CAAEmI,QAAQ,IACjC4vB,MAAOkZ,IAER9gB,EAAApxB,EAAAqxB,cAACw7B,GAAD,CAAS9zB,KAAM93B,EAAE,UAAW,CAAEmI,QAAQ,IAAS4vB,MAAO5kB,IACtDgd,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC7zB,MACC5H,EAAApxB,EAAAqxB,cAAAgO,GAAA,OACCjO,EAAApxB,EAAAqxB,cAAA,OACCoiC,wBAAyB,CACxBC,OAAQzyD,EAAE,2BAGZmwB,EAAApxB,EAAAqxB,cAAA,OACCoiC,wBAAyB,CACxBC,OAAQzyD,EAAE,mCAOfmwB,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,EAAE,sBACR+3B,MAAK,GAAA3lB,OAAKhB,EAAL,KAAAgB,OAAyBqhD,KAE9BniB,EAAKshB,aACLziC,EAAApxB,EAAAqxB,cAACsjC,GAAD,CACC5tB,IAAKwL,EACLkU,UAAWA,EACXxlD,EAAGA,EACH6vB,QAASA,IAIXM,EAAApxB,EAAAqxB,cAAA,WACCk6B,GACAn6B,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC9zB,KAAM93B,EAAE,OAAQ,CAAEmI,QAAQ,IAC1B4vB,MACC5H,EAAApxB,EAAAqxB,cAAC48B,GAAD9sD,OAAA8yB,OAAA,GACK9mB,EADL,CAECm9C,QAASiB,EACTtqD,EAAGA,gBAxEgByxB,aAkG5B,IAAMkiC,GAAmBjB,GAAa9gC,YAAWyF,GAAXzF,CAAmB4hC,KAC1CnwC,eATf,SAAyBhkB,GAExB,MAAO,CACNgC,QAFmBhC,EAAZE,QAEU8B,QACjBoyD,gBAAiB9yD,aAAgBtB,GAAOwV,SAK3BwO,CAAyBwP,EAAU8gC,0BCpH5CjnB,GAAU,SAAA9sC,GAAmCA,EAAhCgP,QAAgC,IAAvB5O,EAAuBJ,EAAvBI,EAAG6sC,EAAoBjtC,EAApBitC,KAAoB3sC,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,wBAClD,OACCuwB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CAAQ9C,MAAM,UAAUC,QAASwb,GAEhC1c,EAAApxB,EAAAqxB,cAAC4Z,GAAAjrC,EAAD,CAAUg4B,MAAO,CAAExE,YAAa,KAC/BvyB,EAAE,UAsBA4zD,GAAoBrQ,GAAa7W,IACjCmnB,GAAsB3G,GAlBZ,SAAA5sD,GAA8D,IAA3DwzD,EAA2DxzD,EAA3DwzD,aAAcC,EAA6CzzD,EAA7CyzD,YAAanlD,EAAgCtO,EAAhCsO,QAAS5O,EAAuBM,EAAvBN,EAAG6sC,EAAoBvsC,EAApBusC,KAAoB3sC,OAAAiM,GAAA,EAAAjM,CAAAI,EAAA,qDAC7E,OACC6vB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC9C,MAAM,UACNC,QAASwb,EACT9C,SAAUn7B,EAAQ0iC,KAAK6b,eAEtBv+C,EAAQ0iC,KAAK6b,cACbh9B,EAAApxB,EAAAqxB,cAAC4jC,GAAAj1D,EAAD,MAEAg1D,GAAe5jC,EAAApxB,EAAAqxB,cAAC4Z,GAAAjrC,EAAD,CAAUg4B,MAAO,CAAExE,YAAa,KAE/CvyB,EAAE8zD,GAAgB,oBAOhBG,GAAoBvB,GAAahmB,IAEjCoT,GAAY,SAAAr/C,GAAkB,IAAZuuB,EAAY9uB,OAAAg0D,GAAA,EAAAh0D,CAAA,GAAAO,GACnC,OAAO0vB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CAAQ7C,QAASrC,EAAMN,QAASM,EAAMhvB,EAAE,YAG1Cm0D,GAAoB5Q,GAAazD,IACjCsU,GAAwBlH,GAAepN,IACvCuU,GAAsB3B,GAAa5S,IAEnCwU,GAAe,CACpBC,kBAAkB,EAClBxjC,KAAMZ,EAAApxB,EAAAqxB,cAACokC,GAAAz1D,EAAD,OA2BD01D,GAAyBpS,GAvBH,SAAArzB,GAAK,OAChCmB,EAAApxB,EAAAqxB,cAACskC,GAADx0D,OAAA8yB,OAAA,GACKhE,EADL,CAEC0d,QAASknB,GACT9T,UAAWqU,GACXjU,eAAgB,cAChB3wC,SAAU,SACVmvC,QAAS,cACTsB,WAAY,CACX,CAAE3tC,MAAO,kBAAmBwrC,KAAMwH,IAClC,CAAEhzC,MAAO,kBAAmBwrC,KAAM8W,IAClC,CAAEtiD,MAAO,oBAAqBwrC,KAAMqL,KAErCjJ,iBAAkB,CACjB5tC,MAAO,wBACPwrC,KAAMkP,IAEPvgB,SAAS,wBACTooB,cAAY,EACZC,UAAW5lD,eAMA6lD,GAAgB,SAAA9lC,GAAK,OACjCmB,EAAApxB,EAAAqxB,cAACqkC,GAADv0D,OAAA8yB,OAAA,GACKhE,EACAslC,GAFL,CAGC3R,SAAS,WACTtwC,MAAM,sBAIF0iD,GAAY,CACjBR,kBAAkB,EAClBxjC,KAAMZ,EAAApxB,EAAAqxB,cAAC4kC,GAAAj2D,EAAD,CAAcqyB,MAAM,aAGd6jC,GAAqB,SAAAjmC,GAAK,OACtCmB,EAAApxB,EAAAqxB,cAACqkC,GAADv0D,OAAA8yB,OAAA,GAA4BhE,EAAW+lC,GAAvC,CAAkD1iD,MAAM,oBAmDnD6iD,GAA6B7S,GA/CH,SAAArzB,GAAK,OACpCmB,EAAApxB,EAAAqxB,cAACskC,GAADx0D,OAAA8yB,OAAA,GACKhE,EADL,CAEC0d,QAASmnB,GACT/T,UAAWsU,GACXlU,eAAgB,gBAChB3wC,SAAU,WACVmvC,QAAS,gBACTsB,WAAY,CACX,CACC3tC,MAAO,sBACPwrC,KAAMyP,GACN9O,eAAgB,SAAA39C,GAAA,IAAGwqC,EAAHxqC,EAAGwqC,WAAYH,EAAfrqC,EAAeqqC,MAAOuT,EAAtB59C,EAAsB49C,QAAS0W,EAA/Bt0D,EAA+Bs0D,UAA/B,OACfj7B,YACCk7B,aAA2B,CAC1B/pB,aACAH,QACAuT,UACA0W,iBAMJ,CACC9iD,MAAO,wBACPwrC,KAAMiS,GACNtR,eAAgB,SAAAx9C,GAAA,IAAGqqC,EAAHrqC,EAAGqqC,WAAYH,EAAflqC,EAAekqC,MAAOuT,EAAtBz9C,EAAsBy9C,QAAS0W,EAA/Bn0D,EAA+Bm0D,UAA/B,OACfj7B,YACCm7B,aAA2B,CAC1BhqB,aACAH,QACAuT,UACA0W,kBAKLlV,iBAAkB,CACjB5tC,MAAO,wBACPwrC,KAAMyX,IAEPT,UAAW/lD,YACXymD,kBAAkB,oCAMPC,GAAoB,SAAAxmC,GAAK,OACrCmB,EAAApxB,EAAAqxB,cAAC8kC,GAADh1D,OAAA8yB,OAAA,GACKhE,EACAslC,GAFL,CAGC3R,SAAS,eACTtwC,MAAM,0BAsCFojD,GAAyBpT,GAjCH,SAAArzB,GAAK,OAChCmB,EAAApxB,EAAAqxB,cAACskC,GAADx0D,OAAA8yB,OAAA,GACKhE,EADL,CAEC0d,QAASunB,GACTnU,UAAWuU,GACXnU,eAAgB,cAChB3wC,SAAU,SACVmvC,QAAS,YACTsB,WAAY,CACX,CACC3tC,MAAO,kBACPwrC,KAAM+T,GACNpT,eAAgB,SAAAr9C,GAAA,IAAGkqC,EAAHlqC,EAAGkqC,WAAYH,EAAf/pC,EAAe+pC,MAAOuT,EAAtBt9C,EAAsBs9C,QAAS0W,EAA/Bh0D,EAA+Bg0D,UAA/B,OACfj7B,YACCw7B,aAAsB,CACrBrqB,aACAH,QACAuT,UACA0W,iBAIJ,CAAE9iD,MAAO,qBAAsBwrC,KAAM8X,IACrC,CAAEtjD,MAAO,iBAAkBwrC,KAAMyV,KAElCrT,iBAAkB,CAAE5tC,MAAO,wBAAyBwrC,KAAM2V,IAC1DhnB,SAAS,wBACT+oB,kBAAkB,uBAClBK,qBAAqB,0BACrBf,UAAW1lD,eAMA0mD,GAAgB,SAAA7mC,GAAK,OACjCmB,EAAApxB,EAAAqxB,cAACqlC,GAADv1D,OAAA8yB,OAAA,GACKhE,EACAslC,GAFL,CAGC3R,SAAS,WACTtwC,MAAM,sBC3MFqoC,GAAenmB,GAAoBrD,EAAA,GAEnCiJ,GAAYC,aAAW/C,IAEvBsjB,GAAU,SAAA/6C,GAAA,IAAGiwB,EAAHjwB,EAAGiwB,QAASm+B,EAAZpuD,EAAYouD,UAAWD,EAAvBnuD,EAAuBmuD,QAAvB,MAAqC,CACpD,CACC/8C,KAAM,QACN2D,MAAO3U,aAAE,cACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACN2hC,UAAU,EACV8E,iBAAkB,SAAAv6C,GAAiC,IAA9BsG,EAA8BtG,EAA9BsG,GAAI+J,EAA0BrQ,EAA1BqQ,SAAUC,EAAgBtQ,EAAhBsQ,UAClC,OACCuf,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACCh3B,IAAKtM,EACL8+B,mBAAmB,EACnB7U,UAAWC,IAAWjB,EAAQonB,SAC9B1X,IAAK5uB,EACL6uB,IAAK54B,EACLgK,UAAWA,EACX0zB,YAAU,OAMf,CACCtzB,KAAM,QACN2D,MAAO3U,aAAE,cACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EAENymC,iBAAkB,eAACxoC,EAADrT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgB82D,aAAezjD,EAAO,OAG1D,CACCrB,KAAM,OACN2D,MAAO3U,aAAE,aACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACNymC,iBAAkB,kBAAA77C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAYsT,QAAQ,UAAW,OAG3D,CACCtB,KAAM,UACN2D,MAAO3U,aAAE,gBACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACN4mC,cAAe,OACfH,iBAAkB,SAAAxpC,GAAO,OAAIzE,aAAeyE,MAG9C,CACCL,KAAM,UACN2D,MAAO3U,aAAE,WACTgpB,QAAS,CACR5d,QAAQ,EACRonB,SAAUw7B,EACV55C,MAAM,EACN2hC,UAAU,EACV8E,iBAAkB,SAAAp6C,GAAA,IAAG8R,EAAH9R,EAAG8R,GAAI9F,EAAPhM,EAAOgM,KAAP,OACjB0jB,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,CAAU/mC,IAAKzG,EAAK7F,IACnBupB,EAAApxB,EAAAqxB,cAAA8pB,GAAA,GACC7nC,MAAOrS,aAAE,cAETi7C,WAAY,KAEZ9qB,EAAApxB,EAAAqxB,cAAC2lC,GAAD,CAAcxjD,GAAIA,EAAI+oB,QAAQ,YAAYnK,aAAW,WACpDhB,EAAApxB,EAAAqxB,cAAA8qB,GAAA,GAAY9pB,MAAM,eAGlB28B,GACD59B,EAAApxB,EAAAqxB,cAAA8pB,GAAA,GACC7nC,MAAOrS,aAAE,iBAETi7C,WAAY,KAEZ9qB,EAAApxB,EAAAqxB,cAAA,YACCD,EAAApxB,EAAAqxB,cAAC4lC,GAAD,CACCnT,aAAc,kBACb3oB,YACC+7B,YAAU,CACTxpD,OACA8C,SAAU,SACV8/B,SAAUpgC,cAIbqzC,YAAU,YAwBblH,GAAa,SAAAv6C,GAAA,IAAGq1D,EAAHr1D,EAAGq1D,aAActc,EAAjB/4C,EAAiB+4C,WAAjB,MAA6C,CAC/D9B,WAAY,cACZqe,aAFkBt1D,EAA6B85B,SAG/C+gB,cAAe,kBAAMvrB,EAAApxB,EAAAqxB,cAAC2pB,GAAD,CAAYC,aAAcJ,KAC/CyB,WAAY,SAACC,EAAWC,EAAW5F,EAASvpC,GAAhC,OAjBM,SAACkvC,EAAWC,EAAW5F,EAASvpC,GAClD,IAAMovC,EAAapvC,EAAK1L,IAAI,SAAAyN,GAAC,MAAK,CACjCgH,MAAOhH,EAAEgH,MACT/I,KAAM,CACL+B,EAAE/B,KAAK,GAAGxF,GACVuH,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GAAGkG,QAAQ,UAAW,IAC7B1F,aAAeuB,EAAE/B,KAAK,QAGxB,MAAO,GAAAgG,OAAGkpC,EAAU3F,IAAbvjC,OAAwBmpC,EAAUC,IAAcC,OAQtDJ,CAAWC,EAAWC,EAAW5F,EAASvpC,IAC3C8pD,iBA2DcE,OAxDf,SAAsBpnC,GACrB,IAAMa,EAAUsK,KACVp0B,EAAOgtB,YAAYjtB,MAExBwJ,EAMG0f,EANH1f,MACA0+C,EAKGh/B,EALHg/B,UACAD,EAIG/+B,EAJH++B,QACAsI,EAGGrnC,EAHHqnC,cACAzI,EAEG5+B,EAFH4+B,aAR2B0I,EAUxBtnC,EADH2L,gBAT2B,IAAA27B,EAShB,GATgBA,EAAAz2B,EAYYC,mBAAS,IAZrBC,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GAYrB0Z,EAZqBxZ,EAAA,GAYPw2B,EAZOx2B,EAAA,GAAAoc,EAcU9C,GAAa,CAClDC,SAAU7mC,IACV8mC,eACAC,WAAY,kBACXmB,GAAQ,CACP9qB,UACAm+B,YACAD,eAPK3hD,EAdoB+vC,EAcpB/vC,KAAMupC,EAdcwG,EAcdxG,QAASiE,EAdKuC,EAcLvC,WAgBvBE,oBAAU,WACTyc,EAAgB,CAAExwD,OAAMuJ,WACtB,CAACvJ,EAAMuJ,IAEV,IAAM4mD,EAAerc,sBACpB,SAAC30C,EAAGsxD,GACH,IAAM1a,EAAkB0a,EAAgB91D,IAAI,SAAAuwD,GAAG,OAAIA,EAAIlV,YACjD8R,EAAmB/R,EAAgBp7C,IAAI,SAAAyN,GAAC,OAAI/B,EAAK+B,GAAGvH,KAE1DgnD,GAAgBA,EAAa,CAAE9R,kBAAiB+R,sBAEjD,CAACzhD,EAAMwhD,IAGF5kC,EAAUoyB,GAAW,CAAE8a,eAAcv7B,WAAUif,eACrD,OACCzpB,EAAApxB,EAAAqxB,cAACslB,GAADx1C,OAAA8yB,OAAA,CACC3gB,MAAOgkD,EAAgBr2D,aAAE,qBAAuBA,aAAE,aAClDoM,KAAMA,EACNupC,QAASA,EACT3sB,QAASA,GACLgG,KCjLD0rB,GAAenmB,GAAoBrD,KAEnCiJ,GAAYC,aAAW/C,IAEvBsjB,GAAU,SAAA/6C,GAAA,IAAGiwB,EAAHjwB,EAAGiwB,QAAH,MAAiB,CAChC,CACC7e,KAAM,QACN2D,MAAO3U,aAAE,cACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACN2hC,UAAU,EACV8E,iBAAkB,SAAAv6C,GAAiC,IAA9BsG,EAA8BtG,EAA9BsG,GAAI+J,EAA0BrQ,EAA1BqQ,SAAUC,EAAgBtQ,EAAhBsQ,UAClC,OACCuf,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACCh3B,IAAKtM,EACL8+B,mBAAmB,EACnB7U,UAAWC,IAAWjB,EAAQonB,SAC9B1X,IAAK5uB,EACL6uB,IAAK54B,EACLgK,UAAWA,EACX0zB,YAAU,OAMf,CACCtzB,KAAM,QACN2D,MAAO3U,aAAE,eACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,IAGR,CACCpD,KAAM,OACN2D,MAAO3U,aAAE,aACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,IAGR,CACCpD,KAAM,UACN2D,MAAO3U,aAAE,gBACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACN4mC,cAAe,OACfH,iBAAkB,SAAAxpC,GAAO,OAAIzE,aAAeyE,MAG9C,CACCL,KAAM,UACN2D,MAAO3U,aAAE,WACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,EACN2hC,UAAU,EACV8E,iBAAkB,SAAAp6C,GAAA,IAAG8R,EAAH9R,EAAG8R,GAAI9F,EAAPhM,EAAOgM,KAAP,OACjB0jB,EAAApxB,EAAAqxB,cAAC8pB,GAAA,EAAD,CACChnC,IAAKzG,EAAK7F,GACVyL,MAAOrS,aAAE,cAETi7C,WAAY,IACZ9pB,aAAW,QAEXhB,EAAApxB,EAAAqxB,cAACqmC,GAAD,CAAclkD,GAAIA,EAAI+oB,QAAQ,aAC7BnL,EAAApxB,EAAAqxB,cAAA8qB,GAAA,GAAY9pB,MAAM,mBAqBlBgqB,GAAa,SAAAv6C,GAAA,IAAG+4C,EAAH/4C,EAAG+4C,WAAH,MAAqB,CACvC9B,WAAY,cACZ5B,eAAgB,OAChBwF,cAAe,kBAAMvrB,EAAApxB,EAAAqxB,cAAC2pB,GAAD,CAAYC,aAAcJ,KAC/CyB,WAAY,SAACC,EAAWC,EAAW5F,EAASvpC,GAAhC,OAjBM,SAACkvC,EAAWC,EAAW5F,EAASvpC,GAClD,IAAMovC,EAAapvC,EAAK1L,IAAI,SAAAyN,GAAC,MAAK,CACjCgH,MAAOhH,EAAEgH,MACT/I,KAAM,CACL+B,EAAE/B,KAAK,GAAGxF,GACVuH,EAAE/B,KAAK,GACP+B,EAAE/B,KAAK,GAAGkG,QAAQ,UAAW,IAC7B1F,aAAeuB,EAAE/B,KAAK,QAGxB,MAAO,GAAAgG,OAAGkpC,EAAU3F,IAAbvjC,OAAwBmpC,EAAUC,IAAcC,OAQtDJ,CAAWC,EAAWC,EAAW5F,EAASvpC,MA6B7BsqD,OA1Bf,SAAsB1nC,GACrB,IAAMa,EAAUsK,KACVp0B,EAAOgtB,YAAYjtB,MAFGq2C,EAIU9C,GAAa,CAClDC,SAAUrnC,IACVsnC,aAAcxzC,EACdyzC,WAAY,kBACXmB,GAAQ,CACP9qB,eALKzjB,EAJoB+vC,EAIpB/vC,KAAMupC,EAJcwG,EAIdxG,QAASiE,EAJKuC,EAILvC,WASjB5wB,EAAUoyB,GAAW,CAAExB,eAE7B,OACCzpB,EAAApxB,EAAAqxB,cAACslB,GAADx1C,OAAA8yB,OAAA,CACC3gB,MAAOrS,aAAE,aACToM,KAAMA,EACNupC,QAASA,EACT3sB,QAASA,GACLgG,mCCvIMqI,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAG9B,MAAO,CACN6kC,KAAM,CACLpkC,YAAaT,EACb4L,aAAc5L,EACda,MAAO,IACPH,QAAS,QACTmF,SAAU,WACV/E,SAAU,OACVgkC,0BAA2B,CAC1BzkC,OAAQ,EACRuL,aAAc5L,IAGhBsb,UAAW,CACVnU,OAAQ,EACRX,WAjBa,SAkBbX,SAAU,WACVD,SAAU,UAEXoO,IAAK,CACJnO,SAAU,WACVzH,IAAK,EACLyM,OAAQ,EACR7E,KAAM,EACNC,MAAO,EACP5F,OAAQ,OAGR8G,OAAQ,OACRrG,SAAU,OACVD,MAAO,OACP0T,UAAW,QAEZwwB,UAAW,CACVrkC,QAAS,OACT2F,cAAe,MACf1F,WAAY,QACZ+a,SAAU,QAEXH,YAAa,CACZ5T,WAAY3H,GAEbrP,MAAO,CACN2O,MAAOS,EAAMwH,QAAQ5W,MAAM8X,MAE5B5lB,MAAO,CACN+oB,aAAc5L,EACdV,MAAOS,EAAMwH,QAAQhR,KAAKmV,MAE3BmQ,SAAU,CACThW,SAAU,WACVyS,UAAS,iBAAAh4B,OAAmB,GAAK0f,EAAxB,OACT5B,IAAK,EACL6H,MAAOjG,KCwFJglC,GAA0BrqB,GAtHT,SAAA7sC,GAejB,IAdL6M,EAcK7M,EAdL6M,KACAzM,EAaKJ,EAbLI,EAGA6vB,GAUKjwB,EAZLm3D,eAYKn3D,EAXLqoB,IAWKroB,EAVLiwB,SAGAogB,GAOKrwC,EATL8zC,WASK9zC,EARLwxC,OAQKxxC,EAPLqwC,cACAH,EAMKlwC,EANLkwC,gBACAvF,EAKK3qC,EALL2qC,SACAoB,EAIK/rC,EAJL+rC,cAEA3R,GAEKp6B,EAHLo3D,sBAGKp3D,EAFLo6B,cACG9tB,EACEhM,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,wKACCq3D,EAAmBtrB,EAAa,cAEtC,OACCxb,EAAApxB,EAAAqxB,cAAC8mC,GAAA,EAAD,CAAMrmC,UAAWhB,EAAQ8mC,KAAMQ,QAAQ,GACtChnC,EAAApxB,EAAAqxB,cAACgnC,GAAA,EAAD,CAAWvnC,QAAS,CAAE0H,KAAM1H,EAAQud,WAAa7N,IAAI,IACpDpP,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACCzE,iBAAiB,EACjB5U,UAAWhB,EAAQiW,IACnBvG,IAAK9yB,EAAK8kC,iBACV/R,IAAK/yB,EAAK4qD,kBACVtgC,MAAO,CAAEkP,OAAQ,cAYnB9V,EAAApxB,EAAAqxB,cAACknC,GAAA,EAAD,KACErnB,EAAaonB,kBACblnC,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECzyB,WAAS,EACTjrB,KAAK,OACLyL,MAAO3U,EAAE,oBAAqB,CAAEmI,QAAQ,IACxCuB,MAAO+C,EAAK4qD,mBAAqB,GACjCl8B,SAAU,SAAAlB,GAAE,OAAID,EAAa,oBAAqBC,EAAG1D,OAAO7sB,QAE5DwoC,OAAQ,WACPpC,EAAgB,qBAAqB,GACrCvF,EAAS,oBAAqB,CAC7BQ,SACEt+B,EAAK4qD,mBAAqBxrC,aAASpf,EAAK4qD,mBAC1C5pC,IAAK,CAAErB,IAAK,mBACZ8e,OAAO,KAGTiH,QAAS,kBACRjmC,EAAKq+B,SAAS,oBAAqB,CAClCQ,SACEt+B,EAAK4qD,mBAAqBxrC,aAASpf,EAAK4qD,mBAC1C5pC,IAAK,CAAErB,IAAK,mBACZ8e,OAAO,KAGTzoB,MACCw0C,GAAsBA,EAAiB/rB,MACtC/a,EAAApxB,EAAAqxB,cAAA,gBAAQ6mC,EAAiBvuB,OAAzB,KACG,KAEL2b,WACE4S,GAAqBA,EAAiB/rB,MAEnC,KADH/a,EAAApxB,EAAAqxB,cAAA,WAAMpwB,EAAE,uCAKXmwB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,WACE3jB,EAAK4qD,kBACLlnC,EAAApxB,EAAAqxB,cAAC4O,GAAD,CAAQrJ,KAAMlpB,EAAK4qD,kBAAmB9gC,OAAO,UAC3C9pB,EAAK4qD,mBAGPlnC,EAAApxB,EAAAqxB,cAAA,QAAM2G,MAAO,CAAEzE,QAAS,KACtB,IACAtyB,EAAE,yBAiBLi3D,GAAsBA,EAAiB/rB,MACvC/a,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,QAAMS,UAAWhB,EAAQpN,OACvB,IACAw0C,EAAiBvuB,OAAQ,MAGzB,UAUJ6uB,GAAiB,WAA+C,IAAAj3D,EAAAtB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAOw4D,EAAAl3D,EAA5CuwC,YAA4C,IAAA2mB,EAArC,GAAqCA,EAAAC,EAAAn3D,EAAjCoJ,aAAiC,IAAA+tD,EAAzB,GAAyBA,EAAAC,EAAAp3D,EAArBmM,KACxC6kC,QAD6D,IAAAomB,EAAd,GAAcA,GAC7DpmB,KACFiV,EAAOrmD,OAAAC,GAAA,EAAAD,CAAA,GAAQoxC,GAGrB,OAFAiV,EAAQ1V,GAAQnnC,EAET68C,GAoHFoR,GAAsBlrB,GA1FT,SAAAhsC,GAeb,IAdLgM,EAcKhM,EAdLgM,KACAzM,EAaKS,EAbLT,EAGA6vB,GAUKpvB,EAZLs2D,eAYKt2D,EAXLwnB,IAWKxnB,EAVLovB,SAEAuhB,GAQK3wC,EATLizC,WASKjzC,EARL2wC,QACAnB,EAOKxvC,EAPLwvC,aACAH,EAMKrvC,EANLqvC,gBACAvF,EAKK9pC,EALL8pC,SACAoB,EAIKlrC,EAJLkrC,cAEA3R,GAEKv5B,EAHLu2D,sBAGKv2D,EAFLu5B,cAGMu2B,GADDrwD,OAAAiM,GAAA,EAAAjM,CAAAO,EAAA,wKACUkrC,EAAa,kBADvB/vB,EAEiCjb,eAA9BP,EAFHwb,EAEGxb,QAASsE,EAFZkX,EAEYlX,SAAUmQ,EAFtB+G,EAEsB/G,OACrB+iD,EAAS3sD,aACdtG,yBAAc8H,EAAK2E,kBAAoB,IAAIhR,IAAY,KAAKiX,IAAI,KAChE3S,GACA,GAGK0M,OAC0BlS,IAA/BuN,EAAK6kC,KAAKlgC,iBACP3E,EAAK6kC,KAAKlgC,iBACVwmD,EAEJ,OACCznC,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CACCC,WAAS,EACThhB,UAAWhB,EAAQ0d,UACnBpb,OAAO,QACP1P,QAAS8tC,GAETpgC,EAAApxB,EAAAqxB,cAAC0hB,GAAA,EAAD,KAAa9xC,EAAE,qBAAsB,CAAEqI,KAAM,CAACwM,MAC9Csb,EAAApxB,EAAAqxB,cAAC2hB,GAAA,EAAD,CACCF,WAAS,EACT1d,WAAS,EACTjrB,KAAK,OACL8H,KAAM,mBACNtH,MAAO0H,GAAoB,GAC3B+pB,SAAU,SAAAlB,IAlES,WAA+C,IAA9CvwB,EAA8C1K,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtC,GAAI6xC,EAAkC7xC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAA5BgsC,EAA4BlsC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAArBwpC,EAAqB1pC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAAAF,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAI5D2xC,EAAM,CACd9F,QAJqBz8B,eAAYmhD,eAAe/lD,IAChBqY,SAAMld,WAAW6E,EAAO,IAIxD+jB,IAAK,CAAErB,IAAKsc,GAAU,sBACtBwC,MAAOA,IA4DJ2sB,CACC59B,EAAG1D,OAAO7sB,MACV,oBACA,EACA,GACA6gC,GAEDvQ,EACC,OACAu9B,GAAe,CACd1mB,KAAM,mBACNnnC,MAAOuwB,EAAG1D,OAAO7sB,MACjB+C,WAIHwlC,UAAW,KACXC,OAAQ,SAAAjY,GACP6V,EAAgB,oBAAoB,IAErC/F,UAAWkG,EAAa7+B,iBACxBghC,aACCjiB,EAAApxB,EAAAqxB,cAACiiB,GAAA,EAAD,CAAgB1a,SAAS,OACxBxH,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CAGC6Y,SAAUkG,EAAY,kBAAwBmB,EAC9ChgB,MAAM,YACNP,UAAWhB,EAAQwd,YACnBhc,QAAS,SAAA4I,GAAE,OAAI6V,EAAgB,oBAAoB,KAEnD3f,EAAApxB,EAAAqxB,cAACkiB,GAAAvzC,EAAD,UAMJoxB,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KACEge,GAAYA,EAAO7nB,OACjB1oC,EAAEuwD,EAAO7nB,OAAQ,CAAErgC,KAAMkoD,EAAOlkC,aAChCrsB,EAAE,2BAiGH83D,GAAuBrrB,GAzFT,SAAA5rC,GAcd,IAbL4L,EAaK5L,EAbL4L,KACAzM,EAYKa,EAZLb,EAGA6vB,GASKhvB,EAXLk2D,eAWKl2D,EAVLonB,IAUKpnB,EATLgvB,SAEAuhB,GAOKvwC,EARL6yC,WAQK7yC,EAPLuwC,QACAnB,EAMKpvC,EANLovC,aACAH,EAKKjvC,EALLivC,gBACAvF,EAIK1pC,EAJL0pC,SACAoB,EAGK9qC,EAHL8qC,cACA3R,EAEKn5B,EAFLm5B,aAGMq4B,GADDnyD,OAAAiM,GAAA,EAAAjM,CAAAW,EAAA,gJACc8qC,EAAa,SAE1Bx4B,EAAU1G,EAAK6kC,KAAKn+B,QAE1B,OACCgd,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CACCC,WAAS,EACThhB,UAAWhB,EAAQ0d,UACnBpb,OAAO,QACP1P,QAAS4vC,GAAcpiB,EAAa98B,SAEpCgd,EAAApxB,EAAAqxB,cAAC0hB,GAAA,EAAD,KAAa9xC,EAAE,iBACfmwB,EAAApxB,EAAAqxB,cAAC2hB,GAAA,EAAD,CACCF,WAAS,EACT1d,WAAS,EACTjrB,KAAK,OACL8H,KAAM,UACNtH,MAAOyJ,GAAW1G,EAAK0G,SAAW,GAClCgoB,SAAU,SAAAlB,IAzIU,WAA+C,IAA9CvwB,EAA8C1K,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtC,GAAI6xC,EAAkC7xC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAA5BgsC,EAA4BlsC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAArBwpC,EAAqB1pC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAAAF,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAK7D2xC,EAAM,CACd9F,SALcgG,OAAIxG,SAAS7gC,EAAOmlC,WAAQD,UAAUz7B,SAE7BsP,MAIvBgL,IAAK,CAAErB,IAAKsc,GAAU,oBACtBwC,MAAOA,IAkIJ6sB,CAAgB99B,EAAG1D,OAAO7sB,MAAO,WAAW,EAAM,GAAI6gC,GACtDvQ,EACC,OACAu9B,GAAe,CACd1mB,KAAM,UACNnnC,MAAOuwB,EAAG1D,OAAO7sB,MACjB+C,WAIHwlC,UAAW,KACXC,OAAQ,SAAAjY,GACP6V,EAAgB,WAAW,IAE5B/F,WAAYt9B,EAAK0G,UAAY88B,EAAa98B,QAC1Ci/B,cACE3lC,EAAK0G,SACLgd,EAAApxB,EAAAqxB,cAACiiB,GAAA,EAAD,CAAgB1a,SAAS,OACxBxH,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CACC6Y,SAAUkG,EAAa98B,SAAWi+B,EAClChgB,MAAM,YACNP,UAAWhB,EAAQwd,YACnBhc,QAAS,SAAA4I,GAAE,OAAI6V,EAAgB,WAAW,KAE1C3f,EAAApxB,EAAAqxB,cAACkiB,GAAAvzC,EAAD,UAOLoxB,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KACE8f,GAAgBA,EAAW3pB,QAAUuH,EAAa98B,QAClDnT,EAAEqyD,EAAW3pB,OAAQ,CAAErgC,KAAMgqD,EAAWhmC,aAExC8D,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACEhK,EAAa98B,SACbgd,EAAApxB,EAAAqxB,cAAA,OACCoiC,wBAAyB,CACxBC,OAAQzyD,EAAE,0BAIbmwB,EAAApxB,EAAAqxB,cAAA,OACCoiC,wBAAyB,CACxBC,OAAQzyD,EAAE,qCAYZg4D,GAAY,SAAAh3D,GAAA,IACjB6uB,EADiB7uB,EACjB6uB,QACAlf,EAFiB3P,EAEjB2P,SACAC,EAHiB5P,EAGjB4P,UACAyB,EAJiBrR,EAIjBqR,MACAqhC,EALiB1yC,EAKjB0yC,WACAO,EANiBjzC,EAMjBizC,cACAhsB,EAPiBjnB,EAOjBinB,IAPiB,OASjBkI,EAAApxB,EAAAqxB,cAAC8mC,GAAA,EAAD,CAAMrmC,UAAWhB,EAAQ8mC,KAAMQ,QAAQ,GACtChnC,EAAApxB,EAAAqxB,cAACgnC,GAAA,EAAD,CAAWvnC,QAAS,CAAE0H,KAAM1H,EAAQud,YACnCjd,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACCzE,iBAAiB,EACjBlG,IAAK5uB,EACL6uB,IAAKntB,EACLwe,UAAWhB,EAAQiW,IACnBl1B,UAAWA,EACX0zB,YAAU,KAGXoP,GACAvjB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,MACRonB,MAAI,EACJtxB,MAAM,YACNC,QAAS4iB,EACTpjB,UAAWhB,EAAQ8d,UAEnBxd,EAAApxB,EAAAqxB,cAACkiB,GAAAvzC,EAAD,OAIDkpB,GACAkI,EAAApxB,EAAAqxB,cAACknC,GAAA,EAAD,KACCnnC,EAAApxB,EAAAqxB,cAAC4O,GAAD,CAAQrJ,KAAM1N,EAAKsO,OAAO,UACxBtO,MAuHOgwC,GAAarmC,YAAWyF,GAAXzF,CAhHP,SAAAzwB,GAUb,IATLsL,EASKtL,EATLsL,KACAzM,EAQKmB,EARLnB,EACA+2D,EAOK51D,EAPL41D,eACA9uC,EAMK9mB,EANL8mB,IACA4H,EAKK1uB,EALL0uB,QACA6jB,EAIKvyC,EAJLuyC,WACAnkC,EAGKpO,EAHLoO,SACA0gC,EAEK9uC,EAFL8uC,aACG/jC,EACEhM,OAAAiM,GAAA,EAAAjM,CAAAiB,EAAA,sFACCwP,EAAWlE,EAAKkE,SAChBC,EAAYnE,EAAKmE,UAEvB,OACCuf,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,GAAIC,GAAI,GAAIqJ,GAAI,GACtC7iB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,EAAGC,GAAI,EAAGqJ,GAAI,GACtB,WAAbzjC,EACA4gB,EAAApxB,EAAAqxB,cAAC0mC,GAAD52D,OAAA8yB,OAAA,CACCqY,WAAY5+B,EAAKgmC,IACjBhmC,KAAMA,EACNzM,EAAGA,EACHioB,IAAKA,EACL4H,QAASA,EACT6jB,WAAYA,EACZzD,aAAcA,GACV/jC,IAGLikB,EAAApxB,EAAAqxB,cAAC8nC,GAAD,CACCroC,QAASA,EACTlf,SAAUA,EACVC,UAAWA,EACXyB,MAAO5F,EAAK4F,MACZqhC,WAAYA,EACZO,cAAe/nC,EAAK+nC,cACpBhsB,IAAKA,KAIRkI,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,EAAGC,GAAI,EAAGqJ,GAAI,GACpC7iB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACV,WAAbviB,GACA4gB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACunC,GAADz3D,OAAA8yB,OAAA,CACCqY,WAAY5+B,EAAKgmC,IACjBhmC,KAAMA,EACNzM,EAAGA,EACHioB,IAAKA,EACL4H,QAASA,EACT6jB,WAAYA,EACZzD,aAAcA,GACV/jC,KAIO,WAAbqD,GACA4gB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAAC0nC,GAAD53D,OAAA8yB,OAAA,CACCqY,WAAY5+B,EAAKgmC,IACjBhmC,KAAMA,EACNzM,EAAGA,EACHioB,IAAKA,EACL4H,QAASA,EACT6jB,WAAYA,EACZzD,aAAcA,GACV/jC,EARL,CASCimB,OAAO,QACP0f,WAAS,MAIZ1hB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECl9C,MAAO+C,EAAKvD,KACZyL,MAAO3U,EAAE,OAAQ,CAAEmI,QAAQ,IAC3B4hC,UAAQ,EACR5X,OAAO,QACP0f,WAAS,KAGVld,MAAMwjC,QAAQ1rD,EAAK69C,OAAsB,WAAb/6C,GAC5B4gB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACCl9C,MAAO+C,EAAK69C,KACV5pD,IAAI,SAAAqoD,GAAG,UAAA32C,OAAQ22C,EAAIA,IAAZ,KAAA32C,OAAmB22C,EAAIC,MAAvB,QACPoP,KAAK,OACPzjD,MACC3U,EAAE,OAAQ,CAAEmI,QAAQ,IAApB,KAAAiK,OAAmC3F,EAAK69C,KAAKrrD,OAA7C,KAED8qC,UAAQ,EACR5X,OAAO,QACP+gB,WAAS,EACTrB,WAAS,EACTsB,KAAM,SAQbhjB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,GAAIC,GAAI,GAAIqJ,GAAI,GACrC+jB,MAmLQsB,GAAgBzmC,YAAWyF,GAAXzF,CA3KP,SAAAtvB,GAShB,IARLmK,EAQKnK,EARLmK,KACAzM,EAOKsC,EAPLtC,EACA+2D,EAMKz0D,EANLy0D,eACA9uC,EAKK3lB,EALL2lB,IACA4H,EAIKvtB,EAJLutB,QACA6jB,EAGKpxC,EAHLoxC,WAEGxnC,GACE5J,EAFLiN,SAEKrP,OAAAiM,GAAA,EAAAjM,CAAAoC,EAAA,wEACCqO,EAAWlE,EAAKkE,SAChBE,EAASpE,EAAKoE,QAAU,GAFzBiP,EAGwBnf,eAArB+D,EAHHob,EAGGpb,SAAUmQ,EAHbiL,EAGajL,OAClB,OACCsb,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,GAAIC,GAAI,GAAIqJ,GAAI,GACtC7iB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQgnC,WACvB1mC,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,EAAGC,GAAI,EAAGqJ,GAAI,GACpC7iB,EAAApxB,EAAAqxB,cAAC8nC,GAAD,CACCroC,QAASA,EACTlf,SAAUA,EACV0B,MAAO5F,EAAK4F,MACZqhC,WAAYA,EACZO,cAAe/nC,EAAK+nC,cACpBhsB,IAAKA,KAGPkI,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,EAAGC,GAAI,EAAGqJ,GAAI,GACpC7iB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,GAAIC,GAAI,GAC9BxZ,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECl9C,MAAO+C,EAAK7F,GACZ+N,MAAO3U,EAAE,KAAM,CAAEmI,QAAQ,IACzB4hC,UAAQ,EACR5X,OAAO,QACP0f,WAAS,KAGX1hB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECl9C,MAAOkD,aAAeH,EAAK4E,SAC3BsD,MAAO3U,EAAE,UAAW,CAAEmI,QAAQ,IAC9B4hC,UAAQ,EACR5X,OAAO,QACP0f,WAAS,KAGX1hB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECl9C,MAAOkD,aAAeH,EAAK6E,YAC3BqD,MAAO3U,EAAE,aAAc,CAAEmI,QAAQ,IACjC4hC,UAAQ,EACR5X,OAAO,QACP0f,WAAS,KAGX1hB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECl9C,MAAOkD,aAAeH,EAAK8E,qBAC3BoD,MAAO3U,EAAE,sBAAuB,CAAEmI,QAAQ,IAC1C4hC,UAAQ,EACR5X,OAAO,QACP0f,WAAS,KAGX1hB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECl9C,MAAO+C,EAAKsjD,kBAAoB,EAChCp7C,MAAO3U,EAAE,0BACT+pC,UAAQ,EACR5X,OAAO,QACP0f,WAAS,OAKb1hB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,GAAIC,GAAI,GAC9BxZ,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECl9C,MAAOmH,EAAOC,kBACd6D,MAAO3U,EAAE,SAAU,CAAEmI,QAAQ,IAC7B4hC,UAAQ,EACR5X,OAAO,QACP0f,WAAS,EACT6c,WAAY,CACXtc,aACCjiB,EAAApxB,EAAAqxB,cAACiiB,GAAA,EAAD,CAAgB1a,SAAS,OACvB2e,GACAzlC,EAAOC,kBACPD,EAAOG,KACP,WAONmf,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECl9C,QACEmH,EAAOM,uBAAyB,GAAK,IACrC/C,QAAQ,GACVuG,MAAO3U,EAAE,mBAAoB,CAAEqI,KAAM,CAAC,OACtC0hC,UAAQ,EACR5X,OAAO,QACP0f,WAAS,KAGX1hB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECl9C,MACCuB,aAAkBwB,EAAKwE,cAAevM,GACtC,IACAmQ,EAEDF,MAAO3U,EAAE,gBAAiB,CAAEmI,QAAQ,IACpC4hC,UAAQ,EACR5X,OAAO,QACP0f,WAAS,KAGX1hB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CAECl9C,MACCuB,aACCtG,wBAAa8H,EAAK2E,kBAAkBiG,IAAI,KACxC3S,GACA,GAED,IACAmQ,EAEDF,MAAO3U,EAAE,MAAO,CAAEmI,QAAQ,IAC1B4hC,UAAQ,EACR5X,OAAO,QACP0f,WAAS,YAUlB1hB,EAAApxB,EAAAqxB,cAAA,YAEDD,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIpE,GAAI,GAAIC,GAAI,GAAIqJ,GAAI,GACrC+jB,+CClqBOuB,GAAgB,CAC5B,UACA,UACA,UACA,UACA,UACA,WAGUC,GAAwB,CAClCC,YAAY,EACZC,SAAU,CACTv1C,KAAM,QACNw1C,aAAc,EACdlkD,gBAAiBmkD,KAAOC,qBAAqB,UAAW,MAU1DC,KAAMC,KAAU,CAAE5yD,OAAQqyD,KC2BXQ,OAlDf,SAAAn5D,GAIG,IAHFiK,EAGEjK,EAHFiK,WAGEmvD,EAAAp5D,EAFFsU,mBAEE,IAAA8kD,EAFYV,GAAcr5D,OAE1B+5D,EAAAC,EAAAr5D,EADFqU,mBACE,IAAAglD,EADYX,GACZW,EACI7sD,EAAO2mB,YAAY,SAAA1zB,GAAK,OAC7B2U,YAA4B3U,EAAO,CAClCwK,aACAoK,cACAC,kBAIF,OACCic,EAAApxB,EAAAqxB,cAAC8oC,GAAA,EAAD,CACCvmC,MAAO,IACPsG,OAAQ,IACR7sB,KAAMA,EACN4c,QAAS,CAERmwC,OAAQ,CACPxhC,SAAU,UAEXtlB,MAAO,CACNmgB,SAAS,EACTnK,KAAMroB,aAAE,6BAETo5D,WAAW,EACXX,SAAU,CACTY,UAAW,CACV1kD,MAAO,SAASlI,EAAML,GACrB,OACCA,EAAKS,SAASJ,EAAK6sD,cAAc3kD,MACjC,KACAvI,EAAKM,OAAOD,EAAK0I,OACjB,KACA/I,EAAKS,SAASJ,EAAK6sD,cAAcltD,KAAKK,EAAK0I,cC5B7CwlC,GAAU,SAAA/6C,GAAA,IACfiV,EADejV,EACfiV,OACAjB,EAFehU,EAEfgU,UACAE,EAHelU,EAGfkU,eACAC,EAJenU,EAIfmU,YACAF,EALejU,EAKfiU,OALe,MAMV,CACL,CACC7C,KAAM,UACN2D,MAAO3U,aAAE,WACTgpB,QAAS,CACR5d,QAAQ,EACRgJ,MAAM,IAGR,CACCpD,KAAM,cACN2D,MAAO3U,aAAE,qBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACP86C,cAAe,OACfH,iBAAkB,SAAA7sC,GAAW,OAAIurD,aAAuBvrD,GAAe,KACpEkpC,GAAoB,CACtB35B,QAAS,CAAC,EAAGzJ,GACbujC,YAAar3C,aAAE,0BAIlB,CACCgR,KAAM,WACN2D,MAAO3U,aAAE,oBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACP26C,iBAAkB,SAAAxnC,GAAQ,SAAAjB,OACtBmnD,aAAuBlmD,GAAY,GADb,KAAAjB,OACmByC,KAC1CqiC,GAAoB,CACtB35B,QAAS,CAAC,EAAGxJ,GACbsjC,YAAar3C,aAAE,uBAIlB,CACCgR,KAAM,SACN2D,MAAO3U,aAAE,sBACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNymC,iBAAkB,SAAAjrC,GAAM,OAAI2pD,aAAuB3pD,GAAU,KAC1DsnC,GAAoB,CACtB35B,QAAS,CAAC,EAAG3J,GACbyjC,YAAar3C,aAAE,qBAIlB,CACCgR,KAAM,MACN2D,MAAO3U,aAAE,OACTgpB,QAAQ9oB,OAAAC,GAAA,EAAAD,CAAA,CACPkU,MAAM,EACNymC,iBAAkB,SAAAznC,GAAG,SAAAhB,OAAOgB,EAAP,OAClB8jC,GAAoB,CACtB35B,QAAS,CAAC,EAAG1J,GACbwjC,YAAar3C,aAAE,cACfu3C,WAAY,GACZE,eAAgB,QAMd2D,GAAa,SAAA96C,GAAA,IAAGs5C,EAAHt5C,EAAGs5C,WAAH,MAAqB,CACvC9B,WAAY,cACZ5B,eAAgB,OAChBwF,cAAe,kBAAMvrB,EAAApxB,EAAAqxB,cAAC2pB,GAAD,CAAYC,aAAcJ,KAC/CtF,YAAa,KAiCCklB,OA9Bf,SAAA/4D,GAAqD,IAAdoJ,EAAcpJ,EAAdoJ,WAC9BgL,EAAWke,YAAYpyB,MAAvBkU,OAD4C4kD,EAGO1mC,YAC1D,SAAA1zB,GAAK,OAAIiU,YAA6BjU,EAAOwK,KADtC+J,EAH4C6lD,EAG5C7lD,UAAWE,EAHiC2lD,EAGjC3lD,eAAgBC,EAHiB0lD,EAGjB1lD,YAAaF,EAHI4lD,EAGJ5lD,OAHIsoC,EAOd9C,GAAa,CAClDC,SAAU3mC,IACV4mC,aAAc1vC,EACd2vC,WAAY,kBACXmB,GAAQ,CAAE9lC,SAAQjB,YAAWE,iBAAgBC,cAAaF,cAJpDzH,EAP4C+vC,EAO5C/vC,KAAMupC,EAPsCwG,EAOtCxG,QAASiE,EAP6BuC,EAO7BvC,WAOjB5wB,EAAUoyB,GAAW,CAAExB,eAE7B,OACCzpB,EAAApxB,EAAAqxB,cAACslB,GAAD,CACCrjC,MAAOrS,aAAE,4BACToM,KAAMA,EACNupC,QAASA,EACT3sB,QAASA,4EC/ENmR,GAAYC,aAAW,SAAAvI,GAC5B,MAAO,CACNd,KAAM,CACLkI,OAAQ,OACRtG,MAAO,QAER+mC,cAAe,CACdC,aAAY,gBAAAvnD,OAAkByf,EAAMwH,QAAQ8Q,KAAK5P,OAElDq/B,aAAc,CACbD,aAAY,eAAAvnD,OAAiByf,EAAMwH,QAAQ8Q,KAAK5P,OAEjDs/B,eAAgB,CACflnC,MAAO,OACPgqB,UAAW,QAEZmd,SAAU,CACTC,WAAY,SACZrnC,UAAW,aAEZsnC,UAAW,CACVC,eAAgB,aAmNJ9e,OA9Mf,SAAiBnsB,GAChB,IAAMa,EAAUsK,KACVtwB,EAAamlB,EAAMnlB,WAFFqyC,EAGMnpB,YAAYpyB,MAAjCkU,EAHeqnC,EAGfrnC,OAAQnQ,EAHOw3C,EAGPx3C,SACV6B,EAAewsB,YAAYxwB,KAC3B23D,EAAoBnnC,YAAY,SAAA1zB,GAAK,OAC1CsT,YAA6BtT,EAAOwK,KAE/B8F,EAAWojB,YAAY,SAAA1zB,GAAK,OACjCqQ,YAAgCrQ,EAAOwK,KATjB4vD,EAWkC1mC,YACxDtsB,KADO0zD,EAXeV,EAWfU,YAAaC,EAXEX,EAWFW,cAAeh6D,EAXbq5D,EAWar5D,QAASi6D,EAXtBZ,EAWsBY,QAGvCvpD,EAAoBnB,EAASkB,OAAOC,kBAG1C,MADuB,WAAtBA,GAAwD,cAAtBA,EAGlCqf,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKu/B,GAAI,EAAGzpC,UAAWC,IAAWjB,EAAQmqC,YACzC7pC,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKu/B,GAAI,EAAG9nC,QAAQ,OAAOoG,eAAe,iBACzCzI,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,MAApB,GAAAlpB,OAA6BpS,aAAE,cAAe,CAC7CqI,KAAM,CAAC8xD,GAAe,WAEvBhqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,MAApB,GAAAlpB,OAA6BpS,aAAE,qBAAsB,CACpDqI,KAAM,CAACm5B,aAAcj7B,QAEtB4pB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAApB,GAAAlpB,OAAgCpS,aAAE,aAAc,CAC/CqI,KAAM,CAACm5B,aAAc33B,EAAY,WAGnCsmB,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAC6N,GAAD,CAAapN,UAAWC,IAAWjB,EAAQkB,UAG7CZ,EAAApxB,EAAAqxB,cAAAkO,GAAA,QACAnO,EAAApxB,EAAAqxB,cAAA2K,GAAA,GACCw/B,GAAI,EACJ/nC,QAAQ,OACRoG,eAAe,gBACf6Q,aAAa,UAEbtZ,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKvI,QAAQ,OAAO2F,cAAc,UACjChI,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKu/B,GAAI,GACRnqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAApxB,EAAAqxB,cAAA,cAASpwB,aAAE,6BAEZmwB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAAS6+B,GAC7BhqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAAS8+B,GAC7BjqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAASl7B,GAC7B+vB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAAS++B,IAE9BlqC,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKu/B,GAAI,GACRnqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAASt7B,aAAE,yBAC/BmwB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,aAEnBnL,EAAApxB,EAAAqxB,cAAA,cAASxjB,aAAe+C,EAAS4B,wBAGnC4e,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKu/B,GAAI,GACRnqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAASt7B,aAAE,wBAC/BmwB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAApxB,EAAAqxB,cAAA,cAASoR,aAAc33B,OAI1BsmB,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKvI,QAAQ,OAAO2F,cAAc,SAAS1F,WAAW,YACrDtC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,MAAMt7B,aAAE,iBAC5BmwB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,MACnBnL,EAAApxB,EAAAqxB,cAAA,iBAAAhe,OAAYmnD,cAEV5vD,OAAOuH,uBAAYvB,EAASsB,eAAiB,IAAKvM,KACjDiL,EAASkB,OAAOM,sBAAwB,MACxC/C,QAAQ,IAJX,KAAAgE,OAKKyC,OAKRsb,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKvI,QAAQ,OAAOoG,eAAe,iBAClCzI,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,MAAMt7B,aAAE,gCAG9BmwB,EAAApxB,EAAAqxB,cAAAkO,GAAA,GAASzN,UAAWC,IAAWjB,EAAQ6pC,iBACvCvpC,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKw/B,GAAI,EAAG/nC,QAAQ,OAAOoG,eAAe,iBACzCzI,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAClBt7B,aAAE,kBAAmB,CACrBqI,KAAM,CACLuE,aAAe+C,EAAS2B,YACxB1E,aAAe+C,EAAS4B,0BAK5B4e,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAApxB,EAAAqxB,cAAA,iBAAAhe,OAAYmnD,aACX5vD,OAAOuH,uBAAYvB,EAASsB,eAAiB,IAAKvM,KAChDiL,EAASkB,OAAOM,sBAAwB,MAF3C,KAAAiB,OAGKyC,OAIRsb,EAAApxB,EAAAqxB,cAAAkO,GAAA,QACAnO,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKw/B,GAAI,EAAG/nC,QAAQ,OAAOoG,eAAe,iBACzCzI,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAASt7B,aAAE,uBAEhCmwB,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAApxB,EAAAqxB,cAAA,cAASmpC,aAAuB5pD,EAAS3B,iBAI5CmiB,EAAApxB,EAAAqxB,cAAAkO,GAAA,QACAnO,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKw/B,GAAI,EAAG/nC,QAAQ,OAAOoG,eAAe,iBACzCzI,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAASt7B,aAAE,kBAEhCmwB,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAApxB,EAAAqxB,cAAA,cAASmpC,aAAuB5pD,EAASC,YAI5CugB,EAAApxB,EAAAqxB,cAAAkO,GAAA,QAEC47B,EAAkBj7D,OAAS,GAC3BkxB,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACC9pB,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKw/B,GAAI,EAAG/nC,QAAQ,OAAOoG,eAAe,iBACzCzI,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,MAClBt7B,aAAE,iCAINmwB,EAAApxB,EAAAqxB,cAAAkO,GAAA,GAASzN,UAAWC,IAAWjB,EAAQ6pC,iBACvCvpC,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAoqC,GAAA,GAAO91B,KAAK,SACXvU,EAAApxB,EAAAqxB,cAAAqqC,GAAA,OACCtqC,EAAApxB,EAAAqxB,cAAAsqC,GAAA,GAAU7pC,UAAWC,IAAWjB,EAAQ6pC,gBACvCvpC,EAAApxB,EAAAqxB,cAAAuqC,GAAA,OACCxqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAApxB,EAAAqxB,cAAA,cAASpwB,aAAE,cAGbmwB,EAAApxB,EAAAqxB,cAAAuqC,GAAA,OACCxqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAApxB,EAAAqxB,cAAA,cAASpwB,aAAE,wBAGbmwB,EAAApxB,EAAAqxB,cAAAuqC,GAAA,OACCxqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAApxB,EAAAqxB,cAAA,cAASpwB,aAAE,yBAGbmwB,EAAApxB,EAAAqxB,cAAAuqC,GAAA,OACCxqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,aACnBnL,EAAApxB,EAAAqxB,cAAA,cAASpwB,aAAE,yBAKfmwB,EAAApxB,EAAAqxB,cAAAwqC,GAAA,OACEV,EACC9lD,KAAK,SAACrV,EAAGI,GAAJ,OAAUA,EAAEkU,SAAWtU,EAAEsU,WAC9B3S,IAAI,SAACiC,EAAOwL,GAAR,OACJgiB,EAAApxB,EAAAqxB,cAAAsqC,GAAA,GAAUxnD,IAAK/E,GACdgiB,EAAApxB,EAAAqxB,cAAAuqC,GAAA,GAAW9pC,UAAWC,IAAWjB,EAAQiqC,WACxC3pC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAAS34B,EAAMwQ,UAEpCgd,EAAApxB,EAAAqxB,cAAAuqC,GAAA,OACCxqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAClBi+B,aAAuB52D,EAAMqL,eAGhCmiB,EAAApxB,EAAAqxB,cAAAuqC,GAAA,OACCxqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAClBi+B,aAAuB52D,EAAMiN,UAGhCugB,EAAApxB,EAAAqxB,cAAAuqC,GAAA,OACCxqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,SAApB,GAAAlpB,OACKmnD,aACH52D,EAAM0Q,UAFR,KAAAjB,OAGMyC,aA3KS,MCjBZgmD,OAnDf,SAAwB7rC,GAAO,IAAAktB,EAC2BnpB,YACxDtsB,KADO0zD,EADsBje,EACtBie,YAAaC,EADSle,EACTke,cAAeh6D,EADN87C,EACM97C,QAASi6D,EADfne,EACeme,QAI7C,OACClqC,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKu/B,GAAI,EAAGC,GAAI,GACfpqC,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKu/B,GAAI,GACRnqC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,MAAM,oBAE3BnL,EAAApxB,EAAAqxB,cAAA8mC,GAAA,OACC/mC,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAK3M,EAAG,GACP+B,EAAApxB,EAAAqxB,cAAAw2B,GAAA,GACCjyC,MAAO3U,aAAE,gBACT0J,MAAOywD,GAAe,GACtBh/B,SAAU,SAAAlB,GAAE,OACXC,YAAQ4gC,YAAkB,CAAEX,YAAalgC,EAAG1D,OAAO7sB,UAEpDmoC,WAAS,IAEV1hB,EAAApxB,EAAAqxB,cAAAw2B,GAAA,GACCjyC,MAAO3U,aAAE,mBACT0J,MAAO0wD,GAAiB,GACxBj/B,SAAU,SAAAlB,GAAE,OACXC,YAAQ4gC,YAAkB,CAAEV,cAAengC,EAAG1D,OAAO7sB,UAEtDmoC,WAAS,IAEV1hB,EAAApxB,EAAAqxB,cAAAw2B,GAAA,GACCjyC,MAAO3U,aAAE,WACT0J,MAAOtJ,GAAW,GAClB+6B,SAAU,SAAAlB,GAAE,OACXC,YAAQ4gC,YAAkB,CAAE16D,QAAS65B,EAAG1D,OAAO7sB,UAEhDmoC,WAAS,IAEV1hB,EAAApxB,EAAAqxB,cAAAw2B,GAAA,GACCjyC,MAAO3U,aAAE,WACT0J,MAAO2wD,GAAW,GAClBl/B,SAAU,SAAAlB,GAAE,OACXC,YAAQ4gC,YAAkB,CAAET,QAASpgC,EAAG1D,OAAO7sB,UAEhDmoC,WAAS,IAET7iB,EAAMyE,aCtCN0G,GAAYC,aAAW,SAAAvI,GAC5B,MAAO,CACNkpC,GAAI,CACHpoC,MAAO,QACPiF,UAAW,QACX4B,QAAS,OAEVwhC,aAAa96D,OAAAsxB,EAAA,EAAAtxB,CAAA,GACX2xB,EAAMmG,YAAYspB,KAAK,MAAQ,CAC/B9uB,QAAS,SAGXyoC,cAAc/6D,OAAAsxB,EAAA,EAAAtxB,CAAA,GACZ2xB,EAAMmG,YAAYC,GAAG,MAAQ,CAC7BzF,QAAS,YAKb,SAAS0oC,GAAgBlsC,GACxB,IAAMa,EAAUsK,KACVghC,EAAUzW,mBACRtQ,EAAWgnB,eAAXhnB,OACF9kC,EAAQyjB,YAAY,SAAA1zB,GAAK,OAAIkI,aAAwBlI,KAErDg8D,EAA0BrsC,EAAMolB,QAAUA,EAC1CknB,EAAWD,EAA0B,CAACA,GAA2B/rD,EACvE,OAAwB,IAApBgsD,EAASr8D,OACLkxB,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CAAUn/B,GAAI,oCAErB4d,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKvI,QAAQ,OAAOoG,eAAe,SAAS6Q,aAAa,UACxDtZ,EAAApxB,EAAAqxB,cAAA2K,GAAA,GACCvI,QAAQ,OACRoG,eAAe,SACf6Q,aAAa,SACbtR,cAAc,UAEdhI,EAAApxB,EAAAqxB,cAACmrC,GAAD,KACCprC,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKw/B,GAAI,GACRpqC,EAAApxB,EAAAqxB,cAACorC,GAAAz8D,EAAD,CACC08D,QAAS,kBACRtrC,EAAApxB,EAAAqxB,cAAA8D,EAAA,GACCsmB,UAAWrqB,EAAApxB,EAAAqxB,cAAAqqB,GAAA,QACXnf,QAAQ,YACRlK,MAAM,UACNygB,WAAS,GAER,GAAAz/B,OAACipD,EAEIr7D,aAAE,iBADFA,aAAE,yBAIVo5B,QAAS,kBAAM+hC,EAAQ3nD,aAI1B2c,EAAApxB,EAAAqxB,cAAA8mC,GAAA,OACC/mC,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKlK,UAAWC,IAAWjB,EAAQorC,gBAClC9qC,EAAApxB,EAAAqxB,cAAA2K,GAAA,GACC3M,EAAG,EACHoE,QAAQ,OACRoG,eAAe,SACfnG,WAAW,SACX0F,cAAc,UAEdhI,EAAApxB,EAAAqxB,cAAA8qB,GAAA,QACA/qB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAQ,WAAW9I,QAAQ,QAAQ6L,cAAY,GACzDr+B,aAAE,mCAINmwB,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKlK,UAAWC,IAAWjB,EAAQmrC,eACjCM,EAASr8D,OAAS,GAClBkxB,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKrF,IAAKylC,EAAStqC,UAAWC,IAAWjB,EAAQkrC,KAC/CO,EAAS56D,IAAI,SAAAmJ,GAAU,OACvBsmB,EAAApxB,EAAAqxB,cAACsrC,GAAD,CAAS7xD,WAAYA,EAAYqJ,IAAKrJ,WC5D/C,IAAM8xD,GAAY,mBAEL7sD,GAAb,SAAAigB,GACC,SAAAjgB,EAAYkgB,EAAO4sC,GAAS,IAAAr7C,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAjK,IAC3ByR,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA4O,GAAA6R,KAAA5H,KAAMiW,EAAO4sC,KAQdC,gBAAkB,SAAC3mC,EAAO/f,GACzBoL,EAAK2O,SAAS,CAAE4sC,SAAU3mD,KAVCoL,EAa5Bw7C,gBAAkB,SAAAn8D,GAA8B,IAA3B+P,EAA2B/P,EAA3B+P,SAAU6B,EAAiB5R,EAAjB4R,QAASxR,EAAQJ,EAARI,EACvC,OACCmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC9C,MAAM,YACNC,QAAS,WACR7f,EAAQsY,cAAc,CAAEna,eAGxB3P,EAAE,0BApBPugB,EAAKlhB,MAAQ,CACZy8D,SAAU,EACVE,WAAY,IALcz7C,EAD7B,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAA4O,EAAAigB,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAA4O,EAAA,EAAAoE,IAAA,SAAAxJ,MAAA,WA+BU,IAAA8pB,EAWJza,KAAKiW,MATRhvB,EAFOwzB,EAEPxzB,EACA6vB,EAHO2D,EAGP3D,QACApjB,EAJO+mB,EAIP/mB,KAIA+E,EAROgiB,EAQPhiB,QACAujB,EATOvB,EASPuB,QAGO+mC,EAAa/iD,KAAK1Z,MAAlBy8D,SACFppD,EAAQjG,EAAK8D,KAAKR,QAClBJ,EAAW,IAAIZ,YAActC,GAC7BoE,GAAUlB,EAASkB,QAAU,IAAIG,KACjCF,EAAoBnB,EAASkB,OAAOC,kBACpC6N,EAAShP,EAASY,KAAKqO,WAAW,GAClCC,EAAWlP,EAASY,KAAKqO,WAAW,GAC1C,OACCuR,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACioC,GAAD,CACC5rD,KAAMkD,EACN3P,EAAGA,EACH+2D,gBAOa,UAAXlmD,GACW,WAAXA,GACW,aAAXA,GACW,cAAXA,IACAsf,EAAApxB,EAAAqxB,cAAArX,KAAMgjD,gBAAN,CACCpsD,SAAUA,EACV3P,EAAGA,EACHwR,QAASA,EACTujB,QAASA,MAKb5E,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACqR,GAAA,EAAD,CAAQ9J,SAAS,SAASvG,MAAM,UAAUP,UAAWhB,EAAQgI,QAC5D1H,EAAApxB,EAAAqxB,cAAC8K,GAAA,EAAD,CACCxxB,MAAOoyD,EACP3gC,SAAUpiB,KAAK8iD,gBACfI,cAAc,OACd7gC,eAAe,UACfC,UAAU,WAEVlL,EAAApxB,EAAAqxB,cAACmL,GAAA,EAAD,CAAK5mB,MAAO3U,EAAE,gBACdmwB,EAAApxB,EAAAqxB,cAACmL,GAAA,EAAD,CAAK5mB,MAAO3U,EAAE,oBACdmwB,EAAApxB,EAAAqxB,cAACmL,GAAA,EAAD,CAAK5mB,MAAO3U,EAAE,iBACU,WAAtB8Q,GACqB,cAAtBA,IACAqf,EAAApxB,EAAAqxB,cAACmL,GAAA,EAAD,CAAK5mB,MAAO3U,EAAE,eAIjBmwB,EAAApxB,EAAAqxB,cAAA,OAAK2G,MAAO,CAAEqT,UAAW,KACV,IAAb0xB,GACA3rC,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKmhC,OAAK,EAACC,MAAO,CAAEruB,GAAI,EAAGnE,GAAI,EAAGqJ,GAAI,IACrC7iB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACumC,GAAI,EAAGrJ,GAAI,GAAImE,GAAI,IAC7B3d,EAAApxB,EAAAqxB,cAACgsC,GAAD,CAA6BvyD,WAAY4C,EAAK7F,OAGhDupB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKmhC,OAAK,EAACC,MAAO,CAAEruB,GAAI,EAAGnE,GAAI,EAAGqJ,GAAI,IACrC7iB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACumC,GAAI,EAAGrJ,GAAI,GAAImE,GAAI,IAC7B3d,EAAApxB,EAAAqxB,cAACisC,GAAD,CAAuBxyD,WAAY4C,EAAK7F,QAK9B,IAAbk1D,GACA3rC,EAAApxB,EAAAqxB,cAACu9B,GAAD,CAAcr+C,MAAOoD,EAAO2jD,eAAa,EAACtI,SAAO,IAEpC,IAAb+N,GACA3rC,EAAApxB,EAAAqxB,cAAC2N,GAAA,EAAD,KACC5N,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAAvjB,OAAKuM,EAAOsJ,IAAZ,aAAA7V,OAA2BzC,EAAS/I,GAApC,YAEJupB,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CAAcQ,QAAS3+B,EAAE,qBAG3BmwB,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAAvjB,OAAKuM,EAAOsJ,IAAZ,aAAA7V,OAA2BzC,EAAS/I,GAApC,sCAEJupB,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CAAcQ,QAAS3+B,EAAE,4BAG3BmwB,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAAvjB,OAAKyM,EAASoJ,IAAd,aAAA7V,OAA6BzC,EAAS/I,GAAtC,YAEJupB,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CAAcQ,QAAS3+B,EAAE,uBAG3BmwB,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAAvjB,OAAKyM,EAASoJ,IAAd,aAAA7V,OAA6BzC,EAAS/I,GAAtC,sCAEJupB,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,CAAUsC,QAAM,GACfrO,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CAAcQ,QAAS3+B,EAAE,+BAKf,IAAb87D,GAAkB3rC,EAAApxB,EAAAqxB,cAAC8qC,GAAD,CAAiB9mB,OAAQzkC,EAAS/I,YAnJ3DkI,EAAA,CAA8B2iB,aAmL9B,IAAM6qC,GAAeptB,GAAQtd,YChNP,SAAAC,GACrB,MAAO,CACNgG,OAAQ,CACPJ,OAAQ5F,EAAM4F,OAAOI,OAAS,KD6MJjG,CAAmB9iB,KACjCuU,eAlBf,SAAyBhkB,EAAOk9D,GAAU,IACjCh9D,EAAYF,EAAZE,QAER,MAAO,CACNmT,MAAOnT,EAAQ+P,MAAR,OACPktD,WAAYj9D,EAAQ0G,GAAGC,OAAOy1D,IAC9BtsB,SAAUtgC,YACVQ,SAAU,aAIZ,SAA4BmiB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAKxBrO,CAGbwP,EAAUypC,KEjNGtmC,MACd7F,EAAApxB,EAAAqxB,cAAA,SACCD,EAAApxB,EAAAqxB,cAAA,QAAM3Z,EAAE,83NAGT,gBACA,eCNcuf,MACd7F,EAAApxB,EAAAqxB,cAAA,SACCD,EAAApxB,EAAAqxB,cAAA,QAAM3Z,EAAE,g9HAET,iBACA,cC2BKgmD,GAAYloC,GAvBF,SAAA30B,GAAA,IAAA88D,EAAA98D,EACf+8D,kBADe,IAAAD,EACF,GADEA,EAGf3rC,GAHenxB,EAEfg9D,UAFeh9D,EAGfmxB,MACA1e,EAJezS,EAIfyS,MACA03B,EALenqC,EAKfmqC,SACAla,EANejwB,EAMfiwB,QACGgtC,EAPY38D,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,uEASfuwB,EAAApxB,EAAAqxB,cAAA,MAAAlwB,OAAA8yB,OAAA,GACK6pC,EADL,CAEChsC,UAAWC,IAAWjB,EAAQitC,QAAT58D,OAAAsxB,EAAA,EAAAtxB,CAAA,GAAqB2vB,EAAQka,SAAWA,MAE7D5Z,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQkB,MAAOA,GAC/BZ,EAAApxB,EAAAqxB,cAAA,UAAK/d,GACL8d,EAAApxB,EAAAqxB,cAAA,MAAIS,UAAWhB,EAAQ8sC,YACrBA,EAAWj8D,IAAI,SAASq8D,EAAO7pD,GAC/B,OAAOid,EAAApxB,EAAAqxB,cAAA,MAAIld,IAAKA,GAAT,IAAgB6pD,EAAhB,WAQLC,oLACI,IAAAxpC,EACaza,KAAKiW,MAApBhvB,EADEwzB,EACFxzB,EAAG6vB,EADD2D,EACC3D,QACT,OACCM,EAAApxB,EAAAqxB,cAACyD,EAAA,EAAD,CACCvD,MAAM,EACNT,QAAS,CAAEyM,MAAOzM,EAAQotC,aAC1BC,cAAe,CACdrtC,QAAS,CACR0H,KAAM1H,EAAQstC,WAGhBtrB,WAAS,EACTjf,SAAS,MAETzC,EAAApxB,EAAAqxB,cAAC0D,EAAA,EAAD,KAAc9zB,EAAE,gBAChBmwB,EAAApxB,EAAAqxB,cAAC2D,EAAA,EAAD,KACC5D,EAAApxB,EAAAqxB,cAACqsC,GAAD,CACC5sC,QAASA,EACTxd,MAAOrS,EAAE,cACT+wB,KACCZ,EAAApxB,EAAAqxB,cAACgtC,GAAD,CACCrmC,MAAO,CAAEpE,MAAO,IAAKsG,OAAQ,KAC7B7H,MAAM,YAGRurC,WAAY,CACX38D,EAAE,oBACFA,EAAE,oBACFA,EAAE,qBAEHuS,GAAG,wBACHqqD,UAAW58D,EAAE,mBAIdmwB,EAAApxB,EAAAqxB,cAACqsC,GAAD,CACC5sC,QAASA,EACTxd,MAAOrS,EAAE,aACT+wB,KACCZ,EAAApxB,EAAAqxB,cAACitC,GAAD,CACCtmC,MAAO,CAAEpE,MAAO,IAAKsG,OAAQ,KAC7B7H,MAAM,YAGRurC,WAAY,CACX38D,EAAE,oBACFA,EAAE,oBACFA,EAAE,qBAEHuS,GAAG,uBACHqqD,UAAW58D,EAAE,2BAnDMyxB,aA4DVoB,KAAUjB,YCjGH,WACrB,MAAO,CACNurC,SAAU,CACT3oD,gBAAiB,4BAElBsoD,QAAS,CACRtqC,QAAS,eACTG,MAAO,MACPsG,OAAQ,OACR0jB,UAAW,SACX2gB,cAAe,MACfhrC,QAAS,GACTirC,yBAA0B,CACzBt3B,OAAQ,UACR3T,QAAS,GAEVkrC,aAAc,CACblrC,QAAS,IAEVmrC,0BAA2B,CAC1B9qC,MAAO,SAGT5B,KAAM,CACL4B,MAAO,IACPsG,OAAQ,IACR9G,OAAQ,QAETwqC,WAAY,CACXnjC,QAAS,EACTkkC,OAAQ,CACPlrC,QAAS,QACTmrC,UAAW,WDiEU/rC,CAAmBorC,KEzFtCY,GAAgB,CACrBpiC,MAAM,EACNqiC,YAAa,GACbnpD,YAAa,EACbopD,YAAa,EACbC,eAAgB,IAGJC,GAAmB,SAAAp+D,GAmB1BA,EAlBLmG,KAkBKnG,EAjBLkJ,UAiBKlJ,EAhBLwK,UAgBK,IAfL2D,EAeKnO,EAfLmO,QACAC,EAcKpO,EAdLoO,YACA4B,EAaKhQ,EAbLgQ,OACAquD,EAYKr+D,EAZLq+D,IAYKC,EAAAt+D,EAXLopB,eAWK,IAAAk1C,EAXK,GAWLA,EAVLl+D,EAUKJ,EAVLI,EAUKm+D,EAAAv+D,EATLw+D,cASK,IAAAD,EATI,YASJA,EAAAE,EAAAz+D,EARL0+D,eAQK,IAAAD,EARK,QAQLA,EAAAE,EAAA3+D,EAPL4+D,eAOK,IAAAD,EAPK,QAOLA,EAAAE,EAAA7+D,EANL8+D,eAMK,IAAAD,EANK,QAMLA,EAAAE,EAAA/+D,EALLg/D,eAKK,IAAAD,EALK,QAKLA,EAAAE,EAAAj/D,EAJLk/D,eAIK,IAAAD,EAJKvG,GAAc,GAInBuG,EAAAE,EAAAn/D,EAHLo/D,eAGK,IAAAD,EAHKzG,GAAc,GAGnByG,EAAAE,EAAAr/D,EAFLs/D,eAEK,IAAAD,EAFK3G,GAAc,GAEnB2G,EAAAE,EAAAv/D,EADLw/D,eACK,IAAAD,EADK7G,GAAc,GACnB6G,EACGtqD,EAAWke,YAAYpyB,MAAvBkU,OAGRilC,oBAAU,WACTulB,KAAMC,cAAcC,SAAS,CAC5BC,UAAW,SAASC,GACnB,GAAIA,EAAMC,QAAQC,SAAWF,EAAMC,QAAQC,QAAQ1gE,OAAQ,CAC1D,IAAM2gE,EAAcH,EAAMI,WAAWH,QAAQC,QAAQ,GAC/CG,EAAML,EAAMK,IACZh5B,EAAI84B,EAAYG,kBAAkBj5B,EAClCk5B,EAAgBP,EAAMQ,OAAO,YACnC,GAAID,EAAe,CAClB,IAAME,EAAOF,EAAc9vC,IACrBiwC,EAAUH,EAAcrjC,OAC9BmjC,EAAIjzB,OACJizB,EAAIM,YACJN,EAAIO,OAAOv5B,EAAGo5B,GACdJ,EAAIQ,OAAOx5B,EAAGq5B,GACdL,EAAIS,UAAY,EAChBT,EAAIU,YAAY,CAAC,EAAG,IACpBV,EAAIW,YAAc,UAClBX,EAAIY,SACJZ,EAAIa,iBAOT,IAAMC,EAAY,CACjBl0D,OAAQqB,EAAQrB,OAChBG,SAAU,CAAC3M,OAAAC,GAAA,EAAAD,CAAA,GAEN09D,GAFK,CAGRppD,gBAAiBmkD,KAAOC,qBAAqBkG,EAAS,GACtD1sC,YAAaumC,KAAOC,qBAAqBkG,EAAS,GAClDnqD,MAAO2pD,EACPlyD,KAAM2B,EAAQlB,SACdg0D,QAAS,aAPD3gE,OAAAC,GAAA,EAAAD,CAAA,GAUL09D,GAVK,CAWRppD,gBAAiBmkD,KAAOC,qBAAqBoG,EAAS,GACtD5sC,YAAaumC,KAAOC,qBAAqBoG,EAAS,GAClDrqD,MAAO6pD,EACPpyD,KAAM4B,EAAYnB,SAClBg0D,QAAS,aAfD3gE,OAAAC,GAAA,EAAAD,CAAA,GAkBL09D,GAlBK,CAmBRppD,gBAAiBmkD,KAAOC,qBAAqBsG,EAAS,GACtD9sC,YAAaumC,KAAOC,qBAAqBsG,EAAS,GAClDvqD,MAAO+pD,EACPtyD,KAAMwD,EAAO/C,SACbg0D,QAAS,aAvBD3gE,OAAAC,GAAA,EAAAD,CAAA,GA0BL09D,GA1BK,CA2BRppD,gBAAiBmkD,KAAOC,qBAAqBwG,EAAS,GACtDhtC,YAAaumC,KAAOC,qBAAqBwG,EAAS,GAClD0B,qBAAsB1B,EACtBzqD,MAAOiqD,EACPxyD,KAAM6xD,EAAIpxD,SACVg0D,QAAS,eAKNE,EAAe,CACpB3H,WAAW,EACXZ,YAAY,EAEZwI,qBAAqB,EACrB3uD,MAAO,CACNmgB,SAAS,EACTnK,KAAMW,EAAQ3W,OAEfomD,SAAU,CACTjkD,gBAAiB,QACjB0O,KAAM,QACN+9C,WAAW,EACX5H,UAAW,CACV1kD,MAAO,SAAS3U,EAAGyW,GAElB,IAAI2nD,EAAS3nD,EAAE5J,SAAS7M,EAAEs5D,cAAc3kD,MACpCusD,EACH9C,IAAWE,EAAX,GAAAlsD,OACM+uD,aAA4BnhE,EAAEkhE,QADpC,KAAA9uD,OAC+CyC,GAC5CssD,aAA4BnhE,EAAEkhE,QAClC,SAAA9uD,OAAUgsD,EAAV,MAAAhsD,OAAqB8uD,MAIxBE,MAAO,CACNl+C,KAAM,QACN+9C,WAAW,GAEZhB,OAAQ,CACPoB,MAAO,CACN,CACC7uC,SAAS,EACT8uC,UAAW,CACV9uC,SAAS,GAEV+uC,WAAY,CACX/uC,SAAS,EACTgvC,YAAaxhE,EAAEo+D,GAAU,cAE1BqD,MAAO,CACNC,UAAU,EACVC,SAAU,SAASC,EAAMzsD,EAAO0sD,GAC/B,OAAO1sD,EAAQxD,KAAK2U,MAAMu7C,EAAM5iE,OAAS,IAAM,GAAK2iE,MAKxDE,MAAO,CACN,CACCR,UAAW,CACV9uC,SAAS,GAEVivC,MAAO,CACNM,aAAa,GAEdR,WAAY,CACX/uC,SAAS,EACTgvC,YAAalD,GAEd13D,GAAI,YAEL,CACCsC,KAAM,SACNspB,SAAS,EACTmF,SAAU,QACV4pC,WAAY,CACX/uC,SAAS,EACTgvC,YAAahD,GAEd53D,GAAI,WACJ66D,MAAO,CACNM,aAAa,EACbnqB,UAAW,GAGZ0pB,UAAW,CACVU,iBAAiB,IAGnB,CACC94D,KAAM,SACNspB,SAAS,EACTmF,SAAU,QACV4pC,WAAY,CACX/uC,SAAS,EACTgvC,YAAa9C,GAEd93D,GAAI,WACJ66D,MAAO,CACNM,aAAa,EACbnqB,UAAW,GAGZ0pB,UAAW,CACVU,iBAAiB,IAGnB,CACC94D,KAAM,SACNspB,SAAS,EACT8uC,UAAW,CACVU,iBAAiB,GAElBT,WAAY,CACX/uC,SAAS,EACTgvC,YAAa5C,GAEdh4D,GAAI,eAMR,OAAOupB,EAAApxB,EAAAqxB,cAAC8oC,GAAA,EAAD,CAAMjgC,OAAQ,IAAK7sB,KAAMw0D,EAAW53C,QAAS+3C,KCtKzBnvC,YAAW,SAAAC,GAAK,MAAK,CAChD6tC,QAAS,CACRlrD,gBAAiBqd,EAAMwH,QAAQw1B,OAAOC,MACtC19B,MAAO,sBACP6J,UAAWpJ,EAAMg7B,QAAQ,GACzBx6B,SAAU,MALgBT,CAOxBsoB,MAPG,IASD+nB,GAAiB7nC,aAAW,SAAAvI,GAAK,MAAK,CAC3C6tC,QAAS,CACR/nC,SAAU,WACVnjB,gBAAiBqd,EAAMwH,QAAQw1B,OAAOqT,OAEvCC,QA7DuB/wC,EA6DAS,EAAMwH,QAAQw1B,OAAOqT,MA5DrC,CACNE,kCAAmC,CAClClyC,IAAK,EACL4H,KAAM,EACNsS,UAAW,UACXzX,MAAO,MACPsG,OAAQ,MACRopC,YAAa,CACZ3tD,YAAa,gBACb0d,YAAW,2BAAAhgB,OAA6Bgf,EAA7B,kBAGbkxC,+BAAgC,CAC/B3lC,OAAQ,EACR7E,KAAM,EACN4F,aAAc,UACd/K,MAAO,MACPsG,OAAQ,MACRopC,YAAa,CACZ3tD,YAAa,gBACb0d,YAAW,GAAAhgB,OAAKgf,EAAL,0CAGbmxC,iCAAkC,CACjCzqC,KAAM,EACN2B,WAAY,UACZR,OAAQ,MACRtG,MAAO,MACP0vC,YAAa,CACZ3tD,YAAa,gBACb0d,YAAW,eAAAhgB,OAAiBgf,EAAjB,8BAGboxC,gCAAiC,CAChCzqC,MAAO,EACPxF,YAAa,UACb0G,OAAQ,MACRtG,MAAO,MACP0vC,YAAa,CACZ3tD,YAAa,gBACb0d,YAAW,uCAAAhgB,OAAyCgf,OAqBvDqxC,MAAO,CACN9qC,SAAU,WACVtF,SAAU,EACVgwC,YAAa,CACZjpC,QAAS,KACTjH,OAAQ,OACRK,QAAS,QACTG,MAAO,EACPsG,OAAQ,EACRypC,YAAa,WAvEhB,IAAwBtxC,IA4EjB,SAASuxC,GAAa3zC,GAAO,IAAA4zC,EACLX,KAAtBQ,EAD2BG,EAC3BH,MAAU5yC,EADiB3vB,OAAAiM,GAAA,EAAAjM,CAAA0iE,EAAA,WAAAje,EAEH/uB,IAAMkK,SAAS,MAFZ8kB,EAAA1kD,OAAA4J,GAAA,EAAA5J,CAAAykD,EAAA,GAE5Bke,EAF4Bje,EAAA,GAElBke,EAFkBle,EAAA,GAInC,OACCz0B,EAAApxB,EAAAqxB,cAAC8pB,GAAA,EAADh6C,OAAA8yB,OAAA,CACCnD,QAASA,EACTkzC,YAAa,CACZC,cAAe,CACdC,UAAW,CACVR,MAAO,CACNS,QAAS7iC,QAAQwiC,GACjBM,QAASN,OAKT7zC,EAZL,CAaC3c,MACC8d,EAAApxB,EAAAqxB,cAACD,EAAApxB,EAAM6/B,SAAP,KACE5P,EAAM3c,MACP8d,EAAApxB,EAAAqxB,cAAA,QAAMS,UAAW4xC,EAAO/sC,IAAKotC,QAWPlxC,YAAW,SAAAC,GAAK,MAAK,CAC/C6tC,QAAS,CACRlrD,gBAAiB,UACjB4c,MAAO,sBACPwB,SAAU,IACVP,SAAUR,EAAMuxC,WAAWC,QAAQ,IACnCtxC,OAAQ,uBANiBH,CAQvBsoB,MARG,ICtGD/f,GAAYC,aAAW,SAAAvI,GAC5B,MAAO,CACN0F,KAAM,CACLI,SAAU,WACVnjB,gBAAiB,SAAA5U,GAAA,IAAA0jE,EAAA1jE,EAAG2jE,eAAH,IAAAD,EAAa,GAAbA,EAAA,OACfzxC,EAAMwH,QAAQkqC,IAAY,IAAIhpC,MAAQ1I,EAAMwH,QAAQC,WAAWC,SACjEnI,MAAO,SAAA9wB,GAAA,IAAAkjE,EAAAljE,EAAGijE,eAAH,IAAAC,EAAa,GAAbA,EAAA,OACL3xC,EAAMwH,QAAQkqC,IAAY,IAAInmC,cAC/BvL,EAAMwH,QAAQhR,KAAKsW,UAErB8kC,SAAU,CACTtxC,OAAQN,EAAMC,QAAQ,GACtB0F,SAAU,GAEXksC,SAAU,CACTC,mBAAoB,CACnB19B,OAAQ,YAGV29B,SAAU,CACTjnC,OAAQ,EACRhF,SAAU,WACVhF,MAAO,WA8DKkxC,GAzDG,SAAA70C,GAAS,IAEzB3c,EAQG2c,EARH3c,MACA67B,EAOGlf,EAPHkf,SACAw1B,EAMG10C,EANH00C,SACAjwC,EAKGzE,EALHyE,SACApC,EAIGrC,EAJHqC,QACAkyC,EAGGv0C,EAHHu0C,QACA1nC,EAEG7M,EAFH6M,QACAioC,EACG90C,EADH80C,QAGKj0C,EAAUsK,GAAU,CAAEopC,YAE5B,OACCpzC,EAAApxB,EAAAqxB,cAAC8mC,GAAA,EAAD,CAECrmC,UAAWC,IAAWjB,EAAQ0H,KAAM1H,EAAQ4zC,SAAvBvjE,OAAAsxB,EAAA,EAAAtxB,CAAA,GACnB2vB,EAAQ6zC,WAAaA,IAEvBryC,QAASA,GAETlB,EAAApxB,EAAAqxB,cAACknC,GAAA,EAAD,KACEjlD,GACA8d,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,KAAK+G,QAAM,GAC7BhwB,GAGF67B,GACA/d,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYJ,UAAU,IAAIqE,QAAM,GAC9B6L,EAAU,IACV41B,GACA3zC,EAAApxB,EAAAqxB,cAACuyC,GAAD,CACCtwD,MACC8d,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYJ,UAAU,IAAI1C,QAAQ,WAChCwoC,IAIH3zC,EAAApxB,EAAAqxB,cAACwjB,EAAA70C,EAAD,CAAUg4B,MAAO,CAAE1E,SAAU,QAKhCoB,GAEDoI,GAAW1L,EAAApxB,EAAAqxB,cAACuL,GAAA,EAAD,CAAgB9K,UAAWhB,EAAQ+zC,gGCrE5CvqC,GAAU,CACfsF,QAAS,CAAEpE,KATW,UASI6C,aAVb,QAWbX,UAAW,CAAElC,KATW,UASM6C,aAXjB,QAYb9C,UAAW,CAAEC,KARY,UAQMK,MAPA,UAOyBwC,aAZ3C,QAab5C,UAAW,CAAED,KAPY,UAOMK,MANA,UAMyBwC,aAb3C,QAcb+M,KAAM,CAAE5P,KAXgB,UAWC6C,aAdZ,QAebvF,OAAQ,CAAE0C,KAAM4P,KAAK,KAAM/M,aAAc+M,KAAK,MAC9C1nB,MAAOshD,KACPv1C,QAASw1C,KACT9gB,MAAO+gB,KACPC,kBAAmB,EACnBC,YAAa,GACb97C,KAAM8hB,KACNlZ,OAAQ,CACPmzC,mBAAoBj6B,KAAK,KACzBJ,SAAUI,KAAK,OAIJtY,GAAQwyC,aAAe,CACnCjB,WAAY,CACXkB,WAAY,6CACZjyC,SAAU,IAEXgH,QAAQn5B,OAAAC,GAAA,EAAAD,CAAA,GAAMm5B,IACdkrC,UAAW,CACVC,UAAW,CACVjtC,KAAM,CACLvF,aAAc,GAEfyyC,SAAU,CACTzyC,aAAc,IAGhB0yC,aAAc,CACbC,KAAM,CACL5K,WAAY,UAEbxiC,KAAM,CACLwiC,WAAY,WAGd6K,SAAU,CACTC,QAAS,CACR7yC,aAAc,IAGhB8yC,WAAY,CACXpF,QAAS,CAAE1tC,aAAc,IAE1B+yC,UAAW,CACVN,SAAU,CACTzyC,aAAc,IAGhBgzC,cAAe,CACdP,SAAU,CACTzyC,aAAc,IAGhBizC,iBAAkB,CACjB1tC,KAAM,CACLvF,aAAc,IAGhBkzC,SAAU,CACT3tC,KAAM,CACLvF,aAAc,GAEfyyC,SAAU,CACTzyC,aAAc,IAchBmzC,eAAgB,CACf5tC,KAAM,CACL/E,QAAS,OACT0F,KAAM,EACNsB,QAAS,IAGX4rC,UAAW,CACVC,aAAc,CACb7wD,gBAAiB6kB,GAAQxB,OAAO0C,KAChCnJ,MAAOiI,GAAQxB,OAAOuF,eAGxBkoC,uBAAwB,CACvBvsC,QAAS,CACRS,QAAS,IAGX+rC,mBAAoB,CACnBhuC,KAAM,CACL3E,SAAU,UAIZ4yC,gBAAiB,CAChBjuC,KAAM,CACL5E,MAAO,oBAGT8yC,qBAAsB,CACrBC,cAAe,CACdzsC,OAAQ,uBAMC0sC,GAAWC,aAAoB/zC,GAAO,CAClD7I,QAAS,CAAC,KAAM,KAAM,KAAM,KAAM,MAClC68C,OAAQ,IC1IIxuC,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAE9B,MAAO,CACNg0C,mBAAoB,CACnBtzC,QAAS,OACT2F,cAAe,MACfqV,SAAU,OACV5U,eAAgB,UAChBK,OAAQ,QAETwqC,SAAU,CACTtxC,OAAQL,EACR0F,SAAU,GAEXksC,SAAU,CACTC,mBAAoB,CACnB19B,OAAQ,YAGV8/B,kBAAmB,CAClB5zC,OAAQL,EACR0H,QAAS1H,EACTa,MAAK,eAAAvgB,OAA2B,EAAV0f,EAAjB,UCSFk0C,GAAaC,KAA+BvlE,IAAI,SAAAwlE,GACrD,IAAMC,EAAUjmE,OAAAC,GAAA,EAAAD,CAAA,GAAQgmE,GAExB,OADAC,EAAWxxD,MAAQ3U,aAAEkmE,EAAGvxD,OACjBwxD,IAGFC,GAAU,CACfvsC,UAAW,CACV,CACCllB,MAAO3U,aAAE,iBACT0J,MAAO,eACP0nB,MF/BuB,WEiCxB,CACCzc,MAAO3U,aAAE,qBACT0J,MAAO,cACP0nB,MFzCoB,WE2CrB,CACCzc,MAAO3U,aAAE,gBACT0J,MAAO,cACP0nB,MF7CsB,WE+CvB,CACCzc,MAAO3U,aAAE,aACToxB,MFhDsB,YEmDxBwI,WAAY,CACX,CACCjlB,MAAO3U,aAAE,eACT0J,MAAO,eACP0nB,MFtDuB,WEwDxB,CACCzc,MAAO3U,aAAE,qBACT0J,MAAO,cACP0nB,MF9DoB,WEgErB,CACCzc,MAAO3U,aAAE,gBACT0J,MAAO,cACP0nB,MFlEsB,WEoEvB,CACCzc,MAAO3U,aAAE,YACToxB,MFrEsB,aE0EnBi1C,GAAY,CACjBC,KAAM,oBACNC,IAAK,wBACLC,KAAM,uBAGA,SAASC,GAAT7mE,GAA8B,IAARmG,EAAQnG,EAARmG,KAEtB8pB,EADYuK,aAAW/C,GACb8C,GACRtlB,EAAWke,YAAYpyB,MAAvBkU,OAEF/L,EAAYiqB,YAAYtqB,KAAiBK,WAAa,GACtDgD,EAAmBinB,YAAY,SAAA1zB,GAAK,OACzCuL,aAAuBvL,EAAO,CAC7B0G,OACA+C,gBAII4K,EAAcqf,YAAY,SAAA1zB,GAAK,OACpCyL,aAAkBzL,EAAO,CACxB0G,OACA+C,gBAII+C,EAAaknB,YAAY,SAAA1zB,GAAK,OACnC0L,aAAiB1L,EAAO,CACvB0G,OACA+C,gBAII49D,EAAa3zC,YAAY,SAAA1zB,GAAK,OACnCqM,YAAiBrM,EAAO,CACvB0G,OACA+C,gBAII69D,EAA0C,OAArB76D,EACrB86D,EAA8B,OAAf/6D,EACfg7D,EAA4B,OAAfH,EACbI,EAAgC,OAAhBpzD,EAEhB3F,EAAUglB,YAAY,SAAA1zB,GAAK,OAChCmO,YAA6BnO,EAAO,CAAE0G,OAAM+C,gBAGvCkF,EAAc+kB,YAAY,SAAA1zB,GAAK,OACpC6N,YAAiC7N,EAAO,CAAE0G,OAAM+C,gBAG3C8G,EAASmjB,YAAY,SAAA1zB,GAAK,OAC/BgO,YAA4BhO,EAAO,CAAE0G,OAAM+C,gBAGtCm1D,EAAMlrC,YAAY,SAAA1zB,GAAK,OAC5BsO,YAAyBtO,EAAO,CAAE0G,OAAM+C,gBAGnCi+D,EACJn3D,EAAOlD,OAAOkD,EAAOlD,OAAOzN,OAAS,KACrC+O,EAAYA,EAAYtB,OAAOzN,OAAS,KACzC8O,EAAQA,EAAQrB,OAAOzN,OAAS,GACjC,OACCkxB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQi2C,oBACvB31C,EAAApxB,EAAAqxB,cAAC42C,GAAD,KACC72C,EAAApxB,EAAAqxB,cAAC62B,GAAD,CACCpV,WAAS,EACTl9B,MAAO3U,aAAE,oBACTqkD,WAAYrkD,aAAEqmE,GAAUv9D,IACxBqyB,SAAU,SAAApzB,GAAG,OAAImyB,YAAQ+sC,YAAyBl/D,KAClDqN,OAAQ4wD,GACRt8D,MAAOZ,EACPo7C,OAAO,sBAGT/zB,EAAApxB,EAAAqxB,cAAC42C,GAAD,CACCzD,QAAQ,UACRr1B,SAAUluC,aAAE,2BACZ67B,QAAS8qC,IAAuBI,EAChC10D,MAAK,GAAAD,OAAKmnD,aAAuBztD,GAAoB,IACrDg4D,QAAS9jE,aAAE,+BAEZmwB,EAAApxB,EAAAqxB,cAAC42C,GAAD,CACCzD,QAAQ,YACRr1B,SAAUluC,aAAE,sBACZ8jE,QAAS9jE,aAAE,wBACX67B,QACCirC,GACAH,IACCI,GACDrzD,EAAc5H,IAAqBo7D,IAEpC70D,MAAK,GAAAD,OAAKmnD,aAAuB7lD,GAAe,GAA3C,MAAAtB,OAAkDrF,WACrD2G,EAAc5H,EAAoB,KAAO,GACzCsC,QAAQ,GAFL,MAAAgE,OAEYpS,aAAE,aAFd,OAII,eAAT+F,GACAoqB,EAAApxB,EAAAqxB,cAAC42C,GAAD,CACCzD,QAAQ,YACRr1B,SAAUluC,aAAE,qBACZ8jE,QAAS9jE,aAAE,sBAAuB,CAAEqI,KAAM,CAACwM,KAC3CxC,MAAK,KAAAD,OAAOmnD,aACXxsD,WAAWlB,GAAc,GAAGuC,QAAQ,IADhC,KAAAgE,OAEAyC,GACLgnB,QAAS+qC,IAAiBG,IAIlB,cAAThhE,GACAoqB,EAAApxB,EAAAqxB,cAAC42C,GAAD,CACCzD,QAAQ,YACRr1B,SAAUluC,aAAE,uBACZ8jE,QAAS9jE,aAAE,yBACXqS,MAAK,KAAAD,OAAOmnD,aACXxsD,WAAWlB,GAAc,GAAGuC,QAAQ,IADhC,KAAAgE,OAEAyC,GACLgnB,QAAS+qC,IAAiBG,IAG5B52C,EAAApxB,EAAAqxB,cAAC42C,GAAD,CACCzD,QAAQ,OACRr1B,SAAUluC,aAAE,iBACZ8jE,QAAS9jE,aAAE,mBACX67B,QAASgrC,IAAeE,EACxB10D,MAAK,KAAAD,OAAOmnD,aACXxsD,WAAW25D,GAAc,GAAGt4D,QAAQ,IADhC,KAAAgE,OAEAyC,EAFA,cAMRsb,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAAC+2C,GAAD,CACCphE,KAAMA,EACN+C,UAAWA,EACXkgB,QAAS,CACR3W,OACE2zD,GAAW16D,KAAK,SAAAvM,GAAC,OAAIA,EAAE2K,QAAUZ,KAAc,IAAI6L,OAAS,IAE/D5G,QAASA,EACTC,YAAaA,EACb4B,OAAQA,EACRquD,IAAKA,EACLK,QAAS8H,GAAQrgE,GAAM,GAAG4O,MAC1BmqD,QAASsH,GAAQrgE,GAAM,GAAGqrB,MAC1BotC,QAAS4H,GAAQrgE,GAAM,GAAG4O,MAC1BqqD,QAASoH,GAAQrgE,GAAM,GAAGqrB,MAC1BstC,QAAS0H,GAAQrgE,GAAM,GAAG4O,MAC1BuqD,QAASkH,GAAQrgE,GAAM,GAAGqrB,MAC1BwtC,QAASwH,GAAQrgE,GAAM,GAAG4O,MAC1ByqD,QAASgH,GAAQrgE,GAAM,GAAGqrB,MAC1BpxB,EAAGA,SCpNOonE,OAlBR,SAAwBp4C,GAC9B,IAAMjpB,EAAOgtB,YAAYjtB,MAMzB,OAJAg0C,oBAAU,WACT5f,YAAQkV,YAAU,WAAYpvC,aAAE,gBAC9B,IAEa,eAAT+F,GAAkC,cAATA,EAC/BoqB,EAAApxB,EAAAqxB,cAACi3C,GAAD,CAAYl4C,QAAQ,IAEpBgB,EAAApxB,EAAAqxB,cAAAkjB,GAAA,GAAOuC,UAAW,GACjB1lB,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAK3M,EAAG,GACP+B,EAAApxB,EAAAqxB,cAACq2C,GAAD,CAAY1gE,KAAMA,OC8CtB,IAAMuhE,GAAWp4B,GAvDjB,SAAAngB,GACC,SAAAw4C,EAAYv4C,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAwuD,IAClBhnD,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAqnE,GAAA5mD,KAAA5H,KAAMiW,KACD3vB,MAAQ,CACZikD,aAAa,GAHI/iC,EADpB,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAAqnE,EAAAx4C,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAqnE,EAAA,EAAAr0D,IAAA,SAAAxJ,MAAA,WAYU,IAAA8pB,EACqBza,KAAKiW,MAA1BviB,EADA+mB,EACA/mB,KAAMzM,EADNwzB,EACMxzB,EAAMkM,EADZhM,OAAAiM,GAAA,EAAAjM,CAAAszB,EAAA,cAGR,OAAK/mB,EAGJ0jB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAC6nC,GAAD,CACCxrD,KAAMA,EACNzM,EAAGA,EACHioB,IAAKxb,EAAK+6D,MACVzQ,eACC5mC,EAAApxB,EAAAqxB,cAAC48B,GAAD9sD,OAAA8yB,OAAA,GACK9mB,EADL,CAECm9C,QAAS58C,EAAK49C,UACdrqD,EAAGA,EACHyrD,UAAW,uBAbEt7B,EAAApxB,EAAAqxB,cAAA,4BAfpBm3C,EAAA,CAA0B91C,cAwDXpO,eAdf,SAAyBhkB,EAAO2vB,GAC/B,MAAO,CACNqgB,SAAUpgC,UACVM,SAAU,WAIZ,SAA4BmiB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAKxBrO,CAGbwP,EAAUy0C,0BClDNG,GAAazgE,oCACb0gE,GAAYz/C,KAAIuF,MAAMi6C,IACtBE,GAAM,GAAAv1D,OAAMs1D,GAAU5hB,SAAhB,MAAA1zC,OAA6Bs1D,GAAU3hB,MAE7C6hB,GAAgB,yGAAAx1D,OAC4Bu1D,GAD5B,2NAYhBE,GAAkB,SAAAjoE,GAAgD,IAA7CI,EAA6CJ,EAA7CI,EAAGqB,EAA0CzB,EAA1CyB,QAA0CymE,EAAAloE,EAAjCmoE,YAAiC,IAAAD,EAA1B,GAA0BA,EAAtBj4C,EAAsBjwB,EAAtBiwB,QAASm4C,EAAapoE,EAAbooE,OAClDphE,EAAiCmhE,EAAjCnhE,GAAIsC,EAA6B6+D,EAA7B7+D,KAAMohD,EAAuByd,EAAvBzd,KAAMn4C,EAAiB41D,EAAjB51D,aAClB5L,EAAelF,EAAQK,SAAStB,QAElC+mD,EAAQj+C,EAAKjH,MAAM,KAAK,GAAGA,MAAM,KACrCklD,EAAQ,CACPx0B,MAAOw0B,EAAM,GACbluB,OAAQkuB,EAAM,IAGf,IAAMn+B,EAAU,CACfi/C,cAAe1hE,EACf2hE,kBAAmB1nE,eACnB2nE,gBAAiBj/D,EACjBk/D,WAAW,EACX/d,UAAWC,GAAQ,GAEnB33B,MAAOw0B,EAAMx0B,MACbsG,OAAQkuB,EAAMluB,OACd7nB,iBAAkB,IAClB2+C,kBAAmB,IACnB59C,eACAk2D,WAAYzhE,GAGTpB,EAAQ8iE,mBAAmBt+C,KAAKC,UAAU,CAAEjB,aAI5Cu/C,EACH,sBAAAn2D,OAHSq1D,GAAajiE,EAGtB,mBAAA4M,OAEW+0C,EAAMx0B,MAFjB,oBAAAvgB,OAGY+0C,EAAMluB,OAHlB,kFAAA7mB,OAOYw1D,GAPZ,oBAWD,OACCz3C,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ24C,kBACtBxoE,EAAE,oBACHmwB,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CACCE,MAAM,UACNC,QAAS,WACRo3C,KAAKF,GACLP,GAAUA,MAGX73C,EAAApxB,EAAAqxB,cAAC4kC,GAAAj2D,EAAD,QAGFoxB,EAAApxB,EAAAqxB,cAACkjB,GAAA,EAAD,KACCnjB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ64C,iBAAkBH,KAE1CvhE,IAWS2hE,GAAb,SAAA55C,GACC,SAAA45C,EAAY35C,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA4vD,IAClBpoD,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAyoE,GAAAhoD,KAAA5H,KAAMiW,KAQP45C,8BAAgC,WAC/B,IAAMz5C,EAAS5O,EAAKlhB,MAAMwpE,gBAC1BtoD,EAAK2O,SAAS,CAAE25C,iBAAkB15C,KAXhB5O,EAcnBs7C,gBAAkB,SAAC3mC,EAAO/f,GACzBoL,EAAK2O,SAAS,CAAE4sC,SAAU3mD,GAAS,WAC9BoL,EAAKuoD,UAAUt1D,SAClB+M,EAAKuoD,UAAUt1D,QAAQu1D,eAAe,CACrCC,SAAU,SACVC,MAAO,aAjBV1oD,EAAKlhB,MAAQ,CACZwpE,iBAAiB,EACjB/M,SAAU,GAEXv7C,EAAKuoD,UAAYlzC,IAAMszC,YANL3oD,EADpB,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAAyoE,EAAA55C,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAyoE,EAAA,EAAAz1D,IAAA,SAAAxJ,MAAA,WA0BU,IAAAkmB,EAAA7W,KAAAya,EACyDza,KAAKiW,MAA9DhvB,EADAwzB,EACAxzB,EAAG6vB,EADH2D,EACG3D,QAASuhB,EADZ5d,EACY4d,OAAQ3kC,EADpB+mB,EACoB/mB,KAAMpL,EAD1BmyB,EAC0BnyB,QAASkO,EADnCikB,EACmCjkB,SAAarD,EADhDhM,OAAAiM,GAAA,EAAAjM,CAAAszB,EAAA,sDAEAsoC,EAAa/iD,KAAK1Z,MAAlBy8D,SAER,OACC3rC,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAC6nC,GAAD/3D,OAAA8yB,OAAA,CACCvmB,KAAMA,EACN8C,SAAUA,EACVvP,EAAGA,EACHioB,IAAKxb,EAAK+6D,MACV9zB,YAAatC,EACb2lB,eAAgB,MACZ7qD,IAELikB,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACqR,GAAA,EAAD,CAAQ9J,SAAS,SAASvG,MAAM,WAC/BjB,EAAApxB,EAAAqxB,cAAC8K,GAAA,EAAD,CACCxxB,MAAOoyD,EACP3gC,SAAUpiB,KAAK8iD,gBAAgBzoC,KAAKra,MACpC2c,IAAK3c,KAAK+vD,UACV7M,cAAc,OACd7gC,eAAe,UACfC,UAAU,WAEVlL,EAAApxB,EAAAqxB,cAACmL,GAAA,EAAD,CAAK5mB,MAAO3U,EAAE,mBAKhBmwB,EAAApxB,EAAAqxB,cAAA,OAAK2G,MAAO,CAAEqT,UAAW,KACV,IAAb0xB,GACA3rC,EAAApxB,EAAAqxB,cAAC+4C,GAAD,CACCt5C,QAASA,EACT7vB,EAAGA,EACHqB,QAASA,EACT0mE,KAAMt7D,EACNu7D,OAAQ,kBACPp4C,EAAKZ,MAAMxd,QAAQ43D,SAAS,CAC3BlgE,KAAM,SACNyL,MAAO3U,EAAE,uBACTwwB,QAAS,gBAnEnBm4C,EAAA,CAA0Bl3C,aA2G1B,IAAM43C,GAAWn6B,GAAQtd,YCpNH,SAAAC,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACN02C,iBAAkB,CACjB9qC,aAAc5L,EACdV,MAAOS,EAAMwH,QAAQhR,KAAKmV,KAC1BhL,QAAS,OACT2F,cAAe,MACf1F,WAAY,SACZmG,eAAgB,iBAEjB8vC,gBAAiB,CAChB3O,WAAY,WACZrnC,UAAW,aACX8G,QAAS1H,EACTK,OAAQ,EACRm3C,UAAW,gBDoMW13C,CAAmB+2C,KAC7BtlD,eAtBf,SAAyBhkB,GAGxB,MAAO,CACNgC,QAHmBhC,EAAZE,QAGU8B,QACjBguC,SAAUlgC,UACVI,SAAU,SAEVsjC,mBAAoB,uBACpBD,eAAgB,wBAChBG,gBAAiB,mBACjBD,gBAAgB,IAIlB,SAA4BphB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAKxBrO,CAGbgmD,IEvGaE,GAjGc,WAAkC,IAAA3pE,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAxB0/C,EAA+B9+C,EAA/B8+C,QAASrT,EAAsBzrC,EAAtByrC,WAChCx2B,EAAWke,YAAYpyB,MAAvBkU,OACmCjD,EAAQmhB,YAClD9vB,KADO2Z,kCAFsD4sD,EAMrBz2C,YAAY,SAAA1zB,GAAK,OACzDmP,aAAyBnP,EAAOq/C,KADzB+qB,EANsDD,EAMtDC,iBAAkBC,EANoCF,EAMpCE,WAIpB/8B,EAAU5Z,YAAY,SAAA1zB,GAAK,OAAIsH,aAAkBtH,EAAOgsC,KAVAs+B,EAYD52C,YAC5D,SAAA1zB,GAAK,OAAIkP,aAAsBlP,EAAOgsC,IAAe,KAD5Bu+B,EAZoCD,EAYtDF,iBAAyCI,EAZaF,EAYzBD,WAIrC,OACCv5C,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,WACE,IACApwB,aAAE,4DAA6D,CAC/DqI,KAAM,CAACuJ,EAAKiD,MAGdsb,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC7c,SAAU4C,EACVzjC,KAAK,OACL4hC,UAAQ,EACR+G,WAAS,EACTl9B,MAAO3U,aAAE,eACTgR,KAAK,aACLtH,MAAOggE,GAAc,GAErBvuC,SAAU,SAAAlB,GAAE,OACXC,YACC4vC,aAAqB,CACpBpjD,GAAIg4B,EACJxrC,IAAK,aACLxJ,MAAOuwB,EAAG1D,OAAO7sB,UAIpB+Y,MAAOonD,KAAaA,EAAQ3+B,MAC5BmZ,WAAYwlB,GAAaA,EAAQ3+B,MAAQ2+B,EAAQnhC,OAAS,KAE1DiE,EAAUxc,EAAApxB,EAAAqxB,cAAC80B,GAAD,MAAmB,KAC9B/0B,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC19C,KAAK,OACL2oC,WAAS,EACT/G,UAAQ,EACRn2B,MAAO3U,aAAE,sBACTgR,KAAK,mBACLtH,MAAO+/D,GAAoB,GAC3BtuC,SAAU,SAAAlB,GAAE,OACXC,YACC4vC,aAAqB,CACpBpjD,GAAIg4B,EACJxrC,IAAK,mBACLxJ,MAAOuwB,EAAG1D,OAAO7sB,UAIpB+Y,MAAOmnD,KAAeA,EAAU1+B,MAChCmZ,WACCl0B,EAAApxB,EAAAqxB,cAAA,YACCD,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCwQ,KAAK,QACLrT,QAAS,WACR6I,YACC4vC,aAAqB,CACpBpjD,GAAIg4B,EACJxrC,IAAK,mBACLxJ,MAAOkI,OAKT5R,aAAE,yBAA0B,CAC5BqI,KAAM,CAACuJ,EAAKiD,MAGdsb,EAAApxB,EAAAqxB,cAAA,YACEw5C,GAAeA,EAAU1+B,MAAQ0+B,EAAUlhC,OAAS,SCvF7C,SAASqhC,GAAkBj3C,GAAW,IAE9Ck3C,EAF8C,SAAAj7C,GAAA,SAAAi7C,IAAA,IAAAv1C,EAAAlU,EAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAixD,GAAA,QAAAt1C,EAAA11B,UAAAC,OAAAoJ,EAAA,IAAAssB,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAvsB,EAAAusB,GAAA51B,UAAA41B,GAAA,OAAArU,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,MAAA0b,EAAAv0B,OAAAwgB,EAAA,EAAAxgB,CAAA8pE,IAAArpD,KAAA9O,MAAA4iB,EAAA,CAAA1b,MAAA3G,OAAA/J,MAOnD2xB,aAAe,SAAChpB,EAAMtH,GAAU,IAAA8pB,EACLjT,EAAKyO,MAAvBxd,EADuBgiB,EACvBhiB,QAASy4D,EADcz2C,EACdy2C,KACjBz4D,EAAQs4D,qBAAqB,CAAEpjD,GAAIujD,EAAM/2D,IAAKlC,EAAMtH,MAAOA,KATT6W,EAmBnDw/B,OAAS,SAACtyB,EAAK/G,EAAIwjD,GAAY,IACtB5mB,EAAgB/iC,EAAKyO,MAArBs0B,YAEJA,GACHA,IAGD/iC,EAAK4pD,oBA1B6C5pD,EA6BnD4pD,iBAAmB,WAAM,IAAA90C,EACE9U,EAAKyO,MAAvBxd,EADgB6jB,EAChB7jB,QAASy4D,EADO50C,EACP40C,KACjBz4D,EAAQ44D,oBAAoB,CAAE1jD,GAAIujD,KA/BgB1pD,EAkCnD8pD,cAAgB,SAAAzqE,GAAkB,IAAf6tB,EAAe7tB,EAAf6tB,IAAKjR,EAAU5c,EAAV4c,IAAUgpB,EACVjlB,EAAKyO,MAApBhvB,EADyBwlC,EACzBxlC,EAAGwR,EADsBg0B,EACtBh0B,QAGPic,GACHjc,EAAQ43D,SAAS,CAChBlgE,KAAM,SACNyL,MAAO3U,EAAE,kBAAmB,CAAEqI,KAAM,CAACswD,KAAO2R,UAAU78C,MACtD+C,QAAS,MAIXjQ,EAAKw/B,OAAOtyB,EAAKjR,EAAKmY,MAAMwjC,QAAQ37C,KA9Cc+D,EAiDnDssB,KAAO,WACNtsB,EAAKyZ,aAAa,0BAA0B,GAC5CzZ,EAAKyO,MACHu7C,OAAO,CACPC,IAAKjqD,EAAKyO,MAAM3tB,QAChB8gB,YAAa5B,EAAKyO,MAAM7M,cAExB5F,KAAK,WAAc,IAAbC,EAAaxd,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACZ6uB,QAAQ48C,IAAI,cAAejuD,GAE3B,IAAMkuD,EAAMluD,EAAImuD,WAAanuD,EACvBiR,EAAMjR,EAAIiR,KAAO,KAEvBlN,EAAK8pD,cAAc,CAAE58C,IAAKA,EAAKjR,IAAKkuD,MAEpCjuD,MAAM,WAAgB,IAAfgG,EAAezjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACf6uB,QAAQ48C,IAAI,cAAehoD,GAC3B,IAAMjG,EAAMiG,EAAMkoD,WAAa,KACzBl9C,EAAMhL,EAAMgL,KAAOhL,EAEzBlC,EAAK8pD,cAAc,CAAE58C,IAAKA,EAAKjR,IAAKA,OArEY+D,EAyEnDmO,OAAS,WAERnO,EAAKw/B,OAAO,KAAM,OA3EgCx/B,EAAA,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAA8pE,EAAAj7C,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAA8pE,EAAA,EAAA92D,IAAA,qBAAAxJ,MAAA,eAAAwJ,IAAA,SAAAxJ,MAAA,WA+ElD,IAAIyY,EAAcpJ,KAAKiW,MAAM7M,aAAe,GACxC6M,EAAQjW,KAAKiW,MAEjB,OACCmB,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GACKhE,EADL,CAEC7M,YAAaA,EACb0qB,KAAM9zB,KAAK8zB,KACXne,OAAQ3V,KAAK2V,OACbsL,aAAcjhB,KAAKihB,aACnBmwC,iBAAkBpxD,KAAKoxD,wBAzFyBH,EAAA,CAEvBv4C,aAyH7B,OAAOpO,YAlBP,SAAyBhkB,EAAO2vB,GAAO,IAC9BzvB,EAAoBF,EAApBE,QAASwF,EAAW1F,EAAX0F,OACXklE,EAAOj7C,EAAM0vB,QAEnB,MAAO,CACNr9C,QAAS9B,EAAQ8B,QACjB8gB,YAAapd,EAAO0J,gBAAgBw7D,IAAS,GAC7CA,KAAMA,EACNt9B,QAAS5nC,EAAOqB,SAAS6jE,KAI3B,SAA4Bv4C,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIhCrO,CAGLwP,EAAUm3C,ICqDb,IAAMY,GAAmCb,8MAzJxClS,eAAiB,SAACgT,EAAQ3/B,GACzB,IAAIH,EAAUhf,aAAe8+C,GAG7BtqD,EAAKyO,MAAMub,SAAS,mBAAoB,CACvCQ,QAASA,EACTtd,IAAK,CAAErB,IAJE,4BAKT8e,MAAOA,wFAhCW,IAAA1X,EACeza,KAAKiW,MAA/Bub,EADW/W,EACX+W,SAAUpoB,EADCqR,EACDrR,YAEbA,EAAYsnD,kBAChBl/B,EAAS,mBAAoB,CAC5BQ,SAAS,EACTG,OAAO,IAGJ/oB,EAAYunD,YAChBn/B,EAAS,aAAc,CACtBQ,SAAS,EACTtd,IAAK,CAAErB,IAAK,sBACZ8e,OAAO,IAGJ/oB,EAAY2oD,cAChBvgC,EAAS,eAAgB,CACxBQ,SAAS,EACTtd,IAAK,CAAErB,IAAK,sBACZ8e,OAAO,qCAgBD,IAAAtb,EAAA7W,KAAAsc,EAUJtc,KAAKiW,MARRxd,EAFO6jB,EAEP7jB,QACA+4B,EAHOlV,EAGPkV,SACApoB,EAJOkT,EAIPlT,YACAniB,EALOq1B,EAKPr1B,EACA2rC,EANOtW,EAMPsW,cACA3R,EAPO3E,EAOP2E,aACA+wC,EARO11C,EAQP01C,kBACAC,EATO31C,EASP21C,kBATOprE,EAiBJuiB,GAAe,GALlBunD,EAZO9pE,EAYP8pE,WACAD,EAbO7pE,EAaP6pE,iBACAqB,EAdOlrE,EAcPkrE,aACAG,EAfOrrE,EAePqrE,aACAC,EAhBOtrE,EAgBPsrE,cAEKtB,EAAYj+B,EAAa,iBACzBk+B,EAAUl+B,EAAa,WACvBw/B,EAAWx/B,EAAa,aAC9B,OACCxb,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC7c,SAAUihC,EACV9hE,KAAK,OACL4hC,UAAQ,EACR+G,WAAS,EACTl9B,MAAO3U,EAAE,0BACTgR,KAAK,eACLtH,MAAOohE,GAAgB,GACvB3vC,SAAU,SAAAlB,GAAE,OAAID,EAAa,eAAgBC,EAAG1D,OAAO7sB,QACvDwoC,OAAQ,kBACP1gC,EAAQ45D,gBAAgB,CACvBxgD,KAAMkgD,EACN5/B,OAAO,EACPX,WACAv5B,KAAM,kBAGRmhC,QAAS,kBACR3gC,EAAQ45D,gBAAgB,CACvBxgD,KAAMkgD,EACN5/B,OAAO,EACPX,WACAv5B,KAAM,kBAGRyR,MAAO0oD,KAAcA,EAASjgC,MAC9BmZ,WAAY8mB,GAAcA,EAASjgC,MAAQigC,EAASziC,OAAS,KAG9DvY,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC19C,KAAK,OACL2oC,WAAS,EACT/G,UAAQ,EACRn2B,MAAO3U,EAAE,+BACTgR,KAAK,gBACLtH,MAAOwhE,GAAiB,GACxB/vC,SAAU,SAAAlB,GAAE,OAAID,EAAa,gBAAiBC,EAAG1D,OAAO7sB,UAEzDymB,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC7c,SAAUghC,EACV7hE,KAAK,OACL4hC,UAAQ,EACR+G,WAAS,EACTl9B,MAAO3U,EAAE,eACTgR,KAAK,aACLtH,MAAOggE,GAAc,GACrBvuC,SAAU,SAAAlB,GAAE,OAAID,EAAa,aAAcC,EAAG1D,OAAO7sB,QACrDwoC,OAAQ,kBACP1gC,EAAQ45D,gBAAgB,CACvBxgD,KAAM8+C,EACNx+B,OAAO,EACPX,WACAv5B,KAAM,aACN4b,UAAU,KAGZulB,QAAS,kBACR3gC,EAAQ45D,gBAAgB,CACvBxgD,KAAM8+C,EACNx+B,OAAO,EACPX,WACAv5B,KAAM,aACN4b,UAAU,KAGZnK,MAAOonD,KAAaA,EAAQ3+B,MAC5BmZ,WAAYwlB,GAAaA,EAAQ3+B,MAAQ2+B,EAAQnhC,OAAS,KAE1DqiC,EAAoB56C,EAAApxB,EAAAqxB,cAAC80B,GAAD,MAAmB,KACxC/0B,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC19C,KAAK,OACL2oC,WAAS,EACT/G,UAAQ,EACRn2B,MAAO3U,EAAE,6BACTgR,KAAK,mBACLtH,MAAO+/D,GAAoB,GAC3BtuC,SAAU,SAAAlB,GAAE,OAAID,EAAa,mBAAoBC,EAAG1D,OAAO7sB,QAC3DwoC,OAAQ,kBAAMtiB,EAAKioC,eAAe4R,GAAkB,IACpDt3B,QAAS,kBAAMviB,EAAKioC,eAAe4R,GAAkB,IACrDhnD,MAAOmnD,KAAeA,EAAU1+B,MAChCmZ,WACCulB,GAAeA,EAAU1+B,MACtB0+B,EAAUlhC,OACV1oC,EAAE,yBAA0B,CAC5BqI,KAAM,CAAC4iE,eAhJ2Bx5C,cAsL5BpO,eApBf,SAAyBhkB,EAAO2vB,GAE/B,IAAMjqB,EAAS1F,EAAM0F,OAErB,MAAO,CACNklE,KAFYj7C,EAAM0vB,QAGlBqsB,kBAAmBhmE,EAAOqB,SAAP,WACnB4kE,kBAAmBjmE,EAAOqB,SAAP,eAIrB,SAA4BsrB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAOxBrO,CAGbunD,ICtLM7zD,GAA2BjC,aAA3BiC,uBAEFs0D,GAAkBnrE,OAAOuJ,OAAOsN,IAAwBrW,IAAI,SAAAgJ,GACjE,MAAO,CACNA,QACAiL,MAAO3U,aAAC,QAAAoS,OAAS1I,EAAT,WACRklB,KAAM5uB,aAAC,QAAAoS,OAAS1I,EAAT,aAgHM4hE,OA5Gf,WAA0D,IAAA1rE,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAxB0/C,EAA4B9+C,EAA5B8+C,QAASrT,EAAmBzrC,EAAnByrC,WAAmB6Q,EACGnpB,YAC3D,SAAA1zB,GAAK,OAAImP,aAAyBnP,EAAOq/C,KADlC6sB,EADiDrvB,EACjDqvB,QAASC,EADwCtvB,EACxCsvB,UAAWC,EAD6BvvB,EAC7BuvB,gBAAiBC,EADYxvB,EACZwvB,WADYjS,EASrD1mC,YAAY,SAAA1zB,GAAK,OAAIkP,aAAsBlP,EAAOgsC,IAAe,KAH3Dw+B,EAN+CpQ,EAMxD8R,QACgB/8C,EAPwCirC,EAOxDkS,eACWC,EAR6CnS,EAQxD+R,UAGD,OACCr7C,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,eAAOpwB,aAAE,qCACTmwB,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC19C,KAAK,OACL4hC,UAAQ,EACR+G,WAAS,EACTl9B,MAAO3U,aAAE,0BACTgR,KAAK,UACLtH,MAAO6hE,GAAW,GAClBpwC,SAAU,SAAAlB,GAAE,OACXC,YACC4vC,aAAqB,CACpBpjD,GAAIg4B,EACJxrC,IAAK,UACLxJ,MAAOuwB,EAAG1D,OAAO7sB,UAIpB+Y,MAAOonD,KAAaA,EAAQ3+B,MAC5BmZ,WAAYwlB,GAAaA,EAAQ3+B,MAAQ2+B,EAAQnhC,OAAS,KAE3DvY,EAAApxB,EAAAqxB,cAAC62B,GAAD,CACCnc,UAAQ,EACRn2B,MAAO3U,aAAE,qBAETm7B,SAAU,SAAApzB,GAAG,OACZmyB,YACC4vC,aAAqB,CACpBpjD,GAAIg4B,EACJxrC,IAAK,YACLxJ,MAAO3B,MAIVqN,OAAQi2D,GACR3hE,MAA4B,kBAAd8hE,EAAyBA,EAAY,GACnDtnB,OAAO,kBACPrS,WAAS,EACTpvB,MAAOmpD,KAAgBA,EAAW1gC,MAClCmZ,WACCunB,GAAgBA,EAAW1gC,MACxB0gC,EAAWljC,OACX1oC,aAAE,kCAGPmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKqP,UAAW,GACfja,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,UAAU9I,QAAQ,QAAQ6L,cAAY,GACxDr+B,aAAE,yBADJ,KAGCqrE,GAAgB3qE,IAAI,SAAAomC,GAAC,OACrB3W,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CACClrB,IAAK4zB,EAAEp9B,MACP4xB,QAAQ,UACR9I,QAAQ,QACR6L,cAAY,GAEZlO,EAAApxB,EAAAqxB,cAAA,cAAS0W,EAAEnyB,MAAX,KAND,IAM8BmyB,EAAElY,QAGjCuB,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,UAAU9I,QAAQ,QAAQ6L,cAAY,GAA1D,KACIr+B,aAAE,sBAGLwuB,GAAWi9C,GAAmBC,IAC/Bv7C,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CAAanvB,MAAO+L,GAAWA,EAAQ0c,MAAOlN,UAAU,YACvD7N,EAAApxB,EAAAqxB,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAApxB,EAAAqxB,cAAC22B,GAAA,EAAD,CACCP,UAAWilB,EACXtwC,SAAU,SAAAlB,GAAE,OACXC,YACC4vC,aAAqB,CACpBpjD,GAAIg4B,EACJxrC,IAAK,kBACLxJ,MAAOuwB,EAAG1D,OAAOiwB,YAIpB98C,MAAM,kBACN0nB,MAAM,YAGRzc,MAAO3U,cAAGwuB,GAAW,IAAIka,QAAUgjC,QCRzC,IAAMG,GAAwB9B,8MAvF7B+B,eAAiB,WACZvrD,EAAKwrD,UAERhoC,aAAaxjB,EAAKwrD,UAEnBxrD,EAAKwrD,SAAWtgD,WAAW,WAC1BlL,EAAKwrD,SAAW,KADgB,IAAAv4C,EAEWjT,EAAKyO,MAAxCxd,EAFwBgiB,EAExBhiB,QAAS2Q,EAFeqR,EAEfrR,YAAaooB,EAFE/W,EAEF+W,SACtByhC,GAAW7pD,GAAe,IAA1B6pD,OACRx6D,EAAQy6D,YAAY,CACnBh/C,IAAK++C,EACL9gC,OAAO,EACPX,WACAv5B,KAAM,YAEL,yFA1BgB,IAAAqkB,EACetc,KAAKiW,MAA/B7M,EADWkT,EACXlT,YAAaooB,EADFlV,EACEkV,SAChBpoB,EAAY+pD,gBAChB3hC,EAAS,SAAU,CAClBQ,SAAS,EACTtd,IAAK,CAAErB,IAAK,sBACZ8e,OAAO,qCAuBD,IAAAtb,EAAA7W,KAAAysB,EAOJzsB,KAAKiW,MALR7M,EAFOqjB,EAEPrjB,YACAniB,EAHOwlC,EAGPxlC,EACA2rC,EAJOnG,EAIPmG,cACA3R,EALOwL,EAKPxL,aACAmyC,EANO3mC,EAMP2mC,cAEOH,GAAW7pD,GAAe,IAA1B6pD,OAEFnC,EAAUl+B,EAAa,OAC7B,OACCxb,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAA,eAAOpwB,EAAE,sBACTmwB,EAAApxB,EAAAqxB,cAAA,QAAMg8C,YAAU,GACfj8C,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACCzyB,WAAS,EACTjrB,KAAK,OACL4hC,UAAQ,EACR+G,WAAS,EACTl9B,MAAO3U,EAAE,sBACTgR,KAAK,SACLtH,MAAOsiE,GAAU,GACjB7wC,SAAU,SAAAlB,GACTD,EAAa,SAAUC,EAAG1D,OAAO7sB,MAAMuW,eACvC2P,EAAKk8C,kBAENpd,WAAY,CACXtc,aACCjiB,EAAApxB,EAAAqxB,cAACiiB,GAAA,EAAD,CAAgB1a,SAAS,OAAzB,IAAAvlB,OACMpL,cAIRyb,MAAOonD,KAAaA,EAAQ3+B,MAC5BmZ,WAAYwlB,GAAaA,EAAQ3+B,MAAQ2+B,EAAQnhC,OAAS,KAE1DyjC,EAAgBh8C,EAAApxB,EAAAqxB,cAAC80B,GAAD,MAAmB,cAnETzzB,cAoGjBpO,eAjBf,SAAyBhkB,EAAO2vB,GAE/B,IAAMjqB,EAAS1F,EAAM0F,OAErB,MAAO,CACNklE,KAFYj7C,EAAM0vB,QAGlBytB,cAAepnE,EAAOqB,SAAP,SAIjB,SAA4BsrB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAKxBrO,CAGbwoD,IC3GWQ,IAFWv3D,aAAUgC,WAAWhC,aAAUiC,wBAEhB,SAAAnX,GAAA,IACtCI,EADsCJ,EACtCI,EACA0pE,EAFsC9pE,EAEtC8pE,WACA75C,EAHsCjwB,EAGtCiwB,QACAy8C,EAJsC1sE,EAItC0sE,SACA7C,EALsC7pE,EAKtC6pE,iBACA50D,EANsCjV,EAMtCiV,OANsC,OAQtCsb,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAI,aACJ4kB,KAAM93B,EAAE,aAAc,CAAEmI,QAAQ,IAChC4vB,OAAQ2xC,GAAc,IAAIvuD,aAE3BgV,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAI,mBACJ4kB,KAAM93B,EAAE,mBAAoB,CAAEmI,QAAQ,IACtC4vB,MACC5H,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQzvB,QACnBq8B,UAAWz8B,EAAE,uBAAwB,CACpCqI,KAAM,CAACikE,EAASC,KAAM13D,EAAQy3D,EAASE,MAAO33D,KAE/C8pB,QAAO,GAAAvsB,OAAKq3D,EAAL,KAAAr3D,OAAyByC,UAOxB43D,GAAsB,SAAAnsE,GAAA,IAClCN,EADkCM,EAClCN,EACAurE,EAFkCjrE,EAElCirE,QACA17C,EAHkCvvB,EAGlCuvB,QACAy8C,EAJkChsE,EAIlCgsE,SACAd,EALkClrE,EAKlCkrE,UACA32D,EANkCvU,EAMlCuU,OANkC,OAQlCsb,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAI,UACJ4kB,KAAM93B,EAAE,UAAW,CAAEmI,QAAQ,IAC7B4vB,OAAQwzC,GAAW,IAAIpwD,aAExBgV,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAI,YACJ4kB,KAAM93B,EAAE,YAAa,CAAEmI,QAAQ,IAC/B4vB,MACC5H,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQzvB,QACnBq8B,UAAWz8B,EAAE,2BAA4B,CACxCqI,KAAM,CAACikE,EAASC,KAAM13D,KAEvB8pB,QAAS3+B,EAAC,QAAAoS,OAASo5D,EAAT,iBAOFkB,GAAgB,SAAAjsE,GAAA,IAC5BT,EAD4BS,EAC5BT,EACAgsE,EAF4BvrE,EAE5BurE,OACA5rE,EAH4BK,EAG5BL,QACAyvB,EAJ4BpvB,EAI5BovB,QACAy8C,EAL4B7rE,EAK5B6rE,SACAz3D,EAN4BpU,EAM5BoU,OAN4B,OAQ5Bsb,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAI,OACJ4kB,KAAM93B,EAAE,sBACR+3B,OAAQ33B,GAAW,IAAI+a,aAExBgV,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAI,SACJ4kB,KAAM93B,EAAE,SAAU,CAAEmI,QAAQ,IAC5B4vB,MACC5H,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQzvB,QACnBq8B,UAAWz8B,EAAE,oBAAqB,CACjCqI,KAAM,CACLikE,EAASC,KACT13D,EAFK,GAAAzC,OAGF45D,EAHE,KAAA55D,OAGQpL,eAGf23B,QAAO,GAAAvsB,OAAK45D,EAAL,KAAA55D,OAAepL,kBAOd2lE,GAA6B,SAAA9rE,GAAA,IACzCb,EADyCa,EACzCb,EACA0pE,EAFyC7oE,EAEzC6oE,WACAoB,EAHyCjqE,EAGzCiqE,aACAj7C,EAJyChvB,EAIzCgvB,QACAy8C,EALyCzrE,EAKzCyrE,SACA7C,EANyC5oE,EAMzC4oE,iBANyC,OAQzCt5C,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAI,aACJ4kB,KAAM93B,EAAE,aAAc,CAAEmI,QAAQ,IAChC4vB,OAAQ2xC,GAAc,IAAIvuD,aAE3BgV,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAI,eACJ4kB,KAAM93B,EAAE,eAAgB,CAAEmI,QAAQ,IAClC4vB,OAAQ+yC,GAAgB,IAAI3vD,aAE7BgV,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAI,mBACJ4kB,KAAM93B,EAAE,mBAAoB,CAAEmI,QAAQ,IACtC4vB,MACC5H,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQzvB,QACnBq8B,UAAWz8B,EAAE,uBAAwB,CACpCqI,KAAM,CAACikE,EAASC,KAAM,GAAID,EAASE,MAAO,MAE3C7tC,QAAS8qC,EAAmB,UChG3BtvC,GAAYC,aCjCI,SAAAvI,GAErB,MAAO,CACNpP,MAAO,CACN2O,MAAOS,EAAMwH,QAAQ5W,MAAM8X,MAE5B/L,QAAS,CACR4C,MAAOS,EAAMwH,QAAQ7K,QAAQo+C,MAE9BC,eAAgB,CACfl1C,SAAU,WACVG,KAAM,mBACN5H,IAAK,qBAEN08B,WAAY,CACX3zB,OAAQ,IACRtG,MAAO,OACPC,SAAU,OACVqI,UAAWpJ,EAAMg7B,QAAQ,ODyK5B,IACeigB,GADgB/C,GAxJ/B,SAA4B/6C,GAC3B,IAAMa,EAAUsK,KAEf4yC,EAKG/9C,EALH+9C,UACA/yC,EAIGhL,EAJHgL,aACAgzC,EAGGh+C,EAHHg+C,kBACAC,EAEGj+C,EAFHi+C,gBACAvuB,EACG1vB,EADH0vB,QAEKurB,EAAOvrB,EACPr9C,EAAU0xB,YAAY3xB,KACpBhB,EAAYiB,EAAQK,SAApBtB,QACAyU,EAAWke,YAAYpyB,MAAvBkU,OACFsN,EAAc4Q,YAAY,SAAA1zB,GAAK,OACpCmP,aAAyBnP,EAAO4qE,KAE3Bt9B,EAAU5Z,YAAY,SAAA1zB,GAAK,OAAIsH,aAAkBtH,EAAO4qE,KAE9DnwB,oBAAU,WACLizB,GAAa7sE,OAAO+S,KAAKkP,GAAaljB,SACzCi7B,YAAQ0W,aAAcq5B,GAAM,IAC5B8C,EAAU,CAAE1rE,UAAS8gB,gBACnB5F,KAAK,SAAA+vD,GACLtyC,EAAa,WAAYsyC,GAIzBpyC,YAAQ0W,aAAcq5B,GAAM,IAExBl9D,WAAWu/D,EAASC,MAAQ,GAAKx/D,WAAWigE,IAC/ChzC,EAAa,SAAU,CACtBh6B,aAAE,gCAAiC,CAClCqI,KAAM,CAAC2kE,EAAmBn4D,EAAQy3D,EAASC,KAAM13D,SAKpD4H,MAAM,SAAAgR,GACNI,QAAQpL,MAAMgL,GACdyM,YAAQ0W,aAAcq5B,GAAM,IAC5BjwC,EAAa,SAAU,CAAC2+B,KAAO2R,UAAU78C,SAI1C,IA5C+B,IA+CjCi8C,EASGvnD,EATHunD,WAEAD,GAOGtnD,EARH+pD,eAQG/pD,EAPHsnD,kBACA8B,EAMGppD,EANHopD,QACAS,EAKG7pD,EALH6pD,OACAR,EAIGrpD,EAJHqpD,UACAV,EAGG3oD,EAHH2oD,aArDiCoC,EAwD9B/qD,EAFHmqD,gBAtDiC,IAAAY,EAsDtB,GAtDsBA,EAAAC,EAwD9BhrD,EADHirD,cAvDiC,IAAAD,EAuDxB,GAvDwBA,EA0DlC,OACCh9C,EAAApxB,EAAAqxB,cAAA,WACEuc,EACAxc,EAAApxB,EAAAqxB,cAACk8B,GAAD,MAEAn8B,EAAApxB,EAAAqxB,cAAC67B,GAAD,KACE9pC,EAAYkrD,uBACZl9C,EAAApxB,EAAAqxB,cAAC+7B,GAAD,KACCh8B,EAAApxB,EAAAqxB,cAACqhC,GAAD,CAAczxD,EAAGA,KAAG4B,SAAUP,EAAQI,OAAOG,YAE3C,KACJuuB,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACEkhB,EAAOnuE,OACLmuE,EAAO1sE,IAAI,SAAC+sB,EAAKtY,GAAN,OACXgb,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAKiC,EACL02C,cAAeh8B,EAAQpN,MACvBqpC,eAAgBj8B,EAAQpN,MACxBqV,KAAM3H,EAAApxB,EAAAqxB,cAACovB,EAAAzgD,EAAD,MACNg5B,MAAOtK,MAGR,KAEFw/C,EACEA,EAAgBvsE,IAAI,SAAC0rB,EAAKjX,GAAN,OACpBgb,EAAApxB,EAAAqxB,cAACw7B,GAAD,CACC14C,IAAKiC,EACL02C,cAAeh8B,EAAQrB,QACvBs9B,eAAgBj8B,EAAQrB,QACxBsJ,KAAM3H,EAAApxB,EAAAqxB,cAAC0mB,EAAA/3C,EAAD,MACNg5B,MAAO/3B,aAAEosB,EAAIA,IAAK,CAAE/jB,KAAM+jB,EAAI/jB,WAG/B,KAEU,yBAAZq2C,GACAvuB,EAAApxB,EAAAqxB,cAACk9C,GAAD,CACCttE,EAAGA,KACH0pE,WAAYA,EACZ75C,QAASA,EACTy8C,SAAUA,EACV7C,iBAAkBA,EAClB50D,OAAQA,IAIG,yBAAZ6pC,GACAvuB,EAAApxB,EAAAqxB,cAACm9C,GAAD,CACCvtE,EAAGA,KACHurE,QAASA,EACT17C,QAASA,EACTy8C,SAAUA,EACVd,UAAWA,EACX32D,OAAQA,IAIG,4BAAZ6pC,GACAvuB,EAAApxB,EAAAqxB,cAACo9C,GAAD,CACCxtE,EAAGA,KACH0pE,WAAYA,EACZ75C,QAASA,EACTy8C,SAAUA,EACV7C,iBAAkBA,EAClBqB,aAAcA,EACdj2D,OAAQA,IAIG,WAAZ6pC,GACAvuB,EAAApxB,EAAAqxB,cAACq9C,GAAD,CACCztE,EAAGA,KACHurE,QAASA,EACT17C,QAASA,EACTy8C,SAAUA,EACVlsE,QAASA,EACTyU,OAAQA,EACRm3D,OAAQA,kBE9IV0B,GAAsBrrB,GAAWxC,IAuCjC8tB,GAAW,CAChBjhC,QAJ8Bs9B,GAlCf,SAAApqE,GASV,IARLitC,EAQKjtC,EARLitC,KACAinB,EAOKl0D,EAPLk0D,aACAC,EAMKn0D,EANLm0D,YACA/zD,EAKKJ,EALLI,EACAmiB,EAIKviB,EAJLuiB,YAEAwqB,GAEK/sC,EAHLytE,uBAGKztE,EAFL+sC,SAEKzsC,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,4FACL,OACCuwB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC9C,MAAM,UACNC,QAASwb,EACT9C,WACI5nB,EAAYirD,UAAYjrD,EAAYirD,OAAOnuE,UAC5CkjB,EAAYkrD,0BACZ1gC,GAGFxqB,EAAYkrD,uBACZl9C,EAAApxB,EAAAqxB,cAAC4jC,GAAAj1D,EAAD,MAEAg1D,GAAe,GAEf/zD,EAAE8zD,GAAgB,YAcrBhU,UAJgCkqB,GALf,SAAA1pE,GAA6C,IAA1CouB,EAA0CpuB,EAA1CouB,OAAQk/C,EAAkCttE,EAAlCstE,eAAgB5tE,EAAkBM,EAAlBN,EAAkBE,OAAAiM,GAAA,EAAAjM,CAAAI,EAAA,iCAC9D,OAAO6vB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CAAQ7C,QAAS3C,GAAS1uB,EAAE4tE,GAAkB,aASrD1tB,eAAgB,MAChBqU,kBAAkB,GAGNsZ,GAA4B,SAAA7+C,GAAK,OAC7CmB,EAAApxB,EAAAqxB,cAACs9C,GAADxtE,OAAA8yB,OAAA,GACKhE,EADL,CAEC2zB,SAAS,qCACTmR,aAAa,0CACbzhD,MAAM,uCACNqsC,QAAQ,wBACJivB,GANL,CAOC3tB,WAAY,CACX,CACC3tC,MAAO,sCACPwrC,KAAM0rB,GACN/qB,eAAgB,SAAA/9C,GAAA,IAAGi+C,EAAHj+C,EAAGi+C,QAASrT,EAAZ5qC,EAAY4qC,WAAYH,EAAxBzqC,EAAwByqC,MAAOuT,EAA/Bh+C,EAA+Bg+C,QAAS0W,EAAxC10D,EAAwC00D,UAAxC,OACfj7B,YACC4zC,aAAyB,CACxBpvB,UACArT,aACAH,QACAuT,UACA0W,kBAKLlV,iBAAkB,CACjB5tC,MAAO,sBACPwrC,KAAMkwB,IAEPxD,OAAQ,WAA4D,IAAAyD,GAAAhvE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAlDmjB,YAAesnD,EAA0CuE,EAA1CvE,iBAAkBC,EAAwBsE,EAAxBtE,WAC3C,OAAOxvC,YACN+zC,YAAiB,CAChBxE,mBACAC,qBAOQwE,GAAuB,SAAAl/C,GAAK,OACxCmB,EAAApxB,EAAAqxB,cAACs9C,GAADxtE,OAAA8yB,OAAA,GACKhE,EADL,CAEC2zB,SAAS,qCACTmR,aAAa,0CACbzhD,MAAM,uCACNqsC,QAAQ,wBACJivB,GANL,CAOC3tB,WAAY,CACX,CACC3tC,MAAO,sCACPwrC,KAAMytB,GACN9sB,eAAgB,SAAAx9C,GAAA,IAAG09C,EAAH19C,EAAG09C,QAASrT,EAAZrqC,EAAYqqC,WAAYH,EAAxBlqC,EAAwBkqC,MAAOuT,EAA/Bz9C,EAA+By9C,QAAS0W,EAAxCn0D,EAAwCm0D,UAAxC,OACfj7B,YACCi0C,aAAyB,CACxBzvB,UACArT,aACAH,QACAuT,UACA0W,kBAKLlV,iBAAkB,CACjB5tC,MAAO,sBACPwrC,KAAMkwB,IAEPxD,OAAQ,WAA0B,IAAvBpoD,GAAuBnjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAhBmjB,YACV,OAAO+X,YACNk0C,YAAsB,CACrB5C,UAAWrpD,EAAYqpD,UACvBD,QAASppD,EAAYopD,YAIxBwB,UAAW,WAAmC,IAAAzqE,EAAAtD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAzBmjB,EAAgC7f,EAAhC6f,YAAa9gB,EAAmBiB,EAAnBjB,QAC1B,OAAOgtE,aAAqB,CAC3B7C,UAAWrpD,EAAYqpD,UACvBD,QAASppD,EAAYopD,QACrB+C,aAAa,EACbjtE,iBAMSktE,GAA+B,SAAAv/C,GAAK,OAChDmB,EAAApxB,EAAAqxB,cAACs9C,GAADxtE,OAAA8yB,OAAA,GACKhE,EADL,CAEC2zB,SAAS,yCACTmR,aAAa,0CACbzhD,MAAM,uCACNqsC,QAAQ,2BACJivB,GANL,CAOC3tB,WAAY,CACX,CACC3tC,MAAO,sCACPwrC,KAAM2wB,KAGRvuB,iBAAkB,CACjB5tC,MAAO,sBACPwrC,KAAMkwB,IAEPxD,OAAQ,WAA0B,IAAvBpoD,GAAuBnjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAhBmjB,YACV,OAAO+X,YAAQu0C,YAAoBtsD,KAEpC4qD,UAAW,WAAwC,IAAArqE,EAAA1D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAO0vE,EAAAhsE,EAArCyf,mBAAqC,IAAAusD,EAAvB,GAAuBA,EAAnBrtE,EAAmBqB,EAAnBrB,QAC/B,OAAOstE,aAAgCzuE,OAAAC,GAAA,EAAAD,CAAA,GACnCiiB,EADkC,CAErCmsD,aAAa,EACbjtE,kBAMSutE,GAAgB,SAAA5/C,GAAK,OACjCmB,EAAApxB,EAAAqxB,cAACs9C,GAADxtE,OAAA8yB,OAAA,GACKhE,EADL,CAEC2zB,SAAS,sBACTmR,aAAa,2BACbzhD,MAAM,wBACNqsC,QAAQ,UACJivB,GANL,CAOC3tB,WAAY,CACX,CACC3tC,MAAO,uBACPwrC,KAAMgxB,KAGR5uB,iBAAkB,CACjB5tC,MAAO,sBACPwrC,KAAMkwB,IAEPxD,OAAQ,WAA0B,IAAvBpoD,GAAuBnjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAhBmjB,YACV,OAAO+X,YACN40C,YAAe,CACdC,SAAU5sD,EAAY6pD,WAIzBe,UAAW,WAAsB,IAAnB1rE,GAAmBrC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAZqC,QACb,OAAO2tE,aAAe,CACrB3tE,UACAitE,aAAa,oGChLXW,GAAuBjoE,kCACvBkoE,GAAsBloE,6CACtBmoE,GAAyBnoE,gCACzBooE,GAAwBpoE,6CAExBqoE,GAAc,SAAArgD,GAAK,OACxBmB,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,KACC/L,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACRgb,SAAU,OACVtV,KAAK,IACLU,eAAe,gBACfnG,WAAW,UAEXtC,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCvD,SAAS,IACTa,UAAU,QACV0D,GAAI,EACJyR,SAAU,SACVhb,QAAQ,OACRC,WAAW,SACXmG,eAAe,iBAEfzI,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK7C,KAAK,KAAKlJ,EAAM8I,OAEtB3H,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKvD,SAAS,IAAIa,UAAU,QAC1BrJ,EAAM+I,UAMLoC,GAAYC,aC5EI,SAAAvI,GAErB,MAAO,CACNy9C,UAAW,CACVn9C,OAHcN,EAAMC,QAAQ,IAK7B1xB,QAAS,CACRsgD,SAAU,aACVhuB,UAAW,YACX8E,SAAU,GAEX+3C,aAAc,CACb58C,MAAO,QAER68C,YAAa,CACZj9C,YAAaV,EAAMC,QAAQ,ODsVf29C,OAvRf,WAAuB,IAAAvzB,EACqBnpB,YAAYlxB,MADjC6tE,EAAAxzB,EACdt6C,gBADc,IAAA8tE,EACH,GADGA,EACC3tE,EADDm6C,EACCn6C,MAAO6hB,EADRs4B,EACQt4B,SACxB5G,EAAkB+V,YAAYxwB,KAC9B+Z,EAAayW,YAAY1uB,MACzBsrE,EAAYrzD,EAAa,EACvBzH,EAAWke,YAAYpyB,MAAvBkU,OALc20D,EAUlBz2C,YAAY9vB,KAHf6Z,EAPqB0sD,EAOrB1sD,cACA3G,EARqBqzD,EAQrBrzD,yBACAyG,EATqB4sD,EASrB5sD,kCAGKgzD,EAAkB78C,YAAY,SAAA1zB,GAAK,OACxC2F,YAAuB3F,EAAO2d,KAGzB9V,EAAkB6rB,YAAY9rB,KAhBd44B,EAkBwCC,mBAAS,IAlBjDC,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GAkBfgwC,EAlBe9vC,EAAA,GAkBU+vC,EAlBV/vC,EAAA,GAoBhBgwC,EAAc,eAAAnwE,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,IAAA,IAAA+3D,EAAA5jE,EAAA,OAAAgV,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACJi4D,aAAsB,CAAEluE,QAAO6hB,WAAUhiB,aADrC,QAChBouE,EADgB13D,EAAAC,OAEXy3D,EAAIvuE,SACR2K,EACL,gCACAk8D,mBAAmBt+C,KAAKC,UAAU+lD,IAEnCF,EAA2B1jE,IAPN,wBAAAkM,EAAAO,SAAAZ,MAAH,yBAAArY,EAAAiS,MAAAkH,KAAA/Z,YAAA,GApBEihC,EA+BUH,oBAAS,GA/BnBI,EAAAhgC,OAAA4J,GAAA,EAAA5J,CAAA+/B,EAAA,GA+BfiwC,EA/BehwC,EAAA,GA+BLiwC,EA/BKjwC,EAAA,GAiChBrQ,EAAUsK,KA2BhB,OAzBA2f,oBAAU,WACT5f,YAAQkV,YAAU,WAAYpvC,aAAE,cAC9B,CAACgd,IAEJ88B,oBAAU,WACTi2B,KAEE,IAmBF5/C,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAAC2N,GAAA,EAAD,CAAMlN,UAAWhB,EAAQ0H,MACxBpH,EAAApxB,EAAAqxB,cAAC60B,GAAA,EAAD,KAAgBjlD,aAAE,iBAClBmwB,EAAApxB,EAAAqxB,cAACggD,GAAD,CACCt4C,KACC3H,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKvI,QAAQ,OAAO2F,cAAc,MAAMqV,SAAS,QAChDrd,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAADj+B,OAAA8yB,OAAA,CACCnC,UAAWhB,EAAQzvB,SACdwvE,GAAmB,CACvBjxC,QAASixC,EACTnzC,UAAWzf,IAEN4yD,GAAmB,CACxBjxC,QAAS3hB,EACTyf,UAAWz8B,aAAE,kBAGfmwB,EAAApxB,EAAAqxB,cAACc,EAAA,EAAD,CACCE,MAAM,UACNC,QAAS,WACRo3C,KAAKzrD,GACLkd,YACCkvC,YAAS,CACRlgE,KAAM,SACNyL,MAAO3U,aAAE,uBACTwwB,QAAS,SAKZL,EAAApxB,EAAAqxB,cAAC4kC,GAAAj2D,EAAD,QAIHg5B,QACG/a,GACDmT,EAAApxB,EAAAqxB,cAACigD,GAAD,CACCtmC,UAAW4lC,EACX99B,WAAS,EACTvW,QAAQ,YACRlK,MAAM,UACNna,MAAM,MACNytB,KAAK,QACLsoC,kBAAmBpwD,MAMvBuT,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,MACAnO,EAAApxB,EAAAqxB,cAACggD,GAAD,CACCt4C,KACC3H,EAAApxB,EAAAqxB,cAAC8N,GAAD,CACCrC,SACE1lB,GAAyD,IAA7BA,GAG9Bga,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQzvB,QACnBu+B,QAAO,GAAAvsB,OAAKwK,GAAqC,EAA1C,KAAAxK,OAA+CyC,GACtD4nB,UAAWz8B,aAAE,iDAIhB+3B,MACC5H,EAAApxB,EAAAqxB,cAACD,EAAApxB,EAAM6/B,SAAP,KACCzO,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKu1C,GAAI,GACRngD,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC2d,WAAS,EACTvW,QAAQ,YACRlK,MAAM,YACND,aAAW,SACXE,QAAS,kBAzFS,WACzB,IAAMk/C,EAAS,IAAIC,KAAe,CACjCC,YAAa,cACbC,YAAa,gDACbp1C,QAAS,OACTq1C,UAAW97D,EACX+7D,YAAa5zD,IAEduzD,EAAOM,SAASC,QAAQ/5C,MAAMU,OAAS,IACvC84C,EAAOQ,OAgFeC,IACftsC,KAAK,SAELvU,EAAApxB,EAAAqxB,cAAC6gD,GAAAlyE,EAAD,CAAgB8xB,UAAWhB,EAAQ2/C,cAClCxvE,aAAE,yBAGLmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKu1C,GAAI,GACRngD,EAAApxB,EAAAqxB,cAAC8gD,GAAD,CACCnnC,UAAW4lC,EACX99B,WAAS,EACTvW,QAAQ,YACRlK,MAAM,UACN47C,kBAAmBpwD,EACnBu0D,qBAAsBv0D,EACtB3F,MAAOpC,EACP6vB,KAAK,cAMVvU,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,MACAnO,EAAApxB,EAAAqxB,cAACghD,GAAA,EAAD,CACClB,SAAUA,EACV/0C,SAtGuB,WAC1Bg1C,GAAaD,IAsGVmB,QAAQ,GAERlhD,EAAApxB,EAAAqxB,cAACkhD,GAAA,EAAD,CACCC,WAAYphD,EAAApxB,EAAAqxB,cAAC6R,GAAAljC,EAAD,MACZyyE,gBAAc,mBACd5qE,GAAG,mBAEHupB,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYvN,UAAWhB,EAAQ4hD,SAC7BzxE,aAAE,uCAGLmwB,EAAApxB,EAAAqxB,cAACshD,GAAA,EAAD,KACCvhD,EAAApxB,EAAAqxB,cAAC2N,GAAA,EAAD,CAAMlO,QAAS,CAAE0H,KAAM1H,EAAQ0/C,eAC9Bp/C,EAAApxB,EAAAqxB,cAACggD,GAAD,CACCt4C,KACC3H,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQzvB,QACnBu+B,QAAS6C,aAAc1kB,GACvB2f,UAAWz8B,aAAE,oBAAqB,CACjCqI,KAAM,SAAA+J,OACGxQ,EAASm9B,eADZ,QAAA3sB,OAEGkK,EAFH,UAGL1a,OAKJm2B,MACC83C,GACC1/C,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKu1C,GAAI,EAAG94C,SAAS,KACpBrH,EAAApxB,EAAAqxB,cAAA,SAAO6iB,QAAQ,wBACd9iB,EAAApxB,EAAAqxB,cAAA,KACCxpB,GAAG,uBACH+uB,KAAMk6C,EACN95B,SAAQ,qBAAA3jC,OAAuBrQ,EAAvB,UAERouB,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CAAQwQ,KAAK,QAAQpJ,QAAQ,YAAYuW,WAAS,GACjD1hB,EAAApxB,EAAAqxB,cAACuhD,GAAA5yE,EAAD,CAAc8xB,UAAWhB,EAAQ2/C,cAChCxvE,aAAE,6BAQVmwB,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,MACAnO,EAAApxB,EAAAqxB,cAACggD,GAAD,CACCt4C,KACC3H,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQzvB,QACnBq8B,UAAW,GACXkC,QAAS3+B,aAAE,qBAGb+3B,MACC5H,EAAApxB,EAAAqxB,cAACwhD,GAAD,CACC7nC,UAAW4lC,EACX99B,WAAS,EACTvW,QAAQ,YACRlK,MAAM,YACNsT,KAAK,QACLsoC,kBAAmBpwD,MAItBuT,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,MACAnO,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,KACC/L,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQzvB,QACnBu+B,QAAS3+B,aAAE,sBAAuB,CACjCqI,KAAM,CAAC6mE,MAERzyC,UAAWz8B,aAAE,uBAAwB,CACpCqI,KAAM,CAAC4mE,SAIV9+C,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,KACC/L,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCtN,UAAWhB,EAAQzvB,QACnBu+B,QAAS3+B,aAAE,wBAAyB,CACnCqI,KAAM,CAAC+mE,MAER3yC,UAAWz8B,aAAE,yBAA0B,CACtCqI,KAAM,CAAC8mE,SAIVh/C,EAAApxB,EAAAqxB,cAACkO,GAAA,EAAD,MACCp3B,GACAipB,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,KACC/L,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACRgb,SAAU,OACVtV,KAAK,IACLU,eAAe,gBACfnG,WAAW,UAEXtC,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKvD,SAAS,KACbrH,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKu1C,GAAI,GACRngD,EAAApxB,EAAAqxB,cAACyhD,GAAD,CACChgC,WAAS,EACTvW,QAAQ,YACRlK,MAAM,UACNsT,KAAK,+RE7UZotC,GAA4B13C,aAAW,SAAAvI,GAAK,MAAK,CACtD0F,KAAM,CACL/iB,gBAAiBqd,EAAMwH,QAAQw1B,OAAOC,MACtCr3B,OAAQ,EACR9E,MAAO,SAAA3D,GAAK,OAAIA,EAAM0V,MAAQ,IAC9BzL,OAAQ,SAAAjK,GAAK,OAAIA,EAAM0V,MAAQ,IAC/BlS,QAAS,OACTR,aAAc,MACd4G,eAAgB,SAChBnG,WAAY,SACZV,OAAM,aAAA3f,OAAeyf,EAAMwH,QAAQ8Q,KAAK,MACxC4nC,WAAY,OACZz0C,UAAW,CACVrC,UAAW,+BACX/I,UAAW,qBAGb/C,OAAQ,CACP4C,OAAM,aAAA3f,OlBpBe,UkBoBf,gBAEP4/D,UAAW,CACVjgD,OAAM,aAAA3f,OlBtBiB,YkBwBxB6/D,KAAM,CACLt6C,SAAU,WACVnjB,gBAAiBqd,EAAMwH,QAAQw1B,OAAOC,MACtC5+B,IAAK,OACL6H,MAAO,OACP/F,aAAc,UAIHkgD,GAAoBtgD,YAAW,SAAAC,GAAK,MAAK,CACrD+rB,iBAAkB,CACjB1tB,IAAK,IAENiiD,KAAM,CACLl5C,OAAQ,EACRlH,OAAQ,EACRuH,WAAU,yDAAAlnB,OACTyf,EAAMwH,QAAQ8Q,KAAK,MAEpBioC,eAAc,wBAViBxgD,CAY7BygD,MAEG,SAASC,GAAiBtjD,GAAO,IAAAujD,EACjC1iD,EAAUiiD,GAA0B9iD,GAClCG,EAA4BH,EAA5BG,OAAQ6iD,EAAoBhjD,EAApBgjD,UAAWjhD,EAAS/B,EAAT+B,KAE3B,OACCZ,EAAApxB,EAAAqxB,cAAA2K,GAAA,GACClK,UAAW2hD,aAAK3iD,EAAQ0H,MAATg7C,EAAA,GAAAryE,OAAAsxB,EAAA,EAAAtxB,CAAAqyE,EACb1iD,EAAQmiD,UAAYA,GADP9xE,OAAAsxB,EAAA,EAAAtxB,CAAAqyE,EAEb1iD,EAAQV,OAASA,GAFJojD,IAIfx7C,MAAO,CACN07C,gBAAe,OAAArgE,OAAS2e,EAAT,KACfqhD,eAAgB,UAGhBJ,GAAa7hD,EAAApxB,EAAAqxB,cAAAsiD,GAAA,GAAO7hD,UAAW2hD,aAAK3iD,EAAQoiD,MAAO7gD,MAAM,eChEtD,IAAMuhD,GAAuB,WAGnC,IAFA,IAAMh7B,EAAQ,GAELxpC,EAAI,EAAGA,GAAK,EAAGA,IACvBwpC,EAAMhrC,KAAN,gCAAAyF,OAA2CjE,IAE5C,OAAO+rB,YACN04C,YAAc,KAAM,KAAM,CACzBj/C,aAAc3zB,aAAE,MAChB0zB,YAAa1zB,aAAE,UACfqS,MAAOrS,aAAE,iCACTqoB,KACC8H,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACC9pB,EAAApxB,EAAAqxB,cAAA,UACEunB,EAAMj3C,IAAI,SAAAg3C,GAAI,OACdvnB,EAAApxB,EAAAqxB,cAAA,MAAIoiC,wBAAyB,CAAEC,OAAQzyD,aAAE03C,SAG3CvnB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GACCo0B,wBAAyB,CACxBC,OAAQzyD,aAAE,uCASJ6yE,GAAsB,WAGlC,IAFA,IAAMl7B,EAAQ,GAELxpC,EAAI,EAAGA,GAAK,EAAGA,IACvBwpC,EAAMhrC,KAAN,0BAAAyF,OAAqCjE,IAEtC,OAAO+rB,YACN04C,YAAc,KAAM,KAAM,CACzBj/C,aAAc3zB,aAAE,MAChB0zB,YAAa1zB,aAAE,UACfqS,MAAOrS,aAAE,2BACTqoB,KACC8H,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACC9pB,EAAApxB,EAAAqxB,cAAAgO,GAAA,OAAap+B,aAAE,4BACfmwB,EAAApxB,EAAAqxB,cAAA,UACEunB,EAAMj3C,IAAI,SAAAg3C,GAAI,OACdvnB,EAAApxB,EAAAqxB,cAAA,MAAIoiC,wBAAyB,CAAEC,OAAQzyD,aAAE03C,SAG3CvnB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAYC,cAAY,GACtBr+B,aAAE,8BAA+B,CACjCqI,KAAM,CACL8nB,EAAApxB,EAAAqxB,cAAC0iD,GAAD,CACCn9C,KACC,4GAGA31B,aAAE,aAKPmwB,EAAApxB,EAAAqxB,cAAAgO,GAAA,OAAap+B,aAAE,+BAOP+yE,GAAsB,WAGlC,IAFA,IAAMp7B,EAAQ,GAELxpC,EAAI,EAAGA,GAAK,EAAGA,IACvBwpC,EAAMhrC,KAAN,iCAAAyF,OAA4CjE,IAE7C,OAAO+rB,YACN04C,YAAc,KAAM,KAAM,CACzBj/C,aAAc3zB,aAAE,MAChB0zB,YAAa1zB,aAAE,UACfqS,MAAOrS,aAAE,kCACTqoB,KACC8H,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACC9pB,EAAApxB,EAAAqxB,cAAAgO,GAAA,OAAap+B,aAAE,mCACfmwB,EAAApxB,EAAAqxB,cAAA,UACEunB,EAAMj3C,IAAI,SAAAg3C,GAAI,OACdvnB,EAAApxB,EAAAqxB,cAAA,MAAIoiC,wBAAyB,CAAEC,OAAQzyD,aAAE03C,SAG3CvnB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GACCo0B,wBAAyB,CACxBC,OAAQzyD,aAAE,wCASJgzE,GAAe,WAG3B,IAFA,IAAMr7B,EAAQ,GAELxpC,EAAI,EAAGA,GAAK,EAAGA,IACvBwpC,EAAMhrC,KAAN,gCAAAyF,OAA2CjE,IAE5C,OAAO+rB,YACN04C,YAAc,KAAM,KAAM,CACzBj/C,aAAc3zB,aAAE,MAChB0zB,YAAa1zB,aAAE,UACfqS,MAAOrS,aAAE,iCACTqoB,KACC8H,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACC9pB,EAAApxB,EAAAqxB,cAAA,UACEunB,EAAMj3C,IAAI,SAAAg3C,GAAI,OACdvnB,EAAApxB,EAAAqxB,cAAA,MAAIoiC,wBAAyB,CAAEC,OAAQzyD,aAAE03C,SAG3CvnB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GACCo0B,wBAAyB,CACxBC,OAAQzyD,aAAE,uCASJizE,GAAc,WAG1B,IAFA,IAAMt7B,EAAQ,GAELxpC,EAAI,EAAGA,GAAK,EAAGA,IACvBwpC,EAAMhrC,KAAN,+BAAAyF,OAA0CjE,IAE3C,OAAO+rB,YACN04C,YAAc,KAAM,KAAM,CACzBj/C,aAAc3zB,aAAE,MAChB0zB,YAAa1zB,aAAE,UACfqS,MAAOrS,aAAE,gCACTqoB,KACC8H,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACC9pB,EAAApxB,EAAAqxB,cAAA,UACEunB,EAAMj3C,IAAI,SAAAg3C,GAAI,OACdvnB,EAAApxB,EAAAqxB,cAAA,MAAIoiC,wBAAyB,CAAEC,OAAQzyD,aAAE03C,SAG3CvnB,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAYC,cAAY,GACtBr+B,aAAE,qCAEJmwB,EAAApxB,EAAAqxB,cAAAgO,GAAA,OACCjO,EAAApxB,EAAAqxB,cAAC0iD,GAAD,CAAgBn9C,KAAM,iCACpB31B,aAAE,wCAGLmwB,EAAApxB,EAAAqxB,cAAAgO,GAAA,OACCjO,EAAApxB,EAAAqxB,cAAC0iD,GAAD,CACCn9C,KACC,+DAGA31B,aAAE,uCANL,UCvGCm6B,GAAYC,aAAW,SAAAvI,GAAK,MAAK,CACtC0F,KAAM,CACL/iB,gBAAiBqd,EAAMwH,QAAQC,WAAWgD,MAC1CpE,KAAM,GAEPsG,OAAQ,CACPjM,YAAaV,EAAMC,QAAQ,IAE5BohD,aAAc,CACb9oC,UAAWvY,EAAMC,QAAQ,GACzB4L,aAAc7L,EAAMC,QAAQ,OAIf,SAASqhD,GAAenkD,GACtC,IAAMa,EAAUsK,KACRp0B,EAASipB,EAATjpB,KAEFqtE,EAAmBrgD,YAAYrd,KAC/B29D,EAAqBtgD,YAAYnd,KACjC09D,EAAmBvgD,YAAY3c,KAC/Bm9D,EAAoBxgD,YAAYjd,KAChC09D,EAAmBzgD,YAAY9c,KAC/Bw9D,EAAiB1gD,YAAYzc,KAC7Bo9D,EAAqB3gD,YAAYxc,KACjCo9D,EAAyB5gD,YAAY1rB,KACrCusE,EAAgB7gD,YAAY/wB,KAZW69B,EAabC,oBAAS,GAbIC,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GAatCqwC,EAbsCnwC,EAAA,GAa5BowC,EAb4BpwC,EAAA,GAevC4X,EAAQ,CACb/d,WAAY,CACX,CACCjlB,MAAO3U,aAAE,gCACTo5B,QACCjJ,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACEj6C,aAAE,kCACF4zE,EACE5zE,aAAE,uCAAwC,CAC1CqI,KAAM,CACL8nB,EAAApxB,EAAAqxB,cAAC0iD,GAAD,CACC5/D,IAAI,sBACJyiB,KAAI,WAAAvjB,OAAawhE,IAEhBA,MAIH,IAGLC,iBAAkB7zE,aAAE,mCACpB+wB,KAAM+iD,KACNC,MAAOR,GAER,CACC5+D,MAAO3U,aAAE,2BACTo5B,QAASp5B,aAAE,6BACX6zE,iBAAkB7zE,aAAE,iCACpB+wB,KAAMijD,KACND,MAAOX,EACPa,SAAUtB,IAEX,CACCh+D,MAAO3U,aAAE,+BACTo5B,QAASp5B,aAAE,iCACX6zE,iBAAkB7zE,aAAE,8BACpB+wB,KAAMmjD,KACNH,MAAOP,EACPS,SAAUpB,IAEX,CACCl+D,MAAO3U,aAAE,iCACTo5B,QAASp5B,aAAE,mCACX6zE,iBAAkB7zE,aAAE,qCACpB+wB,KAAMojD,KACNJ,MAAOV,EACPY,SAAUlB,KASZl5C,UAAW,CACV,CACCllB,MAAO3U,aAAE,gCACTo5B,QACCjJ,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACEj6C,aAAE,kCACF4zE,EACE5zE,aAAE,uCAAwC,CAC1CqI,KAAM,CACL8nB,EAAApxB,EAAAqxB,cAAC0iD,GAAD,CACC5/D,IAAI,oBACJyiB,KAAI,WAAAvjB,OAAawhE,IAEhBA,MAIH,IAGLC,iBAAkB7zE,aAAE,mCACpB+wB,KAAM+iD,KACNC,MAAOR,GAER,CACC5+D,MAAO3U,aAAE,2BACTo5B,QAASp5B,aAAE,6BACX6zE,iBAAkB7zE,aAAE,oCACpB+wB,KAAMijD,KACND,MAAOT,EACPW,SAAUjB,IAEX,CACCr+D,MAAO3U,aAAE,6BACTo5B,QAASp5B,aAAE,6BACX6zE,iBAAkB7zE,aAAE,mCACpB+wB,KAAMqjD,KACNL,MAAON,EACPQ,SAAUhB,IAEX,CACCt+D,MAAO3U,aAAE,6BACTo5B,QAASp5B,aAAE,+BACX6zE,iBAAkB7zE,aAAE,sCACpB+wB,KAAMojD,KACNJ,MAAOL,KAUJW,EAA6B18B,EAAM5xC,GAAMuuE,UAAU,SAAA58B,GAAI,OAAKA,EAAKq8B,QA9H1BpvB,EA+HT/uB,IAAMkK,SAAS,GA/HN8kB,EAAA1kD,OAAA4J,GAAA,EAAA5J,CAAAykD,EAAA,GA+HtCjH,EA/HsCkH,EAAA,GA+H1B2vB,EA/H0B3vB,EAAA,GAyJ7C,OATA9K,oBAAU,WACTy6B,GACiC,IAAhCF,EACGA,EACA18B,EAAM5xC,GAAM9G,OAAS,IAGvB,CAACo1E,KAGFV,GACAh8B,EAAM5xC,IACNoqB,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKu/B,GAAI,GACRnqC,EAAApxB,EAAAqxB,cAAAghD,GAAA,GACClB,SAAUA,EACV/0C,SAAU,kBAAMg1C,GAAaD,IAC7BmB,QAAQ,GAERlhD,EAAApxB,EAAAqxB,cAAAkhD,GAAA,GACCC,WAAYphD,EAAApxB,EAAAqxB,cAAAokD,GAAA,QACZhD,gBAAc,yBACd5qE,GAAG,0BAEHupB,EAAApxB,EAAAqxB,cAAA2K,GAAA,GACCpI,MAAO,EACPH,QAAQ,OACR2F,cAAc,MACd1F,WAAW,SACXmG,eAAe,iBAEfzI,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAY9C,QAAS,MACnBt7B,aAAE,4BAGJmwB,EAAApxB,EAAAqxB,cAAA,WACEunB,EAAM5xC,GAAMrF,IAAI,SAAAd,EAAyBuV,GAAU,IAAhCR,EAAgC/U,EAAhC+U,MAAao/D,GAAmBn0E,EAAzBmxB,KAAyBnxB,EAAnBm0E,OAC1BjkD,EAAOikD,EAAKU,GAAA,EAAAC,GAAA,EACZtjD,EAAQ2iD,EAAQ,YAAc,UAEpC,OACC5jD,EAAApxB,EAAAqxB,cAAA8pB,GAAA,GAAS7nC,MAAOsC,EAAOzB,IAAKiC,GAC3Bgb,EAAApxB,EAAAqxB,cAACN,EAAD,CAAMsB,MAAOA,UAQnBjB,EAAApxB,EAAAqxB,cAAAshD,GAAA,OACCvhD,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAKpI,MAAO,GACXxC,EAAApxB,EAAAqxB,cAAAukD,GAAA,GAAQC,MAAI,GACXzkD,EAAApxB,EAAAqxB,cAAA2K,GAAA,GAAK3M,EAAG,EAAGwK,eAAgB,SAAUpG,QAAQ,QAC5CrC,EAAApxB,EAAAqxB,cAACkiD,GAAD,CACCvhD,KAAM4mB,EAAM5xC,GAAM23C,GAAY3sB,KAC9BihD,UAAWr6B,EAAM5xC,GAAM23C,GAAYq2B,MACnCrvC,KAAK,UAGPvU,EAAApxB,EAAAqxB,cAAAqtB,GAAA,GACC5sB,UAAWhB,EAAQ0H,KACnBogB,MAAOA,EAAM5xC,GAAM9G,OACnB04B,SAAS,SACT2D,QAAQ,WACRoiB,WAAYA,EACZm3B,WACC1kD,EAAApxB,EAAAqxB,cAAA8D,EAAA,GACCwQ,KAAK,QACLrT,QA/ES,WAClBkjD,EAAc72B,EAAa,IA+ElB3T,SAAU2T,IAAe/F,EAAM5xC,GAAM9G,OAAS,GAE7Ce,aAAE,QACHmwB,EAAApxB,EAAAqxB,cAAA0kD,GAAA,SAGFC,WACC5kD,EAAApxB,EAAAqxB,cAAA8D,EAAA,GACCwQ,KAAK,QACLrT,QAtFS,WAClBkjD,EAAc72B,EAAa,IAsFlB3T,SAAyB,IAAf2T,GAEVvtB,EAAApxB,EAAAqxB,cAAA4kD,GAAA,QACCh1E,aAAE,YAKPmwB,EAAApxB,EAAAqxB,cAAAukD,GAAA,GAAQM,QAAM,GACb9kD,EAAApxB,EAAAqxB,cAAAutB,GAAA,GACCu3B,WAAS,EACTt3B,kBAAgB,EAChBF,WAAYA,EACZy3B,UAAWhlD,EAAApxB,EAAAqxB,cAAC8hD,GAAD,OAEVv6B,EAAM5xC,GAAMrF,IAAI,SAAAJ,EAAyB6U,GAAzB,IA7GNuiC,EA6GS/iC,EAAHrU,EAAGqU,MAAOoc,EAAVzwB,EAAUywB,KAAMgjD,EAAhBzzE,EAAgByzE,MAAhB,OAChB5jD,EAAApxB,EAAAqxB,cAAA0tB,GAAA,GAAM5qC,IAAKyB,GACVwb,EAAApxB,EAAAqxB,cAAAglD,GAAA,GAAY/jD,SA/GHqmB,EA+GuBviC,EA/Gf,WAC1Bo/D,EAAc78B,MA+GJvnB,EAAApxB,EAAAqxB,cAAAotB,GAAA,GACC63B,kBAAmB/C,GACnBgD,cAAe,CAAEvkD,OAAMihD,UAAW+B,IAEjCp/D,SAOPwb,EAAApxB,EAAAqxB,cAAA2K,GAAA,QACkC,IAAhCs5C,EACAlkD,EAAApxB,EAAAqxB,cAAA2K,GAAA,GACCvI,QAAQ,OACRoG,eAAgB,gBAChB4U,SAAS,QAETrd,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAYvN,UAAWhB,EAAQqjD,cAC9B/iD,EAAApxB,EAAAqxB,cAAA,cAASpwB,aAAE,8BAEZmwB,EAAApxB,EAAAqxB,cAAA8D,EAAA,GACC9C,MAAM,UACNC,QA5HY,WACrBkjD,EAAc,GACdr6C,YAAQ5yB,gBA2HCupB,UAAWhB,EAAQ2O,OACnBgc,UAAWrqB,EAAApxB,EAAAqxB,cAAAmlD,GAAA,SAEVv1E,aAAE,aAILmwB,EAAApxB,EAAAqxB,cAAA2K,GAAA,OACC5K,EAAApxB,EAAAqxB,cAAAgO,GAAA,GACC9C,QAAS,QACTzK,UAAWhB,EAAQqjD,cAEnB/iD,EAAApxB,EAAAqxB,cAAA,cACEpwB,aAAE,wBAAyB,CAC3BqI,KAAM,CACLq1C,EAAa,EACb/F,EAAM5xC,GAAM23C,GAAY/oC,OAAS,MAE/B,IACHgjC,EAAM5xC,GAAM23C,GAAYq2B,MAAQ/zE,aAAE,aAAe,KAGnD23C,EAAM5xC,GAAM23C,GAAYq2B,MACxB5jD,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAYvN,UAAWhB,EAAQqjD,cAC7Bv7B,EAAM5xC,GAAM23C,GAAYm2B,kBAG1B1jD,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAYvN,UAAWhB,EAAQqjD,cAC7Bv7B,EAAM5xC,GAAM23C,GAAYtkB,QAAS,IACjCue,EAAM5xC,GAAM23C,GAAYu2B,UACxBj0E,aAAE,wCAAyC,CAC1CqI,KAAM,CACL8nB,EAAApxB,EAAAqxB,cAAA4G,GAAA,GACC9jB,IAAI,oBACJyiB,KAAK,IACLtE,QAAS,SAAA9lB,GACRA,EAAE4pB,iBACFwiB,EAAM5xC,GAAM23C,GAAYu2B,YAEzBpjD,UAAWhB,EAAQqjD,aACnB9hD,MAAO,UACPoF,UAAW,SAEVx2B,aAAE,2BCrUnB,IAAMw1E,GAAY,WACjB,IACMzrC,EADahX,YAAY1uB,OACA,EAC/B,OACC8rB,EAAApxB,EAAAqxB,cAAC6pB,EAAA,SAAD,KACC9pB,EAAApxB,EAAAqxB,cAACqlD,GAAD,CACC1rC,SAAUA,EACV4J,WAAS,EACTrY,QAAQ,WACRo6C,QAAM,EACNtkD,MAAM,YACNuxB,SAAS,iBAEVxyB,EAAApxB,EAAAqxB,cAACulD,GAAD,QAKGC,GAAU,kBACfzlD,EAAApxB,EAAAqxB,cAAAD,EAAApxB,EAAA6/B,SAAA,KACCzO,EAAApxB,EAAAqxB,cAAC69B,GAAD,CACCta,WAAS,EACTrY,QAAQ,WACRlK,MAAM,YACNuxB,SAAS,aAEVxyB,EAAApxB,EAAAqxB,cAACu9B,GAAD,QAIIkoB,GAAU,kBACf1lD,EAAApxB,EAAAqxB,cAAAD,EAAApxB,EAAA6/B,SAAA,KACCzO,EAAApxB,EAAAqxB,cAAC0lD,GAAD,CACCniC,WAAS,EACTrY,QAAQ,WACRo6C,QAAM,EACNtkD,MAAM,YACNuxB,SAAS,aAEVxyB,EAAApxB,EAAAqxB,cAAC2lD,GAAD,QAII57C,GAAYC,aAAW/C,IAyLd2+C,OAvLf,SAAmBhnD,GAAO,IAAA6Q,EACWC,oBAAS,GADpBC,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GAClBo2C,EADkBl2C,EAAA,GACNm2C,EADMn2C,EAAA,GAAAE,EAEWH,oBAAS,GAFpBI,EAAAhgC,OAAA4J,GAAA,EAAA5J,CAAA+/B,EAAA,GAElBk2C,EAFkBj2C,EAAA,GAENk2C,EAFMl2C,EAAA,GAGnB9/B,EAAU2yB,YAAYxwB,KACtB8zE,EAA6BtjD,YAClCzuB,MAEKgY,EAAayW,YAAY1uB,MACzB+C,EAA4B2rB,YAAY5rB,MACxCmvE,EAAyBh6D,GAAc,IAAMlV,EAG3CrB,EADUipB,EAAVuG,MACe5T,OAAf5b,KACF8pB,EAAUsK,KAEhB2f,oBAAU,WAAM,SAAAy8B,IAAA,OAAAA,EAAAr2E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KACf,SAAAO,IAAA,OAAAmJ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACOkiB,YAAQs8C,eADf,OAECJ,GAAc,GAFf,wBAAA99D,EAAAO,SAAAZ,OADepG,MAAAkH,KAAA/Z,WAQf,OARe,WAAAu3E,EAAA1kE,MAAAkH,KAAA/Z,WAMfy3E,GAEO,WACNv8C,YAAQw8C,iBAEP,IAEH58B,oBAAU,WACT5f,YAAQy8C,YAAkB,CAAEv2E,cAC1B,CAACA,IAEJ05C,oBAAU,WACT5f,YAAQkV,YAAU,OAAQrpC,KACxB,CAACA,IAEJ,IAAMs7B,EAAqB,WAC1B60C,GAAeD,IAGVW,EAASzmD,EAAApxB,EAAAqxB,cAACymD,GAAD,CAAS9wE,KAAMA,IAE9B,OACCoqB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ0H,MACvBpH,EAAApxB,EAAAqxB,cAAC0mD,GAAD,CACC/wE,KAAMA,EACNuqB,KAAM2lD,EACN50C,mBAAoBA,IAErBlR,EAAApxB,EAAAqxB,cAACukD,GAAA,EAAD,CAAQC,MAAI,GACXzkD,EAAApxB,EAAAqxB,cAAC2mD,GAAA,EAAD,CACCz7C,QAAQ,YACR07C,OAAO,OACP1mD,KAAM2lD,EACNxlD,QAAS4Q,EACTxR,QAAS,CACRyM,MAAOzM,EAAQsJ,aAEhB89C,WAAY,CACXC,aAAa,IAGbN,IAGHzmD,EAAApxB,EAAAqxB,cAACukD,GAAA,EAAD,CAAQM,QAAM,EAACkC,eAAe,OAC7BhnD,EAAApxB,EAAAqxB,cAAC2mD,GAAA,EAAD,CACCz7C,QAAQ,YACRhL,MAAI,EACJT,QAAS,CACRyM,MAAOzM,EAAQsJ,cAGfy9C,IAIHzmD,EAAApxB,EAAAqxB,cAAA,QAAMS,UAAWhB,EAAQuJ,SACxBjJ,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ6J,cACvBvJ,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQkJ,UACvBu9C,GACAnmD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKu/B,GAAI,GACRnqC,EAAApxB,EAAAqxB,cAACgnD,GAAA,EAAD,CACC97C,QAAQ,WACR+7C,SAAS,OACT5mD,QAAS,WACRyJ,YAAQo9C,cAAgC,MAGxCt3E,aAAE,+BAAgC,CAClCqI,KAAM,SAAA+J,OAASkK,EAAT,eAMA,cAATvW,IAAyBswE,GACzBlmD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKu/B,GAAI,GACRnqC,EAAApxB,EAAAqxB,cAACgnD,GAAA,EAAD,CAAO97C,QAAQ,WAAW+7C,SAAS,WAClClnD,EAAApxB,EAAAqxB,cAAA,WACEpwB,aAAE,2BAA4B,CAC9BqI,KAAM,CACL8nB,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACC9rB,IAAI,2BACJke,MAAM,UACNoF,UAAU,SACVD,OAAO,SACPZ,KACC,kGAGAxF,EAAApxB,EAAAqxB,cAAA,cAASpwB,aAAE,gBASlBm2E,GAAchmD,EAAApxB,EAAAqxB,cAAC+iD,GAAD,CAAgBptE,KAAMA,IAErCoqB,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,KACCvhB,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,kCACLijB,UAAWw3C,KAEZrlD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,8BACLijB,UAAW43C,KAEZzlD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,yCACLijB,UAAWlvB,KAEZqhB,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,iCACLijB,UAAWk9B,KAEZ/qC,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,iDACLijB,UAAWk9B,KAEZ/qC,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,uCACLijB,UAAWupC,KAEZp3C,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,6BACLijB,UAAW63C,KAEZ1lD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,sCACLijB,UAAW2qC,KAEZx4C,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAM,2BACNijB,UAAWu5C,KAQZpnD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CAAO7G,OAAK,EAAC9vB,KAAK,mBAAmBijB,UAAWopC,KAChDj3C,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CAAO1T,UAAWiQ,UCjRX5W,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACNyF,KAAM,CAEL0B,OAAQ,SAETu+C,gBAAiB,CAChB36C,UAAW,SACXD,UAAW,OACXhF,UAAW,QACX6/C,iBAAkB,YAClBrF,eAAgB,QAChBsF,mBAAoB,SACpB//C,SAAU,YAEX6R,UAAW,CACVvQ,OAAQ,QACRzB,SAAU,KAEXhmB,QAAS,CACRihE,gBAAe,OAAArgE,OAASulE,EAAQ,MAAjB,KACfF,iBAAkB,YAClBrF,eAAgB,QAChBsF,mBAAoB,UAErBE,QAAS,CACRpjE,gBAAiBqd,EAAMwH,QAAQ8Q,KAAK,MAErC0tC,WAAY,GAKZC,YAAa,CACZn7B,UAAW,UAEZo7B,KAAM,CAIL9+C,OAAQ,QAETgkC,YAAa,CACZhkC,OAAQ,OACR9G,OAAkB,EAAVL,GAETkmD,KAAM,CACL1+C,WAAY,EACZ2B,UAAW,OACXvD,SAAU,WAEXylC,SAAU,CACT3oD,gBAAiB,4BAElB4kB,QAAS,CACR5G,QAAS,OACT2F,cAAe,SACfD,KAAM,WAENU,eAAgB,SAChBY,QAAS,MC1CNoU,GAAWrZ,GAAoBL,KAC/BiG,GAAYC,aCpBI,SAAAvI,GACrB,MAAO,CACNrgB,QAAS,CACRonB,eAAgB,UAEjBq/C,gBAAiB,CAChBvlD,UAAW,aACXiqB,UAAW,UAEZu7B,QAAS,CACRj/C,OAAQ,OACR1G,YAAaV,EAAMC,QAAQ,IAE5BqmD,aAAc,CACb5lD,YAAa,GAEd6lD,YAAa,CACZ5jE,gBAAiBqd,EAAMwH,QAAQ8Q,KAAK,KACpC/Y,MAAOS,EAAMwH,QAAQw1B,OAAOC,OAE7BupB,UAAW,CACV7jE,gBAAiBqd,EAAMwH,QAAQw1B,OAAOC,UDqK1BwpB,GApKI,WAClB,IAAMzoD,EAAUsK,KADQ0F,EAEMC,mBAAS,IAFfC,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GAEjB04C,EAFiBx4C,EAAA,GAERy4C,EAFQz4C,EAAA,GAIlB04C,EAAmB1lD,YAAYlsB,MAC/B6xE,EAAO3lD,YAAYvxB,KALD5B,EAMRmzB,YAAY3xB,MACY,GAAhCK,EAPgB7B,EAOhB6B,OAAQC,EAPQ9B,EAOR8B,SAEhBo4C,oBAAU,WACT,IACMy+B,EADaI,eACQvtE,OAC1B,SAAAwtE,GAAC,MAAmB,WAAfA,EAAEh3E,UAAyBg3E,EAAE5nE,OAASvP,EAAOM,QAEnDy2E,EAAWD,IACT,CAAC92E,IAEJ,IAAMo3E,EAAO,SAACtmE,EAAIumE,EAAe1kD,GAChC,IAAM2kD,EAAY,WACjB52C,eACAjI,YAAQvtB,aAAK4F,IACT6hB,GAAkC,oBAAdA,GACvBA,KAGEskD,GAAQI,EACX5+C,YACC04C,YAAcmG,EAAW,KAAM,CAC9BplD,aAAc3zB,aAAE,qBAChB0zB,YAAa1zB,aAAE,mBACfqS,MAAOrS,aAAE,iCACTqoB,KAAMroB,aAAE,+BAAgC,CACvCqI,KAAM,EACJ5G,EAAOM,OAAUN,EAAOG,UAAY,IAAKm9B,cAC1Cr9B,EAAStB,cAMb24E,KAIF,OACC5oD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACR2F,cAAc,SACd1F,WAAW,UACXmG,eAAe,iBAEfzI,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,EAAGqE,WAAW,UACrBtC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAYmQ,MAAM,SAASjT,QAAQ,YAAY9I,QAAQ,SACrDxyB,aAAE,uBAGJ04E,GACAvoD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKi+C,EAAG,GACP7oD,EAAApxB,EAAAqxB,cAAC6oD,GAAD,CACC39C,QAAQ,YACR/oB,GAAG,eACHmyB,KAAK,QACLtT,MAAM,UACNygB,WAAS,EACThhB,UAAWhB,EAAQooD,iBAElBj4E,aAAE,cAAe,CACjBqI,KAAM,CACL5G,EAAOM,OAASy/B,aAAc9/B,EAAStB,SACvCqB,EAAOG,cAMX22E,EAAQ73E,IAAI,SAAAk4E,GAAC,OACbzoD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK7nB,IAAK0lE,EAAE5nE,KAAMgoE,EAAG,GACpB7oD,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRoJ,KAAK,QACLtT,MAAM,UACNygB,WAAS,EACThhB,UAAWhB,EAAQooD,gBACnB5mD,QAAS,WACRwnD,EAAK,gBAAgB,EAAM,kBAC1B3+C,YAAQg/C,YAAa,CAAEn3E,MAAO62E,EAAE5nE,KAAMpP,SAAUg3E,EAAEh3E,gBAInD5B,aAAE,aAAc,CAAEqI,KAAM,CAACuwE,EAAE5nE,YAI9BynE,GACAtoD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKi+C,EAAG,GACP7oD,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRoJ,KAAK,QACLtT,MAAM,YACNygB,WAAS,EACThhB,UAAWhB,EAAQooD,gBACnB5mD,QAAS,WACRwnD,EAAK,iBAAiB,KAGtB74E,aAAE,0BAINmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKi+C,EAAG,GACP7oD,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRoJ,KAAK,QACLtT,MAAM,UACNygB,WAAS,EACThhB,UAAWhB,EAAQooD,gBACnB5mD,QAAS,kBAAMwnD,EAAK,gBAAgB,KAEnC74E,aAAE,yBAILmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKi+C,EAAG,GACP7oD,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRoJ,KAAK,QACLtT,MAAM,UACNygB,WAAS,EACThhB,UAAWC,IAAWjB,EAAQuoD,YAAavoD,EAAQooD,iBACnD5mD,QAAS,kBAAMwnD,EAAK,iCAAiC,KAErD1oD,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACC3K,IAAKsB,GAAY,YACjBrB,IAAKx/B,aAAE,sBACP6wB,UAAWhB,EAAQqoD,UAEnBl4E,aAAE,cAGLmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKi+C,EAAG,GACP7oD,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACCoH,QAAQ,YACRoJ,KAAK,QACLtT,MAAM,UACNygB,WAAS,EACThhB,UAAWhB,EAAQwoD,UACnBhnD,QAAS,kBAAMwnD,EAAK,+BAA+B,KAEnD1oD,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACC3K,IAAKsB,GAAY,UACjBrB,IAAKx/B,aAAE,oBACP6wB,UAAWC,IACVjB,EAAQqoD,QACRroD,EAAQsoD,aACRtoD,EAAQooD,4CEnKA,SAASkB,GAAWrmD,GA+DlC,OAAOlB,YAAWyF,GAAXzF,CA9DP,SAAAhyB,GAAuC,IAApBiwB,EAAoBjwB,EAApBiwB,QAAY3jB,EAAQhM,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,aACtC,OACCuwB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQ0H,MACvBpH,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CACC1Y,UAAWhB,EAAQ2Z,UACnBA,WAAS,EACT/W,WAAW,WAGXtC,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM1Y,UAAWhB,EAAQre,QAAS/E,MAAI,EAACqhC,GAAI,GAAInE,GAAI,EAAGqJ,GAAI,EAAGomC,GAAI,GAChEjpD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKpI,MAAO,EAAGsG,OAAQ,EAAG7K,EAAG,GAC5B+B,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKpI,MAAO,EAAGsG,OAAQ,EAAGtB,SAAS,YAClCxH,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,CAAWhzB,EAAGA,MAAOkM,IACrBikB,EAAApxB,EAAAqxB,cAACukD,GAAA,EAAD,CAAQC,MAAI,GACXzkD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKvI,QAAQ,OAAOoG,eAAe,UAClCzI,EAAApxB,EAAAqxB,cAACipD,GAAAt6E,EAAD,CAAmBqyB,MAAM,UAAUiB,SAAS,eAMjDlC,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAInE,GAAI,EAAGqJ,GAAI,EAAGomC,GAAI,GACpCjpD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACR2F,cAAc,SACd1F,WAAW,UACXmG,eAAe,gBACf7B,MAAO,CAAEkC,OAAQ,SAEjB9I,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,EAAGqE,WAAW,UACrBtC,EAAApxB,EAAAqxB,cAAAgO,GAAA,GAAYmQ,MAAM,SAASjT,QAAQ,MACjCt7B,aAAE,gBAGLmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAApxB,EAAAqxB,cAACkpD,GAAeptE,IAEjBikB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACC3M,EAAG,EACHoE,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACX+a,SAAS,QAETrd,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCnO,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAI,GAAAvjB,OAAKpL,uCAERhH,aAAE,SAEJmwB,EAAApxB,EAAAqxB,cAAA,SAAOS,UAAWhB,EAAQgoD,YAA1B,KAAAzlE,OACOitB,GAAYtC,QADnB,+DCjEK1F,GAAS,SAAAxF,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACNynD,aAAc,CACbj8C,UAAW,CACV2I,OAAQ,YAGVuzC,SAAU,CACThnD,QAAS,OACTgb,SAAU,OACVhW,SAAU,EACVc,WAAYxG,EACZioC,WAAY,SACZ0f,WAAY,CACXlnD,YAAuB,EAAVT,IAGf4nD,cAAe,CACdtoD,MAAOS,EAAMwH,QAAQhR,KAAKmV,KAC1BpG,WAAY,QAEb6lC,YAAa,CACZhkC,OAAQ,OACR9G,OAAkB,EAAVL,GAETsH,QAAS,CACR5G,QAAS,OACT2F,cAAe,SACfD,KAAM,WACNP,SAAU,WACV6B,QAAS,EACTrH,OAAM,KAAA/f,OAAO0f,EAAP,OAAA1f,OAAoB0f,EAApB,OAAA1f,OAAiC0f,EAAjC,MACN6uB,gBAAiB,CAChBroB,WAAYxG,GAEb4F,SAAU,WAEXiiD,cAAe,CACdnnD,QAAS,OACTgF,SAAU,EACVoF,UAAW,OACXjF,SAAU,WACVxF,OAAQL,GAQTqrC,SAAU,CACT3oD,gBAAiB,4BAElBolE,QAAS,CACRhnD,SAAU,OACVqG,OAAkB,EAAVnH,EACRuU,UAAW,OACX1T,MAAO,QAERknD,SAAU,CACTrnD,QAAS,OACT2F,cAAe,MACf1F,WAAY,SACZmG,eAAgB,UAEjBkhD,SAAU,CACTlnD,SAAU,OACVyT,UAAqB,EAAVvU,EACXa,MAAO,OACPsG,OAAQ,QAET8gD,YAAa,CACZxnD,YAAaT,GAEdgmD,YAAa,CACZngD,SAAU,WACVzH,IAAK,OACL4H,KAAM,GAEPigD,KAAM,CACLplD,MAAO,SACPsG,OAAQ,SC7ELkB,GAAYC,aAAW/C,IAEtB,SAAS2iD,GAATp6E,GAA6B,IAAT+C,EAAS/C,EAAT+C,MAClBsY,EAAwCtY,EAAxCsY,WAAYG,EAA4BzY,EAA5ByY,eAAgBhb,EAAYuC,EAAZvC,QAC9ByvB,EAAUsK,KAEhB,OACChK,EAAApxB,EAAAqxB,cAAC+N,GAAA,EAAD,CACCQ,QAASv+B,EACTq8B,UACCtM,EAAApxB,EAAAqxB,cAAA,QAAMS,UAAWhB,EAAQ2pD,UACxBrpD,EAAApxB,EAAAqxB,cAAA,YACCD,EAAApxB,EAAAqxB,cAAA,qBACAD,EAAApxB,EAAAqxB,cAAA,kBAAUnV,EAAV,MAEAG,EAAe1a,IAAI,SAAAJ,GAAA,IAAGuU,EAAHvU,EAAGuU,OAAQqC,EAAX5W,EAAW4W,QAAX,OACnBiZ,EAAApxB,EAAAqxB,cAAA,YACCD,EAAApxB,EAAAqxB,cAAA,gBAAQvb,EAAR,KACAsb,EAAApxB,EAAAqxB,cAAA,kBAAUlZ,EAAV,4CCQDijB,GAAYC,aAAW/C,IAiLd4iD,OA/Kf,SAAsBjrD,GACrB,IAAMa,EAAUsK,KADY+hB,EAEGnpB,YAAYjuB,KAFfo1E,EAAAh+B,EAEpBz6C,cAFoB,IAAAy4E,EAEX,GAFWA,EAEPv3E,EAFOu5C,EAEPv5C,MACbvC,EAAYqB,EAAZrB,QAHoBy/B,EAIwBC,oBAAS,GAJjCC,EAAA7/B,OAAA4J,GAAA,EAAA5J,CAAA2/B,EAAA,GAIrBs6C,EAJqBp6C,EAAA,GAIDq6C,EAJCr6C,EAAA,GAAAE,EAM8BH,oBAAS,GANvCI,EAAAhgC,OAAA4J,GAAA,EAAA5J,CAAA+/B,EAAA,GAMrBo6C,EANqBn6C,EAAA,GAMEo6C,EANFp6C,EAAA,GAAAq6C,EAOoBz6C,oBAAS,GAP7B06C,EAAAt6E,OAAA4J,GAAA,EAAA5J,CAAAq6E,EAAA,GAOrBE,EAPqBD,EAAA,GAOHE,EAPGF,EAAA,GAQtBG,IACHjsC,OAAOksC,OAASlsC,OAAOmsC,OAASC,UAAUC,UAAUxrC,QAAQ,UAAY,EAT/CyrC,EAUwCl7C,oBACnE,GAX2Bm7C,EAAA/6E,OAAA4J,GAAA,EAAA5J,CAAA86E,EAAA,GAUrBE,EAVqBD,EAAA,GAUOE,EAVPF,EAAA,GAc5BnhC,oBAAU,YACG,eAAAl6C,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,IAAA,IAAAmjE,EAAA,OAAAh6D,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACiBqjE,eADjB,OACRD,EADQ9iE,EAAAC,KAEd4iE,EACCC,IAAqBj2D,KAAWC,SAASpU,MAH5B,wBAAAsH,EAAAO,SAAAZ,MAAH,yBAAArY,EAAAiS,MAAAkH,KAAA/Z,YAAA,EAOZs8E,IACE,IAEHxhC,oBAAU,WACLqgC,IAGHzrC,OAAO6sC,QAAU,WAChB7sC,OAAOrpC,SAASm2E,SAChBpB,GAAsB,MAGtB,CAACD,IAEJ,IAAMsB,EAAa,eAAAn7E,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAC,IAAA,IAAA/V,EAAAnB,EAAAka,EAAAmJ,EAAA43D,EAAAC,EAAAC,EAAA,OAAAx6D,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACrB0iE,GAAoB,GADC5iE,EAAAC,KAAA,EAGdnW,EAAWujB,KAAWC,SAASpU,KAHjB8G,EAAAE,KAAA,EAIO8B,aAAUlY,GAJjB,cAAAnB,EAAAqX,EAAAS,KAIZoC,EAJYla,EAIZka,SACFlZ,EAAS,CACdG,SAAUA,GANSkW,EAAAE,KAAA,GASS8M,aAAU,CAAErjB,SAAQkZ,aAT7B,eASd+gE,EATc5jE,EAAAS,KAAAT,EAAAE,KAAA,GAUE0jE,EAAev3D,aAVjB,eAUd/jB,EAVc0X,EAAAS,KAAAT,EAAAE,KAAA,GAWAuC,aAAmB,CACtCna,QAAS,CAAEA,WACXwB,WACAyX,iBAAiB,IAdE,QAWd1W,EAXcmV,EAAAS,KAiBpB2hB,YAAQ2hD,YAAe,QAASl5E,IAChC+3E,GAAoB,GAEpBxgD,YACC4hD,YAAqB,CACpB17E,UACAwB,SAAUujB,KAAWC,SAASpU,KAC9B+qE,SAAU52D,KAAWC,SAAS22D,YAxBZjkE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SA4BpB+V,QAAQpL,MAAM,eAAd3K,EAAAY,IACA4hE,GAAyB,GACzBI,GAAoB,GACpBxgD,YACCkvC,YAAS,CACRlgE,KAAM,SACNyL,MAAO3U,aAAE,oBAAqB,CAC7BqI,KAAM,CAACswD,KAAO2R,UAAPxyD,EAAAY,OAER8X,QAAS,OArCS,yBAAA1Y,EAAAe,SAAAlB,EAAA,kBAAH,yBAAArX,EAAAuR,MAAAkH,KAAA/Z,YAAA,GA2CnB,OACCmxB,EAAApxB,EAAAqxB,cAAC67B,GAAD,CAAYp7B,UAAWhB,EAAQmsD,QAC7B3B,EACAlqD,EAAApxB,EAAAqxB,cAAC+7B,GAAD,KACCh8B,EAAApxB,EAAAqxB,cAACg8B,GAAD,CAAYhgC,IAAKpsB,aAAE,8BAEjBy6E,EACHtqD,EAAApxB,EAAAqxB,cAACg8B,GAAD,CAAYhgC,IAAKpsB,aAAE,gCAChB,KACJmwB,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,aAAat7B,aAAE,kBACnCmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXmG,eAAe,SACfjG,MAAO,GAELuoD,EAwCD/qD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKu/B,GAAI,GACRnqC,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACC3K,IAAK08C,KACLz8C,IAAK,gBACL3O,UAAWhB,EAAQiqD,YA3CrB3pD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKu/B,GAAI,GACRnqC,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,KACC5K,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,KACEp+B,aAAE,4BAA6B,CAC/BqI,KAAM,CACL8nB,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACC9rB,IAAK,kBACLyiB,KACCglD,EACG,6EACA,uBAEJpkD,OAAO,UAPR,6BAeJpG,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKw/B,GAAI,GACRpqC,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCrJ,KACCglD,EACG,6EACA,uBAEJpkD,OAAO,SACPlF,QAAS,kBAAM+oD,GAAsB,KAErCjqD,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACC3K,IAAK28C,KACL18C,IAAK,mBACL3O,UAAWhB,EAAQiqD,cAevB15E,EACA+vB,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAWhB,EAAQssD,eACtBx5E,EACAwtB,EAAApxB,EAAAqxB,cAAAD,EAAApxB,EAAA6/B,SAAA,KACCzO,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,YAAYlK,MAAM,WACpCpxB,aAAE,mCAEJmwB,EAAApxB,EAAAqxB,cAAC4pD,GAAD,CAAUr3E,MAAOA,EAAOioB,KAAMxqB,KAG/BJ,aAAE,2BAA4B,CAAEqI,KAAM,CAACjI,MAGtC86E,EACH/qD,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC7C,QAASoqD,EACTngD,QAAQ,YACRlK,MAAM,UACN2Y,SAAU0wC,GAETz6E,aAAE,+BAED,SClMM,SAASo8E,GAAWtpD,GAAW,IACvC2Z,EADuC,SAAA1d,GAE5C,SAAA0d,EAAYzd,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA0zB,IAClBlsB,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAusC,GAAA9rB,KAAA5H,KAAMiW,KAiBPub,SAAW,SACVr3B,EADUtT,GAGN,IADFmrC,EACEnrC,EADFmrC,QACEQ,EAAA3rC,EADO6tB,WACP,IAAA8d,EADa,CAAEnf,IAAK,GAAI/jB,KAAM,IAC9BkjC,EAAAC,EAAA5rC,EADoCsrC,aACpC,IAAAM,KAAAC,EAAA7rC,EADmD8rC,UAEvD,GAAKX,OADD,IAAAU,KAUHlrB,EAAKyO,MAAMxd,QAAQq+B,sBAAsBtvB,EAAKyO,MAAMqc,YAEpD9qB,EAAKyO,MAAMxd,QAAQq+B,sBAAsBtvB,EAAKyO,MAAMqc,WAAYn4B,OAXnD,CACb,IAAIk6D,EAAS,GACbA,EAAOl6D,GAAO,CACbw1B,OAAQnoB,EAAKyO,MAAMhvB,EAAEytB,EAAIrB,IAAK,CAAE/jB,KAAMolB,EAAIplB,OAC1C6iC,MAAOA,GAGR3qB,EAAKyO,MAAMxd,QAAQ6qE,uBAAuB97D,EAAKyO,MAAMqc,WAAY+hC,KA1BlE7sD,EAAKlhB,MAAQ,CACZssC,cAAe,IAGhBprB,EAAKgqB,SAAWhqB,EAAKgqB,SAASnX,KAAdlzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,IAPEA,EAFyB,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAAusC,EAAA1d,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAusC,EAAA,EAAAv5B,IAAA,4BAAAxJ,MAAA,SAYlB8lB,GACzBzW,KAAKmW,SAAS,CAAEyc,cAAenc,EAAUlhB,aAAe,OAbb,CAAA4E,IAAA,qBAAAxJ,MAAA,WAiB3CqP,KAAKmW,SAAS,CAAEyc,cAAe5yB,KAAKiW,MAAM1gB,aAAe,OAjBd,CAAA4E,IAAA,SAAAxJ,MAAA,WAwC3C,IAAMslB,EAAQjW,KAAKiW,MACnB,OACCmB,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GACKhE,EADL,CAECub,SAAUxxB,KAAKwxB,SACfoB,cAAe5yB,KAAK1Z,MAAMssC,qBA7Cec,EAAA,CAClBhb,aAqE3B,OAAOpO,YAdP,SAAyBhkB,EAAO2vB,GAG/B,MAAO,CACN1gB,YAFYjP,EAAM0F,OAEEuJ,YAAY0gB,EAAMqc,cAIxC,SAA4B3Z,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIhCrO,CAGLwP,EAAU4Z,ICvEE,SAAS6vC,GAAQxpD,GAAW,IACpCypD,EADoC,SAAAxtD,GAEzC,SAAAwtD,EAAYvtD,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAwjE,IAClBh8D,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAq8E,GAAA57D,KAAA5H,KAAMiW,KAOPwtD,aAAe,SAAA58E,GAQT,IAPLQ,EAOKR,EAPLQ,QAQMqB,EAAS,CACdrB,UACAwB,SAHIhC,EANLgC,SAUC66E,iBAJI78E,EALL68E,iBAUCC,gBALI98E,EAJL88E,gBAUC3hE,KANInb,EAHLmb,KAUC4hE,QAPI/8E,EAFL+8E,QAUCZ,SARIn8E,EADLm8E,UAYAx7D,EAAKyO,MAAMgL,aAAa,wBAAyB55B,GACjDmgB,EAAKyO,MAAMgL,aAAa,SAAUv4B,IA1BlC8e,EAAKlhB,MAAQ,CACZwqB,OAAQ,GACR+yD,YAAY,GAJKr8D,EAFsB,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAAq8E,EAAAxtD,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAAq8E,EAAA,EAAArpE,IAAA,SAAAxJ,MAAA,WAkCxC,OACCymB,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GACKja,KAAKiW,MADV,CAGCwtD,aAAczjE,KAAKyjE,oBAtCmBD,EAAA,CACvB9qD,aA6DnB,OAAOpO,YAdP,SAAyBhkB,GAGxB,MAAO,CACNgC,QAHahC,EAAME,QAGF8B,UAInB,SAA4BqwB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIhCrO,CAGLwP,EAAU4Z,GClEE,SAAqB3Z,GAAW,IACxC+pD,EADwC,SAAA9tD,GAE7C,SAAA8tD,EAAY7tD,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAA8jE,IAClBt8D,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA28E,GAAAl8D,KAAA5H,KAAMiW,KASPgL,aAAe,SAAC6W,EAAMnnC,GACrB6W,EAAKyO,MAAMxd,QAAQqqE,eAAehrC,EAAMnnC,IAXtB6W,EAqBnBssB,KArBmB3sC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAqBZ,SAAAO,IAAA,OAAAmJ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OACNkiB,YAAQ4iD,eADF,wBAAAxkE,EAAAO,SAAAZ,MArBYsI,EAyBnBmO,OAAS,YAERquD,EAD0Bx8D,EAAKyO,MAAMxd,QAA7BurE,iBAER7iD,YAAQvtB,aAAK,OAzBb4T,EAAKssB,KAAOtsB,EAAKssB,KAAKzZ,KAAVlzB,OAAAmzB,EAAA,EAAAnzB,CAAAqgB,IAEZA,EAAKlhB,MAAQ,CACZ29E,OAAO,GANUz8D,EAF0B,OAAArgB,OAAAovB,EAAA,EAAApvB,CAAA28E,EAAA9tD,GAAA7uB,OAAAqvB,EAAA,EAAArvB,CAAA28E,EAAA,EAAA3pE,IAAA,SAAAxJ,MAAA,WAiCpC,IAAA8pB,EACgDza,KAAKiW,MAArDttB,EADA8xB,EACA9xB,SAAUirC,EADVnZ,EACUmZ,QAASswC,EADnBzpD,EACmBypD,gBAAoB/wE,EADvChM,OAAAiM,GAAA,EAAAjM,CAAAszB,EAAA,0CAGR,OACCrD,EAAApxB,EAAAqxB,cAAC0C,EAAD5yB,OAAA8yB,OAAA,GACK9mB,EADL,CAECxK,SAAUA,EACVmrC,KAAM9zB,KAAK8zB,KACX7S,aAAcjhB,KAAKihB,aACnBtL,OAAQ3V,KAAK2V,OACbwuD,QAASvwC,EACTswC,gBAAiBA,SA5CyBJ,EAAA,CACnBprD,aAuE3B,OAAOpO,YAhBP,SAAyBhkB,EAAO2vB,GAAO,IAC9BzvB,EAAoBF,EAApBE,QAASwF,EAAW1F,EAAX0F,OACjB,MAAO,CACN1D,QAAS9B,EAAQ8B,QACjBK,SAAUqD,EAAOrD,SACjBirC,QAAS5nC,EAAOqB,SAAS+2E,MACzBC,cAAer4E,EAAOqB,SAASi3E,QAIjC,SAA4B3rD,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIhCrO,CAGLw5D,GDTuBS,CAAYf,UE/ChCgB,eACL,SAAAA,EAAYvuD,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAwkE,IAClBh9D,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAq9E,GAAA58D,KAAA5H,KAAMiW,KAYPwuD,cAbmBt9E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAaH,SAAAqC,IAAA,OAAAqH,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,OACfuI,EAAK2O,SAAS,CAAEuuD,qBAAqB,GAArCv9E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAA6C,SAAAC,IAAA,IAAAlX,EAAAka,EAAAlZ,EAAAi8E,EAAAC,EAAAC,EAAA,OAAAx8D,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEhB8B,aAAUqL,KAAWI,OAAOvU,MAFZ,cAAAvQ,EAAAqX,EAAAS,KAEnCoC,EAFmCla,EAEnCka,SAEFlZ,EAAS,CACdG,SAAUujB,KAAWI,OAAOvU,MALc8G,EAAAE,KAAA,EAQhB8M,aAAU,CAAEnK,WAAUlZ,WARN,cAQrCi8E,EARqC5lE,EAAAS,KAAAT,EAAAE,KAAA,GAUnB0lE,EAAax8D,aAAa,CAAEJ,KAAM,EAAGvO,GAAI,KAVtB,QAUrCorE,EAVqC7lE,EAAAS,KAYrCqlE,EAAmBD,EAAUn8D,QAAQ9gB,IAAI,SAAAN,GAAO,OACrDma,aAAmB,CAAEna,UAASwB,SAAUujB,KAAWI,OAAOvU,SAG3DuP,EAAK2O,SAAS,CAAEurD,kBAAkB,GAAlCv6E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAA0C,SAAAO,IAAA,IAAAwR,EAAA,OAAArI,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACnBgB,QAAQjZ,IAAI69E,GADO,OACnCn0D,EADmCnR,EAAAC,KAGzCsV,QAAQ48C,IAAI,SAAUhhD,GACtBlJ,EAAK2O,SAAS,CACb2uD,OAAQH,EAAa3iE,KACrB4iE,UAAWl0D,EACXgxD,kBAAkB,EAClBgD,qBAAqB,IARmB,wBAAAnlE,EAAAO,SAAAZ,OAhBCH,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SA4B3C+V,QAAQpL,MAAM,eAAd3K,EAAAY,IACA6H,EAAK2O,SAAS,CAAEuuD,qBAAqB,EAAOhD,kBAAkB,IAC9Dl6D,EAAKyO,MAAMxd,QAAQ43D,SAAS,CAC3BlgE,KAAM,SACNyL,MAAO4L,EAAKyO,MAAMhvB,EAAE,kBAAmB,CACtCqI,KAAM,CAACswD,KAAO2R,UAAPxyD,EAAAY,OAER8X,QAAS,MAnCiC,yBAAA1Y,EAAAe,SAAAlB,EAAA,mBAD9B,wBAAAuC,EAAArB,SAAAkB,MAbGwG,EAuDnBu9D,cAAgB,SAAA98E,GAA6D,IAA1D28E,EAA0D38E,EAA1D28E,UAAWF,EAA+Cz8E,EAA/Cy8E,oBAAqBz9E,EAA0BgB,EAA1BhB,EAAG6vB,EAAuB7uB,EAAvB6uB,QAAuB3vB,OAAAiM,GAAA,EAAAjM,CAAAc,EAAA,mDAC5E,OACCmvB,EAAApxB,EAAAqxB,cAAC67B,GAAD,CAAYp7B,UAAWhB,EAAQmsD,QAC9B7rD,EAAApxB,EAAAqxB,cAAC+7B,GAAD,KACEsxB,EACAttD,EAAApxB,EAAAqxB,cAACg8B,GAAD,CAAYhgC,IAAKpsB,EAAE,2BAEnBA,EAAE,uBAGJmwB,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAAC2N,GAAA,EAAD,KACE4/C,EAAUj9E,IAAI,SAAC8b,EAAKrH,GAAN,OACdgb,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,CACCrM,QAAS,CAAE0H,KAAM1H,EAAQ0pD,cACzBrmE,IAAKsJ,EAAIpc,QACTixB,QAAS,kBAAM9Q,EAAKw9D,aAAavhE,EAAKrH,IACtCwlB,SAAUpa,EAAKlhB,MAAM2+E,kBAAoBxhE,EAAIpc,SAE7C+vB,EAAApxB,EAAAqxB,cAAC4pD,GAAD,CAAUr3E,MAAO6Z,EAAKxc,EAAGA,EAAGI,QAASoc,EAAIpc,iBA1E7BmgB,EAmFnBw9D,aAAe,SAACE,EAAUvB,GAAoB,IACrCt8E,EAAkB69E,EAAlB79E,QAAS2a,EAASkjE,EAATljE,KACjBwF,EAAKyO,MAAMwtD,aAAa,CACvBp8E,UACAwB,SAAUujB,KAAWI,OAAOvU,KAC5B+J,OACA0hE,iBAAkBl8D,EAAKlhB,MAAMw+E,OAC7BnB,kBACAX,SAAU52D,KAAWI,OAAOw2D,WAG7Bx7D,EAAK2O,SAAS,CAAE8uD,gBAAiB59E,KA5FjCmgB,EAAKlhB,MAAQ,CACZwqB,OAAQ,GACR+yD,YAAY,EACZe,UAAW,GACXF,qBAAqB,EACrBhD,kBAAkB,EAClBuD,gBAAiB,KACjBH,OAAQ,IATSt9D,wEAiGV,IAAAiT,EACaza,KAAKiW,MAApBhvB,EADEwzB,EACFxzB,EAAG6vB,EADD2D,EACC3D,QAET,OACCM,EAAApxB,EAAAqxB,cAAA,WACErX,KAAK1Z,MAAMs+E,UAAU1+E,OACrBkxB,EAAApxB,EAAAqxB,cAAArX,KAAM+kE,cAAN,CACCL,oBAAqB1kE,KAAK1Z,MAAMo+E,oBAChCE,UAAW5kE,KAAK1Z,MAAMs+E,UACtB39E,EAAGA,EACH6vB,QAASA,IAGVM,EAAApxB,EAAAqxB,cAAC67B,GAAD,CAAYp7B,UAAWhB,EAAQmsD,QAC7BjjE,KAAK1Z,MAAMo7E,iBACXtqD,EAAApxB,EAAAqxB,cAAC+7B,GAAD,KACCh8B,EAAApxB,EAAAqxB,cAACg8B,GAAD,CAAYhgC,IAAKpsB,EAAE,gCAEjB+Y,KAAK1Z,MAAMo+E,oBACdttD,EAAApxB,EAAAqxB,cAAC+7B,GAAD,KACCh8B,EAAApxB,EAAAqxB,cAACg8B,GAAD,CAAYhgC,IAAKpsB,EAAE,4BAEjB,KAEJmwB,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCvI,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXmG,eAAe,SACfjG,MAAO,GAEPxC,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,YAAY+C,cAAY,GAC1Cr+B,EAAE,gBAGJmwB,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAYC,cAAY,GACtBr+B,EAAE,0BAA2B,CAC7BqI,KAAM,CACL8nB,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACC9rB,IAAI,gBACJyiB,KAAK,qBACLY,OAAO,UAHR,iBAOApG,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACC9rB,IAAI,gBACJyiB,KAAK,oCACLY,OAAO,UAHR,oBAVH,KAqBApG,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAKu/B,GAAI,GACRnqC,EAAApxB,EAAAqxB,cAAC4O,GAAD,CAAQrJ,KAAK,oBAAoBY,OAAO,UACvCpG,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACC3K,IAAK2+C,KACL1+C,IAAK,oBACL3O,UAAWhB,EAAQiqD,cAIpB/gE,KAAK1Z,MAAMo7E,mBACX1hE,KAAK1Z,MAAMo+E,qBACXttD,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC7C,QAAStY,KAAKykE,cACdliD,QAAQ,YACRlK,MAAM,WAELpxB,EAAE,mCA3KWyxB,aA8LVoB,KAAUypD,GAAQ1qD,YAAWyF,GAAXzF,CAAmB2rD,MC/L9CY,eACL,SAAAA,EAAYnvD,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAolE,IAClB59D,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAAi+E,GAAAx9D,KAAA5H,KAAMiW,KAYPovD,cAbmBl+E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAaH,SAAAqC,IAAA,OAAAqH,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,OACfuI,EAAK2O,SAAS,CAAEmvD,qBAAqB,GAArCn+E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAA6C,SAAAC,IAAA,IAAAlX,EAAAka,EAAAlZ,EAAA68E,EAAAX,EAAAC,EAAA,OAAAx8D,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEhB8B,aAAUqL,KAAWE,OAAOrU,MAFZ,cAAAvQ,EAAAqX,EAAAS,KAEnCoC,EAFmCla,EAEnCka,SAEFlZ,EAAS,CACdG,SAAUujB,KAAWE,OAAOrU,MALc8G,EAAAE,KAAA,EAQhB8M,aAAU,CAAErjB,SAAQkZ,aARJ,cAQrC2jE,EARqCxmE,EAAAS,KAAAT,EAAAE,KAAA,GASnBsmE,EAAap9D,aAAa,CAAEJ,KAAM,EAAGvO,GAAI,KATtB,QASrCorE,EATqC7lE,EAAAS,KAWrCqlE,EAAmBD,EAAUj9E,IAAI,SAAAN,GAAO,OAC7Cma,aAAmB,CAAEna,UAASwB,SAAUujB,KAAWE,OAAOrU,SAG3DuP,EAAK2O,SAAS,CAAEurD,kBAAkB,GAAlCv6E,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAA0C,SAAAO,IAAA,IAAAwR,EAAA,OAAArI,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACnBgB,QAAQjZ,IAAI69E,GADO,OACnCn0D,EADmCnR,EAAAC,KAGzCgI,EAAK2O,SAAS,CACb2uD,OAAQS,EAAavjE,KACrB4iE,UAAWl0D,EACXgxD,kBAAkB,EAClB4D,qBAAqB,IAPmB,wBAAA/lE,EAAAO,SAAAZ,OAfCH,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SA0B3C+V,QAAQpL,MAAM,eAAd3K,EAAAY,IACA6H,EAAK2O,SAAS,CAAEmvD,qBAAqB,EAAO5D,kBAAkB,IAC9Dl6D,EAAKyO,MAAMxd,QAAQ43D,SAAS,CAC3BlgE,KAAM,SACNyL,MAAO4L,EAAKyO,MAAMhvB,EAAE,kBAAmB,CACtCqI,KAAM,CAACswD,KAAO2R,UAAPxyD,EAAAY,OAER8X,QAAS,MAjCiC,yBAAA1Y,EAAAe,SAAAlB,EAAA,mBAD9B,wBAAAuC,EAAArB,SAAAkB,MAbGwG,EAqDnBu9D,cAAgB,SAAA98E,GAA6D,IAA1D28E,EAA0D38E,EAA1D28E,UAAWU,EAA+Cr9E,EAA/Cq9E,oBAAqBr+E,EAA0BgB,EAA1BhB,EAAG6vB,EAAuB7uB,EAAvB6uB,QAAuB3vB,OAAAiM,GAAA,EAAAjM,CAAAc,EAAA,mDAC5E,OACCmvB,EAAApxB,EAAAqxB,cAAC67B,GAAD,CAAYp7B,UAAWhB,EAAQmsD,QAC9B7rD,EAAApxB,EAAAqxB,cAAC+7B,GAAD,KACEkyB,EACAluD,EAAApxB,EAAAqxB,cAACg8B,GAAD,CAAYhgC,IAAKpsB,EAAE,2BAEnBA,EAAE,uBAGJmwB,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAAC2N,GAAA,EAAD,KACE4/C,EAAUj9E,IAAI,SAAC8b,EAAKrH,GAAN,OACdgb,EAAApxB,EAAAqxB,cAAC8L,GAAA,EAAD,CACCrM,QAAS,CAAE0H,KAAM1H,EAAQ0pD,cACzBrmE,IAAKsJ,EAAIpc,QACTixB,QAAS,kBAAM9Q,EAAKw9D,aAAavhE,EAAKrH,IACtCwlB,SAAUpa,EAAKlhB,MAAM2+E,kBAAoBxhE,EAAIpc,SAE7C+vB,EAAApxB,EAAAqxB,cAAC4pD,GAAD,CAAUr3E,MAAO6Z,EAAKxc,EAAGA,WAxEbugB,EAiFnBw9D,aAAe,SAACE,EAAUvB,GAAoB,IACrCt8E,EAAkB69E,EAAlB79E,QAAS2a,EAASkjE,EAATljE,KAEjBwF,EAAKyO,MAAMwtD,aAAa,CACvBp8E,UACAwB,SAAUujB,KAAWE,OAAOrU,KAC5B+J,OACA0hE,iBAAkBl8D,EAAKlhB,MAAMw+E,OAC7BnB,kBACAX,SAAU52D,KAAWE,OAAO02D,WAG7Bx7D,EAAK2O,SAAS,CAAE8uD,gBAAiB59E,KA3FjCmgB,EAAKlhB,MAAQ,CACZwqB,OAAQ,GACR+yD,YAAY,EACZe,UAAW,GACXU,qBAAqB,EACrB5D,kBAAkB,EAClBuD,gBAAiB,KACjBH,OAAQ,IATSt9D,wEAgGV,IAAAiT,EACaza,KAAKiW,MAApBhvB,EADEwzB,EACFxzB,EAAG6vB,EADD2D,EACC3D,QAET,OACCM,EAAApxB,EAAAqxB,cAAA,WACErX,KAAK1Z,MAAMs+E,UAAU1+E,OACrBkxB,EAAApxB,EAAAqxB,cAAArX,KAAM+kE,cAAN,CACCO,oBAAqBtlE,KAAK1Z,MAAMg/E,oBAChCV,UAAW5kE,KAAK1Z,MAAMs+E,UACtB39E,EAAGA,EACH6vB,QAASA,IAGVM,EAAApxB,EAAAqxB,cAAC67B,GAAD,CAAYp7B,UAAWhB,EAAQmsD,QAC7BjjE,KAAK1Z,MAAMo7E,iBACXtqD,EAAApxB,EAAAqxB,cAAC+7B,GAAD,KACCh8B,EAAApxB,EAAAqxB,cAACg8B,GAAD,CAAYhgC,IAAKpsB,EAAE,gCAEjB+Y,KAAK1Z,MAAMg/E,oBACdluD,EAAApxB,EAAAqxB,cAAC+7B,GAAD,KACCh8B,EAAApxB,EAAAqxB,cAACg8B,GAAD,CAAYhgC,IAAKpsB,EAAE,4BAEjB,KAEJmwB,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,aAAat7B,EAAE,gBACnCmwB,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,KACEp+B,EAAE,0BAA2B,CAC7BqI,KAAM,CACL8nB,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACC9rB,IAAI,cACJyiB,KAAK,gCACLY,OAAO,UAHR,cAUHpG,EAAApxB,EAAAqxB,cAAC4O,GAAD,CAAQrJ,KAAK,gCAAgCY,OAAO,UACnDpG,EAAApxB,EAAAqxB,cAAC8Z,GAAD,CACC3K,IAAKg/C,KACL/+C,IAAK,gCACL3O,UAAWhB,EAAQiqD,aAInB/gE,KAAK1Z,MAAMo7E,mBAAqB1hE,KAAK1Z,MAAMg/E,qBAC5CluD,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC7C,QAAStY,KAAKqlE,cACd9iD,QAAQ,YACRlK,MAAM,WAELpxB,EAAE,kCAtJayxB,aAwKVoB,KAAUypD,GAAQ1qD,YAAWyF,GAAXzF,CAAmBusD,MCzL9ChkD,GAAYC,aAAW,SAAAvI,GAG5B,MAAO,CACN8nD,cAAe,CACdnnD,QAAS,OACTgF,SAAU,EACVoF,UAAW,OACXjF,SAAU,WACVxF,OARcN,EAAMC,QAAQ,OA6BhB0sD,OAhBf,WACC,IAAM3uD,EAAUsK,KAEVtQ,EADQkJ,YAAYztB,MACN,SAEpB,OACC6qB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,EAAGswB,UAAU,MAAM3Y,aAAa,cACxDtZ,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,GAAIjd,UAAWhB,EAAQ8pD,eACzB,aAAX9vD,GAAyBsG,EAAApxB,EAAAqxB,cAACquD,GAAD,MACd,WAAX50D,GAAuBsG,EAAApxB,EAAAqxB,cAACsuD,GAAD,MACZ,WAAX70D,GAAuBsG,EAAApxB,EAAAqxB,cAACuuD,GAAD,SCkLbC,GApLG,SAAA5vD,GAAS,IAClBqc,EAAerc,EAAfqc,WACF3pC,EAAWqxB,YAAYjuB,KAEvBwJ,EAAcykB,YACnB,SAAA1zB,GAAK,OAAIkP,aAAsBlP,EAAOgsC,IAAe,KAEhDsB,EAAU5Z,YAAY,SAAA1zB,GAAK,OAAIsH,aAAkBtH,EAAOgsC,KACxDwzC,EAAiB9rD,YAAY,SAAA1zB,GAAK,OACvCsH,aAAkBtH,EAAO89E,QAEpB2B,EAAa,CAClB,CAAEj8D,QAAS,2BACXg8D,EAAiB,CAAEh8D,QAAS,iCAAoC,IAKhE9gB,EAMGuM,EANHvM,MACAg9E,EAKGzwE,EALHywE,WACAn7D,EAIGtV,EAJHsV,SACAo7D,EAGG1wE,EAHH0wE,cACAC,EAEG3wE,EAFH2wE,SACAC,EACG5wE,EADH4wE,mBAED,OACC/uD,EAAApxB,EAAAqxB,cAAC67B,GAAD,KACEtf,GAAWkyC,EACX1uD,EAAApxB,EAAAqxB,cAACm8B,GAAD,CACCE,KAAMqyB,EACNnyC,SAAS,IAGVxc,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,QAAS,CAAEmI,QAAQ,IAC5B6I,KAAK,QACLtH,MAAOhI,EAASK,OAAS,GACzBo5B,SAAU,SAAAlB,GAAE,OACXC,YAAQ2hD,YAAe,QAAS5hD,EAAG1D,OAAO7sB,SAE3C+Y,MAAO1gB,KAAWA,EAAMmpC,MACxB+G,UAAW,IACXoS,WACCtiD,GAAWA,EAAMmpC,MAAQnpC,EAAM2mC,OAAS1oC,aAAE,wBAI7CmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,aAAc,CAAEmI,QAAQ,IACjC6I,KAAK,aACLtH,MAAOhI,EAASq9E,YAAc,GAC9B5jD,SAAU,SAAAlB,GAAE,OACXC,YAAQ2hD,YAAe,aAAc5hD,EAAG1D,OAAO7sB,SAEhD+Y,MAAOs8D,KAAgBA,EAAW7zC,MAClC+G,UAAW,IACXoS,WACC06B,GAAgBA,EAAW7zC,MACxB6zC,EAAWr2C,OACX1oC,aAAE,uBAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,WACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,WAAY,CAAEmI,QAAQ,IAC/B6I,KAAK,WACLtH,MAAOhI,EAASkiB,UAAY,GAC5BuX,SAAU,SAAAlB,GAAE,OACXC,YAAQ2hD,YAAe,WAAY5hD,EAAG1D,OAAO7sB,SAE9C+Y,MAAOmB,KAAcA,EAASsnB,MAC9B+G,UAAW,IACXoS,WACCzgC,GAAcA,EAASsnB,MACpBtnB,EAAS8kB,OACT1oC,aAAE,qBAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,WACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,gBAAiB,CAAEmI,QAAQ,IACpC6I,KAAK,gBACLtH,MAAOhI,EAASs9E,eAAiB,GACjC7jD,SAAU,SAAAlB,GAAE,OACXC,YAAQ2hD,YAAe,gBAAiB5hD,EAAG1D,OAAO7sB,SAEnD+Y,MAAOu8D,KAAmBA,EAAc9zC,MACxC+G,UAAW,IACXoS,WACC26B,GAAmBA,EAAc9zC,MAC9B8zC,EAAct2C,OACd1oC,aAAE,2BAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CACC9G,UAAQ,EACRroB,MAAOy8D,GAAsBA,EAAmBh0C,MAChDlN,UAAU,YAEV7N,EAAApxB,EAAAqxB,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAApxB,EAAAqxB,cAAC22B,GAAA,EAAD,CACCP,UAAW9kD,EAASw9E,mBACpB/jD,SAAU,SAAAlB,GAAE,OACXC,YACC2hD,YACC,qBACA5hD,EAAG1D,OAAOiwB,WAIb98C,MAAM,qBACN0nB,MAAM,YAGRzc,MAAO3U,aAAE,gCAETk/E,KAAwBA,EAAmBh0C,OAC3C/a,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KAAiB2sC,EAAmBx2C,UAIvCvY,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CACC9G,UAAQ,EACRroB,MAAOw8D,GAAYA,EAAS/zC,MAC5BlN,UAAU,YAEV7N,EAAApxB,EAAAqxB,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAApxB,EAAAqxB,cAAC22B,GAAA,EAAD,CACCP,UAAW9kD,EAASu9E,SACpB9jD,SAAU,SAAAlB,GAAE,OACXC,YAAQ2hD,YAAe,WAAY5hD,EAAG1D,OAAOiwB,WAE9C98C,MAAM,WACN0nB,MAAM,YAGRzc,MACCwb,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAAvjB,OAAKpL,iCAERhH,aAAE,gBAILi/E,KAAcA,EAAS/zC,OACvB/a,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KAAiB0sC,EAASv2C,cClCpBy2C,GAzIC,SAAAnwD,GAAS,IAChBqc,EAAerc,EAAfqc,WACF3pC,EAAWqxB,YAAYjuB,KAFLs6E,EAGA19E,EAAhBD,cAHgB,IAAA29E,EAGP,GAHOA,EAIlB9wE,EAAcykB,YACnB,SAAA1zB,GAAK,OAAIkP,aAAsBlP,EAAOgsC,IAAe,KAGhDwzC,EAAiB9rD,YAAY,SAAA1zB,GAAK,OACvCsH,aAAkBtH,EAAO89E,QAGpBrgE,GAAiBpb,EAASD,QAAU,IAAIrB,SAAWsB,EAAS29E,WAE5DP,EAAaQ,KAAoB79E,EAAOG,UAAY,WAElDG,EAAoDuM,EAApDvM,MAAOg9E,EAA6CzwE,EAA7CywE,WAAYE,EAAiC3wE,EAAjC2wE,SAAUC,EAAuB5wE,EAAvB4wE,mBACrC,OACC/uD,EAAApxB,EAAAqxB,cAAC67B,GAAD,KACE4yB,EACA1uD,EAAApxB,EAAAqxB,cAACm8B,GAAD,CACCE,KAAMqyB,EACNnyC,SAAS,IAGVxc,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACbhxB,GAEFqT,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,QAAS,CAAEmI,QAAQ,IAC5B6I,KAAK,QACLtH,MAAOhI,EAASK,OAAS,GACzBo5B,SAAU,SAAAlB,GAAE,OACXC,YAAQ2hD,YAAe,QAAS5hD,EAAG1D,OAAO7sB,SAE3C+Y,MAAO1gB,KAAWA,EAAMmpC,MACxB+G,UAAW,IACXoS,WACCtiD,GAAWA,EAAMmpC,MAAQnpC,EAAM2mC,OAAS1oC,aAAE,wBAI7CmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,aAAc,CAAEmI,QAAQ,IACjC6I,KAAK,aACLtH,MAAOhI,EAASq9E,YAAc,GAC9B5jD,SAAU,SAAAlB,GAAE,OACXC,YAAQ2hD,YAAe,aAAc5hD,EAAG1D,OAAO7sB,SAEhD+Y,MAAOs8D,KAAgBA,EAAW7zC,MAClC+G,UAAW,IACXoS,WACC06B,GAAgBA,EAAW7zC,MACxB6zC,EAAWr2C,OACX1oC,aAAE,uBAIRmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CACC9G,UAAQ,EACRroB,MAAOy8D,GAAsBA,EAAmBh0C,MAChDlN,UAAU,YAEV7N,EAAApxB,EAAAqxB,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAApxB,EAAAqxB,cAAC22B,GAAA,EAAD,CACCP,UAAW9kD,EAASw9E,mBACpB/jD,SAAU,SAAAlB,GAAE,OACXC,YACC2hD,YACC,qBACA5hD,EAAG1D,OAAOiwB,WAIb98C,MAAM,qBACN0nB,MAAM,YAGRzc,MAAO3U,aAAE,4BAA6B,CACrCqI,KAAM,CAAC5G,EAAOG,cAGfs9E,KAAwBA,EAAmBh0C,OAC3C/a,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KAAiB2sC,EAAmBx2C,UAIvCvY,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACwhB,GAAA,EAAD,CACC9G,UAAQ,EACRroB,MAAOw8D,GAAYA,EAAS/zC,MAC5BlN,UAAU,YAEV7N,EAAApxB,EAAAqxB,cAACy2B,GAAA,EAAD,CACCC,QACC32B,EAAApxB,EAAAqxB,cAAC22B,GAAA,EAAD,CACCP,UAAW9kD,EAASu9E,SACpB9jD,SAAU,SAAAlB,GAAE,OACXC,YAAQ2hD,YAAe,WAAY5hD,EAAG1D,OAAOiwB,WAE9C98C,MAAM,WACN0nB,MAAM,YAGRzc,MACCwb,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACCzI,OAAO,SACPZ,KAAI,GAAAvjB,OAAKpL,iCAERhH,aAAE,gBAILi/E,KAAcA,EAAS/zC,OACvB/a,EAAApxB,EAAAqxB,cAACmiB,GAAA,EAAD,KAAiB0sC,EAASv2C,cCtCpB62C,GAlGI,SAAAvwD,GAAS,IACnBqc,EAAerc,EAAfqc,WAEF3pC,EAAWqxB,YAAYjuB,KAEvB6nC,EAAU5Z,YAAY,SAAA1zB,GAAK,OAChCsH,aAAkBtH,EAAO89E,QAWlB17E,EAJYsxB,YACnB,SAAA1zB,GAAK,OAAIkP,aAAsBlP,EAAOgsC,IAAe,KAG9C5pC,OAER,OACC0uB,EAAApxB,EAAAqxB,cAAC67B,GAAD,KACEtf,EACAxc,EAAApxB,EAAAqxB,cAACm8B,GAAD,CACCE,KAfe,CAClB,CAAE5pC,QAAS,2BACX,CAAEA,QAAS,kCAcR8pB,SAAS,IAGVxc,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CACCC,WAAS,EACT1X,QAAS,EAET2X,aAAa,gBACbhX,WAAW,UAEXtC,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,QAAQlK,MAAM,UAAUiN,cAAY,GACtDr+B,aAAE,mBAAoB,CAAEqI,KAAM,CAAC3G,EAASK,WAI3CouB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC7c,WAAYroC,EAASE,SACrBiwC,WAAS,EACT3oC,KAAK,OACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,QAAS,CAAEmI,QAAQ,IAC5B6I,KAAK,QACLtH,MAAOhI,EAASK,OAAS,GACzBo5B,SAAU,SAAAlB,GAAE,OACXC,YAAQ2hD,YAAe,QAAS5hD,EAAG1D,OAAO7sB,YAK7CymB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACw2B,GAAA,EAAD,CACC/U,WAAS,EACT3oC,KAAK,WACL4hC,UAAQ,EACRn2B,MAAO3U,aAAE,WAAY,CAAEmI,QAAQ,IAC/B6I,KAAK,WACLtH,MAAOhI,EAASkiB,UAAY,GAC5BuX,SAAU,SAAAlB,GAAE,OACXC,YAAQ2hD,YAAe,WAAY5hD,EAAG1D,OAAO7sB,YAI/CjI,KAAYA,EAAOypC,OACnB/a,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,QAAQlK,MAAM,QAAQiN,cAAY,GACpD58B,EAAOinC,SAIXvY,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,MACXpsC,EAAS29E,YACXlvD,EAAApxB,EAAAqxB,cAAA,WACCD,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,QAAQ+C,cAAY,GACtCr+B,aAAE,yBAA0B,CAC5BqI,KAAM,CAAC3G,EAAS6E,yBC3EvBi5E,GAA2B,kBAAAxgF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAmB,IACnC0B,IAAI,SAAAkG,GACnB,MAAO,CACN8C,MAAO9C,EAAGlF,SAAW,IAAMkF,EAAG4kE,UAC9B72D,MAAO/N,EAAGqmB,IACPjtB,aAAE,2BAA4B,CAC9BqI,KAAM,SAAA+J,OAASxL,EAAG4kE,UAAZ,UAA+B5kE,EAAGqmB,IAAKrmB,EAAGlF,YAEhD1B,aAAE,uBAAwB,CAC1BqI,KAAM,SAAA+J,OAASxL,EAAG4kE,UAAZ,UAA+B5kE,EAAGlF,gBAgG/B+9E,OA3Ff,SAAmBzwD,GAClB,IAAMttB,EAAWqxB,YAAYjuB,KAE5Bu6E,EAIG39E,EAJH29E,WAHwBD,EAOrB19E,EAHHD,cAJwB,IAAA29E,EAIf,GAJeA,EAKxBM,EAEGh+E,EAFHg+E,gBACAC,EACGj+E,EADHi+E,wBAEK7iE,EAAgBrb,EAAOrB,SAAWi/E,EAClC1yC,EAAU5Z,YAAY,SAAA1zB,GAAK,OAChCsH,aAAkBtH,EAAOugF,QAEpBf,EAAiB9rD,YAAY,SAAA1zB,GAAK,OACvCsH,aAAkBtH,EAAO89E,QAGpB2B,EAAaQ,KAAoB79E,EAAOG,UAAY,WAEpDi+E,EAAe9sD,YAAYttB,MACjCo6E,EAAaC,IAAI,OAAQ,KAEzB,IAAMv6E,EAASs6E,EAAa1kE,WAEtBs9D,EAAmB1lD,YAAYlsB,MAUrC,OARAizC,oBAAU,WACT5f,YACC6lD,YAAsB,CAAEC,MAAOljE,EAAelb,SAAUH,EAAOG,aAI9D,IAGFuuB,EAAApxB,EAAAqxB,cAAC67B,GAAD,KACE4yB,EACA1uD,EAAApxB,EAAAqxB,cAACm8B,GAAD,CACCE,KAAMqyB,EACNnyC,SAAS,IAGVxc,EAAApxB,EAAAqxB,cAAC87B,GAAD,KACC/7B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CACCC,WAAS,EACT1X,QAAS,EAET2X,aAAa,gBACbhX,WAAW,UAEXtC,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAMC,WAAS,EAAC1X,QAAS,GACxB3B,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,QAAQlK,MAAM,UAAUiN,cAAY,GACtDr+B,aAAE,qBAGLmwB,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAAC62B,GAAD,CACCtyC,MAAO3U,aAAE,mBACTqkD,WAAYrkD,aAAE,wBACdm7B,SAAU,SAAApzB,GAAG,OACZmyB,YAAQ2hD,YAAe,0BAA2B9zE,KAEnDqN,OAAQoqE,GAAyBE,GACjCh2E,MAAOi2E,GAA2B,GAClCz7B,OAAO,gCACPrS,WAAS,EACThW,UAAW8Q,EACX4X,WAAYvkD,aAAE,yBAA0B,CACvCqI,KAAM,CAACyU,QAIT27D,GACAtoD,EAAApxB,EAAAqxB,cAACmZ,GAAA,EAAD,CAAM98B,MAAI,EAACqhC,GAAI,IACd3d,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC7C,QAAS,kBAAM6I,YAAQvtB,aAAI,gBAAAyF,OAAiB7M,OAE3CvF,aAAE,oCC3GRigF,eACL,SAAAA,EAAYjxD,GAAO,IAAAzO,EAAA,OAAArgB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAknE,IAClB1/D,EAAArgB,OAAAugB,EAAA,EAAAvgB,CAAA6Y,KAAA7Y,OAAAwgB,EAAA,EAAAxgB,CAAA+/E,GAAAt/D,KAAA5H,KAAMiW,KASPkxD,SAAW,WAAM,IAAA1sD,EAWZjT,EAAKyO,MATRmxD,EAFe3sD,EAEf2sD,MACAxgC,EAHensB,EAGfmsB,eACA3/C,EAJewzB,EAIfxzB,EACA+/C,EALevsB,EAKfusB,OACArB,EANelrB,EAMfkrB,QANe0hC,EAAA5sD,EAOfwsB,kBAPe,IAAAogC,EAOF,GAPEA,EASflgC,GATe1sB,EAQfysB,iBARezsB,EASf0sB,gBACGh0C,EAVYhM,OAAAiM,GAAA,EAAAjM,CAAAszB,EAAA,oGAaV6X,GAAc6U,GAAkB,IAAM,IAAMxB,EAiBlD,OAfcsB,EAAWt/C,IAAI,SAACm9C,EAAM1oC,GACnC,MAAO,CACN9C,MAAOrS,EAAE69C,EAAKxrC,OACdstC,iBACA3hB,UAAWyO,GAAaoR,EAAKA,MAC7B4B,mBAAoB5B,EAAK4B,mBACzBzwB,MAAM9uB,OAAAC,GAAA,EAAAD,CAAA,GAAMqgB,EAAKyO,MAAZ,CAAmBqc,WAAYA,EAAa,IAAMl2B,IACvDqpC,eAAgBX,EAAKW,eACrB4B,oBAAqBvC,EAAKuC,oBAC1BR,YAAa/B,EAAKwiC,MACf,kBAAMlwD,EAAApxB,EAAAqxB,cAAC+vD,EAADjgF,OAAA8yB,OAAA,GAAW9mB,EAAX,CAAiBwyC,QAASA,EAASqB,OAAQA,EAAQ//C,EAAGA,WAC5Dd,MAjCLqhB,EAAKlhB,MAAQ,CACZg+C,MAAO98B,EAAK2/D,YAJK3/D,wEA2CV,IACA09B,EAAgBllC,KAAKiW,MAArBivB,YACR,OACC9tB,EAAApxB,EAAAqxB,cAACiwB,GAAD,CAAiBpC,YAAaA,EAAaZ,MAAOtkC,KAAK1Z,MAAMg+C,eA/CpC5rB,aAsEbpO,mBAdf,SAAyBhkB,GAGxB,MAAO,CACN4+C,YAAa34C,aAAoBjG,GAApB,MAAsC,IAIrD,SAA4BqyB,GAC3B,MAAO,CACNlgB,QAASmgB,YAAmBngB,IAASkgB,KAIxBrO,CAGbwP,EAAUjB,YCrFU,SAAAC,GACrB,IAAMC,EAAUD,EAAMC,QAAQ,GAC9B,MAAO,CACN0lD,gBAAiB,CAChB36C,UAAW,SACXD,UAAW,OACXhF,UAAW,QACX6/C,iBAAkB,YAClBrF,eAAgB,QAChBsF,mBAAoB,SACpB//C,SAAU,YAEX6R,UAAW,CACV7R,SAAU,WACVG,KAAM,EACN5H,IAAK,EACL6H,MAAO,EACP4E,OAAQ,GAETk7C,WAAY,CACXlgD,SAAU,WACVG,KAAMhG,EACN6K,OAAQ7K,GAETgmD,YAAa,CACZn7B,UAAW,UAEZo7B,KAAM,CACL3tC,UAAW,QACXzX,MAAO,UACPsG,OAAQ,OAET4qB,YAAa,CACZrxB,QAAS,QAEVyqB,sBAAuB,CACtB9qB,OAAQL,EACR6F,SAAU,YAEXwV,eAAgB,CACfxV,SAAU,WACVzH,IAAK,MACL4H,KAAM,MACNsS,WAAY,GACZ3Q,YAAa,IAEd6mD,UAAUpgF,OAAAC,GAAA,EAAAD,CAAA,GACN2xB,EAAMqH,OAAOqnD,UADR,CAERjoD,WAAsB,EAAVxG,EACZyG,cAAyB,EAAVzG,IAEhB0uD,MAAO,CACNhuD,QAAS,UDiCAZ,CAAmBquD,ME7DzBQ,GAAuB,SAAA7gF,GAAA,IAAGyrC,EAAHzrC,EAAGyrC,WAAYH,EAAftrC,EAAesrC,MAAOuT,EAAtB7+C,EAAsB6+C,QAAS0W,EAA/Bv1D,EAA+Bu1D,UAA/B,OAC5Bj7B,YAAQwmD,aAAmB,CAAEr1C,aAAYH,QAAOuT,UAAS0W,gBAEpDwrB,GAA0B,SAAArgF,GAAA,IAAG+qC,EAAH/qC,EAAG+qC,WAAYH,EAAf5qC,EAAe4qC,MAAOuT,EAAtBn+C,EAAsBm+C,QAAS0W,EAA/B70D,EAA+B60D,UAA/B,OAC/Bj7B,YAAQ0mD,aAAsB,CAAEv1C,aAAYH,QAAOuT,UAAS0W,gBAEvD0rB,GAAgB,SAAApgF,GAAA,IAAG4qC,EAAH5qC,EAAG4qC,WAAYH,EAAfzqC,EAAeyqC,MAAOuT,EAAtBh+C,EAAsBg+C,QAAS0W,EAA/B10D,EAA+B00D,UAA/B,OACrBj7B,YAAQ4mD,aAAsB,CAAEz1C,aAAYH,QAAOuT,UAAS0W,gBAEvDtG,GAAS,CACdlP,eAfsB,WACtBzlB,YAAQ6iD,eACR7iD,YAAQvtB,aAAK,OAcbuzC,eAAgB,kCC3BX/lB,GAAYC,aAAW,SAAAvI,GAAK,MAAK,CACtC0F,KAAM,CACLolB,UAAW,UAEZokC,QAAS,CACRtO,gBAAe,OAAArgE,OAAS4uE,KAAT,KACftJ,mBAAoB,SACpBD,iBAAkB,YAClBrF,eAAgB,WAEjB5oC,UAAW,CACV5W,SAAUf,EAAMmG,YAAYvuB,OAAOkgC,GACnCxX,OAAQ,QAET4lD,KAAM,CACL9+C,OAAQ,OACRtG,MAAO,WCnBT,IAAMwH,GAAYC,aAAW,SAAAvI,GAAK,MAAK,CACtCkT,OAAQ,CACP9L,OAAQ,QACRtG,MAAOd,EAAMe,UAAY,KACzBA,SAAU,WAIG,SAASquD,GAAUnuD,GAajC,OAZA,SAAAlzB,GAAiC,IAARsM,EAAQhM,OAAAg0D,GAAA,EAAAh0D,CAAA,GAAAN,GAC1BiwB,EAAUsK,KAEhB,OACChK,EAAApxB,EAAAqxB,cAACyD,EAAA,EAAD,CAAQvD,MAAM,EAAMT,QAAS,CAAEyM,MAAOzM,EAAQkV,SAC7C5U,EAAApxB,EAAAqxB,cAAC2D,EAAA,EAAD,KACC5D,EAAApxB,EAAAqxB,cAAC0C,EAAc5mB,MCWpB,IAAMg1E,GAA+B/H,GAAWgI,GHsDb,SAAAnyD,GAAK,OACvCmB,EAAApxB,EAAAqxB,cAACgxD,GAADlhF,OAAA8yB,OAAA,GACKhE,EACA6/B,GAFL,CAGCnQ,QAAQ,wBACRsB,WAAY,CACX,CACC3tC,MAAO,aACPwrC,KAAM+gC,GACNpgC,eAAgB,SAAAx9C,GAAA,IAAGqqC,EAAHrqC,EAAGqqC,WAAYH,EAAflqC,EAAekqC,MAAf,OACfhR,YAAQmnD,aAAkB,CAAEh2C,aAAYH,YACzCm1C,OAAO,UGhELiB,GAAsBnI,GAAWgI,GHsEL,SAAAnyD,GAAK,OACtCmB,EAAApxB,EAAAqxB,cAACgxD,GAADlhF,OAAA8yB,OAAA,GACKhE,EACA6/B,GAFL,CAGCnQ,QAAQ,uBACRsB,WAAY,CACX,CACC3tC,MAAO,cACPwrC,KAAM0hC,GACN/gC,eAAgBiiC,GAChBJ,OAAO,UG/ELkB,GAAiCpI,GACtCgI,GHIoC,SAAAnyD,GACpC,OACCmB,EAAApxB,EAAAqxB,cAACgxD,GAADlhF,OAAA8yB,OAAA,GACKhE,EACA6/B,GAFL,CAGCnQ,QAAQ,sBACRsB,WAAY,CACX,CACC3tC,MAAO,6BACPwrC,KAAM2gC,GACNhgC,eAAgBqiC,IAEjB,CACCxuE,MAAO,4BACPwrC,KAAM4hC,GACNjhC,eAAgBmiC,GAChBN,OAAO,UGlBNmB,GAAkCrI,GACvCgI,GHwBqC,SAAAnyD,GACrC,OACCmB,EAAApxB,EAAAqxB,cAACgxD,GAADlhF,OAAA8yB,OAAA,GACKhE,EACA6/B,GAFL,CAGCnQ,QAAQ,uBACRsB,WAAY,CACX,CACC3tC,MAAO,6BACPwrC,KAAM2gC,GACNhgC,eAAgBqiC,IAEjB,CACCxuE,MAAO,YACPwrC,KAAM4jC,GACNjjC,eAAgB,SAAA39C,GAAA,IAAGwqC,EAAHxqC,EAAGwqC,WAAYH,EAAfrqC,EAAeqqC,MAAf,OACfhR,YAAQwnD,aAAiB,CAAEr2C,aAAYH,YACxCm1C,OAAO,UGvCNsB,GAAgBxI,GFXP,SAAAv5E,GAA8B,IAAdI,EAAcJ,EAAdI,EACxB6vB,GADsC3vB,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,OAC5Bu6B,MAEhB,OACChK,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCpI,MAAO,EACPsG,OAAQ,EACRpI,UAAWhB,EAAQ0H,KACnB/E,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXmG,eAAe,UAEfzI,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACClK,UAAWhB,EAAQ2Z,UACnBhX,QAAQ,OACR2F,cAAc,MACd1F,WAAW,SACXmG,eAAe,eACf4U,SAAS,QAETrd,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACC5N,MAAM,UACNP,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAK,4BAEJ31B,EAAE,oBAGLmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACC5N,MAAM,UACNP,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAK,uCAEJ31B,EAAE,kCAGLmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAApxB,EAAAqxB,cAAC4O,GAAD,CACC5N,MAAM,UACNP,UAAWhB,EAAQ0N,QACnBhH,OAAO,SACPZ,KAAK,4CAEJ31B,EAAE,oCAINmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACCvD,SAAU,EACVhF,QAAQ,OACR2F,cAAc,SACd1F,WAAW,SACXmG,eAAe,SACfhG,SAAS,KACT/B,UAAWhB,EAAQ2Z,WAEnBrZ,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAApxB,EAAAqxB,cAAC6N,GAAD,CAAMpN,UAAWhB,EAAQkoD,QAqB1B5nD,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,KAAK+C,cAAY,GACpClO,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3D,WAAW,mBAAmB4hD,EAAG,GACpCh5E,EAAE,iBAINmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3M,EAAG,GACP+B,EAAApxB,EAAAqxB,cAACgO,GAAA,EAAD,CAAY9C,QAAQ,KAAK+C,cAAY,GACpClO,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CAAK3D,WAAW,kBAAkB4hD,EAAG,GACnCh5E,EAAE,oBASNmwB,EAAApxB,EAAAqxB,cAAC2K,GAAA,EAAD,CACC9B,OAAO,MACPtB,SAAS,WACT9G,UAAWhB,EAAQkxD,QACnBzX,UAAU,gBE7FTsY,GAAe,SAAAhiF,GAA8C,IAAhC6xB,EAAgC7xB,EAA3Co+B,UAAsB06C,EAAqB94E,EAArB84E,KAAS7b,EAAY38D,OAAAiM,GAAA,EAAAjM,CAAAN,EAAA,sBAClE,OACCuwB,EAAApxB,EAAAqxB,cAACshB,GAAA,EAADxxC,OAAA8yB,OAAA,GACK6pC,EADL,CAEC7kB,OAAQ,SAAAhpB,GAAK,OACH,IAAT0pD,EACCvoD,EAAApxB,EAAAqxB,cAACqB,EAAczC,GAEfmB,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CAAUn/B,GAAI,CAAEuiB,SAAU,IAAKz1B,MAAO,CAAEyhB,KAAMkO,EAAM3pB,kBAOnDw8E,GAAkB,eAAAvhF,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAO,EAAMxW,GAAN,IAAAhB,EAAAyI,EAAAnH,EAAA6hB,EAAAhiB,EAAA,OAAAwf,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAClB9O,GADkBzI,EACkBgB,GAAU,IAA9CyH,KAAMnH,EADYtB,EACZsB,MAAO6hB,EADKnjB,EACLmjB,SAAUhiB,EADLnB,EACKmB,SAE1BsH,IAAQnH,IAAS6hB,GAAyB,UAAbhiB,EAHR,CAAA0W,EAAAN,KAAA,eAAAM,EAAAN,KAAA,EAInB8pE,aAAoB,CAAE//E,QAAO6hB,aAJV,cAAAtL,EAAAN,KAAA,EAKnB+pE,aAAgB,CAAEhgF,QAAO6hB,aALN,OAQtB7hB,GAAS6hB,GAAYhiB,GACxBs4B,YAAQ8nD,eATiB,wBAAA1pE,EAAAO,SAAAZ,MAAH,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAsET6zB,KAzDF,WACZ,IAAM6lD,EAAO3lD,YAAYvxB,KACnBC,EAASsxB,YAAYlxB,MACrBwD,EAAW0tB,YAAY5tB,MAoB7B,OAlBA20C,oBAAU,WACT5f,YAAQ+nD,eACR/nD,YAAQgoD,eACRhoD,YAAQioD,YAAqB98E,EAASE,SACtC20B,YAAQkoD,YAAiB/8E,EAASE,UAEhC,IAEHu0C,oBAAU,WACT+nC,GAAmBpgF,IACjB,CAACA,IAEJq4C,oBAAU,WACT5f,YAAQmoD,eACRnoD,YAAQooD,aAA0Bj9E,EAASE,SAC3C20B,YAAQqoD,YAAwBl9E,EAASE,UACvC,CAACF,IAGH8qB,EAAApxB,EAAAqxB,cAACoyD,GAAA,EAAD,KACCryD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,KACCvhB,EAAApxB,EAAAqxB,cAACqyD,GAAD,CACC/J,KAAMA,EACN39D,KAAK,mBACLijB,UAAWg4C,KAEZ7lD,EAAApxB,EAAAqxB,cAACqyD,GAAD,CAAc/J,KAAMA,EAAM39D,KAAK,eAAeijB,UAAWg/B,KACzD7sC,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CAAO7G,OAAK,EAAC9vB,KAAK,IAAIijB,UAAW2jD,KACjCxxD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,gBACLijB,UAAWkjD,KAEZ/wD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,cACLijB,UAAWujD,KAEZpxD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CACC7G,OAAK,EACL9vB,KAAK,eACLijB,UAAWwjD,KAEZrxD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,CAAO7G,OAAK,EAAC9vB,KAAK,eAAeijB,UAAWsjD,KAC5CnxD,EAAApxB,EAAAqxB,cAACshB,GAAA,EAAD,KACCvhB,EAAApxB,EAAAqxB,cAAC+gB,GAAD,kDCnGCuxC,GAAe,aA+BNC,oLAzBb,OACCxyD,EAAApxB,EAAAqxB,cAACD,EAAApxB,EAAM6/B,SAAP,KACCzO,EAAApxB,EAAAqxB,cAACwyD,GAAA,EAAD,MACAzyD,EAAApxB,EAAAqxB,cAACyyD,GAAA,EAAD,CAAkBhxD,MAAO8zC,IACxBx1C,EAAApxB,EAAAqxB,cAAC0yD,GAAA,EAAD,CAAyB/gE,MAAO4tC,MAC/Bx/B,EAAApxB,EAAAqxB,cAAC2yD,EAAA,EAAD,CAAUC,MAAOA,KAChB7yD,EAAApxB,EAAAqxB,cAAC6yD,EAAA,EAAD,CAAaP,aAAcA,GAAcQ,UAAWA,KACnD/yD,EAAApxB,EAAAqxB,cAAC+yD,EAAA,EAAD,CAAiBpuD,QAASA,KACzB5E,EAAApxB,EAAAqxB,cAACgzD,GAAA,EAAD,KACCjzD,EAAApxB,EAAAqxB,cAAA,OAAKS,UAAU,aACdV,EAAApxB,EAAAqxB,cAACizD,GAAD,MACAlzD,EAAApxB,EAAAqxB,cAACkzD,EAAD,MACAnzD,EAAApxB,EAAAqxB,cAACmzD,EAAD,qBAdO9xD,aCZE4O,QACU,cAA7BqO,OAAOrpC,SAASm+E,UAEc,UAA7B90C,OAAOrpC,SAASm+E,UAEhB90C,OAAOrpC,SAASm+E,SAASjuD,MACxB,2DCZHkuD,IAASzrC,OAAO7nB,EAAApxB,EAAAqxB,cAACszD,GAAD,MAASrgD,SAASsgD,eAAe,SD2H5C,kBAAmB7I,WACtBA,UAAU8I,cAAc5G,MAAMzgE,KAAK,SAAAsnE,GAClCA,EAAaC,gDEnIhBttE,EAAAC,EAAAC,EAAA,sBAAAqtE,IAAAvtE,EAAAC,EAAAC,EAAA,sBAAAstE,IAAAxtE,EAAAC,EAAAC,EAAA,sBAAAutE,IAAAztE,EAAAC,EAAAC,EAAA,sBAAAwtE,IAAA1tE,EAAAC,EAAAC,EAAA,sBAAAytE,IAAA3tE,EAAAC,EAAAC,EAAA,sBAAA0tE,IAAA5tE,EAAAC,EAAAC,EAAA,sBAAA2tE,IAAA7tE,EAAAC,EAAAC,EAAA,sBAAA4tE,IAAA9tE,EAAAC,EAAAC,EAAA,sBAAA6tE,IAAA/tE,EAAAC,EAAAC,EAAA,sBAAA8tE,IAAAhuE,EAAAC,EAAAC,EAAA,sBAAA+tE,IAAAjuE,EAAAC,EAAAC,EAAA,sBAAAguE,IAAAluE,EAAAC,EAAAC,EAAA,sBAAAiuE,IAAAnuE,EAAAC,EAAAC,EAAA,sBAAAkuE,IAAApuE,EAAAC,EAAAC,EAAA,uBAAAmuE,IAAAruE,EAAAC,EAAAC,EAAA,sBAAAouE,IAAAtuE,EAAAC,EAAAC,EAAA,sBAAAquE,IAAAvuE,EAAAC,EAAAC,EAAA,sBAAAsuE,IAAAxuE,EAAAC,EAAAC,EAAA,sBAAAuuE,IAAAzuE,EAAAC,EAAAC,EAAA,sBAAAwuE,IAAA1uE,EAAAC,EAAAC,EAAA,sBAAAyuE,IAAA3uE,EAAAC,EAAAC,EAAA,sBAAA0uE,IAAA5uE,EAAAC,EAAAC,EAAA,sBAAA2uE,IAAA7uE,EAAAC,EAAAC,EAAA,sBAAA4uE,IAAA9uE,EAAAC,EAAAC,EAAA,sBAAA6uE,IAAA/uE,EAAAC,EAAAC,EAAA,sBAAA8uE,IAAAhvE,EAAAC,EAAAC,EAAA,sBAAA+uE,IAAAjvE,EAAAC,EAAAC,EAAA,sBAAAgvE,IAAAlvE,EAAAC,EAAAC,EAAA,sBAAAivE,IAAAnvE,EAAAC,EAAAC,EAAA,sBAAAkvE,IAAApvE,EAAAC,EAAAC,EAAA,sBAAAmvE,IAAArvE,EAAAC,EAAAC,EAAA,sBAAAovE,IAAAtvE,EAAAC,EAAAC,EAAA,sBAAAqvE,IAAAvvE,EAAAC,EAAAC,EAAA,uBAAAsvE,IAAAxvE,EAAAC,EAAAC,EAAA,sBAAAuvE,IAAAzvE,EAAAC,EAAAC,EAAA,sBAAAwvE,IAAA1vE,EAAAC,EAAAC,EAAA,sBAAAyvE,IAAA3vE,EAAAC,EAAAC,EAAA,uBAAA0vE,IAAA5vE,EAAAC,EAAAC,EAAA,sBAAA2vE,IAAA7vE,EAAAC,EAAAC,EAAA,sBAAA4vE,IAAA9vE,EAAAC,EAAAC,EAAA,sBAAA6vE,IAAA/vE,EAAAC,EAAAC,EAAA,sBAAA8vE,IAAAhwE,EAAAC,EAAAC,EAAA,uBAAA+vE,IAAAjwE,EAAAC,EAAAC,EAAA,sBAAAgwE,IAAAlwE,EAAAC,EAAAC,EAAA,sBAAAiwE,IAAAnwE,EAAAC,EAAAC,EAAA,sBAAAkwE,IAAApwE,EAAAC,EAAAC,EAAA,sBAAAmwE,IAAArwE,EAAAC,EAAAC,EAAA,sBAAAowE,IAAAtwE,EAAAC,EAAAC,EAAA,sBAAAqwE,IAAAvwE,EAAAC,EAAAC,EAAA,sBAAAswE,IAAAxwE,EAAAC,EAAAC,EAAA,sBAAAuwE,IAAAzwE,EAAAC,EAAAC,EAAA,sBAAAwwE,KAAA1wE,EAAAC,EAAAC,EAAA,sBAAAywE,KAAA3wE,EAAAC,EAAAC,EAAA,sBAAA0wE,KAAA5wE,EAAAC,EAAAC,EAAA,sBAAA2wE,KAAA7wE,EAAAC,EAAAC,EAAA,sBAAA4wE,KAAO,IAAMvD,EAAW,WACXC,EAAc,cACdC,EAAkB,iBAClBC,EAAiB,gBACjBC,EAAsB,qBACtBC,EAAc,cACdC,EAAwB,wBACxBC,EAAmB,mBACnBC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAmB,kBACnBC,EAAsB,qBAEtBC,EAAiB,iBACjBC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAY,YACZC,EAAe,eACfC,EAAiB,iBACjBC,EAAa,aACbC,EAAkB,kBAClBC,EAAyB,yBACzBC,EAAwB,wBAKxBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAe,eACfC,EAAiB,iBACjBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAyB,yBACzBC,EAAwB,wBACxBC,EAA6B,6BAC7BC,EAAuB,uBACvBC,EAA0B,0BAC1BC,EAAyB,yBACzBC,EAAkB,kBAClBC,EAAiB,iBACjBC,EAAc,cACdC,EAAc,cACdC,EAAkB,kBAClBC,EAAiB,iBACjBC,EAAkB,kBAClBC,EAAgB,gBAChBC,EAAe,eACfC,EAAqB,qBACrBC,EAA6B,6BAC7BC,EAAmB,mBACnBC,EAA4B,4BAC5BC,EAAkB,kBAClBC,EACZ,mCACYC,EAAkC,kCAClCC,GACZ,2CACYC,GACZ,0CACYC,GAA0B,0BAC1BC,GAAwB,wBACxBC,GAA6B,+DC/D1C9wE,EAAAC,EAAAC,EAAA,sBAAAyrB,IAAA3rB,EAAAC,EAAAC,EAAA,sBAAA6wE,IAAA,IAAAC,EAAAhxE,EAAA,GAAAixE,EAAAjxE,EAAA,KAAAkxE,EAAAlxE,EAAA,KAAAmxE,EAAAnxE,EAAA,KAAAoxE,EAAApxE,EAAA,IAuBa2rB,EAAS,SAAA0lD,GACrB3tD,YAAQ4tD,eACRC,IAAclvE,OACdmvE,IAAuBnvE,OACvBovE,IAAcpvE,OACdqvE,IAAUrvE,OACLgvE,GACJ3tD,YAAQvtB,YAAK,MAEdutB,YAAQ6iD,eACR7iD,YAAQiuD,eACRjuD,YAAQkuD,eACRluD,YAAQmuD,eACRnuD,YAAQouD,eACRpuD,YAAQquD,eACRruD,YAAQsuD,eACRtuD,YAAQuuD,gBAGIlB,EAAa,WACzB,MAAgD,SAAzCjoF,cAAWC,QAAQ8B,QAAQ8uC,6CC3CnC35B,EAAAC,EAAAC,EAAA,sBAAAysB,IAAA3sB,EAAAC,EAAAC,EAAA,sBAAA00B,IAAA50B,EAAAC,EAAAC,EAAA,sBAAAs0B,IAAA,IAEa7H,EAAe,iBAAsC,WAAtCnkC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAYiD,MAAM,KAAK,IA2B9CmpC,EAAe,SAAA9qC,GAAA,IAAGwnC,EAAHxnC,EAAGwnC,KAAMvI,EAATj/B,EAASi/B,IAAT,OAC3B4D,EAAa2E,GA1BO,SAAAvI,GAAG,OACvB,IAAIvmB,QAAQ,SAAAC,GACX,IAAMyvE,EAAQrlD,SAASjT,cAAc,SACrCs4D,EAAMnpD,IAAMA,EAEZmpD,EAAMtkD,iBAAmB,SAAAxkC,GAAgB,IAAb22B,EAAa32B,EAAb22B,OAC3B,OAAOtd,EAAQ,CACd0Z,MAAO4D,EAAOoyD,WACd1vD,OAAQ1C,EAAOqyD,iBAkBGC,CAAatpD,GAbd,SAAAA,GAAG,OACvB,IAAIvmB,QAAQ,SAAAC,GACX,IAAMsqB,EAAQ,IAAII,MAClBJ,EAAMhE,IAAMA,EACZgE,EAAMW,OAAS,WACd,OAAOjrB,EAAQ,CACd0Z,MAAO5Z,KAAK4Z,MACZsG,OAAQlgB,KAAKkgB,YAMyB6vD,CAAavpD,IAE1CyL,EAAsB,SAClCP,EACA9X,EACA+X,EACAzR,GAEI,IADJ8vD,EACI/pF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAtCwB,EAuC5B,GAAIyrC,GAAe,GAAK9X,GAAS,GAAK+X,GAAgB,GAAKzR,GAAU,EACpE,OAAO,EAER,IAAM+vD,EAAej8E,WAAW09B,EAAcC,GACxCzB,EAASl8B,WAAW4lB,EAAQsG,GAE5BgwD,EAAat3E,KAAKu3E,KAAMF,EAAe//C,GAAU+/C,EAAgB,KAOvE,OAJCv+C,GAAe9X,GACf+X,GAAgBzR,GAChBgwD,GAAcF,qCClDhBvyE,EAAAC,EAAAC,EAAA,sBAAAyyE,IAAA,IAAAC,EAAA5yE,EAAA,KAAA6yE,EAAA7yE,EAAA,KAAA8yE,EAAA9yE,EAAA,KAAA+yE,EAAA/yE,EAAA,KAAAgzE,EAAAhzE,EAAA,KAAAizE,EAAAjzE,EAAA,KAAAkzE,EAAAlzE,EAAA,KAQa2yE,EAAY,CACxBQ,SAAU,CACTC,IAAKD,EAASC,KAEfC,eAAgB,CACfzpF,QAAS4G,6CACT8iF,eAAgB9iF,6CAChB4iF,IAAKC,GAENE,iBAAkB,CACjB3pF,QAAS4G,6CACTgjF,aAAchjF,WACd4iF,IAAKG,GAENE,SAAU,CACT7pF,QAAS4G,6CACT4iF,IAAKK,EAASL,KAEfM,IAAK,CACJ9pF,QAAS4G,6CACT4iF,IAAKO,EAAIP,IACTllF,SAAU,IAEX0lF,gBAAiB,CAChBhqF,QAAS4G,6CACT4iF,IAAKQ,EAAgBR,KAEtBS,MAAO,CACNT,IAAKS,gKCzBDtC,EAAgB,IAAIuC,IAAK,CAC9B95D,QAHoB,KAIpB+5D,WAAU,eAAAC,EAAAtqF,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAE,SAAAO,IAAA,OAAAyyE,EAAA3rF,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAAAM,EAAAI,GACXlX,YAAWlC,gBADAgZ,EAAAI,GAAA,CAAAJ,EAAAN,KAAA,eAAAM,EAAAN,KAAA,EACsBkiB,YAAQywD,eAD9B,OAAAryE,EAAAI,GAAAJ,EAAAC,KAAA,cAAAD,EAAAK,OAAA,SAAAL,EAAAI,IAAA,wBAAAJ,EAAAO,SAAAZ,MAAF,yBAAAuyE,EAAA34E,MAAAkH,KAAA/Z,YAAA,GAEV4rF,SAAU,aACVC,OAAQ,kBAAOrpF,YAAWlC,kBAGrB0oF,EAAyB,IAAIsC,IAAK,CACvC95D,QAXoB,KAYpB+5D,WAAU,eAAAO,EAAA5qF,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAE,SAAAC,IAAA,OAAA+yE,EAAA3rF,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAY,GACXlX,YAAWlC,gBADAwY,EAAAY,GAAA,CAAAZ,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAEJkiB,YAAQ6wD,eAFJ,OAAAjzE,EAAAY,GAAAZ,EAAAS,KAAA,cAAAT,EAAAa,OAAA,SAAAb,EAAAY,IAAA,wBAAAZ,EAAAe,SAAAlB,MAAF,yBAAAmzE,EAAAj5E,MAAAkH,KAAA/Z,YAAA,GAGV4rF,SAAU,gCACVC,OAAQ,kBAAOrpF,YAAWlC,qXCQnB2qF,EAAad,IAAbc,SACFe,EAAO,IAAIC,YAAUhB,EAASL,KAC9BsB,EAAoB,IAAID,YAAUE,GAElCriF,EAAY,IACZsiF,EAA0B,GAC1BC,EAAyB,OACzBC,EAAuB,CAC5BC,QAAQ,EACRC,OAAO,EACPC,WAAW,EACXC,SAAS,EACTC,WAAW,EACXC,UAAU,GAGLC,EAAqB,KAE3B,SAASC,EAAkBptE,GAC1B,IAAMqtE,EAAWC,IACfC,WAAW,UACX/zC,OAAOluB,KAAKC,UAAUvL,EAAQnO,OAC9B27E,SAEF,OAAO,IAAIC,UAAQ,CAClB95E,MAAOqM,EAAQrM,MACf+5E,QAAS1tE,EAAQ0tE,QACjBC,UAAW3tE,EAAQrO,aACnBi8E,YAAa5tE,EAAQzN,cACrBs7E,WAAY7tE,EAAQ6tE,WACpB3tE,WAAYF,EAAQnO,KAAKqO,WAAWle,IAAI,SAAA4hB,GAAC,OAAIA,EAAE1b,KAC/C2J,KAAMw7E,IAaR,SAASS,EAAiB78E,EAAUjO,EAAUZ,GAC7C,IAAM2rF,EAAc,IAAI39E,WAASa,GAEjC88E,EAAYL,QAAU1qF,EAAStB,QAC/BqsF,EAAYp7E,QAAUsX,KAAKC,MAC3B6jE,EAAYF,WAdb,SAAuBj7E,EAAYC,GAClC,IAAMm7E,EAASn7E,EAAsBD,EAC/Bi7E,EACLh7E,EACAI,KAAKC,IAAI86E,EAAStB,EAAyBC,GAE5C,OAAO15E,KAAK2U,MAAMimE,EAAa,KAQNI,CACxBF,EAAYn7E,WACZm7E,EAAYl7E,qBAEbk7E,EAAYG,MAAQjoF,uBAAakoF,sBAAY,KAAK1xE,WAClDsxE,EAAY18E,QAAU08E,EAAY18E,QAAQrP,IAAI,SAAAosF,GAAI,OAAI,IAAI79E,SAAO69E,GAAMv8E,OACvEk8E,EAAYx7E,cAAgBpM,qBAC3B4nF,EAAYx7E,eAAiB,IAC7BnQ,EAAU4D,UACTyW,WAEF,IAAMyD,EAAa6tE,EAAY7tE,WAAWle,IAAI,SAAA4hB,GAC7C,IACMyqE,EADUpoF,uBAAa8nF,EAAYx7E,eAAiB,GAExDoG,IAAI1S,uBAAa2d,EAAE0qE,QAAU,IAC7BC,IAAItoF,uBAAa2d,EAAE4qE,QAAU,IAC7B/xE,WAEI+M,EAAY,CACjBthB,GAAI0b,EAAE1b,GACNqhB,IAAK3F,EAAE2F,IACP8kE,OAOD,OAJIzqE,EAAE6qE,UACLjlE,EAAUilE,QAAU7qE,EAAE6qE,SAGhBjlE,IAkCR,OA/BAukE,EAAY7tE,WAAaA,EAGzB6tE,EAAYr7E,iBAAmBvM,qBAC9B4nF,EAAYr7E,kBAAoB,IAChCtQ,EAAU4D,UAETuoF,IAAItoF,uBAAa,MACjBwW,WACFsxE,EAAYW,iBAAmBX,EAAYr7E,iBAE3Cq7E,EAAYp8E,aAAevP,EAAUV,QACrCqsF,EAAYY,gBAAkB,CAC7BC,MAAO,CACN,CACCC,KAAM,CACLd,EAAYL,QACZK,EAAY7tE,WAAW,GAAGhY,GAC1B6lF,EAAY7tE,WAAW,GAAGhY,KAG5B,CAAE2mF,KAAM,KAAMC,UAAW,CAAEtkF,KAAM,KAAMJ,gBAIzC2jF,EAAY57E,OAAS,CACpBG,KAAM,UACNF,kBAAmB,SACnB28E,YAAa9kE,KAAKC,OAGZ6jE,EAGR,IAAMiB,EAA8B,eAAAptF,EAAAJ,OAAAytF,EAAA,EAAAztF,CAAA0tF,EAAA7uF,EAAA2Y,KAAG,SAAAO,EAAArY,GAAA,IAAAqqF,EAAAvrE,EAAAxH,EAAA3Q,EAAA,OAAAqnF,EAAA7uF,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACtCiyE,EADsCrqF,EACtCqqF,SACAvrE,EAFsC9e,EAEtC8e,QACAxH,EAHsCtX,EAGtCsX,QACA3Q,EAJsC3G,EAItC2G,aAJsC+R,EAAAI,GAM/B/T,uBAAauS,GANkBoB,EAAAN,KAAA,EAO/BiyE,EAAS4D,UAAUC,iBAAiBpvE,EAAQ9X,GAAIL,GAPjB,cAAA+R,EAAAqM,GAAArM,EAAAC,KAAAD,EAAAK,OAAA,SAAAL,EAAAI,GAMTq1E,IANSptE,KAAArI,EAAAI,GAAAJ,EAAAqM,KAAA,wBAAArM,EAAAO,SAAAZ,MAAH,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAW7B,SAAegvF,EAAtBl1E,GAAA,OAAAm1E,EAAAp8E,MAAAkH,KAAA/Z,sDAAO,SAAA+a,EAAAtZ,GAAA,IAAA8F,EAAA9E,EAAAG,EAAAL,EAAA2B,EAAA+mF,EAAApqF,EAAAU,EAAA2tF,EAAAnuF,EAAA6D,EAAA,OAAAgqF,EAAA7uF,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAA4CzR,EAA5C9F,EAA4C8F,aAAc9E,EAA1DhB,EAA0DgB,OACxDG,EAAaH,EAAbG,SADFsY,EAAAlC,KAAA,EAEiBm2E,YAAgB,CAAEpuF,KAAK,EAAMquF,SAAU7nF,IAFxD,cAEAhF,EAFA2Y,EAAA3B,KAAA2B,EAAAlC,KAAA,EAGqB8B,YAAUlY,GAH/B,cAAAsB,EAAAgX,EAAA3B,KAGE0xE,EAHF/mF,EAGE+mF,SACFpqF,EAAoBH,cACpBa,EAAwBF,eALxB6Z,EAAAlC,KAAA,GAOoBgB,QAAQjZ,IACjCwB,EACE6J,OACA,SAAAsT,GAAO,OACNA,GACAA,EAAQ7N,QACR6N,EAAQ7N,OAAOw9E,sBACf3vE,EAAQ7N,OAAOy9E,kBACf/tF,EAAsBme,EAAQrO,gBAE/B3P,IAAI,SAAAge,GAAW,IACP2vE,EAAyB3vE,EAAQ7N,OAAjCw9E,qBAEFE,EAAgBruF,OAAOimD,QAAQkoC,GAAsBvuF,OAC1D,SAAC2Z,EAAUlO,GAAM,IAAAijF,EAAAtuF,OAAAwc,EAAA,EAAAxc,CACWqL,EADX,GACTnL,EADSouF,EAAA,GACAt3E,EADAs3E,EAAA,GAEhB,IACKrqE,qBAAW/jB,KACdqZ,EAASrZ,GAAW8W,GAEpB,MAAAu3E,IACF,OAAOh1E,GAER,IAKD,OAFAiF,EAAQ7N,OAAOw9E,qBAAuBE,EAE/B7vE,IAEPhe,IAAI,SAAAge,GAAW,IAAAgwE,EACoChwE,EAAQ7N,OAAnDy9E,EADOI,EACPJ,iBAAkBD,EADXK,EACWL,qBAG1B,MAAO,CACNC,mBACAD,uBACAM,MAJa,IAAIC,IAAYP,GAK7B3vE,aAGDtT,OAAO,SAAA/H,GAAe,IAAZsrF,EAAYtrF,EAAZsrF,MACV,OAAOA,IAAUA,EAAM7zE,WAAWvU,GAAcimB,WAEhD9rB,IA3CF,eAAAiD,EAAAzD,OAAAytF,EAAA,EAAAztF,CAAA0tF,EAAA7uF,EAAA2Y,KA4CE,SAAAC,EAAAnU,GAAA,IAAAkb,EAAA4vE,EAAAD,EAAAM,EAAAz3E,EAAA0G,EAAAC,EAAAgxE,EAAA,OAAAjB,EAAA7uF,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAS0G,EAATlb,EAASkb,QAAS4vE,EAAlB9qF,EAAkB8qF,iBAAkBD,EAApC7qF,EAAoC6qF,qBAAsBM,EAA1DnrF,EAA0DmrF,MAEnDz3E,EAAUy3E,EAAM7zE,WAAWvU,GAAc4U,WAFhDrD,EAAAE,KAAA,EAI2B01E,EAA+B,CACxDzD,WACAvrE,UACAxH,UACA3Q,iBARF,cAIOqX,EAJP9F,EAAAS,KAWOsF,EAAuBD,EAAYmwE,IACxCppF,uBAAa9E,EAAkB6e,EAAQrO,cAAc+G,MAGhDy3E,EAAalqF,uBAAa+Z,EAAQzN,eACtC88E,IAAIppF,uBAAa+Z,EAAQnO,KAAKqO,WAAW,GAAGmuE,KAAO,IACnDgB,IAAIppF,uBAAa+Z,EAAQnO,KAAKqO,WAAW,GAAGmuE,KAAO,IAjBtDj1E,EAAAa,OAAA,SAmBQ,CACN+F,UACAxH,UACAo3E,mBACA1wE,cACAC,uBACAwwE,uBACAQ,eA1BF,wBAAA/2E,EAAAe,SAAAlB,MA5CF,gBAAAm3E,GAAA,OAAAnrF,EAAAkO,MAAAkH,KAAA/Z,YAAA,KARK,eAOAkvF,EAPAh0E,EAAA3B,KAoFAxY,EAAMG,OAAO8yB,OAAPnhB,MAAA3R,OAAM,CACjB,IADiBkS,OAAAlS,OAAA6uF,EAAA,EAAA7uF,CAEdguF,EAAYxtF,IAAI,SAAA2K,GAAK,IACfqT,EAAqBrT,EAArBqT,QAASxH,EAAY7L,EAAZ6L,QACTtQ,EAA4C8X,EAA5C9X,GAAIqK,EAAwCyN,EAAxCzN,cAAeZ,EAAyBqO,EAAzBrO,aAAcQ,EAAW6N,EAAX7N,OACnCg+E,EAAalqF,uBAAasM,GAC9B88E,IAAIppF,uBAAa0G,EAAEqT,QAAQnO,KAAKqO,WAAW,GAAGmuE,MAC9CgB,IAAIppF,uBAAa0G,EAAEqT,QAAQnO,KAAKqO,WAAW,GAAGmuE,MAC9C5xE,WAEF,OAAOjb,OAAA4e,EAAA,EAAA5e,CAAA,GACLmL,EAAEqT,QAAQ9X,GAAGqZ,cAAgB,CAC7BrZ,KACAsQ,UACAjG,gBACAZ,eACAw+E,aACAh+E,OAAQA,EAAOG,YAMbpN,EAAyBsqF,EAAY9iF,OAAO,SAAA07B,GACjD,OACCwkD,EAAqBxkD,EAAEpoB,QAAQ7N,OAAOG,OACtC,IAAI2X,KAAmD,KAA7Cme,EAAEpoB,QAAQ6tE,WAAaV,IAChCljE,KAAKC,OACNke,EAAElpB,YAAYhZ,GACbD,uBAAapE,EAAsBumC,EAAEpoB,QAAQrO,cAAc2+E,eAE5DloD,EAAEjpB,qBAAqBjZ,GAAGD,uBAAa,QAnHnCuV,EAAAvB,OAAA,SAuHC,CAAE5Y,MAAK6D,2BAvHR,yBAAAsW,EAAArB,SAAAkB,sCA0HQk1E,+EAAf,SAAA71E,EAAAvY,GAAA,IAAAquF,EAAAC,EAAAC,EAAAC,EAAA,OAAAzB,EAAA7uF,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAwCk3E,EAAxCruF,EAAwCquF,cAAxCC,EAAAtuF,EAAuDwc,YAAvD+xE,QAAA,IAAAD,EAAqE,GAArEA,GAEG/6E,KAAK,SAACk7E,EAAIC,GACV,OAAO5qF,uBAAa4qF,EAAG1xE,sBAAsBjZ,GAC5CD,uBAAa2qF,EAAGzxE,yBAGjB/d,OACA,SAACsM,EAAMf,GACN,IAAMmI,EAAOtT,OAAAsvF,EAAA,EAAAtvF,CAAA,GAAQkM,GAMrB,OALIoH,EAAQi8E,IAAIC,GAAGR,KAClB17E,EAAQ67E,SAAS1iF,KAAKtB,GACtBmI,EAAQi8E,IAAMj8E,EAAQi8E,IAAI72E,IAAIjU,uBAAa0G,EAAEwS,wBAGvCrK,GAER,CAAEi8E,IAAK9qF,uBAAa,GAAI0qF,SAAU,KAhB5BA,EADTD,EACSC,SADTx1E,EAAAlB,OAAA,SAoBQ02E,GApBR,wBAAAx1E,EAAAhB,SAAAO,6BAuBA,IAAMu2E,EAAyB,SAAA3uF,GAMzB,IALLuF,EAKKvF,EALLuF,aACA2Q,EAIKlW,EAJLkW,QACAm3E,EAGKrtF,EAHLqtF,qBACAC,EAEKttF,EAFLstF,iBACAsB,EACK5uF,EADL4uF,gBAEMjB,EAAQ,IAAIC,IAAYP,GACxBwB,EAAQlB,EAAMmB,SAASvpF,GACvBwpF,EAAQjpE,mBAASwnE,EAAiB,IAClC0B,EAAQlpE,mBAASwnE,EAAiB,IAGxC,MAAO,CAACsB,EAFKjB,EAAMsB,MAAMC,UAEM,CAACH,EAAOC,GAAQH,EAAO34E,IAGvD,SAASi5E,EAAThvF,GAA4E,IAAxCuN,EAAwCvN,EAAxCuN,KAAMnI,EAAkCpF,EAAlCoF,aAAc6pF,EAAoBjvF,EAApBivF,iBAAoBC,EAC5B3hF,EAAK5O,OACnD,SAACsM,EAAMsa,GACN,IAAM4pE,EAAOpwF,OAAAsvF,EAAA,EAAAtvF,CAAA,GAAQkM,GAMrB,OALAkkF,EAAQC,YAAY5jF,KAAK6jF,aAAWC,gBAAgB/pE,EAAGta,OACvDkkF,EAAQI,sBAAsBhqE,EAAGiqE,eAChCvkF,EAAKskF,sBAAsBhqE,EAAGiqE,eAAiBhsF,uBAAa,IAC3DiU,IAAIjU,uBAAa+hB,EAAGgqE,sBAAsBhqE,EAAGiqE,gBAExCL,GAER,CAAEC,YAAa,GAAIG,sBAAuB,KAVnCH,EADmEF,EACnEE,YAAaG,EADsDL,EACtDK,sBA0BrB,MARmB,CAClB50E,iBAAkBvV,EAClBgM,GAAIhM,EACJ6F,KARY8+E,EAAkB2C,UAAU+C,gBAAgBC,OAAO,CAC/DT,EACAG,IAOAG,wBACAI,qBAAsBP,EAAYtxF,QAMpC,SAAS8xF,EAA4BrvF,GACpC,OAAOA,GACNA,EAAS4B,aACT5B,EAAS4B,YAAYG,YACrB/B,EAAS4B,YAAYG,WAAWF,2BAChC7B,EAAS4B,YAAYG,WAAWF,0BAA0B,GACxD7B,EAAS4B,YAAYG,WAAWF,0BAA0B,GAC1D,KAGJ,SAASytF,EAAaZ,GAGrB,OAFaA,GAAgD,IAA5BA,EAAiBnxF,OAKnD,SAASgyF,EAAwBb,GAKhC,OAHCY,EAAaZ,IAC8C,IAA3DpjF,UAAUojF,EAAiB,GAAI,GAAMvE,IAA6BljE,KAAKC,MAKlE,SAAesoE,EAAtB92E,GAAA,OAAA+2E,EAAAt/E,MAAAkH,KAAA/Z,sDAAO,SAAAqgB,EAAA/c,GAAA,IAAAjB,EAAA6tF,EAAAztF,EAAAC,EAAA2b,EAAAnZ,EAAA+lF,EAAA1jF,EAAA6qF,EAAA1iF,EAAA0hF,EAAAiB,EAAA,OAAAzD,EAAA7uF,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAsC3W,EAAtCiB,EAAsCjB,QAAS6tF,EAA/C5sF,EAA+C4sF,cAC7CztF,EAAqBJ,EAArBI,OAAQC,EAAaL,EAAbK,SAEV2b,EAAc3Z,YAAuCpE,eAHrDggB,EAAAtH,KAAA,EAKqB8B,YAAUrY,EAAOG,UALtC,cAAAsC,EAAAob,EAAA/G,KAKE0xE,EALF/lF,EAKE+lF,SACF1jF,EAAe7E,EAAStB,QANxBkf,EAAAtH,KAAA,GAOwBi3E,EAAuB,CACpDC,gBACA3oF,eACA8W,gBAVK,eAOA+zE,EAPA9xE,EAAA/G,KAaA7J,EAAO0iF,EAAgB1wF,IAAI,SAAC2K,EAAG8C,GAAM,IAEzCkgF,EAMGhjF,EANHgjF,qBACA3vE,EAKGrT,EALHqT,QACA4vE,EAIGjjF,EAJHijF,iBACA1wE,EAGGvS,EAHHuS,YAEA1G,EACG7L,EADH6L,QAEK04E,EAAkB9D,EAAkBptE,GAAS4yE,kBAE7CllF,EAAOujF,EAAuB,CACnCppF,eACA2Q,UACAm3E,uBACAC,mBACAsB,oBAGD,MAAO,CACN9zE,iBAAkBvV,EAClBgM,GAAI03E,EAAS7pF,QACbuwF,aAAcjyE,EAAQrO,aACtBjE,OACAskF,sBAAsBxwF,OAAA4e,EAAA,EAAA5e,CAAA,GAAIwe,EAAQrO,aAAeuN,MAG7CwyE,EAAmBW,EAA4BrvF,GAEjD2vF,EAAc,KAEjBA,EADGJ,EAAwBb,GACb,CACbD,EAAyB,CACxBzhF,OACAnI,eACA6pF,sBAIY1hF,EAAKhO,IAAI,SAAAgmB,GAItB,OAHAA,EAAGta,KAAO4+E,EAAK6C,UAAU4C,gBAAgBI,OAAOnqE,EAAGta,MACnDsa,EAAG6qE,WAAY,EAER7qE,IAxDHpH,EAAA3G,OAAA,SA4DC04E,GA5DD,yBAAA/xE,EAAAzG,SAAAwG,6BA+DP,SAASmyE,EAAThvF,GAA6C,IAAZiX,EAAYjX,EAAZiX,SAC1B3Y,EAAYH,eACZ8wF,EAAW1wF,eAF2B2Y,EAGED,EAAS3Z,OACtD,SAAC4xF,EAAOx6E,GAYP,OATCA,EAAQD,MAAM7W,UAAYU,EAAUV,SAEpC8W,EAAQD,MAAM7W,UAAYqxF,EAASrxF,UAEnCsxF,EAAMC,oBAAsBD,EAAMC,oBAAoB/4E,IACrD1B,EAAQkB,kBAETs5E,EAAME,aAAa16E,EAAQD,MAAM7W,SAAW8W,EAAQA,SAE9Cw6E,GAER,CACCC,oBAAqBhtF,uBAAa,GAClCitF,aAAc,KAIhB,MAAO,CAAEA,aAxBmCl4E,EAGpCk4E,aAqBeD,oBAxBqBj4E,EAGtBi4E,qBA0BhB,SAAeE,EAAtBr3E,GAAA,OAAAs3E,EAAAjgF,MAAAkH,KAAA/Z,sDAAO,SAAA0b,EAAAhY,GAAA,IAAAqvF,EAAA1wF,EAAA2wF,EAAAC,EAAAx4E,EAAAG,EAAAs4E,EAAAC,EAAAC,EAAAR,EAAAD,EAAA,OAAA/D,EAAA7uF,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,UACN+5E,EADMrvF,EACNqvF,wBACA1wF,EAFMqB,EAENrB,QAEM2wF,EAASrtF,uBAAaotF,GAJtBE,EAQF5wF,EAAQsB,MAAMK,IAAIiZ,uCAFrBxC,EANKw4E,EAMLx4E,SACAG,EAPKq4E,EAOLr4E,iBAGGs4E,EAAsBvtF,uBAAaiV,GAEjCu4E,EAAY,CACjBE,UAAW,GACXC,mBAAoB,IAGjBN,EAAOptF,GAAGstF,KAAsBE,EAEWZ,EAAsB,CACnE/3E,WACA84E,wBAAyBP,EAAOjE,IAAImE,KAF7BN,EAF2BQ,EAE3BR,aAAcD,EAFaS,EAEbT,oBAKtBQ,EAAUG,mBAAqBV,EAC/BM,EAAsBA,EAAoBt5E,IAAI+4E,KAG3CK,EAAOptF,GAAGstF,GA5BR,CAAAr3E,EAAA7C,KAAA,gBAAA6C,EAAA7C,KAAA,EA6BuBk5E,EAAqB,CAChD7vF,UACA6tF,cAAe8C,EAAOjE,IAAImE,KA/BtB,OA6BLC,EAAUE,UA7BLx3E,EAAAtC,KAAA,eAAAsC,EAAAlC,OAAA,SAmCCw5E,GAnCD,yBAAAt3E,EAAAhC,SAAA6B,6BAsCA,SAAe83E,EAAtBl3E,GAAA,OAAAm3E,EAAA5gF,MAAAkH,KAAA/Z,sDAAO,SAAAwc,EAAA3Y,GAAA,IAAA8M,EAAAtO,EAAAitE,EAAAokB,EAAAjxF,EAAAC,EAAAiB,EAAAia,EAAArY,EAAAoW,EAAAsvE,EAAAN,EAAArwE,EAAAxY,EAAAmQ,EAAA0hF,EAAAC,EAAAC,EAAAn0E,EAAAnY,EAAAoqF,EAAAP,EAAA0C,EAAApkF,EAAAqkF,EAAAC,EAAAC,EAAAC,EAAA1uF,EAAA4X,EAAA+2E,EAAA71E,EAAA81E,EAAAC,EAAAC,EAAArlF,EAAAslF,EAAA,OAAA3F,EAAA7uF,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cACNrI,EADM9M,EACN8M,SACAtO,EAFMwB,EAENxB,QACAitE,EAHMzrE,EAGNyrE,YACAokB,EAJM7vF,EAIN6vF,WAEQjxF,EAA4BJ,EAA5BI,OAAQC,EAAoBL,EAApBK,SAAUiB,EAAUtB,EAAVsB,MAClBia,EAAsCja,EAAMK,IAA5C4Z,kCAPFT,EAAAnE,KAAA,EAQmD8B,YACxDrY,EAAOG,UATF,UAAA2C,EAAA4X,EAAA5D,KAQEoC,EARFpW,EAQEoW,SAAUsvE,EARZ1lF,EAQY0lF,SAAUN,EARtBplF,EAQsBolF,SAAUrwE,EARhC/U,EAQgC+U,SAIhCxY,EAAYI,eACZ+P,EAAgByhF,EACnB91E,EACA/X,qBAAW8K,EAASsB,cAAenQ,EAAU4D,UAAUyW,WAEpDw3E,EAAgBnG,EAAiB78E,EAAUjO,EAAUZ,GACrD8xF,EAAYD,EAAcC,UAC1BC,EAAa/G,EAAkB8G,GAC/Bl0E,EApBAxe,OAAAsvF,EAAA,EAAAtvF,CAAA,GAqBF0yF,EArBE,CAsBLhsF,GAAIisF,EAAWhsE,QAAQojE,EAAS7pF,WAE3BmG,EAAeqsF,EAAUxG,QACzBuE,EAAe7vF,EAAUV,QAEzBgwF,EAAmBW,EAA4BrvF,GAC/CoxF,EAAyB9B,EAAaZ,GAEtC1hF,EAAO,IAETokF,EAhCE,CAAA32E,EAAAnE,KAAA,SAiCC+6E,EAAwB,CAC7Bj3E,iBAAkBvV,EAClBoqF,aAAcA,EACdp+E,GAAIhM,EACJ6F,KAAM8+E,EAAkB2C,UAAU2F,YAAY3C,OAAO,CACpD5G,EAAS7pF,QACTyyF,EAAWvB,oBAEZmC,iBAAkB,GAEnB/kF,EAAK/B,KAAKomF,GA3CL52E,EAAAnE,KAAA,wBAAAmE,EAAAnE,KAAA,GA6CqB07E,YAAe,CACxCp6E,WACArC,MAAOnW,EACPyF,eACAoqF,aAAc7vF,EAAUV,QACxBuzF,kBAAmB1J,EAAS7pF,QAC5BwzF,cAAe3iF,IAnDX,QA6CC+hF,EA7CD72E,EAAA5D,KAsDC06E,EAAgB,CACrBn3E,iBAAkBvV,EAClBoqF,aAAcA,EACdp+E,GAAI03E,EAAS7pF,QACbgM,KAAM4+E,EAAK6C,UAAU2F,YAAY3C,OAAO,CAACgC,EAAWvB,qBAErD5iF,EAAK/B,KAALkF,MAAAnD,EAAIxO,OAAA6uF,EAAA,EAAA7uF,CAAS8yF,GAAT5gF,OAAA,CAAsB6gF,KA5DrB,eAAA92E,EAAAnE,KAAA,GA+DuB67E,YAAiC,CAC7D9B,wBAAyB9gF,EACzBvC,OACAnI,eACAoU,WACAgvE,WACAtoF,UACAiY,aAtEK,eA+DA45E,EA/DA/2E,EAAA5D,KAAA4D,EAAAnE,KAAA,GAyE2B87E,YAAyB,CAAEZ,mBAzEtD,WAAA1uF,EAAA2X,EAAA5D,KAyEE6D,EAzEF5X,EAyEE4X,MAAO+2E,EAzET3uF,EAyES2uF,QACT71E,EAAU3Y,uBAAa,GACvByuF,EAAYzuF,uBAAaiY,GACzBy2E,EAAeD,EAAUrF,IAAIoF,GAASzD,GAAGpyE,GAC5CA,EACA81E,EAAUrF,IAAIoF,GACXG,EAAwBroF,YAC7BooF,EAAal4E,WACbra,EAAU4D,UAAY,IACtB,EACA,IAGG4pE,EAtFE,CAAAnyD,EAAAnE,KAAA,gBAAAmE,EAAAxD,OAAA,SAuFE,CACN24C,cAAel1C,EACfmwD,KAAM4mB,EACNE,eACAC,0BA3FI,eAAAn3E,EAAAnE,KAAA,GA+Fe+7E,YAA0B,CAC9CxtF,eACA2sF,iBACAzxF,SACAkZ,WACAq5E,UAAW,CAAEt1E,aApGR,eA+FAzQ,EA/FAkO,EAAA5D,KAuGNo6E,EAAc/rF,GAAK8X,EAAQ9X,IACrB2sF,EAxGArzF,OAAAsvF,EAAA,EAAAtvF,CAAA,GAwGqByyF,IACbpiF,KAAdrQ,OAAAsvF,EAAA,EAAAtvF,CAAA,GAA0B0yF,EAAUriF,MAzG9B4L,EAAAxD,OAAA,SA0GC,CACN1K,SACAslF,kBA5GK,yBAAAp3E,EAAAtD,SAAA2C,6BAgHA,SAAey4E,EAAtB/2E,GAAA,OAAAg3E,GAAAriF,MAAAkH,KAAA/Z,wDAAO,SAAAoe,EAAAra,GAAA,IAAA1B,EAAAsO,EAAA1B,EAAA,OAAA2/E,EAAA7uF,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAA8B3W,EAA9B0B,EAA8B1B,QAASsO,EAAvC5M,EAAuC4M,SAAvC8N,EAAAzF,KAAA,EACe8R,YAAc,CAAEzoB,UAASsO,aADxC,cACA1B,EADAwP,EAAAlF,KAAAkF,EAAA9E,OAAA,SAEC1K,GAFD,wBAAAwP,EAAA5E,SAAAuE,kHCjmBMkL,EAA0B,SAAA1oB,GAAmB,IAAhB4c,EAAgB5c,EAAhB4c,IAAK6L,EAAWzoB,EAAXyoB,KAC1CxF,EAAUwF,EACd,IACC,IAAM8rE,EAAUnqE,KAAKwD,MAAMnF,GAC3BxF,EACCsxE,EAAQtxE,SAAWsxE,EAAQ/nE,KAAO+nE,EAAQzrD,QAAUyrD,EAAQ1xE,OAAS4F,EACrE,MAAAomE,IAEF,MAAM,IAAIjsE,MACTxiB,aAAE,oBAAqB,CACtBqI,KAAM,CAACmU,EAAIyL,IAAKzL,EAAI3L,OAAQ2L,EAAI43E,WAAYvxE,OAmEhCwxE,EA7Dd,SAAAA,EAAA/zF,GAAyB,IAAAigB,EAAAxH,KAAX8O,EAAWvnB,EAAXunB,QAAW3nB,OAAAsgB,EAAA,EAAAtgB,CAAA6Y,KAAAs7E,GAAAt7E,KAIzBu7E,eAAiB,WAAsB,IAAnB3yF,GAAmB3C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAZ2C,QACb4yF,EAAgBryF,YAAc5C,eACpC,MAAO,CACNk1F,mBAAoB7yF,GAAW4yF,IAPRx7E,KAWzB07E,eAAiB,CAChBC,gBAAiB,WACjBC,QAAS,IACTC,OAAQ,YAdgB77E,KAiBzB4d,OAAS,SAACk+D,EAAMjrE,EAAOpkB,GACtB,IAAIyiB,EAAM4sE,EAAO,IAQjB,OAPIjrE,IAEH3B,GADA2B,EAAQA,EAAMtX,QAAQ,MAAO,KAI9B2V,GAAOziB,GAxBiBuT,KA6BzBuQ,MAAQ,SAAAzoB,GAUF,IAAAi0F,EAAAj0F,EATL+oB,aASK,IAAAkrE,EATG,GASHA,EAAAC,EAAAl0F,EARL4pB,mBAQK,IAAAsqE,EARS,GAQTA,EAAAC,EAAAn0F,EAPLgpB,cAOK,IAAAmrE,EAPI,MAOJA,EANLjrE,EAMKlpB,EANLkpB,KAMKkrE,EAAAp0F,EALL0oB,eAKK,IAAA0rE,EALK,GAKLA,EAAAC,GAAAr0F,EAJLs0F,SAIKt0F,EAHLc,gBAGK,IAAAuzF,EAHK,GAGLA,EAAAE,GAAAv0F,EAFLwlB,UAEKxlB,EADLw0F,gBACK,IAAAD,KACCE,EAAEp1F,OAAAC,EAAA,EAAAD,CAAA,GAAQuqB,GACZ88D,gBACH+N,EAAGC,MAAO,GAGX,IAAM/vF,EAAQmzD,IAAO68B,SAASF,GACxBrtE,EAAM1H,EAAKoW,OAAOpW,EAAKsH,QAAS+B,EAAOpkB,GAEvCiwF,EAAIv1F,OAAAC,EAAA,EAAAD,CAAA,GACLm1F,EAAU90E,EAAKk0E,eAAiB,GACjCl0E,EAAK+zE,eAAe,CAAE3yF,YACtB4nB,GAEJ,OAAOD,MAAMrB,EAAK,CACjB4B,OAAQA,EACRN,QAASksE,EACT1rE,KAAMA,KAvDPhR,KAAK8O,QAAUA,GCvBjBrR,EAAAC,EAAAC,EAAA,sBAAAg/E,IAEe1tE,uCCFfxR,EAAAC,EAAAC,EAAA,sBAAA9J,IAAA4J,EAAAC,EAAAC,EAAA,sBAAAzL,IAAAuL,EAAAC,EAAAC,EAAA,sBAAA8qB,IAAAhrB,EAAAC,EAAAC,EAAA,sBAAA6iD,IAAA/iD,EAAAC,EAAAC,EAAA,sBAAAyqD,IAAA3qD,EAAAC,EAAAC,EAAA,sBAAAuhC,IAAAzhC,EAAAC,EAAAC,EAAA,sBAAAo/C,IAAA,IAAA6/B,EAAAn/E,EAAA,IAEMk5C,EAAS,IAFfl5C,EAAA,KAEmBm5C,GAIN/iD,EAAiB,SAACgpF,GAAgD,IAArCvvC,EAAqCrnD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAF/C,mBAG/B,OAAK42F,EAGQlmC,EAAOU,KAAKwlC,GACbvvC,OAAOA,GAHX,WAMIp7C,EAAoB,SAChC4qF,GAII,IAHJnxF,EAGI1F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHO,GACX82F,EAEI92F,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EADJkP,EACIpP,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACEiE,EAAY+N,sBAAY2kF,EAAcnxF,GAC5C,OAAIoxF,EACI/6C,kBAAQ53C,GACc,kBAAZiL,EAEVrB,WAAW5J,GAChBiL,QAAQA,EAAU,GAClB7B,MAAM,GAAI,GAELpJ,GAIIq+B,EAAgB,WAAsC,IAArCphC,EAAqCpB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3B,GAAI+2F,EAAuB/2F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAV,MACxD,SAAAoT,OAAUhS,EAAQ41F,UAAU,EAAG,IAA/B5jF,OAAoC2jF,GAApC3jF,OAAiDhS,EAAQ41F,UAAU,GAAI,MAG3Dz8B,EAAyB,SAAAzyB,GACrC,OAAOA,EAAE3rB,WAAW7I,QAAQ,wBAAyB,MAGzC6uD,EAA8B,SAAAr6B,GAC1C,IAAMmvD,EAAQnvD,EAAE3rB,WAAWlZ,MAAM,KAEjC,OADAg0F,EAAM,GAAKA,EAAM,GAAG3jF,QAAQ,wBAAyB,KAC9C2jF,EAAM79B,KAAK,MAUNngB,EAAgB,SAACi+C,EAAQC,GAErCA,EAAYxkF,KAAKykF,IAAI,GAAID,GAMzB,IAHA,IAAIE,EAAS,CAAC,IAAK,IAAK,IAAK,KAGpBloF,EAAIkoF,EAAOp3F,OAAS,EAAGkP,GAAK,EAAGA,IAAK,CAE5C,IAAIu2B,EAAO/yB,KAAKykF,IAAI,GAAc,GAATjoF,EAAI,IAG7B,GAAIu2B,GAAQwxD,EAAQ,CAML,MAHdA,EAASvkF,KAAKo1B,MAAOmvD,EAASC,EAAazxD,GAAQyxD,IAG7BhoF,EAAIkoF,EAAOp3F,OAAS,IACzCi3F,EAAS,EACT/nF,KAID+nF,GAAUG,EAAOloF,GAGjB,OAIF,OAAO+nF,GAGKpgC,EAAiB,SAACwgC,GAA2B,IAAnBrkD,EAAmBjzC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAClD,OAAKs3F,EACDA,EAAOr3F,QAAUgzC,EAAkBqkD,EACvC,GAAAlkF,OAAUkkF,EAAON,UAAU,EAAG/jD,GAAWwJ,OAAzC,OAFoB,yGC1FA86C,EACpB,SAAAA,EAAA32F,GAA4D,IAAA2gB,EAAAxH,KAA9CyX,EAA8C5wB,EAA9C4wB,QAAS+5D,EAAqC3qF,EAArC2qF,WAAqCiM,EAAA52F,EAAzBgrF,gBAAyB,IAAA4L,EAAd,GAAcA,EAAV3L,EAAUjrF,EAAVirF,OACjD,GAD2D3qF,OAAAu2F,EAAA,EAAAv2F,CAAA6Y,KAAAw9E,GAAAx9E,KAgB5D29E,iBAAmB,WACdn2E,EAAKo2E,cACR5yD,aAAaxjB,EAAKo2E,aAClBp2E,EAAKo2E,YAAc,OAnBuC59E,KAuB5D69E,SAvB4D,eAAAt2F,EAAAJ,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAuBjD,SAAAO,EAAMjQ,GAAN,OAAA0iF,EAAA3rF,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACVuI,EAAKs2E,gBADKv+E,EAAAN,KAAA,EAEJuI,EAAKgqE,aAFD,OAGVhqE,EAAKs2E,gBAHK,wBAAAv+E,EAAAO,SAAAZ,MAvBiD,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAAA+Z,KA6B5D+9E,UA7B4D,eAAAr2F,EAAAP,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KA6BhD,SAAAC,EAAM3P,GAAN,OAAA0iF,EAAA3rF,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEJuI,EAAKq2E,SAAS5uF,GAFV,OAGVuY,EAAKw2E,YAHKj/E,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAY,GAAAZ,EAAA,SAKV+V,QAAQpL,MAAR,WAAArQ,OAAyBmO,EAAKqqE,UAA9B9yE,EAAAY,IACA6H,EAAKw2E,YANK,yBAAAj/E,EAAAe,SAAAlB,EAAA,iBA7BgD,gBAAAmB,GAAA,OAAArY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAAA+Z,KAuC5Dg+E,UAAY,WACXx2E,EAAKm2E,mBAELn2E,EAAKo2E,YAAclrE,WAAWlL,EAAKu2E,UAAWv2E,EAAKiQ,UA1CQzX,KA6C5D89E,cAAgB,WACY,oBAAhBt2E,EAAKsqE,QAAyBtqE,EAAKsqE,UAC7CtqE,EAAK1H,QA/CqDE,KAmD5Di+E,MAnD4D92F,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAmDpD,SAAAqC,IAAA,OAAA2wE,EAAA3rF,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cACPuI,EAAKm2E,mBADEx8E,EAAAlC,KAAA,EAEDuI,EAAKu2E,YAFJ,OAGPv2E,EAAKs2E,gBAHE,wBAAA38E,EAAArB,SAAAkB,MAnDoDhB,KAyD5DF,KAAO,WACN0H,EAAKm2E,qBAzDAlmE,EACJ,MAAM,IAAIhO,MAAM,mCAGjB,GAA0B,oBAAf+nE,EACV,MAAM,IAAI/nE,MAAM,kDAGjBzJ,KAAK49E,YAAc,KACnB59E,KAAKyX,QAAUA,EACfzX,KAAKwxE,WAAaA,EAClBxxE,KAAK6xE,SAAWA,EAChB7xE,KAAK8xE,OAASA,uxPCdhBr0E,EAAAC,EAAAC,EAAA,sBAAAmyC,IAAA,IAAAouC,EAAAzgF,EAAA,IAAA0gF,EAAA1gF,EAAA,IAkCaqyC,EAAU,CACtBsuC,UAAW,CAAE53D,IA/BNzqB,YAAUsiF,aAAa12F,IAAI,SAAA25D,GACjC,MAAO,CACN1lD,MAAO0lD,EAAQrpD,KACftH,MAAO2wD,EAAQ3wD,SA4Bco/C,WAAY,aAC3CuuC,QAAS,CAAE93D,IAvBJzqB,YAAUwiF,QAAQ52F,IAAI,SAAAkqD,GAC5B,MAAO,CACNj2C,MAAOnM,YAAUoiD,EAAO3oD,MAAM,KAAK,IACnCyH,MAAOkhD,KAoBkB9B,WAAY,aACvCwB,KAAM,CAAE/qB,IAfDzqB,YAAUs+C,eAAe1yD,IAAI,SAAAqoD,GACnC,MAAO,CACNp0C,MAAOo0C,EAAItW,IACX/oC,MAAOq/C,EAAItW,OAYQqW,WAAY,aACjCuK,OAAQ,CAAE9zB,IAAK,GAAIupB,WAAY,kJC/B1ByuC,EACiE,KAArE,GAAK5lF,KAAK2U,MAAMkxE,IAA4BC,MAExCxP,EAAgB,IAAIqC,IAAK,CAC9B95D,QAAS+mE,EACThN,WAAU,eAAAC,EAAAtqF,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAE,SAAAO,IAAA,OAAAyyE,EAAA3rF,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAAAM,EAAAI,GACXlX,YAAWlC,gBADAgZ,EAAAI,GAAA,CAAAJ,EAAAN,KAAA,eAAAM,EAAAN,KAAA,EACsBkiB,YAAQw9D,gBAD9B,OAAAp/E,EAAAI,GAAAJ,EAAAC,KAAA,cAAAD,EAAAK,OAAA,SAAAL,EAAAI,IAAA,wBAAAJ,EAAAO,SAAAZ,MAAF,yBAAAuyE,EAAA34E,MAAAkH,KAAA/Z,YAAA,GAEV4rF,SAAU,aACVC,OAAQ,kBAAOrpF,YAAWlC,8GCRrBq4F,EAAmB,IAAIrN,IAAK,CACjC95D,QAHoB,IAIpB+5D,WAAU,eAAAC,EAAAtqF,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAE,SAAAO,IAAA,OAAAyyE,EAAA3rF,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UAAAM,EAAAI,GACXlX,YAAWlC,gBADAgZ,EAAAI,GAAA,CAAAJ,EAAAN,KAAA,eAAAM,EAAAN,KAAA,EACsBkiB,YAAQ09D,eAD9B,OAAAt/E,EAAAI,GAAAJ,EAAAC,KAAA,cAAAD,EAAAK,OAAA,SAAAL,EAAAI,IAAA,wBAAAJ,EAAAO,SAAAZ,MAAF,yBAAAuyE,EAAA34E,MAAAkH,KAAA/Z,YAAA,GAEV4rF,SAAU,kBACVC,OAAQ,kBAAOrpF,YAAWlC,kBAGZq4F,oECffnhF,EAAAC,EAAAC,EAAA,sBAAAmhF,IAAArhF,EAAAC,EAAAC,EAAA,sBAAAohF,IAIA,IAAMC,EAAeC,MAEjB/vF,EAAO,QA4BEO,EAAY,WAIpB,IAHJT,EAGI/I,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHE,GAGFY,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAF8B,GAE9Bi0B,EAAArzB,EAFFuI,cAEE,IAAA8qB,KAAAC,EAAAtzB,EAFcyI,YAEd,IAAA6qB,EAFqB,CAAC,IAEtBA,EADJrrB,EACI7I,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADOiJ,EAEPiL,EAAMnL,EAAM,GACZI,IACH+K,EAAM,QAAUA,EAAIZ,QAAQ,KAAM,KAGnCY,EAAMA,EAAI6rB,cAEV,IC9CyBmM,ED8CrB+sD,GC9CqB/sD,ED8CI6sD,EAAalwF,GAAUqL,IAAQnL,IC7C7B,kBAAVmjC,EAGpBA,EAEE54B,QAAQ,8BAA+B,UAEvCA,QAAQ,iBAAkB,IAE1BA,QAAQ,gCAAiC,QATI,GD+C5CjK,EAAKpJ,QAAU01B,MAAMwjC,QAAQ9vD,KAShC4vF,EAjDkB,SAACC,EAAK7vF,GACzB,GAAmB,kBAAR6vF,EACV,MAAO,GAGR,IAAMC,EAAU,IAAIC,OAAO,YAAa,MAGlCC,EAFQH,EAAIj2F,MAAMk2F,GAEGz3F,IAAI,SAAC0tB,EAAGjgB,GAClC,IAAMg1D,EAAU96D,EAAK+lB,IAAMA,EAC3B,OAAIkqE,yBAAen1B,KAAaA,EAAQjwD,IACvBqlF,uBAAap1B,EAAS,CAAEjwD,IAAK/E,IAKvCg1D,IAGR,OAAIk1B,EAAaG,MAAM,SAAArqF,GAAC,MAAiB,kBAANA,IAC3BkqF,EAAajgC,KAAK,IAGnBigC,EA0BQI,CAAYR,EARH5vF,EAAK3H,IAAI,SAAA3B,GAC/B,MAAiB,kBAANA,GACHg5F,EAAalwF,GAAU9I,IAEvBA,MAOV,OAAOk5F,GAIKH,EAAU,SAAAY,GACtBzwF,EAAOywF,6MEhEF1M,EAASrU,EAAQ,KAOjBghB,EAAa,SAAAzlF,GAClB,IAAM+P,EAAO+oE,EAAOC,WAHJ,UAMhB,OAFAhpE,EAAKi1B,OAAOhlC,GACG+P,EAAKipE,UAIR0M,EAAO,eAAAh5F,EAAAM,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAG,SAAAO,EAAOoQ,EAAMnV,GAAb,IAAA2lF,EAAAC,EAAAC,EAAAC,EAAA,OAAAtO,EAAA3rF,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,UACjBqQ,EADiB,CAAA/P,EAAAN,KAAA,eAAAM,EAAAK,OAAA,SACJ,IADI,UAEjBzF,EAFiB,CAAAoF,EAAAN,KAAA,cAGf,IAAIwK,MAAM,0BAHK,cAKhBq2E,EAAK7M,EAAOa,YAfD,IAgBXiM,EAAS9M,EAAOiN,eAjBJ,cAiB+BN,EAAWzlF,GAAM2lF,GAC5DE,EAAOD,EAAO5gD,OAAO7vB,GACrB2wE,EAAYE,EAAO9mF,OAAO,CAAC2mF,EAAMD,EAAOzY,UARxB/nE,EAAAK,OAAA,YAAAvG,OAUZymF,EAAG19E,SAAS,OAVA,KAAA/I,OAUU4mF,EAAU79E,SAAS,SAV7B,wBAAA7C,EAAAO,SAAAZ,MAAH,gBAAAiB,EAAAJ,GAAA,OAAAlZ,EAAAiS,MAAAkH,KAAA/Z,YAAA,GAaPm6F,EAAO,eAAA74F,EAAAJ,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAG,SAAAC,EAAO0Q,EAAMnV,GAAb,IAAAkmF,EAAAP,EAAAQ,EAAAC,EAAAC,EAAAC,EAAA,OAAA9O,EAAA3rF,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAChBohF,EAAY/wE,EAAKpmB,MAAM,KACvB42F,EAAKK,EAAOp4E,KAAKs4E,EAAUK,QAAS,OACpCJ,EAAgBH,EAAOp4E,KAAKs4E,EAAUhhC,KAAK,KAAM,OACjDkhC,EAAWtN,EAAO0N,iBA5BN,cA4BmCf,EAAWzlF,GAAM2lF,GAChEU,EAAOD,EAASphD,OAAOmhD,GACvBG,EAAYN,EAAO9mF,OAAO,CAACmnF,EAAMD,EAASjZ,UAN1BvoE,EAAAa,OAAA,SAQf6gF,EAAUr+E,YARK,wBAAArD,EAAAe,SAAAlB,MAAH,gBAAA2C,EAAAF,GAAA,OAAA9Z,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAWP26F,EAAa,eAAAl5F,EAAAP,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAG,SAAAqC,EAAOsO,EAAMzE,GAAb,IAAAk1E,EAAAc,EAAA,OAAAlP,EAAA3rF,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,UACvBqQ,EADuB,CAAAnO,EAAAlC,KAAA,eAAAkC,EAAAvB,OAAA,SACV,IADU,cAEtBmgF,EAAS9M,EAAO6N,aAtCG,cAsC6Bj2E,GAClDg2E,EAAUd,EAAO5gD,OAAO7vB,EAAM,OAAQ,OAC1CuxE,GAAWd,EAAOzY,MAAM,OAJInmE,EAAAvB,OAAA,SAKrBihF,GALqB,wBAAA1/E,EAAArB,SAAAkB,MAAH,gBAAAS,EAAAc,GAAA,OAAA7a,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAQb86F,EAAa,eAAAj5F,EAAAX,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAG,SAAA0B,EAAOiP,EAAMzE,GAAb,IAAA01E,EAAAS,EAAA,OAAArP,EAAA3rF,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,UACvBqQ,EADuB,CAAAxO,EAAA7B,KAAA,eAAA6B,EAAAlB,OAAA,SACV,IADU,cAEtB2gF,EAAWtN,EAAOgO,eA9CC,cA8CiCp2E,GACtDm2E,EAAMT,EAASphD,OAAO7vB,EAAM,MAAO,QACvC0xE,GAAOT,EAASjZ,MAAM,QAJMxmE,EAAAlB,OAAA,SAKrBohF,GALqB,wBAAAlgF,EAAAhB,SAAAO,MAAH,gBAAA8D,EAAA4xE,GAAA,OAAAjuF,EAAAgR,MAAAkH,KAAA/Z,YAAA,6bC5ClBi7F,EAAyBC,WAAzBD,WAAYE,EAAaD,WAAbC,SACZh3E,EAAmBrO,YAAnBqO,eAQKipB,GAPGt3B,YAAUC,aAAarU,IAAI,SAAAwI,GAC1C,MAAO,CACNQ,MAAOR,EACPyL,MAAOzL,EAAKjH,MAAM,KAAK,MAIO,KACnBoqC,EAAoB,IAuCpBlnB,GA1BHjlB,OAAO+S,KAAKgnF,GAAYv5F,IAAI,SAAAwS,GACnC,MAAO,CAAExJ,MAAOuwF,EAAW/mF,GAAKtM,GAAI+N,MAAOslF,EAAW/mF,GAAKyB,SAyBpC,CACzByQ,SAAU,CAAEpU,KAAM,WAAY+qE,SAAU54D,EAAeC,KAAMkH,MAAO,GACpE/E,OAAQ,CAAEvU,KAAM,SAAU+qE,SAAU54D,EAAeC,KAAMkH,MAAO,GAChEjF,OAAQ,CAAErU,KAAM,SAAU+qE,SAAU54D,EAAeC,KAAMkH,MAAO,GAChE2W,KAAM,CAAEjwB,KAAM,OAAQ+qE,SAAU54D,EAAeC,KAAMkH,MAAO,GAC5D9E,MAAO,CAAExU,KAAM,QAAS+qE,SAAU54D,EAAeC,KAAMkH,MAAO,IAC9D7E,MAAO,CAAEzU,KAAM,QAAS+qE,SAAU54D,EAAeC,KAAMkH,MAAO,IAC9D8vE,KAAM,CAAEppF,KAAM,OAAQ+qE,SAAU54D,EAAeC,KAAMkH,MAAO,OAShD+vE,EAAoB,CAChCtgE,EAAG,CAAE/oB,KAAM,UAAWspF,IAAK,cAC3BC,EAAG,CAAEvpF,KAAM,SAAUspF,IAAK,eAC1BE,WAAY,CAAExpF,KAAM,UAAWspF,IAAK,cACpCG,YAAa,CAAEzpF,KAAM,SAAUspF,IAAK,gBA+BxBl0C,EAAa,CACzBs0C,WAAY,OACZC,WAAY,MACZC,aAAc,OACdC,YAAa,QAGDC,EAA8B,CAC1C,eACA,eAMYC,EAAkC,CAC9C,aACA,SAIY90B,EAAiC,CAC7C,CAAEtxD,MAAO,aAAcjL,MAAO,QAC9B,CAAEiL,MAAO,YAAajL,MAAO,OAC7B,CAAEiL,MAAO,aAAcjL,MAAO,SAKlB8tF,EAA4B,MAC5BC,EAAuB,KAEvBnY,GAAmB0b,EAAA,GAAA96F,OAAA4e,EAAA,EAAA5e,CAAA86F,EAC9B71E,EAAWC,SAASpU,KAAO,CAC3B,CAAE6R,QAAS,2BACX,CAAEA,QAAS,+BAAgC8pC,QAAQ,KAHrBzsD,OAAA4e,EAAA,EAAA5e,CAAA86F,EAK9B71E,EAAWI,OAAOvU,KAAO,CAAC,CAAE6R,QAAS,2BALP3iB,OAAA4e,EAAA,EAAA5e,CAAA86F,EAM9B71E,EAAWE,OAAOrU,KAAO,CAAC,CAAE6R,QAAS,2BANP3iB,OAAA4e,EAAA,EAAA5e,CAAA86F,EAO9B71E,EAAWM,MAAMzU,KAAO,CACxB,CAAE6R,QAAS,qBACX,CAAEA,QAAS,4BATmB3iB,OAAA4e,EAAA,EAAA5e,CAAA86F,EAW9B71E,EAAWK,MAAMxU,KAAO,CACxB,CAAE6R,QAAS,qBACX,CAAEA,QAAS,4BAbmB3iB,OAAA4e,EAAA,EAAA5e,CAAA86F,EAAA,UAetB,CAAC,CAAEn4E,QAAS,6BAfUm4E,qCCvIhC,IAAAC,EAAAzkF,EAAA,KAEMue,EAAUmmE,cAEDnmE,uCCJf,IAAAkiE,EAAAzgF,EAAA,IAEI2kF,EAAe,CAClB95F,QAAS,IAAIk2E,UACb6jB,OAAQ,CACPpqF,KAAM,GACNjP,MAAO,GACP6hB,SAAU,GACVy3E,YAAa,GACbv5D,KAAM,GACNw5D,UAAW,GACXC,UAAW,GACXC,eAAe,GAEhB5sF,QAAS,CACRE,UAAU,IAAIA,YAAW0gC,WACzBvgC,OAAQ,IAAIA,SAAO,CAAEqiC,KAAM,CAAEoU,YAAY,KAAUlW,WACnDrgC,QAAQ,IAAIA,UAASqgC,YAEtBisD,YAAa,GACbj0F,cAAe,CACdk0F,UAAW,GACX3rF,QAAS,GACTmC,MAAO,IAER5C,MAAO,CACNR,SAAU,GACVG,OAAQ,GACRE,OAAQ,IAET/I,SAAU,GACVH,GAAI,CACHC,OAAQ,GACRI,WAAY,IAEbopB,OAAQ,GACR4D,QAAS,CACRlnB,KAAM,IAEPxG,IAAK,CACJG,KAAM,IAEP8B,SAAU,QACVyG,YAAa,GACbG,gBAAiB,CAChB8qB,QAAS,IAEVoiE,iBAAkB,GAClBrxC,KAAM,GACN5oD,SAAU,GACVk6F,WAAY,CACXC,UAAW,KACXC,QAAS,IAEVr6F,OAAQ,GACRjC,OAAQ,CACPC,QAAS,GACTs8F,OAAQ,GACRn9E,WAAY,IAEblW,UAAW,CAAEI,UAAW,OACxBvH,SAAU,CACTyC,eAAgB,GAChBJ,uBAAwB,IAEzBqB,aAAc,IAGAk2F,2BCpEfjtE,EAAAC,QAAiB3X,EAAA4X,EAAuB,oECAxCF,EAAAC,QAAiB3X,EAAA4X,EAAuB,6DCAxCF,EAAAC,QAAA,00MCAA3X,EAAAC,EAAAC,EAAA,sBAAAymE,IAAA3mE,EAAAC,EAAAC,EAAA,sBAAAslF,IAAAxlF,EAAAC,EAAAC,EAAA,sBAAAkpE,IAAAppE,EAAAC,EAAAC,EAAA,sBAAA2mE,IAAA7mE,EAAAC,EAAAC,EAAA,sBAAA22C,IAAA72C,EAAAC,EAAAC,EAAA,sBAAAy5C,IAAA35C,EAAAC,EAAAC,EAAA,sBAAAulF,IAAAzlF,EAAAC,EAAAC,EAAA,sBAAAy7C,IAAA37C,EAAAC,EAAAC,EAAA,sBAAA6jC,IAAO,IAAM4iC,EAAmB,mBACnB6e,EAAsB,sBACtBpc,EAA2B,2BAC3BvC,EAAyB,yBACzBhwB,EAAmB,mBACnB8C,EAAyB,yBACzB8rC,EAA4B,4BAC5B9pC,EAAwB,wBACxB5X,EAA8B,0NCH3CxvB,SAAOqiD,OAAO8uB,YAAY,aAElBjS,EAAwCd,IAAxCc,SAAUN,EAA8BR,IAA9BQ,SAAUS,EAAoBjB,IAApBiB,gBA+BtB+R,EAAkB,SAAAxhF,GACvB,IAAMyhF,EA9Ba,SAAAzhF,GAAY,IACvB0hF,EAAaj9F,eAAbi9F,SACR,OAAO,IAAIrxE,WAASqxE,EAAUpS,EAASL,IAAKjvE,GA4B3B2hF,CAAY3hF,GACvB7Z,EA1Bc,SAAA6Z,GAAY,IAAA4hF,EACLn9F,eAAnB0B,iBADwB,IAAAy7F,EACZ,GADYA,EAEhC,OAAO,IAAIvxE,WACVlqB,EAAUV,QACV+oF,IAAUroF,EAAU07F,UAAU5S,IAC9BjvE,GAqBiB8hF,CAAa9hF,GACzB+hF,EARoB,SAAA/hF,GAAY,IAC9BgiF,EAAwBv9F,eAAxBu9F,oBACR,OAAO,IAAI3xE,WAAS2xE,EAAqBvS,EAAgBR,IAAKjvE,GAMtCiiF,CAAmBjiF,GAc3C,MAZgB,CACfA,WACAsvE,SAAUmS,EACVzS,SAAUA,EACVQ,IAAKrpF,EACL+7F,UAAW/7F,EACXspF,gBAAiBsS,EACjBpjF,SAAU,SAAA7Y,GAAA,IAAG+7F,EAAH/7F,EAAG+7F,SAAUp8F,EAAbK,EAAaL,QAAb,OA3BK,SAAAR,GAAqC,IAAlC+a,EAAkC/a,EAAlC+a,SAAU6hF,EAAwB58F,EAAxB48F,SAAUp8F,EAAcR,EAAdQ,QACvC,OAAO,IAAI4qB,WAAS5qB,EAAS+oF,IAAUqT,GAAU5S,IAAKjvE,GA2BpDrB,CAAS,CAAEqB,WAAU6hF,WAAUp8F,aAChCub,YAAa,SAAA9a,GAAA,IAAGT,EAAHS,EAAGT,QAAH,OAzBK,SAAAE,GAA2B,IAAxBqa,EAAwBra,EAAxBqa,SAAUva,EAAcE,EAAdF,QAGhC,OAFyB,IAAI4qB,WAAS5qB,EAASupF,EAASC,IAAKjvE,GAwB9BgB,CAAY,CAAEhB,WAAUva,eAMlD08F,EAAY,WACjB,IAAMniF,EAAW,IAAIoQ,SAAOgyE,UAAUC,gBACrCh2F,iEAED,OAAOm1F,EAAgBxhF,IAGlBsiF,EAAmB,IAAIjkF,QAAQ,SAACC,EAASuS,GAC9CkjB,OAAOwuD,iBAAiB,OAAQ,WAC/B,IAAMC,EAAWzuD,OAAOyuD,SAClBC,EAAO1uD,OAAO0uD,KACpB,OAAOnkF,EAAQ,CACdkkF,WACAC,aAKGC,EAAY,eAAAr8F,EAAAd,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAG,SAAAO,IAAA,IAAA9W,EAAAi8F,EAAAD,EAAAxiF,EAAA,OAAA+vE,EAAA3rF,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACailF,EADb,UAAA97F,EAAAmX,EAAAC,KACZ6kF,EADYj8F,EACZi8F,KAAMD,EADMh8F,EACNg8F,SACVxiF,EAAW,MAEXwiF,EAJgB,CAAA7kF,EAAAN,KAAA,gBAAAM,EAAAP,KAAA,EAAAO,EAAAN,KAAA,GAMZmlF,EAASG,SANG,eAQlB3iF,EAAW,IAAIoQ,SAAOgyE,UAAUQ,aAAaJ,GAR3B7kF,EAAAK,OAAA,SAUXwjF,EAAgBxhF,IAVL,cAAArC,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SAYlBuV,QAAQpL,MAAM,iCAAdnK,EAAAI,IACM,IAAI8J,MAAMlK,EAAAI,GAAImK,SAbF,QAAAvK,EAAAN,KAAA,qBAmBXolF,EAnBW,CAAA9kF,EAAAN,KAAA,gBAoBnB6V,QAAQpL,MAAM,sDACdoL,QAAQpL,MAAM,mCArBKnK,EAAAN,KAAA,GAsBN8kF,IAtBM,eAAAxkF,EAAAK,OAAA,SAAAL,EAAAC,MAAA,eAwBnBsV,QAAQpL,MAAM,kCACdoL,QAAQpL,MAAM,mCAzBKnK,EAAAN,KAAA,GA0BN8kF,IA1BM,eAAAxkF,EAAAK,OAAA,SAAAL,EAAAC,MAAA,yBAAAD,EAAAO,SAAAZ,EAAA,kBAAH,yBAAAjX,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GA8BZw+F,EAAY,eAAAl7F,EAAApC,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAG,SAAAC,IAAA,OAAA+yE,EAAA3rF,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAa,OAAA,SAEbmkF,KAFa,wBAAAhlF,EAAAe,SAAAlB,MAAH,yBAAArV,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAKZ8a,EAAY,SAAAoJ,GAIjB,OAAIA,IAASiC,IAAWC,SAASpU,KACzBqsF,IAEAG,KAIHC,EAAiB,eAAAj7F,EAAAtC,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAG,SAAAqC,IAAA,IAAArX,EAAAy6F,EAAAv2F,EAAA,OAAA8jF,EAAA3rF,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EACEilF,EADF,UAAAv6F,EAAAwX,EAAA3B,OACjB4kF,EADiBz6F,EACjBy6F,UADiB,CAAAjjF,EAAAlC,KAAA,eAGlBpR,EAAKoG,SAASmwF,EAASO,eAAgB,IAHrBxjF,EAAAvB,OAAA,SAIjB/R,GAJiB,cAAAsT,EAAAvB,OAAA,SAMjB,MANiB,yBAAAuB,EAAArB,SAAAkB,MAAH,yBAAAvX,EAAAqP,MAAAkH,KAAA/Z,YAAA,GAUjBq8E,EAAmB,eAAAx4E,EAAA3C,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAG,SAAA0B,IAAA,IAAArW,EAAAo6F,EAAA,OAAAzS,EAAA3rF,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACAilF,EADA,UAAAl6F,EAAA8W,EAAAtB,KACnB4kF,EADmBp6F,EACnBo6F,SADmB,CAAAtjF,EAAA7B,KAAA,eAAA6B,EAAAlB,OAAA,SAGnB,MAHmB,WAMvBwkF,EAASQ,WANc,CAAA9jF,EAAA7B,KAAA,eAAA6B,EAAAlB,OAAA,SAOnBwM,IAAWC,SAASpU,MAPD,cAAA6I,EAAAlB,OAAA,SAUpB,MAVoB,wBAAAkB,EAAAhB,SAAAO,MAAH,yBAAAvW,EAAAgP,MAAAkH,KAAA/Z,YAAA,wBCpIzBkvB,EAAAC,QAAiB3X,EAAA4X,EAAuB,6DCAxCF,EAAAC,QAAiB3X,EAAA4X,EAAuB,8DCAxCF,EAAAC,QAAiB3X,EAAA4X,EAAuB,k7NCE3B8L,EAAU8oD,IAAMtxD,SAEhBA,EAAWsxD,IAAMtxD,SAEjBpyB,EAAW0jF,IAAM1jF,wHCCvB,SAASsxC,EAAcnkC,EAAM/C,GACnC,OAAO,SAASgoB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNjxD,QAASlgC,EACT/C,MAAOA,KAKH,SAASm0F,EAAepxF,EAAM/C,EAAOo0F,GAC3C,OAAO,SAASpsE,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNnxF,KAAMA,EACN/C,MAAOA,EACPo0F,SAAUA,KAKN,SAASC,EAAmBtxF,EAAM/C,EAAOo0F,GAC/C,OAAO,SAASpsE,EAAUpyB,GACzB,IAAMoC,EAAWa,YAA0BjD,KAC3C,OAAOoyB,EAAS,CACfxoB,KAAM00F,KACNl8F,WACA+K,KAAMA,EACN/C,MAAOA,EACPo0F,SAAUA,KAKN,SAAS10B,EAATxpE,GAQJ,IAPFsJ,EAOEtJ,EAPFsJ,KACA+nB,EAMErxB,EANFqxB,OAME+sE,EAAAp+F,EALF+U,aAKE,IAAAqpF,EALM,GAKNA,EAAAC,EAAAr+F,EAJF4wB,eAIE,IAAAytE,KAHFvtE,EAGE9wB,EAHF8wB,WACAX,EAEEnwB,EAFFmwB,aACAG,EACEtwB,EADFswB,IAEA,OAAO,SAASwB,GACf,IAAM9qB,EAAK+xD,IAAOulC,UAelB,OAdAxsE,EAAS,CACRxoB,KAAM00F,IACNvuE,MAAO,CACNnmB,OACA+nB,SACAtc,QACA6b,UACAE,aACAX,eACAG,MACAtpB,QAIKA,GAIF,SAASwoB,EAAY+uE,GAC3B,OAAO,SAASzsE,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNvuE,MAAO8uE,KAKH,SAASvrB,EACfx+C,EACAC,GAIC,IAAA/zB,EAAAtB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHgE,GAGhEo/F,EAAA99F,EAHCqzB,oBAGD,IAAAyqE,EAHgB,GAGhBA,EAAAC,EAAA/9F,EAHoBozB,mBAGpB,IAAA2qE,EAHkC,GAGlCA,EAAAC,EAAAh+F,EAHsC+R,aAGtC,IAAAisF,EAH8C,GAG9CA,EAAAC,EAAAj+F,EAHkD+nB,YAGlD,IAAAk2E,EAHyD,GAGzDA,EAFD3qE,EAEC50B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EADDiwB,EACCnwB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACD,sBAAAuB,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeyZ,GAAf,OAAAtQ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACO0Z,EAAS,CACrBxoB,KAAM00F,IACNtqE,QAAS,CACRc,UAAWA,EACXC,SAAUA,EACVjoB,KAAM,CACLunB,aAAcA,EACdD,YAAaA,EACbrhB,MAAOA,EACPgW,KAAMA,GAEPuL,eACAzE,YAbI,cAAA7W,EAAAK,OAAA,SAAAL,EAAAC,MAAA,wBAAAD,EAAAO,SAAAZ,MAAP,gBAAAiB,GAAA,OAAAzY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GAmBM,SAASowC,EAAU3iC,EAAM/C,GAC/B,OAAO,SAASgoB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNnxF,KAAMA,EACN/C,MAAOA,KAKH,SAAS80F,EAAev2F,GAC9B,OAAO,SAASypB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACN31F,KAAMA,KAKF,SAASq6E,EAA0B/8E,GACzC,OAAO,SAASmsB,GAEmB,iBADb,IAAIhsB,gBAAgBH,GACxBk5F,IAAI,UACpBZ,EAAe,qBAAqB,EAApCA,CAA0CnsE,IAKtC,SAASopC,EAAkBzmD,GACjC,sBAAAxT,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAe+Z,EAAUpyB,GAAzB,IAAAoH,EAAA,OAAA0a,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACN,IACOtR,EAAcD,YAAkBnH,KAEtCy+F,EAAmB,cAHhB79F,OAAAC,EAAA,EAAAD,CAAA,GAEyBwG,EAAgB2N,GAC5C0pF,CAAkDrsE,EAAUpyB,GAC3D,MAAOmuB,GACRI,QAAQpL,MAAM,4BAA6BgL,GAC3C27C,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,6BACjBgoB,QAAS,KAHV44C,CAIG13C,GAXE,wBAAA5Z,EAAAe,SAAAlB,MAAP,gBAAAmB,EAAAwB,GAAA,OAAAzZ,EAAAgR,MAAAkH,KAAA/Z,YAAA,GAgBM,SAAS0/F,EAAoB51C,EAAYthD,GAC/C,OAAO,SAASkqB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNp2F,gBACAshD,gBAKI,SAAS61C,EAAwBn3F,GACvC,OAAO,SAASkqB,GACf,OAAOgtE,EAAoB,YAAal3F,EAAjCk3F,CAAgDhtE,IAIlD,SAASktE,EAAT59F,GAA4C,IAAX+7B,EAAW/7B,EAAX+7B,QACvC,OAAO,SAASrL,GACf,IACC03C,EAAS,CACRlgE,KAAM,SACN+nB,OAECd,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC9C,MAAM,UACNsT,KAAK,QACLpJ,QAAQ,YACRjK,QAAS,WACJwtE,QAEHA,OAAO5rF,OAAOsJ,KAAd,eAAApb,EAAAjB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAmB,SAAAqC,EAAeu+B,GAAf,OAAAl3B,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EACZgB,QAAQjZ,IAAIu4C,EAAM53C,IAAI,SAAAsQ,GAAI,OAAI6tF,OAAOrpD,OAAOxkC,MADhC,wBAAAkJ,EAAArB,SAAAkB,MAAnB,gBAAAK,GAAA,OAAAjZ,EAAA0Q,MAAAkH,KAAA/Z,YAAA,IAID0vC,OAAOrpC,SAASm2E,QAAO,KAGvBhzE,YAAU,YAGbmM,MAAOnM,YAAU,mCAAoC,CACpDH,KAAM,CAAC00B,KAERvM,QAAS,KAxBV44C,CAyBG13C,GACF,MAAOjE,GACRI,QAAQpL,MAAM,mBAAoBgL,GAClC27C,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,oBACjBgoB,QAAS,KAHV44C,CAIG13C,KAKC,SAASotE,IACf,OAAO,SAASptE,GACf,IACC03C,EAAS,CACRlgE,KAAM,SACNwnB,YAAY,EACZO,OAECd,EAAApxB,EAAAqxB,cAAC8D,EAAA,EAAD,CACC9C,MAAM,UACNsT,KAAK,QACLpJ,QAAQ,YACRjK,QAAS,WACRqd,OAAOpe,KAAK,+BAAgC,UAC5Coe,OAAOrpC,SAASm2E,QAAO,KAGvBhzE,YAAU,cAGbmM,MAAOnM,YAAU,uBAAwB,CACxCH,KAAM,CAACG,YAAU,gBAElBgoB,QAAS,KApBV44C,CAqBG13C,GACF,MAAOjE,GACRI,QAAQpL,MAAM,mBAAoBgL,GAClC27C,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,oBACjBgoB,QAAS,KAHV44C,CAIG13C,KAKC,SAASywD,EAAqB58E,GACpC,OAAO,SAASmsB,GACf,IAAMmuD,EAAe,IAAIn6E,gBAAgBH,GAEnCxD,EAAQ89E,EAAa4e,IAAI,iBACzB/8F,EAAWm+E,EAAa4e,IAAI,oBAC5BM,EAAQlf,EAAa4e,IAAI,iBACzB14F,GAAQ85E,EAAa4e,IAAI,eAAiB,IAAIx+E,cAEhDle,GAASL,IAAaq9F,EACzB31B,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,yBAA0B,CAC1CH,KAAM,CAACtG,EAAOL,KAEf8uB,QAAS,KALV44C,CAMG13C,GACO3vB,GAASL,GAAYq9F,GAC/B31B,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,+BAAgC,CAChDH,KAAM,CAACtG,EAAOL,EAAUq9F,KAEzBvuE,QAAS,KALV44C,CAMG13C,GAGA,CAAC,aAAc,aAAaopB,SAAS/0C,IACxC83F,EAAe,WAAY93F,EAA3B83F,CAAiCnsE,IAK7B,SAAS6wD,EAAwBh9E,GACvC,OAAO,SAASmsB,GAKd1qB,UAJoB,IAAItB,gBAAgBH,GAG3Bk5F,IAAIz3F,cAGjB62F,EAAe,mBAAmB,EAAlCA,CAAwCnsE,IAKpC,SAAS4lD,EAAgC0nB,GAC/C,OAAO,SAASttE,EAAUpyB,GACzBy+F,EAAmB,4BAA6BiB,EAAhDjB,CACCrsE,EACApyB,IAKI,SAASgI,IACf,OAAO,SAASoqB,EAAUpyB,GACzBy+F,EAAmB,sBAAsB,EAAzCA,CAA+CrsE,EAAUpyB,yBC3S9C2/F,EAAc,SAAAxxE,GAC1B,OAAKA,EAEqB,kBAARA,EACVA,EAAIrB,KAAOqB,EAAI5K,SAAW4K,EAAIib,QAAUjb,EAAIhL,MACzCkS,MAAMwjC,QAAQ1qC,GACjBA,EAAI2qC,KAAK,MAET3qC,EANA,aCAIyxE,GAA2B,SAAAt/F,GAA0B,IAAvBirE,EAAuBjrE,EAAvBirE,OAAQnmE,EAAe9E,EAAf8E,SAClD,OAAe,OAAXmmE,QAA8B3rE,IAAX2rE,EACfA,EAGDhmE,sBAAWgmE,EAAQnmE,GACxBuoF,IAAItoF,wBAAa,MACjBwW,sBCmBGiuD,GAAW,SAAAxpE,GAAwC,IAArCsJ,EAAqCtJ,EAArCsJ,KAAMi2F,EAA+Bv/F,EAA/Bu/F,SAAU92F,EAAqBzI,EAArByI,KAAMqpB,EAAe9xB,EAAf8xB,SACzC,OAAO0tE,EAAW,CACjB1tE,SAAUA,EACVxoB,KAAMA,EACNyL,MAAOnM,YAAU22F,EAAU,CAAE92F,KAAMA,IACnCmoB,QAAS,KAJH4uE,CAKJ1tE,IAGE2tE,GAAsB,SAAA/+F,GAA0B,IAAvBynC,EAAuBznC,EAAvBynC,QAASpmC,EAAcrB,EAAdqB,QACvC,OAAO2nB,MAAMye,GACXxrB,KAAK,SAAA+iF,GACL,OAAOA,EAAKC,SAEZhjF,KAAK,SAAAijF,GAEL,OADAn4D,IAAIa,gBAAgBH,GACb03D,YAAY,CAClBC,UAAWF,EACXG,UAAW,aACXh+F,QAASA,OAKN,SAAS8hD,GAAch3C,EAAMo/B,EAAWt8B,EAAU8/B,GAExD,OADA5iC,EAAOmzF,OAAKC,aAAa,CAAEpzF,OAAMo/B,YAAWwD,aACrC,SAAS3d,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNnxF,OACA8C,cAKI,SAASo0C,GAAal3C,GAC5B,OAAO,SAASilB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNnxF,KAAMA,KAKF,SAAS27E,KACf,OAAO,SAAS12D,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,OAMF,SAASl6C,GAAQj3C,GACvB,IAAMmC,EAAO1O,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,GACrB,sBAAAhM,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeyZ,EAAUpyB,GAAzB,IAAAD,EAAAsC,EAAAm+F,EAAAC,EAAA,OAAA3+E,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAP,KAAA,EAEC1Y,EAAQC,IACRqC,EAAUO,YAAc7C,GAHzBiZ,EAAAN,KAAA,EAIoBqnF,GAAoB,CAC5Ct3D,QAASn5B,EAAQ0iC,KAAKvJ,QACtBpmC,YANI,cAICm+F,EAJDxnF,EAAAC,KAOD/F,KAEJ5D,EAAQ+B,SAAR,UAAAyB,OAA6B0tF,GAC7BlxF,EAAQgC,UAAYhC,EAAQ0iC,KAAKxJ,KACjCl5B,EAAQyC,QAAUsX,KAAKC,MAXlBtQ,EAAAN,KAAA,GAaiBgoF,YAAW,CAChClT,KAAM,IAAI79E,SAAOL,GAASqxF,UAC1Bt+F,YAfI,QAaCo+F,EAbDznF,EAAAC,KAkBLmZ,EAAS,CACRxoB,KAAM00F,IACNnxF,KAAM,IAAIwC,SAAO8wF,GAASvwD,WAC1BjgC,SAAU,WAGX65D,GAAS,CACR13C,SAAUA,EACVxoB,KAAM,SACNi2F,SAAU,wBACV92F,KAAM,CAAC,SAAUuG,EAAQyD,SA5BrBiG,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SA+BLuV,QAAQpL,MAAM,oBAAdnK,EAAAI,IACA0wD,GAAS,CACR13C,SAAUA,EACVxoB,KAAM,SACNi2F,SAAU,oBACV92F,KAAM,CAAC,SAADiQ,EAAAI,MApCF,yBAAAJ,EAAAO,SAAAZ,EAAA,kBAAP,gBAAAiB,EAAAJ,GAAA,OAAArY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GA0CM,SAAS2yD,GAAQllD,GACvB,IAAMmC,EAAO1O,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,GACrB,sBAAA5L,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAe+Z,EAAUpyB,GAAzB,IAAAD,EAAAsC,EAAAb,EAAAqR,EAAA2tF,EAAAhT,EAAAoT,EAAAH,EAAA,OAAA3+E,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAC,KAAA,EAEC1Y,EAAQC,IACRqC,EAAUO,YAAc7C,GACxByB,EAAYH,eACdwR,EAAe,MACfvD,EAAQ0iC,KAAKshB,YANZ,CAAA96C,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAOqBqnF,GAAoB,CAC5Ct3D,QAASn5B,EAAQ0iC,KAAKvJ,QACtBpmC,YATG,cAOEm+F,EAPFhoF,EAAAS,KAUA/F,KAEEs6E,EAAO,IAAI79E,SAAO,CACvB/F,KAAM0F,EAAQ1F,KACdyH,SAAQ,UAAAyB,OAAY0tF,GACpBt6C,UAAW52C,EAAQ42C,UACnB50C,UAAWhC,EAAQ0iC,KAAKxJ,KACxBz2B,QAASsX,KAAKC,MACdvW,MAAOzD,EAAQyD,MACf4+B,YAAariC,EAAQqiC,YACrBoZ,UAAW,GACXC,KAAM,GACN61C,UAAU,IAtBProF,EAAAE,KAAA,GAyBkBgoF,YAAW,CAChClT,KAAMA,EAAKmT,UACXt+F,YA3BG,QAyBEu+F,EAzBFpoF,EAAAS,KA8BJpG,EAAe+tF,EAAQ1tF,KA9BnB,eAiCL5D,EAAQuD,aAAeA,EACvBvD,EAAQyC,QAAUsX,KAAKC,MAEnBha,EAAQwC,mBACXxC,EAAQwC,iBAARlR,OAAAsxB,EAAA,EAAAtxB,CAAA,GACEY,EAAUV,QAAU8+F,GAAyB,CAC7Cr0B,OAAQj8D,EAAQwC,iBAChB1M,SAAU5D,EAAU4D,aAxClBoT,EAAAE,KAAA,GA6CiBooF,YAAW,CAChCr4B,KAAM,IAAI54D,SAAOP,GAASqxF,UAC1Bt+F,YA/CI,QA6CCo+F,EA7CDjoF,EAAAS,KAkDLmZ,EAAS,CACRxoB,KAAM00F,IACNnxF,KAAM,IAAI0C,SAAO4wF,GAASvwD,WAC1BjgC,SAAU,WAGX65D,GAAS,CACR13C,SAAUA,EACVxoB,KAAM,SACNi2F,SAAU,wBACV92F,KAAM,CAAC,SAAUuG,EAAQyD,SA5DrByF,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SA+DL+V,QAAQpL,MAAM,oBAAd3K,EAAAY,IACA0wD,GAAS,CACR13C,SAAUA,EACVxoB,KAAM,SACNi2F,SAAU,oBACV92F,KAAM,CAAC,SAADyP,EAAAY,MApEF,yBAAAZ,EAAAe,SAAAlB,EAAA,kBAAP,gBAAA2C,EAAAF,GAAA,OAAAvZ,EAAAgR,MAAAkH,KAAA/Z,YAAA,GA0EM,SAASqhG,KACf,sBAAAr/F,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqC,EAAe2X,EAAUpyB,GAAzB,IAAA+B,EAAAjB,EAAAsS,EAAAR,EAAA/Q,EAAAmB,EAAAg+F,EAAAC,EAAA,OAAAn/E,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAnC,KAAA,EAEC1W,EAAUD,YAAc9B,KACtBc,EAAYiB,EAAQK,SAApBtB,QACFsS,EAAQ8tF,YAAW,CAAE9+F,SAAUtB,IAC/B8R,EAAQuuF,YAAW,CAAE/+F,SAAUtB,IALhC8Z,EAAAlC,KAAA,EAO8BgB,QAAQjZ,IAAI,CAAC2S,EAAOR,IAPlD,OAAA/Q,EAAA+Y,EAAA3B,KAAAjW,EAAApC,OAAA4J,EAAA,EAAA5J,CAAAiB,EAAA,GAOEm/F,EAPFh+F,EAAA,GAOYi+F,EAPZj+F,EAAA,GASDd,YAAWlC,OACdohG,GAAY,CAAEpxF,MAAOgxF,EAAU/wF,SAAU,UAAzCmxF,CAAqDhvE,GACrDgvE,GAAY,CAAEpxF,MAAOixF,EAAUhxF,SAAU,UAAzCmxF,CAAqDhvE,IAXjDxX,EAAAlC,KAAA,iBAAAkC,EAAAnC,KAAA,GAAAmC,EAAAxB,GAAAwB,EAAA,SAcL2T,QAAQpL,MAAM,oBAAdvI,EAAAxB,IACA0wD,GAAS,CACR13C,WACAxoB,KAAM,SACNi2F,SAAU,oBACV92F,KAAM,CAAC42F,EAAW/kF,EAAAxB,OAnBd,yBAAAwB,EAAArB,SAAAkB,EAAA,kBAAP,gBAAAS,EAAAc,GAAA,OAAAta,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GA0BM,SAASkxC,KAAoC,IAAA1tC,EAAAxD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAnByN,EAAuBjK,EAAvBiK,KAAM8C,EAAiB/M,EAAjB+M,SAClC,sBAAA7M,EAAAxC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAesY,EAAUpyB,GAAzB,IAAAsH,EAAAvF,EAAAM,EAAA4X,EAAAzY,EAAA8N,EAAA+xF,EAAAtxD,EAAA04B,EAAA+kB,EAAAn9E,EAAA,OAAAyR,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,OAEN44B,EAAc,UADNhqC,EAAO6F,EAAP7F,KACqB,EAA7BgqC,CAAmClf,GAF7B7X,EAAA9B,KAAA,EAIG1W,EAAY/B,IAAWC,QAAvB8B,QACAM,EAAYN,EAAQI,OAApBE,QALH4X,EAMiBna,eAAd0B,EANHyY,EAMGzY,UAEF8N,EARD1O,OAAAC,EAAA,EAAAD,CAAA,GAQgBuM,GACjBk0F,EAAc,KACdtxD,EAAW,KAVVx1B,EAAAnB,GAYGnJ,EAZHsK,EAAA7B,KAaC,WAbD6B,EAAAnB,GAAA,GA+BC,WA/BDmB,EAAAnB,GAAA,GAoCC,aApCDmB,EAAAnB,GAAA,0BAc0C,kBAAlC9J,EAAQ0iC,KAAKlgC,mBACvBxC,EAAQwC,iBAARlR,OAAAsxB,EAAA,EAAAtxB,CAAA,GACEY,EAAUV,QAAU8+F,GAAyB,CAC7Cr0B,OAAQj8D,EAAQ0iC,KAAKlgC,iBACrB1M,SAAU5D,EAAU4D,aAIa,kBAAzBkK,EAAQ0iC,KAAKn+B,QACvBvE,EAAQuE,QAAUvE,EAAQ0iC,KAAKn+B,QAE/BvE,EAAQuE,QAAU,KAEb40D,EAAO,IAAI54D,SAAOP,GAASgyF,aA3B9B/mF,EAAA7B,KAAA,GA4BkB6oF,YAAa,CAAE94B,OAAMnhE,KAAIjF,YA5B3C,eA4BHg/F,EA5BG9mF,EAAAtB,KA4BuDwvD,KAC1D14B,EAAWlgC,SA7BR0K,EAAAlB,OAAA,2BAgCGm0E,EAAO,IAAI79E,SAAOL,GAASgyF,aAhC9B/mF,EAAA7B,KAAA,GAiCkB8oF,YAAa,CAAEhU,OAAMlmF,KAAIjF,YAjC3C,eAiCHg/F,EAjCG9mF,EAAAtB,KAiCuDu0E,KAC1Dz9C,EAAWpgC,SAlCR4K,EAAAlB,OAAA,2BAqCGhJ,EAAW,IAAIb,WAASF,GAASgyF,aArCpC/mF,EAAA7B,KAAA,GAsCkB+oF,YAAe,CAAEpxF,WAAU/I,KAAIjF,YAtCjD,eAsCHg/F,EAtCG9mF,EAAAtB,KAuCD5I,SACF0/B,EAAWvgC,WAxCR+K,EAAAlB,OAAA,0BA2CG,IAAI6J,MAAMha,YAAU,sBA3CvB,QA8CLkpB,EAAS,CACRxoB,KAAM00F,IACNnxF,KAAM,IAAI4iC,EAASsxD,GAAanxD,WAChCjgC,aAGD65D,GAAS,CACR13C,WACAxoB,KAAM,SACNi2F,SAAU,wBACV92F,KAAM,CAACkH,EAAU9C,EAAK4F,SAxDlBwH,EAAA7B,KAAA,iBAAA6B,EAAA9B,KAAA,GAAA8B,EAAA8K,GAAA9K,EAAA,SA2DLgU,QAAQpL,MAAM,oBAAd5I,EAAA8K,IACAykD,GAAS,CACR13C,WACAxoB,KAAM,SACNi2F,SAAU,oBACV92F,KAAM,CAACkH,EAADsK,EAAA8K,MAhEF,QAmENisB,EAAc,SAAWnkC,EAAK7F,IAAI,EAAlCgqC,CAAyClf,GAnEnC,yBAAA7X,EAAAhB,SAAAO,EAAA,kBAAP,gBAAA8D,EAAA4xE,GAAA,OAAApsF,EAAAmP,MAAAkH,KAAA/Z,YAAA,GAuEM,SAASgiG,KAA6C,IAAAn+F,EAAA7D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAA5ByN,EAAgC5J,EAAhC4J,KAAgC5J,EAA1BwsC,SAA0BxsC,EAAhBlB,SAC5C8K,EAAIvM,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,IACPw0F,UAAW,EAKV,SAASC,KAAoC,IAAAn+F,EAAA/D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAlByN,EAAsB1J,EAAtB0J,KAAM9K,EAAgBoB,EAAhBpB,QAInC,OAHA8K,EAAIvM,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,IACPw0F,UAAW,EAET/wD,GAAW,CACjBzjC,KAAMA,EACN9K,QAASA,EACTw/F,WAAY,uBACZz4D,OAAQ,uBAIV,IAAM04D,GAAkB,SAAAr4C,GACvB,OAAO7oD,OAAO+S,KAAK41C,MAASv9C,KAC3B,SAAAmB,GAAI,OAAIo8C,KAAQp8C,GAAM8yB,IAAIn0B,OAAO,SAAAgB,GAAI,OAAIA,EAAK1C,QAAUq/C,IAAK9pD,OAAS,KAIjE,SAASg3D,KAA6C,IAAA/yD,EAAAlE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAA7ByN,EAAiCvJ,EAAjCuJ,KAAM8C,EAA2BrM,EAA3BqM,SAAU8/B,EAAiBnsC,EAAjBmsC,SAC3C,sBAAAhsC,EAAAnD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2H,EAAeqS,GAAf,IAAA9iB,EAAAm5B,EAAAs5D,EAAAC,EAAAC,EAAAjwD,EAAA,OAAAlwB,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAsH,EAAAvH,KAAA,GAECnJ,EAAUgxF,OAAKC,aAAa,CAAEpzF,OAAM4iC,cAClCzoC,GAAK,GACbgI,EAAQ0iC,KAARpxC,OAAAC,EAAA,EAAAD,CAAA,GACIi7F,IAAavsF,QAAQW,GAAU+hC,KADnC,CAEC+X,QAAS58C,EAAK49C,UAAU3pD,IAAI,SAACV,EAAGmV,GAC/B,IAAMjC,EAAMkuF,GAAgBphG,EAAE+oD,MAAQ,GACtC,MAAO,CACN71C,IAAKiC,EACL2zC,WAAY,YACZ1zC,OAAQlC,EACRyB,MAAOnM,YAAS,gBAAA4J,OAAiBc,EAAI6rB,gBACrCkqB,YAAazgD,YAAS,gBAAA4J,OAAiBc,EAAI6rB,gBAC3CxI,OAAOr2B,OAAAC,EAAA,EAAAD,CAAA,GAAMF,QAKV+nC,EAAUpF,UAAQC,wBACvBh0B,EAAQ+B,SACR3J,mCArBIsY,EAAAtH,KAAA,EAwBkBsR,MAAMye,GAxBxB,cAwBCs5D,EAxBD/hF,EAAA/G,KAAA+G,EAAA5G,GAyBY2uB,IAzBZ/nB,EAAAtH,KAAA,GAyBsCqpF,EAAS9B,OAzB/C,eAAAjgF,EAAAqF,GAAArF,EAAA/G,KAyBC+oF,EAzBDhiF,EAAA5G,GAyBgB4uB,gBAzBhB3mB,KAAArB,EAAA5G,GAAA4G,EAAAqF,IAAArF,EAAAtH,KAAA,GA0BmBozB,YAAa,CACpCtD,KAAMl5B,EAAQgC,UACd2uB,IAAK+hE,IA5BD,QA0BCC,EA1BDjiF,EAAA/G,KA+BC+4B,EA/BDpxC,OAAAC,EAAA,EAAAD,CAAA,GAgCD0O,EAAQ0iC,KAhCP,CAiCJxJ,KAAMr7B,EAAKmE,UACXm3B,QAASu5D,EACT3uE,MAAO4uE,EAAU5uE,MACjBsG,OAAQsoE,EAAUtoE,SAGnBrqB,EAAQ0iC,KAAOA,EAEf5f,EAAS,CACRxoB,KAAM00F,IACNnxF,KAAMmC,EACNW,aA5CI+P,EAAAtH,KAAA,iBAAAsH,EAAAvH,KAAA,GAAAuH,EAAAsF,GAAAtF,EAAA,SA+CLuO,QAAQpL,MAARnD,EAAAsF,IACAwkD,GAAS,CACR13C,SAAUA,EACVxoB,KAAM,SACNi2F,SAAU,mBACV92F,KAAM,CAACkH,EAAD+P,EAAAsF,MApDF,yBAAAtF,EAAAzG,SAAAwG,EAAA,kBAAP,gBAAArB,GAAA,OAAA3a,EAAAwO,MAAAkH,KAAA/Z,YAAA,GA0DM,SAASwiG,KAAoC,IAAAh+F,EAAAxE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAlByN,EAAsBjJ,EAAtBiJ,KAAM9K,EAAgB6B,EAAhB7B,QAInC,OAHA8K,EAAIvM,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,IACPg1F,WAAY,EAEVvxD,GAAW,CACjBzjC,KAAMA,EACN9K,QAASA,EACTw/F,WAAY,yBACZz4D,OAAQ,uBAIH,SAASg5D,KAAsC,IAAA/9F,EAAA3E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAlByN,EAAsB9I,EAAtB8I,KAAM9K,EAAgBgC,EAAhBhC,QAIrC,OAHA8K,EAAIvM,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,IACPg1F,WAAY,EAEVvxD,GAAW,CACjBzjC,KAAMA,EACN9K,QAASA,EACTw/F,WAAY,2BACZz4D,OAAQ,yBAIH,SAASi5D,GAAel1F,GAC9B,OAAO,SAASilB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNnxF,KAAMA,KAKF,SAASm1F,GAAkBn1F,EAAMo1F,GACvC,OAAO,SAASnwE,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNnxF,KAAMA,EACNsJ,KAAM8rF,KAKF,SAASnB,GAAT38F,GAA0C,IAAnBuL,EAAmBvL,EAAnBuL,MAAOC,EAAYxL,EAAZwL,SACpC,OAAO,SAAAmiB,GACN,OAAOA,EAAS,CACfxoB,KAAM00F,IACNtuF,MAAOA,EACPC,SAAUA,KAKN,IAAM44E,GAAgB,WAC5B,OAAO,SAAAz2D,GACN,OAAOA,EAAS,CACfxoB,KAAM00F,QAKIkE,GAAa,SAAA59F,GAAc,IAAXomD,EAAWpmD,EAAXomD,KAC5B,OAAO,SAAA54B,GACN,OAAOA,EAAS,CACfxoB,KAAM00F,KACNtzC,KAAMA,MAKIy3C,GAAY,SAAAx9F,GAAa,IAAVwkD,EAAUxkD,EAAVwkD,IAC3B,OAAO,SAAAr3B,GACN,OAAOA,EAAS,CACfxoB,KAAM00F,IACN70C,IAAKA,MC1cKi5C,GAAS,SAAApiG,GAMhB,IAAA8sB,EAAA9sB,EALLgrB,YAKK,IAAA8B,EALE,GAKFA,EAJL/F,EAIK/mB,EAJL+mB,IACAzD,EAGKtjB,EAHLsjB,KACA++E,EAEKriG,EAFLqiG,WAEKC,EAAAtiG,EADL8B,gBACK,IAAAwgG,EADM,SACNA,EACL,IAAKt3E,IAASjE,IAAQs7E,QAAuB/iG,IAATgkB,EACnC,MAAM,IAAIV,MAAM,kCAGjB8K,aAAaM,QACZ,QAAU1K,EAAO,IAAM0H,EAAK3K,cAAgB,IAAMve,EAClDilB,EAAM,IAAMs7E,IAIDE,GAAS,SAAA7hG,GAAwC,IAAA8hG,EAAA9hG,EAArCsqB,YAAqC,IAAAw3E,EAA9B,GAA8BA,EAAAC,EAAA/hG,EAA1BoB,gBAA0B,IAAA2gG,EAAf,GAAeA,EAAXn/E,EAAW5iB,EAAX4iB,KAC9Co/E,EAAah1E,aAAaC,QAC7B,QAAUrK,EAAO,IAAM0H,EAAK3K,cAAgB,IAAMve,GAGnD,IAAK4gG,EACJ,OAAO,KAIR,IAAI37E,GADJ27E,EAAaA,EAAWrgG,MAAM,MACT,GACjBuJ,EAAO82F,EAAW,GAEtB,OAAK92F,GAAQwB,SAASxB,EAAM,KAAOmd,KAAKC,MAChC,KAEAjC,iICiDI47E,GAAgB,SAACC,EAAU15F,GAAgC,IAArB25F,EAAqBzjG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,EAC3D0jG,EAjFoB,WAC1B,IAAMC,EAASjzC,KAAOkzC,MAGhBC,EAAqBlxF,KAAK2U,OAC9Bq8E,EAAOzmC,QAAQ7L,UAAYsyC,EAAOzmC,QAAQ4mC,QAAQ,QAAnD,OAGD,MAAO,CACNC,SAAU,CACT/L,MAAOtnC,OACLozC,QAAQ,UACRlqF,IAAI,EAAG,UACPoqF,SAAS,EAAG,SACdC,IAAKvzC,OAASozC,QAAQ,WAEvBI,YAAa,CACZlM,MAAOtnC,OACLszC,SAAS,EAAG,OACZF,QAAQ,QACRzyC,UACF4yC,IAAKvzC,OACHozC,QAAQ,QACRzyC,WAEH8yC,UAAW,CACVnM,MAAO2L,EACLzmC,QACA4mC,QAAQ,OACRlqF,IAAyB,EAArBiqF,EAAwB,SAC5BG,SAAS,EAAG,QACZ3yC,UACF4yC,IAAKN,EACHzmC,QACA4mC,QAAQ,OACRlqF,IAAyB,EAArBiqF,EAAwB,SAC5BjqF,IAAI,EAAG,SACPy3C,WAEH+yC,SAAU,CACTpM,MAAOtnC,OACLkzC,MACAE,QAAQ,WACRzyC,UACF4yC,IAAKvzC,OACHkzC,MACAS,MAAM,WACNhzC,WAEHizC,SAAU,CACTtM,MAAOtnC,OACLszC,SAAS,EAAG,QACZF,QAAQ,WACRzyC,UACF4yC,IAAKvzC,OACHszC,SAAS,EAAG,QACZK,MAAM,WACNhzC,WAEHkzC,UAAW,CACVvM,MAAOtnC,OACLozC,QAAQ,SACRzyC,UACF4yC,IAAKvzC,OACH2zC,MAAM,SACNhzC,WAEHmzC,UAAW,CACVxM,MAAOtnC,OACLszC,SAAS,EAAG,SACZF,QAAQ,SACRzyC,UACF4yC,IAAKvzC,OACHszC,SAAS,EAAG,SACZK,MAAM,SACNhzC,YAMcozC,GACZj4F,EAAO,CACZk4F,SAAUhB,EAAUK,SACpBrrD,KAAM,CAAEisD,QAAS,EAAG7W,KAAM,WAE3B,OAAQhkF,GACP,IAAK,OACJ0C,EAAKk4F,SAAWhB,EAAUK,SAC1Bv3F,EAAKksC,KAAO,CAAEisD,QAAS,EAAG7W,KAAM,UAChC,MACD,IAAK,MACJthF,EAAKk4F,SAAWhB,EAAUQ,YAC1B13F,EAAKksC,KAAO,CAAEisD,QAAS,EAAG7W,KAAM,QAChC,MACD,IAAK,OACJthF,EAAKk4F,SAAWhB,EAAUS,UAC1B33F,EAAKksC,KAAO,CAAEisD,QAAS,EAAG7W,KAAM,QAChC,MACD,QACC,OAAO0V,EAGT,IADA,IAAMoB,EAAU,GAEX5qB,EAAItpB,KAAOlkD,EAAKk4F,SAAS1M,OAC7Bhe,EAAE6qB,KAAKr4F,EAAKk4F,SAAST,MAAQ,EAC7BjqB,EAAEpgE,IAAIpN,EAAKksC,KAAKisD,QAASn4F,EAAKksC,KAAKo1C,MAEnC8W,EAAQj3F,KAAK,CAAEjD,MAAO+4F,EAAcj3F,KAAiB,IAAXwtE,EAAE8qB,SAG7C,IAAMC,EAAqBvB,EAASp3F,OAAO,SAAArM,GAC1C,IAAMi6E,EAAItpB,KAAO3wD,EAAEyM,MACnB,OAAOwtE,EAAE6qB,KAAKr4F,EAAKk4F,SAAS1M,QAAU,GAAKhe,EAAE6qB,KAAKr4F,EAAKk4F,SAAST,MAAQ,IAGnE72F,EAAO,GAAAgG,OAAAlS,OAAA2D,GAAA,EAAA3D,CAAI6jG,GAAuBH,GAAS9jG,OAAO,SAACsM,EAAMrN,GAC9D,IAAMsV,EAAOnU,OAAAC,EAAA,EAAAD,CAAA,GAAQkM,GACf1C,EAAQ0C,EAAKrN,EAAEyM,OAASzM,EAAE2K,OAAS+4F,EAGzC,OAFApuF,EAAQtV,EAAEyM,MAAQ9B,EAEX2K,GACL,IASH,OAPenU,OAAOimD,QAAQ/5C,GAC5B1L,IAAI,SAAAd,GAAA,IAAAU,EAAAJ,OAAA4J,EAAA,EAAA5J,CAAAN,EAAA,GAAEsT,EAAF5S,EAAA,SAAmB,CACvBoJ,MADIpJ,EAAA,GAEJkL,MAAO0H,KAEPkB,KAAK,SAACrV,EAAGI,GAAJ,OAAUJ,EAAEyM,KAAOrM,EAAEqM,iBC5HtB,SAAew4F,KAAtB,OAAAC,GAAApyF,MAAAkH,KAAA/Z,wDAAO,SAAA2Y,IAAA,IAAAiE,EAAAlX,EAAAkT,EAAAs2E,EAAA3sF,EAAA2iG,EAAAC,EAAA,OAAA/iF,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAA4D,EACejb,eAAb+D,EADFkX,EACElX,SACFkT,EAAiBvX,eAFjByX,EAAAE,KAAA,EAGoBm2E,cAHpB,cAGAD,EAHAp2E,EAAAS,KAKAhX,EAAW2sF,EAAY9iF,OAC5B,SAAAsT,GAAO,QAAM9G,EAAe8G,EAAQrO,gBAG/B6zF,EAAc3iG,EAASzB,OAAO,SAAC4S,EAAOgM,GAC3C,IAAM0lF,EAAMlkG,OAAAC,EAAA,EAAAD,CAAA,GAAQwS,GAMpB,OALAgM,EAAQnO,KAAKR,QAAQi8B,QAAQ,SAAA8gD,GAC5BsX,EAAOtX,EAAK5jF,MAAQk7F,EAAOtX,EAAK5jF,OAAS,GACzCk7F,EAAOtX,EAAK5jF,MAAMyD,KAAK+R,KAGjB0lF,GACL,IAEGD,EAAmBjkG,OAAO+S,KAAKixF,GAAapkG,OAAzB,eAAAF,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KACxB,SAAAO,EAAOosF,EAAWnxF,GAAlB,IAAAvQ,EAAA2hG,EAAAC,EAAA9uF,EAAAN,EAAAuJ,EAAAtN,EAAAH,EAAAuzF,EAAAvvF,EAAAwvF,EAAA,OAAArjF,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACqBqsF,EADrB,OACO1hG,EADP2V,EAAAC,KAEO+rF,EAAiBJ,EAAYhxF,GAE/BqxF,EAAqB5/F,wBAAa,KAClC8Q,EAAc9Q,wBAAa,KAEtBwQ,EAAQ,EAPlB,YAOqBA,EAAQmvF,EAAerlG,QAP5C,CAAAqZ,EAAAN,KAAA,gBAQQ0G,EAAU4lF,EAAenvF,GARjCmD,EAAAN,KAAA,GAUiCS,aAAsB,CACpDxB,MAAOW,EAAe8G,EAAQrO,cAC9B6G,QAASvS,wBAAa+Z,EAAQnO,KAAKa,oBAZtC,eAUQA,EAVRkH,EAAAC,KAAAD,EAAAN,KAAA,GAc8BS,aAAsB,CACjDxB,MAAOW,EAAe8G,EAAQrO,cAC9B6G,QAASvS,wBAAa+Z,EAAQzN,iBAhBjC,QAcQA,EAdRqH,EAAAC,KAmBEgsF,EAAqBA,EAAmB3rF,IAAIxH,GAC5CqE,EAAcA,EAAYmD,IAAI3H,GApBhC,QAOoDkE,IAPpDmD,EAAAN,KAAA,uBAuBOwsF,EAAmBD,EAAmBtX,IAC3CtoF,wBAAa2/F,EAAerlG,SAEvBgW,EAASuvF,EAAiBntF,IAAI1S,wBAAa,UAE3C8/F,EA5BPvkG,OAAAC,EAAA,EAAAD,CAAA,GA4B0ByC,IACbuQ,GAAO,GACnBuxF,EAAYvxF,GAAKlQ,IAAM,CACtByS,cACA+uF,mBACAvvF,UAGDwvF,EAAYvxF,GAAK/P,UAAY,CAC5BsS,YAAaxK,aAAkBwK,EAAa/Q,GAAU,EAAO,GAC7D8/F,iBAAkBv5F,aACjBu5F,EACA9/F,GACA,EACA,GAEDuQ,OAAQhK,aAAkBgK,EAAQvQ,GAAU,EAAO,IA5CrD4T,EAAAK,OAAA,SA+CQ8rF,GA/CR,yBAAAnsF,EAAAO,SAAAZ,MADwB,gBAAAiB,EAAAJ,GAAA,OAAAlZ,EAAAiS,MAAAkH,KAAA/Z,YAAA,GAkDxBga,QAAQC,QAAQ,KArEXnB,EAAAa,OAAA,SAwECwrF,GAxED,wBAAArsF,EAAAe,SAAAlB,6BCqBP,IAAMu3D,GAAsBloE,6CAEtB09F,GAAkB,SAAC57F,EAAW/C,GACnC,IAAM4+F,EAAc,GAepB,OAbA5J,KAAgC/uD,QAAQ,SAAA5hC,GAAS,OAChD0wF,KAA4B9uD,QAAQ,SAAA3hC,GAAM,OACzCs6F,EAAYh4F,KAAZzM,OAAAC,EAAA,EAAAD,CAAA,CACCmK,SACAvB,YACA/C,OACAqE,aACa,cAATrE,GACQ,iBAAXsE,GAA6B,CAAEkgB,kBAAkB,SAK9Co6E,GAGFC,GAA2B,WAChC,IAAMD,EAAc,GAIpB,OAHA5J,KAAgC/uD,QAAQ,SAAA5hC,GAAS,OAChDu6F,EAAYh4F,KAAK,CAAEvC,gBAEbu6F,GAGR,SAASE,GAATjlG,GAKG,IAJF8K,EAIE9K,EAJF8K,KACAwjF,EAGEtuF,EAHFsuF,YACA4W,EAEEllG,EAFFklG,UACAltF,EACEhY,EADFgY,eAEA,IAAK1X,OAAO+S,KAAKi7E,GAAajvF,OAC7B,MAAO,GAFN,IAAA8lG,EAM4Br6F,EAC5B0J,KAAK,SAACrV,EAAGI,GAAJ,OAAUA,EAAEqM,KAAOzM,EAAEyM,OAC1B1L,OACA,SAACsM,EAAMrN,GAAM,IACJyM,EAASzM,EAATyM,KACAw5F,EAAgC54F,EAAhC44F,aAAczjG,EAAkB6K,EAAlB7K,SAAUxB,EAAQqM,EAARrM,IAC1BwT,EAAYxU,EAAEwU,UAAU0M,cAHlB3f,EAMX4tF,EAAY36E,IAAc,GADnBtC,EALI3Q,EAKJ2Q,cAAe49E,EALXvuF,EAKWuuF,WAAYx+E,EALvB/P,EAKuB+P,aAAcQ,EALrCvQ,EAKqCuQ,OALrCo0F,EAQsBrtF,EAAevH,GAAzC2+E,EARIiW,EAQJjW,YAAax2E,EARTysF,EAQSzsF,SACbpB,EAAQ0tF,EAAUz0F,GAAlB+G,IAEF8tF,EADuB,YAAXr0F,EACa2H,EAAWw2E,EAEpCx7E,EAAUjS,EAASgS,IAAc,CAAE7I,KAAM,IAEzChB,EAAQ/E,wBAAa5F,EAAE2K,OAAS,GACpC2N,IAAI1S,wBAAakqF,GAAc,IAC/B5B,IAAItoF,wBAAasM,GAAiB,IAEpCuC,EAAQ9I,KAAKiC,KAAK,CAAEjD,QAAO8B,SAE3B,IAAM25F,EAAcH,EAAax5F,IAAS,CACzCA,OACA9B,MAAO/E,wBAAa,IAEfygG,EAAsBzgG,wBAAa6O,EAAQ9J,OAAS,GAAGkP,IAAIlP,GAE3D27F,EAAgBD,EAAoBxgG,GAAGD,wBAAaugG,IACpDI,EAAmBH,EAAYz7F,MAIrC,GAFA8J,EAAQ9J,MAAQ07F,EAEZC,IAAkB7xF,EAAQ+xF,cAAe,CAC5C/xF,EAAQ+xF,eAAgB,EAKxB,IAJA,IAAMC,EAAmBJ,EAAoBrX,IAAIppF,wBAAayS,IACxDquF,EAAe9gG,wBAAa,GAC5B+gG,EAASlyF,EAAQ9I,KAEdyK,EAAQuwF,EAAOzmG,OAAS,EAAGkW,GAAS,EAAGA,IAAS,CACxD,IAAM4nD,EAAQ2oC,EAAOvwF,GACrBswF,EAAa7sF,IAAImkD,EAAMrzD,OAEvB,IAAMi8F,EAAeX,EAAajoC,EAAMvxD,OAAS,CAChDA,OACA9B,MAAO/E,wBAAa,IAGjB8gG,EAAa/V,GAAG8V,IACnBG,EAAaj8F,MAAQi8F,EAAaj8F,MAAMkP,IAAImkD,EAAMrzD,OAClDs7F,EAAajoC,EAAMvxD,MAAQm6F,GAE3BA,EAAaj8F,MAAQi8F,EAAaj8F,MAAMkP,IACvC6sF,EAAa1X,IAAIyX,IAEnBR,EAAajoC,EAAMvxD,MAAQm6F,EAC3B,YAESN,GAAiB7xF,EAAQ+xF,gBACnCJ,EAAYz7F,MAAQA,EAAMkP,IAAI0sF,IAO/B,OAJA/jG,EAASgS,GAAaC,EACtBwxF,EAAax5F,GAAQ25F,EACrBplG,EAAIyL,GAAQzM,EAAE2K,OAAS3J,EAAIyL,GAEpB,CAAEw5F,eAAczjG,WAAUxB,QAElC,CAAEilG,aAAc,GAAIzjG,SAAU,GAAIxB,IAAK,KAtEjCilG,EANND,EAMMC,aAAcjlG,EANpBglG,EAMoBhlG,IAmFtB,OAT2BG,OAAOuJ,OAAOu7F,GAActkG,IACtD,SAAAD,GAAqB,IAAlB+K,EAAkB/K,EAAlB+K,KAAM9B,EAAYjJ,EAAZiJ,MAIR,MAAO,CAAE8B,OAAM9B,WAFAxK,IAAda,EAAIyL,IACH7G,wBAAa+E,GAAO8iB,UAA0B,MAAdzsB,EAAIyL,GACP,KAAO9B,KAOlC,SAASihF,KACf,sBAAA9pF,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAe+Z,EAAUpyB,GAAzB,IAAAD,EAAAgC,EAAA0E,EAAA+C,EAAAolF,EAAA4W,EAAAltF,EAAAumF,EAAA9zE,EAAA1I,EAAAikF,EAAAC,EAAA,OAAAzkF,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACA3Y,EAAQC,IACR+B,EAAUD,YAAc/B,GAExB0G,EAAOD,aAAWzG,GAClByJ,EAAYD,YAAyBxJ,GACrC6uF,EAAcpqF,YAAkCzE,GAChDylG,EAAYplG,YAAwBL,GACpCuY,EAAiBvX,aAA4BhB,GAR7CyY,EAAAC,KAAA,EAUComF,EAAU/0B,EAAS,CACxBlgE,KAAM,UACNyL,MAAOnM,YAAU,wBACjBgoB,SAAS,EACTE,YAAY,EACZR,KAAK,GALUk5C,CAMb13C,GAhBE5Z,EAAAE,KAAA,GAkBoBiH,aAAsB,CAC9CC,YAAagwD,GACb7tE,YApBI,eAkBCgpB,EAlBDvS,EAAAS,KAuBL6W,EAAY+uE,EAAZ/uE,CAAqBsC,GAErBo0E,GAA0B,CACzBC,QAAQ7lG,OAAAsxB,EAAA,EAAAtxB,CAAA,GAAIgvE,GAAsB7kD,IADnCy7E,CAEGp0E,EAAUpyB,GAEPqiB,EAAS+iF,GAAgB57F,EAAW/C,GACtC6/F,GAAiB,EACfC,EAAelkF,EAAOjhB,IAAP,eAAAM,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAW,SAAAO,EAAMjQ,GAAN,OAAAoZ,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OAC/BoS,aAAkBlqB,OAAAC,EAAA,EAAAD,CAAA,GACd8H,EADa,CAEhBqiB,gBAEC9N,KAAK,SAAApb,GAA4B,IAAzBqpB,EAAyBrpB,EAAzBqpB,WAAYngB,EAAalJ,EAAbkJ,OACd27F,EACI,cAATjgG,GAAmC,iBAAXsE,EACrBK,EAAOs7F,EACRnB,GAAuB,CACvBn6F,KAAM8f,EAAW9f,KACjBwjF,cACA4W,YACAltF,mBAEA4S,EAAW9f,KAER+3F,EAAeuD,EAAwB,KAAO,EAEpDx7E,EAAW9f,KAAO63F,GAAc73F,EAAM5B,EAAW25F,IACjDmD,EACCA,GAAkBK,GAAiB3mG,EAAU+B,KAG7CqwB,EAASxxB,OAAAC,EAAA,EAAAD,CAAA,CACRgJ,KAAM00F,KACH51F,EAFI,CAGP0B,MAAMxJ,OAAAC,EAAA,EAAAD,CAAA,GAAMsqB,QAId/N,MAAM,SAAAgR,GACNI,QAAQpL,MAAM,uBAAwBgL,KAhCT,wBAAAnV,EAAAO,SAAAZ,MAAX,gBAAAqC,GAAA,OAAAtZ,EAAA6Q,MAAAkH,KAAA/Z,YAAA,IA/BhB8Y,EAAAE,KAAA,GAmECgB,QAAQjZ,IAAI8lG,GAnEb,QAAA/tF,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SAqEL+V,QAAQpL,MAAM,gBAAd3K,EAAAY,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,gBAAiB,CAAEH,KAAM,CAAC42F,EAAWnnF,EAAAY,OACtD8X,QAAS,KAHV44C,CAIG13C,GA1EE,yBAAA5Z,EAAAe,SAAAlB,EAAA,kBAAP,gBAAAuB,EAAAJ,GAAA,OAAAjY,EAAAgR,MAAAkH,KAAA/Z,YAAA,GA+EM,SAAS+rF,KACf,sBAAAzoF,EAAApC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAesY,EAAUpyB,GAAzB,IAAA+B,EAAA88F,EAAA9zE,EAAA1I,EAAAikF,EAAAC,EAAAz5F,EAAA,OAAAgV,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cACE3W,EAAY/B,IAAWC,QAAvB8B,QADFwY,EAAA9B,KAAA,EAGComF,EAAU/0B,EAAS,CACxBlgE,KAAM,UACNyL,MAAOnM,YAAU,wBACjBgoB,SAAS,EACTE,YAAY,EACZR,KAAK,GALUk5C,CAMb13C,GATE7X,EAAA7B,KAAA,EAWoBiH,aAAsB,CAC9CC,YAAagwD,GACb7tE,YAbI,cAWCgpB,EAXDxQ,EAAAtB,KAgBL6W,EAAY+uE,EAAZ/uE,CAAqBsC,GAErBo0E,GAA0B,CACzBC,QAAQ7lG,OAAAsxB,EAAA,EAAAtxB,CAAA,GAAIgvE,GAAsB7kD,IADnCy7E,CAEGp0E,EAAUpyB,GAEPqiB,EAASijF,KACXgB,GAAiB,EACfC,EAAelkF,EAAOjhB,IAAP,eAAA8B,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAW,SAAAqC,EAAM/R,GAAN,IAAA0B,EAAA,OAAA0X,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAnC,KAAA,EAAAmC,EAAAlC,KAAA,EAEV0S,aAA2BxqB,OAAAC,EAAA,EAAAD,CAAA,GAC3C8H,EAD0C,CAE7CqiB,gBAJ6B,cAExB3gB,EAFwBwQ,EAAA3B,KAO9BqtF,EAAiBA,GAAkBK,GAAiB3mG,EAAU+B,GAPhC6Y,EAAAvB,OAAA,SASvB,CAAE3Q,OAAM0B,UATe,cAAAwQ,EAAAnC,KAAA,EAAAmC,EAAAxB,GAAAwB,EAAA,SAW9B2T,QAAQpL,MAAM,gCAAdvI,EAAAxB,IAX8BwB,EAAAvB,OAAA,SAYvB,MAZuB,yBAAAuB,EAAArB,SAAAkB,EAAA,iBAAX,gBAAAuB,GAAA,OAAA9Y,EAAAqP,MAAAkH,KAAA/Z,YAAA,IAxBhB6a,EAAA7B,KAAA,GAwCcgB,QAAQjZ,IAAI8lG,GAxC1B,QAwCCz5F,EAxCDyN,EAAAtB,KA0CAqtF,GACJx5F,EACEhB,OAAO,SAAA07B,GAAC,QAAMA,IACdkF,QAAQ,SAAAtpC,GAAA,IAAGsF,EAAHtF,EAAGsF,KAAM0B,EAAThH,EAASgH,MAAT,OACRgoB,EAASxxB,OAAAC,EAAA,EAAAD,CAAA,CACRgJ,KAAM00F,KACH51F,EAFI,CAGP0B,aAjDCmQ,EAAA7B,KAAA,iBAAA6B,EAAA9B,KAAA,GAAA8B,EAAAnB,GAAAmB,EAAA,SAsDLgU,QAAQpL,MAAM,yBAAd5I,EAAAnB,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,yBAA0B,CAC1CH,KAAM,CAAC42F,EAAWplF,EAAAnB,OAEnB8X,QAAS,KALV44C,CAMG13C,GA7DE,yBAAA7X,EAAAhB,SAAAO,EAAA,kBAAP,gBAAAgB,EAAAI,GAAA,OAAAlY,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAkEM,SAASioE,GAAyBn+D,GACxC,sBAAAjG,EAAA3C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2H,EAAeqS,EAAUpyB,GAAzB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,OACN,IACC0Z,EAAS,CACRxoB,KAAM00F,IACNl0F,MAAOZ,IAER6hF,KAAyBj5D,EAAUpyB,GAClC,MAAOmuB,GACRI,QAAQpL,MAAM,gBAAiBgL,GAC/B27C,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,gBAAiB,CAAEH,KAAM,CAAC42F,EAAYxxE,MACvD+C,QAAS,KAHV44C,CAIG13C,GAbE,wBAAApS,EAAAzG,SAAAwG,MAAP,gBAAAnC,EAAA4xE,GAAA,OAAAjsF,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAkBM,SAASspF,KACf,sBAAAvlF,EAAA7C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgD,EAAegX,EAAUpyB,GAAzB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAAlC,OAAA,SACC+Y,EAAS,CACfxoB,KAAM00F,OAFD,wBAAA/iF,EAAAhC,SAAA6B,MAAP,gBAAAsD,EAAAuB,GAAA,OAAAxc,EAAA8O,MAAAkH,KAAA/Z,YAAA,GAOM,IAAMknG,GAAoBC,KAAQ,eAAAjjG,EAAAhD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KACxC,SAAA8D,EAAekW,GAAf,IAAA00E,EAAA,OAAAhlF,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAAmE,EAAAnE,KAAA,EACO44B,EAAcuhB,MAAuB,EAArCvhB,CAA2Clf,GADlD,cAAAvV,EAAApE,KAAA,EAAAoE,EAAAnE,KAAA,EAGgCgsF,KAHhC,OAGQoC,EAHRjqF,EAAA5D,KAKEmZ,EAAS,CACRxoB,KAAM00F,IACNl0F,MAAO08F,IAPVjqF,EAAAnE,KAAA,gBAAAmE,EAAApE,KAAA,EAAAoE,EAAAzD,GAAAyD,EAAA,SAUE0R,QAAQpL,MAAM,6BAAdtG,EAAAzD,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAC9CH,KAAM,CAAC42F,EAAW9iF,EAAAzD,OAEnB8X,QAAS,KALV44C,CAMG13C,GAjBL,eAAAvV,EAAAnE,KAAA,GAmBO44B,EAAcuhB,MAAuB,EAArCvhB,CAA4Clf,GAnBnD,yBAAAvV,EAAAtD,SAAA2C,EAAA,iBADwC,gBAAAmE,GAAA,OAAAzc,EAAA2O,MAAAkH,KAAA/Z,YAAA,GAsBxC,IACA,CAAEqnG,SAAS,EAAMC,UAAU,IAGfl0C,GAA6B,kBAAM,SAAA1gC,GAC/C,OAAOw0E,GAAkBx0E,+DCzSpBw9C,GAAsBloE,6CAGrB,SAASu/F,GAAa11D,EAAMnnC,GAClC,OAAO,SAASgoB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACN/sD,KAAMA,EACNnnC,MAAOA,KAKH,SAAS88F,KACf,OAAO,SAAS90E,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,OAMF,SAAS6I,GAAcj8B,GAC7B,OAAO,SAAS94C,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNv8F,QAASmpE,KAML,SAASsd,KACf,OAAO,SAASp2D,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,OAKF,SAAS8I,GAAT9mG,GAA4C,IAAnBmW,EAAmBnW,EAAnBmW,KAAM81B,EAAajsC,EAAbisC,UACrC,OAAO,SAASna,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACN7nF,KAAMA,EACN81B,UAAWA,KAKP,SAAS86D,GAA6BplG,GAC5C,OAAO,SAASmwB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNr8F,cAKI,SAASgnF,KACf,OAAO,SAAS72D,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,OAKF,SAASgJ,GAAqCrlG,GACpD,OAAO,SAASmwB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNr8F,cAKI,SAASinF,KACf,OAAO,SAAS92D,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,OAKF,SAASiJ,GAATvmG,GAAoC,IAAXw7F,EAAWx7F,EAAXw7F,QAC/B,OAAO,SAASpqE,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACN9B,QAASA,KAQL,SAASmK,GAAiB3mG,EAAU+B,GAC1C,IAAMylG,EAAUtlG,YAAWlC,KACrBynG,EAAe3lG,YAAc9B,KAQnC,OANEwnG,IACAC,EAAatlG,OAAOrB,SACrB2mG,EAAatlG,OAAOrB,UAAYiB,EAAQI,OAAOrB,UAC9C2mG,EAAarlG,SAAStB,UACtB2mG,EAAarlG,SAAStB,WAAaiB,EAAQK,SAAStB,QAKhD,SAASw3F,KACf,sBAAAn3F,EAAAP,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeyZ,EAAUpyB,GAAzB,IAAA+B,EAAAK,EAAAD,EAAArB,EAAAS,EAAAd,EAAA6D,EAAA8X,EAAA1a,EAAAmC,EAAAH,EAAA,OAAAoe,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACA3W,EAAUD,YAAc9B,KADxBgZ,EAAAP,KAAA,EAGGrW,EAAqBL,EAArBK,SAAUD,EAAWJ,EAAXI,OACVrB,EAAYsB,EAAZtB,QAJHkY,EAAAN,KAAA,EAKyCg2E,aAA2B,CACxEznF,aAAcnG,EACdqB,WAPI,cAAAZ,EAAAyX,EAAAC,KAKGxY,EALHc,EAKGd,IAAK6D,EALR/C,EAKQ+C,uBALR0U,EAAAN,KAAA,GAUqCiF,aAAsB,CAC/Dxb,SACArB,UACAid,YAAazZ,IACX6Y,MAAM,SAAAgR,GACRI,QAAQpL,MAAM,2BAA4BgL,KAftC,eAUC/R,EAVDpD,EAAAC,KAAAD,EAAAN,KAAA,GAkB4BqD,aAAgB,CAChDha,UACAqa,8BACA3b,QArBI,WAAAiB,EAAAsX,EAAAC,KAkBGpV,EAlBHnC,EAkBGmC,UAAWH,EAlBdhC,EAkBcgC,IAMdijG,GAAiB3mG,EAAU+B,GAxB3B,CAAAiX,EAAAN,KAAA,gBAAAM,EAAAN,KAAA,GAyBE2uF,GAA6B5mG,EAA7B4mG,CAAkCj1E,GAzBpC,eAAApZ,EAAAN,KAAA,GA0BE4uF,GAAqChjG,EAArCgjG,CACLl1E,GA3BG,eAAApZ,EAAAN,KAAA,GA6BE0uF,GAAc,CACnB76D,UAAW,CAAElpC,MAAO,CAAEQ,YAAWH,SAD5B0jG,CAEHh1E,GA/BC,QAAApZ,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SAkCLuV,QAAQpL,MAAM,YAAdnK,EAAAI,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,YAAa,CAAEH,KAAM,CAAC42F,EAAW3mF,EAAAI,OAClD8X,QAAS,KAHV44C,CAIG13C,GAvCE,yBAAApZ,EAAAO,SAAAZ,EAAA,kBAAP,gBAAAiB,EAAAJ,GAAA,OAAArY,EAAAoR,MAAAkH,KAAA/Z,YAAA,GA4CM,SAASgoG,KACf,sBAAA7lG,EAAAjB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAe+Z,EAAUpyB,GAAzB,IAAAoC,EAAA4B,EAAA2jG,EAAA,OAAA7lF,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACN44B,EAAcqrD,MAA2B,EAAzCrrD,CAA+Clf,GACzChwB,EAAWW,YAAsB/C,KAFjCwY,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAMGkvF,aAAgB,CACtB3gG,aAAc7E,EAAStB,UAPpB,UAAA0X,EAAAY,GAAAZ,EAAAS,KAAAT,EAAAY,GAAA,CAAAZ,EAAAE,KAAA,QAAAF,EAAAY,GAQG,GARH,OAKCpV,EALDwU,EAAAY,IAUCuuF,EAVD/mG,OAAAC,EAAA,EAAAD,CAAA,GAUwBwB,IAEb0C,kBAAoBd,EAAYc,kBAChD6iG,EAAgBE,gBAAkB7jG,EAAY6jG,gBAC9CF,EAAgB3jG,YAAcA,EAE9BojG,GAAc,CACb76D,UAAW,CAAEnqC,SAAUulG,IADxBP,CAEGh1E,GAlBE5Z,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA6M,GAAA7M,EAAA,SAoBLsxD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,gCAAiC,CACjDH,KAAM,CAAC42F,EAAWnnF,EAAA6M,OAEnB6L,QAAS,KALV44C,CAMG13C,GA1BE,QA4BNkf,EAAcqrD,MAA2B,EAAzCrrD,CAA+Clf,GA5BzC,yBAAA5Z,EAAAe,SAAAlB,EAAA,kBAAP,gBAAA2C,EAAAF,GAAA,OAAAjZ,EAAA0Q,MAAAkH,KAAA/Z,YAAA,GAgCM,SAAS8mG,GAATxjG,GAAgD,IAAXyjG,EAAWzjG,EAAXyjG,QAC3C,sBAAAvjG,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqC,EAAe2X,EAAUpyB,GAAzB,IAAAoC,EAAA0lG,EAAAC,EAAA,OAAAjmF,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,OACEtW,EAAapC,IAAWC,QAAQ8B,QAAhCK,SAEF0lG,EAHAlnG,OAAAC,EAAA,EAAAD,CAAA,GAGmBwB,GACnB2lG,EAJAnnG,OAAAC,EAAA,EAAAD,CAAA,GAIkBknG,EAAYjpF,qBAAuB,GAAQ4nF,GAIlE/7E,KAAKC,UAAUm9E,EAAYjpF,uBAC3B6L,KAAKC,UAAUo9E,KAEfD,EAAYjpF,oBAAsBkpF,EAClCX,GAAc,CAAE76D,UAAW,CAAEnqC,SAAU0lG,IAAvCV,CAAwDh1E,IAZnD,wBAAAxX,EAAArB,SAAAkB,MAAP,gBAAAS,EAAAc,GAAA,OAAA9Y,EAAAqP,MAAAkH,KAAA/Z,YAAA,GAiBM,SAASsoG,GAAT5kG,GAKJ,IAJFjB,EAIEiB,EAJFjB,OAIE8lG,EAAA7kG,EAHFhB,gBAGE,IAAA6lG,EAHS,GAGTA,EAFFxlG,EAEEW,EAFFX,MACAylG,EACE9kG,EADF8kG,gBAEA,sBAAA3kG,EAAA3C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAesY,EAAUpyB,GAAzB,IAAAmoG,EAAAC,EAAA3kG,EAAA8e,EAAAqB,EAAAmD,EAAApD,EAAA0C,EAAAziB,EAAA2N,EAAAoxF,EAAA5gG,EAAAsmG,EAAA5hG,EAAA,OAAAqb,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,UACN44B,EAAcusC,MAAkB,EAAhCvsC,CAAsClf,GADhC7X,EAAA9B,KAAA,EAGC0vF,EAHDvnG,OAAAC,EAAA,EAAAD,CAAA,GAGkBuB,GACjBimG,EACLvF,GAAO,CACNv3E,KAAM68E,EAAUrnG,QAChB8iB,KAAMukF,EAAU7lG,SAChBF,SAAUA,EAAStB,WACd,KATFyZ,EAAAnB,KAYFgvF,GAZE7tF,EAAAnB,GAAA,CAAAmB,EAAA7B,KAAA,eAAA6B,EAAA7B,KAAA,EAaG4vF,YAAa,CACnBjmG,QAAS+lG,EACTG,cAAc,IAfX,OAAAhuF,EAAAnB,GAAAmB,EAAAtB,KAAA,WAAAsB,EAAAnB,GAAA,CAAAmB,EAAA7B,KAAA,SAmBJyvF,EAAU9lG,QAAU+lG,EAnBhB7tF,EAAA7B,KAAA,wBAAA6B,EAAA7B,KAAA,GA2BMmO,aAAW,CAAE1kB,OAAQgmG,IA3B3B,eAAA1kG,EAAA8W,EAAAtB,KAsBHsJ,EAtBG9e,EAsBH8e,UACAqB,EAvBGngB,EAuBHmgB,KACAmD,EAxBGtjB,EAwBHsjB,UACApD,EAzBGlgB,EAyBHkgB,KACA0C,EA1BG5iB,EA0BH4iB,UA1BG9L,EAAA7B,KAAA,GA6BiC8vF,YAAW,CAC/CpmG,SAAUA,EAAStB,QACnB8iB,KAAMA,EACNrB,YACAwE,YACApD,OACA0C,YACAoiF,cAAeN,EAAUrnG,UApCtB,QAAA8C,EAAA2W,EAAAtB,KA6BI1H,EA7BJ3N,EA6BI2N,OAAQoxF,EA7BZ/+F,EA6BY++F,WAUD,OAAXpxF,IACHmxF,GAAO,CACNp3E,KAAMnpB,EAAOrB,QACbumB,IAAK9E,EACLqB,KAAMzhB,EAAOG,SACbqgG,WAAYA,EACZvgG,SAAUA,EAAStB,UAEpBqnG,EAAU9lG,QAAUkgB,GA/CjB,eAmDCxgB,EAAU,CACfU,MAAOA,EACPN,OAAQgmG,EACR/lG,SAASxB,OAAAC,EAAA,EAAAD,CAAA,GAAMwB,IAtDXmY,EAAA7B,KAAA,GAyD6BiH,aAAsB,CACvDC,YAAagwD,GACb7tE,YA3DI,WAyDCsmG,EAzDD9tF,EAAAtB,KA8DLlX,EAAQK,SAASyc,oBAAjBje,OAAAsxB,EAAA,EAAAtxB,CAAA,GACEgvE,GAAsBy4B,GAGxBjB,GAAc,CACb76D,UAAU3rC,OAAAC,EAAA,EAAAD,CAAA,GAAMmB,IADjBqlG,CAEGh1E,IAEC81E,EAtEC,CAAA3tF,EAAA7B,KAAA,gBAAA6B,EAAA7B,KAAA,GAuEE+pE,aAAgB,CACrBhgF,MAAON,EAAOM,MACd6hB,SAAUniB,EAAOmiB,WAzEd,QA6EC7d,EAAO2B,aAAsBpI,KAE/B,CAAC,aAAc,aAAaw7C,SAAS/0C,IACxC2rB,EAAS/kB,aAAI,cAAAyF,OAAerM,KAC5B83F,EAAe,WAAY,GAA3BA,CAA+BnsE,IAE/BA,EAAS/kB,aAAK,iBAnFVkN,EAAA7B,KAAA,iBAAA6B,EAAA9B,KAAA,GAAA8B,EAAA8K,GAAA9K,EAAA,SAsFLgU,QAAQpL,MAAM,sBAAd5I,EAAA8K,IACAykD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,sBAAuB,CAAEH,KAAM,CAAC42F,EAAWplF,EAAA8K,OAC5D6L,QAAS,KAHV44C,CAIG13C,GA3FE,QA8FNkf,EAAcusC,MAAkB,EAAhCvsC,CAAuClf,GA9FjC,yBAAA7X,EAAAhB,SAAAO,EAAA,kBAAP,gBAAA8D,EAAA4xE,GAAA,OAAAjsF,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAkGM,SAASijF,KACf,sBAAA5+E,EAAAnD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2H,EAAeqS,GAAf,IAAAs2E,EAAA,OAAA5mF,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAsH,EAAAtH,KAAA,EACYiwF,eADZ,cACAD,EADA1oF,EAAA/G,KAAA+G,EAAA3G,OAAA,SAEC+Y,EAAS,CACfxoB,KAAM00F,IACNoK,SAJK,wBAAA1oF,EAAAzG,SAAAwG,MAAP,gBAAArB,GAAA,OAAA3a,EAAAwO,MAAAkH,KAAA/Z,YAAA,YASckpG,kFAAf,SAAAC,IAAA,IAAAh7F,EAAAwN,EAAAkhF,EAAA,OAAAz6E,EAAAriB,EAAA8Y,KAAA,SAAAuwF,GAAA,cAAAA,EAAArwF,KAAAqwF,EAAApwF,MAAA,cAAAowF,EAAApwF,KAAA,EAC4B8B,aAAUqL,KAAWC,SAASpU,MAD1D,cAAA7D,EAAAi7F,EAAA7vF,KACSoC,EADTxN,EACSwN,SADTytF,EAAApwF,KAAA,EAE0B2C,EAAS0tF,aAFnC,cAEOxM,EAFPuM,EAAA7vF,KAEiDokE,QAFjDyrB,EAAAzvF,OAAA,SAIQkjF,GAJR,wBAAAuM,EAAAvvF,SAAAsvF,sCAOeG,mFAAf,SAAAC,EAAA/kG,GAAA,IAAAoD,EAAAi1F,EAAA2M,EAAA,OAAApnF,EAAAriB,EAAA8Y,KAAA,SAAA4wF,GAAA,cAAAA,EAAA1wF,KAAA0wF,EAAAzwF,MAAA,UAAgCpR,EAAhCpD,EAAgCoD,GAAhC6hG,EAAA/vF,GACmB9R,EADnB6hG,EAAA/vF,GAAA,CAAA+vF,EAAAzwF,KAAA,eAAAywF,EAAAzwF,KAAA,EACgCkwF,KADhC,OAAAO,EAAA/vF,GAAA+vF,EAAAlwF,KAAA,cACOsjF,EADP4M,EAAA/vF,GAEO8vF,EAAUnO,KAAkBwB,IAAc,GAFjD4M,EAAA9vF,OAAA,SAIQ6vF,GAJR,wBAAAC,EAAA5vF,SAAA0vF,sCAOeG,mFAAf,SAAAC,EAAiCrpG,GAAjC,IAAAD,EAAAwgF,EAAAj+E,EAAAgnG,EAAA,OAAAxnF,EAAAriB,EAAA8Y,KAAA,SAAAgxF,GAAA,cAAAA,EAAA9wF,KAAA8wF,EAAA7wF,MAAA,UACO3Y,EAAQC,IACRugF,EAAep6E,aAAmBpG,GAClCuC,EAAWQ,YAAe/C,GAHjCwpG,EAAAnwF,GAME9W,IAAaujB,KAAWC,SAASpU,KANnC63F,EAAAnwF,GAAA,CAAAmwF,EAAA7wF,KAAA,YAAA6wF,EAAAlkF,IAOI/iB,GACgC,aAAjCi+E,EAAa4e,IAAI,aARpBoK,EAAAlkF,GAAA,CAAAkkF,EAAA7wF,KAAA,gBAAA6wF,EAAA7wF,KAAA,EASUqjE,eATV,OAAAwtB,EAAAjkF,GAAAikF,EAAAtwF,KAAAswF,EAAAhkF,GASqCM,KAAWC,SAASpU,KATzD63F,EAAAlkF,GAAAkkF,EAAAjkF,KAAAikF,EAAAhkF,GAAA,QAAAgkF,EAAAnwF,GAAAmwF,EAAAlkF,GAAA,eAKOikF,EALPC,EAAAnwF,GAAAmwF,EAAAlwF,OAAA,SAWQiwF,GAXR,yBAAAC,EAAAhwF,SAAA8vF,6BAcO,SAASG,KAAqC,IAAXliG,GAAW5H,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAP4H,GACzC,sBAAA7C,EAAA7D,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgD,EAAegX,EAAUpyB,GAAzB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAA7C,KAAA,EAEE0wF,GAAkBppG,GAFpB,UAAAub,EAAAnC,GAAAmC,EAAAtC,MAAAsC,EAAAnC,GAAA,CAAAmC,EAAA7C,KAAA,eAAA6C,EAAA8J,GAGL3d,aAHK6T,EAAA7C,KAAA,EAG2BswF,GAAe,CAAE1hG,OAH5C,OAAAiU,EAAA+J,GAAA/J,EAAAtC,KAGmD+hF,IAHnDz/E,EAAAnC,GAAAmC,EAAA8J,KAAA9J,EAAA+J,GAAA,WAAA/J,EAAAnC,GAAA,CAAAmC,EAAA7C,KAAA,SAKL46D,EACC,KACA,KACA,CACCvgE,MAAO7J,YAAU,WACjB6f,KAAM7f,YAAU,mCAAoC,CACnDH,KAAM,CAACgyF,KAAiB,WAAuBrpF,UAGjD,EATD4hE,CAUElhD,GAfG7W,EAAA7C,KAAA,iBAiBL46D,EAAc,KAAM,KAAM,IAAI,GAAM,EAApCA,CAA2ClhD,GAjBtC,yBAAA7W,EAAAhC,SAAA6B,MAAP,gBAAAyE,EAAA4pF,GAAA,OAAAhlG,EAAA8N,MAAAkH,KAAA/Z,YAAA,GAsBM,IAAMgqG,GAA0B,WAAyB,IAAxBC,EAAwBjqG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACxD,sBAAAkF,EAAAhE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8D,EAAetW,EAAG5F,GAAlB,IAAAD,EAAAynG,EAAAzlG,EAAA6nG,EAAAtnG,EAAAunG,EAAA/oG,EAAAsB,EAAA0nG,EAAA,OAAAhoF,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,OACA3Y,EAAQC,IACRwnG,EAAUtlG,YAAWnC,GACrBgC,EAAUD,YAAc/B,GAHxB6pG,EAI6B7nG,EAAQI,OAAnCG,EAJFsnG,EAIEtnG,SAJFunG,EAAAD,EAIY9oG,eAJZ,IAAA+oG,EAIsB,GAJtBA,GAOLrC,GACAllG,IAAaujB,KAAWC,SAASpU,MAC/Bi4F,GACD7oG,EAAQ6f,gBAAkBgpF,EAAehpF,cAG/B6mF,IACLplG,EAAWoD,YAAezF,GACxB+pG,EAA0B1nG,EAA1B0nG,sBACRjnE,cAAQinE,GAAyBA,IAA0BH,IAJ3D9mE,eAZK,wBAAAhmB,EAAAtD,SAAA2C,MAAP,gBAAA6tF,EAAAC,GAAA,OAAAplG,EAAA2N,MAAAkH,KAAA/Z,YAAA,IAqBM,SAASuqG,KACf,sBAAAhlG,EAAArE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0F,EAAelY,EAAG5F,GAAlB,IAAAkF,EAAAmW,EAAA,OAAAyG,EAAAriB,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAAAyF,EAAAzF,KAAA,EACI0wF,GAAkBppG,GADtB,WAAAme,EAAAlF,KAAA,CAAAkF,EAAAzF,KAAA,eAAAyF,EAAAzF,KAAA,EAEsB8B,aAAUqL,KAAWC,SAASpU,MAFpD,OAAAxM,EAAAiZ,EAAAlF,KAEGoC,EAFHnW,EAEGmW,SAGRquF,GAAwBruF,EAASA,SAASqjE,gBAA1CgrB,CAA2D9jG,EAAG5F,GALzD,wBAAAme,EAAA5E,SAAAuE,MAAP,gBAAAosF,EAAAC,GAAA,OAAAllG,EAAAsN,MAAAkH,KAAA/Z,YAAA,GAUM,SAASqjF,KACf,sBAAAl3E,EAAAjL,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgyF,EAAexkG,EAAG5F,GAAlB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAA8xF,GAAA,cAAAA,EAAA5xF,KAAA4xF,EAAA3xF,MAAA,cAAA2xF,EAAA3xF,KAAA,EACWylF,eADX,OAENqL,GAAwB,CAAEliG,GAFpB+iG,EAAApxF,MAENuwF,CAAgC5jG,EAAG5F,GAF7B,wBAAAqqG,EAAA9wF,SAAA6wF,MAAP,gBAAAE,EAAAC,GAAA,OAAA1+F,EAAA0G,MAAAkH,KAAA/Z,YAAA,GAMM,SAASkjF,KACf,sBAAAz2E,EAAAvL,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqH,EAAe7Z,EAAG5F,GAAlB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,OACNqqE,KAAuBn9E,EAAG5F,GAC1BiqG,KAAuBrkG,EAAG5F,GACtBovC,OAAOyuD,WACVzuD,OAAOyuD,SAAS2M,GAAG,kBAAmB,SAAAC,GACrCl8E,QAAQ48C,IAAI,cAAes/B,EAAS,IACpCf,GAAwBe,EAAS,GAAjCf,CAAqC9jG,EAAG5F,KAEzCovC,OAAOyuD,SAAS2M,GAAG,iBAAkB,SAAAtB,GACpC36E,QAAQ48C,IAAI,iBAAkB+9B,GAC9BM,GAAwB,CAAEliG,GAAI4hG,GAA9BM,CAAyC5jG,EAAG5F,MAVxC,wBAAA0f,EAAAnG,SAAAkG,MAAP,gBAAAirF,EAAAC,GAAA,OAAAx+F,EAAAoG,MAAAkH,KAAA/Z,YAAA,YAgBckrG,mFAAf,SAAAC,EAAAx+F,GAAA,IAAA5J,EAAA6hB,EAAAwmF,EAAAnnF,EAAA7V,EAAAi9F,EAAA,OAAAjpF,EAAAriB,EAAA8Y,KAAA,SAAAyyF,GAAA,cAAAA,EAAAvyF,KAAAuyF,EAAAtyF,MAAA,cAA2BjW,EAA3B4J,EAA2B5J,MAAO6hB,EAAlCjY,EAAkCiY,SAC3BwmF,EAAOG,aAAaxoG,GAD3BuoG,EAAAtyF,KAAA,EAEoBwyF,aAAc,CAAEJ,OAAMxmF,aAF1C,cAEOX,EAFPqnF,EAAA/xF,KAAA+xF,EAAAtyF,KAAA,EAGmCyyF,aAAe,CAAExnF,SAHpD,cAAA7V,EAAAk9F,EAAA/xF,KAGS8xF,EAHTj9F,EAGSi9F,gBAHTC,EAAA3xF,OAAA,WAKU0xF,GAAmBA,EAAgB5oG,QAL7C,yBAAA6oG,EAAAzxF,SAAAsxF,sCAQeO,mFAAf,SAAAC,EAAA/+F,GAAA,IAAA7J,EAAA6hB,EAAAhiB,EAAAgpG,EAAAC,EAAAR,EAAA,OAAAjpF,EAAAriB,EAAA8Y,KAAA,SAAAizF,GAAA,cAAAA,EAAA/yF,KAAA+yF,EAAA9yF,MAAA,cAA4BjW,EAA5B6J,EAA4B7J,MAAO6hB,EAAnChY,EAAmCgY,SAAUhiB,EAA7CgK,EAA6ChK,SACtCgpG,EAAaL,aAAaxoG,GADjC+oG,EAAA9yF,KAAA,EAE0BwyF,aAAc,CAAEJ,KAAMQ,EAAYhnF,aAF5D,cAEOinF,EAFPC,EAAAvyF,KAAAuyF,EAAA9yF,KAAA,EAG+Bi4D,aAAsB,CACnDluE,QACA6hB,WACAhiB,aANF,cAGOyoG,EAHPS,EAAAvyF,KAAAuyF,EAAA9yF,KAAA,GASO+yF,aAAa,CAClBhpG,QACAqoG,KAAMQ,EACN3nF,KAAM4nF,EACNR,oBAbF,yBAAAS,EAAAjyF,SAAA8xF,6BAiBO,SAAS3oB,KACf,sBAAAl1E,EAAA5M,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAwG,EAAewT,EAAUpyB,GAAzB,IAAA0rG,EAAAjpG,EAAA6hB,EAAAhiB,EAAAqpG,EAAA,OAAA7pF,EAAAriB,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,UACN44B,EAAcorD,MAAqB,EAAnCprD,CAAyClf,GADnClT,EAAAzG,KAAA,EAAAizF,EAGiCnpG,aAAavC,KAA3CyC,EAHHipG,EAGGjpG,MAAO6hB,EAHVonF,EAGUpnF,SAAUhiB,EAHpBopG,EAGoBppG,SACnBqpG,EAAuB,UAAbrpG,GAAqC,UAAbA,EAJnC4c,EAAA9F,GAMDuyF,GANCzsF,EAAA9F,GAAA,CAAA8F,EAAAxG,KAAA,eAAAwG,EAAAxG,KAAA,EAMkBkyF,GAAU,CAAEnoG,QAAO6hB,aANrC,OAAApF,EAAA9F,IAAA8F,EAAAjG,KAAA,WAAAiG,EAAA9F,GAAA,CAAA8F,EAAAxG,KAAA,gBAAAwG,EAAAxG,KAAA,GAOE0yF,GAAW,CAAE3oG,QAAO6hB,WAAUhiB,aAPhC,QAAA4c,EAAAxG,KAAA,iBAAAwG,EAAAzG,KAAA,GAAAyG,EAAAmG,GAAAnG,EAAA,iBAUNoyB,EAAcorD,MAAqB,EAAnCprD,CAA0Clf,GAVpC,yBAAAlT,EAAA3F,SAAAqF,EAAA,kBAAP,gBAAAgtF,EAAAC,GAAA,OAAAr+F,EAAA+E,MAAAkH,KAAA/Z,YAAA,GAcM,SAASw3E,KACf,sBAAAxqE,EAAA9L,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAmI,EAAe6R,EAAUpyB,GAAzB,IAAA+B,EAAA,OAAA+f,EAAAriB,EAAA8Y,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,UACA3W,EAAUD,YAAc9B,KADxB0gB,EAAAtH,IAELutF,GAAiB3mG,EAAU+B,IAFtB2e,EAAAtH,GAAA,CAAAsH,EAAAhI,KAAA,eAAAgI,EAAAhI,KAAA,EAGEgvF,KAA4Bt1E,EAAUpyB,GAHxC,UAAA0gB,EAAA2E,IAILshF,GAAiB3mG,EAAU+B,IAJtB2e,EAAA2E,GAAA,CAAA3E,EAAAhI,KAAA,eAAAgI,EAAAhI,KAAA,EAKEqoF,KAAc3uE,EAAUpyB,GAL1B,UAAA0gB,EAAA4E,IAOLqhF,GAAiB3mG,EAAU+B,IAPtB2e,EAAA4E,GAAA,CAAA5E,EAAAhI,KAAA,gBAAAgI,EAAAhI,KAAA,GAOyCkwE,KAAU8O,QAPnD,WAAAh3E,EAAA6E,IAQLohF,GAAiB3mG,EAAU+B,IARtB2e,EAAA6E,GAAA,CAAA7E,EAAAhI,KAAA,gBAAAgI,EAAAhI,KAAA,GAQyC+vE,KAAciP,QARvD,WAAAh3E,EAAAorF,IASLnF,GAAiB3mG,EAAU+B,IATtB2e,EAAAorF,GAAA,CAAAprF,EAAAhI,KAAA,gBAAAgI,EAAAhI,KAAA,GAUEgwE,KAAuBgP,QAVzB,WAAAh3E,EAAAqrF,IAWLpF,GAAiB3mG,EAAU+B,IAXtB2e,EAAAqrF,GAAA,CAAArrF,EAAAhI,KAAA,gBAAAgI,EAAAhI,KAAA,GAWyCiwE,KAAc+O,QAXvD,QAaN5kC,KAA6B1gC,EAAUpyB,GAbjC,yBAAA0gB,EAAAnH,SAAAgH,MAAP,gBAAAyrF,EAAAC,GAAA,OAAAv/F,EAAA6F,MAAAkH,KAAA/Z,YAAA,GAiBM,SAAS03E,KACf,sBAAArqE,EAAAnM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8zF,EAAe95E,EAAUpyB,GAAzB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAA4zF,GAAA,cAAAA,EAAA1zF,KAAA0zF,EAAAzzF,MAAA,OACN+vE,KAAclvE,OACdmvE,KAAuBnvE,OACvBovE,KAAcpvE,OACdqvE,KAAUrvE,OAJJ,wBAAA4yF,EAAA5yF,SAAA2yF,MAAP,gBAAAE,EAAAC,GAAA,OAAAt/F,EAAAwF,MAAAkH,KAAA/Z,YAAA,oCCrhBO+X,GAA2BjC,YAA3BiC,uBAEAg4B,GAAyBF,UAAzBE,YAAa1tC,GAAYwtC,UAAZxtC,QACbouD,GAAmBnhD,cAAnBmhD,eAED,SAAS2b,GAATxrE,GAAoE,IAAzCgrB,EAAyChrB,EAAzCgrB,KAAMsgB,EAAmCtrC,EAAnCsrC,MAAOX,EAA4B3qC,EAA5B2qC,SAAUv5B,EAAkBpR,EAAlBoR,KAAM4b,EAAYhtB,EAAZgtB,SAC9D,sBAAAtsB,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeyZ,EAAUpyB,GAAzB,IAAAsC,EAAAnB,EAAA2rB,EAAA2e,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACApW,EAAWQ,YAAe9C,KAD1BgZ,EAAAP,KAAA,EAGDwyB,GAAUA,EAASv5B,EAAM,CAAE+5B,SAAS,IACxC6F,EAAc5/B,EAAMk6B,EAApB0F,CAA2Blf,GAJtBpZ,EAAAN,KAAA,EAKiByU,aAAgB,CACrC7B,OACA+B,aAAa,EACbC,WACAhrB,aATI,OAAAnB,EAAA6X,EAAAC,KAKG6T,EALH3rB,EAKG2rB,IAMF2e,GAAW3e,EAEbme,GACHA,EAASv5B,EAAM,CAAE+5B,QAASA,EAAStd,IAAK,CAAErB,IAAKA,GAAO8e,MAAOA,IAdzD5yB,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SAiBLuV,QAAQpL,MAAM,6BAAdnK,EAAAI,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAC9CH,KAAM,CAAC42F,EAAW3mF,EAAAI,OAEnB8X,QAAS,KALV44C,CAMG13C,GAxBE,QA0BNkf,EAAc5/B,GAAM,EAApB4/B,CAA2Blf,GA1BrB,yBAAApZ,EAAAO,SAAAZ,EAAA,kBAAP,gBAAAiB,EAAAJ,GAAA,OAAAxY,EAAAuR,MAAAkH,KAAA/Z,YAAA,GA8BM,SAASq9E,GAAuB5vE,EAAMm/F,GAC5C,OAAO,SAASl6E,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNnxF,OACA2gE,OAAQw+B,KAKJ,SAAS/7D,GAAsBpjC,EAAMyG,GAC3C,OAAO,SAASwe,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNnxF,OACAyG,SAKI,SAASq3B,GACfc,EACAn4B,EAFMrS,GAIL,IADCkqC,EACDlqC,EADCkqC,QACD8gE,EAAAhrG,EADU4sB,WACV,IAAAo+E,EADgB,CAAEz/E,IAAK,GAAI/jB,KAAM,IACjCwjG,EAAAC,EAAAjrG,EADuCqqC,aACvC,IAAA4gE,KAAAC,EAAAlrG,EADsD6qC,iBACtD,IAAAqgE,KACD,sBAAA/qG,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAe+Z,EAAUpyB,GAAzB,IAAA8tE,EAAA,OAAAhsD,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACD+yB,EAQMW,EACVmE,GAAsBxE,EAAtBwE,CAAkCne,GAElCme,GAAsBxE,EAAYn4B,EAAlC28B,CAAuCne,KAVnC07C,EAAS,IACNl6D,GAAO,CACbw1B,OAAQ1oC,aAAEytB,EAAIrB,IAAK,CAAE/jB,KAAMolB,EAAIplB,OAC/B6iC,MAAOA,GAGRmxC,GAAuBhxC,EAAY+hC,EAAnCiP,CAA2C3qD,IARtC,wBAAA5Z,EAAAe,SAAAlB,MAAP,gBAAA2C,EAAAF,GAAA,OAAApZ,EAAA6Q,MAAAkH,KAAA/Z,YAAA,GAiBM,IAAMgtG,GAAqB,eAAA1pG,EAAApC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAG,SAAAqC,EAAA5Y,GAAA,IAAA4pC,EAAA0T,EAAA0W,EAAA,OAAA/zC,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,UACpC+yB,EADoC5pC,EACpC4pC,QACA0T,EAFoCt9C,EAEpCs9C,QACA0W,EAHoCh0D,EAGpCg0D,WAEIpqB,GAA8B,oBAAZ0T,EALc,CAAAvkC,EAAAlC,KAAA,eAAAkC,EAAAlC,KAAA,EAM7BymC,IAN6B,UAQ/B1T,GAAgC,oBAAdoqB,EARa,CAAAj7C,EAAAlC,KAAA,eAAAkC,EAAAlC,KAAA,EAS7Bm9C,IAT6B,wBAAAj7C,EAAArB,SAAAkB,MAAH,gBAAAS,GAAA,OAAAlY,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAa3B,SAASitG,GAAmB5gE,EAAY0zC,EAAYh9E,EAAOmpC,GACjE,sBAAA1oC,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAesY,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAENuyB,GAASc,EAAY,aAAc,CAClCN,QAFKA,IAAYg0C,KAAgBh9E,GAASg9E,IAAeh9E,EAGzD0rB,IAAK,CAAErB,IAAK,mBACZ8e,SAHDX,CAIG7Y,GANG7X,EAAAlB,OAAA,SAQCoyB,GARD,wBAAAlxB,EAAAhB,SAAAO,MAAP,gBAAAkC,EAAA4B,GAAA,OAAA1a,EAAAqP,MAAAkH,KAAA/Z,YAAA,GAYM,SAASktG,GAAiB7gE,EAAYznB,EAAUsnB,GACtD,sBAAAxoC,EAAAxC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2H,EAAeqS,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cACA+yB,EAAUze,aAAc1I,GAC9B2mB,GAASc,EAAY,WAAY,CAChCN,UACAtd,IAAK,CAAErB,IAAK,gBACZ8e,SAHDX,CAIG7Y,GANGpS,EAAA3G,OAAA,SAQCoyB,GARD,wBAAAzrB,EAAAzG,SAAAwG,MAAP,gBAAAyvE,EAAA9wE,GAAA,OAAAtb,EAAAmP,MAAAkH,KAAA/Z,YAAA,GAYM,SAASmtG,GACf9gE,EACA2zC,EACAp7D,EACAsnB,GAEA,sBAAAroC,EAAA3C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgD,EAAegX,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAENuyB,GAASc,EAAY,gBAAiB,CACrCN,QAFKA,IAAYi0C,KAAmBp7D,GAAYo7D,IAAkBp7D,EAGlE6J,IAAK,CAAErB,IAAK,sBACZ8e,MAAOA,GAHRX,CAIG7Y,GANG7W,EAAAlC,OAAA,SAQCoyB,GARD,wBAAAlwB,EAAAhC,SAAA6B,MAAP,gBAAA6E,EAAAI,GAAA,OAAA9c,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAYM,SAASotG,GAAY/gE,EAAY2zD,EAAU9zD,GACjD,sBAAAnoC,EAAA7C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8D,EAAekW,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAENuyB,GAASc,EAAY,WAAY,CAChCN,QAFKA,IAAYi0D,EAGjBvxE,IAAK,CAAErB,IAAK,iBACZ8e,SAHDX,CAIG7Y,GANGvV,EAAAxD,OAAA,SAQCoyB,GARD,wBAAA5uB,EAAAtD,SAAA2C,MAAP,gBAAA2D,EAAA4pF,GAAA,OAAAhmG,EAAA8O,MAAAkH,KAAA/Z,YAAA,GAYM,SAASitE,GAAT/oE,GAAqD,IAA9B+pB,EAA8B/pB,EAA9B+pB,IAAKie,EAAyBhoC,EAAzBgoC,MAAOX,EAAkBrnC,EAAlBqnC,SAAUv5B,EAAQ9N,EAAR8N,KACnD,sBAAA3N,EAAAnD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0F,EAAesU,EAAUpyB,GAAzB,IAAAsC,EAAA4B,EAAA4oB,EAAA2e,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cACEpW,EAAatC,IAAWC,QAAQ8B,QAAQI,OAAxCG,SADF6b,EAAA1F,KAAA,EAGDwyB,GAAUA,EAASv5B,EAAM,CAAE+5B,SAAS,IACxC6F,EAAc5/B,EAAMk6B,EAApB0F,CAA2Blf,GAJtBjU,EAAAzF,KAAA,EAKiB+U,aAAY,CACjCE,MACArrB,aAPI,OAAA4B,EAAAia,EAAAlF,KAKG6T,EALH5oB,EAKG4oB,IAIF2e,GAAW3e,EACjBwkB,EAAc5/B,GAAM,EAApB4/B,CAA2Blf,GACvB6Y,GACHA,EAASv5B,EAAM,CAAE+5B,QAASA,EAAStd,IAAK,CAAErB,IAAKA,GAAO8e,MAAOA,IAZzDztB,EAAAzF,KAAA,iBAAAyF,EAAA1F,KAAA,GAAA0F,EAAA/E,GAAA+E,EAAA,SAcLoQ,QAAQpL,MAAM,6BAAdhF,EAAA/E,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAAEH,KAAM,CAAAoV,EAAA/E,MACvD8X,QAAS,KAHV44C,CAIG13C,GAnBE,yBAAAjU,EAAA5E,SAAAuE,EAAA,kBAAP,gBAAAisF,EAAAC,GAAA,OAAAjmG,EAAAwO,MAAAkH,KAAA/Z,YAAA,GAuBM,SAASqtG,GAAehhE,EAAY5pC,EAAQypC,GAClD,sBAAAvnC,EAAAzD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgyF,EAAeh4E,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAA8xF,GAAA,cAAAA,EAAA5xF,KAAA4xF,EAAA3xF,MAAA,cACA+yB,IAAYtpC,KAAYA,EAAOrB,QACrCmqC,GAASc,EAAY,SAAU,CAC9BN,QAASA,EACTtd,IAAK,CAAErB,IAAK,0BACZ8e,SAHDX,CAIG7Y,GANGi4E,EAAAhxF,OAAA,SAQCoyB,GARD,wBAAA4+D,EAAA9wF,SAAA6wF,MAAP,gBAAAF,EAAAC,GAAA,OAAA9lG,EAAAkO,MAAAkH,KAAA/Z,YAAA,GAYM,SAASstG,GACfjhE,EACA+9D,EACAl+D,GAEA,sBAAAnnC,EAAA7D,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqH,EAAe2S,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,cAENuyB,GAASc,EAAY,wBAAyB,CAC7CN,QAFKA,IAAYq+D,EAGjB37E,IAAK,CAAErB,IAAK,kCACZ8e,SAHDX,CAIG7Y,GANG1S,EAAArG,OAAA,SAQCoyB,GARD,wBAAA/rB,EAAAnG,SAAAkG,MAAP,gBAAA6qF,EAAAC,GAAA,OAAA9lG,EAAA8N,MAAAkH,KAAA/Z,YAAA,GAYM,SAASutG,GAAsBlhE,EAAY2zD,EAAU9zD,GAC3D,sBAAAhnC,EAAAhE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAwG,EAAewT,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,cAENuyB,GAASc,EAAY,qBAAsB,CAC1CN,QAFKA,IAAYi0D,EAGjBvxE,IAAK,CAAErB,IAAK,4BACZ8e,SAHDX,CAIG7Y,GANGlT,EAAA7F,OAAA,SAQCoyB,GARD,wBAAAvsB,EAAA3F,SAAAqF,MAAP,gBAAA8rF,EAAAC,GAAA,OAAA/lG,EAAA2N,MAAAkH,KAAA/Z,YAAA,GAYM,SAASwtG,GAAsBnhE,EAAYt7B,EAASm7B,GAC1D,sBAAA3mC,EAAArE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAmI,EAAe6R,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,cACA+yB,IAAYh7B,GAAWA,EAAQ9Q,OACrCsrC,GAASc,EAAY,UAAW,CAC/BN,QAASA,EACTtd,IAAK,CAAErB,IAAK,wBACZ8e,SAHDX,CAIG7Y,GANG1R,EAAArH,OAAA,SAQCoyB,GARD,wBAAA/qB,EAAAnH,SAAAgH,MAAP,gBAAA4sF,EAAAC,GAAA,OAAAnoG,EAAAsN,MAAAkH,KAAA/Z,YAAA,GAYM,SAAS2tG,GAATnoG,GAAuE,IAAjC6mC,EAAiC7mC,EAAjC6mC,WAAYzsB,EAAqBpa,EAArBoa,WAAYssB,EAAS1mC,EAAT0mC,MACpE,sBAAA//B,EAAAjL,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8zF,EAAe95E,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAA4zF,GAAA,cAAAA,EAAA1zF,KAAA0zF,EAAAzzF,MAAA,cACA+yB,IACHnsB,GACoB,IAAtBA,EAAW3f,UACT2f,EAAW,MACXA,EAAW,MACXA,EAAW,GAAGhY,MACdgY,EAAW,GAAGqJ,UACS/oB,IAAzB0f,EAAW,GAAGouE,aACW9tF,IAAzB0f,EAAW,GAAGsuE,aACYhuF,IAA1B0f,EAAW,GAAGuuE,WACZvuE,EAAW,GAAGhY,MACdgY,EAAW,GAAGqJ,UACS/oB,IAAzB0f,EAAW,GAAGouE,aACW9tF,IAAzB0f,EAAW,GAAGsuE,aACYhuF,IAA1B0f,EAAW,GAAGuuE,QAEf5iD,GAASc,EAAY,aAAc,CAClCN,UACAtd,IAAK,CAAErB,IAAK,kBACZ8e,SAHDX,CAIG7Y,GArBG+5E,EAAA9yF,OAAA,SAuBCoyB,GAvBD,wBAAA0gE,EAAA5yF,SAAA2yF,MAAP,gBAAAN,EAAAC,GAAA,OAAAhgG,EAAA0G,MAAAkH,KAAA/Z,YAAA,GA2BD,IAAM4tG,GAAkB,SAAAnhG,GAIlB,IAAAohG,EAAAphG,EAHLmvC,kBAGK,IAAAiyD,EAHQloG,wBAAa,GAGrBkoG,EAFL57F,EAEKxF,EAFLwF,cACAG,EACK3F,EADL2F,iBAEIqR,EAAQ,KAiBZ,OAhBKxR,EAAcub,UAAYvb,EAAcrM,GAAGg2C,KAC/Cn4B,EAAQ,CACPI,QAAS,oCACTguB,KAAM,mBAGH5/B,EAAcub,UAAYvb,EAAcy+E,GAAGt+E,KAC/CqR,EAAQ,CAAEI,QAAS,uBAAwBguB,KAAM,qBAE9C5/B,EAAcqG,IAAI3S,wBAAa,MAClC8d,EAAQ,CAAEI,QAAS,mBAAoBguB,KAAM,kBAE1Cz/B,EAAiBkG,IAAI3S,wBAAa,MACrC8d,EAAQ,CAAEI,QAAS,eAAgBguB,KAAM,qBAGnC,CAAEpuB,UAGH,SAASqqF,GAATnhG,GASJ,IARF0/B,EAQE1/B,EARF0/B,WACAo+B,EAOE99D,EAPF89D,iBACAsjC,EAMEphG,EANFohG,qCACAC,EAKErhG,EALFqhG,2CACAtoG,EAIEiH,EAJFjH,SACAmQ,EAGElJ,EAHFkJ,OACAo4F,EAEEthG,EAFFshG,SACA/hE,EACEv/B,EADFu/B,MAEA,sBAAAt/B,EAAA1L,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAywF,EAAez2E,EAAUpyB,GAAzB,IAAAyrC,EAAA3e,EAAA/jB,EAAA6kG,EAAA,OAAA9rF,EAAAriB,EAAA8Y,KAAA,SAAAuwF,GAAA,cAAAA,EAAArwF,KAAAqwF,EAAApwF,MAAA,cACF+yB,EAAU0kB,GAAega,GAEzBr9C,EAAM6gF,GAAY,2BAClB5kG,EAAO,GACP6kG,EAASniE,EAAUlmC,sBAAW4kE,EAAkB/kE,GAAY,KAC5DuoG,GACHliE,GAAU,EACV3e,EAAM6gF,GACIliE,GAAWmiE,EAAO1gF,UAC5Bue,GAAU,EACV3e,EAAM,4BAEN2e,GACAmiE,EAAOtoG,GAAGD,wBAAaooG,MAEvBhiE,GAAU,EACV3e,EAAM,6BACN/jB,EAAO,CAAC2kG,EAA4Cn4F,IAlB/CuzF,EAAApwF,KAAA,EAqBAuyB,GAASc,EAAY,mBAAoB,CAC9CN,UACAtd,IAAK,CAAErB,MAAK/jB,QACZ6iC,SAHKX,CAIH7Y,GAzBG,cAAA02E,EAAAzvF,OAAA,SA2BCoyB,GA3BD,wBAAAq9D,EAAAvvF,SAAAsvF,MAAP,gBAAAmD,EAAAC,GAAA,OAAA3/F,EAAAiG,MAAAkH,KAAA/Z,YAAA,GA+BM,SAAS0xD,GAAT5jD,GAAkE,IAAlCu+B,EAAkCv+B,EAAlCu+B,WAAYwF,EAAsB/jC,EAAtB+jC,KAAMnnC,EAAgBoD,EAAhBpD,MAAOwhC,EAASp+B,EAATo+B,MAC/D,sBAAAl/B,EAAA9L,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA6wF,EAAe72E,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAA4wF,GAAA,cAAAA,EAAA1wF,KAAA0wF,EAAAzwF,MAAA,cACA+yB,EAAU0kB,GAAe/lD,GAE/B6gC,GAASc,EAAYwF,EAAM,CAC1B9F,UACAtd,IAAK,CAAErB,IAAK,sBACZ8e,SAHDX,CAIG7Y,GAPG+2E,EAAA9vF,OAAA,SASCoyB,GATD,wBAAA09D,EAAA5vF,SAAA0vF,MAAP,gBAAAmD,EAAAC,GAAA,OAAA3/F,EAAA6F,MAAAkH,KAAA/Z,YAAA,GAaM,SAASmuG,GAAT9gG,GAUJ,IATFg/B,EASEh/B,EATFg/B,WACAwF,EAQExkC,EARFwkC,KACAnnC,EAOE2C,EAPF3C,MACAwhC,EAME7+B,EANF6+B,MACAxC,EAKEr8B,EALFq8B,OACAz3B,EAIE5E,EAJF4E,cACAG,EAGE/E,EAHF+E,iBACAwpC,EAEEvuC,EAFFuuC,WACAl2C,EACE2H,EADF3H,SAEA,sBAAAyI,EAAAjN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAixF,EAAej3E,EAAUpyB,GAAzB,IAAA8tG,EAAAriE,EAAA3e,EAAAihF,EAAAj2F,EAAAk2F,EAAAC,EAAAt/F,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAgxF,GAAA,cAAAA,EAAA9wF,KAAA8wF,EAAA7wF,MAAA,cACAo1F,EAAgB39C,GAAe/lD,GACjCqhC,EAAUqiE,GAAiBvoG,sBAAW6E,EAAOhF,GAC7C0nB,EAAMsc,GAAU,qBAEhBqC,IAEG3zB,EAAe,qBAATy5B,EAA8BnnC,EAAQ0H,EAE5Ck8F,EAAiB79C,GAHjB49C,EAAmB,kBAATx8D,EAA2BnnC,EAAQuH,GAI7Cs8F,EAAa99C,GAAer4C,GAE9Bk2F,GAAkBC,IACft/F,EAAS2+F,GAAgB,CAC9BhyD,aACA3pC,cAAepM,sBAAWwoG,EAAS3oG,GACnC0M,iBAAkBvM,sBAAWuS,EAAK1S,KAGnCqmC,GAAW98B,EAAOwU,MAClB2J,EAAMne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,KAI9C0nB,GAASc,EAAYwF,EAAM,CAC1B9F,UACAtd,IAAK,CAAErB,OACP8e,SAHDX,CAIG7Y,GA5BGm3E,EAAAlwF,OAAA,SA8BCoyB,GA9BD,wBAAA89D,EAAAhwF,SAAA8vF,MAAP,gBAAA6E,EAAAC,GAAA,OAAAtgG,EAAA0E,MAAAkH,KAAA/Z,YAAA,GAkCD,IAEM0uG,GAA6B,SAAAtgG,GAI7B,IAAAugG,EAAAvgG,EAHLiE,eAGK,IAAAs8F,EAHKhlF,KAAKC,MAGV+kF,EAFLp8F,EAEKnE,EAFLmE,oBACAD,EACKlE,EADLkE,WAEImR,EAAQ,KAwBZ,OAtBIlR,GAAuBD,GAAcC,GAAuBD,EAC/DmR,EAAQ,CAAEI,QAAS,uBAAwBguB,KAAM,uBAEjDt/B,GACAD,GACAC,EAAsBD,EAdI,KAgB1BmR,EAAQ,CACPI,QAAS,0BACTxa,KAAM,CAAC,IAAK,QACZwoC,KAAM,uBAEGt/B,GAAuBA,EAAsBF,EACvDoR,EAAQ,CAAEI,QAAS,qBAAsBguB,KAAM,uBACrCv/B,GAAcA,EAAaD,EACrCoR,EAAQ,CAAEI,QAAS,wBACTvR,IAAeC,EACzBkR,EAAQ,CAAEI,QAAS,aAAcguB,KAAM,uBAC3Bt/B,GAAuBD,IACnCmR,EAAQ,CAAEI,QAAS,kBAAmBguB,KAAM,wBAGtC,CAAEpuB,UAGH,SAASmrF,GAATC,GAQJ,IAPFxiE,EAOEwiE,EAPFxiE,WACAwF,EAMEg9D,EANFh9D,KACAnnC,EAKEmkG,EALFnkG,MACAwhC,EAIE2iE,EAJF3iE,MACA35B,EAGEs8F,EAHFt8F,oBACAD,EAEEu8F,EAFFv8F,WACAD,EACEw8F,EADFx8F,QAEA,sBAAA/D,EAAApN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAyyF,EAAez4E,EAAUpyB,GAAzB,IAAAwhB,EAAA7S,EAAA88B,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAyyF,GAAA,cAAAA,EAAAvyF,KAAAuyF,EAAAtyF,MAAA,cAKA/J,EAASy/F,GAA2B,CACzCn8F,oBAJS,wBAATs/B,EAAiCnnC,EAAQ6H,EAKzCD,WAJKwP,EAAgB,eAAT+vB,EAAwBnnC,EAAQ4H,EAK5CD,YAGDk5B,GAASc,EAAY,aAAc,CAClCN,UAAWjqB,EACX2M,IAAK,CACJrB,IAAK,mBAEN8e,MAAOA,GALRX,CAMG7Y,GAEH6Y,GAASc,EAAY,sBAAuB,CAC3CN,UAAW98B,EAAOwU,OAA+B,wBAAtBxU,EAAOwU,MAAMouB,MACxCpjB,IAAK,CACJrB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,GAC3Cxa,KAAM4F,EAAOwU,QAAUxU,EAAOwU,MAAMpa,MAAQ,KAE7C6iC,MAAOA,GANRX,CAOG7Y,GAEGqZ,GAAW98B,EAAOwU,MA5BlB6nF,EAAA3xF,OAAA,SA8BCoyB,GA9BD,wBAAAu/D,EAAAzxF,SAAAsxF,MAAP,gBAAA2D,EAAAC,GAAA,OAAAzgG,EAAAuE,MAAAkH,KAAA/Z,YAAA,GAkCM,SAASgvG,GAATzgG,GAA6D,IAA5B89B,EAA4B99B,EAA5B89B,WAAYh5B,EAAgB9E,EAAhB8E,MAAO64B,EAAS39B,EAAT29B,MAC1D,sBAAA+iE,EAAA/tG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAizF,EAAej5E,EAAUpyB,GAAzB,IAAA2O,EAAA88B,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAizF,GAAA,cAAAA,EAAA/yF,KAAA+yF,EAAA9yF,MAAA,cACA/J,EAAS8iC,MAAIxG,SAASl4B,EAAO08B,GAAY18B,OAEzC04B,GAAW98B,EAAOwU,MAExB8nB,GAASc,EAAY,QAAS,CAC7BN,UACAtd,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClDqoB,MAAOA,GAHRX,CAIG7Y,GATGo5E,EAAAnyF,OAAA,SAWCoyB,GAXD,wBAAA+/D,EAAAjyF,SAAA8xF,MAAP,gBAAAuD,EAAAC,GAAA,OAAAF,EAAAp8F,MAAAkH,KAAA/Z,YAAA,GAeM,SAASovG,GAAT3gG,GAQJ,IAPF49B,EAOE59B,EAPF49B,WACAwF,EAMEpjC,EANFojC,KACAjmB,EAKEnd,EALFmd,KAKEyjF,EAAA5gG,EAJFkf,mBAIE,IAAA0hF,KAAAC,EAAA7gG,EAHFmf,gBAGE,IAAA0hF,KAFFpjE,EAEEz9B,EAFFy9B,MACAtpC,EACE6L,EADF7L,SAEA,sBAAA8L,EAAAxN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA62F,EAAe78E,EAAUpyB,GAAzB,IAAAkvG,EAAApiF,EAAA2e,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAA42F,GAAA,cAAAA,EAAA12F,KAAA02F,EAAAz2F,MAAA,cAAAy2F,EAAAz2F,KAAA,EACgByU,aAAgB,CACrC7B,OACA+B,cACAC,WACAhrB,aALK,cAAA4sG,EAAAC,EAAAl2F,KACE6T,EADFoiF,EACEpiF,IAOF2e,GAAW3e,EARXqiF,EAAAz2F,KAAA,EAUAuyB,GAASc,EAAYwF,EAAM,CAChC9F,UACAtd,IAAK,CAAErB,OACP8e,SAHKX,CAIH7Y,GAdG,cAAA+8E,EAAA91F,OAAA,SAgBCoyB,GAhBD,wBAAA0jE,EAAA51F,SAAA01F,MAAP,gBAAAG,EAAAC,GAAA,OAAAjhG,EAAAmE,MAAAkH,KAAA/Z,YAAA,GAoBM,SAAS4vG,GAAThhG,GAQJ,IAPFy9B,EAOEz9B,EAPFy9B,WAOEwjE,EAAAjhG,EANF29D,eAME,IAAAsjC,EANQ,GAMRA,EAAAC,EAAAlhG,EALFyxE,kBAKE,IAAAyvB,EALW,GAKXA,EAJFtjC,EAIE59D,EAJF49D,UACA5pE,EAGEgM,EAHFhM,SACA6pE,EAEE79D,EAFF69D,gBACAvgC,EACEt9B,EADFs9B,MAEA,sBAAAr9B,EAAA3N,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAq3F,EAAer9E,EAAUpyB,GAAzB,IAAA0vG,EAAAjkE,EAAA3e,EAAA/jB,EAAA,OAAA+Y,EAAAriB,EAAA8Y,KAAA,SAAAo3F,GAAA,cAAAA,EAAAl3F,KAAAk3F,EAAAj3F,MAAA,cACAg3F,EACLzjC,GAAWA,EAAQtrD,gBAAkBo/D,EAAWp/D,cAC7C8qB,EAAU0gC,IAAoBujC,EAE9B5iF,EAAM,GACJ/jB,EAAO,SAAA+J,OAASo5D,EAAT,UAA4B5pE,EAASm9B,eAC9CiwE,GAAkC,IAAdxjC,EACvBp/C,EAAM,yBACI4iF,GAAkC,IAAdxjC,EAC9Bp/C,EAAM,yBACI4iF,GAAoBxjC,GAAa,EAC3CzgC,GAAU,EACCikE,IACXjkE,GAAU,GAdLkkE,EAAAj3F,KAAA,EAiBAuyB,GAASc,EAAY,iBAAkB,CAC5CN,UACAtd,IAAK,CAAErB,MAAK/jB,QACZ6iC,SAHKX,CAIH7Y,GArBG,cAAAu9E,EAAAt2F,OAAA,SAuBC,CAAEoyB,UAAS3e,QAvBZ,wBAAA6iF,EAAAp2F,SAAAk2F,MAAP,gBAAAG,EAAAC,GAAA,OAAAthG,EAAAgE,MAAAkH,KAAA/Z,YAAA,GA2BM,SAASowG,GAATthG,GAA6D,IAAhCu9B,EAAgCv9B,EAAhCu9B,WAAYmgC,EAAoB19D,EAApB09D,UAAWtgC,EAASp9B,EAATo9B,MAC1D,sBAAAmkE,EAAAnvG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA43F,EAAe59E,EAAUpyB,GAAzB,IAAAyrC,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAA03F,GAAA,cAAAA,EAAAx3F,KAAAw3F,EAAAv3F,MAAA,cACA+yB,EACL7qC,OAAOuJ,OAAOsN,IAAwBw4B,QAAQi8B,IAAc,EAFvD+jC,EAAAv3F,KAAA,EAGAuyB,GAASc,EAAY,YAAa,CACvCN,UACAtd,IAAK,CAAErB,IAAK,+BACZ8e,SAHKX,CAIH7Y,GAPG,cAAA69E,EAAA52F,OAAA,SASCoyB,GATD,wBAAAwkE,EAAA12F,SAAAy2F,MAAP,gBAAAE,EAAAC,GAAA,OAAAJ,EAAAx9F,MAAAkH,KAAA/Z,YAAA,GAYM,SAAS0wG,GAATC,GAAwE,IAA1CtkE,EAA0CskE,EAA1CtkE,WAAY3hC,EAA8BimG,EAA9BjmG,MAAOmnC,EAAuB8+D,EAAvB9+D,KAAM7qB,EAAiB2pF,EAAjB3pF,OAAQklB,EAASykE,EAATzkE,MACrE,sBAAA0kE,EAAA1vG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAm4F,EAAen+E,GAAf,IAAAzjB,EAAA88B,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAi4F,GAAA,cAAAA,EAAA/3F,KAAA+3F,EAAA93F,MAAA,cACA/J,EAAS8iC,MAAIxG,SAAS7gC,EAAOsc,GAC7B+kB,GAAW98B,EAAOwU,MAFlBqtF,EAAA93F,KAAA,EAIAuyB,GAASc,EAAYwF,EAAM,CAChC9F,UACAtd,IAAK,CAAErB,IAAKne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAClDqoB,MAAOA,GAHFX,CAIH7Y,GARG,cAAAo+E,EAAAn3F,OAAA,SAUCoyB,GAVD,wBAAA+kE,EAAAj3F,SAAAg3F,MAAP,gBAAAE,GAAA,OAAAH,EAAA/9F,MAAAkH,KAAA/Z,YAAA,GAcM,SAASgxG,GAAc3kE,EAAYtpC,EAAOmpC,EAAO+kE,GACvD,sBAAAC,EAAAhwG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAy4F,EAAez+E,GAAf,IAAAzjB,EAAA88B,EAAA3e,EAAAgkF,EAAAC,EAAA,OAAAjvF,EAAAriB,EAAA8Y,KAAA,SAAAy4F,GAAA,cAAAA,EAAAv4F,KAAAu4F,EAAAt4F,MAAA,UACA/J,EAAS8iC,MAAIxG,SAASxoC,EAAOV,GAAQU,OACvCgpC,GAAW98B,EAAOwU,MAClB2J,EAAMne,EAAOwU,MAAQxU,EAAOwU,MAAMI,QAAU,IAE5CotF,IAAuBllE,EALrB,CAAAulE,EAAAt4F,KAAA,gBAAAs4F,EAAAt4F,KAAA,EAMuBu4F,aAAS,CAAExuG,UANlC,UAAAuuG,EAAA53F,GAAA43F,EAAA/3F,KAAA+3F,EAAA53F,GAAA,CAAA43F,EAAAt4F,KAAA,QAAAs4F,EAAA53F,GAM+C,GAN/C,OAAA03F,EAAAE,EAAA53F,GAMG23F,EANHD,EAMGC,SACRtlE,GAAuB,IAAbslE,EACVjkF,EAAM,qBARD,eAAAkkF,EAAAt4F,KAAA,GAWAuyB,GAASc,EAAY,QAAS,CACnCN,UACAtd,IAAK,CAAErB,OACP8e,SAHKX,CAIH7Y,GAfG,eAAA4+E,EAAA33F,OAAA,SAiBCoyB,GAjBD,yBAAAulE,EAAAz3F,SAAAs3F,MAAP,gBAAAK,GAAA,OAAAN,EAAAr+F,MAAAkH,KAAA/Z,YAAA,GClhBM,SAAS68E,GAAehrC,EAAMnnC,GACpC,OAAO,SAASgoB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACN/sD,KAAMA,EACNnnC,MAAOA,KAKH,SAASqzE,KACf,OAAO,SAASrrD,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,OAKF,SAAS1kB,GAATt5E,GAA2C,IAAnBmC,EAAmBnC,EAAnBmC,MAAOH,EAAYhC,EAAZgC,SACrC,OAAO,SAAS8vB,GAWf,OAVAA,EAAS,CACRxoB,KAAM00F,MAGPlsE,EAAS,CACRxoB,KAAM00F,IACN/sD,KAAM,QACNnnC,MAAO3H,IAGD2vB,EAAS,CACfxoB,KAAM00F,IACN/sD,KAAM,WACNnnC,MAAO9H,KAMH,SAAS46E,GAAa3rC,EAAMnnC,GAClC,OAAO,SAASgoB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,KACN/sD,KAAMA,EACNnnC,MAAOA,KAKH,SAAS+mG,KACf,OAAO,SAAS/+E,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,OAKF,SAAS8S,GAAoBx7E,GACnC,sBAAA50B,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeyZ,GAAf,IAAA0V,EAAAupE,EAAAC,EAAA,OAAAxvF,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OACN44B,EAAcysC,MAAwB,EAAtCzsC,CAA4Clf,GACtC0V,EAAOlS,EAAMqB,OAAOs6E,MAAM,IAC1BF,EAAS,IAAIG,YAEZ5sE,OAAS,SAAAjK,GACf,IACC,IAAM+1C,EAAMhmD,KAAKwD,MAAMyM,EAAG1D,OAAOtoB,QACjC,KACE+hE,GACAA,EAAI98D,KACJ88D,EAAIvuE,QACJuuE,EAAIvuE,OAAO2K,MACX4jE,EAAIvuE,OAAOC,UACXsuE,EAAIvuE,OAAO6a,YAEZ,MAAM,IAAIkG,MAAMha,YAAU,sBAE1BklB,aAAmBsiD,EAAIvuE,OAAQuuE,EAAI98D,KACnC2oE,GAAe,sBAAuB7L,EAAI98D,IAA1C2oE,CAA+CnqD,GAC/C03C,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,kCACjBgoB,QAAS,KAHV44C,CAIG13C,GAEH,MAAOjE,GACRI,QAAQpL,MAAM,sCAAuCgL,GACrD27C,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAC9CH,KAAM,CAAColB,EAAI5K,WAEZ2N,QAAS,KALV44C,CAMG13C,GAEJkf,EAAcysC,MAAwB,EAAtCzsC,CAA4Clf,IAGvCk/E,EAAU,SAAAnjF,GACfI,QAAQpL,MAAM,gCAAiCgL,GAC/C27C,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAC9CH,KAAM,CAAC42F,EAAYxxE,MAEpB+C,QAAS,KALV44C,CAMG13C,GACHkf,EAAcysC,MAAwB,EAAtCzsC,CAA6Clf,IAG9Ci/E,EAAO1sE,QAAU,SAAAhK,GAChB02E,EAAOI,QACPH,EAAQpoG,gBAGTmoG,EAAOxsE,QAAU,SAAAlK,GAChB22E,EAAQpoG,YAAU,0BAGnBmoG,EAAOK,WAAW5pE,GA5DZ,wBAAA9uB,EAAAO,SAAAZ,MAAP,gBAAAiB,GAAA,OAAA5Y,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAgEM,SAAS8vE,GAATruE,GAAsC,IAAZsuE,EAAYtuE,EAAZsuE,SAChC,sBAAAluE,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAe+Z,EAAUpyB,GAAzB,IAAA+B,EAAA,OAAA+f,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEC1W,EAAUD,YAAc9B,KAFzBwY,EAAAE,KAAA,EAGgBg3D,aAAe,CACnCD,WACA1tE,YALI,OAAAyW,EAAAS,KAQL6wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,yBAA0B,CAAEH,KAAM,CAAC0mE,KACpDv+C,QAAS,KAHV44C,CAIG13C,GAZE5Z,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAY,GAAAZ,EAAA,SAcL+V,QAAQpL,MAAM,kBAAd3K,EAAAY,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,kBAAmB,CACnCH,KAAM,CAAAyP,EAAAY,MAEP8X,QAAS,KALV44C,CAMG13C,GArBE,yBAAA5Z,EAAAe,SAAAlB,EAAA,iBAAP,gBAAAmB,EAAAwB,GAAA,OAAAzZ,EAAAgR,MAAAkH,KAAA/Z,YAAA,GA0BM,SAASivE,GAATjtE,GAA4D,IAAhCyoE,EAAgCzoE,EAAhCyoE,iBAAkBC,EAAc1oE,EAAd0oE,WACpD,sBAAAvoE,EAAAjB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqC,EAAe2X,EAAUpyB,GAAzB,IAAA+B,EAAA4M,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAnC,KAAA,EAEC1W,EAAUD,YAAc9B,KAFzB4a,EAAAlC,KAAA,EAGgBi5F,aAAqB,CACzC5vG,UACAooE,mBACAC,eANI,OAGCz7D,EAHDiM,EAAA3B,KAQL6wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,iCAAkC,CAClDH,KAAM,CAAC4F,KAERuiB,QAAS,KALV44C,CAMG13C,GAdExX,EAAAlC,KAAA,gBAAAkC,EAAAnC,KAAA,EAAAmC,EAAAxB,GAAAwB,EAAA,SAgBL2T,QAAQpL,MAAM,qCAAdvI,EAAAxB,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,qCAAsC,CACtDH,KAAM,CAAC42F,EAAW/kF,EAAAxB,OAEnB8X,QAAS,KALV44C,CAMG13C,GAvBE,yBAAAxX,EAAArB,SAAAkB,EAAA,iBAAP,gBAAAK,EAAAI,GAAA,OAAArZ,EAAA0Q,MAAAkH,KAAA/Z,YAAA,GA4BM,SAASyvE,GAATnsE,GAKJ,IAJFmnE,EAIEnnE,EAJFmnE,iBACAC,EAGEpnE,EAHFonE,WACAoB,EAEExoE,EAFFwoE,aACAI,EACE5oE,EADF4oE,cAEA,sBAAA1oE,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAesY,EAAUpyB,GAAzB,IAAA+B,EAAA4M,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA9B,KAAA,EAEC1W,EAAUD,YAAc9B,KAFzBua,EAAA7B,KAAA,EAGgB22D,aAAgC,CACpDttE,UACAooE,mBACAC,aACAoB,eACAI,kBARI,OAGCj9D,EAHD4L,EAAAtB,KAWL6wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,iCAAkC,CAAEH,KAAM,CAAC4F,KAC5DuiB,QAAS,KAHV44C,CAIG13C,GAfE7X,EAAA7B,KAAA,gBAAA6B,EAAA9B,KAAA,EAAA8B,EAAAnB,GAAAmB,EAAA,SAiBLgU,QAAQpL,MAAM,qCAAd5I,EAAAnB,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,qCAAsC,CACtDH,KAAM,CAAC42F,EAAWplF,EAAAnB,OAEnB8X,QAAS,KALV44C,CAMG13C,GAxBE,yBAAA7X,EAAAhB,SAAAO,EAAA,iBAAP,gBAAAkC,EAAA4B,GAAA,OAAA1a,EAAAqP,MAAAkH,KAAA/Z,YAAA,GA6BM,SAAS0gF,GAATh9E,GAA8C,IAAnBs9E,EAAmBt9E,EAAnBs9E,MAAOp+E,EAAYc,EAAZd,SACxC,sBAAAiB,EAAA3C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgD,EAAegX,EAAUpyB,GAAzB,IAAAyD,EAAA4X,EAAAu2F,EAAA9kG,EAAA,OAAAgV,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cACN44B,EAAcgvC,MAA0B,EAAxChvC,CAA8Clf,GADxC7W,EAAA9C,KAAA,EAAA8C,EAAA7C,KAAA,EAGsB8B,aAAUlY,GAHhC,cAAAmB,EAAA8X,EAAAtC,KAGGoC,EAHH5X,EAGG4X,SAHHE,EAAA7C,KAAA,EAIsBm5F,aAAmB,CAAEnxB,UAJ3C,cAICkxB,EAJDr2F,EAAAtC,KAKCnM,EAAOlM,OAAOimD,QAAQ+qD,GAAcxwG,IAA7B,eAAA2C,EAAAnD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KACZ,SAAA2H,EAAAnc,GAAA,IAAAM,EAAA+C,EAAAilE,EAAAv+C,EAAA,OAAA7L,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAxU,EAAAtD,OAAA4J,EAAA,EAAA5J,CAAAgD,EAAA,GAAQqD,EAAR/C,EAAA,GAAsBgoE,EAAtBhoE,EAAA,GAAA8b,EAAAvH,KAAA,EAAAuH,EAAAtH,KAAA,EAEoB2C,EAASy2F,cAAc7qG,GAF3C,cAEQ0mB,EAFR3N,EAAA/G,KAAA+G,EAAA3G,OAAA,SAGS,CACNjX,SAAU6E,EACVilE,YACAv+C,QANH,cAAA3N,EAAAvH,KAAA,EAAAuH,EAAA5G,GAAA4G,EAAA,SAAAA,EAAA3G,OAAA,SASS,MATT,yBAAA2G,EAAAzG,SAAAwG,EAAA,iBADY,gBAAAE,GAAA,OAAAlc,EAAAwO,MAAAkH,KAAA/Z,YAAA,IALR6b,EAAA7C,KAAA,GAoB0BgB,QAAQjZ,IAAIqM,GApBtC,QAAAyO,EAAAnC,GAoBoD,SAAAouB,GAAC,QAAMA,GAEhE+0C,GAAe,kBAtBVhhE,EAAAtC,KAoB6CnN,OApB7CyP,EAAAnC,IAsBLmjE,CAAmDnqD,GAtB9C7W,EAAA7C,KAAA,iBAAA6C,EAAA9C,KAAA,GAAA8C,EAAA8J,GAAA9J,EAAA,SAwBLgT,QAAQpL,MAAM,+BAAd5H,EAAA8J,IACAykD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,+BAAgC,CAChDH,KAAM,CAAC42F,EAAWpkF,EAAA8J,OAEnB6L,QAAS,KALV44C,CAMG13C,GA/BE,QAiCNkf,EAAcgvC,MAA0B,EAAxChvC,CAA+Clf,GAjCzC,yBAAA7W,EAAAhC,SAAA6B,EAAA,kBAAP,gBAAAo0E,EAAA9wE,GAAA,OAAAnb,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAqCM,SAASovE,GAATzqE,GAAuD,IAAtB4nE,EAAsB5nE,EAAtB4nE,QAASC,EAAa7nE,EAAb6nE,UAChD,sBAAAznE,EAAA7D,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8D,EAAekW,EAAUpyB,GAAzB,IAAA+B,EAAA4M,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAAmE,EAAApE,KAAA,EAEC1W,EAAUD,YAAc9B,KAFzB6c,EAAAnE,KAAA,EAGgBq2D,aAAqB,CACzChtE,UACAkqE,UACAC,cANI,OAGCv9D,EAHDkO,EAAA5D,KAQL6wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,sCAAuC,CACvDH,KAAM,CAAC4F,KAERuiB,QAAS,KALV44C,CAMG13C,GAdEvV,EAAAnE,KAAA,gBAAAmE,EAAApE,KAAA,EAAAoE,EAAAzD,GAAAyD,EAAA,SAgBL0R,QAAQpL,MAAM,0CAAdtG,EAAAzD,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,0CAA2C,CAC3DH,KAAM,CAAC42F,EAAW9iF,EAAAzD,OAEnB8X,QAAS,KALV44C,CAMG13C,GAvBE,yBAAAvV,EAAAtD,SAAA2C,EAAA,iBAAP,gBAAAmE,EAAAR,GAAA,OAAApb,EAAA8N,MAAAkH,KAAA/Z,YAAA,GA4BM,SAAS89E,KACf,sBAAA54E,EAAAhE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0F,EAAesU,EAAUpyB,GAAzB,IAAA+xG,EAAA5vG,EAAAM,EAAAmvG,EAAAI,EAAA9J,EAAAlkG,EAAA5B,EAAA,OAAA0f,EAAAriB,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,UAAAyF,EAAA1F,KAAA,EAAAs5F,EASDvsG,YAAexF,KANlBmC,EAHI4vG,EAGJ5vG,OACAM,EAJIsvG,EAIJtvG,MACAmvG,EALIG,EAKJH,aACAI,EANID,EAMJC,eACA9J,EAPI6J,EAOJ7J,iBAPI6J,EAQJE,gBARI,CAAA9zF,EAAAzF,KAAA,eAAAyF,EAAAzF,KAAA,EAYEw5F,aAAWtxG,OAAAC,EAAA,EAAAD,CAAA,CAChB8/E,MAAOv+E,EAAOrB,QACd2B,MAAOA,EAAMke,eACVqxF,IAfA,cAAA7zF,EAAAzF,KAAA,EAoBGkvF,aAAgB,CACtB3gG,aAAc2qG,EAAa9wG,UArBxB,UAAAqd,EAAA/E,GAAA+E,EAAAlF,KAAAkF,EAAA/E,GAAA,CAAA+E,EAAAzF,KAAA,SAAAyF,EAAA/E,GAsBG,GAtBH,eAmBCpV,EAnBDma,EAAA/E,GAwBChX,EAxBDxB,OAAAC,EAAA,EAAAD,CAAA,GAyBDgxG,EAzBC,CA0BJ9wG,QAASkD,EAAYG,WAAWgvC,IAChCruC,kBAAmBd,EAAYc,kBAC/B+iG,gBAAiB7jG,EAAY6jG,gBAC7B7jG,gBA7BIma,EAAAzF,KAAA,GAgCCsvF,GAAc,CACnB5lG,WACAD,SACAM,QACAylG,mBAJKF,CAKH51E,EAAUpyB,GArCR,QAAAme,EAAAzF,KAAA,iBAAAyF,EAAA1F,KAAA,GAAA0F,EAAAkH,GAAAlH,EAAA,SAuCLoQ,QAAQpL,MAAM,YAAdhF,EAAAkH,IACAykD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,YAAa,CAAEH,KAAM,CAAC42F,EAAWxhF,EAAAkH,OAClD6L,QAAS,KAHV44C,CAIG13C,GA5CE,yBAAAjU,EAAA5E,SAAAuE,EAAA,kBAAP,gBAAA2rF,EAAAM,GAAA,OAAAnlG,EAAA2N,MAAAkH,KAAA/Z,YAAA,GAiDM,SAAS0hF,GAATn8E,GAAmD,IAArB8mC,EAAqB9mC,EAArB8mC,WAAYH,EAAS3mC,EAAT2mC,MAChD,sBAAA1mC,EAAAtE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgyF,EAAeh4E,EAAUpyB,GAAzB,IAAAoC,EAAAkiB,EAAA7hB,EAAAH,EAAAH,EAAAghB,EAAAgvF,EAAA5tF,EAAAumF,EAAAnnF,EAAA9X,EAAAk/F,EAAAU,EAAAn8E,EAAAmc,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAA8xF,GAAA,cAAAA,EAAA5xF,KAAA4xF,EAAA3xF,MAAA,UACN44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GAC1BhwB,EAAWoD,YAAexF,KACxBskB,EAA8BliB,EAA9BkiB,SAAU7hB,EAAoBL,EAApBK,MAAOH,EAAaF,EAAbE,SAErBH,EAAS,GACTghB,EAAQ,4BACRgvF,EAAiB7vG,EAPf+nG,EAAA5xF,KAAA,GAUDhW,IAAS6hB,EAVR,CAAA+lF,EAAA3xF,KAAA,gBAAA2xF,EAAA3xF,KAAA,GAWmBgM,aAAe,CACrCjiB,QACA6hB,WACAhiB,SAAU6vG,IAdP,WAWA5tF,EAXA8lF,EAAApxF,KAAA,CAAAoxF,EAAA3xF,KAAA,gBAkBGoyF,EAAOG,aAAaxoG,GAlBvB4nG,EAAA3xF,KAAA,GAmBgBwyF,aAAc,CAAEJ,OAAMxmF,aAnBtC,eAmBGX,EAnBH0mF,EAAApxF,KAAAoxF,EAAA3xF,KAAA,GAqBKyyF,aAAe,CACrBxnF,SAtBC,WAAA0mF,EAAAjxF,GAAAixF,EAAApxF,KAAAoxF,EAAAjxF,GAAA,CAAAixF,EAAA3xF,KAAA,SAAA2xF,EAAAjxF,GAuBK,GAvBL,WAAAvN,EAAAw+F,EAAAjxF,GAoBK2xF,EApBLl/F,EAoBKk/F,mBAKFU,EAAeV,GAAmB,IAG1B5oG,QACbspG,EAAa73F,KACb63F,EAAatpG,OAAO2K,MACpB2+F,EAAatpG,OAAOC,UACpBqpG,EAAatpG,OAAO6a,YAhClB,CAAAqtF,EAAA3xF,KAAA,gBAkCI4W,EAAO8iF,aAAW3G,EAAa73F,IAAK,SAAU,MACpDu+F,EAAiB7iF,EAAKhtB,SACtB8rB,aAAmBq9E,EAAatpG,OAAQspG,EAAa73F,KApCnDy2F,EAAA3xF,KAAA,GAsCiBgM,aAAe,CACjCjiB,QACA6hB,WACAhiB,SAAU6vG,IAzCT,QAsCF5tF,EAtCE8lF,EAAApxF,KAAA,aA8CEsL,GAAcA,EAAWzX,MAAQyX,EAAWzX,KAAKhM,SA9CnD,CAAAupG,EAAA3xF,KAAA,aA+CHvW,EAAMvB,OAAAC,EAAA,EAAAD,CAAA,GAAQ2jB,EAAWzX,OAClBrK,MAAQA,EACfN,EAAOmiB,SAAWA,EAClBniB,EAAOG,SAAW6vG,GAAkBtsF,KAAWK,MAAMxU,KACrDvP,EAAOC,SAAW,CACjBtB,QAASyjB,EAAWniB,SACpB4a,WAAYuH,EAAWvH,YAAcuH,EAAW8tF,oBAG5C/vG,EAxDF,CAAA+nG,EAAA3xF,KAAA,gBAAA2xF,EAAA3xF,KAAA,GAyDI8pE,aAAoB,CAAE//E,QAAO6hB,aAzDjC,QA0DFi4D,GAAe,mBAAmB,EAAlCA,CAAwCnqD,GA1DtC,QA8DJmqD,GAAe,eAAgBh4D,EAAaA,EAAWniB,SAAW,KAAlEm6E,CACCnqD,GAEDmqD,GAAe,SAAUp6E,EAAzBo6E,CAAiCnqD,GACjCmqD,GAAe,aAAcp6E,EAAOrB,QAApCy7E,CAA6CnqD,GAC7CmqD,GAAe,eAAgBp6E,EAAOC,SAAtCm6E,CAAgDnqD,GAnE5C,QAAAi4E,EAAA3xF,KAAA,iBAAA2xF,EAAA5xF,KAAA,GAAA4xF,EAAAhlF,GAAAglF,EAAA,SAsEL97E,QAAQpL,MAAM,yBAAdknF,EAAAhlF,IACAlC,EAAKknF,EAAAhlF,GAvEA,WA0EAomB,IAAYtpC,EAAOrB,QAEzBmqC,GAASc,EAAY,SAAU,CAC9BN,UACAtd,IAAK,CAAErB,IAAK,yBAA0B/jB,KAAM,CAAC42F,EAAYx8E,KACzDyoB,MAAOA,GAHRX,CAIG7Y,IAECqZ,EAlFE,CAAA4+D,EAAA3xF,KAAA,gBAAA2xF,EAAA3xF,KAAA,GAmFC8kE,KAAQprD,EAAUpyB,GAnFnB,QAqFNsxC,EAAcvF,GAAY,EAA1BuF,CAAiClf,GArF3B,yBAAAi4E,EAAA9wF,SAAA6wF,EAAA,kBAAP,gBAAAJ,EAAAE,GAAA,OAAAhlG,EAAAqN,MAAAkH,KAAA/Z,YAAA,GAyFM,SAAS4hF,GAATn1E,GAAsD,IAArB4/B,EAAqB5/B,EAArB4/B,WAAYH,EAASz/B,EAATy/B,MACnD,sBAAAv/B,EAAAzL,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqH,EAAe2S,EAAUpyB,GAAzB,IAAAoC,EAAAD,EAAAk+E,EAAAv/E,EAAAwxG,EAAAV,EAAAnmE,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,UACN44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GAD1B1S,EAAAjH,KAAA,EAGCrW,EAAWoD,YAAexF,KACxBmC,EAAoCC,EAApCD,OAAQk+E,EAA4Bj+E,EAA5Bi+E,wBACRv/E,EAAYqB,EAAZrB,QAEFwxG,GAAqBjyB,GAA2B,IAAI19E,MAAM,KAC1DivG,EAAe,CACpB9wG,QAASwxG,EAAkB,GAC3Bt1F,WAAYtP,SAAS4kG,EAAkB,IAAM,IAG9C/1B,GAAe,SAAUp6E,EAAzBo6E,CAAiCnqD,GACjCmqD,GAAe,aAAcz7E,EAA7By7E,CAAsCnqD,GACtCmqD,GAAe,eAAgBq1B,EAA/Br1B,CAA6CnqD,GAI7C6Y,GAASc,EAAY,0BAA2B,CAC/CN,QAHKA,IAAYmmE,EAAa9wG,QAI9BqtB,IAAK,CAAErB,IAAK,6BACZ8e,MAAOA,GAHRX,CAIG7Y,IAECqZ,EAzBC,CAAA/rB,EAAAhH,KAAA,gBAAAgH,EAAAhH,KAAA,GA0BE8kE,KAAQprD,EAAUpyB,GA1BpB,QAAA0f,EAAAhH,KAAA,iBAAAgH,EAAAjH,KAAA,GAAAiH,EAAAtG,GAAAsG,EAAA,SA6BL6O,QAAQpL,MAAM,gCAAdzD,EAAAtG,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,gCAAiC,CACjDH,KAAM,CAAC42F,EAAWjgF,EAAAtG,OAEnB8X,QAAS,KALV44C,CAMG13C,GApCE,QAuCNkf,EAAcvF,GAAY,EAA1BuF,CAAiClf,GAvC3B,yBAAA1S,EAAAnG,SAAAkG,EAAA,kBAAP,gBAAA0qF,EAAAG,GAAA,OAAAj+F,EAAAkG,MAAAkH,KAAA/Z,YAAA,GA2CM,SAAS6yG,GAATjmG,GAAsE,IAAxCy/B,EAAwCz/B,EAAxCy/B,WAAYH,EAA4Bt/B,EAA5Bs/B,MAAO4mE,EAAqBlmG,EAArBkmG,kBACvD,sBAAAhlG,EAAA5M,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAwG,EAAewT,EAAUpyB,GAAzB,IAAAoC,EAAA6E,EAAAxE,EAAAN,EAAAspC,EAAAs0C,EAAA18D,EAAAuuF,EAAA,OAAA9vF,EAAAriB,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,WACL85F,GAAqBlhE,EAAcvF,GAAY,EAA1BuF,CAAgClf,GAChDhwB,EAAWoD,YAAexF,KACxBiH,EAAgC7E,EAAhC6E,aAAcxE,EAAkBL,EAAlBK,MAAON,EAAWC,EAAXD,OAHvB+c,EAAAzG,KAAA,EAKDgzB,IAAYxkC,KAAkB9E,KAAYM,EACzCwE,IAAgB9E,IAAYM,EAN5B,CAAAyc,EAAAxG,KAAA,gBAOEqnE,EAAa59E,EAAOrB,QAPtBoe,EAAAxG,KAAA,EASiB+5F,aAAsB,CAAE/xB,MAAOX,IAThD,OASE18D,EATFnE,EAAAjG,KAUE24F,EAAe,CACpB9wG,QAASuiB,EAAOpc,aAChB+V,WAAYqG,EAAOrG,YAGpBu/D,GAAe,eAAgBl5D,EAAOpc,aAAtCs1E,CAAoDnqD,GACpDmqD,GAAe,iBAAkBl5D,EAAjCk5D,CAAyCnqD,GACzCmqD,GAAe,eAAgBq1B,EAA/Br1B,CAA6CnqD,GAE7CmqD,GAAe,SAAUp6E,EAAzBo6E,CAAiCnqD,GACjCmqD,GAAe,aAAcwD,EAA7BxD,CAAyCnqD,GACzCmqD,GAAe,mBAAmB,EAAlCA,CAAwCnqD,GAExCqZ,EAAUpoB,EAAOpc,gBAAkB9E,KAAYM,EAvB3C,eAAAyc,EAAAxG,KAAA,GA0BCuyB,GAASc,EAAY,eAAgB,CAC1CN,UACAtd,IAAK,CAAErB,IAAK,8BACZ8e,SAHKX,CAIH7Y,GA9BE,YAgCDqZ,EAhCC,CAAAvsB,EAAAxG,KAAA,gBAAAwG,EAAAxG,KAAA,GAiCE8kE,KAAQprD,EAAUpyB,GAjCpB,QAAAkf,EAAAxG,KAAA,iBAAAwG,EAAAzG,KAAA,GAAAyG,EAAA9F,GAAA8F,EAAA,SAoCLqP,QAAQpL,MAAM,6BAAdjE,EAAA9F,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,6BAA8B,CAC9CH,KAAM,CAAC42F,EAAWzgF,EAAA9F,OAEnB8X,QAAS,KALV44C,CAMG13C,GA3CE,SA8CLogF,GAAqBlhE,EAAcvF,GAAY,EAA1BuF,CAAiClf,GA9CjD,yBAAAlT,EAAA3F,SAAAqF,EAAA,kBAAP,gBAAA2rF,EAAAG,GAAA,OAAAl9F,EAAA+E,MAAAkH,KAAA/Z,YAAA,GAkDM,SAASgzG,GAAThmG,GAAoD,IAArBq/B,EAAqBr/B,EAArBq/B,WAAYH,EAASl/B,EAATk/B,MACjD,sBAAA7+B,EAAAnM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAmI,EAAe6R,EAAUpyB,GAAzB,IAAAoC,EAAA6E,EAAAxE,EAAA6hB,EAAAmnB,EAAAnpC,EAAAiiB,EAAAw7D,EAAA18D,EAAAsvF,EAAAf,EAAA,OAAA9vF,EAAAriB,EAAA8Y,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,UACN44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GAC1BhwB,EAAWoD,YAAexF,KACxBiH,EAAkC7E,EAAlC6E,aAAcxE,EAAoBL,EAApBK,MAAO6hB,EAAaliB,EAAbkiB,SAHvB5D,EAAAjI,KAAA,EAKDgzB,IAAYxkC,GAAgBxE,GAAS6hB,EAEpCrd,IAAgBxE,IAAS6hB,EAPzB,CAAA5D,EAAAhI,KAAA,gBAQEpW,EAAWujB,KAAWM,MAAMzU,KAR9BgP,EAAAhI,KAAA,EAUqBk6F,aAAkB,CAC1CnwG,QACA6hB,WACAhiB,aAbG,cAUEiiB,EAVF7D,EAAAzH,MAgBOxW,MAAQA,EACnB8hB,EAAWD,SAAWA,EAEhBy7D,EAAax7D,EAAWzjB,QAnB1B4f,EAAAhI,KAAA,GAqBiB+5F,aAAsB,CAAE/xB,MAAOX,IArBhD,eAqBE18D,EArBF3C,EAAAzH,KAuBEhS,EAAeoc,EAAOpc,aACtB2qG,EAAe,CACpB9wG,QAASmG,EACT+V,WAAYqG,EAAOrG,YA1BhB0D,EAAAhI,KAAA,GA6BEm6F,aAAgB,CACrBpwG,QACA6hB,WACAhiB,WACAwwG,QAAS,WACTC,UAAW9rG,IAlCR,eAAAyZ,EAAAhI,KAAA,GAoCEm6F,aAAgB,CACrBpwG,QACA6hB,WACAhiB,WACAwwG,QAAS,aACTC,UAAWnB,EAAa50F,aAzCrB,QA4CJu/D,GAAe,eAAgBt1E,EAA/Bs1E,CAA6CnqD,GAC7CmqD,GAAe,iBAAkBl5D,EAAjCk5D,CAAyCnqD,GACzCmqD,GAAe,eAAgBq1B,EAA/Br1B,CAA6CnqD,GAE7CmqD,GAAe,SAAUh4D,EAAzBg4D,CAAqCnqD,GACrCmqD,GAAe,aAAcwD,EAA7BxD,CAAyCnqD,GACzCmqD,GAAe,mBAAmB,EAAlCA,CAAwCnqD,GAExCqZ,IAAYxkC,EApDR,eAAAyZ,EAAAhI,KAAA,GAuDCuyB,GAASc,EAAY,eAAgB,CAC1CN,UACAtd,IAAK,CAAErB,IAAK,8BACZ8e,SAHKX,CAIH7Y,GA3DE,YA6DDqZ,EA7DC,CAAA/qB,EAAAhI,KAAA,gBAAAgI,EAAAhI,KAAA,GA8DE8kE,KAAQprD,EAAUpyB,GA9DpB,QAAA0gB,EAAAhI,KAAA,iBAAAgI,EAAAjI,KAAA,GAAAiI,EAAAtH,GAAAsH,EAAA,SAiEL6N,QAAQpL,MAAM,8BAAdzC,EAAAtH,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,8BAA+B,CAC/CH,KAAM,CAAC42F,EAAWj/E,EAAAtH,OAEnB8X,QAAS,KALV44C,CAMG13C,GAxEE,QA2ENkf,EAAcvF,GAAY,EAA1BuF,CAAiClf,GA3E3B,yBAAA1R,EAAAnH,SAAAgH,EAAA,kBAAP,gBAAAoqF,EAAAwC,GAAA,OAAApgG,EAAAwF,MAAAkH,KAAA/Z,YAAA,GA+EM,SAASqiF,GAATl0E,GAAsE,IAAzCk+B,EAAyCl+B,EAAzCk+B,WAAYH,EAA6B/9B,EAA7B+9B,MAAOuT,EAAsBtxC,EAAtBsxC,QAAS0W,EAAahoD,EAAbgoD,UAC/D,sBAAA/nD,EAAAlN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8zF,EAAe95E,EAAUpyB,GAAzB,IAAAoC,EAAAK,EAAAg9E,EAAAn7D,EAAAo7D,EAAAC,EAAAC,EAAA5wE,EAAAy8B,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAA4zF,GAAA,cAAAA,EAAA1zF,KAAA0zF,EAAAzzF,MAAA,cACAtW,EAAWoD,YAAexF,KAE/ByC,EAMGL,EANHK,MACAg9E,EAKGr9E,EALHq9E,WACAn7D,EAIGliB,EAJHkiB,SACAo7D,EAGGt9E,EAHHs9E,cACAC,EAEGv9E,EAFHu9E,SACAC,EACGx9E,EADHw9E,mBARKusB,EAAAzzF,KAAA,EAWoBgB,QAAQjZ,IAAI,CACrCiwG,GAAc3kE,EAAYtpC,EAAOmpC,GAAO,EAAxC8kE,CAA8Ct+E,GAC9Cu6E,GAAmB5gE,EAAY0zC,EAAYh9E,EAAOmpC,EAAlD+gE,CAAyDv6E,GACzDw6E,GAAiB7gE,EAAYznB,EAAUsnB,EAAvCghE,CAA8Cx6E,GAC9Cy6E,GAAsB9gE,EAAY2zC,EAAep7D,EAAUsnB,EAA3DihE,CACCz6E,GAED06E,GAAY/gE,EAAY4zC,EAAU/zC,EAAlCkhE,CAAyC16E,GACzC66E,GAAsBlhE,EAAY6zC,EAAoBh0C,EAAtDqhE,CAA6D76E,KAnBxD,UAWApjB,EAXAm9F,EAAAlzF,OAsBAwyB,EAAUz8B,EAAYkqF,MAAM,SAAAl2E,GAAC,OAAU,IAANA,KAtBjC,CAAAmpF,EAAAzzF,KAAA,gBAyBL44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GAzB3B+5E,EAAAzzF,KAAA,GA0BCg6F,GAAoB,CAAE3mE,aAAYH,QAAO4mE,mBAAmB,GAA5DE,CACLtgF,EACApyB,GA5BI,QAgCN0sG,GAAsB,CAAEjhE,UAAS0T,UAAS0W,cAE1CvkB,EAAcvF,GAAY,EAA1BuF,CAAiClf,GAlC3B,yBAAA+5E,EAAA5yF,SAAA2yF,MAAP,gBAAAkB,EAAAxB,GAAA,OAAA99F,EAAAyE,MAAAkH,KAAA/Z,YAAA,GAsCM,SAAS0iF,GAATmsB,GAAqE,IAAzCxiE,EAAyCwiE,EAAzCxiE,WAAYH,EAA6B2iE,EAA7B3iE,MAA6B2iE,EAAtBpvD,QAAsBovD,EAAb14C,UAC9D,sBAAA7nD,EAAApN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAywF,EAAez2E,EAAUpyB,GAAzB,IAAAoC,EAAAD,EAAA2nG,EAAArnG,EAAAg9E,EAAAE,EAAAC,EAAA5wE,EAAA,OAAA8S,EAAAriB,EAAA8Y,KAAA,SAAAuwF,GAAA,cAAAA,EAAArwF,KAAAqwF,EAAApwF,MAAA,cACAtW,EAAWoD,YAAexF,KAE/BmC,EAMGC,EANHD,OACA2nG,EAKG1nG,EALH0nG,sBACArnG,EAIGL,EAJHK,MACAg9E,EAGGr9E,EAHHq9E,WACAE,EAEGv9E,EAFHu9E,SACAC,EACGx9E,EADHw9E,mBARKkpB,EAAApwF,KAAA,EAWoBgB,QAAQjZ,IAAI,CAErCssG,GAAehhE,EAAY5pC,EAAQypC,EAAnCmhE,CAA0C36E,GAC1C46E,GAA8BjhE,EAAY+9D,EAAuBl+D,EAAjEohE,CACC56E,GAIDs+E,GAAc3kE,EAAYtpC,EAAOmpC,GAAO,EAAxC8kE,CAA8Ct+E,GAC9Cu6E,GAAmB5gE,EAAY0zC,EAAYh9E,EAAOmpC,EAAlD+gE,CAAyDv6E,GACzD06E,GAAY/gE,EAAY4zC,EAAU/zC,EAAlCkhE,CAAyC16E,GACzC66E,GAAsBlhE,EAAY6zC,EAAoBh0C,EAAtDqhE,CAA6D76E,KAtBxD,UAWApjB,EAXA85F,EAAA7vF,MAyBUjK,EAAYkqF,MAAM,SAAAl2E,GAAC,OAAU,IAANA,IAzBjC,CAAA8lF,EAAApwF,KAAA,gBA4BL44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GA5B3B02E,EAAApwF,KAAA,GA6BC65F,GAAmB,CACxBxmE,aACAH,QACA4mE,mBAAmB,GAHdD,CAIHngF,EAAUpyB,GAjCR,QAsCNsxC,EAAcvF,GAAY,EAA1BuF,CAAiClf,GAtC3B,yBAAA02E,EAAAvvF,SAAAsvF,MAAP,gBAAAgD,EAAAG,GAAA,OAAAh+F,EAAAuE,MAAAkH,KAAA/Z,YAAA,GA0CM,SAAS8hF,GAATvzE,GAKJ,IAJF89B,EAIE99B,EAJF89B,WACAH,EAGE39B,EAHF29B,MACAuT,EAEElxC,EAFFkxC,QACA0W,EACE5nD,EADF4nD,UAEA,sBAAA84C,EAAA/tG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA6wF,EAAe72E,EAAUpyB,GAAzB,IAAAoC,EAAA0nG,EAAA3nG,EAAA6M,EAAAy8B,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAA4wF,GAAA,cAAAA,EAAA1wF,KAAA0wF,EAAAzwF,MAAA,cACN44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GAE1BhwB,EAAWoD,YAAexF,KACxB8pG,EAAkC1nG,EAAlC0nG,sBAAuB3nG,EAAWC,EAAXD,OAJzBgnG,EAAAzwF,KAAA,EAMoBgB,QAAQjZ,IAAI,CACrCssG,GAAehhE,EAAY5pC,EAAQypC,EAAnCmhE,CAA0C36E,GAC1C46E,GAA8BjhE,EAAY+9D,EAAuBl+D,EAAjEohE,CACC56E,KATI,cAMApjB,EANAm6F,EAAAlwF,KAaAwyB,EAAUz8B,EAAYkqF,MAAM,SAAAl2E,GAAC,OAAU,IAANA,IAbjCmmF,EAAAzwF,KAAA,EAeAg0F,GAAsB,CAAEjhE,UAAS0T,UAAS0W,cAf1C,OAiBNvkB,EAAcvF,GAAY,EAA1BuF,CAAiClf,GAjB3B,yBAAA+2E,EAAA5vF,SAAA0vF,MAAP,gBAAAgD,EAAAG,GAAA,OAAAuC,EAAAp8F,MAAAkH,KAAA/Z,YAAA,GAqBM,SAAS88E,GAATruE,GAQJ,IAPFrN,EAOEqN,EAPFrN,QACAwB,EAME6L,EANF7L,SACA66E,EAKEhvE,EALFgvE,iBACAC,EAIEjvE,EAJFivE,gBACA3hE,EAGEtN,EAHFsN,KACA4hE,EAEElvE,EAFFkvE,QACAZ,EACEtuE,EADFsuE,SAEA,sBAAAruE,EAAAxN,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAixF,EAAej3E,EAAUpyB,GAAzB,IAAAmC,EAAA,OAAA2f,EAAAriB,EAAA8Y,KAAA,SAAAgxF,GAAA,cAAAA,EAAA9wF,KAAA8wF,EAAA7wF,MAAA,OAWN6jE,GAAe,yBAVTp6E,EAAS,CACdrB,UACAwB,WACA66E,mBACAC,kBACA3hE,OACA4hE,UACAZ,aAG8C37E,QAA/Cy7E,CAAwDnqD,GACxDmqD,GAAe,SAAUp6E,EAAzBo6E,CAAiCnqD,GAZ3B,wBAAAm3E,EAAAhwF,SAAA8vF,MAAP,gBAAAgD,EAAA6B,GAAA,OAAA9/F,EAAAmE,MAAAkH,KAAA/Z,YAAA,GAgBM,SAASojF,GAAiB78E,GAChC,OAAO,SAASmsB,GACf,IAEM3vB,EAFe,IAAI2D,gBAAgBH,GAEdk5F,IAAI,gBAE3B18F,IACH85E,GAAe,QAAS95E,EAAxB85E,CAA+BnqD,GAC/BmqD,GAAe,aAAc95E,EAA7B85E,CAAoCnqD,KAKhC,SAASilD,GAAT63B,GAAwC,IAAXpuG,EAAWouG,EAAXpuG,QACnC,sBAAAwN,EAAA1N,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAyyF,EAAez4E,EAAUpyB,GAAzB,IAAAD,EAAAuC,EAAAiM,EAAA8M,EAAA3J,EAAA,OAAAoQ,EAAAriB,EAAA8Y,KAAA,SAAAyyF,GAAA,cAAAA,EAAAvyF,KAAAuyF,EAAAtyF,MAAA,cACA3Y,EAAQC,IACRsC,EAAWQ,YAAe/C,GAChCuxC,EAAa,OAAAx+B,OAAQhS,IAAW,EAAhCwwC,CAAsClf,GAHhC44E,EAAAvyF,KAAA,EAAAuyF,EAAAtyF,KAAA,EAMsB8B,aAAUlY,GANhC,cAAAiM,EAAAy8F,EAAA/xF,KAMGoC,EANH9M,EAMG8M,SANH2vF,EAAAtyF,KAAA,GAOc2C,EAASy2F,cAAchxG,GAPrC,eAOC4Q,EAPDs5F,EAAA/xF,KAAA+xF,EAAA3xF,OAAA,SAQE+Y,EAAS,CACfxoB,KAAM00F,IACNnxF,KAAMrM,EACNsJ,MAAOsH,KAXH,QAAAs5F,EAAAvyF,KAAA,GAAAuyF,EAAA5xF,GAAA4xF,EAAA,SAcLz8E,QAAQpL,MAAM,4BAAd6nF,EAAA5xF,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAOnM,YAAU,4BAA6B,CAC7CH,KAAM,CAAC42F,EAAWqL,EAAA5xF,OAEnB8X,QAAS,KALV44C,CAMG13C,GArBE,QAuBNkf,EAAa,OAAAx+B,OAAQhS,IAAW,EAAhCwwC,CAAuClf,GAvBjC,yBAAA44E,EAAAzxF,SAAAsxF,EAAA,kBAAP,gBAAAsD,EAAAK,GAAA,OAAAlgG,EAAAiE,MAAAkH,KAAA/Z,YAAA,GCrxBM,SAASszG,GAAT1yG,GAA6C,IAArB2yG,EAAqB3yG,EAArB2yG,MAAOr/F,EAActT,EAAdsT,IAAKxJ,EAAS9J,EAAT8J,MAC1C,OAAO,SAASgoB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACN2U,MAAOA,EACPr/F,IAAKA,EACLxJ,MAAOA,KAKH,SAAS8oG,GAATlyG,GAAgC,IAATiyG,EAASjyG,EAATiyG,MAC7B,OAAO,SAAS7gF,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACN2U,MAAOA,KAOH,IAAME,GAAa,SAAAhyG,GAAoC,IAAjCiyG,EAAiCjyG,EAAjCiyG,QAASC,EAAwBlyG,EAAxBkyG,QAASC,EAAenyG,EAAfmyG,SAC9C,OAAO,SAAAlhF,GACN,OAAOA,EAAS,CACfxoB,KAAM00F,IACN8U,QAASA,EACTC,QAASA,EACTC,SAAUA,MAIAvqB,GAAe,WAC3B,OAAO,SAAA32D,GACN,OAAOA,EAAS,CACfxoB,KAAM00F,QCZF,SAAS9zB,GAATlqE,GAAkD,IAAlB8mB,EAAkB9mB,EAAlB8mB,GAAIxT,EAActT,EAAdsT,IAAKxJ,EAAS9J,EAAT8J,MAC/C,OAAO,SAASgoB,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNl3E,GAAIA,EACJxT,IAAKA,EACLxJ,MAAOA,KAKH,SAAS++E,KACf,OAAO,SAAS/2D,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,OAKF,SAASxzB,GAAT9pE,GAAqC,IAANomB,EAAMpmB,EAANomB,GACrC,OAAO,SAASgL,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNl3E,GAAIA,KAMA,SAASmsF,GAATpyG,GAA0C,IAAZimB,EAAYjmB,EAAZimB,GAAIkE,EAAQnqB,EAARmqB,KACxC,OAAO,SAAS8G,GACf,GAAKhL,GAAOA,EAAGzD,MAAS2H,EAExB,OAAO8G,EAAS,CACfxoB,KAAM00F,IACNl0F,MAAOgd,EACPA,GAAIA,EAAGzD,KACP2H,KAAMA,KAMF,SAASkoF,GAATjyG,GAAyD,IAAxB6lB,EAAwB7lB,EAAxB6lB,GAAIxT,EAAoBrS,EAApBqS,IAAKxJ,EAAe7I,EAAf6I,MAAOkhB,EAAQ/pB,EAAR+pB,KACvD,OAAO,SAAS8G,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,KACNl3E,GAAIA,EACJxT,IAAKA,EACLxJ,MAAOA,EACPkhB,KAAMA,KAKF,SAASmoF,GAAT/xG,GAA4C,IAAZ0lB,EAAY1lB,EAAZ0lB,GAAIkE,EAAQ5pB,EAAR4pB,KAC1C,OAAO,SAAS8G,GACf,OAAOA,EAAS,CACfxoB,KAAM00F,IACNl3E,GAAIA,EACJkE,KAAMA,KAKF,SAASujD,GAAThtE,GAOJ,IANFu9C,EAMEv9C,EANFu9C,QACArT,EAKElqC,EALFkqC,WAEAH,GAGE/pC,EAJF8oE,KAIE9oE,EAHF+pC,OACAuT,EAEEt9C,EAFFs9C,QACA0W,EACEh0D,EADFg0D,UAEA,sBAAA7yD,EAAApC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeyZ,EAAUpyB,GAAzB,IAAAD,EAAA2zG,EAAAznC,EAAAE,EAAAD,EAAA6T,EAAAz9E,EAAAqxG,EAAAloE,EAAAmoE,EAAA,OAAA9xF,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAAAM,EAAAN,KAAA,EACA44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GADhC,cAAApZ,EAAAN,KAAA,EAEAgvF,KAA4Bt1E,EAAUpyB,GAFtC,cAIAD,EAAQC,IAJR0zG,EAK0CxkG,aAC/CnP,EACAq/C,GAFO6sB,EALFynC,EAKEznC,QAASE,EALXunC,EAKWvnC,gBAAiBD,EAL5BwnC,EAK4BxnC,UAI5B6T,EAAal9E,aAAoB9C,GACjCuC,EAAWQ,YAAe/C,GAV1BiZ,EAAAN,KAAA,GAYyBgB,QAAQjZ,IAAI,CAC1CquG,GAAmB,CAClB/iE,aACAzgB,KAAM2gD,EACN16B,KAAM,UACNjkB,UAAU,EACVD,aAAa,EACb/qB,WACAspC,SAPDkjE,CAQG18E,GACH09E,GAAkB,CACjB/jE,aACAmgC,YACAtgC,SAHDkkE,CAIG19E,KA1BE,WAYAuhF,EAZA36F,EAAAC,OA6BFwyB,EAAUkoE,EAAiBza,MAAM,SAAAl2E,GAAC,OAAU,IAANA,KA7BpC,CAAAhK,EAAAN,KAAA,gBAAAM,EAAAN,KAAA,GAgCoB42F,GAA0B,CAClDvjE,aACAkgC,UACA8T,aACA5T,kBACAD,YACAtgC,QACAtpC,YAPwBgtG,CAQtBl9E,GAxCE,eAgCCwhF,EAhCD56F,EAAAC,KA0CLwyB,EAAUmoE,EAAWnoE,QA1ChBzyB,EAAAN,KAAA,GA4CC8xD,GAAqB,CAC1BpjD,GAAIg4B,EACJxrC,IAAK,aACLxJ,MAAOwpG,EAAW9mF,KAHb09C,CAIHp4C,GAhDE,eAAApZ,EAAAN,KAAA,GAmDAg0F,GAAsB,CAAEjhE,UAAS0T,UAAS0W,cAnD1C,eAAA78C,EAAAN,KAAA,GAqDA44B,EAAcvF,GAAY,EAA1BuF,CAAiClf,GArDjC,yBAAApZ,EAAAO,SAAAZ,MAAP,gBAAAiB,EAAAJ,GAAA,OAAAxW,EAAAuP,MAAAkH,KAAA/Z,YAAA,GAyDM,SAAS8uE,GAATtrE,GAMJ,IALFk8C,EAKEl8C,EALFk8C,QACArT,EAIE7oC,EAJF6oC,WACAH,EAGE1oC,EAHF0oC,MACAuT,EAEEj8C,EAFFi8C,QACA0W,EACE3yD,EADF2yD,UAEA,sBAAAzyD,EAAAxC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAe+Z,EAAUpyB,GAAzB,IAAAD,EAAAgC,EAAAua,EAAA/G,EAAAnQ,EAAAyuG,EAAA1pC,EAAAC,EAAA0pC,EAAArG,EAAAsG,EAAArG,EAAAprG,EAAAqxG,EAAAloE,EAAAuhC,EAAA,OAAAlrD,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACA44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GADhC,cAAA5Z,EAAAE,KAAA,EAEAgvF,KAA4Bt1E,EAAUpyB,GAFtC,cAIAD,EAAQC,IACR+B,EAAUD,YAAc/B,GALxBuc,EAMuBjb,aAAgBtB,GAArCwV,EANF+G,EAME/G,OAAQnQ,EANVkX,EAMUlX,SANVyuG,EAOmC3kG,aACxCnP,EACAq/C,GAFO+qB,EAPF0pC,EAOE1pC,iBAAkBC,EAPpBypC,EAOoBzpC,WAPpB0pC,EAaFxwG,YAAsBvD,GADU0tG,EAZ9BqG,EAYLx2F,kCAZKy2F,EAgBFpwG,YAA4B5D,GADI2tG,EAf9BqG,EAeLz2F,kCAIKhb,EAAWQ,YAAe/C,GAnB1ByY,EAAAE,KAAA,GAqByBgB,QAAQjZ,IAAI,CAC1CquG,GAAmB,CAClB/iE,aACAzgB,KAAM8+C,EACN74B,KAAM,aACNjkB,UAAU,EACVD,aAAa,EACb/qB,WACAspC,SAPDkjE,CAQG18E,GACHo7E,GAAuB,CACtBzhE,aACAo+B,mBACAsjC,uCACAC,6CACAtoG,WACAmQ,SACAq2B,SAPD4hE,CAQGp7E,KAvCE,WAqBAuhF,EArBAn7F,EAAAS,OA0CFwyB,EAAUkoE,EAAiBza,MAAM,SAAAl2E,GAAC,OAAU,IAANA,KA1CpC,CAAAxK,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GA8CmBi5F,aAAqB,CAC3C5vG,UACAooE,mBACAC,aACA4E,aAAa,IAlDV,eA8CEhC,EA9CFx0D,EAAAS,KAAAT,EAAAE,KAAA,GAqDE8xD,GAAqB,CAC1BpjD,GAAIg4B,EACJxrC,IAAK,WACLxJ,MAAO4iE,GAHFxC,CAIHp4C,EAAUpyB,GAzDT,QAAAwY,EAAAE,KAAA,wBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,UA2DJizB,GAAU,EA3DNjzB,EAAAE,KAAA,GA6DE80F,GAAuB,CAC5BzhE,aACAo+B,mBACAsjC,uCACAC,6CACAtoG,WACAmQ,SACAo4F,SAAUhO,EAAWnnF,EAAAY,IACrBwyB,SARK4hE,CASHp7E,GAtEC,eAAA5Z,EAAAE,KAAA,GA0EAg0F,GAAsB,CAAEjhE,UAAS0T,UAAS0W,cA1E1C,eAAAr9C,EAAAE,KAAA,GA4EA44B,EAAcvF,GAAY,EAA1BuF,CAAiClf,GA5EjC,yBAAA5Z,EAAAe,SAAAlB,EAAA,mBAAP,gBAAA2C,EAAAF,GAAA,OAAA1X,EAAAmP,MAAAkH,KAAA/Z,YAAA,GC3GM,SAASouD,GAATxtD,GAAoC,IAAZ+P,EAAY/P,EAAZ+P,SAC9B,sBAAArP,EAAAJ,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeyZ,EAAUpyB,GAAzB,IAAA+B,EAAAZ,EAAA8yF,EAAA,OAAAnyE,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACN44B,EAAcyc,MAAkB,EAAhCzc,CAAsClf,GAChCrwB,EAAUD,YAAc9B,KAFxBgZ,EAAAP,KAAA,EAAAO,EAAAN,KAAA,EAIC+F,aAAgC,CACrCV,YAAa,CAAC,CAAEqB,QAAS/O,IACzBtO,YANI,cAAAiX,EAAAN,KAAA,EAS2Bw6E,aAAY,CAC3C7iF,WACAtO,YAXI,OAAAZ,EAAA6X,EAAAC,KASGg7E,EATH9yF,EASG8yF,cAKR7hE,EAAS,CACRxoB,KAAM00F,IACNnxF,KAAM8mF,EACNhkF,SAAU,aAEX65D,EAAS,CACRlgE,KAAM,SACNyL,MAAO3U,aAAE,mCAAoC,CAC5CqI,KAAM,CAACkrF,EAAc3sF,MAEtB4pB,QAAS,KALV44C,CAMG13C,GAzBEpZ,EAAAN,KAAA,iBAAAM,EAAAP,KAAA,GAAAO,EAAAI,GAAAJ,EAAA,SA2BLuV,QAAQpL,MAAM,uBAAdnK,EAAAI,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAO3U,aAAE,uBAAwB,CAChCqI,KAAM,CAAC42F,EAAW3mF,EAAAI,OAEnB8X,QAAS,KALV44C,CAMG13C,GAlCE,eAoCNkf,EAAcyc,MAAkB,EAAhCzc,CAAuClf,GApCjCpZ,EAAAK,OAAA,UAqCC,GArCD,yBAAAL,EAAAO,SAAAZ,EAAA,kBAAP,gBAAAiB,EAAAJ,GAAA,OAAAxY,EAAAuR,MAAAkH,KAAA/Z,YAAA,GAyCM,IAAMs0G,GAAsB,SAAAzyG,GAAkB,IAAf8O,EAAe9O,EAAf8O,SACrC,sBAAA3O,EAAAd,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAM+Z,GAAN,IAAAryB,EAAAotF,EAAA,OAAArrE,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEe2R,aAAkB,CAAEha,aAFnC,cAECtQ,EAFDyY,EAAAS,MAGCk0E,EAHDvsF,OAAAC,EAAA,EAAAD,CAAA,GAGoByP,IACbtQ,MAAQA,EAJfyY,EAAAa,OAAA,SAME+Y,EAAS,CACfxoB,KAAM00F,IACNnxF,KAAMggF,EACNl9E,SAAU,cATN,OAAAuI,EAAAC,KAAA,EAAAD,EAAAY,GAAAZ,EAAA,SAYL+V,QAAQpL,MAAM,mCAAd3K,EAAAY,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAO3U,aAAE,mCAAoC,CAC5CqI,KAAM,CAAC42F,EAAWnnF,EAAAY,OAEnB8X,QAAS,KALV44C,CAMG13C,GAnBE,yBAAA5Z,EAAAe,SAAAlB,EAAA,iBAAP,gBAAA2C,GAAA,OAAAtZ,EAAA6Q,MAAAkH,KAAA/Z,YAAA,IAyBD,SAASu0G,GAAqB5jG,GAC7B,GAAIA,EAASkB,QAAgD,WAAtClB,EAASkB,OAAOC,kBACtC,MAAO,SACR,QAASnB,EAASkB,QAAU,IAAIG,MAC/B,IAAK,SACL,IAAK,QACL,IAAK,UACL,IAAK,eACL,IAAK,UACL,IAAK,UACL,IAAK,eACL,IAAK,YACL,IAAK,UACJ,MAAO,SACR,IAAK,UACL,IAAK,YACL,IAAK,WACJ,MAAO,YACR,QACC,MAAO,OAIH,SAAS0mF,KACf,sBAAAv2F,EAAAjB,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAqC,EAAe2X,EAAUpyB,GAAzB,IAAAD,EAAAynG,EAAA0M,EAAA/xG,EAAAC,EAAAC,EAAAvB,EAAAqH,EAAA,OAAA2Z,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,UACA3Y,EAAQC,IACRwnG,EAAUtlG,YAAWnC,GAFrBm0G,EAGuBpyG,YAAc/B,GAAnCoC,EAHF+xG,EAGE/xG,OAAQC,EAHV8xG,EAGU9xG,SACRC,EAAYF,EAAZE,QACAvB,EAAYsB,EAAZtB,UAEJ0mG,GAAWnlG,GAAWvB,GAPpB,CAAA8Z,EAAAlC,KAAA,gBAAAkC,EAAAnC,KAAA,EAAAmC,EAAAlC,KAAA,EASoBy7F,YAAa,CAAE9xG,UAASyqF,QAAShsF,IATrD,OASEqH,EATFyS,EAAA3B,KAwBJmoF,GAAY,CACXpxF,MAfqB7H,EACpB2D,OACA,SAAAC,GAAC,OAAIA,EAAE+gF,SAAW/gF,EAAE+gF,QAAQnsE,gBAAkB7f,EAAQ6f,gBAEtDvf,IAAI,SAAA2K,GACJ,IAAMsE,EAAQzP,OAAAC,EAAA,EAAAD,CAAA,GAAQmL,EAAEkF,KAASlF,GAMjC,OAJKsE,EAASmB,oBACbnB,EAASkB,OAAOC,kBAAoByiG,GAAqB5jG,IAGnDA,IAKRJ,SAAU,YAFXmxF,CAGGhvE,GA3BCxX,EAAAlC,KAAA,iBAAAkC,EAAAnC,KAAA,GAAAmC,EAAAxB,GAAAwB,EAAA,SA6BJ2T,QAAQpL,MAAM,wBAAdvI,EAAAxB,IAEA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAO3U,aAAE,wBAAyB,CACjCqI,KAAM,CAAC42F,EAAW/kF,EAAAxB,OAEnB8X,QAAS,KALV44C,CAMG13C,GArCC,yBAAAxX,EAAArB,SAAAkB,EAAA,kBAAP,gBAAAK,EAAAI,GAAA,OAAArZ,EAAA0Q,MAAAkH,KAAA/Z,YAAA,GA2CM,SAAS8qB,GAATxnB,GAAqC,IAAZqN,EAAYrN,EAAZqN,SAC/B,sBAAAnN,EAAAtC,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0B,EAAesY,EAAUpyB,GAAzB,IAAAD,EAAAsC,EAAAN,EAAAqB,EAAAgnB,EAAA,OAAAtI,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cACN44B,EAAc,oBAAoB,EAAlCA,CAAwClf,GADlC7X,EAAA9B,KAAA,EAGC1Y,EAAQC,IACRqC,EAAUO,YAAc7C,GACtBgC,EAAYhC,EAAME,QAAlB8B,QALHwY,EAAA7B,KAAA,EAMwBi8E,aAAa,CAAE5yF,UAASsO,aANhD,cAAAjN,EAAAmX,EAAAtB,KAMGmR,EANHhnB,EAMGgnB,WANH7P,EAAA7B,KAAA,GAOC07F,YAAoB,CAAE/jG,WAAUhO,YAPjC,QAQLmkG,GAA0B,CAAEC,QAASr8E,GAArCo8E,CAAmDp0E,EAAUpyB,GAC7D46B,EAAQvtB,aAAK,oCACby8D,EAAS,CACR13C,WACAxoB,KAAM,SACNi2F,SAAU,2BACV92F,KAAM,CAACsH,EAAS/I,MAEjB8wF,KAhBK79E,EAAA7B,KAAA,iBAAA6B,EAAA9B,KAAA,GAAA8B,EAAAnB,GAAAmB,EAAA,SAkBLgU,QAAQpL,MAAM,uBAAd5I,EAAAnB,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAO3U,aAAE,uBAAwB,CAChCqI,KAAM,CAAC42F,EAAWplF,EAAAnB,OAEnB8X,QAAS,KALV44C,CAMG13C,GAzBE,QA2BNkf,EAAc,oBAAoB,EAAlCA,CAAyClf,GA3BnC,yBAAA7X,EAAAhB,SAAAO,EAAA,kBAAP,gBAAAkC,EAAA4B,GAAA,OAAA1a,EAAAqP,MAAAkH,KAAA/Z,YAAA,GA+BM,SAAS8uD,GAAkBjd,EAAMnnC,EAAOmiC,GAC9C,sBAAAhpC,EAAA3C,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA2H,EAAeqS,EAAUpyB,GAAzB,IAAAq0G,EAAA,OAAAvyF,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cACA27F,EAAkB9kG,aAAkBvP,KADpCggB,EAAAtH,KAAA,EAEAyrC,GACLkwD,EACA9nE,GAAS3rC,OAAAsxB,EAAA,EAAAtxB,CAAA,GAAO2wC,EAAOnnC,GACvB,WACAoF,WAJK20C,CAKJ/xB,GAPI,wBAAApS,EAAAzG,SAAAwG,MAAP,gBAAAyvE,EAAA9wE,GAAA,OAAAnb,EAAAgP,MAAAkH,KAAA/Z,YAAA,GAWD,IAAM40G,GAAiB,CACtB,CACChtG,GAhM0BI,6CAiM1BihB,IAlM2BjhB,kCAmM3BgmF,OAjM+BhmF,IAkM/BkmF,OAjM+BlmF,MAkM/BmmF,QAjMgCnmF,IAmMjC,CACCJ,GAjM4BI,6CAkM5BihB,IAnM6BjhB,gCAoM7BgmF,OAlMiChmF,IAmMjCkmF,OAlMiClmF,MAmMjCmmF,QAlMkCnmF,+CAsM7B,SAASouD,GAATlyD,GAKJ,IAJFmoC,EAIEnoC,EAJFmoC,WACAH,EAGEhoC,EAHFgoC,MACAuT,EAEEv7C,EAFFu7C,QACA0W,EACEjyD,EADFiyD,UAEA,sBAAA9xD,EAAAnD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAgD,EAAegX,EAAUpyB,GAAzB,IAAAD,EAAAsQ,EAAAI,EAAAg7B,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAA6C,EAAA7C,KAAA,EACA44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GADhC,cAGAryB,EAAQC,IACRqQ,EAAWd,aAAkBxP,GAC3B0Q,EAAYJ,EAAZI,QALF8K,EAAA7C,KAAA,EAOgBw0F,GAAsB,CAAEnhE,aAAYt7B,UAASm7B,UAP7D,cAOAH,EAPAlwB,EAAAtC,KAAAsC,EAAA7C,KAAA,GASAg0F,GAAsB,CAAEjhE,UAAS0T,UAAS0W,cAT1C,eAAAt6C,EAAA7C,KAAA,GAWA44B,EAAcvF,GAAY,EAA1BuF,CAAiClf,GAXjC,yBAAA7W,EAAAhC,SAAA6B,MAAP,gBAAA6E,EAAAI,GAAA,OAAAtc,EAAAwO,MAAAkH,KAAA/Z,YAAA,GAeM,SAASq2D,GAAT7xD,GAKJ,IAJF6nC,EAIE7nC,EAJF6nC,WACAH,EAGE1nC,EAHF0nC,MACAuT,EAEEj7C,EAFFi7C,QACA0W,EACE3xD,EADF2xD,UAEA,sBAAAxxD,EAAAzD,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA8D,EAAekW,EAAUpyB,GAAzB,IAAAD,EAAAsQ,EAAAiP,EAAA3N,EAAAG,EAAAiB,EAAAf,EAAAC,EAAAF,EAAA2+C,EAAA1e,EAAA2e,EAAArV,EAAA6xC,EAAAn+E,EAAAy8B,EAAA1pC,EAAA0C,EAAAutD,EAAA+hC,EAAAC,EAAA/sC,EAAA,OAAAnlC,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAAmE,EAAAnE,KAAA,EACA44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GADhC,UAAAvV,EAAApE,KAAA,EAGC1Y,EAAQC,IACRqQ,EAAWd,aAAkBxP,GAElCuf,EAQGjP,EARHiP,WACA3N,EAOGtB,EAPHsB,cACAG,EAMGzB,EANHyB,iBACAiB,EAKG1C,EALH0C,MACAf,EAIG3B,EAJH2B,WACAC,EAGG5B,EAHH4B,oBACAF,EAEG1B,EAFH0B,QAZI2+C,EAcDrgD,EADH2hC,KAGO2e,GAHP3e,OAbI,IAAA0e,EAaG,GAbHA,GAgBGC,eAAgBrV,EAAetJ,EAAfsJ,WAElB6xC,EAlBDvsF,OAAAC,EAAA,EAAAD,CAAA,GAkBoByP,GAEpBiP,GAAeA,EAAW3f,OApB1B,CAAAkd,EAAAnE,KAAA,gBAsBJy0E,EAAY7tE,WAAag1F,GAtBrBz3F,EAAAnE,KAAA,GAuBE81C,GAAkB,aAAc2+B,EAAY7tE,WAA5CkvC,CACLp8B,EACApyB,GAzBG,eAAA6c,EAAAnE,KAAA,GA6BqBgB,QAAQjZ,IAAI,CACrC4sG,GAA2B,CAAEthE,aAAYzsB,aAAYssB,SAArDyhE,CAA8Dj7E,GAC9Dy7E,GAAuB,CACtB9hE,aACAwF,KAAM,gBACNnnC,MAAOuH,EACPi6B,QACAj6B,gBACAG,mBACAs3B,QAASwC,GAAS,iBAClB0P,cARDuyD,CASGz7E,GACHy7E,GAAuB,CACtB9hE,aACAwF,KAAM,mBACNnnC,MAAO0H,EACP85B,QACAj6B,gBACAG,mBACAs3B,QAASwC,GAAS,iBAClB0P,cARDuyD,CASGz7E,GACHs8E,GAAsB,CACrB3iE,aACAh5B,QACA64B,SAHD8iE,CAIGt8E,GACHk8E,GAAsB,CACrBviE,aACAwF,KAAM,aACNnnC,MAAO4H,EACP45B,QACA55B,aACAC,sBACAF,WAPDu8F,CAQGl8E,GACHk8E,GAAsB,CACrBviE,aACAwF,KAAM,sBACNnnC,MAAO6H,EACP25B,QACA55B,aACAC,sBACAF,WAPDu8F,CAQGl8E,KAzEC,WA6BCpjB,EA7BD6N,EAAA5D,KA4ECwyB,EAAUz8B,EAAYkqF,MAAM,SAAAl2E,GAAC,OAAU,IAANA,IAET,kBAAnB2tC,EA9EN,CAAA9zC,EAAAnE,KAAA,gBAAAmE,EAAAnE,KAAA,GA+EE44B,EAAcuf,MAAwB,EAAtCvf,CAA4Clf,GA/E9C,eAiFErwB,EAAUD,YAAc/B,GAjF1B8c,EAAAnE,KAAA,GAuFMw6E,aAAY,CACrB7iF,SAASzP,OAAAC,EAAA,EAAAD,CAAA,GAAMusF,GACfprF,UACAitE,aAAa,EACbokB,YAAY,IA3FT,eAAA3uF,EAAAoY,EAAA5D,KAoFH+4C,EApFGvtD,EAoFHutD,cACA+hC,EArFGtvF,EAqFHsvF,aACAC,EAtFGvvF,EAsFHuvF,uBAQK/sC,EA9FFrmD,OAAAC,EAAA,EAAAD,CAAA,GA8FiBoxC,IACb2e,eAAiBqB,EACzB/K,EAAQ3L,WAAay4C,EACrB9sC,EAAQ2J,oBAAsBojC,EAjG1Bn3E,EAAAnE,KAAA,GAmGE81C,GAAkB,OAAQvH,EAA1BuH,CAAmCp8B,EAAUpyB,GAnG/C,eAAA6c,EAAAnE,KAAA,GAsGCg0F,GAAsB,CAAEjhE,UAAS0T,UAAS0W,cAtG3C,QAAAh5C,EAAAnE,KAAA,iBAAAmE,EAAApE,KAAA,GAAAoE,EAAAzD,GAAAyD,EAAA,SAwGL0R,QAAQpL,MAAM,kCAAdtG,EAAAzD,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAO3U,aAAE,kCAAmC,CAC3CqI,KAAM,CAAC42F,EAAW9iF,EAAAzD,OAEnB8X,QAAS,KALV44C,CAMG13C,GA/GE,eAAAvV,EAAAnE,KAAA,GAkHA44B,EAAcuf,MAAwB,EAAtCvf,CAA6Clf,GAlH7C,eAAAvV,EAAAnE,KAAA,GAmHA44B,EAAcvF,GAAY,EAA1BuF,CAAiClf,GAnHjC,yBAAAvV,EAAAtD,SAAA2C,EAAA,kBAAP,gBAAA2D,EAAA4pF,GAAA,OAAAplG,EAAAkO,MAAAkH,KAAA/Z,YAAA,GAuHM,SAASwyD,KACf,sBAAAttD,EAAAhE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAA0F,EAAesU,EAAUpyB,GAAzB,IAAAD,EAAAsQ,EAAA7O,EAAA+yG,EAAAviE,EAAArgC,EAAA5P,EAAAkD,EAAA+sD,EAAAib,EAAAunC,EAAAviD,EAAAhL,EAAA,OAAAnlC,EAAAriB,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAAAyF,EAAAzF,KAAA,EACA44B,EAAcuf,MAAwB,EAAtCvf,CAA4Clf,GAD5C,cAAAjU,EAAA1F,KAAA,EAGC1Y,EAAQC,IACRqQ,EAAWd,aAAkBxP,GAC7ByB,EAAYH,aAAgBtB,GAL7Bw0G,EAMgClkG,EAA7B2hC,YANH,IAAAuiE,EAMU,GANVA,EAMc5iG,EAAkBtB,EAAlBsB,cAEb5P,EAAUD,YAAc/B,GARzBoe,EAAAzF,KAAA,GAUiCw6E,aAAY,CACjD7iF,SAASzP,OAAAC,EAAA,EAAAD,CAAA,GAAMyP,GACftO,UACAitE,aAAa,IAbT,eAAA/pE,EAAAkZ,EAAAlF,KAUG+4C,EAVH/sD,EAUG+sD,cAAeib,EAVlBhoE,EAUkBgoE,KAMjBunC,EAAajvG,sBAAWoM,EAAenQ,EAAU4D,UAAUkU,IAAI2zD,GAE/Dhb,EAAsBtmD,aAC3B6oG,EAAW34F,WACXra,EAAU4D,UAAY,IACtB,GACA,IAGK6hD,EAzBDrmD,OAAAC,EAAA,EAAAD,CAAA,GAyBgBoxC,IACbggB,cAAgBA,EACxB/K,EAAQgL,oBAAsBA,EA3BzB9zC,EAAAzF,KAAA,GA6BC81C,GAAkB,OAAQvH,EAA1BuH,CAAmCp8B,EAAUpyB,GA7B9C,QAAAme,EAAAzF,KAAA,iBAAAyF,EAAA1F,KAAA,GAAA0F,EAAA/E,GAAA+E,EAAA,SA+BLoQ,QAAQpL,MAAM,4BAAdhF,EAAA/E,IACA0wD,EAAS,CACRlgE,KAAM,SACNyL,MAAO3U,aAAE,4BAA6B,CACrCqI,KAAM,CAAC42F,EAAWxhF,EAAA/E,OAEnB8X,QAAS,KALV44C,CAMG13C,GAtCE,eAAAjU,EAAAzF,KAAA,GAyCA44B,EAAcuf,MAAwB,EAAtCvf,CAA6Clf,GAzC7C,yBAAAjU,EAAA5E,SAAAuE,EAAA,kBAAP,gBAAAisF,EAAAC,GAAA,OAAAplG,EAAA2N,MAAAkH,KAAA/Z,YAAA,GA6CM,SAASg9C,GAA4BrhB,GAC3C,sBAAAn2B,EAAAtE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAwG,EAAewT,EAAUpyB,GAAzB,OAAA8hB,EAAAriB,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,cAAAwG,EAAAxG,KAAA,EACA44B,EAAc2J,MAA6B,EAA3C3J,CAAiDlf,GADjD,OAENkhD,EAAa1yE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KACZ,SAAAgyF,IAAA,OAAAtoF,EAAAriB,EAAA8Y,KAAA,SAAA8xF,GAAA,cAAAA,EAAA5xF,KAAA4xF,EAAA3xF,MAAA,cAAA2xF,EAAA3xF,KAAA,EACO2mF,EAAwBhkE,EAAxBgkE,CAAkCjtE,EAAUpyB,GADnD,cAAAqqG,EAAA3xF,KAAA,EAEO0Z,EAAS/kB,aAAK,mCAFrB,cAAAg9F,EAAA3xF,KAAA,EAGO44B,EAAc2J,MAA6B,EAA3C3J,CAAkDlf,GAHzD,wBAAAi4E,EAAA9wF,SAAA6wF,MADYxpG,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAMZ,SAAAqH,IAAA,OAAAqC,EAAAriB,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,cAAAgH,EAAAhH,KAAA,EACO44B,EAAc2J,MAA6B,EAA3C3J,CAAkDlf,GADzD,wBAAA1S,EAAAnG,SAAAkG,MAGA,CACC1M,MAAOrS,aAAE,2CACTqoB,KAAMroB,aAAE,2CAXV4yE,CAaElhD,EAAUpyB,GAfN,wBAAAkf,EAAA3F,SAAAqF,MAAP,gBAAAsrF,EAAAC,GAAA,OAAAjlG,EAAAqN,MAAAkH,KAAA/Z,YAAA,OClbO+0G,GAAellE,UAAfklE,WAED,SAASxhD,GAAc1hB,EAAMnnC,EAAOmiC,GAC1C,sBAAAjsC,EAAAM,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAO,EAAeyZ,EAAUpyB,GAAzB,IAAAD,EAAA20G,EAAA,OAAA5yF,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACA3Y,EAAQC,IACR00G,EAAchlG,aAAgB3P,GAF9BiZ,EAAAN,KAAA,EAGAyrC,GACLuwD,EACAnoE,GAAS3rC,OAAAsxB,EAAA,EAAAtxB,CAAA,GAAO2wC,EAAOnnC,GACvB,SACAyF,SAJKs0C,CAKJ/xB,GARI,wBAAApZ,EAAAO,SAAAZ,MAAP,gBAAAiB,EAAAJ,GAAA,OAAAlZ,EAAAiS,MAAAkH,KAAA/Z,YAAA,GAYM,SAAS02D,GAATj1D,GAKJ,IAJF4qC,EAIE5qC,EAJF4qC,WACAH,EAGEzqC,EAHFyqC,MACAuT,EAEEh+C,EAFFg+C,QACA0W,EACE10D,EADF00D,UAEA,sBAAAt0D,EAAAX,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAO,SAAAC,EAAe+Z,EAAUpyB,GAAzB,IAAAwB,EAAAzB,EAAA0oE,EAAA11D,EAAA4+B,EAAA/nC,EAAAiK,EAAA8gG,EAAA7iG,EAAA9C,EAAAy8B,EAAA,OAAA3pB,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACA44B,EAAcvF,GAAY,EAA1BuF,CAAgClf,GADhC,cAGA5wB,EAAYH,eACZtB,EAAQC,IACRyoE,EAAO/4D,aAAgB3P,GACrBgT,EAA+D01D,EAA/D11D,MAAO4+B,EAAwD82B,EAAxD92B,YAAa/nC,EAA2C6+D,EAA3C7+D,KAAMiK,EAAqC40D,EAArC50D,QAN5B8gG,EAMiElsC,EAA5B32D,wBANrC,IAAA6iG,EAMwD,KANxDA,EAAAn8F,EAAAE,KAAA,EAQoBgB,QAAQjZ,IAAI,CACrC2vG,GAAmB,CAClBrkE,aACA3hC,MAAO2I,EACPw+B,KAAM,QACN7qB,OAAQ+tF,GAAW1hG,MACnB64B,SALDwkE,CAMGh+E,GACHg+E,GAAmB,CAClBrkE,aACA3hC,MAAOunC,EACPJ,KAAM,cACN7qB,OAAQ+tF,GAAW9iE,YACnB/F,SALDwkE,CAMGh+E,GACHg+E,GAAmB,CAClBrkE,aACA3hC,MAAOR,EACP2nC,KAAM,OACN7qB,OAAQ+tF,GAAW7qG,KACnBgiC,SALDwkE,CAMGh+E,GACHg+E,GAAmB,CAClBrkE,aACA3hC,MAAOyJ,EACP09B,KAAM,UACN7qB,OAAQ+tF,GAAW5gG,QACnB+3B,SALDwkE,CAMGh+E,GACHg/B,GAAqB,CACpBrlB,aACAwF,KAAM,mBACNnnC,MAAO0H,GAAoB,IAC3B85B,SAJDwlB,CAKGh/B,KA1CE,UAQApjB,EARAwJ,EAAAS,OA6CFwyB,EAAUz8B,EAAYkqF,MAAM,SAAAl2E,GAAC,OAAU,IAANA,KA7C/B,CAAAxK,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAgDW03F,GAAmB,CAClCrkE,aACA3hC,MAAMxJ,OAAAsxB,EAAA,EAAAtxB,CAAA,GACJY,EAAUV,QAAU8+F,GAAyB,CAC7Cr0B,OAAQz5D,EACR1M,SAAU5D,EAAU4D,YAGtBmsC,KAAM,mBACN7qB,OAAQ+tF,GAAW3iG,iBACnB85B,SAVewkE,CAWbh+E,GA3DE,QAgDLqZ,EAhDKjzB,EAAAS,KAAA,eAAAT,EAAAE,KAAA,GA8DAg0F,GAAsB,CAAEjhE,UAAS0T,UAAS0W,cA9D1C,eAAAr9C,EAAAE,KAAA,GAgEA44B,EAAcvF,GAAY,EAA1BuF,CAAiClf,GAhEjC,yBAAA5Z,EAAAe,SAAAlB,MAAP,gBAAA2C,EAAAF,GAAA,OAAAvZ,EAAAgR,MAAAkH,KAAA/Z,YAAA,oqFClBc0X,EAAA,EAAAxW,OAAAC,EAAA,MACX0uD,EACAqlD,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,qICtBJ,IAAMC,EAAY,SAACphG,EAAStK,EAAM8+F,GACjC,IAAM6M,EAAM30G,OAAAC,EAAA,EAAAD,CAAA,GAAQsT,GAEpB,OADAqhG,EAAO3rG,GAAPhJ,OAAAC,EAAA,EAAAD,CAAA,GAAoB8nG,GACb6M,gBCoBKC,EAAkB,CAC9BzzG,QCnBc,WAA8D,IACxE0zG,EADkC11G,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9Bm8F,IAAa95F,QAAS4vB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM5E,OAFA61G,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAER4xB,EAAO/nB,MACd,KAAKu8E,IAGJ,OADAsvB,EADU70G,OAAAC,EAAA,EAAAD,CAAA,GAAQ+wB,EAAO5vB,SAG1B,KAAKskF,IAGJ,OADAovB,EADa5Z,IAAa95F,QAG3B,KAAKqkF,IAOJ,OADAqvB,EALanV,OAAKC,aAAa,CAC9BpzF,KAAMsoG,EACNlpE,UAAU3rC,OAAAC,EAAA,EAAAD,CAAA,GAAM+wB,EAAO4a,WACvBwD,SAAUkoC,YAKZ,QACC,OAAOl4E,IDLTiQ,MAAO0lG,wBEhBO,WAA0D,IACpED,EACA3qD,EACAx7C,EACAqmG,EACAxoG,EALgCpN,EAAoCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA5Bm8F,IAAa7rF,MAAO2hB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAOlE4pD,EAAa,WAAwB,IAAvBzpD,EAAuBL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIiyB,EAAWjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1C,OAAK+xB,EAAOxkB,KACLvM,OAAAC,EAAA,EAAAD,CAAA,GACHb,EADJa,OAAAsxB,EAAA,EAAAtxB,CAAA,GAEE+wB,EAAOxkB,KAAK7F,GAAKqqB,EAAOxkB,OAHDpN,GAmB1B,OANI4xB,EAAOxkB,MAAQwkB,EAAO1hB,WACzBwlG,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChBoN,EAAIvM,OAAAC,EAAA,EAAAD,CAAA,GAAQ+wB,EAAOxkB,MACnBwoG,EAAehkF,EAAO1hB,UAGf0hB,EAAO/nB,MACd,KAAK66E,IASJ,OANAn1E,EAAUnC,EACV29C,EAAgBtB,EAAWisD,EAASE,GAAV/0G,OAAAC,EAAA,EAAAD,CAAA,GACtB+wB,EADsB,CAEzBxkB,KAAMmC,KAEPmmG,EAASE,GAAgB7qD,EAClB2qD,EAER,KAAKzwB,IAOJ,OANA11E,EAAUugC,OAAK+lE,QAAQH,EAASE,GAAcxoG,EAAKgmC,KAAMxhB,EAAOkkF,OAChE/qD,EAAgBtB,EAAWisD,EAASE,GAAV/0G,OAAAC,EAAA,EAAAD,CAAA,GACtB+wB,EADsB,CAEzBxkB,KAAMmC,KAEPmmG,EAASE,GAAgB7qD,EAClB2qD,EAER,KAAK3wB,IAGJ,OAFAh6B,EAlC2B,WAA2B,IAA1BtB,EAA0B9pD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,GAAI6xC,EAAS7xC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnDk2G,EAAMl1G,OAAAC,EAAA,EAAAD,CAAA,GAAQ4oD,GAElB,cADOssD,EAAOvkE,GACPukE,EA+BUC,CAAqBN,EAASE,GAAexoG,EAAKgmC,KAClEsiE,EAASE,GAAgB7qD,EAClB2qD,EAER,KAAK1wB,IAUJ,OATAz1E,EAAUugC,OAAKnhB,WACd+mF,EAASE,GAAcxoG,EAAKgmC,KAC5BxhB,EAAOqkF,UAERlrD,EAAgBtB,EAAWisD,EAASE,GAAV/0G,OAAAC,EAAA,EAAAD,CAAA,GACtB+wB,EADsB,CAEzBxkB,KAAMmC,KAEPmmG,EAASE,GAAgB7qD,EAClB2qD,EAER,KAAK/wB,IAOJ,OANAp1E,EAAUnC,EACV29C,EAAgBtB,EAAWisD,EAASE,GAAV/0G,OAAAC,EAAA,EAAAD,CAAA,GACtB+wB,EADsB,CAEzBxkB,KAAMmC,KAEPmmG,EAASE,GAAgB7qD,EAClB2qD,EAER,KAAKxwB,IACJwwB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChB,IAAMk2G,EAAWtkF,EAAO3hB,MAAMxP,OAAO,SAACwP,EAAO7C,GAC5C,IAAM+oG,EAAYt1G,OAAAC,EAAA,EAAAD,CAAA,GAAQoP,GACpBV,EAAO1O,OAAAC,EAAA,EAAAD,CAAA,GAAQuM,GAErB,OADA+oG,EAAa5mG,EAAQhI,IAAMgI,EAAQ4D,MAAQ5D,EACpC4mG,GACL,IAGH,OADAT,EAAS9jF,EAAO1hB,UAAhBrP,OAAAC,EAAA,EAAAD,CAAA,GAAiC60G,EAAS9jF,EAAO1hB,UAAcgmG,GACxDR,EACR,KAAKvwB,IAEJ,OADAuwB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQi7F,IAAa7rF,OAG9B,QACC,OAAOjQ,IF1EmB,SAAA4xB,GAAM,OAAIA,EAAO/nB,KAAKqsB,MAAM,WACxDtvB,GG1Bc,WAAoD,IAC9D8uG,EAD6B11G,EAAiCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBm8F,IAAal1F,GAAIgrB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAElE,OAAQ+xB,EAAO/nB,MACd,KAAK27E,KAeJ,OAdAkwB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPiH,WAATpG,OAAAC,EAAA,EAAAD,CAAA,GAA2B60G,EAASzuG,YACpCyuG,EAASzuG,WAAW2qB,EAAOvvB,UAA3BxB,OAAAC,EAAA,EAAAD,CAAA,GACI60G,EAASzuG,WAAW2qB,EAAOvvB,WAE3BuvB,EAAO6sE,UACViX,EAASzuG,WAAW2qB,EAAOvvB,UAAUuvB,EAAO6sE,UAA5C59F,OAAAC,EAAA,EAAAD,CAAA,GACI60G,EAASzuG,WAAW2qB,EAAOvvB,UAAUuvB,EAAO6sE,WAEhDiX,EAASzuG,WAAW2qB,EAAOvvB,UAAUuvB,EAAO6sE,UAAU7sE,EAAOxkB,MAC5DwkB,EAAOvnB,OAERqrG,EAASzuG,WAAW2qB,EAAOvvB,UAAUuvB,EAAOxkB,MAAQwkB,EAAOvnB,MAErDqrG,EACR,KAAKnwB,IASJ,OARAmwB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP6G,OAAThG,OAAAC,EAAA,EAAAD,CAAA,GAAuB60G,EAAS7uG,QAC5B+qB,EAAO6sE,UACViX,EAAS7uG,OAAO+qB,EAAO6sE,UAAvB59F,OAAAC,EAAA,EAAAD,CAAA,GAAwC60G,EAAS9jF,EAAO6sE,WACxDiX,EAAS7uG,OAAO+qB,EAAO6sE,UAAU7sE,EAAOxkB,MAAQwkB,EAAOvnB,OAEvDqrG,EAAS7uG,OAAO+qB,EAAOxkB,MAAQwkB,EAAOvnB,MAEhCqrG,EACR,QACC,OAAO11G,IHHTwI,SI1Bc,WAAgE,IAAvCxI,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/Bm8F,IAAatzF,SAAUopB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9E,OAAQ+xB,EAAO/nB,MACd,KAAKg8E,IACJ,IAAIuwB,EAAUxkF,EAAOhpB,MAAQ5I,EAE7B,OADAy4F,YAAQ2d,GACDA,EACR,QACC,OAAOp2G,IJoBTs8F,iBKxBc,WAGb,IACGoZ,EACAW,EACAC,EACAC,EANJv2G,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOm8F,IAAaQ,iBACrB1qE,EACCjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAMD61G,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAGhB,IAOMw2G,EAAmB,SAAAv1G,GAAqB,IAAlBw1G,EAAkBx1G,EAAlBw1G,KAAMJ,EAAYp1G,EAAZo1G,MAOjC,OANqB,IAAjBA,EAAM7kG,QAAgBilG,EAAKvmE,QAAQmmE,EAAMzyF,MAC5C6yF,EAAKnpG,KAAK+oG,EAAMzyF,MAEhB6yF,EAAOA,EAAK1qG,OAAO,SAAAsb,GAAE,OAAIA,IAAOgvF,EAAMzyF,OAGhC6yF,GAGR,IAAK7kF,EAAOrG,KACX,OAAOvrB,EAQR,OALAs2G,EAAUz1G,OAAAC,EAAA,EAAAD,CAAA,GAAS60G,EAAS9jF,EAAOrG,OAAS,IAC5CgrF,EAAU11G,OAAA2D,EAAA,EAAA3D,CAAQy1G,EAAWC,YAAc,IAInC3kF,EAAO/nB,MACd,KAAK68E,IAQJ,OAPA2vB,EAAKx1G,OAAAC,EAAA,EAAAD,CAAA,GAAQ+wB,EAAOvnB,OACpBisG,EAAW1kF,EAAOvK,IAAMgvF,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAOA,IAERX,EAAS9jF,EAAOrG,MAAQ+qF,EACjBZ,EACR,KAAK/uB,KASJ,OAPA0vB,EAtCgB,SAAA91G,GAAuB,IAApBowE,EAAoBpwE,EAApBowE,IAAK98D,EAAetT,EAAfsT,IAAKnL,EAAUnI,EAAVmI,IAI9B,OAHAioE,EAAMA,GAAO,IACT98D,GAAOnL,EAEJioE,EAkCE+lC,CAAU,CAAE/lC,IADpB0lC,EAAKx1G,OAAAC,EAAA,EAAAD,CAAA,GAASy1G,EAAW1kF,EAAOvK,KAAO,IACPxT,IAAK+d,EAAO/d,IAAKnL,IAAKkpB,EAAOvnB,QAC7DisG,EAAW1kF,EAAOvK,IAAMgvF,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAOA,IAERX,EAAS9jF,EAAOrG,MAAQ+qF,EACjBZ,EACR,KAAK9uB,IAQJ,OAPAyvB,EAAKx1G,OAAAC,EAAA,EAAAD,CAAA,GAAQi7F,IAAaQ,iBAAiBpiE,SAC3Co8E,EAAW1kF,EAAOvK,IAAMgvF,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAO,CAAEM,OAAQ/kF,EAAOvK,MAEzBquF,EAAS9jF,EAAOvK,IAAMgvF,EACfX,EACR,QACC,OAAO11G,IL3CTirD,KM7Bc,WAAwD,IAClEyqD,EAD+B11G,EAAmCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3Bm8F,IAAa7wC,KAAMr5B,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGtE,OAAQ+xB,EAAO/nB,MACd,KAAKk9E,KAEJ,OADA2uB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,EAAU4xB,EAAOq5B,MAElC,KAAK+7B,IAGJ,OAFA0uB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4xB,EAAO83B,KAAO93B,EAAO83B,IACvBgsD,EACR,QACC,OAAO11G,INkBTu8F,WO9Bc,WAAwD,IAClEmZ,EAD+B11G,EAAmCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3Bm8F,IAAa7wC,KAAMr5B,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGtE,OAAQ+xB,EAAO/nB,MACd,KAAKs9E,IAGJ,OAFAuuB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPy8F,QAAT57F,OAAAC,EAAA,EAAAD,CAAA,GAAwB+wB,EAAO6qE,SACxBiZ,EACR,QACC,OAAO11G,IPsBTG,ODzBc,WAAwD,IAArCH,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7Bm8F,IAAa37F,OAAQyxB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtE,OAAQ+xB,EAAO/nB,MACd,KAAKy9E,IACJ,OAAOiuB,EAAUv1G,EAAO,UAAW4xB,EAAO+2E,KAC3C,QACC,OAAO3oG,ICqBTqJ,UQ1Bc,WAGb,IACGqsG,EAHJ11G,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOm8F,IAAazyF,UACrBuoB,EACCjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGD,OAAQ+xB,EAAO/nB,MACd,KAAK09E,IAGJ,OAFAmuB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPyJ,UAAYmoB,EAAOvnB,MACrBqrG,EACR,KAAKluB,IAYJ,OAXAkuB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4xB,EAAOlrB,MAAhB7F,OAAAC,EAAA,EAAAD,CAAA,GAA6B60G,EAAS9jF,EAAOlrB,OAC7CgvG,EAAS9jF,EAAOlrB,MAAMkrB,EAAO7mB,WAA7BlK,OAAAC,EAAA,EAAAD,CAAA,GACI60G,EAAS9jF,EAAOlrB,MAAMkrB,EAAO7mB,YAEjC2qG,EAAS9jF,EAAOlrB,MAAMkrB,EAAO7mB,WAAW6mB,EAAO5mB,QAA/CnK,OAAAC,EAAA,EAAAD,CAAA,GACI60G,EAAS9jF,EAAOlrB,MAAMkrB,EAAO7mB,WAAW6mB,EAAO5mB,SAEnD0qG,EAAS9jF,EAAOlrB,MAAMkrB,EAAO7mB,WAAW6mB,EAAO5mB,QAC9C4mB,EAAOnoB,WADR5I,OAAAC,EAAA,EAAAD,CAAA,GAES+wB,EAAOvnB,OACTqrG,EACR,KAAKjuB,IAMJ,OALAiuB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPuJ,SAAT1I,OAAAC,EAAA,EAAAD,CAAA,GAAyB60G,EAASnsG,UAClCmsG,EAASnsG,SAASqoB,EAAO7mB,WAAzBlK,OAAAC,EAAA,EAAAD,CAAA,GACI+wB,EAAOvnB,OAEJqrG,EACR,KAAK3tB,IAGJ,OAFA2tB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP2J,OAASioB,EAAOvnB,MAClBqrG,EACR,KAAKhuB,IAEJ,OADAguB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQi7F,IAAazyF,WAG9B,QACC,OAAOrJ,IRbTkC,SS5Bc,WAAgE,IAAvClC,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/Bm8F,IAAa55F,SAAU0vB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1E61G,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAEpB,OAAQ4xB,EAAO/nB,MACd,KAAK89E,IAEJ,OADA+tB,EAAS/wG,eAAT9D,OAAAC,EAAA,EAAAD,CAAA,GAA+B+wB,EAAO1vB,UAC/BwzG,EACR,KAAK9tB,IAEJ,OADA8tB,EAAS/wG,eAAiBm3F,IAAa55F,SAASyC,eACzC+wG,EACR,KAAK7tB,IAEJ,OADA6tB,EAASnxG,uBAAT1D,OAAA2D,EAAA,EAAA3D,CAAsC+wB,EAAO1vB,UACtCwzG,EACR,KAAK5tB,IAGJ,OAFA4tB,EAASnxG,uBACRu3F,IAAa55F,SAASqC,uBAChBmxG,EAER,QACC,OAAO11G,ITUT4F,aUlCc,WAA+D,IACzE8vG,EAD8B11G,EAA2CL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAnCm8F,IAAal2F,aAAcgsB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAE7E,OAAQ+xB,EAAO/nB,MACd,KAAKo+E,IAGJ,OAFAytB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4xB,EAAOxkB,MAAQwkB,EAAOvnB,MACxBqrG,EAER,QACC,OAAO11G,KV4BG42G,EAAiB,CAC7B7a,OWtCc,WAA4D,IACtE2Z,EACAmB,EAFiC72G,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7Bm8F,IAAaC,OAAQnqE,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM1E,OAFA61G,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAER4xB,EAAO/nB,MACd,KAAKq8E,IAUJ,OATA2wB,EAASh2G,OAAAC,EAAA,EAAAD,CAAA,GAAQ60G,GACbpgF,MAAMwjC,QAAQ+9C,EAAUjlF,EAAO4f,OAClCqlE,EAAUjlF,EAAO4f,MAAjB3wC,OAAA2D,EAAA,EAAA3D,CAA6B+wB,EAAOvnB,OAEpCwsG,EAAUjlF,EAAO4f,MAAQ5f,EAAOvnB,MAGjCqrG,EAAWmB,EAIZ,KAAK1wB,IAGJ,OADAuvB,EADAmB,EAASh2G,OAAAC,EAAA,EAAAD,CAAA,GAAQi7F,IAAaC,QAI/B,QACC,OAAO/7F,IXcTqC,SYvCc,WAAgE,IAC1EqzG,EACA3N,EAFmC/nG,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/Bm8F,IAAaz5F,SAAUuvB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM9E,OAFA61G,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAER4xB,EAAO/nB,MACd,KAAKo9E,IAUJ,OATA8gB,EAAc2N,EACVpgF,MAAMwjC,QAAQivC,EAAYn2E,EAAO4f,OACpCu2D,EAAYn2E,EAAO4f,MAAnB3wC,OAAA2D,EAAA,EAAA3D,CAA+B+wB,EAAOvnB,OAEtC09F,EAAYn2E,EAAO4f,MAAQ5f,EAAOvnB,MAGnCqrG,EAAW3N,EAIZ,KAAK7gB,IAGJ,OADAwuB,EADA3N,EAAWlnG,OAAAC,EAAA,EAAAD,CAAA,GAAQi7F,IAAaz5F,UAIjC,QACC,OAAOrC,IZeToC,OaxCc,WAA4D,IACtEszG,EACAtN,EAFiCpoG,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7Bm8F,IAAa15F,OAAQwvB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM1E,OAFA61G,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAER4xB,EAAO/nB,MACd,KAAKu9E,KAUJ,OATAghB,EAAYsN,EACRpgF,MAAMwjC,QAAQsvC,EAAUx2E,EAAO4f,OAClC42D,EAAUx2E,EAAO4f,MAAjB3wC,OAAA2D,EAAA,EAAA3D,CAA6B+wB,EAAOvnB,OAEpC+9F,EAAUx2E,EAAO4f,MAAQ5f,EAAOvnB,MAGjCqrG,EAAWtN,EAIZ,KAAK/gB,IAGJ,OADAquB,EADAtN,EAASvnG,OAAAC,EAAA,EAAAD,CAAA,GAAQi7F,IAAa15F,QAI/B,QACC,OAAOpC,IbgBTuP,QAASomG,wBcrCK,WAA+D,IACzED,EACAnmG,EAFmCvP,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9Bm8F,IAAavsF,QAASqiB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAI7E,OAAQ+xB,EAAO/nB,MACd,KAAK+6E,IAKJ,OAJA8wB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChBuP,EAAO1O,OAAAC,EAAA,EAAAD,CAAA,GAAQ+wB,EAAOxkB,MACtBsoG,EAAS9jF,EAAO1hB,UAAYX,EAErBmmG,EAER,KAAK7wB,IAKJ,OAJA6wB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChBuP,EAAO1O,OAAAC,EAAA,EAAAD,CAAA,GAAQi7F,IAAavsF,QAAQqiB,EAAOxkB,OAC3CsoG,EAAS9jF,EAAOxkB,MAAQmC,EAEjBmmG,EAER,KAAK5wB,IAGJ,OAFA4wB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQi7F,IAAavsF,SAI9B,QACC,OAAOvP,IdYuB,SAAA4xB,GAAM,OAAIA,EAAO/nB,KAAKqsB,MAAM,cAC5DnvB,SAAU4uG,wBe1CI,WAAgE,IAAvC31G,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/Bm8F,IAAa/0F,SAAU6qB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxE61G,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAEtB,OAAQ4xB,EAAO/nB,MACd,KAAKy7E,IAGJ,OAFAowB,EAAS9jF,EAAO0b,SAAW1b,EAAOvnB,MAE3BqrG,EACR,KAAK/wB,IAEJ,OADA+wB,EAAS,SAAW9jF,EAAOxkB,KAAKgmC,MAAO,EAChCsiE,EAER,QACC,OAAO11G,If6ByB,CAACu+F,MACnCluE,OgB3Cc,WAA4D,IAEtEymF,EAFiC92G,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7Bm8F,IAAazrE,OAAQuB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAI1E,OAAQ+xB,EAAO/nB,MACd,KAAK47E,IAIJ,OAHAqxB,EAAQj2G,OAAAC,EAAA,EAAAD,CAAA,GAAQ+wB,EAAO5B,QACd+mF,MAAQztF,KAAKC,MACd,CAAIutF,GAAJ/jG,OAAAlS,OAAA2D,EAAA,EAAA3D,CAAiBb,IAG1B,KAAK0lF,IAEJ,OADW1lF,EAAM+L,OAAO,SAAApL,GAAC,OAAIA,EAAE4G,KAAOqqB,EAAO5B,QAE9C,QACC,OAAOhwB,IhB6BTi0B,QAAS0hF,wBiB3CK,WAA8D,IACxED,EADkC11G,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9Bm8F,IAAa7nE,QAASrC,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAG5E,OAAQ+xB,EAAO/nB,MACd,KAAK87E,IAWJ,OAVA+vB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP+M,KAATlM,OAAAC,EAAA,EAAAD,CAAA,GAAqB+wB,EAAOqC,QAAQlnB,MACpC2oG,EAAS3gF,UAAYnD,EAAOqC,QAAQc,UACpC2gF,EAAS1gF,SAAWpD,EAAOqC,QAAQe,SACnC0gF,EAAS5lF,YACkBjwB,IAA1B+xB,EAAOqC,QAAQnE,QAAuB8B,EAAOqC,QAAQnE,OACtD4lF,EAASnhF,eAAiB3C,EAAOqC,QAAQM,aAGzCmhF,EAASzgF,SAAW3L,KAAKC,MAClBmsF,EAER,QACC,OAAO11G,IjByBuB,CAACu+F,MACjCh4F,IAAKovG,wBkB7CS,WAAsD,IAChED,EAD8B11G,EAAkCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA1Bm8F,IAAav1F,IAAKqrB,EAAQjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGpE,OAAQ+xB,EAAO/nB,MACd,KAAK+7E,IAGJ,OAFA8vB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4xB,EAAOxkB,MAAQwkB,EAAOvnB,MACxBqrG,EAER,QACC,OAAO11G,IlBmCe,CAACu+F,MACzBtvF,YmB3Cc,WAGb,IACGymG,EACAnJ,EAJJvsG,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOm8F,IAAa7sF,YACrB2iB,EACCjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAID,OAAQ+xB,EAAO/nB,MACd,KAAKi8E,IAKJ,OAJA4vB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChBusG,EAAS1rG,OAAAC,EAAA,EAAAD,CAAA,GAAQ60G,EAAS9jF,EAAOxkB,MAAUwkB,EAAOm8C,QAClD2nC,EAAS9jF,EAAOxkB,MAAQm/F,EAEjBmJ,EAER,KAAK3vB,IAYJ,OAXA2vB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IAChBusG,EAAS1rG,OAAAC,EAAA,EAAAD,CAAA,GAAQ60G,EAAS9jF,EAAOxkB,SAChBm/F,EAAUyK,eAAeplF,EAAO/d,YAEzC04F,EAAU36E,EAAO/d,KACd04F,IAAc36E,EAAO/d,MAC/B04F,EAAY,IAGbmJ,EAAS9jF,EAAOxkB,MAAQm/F,EAEjBmJ,EAER,QACC,OAAO11G,InBcTmI,coB/Cc,WAGb,IACGutG,EAHJ11G,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOm8F,IAAa3zF,cACrBypB,EACCjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGD,OAAQ+xB,EAAO/nB,MACd,KAAKm+E,IAGJ,OAFA0tB,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4xB,EAAO63B,YAAc73B,EAAOzpB,cAC9ButG,EACR,QACC,OAAO11G,IpBoCToP,gBqB5Cc,WAGb,IACGsmG,EACAW,EAJJr2G,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOm8F,IAAa1sF,gBACrBwiB,EACCjyB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAcD,OAVA61G,EAAQ70G,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAUR4xB,EAAO/nB,MACd,KAAK08E,IAQJ,OAJA8vB,EAZe,SAAA91G,GAAsB,IAAnB8mB,EAAmB9mB,EAAnB8mB,GAAIxT,EAAetT,EAAfsT,IAAKnL,EAAUnI,EAAVmI,IAI5B,OAHA2e,EAAKA,GAAM,IACRxT,GAAOnL,EAEH2e,EAQE4vF,CAAS,CAAE5vF,GAHnBgvF,EAAKx1G,OAAAC,EAAA,EAAAD,CAAA,GACA60G,EAAS9jF,EAAOvK,KAAOy0E,IAAa1sF,gBAAgB8qB,SAE3BrmB,IAAK+d,EAAO/d,IAAKnL,IAAKkpB,EAAOvnB,QAG3DqrG,EAAS9jF,EAAOvK,IAAMgvF,EACfX,EACR,KAAKlvB,IAGJ,OAFA6vB,EAAKx1G,OAAAC,EAAA,EAAAD,CAAA,GAAQi7F,IAAa1sF,gBAAgB8qB,SAC1Cw7E,EAAS9jF,EAAOvK,IAAMgvF,EACfX,EACR,KAAKjvB,IAEJ,OADAivB,EAAW5Z,IAAa1sF,gBAEzB,QACC,OAAOpP,2DChCJk3G,EAAwBC,YAAiBzhF,KAEzC0hF,EAAgB,CACrBvjG,IAAK,UACLwjG,QAASppF,KAWJqpF,EAAcC,YAAgB,CACnCr3G,QAASs3G,YAAuBJ,EAAe3B,GAC/C/vG,OAAQ6xG,YAAgBX,GACxB7wG,OAAQ0xG,YAAc/hF,OA2EvB,IAGegiF,EA9Df,SAA4B5b,GAC3B,IAAM6b,EAAc,CAKnBC,IACAV,GAOGvzB,EAAQk0B,YACXP,EACAxb,EACAgc,YAAQC,IAAevlG,WAAf,EAAmBmlG,KAK5B,MAAO,CAAE9zB,UAFOm0B,YAAar0B,GAETA,SAwCN+zB,GC1GfvgG,EAAAC,EAAAC,EAAA,sBAAA4gG,IAAA9gG,EAAAC,EAAAC,EAAA,sBAAA6gG,IAAA/gG,EAAAC,EAAAC,EAAA,sBAAApX,IAEey3G,IAEF/zB,EAAQ+zB,EAAe/zB,MACvBE,EAAY6zB,EAAe7zB,UAE3B5jF,GADW0jF,EAAMtxD,SACNsxD,EAAM1jF,mlZCAxB4gB,EAAkB,eAEHoF,cACpB,SAAAA,EAAY3K,GAAqB,IAAA4F,EAAXvY,EAAWhJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAkB,OAAAu2F,EAAA,EAAAv2F,CAAA6Y,KAAAuM,IAChC/E,EAAArgB,OAAAs3G,EAAA,EAAAt3G,CAAA6Y,KAAA7Y,OAAAu3G,EAAA,EAAAv3G,CAAAolB,GAAA3E,KAAA5H,QAaD2+F,gBAdiCx3G,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAcf,SAAAO,IAAA,IAAAqjF,EAAAqc,EAAAr3G,EAAAs3G,EAAA92F,EAAA+2F,EAAAtlG,EAAAulG,EAAAC,EAAA5iG,EAAA6iG,EAAAptF,EAAAvS,EAAArZ,UAAA,OAAA0rF,EAAA3rF,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OAUjB,IATAsjF,EADiBjjF,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GACL,GACZs/F,EAFiBt/F,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GAEL,GAFK/X,EAAA+X,EAAApZ,OAAA,QAAAC,IAAAmZ,EAAA,GAAAA,EAAA,GAGO,GAHPu/F,EAAAt3G,EAGfwgB,YAHe,IAAA82F,EAGR,EAHQA,EAAAC,EAAAv3G,EAGLiS,UAHK,IAAAslG,EAGA,GAHAA,GAKXC,EAAQ,IAAIG,KACZ3c,UAAYpC,EAAOp4E,KAAKw6E,EAAW,OACzCwc,EAAMH,UAAYze,EAAOp4E,KAAK62F,EAAW,OAEnCI,EAAQ,GACL5iG,EAAQ2L,EAAM3L,EAAQ5C,EAAI4C,IAC5B6iG,EAAaF,EAAMI,OAAN,KAAA9lG,OAAkB+C,IAASgjG,kBAExCvtF,EAAO7I,QAAMq2F,OAAOC,gBAAgBL,GAAY53G,QAEtD23G,EAAMprG,KAAK,CACVvM,QAASwqB,EACT7P,KAAI,GAAA3I,OAAKmO,EAAKxF,KAAV,KAAA3I,OAAkB+C,KAjBP,OAAAmD,EAAAK,OAAA,SAqBVo/F,GArBU,wBAAAz/F,EAAAO,SAAAZ,MAdesI,EAsCjCW,aAtCiChhB,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAsClB,SAAAC,IAAA,IAAA9W,EAAAy3G,EAAAx3F,EAAAy3F,EAAAhmG,EAAAimG,EAAAltF,EAAAtqB,EAAAs6F,EAAAqc,EAAAh6B,EAAA86B,EAAAz5G,UAAA,OAAA0rF,EAAA3rF,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAnX,EAAA43G,EAAAx5G,OAAA,QAAAC,IAAAu5G,EAAA,GAAAA,EAAA,GAA8B,GAA9BH,EAAAz3G,EAASigB,YAAT,IAAAw3F,EAAgB,EAAhBA,EAAAC,EAAA13G,EAAmB0R,UAAnB,IAAAgmG,EAAwB,EAAxBA,EAAAzgG,EAAAE,KAAA,EACUuI,EAAKm4F,WAAWC,SAD1B,cACRH,EADQ1gG,EAAAS,KAER+S,EAAM,IAAIstF,IAAUJ,GAFZ1gG,EAAAE,KAAA,EAGyBsT,EAAInH,WAC1C5D,EAAKxF,MACL,GACA,GANa,cAAA/Z,EAAA8W,EAAAS,KAGN+iF,EAHMt6F,EAGNs6F,UAAWqc,EAHL32G,EAGK22G,UAHL7/F,EAAAE,KAAA,GASUuI,EAAKm3F,gBAAgBpc,EAAWqc,EAAW,CAClE72F,OACAvO,OAXa,eASRorE,EATQ7lE,EAAAS,KAAAT,EAAAa,OAAA,SAcPglE,GAdO,yBAAA7lE,EAAAe,SAAAlB,MAtCkB4I,EAuDjCmB,OAvDiC,eAAAvgB,EAAAjB,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAuDxB,SAAAqC,EAAM4H,GAAN,IAAAC,EAAAi3F,EAAAL,EAAAltF,EAAAhpB,EAAA8f,EAAAC,EAAAC,EAAAT,EAAAC,EAAA,OAAA4oE,EAAA3rF,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cAAAkC,EAAAlC,KAAA,EACc+J,QAAMC,kBAAkBL,GADtC,cACFC,EADE1H,EAAA3B,KAEFsgG,EAAa92F,QAAMQ,qBAAqBX,GAASo0E,UAAU,GAFzD97E,EAAAlC,KAAA,EAIgBuI,EAAKm4F,WAAWC,SAJhC,cAIFH,EAJEt+F,EAAA3B,KAKF+S,EAAM,IAAIstF,IAAUJ,GALlBt+F,EAAAlC,KAAA,GAMkBsT,EAAIwtF,gBAAgBv4F,EAAKxF,KAAM89F,GANjD,eAAAv2G,EAAA4X,EAAA3B,KAMA6J,EANA9f,EAMA8f,EAAGC,EANH/f,EAMG+f,EAAGC,EANNhgB,EAMMggB,EAERT,EAAY,CACjBO,EAAG,KAAOA,EACVC,EAAG,KAAOA,EACVC,KAGKR,EAAWC,QAAMQ,qBAAqBX,EAASC,GAd7C3H,EAAAvB,OAAA,SAgBDmJ,GAhBC,yBAAA5H,EAAArB,SAAAkB,MAvDwB,gBAAAb,GAAA,OAAA/X,EAAA0Q,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAmFjCmC,gBAnFiC,eAAAlgB,EAAAtC,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAmFf,SAAA0B,EAAMuI,GAAN,IAAAG,EAAAa,EAAA,OAAA+nE,EAAA3rF,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACMuI,EAAKmB,OAAOC,GADlB,cACXG,EADWjI,EAAAtB,KAEXoK,EAASpC,EAAK5F,SAAS+H,gBAAgBZ,GAF5BjI,EAAAlB,OAAA,SAGVgK,GAHU,wBAAA9I,EAAAhB,SAAAO,MAnFe,gBAAAN,GAAA,OAAAtW,EAAAqP,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAyFjCqC,YAzFiC,eAAAlgB,EAAAxC,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAyFnB,SAAA2H,EAAOwD,GAAP,IAAA21F,EAAAltF,EAAAzJ,EAAAhf,EAAAzC,EAAAoc,EAAA8H,EAAAtlB,UAAA,OAAA0rF,EAAA3rF,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAsM,EAAArlB,OAAA,QAAAC,IAAAolB,EAAA,GAAAA,EAAA,GAAuB,IAC1BtB,MACc,kBAAZH,IACVA,EAAUd,QAAM8D,YAAYhD,IAG7BA,EAAUkI,SAAOhJ,MAAME,QAAQY,IAGhCA,EAAUA,EAAQmzE,UAAU,GATf12E,EAAAtH,KAAA,EAWWuI,EAAKm4F,WAAWC,SAX3B,cAWPH,EAXOl5F,EAAA/G,KAYP+S,EAAM,IAAIstF,IAAUJ,GAZbl5F,EAAAtH,KAAA,EAcWsT,EAAIytF,oBAAoBx4F,EAAKxF,KAAM8H,GAd9C,cAcPhB,EAdOvC,EAAA/G,MAeH6J,EAAI,KAAOP,EAAUO,EAC/BP,EAAUQ,EAAI,KAAOR,EAAUQ,EAhBlB/C,EAAAtH,KAAA,GAkBasT,EAAInH,WAAW5D,EAAKxF,MAlBjC,eAAAlY,EAAAyc,EAAA/G,KAkBLnY,EAlBKyC,EAkBLzC,QAEFoc,EAAM,CACXqF,UAAWkJ,SAAOhJ,MAAMi3F,cAAcn3F,GACtCoB,KAAMJ,EACNK,KAAMpO,YAAUqO,eAAeC,KAC/BhjB,WAxBYkf,EAAA3G,OAAA,SA2BN6D,GA3BM,yBAAA8C,EAAAzG,SAAAwG,MAzFmB,gBAAA/E,GAAA,OAAA5X,EAAAmP,MAAAkH,KAAA/Z,YAAA,GAAAuhB,EAuHjC8C,QAAU,SAAA1I,GACT,OAAO,IAAI2K,EAAa3K,EAAU,CAAEI,KAAMwF,EAAKxF,QAtH/CwF,EAAK+C,UAAY3I,EACjB4F,EAAKgD,MAAQvb,EAAK+S,MAAQmF,EAC1BK,EAAKm4F,WAAaO,IAJc14F,oEAQhC,OAAOxH,KAAKwK,uCAGZ,OAAOxK,KAAKuK,iBAZ4BE,iICHpC01F,EAASC,IAAOtoB,OACrB7mE,KAAKC,UAAU,CACd/gB,KAAM,MACNkwG,IAAK,SAmCQ1iG,EAAA,GAAE2N,KA7BjB,SAAcW,EAAQxD,GACrB,IAAM63F,EAAiBF,IAAOtoB,OAC7B7mE,KAAKC,UAAL/pB,OAAAo5G,EAAA,EAAAp5G,CAAA,GACIshB,EADJ,CAECphB,QAAS4kB,EAAO5kB,YAGlB,OAAO4kB,EAAOpC,YAAP,GAAAxQ,OAAsB8mG,EAAtB,KAAA9mG,OAAgCinG,IAAkB98F,KAAK,SAASoK,GACtE,IAAM4yF,EAASrgB,EAAOp4E,KAAK6F,EAAI9E,UAAUtV,MAAM,GAAI,OACnD,SAAA6F,OAAU8mG,EAAV,KAAA9mG,OAAoBinG,EAApB,KAAAjnG,OAAsC+mG,IAAOtoB,OAAO0oB,OAoB/BC,OAhBvB,SAAgBviG,GACf,IAAMg/E,EAAQh/E,EAAMhV,MAAM,KAC1B,GAAqB,IAAjBg0F,EAAMh3F,OACT,OAAO+Z,QAAQwS,OAAO,IAAIhJ,MAAM,yCAEjC,IAAM4J,EAAM6pE,EAAM1pF,MAAM,EAAG,GAAG6rD,KAAK,KAC7BmhD,EAASrgB,EAAOp4E,KAAKm1E,EAAM,GAAI,UACrC,IACC,IAAMn1E,EAAOiK,IAAOhJ,MAAM03F,cAAcrtF,EAAKmtF,GACvC/3F,EAAUwI,KAAKwD,MAAM2rF,IAAOO,OAAOzjB,EAAM,KAC/C,OAAOj9E,QAAQC,QAAQ,CAAE6H,OAAMU,YAC9B,MAAOjW,GACR,OAAOyN,QAAQwS,OAAOjgB,mDCxCxB2iB,EAAAC,QAAAwrF,84DCGMhhD,mDAmDLC,qBAAuB,SAAC51C,EAAK42F,GAC5B,IAAK52F,GAAsB,kBAARA,EAClB,MAAM,IAAIR,MAAM,iBACS,IAAfQ,EAAI/jB,SACd+jB,GAAYA,EAAI62F,OAAO,EAAG,IAGN,kBAAVD,GAAuC,qBAAVA,IACvCA,EAAQ,GAGT,IAAME,EAAW,SAAAC,GAChB,OAAO/sG,SAAS,KAAO+sG,EAAG,KAGvB33F,EAAI03F,EAAS92F,EAAI62F,OAAO,EAAG,IAC3BG,EAAIF,EAAS92F,EAAI62F,OAAO,EAAG,IAC3B16G,EAAI26G,EAAS92F,EAAI62F,OAAO,EAAG,IAE/B,cAAAznG,OAAegQ,EAAf,KAAAhQ,OAAoB4nG,EAApB,KAAA5nG,OAAyBjT,EAAzB,KAAAiT,OAA8BwnG,EAA9B,WAyBDtvC,UAAY,SAAA78C,GACX,IAAIwsF,GAASxsF,EAAI5K,SAAW4K,GAAO,IAAItS,WAAWlZ,MAAM,eAExD,OAAIg4G,EAAMh7G,OAAS,GACVwuB,EAAIzc,KAAOyc,EAAIzc,KAAO,KAAO,IAAMipG,EAAM,GAAG9+F,YAE5CsS,EAAIhL,OAASgL,GAAO,IAAItS,iBAIlC++F,MAAQ,SAAAC,GACP,MAAsB,kBAARA,GAAoBA,EAAM,IAAM,QAG/CC,aAAe,SAAAv4C,GACd,OAAO3hE,OAAAm6G,EAAA,EAAAn6G,CAAI2hE,GAAOztD,KAAK,kBAAMzC,KAAK4U,SAAW,4DA5G7C,MAAO,uCAAuCjU,QAAQ,QAAS,SAAAjH,GAC9D,IAAI+W,EAAqB,GAAhBzQ,KAAK4U,SAAiB,EAE/B,OADW,MAANlb,EAAY+W,EAAS,EAAJA,EAAW,GACxBjH,SAAS,2CAIPm/F,GACZ,IAAIP,EAAI,mCAAmCznG,QAAQ,QAAS,SAAAjH,GAC3D,IAAI+W,EAAqB,GAAhBzQ,KAAK4U,SAAiB,EAE/B,OADW,MAANlb,EAAY+W,EAAS,EAAJA,EAAW,GACxBjH,SAAS,MAKnB,OAHIm/F,IACHP,EAAIO,EAASP,EAAE/jB,UAAUskB,EAAOr7G,SAE1B86G,uCAGK3iG,EAAKxF,GACjB,OAAOD,KAAK2U,MAAM3U,KAAK4U,UAAY3U,EAAMwF,EAAM,GAAKA,2CAIpD,QAAS2B,KAAKwhG,aAAa,EAAG,gDAGVvqC,GACpB,IAAI/8D,EAAO/S,OAAO+S,KAAK+8D,GACvB,OAAOA,EAAI/8D,EAAMA,EAAKhU,OAAS0S,KAAK4U,UAAa,gDAG9BypD,GACnB,IAAI/8D,EAAO/S,OAAO+S,KAAK+8D,GACvB,OAAO/8D,EAAMA,EAAKhU,OAAS0S,KAAK4U,UAAa,0CAG/Bi0F,EAAaC,EAAcC,GAEzC,IAAIn9F,EAAUmyC,IAAOirD,SAASD,GAC3BA,EAAcrqD,eACdnxD,EAEH,OAAOwwD,IAAOnyC,GACZ3E,IAAIG,KAAKwhG,cAAcC,EAAaC,GAAe,KACnD7hG,IAAIG,KAAKwhG,cAAc,GAAI,IAAK,KAChC3hG,IAAIG,KAAKwhG,cAAc,GAAI,IAAK,sCAyB1B9vF,GACR,OACEA,GACuB,kBAAhBA,IAA6BvqB,OAAO+S,KAAKwX,GAAaxrB,OAEvD,GAGP,IACCiB,OAAO+S,KAAKwX,GACVrf,OAAO,SAAA8H,GAAG,YAAyBhU,IAArBurB,EAAYvX,KAC1BxS,IAAI,SAAAwS,GACJ,OACCo1D,mBAAmBp1D,GACnB,IACAo1D,mBAAmB79C,EAAYvX,KAE9B,IACFklD,KAAK,OAAQ,WAuBJ1hD,EAAA,MAAIiiD,uBCrHnBzqC,EAAAC,QAAiB3X,EAAA4X,EAAuB,6DCAxCF,EAAAC,QAAA,s+QCAAD,EAAAC,QAAiB3X,EAAA4X,EAAuB,8dCgBxC,SAASwsF,EAAYC,EAAMzQ,EAAM0Q,EAAYC,EAAQC,EAASC,GAC7D,OAAO,IAAIjiG,QAAQ,SAACC,EAASuS,GAC5B0vF,IAAOA,OACNL,EACAzQ,EACA0Q,EACAC,EACAC,EACA,SAACvtF,EAAKuqF,GACL,GAAIvqF,EACH,OAAOjC,EAAOiC,GAGf,IAAMjR,EAAMw7F,EAAW78F,SAAS8/F,GAEhC,OAAOhiG,EAAQuD,gBAMJ2+F,+EAAf,SAAAljG,EAAArY,GAAA,IAAAmC,EAAA6hB,EAAAi3F,EAAAzQ,EAAAl3F,EAAA,OAAAw3E,EAAA3rF,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cAA8BjW,EAA9BnC,EAA8BmC,MAAO6hB,EAArChkB,EAAqCgkB,SAC9Bi3F,EAAOtQ,EAAa3mF,GACpBwmF,EAAOG,EAAaxoG,GAF3BuW,EAAAN,KAAA,EAImB4iG,EAAYC,EAAMzQ,EAAM,IAAO,GAAI,SAAU,OAJhE,cAIOl3F,EAJPoF,EAAAC,KAAAD,EAAAK,OAAA,SAMQzF,GANR,wBAAAoF,EAAAO,SAAAZ,6BASA,SAASmjG,EAAex5G,GACvB,OAAQA,GAAyB,WAAbA,GAAsC,UAAbA,EAIvC,SAASy5G,IACf,IAAMC,EAAgBv5F,QAAM8qE,YAAY,IAGxC,OAFiB9qE,QAAMq2F,OAAOmD,kBAAkBD,GAK1C,SAAeE,EAAtB1iG,GAAA,OAAA2iG,EAAA5pG,MAAAkH,KAAA/Z,sDAAO,SAAA2Y,EAA8B+jG,GAA9B,IAAA55E,EAAArgC,EAAA,OAAAipF,EAAA3rF,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACA8pB,EAAO45E,GAAYL,IACnB55G,EAASspB,SAAO9G,OAAO03F,aAAa75E,GAFpChqB,EAAAa,OAAA,SAIC,CACN+iG,WACAx3F,WAAYziB,EAAOyiB,WACnB9jB,QAASqB,EAAOrB,QAChB2a,KAAMtZ,EAAOsZ,OARR,wBAAAjD,EAAAe,SAAAlB,sCAYQikG,+EAAf,SAAA7hG,EAAAzZ,GAAA,IAAAyB,EAAA6hB,EAAAhiB,EAAA,OAAA8oF,EAAA3rF,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,UAAyBjW,EAAzBzB,EAAyByB,MAAO6hB,EAAhCtjB,EAAgCsjB,SAAUhiB,EAA1CtB,EAA0CsB,SAA1C,CAAAsY,EAAAlC,KAAA,eAAAkC,EAAAlC,KAAA,EAEe2hF,YAAc53F,EAAO6hB,GAFpC,cAAA1J,EAAAvB,OAAA,SAAAuB,EAAA3B,MAAA,UAGgC,kBAAb3W,EAHnB,CAAAsY,EAAAlC,KAAA,gBAAAkC,EAAAvB,OAAA,iBAAAvG,OAIiBxQ,EAJjB,YAAAwQ,OAIoCrQ,EAAMke,gBAJ1C,cAMQ,IAAIuC,MAAM,gBANlB,yBAAAtI,EAAArB,SAAAkB,6BAUO,SAAe8hG,EAAtBzhG,GAAA,OAAA0hG,EAAAjqG,MAAAkH,KAAA/Z,sDAAO,SAAAoa,EAAA3Y,GAAA,IAAAs7G,EAAAh6G,EAAA6hB,EAAAxX,EAAAxK,EAAAo6G,EAAAC,EAAAC,EAAAljB,EAAA,OAAAtO,EAAA3rF,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,UAAA+jG,EAAAt7G,EAA0BsB,aAA1B,IAAAg6G,EAAkC,GAAlCA,EAAsCn4F,EAAtCnjB,EAAsCmjB,SAAUxX,EAAhD3L,EAAgD2L,KAAMxK,EAAtDnB,EAAsDmB,SACtDo6G,EAAWZ,EAAex5G,GAC1Bq6G,EAAWjyF,KAAKC,UAAU7d,IAC5B4vG,EAHE,CAAAniG,EAAA7B,KAAA,gBAAA6B,EAAA7B,KAAA,EAIyB2hF,YAAcsiB,EAAUl6G,EAAQ6hB,GAJzD,cAICs4F,EAJDriG,EAAAtB,KAAAsB,EAAAlB,OAAA,SAKEujG,GALF,eAAAriG,EAAAnB,GAOmBkgF,IAPnB/+E,EAAA8K,GAQJs3F,EARIpiG,EAAA7B,KAAA,GASEmjG,EAAa,CAAEp5G,MAAOA,EAAMke,cAAe2D,aAT7C,eAAA/J,EAAA+K,GAAA/K,EAAAtB,KAAAsB,EAAA7B,KAAA,MAAA6B,EAAAnB,IAAAmB,EAAA8K,GAAA9K,EAAA+K,IAAA,eAOCo0E,EAPDn/E,EAAAtB,KAAAsB,EAAAlB,OAAA,SAWEqgF,GAXF,yBAAAn/E,EAAAhB,SAAAO,6BAeA,SAAe+iG,EAAtB3hG,GAAA,OAAA4hG,EAAAvqG,MAAAkH,KAAA/Z,sDAAO,SAAAqgB,EAAAxe,GAAA,IAAAw7G,EAAAt6G,EAAA6hB,EAAAxX,EAAAxK,EAAA06G,EAAA/iB,EAAA,OAAA7O,EAAA3rF,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,UAAAqkG,EAAAx7G,EAA0BkB,aAA1B,IAAAs6G,EAAkC,GAAlCA,EAAsCz4F,EAAtC/iB,EAAsC+iB,SAAUxX,EAAhDvL,EAAgDuL,KAAMxK,EAAtDf,EAAsDe,SACxD06G,EAAe,IACFlB,EAAex5G,GAF1B,CAAA0d,EAAAtH,KAAA,eAAAsH,EAAAtH,KAAA,EAKgB8hF,YAAc1tF,EAAMrK,EAAQ6hB,GAL5C,OAKL04F,EALKh9F,EAAA/G,KAAA+G,EAAAtH,KAAA,uBAAAsH,EAAA5G,GAOgBygF,IAPhB75E,EAAAqF,GAQJvY,EARIkT,EAAAtH,KAAA,GASEmjG,EAAa,CAAEp5G,MAAOA,EAAMke,cAAe2D,aAT7C,eAAAtE,EAAAsF,GAAAtF,EAAA/G,KAAA+G,EAAAtH,KAAA,MAAAsH,EAAA5G,IAAA4G,EAAAqF,GAAArF,EAAAsF,IAAA,QAOL03F,EAPKh9F,EAAA/G,KAAA,eAAA+G,EAAAvH,KAAA,GAcCwhF,EAAOvvE,KAAKwD,MAAM8uF,GAdnBh9F,EAAA3G,OAAA,SAeE4gF,GAfF,cAAAj6E,EAAAvH,KAAA,GAAAuH,EAAAuF,GAAAvF,EAAA,UAiBC,IAAIkD,MAAM,4BAAVlD,EAAAuF,IAjBD,yBAAAvF,EAAAzG,SAAAwG,EAAA,0CAqBA,SAAe6yF,EAAtB52F,GAAA,OAAAihG,EAAA1qG,MAAAkH,KAAA/Z,sDAAO,SAAA0b,EAAA1Z,GAAA,IAAAw7G,EAAAz6G,EAAA06G,EAAA74F,EAAA83F,EAAAgB,EAAA96G,EAAAiiB,EAAA3Q,EAAA9G,EAAA,OAAAs+E,EAAA3rF,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cAAAwkG,EAAAx7G,EACNe,aADM,IAAAy6G,EACE,GADFA,EAAAC,EAAAz7G,EAEN4iB,gBAFM,IAAA64F,EAEK,GAFLA,EAGNf,EAHM16G,EAGN06G,SAHMgB,EAAA17G,EAINY,gBAJM,IAAA86G,EAIK,GAJLA,EAAA7hG,EAAA7C,KAAA,EAMmBwjG,EAAeE,GANlC,cAMA73F,EANAhJ,EAAAtC,KAAAsC,EAAA7C,KAAA,EAOY4jG,EAAQ,CAAE75G,QAAO6hB,WAAUhiB,aAPvC,cAOAsR,EAPA2H,EAAAtC,KAAAsC,EAAA7C,KAAA,EAQa6jG,EAAS,CAAEzvG,KAAMyX,EAAY9hB,QAAO6hB,WAAUhiB,aAR3D,cAQAwK,EARAyO,EAAAtC,KAAAsC,EAAA7C,KAAA,GASA0V,YAAmB,CAAEthB,QAAQ8G,GAT7B,eAWN2Q,EAAWjiB,SAAWA,EAXhBiZ,EAAAlC,OAAA,SAYCkL,GAZD,yBAAAhJ,EAAAhC,SAAA6B,6BAeA,SAAeonE,EAAtB5kE,GAAA,OAAAy/F,EAAA9qG,MAAAkH,KAAA/Z,sDAAO,SAAAwc,EAAAra,GAAA,IAAAy7G,EAAA76G,EAAA86G,EAAAj5F,EAAAniB,EAAAq7G,EAAA,OAAApyB,EAAA3rF,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cAAA4kG,EAAAz7G,EAAqCY,aAArC,IAAA66G,EAA6C,GAA7CA,EAAAC,EAAA17G,EAAiDyiB,gBAAjD,IAAAi5F,EAA4D,GAA5DA,EAAA1gG,EAAAnE,KAAA,EACegM,EAAe,CACnCjiB,QACA6hB,WACAm5F,cAAc,IAJT,YACAt7G,EADA0a,EAAA5D,QAOQ9W,EAAO2K,KAPf,CAAA+P,EAAAnE,KAAA,eAAAmE,EAAAnE,KAAA,EAQgB4jG,EAAQ,CAC5B75G,QACA6hB,WACAhiB,SAAUujB,IAAWK,MAAMxU,OAXvB,OAQC8rG,EARD3gG,EAAA5D,KAaLmV,YAAmBjsB,EAAQq7G,GAbtB,wBAAA3gG,EAAAtD,SAAA2C,6BAiBA,SAAeumE,EAAtB+M,GAAA,OAAAkuB,EAAAnrG,MAAAkH,KAAA/Z,sDAAO,SAAAoe,EAAA9a,GAAA,IAAA26G,EAAAl7G,EAAAm7G,EAAAt5F,EAAA1Q,EAAA,OAAAw3E,EAAA3rF,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cAAAilG,EAAA36G,EAAiCP,aAAjC,IAAAk7G,EAAyC,GAAzCA,EAAAC,EAAA56G,EAA6CshB,gBAA7C,IAAAs5F,EAAwD,GAAxDA,EAAAz/F,EAAAzF,KAAA,EACY4jG,EAAQ,CAAE75G,QAAO6hB,aAD7B,OACA1Q,EADAuK,EAAAlF,KAENwV,YAAuB7a,GAFjB,wBAAAuK,EAAA5E,SAAAuE,6BAKA,SAAe+0F,EAAtBn0F,GAAA,OAAAm/F,EAAAtrG,MAAAkH,KAAA/Z,sDAAO,SAAA0qG,EAAAlnG,GAAA,IAAA46G,EAAAr7G,EAAAs7G,EAAAz5F,EAAA05F,EAAAlL,EAAAmL,EAAAlL,EAAAzwG,EAAAsR,EAAAzR,EAAA2K,EAAA,OAAAs+E,EAAA3rF,EAAA8Y,KAAA,SAAA8xF,GAAA,cAAAA,EAAA5xF,KAAA4xF,EAAA3xF,MAAA,UAAAolG,EAAA56G,EACNT,aADM,IAAAq7G,EACE,GADFA,EAAAC,EAAA76G,EAENohB,gBAFM,IAAAy5F,EAEK,GAFLA,EAAAC,EAAA96G,EAGN4vG,eAHM,IAAAkL,EAGI,GAHJA,EAAAC,EAAA/6G,EAIN6vG,iBAJM,IAAAkL,EAIM,GAJNA,EAKN37G,EALMY,EAKNZ,SAEgB,SAAZwwG,EAPE,CAAAzI,EAAA3xF,KAAA,cAQC,IAAIwK,MAAM,oBARX,cAAAmnF,EAAA3xF,KAAA,EAWY4jG,EAAQ,CAAE75G,QAAO6hB,WAAUhiB,aAXvC,UAWAsR,EAXAy2F,EAAApxF,KAYA9W,EAAS4rB,YAAqBna,GAZ9B,CAAAy2F,EAAA3xF,KAAA,cAeC,IAAIwK,MAAM,oBAfX,cAAAmnF,EAAA3xF,KAAA,GAkBa6jG,EAAS,CAAEzvG,KAAMimG,EAAWtwG,QAAO6hB,WAAUhiB,aAlB1D,QAkBAwK,EAlBAu9F,EAAApxF,KAmBN9W,EAAO2wG,GAAWhmG,EAClBshB,YAAmBjsB,EAAQyR,GApBrB,yBAAAy2F,EAAA9wF,SAAA6wF,6BAuBA,SAAez5B,EAAtB1wD,GAAA,OAAAi+F,EAAA3rG,MAAAkH,KAAA/Z,sDAAO,SAAA+f,EAAArc,GAAA,IAAAX,EAAA6hB,EAAAhiB,EAAAsR,EAAAzR,EAAA,OAAAipF,EAAA3rF,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,UAAuCjW,EAAvCW,EAAuCX,MAAO6hB,EAA9ClhB,EAA8CkhB,SAAUhiB,EAAxDc,EAAwDd,SACzDG,GAAU6hB,EADT,CAAA5E,EAAAhH,KAAA,eAAAgH,EAAArG,OAAA,SAEE,MAFF,cAAAqG,EAAAhH,KAAA,EAKY4jG,EAAQ,CAAE75G,QAAO6hB,WAAUhiB,aALvC,cAKAsR,EALA8L,EAAAzG,KAMA9W,EAAS4rB,YAAqBna,GAN9B8L,EAAArG,OAAA,SAQC,CACNzF,MACAzR,WAVK,wBAAAud,EAAAnG,SAAAkG,6BAcA,SAAeiF,EAAtBrE,GAAA,OAAA89F,EAAA5rG,MAAAkH,KAAA/Z,sDAAO,SAAA6gB,EAAAhd,GAAA,IAAAd,EAAA6hB,EAAAhiB,EAAAm7G,EAAA7pG,EAAAzR,EAAAi8G,EAAAC,EAAAC,EAAAC,EAAA,OAAAnzB,EAAA3rF,EAAA8Y,KAAA,SAAAmI,GAAA,cAAAA,EAAAjI,KAAAiI,EAAAhI,MAAA,UACNjW,EADMc,EACNd,MACA6hB,EAFM/gB,EAEN+gB,SACAhiB,EAHMiB,EAGNjB,SACAm7G,EAJMl6G,EAINk6G,aAEKh7G,GAAU6hB,EANT,CAAA5D,EAAAhI,KAAA,cAOC,IAAIwK,MAAM,+BAPX,cAAAxC,EAAAhI,KAAA,EAUY4jG,EAAQ,CAAE75G,QAAO6hB,WAAUhiB,aAVvC,UAUAsR,EAVA8M,EAAAzH,OAWA9W,EAAS4rB,YAAqBna,IAX9B,CAAA8M,EAAAhI,KAAA,aAcD+kG,EAdC,CAAA/8F,EAAAhI,KAAA,gBAAAgI,EAAArH,OAAA,SAeGlX,GAfH,eAkBCi8G,EAAax9G,OAAO+S,KAAKxR,GAEzBk8G,EAAWD,EAAWh9G,IAAX,eAAA8C,EAAAtD,OAAAuqF,EAAA,EAAAvqF,CAAAwqF,EAAA3rF,EAAA2Y,KAAe,SAAAwG,EAAMhL,GAAN,IAAA0qG,EAAA,OAAAlzB,EAAA3rF,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,cAAAwG,EAAAxG,KAAA,EAQHmkG,EAAS,CACpC/vG,KAAM3K,EAAOyR,GACbnR,QACA6hB,WACAhiB,aAZ8B,cAQzBg8G,EARyBp/F,EAAAjG,KAAAiG,EAAA7F,OAAA,SAexBilG,GAfwB,wBAAAp/F,EAAA3F,SAAAqF,MAAf,gBAAA6qF,GAAA,OAAAvlG,EAAAqO,MAAAkH,KAAA/Z,YAAA,IApBZghB,EAAAhI,KAAA,GAsCuBgB,QAAQjZ,IAAI49G,GAtCnC,eAsCCC,EAtCD59F,EAAAzH,KAwCCslG,EAAkBH,EAAW59G,OAAO,SAACkvB,EAAO9b,EAAKiC,GAEtD,OADA6Z,EAAM9b,GAAO0qG,EAAczoG,GACpB6Z,GACL,IA3CEhP,EAAArH,OAAA,SA6CEklG,GA7CF,eAAA79F,EAAArH,OAAA,SA+CE,MA/CF,yBAAAqH,EAAAnH,SAAAgH,6BAuDA,SAAS6xF,EAAWx+F,EAAKiC,EAAO1T,GACtC,IAAMQ,EAAQiR,EAAIjR,MAAM,KAClB67G,EAAO77G,EAAMhD,QAAU,EAAIgD,EAAMsK,MAAM,EAAGtK,EAAMhD,QAAQm5D,KAAK,KAAO,KACpEx2D,EAAWK,EAAM,IAAM,SAU7B,MAPa,CACZiR,MACAzR,SACAuP,KALY8sG,GAAI,mBAAA1rG,OAAuB+C,EAAQ,GAM/CvT,YAMK,SAAS+2E,IAWf,OAVmB1qD,cACjBvtB,IAAI,SAAAwS,GACJ,MAAO,CACNA,MACAzG,KAAM4gB,YAAqBna,MAG5B9H,OAAO,SAAArI,GAAA,OA5BV,SAAkB0J,GACjB,OAAOA,GAAQA,EAAKL,MAAQK,EAAK/K,UAAY+K,EAAK6P,WA2B3ByhG,CAAdh7G,EAAG0J,QACV/L,IAAI,SAAAwC,EAAgBiS,GAAhB,IAAG1I,EAAHvJ,EAAGuJ,KAAH,OAA0BilG,EAA1BxuG,EAASgQ,IAAiCiC,EAAO1I,KAKjD,SAAe+9F,EAAtBrrF,GAAA,OAAA6+F,EAAAnsG,MAAAkH,KAAA/Z,sDAAO,SAAAwsG,EAAAnoG,GAAA,IAAA+mG,EAAAxmF,EAAAq6F,EAAAh7F,EAAA,OAAAynE,EAAA3rF,EAAA8Y,KAAA,SAAA4zF,GAAA,cAAAA,EAAA1zF,KAAA0zF,EAAAzzF,MAAA,cAA+BoyF,EAA/B/mG,EAA+B+mG,KAAMxmF,EAArCvgB,EAAqCugB,SACrCq6F,EAAal8F,QAAMnb,GAAGgd,GADtB6nF,EAAAzzF,KAAA,EAGa4iG,EAAYqD,EAAY7T,EAAM,IAAO,GAAI,SAAU,OAHhE,cAGAnnF,EAHAwoF,EAAAlzF,KAAAkzF,EAAA9yF,OAAA,SAKCsK,GALD,wBAAAwoF,EAAA5yF,SAAA2yF,6BAQA,SAASjB,EAAa2T,GAC5B,GAAuB,kBAAZA,EACV,MAAM,IAAI17F,MAAM,8BACV,IAAK07F,EAAQj/G,OACnB,MAAM,IAAIujB,MAAM,gCAGjB,IAAM5b,EAAKmb,QAAMnb,GAAGs3G,GAEpB,OADan8F,QAAMgE,UAAUnf,yBCnS9BsnB,EAAAC,QAAiB3X,EAAA4X,EAAuB,wDCAxCF,EAAAC,QAAiB3X,EAAA4X,EAAuB,yDCAxCF,EAAAC,QAAiB3X,EAAA4X,EAAuB,0DCAxCF,EAAAC,QAAA,snQCAAD,EAAAC,QAAiB3X,EAAA4X,EAAuB,mECAxCF,EAAAC,QAAiB3X,EAAA4X,EAAuB,0DCAxCF,EAAAC,QAAiB3X,EAAA4X,EAAuB,wECAxC,SAAAloB,GAAAsQ,EAAAC,EAAAC,EAAA,sBAAA0sE,IAAA,IAAA+6B,EAAA3nG,EAAA,GAAA4nG,EAAA5nG,EAAA,IAAA6nG,EAAA7nG,EAAA,GAAA8nG,EAAA9nG,EAAA,KAAA+nG,EAAA/nG,EAAA,GAUe,SAAS4sE,EAAYp0D,GACnC,IAAM3pB,EAAW0tB,YAAY5tB,OAAmB,GAC1Cq5G,EAAoB,WAIzB,IAJ2D,IAAjCC,EAAiCz/G,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtB,GAAI0/G,EAAkB1/G,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAC9C2/G,EAAYF,EAASx8G,MAAM,OAE3B28G,EAAYF,EAASz8G,MAAM,OAC1B08G,EAAU1/G,QAAU2/G,EAAU3/G,QAAQ,CAC5C,IAAMF,EAAI4K,OAAOg1G,EAAUllB,SAErBt6F,EAAIwK,OAAOi1G,EAAUnlB,SAE3B,GAAI16F,IAAMI,EAEV,OAAOJ,EAAII,GAAK8sB,MAAM9sB,GAEvB,OAAO,GA6BR,OA1BA26C,oBAAU,WACT,IAAI13B,EAAIzQ,KAAK4U,SACXpL,SAAS,IACT66E,UAAU,GACZ1sE,MAAK,gBAAAlX,OAAiBgQ,GAAK,CAAEy8F,MAAO,aAClCtiG,KAAK,SAAA8kF,GAAQ,OAAIA,EAASj5E,SAC1B7L,KAAK,SAAAxG,GAAQ,IACL+oG,EAA6B/oG,EAA7B+oG,cAAeC,EAAchpG,EAAdgpG,UADVn/G,EAE0BsG,EAAO6P,MAAQ,GAA9CipG,EAFKp/G,EAELo/G,eAAgBC,EAFXr/G,EAEWq/G,aAEtB/4G,EAAO6P,MAAQyoG,EAAkBM,EAAeE,KAEjD9kF,YACC0kE,YAAsB,CACrB7hE,QAAS+hF,OAKV54G,EAAO6P,MAAQyoG,EAAkBO,EAAWE,KAE7C/kF,YAAQ4kE,kBAGT,CAACz5F,IAEG2pB,EAAMyE,SAjDdvtB,EAAO6P,KAAO,CACbipG,eAAgB3/E,EAAYtC,QAC5BkiF,WAAY5/E,EAAY6/E,imBCFnBl3F,EAAY,IAAIF,IAAU,CAAED,QADT7gB,gCAGnBmhB,EAAkB,SAAC3L,EAAK2iG,EAAWt3B,GACxC,OAAIrrE,EAAI3L,QAAU,KAAO2L,EAAI3L,OAAS,IAC9B2L,EAAI4L,OAGL5L,EAAI6L,OAAO9L,KAAK,SAAA8L,GACH,MAAf7L,EAAI3L,QAAiC,MAAf2L,EAAI3L,QAC7BsxB,YAAO0lD,GAEHs3B,GACJ72F,YAAwB,CAAE9L,MAAK6L,YAKrBy/E,EAAa,SAAAloG,GAQpB,IAPL8B,EAOK9B,EAPL8B,SACAwhB,EAMKtjB,EANLsjB,KACArB,EAKKjiB,EALLiiB,UACAwE,EAIKzmB,EAJLymB,UACApD,EAGKrjB,EAHLqjB,KACA0C,EAEK/lB,EAFL+lB,UACAoiF,EACKnoG,EADLmoG,cAEA,OAAO//E,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CACpBvoB,WACAwhB,OACArB,YACAwE,YACApD,OACA0C,YACAoiF,kBAEDx+E,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKy/E,EAAe,SAAAtnG,GAA+B,IAA5BqB,EAA4BrB,EAA5BqB,QAASkmG,EAAmBvnG,EAAnBunG,aACvC,OAAO7/E,EACLsB,MAAM,CACNM,MAAO,UACPC,OAAQ,MACRloB,UACAkmG,iBAEAtrF,KAAK,SAAAC,GAAG,OAAI2L,EAAgB3L,GAAK,GAAM,MAG7BijF,EAAc,SAAAh/F,GAA4C,IAAzCi/F,EAAyCj/F,EAAzCi/F,UAAyC0f,EAAA3+G,EAA9Bk/F,iBAA8B,IAAAyf,EAAlB,GAAkBA,EAAdz9G,EAAclB,EAAdkB,QAClD09G,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAAS7f,EAAWC,GAC7B33E,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,OACRE,KAAMs1F,EACN19G,YAEA4a,KAAK4L,IAGFq3F,EAAoB,SAAA/yG,GACzB,IAAMgzG,EAAav/G,OAAAo5G,EAAA,EAAAp5G,CAAA,GAAQuM,GAK3B,OAJIgzG,EAAcpuG,SAAWq+C,IAAOirD,SAAS8E,EAAcpuG,WAC1DouG,EAAcpuG,QAAUq+C,IAAOo0C,KAAK2b,EAAcpuG,SAAW,KAGvD2Y,KAAKC,UAAUw1F,IAGVjf,EAAa,SAAA3/F,GAAkB,IAAfa,EAAeb,EAAfa,SAC5B,OAAOsmB,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,MACRY,YAAa,CAAE/oB,cAEf6a,KAAK4L,IAGK63E,EAAa,SAAAh/F,GAAuB,IAApB8rF,EAAoB9rF,EAApB8rF,KAAMnrF,EAAcX,EAAdW,QAClC,OAAOqmB,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,OACRE,KAAMy1F,EAAkB1yB,GACxBnrF,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGK24E,EAAe,SAAA3/F,GAA2B,IAAxB2rF,EAAwB3rF,EAAxB2rF,KAAMlmF,EAAkBzF,EAAlByF,GAAIjF,EAAcR,EAAdQ,QACxC,OAAOqmB,EACLsB,MAAM,CACNM,MAAK,SAAAxX,OAAWxL,GAChBijB,OAAQ,MACRE,KAAMy1F,EAAkB1yB,GACxBnrF,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKs4E,EAAa,SAAAn+F,GAAkB,IAAfZ,EAAeY,EAAfZ,SAC5B,OAAOsmB,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,MACRY,YAAa,CAAE/oB,cAEf6a,KAAK4L,IAGKi4E,EAAa,SAAA59F,GAAuB,IAApBulE,EAAoBvlE,EAApBulE,KAAMpmE,EAAca,EAAdb,QAClC,OAAOqmB,EACLsB,MAAM,CACNM,MAAO,QACPC,OAAQ,OACRE,KAAMy1F,EAAkBz3C,GACxBpmE,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGK04E,EAAe,SAAAn+F,GAA2B,IAAxBqlE,EAAwBrlE,EAAxBqlE,KAAMnhE,EAAkBlE,EAAlBkE,GAAIjF,EAAce,EAAdf,QACxC,OAAOqmB,EACLsB,MAAM,CACNM,MAAK,SAAAxX,OAAWxL,GAChBijB,OAAQ,MACRE,KAAMy1F,EAAkBz3C,GACxBpmE,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKsrF,EAAe,SAAA5wG,GAA0B,IAAvBlB,EAAuBkB,EAAvBlB,QAAuBkB,EAAdupF,QACvC,OAAOpkE,EACLsB,MAAM,CACNM,MAAO,qBACPC,OAAQ,MACRwrE,SAAS,EACT1zF,YAEA4a,KAAK4L,IAGKurF,EAAsB,SAAA3wG,GAA2B,IAAxB4M,EAAwB5M,EAAxB4M,SAAUhO,EAAcoB,EAAdpB,QAC/C,OAAOqmB,EACLsB,MAAM,CACNM,MAAK,aAAAxX,OAAezC,EAAS/I,GAAxB,UACLijB,OAAQ,MACRloB,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKgmE,EAAkB,WAAsC,IAAAjrF,EAAAlE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAA5Be,EAAmCmD,EAAnCnD,IAAK2/G,EAA8Bx8G,EAA9Bw8G,SAAUtxB,EAAoBlrF,EAApBkrF,SAC1C3jE,EAAWvqB,OAAAo5G,EAAA,EAAAp5G,CAAA,GACZH,GAAO,CAAEA,KAAK,GACd2/G,GAAY,CAAE7uG,OAAQ6uG,EAAStnD,KAAK,MAFxB,CAGhBg2B,aAGD,OAAOpmE,EACLsB,MAAM,CACNM,MAAO,YACPC,OAAQ,MACRY,gBAEAlO,KAAK4L,IAGK44E,EAAiB,SAAA19F,GAA+B,IAA5BsM,EAA4BtM,EAA5BsM,SAAU/I,EAAkBvD,EAAlBuD,GAAIjF,EAAc0B,EAAd1B,QAC9C,OAAOqmB,EACLsB,MAAM,CACNM,MAAK,aAAAxX,OAAexL,GACpBijB,OAAQ,MACRE,KAAMy1F,EAAkB7vG,GACxBhO,UACA4nB,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,4lBCtKA0hE,EAAqCV,IAArCU,eAAgBE,EAAqBZ,IAArBY,iBAElBM,EAAQ,IAAIY,YAAUhgE,GACtB00F,EAAkB,IAAI10B,YAAU20B,GAChCC,EAA0B,IAAI50B,YAAUpB,EAAeD,KACvDk2B,EAA4B,IAAI70B,YAAUlB,EAAiBH,KACzDm2B,EAA2B/4G,6CAE5B,SAAe+qG,EAAtB74F,GAAA,OAAA8mG,EAAAnuG,MAAAkH,KAAA/Z,sDAAO,SAAAiZ,EAAArY,GAAA,IAAAogF,EAAAigC,EAAAC,EAAA3mG,EAAAojF,EAAAwjB,EAAAC,EAAAC,EAAAhkB,EAAAv7F,EAAAwb,EAAAgkG,EAAAC,EAAAnW,EAAA7jG,EAAA,OAAA6a,EAAAriB,EAAA8Y,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,cACNgoE,EADMpgF,EACNogF,MADMigC,EAAArgH,EAENsgH,oCAFM,IAAAD,EAEyB,YAFzBA,EAAA1mG,EAWFna,eANHu9F,EALKpjF,EAKLojF,oBACAwjB,EANK5mG,EAML4mG,YACAC,EAPK7mG,EAOL6mG,iBACAC,EARK9mG,EAQL8mG,qBACAhkB,EATK9iF,EASL8iF,SACAv7F,EAVKyY,EAULzY,UAGKwb,EAAa,CAAC,CAAC0jE,EAAO,GAAI,CAACqgC,EAAsB,IAEjDC,EAA2B,CAChC,CACC7gH,QAAS0gH,EACTK,QAASnkB,EACT9P,WAAY2zB,EACZvvB,aAAc7vF,EAAUV,QACxBqgH,eAAgB,SAIZF,EAAWG,iCAChBN,EACA9jG,EACA,CACCqkG,SAAU,EACVC,iBAAkB,EAClBC,sBAAuBP,EAAyB5/G,IAAI,SAAAomC,GAAC,OACpD,IAAIg6E,uBAAqBh6E,GAAG7jB,UAG9B89F,KAGK3W,EAAOrkF,oBAAUi6D,GAEjBz5E,EAAe4d,qBAAU,KAAA/R,OACzB4uG,2BAAiBrkB,EAAqByN,EAAMmW,GAAUplG,SAAS,SAzC/D7C,EAAAK,OAAA,SA4CC,CACNgkF,sBACAyjB,mBACAG,WACAnW,OACA7jG,eACA+V,aACAgkG,6BAnDK,wBAAAhoG,EAAAO,SAAAZ,6BAuDA,SAAeg5F,EAAtBn4F,GAAA,OAAAmoG,EAAApvG,MAAAkH,KAAA/Z,sDAAO,SAAA2Y,EAAArX,GAAA,IAAAe,EAAAooE,EAAAC,EAAA4E,EAAAxtE,EAAA4D,EAAAmQ,EAAAw3E,EAAA5qF,EAAAC,EAAAiB,EAAAf,EAAAgb,EAAA1Z,EAAAyX,EAAAgvE,EAAArwE,EAAA/S,EAAA26G,EAAAC,EAAAzyG,EAAAwkF,EAAA3mB,EAAA6mB,EAAAguB,EAAAC,EAAApzG,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACN3W,EADMf,EACNe,QACAooE,EAFMnpE,EAENmpE,iBACAC,EAHMppE,EAGNopE,WACA4E,EAJMhuE,EAINguE,YAEMxtE,EAAYH,eACV+D,EAAyC5D,EAAzC4D,SAAUmQ,EAA+B/T,EAA/B+T,OAAiBw3E,EAAcvrF,EAAvBV,QAClBqB,EAA4BJ,EAA5BI,OAAQC,EAAoBL,EAApBK,SAAUiB,EAAUtB,EAAVsB,MAClBf,EAAaH,EAAbG,SACAgb,EAAsCja,EAAMK,IAA5C4Z,kCAVF9E,EAAAE,KAAA,EAWyC8B,YAAUlY,GAXnD,cAAAsB,EAAA4U,EAAAS,KAWEoC,EAXFzX,EAWEyX,SAAUgvE,EAXZzmF,EAWYymF,SAAUrwE,EAXtBpW,EAWsBoW,SAEtB/S,EAAe7E,EAAStB,QAExB8gH,EAAar8G,qBAAW4kE,EAAkB/kE,GAE1Cy8G,EAAa,CAClBrlG,iBAAkBvV,EAClBoqF,aAActE,EACd95E,GAAI85E,EACJjgF,KAAMi+E,EAAMwD,UAAUyzB,SAASzwB,OAAO,CAACnnB,EAAYw3C,IACnDC,YAAY,GAEPzyG,EAAO,CAACyyG,GAxBRrpG,EAAAE,KAAA,GA0BuB67E,EAAiC,CAC7D9B,wBAAyBmvB,EACzBxyG,OACAnI,eACAoU,WACAgvE,WACAtoF,UACAiY,aAjCK,eA0BA45E,EA1BAp7E,EAAAS,KAAAT,EAAAE,KAAA,GAoCa87E,EAAyB,CAAEZ,iBAAgBpyF,cApCxD,WAoCAyrE,EApCAz0D,EAAAS,KAqCA66E,EAAYzuF,uBAAaiY,IAE3B2vD,EAAK4mB,QAAQvuF,GAAGwuF,GAvCd,CAAAt7E,EAAAE,KAAA,eAwCC,IAAIwK,MACTxiB,aAAE,oCAAqC,CACtCqI,KAAM,IAAA+J,OACFnH,YACFmoF,EAAUj4E,WACVzW,GACA,EACA,GALI,KAAA0N,OAMAyC,GANA,GAAAzC,OAOFm6D,EAAKnwD,MAPH,KAAAhK,OAOYyC,GAPZ,GAAAzC,OAQFnH,YAAkBi2G,EAAW/lG,WAAYzW,GARvC,KAAA0N,OAQoDyC,OAlDvD,WAwDAusG,EAAchuB,EAAUrF,IAAIxhB,EAAK4mB,SAEnCkuB,EAAuBH,EAEvBA,EAAWt8G,GAAGw8G,KACjBC,EAAuBD,EACvBluB,EAAe7G,GAAa6G,EAAe7G,GAAW3rF,IAAI,SAAAgmB,GAQzD,OAPIA,EAAGy6F,aACNz6F,EAAGta,KAAOi+E,EAAMwD,UAAUyzB,SAASzwB,OAAO,CACzCnnB,EACA23C,EAAqBlmG,cAIhBuL,MAIL4nD,EA1EE,CAAAx2D,EAAAE,KAAA,gBAAAF,EAAAa,OAAA,SA2EE,CACN4zD,KAAMA,EAAKnwD,MACXowD,MAAOvhE,YAAkBo2G,EAAsB38G,KA7E3C,eAAAoT,EAAAE,KAAA,GAiFe+7E,EAA0B,CAC9CxtF,eACA2sF,iBACAzxF,SACAkZ,aArFK,eAiFA1M,EAjFA6J,EAAAS,KAAAT,EAAAa,OAAA,SAwFC,CACN1K,WAzFK,yBAAA6J,EAAAe,SAAAlB,6BA6FA,SAAe02D,EAAtB/zD,GAAA,OAAAinG,EAAA1vG,MAAAkH,KAAA/Z,sDAAO,SAAA+a,EAAAtZ,GAAA,IAAAY,EAAAkqE,EAAAC,EAAA8C,EAAA7sE,EAAAC,EAAA2B,EAAAsX,EAAAkiF,EAAAlT,EAAArwE,EAAA/S,EAAAi7G,EAAAC,EAAA/yG,EAAAwkF,EAAAjlF,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAqC,GAAA,cAAAA,EAAAnC,KAAAmC,EAAAlC,MAAA,cACN3W,EADMZ,EACNY,QACAkqE,EAFM9qE,EAEN8qE,QACAC,EAHM/qE,EAGN+qE,UACA8C,EAJM7tE,EAIN6tE,YAEQ7sE,EAAqBJ,EAArBI,OAAQC,EAAaL,EAAbK,SANVwY,EAAAlC,KAAA,EAOoD8B,YACzDrY,EAAOG,UARF,cAAAyB,EAAA6W,EAAA3B,KAOEoC,EAPFtX,EAOEsX,SAAUkiF,EAPZx5F,EAOYw5F,UAAWlT,EAPvBtmF,EAOuBsmF,SAAUrwE,EAPjCjW,EAOiCiW,SAGjC/S,EAAe7E,EAAStB,QAExBohH,EAAoB,IAAIv2B,YAAUtB,EAASC,KAE3C63B,EAAM,CACX3lG,iBAAkBvV,EAClBoqF,aAAckM,EAAUz8F,QACxBmS,GAAIhM,EACJ6F,KAAMo1G,EAAkB3zB,UAAU6zB,iBAAiB7wB,OAAO,CACzDtlB,EACAC,KAII98D,EAAO,CAAC+yG,GAxBRvnG,EAAAlC,KAAA,GAyBuB67E,EAAiC,CAC7DnlF,OACAnI,eACAoU,WACAgvE,WACAtoF,UACAiY,aA/BK,WAyBA45E,EAzBAh5E,EAAA3B,MAkCF+1D,EAlCE,CAAAp0D,EAAAlC,KAAA,gBAAAkC,EAAAlC,KAAA,GAoCS87E,EAAyB,CAAEZ,mBApCpC,eAAAh5E,EAAAxB,GAAAwB,EAAA3B,KAoCuD6D,MApCvDlC,EAAAvB,OAAA,UAoCJ4zD,KApCIryD,EAAAxB,KAAA,eAAAwB,EAAAlC,KAAA,GAwCe+7E,EAA0B,CAC9Cb,iBACA3sF,eACA9E,SACAkZ,WACAq5E,UAAW,CACVzoB,UACAC,eA/CI,eAwCAv9D,EAxCAiM,EAAA3B,KAAA2B,EAAAvB,OAAA,SAmDC,CACN1K,WApDK,yBAAAiM,EAAArB,SAAAkB,6BAuDP,SAAS4nG,EAAT9gH,GAMG,IALF6N,EAKE7N,EALF6N,KACA5N,EAIED,EAJFC,UACA8gH,EAGE/gH,EAHF+gH,QACA3gH,EAEEJ,EAFFI,QACAsF,EACE1F,EADF0F,aACE8pF,EAC4C3hF,EAAK5O,OAClD,SAAC0T,EAASkT,EAAIvY,GAAM,IACXuiF,EAA0BhqE,EAA1BgqE,sBASJC,EAAe,GAmBnB,QAzBGD,KACAA,EAAsBzvF,KACvBylB,EAAGiqE,eAAiB1vF,IAAYylB,EAAGiqE,eACpC7vF,EAAUV,UAAYwhH,GACtB3gH,IAAY2gH,IAKZpuG,EAAQquG,kBAAoBruG,EAAQquG,kBAAkBjpG,IACrDjU,uBAAa+rF,EAAsBzvF,KAEpC0vF,EAAeixB,GAGhBjxB,EAAeA,GAAgBjqE,EAAGiqE,cAAgB7vF,EAAUV,QAE5DsmB,EAAGiqE,aAAeA,EAClBjqE,EAAG5K,kBAAoB4K,EAAG5K,kBAAoBvV,GAAc0Z,cAE5DzM,EAAQ0/E,eAAevC,GAAvB,GAAAv+E,OAAAlS,OAAA2D,EAAA,EAAA3D,CACKsT,EAAQ0/E,eAAevC,IAAiB,IAD7C,CAECjqE,IAGMlT,GAER,CACCquG,kBAAmBl9G,uBAAa,KAChCuuF,eAAgB,KAIlB,MAAO,CAAEA,eAvCP7C,EACM6C,eAsCiB2uB,kBAvCvBxxB,EACsBwxB,mBAyClB,SAAe7yC,EAAtB50D,GAAA,OAAA0nG,EAAAjwG,MAAAkH,KAAA/Z,sDAAO,SAAAoa,EAAApY,GAAA,IAAA+gH,EAAAhzC,EAAA1tE,EAAAitE,EAAA7sE,EAAAC,EAAA8B,EAAAmX,EAAAkiF,EAAAvjF,EAAAqwE,EAAApjF,EAAAk7G,EAAAO,EAAAtzG,EAAAwkF,EAAA+uB,EAAAnhH,EAAA6C,EAAAyY,EAAAnO,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA+pG,EAAA/gH,EAAgC+tE,gBAAhC,IAAAgzC,EAA2C,GAA3CA,EAA+C1gH,EAA/CL,EAA+CK,QAASitE,EAAxDttE,EAAwDstE,YACtD7sE,EAAqBJ,EAArBI,OAAQC,EAAaL,EAAbK,SADVmY,EAAA7B,KAAA,EAEoD8B,YACzDrY,EAAOG,UAHF,cAAA4B,EAAAqW,EAAAtB,KAEEoC,EAFFnX,EAEEmX,SAAUkiF,EAFZr5F,EAEYq5F,UAAWvjF,EAFvB9V,EAEuB8V,SAAUqwE,EAFjCnmF,EAEiCmmF,SAGjCpjF,EAAe7E,EAAStB,QAExBqhH,EAAM,CACX3lG,iBAAkBvV,EAClBoqF,aAAckM,EAAUz8F,QACxBmS,GAAIs3E,EAAezpF,QACnBgM,KAAMyzG,EAAwBhyB,UAAUq0B,iBAAiBrxB,OAAO,CAC/DhH,EAAeC,eACfljF,aAAGmoE,GACHxoE,KAIIy7G,EAAM,CACXlmG,iBAAkBvV,EAClBoqF,aAAckM,EAAUz8F,QACxBmS,GAAIw3E,EAAiB3pF,QACrBgM,KAAM0zG,EAA0BjyB,UAAUs0B,QAAQtxB,OAAO,IAAAz+E,OACrD28D,EADqD,KAAA38D,OACzC23E,EAAiBC,iBAI5Bt7E,EAAO,CAAC+yG,EAAKO,GA3BbnoG,EAAA7B,KAAA,GA6BuB67E,EAAiC,CAC7DnlF,OACAnI,eACAoU,WACAgvE,WACAtoF,UACAiY,aAnCK,eA6BA45E,EA7BAr5E,EAAAtB,KAAA0pG,EAsCgB7iH,eAAd0B,EAtCFmhH,EAsCEnhH,UAtCF+Y,EAAA7B,KAAA,GAuCkB87E,EAAyB,CAChDZ,iBACApyF,cAzCK,WAAA6C,EAAAkW,EAAAtB,KAuCE6D,EAvCFzY,EAuCEyY,OAIJkyD,EA3CE,CAAAz0D,EAAA7B,KAAA,gBAAA6B,EAAAlB,OAAA,SA4CE,CACN4zD,KAAMnwD,IA7CF,eAAAvC,EAAA7B,KAAA,GAiDe+7E,EAA0B,CAC9CxtF,eACA2sF,iBACAzxF,SACAkZ,aArDK,eAiDA1M,EAjDA4L,EAAAtB,KAAAsB,EAAAlB,OAAA,SAwDC,CACN1K,WAzDK,yBAAA4L,EAAAhB,SAAAO,6BA6DA,SAAey6E,EAAtBr5E,GAAA,OAAA4nG,EAAAvwG,MAAAkH,KAAA/Z,sDAAO,SAAAqgB,EAAAle,GAAA,IAAAkhH,EAAAtwB,EAAAuwB,EAAA5zG,EAAAnI,EAAAoU,EAAAgvE,EAAAtoF,EAAAiY,EAAAzZ,EAAA4xF,EAAA8K,EAAAz7F,EAAA8gH,EAAA3gH,EAAAshH,EAAAC,EAAA1mG,EAAA2mG,EAAAC,EAAAC,EAAA5+G,EAAA6+G,EAAAvwB,EAAAwwB,EAAAvwB,EAAAwwB,EAAAC,EAAAC,EAAAC,EAAA/vB,EAAAgwB,EAAA,OAAA9hG,EAAAriB,EAAA8Y,KAAA,SAAAyH,GAAA,cAAAA,EAAAvH,KAAAuH,EAAAtH,MAAA,cAAAqqG,EAAAlhH,EACN4wF,+BADM,IAAAswB,EACoB,IADpBA,EAAAC,EAAAnhH,EAENuN,YAFM,IAAA4zG,EAEC,GAFDA,EAGN/7G,EAHMpF,EAGNoF,aACAoU,EAJMxZ,EAINwZ,SACAgvE,EALMxoF,EAKNwoF,SACAtoF,EANMF,EAMNE,QACAiY,EAPMnY,EAONmY,SAEMzZ,EAAoBH,cACpB+xF,EAAW1wF,eAVXw7F,EAWkCn9F,eAAhC0B,EAXFy7F,EAWEz7F,UAAW8gH,EAXbrlB,EAWaqlB,QAAS3gH,EAXtBs7F,EAWsBt7F,QACtBshH,EAAoB1iH,EAAkBiB,EAAUV,SAZhDkf,EAAAtH,KAAA,EAckB2C,EAASwoG,QAAQ58G,GAdnC,UAAA+Y,EAAA5G,GAAA4G,EAAA/G,KAcFiqG,EAAwD,OAdtDljG,EAAA5G,GAeFoD,EAAmB,KAEnB0mG,IACH1mG,EAAmB,IAAIkP,WAASzkB,EAAcojF,EAASC,IAAKjvE,KAGxC6nG,EArBf,CAAAljG,EAAAtH,KAAA,gBAAAsH,EAAAtH,KAAA,GAsBI8D,EAAiB8wE,QAtBrB,QAAAttE,EAAAqF,GAAArF,EAAA/G,KAsB8B6qG,WAtB9B9jG,EAAAtH,KAAA,iBAAAsH,EAAAqF,GAuBH,EAvBG,eAqBA89F,EArBAnjG,EAAAqF,GAyBA+9F,EAAkBh0G,EAAKzP,OAC1B0F,uBACC89G,EAEEF,EAAkBc,eADlBd,EAAkBe,WAEnB1qG,IACFjU,uBAAa49G,EAAkBc,gBAAgBhsG,IAC9C1S,uBAAa+J,EAAKzP,OAAS,KAG5B0F,uBAAa,GAEVg+G,EAA+BD,EAAgB9pG,IACpDjU,uBAAaotF,IAtCRzyE,EAAAtH,KAAA,GA4CI65E,YAAwB,CACjCE,wBAAyB4wB,EAEzBthH,YA/CK,WAAA0C,EAAAub,EAAA/G,KAAAqqG,EAAA7+G,EA0CLsuF,iBA1CK,IAAAuwB,EA0CO,GA1CPA,EAAAC,EAAA9+G,EA2CLuuF,0BA3CK,IAAAuwB,EA2CgB,GA3ChBA,EAmDAC,EAAmBnB,EAA4B,CACpDjzG,KAAM2jF,EACNvxF,YACA8gH,UACA3gH,UACAsF,iBAIKw8G,EAAmBpB,EAA4B,CACpDjzG,OACA5N,YACA8gH,UACA3gH,UACAsF,kBASKy8G,EAAgBF,EAAiBjB,kBACrCjpG,IAAImqG,EAAiBlB,mBACrBjpG,IAAIjU,uBAAa2tF,EAAmBrxF,IAAY,KAE/BurB,SA9Eb,CAAAlN,EAAAtH,KAAA,gBAAAsH,EAAAsF,GAAA,GAAAtF,EAAAuF,GAAA3kB,OAAA2D,EAAA,EAAA3D,CAgFA4iH,EAAiB5vB,eAAe0uB,IAAY,IAhF5CtiG,EAAA8rF,GAAAvnG,EAAA,EAAAyb,EAAAtH,KAAA,GAiFMurG,EAAiB,CAC1BjqG,WACA/S,eACAq7G,UACAnwB,WACA+xB,WAAYR,IAtFT,QAAA1jG,EAAA+rF,GAAA/rF,EAAA/G,KAAA+G,EAAAmkG,IAAA,EAAAnkG,EAAA8rF,IAAA9rF,EAAA+rF,IA+ELyX,EAAiB5vB,eAAe0uB,GA/E3BtiG,EAAAsF,GAAAxS,OAAAuO,KAAArB,EAAAsF,GAAAtF,EAAAuF,GAAAvF,EAAAmkG,IAAA,eA2FAR,EA3FA/iH,OAAA2D,EAAA,EAAA3D,CA4FF,IAAIwjH,IAAJ,GAAAtxG,OAAAlS,OAAA2D,EAAA,EAAA3D,CACCA,OAAO+S,KAAK6vG,EAAiB5vB,iBAD9BhzF,OAAA2D,EAAA,EAAA3D,CAECA,OAAO+S,KAAK8vG,EAAiB7vB,oBAI5BA,EAAiB+vB,EAAanjH,OAAO,SAAC4O,EAAMuI,GAMjD,OALAvI,EAAKuI,GAAL,GAAA7E,OAAAlS,OAAA2D,EAAA,EAAA3D,CACK4iH,EAAiB5vB,eAAej8E,IAAU,IAD/C/W,OAAA2D,EAAA,EAAA3D,CAEK6iH,EAAiB7vB,eAAej8E,IAAU,KAGxCvI,GACL,IAECw0G,EAAeT,EAEnBviH,OAAO+S,KAAKigF,GAAgBlnD,QAAQ,SAAA94B,GACnCggF,EAAehgF,GAAOggF,EAAehgF,GAAKxS,IAAI,SAAAgmB,GAAM,IAAAi9F,EACmBj9F,EAA9DoqE,4BAD2C,IAAA6yB,EACpB,EADoBA,EAAAC,EACmBl9F,EAApC+sE,wBADiB,IAAAmwB,EACE,EADFA,EACKryB,EAAc7qE,EAAd6qE,UAClDp6E,EAAWtX,EAAkB6mB,EAAGiqE,cAChCkzB,EAActyB,EAAYp6E,EAASC,IAAMD,EAASksG,eAElDS,EAAen/G,uBACH,IAAjBu+G,EAAqB/rG,EAASmsG,UAAYO,GAGrCE,EAAyBp/G,uBAAamsF,GAAsBz5E,IACjE1S,uBAAawS,EAASC,MAGjB4sG,EAAkBr/G,uBAAa8uF,GAAkBp8E,IACtD1S,uBAAawS,EAASksG,iBAIjBY,EAAYH,EAChBlrG,IAAImrG,GACJnrG,IAAIorG,GACJ7oG,WAGI+oG,EAA8Bv/G,uBAAas/G,GAC/Cl2B,IAAIppF,uBAAa4sF,EAAYp6E,EAASC,IAAM,IAC5C22E,IAAIppF,uBAAamsF,GAAsBz5E,IAAI1S,uBAAawS,EAASC,OACjE+D,WAEIgpG,EAAWjkH,OAAAC,EAAA,EAAAD,CAAA,GACbwmB,EADa,CAEhBiqE,aAAcx5E,EAAS/W,QACvB6jH,YACAr3B,MAAOs2B,EACPgB,gCAKD,OAFAhB,GAAgB,EAETiB,MArJH7kG,EAAA3G,OAAA,SAyJCu6E,GAzJD,yBAAA5zE,EAAAzG,SAAAwG,6BA4JA,SAAeq0E,EAAtBp4E,GAAA,OAAA8oG,EAAAvyG,MAAAkH,KAAA/Z,sDAAO,SAAA0b,EAAApY,GAAA,IAAAgX,EAAArC,EAAA1Q,EAAAoqF,EAAAgD,EAAAC,EAAA55E,EAAAoR,EAAA4nE,EAAA,OAAA5xE,EAAAriB,EAAA8Y,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cACNsB,EADMhX,EACNgX,SACArC,EAFM3U,EAEN2U,MACA1Q,EAHMjE,EAGNiE,aACAoqF,EAJMruF,EAINquF,aACAgD,EALMrxF,EAKNqxF,kBACAC,EANMtxF,EAMNsxF,cAEM55E,EAAgBV,EAASrC,GARzB4D,EAAA7C,KAAA,EAUkBgC,EAAcoR,UACrC7kB,EACAotF,GAZK,cAUAvoE,EAVAvQ,EAAAtC,KAeAy6E,EAAc,GAEf5nE,EAAUoB,UACdwmE,EAAYrmF,KAAK,CAChBmP,iBAAkBvV,EAClBoqF,aAAcA,EACdp+E,GAAI0E,EAAM7W,QACVgM,KAAMi+E,EAAMwD,UAAUw2B,QAAQxzB,OAAO,CAAC8C,EAAmB,MAI3DX,EAAYrmF,KAAK,CAChBmP,iBAAkBvV,EAClBoqF,aAAcA,EACdp+E,GAAI0E,EAAM7W,QACVgM,KAAMi+E,EAAMwD,UAAUw2B,QAAQxzB,OAAO,CAAC8C,EAAmBC,MA9BpD/4E,EAAAlC,OAAA,SAiCCq6E,GAjCD,wBAAAn4E,EAAAhC,SAAA6B,sCAoCQ6oG,+EAAf,SAAA/nG,EAAAhZ,GAAA,IAAA+D,EAAAq7G,EAAAnwB,EAAA+xB,EAAAlqG,EAAA05E,EAAAsxB,EAAA,OAAAljG,EAAAriB,EAAA8Y,KAAA,SAAAsE,GAAA,cAAAA,EAAApE,KAAAoE,EAAAnE,MAAA,cACCzR,EADD/D,EACC+D,aACAq7G,EAFDp/G,EAECo/G,QACAnwB,EAHDjvF,EAGCivF,SACA+xB,EAJDhhH,EAICghH,WACAlqG,EALD9W,EAKC8W,SALD6C,EAAAnE,KAAA,EAO2B07E,EAAe,CACxCp6E,WACArC,MAAOw6E,EACPlrF,eACAoqF,aAAcixB,EACdjuB,kBAAmBosB,EACnBnsB,cAAe4vB,IAbjB,cAOOxwB,EAPP72E,EAAA5D,KAgBO+rG,EAAS,CACdxoG,iBAAkBvV,EAClBoqF,aAAcixB,EACdrvG,GAAIwtG,EACJ3zG,KAAMuzG,EAAgB9xB,UAAU02B,aAAa1zB,OAAO,CAAC2yB,KApBvDrnG,EAAAxD,OAAA,YAAAvG,OAAAlS,OAAA2D,EAAA,EAAA3D,CAuBY8yF,GAvBZ,CAuByBsxB,KAvBzB,wBAAAnoG,EAAAtD,SAAA2C,6BA4BO,SAAes4E,EAAtBhF,GAAA,OAAA01B,EAAA3yG,MAAAkH,KAAA/Z,sDAAO,SAAAoe,EAAA1a,GAAA,IAAAwwF,EAAAuxB,EAAA3jH,EAAAjB,EAAAyd,EAAAgvD,EAAAo4C,EAAAn4C,EAAA,OAAAnrD,EAAAriB,EAAA8Y,KAAA,SAAA4F,GAAA,cAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,cACNk7E,EADMxwF,EACNwwF,eADMuxB,EAAA/hH,EAEN5B,iBAFM,IAAA2jH,EAEM,GAFNA,EAIA5kH,EAAoBH,cACpB4d,EAAU3Y,uBAAa,KACvB2nE,EAAWpsE,OAAOuJ,OAAOypF,GAC7BpzF,OAAO,SAACC,EAAK4kH,GAAN,OAAqB5kH,EAAIqS,OAAOuyG,IAAa,IACpD7kH,OACA,SAACmO,EAAQyY,GACR,IAAMm9F,EAAcl/G,uBAAa+hB,EAAGw9F,6BAOpC,OANAj2G,EAAOmO,MAAQnO,EAAOmO,MAAMxD,IAAIirG,GAEhC51G,EAAOy2G,QAAQh+F,EAAGiqE,eACjB1iF,EAAOy2G,QAAQh+F,EAAGiqE,eAAiBrzE,GAClC1E,IAAIirG,GAEC51G,GAER,CAAEmO,MAAOkB,EAASonG,QAAS,KAGvBA,EAAUxkH,OAAOimD,QAAQmmB,EAASo4C,SAAShkH,IAAI,SAAAwD,GAAkB,IAAAK,EAAArE,OAAA4J,EAAA,EAAA5J,CAAAgE,EAAA,GAAhBgP,EAAgB3O,EAAA,GAAXmF,EAAWnF,EAAA,GAAAqgH,EACzC/kH,EAAkBqT,GAAvCxO,EAD8DkgH,EAC9DlgH,SAAUmQ,EADoD+vG,EACpD/vG,OAClB,MAAO,CACNzU,QAAS8S,EACT65E,IAAK9hF,YAAkBvB,EAAMyR,WAAYzW,GACzCmQ,SACAgwG,aAAY,GAAAzyG,OAAKnH,YAChBvB,EAAMyR,WACNzW,GACA,EACA,GAJW,KAAA0N,OAKPyC,MAID03D,EAAO,CAEZnwD,MAAOnR,YACNqhE,EAASlwD,MAAMjB,WACfra,EAAU4D,UAAY,IACtB,EACA,GAEDyuF,QAAS7mB,EAASlwD,MAClBsoG,WA9CKjnG,EAAA9E,OAAA,SAiDC4zD,GAjDD,wBAAA9uD,EAAA5E,SAAAuE,6BAoDA,SAAe22E,EAAtB/1E,GAAA,OAAA8mG,EAAAjzG,MAAAkH,KAAA/Z,sDAAO,SAAA+f,EAAAlc,GAAA,IAAAqwF,EAAAzxF,EAAAkZ,EAAApU,EAAAw+G,EAAA/wB,EAAAhvE,EAAAjlB,EAAA0pB,EAAA,OAAArI,EAAAriB,EAAA8Y,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,cACNk7E,EADMrwF,EACNqwF,eACAzxF,EAFMoB,EAENpB,OACAkZ,EAHM9X,EAGN8X,SACApU,EAJM1D,EAIN0D,aAJMw+G,EAAAliH,EAKNmxF,iBALM,IAAA+wB,EAKM,GALNA,EAAA/lG,EAAAhH,KAAA,EAOe8M,YAAU,CAAErjB,SAAQkZ,aAPnC,cAOAqK,EAPAhG,EAAAzG,KAQAxY,EAAMG,OAAOuJ,OAAOypF,GAAgBxyF,IAA9B,eAAA8D,EAAAtE,OAAAihB,EAAA,EAAAjhB,CAAAkhB,EAAAriB,EAAA2Y,KAAkC,SAAAgyF,EAAMsb,GAAN,IAAA/9F,EAAA7a,EAAA6B,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAA8xF,GAAA,cAAAA,EAAA5xF,KAAA4xF,EAAA3xF,MAAA,cAAA2xF,EAAA3xF,KAAA,EACpB+O,YAAwB,CAAErY,KAAMs2G,EAAShgG,WADrB,cACvCiC,EADuC0iF,EAAApxF,KAEvCnM,EAFuClM,OAAAC,EAAA,EAAAD,CAAA,CAG5C8kH,UACA/9F,aACA1gB,gBACGytF,GANyC2V,EAAA3xF,KAAA,EAgBxBitG,YAAU74G,GAhBc,cAgBvC6B,EAhBuC07F,EAAApxF,KAAAoxF,EAAAhxF,OAAA,SAkBtC,CACN1K,WAnB4C,wBAAA07F,EAAA9wF,SAAA6wF,MAAlC,gBAAA/pF,GAAA,OAAAnb,EAAAqN,MAAAkH,KAAA/Z,YAAA,IARNggB,EAAAhH,KAAA,EA+BgBgB,QAAQjZ,IAAIA,GA/B5B,cA+BA0pB,EA/BAzK,EAAAzG,KAAAyG,EAAArG,OAAA,SAiCC8Q,GAjCD,wBAAAzK,EAAAnG,SAAAkG,6BAoCA,SAAe4vD,EAAtBpvD,GAAA,OAAA2lG,EAAArzG,MAAAkH,KAAA/Z,sDAAO,SAAAkf,EAAAnb,GAAA,IAAA1B,EAAAooE,EAAAqB,EAAAI,EAAAxB,EAAA4E,EAAA62C,EAAArkH,EAAAW,EAAAC,EAAAE,EAAAuJ,EAAAwP,EAAAgvE,EAAArwE,EAAA5U,EAAA6B,EAAA26G,EAAAC,EAAAzyG,EAAAwkF,EAAA3mB,EAAAt+D,EAAA,OAAAmT,EAAAriB,EAAA8Y,KAAA,SAAA2G,GAAA,cAAAA,EAAAzG,KAAAyG,EAAAxG,MAAA,cACN3W,EADM0B,EACN1B,QACAooE,EAFM1mE,EAEN0mE,iBACAqB,EAHM/nE,EAGN+nE,aACAI,EAJMnoE,EAINmoE,cACAxB,EALM3mE,EAKN2mE,WACA4E,EANMvrE,EAMNurE,YANM62C,EAQgB/lH,eAAd0B,EARFqkH,EAQErkH,UACAW,EAAqBJ,EAArBI,OAAQC,EAAaL,EAAbK,SACRE,EAAaH,EAAbG,SAVF4c,EAAAxG,KAAA,EAWyC8B,YAAUlY,GAXnD,cAAAuJ,EAAAqT,EAAAjG,KAWEoC,EAXFxP,EAWEwP,SAAUgvE,EAXZx+E,EAWYw+E,SAAUrwE,EAXtBnO,EAWsBmO,SACtB5U,EAAWsI,SAASk+D,EAAe,IAEnC3kE,EAAe7E,EAAStB,QAExB8gH,EAAar8G,qBAAW4kE,EAAkB/kE,GAE1Cy8G,EAAa,CAClBrlG,iBAAkBvV,EAClBoqF,aAAc7vF,EAAUV,QACxBmS,GAAIu4D,EACJ1+D,KAAMi+E,EAAMwD,UAAUyzB,SAASzwB,OAAO,CAACnnB,EAAYw3C,KAE9CxyG,EAAO,CAACyyG,GAxBR3iG,EAAAxG,KAAA,GA0BuB67E,EAAiC,CAC7DnlF,OACAnI,eACAoU,WACAgvE,WACAtoF,UACAiY,aAhCK,eA0BA45E,EA1BA10E,EAAAjG,KAAAiG,EAAAxG,KAAA,GAmCa87E,EAAyB,CAAEZ,iBAAgBpyF,cAnCxD,WAmCAyrE,EAnCA/tD,EAAAjG,MAqCF+1D,EArCE,CAAA9vD,EAAAxG,KAAA,gBAAAwG,EAAA7F,OAAA,SAsCE,CACN4zD,KAAMA,EAAKnwD,MACXowD,MAAOvhE,YAAkBi2G,EAAYx8G,KAxCjC,eAAA8Z,EAAAxG,KAAA,GA4Ce+7E,EAA0B,CAC9CxtF,eACA2sF,iBACAzxF,SACAkZ,aAhDK,eA4CA1M,EA5CAuQ,EAAAjG,KAAAiG,EAAA7F,OAAA,SAmDC,CACN1K,WApDK,yBAAAuQ,EAAA3F,SAAAqF,+DCnpBP1H,EAAAC,EAAAC,EAAA,sBAAAy6F,IAAA36F,EAAAC,EAAAC,EAAA,sBAAAwwF,IAAA1wF,EAAAC,EAAAC,EAAA,sBAAAuxF,IAAAzxF,EAAAC,EAAAC,EAAA,sBAAAuuG,IAAAzuG,EAAAC,EAAAC,EAAA,sBAAA86F,IAAAh7F,EAAAC,EAAAC,EAAA,sBAAA+zF,IAAAj0F,EAAAC,EAAAC,EAAA,sBAAAq0F,IAAAv0F,EAAAC,EAAAC,EAAA,sBAAA65F,IAAA,IAAA6U,EAAA5uG,EAAA,KAGMwR,EAAY,IAAIF,IAAU,CAAED,QADR7gB,iCAGpBmhB,EAAkB,SAAA3L,GACvB,OAAIA,EAAI3L,QAAU,KAAO2L,EAAI3L,OAAS,IAC9B2L,EAAI4L,OAGL5L,EAAI6L,OAAO9L,KAAK,SAAA8L,GACtBC,YAAwB,CAAE9L,MAAK6L,YAIpB8oF,EAAqB,SAAAvxG,GAAe,IAAZogF,EAAYpgF,EAAZogF,MACpC,OAAOh4D,EACLsB,MAAM,CACNM,MAAK,qBAAAxX,OAAuB4tE,GAC5Bn2D,OAAQ,QAERtN,KAAK4L,IAGK++E,EAAkB,SAAA5mG,GAAsB,IAAnBiG,EAAmBjG,EAAnBiG,aACjC,OAAOyhB,EACLsB,MAAM,CACNM,MAAK,YAAAxX,OAAc7L,GACnBsjB,OAAQ,QAERtN,KAAK4L,IAGK8/E,EAAuB,WACnC,OAAOjgF,EACLsB,MAAM,CACNM,MAAO,cACPC,OAAQ,QAERtN,KAAK4L,IAGK88F,EAAY,SAAAxkH,GAAoD,IAAjDukH,EAAiDvkH,EAAjDukH,QAAS/9F,EAAwCxmB,EAAxCwmB,WAAY1gB,EAA4B9F,EAA5B8F,aAAcmY,EAAcje,EAAdie,QAC9D,OAAOsJ,EACLsB,MAAM,CACNM,MAAK,YAAAxX,OAAc7L,EAAd,YACLsjB,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CACpB+6F,UACA/9F,aACA1gB,eACAmY,YAED6K,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKqpF,EAAa,SAAA3wG,GAUpB,IATLm/E,EASKn/E,EATLm/E,MACAj+E,EAQKlB,EARLkB,MACAw+G,EAOK1/G,EAPL0/G,SACA5jB,EAMK97F,EANL87F,oBACAyjB,EAKKv/G,EALLu/G,iBACAhW,EAIKvpG,EAJLupG,KACA7jG,EAGK1F,EAHL0F,aACA+V,EAEKzb,EAFLyb,WACAgkG,EACKz/G,EADLy/G,yBAEA,OAAOt4F,EACLsB,MAAM,CACNM,MAAK,YAAAxX,OAAc7L,GACnBsjB,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CACpB+1D,QACAj+E,QACAw+G,WACA5jB,sBACAyjB,mBACAhW,OACA7jG,eACA+V,aACAgkG,6BAED/2F,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKsiF,EAAiB,SAAAzpG,GAAc,IAAXiiB,EAAWjiB,EAAXiiB,KAChC,OAAO+E,EACLsB,MAAM,CACNM,MAAK,UAAAxX,OAAYk2D,mBAAmBrlD,IACpC4G,OAAQ,QAERtN,KAAK4L,IAGK4iF,EAAe,SAAA5pG,GAA4C,IAAzCY,EAAyCZ,EAAzCY,MAAOqoG,EAAkCjpG,EAAlCipG,KAAMnnF,EAA4B9hB,EAA5B8hB,KAAMonF,EAAsBlpG,EAAtBkpG,gBACjD,OAAOriF,EACLsB,MAAM,CACNM,MAAK,SACLC,OAAQ,OACRE,KAAMC,KAAKC,UAAU,CACpBloB,QACAqoG,OACAnnF,OACAonF,oBAED9gF,QAAS,CAAEY,eAAgB,sBAE3B5N,KAAK4L,IAGKooF,EAAW,SAAAjuG,GAAe,IAAZP,EAAYO,EAAZP,MAC1B,OAAOimB,EACLsB,MAAM,CACNM,MAAK,kBAAAxX,OAAoBk2D,mBAAmBvmE,IAC5C8nB,OAAQ,QAERtN,KAAK4L","file":"static/js/main.9f2eb6a5.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\nimport isEqual from 'lodash.isequal'\n\n// deep equal memoization instad reference check\nexport const createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\tisEqual\n)\n\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t(a = [], b = []) => a.length === b.length\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\n\n// can be used outside  components\nexport const selectRelayerConfig = state => {\n\treturn (state || getState()).persist.config.relayer\n}\n\n// - relayer cfg\n// network,\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy, minRecommended }],\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\n// coreAddr,\n// baseIdentityAddr,\n// identityFactoryAddr,\n// registryAddr,\n// daiAddr,\n// marketUrl,\n// identityRecoveryAddr,\n// weeklyFeeAmount,\n// mainToken, // { address, symbol, decimals, standard },\n// advertiserMinGrantAmount\n// relayerAddr\n\nexport const selectFeeTokenWhitelist = createSelector(\n\t[selectRelayerConfig],\n\t({ feeTokenWhitelist }) => {\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokens = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.map(t => t.address)\n\t}\n)\n\nexport const selectConfig = createSelector(\n\t[selectRelayerConfig],\n\trelayerConfig => {\n\t\tconst cfg = { ...relayerConfig }\n\t\treturn cfg\n\t}\n)\n\nexport const selectMainToken = createSelector(\n\t[selectRelayerConfig],\n\t({ mainToken }) => mainToken || {}\n)\n\nexport const selectSaiToken = createSelector(\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\n)\n\nexport const selectMainFeeToken = createSelector(\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\n\t({ mainToken }, feeTokenWhitelist) => {\n\t\treturn feeTokenWhitelist[mainToken.address]\n\t}\n)\n","import { createSelector } from 'reselect'\nimport { createDeepEqualSelector, selectMainToken } from 'selectors'\nimport { bigNumberify, parseUnits } from 'ethers/utils'\n\nconst MIN_PUBLISHER_REVENUE = '30'\n\nexport const selectAccount = state => state.persist.account || {}\nexport const selectChannels = state => state.persist.channels\n\nexport const selectAuth = createSelector(\n\tselectAccount,\n\t({ wallet, identity }) =>\n\t\t!!wallet &&\n\t\t!!wallet.address &&\n\t\t!!wallet.authSig &&\n\t\t!!wallet.authType &&\n\t\t!!identity.address\n)\n\nexport const selectWallet = createDeepEqualSelector(\n\tselectAccount,\n\t({ wallet }) => wallet || {}\n)\n\nexport const selectEmail = createSelector(\n\tselectAccount,\n\t({ email }) => email\n)\n\nexport const selectEmailProvider = createSelector(\n\tselectEmail,\n\temail => (!!email ? email.split('@')[1] : null)\n)\n\nexport const selectAuthSig = createSelector(\n\tselectWallet,\n\t({ authSig }) => authSig\n)\n\nexport const selectWalletAddress = createSelector(\n\tselectWallet,\n\t({ address }) => address\n)\n\nexport const selectAuthType = createSelector(\n\tselectWallet,\n\t({ authType }) => authType\n)\n\nexport const selectAccountIdentity = createSelector(\n\tselectAccount,\n\t({ identity }) => identity || {}\n)\n\nexport const selectAccountIdentityAddr = createSelector(\n\tselectAccountIdentity,\n\t({ address }) => address\n)\n\nexport const selectAccountStats = createSelector(\n\tselectAccount,\n\t({ stats }) => stats || {}\n)\n\nexport const selectAccountSettings = createSelector(\n\tselectAccount,\n\t({ settings }) => settings || {}\n)\n\nexport const selectAccountStatsRaw = createSelector(\n\tselectAccountStats,\n\t({ raw }) => raw || {}\n)\n\nexport const selectAccountStatsFormatted = createSelector(\n\tselectAccountStats,\n\t({ formatted }) => formatted || {}\n)\n\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) =>\n\t\trelayerData &&\n\t\trelayerData.routineAuthorizationsData &&\n\t\trelayerData.routineAuthorizationsData[0]\n\t\t\t? relayerData.routineAuthorizationsData[0]\n\t\t\t: null\n)\n\nexport const selectAccountIdentityDeployData = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) => relayerData.deployData\n)\n\nexport const selectChannelsWithUserBalancesEligible = createSelector(\n\tselectChannels,\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\n)\n\nexport const selectChannelsWithUserBalancesAll = createSelector(\n\tselectChannels,\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\n)\n\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\n)\n\nexport const selectWalletPrivileges = createSelector(\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\n\t(privileges = {}, address) => privileges[address] || 0\n)\n\nexport const selectPublisherMinRevenueReached = createSelector(\n\t[selectAccountStatsRaw, selectMainToken],\n\t({ totalRevenue }, { decimals }) =>\n\t\tbigNumberify(totalRevenue || 0).gt(\n\t\t\tparseUnits(MIN_PUBLISHER_REVENUE, decimals)\n\t\t)\n)\n","import { createSelector } from 'reselect'\n\nexport const selectIdentity = state => state.memory.identity\n\nexport const selectEnsAddresses = state => state.persist.ensAddresses\n\nexport const selectEnsAddressByAddr = createSelector(\n\t[selectEnsAddresses, (_, address) => address],\n\t(ensAddresses, address) => ensAddresses[address] || ''\n)\n","import { createSelector } from 'reselect'\n\nexport const selectLocation = state => state.router.location\n\nexport const selectSearch = createSelector(\n\tselectLocation,\n\t({ search }) => search\n)\n\nexport const selectLocationQuery = createSelector(\n\tselectLocation,\n\t({ query }) => query || {}\n)\n\nexport const selectSearchParams = createSelector(\n\tselectLocation,\n\t({ search }) => new URLSearchParams(search)\n)\n","import { createSelector } from 'reselect'\nimport { selectAccountIdentityAddr } from './accountSelectors'\n\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\n\nexport const selectNavTitle = state => state.memory.nav.navTitle\nexport const selectSide = state => state.memory.nav.side\nexport const selectGlobalUi = state => state.persist.ui.global\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\nexport const selectSelectedItems = state => state.memory.selectedItems\n\nexport const selectSpinners = state => state.memory.spinners\n\nexport const selectIdentityUi = createSelector(\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\n)\n\nexport const selectCompanyData = createSelector(\n\t[selectIdentityUi],\n\t({ companyData }) => companyData || {}\n)\n\nexport const selectSpinnerById = createSelector(\n\t[selectSpinners, (_, id) => id],\n\t(spinners, id) => spinners[id]\n)\n\nexport const selectMultipleSpinnersByIds = createSelector(\n\t[selectSpinners, (_, ids) => ids],\n\t(spinners, ids) => ids.map(id => spinners[id])\n)\n\nexport const selectRegistrationAllowed = createSelector(\n\tselectGlobalUi,\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\n)\n\nexport const selectEasterEggsAllowed = createSelector(\n\tselectGlobalUi,\n\t({ allowEasterEggs }) => allowEasterEggs\n)\n\nexport const selectPrivilegesWarningAccepted = createSelector(\n\tselectIdentityUi,\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\n)\n\nexport const selectHideGettingStarted = createSelector(\n\tselectIdentityUi,\n\t({ hideGettingStarted }) => hideGettingStarted\n)\n\nexport const selectSelectedCampaigns = createSelector(\n\tselectSelectedItems,\n\t({ campaigns }) => campaigns || []\n)\n\nexport const selectLoginDirectSide = createSelector(\n\tselectGlobalUi,\n\t({ goToSide }) => goToSide || ''\n)\n","import { createSelector } from 'reselect'\nimport { translate } from 'services/translations/translations'\nimport { getState } from 'store'\n\nexport const selectLang = state => state.persist.language\n\nexport const selectTranslations = createSelector(\n\t[\n\t\tselectLang,\n\t\t(_, val, opts = {}) => {\n\t\t\treturn { val, opts }\n\t\t},\n\t],\n\t(lang, { val, opts }) => {\n\t\tconst { isProp = false, args = [''], components = [] } = opts\n\t\treturn translate(val, { isProp, args, components }, lang)\n\t}\n)\n\n// Need to useSelector for language in top component where this will be used\n// Now this is don by using Translate Hoc on Root\n// It will work in actions too as the state isg get when they are called and don't need update\nexport const t = (val, opts) => {\n\treturn selectTranslations(getState(), val, opts)\n}\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\n\nexport const selectAnalytics = state => state.persist.analytics\n\nexport const selectAnalyticsData = createSelector(\n\t[selectAnalytics, (_, side) => side],\n\t(analytics, side) => {\n\t\treturn analytics[side] || {}\n\t}\n)\n\nexport const selectAdvancedAnalytics = createSelector(\n\t[selectAnalytics],\n\tanalytics => analytics.advanced || {}\n)\n\nexport const selectAnalyticsTimeframe = createSelector(\n\tselectAnalytics,\n\t({ timeframe }) => {\n\t\treturn timeframe\n\t}\n)\n\nexport const selectCampaignAnalytics = createSelector(\n\t[selectAnalytics],\n\t({ campaigns }) => campaigns || {}\n)\n\nexport const selectDemandAnalytics = createSelector(\n\t[selectAnalytics],\n\t({ demand }) => demand || {}\n)\n\nexport const selectAdvancedAnalyticsByType = createSelector(\n\t[selectAdvancedAnalytics, (_, type) => type],\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\n)\n\nexport const selectPublisherStatsByType = createSelector(\n\t(state, type) => selectAdvancedAnalyticsByType(state, type),\n\tadvancedByType => advancedByType.publisherStats || {}\n)\nexport const selectPublisherTotalImpressions = createSelector(\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\n\t({ reportPublisherToAdUnit }) => {\n\t\tconst totalImpressions = reportPublisherToAdUnit\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: 0\n\n\t\treturn totalImpressions\n\t}\n)\n\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\n\t(state, { type, campaignId } = {}) => [\n\t\tselectAdvancedAnalyticsByType(state, type),\n\t\tcampaignId,\n\t],\n\t([analyticsByType, campaignId]) =>\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\n)\n\nexport const selectCampaignAnalyticsByChannelToAdUnit = createSelector(\n\t(state, { type, campaignId } = {}) => [\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t],\n\t([{ reportChannelToAdUnit }]) => {\n\t\treturn reportChannelToAdUnit || {}\n\t}\n)\n\nexport const selectAnalyticsDataAggr = createSelector(\n\t[selectAnalytics, (_, opts = {}) => opts],\n\t(analytics = {}, { side, eventType, metric, timeframe }) => {\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\n\t\t// NOTE: It was working fine with default initial state but\n\t\t// when eventType CLICK was added if you were logged and had\n\t\t// old analytics the initialState is not applied === boom.\n\n\t\tconst {\n\t\t\t[side]: {\n\t\t\t\t[eventType]: { [metric]: { [timeframe]: { aggr } = {} } = {} } = {},\n\t\t\t} = {},\n\t\t} = analytics\n\n\t\treturn aggr\n\t}\n)\n\nexport function selectCampaignEventsCount(type, campaignId) {\n\treturn Object.values(\n\t\t// TODO: fix this selector w/o using getState\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), {\n\t\t\ttype,\n\t\t\tcampaignId,\n\t\t})\n\t).reduce((a, b) => a + b, 0)\n}\n\nexport const selectTotalImpressions = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalClicks = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalMoney = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\teventPayouts =>\n\t\teventPayouts\n\t\t\t? eventPayouts.reduce(\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: null\n)\n\nexport const selectTotalImpressionsWithPayouts = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\t],\n\t([eventCounts, eventPayouts]) =>\n\t\teventCounts && eventPayouts\n\t\t\t? eventCounts\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc =>\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\n\t\t\t\t\t\t\t\t.value !== null\n\t\t\t\t\t)\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectAverageCPM = createSelector(\n\t[\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalMoney(state, { side, timeframe }),\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\n\t],\n\t(totalMoney, totalImpressions) =>\n\t\ttotalMoney !== null && totalImpressions !== null\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\n\t\t\t: null\n)\n\nconst parseValueByMetric = ({ value, metric }) => {\n\tswitch (metric) {\n\t\tcase 'eventPayouts':\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\n\t\tcase 'eventCounts':\n\t\t\treturn parseInt(value, 10)\n\t\tdefault:\n\t\t\treturn value\n\t}\n}\n\nexport const selectStatsChartData = createSelector(\n\t[\n\t\t(state, { noLastOne, ...rest } = {}) => {\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\n\t\t},\n\t],\n\t({ data = [], noLastOne, metric, ...rest }) => {\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\n\t\treturn aggr.reduce(\n\t\t\t(memo, item) => {\n\t\t\t\tconst { time, value } = item\n\t\t\t\tmemo.labels.push(formatDateTime(time))\n\t\t\t\tmemo.datasets.push(\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\n\t\t\t\t)\n\t\t\t\treturn memo\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [],\n\t\t\t}\n\t\t)\n\t}\n)\n\nexport const selectChartDatapointsImpressions = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t}),\n\t],\n\t([impressions]) => impressions\n)\n\nexport const selectChartDatapointsClicks = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t}),\n\t],\n\t([clicks]) => clicks\n)\n\nexport const selectChartDatapointsPayouts = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t\tnoLastOne: true,\n\t\t}),\n\t],\n\t([payouts]) => payouts\n)\n\nexport const selectChartDatapointsCPM = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\n\t],\n\t([payouts, impressions]) => {\n\t\tconst result = {\n\t\t\tlabels: [],\n\t\t\tdatasets: [],\n\t\t}\n\t\tresult.labels = payouts.labels\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\n\t\t\treturn impressions.datasets[i] !== 0\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\n\t\t\t\t: n\n\t\t})\n\t\treturn result\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectValidations = state => state.memory.validations\n\nexport const selectValidationsById = createSelector(\n\t[selectValidations, (_, id) => id],\n\t(validations, id) => validations[id]\n)\n\nexport const selectMultipleValidationsByIds = createSelector(\n\t[selectValidations, (_, ids) => ids],\n\t(validations, ids) => ids.map(id => validations[id])\n)\n","import { createSelector } from 'reselect'\n\nexport const selectNewTransactions = state => state.memory.newTransactions\n\nexport const selectNewTransactionById = createSelector(\n\t[selectNewTransactions, (_, id) => id],\n\t(txns, id) => txns[id] || {}\n)\n","import {\n\tCampaign as CampaignModel,\n\tAdUnit as AdUnitModel,\n\tAdSlot as AdSlotModel,\n} from 'adex-models'\n\nimport { createSelector } from 'reselect'\n\nexport const selectNewItems = state => state.memory.newItem\n\nexport const selectNewCampaign = createSelector(\n\tselectNewItems,\n\t({ Campaign }) => new CampaignModel(Campaign)\n)\n\nexport const selectNewAdUnit = createSelector(\n\tselectNewItems,\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\n)\n\nexport const selectNewAdSlot = createSelector(\n\tselectNewItems,\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\n)\n","import { createSelector } from 'reselect'\nimport { selectCampaignEventsCount } from 'selectors'\nexport const selectItems = state => state.persist.items\n\nexport const selectItemsByType = createSelector(\n\t[selectItems, (_, itemType) => itemType],\n\t(items, itemType) => items[itemType] || {}\n)\n\nexport const selectItemsArrayByType = createSelector(\n\t[selectItemsByType, (_, itemType) => itemType],\n\t(items = {}) => Object.values(items)\n)\n\nexport const selectCampaigns = createSelector(\n\tstate => selectItemsByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectCampaignById = createSelector(\n\t[selectCampaigns, (_, id) => id],\n\t(campaigns, id) => campaigns[id]\n)\n\nexport const selectCampaignWithAnalyticsById = createSelector(\n\t[selectCampaigns, (_, id) => id],\n\t(campaigns, id) => {\n\t\tconst campaign = { ...(campaigns[id] || {}) }\n\t\tcampaign.clicks = selectCampaignEventsCount('CLICK', id)\n\t\tcampaign.impressions = selectCampaignEventsCount('IMPRESSION', id)\n\t\treturn campaign\n\t}\n)\n\nexport const selectCampaignsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectAdUnits = createSelector(\n\tstate => selectItemsByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdUnitById = createSelector(\n\t[selectAdUnits, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAdUnitsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdSlots = createSelector(\n\tstate => selectItemsByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n","import { createSelector } from 'reselect'\nimport {\n\tselectCampaignsArray,\n\tselectRoutineWithdrawTokens,\n\tselectAdSlotsArray,\n\tselectAdUnits,\n\tcreatArrayOnlyLengthChangeSelector,\n\tselectCampaignAnalyticsByChannelStats,\n\tselectCampaignEventsCount,\n} from 'selectors'\nimport { formatUnits } from 'ethers/utils'\n\nexport const selectCampaignsTableData = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\n\t(campaigns, tokens, side) =>\n\t\tcampaigns.map(item => {\n\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\n\t\t\tconst { id, spec = {}, adUnits = [] } = item\n\n\t\t\tconst firstUnit = adUnits[0] || {}\n\n\t\t\treturn {\n\t\t\t\tmedia: {\n\t\t\t\t\tid,\n\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\n\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\n\t\t\t\t},\n\t\t\t\tstatus: {\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\n\t\t\t\t\toriginalName: item.status.name,\n\t\t\t\t},\n\t\t\t\tdepositAmount: Number(formatUnits(item.depositAmount || '0', decimals)),\n\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\n\t\t\t\timpressions: selectCampaignEventsCount('IMPRESSION', item.id),\n\t\t\t\tclicks: selectCampaignEventsCount('CLICK', item.id),\n\t\t\t\tminPerImpression: {\n\t\t\t\t\tid,\n\t\t\t\t\tminPerImpression:\n\t\t\t\t\t\tNumber(\n\t\t\t\t\t\t\tformatUnits(\n\t\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\n\t\t\t\t\t\t\t\tdecimals\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) * 1000,\n\t\t\t\t},\n\t\t\t\tcreated: item.created,\n\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\n\t\t\t\twithdrawPeriodStart:\n\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\n\t\t\t\tactions: {\n\t\t\t\t\tside: side,\n\t\t\t\t\tid,\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\n\t\t\t\t},\n\t\t\t\tid,\n\t\t\t\treceiptAvailable:\n\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\n\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\n\t\t\t}\n\t\t})\n)\n\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\n\tselectCampaignsTableData,\n\tdata => data\n)\n\nexport const selectCampaignsMaxImpressions = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\n)\n\nexport const selectCampaignsMaxClicks = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\n)\n\nexport const selectCampaignsMaxDeposit = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\n\t(campaigns, tokens) =>\n\t\tMath.max.apply(\n\t\t\tnull,\n\t\t\tcampaigns.map(i => {\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\n\t\t\t})\n\t\t)\n)\n\nexport const selectAdSlotsTableData = createSelector(\n\t[selectAdSlotsArray, (_, side) => side],\n\t(slots, side) =>\n\t\tslots.map(item => {\n\t\t\treturn {\n\t\t\t\tmedia: {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tmediaUrl: item.fallbackUnit ? `ipfs://${item.fallbackUnit}` : '', //TODO: provide fallback image to slot\n\t\t\t\t\tmediaMime: 'image/jpeg',\n\t\t\t\t},\n\t\t\t\ttitle: item.title,\n\t\t\t\ttype: item.type.replace('legacy_', ''),\n\t\t\t\tcreated: item.created,\n\t\t\t\tactions: {\n\t\t\t\t\tto: `/dashboard/${side}/AdSlot/${item.id || item.ipfs}`,\n\t\t\t\t\titem,\n\t\t\t\t},\n\t\t\t}\n\t\t})\n)\n\nexport const selectAdUnitsTableData = createSelector(\n\t[selectAdUnits, (_, { side, items }) => ({ side, items })],\n\t(units, { side, items }) =>\n\t\tObject.values(items || units).map(item => ({\n\t\t\tid: item.id,\n\t\t\tmedia: {\n\t\t\t\tid: item.id,\n\t\t\t\tmediaUrl: item.mediaUrl,\n\t\t\t\tmediaMime: item.mediaMime,\n\t\t\t},\n\t\t\ttitle: item.title || units[item.ipfs].title,\n\t\t\ttype: item.type,\n\t\t\tcreated: item.created,\n\t\t\tactions: {\n\t\t\t\tto: `/dashboard/${side}/AdUnit/${item.id || item.ipfs}`,\n\t\t\t\titem,\n\t\t\t},\n\t\t}))\n)\n\nexport const selectCampaignStatsTableData = createSelector(\n\t(state, campaignId) => {\n\t\treturn {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\t},\n\t({ impressions, clicks }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\n\t\treturn Object.keys(imprStats).map(key => ({\n\t\t\twebsite: key,\n\t\t\timpressions: imprStats[key] || 0,\n\t\t\tctr:\n\t\t\t\t(((clickStats[key] || 0) / (imprStats[key] || 0)) * 100).toFixed(2) ||\n\t\t\t\t0,\n\t\t\tearnings: Number((earnStats[key] || 0).toFixed(2)),\n\t\t\tclicks: clickStats[key] || 0,\n\t\t}))\n\t}\n)\n\nexport const selectCampaignTotalValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\t\t\t\tnewResult.totalClicks += current.clicks\n\t\t\t\tnewResult.totalImpressions += current.impressions\n\t\t\t\tnewResult.totalEarnings += current.earnings\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\n\t\t)\n)\n\nexport const selectCampaignStatsMaxValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\tnewResult.maxEarnings = Math.max(\n\t\t\t\t\tcurrent.earnings,\n\t\t\t\t\tnewResult.maxEarnings\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\n\t\t)\n)\n","import { createSelector } from 'reselect'\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\n\nexport const selectCampaignDoughnutStats = createSelector(\n\t(state, { campaignId, chartColors, maxDataSets }) => {\n\t\tconst analytics = {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\n\t\treturn { ...analytics, chartColors, maxDataSets }\n\t},\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\n\t\t\t.reduce(\n\t\t\t\t(data, key, i) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tif (i < maxDataSets) {\n\t\t\t\t\t\tnewData.labels.push(key)\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\n\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\n\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\n\t\t\t)\n\n\t\tconst data = {\n\t\t\tlabels,\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: impressionsData,\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: clicksData,\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\n\t\treturn data\n\t}\n)\n","import { bigNumberify } from 'ethers/utils'\nimport { t, selectDemandAnalytics, selectMainToken } from 'selectors'\nimport { createSelector } from 'reselect'\nimport { constants } from 'adex-models'\n\nexport const selectSlotTypesSourceWithDemands = createSelector(\n\t[selectDemandAnalytics, selectMainToken],\n\t(demand, { symbol }) => {\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\n\t\t\treturn {\n\t\t\t\tvalue: type,\n\t\t\t\tlabel: type.split('_')[1],\n\t\t\t\tdemand: demand[type],\n\t\t\t}\n\t\t})\n\t\t\t.sort((a, b) => {\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\n\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\n\t\t\t})\n\t\t\t.reduce(\n\t\t\t\t(data, type, index) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tconst source = newData.source\n\t\t\t\t\tconst current = type\n\t\t\t\t\tif (index === 0 && type.demand) {\n\t\t\t\t\t\tnewData.hasPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\n\t\t\t\t\t\tnewData.hasPopularGroup &&\n\t\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\t\t!type.demand\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tif (current.demand) {\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\n\t\t\t\t\t}\n\t\t\t\t\tsource.push(current)\n\n\t\t\t\t\tnewData.source = source\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\n\t\t\t)\n\t\treturn source\n\t}\n)\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n","export * from './selectors'\nexport * from './configSelectors'\nexport * from './accountSelectors'\nexport * from './identitySelectors'\nexport * from './locationSelectors'\nexport * from './uiSelectors'\nexport * from './translationsSelectors'\nexport * from './analyticsSelectors'\nexport * from './validationsSelectors'\nexport * from './newTransactionSelectors'\nexport * from './newItemsSelectors'\nexport * from './itemsSelectors'\nexport * from './tablesDataSelectors'\nexport * from './chartsSelectors'\nexport * from './dataSelectors'\nexport * from './gettingStartedSelectors'\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { constants } from 'adex-models'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport { bigNumberify, formatEther } from 'ethers/utils'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectRoutineWithdrawTokens,\n\tselectFeeTokenWhitelist,\n} from 'selectors'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\n\tif (token.address === mainToken.address) {\n\t\treturn balance\n\t}\n\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\n\n\t// approve + swap txns\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\n\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\n\treturn isAvailable ? balance : bigNumberify(0)\n}\n\nexport const getTotalAccountRevenue = async ({ all }) => {\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst totalRevenue = await Object.values(all).reduce(\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\n\t\t\tconst revenue = await revenuePr\n\n\t\t\tconst token = withdrawTokens[depositAsset]\n\n\t\t\tconst hasMinBalance = bigNumberify(balance).gt(\n\t\t\t\tbigNumberify(token.minFinal)\n\t\t\t)\n\n\t\t\tconst balanceMainToken = hasMinBalance\n\t\t\t\t? await tokenInMainTokenValue({\n\t\t\t\t\t\ttoken,\n\t\t\t\t\t\tbalance,\n\t\t\t\t  })\n\t\t\t\t: bigNumberify(0)\n\n\t\t\treturn revenue.add(balanceMainToken)\n\t\t},\n\t\tPromise.resolve(bigNumberify(0))\n\t)\n\n\treturn totalRevenue\n}\n\nexport const getWithdrawTokensBalances = async ({\n\tauthType,\n\taddress,\n\tgetFullBalances,\n}) => {\n\tconst { getToken } = await getEthers(authType)\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\n\t\tconst tokenContract = getToken(token)\n\n\t\tconst balance = await tokenContract.balanceOf(address)\n\n\t\tconst available = getFullBalances\n\t\t\t? balance\n\t\t\t: tokenAvailableBalance({\n\t\t\t\t\ttoken,\n\t\t\t\t\tmainToken,\n\t\t\t\t\tbalance,\n\t\t\t  })\n\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: available,\n\t\t})\n\n\t\treturn { token, balance: available, balanceMainToken }\n\t})\n\n\tconst balances = await Promise.all(balancesCalls)\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\n\t\t(data, balanceData) => {\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\n\t\t\t\tbalanceData.balanceMainToken\n\t\t\t)\n\n\t\t\tif (balanceData.token.address === mainToken.address) {\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\n\t\t\t}\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\n\t\t\tmainTokenBalance: bigNumberify(0),\n\t\t}\n\t)\n\n\treturn {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t\ttotalBalanceInMainToken,\n\t}\n}\n\nexport async function getAddressBalances({\n\taddress,\n\tauthType,\n\tgetFullBalances,\n}) {\n\tconst { provider } = await getEthers(authType)\n\n\tconst calls = [\n\t\tprovider.getBalance(address.address),\n\t\tgetWithdrawTokensBalances({\n\t\t\tauthType,\n\t\t\taddress: address.address,\n\t\t\tgetFullBalances,\n\t\t}),\n\t]\n\n\tconst balances = await Promise.all(calls)\n\tconst formatted = {\n\t\taddress: address.address,\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\n\t\tbalanceEth: formatEther(balances[0].toString()),\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\n\t\t\treturn {\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\n\t\t\t\tsymbol: token.symbol,\n\t\t\t}\n\t\t}),\n\t}\n\n\treturn formatted\n}\n\nexport async function getAccountStats({\n\taccount,\n\toutstandingBalanceMainToken = {\n\t\ttotal: bigNumberify('0'),\n\t\tavailable: bigNumberify('0'),\n\t},\n\tall,\n}) {\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { address } = identity\n\tconst { getIdentity } = await getEthers(authType)\n\tconst { decimals } = selectMainToken()\n\n\tconst { status = {} } = identity\n\tconst identityContract = getIdentity({ address })\n\tlet privilegesAction\n\ttry {\n\t\tawait identityContract.deployed()\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\n\t} catch {\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\n\t}\n\n\tconst calls = [\n\t\tgetWithdrawTokensBalances({ authType, address }),\n\t\tprivilegesAction,\n\t\tgetTotalAccountRevenue({ all }),\n\t]\n\n\tconst [\n\t\tidentityWithdrawTokensBalancesBalances = {},\n\t\twalletPrivileges,\n\t\ttotalRevenue,\n\t] = await Promise.all(\n\t\tcalls.map(c =>\n\t\t\tc\n\t\t\t\t.then(res => res)\n\t\t\t\t.catch(e => {\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t)\n\t)\n\n\tconst identityBalanceMainToken =\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\n\n\t// BigNumber values for balances\n\tconst raw = {\n\t\tidentityWithdrawTokensBalancesBalances,\n\t\twalletPrivileges,\n\t\tidentityBalanceMainToken,\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.total\n\t\t),\n\t\ttotalRevenue,\n\t}\n\n\tconst formatted = {\n\t\twalletAddress: wallet.address,\n\t\twalletAuthType: wallet.authType,\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\n\t\tidentityAddress: identity.address,\n\t\tidentityBalanceMainToken: formatTokenAmount(\n\t\t\tidentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalRevenue: formatTokenAmount(\n\t\t\traw.totalRevenue || '0',\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t}\n\n\treturn {\n\t\traw,\n\t\tformatted,\n\t}\n}\n\n// NOTE: currently working because DAI and SAI has the same price and decimals\n// We should use getOutstandingBalanceMainToken if changed\nexport async function getOutstandingBalance({ withBalance }) {\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable } = ch\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstanding)\n\t\tcurrent.available = current.available.add(\n\t\t\tbigNumberify(outstandingAvailable)\n\t\t)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\n\tconst tokens = selectRoutineWithdrawTokens()\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\n\t\tconst { depositAsset } = channel\n\t\tconst token = tokens[depositAsset]\n\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: outstandingAvailable,\n\t\t})\n\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstandingMT)\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getAllValidatorsAuthForIdentity({\n\twithBalance,\n\taccount,\n}) {\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\n\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\n\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\tconst keys = Object.keys(allValidators)\n\n\tconst tokenCalls = keys.map(async key => {\n\t\tif (allValidators[key]) {\n\t\t\treturn allValidators[key]\n\t\t} else {\n\t\t\tconst token = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: key,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\treturn token\n\t\t}\n\t})\n\n\tconst allTokens = await Promise.all(tokenCalls)\n\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[key]: allTokens[index],\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\treturn validatorsAuth\n}\n\nconst saiDaiConversion = async ({ token, balance }) => balance\n\nconst valueInMainTokenConversions = {\n\t// SAI\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\n\t\t// DAI\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\n\t},\n\t// DAI\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\n\t\t// SAI\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\n\t},\n}\n\nexport async function tokenInMainTokenValue({ token, balance }) {\n\tconst { address } = selectMainToken()\n\n\tif (address === token.address) {\n\t\treturn balance\n\t}\n\n\tconst valueInMainToken = await valueInMainTokenConversions[\n\t\taddress.toLowerCase()\n\t][token.address.toLowerCase()]({\n\t\ttoken,\n\t\tbalance,\n\t})\n\n\treturn valueInMainToken\n}\n","import { Signer, utils } from 'ethers'\nimport TrezorConnect from 'trezor-connect'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\n\nTrezorConnect.manifest({\n\temail: 'contactus@adex.network',\n\tappUrl: 'http://adex.network',\n})\n\nexport default class TrezorSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\n\t\tconst bundle = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tbundle.push({\n\t\t\t\tpath: this.path + `/${index}`,\n\t\t\t\tshowOnTrezor: false,\n\t\t\t})\n\t\t}\n\n\t\treturn { bundle }\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\n\t\t\tthis.getAddsParams({ from, to })\n\t\t)\n\n\t\treturn { success, payload }\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\n\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\n\t\t\tpath: this.path,\n\t\t\ttransaction: txProps,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst signature = {\n\t\t\t\tr: payload.r,\n\t\t\t\ts: payload.s,\n\t\t\t\tv: parseInt(payload.v),\n\t\t\t}\n\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\t\treturn txSigned\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\n\t\t\tpath: this.path,\n\t\t\tmessage: message,\n\t\t\thex: !!opts.hex,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst res = {\n\t\t\t\t/*\n\t\t\t\t * NOTE: SignatureTypes.GETH\n\t\t\t\t * Current TrezorConnect window does not\n\t\t\t\t * accept device with old firmware\n\t\t\t\t */\n\t\t\t\tsignature: '0x' + payload.signature,\n\t\t\t\thash: message,\n\t\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\t\taddress: payload.address,\n\t\t\t}\n\n\t\t\treturn res\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tconnect = provider => {\n\t\treturn new TrezorSigner(provider, { path: this.path })\n\t}\n}\n","import { Signer, utils, Wallet } from 'ethers'\nimport { getLocalWallet } from 'services/wallet/wallet'\nimport { constants } from 'adex-models'\n\nexport default class LocalSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\n\t\tthis._provider = provider\n\t\tthis._opts = opts\n\t}\n\n\tgetWallet = async () => {\n\t\tif (this._wallet) {\n\t\t\treturn this._wallet\n\t\t} else {\n\t\t\tconst { email, password, authType } = this._opts\n\t\t\tconst walletData = await getLocalWallet({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\n\t\t\treturn this._wallet\n\t\t}\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn await this.getWallet().address\n\t}\n\n\tsignTx = async params => {\n\t\tconst signetTx = await this.getWallet().sign(params)\n\t\treturn signetTx\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst wallet = await this.getWallet()\n\n\t\tconst signature = await wallet.signMessage(message)\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: wallet.address,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LocalSigner(provider, {\n\t\t\temail: this.email,\n\t\t\tpassword: this.password,\n\t\t})\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport { constants } from 'adex-models'\n\nexport default class MetaMaskSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._signer = provider.getSigner()\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._signer.getAddress()\n\t}\n\n\tsendTransaction = async params => {\n\t\treturn this._signer.sendTransaction(params)\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._signer.signMessage(message)\n\t\t// TODO: support EIP712\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: await this._signer.getAddress(),\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new MetaMaskSigner(provider)\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { utils } from 'ethers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\nimport LocalSigner from 'services/smart-contracts/signers/local'\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\n\nexport async function getSigner({ wallet, provider }) {\n\t// TODO: Maybe get provider here?\n\tconst { authType, path, email, password } = wallet\n\n\tif (authType === AUTH_TYPES.METAMASK.name) {\n\t\tconst signer = new MetaMaskSigner(provider)\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.LEDGER.name) {\n\t\tconst signer = new LedgerSigner(provider, { path })\n\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.TREZOR.name) {\n\t\tconst signer = new TrezorSigner(provider, { path })\n\t\treturn signer\n\t}\n\tif (\n\t\tauthType === AUTH_TYPES.GRANT.name ||\n\t\tauthType === AUTH_TYPES.QUICK.name\n\t) {\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\n\n\t\treturn signer\n\t}\n\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\n}\n\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\nexport const getTypedDataHash = ({ typedData }) => {\n\tconst values = typedData.map(entry => {\n\t\treturn typeof entry.value === 'string'\n\t\t\t? utils.toUtf8Bytes(entry.value)\n\t\t\t: utils.hexlify(entry.value)\n\t})\n\tconst valuesHash = utils.keccak256.apply(null, values)\n\tconst schema = typedData.map(entry => {\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\n\t})\n\n\tconst schemaHash = utils.keccak256.apply(null, schema)\n\tconst hash = utils.solidityKeccak256(\n\t\t['bytes32', 'bytes32'],\n\t\t[schemaHash, valuesHash]\n\t)\n\n\treturn hash\n}\n\nexport async function getAuthSig({ wallet }) {\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst authToken = Math.floor(\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\n\t).toString()\n\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\n\tconst hash = getTypedDataHash({ typedData })\n\tconst signature = await signer.signMessage(hash, { hex: true })\n\n\treturn {\n\t\t...signature,\n\t\tauthToken,\n\t\thash,\n\t}\n}\n\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\n\tconst { provider } = await getEthers(authType)\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\n\n\treturn Promise.all(receipts)\n}\n\nexport async function signTx({ tx, signer }) {\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\n\t\thex: true,\n\t})\n\tconst signature = splitSig(sig.signature)\n\treturn signature\n}\n\nexport async function getMultipleTxSignatures({ txns, signer }) {\n\tconst signatures = []\n\tfor (const tx of txns) {\n\t\tsignatures.push(await signTx({ tx, signer }))\n\t}\n\n\treturn signatures\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport ewt from './ewt'\n\nconst BEARER_PREFIX = 'Bearer '\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\n\nconst getValidatorRequester = ({ baseUrl }) => {\n\treturn new Requester({ baseUrl })\n}\n\nconst getRequesters = ({ campaign }) => {\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\n\tconst followerRequester = getValidatorRequester({\n\t\tbaseUrl: follower.url,\n\t})\n\n\treturn {\n\t\tleader: { requester: leaderRequester, validator: leader },\n\t\tfollower: { requester: followerRequester, validator: follower },\n\t}\n}\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\n\tconst { identity, wallet } = account\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\n\tif (existingAuth) {\n\t\treturn existingAuth\n\t}\n\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst payload = {\n\t\tid: validatorId,\n\t\tidentity: identity.address,\n\t\tera: Math.floor(Date.now() / 60000),\n\t}\n\n\tconst token = ewt.sign(signer, payload)\n\n\treturn token\n}\n\nconst sendMessage = async ({ campaign, options, account }) => {\n\tconst { follower, leader } = getRequesters({ campaign })\n\n\tconst followerAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: follower.validator.id,\n\t\taccount,\n\t})\n\tconst leaderAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: leader.validator.id,\n\t\taccount,\n\t})\n\tconst followerResult = await follower.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\tconst leaderResult = await leader.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn {\n\t\tresults: {\n\t\t\tfollowerResult,\n\t\t\tleaderResult,\n\t\t},\n\t\tauthTokens: {\n\t\t\t[follower.id]: followerAuthToken,\n\t\t\t[leader.id]: leaderAuthToken,\n\t\t},\n\t}\n}\n\nexport const lastApprovedState = ({ campaign }) => {\n\tconst { leader } = getRequesters({ campaign })\n\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `channel/${campaign.id}/last-approved`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaign = ({ campaign, account }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const identityAnalytics = async ({\n\tleaderAuth,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n\tside,\n\tsegmentByChannel,\n}) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/for-${side}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: {\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tlimit,\n\t\t\t\tsegmentByChannel,\n\t\t\t\teventType,\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn { aggregates, metric }\n}\n\nexport const identityCampaignsAnalytics = async ({ leaderAuth, eventType }) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/advanced`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const campaignAnalytics = ({\n\tcampaign,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n}) => {\n\tconst { leader } = getRequesters({ campaign })\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${campaign.id}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { ethers, constants } from 'ethers'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { isEthAddress } from 'helpers/validators'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\n\nexport const isEthAddressERC20 = async (addr = '', authType) => {\n\ttry {\n\t\tif (isEthAddress(addr)) {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\t\tawait Promise.all([\n\t\t\t\tcontract.totalSupply(),\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\n\t\t\t])\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getERC20Balance = async ({\n\taddr = '',\n\tbalanceFor = '',\n\tauthType,\n}) => {\n\ttry {\n\t\tconst { provider } = await getEthers(authType)\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\tconst balance = await contract.balanceOf(balanceFor)\n\n\t\treturn balance\n\t} catch (error) {\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\n\t\treturn null\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\n\nexport const isConnectionLost = async authType => {\n\ttry {\n\t\t// When we remove Metamask\n\t\t// if in 5 sec doesn't connect will\n\t\t// return that connection is lost\n\t\tconst eth = await Promise.race([\n\t\t\tgetEthers(authType),\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treject('Timed out')\n\t\t\t\t}, 5000)\n\t\t\t}),\n\t\t])\n\t\tawait eth.provider.getBlockNumber()\n\t\treturn false\n\t} catch (error) {\n\t\treturn true\n\t}\n}\n","import { utils } from 'ethers'\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\nimport { getEthers } from 'services/smart-contracts/ethers'\n/*eslint-disable */\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\n/*eslint-enable */\n\nexport const validUrl = url => {\n\turl = url || ''\n\tconst isValid = urlRegex.test(url)\n\treturn isValid\n}\n\nexport const validateNumber = numberStr => {\n\tnumberStr = numberStr || ''\n\tconst isValid =\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\n\treturn isValid\n}\n\n// > 0\nexport const validPositiveInt = intStr => {\n\tintStr = intStr || ''\n\tconst isValid = onlyDigitsRegex.test(intStr)\n\treturn isValid\n}\n\nexport const validName = name => {\n\tlet msg = ''\n\tconst errMsgArgs = []\n\tif (!name) {\n\t\tmsg = 'ERR_REQUIRED_FIELD'\n\t} else if (name.length < 4) {\n\t\tmsg = 'ERR_MIN_LENGTH'\n\t\terrMsgArgs.push(4)\n\t} else if (name.length > 128) {\n\t\tmsg = 'ERR_MAX_LENGTH'\n\t\terrMsgArgs.push(128)\n\t}\n\n\treturn {\n\t\tmsg,\n\t\terrMsgArgs,\n\t}\n}\n\nexport const validPassword = password => {\n\tpassword = password || ''\n\tconst isValid = passwordRegex.test(password)\n\treturn isValid\n}\n\nexport const isEthAddress = (addr = '') => {\n\ttry {\n\t\tutils.getAddress(addr)\n\t} catch (e) {\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const isEthAddressZero = (addr = '') => {\n\treturn isEthAddress(addr)\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\n\t\t: false\n}\n\nexport const validEthAddress = async ({\n\taddr = '',\n\tnonZeroAddr,\n\tnonERC20,\n\tauthType,\n}) => {\n\tlet msg = ''\n\ttry {\n\t\tconst ethAddressZero = isEthAddressZero(addr)\n\t\tconst notEthAddress = !isEthAddress(addr)\n\t\tif (notEthAddress) {\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\n\t\t} else {\n\t\t\tif (nonZeroAddr && ethAddressZero) {\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\n\t\t\t} else {\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\n\t\t\t\tif (connectionLost) {\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t\t\t\t} else {\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (error === 'Non-Ethereum browser detected.')\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t}\n\treturn { msg }\n}\n\nexport const freeAdExENS = async ({ ens = '', authType }) => {\n\tlet msg = ''\n\ttry {\n\t\tif (ens === '') {\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\n\t\t} else {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst ensAddress = await provider.resolveName(\n\t\t\t\t`${ens}.${process.env.REVERSE_REGISTRAR_PARENT}`\n\t\t\t)\n\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\n\t\t}\n\t} catch (error) {\n\t\tif (error.code === 'INVALID_ARGUMENT') {\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\n\t\t} else {\n\t\t\tmsg = 'ERR_ENS_CHECK'\n\t\t}\n\t}\n\treturn { msg }\n}\n","export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n","module.exports = __webpack_public_path__ + \"static/media/GS-bonus-ic.274db134.png\";","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Button from '@material-ui/core/Button'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport IconButton from '@material-ui/core/IconButton'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst variantIcon = {\n\taccept: CheckCircleIcon,\n\tsuccess: CheckCircleIcon,\n\twarning: WarningIcon,\n\tcancel: ErrorIcon,\n\terror: ErrorIcon,\n\tinfo: InfoIcon,\n}\n\nexport class Toast extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttoast: {},\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tlet toast = this.state.toast\n\t\tlet nextToast = nextProps.toasts[0]\n\n\t\tif (!nextToast) {\n\t\t\tthis.setState({ active: false, toast: {} })\n\t\t\treturn\n\t\t}\n\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\n\n\t\tif (isNewToast) {\n\t\t\tthis.setState({ active: true, toast: nextToast })\n\t\t}\n\t}\n\n\tclose = id => {\n\t\tthis.setState({ active: false })\n\t\tthis.props.actions.removeToast(id)\n\t}\n\n\trender() {\n\t\tconst { toast } = this.state\n\t\tconst { classes } = this.props\n\t\tconst Icon = variantIcon[toast.type]\n\n\t\tif (!toast || !Icon) return null\n\n\t\tconst anchorOrigin = toast.anchorOrigin || {\n\t\t\tvertical: 'bottom',\n\t\t\thorizontal: 'center',\n\t\t}\n\n\t\tif (toast.top) {\n\t\t\tanchorOrigin.horizontal = 'center'\n\t\t\tanchorOrigin.vertical = 'top'\n\t\t}\n\n\t\treturn (\n\t\t\t<Snackbar\n\t\t\t\topen={this.state.active}\n\t\t\t\tautoHideDuration={toast.timeout || 0}\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\tanchorOrigin={anchorOrigin}\n\t\t\t>\n\t\t\t\t<SnackbarContent\n\t\t\t\t\taria-describedby='client-snackbar'\n\t\t\t\t\tmessage={\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\taction={[\n\t\t\t\t\t\ttoast.action && toast.action,\n\t\t\t\t\t\t!toast.unclosable && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tkey='close'\n\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\tclassName={classes.close}\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t),\n\t\t\t\t\t]}\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\n\t\t\t\t\t\t[classes.top]: !!toast.top,\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</Snackbar>\n\t\t)\n\t}\n}\n\nToast.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\ttoasts: PropTypes.array.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// let persist = state.persist\n\tlet memory = state.memory\n\treturn {\n\t\ttoasts: memory.toasts || [],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withStyles(styles)(Toast))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsnackbar: {\n\t\t\tborder: '3px solid',\n\t\t\tborderRadius: 0,\n\t\t\tbackgroundColor: '#222',\n\t\t\t'&.active': {\n\t\t\t\ttransform: 'translateY(-20%)',\n\t\t\t},\n\t\t\tmargin: spacing,\n\t\t},\n\t\twarning: {\n\t\t\tborderColor: '#FFAB00',\n\t\t\tcolor: '#FFAB00',\n\t\t},\n\t\tcancel: {\n\t\t\tborderColor: '#FF5722',\n\t\t\tcolor: '#FF5722',\n\t\t},\n\t\taccept: {\n\t\t\tborderColor: '#00E676',\n\t\t\tcolor: '#00E676',\n\t\t},\n\t\ticon: {\n\t\t\tfontSize: 20,\n\t\t},\n\t\ticonVariant: {\n\t\t\topacity: 0.9,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tmessage: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\ttop: {\n\t\t\twidth: '98vw',\n\t\t\tmaxWidth: '98vw',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { translate } from 'services/translations/translations'\nimport { selectLang } from 'selectors'\n\nexport default function Translate(Decorated) {\n\tfunction Translated(props) {\n\t\tconst language = useSelector(selectLang)\n\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\n\t\t\tconst translation = translate(val, { isProp, args }, language)\n\n\t\t\treturn translation\n\t\t}\n\n\t\treturn <Decorated {...props} t={t} />\n\t}\n\n\treturn Translated\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport Button from '@material-ui/core/Button'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Translate from 'components/translate/Translate'\n\nexport class Confirm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.cancel = this.cancel.bind(this)\n\t\tthis.confirm = this.confirm.bind(this)\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({ active: nextProps.visible })\n\t}\n\n\tconfirm() {\n\t\tif (typeof this.props.confirm === 'function') {\n\t\t\tthis.props.confirm()\n\t\t}\n\t\tthis.setState({ active: false })\n\t}\n\n\tcancel() {\n\t\tif (typeof this.props.cancel === 'function') {\n\t\t\tthis.props.cancel()\n\t\t}\n\n\t\tthis.setState({ active: false })\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\ttext,\n\t\t\tchildren,\n\t\t\tcancelLabel,\n\t\t\tconfirmLabel,\n\t\t\tt,\n\t\t\tnoActionBtns,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<Dialog open={this.state.active}>\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t{children}\n\t\t\t\t</DialogContent>\n\t\t\t\t{!noActionBtns && (\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t)}\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nConfirm.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tcancelLabel: PropTypes.string,\n\tconfirmLabel: PropTypes.string,\n\ttitle: PropTypes.string.isRequired,\n\ttext: PropTypes.string,\n\tconfirm: PropTypes.func,\n\tcancel: PropTypes.func,\n\tvisible: PropTypes.bool,\n\tcalledOn: PropTypes.number,\n\tnoActionBtns: PropTypes.bool,\n}\n\nfunction mapStateToProps(state) {\n\tstate = state.memory\n\treturn {\n\t\tcancelLabel: state.confirm.data.cancelLabel,\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\n\t\ttitle: state.confirm.data.title || '',\n\t\ttext: state.confirm.data.text || '',\n\t\tconfirm: state.confirm.onConfirm,\n\t\tcancel: state.confirm.onCancel,\n\t\tvisible: state.confirm.active || false,\n\t\tcalledOn: state.confirm.calledOn,\n\t\tnoActionBtns: state.confirm.noActionBtns,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(Confirm))\n","import React, { forwardRef } from 'react'\n// import PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nexport const withReactRouterLink = Component => {\n\tclass Decorated extends React.Component {\n\t\tresolveToLocation = to => {\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\n\t\t\tconst href = this.props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\thandleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = this.props\n\n\t\t\tif (onClick && typeof onClick === 'function') {\n\t\t\t\tawait onClick()\n\t\t\t\tthis.props.history.push(to)\n\t\t\t} else {\n\t\t\t\tthis.props.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\t// TODO: check if it works without infinite loops\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//   // const { to } = this.props;\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\n\t\t// }\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tforwardedRef,\n\t\t\t\tto,\n\t\t\t\tmatch,\n\t\t\t\tlocation,\n\t\t\t\thistory,\n\t\t\t\tstaticContext,\n\t\t\t\tonClick,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst toLocation = this.resolveToLocation(to)\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\tref={forwardedRef}\n\t\t\t\t\t{...rest}\n\t\t\t\t\thref={toLocation}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n","import React from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon'\nimport pure from 'recompose/pure'\n\nexport default (path, displayName, viewBox = '') => {\n\tlet Icon = props => (\n\t\t<SvgIcon viewBox={viewBox} {...props}>\n\t\t\t{path}\n\t\t</SvgIcon>\n\t)\n\n\tIcon.displayName = displayName\n\tIcon = pure(Icon)\n\tIcon.muiName = 'SvgIcon'\n\n\treturn Icon\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\n\t</g>,\n\n\t'Campaign',\n\t'0 0 26.12 17.37'\n)\n","import React from 'react'\nimport Link from '@material-ui/core/Link'\nimport { OpenInNew } from '@material-ui/icons'\n\nconst getUrl = url => {\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\n\tif (url) {\n\t\turl = '//' + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({\n\thref,\n\ttarget,\n\tchildren,\n\tlabel,\n\tunderline,\n\texternalIcon,\n\tcolor,\n\t...rest\n}) => {\n\tconst isExternal = target && target === '_blank'\n\tconst url = isExternal ? getUrl(href) : href\n\n\tconst linkProps = {\n\t\tunderline: underline || 'none',\n\t\tcolor: color || 'inherit',\n\t\tdraggable: 'false',\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\n\t\ttarget,\n\t\thref: url,\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\n\t\t...rest,\n\t}\n\treturn (\n\t\t<Link {...linkProps}>\n\t\t\t{children || label}{' '}\n\t\t\t{externalIcon && <OpenInNew style={{ fontSize: 'small' }} />}\n\t\t</Link>\n\t)\n}\n\nexport const ExternalAnchor = ({ href, children, style }) => (\n\t<Anchor\n\t\tstyle={{ fontWeight: 'bold' }}\n\t\tunderline='always'\n\t\ttarget='_blank'\n\t\tcolor='primary'\n\t\texternalIcon\n\t\thref={href}\n\t>\n\t\t{children}\n\t</Anchor>\n)\n\nexport default Anchor\n","const drawerWidth = 250\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t\tzIndex: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\tdisplay: 'flex',\n\t\t\tminHeight: '100vh',\n\t\t\twidth: '100%',\n\t\t},\n\t\tappBar: {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 'auto',\n\t\t\tposition: 'fixed',\n\t\t\t// marginLeft: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\n\t\t\t\tleft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'row',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t},\n\n\t\tflexRow: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexBasis: '100%',\n\t\t\tpaddingTop: theme.spacing(1),\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t'&:last-child': {\n\t\t\t\tpaddingRight: 240,\n\t\t\t\tpaddingTop: theme.spacing(1),\n\t\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t\tpaddingLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttoolbarControls: {\n\t\t\tjustifyContent: 'flex-end',\n\t\t},\n\t\ttoolbarTitle: {\n\t\t\tjustifyContent: 'flex-start',\n\t\t},\n\t\tnavIconHide: {\n\t\t\tmarginRight: 10,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexFlow: 'wrap',\n\t\t\theight: 114,\n\t\t\t...theme.mixins.toolbar,\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tposition: 'fixed',\n\t\t\t},\n\t\t\tbackgroundColor: '#fff',\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tpadding: theme.spacing(2),\n\t\t\tpaddingTop: theme.spacing(4),\n\t\t\toverflow: 'auto',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmarginLeft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: 1600,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\ticon: {\n\t\t\theight: 36,\n\t\t\twidth: 'auto',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport { t } from 'selectors'\n\nconst sideIndex = {\n\tadvertiser: 0,\n\tpublisher: 1,\n\t'0': 'advertiser',\n\t'1': 'publisher',\n}\n\nconst handleChange = (ev, index) => {\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\n}\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.light\n\t\t\t: theme.palette.accentTwo.light\n\treturn {\n\t\t// TODO: keep it everywhere in case of components update\n\t\troot: {\n\t\t\tminWidth: 30,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tselected: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: activeColor,\n\t\t},\n\t}\n})\n\nconst SideSwitch = ({ side, className }) => {\n\tconst classes = useStyles({ side })\n\treturn (\n\t\t<div className={className}>\n\t\t\t<Box bgcolor='background.paper' boxShadow={2}>\n\t\t\t\t<Tabs\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tvalue={sideIndex[side]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t\tvariant='fullWidth'\n\t\t\t\t\taria-label='side select'\n\t\t\t\t>\n\t\t\t\t\t<Tab classes={classes} label={t('ADVERTISER')} />\n\t\t\t\t\t<Tab classes={classes} label={t('PUBLISHER')} />\n\t\t\t\t</Tabs>\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default SideSwitch\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\n\nexport const InputLoading = ({ className, color = 'primary' }) => (\n\t<LinearProgress className={className} color={color} />\n)\n\nexport const LoadingSection = ({ loading, children }) => (\n\t<Box display='flex' flex='1' alignItems='center'>\n\t\t<Box>{children}</Box>\n\t\t<Box ml={2} mr={2}>\n\t\t\t{loading && <CircularProgress />}\n\t\t</Box>\n\t</Box>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\nimport classnames from 'classnames'\nimport packageJson from './../../../../package.json'\nimport Anchor from 'components/common/anchor/anchor'\nimport { styles } from './styles'\nimport SideSwitch from './SideSwitch'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport DashboardIcon from '@material-ui/icons/Dashboard'\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport Box from '@material-ui/core/Box'\nimport ListIcon from '@material-ui/icons/List'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { LoadingSection } from 'components/common/spinners'\nimport {\n\tt,\n\tselectSide,\n\tselectLocation,\n\tselectAccountIdentityAddr,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst RRListItem = withReactRouterLink(ListItem)\nconst { ETH_SCAN_ADDR_HOST } = process.env\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.contrastText\n\t\t\t: theme.palette.accentTwo.contrastText\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\tconst hoverActiveBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.light\n\t\t\t: theme.palette.accentTwo.light\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tnavList: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 80,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: 'solid',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&:focus': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\tbackgroundColor: hoverActiveBgColor,\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t'&:hover': {\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\n\t\t},\n\t}\n})\n\nconst useCommonStyles = makeStyles(styles)\n\nfunction SideNav(props) {\n\tconst side = useSelector(selectSide)\n\tconst identity = useSelector(selectAccountIdentityAddr)\n\tconst classes = useStyles({ side })\n\tconst commonClasses = useCommonStyles()\n\tconst routerLocation = useSelector(selectLocation)\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// TODO: test location\n\tconst location = routerLocation.pathname.split('/')[3]\n\tconst isAdvertiser = side === 'advertiser'\n\tconst items = isAdvertiser ? 'units' : 'slots'\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\n\t\t<div className={classes.navigation}>\n\t\t\t<List\n\t\t\t\tclasses={{\n\t\t\t\t\tpadding: classes.sntPadding,\n\t\t\t\t\troot: classes.navListRoot,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.navList}\n\t\t\t\tcomponent='nav'\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tbgcolor='background.paper'\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tcommonClasses.toolbar,\n\t\t\t\t\t\t\tclasses.sideNavToolbar\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<AdexIconTxt className={commonClasses.icon} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t<Typography variant='h6' component='div' color='textPrimary'>\n\t\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' display='block' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t</div>\n\t\t\t</List>\n\t\t\t<div className={classes.version}>\n\t\t\t\t<div className={classes.adxLink}>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx Network O\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t\t<small> / </small>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdExCore\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default SideNav\n","import React, { useState } from 'react'\nimport Menu from '@material-ui/core/Menu'\nimport Button from '@material-ui/core/Button'\n\nconst ImgIcon = ({ src }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={src}\n\t\t\theight={36}\n\t\t\twidth='auto'\n\t\t\talt='logo'\n\t\t\tstyle={{ marginRight: 5 }}\n\t\t/>\n\t)\n}\n\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\n\tconst [active, setActive] = useState(false)\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\tconst open = Boolean(anchorEl)\n\n\tconst handleButtonClick = () => {\n\t\tsetActive(!active)\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst handleMenu = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tstyle={btnStyle}\n\t\t\t\tonClick={handleMenu}\n\t\t\t\taria-owns={id}\n\t\t\t\taria-haspopup='true'\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid={id}\n\t\t\t\topen={open}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t// anchorOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\t// transformOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\tonClick={handleButtonClick}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n\nexport default ButtonMenu\n","import { AUTH_TYPES } from 'constants/misc'\nimport metamaskLogo from 'resources/metamask-logo.png'\nimport trezorLogo from 'resources/trezor-logo-h.png'\nimport ledgerLogo from 'resources/ledger_logo_header.png'\nimport demoLogo from 'resources/demo-logo.png'\n\nexport const getAuthLogo = authType => {\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\treturn metamaskLogo\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\treturn trezorLogo\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\treturn ledgerLogo\n\t\tcase AUTH_TYPES.DEMO.name:\n\t\t\treturn demoLogo\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\nimport Translate from 'components/translate/Translate'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\n// import ChangeLang from 'components/translate/ChangeLang'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport { logOut } from 'services/store-data/auth'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport classnames from 'classnames'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { selectNavTitle, selectAccount } from 'selectors'\nimport { styles } from './styles'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRMenuItem = withReactRouterLink(MenuItem)\nconst useStyles = makeStyles(styles)\n\nfunction TopNav({ handleDrawerToggle, side, t }) {\n\tconst classes = useStyles()\n\tconst navTitle = useSelector(selectNavTitle)\n\tconst account = useSelector(selectAccount)\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\n\tconst btnMenuLabel =\n\t\taccount.wallet.authType === 'demo'\n\t\t\t? t('DEMO_MODE')\n\t\t\t: account.email ||\n\t\t\t  formatAddress(account.wallet.address) ||\n\t\t\t  t('NOT_LOGGED')\n\n\treturn (\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t{/* <AdexIconTxt\n              className={classes.icon}\n            /> */}\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\n\t\t\t\t\t\t{/* <ChangeLang /> */}\n\t\t\t\t\t\t<Jazzicon\n\t\t\t\t\t\t\tdiameter={30}\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonMenu\n\t\t\t\t\t\t\tid='menu-appbar'\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\n\t\t\t\t\t\t\tactive={true}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRMenuItem\n\t\t\t\t\t\t\t\tvalue='account'\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RRMenuItem>\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue='logout'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlogOut()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</ButtonMenu>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\tclassName={classes.flex}\n\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(navTitle)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nexport default Translate(TopNav)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\n// import IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport Translate from 'components/translate/Translate'\nimport { validations, helpers } from 'adex-models'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\n\nconst MAX_IMG_LOAD_TIME = 7000\nclass Img extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timgSrc: null,\n\t\t\tactive: false,\n\t\t\tvideoSrc: null,\n\t\t}\n\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\n\t\tthis.loadTimeout = null\n\t}\n\n\tipfsSrc = src => {\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\n\t\t}\n\n\t\treturn src\n\t}\n\n\thandleToggle = ev => {\n\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\tev && ev.preventDefault && ev.preventDefault()\n\t\tlet active = this.state.active\n\t\tthis.setState({ active: !active })\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\tif (isVideo && !allowVideo) {\n\t\t\treturn this.setState({\n\t\t\t\timgSrc: VIDEO_IMAGE,\n\t\t\t})\n\t\t}\n\n\t\tif (isVideo) {\n\t\t\tthis.displayVideo = document.createElement('video')\n\t\t\tthis.setDisplayVideo({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.displayImage = new Image()\n\t\t\tthis.setDisplayImage({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps = nextProps => {\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\n\t\tconst { mediaMime } = nextProps\n\n\t\tif (nextSrc !== thisSrc) {\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\t\tif (isVideo) {\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\n\t\t\t\tthis.setDisplayVideo({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\n\t\t\t\tthis.setDisplayImage({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearLoadTimeout()\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\t\t\tthis.displayImage = null\n\t\t}\n\t}\n\n\tclearLoadTimeout = () => {\n\t\tif (this.loadTimeout) {\n\t\t\tclearTimeout(this.loadTimeout)\n\t\t\tthis.loadTimeout = null\n\t\t}\n\t}\n\n\tonFail = fallback => {\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.displayImage.src = fallback\n\t\t}\n\n\t\tthis.clearLoadTimeout()\n\n\t\tthis.setState({\n\t\t\timgSrc: fallback || null,\n\t\t})\n\t}\n\n\tsetDisplayImage = ({ image, fallback }) => {\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\n\t\t\tthis,\n\t\t\tfallback\n\t\t)\n\n\t\tthis.displayImage.onload = () => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\timgSrc: image,\n\t\t\t})\n\t\t}\n\n\t\tthis.displayImage.src = image\n\t}\n\n\tsetDisplayVideo = ({ image, fallback }) => {\n\t\tthis.displayVideo.src = image\n\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\tvideoSrc: image,\n\t\t\t})\n\t\t}\n\t}\n\n\tfullScreenBtn() {\n\t\tconst { classes } = this.props\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Fab\n\t\t\t\t\tsize='small'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FullscreenIcon />\n\t\t\t\t</Fab>\n\t\t\t\t{this.renderFullscreenDialog()}\n\t\t\t</span>\n\t\t)\n\t}\n\n\trenderFullscreenDialog() {\n\t\tconst { t, alt, classes, type } = this.props\n\t\tconst { active, imgSrc, videoSrc } = this.state\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={active}\n\t\t\t\ttype={type || 'normal'}\n\t\t\t\tmaxWidth={false}\n\t\t\t\tonClose={this.handleToggle}\n\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\n\t\t\t\t\t{imgSrc ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\n\t\t\t\t\t\t{t('CLOSE')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talt,\n\t\t\tallowFullscreen,\n\t\t\tclassName,\n\t\t\tclasses,\n\t\t\tfullScreenOnClick,\n\t\t} = this.props\n\t\tconst { imgSrc, videoSrc } = this.state\n\t\treturn imgSrc || videoSrc ? (\n\t\t\t<div\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\n\t\t\t>\n\t\t\t\t{!!imgSrc ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\tsrc={this.state.imgSrc}\n\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\n\t\t\t\t\t></video>\n\t\t\t\t)}\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\n\t\t\t</div>\n\t\t) : (\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\n\t\t\t\t<span className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImg.propTypes = {\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\tfallbackSrc: PropTypes.string,\n\talt: PropTypes.string,\n\tallowFullscreen: PropTypes.bool,\n\tfullScreenOnClick: PropTypes.bool,\n\tmediaMime: PropTypes.string,\n}\n\nexport default Translate(withStyles(styles)(Img))\n","export const styles = theme => ({\n\timgLoading: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: '100%',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\timgParent: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: 'max-content',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tcircular: {\n\t\tposition: 'relative',\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\n\t\tleft: 'calc(50% - 20px)',\n\t\tdisplay: 'inline-block',\n\t},\n\tfullscreenIcon: {\n\t\tposition: 'absolute',\n\t\ttop: theme.spacing(1),\n\t\tright: theme.spacing(1),\n\t\tcursor: 'pointer',\n\t\twidth: '30px',\n\t\theight: '30px',\n\t\tminHeight: '24px',\n\t},\n\tdialog: {\n\t\t'@media(max-width:744px)': {\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t},\n\t\t'@media(max-height:823px)': {\n\t\t\tminHeight: 'auto',\n\t\t},\n\t},\n\tdialogImageParent: {\n\t\t'@media(max-width:1080px)': {\n\t\t\tmaxWidth: '80vw',\n\t\t\tmaxHeight: '100vw',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t},\n\t\t'@media(max-width:744px)': {\n\t\t\tpaddingLeft: 0,\n\t\t\tpaddingRight: 0,\n\t\t},\n\t},\n\tdialogImage: {\n\t\theight: 'auto',\n\t\tmaxWidth: '80vw',\n\t},\n\timg: {\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t},\n\twrapper: {\n\t\theight: 'max-content',\n\t\twidth: 'max-content',\n\t},\n})\n","/**\n * @param {String} objUrl - Image blob url URL.createObjectURL\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\n * @param {String} fileName - Name of the returned file in Promise\n */\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\n\t// TODO: Validate pixelCrop and size\n\tconst cropCanvas = document.createElement('canvas')\n\tconst scaleCanvas = document.createElement('canvas')\n\n\tconst img = new Image()\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\n\timg.src = objUrl\n\n\t// As a blob\n\treturn new Promise((resolve, reject) => {\n\t\timg.onload = () => {\n\t\t\tconst width = img.width\n\t\t\tconst height = img.height\n\n\t\t\t// pixelCrop come in %\n\t\t\tconst crop = {\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\n\t\t\t}\n\n\t\t\tcropCanvas.width = crop.width\n\t\t\tcropCanvas.height = crop.height\n\t\t\tconst cctx = cropCanvas.getContext('2d')\n\n\t\t\tcctx.drawImage(\n\t\t\t\timg,\n\t\t\t\tcrop.x,\n\t\t\t\tcrop.y,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height\n\t\t\t)\n\n\t\t\tscaleCanvas.width = size.width\n\t\t\tscaleCanvas.height = size.height\n\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\n\n\t\t\tsctx.drawImage(\n\t\t\t\tcropCanvas,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tsize.width,\n\t\t\t\tsize.height\n\t\t\t)\n\n\t\t\tscaleCanvas.toBlob(file => {\n\t\t\t\tif (!file) {\n\t\t\t\t\treject('Error cropping file')\n\t\t\t\t}\n\t\t\t\tfile.name = fileName\n\t\t\t\tresolve(URL.createObjectURL(file))\n\t\t\t}, 'image/jpeg')\n\t\t}\n\t})\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'components/common/img/Img'\n// import debounce from 'debounce'\nimport Dropzone from 'react-dropzone'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport ReactCrop from 'react-image-crop'\nimport { getCroppedImgUrl } from 'services/images/crop'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport SaveIcon from '@material-ui/icons/Save'\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\nimport Grid from '@material-ui/core/Grid'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nclass ImgForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { size, imgSrc, mime } = props\n\t\tconst aspect = size ? size.width / size.height : undefined\n\n\t\tthis.state = {\n\t\t\timgSrc: imgSrc || '',\n\t\t\tmime: mime || '',\n\t\t\timgName: '',\n\t\t\tcropMode: false,\n\t\t\tcrop: { aspect: aspect },\n\t\t}\n\t}\n\n\tonDrop = (acceptedFiles, rejectedFiles) => {\n\t\tconst that = this\n\t\tconst file = acceptedFiles[0]\n\t\tif (!file) return\n\t\tconst objectUrl = URL.createObjectURL(file)\n\n\t\tthat.setState({\n\t\t\timgSrc: objectUrl,\n\t\t\timgName: file.name,\n\t\t\tmime: file.type,\n\t\t})\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\n\t\tthis.props.onChange({\n\t\t\ttempUrl: objectUrl,\n\t\t\tmime: file.type,\n\t\t})\n\t}\n\n\tonRemove = e => {\n\t\tthis.preventBubbling(e)\n\n\t\tconst { imgSrc } = this.state\n\n\t\tif (imgSrc) {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\n\t\t}\n\t}\n\n\tonCropChange = crop => {\n\t\tthis.setState({ crop })\n\t}\n\n\tsaveCropped = () => {\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\n\t\tconst { onChange, size } = this.props\n\t\tgetCroppedImgUrl({\n\t\t\tobjUrl: imgSrc,\n\t\t\tpixelCrop: crop,\n\t\t\tfileName: `cropped-${imgName}`,\n\t\t\tsize,\n\t\t}).then(croppedBlob => {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\n\t\t\tonChange({\n\t\t\t\ttempUrl: croppedBlob,\n\t\t\t\tmime,\n\t\t\t})\n\t\t})\n\t}\n\n\tpreventBubbling = e => {\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation()\n\t\t}\n\t\tif (e.nativeEvent) {\n\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t}\n\t}\n\n\tUploadInfo = () => {\n\t\tconst { t, classes, size, errMsg } = this.props\n\t\tconst { imgSrc, mime } = this.state\n\t\treturn (\n\t\t\t<div className={classes.uploadInfo}>\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\n\t\t\t\t\t<div className={classes.uploadActions}>\n\t\t\t\t\t\t{/* TEMP: make size required */}\n\t\t\t\t\t\t{!!size && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={this.onRemove}\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<FileUploadIcon />\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\n\t\t\t\t\t\t{errMsg}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// TODO: CLEAR IMG BLOB!!!!\n\trender() {\n\t\tconst { t, classes, label, additionalInfo } = this.props\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\n\n\t\tconst videoSrc = isVideoMedia(mime)\n\t\treturn (\n\t\t\t<div className={classes.imgForm}>\n\t\t\t\t<AppBar\n\t\t\t\t\tposition='static'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.header,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t{imgSrc && imgName ? (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div>\n\t\t\t\t\t{cropMode ? (\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\n\t\t\t\t\t\t\t\t\t\timageStyle={{\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Dropzone\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\n\t\t\t\t\t\t\tonDrop={this.onDrop}\n\t\t\t\t\t\t\tclassName={classes.dropzone}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Dropzone>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> {additionalInfo} </small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nImgForm.propTypes = {\n\timgSrc: PropTypes.string,\n\tlabel: PropTypes.string,\n\tsize: PropTypes.object,\n}\n\nexport default Translate(withStyles(styles)(ImgForm))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\theader: {\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdropzone: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\n\t\t\tbackground: theme.palette.background.default,\n\t\t\tpadding: 10,\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timgDropzonePreview: {\n\t\t\tmaxHeight: 320,\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tdropzoneBtn: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tleftIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tuploadActions: {\n\t\t\tmarginTop: spacing,\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\n\nexport default function ValidImageHoc(Decorated) {\n\tclass ValidImage extends Component {\n\t\tvalidate = ({\n\t\t\tpropsName,\n\t\t\twidthTarget,\n\t\t\theightTarget,\n\t\t\tmediaWidth,\n\t\t\tmediaHeight,\n\t\t\tmsg,\n\t\t\texact,\n\t\t\trequired,\n\t\t\tonChange,\n\t\t\tmime,\n\t\t\ttempUrl,\n\t\t}) => {\n\t\t\tlet isValid = true\n\n\t\t\tif (exact) {\n\t\t\t\tisValid = checkExactishAspect(\n\t\t\t\t\twidthTarget,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\theightTarget,\n\t\t\t\t\tmediaHeight\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\n\t\t\t\tisValid = false\n\t\t\t}\n\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\n\n\t\t\tthis.props.validate(propsName, {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: msg, args: masgArgs },\n\t\t\t\tdirty: true,\n\t\t\t})\n\n\t\t\tconst resMedia = {\n\t\t\t\twidth: mediaWidth,\n\t\t\t\theight: mediaHeight,\n\t\t\t\tmime,\n\t\t\t\ttempUrl,\n\t\t\t}\n\n\t\t\tif (typeof onChange === 'function') {\n\t\t\t\tonChange(propsName, resMedia)\n\t\t\t}\n\t\t}\n\n\t\tvalidateMedia = async (\n\t\t\t{\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t} = {},\n\t\t\tmedia\n\t\t) => {\n\t\t\tif (!required && !media.tempUrl && onChange) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: true,\n\t\t\t\t\terr: { msg: msg, args: [] },\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\t// TODO: fix this\n\t\t\t\tonChange(propsName, media)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!media.mime || !media.tempUrl) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: false,\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\n\n\t\t\tthis.validate({\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmediaWidth: size.width,\n\t\t\t\tmediaHeight: size.height,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t\tmime: media.mime,\n\t\t\t\ttempUrl: media.tempUrl,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\n\t\t}\n\t}\n\n\tValidImage.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidImage))\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport PropTypes from 'prop-types'\nimport { execute, validate } from 'actions'\nimport { selectValidationsById } from 'selectors'\n\nexport default function ValidationHoc(Decorated) {\n\tconst ValidItem = props => {\n\t\tconst validations =\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\n\n\t\tconst makeValidation = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tconst { validateId } = props\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\n\t\t}\n\n\t\treturn (\n\t\t\t<Decorated\n\t\t\t\t{...props}\n\t\t\t\tvalidate={makeValidation}\n\t\t\t\tinvalidFields={validations}\n\t\t\t/>\n\t\t)\n\t}\n\n\tValidItem.propTypes = {\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\treturn ValidItem\n}\n","export const styles = theme => {\n\t// const spacing = theme.spacing(3)\n\treturn {}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nexport class ImgDialog extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tvalues: {},\n\t\t}\n\t}\n\n\thandleChange = (name, value) => {\n\t\tlet newValues = { ...this.state.values }\n\t\tnewValues[name] = value\n\t\tthis.setState({ values: newValues })\n\t}\n\n\tonOk = () => {\n\t\tconst vals = this.state.values\n\t\tObject.keys(vals).forEach(key => {\n\t\t\tthis.props.onChangeReady(key, vals[key])\n\t\t})\n\t\tthis.props.handleToggle()\n\t}\n\n\trender() {\n\t\tlet t = () => {}\n\t\tlet validations = this.props.invalidFields || {}\n\t\tlet errImg = validations[this.props.imgPropName]\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.props.active}\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ttype={this.props.type || 'normal'}\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t{this.props.t(this.props.title)}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\n\t\t\t\t\t\t\t\texact: this.props.exact,\n\t\t\t\t\t\t\t\trequired: this.props.required,\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\n\t\t\t\t\t\t\t{'Cancel'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.onOk}\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{'Ok'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImgDialog.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tlet persist = state.persist\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n// import classnames from 'classnames'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Fab from '@material-ui/core/Fab'\nimport CheckIcon from '@material-ui/icons/Check'\nimport SaveIcon from '@material-ui/icons/Save'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\nclass SaveBtn extends Component {\n\trender() {\n\t\tlet {\n\t\t\tspinner,\n\t\t\tclasses,\n\t\t\tsuccess,\n\t\t\tdirtyProps,\n\t\t\tsave,\n\t\t\tvalidations,\n\t\t\tvalidationId,\n\t\t\tdisabled,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.position}>\n\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t<Fab\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t// className={buttonClassname}\n\t\t\t\t\t\tonClick={() => save()}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tdisabled ||\n\t\t\t\t\t\t\tspinner ||\n\t\t\t\t\t\t\t!dirtyProps.length ||\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// {...other}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*TODO: Success */}\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\n\t\t\t\t\t</Fab>\n\t\t\t\t\t{!!spinner && (\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSaveBtn.propTypes = {\n\tspinnerId: PropTypes.string,\n\tvalidationId: PropTypes.string,\n\titemId: PropTypes.string,\n\tvalidations: PropTypes.object,\n\tdisabled: PropTypes.bool,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\treturn {\n\t\tspinner: memory.spinners[props.spinnerId],\n\t\tvalidations: memory.validations,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(SaveBtn)))\n","import color from '@material-ui/core/colors/purple'\n\nexport const styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: color[500],\n\t\t'&:hover': {\n\t\t\tbackgroundColor: color[700],\n\t\t},\n\t},\n\tfabProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: -6,\n\t\tleft: -6,\n\t\tzIndex: 1,\n\t},\n\tbuttonProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tposition: {\n\t\tposition: 'fixed',\n\t\ttop: 86,\n\t\tright: 40,\n\t\tzIndex: theme.zIndex.appBar + 1,\n\t},\n})\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\twidth: '100%',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\tbuttonLeft: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\ttextField: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\ttop: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflexWrap: 'wrap',\n\t\t\tmaxWidth: '70%',\n\t\t},\n\t\tchangesLine: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\talignItems: 'center',\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tchangeChip: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: spacing,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport IMG_404_1 from 'resources/404-no.png'\nimport IMG_404_2 from 'resources/404-yes.png'\nimport Img from 'components/common/img/Img'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport Translate from 'components/translate/Translate'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst G404 = ({ size }) => (\n\t<Grid item xs={size}>\n\t\t<Typography\n\t\t\tinline\n\t\t\tvariant={`h${size}`}\n\t\t\tstyle={{ textTransform: 'uppercase' }}\n\t\t>\n\t\t\t{t('404')}\n\t\t</Typography>\n\t</Grid>\n)\n\nclass PageNotFound extends React.Component {\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\tgoToTxt,\n\t\t\tgoToPath,\n\t\t\tskipGoToButton,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\n\t\t\t\t\t\t\t{t(title || '404')}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{subtitle && (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\n\t\t\t\t\t\t\t\t{t(subtitle)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={4} />\n\t\t\t\t\t<G404 size={2} />\n\t\t\t\t\t<G404 size={1} />\n\t\t\t\t\t<G404 size={5} />\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={2} />\n\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t{!skipGoToButton && (\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPageNotFound.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tgoToTxt: PropTypes.string,\n\tgoToPath: PropTypes.string,\n\tskipGoToButton: PropTypes.bool,\n}\n\nexport default Translate(withStyles(styles)(PageNotFound))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\twrapper: {\n\t\t\tmargin: `${spacing * 2}px auto`,\n\t\t\tmaxWidth: 1000,\n\t\t},\n\t\timg: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\nimport { schemas, Joi } from 'adex-models'\nimport classnames from 'classnames'\nimport { Prompt } from 'react-router'\nimport Translate from 'components/translate/Translate'\nimport { items as ItemsConstants } from 'adex-constants'\nimport Img from 'components/common/img/Img'\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\nimport { withStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport Paper from '@material-ui/core/Paper'\nimport InfoOutlineIcon from '@material-ui/icons/Info'\nimport Chip from '@material-ui/core/Chip'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { styles } from './styles'\nimport { validName } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { selectSide } from 'selectors'\n\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\nconst { AdSizesByValue } = ItemsConstants\n\nexport default function ItemHoc(Decorated) {\n\tclass Item extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.save = this.save.bind(this)\n\t\t\tthis.state = {\n\t\t\t\tactiveFields: {},\n\t\t\t\titem: null,\n\t\t\t\tinitialItemState: {},\n\t\t\t\tdirtyProps: [],\n\t\t\t\teditImg: false,\n\t\t\t\t_activeInput: null,\n\t\t\t}\n\t\t}\n\n\t\tupdateNav = (item = {}) => {\n\t\t\tconst { actions, t, itemType } = this.props\n\t\t\tactions.updateNav(\n\t\t\t\t'navTitle',\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\n\t\t\t)\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tconst { item, matchId, objModel } = this.props\n\n\t\t\tif (!item) {\n\t\t\t\tthis.updateNav({ title: matchId })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst initialItemState = new objModel(item)\n\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\n\t\t\tthis.updateNav(initialItemState)\n\t\t}\n\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t\t//     return diffProps || diffState\n\t\t// }\n\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item } = this.state\n\t\t\tlet currentItemInst = new objModel(item || {})\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\n\t\t\t// TODO: check the above\n\t\t\tlet nextItem = nextProps.item\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\n\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\n\t\t\t\t// if (\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\n\t\t\t\t// ) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titem: nexItemInst.plainObj(),\n\t\t\t\t\tinitialItemState: nexItemInst,\n\t\t\t\t\tactiveFields: {},\n\t\t\t\t\tdirtyProps: [],\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.updateNav(nexItemInst)\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tif (this.state.item) {\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[name] = value\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\n\t\t\tif (dp.indexOf(name) < 0) {\n\t\t\t\tdp.push(name)\n\t\t\t}\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t}\n\n\t\treturnPropToInitialState = propName => {\n\t\t\tconst { objModel, actions } = this.props\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\n\t\t\tconst initialItemStateValue = initialItemState[propName]\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[propName] = initialItemStateValue\n\n\t\t\tconst dp = dirtyProps.filter(dp => {\n\t\t\t\treturn dp !== propName\n\t\t\t})\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t\t// TEMP fix, we assume that the initial values are validated\n\t\t\tactions.resetValidationErrors(item.id, propName)\n\t\t}\n\n\t\tsetActiveFields = (field, value) => {\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\n\t\t\tnewActiveFields[field] = value\n\t\t\tthis.setState({ activeFields: newActiveFields })\n\t\t}\n\n\t\t//TODO: Do not save if not dirty!\n\t\tsave = () => {\n\t\t\tconst { itemType, spinner, actions } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tif (dirtyProps.length && !spinner) {\n\t\t\t\tactions.updateItem({\n\t\t\t\t\titemType,\n\t\t\t\t\titem,\n\t\t\t\t})\n\t\t\t\tthis.setState({ dirtyProps: [] })\n\t\t\t}\n\t\t}\n\n\t\tisDirtyProp(prop) {\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\n\t\t}\n\n\t\thandleToggle = () => {\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\n\n\t\t\tif (isDemo) return\n\n\t\t\tlet active = this.state.editImg\n\t\t\tthis.setState({ editImg: !active })\n\t\t}\n\n\t\tisNameValid(name) {\n\t\t\tconst { msg } = validName(name)\n\t\t\treturn !msg\n\t\t}\n\n\t\tvalidateTitle(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tschema = campaignPut.title\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('title', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\tvalidateDescription(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.description\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.description\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('description', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tvalidations,\n\t\t\t\tclasses,\n\t\t\t\tt,\n\t\t\t\taccount,\n\t\t\t\titemType,\n\t\t\t\tobjModel,\n\t\t\t\tmatchId,\n\t\t\t\tside,\n\t\t\t\tinvalidFields,\n\t\t\t\tvalidateId,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst propsItem = this.props.item\n\n\t\t\tif (!propsItem) {\n\t\t\t\treturn (\n\t\t\t\t\t<PageNotFound\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\n\t\t\t\t\t\t\targs: [itemType.toUpperCase(), matchId],\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tgoToPath={`/dashboard/${side}`}\n\t\t\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t/*\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\n\t\t\t * in this case there is no need to make instance inside them\n\t\t\t */\n\n\t\t\tconst isDemo = account._authType === 'demo'\n\t\t\tconst item = new objModel(this.state.item || {})\n\t\t\tlet canEdit = itemType === 'AdSlot'\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\n\n\t\t\tconst titleErr = invalidFields['title']\n\t\t\tconst descriptionErr = invalidFields['description']\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Prompt\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\n\t\t\t\t\t\t\t\tvalue={item.title}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\n\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{itemType !== 'Campaign' && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<ImgDialog\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\twidth={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\theight={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\n\t\t\t\t\t\t\t\t\timgPropName='img'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SaveBtn\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Decorated\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\n\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\tisDemo={isDemo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n\tItem.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\titem: PropTypes.object.isRequired,\n\t\tspinner: PropTypes.bool,\n\t\titemType: PropTypes.string.isRequired,\n\t\tobjModel: PropTypes.func.isRequired,\n\t}\n\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\n\t\tlet keys = Object.keys(items)\n\n\t\tfor (let index = 0; index < keys.length; index++) {\n\t\t\tconst key = keys[index]\n\t\t\tconst item = items[key]\n\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\n\t\t\t\treturn item\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist } = state\n\t\t// const memory = state.memory\n\t\tconst items = persist.items[props.itemType]\n\t\tconst id = props.match.params.itemId\n\t\tlet item = items[id]\n\n\t\tif (!item && props.itemType !== undefined) {\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\n\t\t}\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\titem: item,\n\t\t\tvalidateId: 'update-' + (item ? item.id || item.ipfs : 'notfound'),\n\t\t\tmatchId: id,\n\t\t\tside: selectSide(state),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\n}\n","import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { t } from 'selectors'\n\nconst generalTableOptions = {\n\trowsPerPage: 5,\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\n\tsetTableProps: () => {\n\t\treturn {\n\t\t\tpadding: 'default',\n\t\t\tsize: 'small',\n\t\t\twidth: '100%',\n\t\t\talign: 'center',\n\t\t}\n\t},\n\ttextLabels: {\n\t\tbody: {\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\n\t\t\tcolumnHeaderTooltip: column =>\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\n\t\t\t\t\targs: [column.label || column],\n\t\t\t\t})}`,\n\t\t},\n\t\tpagination: {\n\t\t\tnext: t('TABLE_NEXT'),\n\t\t\tprevious: t('TABLE_PREV'),\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\n\t\t},\n\t\ttoolbar: {\n\t\t\tsearch: t('TABLE_SEARCH'),\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\n\t\t\tprint: t('TABLE_PRINT'),\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\n\t\t\tfilterTable: t('TABLE_FILTER'),\n\t\t},\n\t\tfilter: {\n\t\t\tall: t('TABLE_FILTER_ALL'),\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\n\t\t\treset: t('TABLE_FILTER_RESET'),\n\t\t},\n\t\tviewColumns: {\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\n\t\t},\n\t\tselectedRows: {\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\n\t\t\tdelete: t('TABLE_DELETE'),\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\n\t\t},\n\t},\n}\nexport default function MUIDataTableEnhanced(props) {\n\tconst { title, data, columns, options } = props\n\n\treturn (\n\t\t<MUIDataTable\n\t\t\ttitle={title}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={{\n\t\t\t\t...generalTableOptions,\n\t\t\t\t...options,\n\t\t\t\televation: 2,\n\t\t\t\tsearch: !props.noSearch,\n\t\t\t\tdownload: !props.noDownload,\n\t\t\t\tprint: !props.noPrint,\n\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\n\t\t\t\tdisableToolbarSelect: props.toolbarEnabled ? false : true,\n\t\t\t}}\n\t\t/>\n\t)\n}\n","import React from 'react'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\n\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\n\tconst icon = {\n\t\txs: { fontSize: 10 },\n\t\tmd: { fontSize: 15 },\n\t\tls: { fontSize: 20 },\n\t}\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\n\t\treturn waitIcon\n\tswitch (status.toLowerCase()) {\n\t\tcase 'active':\n\t\tcase 'ready':\n\t\t\treturn doneIcon\n\t\tcase 'pending':\n\t\tcase 'initializing':\n\t\tcase 'waiting':\n\t\t\treturn waitIcon\n\t\tcase 'offline':\n\t\tcase 'disconnected':\n\t\tcase 'unhealthy':\n\t\tcase 'invalid':\n\t\t\treturn warningIcon\n\t\tcase 'withdraw':\n\t\t\treturn cashIcon\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n\nexport { mapStatusIcons }\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmaxHeight: 60,\r\n\t\tmaxWidth: 180,\r\n\t\tcursor: 'pointer',\r\n\t},\r\n})\r\n","import React from 'react'\nimport { Typography, Slider, Box } from '@material-ui/core'\nimport { formatAbbrNum, formatNumberWithoutCommas } from 'helpers/formatters'\n\nconst getSliderStep = (min, max, steps, precision = 2) => {\n\tconst diff = max - min\n\tconst step = diff / steps\n\tconst fixed = parseFloat(step.toFixed(precision))\n\n\treturn fixed\n}\n\nexport const sliderFilterOptions = ({\n\tinitial = [],\n\tfilterTitle = '',\n\tstepsCount = 20,\n\tstepsPrecision = 2,\n}) => {\n\tconst min = initial[0] || 0\n\tconst max = initial[1] || 100\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\n\treturn {\n\t\tfilter: true,\n\t\tdisplay: 'true',\n\t\tfilterType: 'custom',\n\t\tcustomFilterListOptions: {\n\t\t\trender: v =>\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\n\t\t\tupdate: (filterList, filterPos, index) => {\n\t\t\t\tfilterList[index] = []\n\t\t\t\treturn filterList\n\t\t\t},\n\t\t},\n\n\t\tfilterOptions: {\n\t\t\tnames: [],\n\t\t\tlogic: (rowNumber, filters) => {\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\n\t\t\t\tif (filters.length > 0) {\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tdisplay: (filterList, onChange, index, column) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\n\t\t\t\t\t\t\t{filterTitle}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tmarks={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: min,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\n\t\t\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\n\nexport function useTableData({ selector, selectorArgs, getColumns }) {\n\tconst [data, setData] = useState([])\n\tconst [columns, setColumns] = useState([])\n\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\n\n\tconst reloadData = useCallback(() => {\n\t\tsetData(selectedData)\n\t\tsetColumns(getColumns())\n\t}, [getColumns, selectedData])\n\n\tuseEffect(() => {\n\t\treloadData()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selectedData.length, selector, selectorArgs])\n\n\treturn { data, columns, reloadData }\n}\n","import React, { Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tIconButton,\n\tTooltip,\n\tBox,\n\tButton,\n\tCircularProgress,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\nimport { t, selectSpinnerById } from 'selectors'\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\n\nconst useStyles = makeStyles(theme => ({\n\twrapper: {\n\t\tmargin: theme.spacing(1),\n\t\tposition: 'relative',\n\t},\n\tbuttonProgress: {\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}))\n\nexport function ReloadData({ handleReload }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\n\t\t\t\t<IconButton onClick={handleReload}>\n\t\t\t\t\t<Refresh />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('VIEW_ALL_RECEIPTS_DATA')}>\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\n\t\t\t\t\t<Receipt />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\n\tconst classes = useStyles()\n\tconst receiptsSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RECEIPTS_PRINT_ALL')}>\n\t\t\t\t<Box ml={2} mr={2}>\n\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstartIcon={<Print />}\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{receiptsSpinner && (\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</Box>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n","import React, { Fragment } from 'react'\nimport classnames from 'classnames'\nimport { Tooltip, IconButton } from '@material-ui/core'\nimport { Visibility, Receipt } from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport {\n\tt,\n\tselectCampaignsTableData,\n\tselectMainToken,\n\tselectSide,\n\tselectCampaignsMaxImpressions,\n\tselectCampaignsMaxClicks,\n\tselectCampaignsMaxDeposit,\n} from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { commify } from 'ethers/utils'\nimport { execute, handlePrintSelectedReceipts } from 'actions'\nimport { useSelector } from 'react-redux'\nimport { styles } from './styles'\nimport { formatDateTime } from 'helpers/formatters'\nimport { sliderFilterOptions } from './commonFilters'\nimport { useTableData } from './tableHooks'\nimport { ReloadData, PrintAllReceipts } from './toolbars'\nconst RRIconButton = withReactRouterLink(IconButton)\n\nconst useStyles = makeStyles(styles)\n\nconst getCols = ({\n\tclasses,\n\tsymbol,\n\tmaxImpressions,\n\tmaxDeposit,\n\tmaxClicks,\n}) => [\n\t{\n\t\tname: 'id',\n\t\toptions: {\n\t\t\tdisplay: 'excluded',\n\t\t\tfilter: false,\n\t\t},\n\t},\n\t{\n\t\tname: 'receiptAvailable',\n\t\toptions: {\n\t\t\tdisplay: 'excluded',\n\t\t\tdownload: false,\n\t\t\tfilter: false,\n\t\t},\n\t},\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\n\t\t\t\treturn (\n\t\t\t\t\t// TODO: Images issue some stop displaying\n\t\t\t\t\t<Img\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tfullScreenOnClick={true}\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'status',\n\t\tlabel: t('PROP_STATUS'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tfilterOptions: {\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\n\t\t\t\tlogic: (status, filters) => {\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\n\t\t\t\t\treturn false\n\t\t\t\t},\n\t\t\t},\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName, id }) => (\n\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t{humanFriendlyName}{' '}\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t\t// TODO: Sorting issue\n\t\t},\n\t},\n\t{\n\t\tname: 'depositAmount',\n\t\tlabel: t('PROP_DEPOSIT'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: depositAmount => (\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\n\t\t\t),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxDeposit],\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'fundsDistributedRatio',\n\t\tlabel: t('PROP_DISTRIBUTED'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)}%`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxImpressions],\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxClicks],\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'minPerImpression',\n\t\tlabel: t('PROP_CPM'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: ({ minPerImpression, id }) => (\n\t\t\t\t<Fragment key={id}>{`${minPerImpression.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</Fragment>\n\t\t\t),\n\t\t},\n\t},\n\t{\n\t\tname: 'created',\n\t\tlabel: t('PROP_CREATED'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: created => formatDateTime(created),\n\t\t},\n\t},\n\t{\n\t\tname: 'activeFrom',\n\t\tlabel: t('PROP_STARTS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\n\t\t},\n\t},\n\t{\n\t\tname: 'withdrawPeriodStart',\n\t\tlabel: t('PROP_ENDS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\n\t\t\t\tformatDateTime(withdrawPeriodStart),\n\t\t},\n\t},\n\t{\n\t\tname: 'actions',\n\t\tlabel: t('ACTIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ side, id, humanFriendlyName }) => (\n\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\n\t\t\t\t\t\t// placement='top'\n\t\t\t\t\t\tenterDelay={1000}\n\t\t\t\t\t>\n\t\t\t\t\t\t<RRIconButton\n\t\t\t\t\t\t\tto={`/dashboard/${side}/Campaign/${id}`}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\taria-label='preview'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Visibility color='primary' />\n\t\t\t\t\t\t</RRIconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{(humanFriendlyName === 'Closed' ||\n\t\t\t\t\t\thumanFriendlyName === 'Completed') && (\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttitle={t('RECEIPT_VIEW')}\n\t\t\t\t\t\t\t// placement='top'\n\t\t\t\t\t\t\tenterDelay={1000}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRIconButton\n\t\t\t\t\t\t\t\tto={`/dashboard/${side}/Campaign/receipt/${id}`}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\taria-label='receipt'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Receipt color='primary' />\n\t\t\t\t\t\t\t</RRIconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t)}\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [\n\t\t\ti.data[0],\n\t\t\ti.data[1],\n\t\t\ti.data[2],\n\t\t\ti.data[3].humanFriendlyName,\n\t\t\t`${i.data[4]} ${symbol}`,\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)}%`,\n\t\t\ti.data[6],\n\t\t\ti.data[7],\n\t\t\ti.data[8],\n\t\t\tformatDateTime(i.data[9]),\n\t\t\tformatDateTime(i.data[10]),\n\t\t\tformatDateTime(i.data[11]),\n\t\t],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\n\tfilterType: 'multiselect',\n\tselectableRows: 'none',\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\n\t\tconst selectedItems = displayData\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\n\t\t\t.map(item => item.data[0])\n\t\treturn (\n\t\t\t<PrintAllReceipts\n\t\t\t\thandlePrintAllReceipts={() =>\n\t\t\t\t\texecute(handlePrintSelectedReceipts(selectedItems))\n\t\t\t\t}\n\t\t\t\tdisabled={selectedItems.length === 0}\n\t\t\t/>\n\t\t)\n\t},\n})\n\nfunction CampaignsTable(props) {\n\tconst classes = useStyles()\n\tconst side = useSelector(selectSide)\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\n\tconst { symbol, decimals } = useSelector(selectMainToken)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector: selectCampaignsTableData,\n\t\tselectorArgs: side,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tdecimals,\n\t\t\t\tclasses,\n\t\t\t\tsymbol,\n\t\t\t\tmaxImpressions,\n\t\t\t\tmaxClicks,\n\t\t\t\tmaxDeposit,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ decimals, symbol, reloadData })\n\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\trowSelectable\n\t\t\ttoolbarEnabled\n\t\t\t{...props}\n\t\t/>\n\t)\n}\n\nexport default CampaignsTable\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport StepperMUI from '@material-ui/core/Stepper'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport Button from '@material-ui/core/Button'\nimport { styles } from './styles'\nimport Paper from '@material-ui/core/Paper'\nimport Box from '@material-ui/core/Box'\nimport Chip from '@material-ui/core/Chip'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\n\nconst getDirtyValidationErrors = (validations = {}) => {\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\n\t\tconst err = validations[key]\n\t\tif (err.dirty) {\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\n\t\t}\n\t\treturn dirtyErrs\n\t}, [])\n\n\treturn errors\n}\n\nconst useStyles = makeStyles(styles)\n\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\n\tif (window.innerWidth <= 768) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\n\t\t\t\t</StepLabel>\n\t\t\t\t<MobileStepper\n\t\t\t\t\tactiveStep={currentPage}\n\t\t\t\t\tsteps={pages.length}\n\t\t\t\t\tposition={'static'}\n\t\t\t\t\tvariant='progress'\n\t\t\t\t\tclassName={classes.mobileStepper}\n\t\t\t\t></MobileStepper>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\n\t\t\t{pages.map((page, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Step key={page.title}>\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\n\t\t\t\t\t</Step>\n\t\t\t\t)\n\t\t\t})}\n\t\t</StepperMUI>\n\t)\n}\n\nconst MaterialStepper = props => {\n\tconst {\n\t\tinitialPage = 0,\n\t\tpages = [],\n\t\t// ...props\n\t} = props\n\tconst classes = useStyles()\n\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\n\tconst canReverse = pages.length > currentPage && currentPage > 0\n\n\tconst page = pages[currentPage] || {}\n\tconst pageProps = page.props || {}\n\tconst { validateId } = pageProps\n\tconst Comp = page.component || null\n\tconst { pageValidation = null, onValid, stepsId } = page\n\n\tconst validations = useSelector(state =>\n\t\tselectValidationsById(state, validateId)\n\t)\n\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst isValidPage = useCallback(() => {\n\t\treturn !Object.keys(validations || {}).length\n\t}, [validations])\n\n\t// const canAdvance = isValidPage() && !page.completeBtn\n\n\tconst goToPage = useCallback(\n\t\tasync nextStep => {\n\t\t\tconst canAdvance = nextStep > currentPage\n\t\t\tconst canGoBack = nextStep < currentPage\n\n\t\t\tif (canAdvance || canGoBack) {\n\t\t\t\tsetCurrentPage(nextStep)\n\t\t\t}\n\t\t},\n\t\t[currentPage]\n\t)\n\n\tconst goToPreviousPage = useCallback(async () => {\n\t\tif (canReverse) {\n\t\t\tgoToPage(currentPage - 1)\n\t\t}\n\t}, [canReverse, currentPage, goToPage])\n\n\tconst goToNextPage = useCallback(async () => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\n\t\t\t})\n\t\t} else if (isValidPage()) {\n\t\t\tgoToPage(currentPage + 1)\n\t\t}\n\t}, [\n\t\tcurrentPage,\n\t\tgoToPage,\n\t\tisValidPage,\n\t\tonValid,\n\t\tpageValidation,\n\t\tstepsId,\n\t\tvalidateId,\n\t])\n\n\tuseEffect(() => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({ stepsId, validateId, dirty: false })\n\t\t}\n\t}, [currentPage, pageValidation, stepsId, validateId])\n\n\tconst onKeyPressed = useCallback(\n\t\tasync ev => {\n\t\t\tif (ev.key === 'Enter') {\n\t\t\t\tev.preventDefault()\n\t\t\t\tgoToNextPage()\n\t\t\t}\n\t\t},\n\t\t[goToNextPage]\n\t)\n\n\treturn (\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.stepperNav,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<StepperNav\n\t\t\t\t\t{...props}\n\t\t\t\t\tpages={pages}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<br />\n\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.pagePaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.pageContent}>\n\t\t\t\t\t{!!Comp && <Comp {...pageProps} />}\n\n\t\t\t\t\t{!!dirtyErrors && (\n\t\t\t\t\t\t<Box color='error.main'>\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={err.field}\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.controls}>\n\t\t\t\t\t<div className={classes.left}>\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<page.cancelBtn />\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\n\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{spinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\n\t\t\t\t\t\t\t<page.completeBtn />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t</div>\n\t)\n}\n\nMaterialStepper.propTypes = {\n\tpages: PropTypes.array.isRequired,\n}\n\nexport default MaterialStepper\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\troot: {\n\t\t\tcolor: 'purple',\n\t\t\t'&$active': {\n\t\t\t\tcolor: 'green',\n\t\t\t},\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'yellow',\n\t\t},\n\t\tstepperWrapper: {\n\t\t\t// display: 'flex',\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t},\n\t\tpagePaper: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 115,\n\t\t},\n\t\tpageContent: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 20,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t\tbottom: 50,\n\t\t\tpadding: 20,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tjustifyContent: 'space-between',\n\t\t\tflexDirection: 'column',\n\t\t\tWebkitOverflowScrolling: 'touch',\n\t\t\t'@media(max-width:500px)': {\n\t\t\t\tpaddingLeft: 0,\n\t\t\t\tpaddingRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 5,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t},\n\t\tright: {\n\t\t\ttextAlign: 'right',\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '86%',\n\t\t\t},\n\t\t},\n\t\tleft: {\n\t\t\tdisplay: 'inline-block',\n\t\t\ttextAlign: 'left',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '14%',\n\t\t\t},\n\t\t},\n\t\tmobileStepper: {\n\t\t\twidth: '100%',\n\t\t\t'& div': {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '10px',\n\t\t\t},\n\t\t},\n\t\tmobileStepLabel: {\n\t\t\t'& span': {\n\t\t\t\tfontSize: '24px',\n\t\t\t\tmargin: '14px auto',\n\t\t\t},\n\t\t\ttextAlign: 'center',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\terrChip: {\n\t\t\tcolor: errColor,\n\t\t\tborderColor: errColor,\n\t\t\t'& svg': {\n\t\t\t\tcolor: errColor,\n\t\t\t},\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t}\n}\n","import React, { Component, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { t } from 'selectors'\n\nclass FormSteps extends Component {\n\tshouldComponentUpdate(nextProps) {\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t}\n\n\trender() {\n\t\tconst pages = []\n\t\tconst {\n\t\t\tSaveBtn,\n\t\t\tCancelBtn,\n\t\t\tcancelFunction,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages,\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\t\tconst cancelButton = () => (\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t)\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tstepsPages.forEach((page, index) => {\n\t\t\tpages.push({\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelBtn: cancelButton,\n\t\t\t\tcomponent: !page.pageValidation\n\t\t\t\t\t? ValidItemHoc(page.page || page)\n\t\t\t\t\t: page.page || page,\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tstepsId,\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\n\t\t\t})\n\t\t})\n\n\t\tpages.push({\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\n\t\t\tcompleteBtn: () => (\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t),\n\t\t\tcancelBtn: cancelButton,\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\n\t\t\tstepsId,\n\t\t\tprops: {\n\t\t\t\t...this.props,\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\n\t\t\t},\n\t\t})\n\n\t\treturn (\n\t\t\t// <div style={{ textAlign: 'left' }}>\n\t\t\t<MaterialStepper pages={pages} />\n\t\t\t// </div>\n\t\t)\n\t}\n}\n\nFormSteps.propTypes = {\n\ttitle: PropTypes.string,\n\titemPages: PropTypes.arrayOf(PropTypes.func),\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\n}\n\nexport default forwardRef((props, ref) => (\n\t<FormSteps {...props} forwardedRef={ref} />\n))\n","import grey from '@material-ui/core/colors/grey'\n\nexport const styles = theme => {\n\tconst spacing = theme.spacing(3)\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\n\treturn {\n\t\tdialog: {\n\t\t\tminHeight: `${fullHeight}px`,\n\t\t\tminWidth: 1024,\n\t\t\tmaxWidth: 1080,\n\t\t\tbackgroundColor: grey[200], // TODO: color,\n\t\t\t// maxHeight: `${fullHeight}`,\n\t\t\t'@media(max-width:1080px)': {\n\t\t\t\tmaxWidth: '100%',\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t\t'@media(max-height:823px)': {\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t\twordWrap: 'break-word',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t\toverflowY: 'auto',\n\t\t},\n\t\tcontentBox: {\n\t\t\t// position: 'absolute',\n\t\t\t// top: 0,\n\t\t\t// left: 0,\n\t\t\t// bottom: 0,\n\t\t\t// right: 0,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: 1,\n\t\t},\n\t\tpropRow: {\n\t\t\tmargin: '10px 0',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcontentBody: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tcontentTopLoadingCircular: {\n\t\t\tflexShrink: 0,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontentTopLoading: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\t'& > div': {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tleftCol: {\n\t\t\ttextTransform: 'uppercase',\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\n\t\t\ttextAlign: 'right',\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\ttextAlign: 'left',\n\t\t\t},\n\t\t},\n\t\trightCol: {\n\t\t\ttextAlign: 'left',\n\t\t},\n\t\tprogressCircleCenter: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 30px)',\n\t\t\ttop: 'calc(50% - 30px)',\n\t\t},\n\t\tfloating: {\n\t\t\tposition: 'fixed',\n\t\t\ttop: 86,\n\t\t\tright: 40,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: 'break-word',\n\t\t\toverflowWrap: 'break-word',\n\t\t\thyphens: 'auto',\n\t\t},\n\t\tdemoImg: {\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\twidth: '100px',\n\t\t\theight: 'auto',\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tdemoBody: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontentStickyTop: {\n\t\t\tmarginBottom: '2rem',\n\t\t},\n\t\tfullContentMessage: {\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport classnames from 'classnames'\nimport Slide from '@material-ui/core/Slide'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport { t } from 'selectors'\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={classnames(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{' '}\n\t\t\t{label}{' '}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction='up' ref={ref} {...props} />\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function ItemHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tfabVariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabelArgs,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tvariant,\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\n\t\tconst btnLabelTranslated = btnLabel\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\n\t\t\t: ''\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ButtonComponent\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label={btnLabelTranslated}\n\t\t\t\t\tlabel={btnLabelTranslated}\n\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t{...btnProps}\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{icon}\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\n\t\t\t\t</ButtonComponent>\n\t\t\t\t<Dialog\n\t\t\t\t\t// disableBackdropClick\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle disableTypography>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(title)}\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\n\t\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</DialogTitle>{' '}\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func,\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdUnit } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdUnit',\n\t\t\t\tAdUnit\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tactions.addUnit(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdUnit')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport { InputLoading } from 'components/common/spinners/'\nimport classnames from 'classnames'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction Dropdown(props) {\n\tconst classes = useStyles()\n\n\tconst {\n\t\tonChange,\n\t\tlabel = '',\n\t\tvalue,\n\t\tsource = [],\n\t\thtmlId = 'some-id',\n\t\tdisabled = false,\n\t\terror = false,\n\t\thelperText,\n\t\t// margin = '',\n\t\tfullWidth = false,\n\t\tclassName,\n\t\trequired,\n\t\tloading,\n\t\tnoSrcLabel,\n\t\tvariant,\n\t\tIconComponent,\n\t} = props\n\n\tconst inputLabel = React.useRef(null)\n\tconst [labelWidth, setLabelWidth] = React.useState(0)\n\tReact.useEffect(() => {\n\t\tsetLabelWidth(inputLabel.current.offsetWidth)\n\t}, [])\n\n\tconst handleChange = event => {\n\t\tonChange(event.target.value)\n\t}\n\n\t// TODO: add native renderer for mobile devices when supported\n\treturn (\n\t\t<FormControl\n\t\t\tclassName={classnames(className, classes.formControl)}\n\t\t\tdisabled={disabled}\n\t\t\terror={error}\n\t\t\tfullWidth={fullWidth}\n\t\t\tvariant={variant}\n\t\t>\n\t\t\t<InputLabel ref={inputLabel} htmlFor={htmlId} required={required}>\n\t\t\t\t{label}\n\t\t\t</InputLabel>\n\t\t\t{!!source.length && !loading ? (\n\t\t\t\t<Select\n\t\t\t\t\tvalue={value.id || value}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tlabelWidth={labelWidth}\n\t\t\t\t\tIconComponent={IconComponent}\n\t\t\t\t>\n\t\t\t\t\t{[...source].map(src => {\n\t\t\t\t\t\treturn src.group ? (\n\t\t\t\t\t\t\t<ListSubheader key={src.group.name || src.group}>\n\t\t\t\t\t\t\t\t{src.group.name || src.group}\n\t\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\n\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{src.label}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Select>\n\t\t\t) : !loading ? (\n\t\t\t\t<Input disabled value={noSrcLabel} />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\n\t\t\t\t\t<InputLoading />\n\t\t\t\t</>\n\t\t\t)}{' '}\n\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\n\t\t</FormControl>\n\t)\n}\n\nDropdown.propTypes = {\n\tlabel: PropTypes.string,\n\tonChange: PropTypes.func.isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.bool,\n\t]),\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\n\tdisabled: PropTypes.bool,\n\terror: PropTypes.bool,\n\thtmlId: PropTypes.string.isRequired,\n\tdisplayEmpty: PropTypes.bool,\n\thelperText: PropTypes.string,\n\tIconComponent: PropTypes.elementType,\n}\n\nexport default Dropdown\n","export const styles = theme => ({\n\tformControl: {\n\t\t// margin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { constants, schemas, Joi } from 'adex-models'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\n\nconst { adUnitPost } = schemas\n\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nclass AdUnitBasic extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { newItem } = props\n\t\tthis.validateTitle(newItem.title, false)\n\t\tthis.validateDescription(newItem.description, false)\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\n\t\tthis.validateAndUpdateType(false, newItem.type)\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\n\t\t) {\n\t\t\tthis.addUtmParameters()\n\t\t}\n\t}\n\n\tvalidateTitle(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.title)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateDescription(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.description)\n\n\t\tthis.props.validate('description', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateTargetUrl(targetUrl, dirty) {\n\t\tconst withHttp = url => (!/^https?:\\/\\//i.test(url) ? `http://${url}` : url)\n\t\tconst result = Joi.validate(withHttp(targetUrl), adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t\tif (!result.error) this.addUtmParameters(withHttp(targetUrl))\n\t}\n\n\tvalidateAndUpdateType = (dirty, value) => {\n\t\tconst result = Joi.validate(value, adUnitPost.type)\n\t\tthis.props.handleChange('type', value)\n\t\tthis.props.validate('type', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\taddUtmParameters() {\n\t\tconst { handleChange, newItem } = this.props\n\t\tconst { targetUrl, title, type, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tif (!!targetUrl) {\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\n\t\t\t\ttargetUrl,\n\t\t\t\tcampaign: title,\n\t\t\t\tcontent: type,\n\t\t\t\tremoveFromUrl: !addUtmLink,\n\t\t\t})\n\t\t\thandleChange('targetUrl', newTargetUrl)\n\t\t}\n\t}\n\n\thandleChangeAddUtmLink(ev) {\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.addUtmLink = ev.target.checked\n\t\tthis.props.handleChange('temp', newTemp)\n\t}\n\n\trender() {\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\n\t\tconst { targetUrl, type, title, description, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDescription = invalidFields['description']\n\t\tconst errTargetUrl = invalidFields['targetUrl']\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\n\t\t\t\t\t\t\tsource={AdTypes}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitBasic.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\n\nexport default Translate(NewAdUnitBasic)\n","import url from 'url'\nimport { UTM_PARAMS } from 'constants/misc'\n\nexport const addUrlUtmTracking = ({\n\ttargetUrl,\n\tcampaign,\n\tcontent,\n\tremoveFromUrl,\n}) => {\n\tif (!!targetUrl) {\n\t\tconst URL = url.parse(targetUrl, true)\n\t\tURL.search = null\n\n\t\tif (URL.protocol && URL.host) {\n\t\t\tconst newQuery = {}\n\t\t\tif (removeFromUrl) {\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\n\t\t\t\t\t\tnewQuery[key] = value\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tURL.query = newQuery\n\t\t\t} else {\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\n\n\t\t\t\tif (campaign) {\n\t\t\t\t\tquery['utm_campaign'] = campaign\n\t\t\t\t}\n\t\t\t\tif (content) {\n\t\t\t\t\tquery['utm_content'] = content\n\t\t\t\t}\n\t\t\t\tURL.query = query\n\t\t\t}\n\t\t\treturn url.format(URL)\n\t\t}\n\t}\n\n\treturn targetUrl\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\n\nconst getWidAndHightFromType = type => {\n\ttype = type || ''\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdUnitMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem, validate, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl, mime } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (tempUrl) {\n\t\t\tvalidateMedia(\n\t\t\t\t{\n\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\twidthTarget: width,\n\t\t\t\t\theightTarget: height,\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\texact: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t}\n\t\t\t)\n\t\t} else {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst { newItem, t, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\tmime={temp.mime || ''}\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\n\nexport default Translate(NewAdUnitMedia)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { translate } from 'services/translations/translations'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\n\nexport const renderInput = inputProps => {\n\tconst { InputProps, classes, ref, ...other } = inputProps\n\n\treturn (\n\t\t<TextField\n\t\t\tInputProps={{\n\t\t\t\tinputRef: ref,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t},\n\t\t\t\t...InputProps,\n\t\t\t}}\n\t\t\t{...other}\n\t\t/>\n\t)\n}\n\nexport const renderSuggestion = ({\n\tsuggestion,\n\tindex,\n\tstyle,\n\titemProps,\n\thighlightedIndex,\n\tselectedItem,\n\tshowSelected,\n}) => {\n\tconst isHighlighted = highlightedIndex === index\n\t// TODO: make it better\n\t// Note wo work with obj and array\n\tconst isSelected =\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\n\t\t\tsuggestion.value\n\t\t) > -1\n\n\tif (!showSelected && isSelected) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={style}>\n\t\t\t<ListItem\n\t\t\t\tbutton\n\t\t\t\t{...itemProps}\n\t\t\t\tkey={suggestion.value || suggestion.label}\n\t\t\t\tselected={isHighlighted}\n\t\t\t\tcomponent='div'\n\t\t\t\tstyle={{\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ListItemText primary={suggestion.label} />\n\t\t\t</ListItem>\n\t\t</div>\n\t)\n}\n\nconst newSuggestion = inputValue => {\n\treturn {\n\t\tlabel: `${translate(\n\t\t\t'CREATE_TAG_LABEL'\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\n\t\tvalue: inputValue.toLowerCase().trim(),\n\t}\n}\n\nrenderSuggestion.propTypes = {\n\thighlightedIndex: PropTypes.number,\n\tindex: PropTypes.number,\n\titemProps: PropTypes.object,\n\tselectedItem: PropTypes.string,\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\n}\n\nexport const getSuggestions = (\n\tinputValue = '',\n\tsource,\n\tallowCreate,\n\tvalidateCreation\n) => {\n\tif (!inputValue) {\n\t\treturn source\n\t} else {\n\t\tinputValue = inputValue.toLowerCase().trim()\n\n\t\tsource = source.filter(suggestion => {\n\t\t\treturn (\n\t\t\t\t!inputValue ||\n\t\t\t\tsuggestion.label\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.trim()\n\t\t\t\t\t.indexOf(inputValue) !== -1\n\t\t\t)\n\t\t})\n\n\t\t// Making sure that an option to create a new item will exist when needed\n\t\tconst values = source.map(item => {\n\t\t\treturn item.value\n\t\t})\n\n\t\tif (\n\t\t\t!values.includes(inputValue) &&\n\t\t\tallowCreate &&\n\t\t\t(!validateCreation || validateCreation(inputValue))\n\t\t) {\n\t\t\tsource.push(newSuggestion(inputValue))\n\t\t}\n\n\t\treturn source\n\t}\n}\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport TextField from '@material-ui/core/TextField'\nimport { Autocomplete as AutocompleteMUI } from '@material-ui/lab'\nimport { getSuggestions } from './common'\n\nfunction Autocomplete(props) {\n\tconst {\n\t\tid,\n\t\tclasses,\n\t\tsource,\n\t\tmultiple,\n\t\tvalue,\n\t\tlabel,\n\t\tvariant,\n\t\tallowCreate,\n\t\tvalidateCreation,\n\t\tvalidateAutocomplete,\n\t\terror,\n\t\terrorText,\n\t\tonInit,\n\t\tonChange,\n\t\t...rest\n\t} = props\n\tconst [inputValue, setInputValue] = useState('')\n\n\tconst suggestions = getSuggestions(\n\t\tinputValue,\n\t\tsource,\n\t\tallowCreate,\n\t\tvalidateCreation\n\t)\n\tuseEffect(() => {\n\t\tonInit()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst handleChange = item => {\n\t\tconst selectedItem = item ? item.value || item.label : item\n\t\tonChange(selectedItem)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.container}>\n\t\t\t\t<AutocompleteMUI\n\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\toptions={suggestions}\n\t\t\t\t\tgetOptionLabel={option => option.label}\n\t\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\n\t\t\t\t\tonInputChange={(_, newValue) => setInputValue(newValue)}\n\t\t\t\t\trenderInput={params => {\n\t\t\t\t\t\tif (value) params.inputProps.value = value\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{error && (\n\t\t\t\t\t<FormHelperText error id='component-error-text'>\n\t\t\t\t\t\t{errorText}\n\t\t\t\t\t</FormHelperText>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nAutocomplete.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(Autocomplete)\n","export const styles = theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\theight: 250,\n\t},\n\tcontainer: {\n\t\tflexGrow: 1,\n\t\tposition: 'relative',\n\t},\n\tpaper: {\n\t\tposition: 'absolute',\n\t\t// TODO: fix the component and do nou use z-index\n\t\tzIndex: 1000,\n\t\tmarginTop: theme.spacing(1),\n\t\tleft: 0,\n\t\tright: 0,\n\t\toverflow: 'hidden',\n\t\theight: 150,\n\t\twidth: '100%',\n\t},\n\tchip: {\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\n\t},\n\tinputRoot: {\n\t\tflexWrap: 'wrap',\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport AddIcon from '@material-ui/icons/Add'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\nimport { SOURCES } from 'constants/targeting'\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdUnitTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: [...(targets || [])],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\thandleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource = [],\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalidateAutocomplete={this.validateAutocomplete}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsource = '',\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t\ttarget = {},\n\t\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\tIconComponent={AddIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\n\nexport default Translate(NewAdUnitTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Divider from '@material-ui/core/Divider'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport WcIcon from '@material-ui/icons/Wc'\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\nimport CompareArrows from '@material-ui/icons/CompareArrows'\n\nconst targetIcon = {\n\tlocation: LocationOnIcon,\n\tgender: WcIcon,\n\tage: ChildCareIcon,\n}\n\nconst getTargetType = tag => {\n\tconst type = tag.split('_')[0] || 'tags'\n\treturn type\n}\n\nclass UnitTargets extends Component {\n\ttargetArrayValues = (target, type, t, index) => {\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\n\t\treturn (\n\t\t\t<span key={target.tag + target.score + index}>\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<TargetIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\n\t\t\t\t\t\tsecondary={target.score}\n\t\t\t\t\t/>\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t\t<Divider />\n\t\t\t</span>\n\t\t)\n\t}\n\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\n\t\t<List\n\t\t\tdense\n\t\t\tsubheader={\n\t\t\t\tsubHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null\n\t\t\t}\n\t\t>\n\t\t\t{targets.map(target => {\n\t\t\t\tconst type = getTargetType(target.tag)\n\t\t\t\treturn this.targetArrayValues(target, type, t)\n\t\t\t})}\n\t\t</List>\n\t)\n\n\trender() {\n\t\treturn <this.TargetsList {...this.props} />\n\t}\n}\n\nUnitTargets.propTypes = {\n\ttargets: PropTypes.array.isRequired,\n\tsubHeader: PropTypes.string,\n\tt: PropTypes.func.isRequired,\n}\n\nexport default UnitTargets\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport { CircularProgress } from '@material-ui/core'\nimport { styles } from './styles.js'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { t } from 'selectors'\n\n// TODO: fix responsive styles\nconst propRow = ({\n\tclasses,\n\tleft,\n\tright,\n\tclassName,\n\tclassNameLeft,\n\tclassNameRight,\n\tstyle = {},\n}) => (\n\t<Grid\n\t\titem\n\t\tcontainer\n\t\tspacing={2}\n\t\txs={12}\n\t\tclassName={classnames(className)}\n\t\tstyle={style}\n\t>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={4}\n\t\t\tlg={3}\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\n\t\t>\n\t\t\t{left}\n\t\t</Grid>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={8}\n\t\t\tlg={9}\n\t\t\tclassName={classnames(\n\t\t\t\tclasses.rightCol,\n\t\t\t\tclasses.breakLong,\n\t\t\t\tclassNameRight\n\t\t\t)}\n\t\t>\n\t\t\t{right}\n\t\t</Grid>\n\t</Grid>\n)\n\nconst contentBox = ({ classes, children, className }) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\tclassName={className}\n\t>\n\t\t{children}\n\t</Box>\n)\n\nconst contentBody = ({ classes, children, className }) => (\n\t<Box flexGrow={1} className={className}>\n\t\t{children}\n\t</Box>\n)\n\nconst contentStickyTop = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\n)\n\nconst topLoading = ({ classes, msg, subMsg, className }) => (\n\t<div className={classnames(classes.contentTopLoading)}>\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\n\t\t<div>\n\t\t\t<Typography component='div'> {msg} </Typography>\n\t\t\t{subMsg && (\n\t\t\t\t<Typography component='div'>\n\t\t\t\t\t<strong>{subMsg}</strong>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t</div>\n)\n\nconst fullContentSpinner = ({ classes }) => (\n\t<CircularProgress\n\t\tclassName={classnames(classes.progressCircleCenter)}\n\t\tsize={50}\n\t/>\n)\n\nconst fullContentMessage = ({\n\tchildren,\n\tmsgs = [],\n\tspinner,\n\tcolor = 'primary',\n}) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\talignItems='center'\n\t\tjustifyContent='center'\n\t\tbgcolor={`${color}.main`}\n\t\tcolor={`${color}.contrastText`}\n\t>\n\t\t{spinner && (\n\t\t\t<Box p={4}>\n\t\t\t\t<CircularProgress\n\t\t\t\t\tcolor={`${color}.contrastText`}\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\n\t\t\t\t\tsize={69}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t)}\n\t\t{children}\n\t\t{msgs\n\t\t\t.filter(x => !!x && x.message)\n\t\t\t.map((msg, index) => {\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\n\t\t\t\treturn (\n\t\t\t\t\t<Typography key={index} component='div'>\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\n\t\t\t\t\t</Typography>\n\t\t\t\t)\n\t\t\t})}\n\t</Box>\n)\n\nexport const PropRow = withStyles(styles)(propRow)\nexport const ContentBox = withStyles(styles)(contentBox)\nexport const ContentBody = withStyles(styles)(contentBody)\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\nexport const TopLoading = withStyles(styles)(topLoading)\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\timgPreview: {\n\t\t\tmaxHeight: 225,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t\timgPreviewWrapper: {\n\t\t\theight: 'max-content',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\n\nclass AdUnitFormPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, targeting } = newItem\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MEDIA')}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\talt={title}\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\n\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{targeting && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdUnitFormPreview.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { Campaign } from 'adex-models'\nimport { OPENING_CAMPAIGN } from 'constants/spinners'\n\nexport default function NewCampaignHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'Campaign',\n\t\t\t\tCampaign\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = async () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tconst { temp } = newItem\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.waitingAction = true\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tawait actions.openCampaign({ campaign: newItem })\n\n\t\t\tnewTemp.waitingAction = false\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('Campaign')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('Campaign')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\n\t\tconst adUnits = persist.items['AdUnit'] || {}\n\t\tconst adUnitsArray = Object.values(adUnits) || []\n\t\treturn {\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\n\t\t\tadUnits,\n\t\t\tadUnitsArray,\n\t\t\tspinner: memory.spinners[OPENING_CAMPAIGN],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { ContentBody } from 'components/common/dialog/content'\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\nimport {\n\tt,\n\tselectAdUnitsArray,\n\tselectAdUnits,\n\tselectNewCampaign,\n} from 'selectors'\nimport { updateNewCampaign, execute } from 'actions'\n\nfunction CampaignUnits(props) {\n\tconst { temp } = useSelector(selectNewCampaign)\n\tconst { selectedUnits } = temp\n\tconst allAdUnits = useSelector(selectAdUnits)\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\n\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\n\t\t\treturn allAdUnits[value]\n\t\t})\n\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.selectedUnits = selectedIndexes\n\n\t\texecute(updateNewCampaign('adUnits', units))\n\t\texecute(updateNewCampaign('temp', newTemp))\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={2}\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\n\t\t\t>\n\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{hasAdUnits ? (\n\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\tselected={selectedUnits}\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\n\t\t\t\t\t\t\t\tvalidate={props.validate}\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\n\t\t\t\t\t\t\t\tnoClone\n\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\trowSelectable\n\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\n\t\t\t\t\t\t\t\t<NewUnitDialog\n\t\t\t\t\t\t\t\t\tvariant='extended'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default CampaignUnits\n","import React, { Component } from 'react'\nimport { DateTimePicker as MuiDateTimePicker } from '@material-ui/pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport CalendarIcon from '@material-ui/icons/DateRange'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nconst CalendarIconAdor = ({\n\ticon = <CalendarIcon />,\n\ticonColor,\n\tonIconClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\n\t\t\t{icon}\n\t\t</IconButton>\n\t</InputAdornment>\n)\n\nexport class DateTimePicker extends Component {\n\trender() {\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\n\t\treturn (\n\t\t\t<MuiDateTimePicker\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisabled: rest.disabled,\n\t\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default DateTimePicker\n\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\n\treturn (\n\t\t<DateTimePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Grid from '@material-ui/core/Grid'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport TextField from '@material-ui/core/TextField'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { utils } from 'ethers'\nimport MomentUtils from '@date-io/moment'\nimport {\n\tselectSpinnerById,\n\tselectMainToken,\n\tselectNewCampaign,\n\tselectValidationsById,\n\tt,\n} from 'selectors'\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\nimport { validations } from 'adex-models'\nconst { isNumberString } = validations\n\nconst moment = new MomentUtils()\n\nconst getTotalImpressions = ({ depositAmount, minPerImpression }) => {\n\ttry {\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\n\t\tconst min = isNumberString(minPerImpression) && parseFloat(minPerImpression)\n\t\tif (!dep) {\n\t\t\treturn t('DEPOSIT_NOT_SET')\n\t\t} else if (!min) {\n\t\t\treturn t('CPM_NOT_SET')\n\t\t} else {\n\t\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\n\t\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\n\t\t}\n\t} catch (err) {\n\t\treturn 'N/A'\n\t}\n}\n\nfunction CampaignFinance({ validateId }) {\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst campaign = useSelector(selectNewCampaign)\n\n\tconst {\n\t\ttitle,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t\t// depositAsset,\n\t\tactiveFrom,\n\t\twithdrawPeriodStart,\n\t\tminTargetingScore,\n\t\ttemp = {},\n\t} = campaign\n\n\tconst { maxChannelFees, maxDepositFormatted } = temp\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst from = activeFrom || undefined\n\tconst to = withdrawPeriodStart || undefined\n\tconst now = moment.date().valueOf()\n\n\tconst errTitle = invalidFields['title']\n\tconst errDepAmnt = invalidFields['depositAmount']\n\tconst errMin = invalidFields['minPerImpression']\n\tconst errFrom = invalidFields['activeFrom']\n\tconst errTo = invalidFields['withdrawPeriodStart']\n\n\tconst impressions = getTotalImpressions({\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t})\n\n\tconst leader = validators[0] || {}\n\tconst follower = validators[1] || {}\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\n\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\n\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\n\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\n\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tname='depositAmount'\n\t\t\t\t\t\t\tvalue={depositAmount}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty ? errDepAmnt.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('minPerImpression', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\n\t\t\t\t\t\t\tminDate={now}\n\t\t\t\t\t\t\tmaxDate={to}\n\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={from || null}\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\n\t\t\t\t\t\t\tminDate={from || now}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={to || null}\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nCampaignFinance.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default CampaignFinance\n","import React from 'react'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { TopLoading } from 'components/common/dialog/content'\n\nexport const WalletAction = ({ t, authType }) => {\n\tlet msg = ''\n\tlet subMsg\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\n\t\t\tbreak\n\t}\n\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport { Grid, CircularProgress } from '@material-ui/core'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport { formatDateTime } from 'helpers/formatters'\nimport {\n\tselectAccountIdentityAddr,\n\tselectAuthType,\n\tselectMainToken,\n\tselectSpinnerById,\n\tt,\n} from 'selectors'\nimport { execute, getCampaignActualFees } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\n\nconst UnitsTable = ({ items }) => {\n\treturn (\n\t\t<Grid item sm={12}>\n\t\t\t<ContentBody>\n\t\t\t\t<AdUnitsTable items={items} noSearch noActions noDownload noPrint />\n\t\t\t</ContentBody>\n\t\t</Grid>\n\t)\n}\n\nfunction CampaignFormPreview({ newItem } = {}) {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst authType = useSelector(selectAuthType)\n\tconst mainToken = useSelector(selectMainToken)\n\tconst { symbol } = mainToken\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst {\n\t\ttitle,\n\t\t// targeting,\n\t\tadUnits,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t\t// maxPerImpression,\n\t\t// depositAsset,\n\t\twithdrawPeriodStart,\n\t\tactiveFrom,\n\t\tminTargetingScore,\n\t\t// nonce\n\t\ttemp = {},\n\t} = newItem\n\n\tconst { feesFormatted, totalSpendFormatted } = temp\n\n\tuseEffect(() => {\n\t\texecute(getCampaignActualFees())\n\t}, [])\n\n\treturn spinner ? (\n\t\t<FullContentSpinner />\n\t) : (\n\t\t<ContentBox>\n\t\t\t{temp.waitingAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/> */}\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('adUnits', { isProp: true })}\n\t\t\t\t\tright={<UnitsTable items={adUnits} />}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('validators', { isProp: true })}\n\t\t\t\t\tright={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{validators.map(val => (\n\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('CPM', { isProp: true })}\n\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\n\t\t\t\t\tright={`${depositAmount} ${symbol}`}\n\t\t\t\t/>\n\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('FEES')}\n\t\t\t\t\tright={\n\t\t\t\t\t\tfeesFormatted !== undefined ? (\n\t\t\t\t\t\t\t`${feesFormatted} ${symbol}`\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<CircularProgress size={42} />\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\n\t\t\t\t\tright={\n\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\n\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<CircularProgress size={42} />\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\n\t\t\t\t\t\tright={maxPerImpression}\n\t\t\t\t\t/> */}\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\n\t\t\t\t\tright={formatDateTime(activeFrom)}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\n\t\t\t\t/>\n\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(created)}\n\t\t\t\t\t/> */}\n\n\t\t\t\t{/* </Grid> */}\n\t\t\t\t<br />\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nCampaignFormPreview.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewCampaignFormPreview = NewCampaignHoc(CampaignFormPreview)\nexport default NewCampaignFormPreview\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdSlot',\n\t\t\t\tAdSlot\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\n\t\t\tactions.addSlot(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdSlot')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectMainToken,\n\tselectNewAdSlot,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectSlotTypesSourceWithDemands,\n} from 'selectors'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport {\n\tupdateSlotsDemandThrottled,\n\tvalidateNumberString,\n\tupdateNewSlot,\n\texecute,\n} from 'actions'\n\nfunction AdSlotBasic({ validateId }) {\n\tconst newItem = useSelector(selectNewAdSlot)\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\n\tconst {\n\t\ttitle = '',\n\t\tdescription = '',\n\t\twebsite = '',\n\t\ttype = '',\n\t\tminPerImpression = '',\n\t} = newItem\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\n\t)\n\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tuseEffect(() => {\n\t\texecute(updateSlotsDemandThrottled())\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst {\n\t\ttitle: errTitle,\n\t\tdescription: errDescription,\n\t\twebsite: errWebsite,\n\t\ttype: errType,\n\t\tminPerImpression: errMin,\n\t} = invalidFields\n\n\tconst { symbol } = selectMainToken\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\n\t\t\t\t\t\t\tname='website'\n\t\t\t\t\t\t\tvalue={website}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', ev.target.value))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\n\t\t\t\t\t\t\tsource={adTypesSource}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\n\t\t\t\t\t\t\t\t\t? errType.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAdSlotBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotBasic\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport Collapse from '@material-ui/core/Collapse'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Switch from '@material-ui/core/Switch'\nimport { schemas, Joi } from 'adex-models'\n\nconst { adUnitPost } = schemas\n\nconst getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x250'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdSlotMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem } = this.props\n\t\tconst { temp, targetUrl } = newItem\n\t\tconst { useFallback } = temp\n\n\t\tif (useFallback) {\n\t\t\tthis.validateImage(useFallback)\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t}\n\t}\n\n\tvalidateImage = useFallback => {\n\t\tconst { newItem, validate, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl, mime } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (!useFallback) {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: true,\n\t\t\t\terr: {\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t},\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t} else if (tempUrl) {\n\t\t\tvalidateMedia(\n\t\t\t\t{\n\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\twidthTarget: width,\n\t\t\t\t\theightTarget: height,\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\texact: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !useFallback || !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\thandleFallbackChange = useFallback => {\n\t\tconst { temp, targetUrl } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.useFallback = useFallback\n\n\t\tthis.props.handleChange('temp', newTemp)\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\n\t\tthis.validateImage(useFallback)\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tnewItem,\n\t\t\tt,\n\t\t\tvalidateMedia,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t} = this.props\n\t\tconst { targetUrl, type, temp } = newItem\n\t\tconst useFallback = temp.useFallback || false\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Collapse in={useFallback}>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\n\nexport default Translate(NewAdSlotMedia)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport AddIcon from '@material-ui/icons/Add'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nconst AcTags = autocompleteTagsSingleSelect()\n\nconst SOURCES = {\n\ttags: { src: AcTags, collection: 'tags' },\n\tcustom: { src: [], collection: 'tags' },\n}\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdSlotTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: targets || [],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\tthis.props.handleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource = [],\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsource = '',\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t\ttarget = {},\n\t\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\tIconComponent={AddIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\n\nexport default Translate(NewAdSlotTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Typography } from '@material-ui/core'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { selectMainToken } from 'selectors'\n\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\n\treturn (\n\t\t<div>\n\t\t\t<PropRow\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\n\t\t\t\tright={\n\t\t\t\t\t<Img\n\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\n\t\t\t\t\t\talt={targetUrl}\n\t\t\t\t\t\tmediaMime={img.mime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PropRow\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\n\t\t\t\tright={\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\n\t\t\t\t\t\t{targetUrl}\n\t\t\t\t\t</Anchor>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nclass AdSlotPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst {\n\t\t\ttype,\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\twebsite,\n\t\t\ttemp,\n\t\t\ttags,\n\t\t\ttargetUrl,\n\t\t\tminPerImpression,\n\t\t} = newItem\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{temp.useFallback && (\n\t\t\t\t\t\t<SlotFallback\n\t\t\t\t\t\t\timg={temp}\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t\t{tags && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={tags}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdSlotPreview.propTypes = {\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport AddIcon from '@material-ui/icons/Add'\nimport SaveIcon from '@material-ui/icons/Save'\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\nimport CampaignUnits from './Campaign/CampaignUnits'\n// import CampaignTargeting from './Campaign/CampaignTargeting'\nimport CampaignFinance from './Campaign/CampaignFinance'\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\n\nimport {\n\texecute,\n\tvalidateNewCampaignFinance,\n\tvalidateNewCampaignAdUnits,\n\tvalidateNewSlotBasics,\n} from 'actions'\n\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button color='primary' onClick={save}>\n\t\t\t{/*TODO: withStyles */}\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\n\t\t\t{t('SAVE')}\n\t\t</Button>\n\t)\n}\n\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={newItem.temp.waitingAction}\n\t\t>\n\t\t\t{newItem.temp.waitingAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\n\t\t</Button>\n\t)\n}\n\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\n\nconst CancelBtn = ({ ...props }) => {\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\n}\n\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\n\nconst dialogCommon = {\n\tdarkerBackground: true,\n\ticon: <AddIcon />,\n}\n\n// Ad unit\nexport const NewUnitSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdUnit}\n\t\tCancelBtn={CancelBtnWithItem}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdUnit'}\n\t\tstepsId={'new-adunit-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: AdUnitFormPreview,\n\t\t}}\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\n\t\tnoDefaultImg\n\t\titemModel={AdUnit}\n\t/>\n)\n\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\n\nexport const NewUnitDialog = props => (\n\t<NewUnitStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_UNIT'\n\t\ttitle='CREATE_NEW_UNIT'\n\t/>\n)\n\nconst copyProps = {\n\tdarkerBackground: true,\n\ticon: <FileCopyIcon color='primary' />,\n}\n\nexport const NewCloneUnitDialog = props => (\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\n)\n\n// Campaign\nexport const NewCampaignSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithCampaign}\n\t\tCancelBtn={CancelBtnWithCampaign}\n\t\tvalidateIdBase={'new-Campaign-'}\n\t\titemType={'Campaign'}\n\t\tstepsId={'new-campaign-'}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\n\t\t\t\tpage: CampaignUnits,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignAdUnits({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t// NOTE: Only at ad units at the moment\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\n\t\t\t\tpage: CampaignFinance,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignFinance({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: CampaignFormPreview,\n\t\t}}\n\t\titemModel={Campaign}\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\n\t/>\n)\n\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\n\nexport const NewCampaignDialog = props => (\n\t<NewCampaignStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_CAMPAIGN'\n\t\ttitle='CREATE_NEW_CAMPAIGN'\n\t/>\n)\n\n// Ad slot\nexport const NewSlotSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdSlot}\n\t\tCancelBtn={CancelBtnWithAdSlot}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdSlot'}\n\t\tstepsId={'new-slot-'}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\n\t\t\t\tpage: AdSlotBasic,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewSlotBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\n\t\titemModel={AdSlot}\n\t/>\n)\n\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\n\nexport const NewSlotDialog = props => (\n\t<NewSlotStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_SLOT'\n\t\ttitle='CREATE_NEW_SLOT'\n\t/>\n)\n","import React, { useEffect, useState, useCallback, Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectAdUnitsTableData, selectSide } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, noActions, noClone }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<Fragment key={item.id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\titems, //\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignUnits,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t} = props\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, items })\r\n\t}, [side, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignUnits ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectSide, selectAdSlotsTableData } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\taria-label='view'\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tcard: {\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t\twidth: 320,\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'relative',\n\t\t\tmaxWidth: '100%',\n\t\t\t'@media(max-width:380px)': {\n\t\t\t\tmargin: 0,\n\t\t\t\tmarginBottom: spacing,\n\t\t\t},\n\t\t},\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\twidth: 'auto',\n\t\t\tmaxHeight: '100%',\n\t\t},\n\t\tbasicInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'start',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\tlabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\n\t\t\ttop: 0,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React, { Fragment } from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport Img from 'components/common/img/Img'\nimport { validUrl } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport Anchor from 'components/common/anchor/anchor'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { validations, schemas, Joi } from 'adex-models'\nimport { utils } from 'ethers'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { selectMainToken } from 'selectors'\n\nconst FallbackAdData = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\n\n\treturn (\n\t\t<Card className={classes.card} raised={false}>\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\n\t\t\t\t<Img\n\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\n\t\t\t\t\talt={item.fallbackTargetUrl}\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t/>\n\t\t\t</CardMedia>\n\t\t\t{/* <Fab\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleFallbackImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t\tdisabled={isDemo}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Fab> */}\n\t\t\t<CardContent>\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t// required\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\n\t\t\t\t\t\t// maxLength={1024}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{/* <span>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</span> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span className={classes.error}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t)\n}\n\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\n\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\n\tconst { temp } = item\n\tconst newTemp = { ...temp }\n\tnewTemp[prop] = value\n\n\treturn newTemp\n}\n\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\n\tconst isValidNumber = validations.isNumberString(value)\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\tvalidate(prop, {\n\t\tisValid: isValid,\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\tdirty: dirty,\n\t})\n}\n\nconst validateWebsite = (value = '', prop, dirty, errMsg, validate) => {\n\tconst result = Joi.validate(value, schemas.adSlotPut.website)\n\n\tconst isValid = !result.error\n\n\tvalidate(prop, {\n\t\tisValid: isValid,\n\t\terr: { msg: errMsg || 'SLOT_WEBSITE_ERR' },\n\t\tdirty: dirty,\n\t})\n}\n\nconst SlotMinCPM = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errMin = invalidFields['minPerImpression']\n\tconst { address, decimals, symbol } = selectMainToken()\n\tconst minCPM = formatTokenAmount(\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\n\t\tdecimals,\n\t\ttrue\n\t)\n\n\tconst minPerImpression =\n\t\titem.temp.minPerImpression !== undefined\n\t\t\t? item.temp.minPerImpression\n\t\t\t: minCPM\n\n\treturn (\n\t\t<FormControl\n\t\t\tfullWidth\n\t\t\tclassName={classes.textField}\n\t\t\tmargin='dense'\n\t\t\terror={!!errMin}\n\t\t>\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\n\t\t\t<Input\n\t\t\t\tfullWidth\n\t\t\t\tautoFocus\n\t\t\t\ttype='text'\n\t\t\t\tname={'minPerImpression'}\n\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\tonChange={ev => {\n\t\t\t\t\tvalidateAmount(\n\t\t\t\t\t\tev.target.value,\n\t\t\t\t\t\t'minPerImpression',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tvalidate\n\t\t\t\t\t)\n\t\t\t\t\thandleChange(\n\t\t\t\t\t\t'temp',\n\t\t\t\t\t\tupdateItemTemp({\n\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\tmaxLength={1024}\n\t\t\t\tonBlur={ev => {\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\n\t\t\t\t}}\n\t\t\t\tdisabled={!activeFields.minPerImpression}\n\t\t\t\tendAdornment={\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<FormHelperText>\n\t\t\t\t{errMin && !!errMin.errMsg\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\n\t\t\t</FormHelperText>\n\t\t</FormControl>\n\t)\n}\n\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\n\nconst SlotWebsite = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errWebsite = invalidFields['website']\n\n\tconst website = item.temp.website\n\n\treturn (\n\t\t<FormControl\n\t\t\tfullWidth\n\t\t\tclassName={classes.textField}\n\t\t\tmargin='dense'\n\t\t\terror={!!errWebsite && activeFields.website}\n\t\t>\n\t\t\t<InputLabel>{t('SLOT_WEBSITE')}</InputLabel>\n\t\t\t<Input\n\t\t\t\tfullWidth\n\t\t\t\tautoFocus\n\t\t\t\ttype='text'\n\t\t\t\tname={'website'}\n\t\t\t\tvalue={website || item.website || ''}\n\t\t\t\tonChange={ev => {\n\t\t\t\t\tvalidateWebsite(ev.target.value, 'website', true, '', validate)\n\t\t\t\t\thandleChange(\n\t\t\t\t\t\t'temp',\n\t\t\t\t\t\tupdateItemTemp({\n\t\t\t\t\t\t\tprop: 'website',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\tmaxLength={1024}\n\t\t\t\tonBlur={ev => {\n\t\t\t\t\tsetActiveFields('website', false)\n\t\t\t\t}}\n\t\t\t\tdisabled={!!item.website || !activeFields.website}\n\t\t\t\tendAdornment={\n\t\t\t\t\t!item.website && (\n\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tdisabled={activeFields.website || isDemo}\n\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\tonClick={ev => setActiveFields('website', true)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<FormHelperText>\n\t\t\t\t{errWebsite && !!errWebsite.errMsg && activeFields.website ? (\n\t\t\t\t\tt(errWebsite.errMsg, { args: errWebsite.errMsgArgs })\n\t\t\t\t) : (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{activeFields.website && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t</FormHelperText>\n\t\t</FormControl>\n\t)\n}\n\nconst ValidatedSlotWebsite = ValidItemHoc(SlotWebsite)\n\nconst MediaCard = ({\n\tclasses,\n\tmediaUrl,\n\tmediaMime,\n\ttitle,\n\tcanEditImg,\n\ttoggleImgEdit,\n\turl,\n}) => (\n\t<Card className={classes.card} raised={false}>\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\n\t\t\t<Img\n\t\t\t\tallowFullscreen={true}\n\t\t\t\tsrc={mediaUrl}\n\t\t\t\talt={title}\n\t\t\t\tclassName={classes.img}\n\t\t\t\tmediaMime={mediaMime}\n\t\t\t\tallowVideo\n\t\t\t/>\n\t\t</CardMedia>\n\t\t{canEditImg && (\n\t\t\t<Button\n\t\t\t\tvariant='fab'\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Button>\n\t\t)}\n\n\t\t{url && (\n\t\t\t<CardContent>\n\t\t\t\t<Anchor href={url} target='_blank'>\n\t\t\t\t\t{url}\n\t\t\t\t</Anchor>\n\t\t\t</CardContent>\n\t\t)}\n\t</Card>\n)\n\nconst basicProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\tactiveFields,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst mediaMime = item.mediaMime\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\n\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<ValidatedSlotWebsite\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\tvalue={item.type}\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trows={7}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t{rightComponent}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport const BasicProps = withStyles(styles)(basicProps)\n\nconst campaignProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst status = item.status || {}\n\tconst { decimals, symbol } = selectMainToken()\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={classes.basicInfo}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\n\t\t\t\t\t{rightComponent}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\nexport const CampaignProps = withStyles(styles)(campaignProps)\n","import Helper from 'helpers/miscHelpers'\nimport { defaults } from 'react-chartjs-2'\nimport merge from 'lodash.merge'\n\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\n// Eddie colors\nexport const CHARTS_COLORS = [\n\t'#00BAFF',\n\t'#7EDBFF',\n\t'#FF9FA8',\n\t'#14DC9C',\n\t'#61FFB2',\n\t'#ABFFE5',\n]\n\nexport let CHARTS_COMMON_OPTIONS = {\n\tresponsive: true,\n\ttooltips: {\n\t\tmode: 'label',\n\t\tcornerRadius: 2,\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\n\t},\n}\n\nexport const hexColorsToRgbaArray = (colors, alpha) => {\n\treturn colors.map(color => {\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\n\t})\n}\n\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={450}\r\n\t\t\theight={450}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\t// responsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas(earnings || 0)} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr}%`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 20,\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst campaignId = props.campaignId\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = campaign.status.humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box mb={5} className={classnames(classes.pageBreak)}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4'>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5'>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2'>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={5}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_PAID')}</Typography>\r\n\t\t\t\t\t<Typography variant='h4'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6'>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE_EARNINGS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classnames(classes.breakAll)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>{stats.website}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nReceipt.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Receipt\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Card, Typography, TextField } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={3} mt={3}>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Typography variant='h4'>{'Company Details'}</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Card>\r\n\t\t\t\t<Box p={3}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</Box>\r\n\t\t\t</Card>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Card, Button, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport classnames from 'classnames'\r\nimport { Print, Visibility } from '@material-ui/icons'\r\nimport Receipt from './Receipt'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport { t, selectSelectedCampaigns } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\thideOnMobile: {\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\thideOnDesktop: {\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n})\r\nfunction CampaignReceipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst { itemId } = useParams()\r\n\tconst items = useSelector(state => selectSelectedCampaigns(state))\r\n\t// TODO: render back button\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receipts = selectedByPropsOrParams ? [selectedByPropsOrParams] : items\r\n\tif (receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnDesktop)}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={5}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Visibility />\r\n\t\t\t\t\t\t\t<Typography variant='overline' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_PREVIEW_ONLY_DESKTOP')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnMobile)}>\r\n\t\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t\t<Box ref={invoice} className={classnames(classes.a4)}>\r\n\t\t\t\t\t\t\t\t{receipts.map(campaignId => (\r\n\t\t\t\t\t\t\t\t\t<Receipt campaignId={campaignId} key={campaignId} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Card>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { CampaignReceipt }\r\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Anchor from 'components/common/anchor/anchor'\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\nimport { CampaignReceipt } from 'components/dashboard/containers/Receipt/CampaignReceipt'\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\nconst VIEW_MODE = 'campaignRowsView'\n\nexport class Campaign extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context)\n\n\t\tthis.state = {\n\t\t\ttabIndex: 0,\n\t\t\tstatistics: {},\n\t\t}\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index })\n\t}\n\n\tCampaignActions = ({ campaign, actions, t }) => {\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\tclasses,\n\t\t\titem,\n\t\t\t// handleChange,\n\t\t\t// activeFields,\n\t\t\t// isDemo,\n\t\t\tactions,\n\t\t\thistory,\n\t\t\t// ...rest\n\t\t} = this.props\n\t\tconst { tabIndex } = this.state\n\t\tconst units = item.spec.adUnits\n\t\tconst campaign = new CampaignModel(item)\n\t\tconst status = (campaign.status || {}).name\n\t\tconst humanFriendlyName = campaign.status.humanFriendlyName\n\t\tconst leader = campaign.spec.validators[0]\n\t\tconst follower = campaign.spec.validators[1]\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CampaignProps\n\t\t\t\t\titem={campaign}\n\t\t\t\t\tt={t}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t// <UnitTargets\n\t\t\t\t\t\t// \t{...rest}\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\n\t\t\t\t\t\t// \tt={t}\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\n\t\t\t\t\t\t// />\n\t\t\t\t\t\t(status === 'Ready' ||\n\t\t\t\t\t\t\tstatus === 'Active' ||\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\n\t\t\t\t\t\t\t<this.CampaignActions\n\t\t\t\t\t\t\t\tcampaign={campaign}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\t\thistory={history}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default' className={classes.appBar}>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\n\t\t\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\n\t\t\t\t\t\t\t{(humanFriendlyName === 'Closed' ||\n\t\t\t\t\t\t\t\thumanFriendlyName === 'Completed') && (\n\t\t\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 2, md: 2, lg: 1 }}>\n\t\t\t\t\t\t\t\t\t<Grid item lg={8} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable campaignId={item.id} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 1, md: 1, lg: 2 }}>\n\t\t\t\t\t\t\t\t\t<Grid item lg={4} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={item.id} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t\t\t<AdUnitsTable items={units} campaignUnits noClone />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 3 && <CampaignReceipt itemId={campaign.id} />}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaign.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tunits: PropTypes.object.isRequired,\n\trowsView: PropTypes.bool.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\tunits: persist.items['AdUnit'],\n\t\trowsView: !!persist.ui.global[VIEW_MODE],\n\t\tobjModel: CampaignModel,\n\t\titemType: 'Campaign',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(CampaignItem))\n","export const styles = theme => {\n\treturn {\n\t\tappBar: {\n\t\t\tzIndex: theme.zIndex.appBar - 1,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\n\t</g>,\n\n\t'AdexPublisher',\n\t'0 0 114 110'\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\n\t</g>,\n\t'AdexAdvertiser',\n\t'0 0 109 94'\n)\n","import React, { Component } from 'react'\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport Translate from 'components/translate/Translate'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst SideBox = ({\n\tsalePoints = [],\n\tlinkTitle,\n\ticon,\n\ttitle,\n\tdisabled,\n\tclasses,\n\t...other\n}) => (\n\t<div\n\t\t{...other}\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\n\t>\n\t\t<div className={classes.icon}>{icon}</div>\n\t\t<h2>{title}</h2>\n\t\t<ul className={classes.salePoints}>\n\t\t\t{salePoints.map(function(point, key) {\n\t\t\t\treturn <li key={key}> {point} </li>\n\t\t\t})}\n\t\t</ul>\n\t</div>\n)\n\nconst RRSideBox = withReactRouterLink(SideBox)\n\nclass SideSelect extends Component {\n\trender() {\n\t\tlet { t, classes } = this.props\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={true}\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.backdrop,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='sm'\n\t\t\t>\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<AdvertiserLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/advertiser'\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<PublisherLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/publisher'\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nexport default Translate(withStyles(styles)(SideSelect))\n","export const styles = () => {\n\treturn {\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tsideBox: {\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\theight: 'auto',\n\t\t\ttextAlign: 'center',\n\t\t\tverticalAlign: 'top',\n\t\t\topacity: 0.7,\n\t\t\t'&:hover:not(.disabled)': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t\topacity: 1,\n\t\t\t},\n\t\t\t'&.disabled': {\n\t\t\t\topacity: 0.3,\n\t\t\t},\n\t\t\t'@media(max-width:425px)': {\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t\ticon: {\n\t\t\twidth: 110,\n\t\t\theight: 110,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\tsalePoints: {\n\t\t\tpadding: 0,\n\t\t\t'& li': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tlistStyle: 'none',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Line, Chart } from 'react-chartjs-2'\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\nimport Helper from 'helpers/miscHelpers'\nimport { selectStatsChartData, selectMainToken } from 'selectors'\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\n\nconst commonDsProps = {\n\tfill: false,\n\tlineTension: 0.1,\n\tborderWidth: 0,\n\tpointRadius: 3,\n\tpointHitRadius: 10,\n}\n\nexport const SimpleStatistics = ({\n\tside,\n\ttimeframe = '',\n\teventType,\n\tpayouts,\n\timpressions,\n\tclicks,\n\tcpm,\n\toptions = {},\n\tt,\n\txLabel = 'TIMEFRAME',\n\ty1Label = 'DATA1',\n\ty2Label = 'DATA2',\n\ty3Label = 'DATA3',\n\ty4Label = 'DATA4',\n\ty1Color = CHARTS_COLORS[1],\n\ty2Color = CHARTS_COLORS[2],\n\ty3Color = CHARTS_COLORS[3],\n\ty4Color = CHARTS_COLORS[4],\n}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// Vertical line / crosshair\n\tuseEffect(() => {\n\t\tChart.pluginService.register({\n\t\t\tafterDraw: function(chart) {\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\n\t\t\t\t\tconst ctx = chart.ctx\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\n\t\t\t\t\tif (chartScalesy1) {\n\t\t\t\t\t\tconst topY = chartScalesy1.top\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\n\t\t\t\t\t\tctx.save()\n\t\t\t\t\t\tctx.beginPath()\n\t\t\t\t\t\tctx.moveTo(x, topY)\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\n\t\t\t\t\t\tctx.lineWidth = 1 // line width\n\t\t\t\t\t\tctx.setLineDash([1, 5])\n\t\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\n\t\t\t\t\t\tctx.stroke()\n\t\t\t\t\t\tctx.restore()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t})\n\n\tconst chartData = {\n\t\tlabels: payouts.labels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tlabel: y1Label,\n\t\t\t\tdata: payouts.datasets,\n\t\t\t\tyAxisID: 'y-axis-1',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tlabel: y2Label,\n\t\t\t\tdata: impressions.datasets,\n\t\t\t\tyAxisID: 'y-axis-2',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tlabel: y3Label,\n\t\t\t\tdata: clicks.datasets,\n\t\t\t\tyAxisID: 'y-axis-3',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\n\t\t\t\tpointBackgroundColor: y4Color,\n\t\t\t\tlabel: y4Label,\n\t\t\t\tdata: cpm.datasets,\n\t\t\t\tyAxisID: 'y-axis-4',\n\t\t\t},\n\t\t],\n\t}\n\n\tconst linesOptions = {\n\t\tanimation: false,\n\t\tresponsive: true,\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: true,\n\t\t\ttext: options.title,\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: 'black',\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel =\n\t\t\t\t\t\txLabel === y1Label\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\thover: {\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t},\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\tcallback: function(tick, index, array) {\n\t\t\t\t\t\t\treturn index % Math.floor(array.length / 12) ? '' : tick\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y1Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y2Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-2',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y3Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-3',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tlabelString: y4Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-4',\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\treturn <Line height={500} data={chartData} options={linesOptions} />\n}\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport classnames from 'classnames'\nimport InfoIcon from '@material-ui/icons/Info'\nimport { ArrowTooltip } from 'components/common/tooltips'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\tposition: 'relative',\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\n\t\t\tcolor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\n\t\t\t\ttheme.palette.text.primary,\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: theme.spacing(1),\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tprogress: {\n\t\t\tbottom: 0,\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nconst StatsCard = props => {\n\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tlinkCard,\n\t\tchildren,\n\t\tonClick,\n\t\tbgColor,\n\t\tloading,\n\t\texplain,\n\t} = props\n\n\tconst classes = useStyles({ bgColor })\n\n\treturn (\n\t\t<Card\n\t\t\t// raised\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\n\t\t\t\t[classes.linkCard]: !!linkCard,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<CardContent>\n\t\t\t\t{title && (\n\t\t\t\t\t<Typography variant='h5' noWrap>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{subtitle && (\n\t\t\t\t\t<Typography component='p' noWrap>\n\t\t\t\t\t\t{subtitle}{' '}\n\t\t\t\t\t\t{explain && (\n\t\t\t\t\t\t\t<ArrowTooltip\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\n\t\t\t\t\t\t\t\t\t\t{explain}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\n\t\t\t\t\t\t\t</ArrowTooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</CardContent>\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Card>\n\t)\n}\n\nStatsCard.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tlinkCard: PropTypes.bool,\n}\n\nexport default StatsCard\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\nimport lime from '@material-ui/core/colors/lime'\nimport deepOrange from '@material-ui/core/colors/deepOrange'\nimport amber from '@material-ui/core/colors/amber'\nimport grey from '@material-ui/core/colors/grey'\n\nconst WHITE = '#fff'\nexport const PRIMARY = '#1B75BC'\nexport const SECONDARY = '#FFAC00'\nexport const ALEX_GREY = '#3f3e3e'\nexport const ACCENT_ONE = '#57467B'\nexport const ACCENT_ONE_LIGHT = '#ceccde'\nexport const ACCENT_TWO = '#7CB4B8'\nexport const ACCENT_TWO_LIGHT = '#dfecee'\n\nconst palette = {\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\tappBar: { main: grey[200], contrastText: grey[900] },\n\terror: deepOrange,\n\twarning: amber,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\ttext: grey,\n\taction: {\n\t\tdisabledBackground: grey[300],\n\t\tdisabled: grey[600],\n\t},\n}\n\nexport const theme = createMuiTheme({\n\ttypography: {\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\t\tfontSize: 13,\n\t},\n\tpalette: { ...palette },\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: { borderRadius: 0 },\n\t\t},\n\t\tMuiSelect: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiInputLabel: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiOutlinedInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAlert: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\t// MuiStepIcon: {\n\t\t//     root: {\n\t\t//         color: 'yellow',\n\t\t//         '&$active': {\n\t\t//             color: 'orange'\n\t\t//         }\n\t\t//     },\n\t\t//     active: {\n\t\t//         color: 'yellow'\n\t\t//     }\n\t\t// },\n\t\tMuiTableFooter: {\n\t\t\troot: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflex: 0,\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAppBar: {\n\t\t\tcolorDefault: {\n\t\t\t\tbackgroundColor: palette.appBar.main,\n\t\t\t\tcolor: palette.appBar.contrastText,\n\t\t\t},\n\t\t},\n\t\tMUIDataTablePagination: {\n\t\t\ttoolbar: {\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMUIDataTableFilter: {\n\t\t\troot: {\n\t\t\t\tmaxWidth: '400px',\n\t\t\t},\n\t\t},\n\t\t// Think of accessing an element not a class\n\t\tMuiGridListTile: {\n\t\t\troot: {\n\t\t\t\twidth: '100% !important',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBodyCell: {\n\t\t\tstackedCommon: {\n\t\t\t\theight: '80px !important',\n\t\t\t},\n\t\t},\n\t},\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\n\tfactor: 3,\n})\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\tinfoStatsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'stretch',\n\t\t\theight: '100%',\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: spacing,\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tdashboardCardBody: {\n\t\t\tmargin: spacing,\n\t\t\tpadding: spacing,\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateAnalyticsTimeframe } from 'actions'\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\nimport Dropdown from 'components/common/dropdown'\nimport Grid from '@material-ui/core/Grid'\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\nimport StatsCard from './StatsCard'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tPRIMARY,\n\tSECONDARY,\n\tACCENT_ONE,\n\tACCENT_TWO,\n\tALEX_GREY,\n} from 'components/App/themeMUi'\nimport { styles } from './styles'\nimport { formatNumberWithCommas } from 'helpers/formatters'\nimport {\n\tt,\n\tselectTotalImpressions,\n\tselectTotalMoney,\n\tselectAverageCPM,\n\tselectMainToken,\n\tselectAnalytics,\n\tselectTotalClicks,\n\tselectChartDatapointsCPM,\n\tselectChartDatapointsImpressions,\n\tselectChartDatapointsClicks,\n\tselectChartDatapointsPayouts,\n} from 'selectors'\n\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\n\tconst translated = { ...tf }\n\ttranslated.label = t(tf.label)\n\treturn translated\n})\n\nconst metrics = {\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('LABEL_REVENUE'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CTR'),\n\t\t\tcolor: ALEX_GREY,\n\t\t},\n\t],\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('LABEL_SPEND'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_ONE,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('PROP_CPM'),\n\t\t\tcolor: ALEX_GREY,\n\t\t},\n\t],\n}\n\nconst timeHints = {\n\thour: 'SHOWING_LAST_HOUR',\n\tday: 'SHOWING_LAST_24_HOURS',\n\tweek: 'SHOWING_LAST_7_DAYS',\n}\n\nexport function BasicStats({ side }) {\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\n\tconst totalImpressions = useSelector(state =>\n\t\tselectTotalImpressions(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalClicks = useSelector(state =>\n\t\tselectTotalClicks(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalMoney = useSelector(state =>\n\t\tselectTotalMoney(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst averageCPM = useSelector(state =>\n\t\tselectAverageCPM(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst loadingImpressions = totalImpressions === null\n\tconst loadingMoney = totalMoney === null\n\tconst loadingCPM = averageCPM === null\n\tconst loadingClicks = totalClicks === null\n\n\tconst payouts = useSelector(state =>\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\n\t)\n\n\tconst impressions = useSelector(state =>\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\n\t)\n\n\tconst clicks = useSelector(state =>\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\n\t)\n\n\tconst cpm = useSelector(state =>\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\n\t)\n\n\tconst dataInSync =\n\t\t(clicks.labels[clicks.labels.length - 1] ===\n\t\t\timpressions[impressions.labels.length - 1]) ===\n\t\tpayouts[payouts.labels.length - 1]\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div className={classes.infoStatsContainer}>\n\t\t\t\t\t<StatsCard>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\n\t\t\t\t\t\t\tsource={timeFrames}\n\t\t\t\t\t\t\tvalue={timeframe}\n\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='primary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tloading={loadingImpressions && !dataInSync}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='secondary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\n\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\tloadingClicks &&\n\t\t\t\t\t\t\tloadingImpressions &&\n\t\t\t\t\t\t\t!dataInSync &&\n\t\t\t\t\t\t\ttotalClicks / totalImpressions !== Infinity\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\n\t\t\t\t\t\t).toFixed(2)}% ${t('LABEL_CTR')})`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentOne'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{side === 'publisher' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentTwo'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='grey'\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\n\t\t\t\t\t\tloading={loadingCPM && !dataInSync}\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\n\t\t\t\t\t\t)} ${symbol} / CPM`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<SimpleStatistics\n\t\t\t\t\tside={side}\n\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\n\t\t\t\t\t}}\n\t\t\t\t\tpayouts={payouts}\n\t\t\t\t\timpressions={impressions}\n\t\t\t\t\tclicks={clicks}\n\t\t\t\t\tcpm={cpm}\n\t\t\t\t\ty1Label={metrics[side][0].label}\n\t\t\t\t\ty1Color={metrics[side][0].color}\n\t\t\t\t\ty2Label={metrics[side][1].label}\n\t\t\t\t\ty2Color={metrics[side][1].color}\n\t\t\t\t\ty3Label={metrics[side][2].label}\n\t\t\t\t\ty3Color={metrics[side][2].color}\n\t\t\t\t\ty4Label={metrics[side][3].label}\n\t\t\t\t\ty4Color={metrics[side][3].color}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateNav } from 'actions'\nimport { Box, Paper } from '@material-ui/core'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport { BasicStats } from './BasicStats'\nimport { t, selectSide } from 'selectors'\n\nexport function DashboardStats(props) {\n\tconst side = useSelector(selectSide)\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('DASHBOARD')))\n\t}, [])\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\n\t\t<SideSelect active={true} />\n\t) : (\n\t\t<Paper elevation={2}>\n\t\t\t<Box p={1}>\n\t\t\t\t<BasicStats side={side} />\n\t\t\t</Box>\n\t\t</Paper>\n\t)\n}\n\nexport default DashboardStats\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnit } from 'adex-models'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Translate from 'components/translate/Translate'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\n\nexport class Unit extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tcloseDialog: false,\n\t\t}\n\t}\n\t// shouldComponentUpdate(nextProps, nextState) {\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t//     return diffProps || diffState\n\t// }\n\trender() {\n\t\tconst { item, t, ...rest } = this.props\n\n\t\tif (!item) return <h1>Unit '404'</h1>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\ttargets={item.targeting}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tsubHeader={'PROP_TARGETING'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nUnit.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\treturn {\n\t\tobjModel: AdUnit,\n\t\titemType: 'AdUnit',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst UnitItem = ItemHoc(Unit)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(UnitItem))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\nimport copy from 'copy-to-clipboard'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport url from 'url'\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\n\nconst ADVIEW_URL = process.env.ADVIEW_URL\nconst adviewUrl = url.parse(ADVIEW_URL)\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\n\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)`\n\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\n\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\n\tconst { id, type, tags, fallbackUnit } = slot\n\tconst identityAddr = account.identity.address\n\n\tlet sizes = type.split('_')[1].split('x')\n\tsizes = {\n\t\twidth: sizes[0],\n\t\theight: sizes[1],\n\t}\n\n\tconst options = {\n\t\tpublisherAddr: identityAddr,\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\n\t\twhitelistedType: type,\n\t\trandomize: true,\n\t\ttargeting: tags || [],\n\t\t// marketURL: ADEX_MARKET_HOST,\n\t\twidth: sizes.width,\n\t\theight: sizes.height,\n\t\tminPerImpression: '0',\n\t\tminTargetingScore: '0',\n\t\tfallbackUnit,\n\t\tmarketSlot: id,\n\t}\n\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\n\n\tlet src = ADVIEW_URL + query\n\n\tlet iframeStr =\n\t\t`<iframe\\n` +\n\t\t`\tsrc=\"${src}\"\\n` +\n\t\t`\twidth=\"${sizes.width}\"\\n` +\n\t\t`\theight=\"${sizes.height}\"\\n` +\n\t\t`\tscrolling=\"no\"\\n` +\n\t\t`\tframeborder=\"0\"\\n` +\n\t\t`\tstyle=\"border: 0;\"\\n` +\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\n\t\t`></iframe>`\n\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.integrationLabel}>\n\t\t\t\t{t('INTEGRATION_CODE')}\n\t\t\t\t<IconButton\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(iframeStr)\n\t\t\t\t\t\tonCopy && onCopy()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CopyIcon />\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t\t<Paper>\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\n\t\t\t</Paper>\n\t\t\t{process.env.NODE_ENV !== 'production' && (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport class Slot extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\teditFallbackImg: false,\n\t\t\ttabIndex: 0,\n\t\t}\n\t\tthis.tabsFocus = React.createRef()\n\t}\n\n\thandleFallbackImgUpdateToggle = () => {\n\t\tconst active = this.state.editFallbackImg\n\t\tthis.setState({ editFallbackImg: !active })\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index }, () => {\n\t\t\tif (this.tabsFocus.current) {\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\n\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\tblock: 'start',\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\n\t\tconst { tabIndex } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\titemType={itemType}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\tcanEditImg={!isDemo}\n\t\t\t\t\trightComponent={null}\n\t\t\t\t\t{...rest}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\n\t\t\t\t\t\t\tref={this.tabsFocus}\n\t\t\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\n\t\t\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\n\t\t\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<IntegrationCode\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\t\tslot={item}\n\t\t\t\t\t\t\t\tonCopy={() =>\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{/* {tabIndex === 0 && null} */}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSlot.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t\tobjModel: AdSlot,\n\t\titemType: 'AdSlot',\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\n\t\tupdateImgExact: true,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SlotItem)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tintegrationLabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tintegrationCode: {\n\t\t\twhiteSpace: 'pre-wrap',\n\t\t\twordBreak: 'break-word',\n\t\t\tpadding: spacing,\n\t\t\tmargin: 0,\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { InputLoading } from 'components/common/spinners/'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectMainToken,\n\tselectSpinnerById,\n\tselectAccountStatsFormatted,\n} from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\n\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst { availableIdentityBalanceMainToken: max } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\n\t\tselectNewTransactionById(state, stepsId)\n\t)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst { amountToWithdraw: errAmount, withdrawTo: errAddr } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t{' '}\n\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\n\t\t\t\t\targs: [max, symbol],\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<TextField\n\t\t\t\tdisabled={spinner}\n\t\t\t\ttype='text'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\tname='withdrawTo'\n\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t// onChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'withdrawTo',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t/>\n\t\t\t{spinner ? <InputLoading /> : null}\n\t\t\t<TextField\n\t\t\t\ttype='text'\n\t\t\t\tfullWidth\n\t\t\t\trequired\n\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\tname='amountToWithdraw'\n\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\thelperText={\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\targs: [max, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nWithdrawFromIdentity.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default WithdrawFromIdentity\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport Helper from 'helpers/miscHelpers'\n// import { exchange as ExchangeConstants } from 'adex-constants'\n\n// const { TX_STATUS } = ExchangeConstants\n\nexport default function NewTransactionHoc(Decorated) {\n\t// TODO: make it common for bids and items\n\tclass TransactionHoc extends Component {\n\t\tcomponentWillMount() {\n\t\t\t// console.log('TransactionHoc')\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\n\t\t}\n\n\t\t// addTx = (tx) => {\n\t\t//     let txData = { ...tx }\n\t\t//     txData.status = TX_STATUS.Pending.id\n\t\t//     txData.sendingTime = Date.now()\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\n\t\t// }\n\n\t\tonSave = (err, tx, manyTxs) => {\n\t\t\tconst { closeDialog } = this.props\n\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\n\t\t\tthis.resetTransaction()\n\t\t}\n\n\t\tresetTransaction = () => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.resetNewTransaction({ tx: txId })\n\t\t}\n\n\t\thandleSaveRes = ({ err, res }) => {\n\t\t\tconst { t, actions } = this.props\n\t\t\t// const areManyTxs = Array.isArray(res)\n\n\t\t\tif (err) {\n\t\t\t\tactions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.onSave(err, res, Array.isArray(res))\n\t\t}\n\n\t\tsave = () => {\n\t\t\tthis.handleChange('waitingForWalletAction', true)\n\t\t\tthis.props\n\t\t\t\t.saveFn({\n\t\t\t\t\tacc: this.props.account,\n\t\t\t\t\ttransaction: this.props.transaction,\n\t\t\t\t})\n\t\t\t\t.then((res = {}) => {\n\t\t\t\t\tconsole.log('res on save', res)\n\n\t\t\t\t\tconst txs = res.txResults || res\n\t\t\t\t\tconst err = res.err || null\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\n\t\t\t\t})\n\t\t\t\t.catch((error = {}) => {\n\t\t\t\t\tconsole.log('err on save', error)\n\t\t\t\t\tconst res = error.txResults || null\n\t\t\t\t\tconst err = error.err || error\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\n\t\t\t\t})\n\t\t}\n\n\t\tcancel = () => {\n\t\t\t// TODO: take a look at onSave if change something\n\t\t\tthis.onSave(null, null)\n\t\t}\n\n\t\trender() {\n\t\t\tlet transaction = this.props.transaction || {}\n\t\t\tlet props = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\ttransaction={transaction}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tresetTransaction={this.resetTransaction}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tTransactionHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tlabel: PropTypes.string,\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t\t.isRequired,\n\t\ttransaction: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tsaveFn: PropTypes.func,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\tconst txId = props.stepsId\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\ttransaction: memory.newTransactions[txId] || {},\n\t\t\ttxId: txId,\n\t\t\tspinner: memory.spinners[txId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(TransactionHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawAnyTokenFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.amountToWithdraw) {\n\t\t\tvalidate('amountToWithdraw', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.tokenAddress) {\n\t\t\tvalidate('tokenAddress', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\n\t\tthis.props.validate('amountToWithdraw', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\tbalanceAnySpinner,\n\t\t} = this.props\n\t\tconst {\n\t\t\twithdrawTo,\n\t\t\tamountToWithdraw,\n\t\t\ttokenAddress,\n\t\t\ttokenBalance,\n\t\t\ttokenDecimals,\n\t\t} = transaction || {}\n\t\tconst errAmount = invalidFields['amountToWithdraw']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\tconst errToken = invalidFields['tokenAddress']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={balanceAnySpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\n\t\t\t\t\tname='tokenAddress'\n\t\t\t\t\tvalue={tokenAddress || ''}\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errToken && !!errToken.dirty}\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\n\t\t\t\t/>\n\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\n\t\t\t\t\tname='tokenDecimals'\n\t\t\t\t\tvalue={tokenDecimals || ''}\n\t\t\t\t\tonChange={ev => handleChange('tokenDecimals', ev.target.value)}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t\tnonERC20: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t\tnonERC20: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_AMOUNT_TO_WITHDRAW')}\n\t\t\t\t\tname='amountToWithdraw'\n\t\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\t\tonChange={ev => handleChange('amountToWithdraw', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(amountToWithdraw, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(amountToWithdraw, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\n\t\t\t\t\t\t\t? errAmount.errMsg\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawAnyTokenFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\n\tWithdrawAnyTokenFromIdentity\n)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawAnyTokenFromIdentityForm)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport Box from '@material-ui/core/Box'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport Typography from '@material-ui/core/Typography'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { constants } from 'adex-models'\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\n\nconst { IdentityPrivilegeLevel } = constants\n\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\n\treturn {\n\t\tvalue,\n\t\tlabel: t(`PRIV_${value}_LABEL`),\n\t\tinfo: t(`PRIV_${value}_INFO`),\n\t}\n})\n\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\n\t\tstate => selectNewTransactionById(state, stepsId)\n\t)\n\n\tconst {\n\t\tsetAddr: errAddr,\n\t\tsetAddrWarning: warning,\n\t\tprivLevel: errPrivLvl,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<div>\n\t\t\t<div> {t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}</div>\n\t\t\t<TextField\n\t\t\t\ttype='text'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\n\t\t\t\tname='setAddr'\n\t\t\t\tvalue={setAddr || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t/>\n\t\t\t<Dropdown\n\t\t\t\trequired\n\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\n\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\n\t\t\t\tonChange={val =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'privLevel',\n\t\t\t\t\t\t\tvalue: val,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tsource={PRIV_LEVELS_SRC}\n\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\n\t\t\t\thtmlId='label-privLevel'\n\t\t\t\tfullWidth\n\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\n\t\t\t\thelperText={\n\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\n\t\t\t\t\t\t? errPrivLvl.errMsg\n\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Box marginTop={2}>\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\n\t\t\t\t</Typography>\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tkey={x.value}\n\t\t\t\t\t\tvariant='caption'\n\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t>\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\n\t\t\t\t\t</Typography>\n\t\t\t\t))}\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{(warning || warningAccepted || warningMsg) && (\n\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\n\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue='warningAccepted'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nSeAddressPrivilege.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default SeAddressPrivilege\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { InputLoading } from 'components/common/spinners/'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nclass SetAccountENSPage extends Component {\n\tcomponentDidMount() {\n\t\tconst { transaction, validate } = this.props\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('setEns', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleValidate = () => {\n\t\tif (this._timeout) {\n\t\t\t//if there is already a timeout in process cancel it\n\t\t\tclearTimeout(this._timeout)\n\t\t}\n\t\tthis._timeout = setTimeout(() => {\n\t\t\tthis._timeout = null\n\t\t\tconst { actions, transaction, validate } = this.props\n\t\t\tconst { setEns } = transaction || {}\n\t\t\tactions.validateENS({\n\t\t\t\tens: setEns,\n\t\t\t\tdirty: true,\n\t\t\t\tvalidate,\n\t\t\t\tname: 'setEns',\n\t\t\t})\n\t\t}, 500)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\tsetEnsSpinner,\n\t\t} = this.props\n\t\tconst { setEns } = transaction || {}\n\t\t// const errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['setEns']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div> {t('SET_ENS_MAIN_INFO')}</div>\n\t\t\t\t<form noValidate>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\n\t\t\t\t\t\tname='setEns'\n\t\t\t\t\t\tvalue={setEns || ''}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\thandleChange('setEns', ev.target.value.toLowerCase())\n\t\t\t\t\t\t\tthis.handleValidate()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t{setEnsSpinner ? <InputLoading /> : null}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSetAccountENSPage.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\tsetEnsSpinner: memory.spinners['setEns'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SetAccountENSPageForm = NewTransactionHoc(SetAccountENSPage)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SetAccountENSPageForm)\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { PropRow } from 'components/common/dialog/content'\nimport { constants } from 'adex-models'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nexport const IdentityWithdrawPreview = ({\n\tt,\n\twithdrawTo,\n\tclasses,\n\tfeesData,\n\tamountToWithdraw,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='amountToWithdraw'\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetPrivilegePreview = ({\n\tt,\n\tsetAddr,\n\tclasses,\n\tfeesData,\n\tprivLevel,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='setAddr'\n\t\t\tleft={t('setAddr', { isProp: true })}\n\t\t\tright={(setAddr || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='privLevel'\n\t\t\tleft={t('privLevel', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [feesData.fees, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetENSPreview = ({\n\tt,\n\tsetEns,\n\taddress,\n\tclasses,\n\tfeesData,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='addr'\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\n\t\t\tright={(address || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='setEns'\n\t\t\tleft={t('setEns', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\tfeesData.fees,\n\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`,\n\t\t\t\t\t\t],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const IdentityWithdrawAnyPreview = ({\n\tt,\n\twithdrawTo,\n\ttokenAddress,\n\tclasses,\n\tfeesData,\n\tamountToWithdraw,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='tokenAddress'\n\t\t\tleft={t('tokenAddress', { isProp: true })}\n\t\t\tright={(tokenAddress || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='amountToWithdraw'\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport NewTransactionHoc from './TransactionHoc'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { styles } from './styles'\nimport {\n\tIdentityWithdrawPreview,\n\tSetPrivilegePreview,\n\tSetENSPreview,\n\tIdentityWithdrawAnyPreview,\n} from './previews'\n\nimport {\n\tselectMainToken,\n\tt,\n\tselectSpinnerById,\n\tselectAccount,\n\tselectNewTransactionById,\n} from 'selectors'\nimport { execute, updateSpinner } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction TransactionPreview(props) {\n\tconst classes = useStyles()\n\tconst {\n\t\tgetFeesFn,\n\t\thandleChange,\n\t\tidentityAvailable,\n\t\tpreviewWarnMsgs,\n\t\tstepsId,\n\t} = props\n\tconst txId = stepsId\n\tconst account = useSelector(selectAccount)\n\tconst { address } = account.identity\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst transaction = useSelector(state =>\n\t\tselectNewTransactionById(state, txId)\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\n\n\tuseEffect(() => {\n\t\tif (getFeesFn && Object.keys(transaction).length) {\n\t\t\texecute(updateSpinner(txId, true))\n\t\t\tgetFeesFn({ account, transaction })\n\t\t\t\t.then(feesData => {\n\t\t\t\t\thandleChange('feesData', feesData)\n\t\t\t\t\t// if (feesData.toGet) {\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\n\t\t\t\t\t// }\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\n\t\t\t\t\t\thandleChange('errors', [\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\n\t\t\t\t})\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst {\n\t\twithdrawTo,\n\t\twithdrawAmount,\n\t\tamountToWithdraw,\n\t\tsetAddr,\n\t\tsetEns,\n\t\tprivLevel,\n\t\ttokenAddress,\n\t\tfeesData = {},\n\t\terrors = [],\n\t} = transaction\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<ContentBox>\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\n\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{errors.length\n\t\t\t\t\t\t\t? errors.map((err, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\t\tright={err}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{previewWarnMsgs\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\n\t\t\t\t\t\t\t<SetPrivilegePreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setENS' && (\n\t\t\t\t\t\t\t<SetENSPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\tsetEns={setEns}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</ContentBox>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nTransactionPreview.propTypes = {\n\tlabel: PropTypes.string,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tpreviewMsgs: PropTypes.array,\n}\n\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\nexport default TransactionPreviewForm\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: theme.palette.warning.A700,\n\t\t},\n\t\tcentralSpinner: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 20px)',\n\t\t\ttop: ' calc(50% - 20px)',\n\t\t},\n\t\timgPreview: {\n\t\t\theight: 120,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t}\n}\n","import React from 'react'\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\nimport SeAddressPrivilege from './SeAddressPrivilege'\nimport SetAccountENSPage from './SetAccountENSPage'\nimport TransactionPreview from './TransactionPreview'\nimport Button from '@material-ui/core/Button'\nimport TransactionHoc from './TransactionHoc'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { t } from 'selectors'\n// import SaveIcon from '@material-ui/icons/Save'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\nimport {\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n\taddIdentityENS,\n\twithdrawOtherTokensFromIdentity,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddrIdentityPrivilege,\n\tidentityWithdraw,\n\tsetIdentityENS,\n\tvalidatePrivilegesChange,\n\tidentityWithdrawAny,\n\tvalidateIdentityWithdraw,\n\texecute,\n} from 'actions'\n\nconst FormStepsWithDialog = WithDialog(FormSteps)\n\nconst SaveBtn = ({\n\tsave,\n\tsaveBtnLabel,\n\tsaveBtnIcon,\n\tt,\n\ttransaction,\n\twaitingForWalletAction,\n\tspinner,\n\t...other\n}) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\n\t\t\t\t!!transaction.waitingForWalletAction ||\n\t\t\t\t!!spinner\n\t\t\t}\n\t\t>\n\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || ''\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\n\t\t</Button>\n\t)\n}\n\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\n}\n\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\n\nconst txCommon = {\n\tSaveBtn: SaveBtnWithTransaction,\n\tCancelBtn: CancelBtnWithTransaction,\n\tvalidateIdBase: 'tx-',\n\tdarkerBackground: true,\n}\n\nexport const WithdrawTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawFromIdentity,\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateIdentityWithdraw({\n\t\t\t\t\t\t\tstepsId,\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction: { amountToWithdraw, withdrawTo } } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\twithdrawTo,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t/>\n)\n\nexport const SetIdentityPrivilege = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\n\t\tstepsId='setIdentityPrivilege'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\n\t\t\t\tpage: SeAddressPrivilege,\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidatePrivilegesChange({\n\t\t\t\t\t\t\tstepsId,\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\taddrIdentityPrivilege({\n\t\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn setIdentityPrivilege({\n\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const WithdrawAnyTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawAnyFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(identityWithdrawAny(transaction))\n\t\t}}\n\t\tgetFeesFn={({ transaction = {}, account } = {}) => {\n\t\t\treturn withdrawOtherTokensFromIdentity({\n\t\t\t\t...transaction,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const SetAccountENS = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\n\t\tstepsId='setENS'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\n\t\t\t\tpage: SetAccountENSPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tsetIdentityENS({\n\t\t\t\t\tusername: transaction.setEns,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ account } = {}) => {\n\t\t\treturn addIdentityENS({\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\t\t}}\n\t/>\n)\n","import React, { useState, useEffect, Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tWithdrawTokenFromIdentity,\n\tWithdrawAnyTokenFromIdentity,\n\tSetIdentityPrivilege,\n\tSetAccountENS,\n} from 'components/dashboard/forms/web3/transactions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { styles } from './styles.js'\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\nimport { LoadingSection } from 'components/common/spinners'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport IconButton from '@material-ui/core/IconButton'\nimport copy from 'copy-to-clipboard'\nimport {\n\tt,\n\tselectWallet,\n\tselectAccountStatsFormatted,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectMainToken,\n\tselectEasterEggsAllowed,\n\tselectEnsAddressByAddr,\n} from 'selectors'\nimport { updateNav, execute, addToast } from 'actions'\nimport { formatAddress } from 'helpers/formatters'\n// const RRButton = withReactRouterLink(Button)\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\n\nconst AccountItem = props => (\n\t<ListItem>\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexWrap={'wrap'}\n\t\t\tflex='1'\n\t\t\tjustifyContent='space-between'\n\t\t\talignItems='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tflexGrow='8'\n\t\t\t\tflexBasis='700px'\n\t\t\t\tmr={1}\n\t\t\t\tflexWrap={'nowrap'}\n\t\t\t\tdisplay='flex'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t>\n\t\t\t\t<Box flex='1'>{props.left}</Box>\n\t\t\t</Box>\n\t\t\t<Box flexGrow='1' flexBasis='20em'>\n\t\t\t\t{props.right}\n\t\t\t</Box>\n\t\t</Box>\n\t</ListItem>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction AccountInfo() {\n\tconst { authType = '', email, password } = useSelector(selectWallet)\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst canMakeTx = privileges > 1\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\twalletAddress,\n\t\tidentityBalanceMainToken,\n\t\tavailableIdentityBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst identityEnsName = useSelector(state =>\n\t\tselectEnsAddressByAddr(state, identityAddress)\n\t)\n\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\n\n\tconst [localWalletDownloadHref, setLocalWalletDownloadHref] = useState('')\n\n\tconst loadBackupHref = async () => {\n\t\tconst obj = await getRecoveryWalletData({ email, password, authType })\n\t\tif (obj && obj.wallet) {\n\t\t\tconst data =\n\t\t\t\t'data:text/json;charset=utf-8,' +\n\t\t\t\tencodeURIComponent(JSON.stringify(obj))\n\n\t\t\tsetLocalWalletDownloadHref(data)\n\t\t}\n\t}\n\n\tconst [expanded, setExpanded] = useState(false)\n\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('ACCOUNT')))\n\t}, [identityAddress])\n\n\tuseEffect(() => {\n\t\tloadBackupHref()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst displayRampWidget = () => {\n\t\tconst widget = new RampInstantSDK({\n\t\t\thostAppName: 'AdExNetwork',\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\n\t\t\tvariant: 'auto',\n\t\t\tswapAsset: symbol,\n\t\t\tuserAddress: identityAddress,\n\t\t})\n\t\twidget.domNodes.overlay.style.zIndex = 1000\n\t\twidget.show()\n\t}\n\n\tconst handleExpandChange = () => {\n\t\tsetExpanded(!expanded)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<List className={classes.root}>\n\t\t\t\t<ListSubheader>{t('ADEX_ACCOUNT')}</ListSubheader>\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t{...(identityEnsName && {\n\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\n\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t{...(!identityEnsName && {\n\t\t\t\t\t\t\t\t\tprimary: identityAddress,\n\t\t\t\t\t\t\t\t\tsecondary: t('ENS_NOT_SET'),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\t!!identityAddress && (\n\t\t\t\t\t\t\t<SetAccountENS\n\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\ttoken='DAI'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t\t<ListDivider />\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\n\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\ttoken={symbol}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ExpansionPanel\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tonChange={handleExpandChange}\n\t\t\t\t\tsquare={true}\n\t\t\t\t>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='panel1bh-content'\n\t\t\t\t\t\tid='panel1bh-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\n\t\t\t\t\t\t\t<AccountItem\n\t\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\n\t\t\t\t\t\t\t\t\t\tsecondary={t('WALLET_INFO_LABEL', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t`AUTH_${authType.toUpperCase()}`,\n\t\t\t\t\t\t\t\t\t\t\t\t`PRIV_${privileges}_LABEL`,\n\t\t\t\t\t\t\t\t\t\t\t\tauthType,\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t\tlocalWalletDownloadHref && (\n\t\t\t\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained' fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<AccountItem\n\t\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t\tsecondary={''}\n\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t></AccountItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t{allowEasterEggs && (\n\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default AccountInfo\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tactionBtn: {\n\t\t\tmargin: spacing,\n\t\t},\n\t\taddress: {\n\t\t\twordWrap: 'break-word',\n\t\t\twordBreak: 'break-all',\n\t\t\tflexGrow: 0,\n\t\t},\n\t\tadvancedList: {\n\t\t\twidth: '100%',\n\t\t},\n\t\ticonBtnLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}\n}\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { Stars } from '@material-ui/icons'\r\nimport { PRIMARY, SECONDARY } from 'components/App/themeMUi'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tzIndex: 1,\r\n\t\twidth: props => props.size || 80,\r\n\t\theight: props => props.size || 80,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `3px solid ${theme.palette.grey[300]}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `3px solid ${PRIMARY} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `3px solid ${SECONDARY}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: 40,\r\n\t},\r\n\tline: {\r\n\t\theight: 3,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, #fff 50%), ${\r\n\t\t\ttheme.palette.grey[300]\r\n\t\t}`,\r\n\t\tbackgroundSize: `16px 2px, 100% 2px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <Stars className={clsx(classes.star)} color='secondary' />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\nimport { Typography } from '@material-ui/core'\nimport { confirmAction, execute } from 'actions'\nimport { t } from 'selectors'\nimport { ExternalAnchor } from 'components/common/anchor/'\n\nexport const createAdUnitTutorial = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 8; i++) {\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\tcancelLabel: t('CANCEL'),\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const fundAccountTutorial = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 4; i++) {\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\tcancelLabel: t('CANCEL'),\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HERE')}\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const launchFirstCampaign = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 5; i++) {\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\tcancelLabel: t('CANCEL'),\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const createAdSlot = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 7; i++) {\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\tcancelLabel: t('CANCEL'),\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const placeAdSlot = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 2; i++) {\n\t\tsteps.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\tcancelLabel: t('CANCEL'),\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t'https://webcusp.com/iframe-wordpress-plugins-and-tutorials/'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t\t,\n\t\t\t\t\t</Typography>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n","import React, { Fragment, useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tBox,\n\tStepButton,\n\tMobileStepper,\n\tStepper,\n\tStep,\n\tStepLabel,\n\tButton,\n\tTypography,\n\tHidden,\n\tLink,\n\tExpansionPanel,\n\tExpansionPanelDetails,\n\tExpansionPanelSummary,\n\tTooltip,\n} from '@material-ui/core'\nimport {\n\tKeyboardArrowLeft,\n\tKeyboardArrowRight,\n\tExpandMore,\n\tClose,\n\tStar,\n\tStarBorder,\n} from '@material-ui/icons'\nimport EmailEddie from 'resources/getting-started/GS-email-ic.png'\nimport FundEddie from 'resources/getting-started/GS-fund-ic.png'\nimport CreateEddie from 'resources/getting-started/GS-create-ic.png'\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic.png'\nimport PlaceEddie from 'resources/getting-started/GS-place-ic.png'\nimport BonusEddie from 'resources/getting-started/GS-bonus-ic.png'\nimport {\n\tt,\n\tselectHasCreatedAdUnit,\n\tselectHasCreatedCampaign,\n\tselectHasConfirmedEmail,\n\tselectHasFundedAccount,\n\tselectHasAdSlotImpressions,\n\tselectHas5000Impressions,\n\tselectHasCreatedAdSlot,\n\tselectHideGettingStarted,\n\tselectEmailProvider,\n} from 'selectors'\nimport { useSelector } from 'react-redux'\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\nimport { hideGettingStarted, execute } from 'actions'\nimport {\n\tcreateAdUnitTutorial,\n\tfundAccountTutorial,\n\tlaunchFirstCampaign,\n\tcreateAdSlot,\n\tplaceAdSlot,\n} from './Tutorials'\nimport { ExternalAnchor } from 'components/common/anchor/'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tflex: 1,\n\t},\n\tbutton: {\n\t\tmarginRight: theme.spacing(1),\n\t},\n\tinstructions: {\n\t\tmarginTop: theme.spacing(1),\n\t\tmarginBottom: theme.spacing(1),\n\t},\n}))\n\nexport default function GettingStarted(props) {\n\tconst classes = useStyles()\n\tconst { side } = props\n\n\tconst hasCreatedAdUnit = useSelector(selectHasCreatedAdUnit)\n\tconst hasCreatedCampaign = useSelector(selectHasCreatedCampaign)\n\tconst hasCreatedAdSlot = useSelector(selectHasCreatedAdSlot)\n\tconst hasConfirmedEmail = useSelector(selectHasConfirmedEmail)\n\tconst hasFundedAccount = useSelector(selectHasFundedAccount)\n\tconst hasImpressions = useSelector(selectHasAdSlotImpressions)\n\tconst has5000Impressions = useSelector(selectHas5000Impressions)\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\n\tconst emailProvider = useSelector(selectEmailProvider)\n\tconst [expanded, setExpanded] = useState(true)\n\n\tconst steps = {\n\t\tadvertiser: [\n\t\t\t{\n\t\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\n\t\t\t\tcontent: (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{t('TUTORIAL_CONFIRM_EMAIL_CONTENT')}\n\t\t\t\t\t\t{emailProvider\n\t\t\t\t\t\t\t? t('TUTORIAL_CONFIRM_EMAIL_CONTENT_GO_TO', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\t\t\tkey='confirm-email-go-to'\n\t\t\t\t\t\t\t\t\t\t\thref={`https://${emailProvider}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{emailProvider}\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t</Fragment>\n\t\t\t\t),\n\t\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\n\t\t\t\ticon: EmailEddie,\n\t\t\t\tcheck: hasConfirmedEmail,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\n\t\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\n\t\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\n\t\t\t\ticon: CreateEddie,\n\t\t\t\tcheck: hasCreatedAdUnit,\n\t\t\t\ttutorial: createAdUnitTutorial,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\n\t\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\n\t\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\n\t\t\t\ticon: FundEddie,\n\t\t\t\tcheck: hasFundedAccount,\n\t\t\t\ttutorial: fundAccountTutorial,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\n\t\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\n\t\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\n\t\t\t\ticon: LaunchEddie,\n\t\t\t\tcheck: hasCreatedCampaign,\n\t\t\t\ttutorial: launchFirstCampaign,\n\t\t\t},\n\t\t\t// {\n\t\t\t// \tlabel: 'Receive your bonus',\n\t\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\n\t\t\t// \ticon: BonusEddie,\n\t\t\t// \tcheck: false,\n\t\t\t// },\n\t\t],\n\t\tpublisher: [\n\t\t\t{\n\t\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\n\t\t\t\tcontent: (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{t('TUTORIAL_CONFIRM_EMAIL_CONTENT')}\n\t\t\t\t\t\t{emailProvider\n\t\t\t\t\t\t\t? t('TUTORIAL_CONFIRM_EMAIL_CONTENT_GO_TO', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\t\t\tkey='confirm-mail-link'\n\t\t\t\t\t\t\t\t\t\t\thref={`https://${emailProvider}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{emailProvider}\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t</Fragment>\n\t\t\t\t),\n\t\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\n\t\t\t\ticon: EmailEddie,\n\t\t\t\tcheck: hasConfirmedEmail,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\n\t\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\n\t\t\t\tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\n\t\t\t\ticon: CreateEddie,\n\t\t\t\tcheck: hasCreatedAdSlot,\n\t\t\t\ttutorial: createAdSlot,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\n\t\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\n\t\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\n\t\t\t\ticon: PlaceEddie,\n\t\t\t\tcheck: hasImpressions,\n\t\t\t\ttutorial: placeAdSlot,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\n\t\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\n\t\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\n\t\t\t\ticon: LaunchEddie,\n\t\t\t\tcheck: has5000Impressions,\n\t\t\t},\n\t\t\t// {\n\t\t\t// \tlabel: 'Receive your bonus',\n\t\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\n\t\t\t// \ticon: BonusEddie,\n\t\t\t// \tcheck: false,\n\t\t\t// },\n\t\t],\n\t}\n\tconst indexOfFirstIncompleteStep = steps[side].findIndex(step => !step.check)\n\tconst [activeStep, setActiveStep] = React.useState(0)\n\n\tconst handleStep = step => () => {\n\t\tsetActiveStep(step)\n\t}\n\n\tconst handleNext = () => {\n\t\tsetActiveStep(activeStep + 1)\n\t}\n\tconst handleBack = () => {\n\t\tsetActiveStep(activeStep - 1)\n\t}\n\n\tconst handleDismiss = () => {\n\t\tsetActiveStep(0)\n\t\texecute(hideGettingStarted())\n\t}\n\tuseEffect(() => {\n\t\tsetActiveStep(\n\t\t\tindexOfFirstIncompleteStep !== -1\n\t\t\t\t? indexOfFirstIncompleteStep\n\t\t\t\t: steps[side].length - 1\n\t\t)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [indexOfFirstIncompleteStep])\n\t// TODO: wait for the data to be loaded before displaying the getting started\n\treturn (\n\t\t!isGettingStartedHidden &&\n\t\t(steps[side] && (\n\t\t\t<Box mb={2}>\n\t\t\t\t<ExpansionPanel\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tonChange={() => setExpanded(!expanded)}\n\t\t\t\t\tsquare={true}\n\t\t\t\t>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\t\taria-controls='expand-getting-started'\n\t\t\t\t\t\tid='getting-started-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\twidth={1}\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\n\t\t\t\t\t\t\t\t{t('GETTING_STARTED_HEADING')}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{steps[side].map(({ label, icon, check }, index) => {\n\t\t\t\t\t\t\t\t\tconst Icon = check ? Star : StarBorder\n\t\t\t\t\t\t\t\t\tconst color = check ? 'secondary' : 'inherit'\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={label} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t<Icon color={color} />\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ExpansionPanelSummary>\n\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<Box width={1}>\n\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\n\t\t\t\t\t\t\t\t\t\ticon={steps[side][activeStep].icon}\n\t\t\t\t\t\t\t\t\t\tcompleted={steps[side][activeStep].check}\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<MobileStepper\n\t\t\t\t\t\t\t\t\tclassName={classes.root}\n\t\t\t\t\t\t\t\t\tsteps={steps[side].length}\n\t\t\t\t\t\t\t\t\tposition='static'\n\t\t\t\t\t\t\t\t\tvariant='progress'\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\n\t\t\t\t\t\t\t\t\tnextButton={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === steps[side].length - 1}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbackButton={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t\t\t<Stepper\n\t\t\t\t\t\t\t\t\tnonLinear\n\t\t\t\t\t\t\t\t\talternativeLabel\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{steps[side].map(({ label, icon, check }, index) => (\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\n\t\t\t\t\t\t\t\t\t\t</Step>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Stepper>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveStep + 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsteps[side][activeStep].label || '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].check ? t('COMPLETED') : ''}\n\t\t\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].check ? (\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].contentCompleted}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].content}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{steps[side][activeStep].tutorial &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsteps[side][activeStep].tutorial()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</Box>\n\t\t))\n\t)\n}\n","import React, { useState, useEffect, Fragment } from 'react'\nimport SideNav from './SideNav'\nimport TopBar from './TopBar'\nimport { Route, Switch } from 'react-router'\nimport Campaign, {\n\tCampaignReceipt,\n} from 'components/dashboard/containers/Campaign'\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\nimport Unit from 'components/dashboard/containers/Unit'\nimport Slot from 'components/dashboard/containers/Slot'\nimport Account from 'components/dashboard/account/AccountInfo'\nimport {\n\tNewUnitDialog,\n\tNewCampaignDialog,\n\tNewSlotDialog,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\tCampaignsTable,\n\tAdSlotsTable,\n\tAdUnitsTable,\n} from 'components/dashboard/containers/Tables'\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\nimport Drawer from '@material-ui/core/Drawer'\nimport Box from '@material-ui/core/Box'\nimport Alert from '@material-ui/lab/Alert'\nimport Hidden from '@material-ui/core/Hidden'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tupdateNav,\n\texecute,\n\tresolveEnsAddress,\n\tupdatePrivilegesWarningAccepted,\n\tloadAccountData,\n\tstopAccountDataUpdate,\n} from 'actions'\nimport {\n\tt,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectPrivilegesWarningAccepted,\n\tselectPublisherMinRevenueReached,\n} from 'selectors'\nimport { useSelector } from 'react-redux'\nimport GettingStarted from '../getting-started/GettingStarted'\n\nconst Campaigns = () => {\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst disabled = privileges <= 1\n\treturn (\n\t\t<Fragment>\n\t\t\t<NewCampaignDialog\n\t\t\t\tdisabled={disabled}\n\t\t\t\tfabButton\n\t\t\t\tvariant='extended'\n\t\t\t\taccent\n\t\t\t\tcolor='secondary'\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\n\t\t\t/>\n\t\t\t<CampaignsTable />\n\t\t</Fragment>\n\t)\n}\n\nconst AdUnits = () => (\n\t<>\n\t\t<NewUnitDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_UNIT'\n\t\t/>\n\t\t<AdUnitsTable />\n\t</>\n)\n\nconst AdSlots = () => (\n\t<>\n\t\t<NewSlotDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_SLOT'\n\t\t/>\n\t\t<AdSlotsTable />\n\t</>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction Dashboard(props) {\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\tconst [dataLoaded, setDataLoaded] = useState(false)\n\tconst address = useSelector(selectAccountIdentityAddr)\n\tconst minPublisherRevenueReached = useSelector(\n\t\tselectPublisherMinRevenueReached\n\t)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\n\n\tconst { match } = props\n\tconst { side } = match.params\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\tasync function updateInitialData() {\n\t\t\tawait execute(loadAccountData())\n\t\t\tsetDataLoaded(true)\n\t\t}\n\n\t\tupdateInitialData()\n\n\t\treturn () => {\n\t\t\texecute(stopAccountDataUpdate())\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\texecute(resolveEnsAddress({ address }))\n\t}, [address])\n\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t}, [side])\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\tconst drawer = <SideNav side={side} />\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<TopBar\n\t\t\t\tside={side}\n\t\t\t\topen={mobileOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t/>\n\t\t\t<Hidden mdUp>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\tanchor='left'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden smDown implementation='css'>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\topen\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t{showTxPrivLevelWarning && (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tseverity='info'\n\t\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\n\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{side === 'publisher' && !minPublisherRevenueReached && (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Alert variant='outlined' severity='warning'>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{t('PUBLISHER_REVENUE_NOTICE', {\n\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\tkey='publisher-revenue-notice'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\tunderline='always'\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012285459-Mandatory-verification-for-publishers'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{<strong>{t('HERE')}</strong>}\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\n\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\n\t\t\t\t\t\t\tcomponent={Campaigns}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\n\t\t\t\t\t\t\tcomponent={AdUnits}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\n\t\t\t\t\t\t\tcomponent={Campaign}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\n\t\t\t\t\t\t\tcomponent={CampaignReceipt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/receipt/:itemId'\n\t\t\t\t\t\t\tcomponent={CampaignReceipt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\n\t\t\t\t\t\t\tcomponent={Unit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\n\t\t\t\t\t\t\tcomponent={AdSlots}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\n\t\t\t\t\t\t\tcomponent={Slot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\n\t\t\t\t\t\t\tcomponent={Account}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\t\tauth={this.props.auth}\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t<Route exact path='/dashboard/:side' component={DashboardStats} />\n\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\t// flexGrow: 1,\n\t\t\theight: '100vh',\n\t\t},\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\theight: '100vh',\n\t\t\tflexGrow: '1',\n\t\t},\n\t\tactions: {\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t},\n\t\tbuttons: {\n\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t},\n\t\tadxVersion: {\n\t\t\t// position: 'absolute',\n\t\t\t// left: spacing,\n\t\t\t// bottom: spacing\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\t// marginTop: '1.5vh',\n\t\t\t// width: '17.92vh',\n\t\t\t// height: '6vh',\n\t\t\theight: '2rem',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tnoBg: {\n\t\t\tbackground: 0,\n\t\t\tboxShadow: 'none',\n\t\t\toverflow: 'visible',\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\t// position: 'relative',\n\t\t\tjustifyContent: 'center',\n\t\t\tpadding: 24,\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t// '&:first-child': {\n\t\t\t// \tpaddingTop: spacing,\n\t\t\t// },\n\t\t\t// overflow: 'visible',\n\t\t\t// maxHeight: '100vh'\n\t\t},\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport Img from 'components/common/img/Img'\nimport classnames from 'classnames'\nimport { getAllWallets } from 'services/wallet/wallet'\nimport { execute, initIdentity, confirmAction } from 'actions'\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { formatAddress } from 'helpers/formatters'\nimport { push } from 'connected-react-router'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\nconst useStyles = makeStyles(styles)\n\nconst AuthSelect = () => {\n\tconst classes = useStyles()\n\tconst [wallets, setWallets] = useState([])\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\tconst auth = useSelector(selectAuth)\n\tconst account = useSelector(selectAccount)\n\tconst { wallet, identity } = account || {}\n\n\tuseEffect(() => {\n\t\tconst allWallets = getAllWallets()\n\t\tconst wallets = allWallets.filter(\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\n\t\t)\n\t\tsetWallets(wallets)\n\t}, [wallet])\n\n\tconst goTo = (to, confirmLogout, onConfirm) => {\n\t\tconst toExecute = () => {\n\t\t\tlogOut()\n\t\t\texecute(push(to))\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\n\t\t\t\tonConfirm()\n\t\t\t}\n\t\t}\n\t\tif (auth && confirmLogout) {\n\t\t\texecute(\n\t\t\t\tconfirmAction(toExecute, null, {\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\ttoExecute()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='stretch'\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box p={2} alignItems='center'>\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{auth && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<RRButton\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tto='/side-select'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CONTINUE_AS', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\n\t\t\t\t\t\t\t\twallet.authType,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RRButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{wallets.map(w => (\n\t\t\t\t<Box key={w.name} m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t))}\n\t\t\t{showRegistration && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\n\t\t\t\t>\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\n\t\t\t\t\t\tclassName={classes.btnLogo}\n\t\t\t\t\t/>\n\t\t\t\t\t{t('METAMASK')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.trezorBtn}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.btnLogo,\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* {t('TREZOR')} */}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default AuthSelect\n","export const styles = theme => {\n\treturn {\n\t\tactions: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tlimitedWidthBtn: {\n\t\t\twordBreak: 'break-word',\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tbtnLogo: {\n\t\t\theight: '2rem',\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tbtnLogoNoTxt: {\n\t\t\tmarginRight: 0,\n\t\t},\n\t\tmetamaskBtn: {\n\t\t\tbackgroundColor: theme.palette.grey[800],\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\ttrezorBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Hidden from '@material-ui/core/Hidden'\nimport Anchor from 'components/common/anchor/anchor'\nimport packageJson from './../../../package.json'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport { t } from 'selectors'\nimport { Typography } from '@material-ui/core'\n\nexport default function ConnectHoc(Decorated) {\n\tfunction Connect({ classes, ...rest }) {\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\tcontainer\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t// spacing={2}\n\t\t\t\t>\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\n\t\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HELP')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn withStyles(styles)(Connect)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\taddrListItem: {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\taddrInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tflexGrow: 1,\n\t\t\tpaddingTop: spacing,\n\t\t\twhiteSpace: 'normal',\n\t\t\t'& strong': {\n\t\t\t\tmarginRight: spacing * 2,\n\t\t\t},\n\t\t},\n\t\taddrInfoLabel: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t},\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t\t// marginTop: spacing * 2,\n\t\t\t// position: 'absolute',\n\t\t\t// top: 70,\n\t\t\t// left: 0,\n\t\t\t// right: 0,\n\t\t\t// bottom: 0\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\ttabLogo: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: spacing * 4,\n\t\t\tmaxHeight: '100%',\n\t\t\twidth: 'auto',\n\t\t},\n\t\ttabLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdlBtnImg: {\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: spacing * 9,\n\t\t\twidth: 'auto',\n\t\t\theight: 'auto',\n\t\t},\n\t\tleftBtnIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '-6vh',\n\t\t\tleft: 0,\n\t\t},\n\t\tlogo: {\n\t\t\twidth: '12.8vh',\n\t\t\theight: '5vh',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport function AddrItem({ stats }) {\n\tconst { balanceEth, tokensBalances, address } = stats\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<ListItemText\n\t\t\tprimary={address}\n\t\t\tsecondary={\n\t\t\t\t<span className={classes.addrInfo}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span> ETH </span>\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span> {symbol} </span>\n\t\t\t\t\t\t\t<strong> {balance} </strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t}\n\t\t/>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\nimport METAMASK_IMG from 'resources/metamask.png'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport Box from '@material-ui/core/Box'\nimport {\n\taddToast,\n\tupdateIdentity,\n\tupdateIdentityWallet,\n\texecute,\n} from 'actions'\nimport { t, selectIdentity } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthMetamask(props) {\n\tconst classes = useStyles()\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\n\tconst { address } = wallet\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\n\t// const [stats, setStats] = useState(null)\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\n\tconst isOpera =\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\n\t\tfalse\n\t)\n\n\tuseEffect(() => {\n\t\tconst setEth = async () => {\n\t\t\tconst ethereumProvider = await getEthereumProvider()\n\t\t\tsetIsMetamaskEthereumProvider(\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\n\t\t\t)\n\t\t}\n\n\t\tsetEth()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (installingMetamask) {\n\t\t\t// Refreshes page after user comes back\n\t\t\t// from installing Metamask\n\t\t\twindow.onfocus = () => {\n\t\t\t\twindow.location.reload()\n\t\t\t\tsetInstallingMetamask(false)\n\t\t\t}\n\t\t}\n\t}, [installingMetamask])\n\n\tconst checkMetamask = async () => {\n\t\tsetWaitingAddrsData(true)\n\t\ttry {\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst wallet = {\n\t\t\t\tauthType: authType,\n\t\t\t}\n\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\n\t\t\tconst address = await metamaskSigner.getAddress()\n\t\t\tconst stats = await getAddressBalances({\n\t\t\t\taddress: { address },\n\t\t\t\tauthType,\n\t\t\t\tgetFullBalances: true,\n\t\t\t})\n\n\t\t\texecute(updateIdentity('stats', stats))\n\t\t\tsetWaitingAddrsData(false)\n\n\t\t\texecute(\n\t\t\t\tupdateIdentityWallet({\n\t\t\t\t\taddress,\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\n\t\t\t\t})\n\t\t\t)\n\t\t} catch (err) {\n\t\t\tconsole.error('Error: catch', err)\n\t\t\tsetWaitingMetamaskAction(false)\n\t\t\tsetWaitingAddrsData(false)\n\t\t\texecute(\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingMetamaskAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : waitingAddrsData ? (\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\n\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\n\t\t\t\t\t\t\t\talt={'metamask logo'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{address ? (\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\n\t\t\t\t\t\t\t{stats ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={checkMetamask}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthMetamask\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n\nexport default function NewItemHoc(Decorated) {\n\tclass ValidItemHoc extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.state = {\n\t\t\t\tinvalidFields: {},\n\t\t\t}\n\n\t\t\tthis.validate = this.validate.bind(this)\n\t\t}\n\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\n\t\t}\n\n\t\tvalidate = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tif (!isValid) {\n\t\t\t\tlet errors = {}\n\t\t\t\terrors[key] = {\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\n\t\t\t\t\tdirty: dirty,\n\t\t\t\t}\n\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\n\t\t\t} else if (removeAll) {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\n\t\t\t} else {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\n\t\t\t}\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\tvalidate={this.validate}\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tValidItemHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\t// let persist = state.persist\n\t\tlet memory = state.memory\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport IdentityHoc from '../IdentityHoc'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\n\nexport default function AuthHoc(Decorated) {\n\tclass Auth extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.state = {\n\t\t\t\tmethod: '',\n\t\t\t\tsideSelect: false,\n\t\t\t}\n\t\t}\n\n\t\tupdateWallet = ({\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}) => {\n\t\t\tconst wallet = {\n\t\t\t\taddress,\n\t\t\t\tauthType,\n\t\t\t\thdWalletAddrPath,\n\t\t\t\thdWalletAddrIdx,\n\t\t\t\tpath,\n\t\t\t\tchainId,\n\t\t\t\tsignType,\n\t\t\t}\n\n\t\t\tthis.props.handleChange('identityContractOwner', address)\n\t\t\tthis.props.handleChange('wallet', wallet)\n\t\t}\n\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t// updateAcc={this.updateAcc}\n\t\t\t\t\tupdateWallet={this.updateWallet}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tAuth.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state) {\n\t\tlet persist = state.persist\n\t\t// let memory = state.memory\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions, { execute, login } from 'actions'\nimport { push } from 'connected-react-router'\nimport { CREATING_SESSION, UPLOADING_ACCOUNT_DATA } from 'constants/spinners'\n\nexport default function IdentityHoc(Decorated) {\n\tclass IdentityForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tready: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value) => {\n\t\t\tthis.props.actions.updateIdentity(prop, value)\n\t\t}\n\n\t\t// componentDidUpdate = () => {\n\t\t// \tconst { account } = this.props\n\t\t// \tif (account.wallet.authSig) {\n\t\t// \t\texecute(push('/side-select'))\n\t\t// \t}\n\t\t// }\n\n\t\tsave = async () => {\n\t\t\texecute(login())\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tconst { resetIdentity } = this.props.actions\n\t\t\tresetIdentity()\n\t\t\texecute(push('/'))\n\t\t}\n\n\t\trender() {\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tidentity={identity}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\twaiting={spinner}\n\t\t\t\t\twaitingExpected={waitingExpected}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tIdentityForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tidentity: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\tidentity: memory.identity,\n\t\t\tspinner: memory.spinners[CREATING_SESSION],\n\t\t\twaitingUpload: memory.spinners[UPLOADING_ACCOUNT_DATA],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(IdentityForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport AuthHoc from './AuthHoc'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\n\nclass AuthTrezor extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingTrezorAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectTrezor = async () => {\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\t\t}\n\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\n\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tconsole.log('result', results)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: trezorSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingTrezorAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingTrezorAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\t\t\t\twidth={1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\n\t\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\n\t\t\t\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\n\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\n\t\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{!this.state.waitingAddrsData &&\n\t\t\t\t\t\t\t\t\t!this.state.waitingTrezorAction && (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthTrezor.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport AuthHoc from './AuthHoc'\nimport Helper from 'helpers/miscHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\n\nclass AuthLedger extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingLedgerAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectLedger = async () => {\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\t\t}\n\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: ledgerSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingLedgerAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingLedgerAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography variant='subtitle1'>{t('LEDGER_INFO')}</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t{t('LEDGER_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\tkey='auth-ledger'\n\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tLEDGER\n\t\t\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\n\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\n\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\n\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthLedger.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { selectLocationQuery } from 'selectors'\nimport AuthMetamask from './AuthMetamask'\nimport AuthTrezor from './AuthTrezor'\nimport AuthLedger from './AuthLedger'\n\nconst useStyles = makeStyles(theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t},\n\t}\n})\n\nfunction AuthMethod() {\n\tconst classes = useStyles()\n\tconst query = useSelector(selectLocationQuery)\n\tconst method = query['external']\n\n\treturn (\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\n\t\t\t\t{method === 'metamask' && <AuthMetamask />}\n\t\t\t\t{method === 'trezor' && <AuthTrezor />}\n\t\t\t\t{method === 'ledger' && <AuthLedger />}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default AuthMethod\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tupdateIdentity,\n} from 'actions'\n\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\n\t]\n\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\tpassword,\n\t\tpasswordCheck,\n\t\ttosCheck,\n\t\taccessWarningCheck,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner || sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='passwordCheck'\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_QUICK_CHECK')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tupdateIdentity,\n} from 'actions'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { CREATING_SESSION } from 'constants/spinners'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst FulInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst { wallet = {} } = identity\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\t// Errors\n\tconst { email, emailCheck, tosCheck, accessWarningCheck } = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t{walletAddress}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FulInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickLogin = props => {\n\tconst { validateId } = props\n\n\tconst identity = useSelector(selectIdentity)\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\n\t]\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { wallet } = validations\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickLogin\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport { push } from 'connected-react-router'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\texecute,\n\tupdateIdentity,\n\townerIdentities as updateOwnerIdentities,\n} from 'actions'\nimport {\n\tselectSpinnerById,\n\tselectIdentity,\n\tt,\n\tselectSearchParams,\n\tselectRegistrationAllowed,\n} from 'selectors'\nimport Dropdown from 'components/common/dropdown'\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\n\townerIdentities.map(id => {\n\t\treturn {\n\t\t\tvalue: id.identity + '-' + id.privLevel,\n\t\t\tlabel: id.ens\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\n\t\t\t\t  })\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\n\t\t\t\t  }),\n\t\t}\n\t})\n\nfunction FullLogin(props) {\n\tconst identity = useSelector(selectIdentity)\n\tconst {\n\t\twalletAddr,\n\t\twallet = {},\n\t\townerIdentities,\n\t\tidentityContractAddress,\n\t} = identity\n\tconst walletAddress = wallet.address || walletAddr\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\n\t)\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\n\tconst searchParams = useSelector(selectSearchParams)\n\tsearchParams.set('step', '1')\n\n\tconst search = searchParams.toString()\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\n\tuseEffect(() => {\n\t\texecute(\n\t\t\tupdateOwnerIdentities({ owner: walletAddress, authType: wallet.authType })\n\t\t)\n\t\t// We need it just once on mount\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{showRegistration && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FullLogin\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport Translate from 'components/translate/Translate'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { selectLocationQuery } from 'selectors'\n\nclass IdentitySteps extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpages: this.mapPages(),\n\t\t}\n\n\t\t// TODO: Check if it is possible to need state update\n\t}\n\n\tmapPages = () => {\n\t\tconst {\n\t\t\tGoBtn,\n\t\t\tcancelFunction,\n\t\t\tt,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages = [],\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tconst pages = stepsPages.map((page, index) => {\n\t\t\treturn {\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelFunction,\n\t\t\t\tcomponent: ValidItemHoc(page.page),\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tcompleteBtn: page.final\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t\t\t: undefined,\n\t\t\t}\n\t\t})\n\n\t\treturn pages\n\t}\n\n\trender() {\n\t\tconst { initialPage } = this.props\n\t\treturn (\n\t\t\t<MaterialStepper initialPage={initialPage} pages={this.state.pages} />\n\t\t)\n\t}\n}\n\nIdentitySteps.propTypes = {\n\tactions: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// const persist = state.persist\n\t// const memory = state.memory\n\treturn {\n\t\tinitialPage: selectLocationQuery(state)['step'] || 0,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(IdentitySteps)))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t},\n\t\tadxVersion: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: spacing,\n\t\t\tbottom: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\tmarginTop: '1.5vh',\n\t\t\twidth: '17.92vh',\n\t\t\theight: '6vh',\n\t\t},\n\t\tformControl: {\n\t\t\tdisplay: 'flex',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\tinfoPaper: {\n\t\t\t...theme.mixins.gutters(),\n\t\t\tpaddingTop: spacing * 2,\n\t\t\tpaddingBottom: spacing * 2,\n\t\t},\n\t\tinput: {\n\t\t\tdisplay: 'none',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport AuthMethod from './ownerAuth/AuthMethod'\nimport QuickInfo from './QuickInfo'\nimport FullInfo from './FullInfo'\nimport QuickLogin from './QuickLogin'\nimport FullLogin from './FullLogin'\nimport IdentitySteps from './IdentitySteps'\nimport { push } from 'connected-react-router'\n\nimport {\n\texecute,\n\tvalidateQuickLogin,\n\tvalidateStandardLogin,\n\tvalidateQuickInfo,\n\tvalidateFullInfo,\n\tvalidateContractOwner,\n\tresetIdentity,\n} from 'actions'\n\nconst cancelFunction = () => {\n\texecute(resetIdentity())\n\texecute(push('/'))\n}\n\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\n\nconst common = {\n\tcancelFunction,\n\tvalidateIdBase: 'identity-',\n}\n\nexport const LoginStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-login'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\n\t\t\t\t\tpage: FullLogin,\n\t\t\t\t\tpageValidation: finalValidationStandard,\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-create'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'FULL_INFO',\n\t\t\t\t\tpage: FullInfo,\n\t\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-create'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_INFO',\n\t\t\t\tpage: QuickInfo,\n\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const LoginQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-login'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_LOGIN',\n\t\t\t\tpage: QuickLogin,\n\t\t\t\tpageValidation: finalValidationQuick,\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const DemoIdentity = props => (\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Logo from 'components/common/icons/AdexIconTxt'\nimport Typography from '@material-ui/core/Typography'\nimport Anchor from 'components/common/anchor/anchor'\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\ttextAlign: 'center',\n\t},\n\tvitalik: {\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\n\t\tbackgroundPosition: 'center',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'contain',\n\t},\n\tcontainer: {\n\t\tmaxWidth: theme.breakpoints.values.md,\n\t\tmargin: 'auto',\n\t},\n\tlogo: {\n\t\theight: '5rem',\n\t\twidth: '100%',\n\t},\n}))\n\nexport default function Home({ t, ...rest }) {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tclassName={classes.root}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='center'\n\t\t\tjustifyContent='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.container}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-evenly'\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tflexGrow={1}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t\tmaxWidth='md'\n\t\t\t\tclassName={classes.container}\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Logo className={classes.logo} />\n\t\t\t\t</Box>\n\n\t\t\t\t{/* <Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{/* <Box p={1}>\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box\n\t\t\t\t\theight='30%'\n\t\t\t\t\tposition='relative'\n\t\t\t\t\tclassName={classes.vitalik}\n\t\t\t\t\talignSelf='stretch'\n\t\t\t\t></Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nconst useStyles = makeStyles(theme => ({\n\tdialog: {\n\t\theight: '100vh',\n\t\twidth: theme.maxWidth || 1200,\n\t\tmaxWidth: '100%',\n\t},\n}))\n\nexport default function DialogHoc(Decorated) {\n\tfunction JustDialog({ ...rest }) {\n\t\tconst classes = useStyles()\n\n\t\treturn (\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Decorated {...rest} />\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\treturn JustDialog\n}\n","import React, { useEffect } from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport {\n\tmetamaskChecks,\n\tmetamaskNetworkCheck,\n\tgetRelayerConfig,\n\texecute,\n\tensureQuickWalletBackup,\n\tupdateRegistrationAllowed,\n\tupdateEasterEggsAllowed,\n\thandleRedirectParams,\n\thandleSignupLink,\n} from 'actions'\nimport { Route, Switch, Redirect } from 'react-router'\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\nimport ConnectHoc from 'components/signin/ConnectHoc'\nimport {\n\tCreateQuickIdentity,\n\tLoginStandardIdentity,\n\tCreateStandardIdentity,\n\tLoginQuickIdentity,\n} from 'components/signin/identity/Identity'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport Home from 'components/signin/Home'\nimport JustDialog from 'components/common/dialog/JustDialog'\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\nimport Translate from 'components/translate/Translate'\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\n\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\nconst ConnectedLoginStandardIdentity = ConnectHoc(\n\tJustDialog(LoginStandardIdentity)\n)\nconst ConnectedCreateStandardIdentity = ConnectHoc(\n\tJustDialog(CreateStandardIdentity)\n)\nconst ConnectedRoot = ConnectHoc(Home)\n\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...other}\n\t\t\trender={props =>\n\t\t\t\tauth === true ? ( //|| true\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst handleLegacyWallet = async wallet => {\n\tconst { type, email, password, authType } = wallet || {}\n\n\tif (!type && email && password && authType === 'grant') {\n\t\tawait migrateLegacyWallet({ email, password })\n\t\tawait removeLegacyKey({ email, password })\n\t}\n\n\tif (email && password && authType) {\n\t\texecute(ensureQuickWalletBackup())\n\t}\n}\n\nconst Root = () => {\n\tconst auth = useSelector(selectAuth)\n\tconst wallet = useSelector(selectWallet)\n\tconst location = useSelector(selectLocation)\n\n\tuseEffect(() => {\n\t\texecute(getRelayerConfig())\n\t\texecute(metamaskChecks())\n\t\texecute(handleRedirectParams(location.search))\n\t\texecute(handleSignupLink(location.search))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tuseEffect(() => {\n\t\thandleLegacyWallet(wallet)\n\t}, [wallet])\n\n\tuseEffect(() => {\n\t\texecute(metamaskNetworkCheck())\n\t\texecute(updateRegistrationAllowed(location.search))\n\t\texecute(updateEasterEggsAllowed(location.search))\n\t}, [location])\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute\n\t\t\t\t\tauth={auth}\n\t\t\t\t\tpath='/dashboard/:side'\n\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t/>\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/quick'\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/login/full'\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/full'\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\n\t\t\t\t<Route>\n\t\t\t\t\t<PageNotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nexport default Translate(Root)\n","import React, { Component } from 'react'\nimport 'react-image-crop/dist/ReactCrop.css'\nimport './App.css'\nimport { Provider } from 'react-redux'\nimport { persistor, store } from 'store'\nimport history from 'store/history'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Toast from 'components/toast/Toast'\nimport Confirm from 'components/confirm/Confirm'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport Root from './Root'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { themeMUI } from './themeMUi'\nimport MomentUtils from '@date-io/moment'\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport CacheBuster from './CacheBuster'\n\n// console.log('initial store', store.getState())\n\nconst onBeforeLift = () => {\n\t// take some action before the gate lifts\n}\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t\t\t\t\t\t<CacheBuster>\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\n\t\t\t\t\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</CacheBuster>\n\t\t\t\t\t\t\t\t</ConnectedRouter>\n\t\t\t\t\t\t\t</PersistGate>\n\t\t\t\t\t\t</Provider>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { unregister } from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nunregister()\n","export const ADD_ITEM = 'ADD_ITEM'\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\nexport const DELETE_ITEM = 'DELETE_ITEM'\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\nexport const ADD_TOAST = 'ADD_TOAST'\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\nexport const UPDATE_NAV = 'UPDATE_NAV'\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\nexport const UNIT_PLACE_BID = 'PLACE_BID'\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\nexport const RESET_WALLET = 'RESET_WALLET'\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\n","import {\n\tgetState,\n\texecute,\n\tresetAllNewItems,\n\tresetAllItems,\n\tresetAllBids,\n\tresetIdentity,\n\tresetAccount,\n\tresetAnalytics,\n\tresetChannelsWithBalanceAll,\n\tresetChannelsWithOutstandingBalance,\n\tresetAllNewTransaction,\n} from 'actions'\n\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\n\nimport { push } from 'connected-react-router'\n\nexport const logOut = skipRedirect => {\n\texecute(resetAccount())\n\tanalyticsLoop.stop()\n\tanalyticsCampaignsLoop.stop()\n\tcampaignsLoop.stop()\n\tstatsLoop.stop()\n\tif (!skipRedirect) {\n\t\texecute(push('/'))\n\t}\n\texecute(resetIdentity())\n\texecute(resetAllItems())\n\texecute(resetAllNewItems())\n\texecute(resetAllBids())\n\texecute(resetAnalytics())\n\texecute(resetChannelsWithBalanceAll())\n\texecute(resetChannelsWithOutstandingBalance())\n\texecute(resetAllNewTransaction())\n}\n\nexport const isDemoMode = () => {\n\treturn getState().persist.account._authType === 'demo'\n}\n\nexport const getAccount = () => {\n\treturn getState().persist.account\n}\n","const MAX_ASPECT_TOLERANCE = 5\n\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\n\nconst getVideoSize = src =>\n\tnew Promise(resolve => {\n\t\tconst video = document.createElement('video')\n\t\tvideo.src = src\n\n\t\tvideo.onloadedmetadata = ({ target }) => {\n\t\t\treturn resolve({\n\t\t\t\twidth: target.videoWidth,\n\t\t\t\theight: target.videoHeight,\n\t\t\t})\n\t\t}\n\t})\n\nconst getImageSize = src =>\n\tnew Promise(resolve => {\n\t\tconst image = new Image()\n\t\timage.src = src\n\t\timage.onload = function() {\n\t\t\treturn resolve({\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t})\n\t\t}\n\t})\n\nexport const getMediaSize = ({ mime, src }) =>\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\n\nexport const checkExactishAspect = (\n\twidthTarget,\n\twidth,\n\theightTarget,\n\theight,\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\n) => {\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\n\t\treturn false\n\t}\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\n\tconst aspect = parseFloat(width / height)\n\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\n\n\tconst isValid =\n\t\twidthTarget <= width &&\n\t\theightTarget <= height &&\n\t\taspectDiff <= maxPercentTolerance\n\n\treturn isValid\n}\n","import Identity from './build/Identity.json'\nimport AdExCore from './build/AdExCore.json'\nimport Dai from './build/Dai.json'\nimport IdentityFactory from './build/IdentityFactory.json'\nimport AdExENSManager from './abi/AdExENSManager.json'\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\nimport ERC20 from './abi/ERC20Token.json'\n\nexport const contracts = {\n\tIdentity: {\n\t\tabi: Identity.abi,\n\t},\n\tAdExENSManager: {\n\t\taddress: process.env.ADEX_ENS_ADDR,\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\n\t\tabi: AdExENSManager,\n\t},\n\tReverseRegistrar: {\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\n\t\tabi: ReverseRegistrar,\n\t},\n\tAdExCore: {\n\t\taddress: process.env.ADEX_CORE_ADDR,\n\t\tabi: AdExCore.abi,\n\t},\n\tDAI: {\n\t\taddress: process.env.DAI_TOKEN_ADDR,\n\t\tabi: Dai.abi,\n\t\tdecimals: 18,\n\t},\n\tIdentityFactory: {\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\n\t\tabi: IdentityFactory.abi,\n\t},\n\tERC20: {\n\t\tabi: ERC20,\n\t},\n}\n","import Loop from './loop'\nimport {\n\texecute,\n\tupdateAccountAnalytics,\n\tupdateAccountCampaignsAnalytics,\n} from 'actions'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\n\nconst LOOP_TIMEOUT = 120 * 1000\n\nconst analyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\n\tloopName: '_ANALYTICS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nconst analyticsCampaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) &&\n\t\t(await execute(updateAccountCampaignsAnalytics())),\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport { analyticsLoop, analyticsCampaignsLoop }\n","import crypto from 'crypto'\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetIdentityTxnsWithNoncesAndFees,\n\tgetIdentityTxnsTotalFees,\n\tprocessExecuteByFeeTokens,\n\tgetApproveTxns,\n} from 'services/smart-contracts/actions/identity'\nimport { contracts } from '../contractsCfg'\nimport { closeCampaign } from 'services/adex-validator/actions'\nimport { Campaign, AdUnit } from 'adex-models'\nimport { getAllCampaigns } from 'services/adex-market/actions'\nimport {\n\tbigNumberify,\n\trandomBytes,\n\tparseUnits,\n\tInterface,\n\tgetAddress,\n} from 'ethers/utils'\nimport {\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectMainFeeToken,\n\tselectMainToken,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\nimport { getState } from 'store'\n\nconst { AdExCore } = contracts\nconst Core = new Interface(AdExCore.abi)\nconst IdentityInterface = new Interface(IdentityABI)\n\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\nconst VALID_UNTIL_COEFFICIENT = 0.5\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\nconst OUTSTANDING_STATUSES = {\n\tActive: true,\n\tReady: true,\n\tExhausted: true,\n\tOffline: true,\n\tUnhealthy: true,\n\tWithdraw: true,\n}\n\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\n\nfunction toEthereumChannel(channel) {\n\tconst specHash = crypto\n\t\t.createHash('sha256')\n\t\t.update(JSON.stringify(channel.spec))\n\t\t.digest()\n\n\treturn new Channel({\n\t\ttitle: channel.title,\n\t\tcreator: channel.creator,\n\t\ttokenAddr: channel.depositAsset,\n\t\ttokenAmount: channel.depositAmount,\n\t\tvalidUntil: channel.validUntil,\n\t\tvalidators: channel.spec.validators.map(v => v.id),\n\t\tspec: specHash,\n\t})\n}\n\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\n\tconst period = withdrawPeriodStart - activeFrom\n\tconst validUntil =\n\t\twithdrawPeriodStart +\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\n\n\treturn Math.floor(validUntil / 1000)\n}\n\nfunction getReadyCampaign(campaign, identity, mainToken) {\n\tconst newCampaign = new Campaign(campaign)\n\n\tnewCampaign.creator = identity.address\n\tnewCampaign.created = Date.now()\n\tnewCampaign.validUntil = getValidUntil(\n\t\tnewCampaign.activeFrom,\n\t\tnewCampaign.withdrawPeriodStart\n\t)\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\n\tnewCampaign.depositAmount = parseUnits(\n\t\tnewCampaign.depositAmount || '0',\n\t\tmainToken.decimals\n\t).toString()\n\n\tconst validators = newCampaign.validators.map(v => {\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\n\t\tconst fee = deposit\n\t\t\t.mul(bigNumberify(v.feeNum || 1))\n\t\t\t.div(bigNumberify(v.feeDen || 1))\n\t\t\t.toString()\n\n\t\tconst validator = {\n\t\t\tid: v.id,\n\t\t\turl: v.url,\n\t\t\tfee,\n\t\t}\n\n\t\tif (v.feeAddr) {\n\t\t\tvalidator.feeAddr = v.feeAddr\n\t\t}\n\n\t\treturn validator\n\t})\n\n\tnewCampaign.validators = validators\n\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\n\tnewCampaign.minPerImpression = parseUnits(\n\t\tnewCampaign.minPerImpression || '0',\n\t\tmainToken.decimals\n\t)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\n\n\tnewCampaign.depositAsset = mainToken.address\n\tnewCampaign.eventSubmission = {\n\t\tallow: [\n\t\t\t{\n\t\t\t\tuids: [\n\t\t\t\t\tnewCampaign.creator,\n\t\t\t\t\tnewCampaign.validators[0].id,\n\t\t\t\t\tnewCampaign.validators[1].id,\n\t\t\t\t],\n\t\t\t},\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\n\t\t],\n\t}\n\n\tnewCampaign.status = {\n\t\tname: 'Pending',\n\t\thumanFriendlyName: 'Active',\n\t\tlastChecked: Date.now(),\n\t}\n\n\treturn newCampaign\n}\n\nconst getWithdrawnPerUserOutstanding = async ({\n\tAdExCore,\n\tchannel,\n\tbalance,\n\tidentityAddr,\n}) => {\n\treturn bigNumberify(balance).sub(\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\n\t)\n}\n\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\n\tconst { authType } = wallet\n\tconst channels = await getAllCampaigns({ all: true, byEarner: identityAddr })\n\tconst { AdExCore } = await getEthers(authType)\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\n\n\tconst allChannels = await Promise.all(\n\t\tchannels\n\t\t\t.filter(\n\t\t\t\tchannel =>\n\t\t\t\t\tchannel &&\n\t\t\t\t\tchannel.status &&\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\n\t\t\t)\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedBalances } = channel.status\n\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\n\t\t\t\t\t(balances, e) => {\n\t\t\t\t\t\tconst [address, balance] = e\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (getAddress(address)) {\n\t\t\t\t\t\t\t\tbalances[address] = balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\treturn balances\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\n\n\t\t\t\treturn channel\n\t\t\t})\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\n\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\n\t\t\t\treturn {\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\tlastApprovedBalances,\n\t\t\t\t\tbTree,\n\t\t\t\t\tchannel,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(({ bTree }) => {\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\n\t\t\t})\n\t\t\t.map(\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\n\t\t\t\t\t//  mTree,\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\n\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\n\t\t\t\t\t\tAdExCore,\n\t\t\t\t\t\tchannel,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tidentityAddr,\n\t\t\t\t\t})\n\n\t\t\t\t\tconst outstandingAvailable = outstanding.sub(\n\t\t\t\t\t\tbigNumberify(feeTokenWhitelist[channel.depositAsset].min)\n\t\t\t\t\t)\n\n\t\t\t\t\tconst balanceNum = bigNumberify(channel.depositAmount)\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[0].fee || 0))\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[1].fee || 0))\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tchannel,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\t\toutstanding,\n\t\t\t\t\t\toutstandingAvailable,\n\t\t\t\t\t\tlastApprovedBalances,\n\t\t\t\t\t\tbalanceNum,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t)\n\n\tconst all = Object.assign(\n\t\t{},\n\t\t...allChannels.map(c => {\n\t\t\tconst { channel, balance } = c\n\t\t\tconst { id, depositAmount, depositAsset, status } = channel\n\t\t\tconst balanceNum = bigNumberify(depositAmount)\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[0].fee))\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[1].fee))\n\t\t\t\t.toString()\n\n\t\t\treturn {\n\t\t\t\t[c.channel.id.toLowerCase()]: {\n\t\t\t\t\tid,\n\t\t\t\t\tbalance,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tdepositAsset,\n\t\t\t\t\tbalanceNum,\n\t\t\t\t\tstatus: status.name,\n\t\t\t\t},\n\t\t\t}\n\t\t})\n\t)\n\n\tconst withOutstandingBalance = allChannels.filter(x => {\n\t\treturn (\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\n\t\t\t\tDate.now() &&\n\t\t\tx.outstanding.gt(\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\n\t\t\t) &&\n\t\t\tx.outstandingAvailable.gt(bigNumberify('0'))\n\t\t)\n\t})\n\n\treturn { all, withOutstandingBalance }\n}\n\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\n\tconst { eligible } = withBalance\n\t\t.sort((c1, c2) => {\n\t\t\treturn bigNumberify(c2.outstandingAvailable).gt(\n\t\t\t\tbigNumberify(c1.outstandingAvailable)\n\t\t\t)\n\t\t})\n\t\t.reduce(\n\t\t\t(data, c) => {\n\t\t\t\tconst current = { ...data }\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\n\t\t\t\t\tcurrent.eligible.push(c)\n\t\t\t\t\tcurrent.sum = current.sum.add(bigNumberify(c.outstandingAvailable))\n\t\t\t\t}\n\n\t\t\t\treturn current\n\t\t\t},\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\n\t\t)\n\n\treturn eligible\n}\n\nconst getChannelWithdrawData = ({\n\tidentityAddr,\n\tbalance,\n\tlastApprovedBalances,\n\tlastApprovedSigs,\n\tethChannelTuple,\n}) => {\n\tconst bTree = new BalanceTree(lastApprovedBalances)\n\tconst proof = bTree.getProof(identityAddr)\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\n\tconst root = bTree.mTree.getRoot()\n\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\n}\n\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\n\t\t(data, tx) => {\n\t\t\tconst updated = { ...data }\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\n\n\t\t\treturn updated\n\t\t},\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\n\t)\n\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\n\t\troutineAuthTuple,\n\t\troutineOpts,\n\t])\n\n\tconst routinesTx = {\n\t\tidentityContract: identityAddr,\n\t\tto: identityAddr,\n\t\tdata,\n\t\twithdrawAmountByToken,\n\t\troutinesSweepTxCount: routineOpts.length,\n\t}\n\n\treturn routinesTx\n}\n\nfunction getIdentityRoutineAuthTuple(identity) {\n\treturn identity &&\n\t\tidentity.relayerData &&\n\t\tidentity.relayerData.deployData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t: null\n}\n\nfunction is41identity(routineAuthTuple) {\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\n\n\treturn is41\n}\n\nfunction hasValidExecuteRoutines(routineAuthTuple) {\n\tconst hasValidRoutines =\n\t\tis41identity(routineAuthTuple) &&\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\n\n\treturn hasValidRoutines\n}\n\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\n\tconst { wallet, identity } = account\n\t// TODO: pass withBalance as prop\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\n\n\tconst { AdExCore } = await getEthers(wallet.authType)\n\tconst identityAddr = identity.address\n\tconst channelsToSweep = await getChannelsToSweepFrom({\n\t\tamountToSweep,\n\t\tidentityAddr,\n\t\twithBalance,\n\t})\n\n\tconst txns = channelsToSweep.map((c, i) => {\n\t\tconst {\n\t\t\tlastApprovedBalances,\n\t\t\tchannel,\n\t\t\tlastApprovedSigs,\n\t\t\toutstanding,\n\t\t\t// outstandingAvailable,\n\t\t\tbalance,\n\t\t} = c\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\n\n\t\tconst data = getChannelWithdrawData({\n\t\t\tidentityAddr,\n\t\t\tbalance,\n\t\t\tlastApprovedBalances,\n\t\t\tlastApprovedSigs,\n\t\t\tethChannelTuple,\n\t\t})\n\n\t\treturn {\n\t\t\tidentityContract: identityAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tfeeTokenAddr: channel.depositAsset,\n\t\t\tdata,\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\n\t\t}\n\t})\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\n\tlet encodedTxns = null\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\n\t\tencodedTxns = [\n\t\t\tgetSweepExecuteRoutineTx({\n\t\t\t\ttxns,\n\t\t\t\tidentityAddr,\n\t\t\t\troutineAuthTuple,\n\t\t\t}),\n\t\t]\n\t} else {\n\t\tencodedTxns = txns.map(tx => {\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\n\t\t\ttx.isSweepTx = true\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\treturn encodedTxns\n}\n\nfunction getSwapAmountsByToken({ balances }) {\n\tconst mainToken = selectMainToken()\n\tconst saiToken = selectSaiToken()\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\n\t\t(swaps, balance) => {\n\t\t\t// TODO: currently work only for SAI to DAI swap\n\t\t\tif (\n\t\t\t\tbalance.token.address !== mainToken.address &&\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\n\t\t\t\tbalance.token.address === saiToken.address\n\t\t\t) {\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\n\t\t\t\t\tbalance.balanceMainToken\n\t\t\t\t)\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\n\t\t\t}\n\t\t\treturn swaps\n\t\t},\n\t\t{\n\t\t\tswapsSumInMainToken: bigNumberify(0),\n\t\t\tswapsByToken: {},\n\t\t}\n\t)\n\n\treturn { swapsByToken, swapsSumInMainToken }\n}\n\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\n// amountNeeded must be in MainToken\nexport async function getSweepingTxnsIfNeeded({\n\tamountInMainTokenNeeded,\n\taccount,\n}) {\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\n\tconst {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\n\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\n\n\tconst sweepData = {\n\t\tsweepTxns: [],\n\t\tswapAmountsByToken: {},\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\t// Swaps\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\n\t\t\tbalances,\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\n\t\t})\n\n\t\tsweepData.swapAmountsByToken = swapsByToken\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\n\t\t\taccount,\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\n\t\t})\n\t}\n\n\treturn sweepData\n}\n\nexport async function openChannel({\n\tcampaign,\n\taccount,\n\tgetFeesOnly,\n\tgetMaxFees,\n}) {\n\tconst { wallet, identity, stats } = account\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\n\tconst mainToken = selectMainFeeToken()\n\tconst depositAmount = getMaxFees\n\t\t? availableIdentityBalanceMainToken\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst channel = {\n\t\t...openReady,\n\t\tid: ethChannel.hashHex(AdExCore.address),\n\t}\n\tconst identityAddr = openReady.creator\n\tconst feeTokenAddr = mainToken.address\n\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\n\n\tconst txns = []\n\n\tif (hasIdentityChannelOpen) {\n\t\tconst identityChannelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: identityAddr,\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\n\t\t\t\tAdExCore.address,\n\t\t\t\tethChannel.toSolidityTuple(),\n\t\t\t]),\n\t\t\textraTxFeesCount: 1,\n\t\t}\n\t\ttxns.push(identityChannelOpenTx)\n\t} else {\n\t\tconst approveTxns = await getApproveTxns({\n\t\t\tgetToken,\n\t\t\ttoken: mainToken,\n\t\t\tidentityAddr,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tapproveForAddress: AdExCore.address,\n\t\t\tapproveAmount: depositAmount,\n\t\t})\n\n\t\tconst channelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\n\t\t}\n\t\ttxns.push(...approveTxns, channelOpenTx)\n\t}\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: depositAmount,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\n\tconst bigZero = bigNumberify(0)\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\n\t\t? bigZero\n\t\t: mtBalance.sub(totalBN)\n\tconst maxAvailableFormatted = formatTokenAmount(\n\t\tmaxAvailable.toString(),\n\t\tmainToken.decimals || 18,\n\t\tfalse,\n\t\t2\n\t)\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfeesFormatted: total,\n\t\t\tfees: totalBN,\n\t\t\tmaxAvailable,\n\t\t\tmaxAvailableFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t\textraData: { channel },\n\t})\n\n\treadyCampaign.id = channel.id\n\tconst storeCampaign = { ...readyCampaign }\n\tstoreCampaign.spec = { ...openReady.spec }\n\treturn {\n\t\tresult,\n\t\tstoreCampaign,\n\t}\n}\n\nexport async function closeChannel({ account, campaign }) {\n\tconst result = await closeCampaign({ account, campaign })\n\treturn result\n}\n","import Helper from 'helpers/miscHelpers'\nimport { getState } from 'actions'\nimport { selectAuthSig } from 'selectors'\nimport { isDemoMode } from 'services/store-data/auth'\nimport { t } from 'selectors'\n\nexport const handleRequesterErrorRes = ({ res, text }) => {\n\tlet message = text\n\ttry {\n\t\tconst textObj = JSON.parse(text)\n\t\tmessage =\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\n\t} catch {}\n\n\tthrow new Error(\n\t\tt('SERVICE_ERROR_MSG', {\n\t\t\targs: [res.url, res.status, res.statusText, message],\n\t\t})\n\t)\n}\n\nclass AdexNodeRequester {\n\tconstructor({ baseUrl }) {\n\t\tthis.baseUrl = baseUrl\n\t}\n\n\tgetAuthHeaders = ({ authSig } = {}) => {\n\t\tconst authSignature = selectAuthSig(getState())\n\t\treturn {\n\t\t\t'X-User-Signature': authSig || authSignature,\n\t\t}\n\t}\n\n\tnoCacheHeaders = {\n\t\t'Cache-Control': 'no-cache',\n\t\tExpires: '0',\n\t\tPragma: 'no-cache',\n\t}\n\n\tgetUrl = (base, route, query) => {\n\t\tlet url = base + '/'\n\t\tif (route) {\n\t\t\troute = route.replace(/^\\//, '')\n\t\t\turl += route\n\t\t}\n\n\t\turl += query\n\n\t\treturn url\n\t}\n\n\tfetch = ({\n\t\troute = '',\n\t\tqueryParams = {},\n\t\tmethod = 'GET',\n\t\tbody,\n\t\theaders = {},\n\t\tuserAddr,\n\t\tauthSig = '',\n\t\tauthToken,\n\t\tnoCache = false,\n\t}) => {\n\t\tconst qp = { ...queryParams }\n\t\tif (isDemoMode()) {\n\t\t\tqp.demo = true\n\t\t}\n\n\t\tconst query = Helper.getQuery(qp)\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\n\n\t\tconst hdrs = {\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\n\t\t\t...this.getAuthHeaders({ authSig }),\n\t\t\t...headers,\n\t\t}\n\t\treturn fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: hdrs,\n\t\t\tbody: body,\n\t\t})\n\t}\n}\n\nexport default AdexNodeRequester\n","import requester from './requester'\n\nexport default requester\nexport * from './requester'\n","import { formatUnits, commify } from 'ethers/utils'\nimport MomentUtils from '@date-io/moment'\nconst moment = new MomentUtils()\n\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\n\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\n\tif (!timestamp) {\n\t\treturn 'no date'\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatTokenAmount = (\n\tamountString,\n\tdecimals = 18,\n\tpretty,\n\ttoFixed\n) => {\n\tconst formatted = formatUnits(amountString, decimals)\n\tif (pretty) {\n\t\treturn commify(formatted)\n\t} else if (typeof toFixed === 'number') {\n\t\t// We want truncated not rounded\n\t\treturn parseFloat(formatted)\n\t\t\t.toFixed(toFixed + 4)\n\t\t\t.slice(0, -4)\n\t} else {\n\t\treturn formatted\n\t}\n}\n\nexport const formatAddress = (address = '', joinSymbol = '...') => {\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\n}\n\nexport const formatNumberWithCommas = x => {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\nexport const formatFloatNumberWithCommas = x => {\n\tconst parts = x.toString().split('.')\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n\treturn parts.join('.')\n}\n\nexport const formatNumberWithoutCommas = x => {\n\treturn x\n\t\t.toString()\n\t\t.split(',')\n\t\t.join('')\n}\n\nexport const formatAbbrNum = (number, decPlaces) => {\n\t// 2 decimal places => 100, 3 => 1000, etc\n\tdecPlaces = Math.pow(10, decPlaces)\n\n\t// Enumerate number abbreviations\n\tvar abbrev = ['k', 'm', 'b', 't']\n\n\t// Go through the array backwards, so we do the largest first\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\n\t\t// Convert array index to \"1000\", \"1000000\", etc\n\t\tvar size = Math.pow(10, (i + 1) * 3)\n\n\t\t// If the number is bigger or equal do the abbreviation\n\t\tif (size <= number) {\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\n\t\t\t// This gives us nice rounding to a particular decimal place.\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\n\n\t\t\t// Handle special case where we round up to the next abbreviation\n\t\t\tif (number == 1000 && i < abbrev.length - 1) {\n\t\t\t\tnumber = 1\n\t\t\t\ti++\n\t\t\t}\n\n\t\t\t// Add the letter for the abbreviation\n\t\t\tnumber += abbrev[i]\n\n\t\t\t// We are done... stop\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn number\n}\n\nexport const truncateString = (string, maxLength = 50) => {\n\tif (!string) return ''\n\tif (string.length <= maxLength) return string\n\treturn `${string.substring(0, maxLength).trim()}...`\n}\n","export default class Looper {\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\n\t\tif (!timeout) {\n\t\t\tthrow new Error('LOOPER timeout prop is required')\n\t\t}\n\n\t\tif (typeof syncAction !== 'function') {\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\n\t\t}\n\n\t\tthis.loopTimeout = null\n\t\tthis.timeout = timeout\n\t\tthis.syncAction = syncAction\n\t\tthis.loopName = loopName\n\t\tthis.stopOn = stopOn\n\t}\n\n\tclearLoopTimeout = () => {\n\t\tif (this.loopTimeout) {\n\t\t\tclearTimeout(this.loopTimeout)\n\t\t\tthis.loopTimeout = null\n\t\t}\n\t}\n\n\tsyncData = async opts => {\n\t\tthis.makeStopCheck()\n\t\tawait this.syncAction()\n\t\tthis.makeStopCheck()\n\t}\n\n\tstartLoop = async opts => {\n\t\ttry {\n\t\t\tawait this.syncData(opts)\n\t\t\tthis.checkLoop()\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\n\t\t\tthis.checkLoop()\n\t\t}\n\t}\n\n\tcheckLoop = () => {\n\t\tthis.clearLoopTimeout()\n\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\n\t}\n\n\tmakeStopCheck = () => {\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\n\t\t\tthis.stop()\n\t\t}\n\t}\n\n\tstart = async () => {\n\t\tthis.clearLoopTimeout()\n\t\tawait this.startLoop()\n\t\tthis.makeStopCheck()\n\t}\n\n\tstop = () => {\n\t\tthis.clearLoopTimeout()\n\t}\n}\n","import { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\n\nconst autocompleteLocationsSingleSelect = () => {\n\treturn constants.AllCountries.map(country => {\n\t\treturn {\n\t\t\tlabel: country.name,\n\t\t\tvalue: country.value,\n\t\t}\n\t})\n}\n\nconst autocompleteGendersSingleSelect = () => {\n\treturn constants.Genders.map(gender => {\n\t\treturn {\n\t\t\tlabel: translate(gender.split('_')[1]),\n\t\t\tvalue: gender,\n\t\t}\n\t})\n}\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nexport const AcLocations = autocompleteLocationsSingleSelect()\nexport const AcGenders = autocompleteGendersSingleSelect()\nexport const AcTags = autocompleteTagsSingleSelect()\n\nexport const SOURCES = {\n\tlocations: { src: AcLocations, collection: 'targeting' },\n\tgenders: { src: AcGenders, collection: 'targeting' },\n\ttags: { src: AcTags, collection: 'targeting' },\n\tcustom: { src: [], collection: 'targeting' },\n}\n","import Loop from './loop'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\nimport { updateUserCampaigns, execute } from 'actions'\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\n\n// 30 seconds = market statusLoopTick\nconst LOOP_TIMEOUT =\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\n\nconst campaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\n\tloopName: '_CAMPAIGNS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport { campaignsLoop }\n","import Loop from './loop'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\nimport { execute, updateAccountStats } from 'actions'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst accountStatsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\n\tloopName: '_ACCOUNTS_STATS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport default accountStatsLoop\n","import adexTranslations from 'adex-translations'\nimport { removeTags } from 'helpers/sanitizer'\nimport { isValidElement, cloneElement } from 'react'\n\nconst translations = adexTranslations()\n\nlet lang = 'en-US'\n\nconst interpolate = (tpl, args) => {\n\tif (typeof tpl !== 'string') {\n\t\treturn ''\n\t}\n\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\n\tconst parts = tpl.split(pattern)\n\n\tconst interpolated = parts.map((p, i) => {\n\t\tconst element = args[p] || p\n\t\tif (isValidElement(element) && !element.key) {\n\t\t\tconst withKey = cloneElement(element, { key: i })\n\n\t\t\treturn withKey\n\t\t}\n\n\t\treturn element\n\t})\n\n\tif (interpolated.every(i => typeof i === 'string')) {\n\t\treturn interpolated.join('')\n\t}\n\n\treturn interpolated\n}\n\nexport const translate = (\n\tval = '',\n\t{ isProp = false, args = [''] } = {},\n\tlanguage = lang\n) => {\n\tlet key = val + ''\n\tif (isProp) {\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\n\t}\n\n\tkey = key.toUpperCase()\n\n\tlet translation = removeTags(translations[language][key] || val)\n\n\tif (args.length && Array.isArray(args)) {\n\t\tconst translatedArgs = args.map(a => {\n\t\t\tif (typeof a === 'string') {\n\t\t\t\treturn translations[language][a] || a\n\t\t\t} else {\n\t\t\t\treturn a\n\t\t\t}\n\t\t})\n\n\t\ttranslation = interpolate(translation, translatedArgs)\n\t}\n\n\treturn translation\n}\n\n// TODO: fix that\nexport const setLang = lng => {\n\tlang = lng\n}\n","export const removeTags = dirty => {\n\tif (!dirty || typeof dirty !== 'string') return ''\n\n\treturn (\n\t\tdirty\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\n\t\t\t// Strip any remaining HTML tags\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\n\t\t\t// Replace {strong} ... with <strong> ...\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\n\t)\n}\n","// Nodejs encryption with CTR\nconst crypto = require('crypto')\n\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\nconst CIPHER_ALG = 'aes-256-cbc'\nconst IV_LENGTH = 16\nconst HASH_ALG = 'sha256'\n\nconst getKeyHash = key => {\n\tconst hash = crypto.createHash(HASH_ALG)\n\thash.update(key)\n\tconst hashed = hash.digest()\n\treturn hashed\n}\n\nexport const encrypt = async (text, key) => {\n\tif (!text) return ''\n\tif (!key) {\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\n\t}\n\tconst iv = crypto.randomBytes(IV_LENGTH)\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst encr = cipher.update(text)\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\n\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\n}\n\nexport const decrypt = async (text, key) => {\n\tconst textParts = text.split(':')\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst decr = decipher.update(encryptedText)\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\n\n\treturn decrypted.toString()\n}\n\nexport const encryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\n\tcrypted += cipher.final('hex')\n\treturn crypted\n}\n\nexport const decryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\n\tlet dec = decipher.update(text, 'hex', 'utf8')\n\tdec += decipher.final('utf8')\n\treturn dec\n}\n","import { exchange as ExchangeConstants } from 'adex-constants'\nimport { constants } from 'adex-models'\n\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\nconst { SignatureModes } = constants\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nexport const AVATAR_MAX_WIDTH = 600\nexport const AVATAR_MAX_HEIGHT = 400\n\nexport const SORT_PROPERTIES_BIDS = [\n\t{ value: '_state', label: '' },\n\t{ value: '_target', label: '' },\n\t{ value: '_amount', label: '' },\n\t{ value: '_timeout', label: '' },\n]\n\nexport const FILTER_PROPERTIES_BIDS = {\n\t_state: {\n\t\tlabel: '_state',\n\t\tlabelIsProp: true,\n\t\tvalues: Object.keys(BID_STATES).map(key => {\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\n\t\t}),\n\t},\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\n}\n\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\n}\n\nexport const SORT_PROPERTIES_ITEMS = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n\t{ value: 'type' },\n]\n\nexport const SORT_PROPERTIES_COLLECTION = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n]\n\nexport const FILTER_PROPERTIES_ITEMS = {\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\n}\n\nexport const AUTH_TYPES = {\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\n}\n\nexport const NETWORK_STATUS = {\n\t0: 'pending',\n\t1: 'success',\n\t2: 'failed',\n}\n\nexport const ETHEREUM_NETWORKS = {\n\t1: { name: 'Mainnet', for: 'production' },\n\t5: { name: 'Goerli', for: 'development' },\n\tproduction: { name: 'Mainnet', for: 'production' },\n\tdevelopment: { name: 'Goerli', for: 'development' },\n}\n\nexport const SORT_PROPERTIES_CAMPAIGN = [\n\t{ value: 'created', label: 'Created' },\n\t{ value: 'status.name', label: 'Status' },\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\n\t{ value: 'activeFrom', label: 'Starts' },\n\t{ value: 'depositAmount', label: 'depositAmount' },\n\t{ value: 'maxPerImpression', label: 'cpm' },\n]\n\nexport const FILTER_PROPERTIES_CAMPAIGN = {\n\t'status.name': {\n\t\tlabel: 'ststus',\n\t\tlabelIsProp: true,\n\t\tvalues: [\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\n\t\t\t{ value: 'Offline', label: 'Offline' },\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\n\t\t\t{ value: 'Ready', label: 'Ready' },\n\t\t\t{ value: 'Active', label: 'Active' },\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\n\t\t\t{ value: 'Expired', label: 'Expired' },\n\t\t],\n\t},\n}\n\nexport const UTM_PARAMS = {\n\tutm_source: 'ADEX',\n\tutm_medium: 'CPM',\n\tutm_campaign: 'none',\n\tutm_content: 'none',\n}\n\nexport const VALIDATOR_ANALYTICS_METRICS = [\n\t'eventPayouts', //\n\t'eventCounts',\n]\nexport const VALIDATOR_ANALYTICS_SIDES = [\n\t'advertiser',\n\t'publisher', //\n]\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\n\t'IMPRESSION', //\n\t'CLICK',\n]\n\n// TEMP: disable long periods\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\n\t{ label: 'LABEL_HOUR', value: 'hour' },\n\t{ label: 'LABEL_DAY', value: 'day' },\n\t{ label: 'LABEL_WEEK', value: 'week' },\n\t// { label: 'LABEL_MONTH', value: 'month' },\n\t// { label: 'LABEL_YEAR', value: 'year' },\n]\n\nexport const MOON_GRAVITY_ACCELERATION = 1.625\nexport const MOON_TO_EARTH_WEIGHT = 0.166\n\nexport const WALLET_ACTIONS_MSGS = {\n\t[AUTH_TYPES.METAMASK.name]: [\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\n\t],\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\n\t[AUTH_TYPES.LEDGER.name]: [{ message: 'LEDGER_WAITING_ACTION' }],\n\t[AUTH_TYPES.QUICK.name]: [\n\t\t{ message: 'QUICK_WAITING_MSG' },\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\n\t],\n\t[AUTH_TYPES.GRANT.name]: [\n\t\t{ message: 'GRANT_WAITING_MSG' },\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\n\t],\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\n}\n","import { createHashHistory } from 'history'\n\nconst history = createHashHistory()\n\nexport default history\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\n\nlet initialState = {\n\taccount: new Account(),\n\tsignin: {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassConfirm: '',\n\t\tseed: '',\n\t\tpublicKey: '',\n\t\tseedCheck: [],\n\t\tauthenticated: false,\n\t},\n\tnewItem: {\n\t\tCampaign: new Campaign().plainObj(),\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\n\t\tAdSlot: new AdSlot().plainObj(),\n\t},\n\tcurrentItem: {},\n\tselectedItems: {\n\t\tcampaings: [],\n\t\tadUnits: [],\n\t\tslots: [],\n\t},\n\titems: {\n\t\tCampaign: {},\n\t\tAdUnit: {},\n\t\tAdSlot: {},\n\t},\n\tspinners: {},\n\tui: {\n\t\tglobal: {},\n\t\tbyIdentity: {},\n\t},\n\ttoasts: [],\n\tconfirm: {\n\t\tdata: {},\n\t},\n\tnav: {\n\t\tside: '',\n\t},\n\tlanguage: 'en-US',\n\tvalidations: {},\n\tnewTransactions: {\n\t\tdefault: {},\n\t},\n\tweb3Transactions: {},\n\ttags: {},\n\tidentity: {},\n\tethNetwork: {\n\t\tnetworkId: null,\n\t\tgasData: {},\n\t},\n\twallet: {},\n\tconfig: {\n\t\trelayer: {},\n\t\tmarket: {},\n\t\tvalidators: {},\n\t},\n\tanalytics: { timeframe: 'day' },\n\tchannels: {\n\t\twithBalanceAll: {},\n\t\twithOutstandingBalance: [],\n\t},\n\tensAddresses: {},\n}\n\nexport default initialState\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","export const CREATING_SESSION = 'CREATING_SESSION'\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\n","import { ethers, utils, Contract } from 'ethers'\nimport { contracts } from './contractsCfg'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { selectRelayerConfig } from 'selectors'\n\nethers.errors.setLogLevel('error')\n\nconst { AdExCore, Identity, IdentityFactory } = contracts\n\nconst getAdexCore = provider => {\n\tconst { coreAddr } = selectRelayerConfig()\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\n}\n\nconst getMainToken = provider => {\n\tconst { mainToken = {} } = selectRelayerConfig()\n\treturn new Contract(\n\t\tmainToken.address,\n\t\tcontracts[mainToken.standard].abi,\n\t\tprovider\n\t)\n}\n\nconst getToken = ({ provider, standard, address }) => {\n\treturn new Contract(address, contracts[standard].abi, provider)\n}\n\nconst getIdentity = ({ provider, address }) => {\n\tconst identityContract = new Contract(address, Identity.abi, provider)\n\n\treturn identityContract\n}\n\nconst getIdentityFactory = provider => {\n\tconst { identityFactoryAddr } = selectRelayerConfig()\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\n}\n\nconst getEthersResult = provider => {\n\tconst adexCore = getAdexCore(provider)\n\tconst mainToken = getMainToken(provider)\n\tconst identityFactory = getIdentityFactory(provider)\n\n\tconst results = {\n\t\tprovider,\n\t\tAdExCore: adexCore,\n\t\tIdentity: Identity,\n\t\tDai: mainToken,\n\t\tMainToken: mainToken,\n\t\tIdentityFactory: identityFactory,\n\t\tgetToken: ({ standard, address }) =>\n\t\t\tgetToken({ provider, standard, address }),\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\n\t}\n\n\treturn results\n}\n\nconst localWeb3 = () => {\n\tconst provider = new ethers.providers.JsonRpcProvider(\n\t\tprocess.env.WEB3_NODE_ADDR\n\t)\n\treturn getEthersResult(provider)\n}\n\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\n\twindow.addEventListener('load', () => {\n\t\tconst ethereum = window.ethereum\n\t\tconst web3 = window.web3\n\t\treturn resolve({\n\t\t\tethereum,\n\t\t\tweb3,\n\t\t})\n\t})\n})\n\nconst injectedWeb3 = async () => {\n\tconst { web3, ethereum } = await loadInjectedWeb3\n\tlet provider = null\n\n\tif (ethereum) {\n\t\ttry {\n\t\t\tawait ethereum.enable()\n\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\n\n\t\t\treturn getEthersResult(provider)\n\t\t} catch (err) {\n\t\t\tconsole.error('Err getting injected ethereum.', err)\n\t\t\tthrow new Error(err.message)\n\t\t}\n\t}\n\t// Legacy dapp browsers...\n\t// TODO: we just have to throw or show notification\n\t// At the moment if it throws it will show error toast but not always.\n\telse if (web3) {\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t} else {\n\t\tconsole.error('Non-Ethereum browser detected.')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t}\n}\n\nconst getLocalWeb3 = async () => {\n\t// console.log('getLocalWeb3')\n\treturn localWeb3()\n}\n\nconst getEthers = mode => {\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\n\t *   and this results in Trezor popup block by the browser\n\t */\n\tif (mode === AUTH_TYPES.METAMASK.name) {\n\t\treturn injectedWeb3()\n\t} else {\n\t\treturn getLocalWeb3()\n\t}\n}\n\nconst ethereumNetworkId = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\tif (ethereum) {\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\n\t\treturn id\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst getEthereumProvider = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\tif (!ethereum) {\n\t\treturn null\n\t}\n\n\tif (ethereum.isMetaMask) {\n\t\treturn AUTH_TYPES.METAMASK.name\n\t}\n\n\treturn null\n}\n\nexport { getEthers, ethereumNetworkId, getEthereumProvider }\n","module.exports = __webpack_public_path__ + \"static/media/GS-email-ic.7f647acc.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic.8de20f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-launch-ic.b4a8f505.png\";","import { store } from 'store'\n\nexport const execute = store.dispatch\n\nexport const dispatch = store.dispatch\n\nexport const getState = store.getState\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport * as types from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\nimport { selectCompanyData, selectAccountIdentityAddr } from 'selectors'\nimport { translate } from 'services/translations/translations'\n\nexport function updateSpinner(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SPINNER,\n\t\t\tspinner: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateGlobalUi(item, value, category) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function updateUiByIdentity(item, value, category) {\n\treturn function(dispatch, getState) {\n\t\tconst identity = selectAccountIdentityAddr(getState())\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\n\t\t\tidentity,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function addToast({\n\ttype,\n\taction,\n\tlabel = '',\n\ttimeout = false,\n\tunclosable,\n\tanchorOrigin,\n\ttop,\n}) {\n\treturn function(dispatch) {\n\t\tconst id = Helper.getGuid()\n\t\tdispatch({\n\t\t\ttype: types.ADD_TOAST,\n\t\t\ttoast: {\n\t\t\t\ttype,\n\t\t\t\taction,\n\t\t\t\tlabel,\n\t\t\t\ttimeout,\n\t\t\t\tunclosable,\n\t\t\t\tanchorOrigin,\n\t\t\t\ttop,\n\t\t\t\tid,\n\t\t\t},\n\t\t})\n\n\t\treturn id\n\t}\n}\n\nexport function removeToast(toastId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.REMOVE_TOAST,\n\t\t\ttoast: toastId,\n\t\t})\n\t}\n}\n\nexport function confirmAction(\n\tonConfirm,\n\tonCancel,\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\n\tnoActionBtns,\n\tactive\n) {\n\treturn async function(dispatch) {\n\t\treturn await dispatch({\n\t\t\ttype: types.CONFIRM_ACTION,\n\t\t\tconfirm: {\n\t\t\t\tonConfirm: onConfirm,\n\t\t\t\tonCancel: onCancel,\n\t\t\t\tdata: {\n\t\t\t\t\tconfirmLabel: confirmLabel,\n\t\t\t\t\tcancelLabel: cancelLabel,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttext: text,\n\t\t\t\t},\n\t\t\t\tnoActionBtns,\n\t\t\t\tactive,\n\t\t\t},\n\t\t})\n\t}\n}\n\nexport function updateNav(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NAV,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function changeLanguage(lang) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CHANGE_LANGUAGE,\n\t\t\tlang: lang,\n\t\t})\n\t}\n}\n\nexport function updateRegistrationAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateCompanyData(newData) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst companyData = selectCompanyData(getState())\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_COMPANY_DATA'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateSelectedItems(collection, selectedItems) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\n\t\t\tselectedItems,\n\t\t\tcollection,\n\t\t})\n\t}\n}\n\nexport function updateSelectedCampaigns(selectedItems) {\n\treturn function(dispatch) {\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\n\t}\n}\n\nexport function refreshCacheAndReload({ version }) {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\taction: (\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (caches) {\n\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\n\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\n\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{translate('REFRESH')}\n\t\t\t\t\t</Button>\n\t\t\t\t),\n\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\n\t\t\t\t\targs: [version],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function notifyNewTOS() {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tunclosable: true,\n\t\t\t\taction: (\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\n\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{translate('TOS_CHECK')}\n\t\t\t\t\t</Button>\n\t\t\t\t),\n\t\t\t\tlabel: translate('NOTIFICATION_NEW_TOS', {\n\t\t\t\t\targs: [translate('TOS_CHECK')],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function handleRedirectParams(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('confirm-email')\n\t\tconst identity = searchParams.get('confirm-identity')\n\t\tconst grant = searchParams.get('confirm-grant')\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\n\n\t\tif (email && identity && !grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL', {\n\t\t\t\t\targs: [email, identity],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} else if (email && identity && grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL_GRANT', {\n\t\t\t\t\targs: [email, identity, grant],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tif (['advertiser', 'publisher'].includes(side)) {\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateEasterEggsAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\n\t\t\tprocess.env.EASTER_EGGS_VALUE\n\t\t) {\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updatePrivilegesWarningAccepted(accepted) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function hideGettingStarted() {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('hideGettingStarted', true)(dispatch, getState)\n\t}\n}\n","export const getErrorMsg = err => {\n\tif (!err) {\n\t\treturn ''\n\t} else if (typeof err === 'object') {\n\t\treturn err.msg || err.message || err.errMsg || err.error\n\t} else if (Array.isArray(err)) {\n\t\treturn err.join(', ')\n\t} else {\n\t\treturn err\n\t}\n}\n","import { parseUnits, bigNumberify } from 'ethers/utils'\n\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\n\tif (numStr === null || numStr === undefined) {\n\t\treturn numStr\n\t}\n\n\treturn parseUnits(numStr, decimals)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tuploadImage,\n\tpostAdUnit,\n\tpostAdSlot,\n\tupdateAdSlot,\n\tupdateAdUnit,\n\tupdateCampaign,\n} from 'services/adex-market/actions'\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\n\nimport { translate } from 'services/translations/translations'\nimport { getAdUnits, getAdSlots } from 'services/adex-market/actions'\n\nimport initialState from 'store/initialState'\nimport { getMediaSize } from 'helpers/mediaHelpers'\nimport { getErrorMsg } from 'helpers/errors'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { SOURCES } from 'constants/targeting'\nimport {\n\tselectRelayerConfig,\n\tselectAuthSig,\n\tselectMainToken,\n\tselectAccount,\n\tselectAuth,\n} from 'selectors'\n\nconst addToast = ({ type, toastStr, args, dispatch }) => {\n\treturn AddToastUi({\n\t\tdispatch: dispatch,\n\t\ttype: type,\n\t\tlabel: translate(toastStr, { args: args }),\n\t\ttimeout: 5000,\n\t})(dispatch)\n}\n\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\n\treturn fetch(tempUrl)\n\t\t.then(resp => {\n\t\t\treturn resp.blob()\n\t\t})\n\t\t.then(imgBlob => {\n\t\t\tURL.revokeObjectURL(tempUrl)\n\t\t\treturn uploadImage({\n\t\t\t\timageBlob: imgBlob,\n\t\t\t\timageName: 'image.jpeg',\n\t\t\t\tauthSig: authSig,\n\t\t\t})\n\t\t})\n}\n\nexport function updateNewItem(item, newValues, itemType, objModel) {\n\titem = Base.updateObject({ item, newValues, objModel })\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\titem,\n\t\t\titemType,\n\t\t})\n\t}\n}\n\nexport function resetNewItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function resetAllNewItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\n\t\t})\n\t}\n}\n\n// register item\nexport function addUnit(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\tauthSig,\n\t\t\t})).ipfs\n\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\n\t\t\tnewItem.mediaMime = newItem.temp.mime\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst resItem = await postAdUnit({\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\n\t\t\t\titemType: 'AdUnit',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function addSlot(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tlet fallbackUnit = null\n\t\t\tif (newItem.temp.useFallback) {\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\t\tauthSig,\n\t\t\t\t})).ipfs\n\n\t\t\t\tconst unit = new AdUnit({\n\t\t\t\t\ttype: newItem.type,\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\n\t\t\t\t\tmediaMime: newItem.temp.mime,\n\t\t\t\t\tcreated: Date.now(),\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t\tdescription: newItem.description,\n\t\t\t\t\ttargeting: [],\n\t\t\t\t\ttags: [],\n\t\t\t\t\tpassback: true,\n\t\t\t\t})\n\n\t\t\t\tconst resUnit = await postAdUnit({\n\t\t\t\t\tunit: unit.marketAdd,\n\t\t\t\t\tauthSig,\n\t\t\t\t})\n\n\t\t\t\tfallbackUnit = resUnit.ipfs\n\t\t\t}\n\n\t\t\tnewItem.fallbackUnit = fallbackUnit\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tif (newItem.minPerImpression) {\n\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: newItem.minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst resItem = await postAdSlot({\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\n\t\t\t\titemType: 'AdSlot',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function getAllItems() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst { address } = account.identity\n\t\t\tconst units = getAdUnits({ identity: address })\n\t\t\tconst slots = getAdSlots({ identity: address })\n\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\n\n\t\t\tif (selectAuth(getState())) {\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\n\t\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\n// Accepts the entire new item and replace so be careful!\nexport function updateItem({ item, itemType } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { id } = item\n\t\tupdateSpinner('update' + id, true)(dispatch)\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { authSig } = account.wallet\n\t\t\tconst { mainToken } = selectRelayerConfig()\n\n\t\t\tconst newItem = { ...item }\n\t\t\tlet updatedItem = null\n\t\t\tlet objModel = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tif (typeof newItem.temp.minPerImpression === 'string') {\n\t\t\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\t\t\tnumStr: newItem.temp.minPerImpression,\n\t\t\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof newItem.temp.website === 'string') {\n\t\t\t\t\t\tnewItem.website = newItem.temp.website\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewItem.website = null\n\t\t\t\t\t}\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\n\t\t\t\t\tobjModel = AdSlot\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\n\t\t\t\t\tobjModel = AdUnit\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\n\t\t\t\t\t\t.campaign\n\t\t\t\t\tobjModel = Campaign\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\n\t\t\t}\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\n\t\t\t\titemType,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\n\t\t\t\targs: [itemType, item.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\n\t}\n}\n\nexport function deleteItem({ item, objModel, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = true\n\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\n}\n\nexport function restoreItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\n\t\terrMsg: 'ERR_RESTORING_ITEM',\n\t})\n}\n\nconst findSourceByTag = tag => {\n\treturn Object.keys(SOURCES).find(\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\n\t)\n}\n\nexport function cloneItem({ item, itemType, objModel } = {}) {\n\treturn async function(dispatch) {\n\t\ttry {\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\n\t\t\tnewItem.id = ''\n\t\t\tnewItem.temp = {\n\t\t\t\t...initialState.newItem[itemType].temp,\n\t\t\t\ttargets: item.targeting.map((t, index) => {\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\tcollection: 'targeting',\n\t\t\t\t\t\tsource: key,\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\ttarget: { ...t },\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\n\t\t\t\tnewItem.mediaUrl,\n\t\t\t\tprocess.env.IPFS_GATEWAY\n\t\t\t)\n\n\t\t\tconst response = await fetch(tempUrl)\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\n\t\t\tconst mediaSize = await getMediaSize({\n\t\t\t\tmime: newItem.mediaMime,\n\t\t\t\tsrc: mediaURL,\n\t\t\t})\n\n\t\t\tconst temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t\tmime: item.mediaMime,\n\t\t\t\ttempUrl: mediaURL,\n\t\t\t\twidth: mediaSize.width,\n\t\t\t\theight: mediaSize.height,\n\t\t\t}\n\n\t\t\tnewItem.temp = temp\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\t\titem: newItem,\n\t\t\t\titemType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error(err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function archiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = true\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\n\t})\n}\n\nexport function unarchiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\n\t})\n}\n\nexport function setCurrentItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.SET_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function updateCurrentItem(item, newMeta) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t\tmeta: newMeta,\n\t\t})\n\t}\n}\n\nexport function updateItems({ items, itemType }) {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\n\t\t\titems: items,\n\t\t\titemType: itemType,\n\t\t})\n\t}\n}\n\nexport const resetAllItems = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_ITEMS,\n\t\t})\n\t}\n}\n\nexport const updateTags = ({ tags }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_TAGS,\n\t\t\ttags: tags,\n\t\t})\n\t}\n}\n\nexport const addNewTag = ({ tag }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_NEW_TAG,\n\t\t\ttag: tag,\n\t\t})\n\t}\n}\n","export const addSig = ({\n\taddr = '',\n\tsig,\n\tmode,\n\texpiryTime,\n\tidentity = 'notset',\n}) => {\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\n\t\tthrow new Error('addSig - all args are required')\n\t}\n\n\tlocalStorage.setItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\n\t\tsig + '-' + expiryTime\n\t)\n}\n\nexport const getSig = ({ addr = '', identity = '', mode }) => {\n\tlet sigAndTIme = localStorage.getItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\n\t)\n\n\tif (!sigAndTIme) {\n\t\treturn null\n\t}\n\n\tsigAndTIme = sigAndTIme.split('-')\n\tlet sig = sigAndTIme[0]\n\tlet time = sigAndTIme[1]\n\n\tif (!time || parseInt(time, 10) <= Date.now()) {\n\t\treturn null\n\t} else {\n\t\treturn sig\n\t}\n}\n","import moment from 'moment'\n\nexport const intervalsMs = () => {\n\tconst nowUTC = moment.utc()\n\n\t// TODO: Make it dynamic\n\tconst lastSixHoursPeriod = Math.floor(\n\t\t(nowUTC.clone().valueOf() - nowUTC.clone().startOf('day')) /\n\t\t\t(6 * 60 * 60 * 1000)\n\t)\n\treturn {\n\t\tlastHour: {\n\t\t\tstart: moment()\n\t\t\t\t.startOf('minute')\n\t\t\t\t.add(1, 'minute')\n\t\t\t\t.subtract(1, 'hours'),\n\t\t\tend: moment().startOf('minute'),\n\t\t},\n\t\tlast24Hours: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'day')\n\t\t\t\t.startOf('hour')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.startOf('hour')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlast7Days: {\n\t\t\tstart: nowUTC\n\t\t\t\t.clone()\n\t\t\t\t.startOf('day')\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\n\t\t\t\t.subtract(7, 'days')\n\t\t\t\t.valueOf(),\n\t\t\tend: nowUTC\n\t\t\t\t.clone()\n\t\t\t\t.startOf('day')\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\n\t\t\t\t.add(2, 'hours')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tthisWeek: {\n\t\t\tstart: moment()\n\t\t\t\t.utc()\n\t\t\t\t.startOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.utc()\n\t\t\t\t.endOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlastWeek: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'week')\n\t\t\t\t.startOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.subtract(1, 'week')\n\t\t\t\t.endOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tthisMonth: {\n\t\t\tstart: moment()\n\t\t\t\t.startOf('month')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.endOf('month')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlastMonth: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'month')\n\t\t\t\t.startOf('month')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.subtract(1, 'month')\n\t\t\t\t.endOf('month')\n\t\t\t\t.valueOf(),\n\t\t},\n\t}\n}\n\nexport const fillEmptyTime = (prevAggr, timeframe, defaultValue = 0) => {\n\tconst intervals = intervalsMs()\n\tconst time = {\n\t\tinterval: intervals.lastHour,\n\t\tstep: { ammount: 1, unit: 'minute' },\n\t}\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\ttime.interval = intervals.lastHour\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\ttime.interval = intervals.last24Hours\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\ttime.interval = intervals.last7Days\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn prevAggr\n\t}\n\tconst newAggr = []\n\tfor (\n\t\tvar m = moment(time.interval.start);\n\t\tm.diff(time.interval.end) <= 0;\n\t\tm.add(time.step.ammount, time.step.unit)\n\t) {\n\t\tnewAggr.push({ value: defaultValue, time: m.unix() * 1000 })\n\t}\n\n\tconst prevAggrInInterval = prevAggr.filter(a => {\n\t\tconst m = moment(a.time)\n\t\treturn m.diff(time.interval.start) >= 0 && m.diff(time.interval.end) <= 0\n\t})\n\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\n\t\tconst newData = { ...data }\n\t\tconst value = data[a.time] || a.value || defaultValue\n\t\tnewData[a.time] = value\n\n\t\treturn newData\n\t}, {})\n\n\tconst result = Object.entries(data)\n\t\t.map(([key, value]) => ({\n\t\t\tvalue,\n\t\t\ttime: +key,\n\t\t}))\n\t\t.sort((a, b) => a.time - b.time)\n\n\treturn result\n}\n\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\n","import { bigNumberify } from 'ethers/utils'\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\nimport { formatTokenAmount } from 'helpers/formatters'\n\nimport { getAllCampaigns } from './actions'\n\nexport async function getUnitsStatsByType() {\n\tconst { decimals } = selectMainToken()\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst allChannels = await getAllCampaigns()\n\n\tconst channels = allChannels.filter(\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\n\t)\n\n\tconst unitsByType = channels.reduce((units, channel) => {\n\t\tconst byType = { ...units }\n\t\tchannel.spec.adUnits.forEach(unit => {\n\t\t\tbyType[unit.type] = byType[unit.type] || []\n\t\t\tbyType[unit.type].push(channel)\n\t\t})\n\n\t\treturn byType\n\t}, {})\n\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\n\t\tasync (prevStats, key) => {\n\t\t\tconst stats = await prevStats\n\t\t\tconst channelsByType = unitsByType[key]\n\n\t\t\tlet totalPerImpression = bigNumberify('0')\n\t\t\tlet totalVolume = bigNumberify('0')\n\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\n\t\t\t\tconst channel = channelsByType[index]\n\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\n\t\t\t\t})\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\n\t\t\t\t})\n\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\n\t\t\t}\n\n\t\t\tconst avgPerImpression = totalPerImpression.div(\n\t\t\t\tbigNumberify(channelsByType.length)\n\t\t\t)\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\n\n\t\t\tconst statsByType = { ...stats }\n\t\t\tstatsByType[key] = {}\n\t\t\tstatsByType[key].raw = {\n\t\t\t\ttotalVolume,\n\t\t\t\tavgPerImpression,\n\t\t\t\tavgCPM,\n\t\t\t}\n\n\t\t\tstatsByType[key].formatted = {\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\n\t\t\t\tavgPerImpression: formatTokenAmount(\n\t\t\t\t\tavgPerImpression,\n\t\t\t\t\tdecimals,\n\t\t\t\t\tfalse,\n\t\t\t\t\t2\n\t\t\t\t),\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\n\t\t\t}\n\n\t\t\treturn statsByType\n\t\t},\n\t\tPromise.resolve({})\n\t)\n\n\treturn unitsByTypeStats\n}\n","import * as types from 'constants/actionTypes'\nimport throttle from 'lodash.throttle'\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\nimport { translate } from 'services/translations/translations'\nimport {\n\tgetValidatorAuthToken,\n\tidentityAnalytics,\n\tidentityCampaignsAnalytics,\n} from 'services/adex-validator/actions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport {\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n} from 'constants/misc'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport { getErrorMsg } from 'helpers/errors'\nimport { fillEmptyTime } from 'helpers/timeHelpers'\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\nimport {\n\tselectChannelsWithUserBalancesAll,\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectSide,\n\tselectAccount,\n\tselectAnalyticsTimeframe,\n} from 'selectors'\nimport { bigNumberify } from 'ethers/utils'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\nconst analyticsParams = (timeframe, side) => {\n\tconst callsParams = []\n\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\n\t\t\tcallsParams.push({\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tside,\n\t\t\t\teventType,\n\t\t\t\t...(side === 'publisher' &&\n\t\t\t\t\tmetric === 'eventPayouts' && { segmentByChannel: true }),\n\t\t\t})\n\t\t)\n\t)\n\n\treturn callsParams\n}\n\nconst analyticsCampaignsParams = () => {\n\tconst callsParams = []\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tcallsParams.push({ eventType })\n\t)\n\treturn callsParams\n}\n\nfunction aggrByChannelsSegments({\n\taggr,\n\tallChannels,\n\tfeeTokens,\n\twithdrawTokens,\n}) {\n\tif (!Object.keys(allChannels).length) {\n\t\treturn []\n\t}\n\t// NOTE: No need to sort them again because fillEmptyTime\n\t// is sorting by time after adding the empty time values\n\tconst { aggregations, all } = aggr\n\t\t.sort((a, b) => b.time - a.time)\n\t\t.reduce(\n\t\t\t(data, a) => {\n\t\t\t\tconst { time } = a\n\t\t\t\tconst { aggregations, channels, all } = data\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\n\n\t\t\t\tconst { depositAmount, balanceNum, depositAsset, status } =\n\t\t\t\t\tallChannels[channelId] || {}\n\n\t\t\t\tconst { minPlatform, minFinal } = withdrawTokens[depositAsset]\n\t\t\t\tconst { min } = feeTokens[depositAsset]\n\t\t\t\tconst isExpired = status === 'Expired'\n\t\t\t\tconst minBalance = isExpired ? minFinal : minPlatform\n\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\n\n\t\t\t\tconst value = bigNumberify(a.value || 0)\n\t\t\t\t\t.mul(bigNumberify(balanceNum || 1))\n\t\t\t\t\t.div(bigNumberify(depositAmount || 1))\n\n\t\t\t\tcurrent.aggr.push({ value, time })\n\n\t\t\t\tconst currentAggr = aggregations[time] || {\n\t\t\t\t\ttime,\n\t\t\t\t\tvalue: bigNumberify(0),\n\t\t\t\t}\n\t\t\t\tconst currentChannelValue = bigNumberify(current.value || 0).add(value)\n\n\t\t\t\tconst hasMinBalance = currentChannelValue.gt(bigNumberify(minBalance))\n\t\t\t\tconst currentTimeValue = currentAggr.value\n\n\t\t\t\tcurrent.value = currentChannelValue\n\n\t\t\t\tif (hasMinBalance && !current.feeSubtracted) {\n\t\t\t\t\tcurrent.feeSubtracted = true\n\t\t\t\t\tconst currentAvailable = currentChannelValue.sub(bigNumberify(min))\n\t\t\t\t\tconst currentAdded = bigNumberify(0)\n\t\t\t\t\tconst points = current.aggr\n\n\t\t\t\t\tfor (let index = points.length - 1; index >= 0; index--) {\n\t\t\t\t\t\tconst point = points[index]\n\t\t\t\t\t\tcurrentAdded.add(point.value)\n\n\t\t\t\t\t\tconst curInnerAggr = aggregations[point.time] || {\n\t\t\t\t\t\t\ttime,\n\t\t\t\t\t\t\tvalue: bigNumberify(0),\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (currentAdded.lt(currentAvailable)) {\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(point.value)\n\t\t\t\t\t\t\taggregations[point.time] = curInnerAggr\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(\n\t\t\t\t\t\t\t\tcurrentAdded.sub(currentAvailable)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\taggregations[point.time] = curInnerAggr\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t} else if (hasMinBalance && current.feeSubtracted) {\n\t\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\n\t\t\t\t}\n\n\t\t\t\tchannels[channelId] = current\n\t\t\t\taggregations[time] = currentAggr\n\t\t\t\tall[time] = a.value || all[time]\n\n\t\t\t\treturn { aggregations, channels, all }\n\t\t\t},\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\n\t\t)\n\n\t// NOTE: force to null values when value under limits but not naturally 0\n\tconst aggrWithNullValues = Object.values(aggregations).map(\n\t\t({ time, value }) => {\n\t\t\tconst isNull =\n\t\t\t\tall[time] === undefined ||\n\t\t\t\t(bigNumberify(value).isZero() && all[time] !== '0')\n\t\t\treturn { time, value: isNull ? null : value }\n\t\t}\n\t)\n\n\treturn aggrWithNullValues\n}\n\nexport function updateAccountAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\n\t\tconst side = selectSide(state)\n\t\tconst timeframe = selectAnalyticsTimeframe(state)\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsParams(timeframe, side)\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tidentityAnalytics({\n\t\t\t\t\t...opts,\n\t\t\t\t\tleaderAuth,\n\t\t\t\t})\n\t\t\t\t\t.then(({ aggregates, metric }) => {\n\t\t\t\t\t\tconst aggrByChannelSegments =\n\t\t\t\t\t\t\tside === 'publisher' && metric === 'eventPayouts'\n\t\t\t\t\t\tlet aggr = aggrByChannelSegments\n\t\t\t\t\t\t\t? aggrByChannelsSegments({\n\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\n\t\t\t\t\t\t\t\t\tallChannels,\n\t\t\t\t\t\t\t\t\tfeeTokens,\n\t\t\t\t\t\t\t\t\twithdrawTokens,\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t: aggregates.aggr\n\n\t\t\t\t\t\tconst defaultValue = aggrByChannelSegments ? null : 0\n\n\t\t\t\t\t\taggregates.aggr = fillEmptyTime(aggr, timeframe, defaultValue)\n\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\n\n\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\n\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\tvalue: { ...aggregates },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountCampaignsAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsCampaignsParams()\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\ttry {\n\t\t\t\t\tconst value = await identityCampaignsAnalytics({\n\t\t\t\t\t\t...opts,\n\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t})\n\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\n\n\t\t\t\t\treturn { opts, value }\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\n\t\t\t\t\treturn null\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconst data = await Promise.all(allAnalytics)\n\n\t\t\tif (!accountChanged) {\n\t\t\t\tdata\n\t\t\t\t\t.filter(x => !!x)\n\t\t\t\t\t.forEach(({ opts, value }) =>\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\n\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAnalyticsTimeframe(timeframe) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\n\t\t\t\tvalue: timeframe,\n\t\t\t})\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function resetAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ANALYTICS,\n\t\t})\n\t}\n}\n\nexport const updateSlotsDemand = throttle(\n\tasync function(dispatch) {\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\n\t\ttry {\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\n\t\t\t\tvalue: demandAnalytics,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\n\t},\n\t5 * 60 * 1000,\n\t{ leading: true, trailing: false }\n)\n\nexport const updateSlotsDemandThrottled = () => dispatch => {\n\treturn updateSlotsDemand(dispatch)\n}\n","import * as types from 'constants/actionTypes'\nimport { addSig, getSig } from 'services/auth/auth'\nimport { getSession, checkSession } from 'services/adex-market/actions'\nimport {\n\tgetRelayerConfigData,\n\tgetQuickWallet,\n\tbackupWallet,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { updateSpinner, updateGlobalUi } from './uiActions'\nimport { translate } from 'services/translations/translations'\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\nimport {\n\tremoveLegacyKey,\n\tgetWalletHash,\n\tgenerateSalt,\n\tgetRecoveryWalletData,\n} from 'services/wallet/wallet'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport {\n\tgetAccountStats,\n\tgetOutstandingBalance,\n} from 'services/smart-contracts/actions/stats'\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\nimport { addToast, confirmAction } from './uiActions'\nimport { getAllItems } from './itemActions'\nimport { updateSlotsDemandThrottled } from './analyticsActions'\nimport {\n\tgetEthers,\n\tgetEthereumProvider,\n\tethereumNetworkId,\n} from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\nimport {\n\tselectAccount,\n\tselectIdentity,\n\tselectAuth,\n\tselectWallet,\n\tselectSearchParams,\n\tselectAuthType,\n\tselectAccountIdentity,\n\tselectLoginDirectSide,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { getErrorMsg } from 'helpers/errors'\nimport { push } from 'connected-react-router'\nimport {\n\tCREATING_SESSION,\n\tQUICK_WALLET_BACKUP,\n\tUPDATING_ACCOUNT_IDENTITY,\n} from 'constants/spinners'\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\n// MEMORY STORAGE\nexport function updateSignin(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SIGNIN,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetSignin() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SIGNIN,\n\t\t})\n\t}\n}\n\n// PERSISTENT STORAGE\nexport function createAccount(acc) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CREATE_ACCOUNT,\n\t\t\taccount: acc,\n\t\t})\n\t}\n}\n\n// LOGOUT\nexport function resetAccount() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ACCOUNT,\n\t\t})\n\t}\n}\n\nexport function updateAccount({ meta, newValues }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ACCOUNT,\n\t\t\tmeta: meta,\n\t\t\tnewValues: newValues,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithBalanceAll(channels) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\n\t\t\tchannels,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithBalanceAll() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithOutstandingBalance(channels) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\t\t\tchannels,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithOutstandingBalance() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\t\t})\n\t}\n}\n\nexport function updateGasData({ gasData }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GAS_DATA,\n\t\t\tgasData: gasData,\n\t\t})\n\t}\n}\n\n// getIdentityStatistics tooks to long some times\n// if the account is change we do not update the account\n// TODO: we can use something for abortable tasks\nexport function isAccountChanged(getState, account) {\n\tconst hasAuth = selectAuth(getState())\n\tconst accountCheck = selectAccount(getState())\n\tconst accountChanged =\n\t\t!hasAuth ||\n\t\t!accountCheck.wallet.address ||\n\t\taccountCheck.wallet.address !== account.wallet.address ||\n\t\t!accountCheck.identity.address ||\n\t\t!accountCheck.identity.address !== !account.identity.address\n\n\treturn accountChanged\n}\n\nexport function updateAccountStats() {\n\treturn async function(dispatch, getState) {\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tconst { identity, wallet } = account\n\t\t\tconst { address } = identity\n\t\t\tconst { all, withOutstandingBalance } = await getChannelsWithOutstanding({\n\t\t\t\tidentityAddr: address,\n\t\t\t\twallet,\n\t\t\t})\n\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\n\t\t\t\twallet,\n\t\t\t\taddress,\n\t\t\t\twithBalance: withOutstandingBalance,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\n\t\t\t})\n\n\t\t\tconst { formatted, raw } = await getAccountStats({\n\t\t\t\taccount,\n\t\t\t\toutstandingBalanceMainToken,\n\t\t\t\tall,\n\t\t\t})\n\n\t\t\tif (!isAccountChanged(getState, account)) {\n\t\t\t\tawait updateChannelsWithBalanceAll(all)(dispatch)\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tawait updateAccount({\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_STATS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountIdentityData() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t\tconst identity = selectAccountIdentity(getState())\n\n\t\ttry {\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identity.address,\n\t\t\t\t})) || {}\n\n\t\t\tconst updatedIdentity = { ...identity }\n\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\n\t\t\tupdatedIdentity.relayerData = relayerData\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { identity: updatedIdentity },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t}\n}\n\nexport function updateValidatorAuthTokens({ newAuth }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { identity } = getState().persist.account\n\n\t\tconst newIdentity = { ...identity }\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\n\n\t\t// We don't want to update account if there is no actual change\n\t\tif (\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\n\t\t\tJSON.stringify(newTokens)\n\t\t) {\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\n\t\t}\n\t}\n}\n\nexport function createSession({\n\twallet,\n\tidentity = {},\n\temail,\n\tdeleteLegacyKey,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\n\t\ttry {\n\t\t\tconst newWallet = { ...wallet }\n\t\t\tconst sessionSignature =\n\t\t\t\tgetSig({\n\t\t\t\t\taddr: newWallet.address,\n\t\t\t\t\tmode: newWallet.authType,\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t}) || null\n\n\t\t\tconst hasSession =\n\t\t\t\t!!sessionSignature &&\n\t\t\t\t(await checkSession({\n\t\t\t\t\tauthSig: sessionSignature,\n\t\t\t\t\tskipErrToast: true,\n\t\t\t\t}))\n\n\t\t\tif (hasSession) {\n\t\t\t\tnewWallet.authSig = sessionSignature\n\t\t\t} else {\n\t\t\t\tconst {\n\t\t\t\t\tsignature,\n\t\t\t\t\tmode,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\n\n\t\t\t\tconst { status, expiryTime } = await getSession({\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tsignature,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t\tsignerAddress: newWallet.address,\n\t\t\t\t})\n\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\taddSig({\n\t\t\t\t\t\taddr: wallet.address,\n\t\t\t\t\t\tsig: signature,\n\t\t\t\t\t\tmode: wallet.authType,\n\t\t\t\t\t\texpiryTime: expiryTime,\n\t\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\t})\n\t\t\t\t\tnewWallet.authSig = signature\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst account = {\n\t\t\t\temail: email,\n\t\t\t\twallet: newWallet,\n\t\t\t\tidentity: { ...identity },\n\t\t\t}\n\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taccount.identity.validatorAuthTokens = {\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\n\t\t\t}\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { ...account },\n\t\t\t})(dispatch)\n\n\t\t\tif (deleteLegacyKey) {\n\t\t\t\tawait removeLegacyKey({\n\t\t\t\t\temail: wallet.email,\n\t\t\t\t\tpassword: wallet.password,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst side = selectLoginDirectSide(getState())\n\n\t\t\tif (['advertiser', 'publisher'].includes(side)) {\n\t\t\t\tdispatch(push(`/dashboard/${side}`))\n\t\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\n\t\t\t} else {\n\t\t\t\tdispatch(push('/side-select'))\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\n\t}\n}\n\nexport function getRelayerConfig() {\n\treturn async function(dispatch) {\n\t\tconst cfg = await getRelayerConfigData()\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\n\t\t\tcfg,\n\t\t})\n\t}\n}\n\nasync function getNetworkId() {\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\n\tconst networkId = (await provider.getNetwork()).chainId\n\n\treturn networkId\n}\n\nasync function getNetworkData({ id }) {\n\tconst networkId = id || (await getNetworkId())\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\n\n\treturn network\n}\n\nasync function isMetamaskMatters(getState) {\n\tconst state = getState()\n\tconst searchParams = selectSearchParams(state)\n\tconst authType = selectAuthType(state)\n\n\tconst doesItMatter =\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\n\t\t(!authType &&\n\t\t\tsearchParams.get('external') === 'metamask' &&\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name)\n\n\treturn doesItMatter\n}\n\nexport function onMetamaskNetworkChange({ id } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tif (\n\t\t\t(await isMetamaskMatters(getState)) &&\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\n\t\t) {\n\t\t\tconfirmAction(\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\ttitle: translate('WARNING'),\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)(dispatch)\n\t\t} else {\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\n\t\t}\n\t}\n}\n\nexport const onMetamaskAccountChange = (accountAddress = '') => {\n\treturn async function(_, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst account = selectAccount(state)\n\t\tconst { authType, address = '' } = account.wallet\n\n\t\tif (\n\t\t\thasAuth &&\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\n\t\t\t(!accountAddress ||\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\n\t\t) {\n\t\t\tlogOut()\n\t\t} else if (!hasAuth) {\n\t\t\tconst identity = selectIdentity(state)\n\t\t\tconst { identityContractOwner } = identity\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\n\t\t}\n\t}\n}\n\nexport function metamaskAccountCheck() {\n\treturn async function(_, getState) {\n\t\tif (await isMetamaskMatters(getState)) {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\n\n\t\t\t// NOTE: using provider with ethereum.enable() seems to work\n\t\t\tonMetamaskAccountChange(provider.provider.selectedAddress)(_, getState)\n\t\t}\n\t}\n}\n\nexport function metamaskNetworkCheck() {\n\treturn async function(_, getState) {\n\t\tconst id = await ethereumNetworkId()\n\t\tonMetamaskNetworkChange({ id })(_, getState)\n\t}\n}\n\nexport function metamaskChecks() {\n\treturn async function(_, getState) {\n\t\tmetamaskNetworkCheck()(_, getState)\n\t\tmetamaskAccountCheck()(_, getState)\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\n\t\t\t\tconsole.log('acc changed', accounts[0])\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\n\t\t\t})\n\t\t\twindow.ethereum.on('networkChanged', network => {\n\t\t\t\tconsole.log('networkChanged', network)\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\n\t\t\t})\n\t\t}\n\t}\n}\n\nasync function hasBackup({ email, password }) {\n\tconst salt = generateSalt(email)\n\tconst hash = await getWalletHash({ salt, password })\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\n\n\treturn !!encryptedWallet && encryptedWallet.wallet\n}\n\nasync function makeBackup({ email, password, authType }) {\n\tconst walletSalt = generateSalt(email)\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\n\tconst encryptedWallet = await getRecoveryWalletData({\n\t\temail,\n\t\tpassword,\n\t\tauthType,\n\t})\n\n\tawait backupWallet({\n\t\temail,\n\t\tsalt: walletSalt,\n\t\thash: walletHash,\n\t\tencryptedWallet,\n\t})\n}\n\nexport function ensureQuickWalletBackup() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\n\t\ttry {\n\t\t\tconst { email, password, authType } = selectWallet(getState())\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\n\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\n\t\t\t\tawait makeBackup({ email, password, authType })\n\t\t\t}\n\t\t} catch (err) {}\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\n\t}\n}\n\nexport function loadAccountData() {\n\treturn async function(dispatch, getState) {\n\t\tconst account = selectAccount(getState())\n\t\t!isAccountChanged(getState, account) &&\n\t\t\t(await updateAccountIdentityData()(dispatch, getState))\n\t\t!isAccountChanged(getState, account) &&\n\t\t\t(await getAllItems()(dispatch, getState))\n\n\t\t!isAccountChanged(getState, account) && (await statsLoop.start())\n\t\t!isAccountChanged(getState, account) && (await analyticsLoop.start())\n\t\t!isAccountChanged(getState, account) &&\n\t\t\t(await analyticsCampaignsLoop.start())\n\t\t!isAccountChanged(getState, account) && (await campaignsLoop.start())\n\n\t\tupdateSlotsDemandThrottled()(dispatch, getState)\n\t}\n}\n\nexport function stopAccountDataUpdate() {\n\treturn async function(dispatch, getState) {\n\t\tanalyticsLoop.stop()\n\t\tanalyticsCampaignsLoop.stop()\n\t\tcampaignsLoop.stop()\n\t\tstatsLoop.stop()\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { updateSpinner } from './uiActions'\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\nimport { translate } from 'services/translations/translations'\nimport { addToast } from './uiActions'\nimport { bigNumberify, parseUnits } from 'ethers/utils'\nimport { validations, Joi, schemas, constants } from 'adex-models'\nimport { validPassword } from 'helpers/validators'\nimport { t, selectAuthType } from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nimport { getEmail } from 'services/adex-relayer/actions'\nconst { IdentityPrivilegeLevel } = constants\n\nconst { campaignPut, account } = schemas\nconst { isNumberString } = validations\n\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\n\treturn async function(dispatch, getState) {\n\t\tconst authType = selectAuthType(getState())\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await validEthAddress({\n\t\t\t\taddr,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tnonERC20,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\n\t\t\tif (validate) {\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(name, false)(dispatch)\n\t}\n}\n\nexport function updateValidationErrors(item, newErrors) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\terrors: newErrors,\n\t\t})\n\t}\n}\n\nexport function resetValidationErrors(item, key) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\tkey,\n\t\t})\n\t}\n}\n\nexport function validate(\n\tvalidateId,\n\tkey,\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n) {\n\treturn async function(dispatch, getState) {\n\t\tif (!isValid) {\n\t\t\tlet errors = {}\n\t\t\terrors[key] = {\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\n\t\t\t\tdirty: dirty,\n\t\t\t}\n\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\n\t\t} else if (removeAll) {\n\t\t\tresetValidationErrors(validateId)(dispatch)\n\t\t} else {\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\n\t\t}\n\t}\n}\n\nexport const handleAfterValidation = async ({\n\tisValid,\n\tonValid,\n\tonInvalid,\n}) => {\n\tif (isValid && typeof onValid === 'function') {\n\t\tawait onValid()\n\t}\n\tif (!isValid && typeof onInvalid === 'function') {\n\t\tawait onInvalid()\n\t}\n}\n\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\n\t\tvalidate(validateId, 'emailCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePassword(validateId, password, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validPassword(password)\n\t\tvalidate(validateId, 'password', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePasswordCheck(\n\tvalidateId,\n\tpasswordCheck,\n\tpassword,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\n\t\tvalidate(validateId, 'passwordCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateTOS(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'tosCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateENS({ ens, dirty, validate, name }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { authType } = getState().persist.account.wallet\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await freeAdExENS({\n\t\t\t\tens,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\t\t\tupdateSpinner(name, false)(dispatch)\n\t\t\tif (validate)\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t} catch (error) {\n\t\t\tconsole.error('ERR_VALIDATING_ENS_ADDRESS', error)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ENS_ADDRESS', { args: [error] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\nexport function validateWallet(validateId, wallet, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!wallet && !!wallet.address\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateIdentityContractOwner(\n\tvalidateId,\n\tidentityContractOwner,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!identityContractOwner\n\t\tvalidate(validateId, 'identityContractOwner', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateAccessWarning(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'accessWarningCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignUnits(validateId, adUnits, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!adUnits && adUnits.length\n\t\tvalidate(validateId, 'adUnits', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\t!!validators &&\n\t\t\tvalidators.length === 2 &&\n\t\t\t!!validators[0] &&\n\t\t\t!!validators[1] &&\n\t\t\t!!validators[0].id &&\n\t\t\t!!validators[0].url &&\n\t\t\tvalidators[0].feeNum !== undefined &&\n\t\t\tvalidators[0].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined &&\n\t\t\t!!validators[1].id &&\n\t\t\t!!validators[1].url &&\n\t\t\tvalidators[1].feeNum !== undefined &&\n\t\t\tvalidators[1].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined\n\n\t\tvalidate(validateId, 'validators', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst validateAmounts = ({\n\tmaxDeposit = bigNumberify(0),\n\tdepositAmount,\n\tminPerImpression,\n}) => {\n\tlet error = null\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\n\t\terror = {\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\n\t\t\tprop: 'depositAmount',\n\t\t}\n\t}\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\n\t}\n\tif (depositAmount.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\n\t}\n\tif (minPerImpression.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateWithdrawAmount({\n\tvalidateId,\n\tamountToWithdraw,\n\tavailableIdentityBalanceMainTokenRaw,\n\tavailableIdentityBalanceMainTokenFormatted,\n\tdecimals,\n\tsymbol,\n\terrorMsg,\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tlet isValid = isNumberString(amountToWithdraw)\n\n\t\tlet msg = errorMsg || 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet args = []\n\t\tlet amount = isValid ? parseUnits(amountToWithdraw, decimals) : null\n\t\tif (errorMsg) {\n\t\t\tisValid = false\n\t\t\tmsg = errorMsg\n\t\t} else if (isValid && amount.isZero()) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\n\t\t} else if (\n\t\t\tisValid &&\n\t\t\tamount.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))\n\t\t) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\n\t\t}\n\n\t\tawait validate(validateId, 'amountToWithdraw', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateNumberString({ validateId, prop, value, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = isNumberString(value)\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_INVALID_AMOUNT' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignAmount({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\terrMsg,\n\tdepositAmount,\n\tminPerImpression,\n\tmaxDeposit,\n\tdecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValidNumber = isNumberString(value)\n\t\tlet isValid = isValidNumber && parseUnits(value, decimals)\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\n\n\t\tif (isValid) {\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\n\t\t\tconst min = prop === 'minPerImpression' ? value : minPerImpression\n\n\t\t\tconst isValidDeposit = isNumberString(deposit)\n\t\t\tconst isValidMin = isNumberString(min)\n\n\t\t\tif (isValidDeposit && isValidMin) {\n\t\t\t\tconst result = validateAmounts({\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\n\t\t\t\t})\n\n\t\t\t\tisValid = !result.error\n\t\t\t\tmsg = result.error ? result.error.message : ''\n\t\t\t}\n\t\t}\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\n\nconst getCampaignDatesValidation = ({\n\tcreated = Date.now(),\n\twithdrawPeriodStart,\n\tactiveFrom,\n}) => {\n\tlet error = null\n\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\n\t} else if (\n\t\twithdrawPeriodStart &&\n\t\tactiveFrom &&\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\n\t) {\n\t\terror = {\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\n\t\t\targs: ['1', 'HOUR'],\n\t\t\tprop: 'withdrawPeriodStart',\n\t\t}\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\n\t} else if (activeFrom && activeFrom < created) {\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\n\t} else if (activeFrom && !withdrawPeriodStart) {\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateCampaignDates({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\twithdrawPeriodStart,\n\tactiveFrom,\n\tcreated,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst withdraw =\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\n\n\t\tconst result = getCampaignDatesValidation({\n\t\t\twithdrawPeriodStart: withdraw,\n\t\t\tactiveFrom: from,\n\t\t\tcreated,\n\t\t})\n\n\t\tvalidate(validateId, 'activeFrom', {\n\t\t\tisValid: !!from,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\n\t\t\terr: {\n\t\t\t\tmsg: result.error ? result.error.message : '',\n\t\t\t\targs: result.error && (result.error.args || []),\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tconst isValid = !result.error\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignTitle({ validateId, title, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(title, campaignPut.title)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, 'title', {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEthAddress({\n\tvalidateId,\n\tprop,\n\taddr,\n\tnonZeroAddr = true,\n\tnonERC20 = true,\n\tdirty,\n\tauthType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { msg } = await validEthAddress({\n\t\t\taddr,\n\t\t\tnonZeroAddr,\n\t\t\tnonERC20,\n\t\t\tauthType,\n\t\t})\n\n\t\tconst isValid = !msg\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePrivilegesAddress({\n\tvalidateId,\n\tsetAddr = '',\n\twalletAddr = '',\n\tprivLevel,\n\tauthType,\n\twarningAccepted,\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isCurrentAddress =\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\n\t\tlet isValid = warningAccepted || !isCurrentAddress\n\n\t\tlet msg = ''\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\n\t\tif (isCurrentAddress && privLevel === 0) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\n\t\t} else if (isCurrentAddress && privLevel === 1) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\n\t\t\tisValid = true\n\t\t} else if (!isCurrentAddress) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tawait validate(validateId, 'setAddrWarning', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn { isValid, msg }\n\t}\n}\n\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\n\t\tawait validate(validateId, 'privLevel', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\n\treturn async function(dispatch) {\n\t\tconst result = Joi.validate(value, schema)\n\t\tconst isValid = !result.error\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\n\treturn async function(dispatch) {\n\t\tconst result = Joi.validate(email, account.email)\n\t\tlet isValid = !result.error\n\t\tlet msg = result.error ? result.error.message : ''\n\n\t\tif (validateNotExisting && isValid) {\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\n\t\t\tisValid = existing === false\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\n\t\t}\n\n\t\tawait validate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { getQuickWallet } from 'services/adex-relayer/actions'\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\nimport {\n\tgetOwnerIdentities,\n\tregAccount,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { translate } from 'services/translations/translations'\nimport { createSession } from './accountActions'\n\nimport {\n\tgetIdentityDeployData,\n\twithdrawFromIdentity,\n\taddIdentityENS,\n\tsetIdentityPrivilege,\n\twithdrawOtherTokensFromIdentity,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddDataToWallet,\n\tgetWalletHash,\n\tgetLocalWallet,\n\tmigrateLegacyWallet,\n\twalletInfo,\n\tcreateLocalWallet,\n\tgenerateSalt,\n} from 'services/wallet/wallet'\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\nimport { selectAccount, selectIdentity, selectAuthType } from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\nimport {\n\tvalidate,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n\tvalidateWallet,\n\tvalidateIdentityContractOwner,\n\tvalidateAccessWarning,\n} from './validationActions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tGETTING_OWNER_IDENTITIES,\n\tUPLOADING_ACCOUNT_DATA,\n} from 'constants/spinners'\nimport { getEthers } from 'services/smart-contracts/ethers'\n\n// MEMORY STORAGE\nexport function updateIdentity(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetIdentity() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\t}\n}\n\nexport function initIdentity({ email, authType }) {\n\treturn function(dispatch) {\n\t\tdispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\n\t\tdispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'email',\n\t\t\tvalue: email,\n\t\t})\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'authType',\n\t\t\tvalue: authType,\n\t\t})\n\t}\n}\n\n// MEMORY STORAGE\nexport function updateWallet(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WALLET,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetWallet() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WALLET,\n\t\t})\n\t}\n}\n\nexport function onUploadLocalWallet(event) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = ev => {\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\n\t\t\t\tif (\n\t\t\t\t\t!obj ||\n\t\t\t\t\t!obj.key ||\n\t\t\t\t\t!obj.wallet ||\n\t\t\t\t\t!obj.wallet.data ||\n\t\t\t\t\t!obj.wallet.identity ||\n\t\t\t\t\t!obj.wallet.privileges\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\n\t\t\t\t} else {\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\n\t\t\t\t\taddToast({\n\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\n\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t})(dispatch)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\t\targs: [err.message],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\t}\n\n\t\tconst onError = err => {\n\t\t\tconsole.error('Error uploading account data.', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\n\t\t}\n\n\t\treader.onerror = ev => {\n\t\t\treader.abort()\n\t\t\tonError(translate())\n\t\t}\n\n\t\treader.onabort = ev => {\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\n\t\t}\n\n\t\treader.readAsText(file)\n\t}\n}\n\nexport function setIdentityENS({ username }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await addIdentityENS({\n\t\t\t\tusername,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('ENS_SETUP_NOTIFICATION', { args: [username] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SETTING_ENS', {\n\t\t\t\t\targs: [err],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdrawAny({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n\ttokenDecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t\ttokenDecimals,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function ownerIdentities({ owner, authType }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\n\t\t\tconst data = Object.entries(identityData).map(\n\t\t\t\tasync ([identityAddr, privLevel]) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tidentity: identityAddr,\n\t\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\t\tens,\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\n\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\n\t}\n}\n\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await setIdentityPrivilege({\n\t\t\t\taccount,\n\t\t\t\tsetAddr,\n\t\t\t\tprivLevel,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function login() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tidentityData,\n\t\t\t\tidentityTxData,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t\tregisterAccount,\n\t\t\t} = selectIdentity(getState())\n\n\t\t\tif (registerAccount) {\n\t\t\t\tawait regAccount({\n\t\t\t\t\towner: wallet.address,\n\t\t\t\t\temail: email.toLowerCase(),\n\t\t\t\t\t...identityTxData,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identityData.address,\n\t\t\t\t})) || {}\n\n\t\t\tconst identity = {\n\t\t\t\t...identityData,\n\t\t\t\taddress: relayerData.deployData._id,\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\n\t\t\t\trelayerData,\n\t\t\t}\n\n\t\t\tawait createSession({\n\t\t\t\tidentity,\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t})(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateQuickLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { password, email, authType } = identity\n\n\t\tlet wallet = {}\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\n\t\tlet actualAuthType = authType\n\n\t\ttry {\n\t\t\tif (email && password) {\n\t\t\t\tlet walletData = await getLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t})\n\n\t\t\t\tif (!walletData) {\n\t\t\t\t\tconst salt = generateSalt(email)\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\n\t\t\t\t\tconst { encryptedWallet } =\n\t\t\t\t\t\t(await getQuickWallet({\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t})) || {}\n\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbackupWallet.wallet &&\n\t\t\t\t\t\tbackupWallet.key &&\n\t\t\t\t\t\tbackupWallet.wallet.data &&\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\n\t\t\t\t\t\tbackupWallet.wallet.privileges\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\n\t\t\t\t\t\tactualAuthType = info.authType\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\n\n\t\t\t\t\t\twalletData = await getLocalWallet({\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword,\n\t\t\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\n\t\t\t\t\twallet = { ...walletData.data }\n\t\t\t\t\twallet.email = email\n\t\t\t\t\twallet.password = password\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\n\t\t\t\t\twallet.identity = {\n\t\t\t\t\t\taddress: walletData.identity,\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!authType) {\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\n\t\t\terror = err\n\t\t}\n\n\t\tconst isValid = !!wallet.address\n\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait login()(dispatch, getState)\n\t\t}\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateStandardLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst identity = selectIdentity(getState())\n\t\t\tconst { wallet, identityContractAddress } = identity\n\t\t\tconst { address } = wallet\n\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\n\t\t\tconst identityData = {\n\t\t\t\taddress: identityDataSplit[0],\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\n\t\t\t}\n\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\tconst isValid = !!identityData.address\n\n\t\t\tvalidate(validateId, 'identityContractAddress', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\n\t\t\t\tdirty: dirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\n\treturn async function(dispatch, getState) {\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, wallet } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\n\t\t\tif (!identityAddr && wallet && !!email) {\n\t\t\t\tconst walletAddr = wallet.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: txData.identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_FULL_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickDeploy({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, password } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && email && password\n\n\t\t\tif (!identityAddr && email && password) {\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\n\n\t\t\t\tconst walletData = await createLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t})\n\n\t\t\t\twalletData.email = email\n\t\t\t\twalletData.password = password\n\n\t\t\t\tconst walletAddr = walletData.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\n\t\t\t\tconst identityAddr = txData.identityAddr\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'identity',\n\t\t\t\t\tdataValue: identityAddr,\n\t\t\t\t})\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'privileges',\n\t\t\t\t\tdataValue: identityData.privileges,\n\t\t\t\t})\n\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = !!identityAddr\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\tpassword,\n\t\t\tpasswordCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t}\n\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\twallet,\n\t\t\tidentityContractOwner,\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\t// validate wallet again in case of step skip\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\n\t\t\t// validate step fields\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateFullDeploy({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tskipSpinnerUpdate: true,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateContractOwner({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityContractOwner, wallet } = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityWallet({\n\taddress,\n\tauthType,\n\thdWalletAddrPath,\n\thdWalletAddrIdx,\n\tpath,\n\tchainId,\n\tsignType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst wallet = {\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}\n\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\n\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t}\n}\n\nexport function handleSignupLink(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('signup-email')\n\n\t\tif (email) {\n\t\t\tupdateIdentity('email', email)(dispatch)\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\n\t\t}\n\t}\n}\n\nexport function resolveEnsAddress({ address }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst authType = selectAuthType(state)\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst name = await provider.lookupAddress(address)\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\n\t\t\t\titem: address,\n\t\t\t\tvalue: name,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_RESOLVING_ENS_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewBid({ bidId, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewBid({ bidId }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\n\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_BIDS,\n\t\t\tadvBids: advBids,\n\t\t\tpubBids: pubBids,\n\t\t\tbidsById: bidsById,\n\t\t})\n\t}\n}\nexport const resetAllBids = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_BIDS,\n\t\t})\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tupdateSpinner,\n\taddToast,\n\thandleAfterValidation,\n\tvalidate,\n\tupdateAccountIdentityData,\n\tvalidateEthAddress,\n\tvalidatePrivilegesAddress,\n\tvalidatePrivLevel,\n\tvalidateWithdrawAmount,\n} from 'actions'\nimport {\n\tselectNewTransactionById,\n\tselectWalletAddress,\n\tselectAuthType,\n\tselectAccount,\n\tselectAccountStatsFormatted,\n\tselectAccountStatsRaw,\n\tselectMainToken,\n} from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\n\nimport { withdrawFromIdentity } from 'services/smart-contracts/actions/identity'\n\n// MEMORY STORAGE\nexport function updateNewTransaction({ tx, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetAllNewTransaction() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\n\t\t})\n\t}\n}\n\nexport function resetNewTransaction({ tx }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\nexport function addWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\tif (!tx || !tx.hash || !addr) return\n\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\n\t\t\tvalue: tx,\n\t\t\ttx: tx.hash,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\n// TODO: make update multiple\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function resetWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function validatePrivilegesChange({\n\tstepsId,\n\tvalidateId,\n\ttxId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateAccountIdentityData()(dispatch, getState)\n\n\t\tconst state = getState()\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: setAddr,\n\t\t\t\tprop: 'setAddr',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidatePrivLevel({\n\t\t\t\tvalidateId,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst validation = await validatePrivilegesAddress({\n\t\t\t\tvalidateId,\n\t\t\t\tsetAddr,\n\t\t\t\twalletAddr,\n\t\t\t\twarningAccepted,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t\tauthType,\n\t\t\t})(dispatch)\n\n\t\t\tisValid = validation.isValid\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'warningMsg',\n\t\t\t\tvalue: validation.msg,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateIdentityWithdraw({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateAccountIdentityData()(dispatch, getState)\n\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\t\tconst { symbol, decimals } = selectMainToken(state)\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\n\t\t} = selectAccountStatsRaw(state)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\n\t\t} = selectAccountStatsFormatted(state)\n\n\t\t// const walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: withdrawTo,\n\t\t\t\tprop: 'withdrawTo',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateWithdrawAmount({\n\t\t\t\tvalidateId,\n\t\t\t\tamountToWithdraw,\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\n\t\t\t\tdecimals,\n\t\t\t\tsymbol,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\ttry {\n\t\t\t\tconst feesData = await withdrawFromIdentity({\n\t\t\t\t\taccount,\n\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t})\n\n\t\t\t\tawait updateNewTransaction({\n\t\t\t\t\ttx: stepsId,\n\t\t\t\t\tkey: 'feesData',\n\t\t\t\t\tvalue: feesData,\n\t\t\t\t})(dispatch, getState)\n\t\t\t} catch (err) {\n\t\t\t\tisValid = false\n\n\t\t\t\tawait validateWithdrawAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\tavailableIdentityBalanceMainTokenRaw,\n\t\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\n\t\t\t\t\tdecimals,\n\t\t\t\t\tsymbol,\n\t\t\t\t\terrorMsg: getErrorMsg(err),\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\texecute,\n\taddToast,\n\tupdateSpinner,\n\tupdateItems,\n\tupdateValidatorAuthTokens,\n\tupdateNewItem,\n\thandleAfterValidation,\n\tvalidateCampaignValidators,\n\tvalidateCampaignAmount,\n\tvalidateCampaignTitle,\n\tvalidateCampaignDates,\n\tvalidateCampaignUnits,\n\tconfirmAction,\n\tupdateSelectedCampaigns,\n} from 'actions'\nimport { push } from 'connected-react-router'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\nimport { getCampaigns } from 'services/adex-market/actions'\nimport {\n\topenChannel,\n\tcloseChannel,\n} from 'services/smart-contracts/actions/core'\nimport { lastApprovedState } from 'services/adex-validator/actions'\nimport { closeCampaignMarket } from 'services/adex-market/actions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectAccount,\n\tselectNewCampaign,\n\tselectAuthSig,\n\tselectAuth,\n\tselectMainToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { Campaign } from 'adex-models'\nimport {\n\tOPENING_CAMPAIGN,\n\tGETTING_CAMPAIGNS_FEES,\n\tPRINTING_CAMPAIGNS_RECEIPTS,\n} from 'constants/spinners'\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\n\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\n\nexport function openCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tawait getAllValidatorsAuthForIdentity({\n\t\t\t\twithBalance: [{ channel: campaign }],\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tconst { storeCampaign } = await openChannel({\n\t\t\t\tcampaign,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: storeCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\n\t\t\t\t\targs: [storeCampaign.id],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\n\t\treturn true\n\t}\n}\n\nexport const updateCampaignState = ({ campaign }) => {\n\treturn async dispatch => {\n\t\ttry {\n\t\t\tconst state = await lastApprovedState({ campaign })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.state = state\n\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\n// TEMP for testing in production until 4.1 is deployed\nfunction getHumanFriendlyName(campaign) {\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\n\t\treturn 'Closed'\n\tswitch ((campaign.status || {}).name) {\n\t\tcase 'Active':\n\t\tcase 'Ready':\n\t\tcase 'Pending':\n\t\tcase 'Initializing':\n\t\tcase 'Waiting':\n\t\tcase 'Offline':\n\t\tcase 'Disconnected':\n\t\tcase 'Unhealthy':\n\t\tcase 'Invalid':\n\t\t\treturn 'Active'\n\t\tcase 'Expired':\n\t\tcase 'Exhausted':\n\t\tcase 'Withdraw':\n\t\t\treturn 'Completed'\n\t\tdefault:\n\t\t\treturn 'N/A'\n\t}\n}\n\nexport function updateUserCampaigns() {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst { wallet, identity } = selectAccount(state)\n\t\tconst { authSig } = wallet\n\t\tconst { address } = identity\n\n\t\tif (hasAuth && authSig && address) {\n\t\t\ttry {\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\n\t\t\t\tlet campaignsMapped = campaigns\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => {\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\n\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn campaign\n\t\t\t\t\t})\n\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: campaignsMapped,\n\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t})(dispatch)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\n\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\n\t\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function closeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CLOSING_CAMPAIGN',\n\t\t\t\targs: [campaign.id],\n\t\t\t})\n\t\t\tupdateUserCampaigns(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\n\t}\n}\n\nexport function updateNewCampaign(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tconst currentCampaign = selectNewCampaign(getState())\n\t\tawait updateNewItem(\n\t\t\tcurrentCampaign,\n\t\t\tnewValues || { [prop]: value },\n\t\t\t'Campaign',\n\t\t\tCampaign\n\t\t)(dispatch)\n\t}\n}\n\nconst tempValidators = [\n\t{\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\n\t},\n\t{\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\n\t},\n]\n\nexport function validateNewCampaignAdUnits({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst campaign = selectNewCampaign(state)\n\t\tconst { adUnits } = campaign\n\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewCampaignFinance({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst {\n\t\t\t\tvalidators,\n\t\t\t\tdepositAmount,\n\t\t\t\tminPerImpression,\n\t\t\t\ttitle,\n\t\t\t\tactiveFrom,\n\t\t\t\twithdrawPeriodStart,\n\t\t\t\tcreated,\n\t\t\t\ttemp = {},\n\t\t\t} = campaign\n\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\n\n\t\t\tconst newCampaign = { ...campaign }\n\n\t\t\tif (!validators || !validators.length) {\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\n\t\t\t\tnewCampaign.validators = tempValidators\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\tvalue: depositAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tminPerImpression,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\tvalue: minPerImpression,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tminPerImpression,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'activeFrom',\n\t\t\t\t\tvalue: activeFrom,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'withdrawPeriodStart',\n\t\t\t\t\tvalue: withdrawPeriodStart,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (typeof maxChannelFees !== 'string') {\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\n\t\t\t\tconst account = selectAccount(state)\n\n\t\t\t\tconst {\n\t\t\t\t\tfeesFormatted,\n\t\t\t\t\tmaxAvailable,\n\t\t\t\t\tmaxAvailableFormatted,\n\t\t\t\t} = await openChannel({\n\t\t\t\t\tcampaign: { ...newCampaign },\n\t\t\t\t\taccount,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\tgetMaxFees: true,\n\t\t\t\t})\n\n\t\t\t\tconst newTemp = { ...temp }\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\n\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function getCampaignActualFees() {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst mainToken = selectMainToken(state)\n\t\t\tconst { temp = {}, depositAmount } = campaign\n\n\t\t\tconst account = selectAccount(state)\n\n\t\t\tconst { feesFormatted, fees } = await openChannel({\n\t\t\t\tcampaign: { ...campaign },\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\n\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\n\t\t\t\ttotalSpend.toString(),\n\t\t\t\tmainToken.decimals || 18,\n\t\t\t\tfalse,\n\t\t\t\ttrue\n\t\t\t)\n\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.feesFormatted = feesFormatted\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\n\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t}\n}\n\nexport function handlePrintSelectedReceipts(selected) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\n\t\tconfirmAction(\n\t\t\tasync () => {\n\t\t\t\tawait updateSelectedCampaigns(selected)(dispatch, getState)\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\n\t\t\t},\n\t\t\tasync () => {\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\n\t\t\t}\n\t\t)(dispatch, getState)\n\t}\n}\n","import {\n\tupdateSpinner,\n\tupdateNewItem,\n\thandleAfterValidation,\n\tvalidateSchemaProp,\n\tvalidateNumberString,\n} from 'actions'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { selectMainToken, selectNewAdSlot } from 'selectors'\nimport { AdSlot, schemas } from 'adex-models'\n\nconst { adSlotPost } = schemas\n\nexport function updateNewSlot(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst currentSlot = selectNewAdSlot(state)\n\t\tawait updateNewItem(\n\t\t\tcurrentSlot,\n\t\t\tnewValues || { [prop]: value },\n\t\t\t'AdSlot',\n\t\t\tAdSlot\n\t\t)(dispatch)\n\t}\n}\n\nexport function validateNewSlotBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst mainToken = selectMainToken()\n\t\tconst state = getState()\n\t\tconst slot = selectNewAdSlot(state)\n\t\tconst { title, description, type, website, minPerImpression = null } = slot\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: title,\n\t\t\t\tprop: 'title',\n\t\t\t\tschema: adSlotPost.title,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: description,\n\t\t\t\tprop: 'description',\n\t\t\t\tschema: adSlotPost.description,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: type,\n\t\t\t\tprop: 'type',\n\t\t\t\tschema: adSlotPost.type,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: website,\n\t\t\t\tprop: 'website',\n\t\t\t\tschema: adSlotPost.website,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: 'minPerImpression',\n\t\t\t\tvalue: minPerImpression || '0',\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tisValid = await validateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\tprop: 'minPerImpression',\n\t\t\t\tschema: adSlotPost.minPerImpression,\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import * as common from './common'\nimport * as itemActions from './itemActions'\nimport * as uiActions from './uiActions'\nimport * as accountActions from './accountActions'\nimport * as identityActions from './identityActions'\nimport * as bidActions from './bidActions'\nimport * as transactionActions from './transactionActions'\nimport * as validationActions from './validationActions'\nimport * as analyticsActions from './analyticsActions'\nimport * as campaignActions from './campaignActions'\nimport * as newItemsActions from './newItemsActions'\n\n// keep it for class components that use connect and actions prop\n// without needing to change the code\nexport default {\n\t...common,\n\t...itemActions,\n\t...uiActions,\n\t...accountActions,\n\t...identityActions,\n\t...bidActions,\n\t...transactionActions,\n\t...validationActions,\n\t...analyticsActions,\n\t...campaignActions,\n\t...newItemsActions,\n}\n\n// used for minimal deps in hook components\n// import { execute, addTost } from 'actions'\n// execute(addTost())\nexport * from './common'\nexport * from './itemActions'\nexport * from './uiActions'\nexport * from './accountActions'\nexport * from './identityActions'\nexport * from './bidActions'\nexport * from './transactionActions'\nexport * from './validationActions'\nexport * from './analyticsActions'\nexport * from './campaignActions'\nexport * from './newItemsActions'\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nconst updateCfg = (current, type, cfg) => {\n\tconst newCfg = { ...current }\n\tnewCfg[type] = { ...cfg }\n\treturn newCfg\n}\n\nexport default function uiReducer(state = initialState.config, action) {\n\tswitch (action.type) {\n\t\tcase UPDATE_RELAYER_CFG:\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import account from './accountReducer'\nimport signin from './signinReducer'\nimport identity from './identityReducer'\nimport wallet from './walletReducer'\nimport items from './itemsReducer'\nimport newItem from './newItemsReducer'\n// import currentItem from './currentItemsReducer'\nimport spinners from './spinnersReducer'\nimport ui from './uiReducer'\nimport toasts from './toastsReducer'\nimport confirm from './confirmReducer'\nimport nav from './navReducer'\nimport language from './languageReducer'\nimport validations from './validateItemsReducer'\nimport newTransactions from './newTransactionsReducer'\nimport web3Transactions from './web3TransactionsReducer'\nimport tags from './tagsReducer'\nimport ethNetwork from './ethNetworkReducer'\nimport config from './configReducer'\nimport analytics from './analyticsReducer'\nimport channels from './channelsReducer'\nimport selectedItems from './selectedItemsReducer'\nimport ensAddresses from './ensReducer'\nimport { filterActions } from 'redux-ignore'\nimport * as types from 'constants/actionTypes'\n\nexport const persistReducers = {\n\taccount,\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\n\tlanguage,\n\tweb3Transactions,\n\ttags,\n\tethNetwork,\n\tconfig,\n\tanalytics,\n\tchannels,\n\tensAddresses,\n}\n\nexport const memoryReducers = {\n\tsignin,\n\tidentity,\n\twallet,\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\n\ttoasts,\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\n\tvalidations,\n\tselectedItems,\n\tnewTransactions,\n}\n","import {\n\tCREATE_ACCOUNT,\n\tRESET_ACCOUNT,\n\tUPDATE_ACCOUNT,\n} from '../constants/actionTypes'\nimport initialState from 'store/initialState'\nimport { Base, Account } from 'adex-models'\n\nexport default function accountReducer(state = initialState.account, action) {\n\tlet newState\n\tlet newAccount\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase CREATE_ACCOUNT:\n\t\t\tnewAccount = { ...action.account }\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase RESET_ACCOUNT:\n\t\t\tnewAccount = initialState.account\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase UPDATE_ACCOUNT:\n\t\t\tnewAccount = Base.updateObject({\n\t\t\t\titem: newState,\n\t\t\t\tnewValues: { ...action.newValues },\n\t\t\t\tobjModel: Account,\n\t\t\t})\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_ITEM,\n\tDELETE_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM_FROM_ITEM,\n\tADD_ITEM_TO_ITEM,\n\tUPDATE_ALL_ITEMS,\n\tRESET_ALL_ITEMS,\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\nimport initialState from 'store/initialState'\nimport { Item } from 'adex-models'\n\nexport default function itemsReducer(state = initialState.items, action) {\n\tlet newState\n\tlet newCollection\n\tlet newItem\n\tlet collectionId\n\tlet item\n\n\tconst collection = (state = {}, action) => {\n\t\tif (!action.item) return state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[action.item.id]: action.item,\n\t\t}\n\t}\n\n\tconst removeCollectionProp = (collection = {}, prop) => {\n\t\tlet newCol = { ...collection }\n\t\tdelete newCol[prop]\n\t\treturn newCol\n\t}\n\n\tif (action.item && action.itemType) {\n\t\tnewState = { ...state }\n\t\titem = { ...action.item }\n\t\tcollectionId = action.itemType\n\t}\n\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\n\t\t\t// id is going to be set when it comes here\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase ADD_ITEM_TO_ITEM:\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase DELETE_ITEM:\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase REMOVE_ITEM_FROM_ITEM:\n\t\t\tnewItem = Item.removeItem(\n\t\t\t\tnewState[collectionId][item._id],\n\t\t\t\taction.toRemove\n\t\t\t)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ITEM:\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ALL_ITEMS:\n\t\t\tnewState = { ...state }\n\t\t\tconst newItems = action.items.reduce((items, item) => {\n\t\t\t\tconst currentItems = { ...items }\n\t\t\t\tconst newItem = { ...item }\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\n\t\t\t\treturn currentItems\n\t\t\t}, {})\n\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\n\t\t\treturn newState\n\t\tcase RESET_ALL_ITEMS:\n\t\t\tnewState = { ...initialState.items }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_GLOBAL_UI, UPDATE_UI_BY_IDENTITY } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiReducer(state = initialState.ui, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_UI_BY_IDENTITY:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\n\t\t\tnewState.byIdentity[action.identity] = {\n\t\t\t\t...newState.byIdentity[action.identity],\n\t\t\t}\n\t\t\tif (action.category) {\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\n\t\t\t\t}\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\n\t\t\t\t\taction.value\n\t\t\t} else {\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\t\tcase UPDATE_GLOBAL_UI:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.global = { ...newState.global }\n\t\t\tif (action.category) {\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\n\t\t\t\tnewState.global[action.category][action.item] = action.value\n\t\t\t} else {\n\t\t\t\tnewState.global[action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import initialState from 'store/initialState'\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\nimport { setLang } from 'services/translations/translations'\n\nexport default function languageReducer(state = initialState.language, action) {\n\tswitch (action.type) {\n\t\tcase CHANGE_LANGUAGE:\n\t\t\tlet newLang = action.lang || state\n\t\t\tsetLang(newLang)\n\t\t\treturn newLang\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_WEB3_TRANSACTION,\n\tUPDATE_WEB3_TRANSACTION,\n\tRESET_WEB3_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function web3TransactionsReducer(\n\tstate = initialState.web3Transactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\tlet newAddrTxs\n\tlet pendingTxs\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateObj = ({ obj, key, val }) => {\n\t\tobj = obj || {}\n\t\tobj[key] = val\n\n\t\treturn obj\n\t}\n\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\n\t\t\tpTxs.push(newTx.hash)\n\t\t} else {\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\n\t\t}\n\n\t\treturn pTxs\n\t}\n\n\tif (!action.addr) {\n\t\treturn state\n\t}\n\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\n\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\n\t// If we keep the transactions on the node we can clean them from local storage on address change\n\tswitch (action.type) {\n\t\tcase ADD_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...action.value }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase UPDATE_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase RESET_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: { txHash: action.tx },\n\t\t\t})\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_TAGS:\n\t\t\tnewState = { ...state, ...action.tags }\n\t\t\treturn newState\n\t\tcase ADD_NEW_TAG:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.tag] = action.tag\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_GAS_DATA:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.gasData = { ...action.gasData }\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ANALYTICS,\n\tRESET_ANALYTICS,\n\tUPDATE_ANALYTICS_TIMEFRAME,\n\tUPDATE_ADVANCED_ANALYTICS,\n\tUPDATE_DEMAND_ANALYTICS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function analyticsReducer(\n\tstate = initialState.analytics,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.timeframe = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.side] = { ...newState[action.side] }\n\t\t\tnewState[action.side][action.eventType] = {\n\t\t\t\t...newState[action.side][action.eventType],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][\n\t\t\t\taction.timeframe\n\t\t\t] = { ...action.value }\n\t\t\treturn newState\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.advanced = { ...newState.advanced }\n\t\t\tnewState.advanced[action.eventType] = {\n\t\t\t\t...action.value,\n\t\t\t}\n\t\t\treturn newState\n\t\tcase UPDATE_DEMAND_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.demand = action.value\n\t\t\treturn newState\n\t\tcase RESET_ANALYTICS:\n\t\t\tnewState = { ...initialState.analytics }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function channelsReducer(state = initialState.channels, action) {\n\tlet newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\n\t\t\tnewState.withBalanceAll = { ...action.channels }\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\n\t\t\treturn newState\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\n\t\t\tnewState.withOutstandingBalance =\n\t\t\t\tinitialState.channels.withOutstandingBalance\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function ensReducer(state = initialState.ensAddresses, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function signinReducer(state = initialState.signin, action) {\n\tlet newState\n\tlet newSignin\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SIGNIN:\n\t\t\tnewSignin = { ...newState }\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\n\t\t\t\tnewSignin[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewSignin[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newSignin\n\n\t\t\treturn newState\n\n\t\tcase RESET_SIGNIN:\n\t\t\tnewSignin = { ...initialState.signin }\n\t\t\tnewState = newSignin\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function identityReducer(state = initialState.identity, action) {\n\tlet newState\n\tlet newIdentity\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_IDENTITY:\n\t\t\tnewIdentity = newState\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewIdentity[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newIdentity\n\n\t\t\treturn newState\n\n\t\tcase RESET_IDENTITY:\n\t\t\tnewIdentity = { ...initialState.identity }\n\t\t\tnewState = newIdentity\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function walletReducer(state = initialState.wallet, action) {\n\tlet newState\n\tlet newWallet\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_WALLET:\n\t\t\tnewWallet = newState\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\n\t\t\t\tnewWallet[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewWallet[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newWallet\n\n\t\t\treturn newState\n\n\t\tcase RESET_WALLET:\n\t\t\tnewWallet = { ...initialState.wallet }\n\t\t\tnewState = newWallet\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newItemsReducer(state = initialState.newItem, action) {\n\tlet newState\n\tlet newItem\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...action.item }\n\t\t\tnewState[action.itemType] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\n\t\t\tnewState[action.item] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_ALL_NEW_ITEMS:\n\t\t\tnewState = { ...initialState.newItem }\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function spinnersReducer(state = initialState.spinners, action) {\n\tconst newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SPINNER:\n\t\t\tnewState[action.spinner] = action.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_ITEM:\n\t\t\tnewState['update' + action.item._id] = false\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function toastsReducer(state = initialState.toasts, action) {\n\tlet newState\n\tlet newToast\n\n\tswitch (action.type) {\n\t\tcase ADD_TOAST:\n\t\t\tnewToast = { ...action.toast }\n\t\t\tnewToast.added = Date.now()\n\t\t\tnewState = [newToast, ...state]\n\t\t\treturn newState\n\n\t\tcase REMOVE_TOAST:\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n// import Helper from './../helpers/miscHelpers'\n\nexport default function confirmReducer(state = initialState.confirm, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase CONFIRM_ACTION:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.data = { ...action.confirm.data }\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\n\t\t\tnewState.onCancel = action.confirm.onCancel\n\t\t\tnewState.active =\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\n\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\n\t\t\tnewState.calledOn = Date.now()\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_NAV } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function navReducer(state = initialState.nav, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NAV:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ITEM_VALIDATION,\n\tRESET_ITEM_VALIDATION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function validateItemsReducer(\n\tstate = initialState.validations,\n\taction\n) {\n\tlet newState\n\tlet newErrors\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tcase RESET_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item] }\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\n\t\t\t\tdelete newErrors[action.key]\n\t\t\t} else if (newErrors && !action.key) {\n\t\t\t\tnewErrors = {}\n\t\t\t}\n\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SELECTED_ITEMS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\n\tUPDATE_NEW_TRANSACTION,\n\tRESET_NEW_TRANSACTION,\n\tRESET_ALL_NEW_TRANSACTIONS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newTransactionsReducer(\n\tstate = initialState.newTransactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateTx = ({ tx, key, val }) => {\n\t\ttx = tx || {}\n\t\ttx[key] = val\n\n\t\treturn tx\n\t}\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_TRANSACTION:\n\t\t\tnewTx = {\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\n\t\t\t}\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\n\n\t\t\t// console.log('newTx', newTx)\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_NEW_TRANSACTION:\n\t\t\tnewTx = { ...initialState.newTransactions.default }\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\n\t\t\tnewState = initialState.newTransactions\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\nimport thunk from 'redux-thunk'\nimport { persistReducers, memoryReducers } from 'reducers'\nimport history from './history'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { persistStore, persistCombineReducers } from 'redux-persist'\nimport localStorage from 'redux-persist/lib/storage'\n// import session from 'redux-persist/lib/storage/session'\n\nconst reduxRouterMiddleware = routerMiddleware(history)\n\nconst persistConfig = {\n\tkey: 'persist',\n\tstorage: localStorage,\n}\n\n// const configSession = {\n//   key: 'session',\n//   storage: session,\n// }\n\n// const rootReducer = combineReducers(reducers)\n\n// TODO: make session reducer(signin) - RAM reducer (no persist)\nconst rootReducer = combineReducers({\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\n\trouter: connectRouter(history),\n})\n\nconst logger = store => next => action => {\n\t// if (action.type === 'UPDATE_NEWITEM') {\n\t//   return next(action)\n\t// }\n\n\tconsole.groupCollapsed(action.type)\n\tconsole.info('dispatching', action)\n\tlet result = next(action)\n\tconsole.log('next state', store.getState())\n\tconsole.groupEnd(action.type)\n\treturn result\n}\n\nfunction configureStoreProd(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t]\n\n\tif (process.env.BUILD_TYPE === 'staging') {\n\t\tmiddlewares.push(logger)\n\t}\n\n\tlet store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcompose(applyMiddleware(...middlewares))\n\t)\n\n\tlet persistor = persistStore(store)\n\n\treturn { persistor, store }\n}\n\nfunction configureStoreDev(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n\t\treduxImmutableStateInvariant(),\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t)\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\n\t\t\tstore.replaceReducer(nextReducer)\n\t\t})\n\t}\n\n\tlet persistor = persistStore(store)\n\treturn { persistor, store }\n}\n\nconst configureStore =\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\n\nexport default configureStore()\n","import configureStore from './configureStore'\n\nexport default configureStore\n\nexport const store = configureStore.store\nexport const persistor = configureStore.persistor\nexport const dispatch = store.dispatch\nexport const getState = store.getState\n","import { Signer } from 'ethers'\nimport { ethers, utils } from 'ethers'\nimport LedgerEth from '@ledgerhq/hw-app-eth'\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\nimport HDKey from 'hdkey'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\n\nexport default class LedgerSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t\tthis._transport = TransportU2F\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\taddrsFromPubKey = async (\n\t\tpublicKey = '',\n\t\tchainCode = '',\n\t\t{ from = 0, to = 19 } = {}\n\t) => {\n\t\tconst hdKey = new HDKey()\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\n\n\t\tconst addrs = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\n\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\n\n\t\t\taddrs.push({\n\t\t\t\taddress: addr,\n\t\t\t\tpath: `${this.path}/${index}`,\n\t\t\t})\n\t\t}\n\n\t\treturn addrs\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\n\t\t\tthis.path,\n\t\t\tfalse,\n\t\t\ttrue\n\t\t)\n\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\n\t\t\tfrom,\n\t\t\tto,\n\t\t})\n\n\t\treturn addresses\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\n\n\t\tconst signature = {\n\t\t\tr: '0x' + r,\n\t\t\ts: '0x' + s,\n\t\t\tv,\n\t\t}\n\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\treturn txSigned\n\t}\n\n\t/*\n\t * TODO: may not work.\n\t * The ledger device or u2f seems to broken\n\t * Can list the addresses\n\t * Can sign messages\n\t * Signs transactions\n\t * Actually it show the tx but does not return value after\n\t * confirmation on the device\n\t */\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (!opts.hex) {\n\t\t\tif (typeof message === 'string') {\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\n\t\t\t}\n\n\t\t\tmessage = ethers.utils.hexlify(message)\n\t\t}\n\n\t\tmessage = message.substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\n\t\tsignature.r = '0x' + signature.r\n\t\tsignature.s = '0x' + signature.s\n\n\t\tconst { address } = await eth.getAddress(this.path)\n\n\t\tconst res = {\n\t\t\tsignature: ethers.utils.joinSignature(signature),\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LedgerSigner(provider, { path: this.path })\n\t}\n}\n","import base64 from 'base64url'\nimport ethers from 'ethers'\n\n// see https://github.com/ethereum/EIPs/issues/1341\n// Implements EIP 1341: Ethereum Web Tokens\n\nconst HEADER = base64.encode(\n\tJSON.stringify({\n\t\ttype: 'JWT',\n\t\talg: 'ETH',\n\t})\n)\n\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\n// .address is always checksummed\nfunction sign(signer, payload) {\n\tconst payloadEncoded = base64.encode(\n\t\tJSON.stringify({\n\t\t\t...payload,\n\t\t\taddress: signer.address,\n\t\t})\n\t)\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\n\t})\n}\n\nfunction verify(token) {\n\tconst parts = token.split('.')\n\tif (parts.length !== 3) {\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\n\t}\n\tconst msg = parts.slice(0, 2).join('.')\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\n\ttry {\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\n\t\treturn Promise.resolve({ from, payload })\n\t} catch (e) {\n\t\treturn Promise.reject(e)\n\t}\n}\n\nexport default { sign, verify }\n","module.exports = Module;","import moment from 'moment'\n\n// TODO: separate exports - not class\nclass Helper {\n\tgetGuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t}\n\n\tgetRndHash32(prefix) {\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t\tif (prefix) {\n\t\t\th = prefix + h.substring(prefix.length)\n\t\t}\n\t\treturn h\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tgetRandomBool() {\n\t\treturn !!this.getRandomInt(0, 1)\n\t}\n\n\tgetRandomPropFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\n\t}\n\n\tgetRandomKeyFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn keys[(keys.length * Math.random()) << 0]\n\t}\n\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\n\t\t// TODO: fix +/- 1 day bug\n\t\tlet initial = moment.isMoment(initialMoment)\n\t\t\t? initialMoment.valueOf()\n\t\t\t: undefined\n\n\t\treturn moment(initial)\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\n\t}\n\n\thexToRgbaColorString = (hex, alpha) => {\n\t\tif (!hex || typeof hex !== 'string') {\n\t\t\tthrow new Error('Invalid color')\n\t\t} else if (hex.length === 4) {\n\t\t\thex = hex + hex.substr(1, 4)\n\t\t}\n\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\n\t\t\talpha = 1\n\t\t}\n\n\t\tconst hexToDec = h => {\n\t\t\treturn parseInt('0x' + h, 16)\n\t\t}\n\n\t\tlet r = hexToDec(hex.substr(1, 2))\n\t\tlet g = hexToDec(hex.substr(3, 2))\n\t\tlet b = hexToDec(hex.substr(5, 2))\n\n\t\treturn `rgba(${r},${g},${b},${alpha})`\n\t}\n\n\tgetQuery(queryParams) {\n\t\tif (\n\t\t\t!queryParams ||\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\n\t\t) {\n\t\t\treturn ''\n\t\t}\n\t\treturn (\n\t\t\t'?' +\n\t\t\t\tObject.keys(queryParams)\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\n\t\t\t\t\t.map(key => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\n\t\t\t\t\t\t)\n\t\t\t\t\t}, '')\n\t\t\t\t\t.join('&') || ''\n\t\t)\n\t}\n\n\tgetErrMsg = err => {\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\n\n\t\tif (stack.length > 1) {\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\n\t\t} else {\n\t\t\treturn (err.error || err || '').toString()\n\t\t}\n\t}\n\n\tisInt = int => {\n\t\treturn typeof int === 'number' && int % 1 === 0\n\t}\n\n\tshuffleArray = array => {\n\t\treturn [...array].sort(() => Math.random() - 0.5)\n\t}\n}\n\nexport default new Helper()\n","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAF7pJREFUeJztm3l8VFWWx7+1L0llqyRkK7KyhCQsCasmKBgwCIQ02Kh0K6A4Ki3dou3W4zKjzWKPdjNt0w0KiLJJgzAEOqKyiIQIJBDIAoQkkJ3sKVJJral688dLIAoogQTmj/l9Pu+TT713733n/HLuOfeeex78P34SkpttKAhCb7/b59ixY5t0Ol3jkCFDHu/twW8EieSmVQZA3kdy/Czy8/Pf2r17d4pKpcLhcDiHDRs2727J0isQBKE3L9WaNWuMhYWFQmNjo7BkyRJBEIQRvfyO6149hbQPuLwZxHl4eHj6+Pig1+sJDg4mPz//mbsky0/irhDU1NQUY7PZCAgIACA8NJTs7Oxx3Zoo7oZc18NdIai8vDyow26/8vtM5lGEDucVf5iXl1ddXV299G7I9mPcFYIGD4kudNrsfLzir/zl7yv5xF6PS6sOBQwAp0+f9s3Ozn6iex+73T6rtbV1L6C5k7LeCYJiCwoKTDabbXbXDS0yoRIHKwxajk0ZyaR33qNGiZuzyTgDIC4uLl2lUgV3H6SioiI1KyvrQUB9B2S+gjtBUH1tba1l1apVW4F7AM4ezZlcrII3Zy1gcHgU7khxenpgbjHqANzc3BoUCgWAtmsQm81mkMvlAMZuYz/sdDof60vh7whBycnJ/uHh4c2bN28+AlDbWC+x+HoAEIme+vJCdN+fRRcVdgFAcnU1d2VVV1NTk6jRaAqAK7F6//7923Jzcz/uS+F7nSCr1fqI3W5/4sf3U1NT41taWmhsbHw/KCKsRii/hJBbSvPm3ezZ+ilb7Odpq2oYAWC323WdaxZLZ/egsrIyRXh4+Idd4wmCMKqoqIiQkJDf97YO3dHrBJnN5l/s3Lnz0z179hQD3UN3+YwZM1akp6e/NCh++NCwpjbbnK+W8oL5AMUL7yc3NYxDe76aC9DU1OTlcDiMgAugoqJiiY+PD0FBQVu7BsvKytoYEhJCQEDAqt7WoTt6nSAfH59HU1JSHm9qaopauXJlVlNT08KuZyEhIYt9fX07stbvfMSVHCfhtamwYCa4e4K7knKpOQBQ1dXVGSQSybnObpKTp07NGz161Brgcue9WdVVVQOnTZ8+4QZiDKaXol2f+CBPT8+Nc+fOVSUkJOz56KOPVlZVVb3T9WzChAmvZh46xF/LzirBE2gAtFBrpn+H6gLgbrfbow0Gw6cAWNs/4PT39LtUqqr4ZteGcxnb92x+59Xt6ov5SM/kjAP7TLrtKdvb2+d/++23ZwVBSOgNXfpys2ofO3bsdG9v77Vr1qx5c+HChVZ/f/+lOp3uHwMHDHyPskw5zAQ84UQeqnf3Ynvm5RZgWmD/sI7Y2FiZ9fCXf39r257n/kvuDwdqH8ciBakCpPeARIBNWUtTlPtZHuF1cdgTz84Fzq9du3ZdVFRUhUQiOdkbStyRdEdJScmb27Zte+d3v/vdw1qt9otLOedWpu7588KctIkkZ55hX30NjO/HWJPB/v24X10uyfmXZ36NUTmzyAwRSTBylGjrXfYu6bwEoLQOsneyzKeV6WHerZeCo8uSkxLvBdquq3AP0x19RVAA2MZgMvbD5XTiGXSmsahwQ1ZRaWRqaqqEhtZJI5a9+PWpARqQKCA1DoK8YVsReactDK1qhHufgbFx0IG48ukixUmn6+78qwH8gP05xO14i7zd69ei9V9wQ4Xvbj7IvuDczm2/+qqqcexXMr36S4kGBCnDsLLYT9FSl76FafExu6RmbdupUAk8NxFMFmgyg9kG8jb+9MlafJbs4pmEAaTkf4ebtIN6qZLTMg2vK7xBGw5KCTgQLcoGVADjR5Lv/TFP/8efn/r4P18/hcbzb72hUe9ZUHHu1vmrts9erwiHwKFgiAWtVvwXOID6Gjh/mER5Na8FqZkWVgujB0GLGZwuGOAHG76D9H58GGDk+X5SiL0HrFawtYPDBoKAS6kn0ieBMs8IcVxXNxmGAOuP8xfrdl54971JINl3jcI9tKDeiWIludsClm2YvT5uPvx6AYwZDT7azkArgNCMOkBG2PxH8PGM4e11H8LgQOhwgUuAUD0UHIPjUnj5dRZN+g0JR8+wZ/cWikoqocUOPmGgD0eqknCx5Vv+3FYMHoA3oEckamsmVO6jf+zwBpDkAN4VFRX7HQ7HNQvXm8XtW5Czff6vX3ln3aZhi2FYANQhWo0E3mg5wbumUlAIoHWDc9m8U2nlbSEE4nPgyQlgEeDECWI+a6Lw3uUwNFTMBhXXcV/6Yt6b80v+J+Mw5pIS7oscSJSbDr3gINhlReKfAnI5NJwn0F7D0nD/inlpySsIGriuvr5+yrZt27b4+voya9asKXK5fC/ceSc9YMuH75+fY5kIj8XDxc4RZVDQeIIYcwFY5LRdauB0bRHLzxSw5zefQ2QwbF8Nsu9BoYLmUBj5NAz2g3rE6BQMfHeCXY69yOKTmhpMrXl6P78yqdkywNFm8VZ2WOU+Mkmzm5dHZZyf5wkGDT0LipaG5pbYvRn/equ+ri5wxIgRJydOnPhL4MIVhe+wkx5SZhHgUg780whuQeChg8YLxJRs5ojSmxKZBOXAUHt2mVG5J+0DGBAsRqUHn4HCVBBcMD4YVIjkdE36emBoAjM+2oSwYNBu3PrN7/ZeNRAI+AIBVTU14ZVHT7xSXlaWWFdXx4ABA0oenjXrEY1G88/b1K9XnPTE9ryjv/k690zCaWN7SLMgl41wmlHotA3agYPPRcbGfTHM2jBPsu7EcKb9GpoRLUTK1cyOFdGHdJdGAPyBr4+wwZJuG5Iys9psd0QIgiA4nU5JR0cHRqORlpYWNBoNBoPhQlBQ0LYBAwasAUpuqPBdXgcFAe6IwbcOUXXV60uWmpaHPK1gkB+YevBWKaJlvf8ENb+d7Wj2D/8c8JTL5e0KheKCh4fHKV9f37NAMWD/ybE6cbfPxWquuXPm6KblzR4KUvxE6+mJfE7ESOU/nEsl55vjJ0y7lWikKy0tXWQymWYOHz58CuLm76bR1weHnttyzs6i/32isj8mp2uquQPKznsmRLuTdra3AomzWLbxyX4vhkZnK/X+hyMjI095eXkVA5eAJsDc2doD8HU6nYaqqqoR+fn5D7a2tiY3NTURHx9fzA9XTTeFviWorX7KH4oa4d44cWckIBKhQEyFuSESdzgLjFXi85EPQZi76KRliKobQtkuD2ToV1+OjE6cOLKyshKFQoFMJkMmkwHi1BEEAYfDQUdHB21tbVgsFldMTMyOOXPm/AO4ZtF4M+hTgpznCh4rkQZCP8TI5QOUtkJNMQxNEK0jfQlbw+REjwhAaDexPPMdtpiegphB4pTsQCS0/zAsunbXw79ImyIIQrXRaBxtMplCbTabn9PpVAHI5XKzWq2u9fT0vKDT6bKB0tvVoS938/Jv0neYJpf0V5M0UjTuvV/wknsV9+i1zKqVwrFTmJ+fgOaBmVd7leciWbEXUl8Fl1S0Knfg6Dfw3edY//xquips4IyeCtOFu7PVuC6cIzcV16vxGyBuOb79hv2qbN5/aREz5z2N8GQyVS+l/pAcgNAR7IvVwaEDYj4NRAtSqGBwEvM3/ys1Pytzi8vlmth3sl9F3xFUd2Hap002CPeEcy38svFbJr62lLPFF1i9ejVmdz+CEydRXl7O2rVrqa2tvdI1KWYgOKqv2rcLkEohNIYtLQKtpQWPbvn88/2ffPJJU25u7lqTyfQ4EMG1M8LT6XROPXny5D/27Nljt9lsr/RUjb7zQdU1I1D6iou9gyd5acxgQEp5aQlvvPEG4eHhTJ48mYMHD/LGG2/g5+dHamoqAMrwcNC3Xk15uQCZEpRqCE3g3uTAzdEq362ZmZkfXLx48cns7OwnBUFAr9ej0+mcUqnUabPZlHV1dVitVtzd3QkNDT0ll8sP9lSNPvNB2enbzow+q4/mqYmw/TjCdE8IHgRAWVkZYWFhV9o2Njbi6+vbrbcNyYZjEDf+qg8qrAahA1qVnPI/dmHYlLTIzsZqi8UyprKycoTJZBrkcrlC6dy4KJXK4pCQkJN6vT4bqIa7v1Dsgi6rpjkM1QDIq4XKQgpz3VFb5bS0tODt40NhYQFuajXunl54eHhQXV2N3W6nvb0dZ8lpOHgWhECwtkFTLTRehMuNMP0F3jzfFPGu4svj0eMfeFmpVB7SaDSHBg4ceKgvFOkrgkIKBTcNXv1gchQ424kFZDIZycnJ+AcEUHwsk6Pnro3CWq2W8P6hpAyOpun5aLJNwOPz4GIj4IDSFzhBPebw+aPWr1//rZ+fn2nw4MFroqOj1wEFva1I3xDU0RZ2sc0MsYHwqxfgsyUAjNIILH4wEVNZCQttCvhgHby8CFztAHhqlPz7668yZdp0Mj9awX+jhb+nwyP3Q1YTGEuhzUbNpuWMezD5lYFtHaXZ2dkfHDhwYPGJEycW+/v7o9Vq87Ra7QEPD48yd3f3JplMZrVarR41NTXJYWFhXsBDPVGlbwgyNkTvc8hFD/eHP4JSB+eyOerjQ8reYqi/BHP/Ai+mgH8sLJoKxgZSx42k8XwBf/vDQVYfOA4ffgfTEyAPMDZDeQksnAMSJc3HMifqx0/9r5SUlB2AoaamJq22tjbNaDSOqqmpecFisVwpu3M6nSgUCvr37/91T1XpG4La2kNQeYnRpwb47avitsGOmEeWI24xMoCEUbClHAqPsMHmAKsFAszwbzshykskxw1wOkGpEV2tRUZWsyVpmpgwsQKVQUFBHwYFBXWd3SsQc0WeiJsbM509e6pK3xBks3sgUYli2hH3VdfbqCqAcsBbA9OSRUK7NrCXEVW6slJzglQujhcWw1+//MxNZ7fUxE9Je16n023+0egOxI3spdtVpU8I6rDbtQhcJUWgW9FKN0g6JTB1Xj+GrFs7px1kEpFEdw1lgZFIbWa3L3bs2KTVaN4fM2bMe6GhoTsRD4F6DX1CkMPp6t0iTCngdIBEJhLtBsWCjqQZD749QuqZl5GR8eH+/ftX+Pj4rJBKpSW+vr7fRUREnPTx8SlRKpWm9vb2YJlM1q5WqzN6+uq+CvO9W5YvAzqs4iksiFNTE0TlydPTDfc/tHz27NkZwIjS0tI5Z8+enVFaWvpkfX39k2q1mNO12WyMGzfu8P8ZgmRSidCrHEmBtmZQd+5eHYCqH3nm6njD1Va5kZGRuZGRkS93/o60WCxD7Ha7h0ajaVIqlZm38uo+IUipVJiRSHuPIxdgagDPIDH62YHIwSzf9ala7zDnjJ0x+zkg+0e9SjUaTalGc3tlQn2zm1cqTWDvHYIkiEHaYRUJciAm0Tw1ZHoFYW6oSfh4zZrjWVlZW4BBvfDGH6BvfJDOrQrH5VtYdVwHMsB4GWRy8OkkqGuJ4GFg4qP3fxZQ0XLu6NGjS0+fPv2owWDITkhI2B4YGHgIyEVcRem4xejWNwR5+xckO03sMznBUyZOi1uFEjFf7dEPvKRXi/BUgNODmtyCkCFJk+YOGTJkXX5+/itFRUUv7t+/f5TFYsHb25vW1lbGjh3bOmTIEC9uwab7hiC5rjhG6WJf8yXQh9weQSrg8iVQuv3QITiA4IH8cctfJr4/bNTrWg+vZXFxcS/FxcW9BAytrKwc3tLSEu1yuTpCQkKOc4sTvq/CfPlwb81ljJc8UYaIx4i3CgGoL4b+o0RSumAH9Aaq5G7sW//R0qB7JiaNHDlyBmKrPIPBkGcwGK47ZE/QVylX++SIwPO019zedztSoNkJThsExYi7ri44ALkK0/AkV3Ja2qHvv/9+ysaNG+2VlZULEM/HegV9lpMOigrNpq3sh45aimizim6X7Dqdu6ADSr4HjQcEa35oQQLgI+Hbxg6pVu+1cdGiRX7e3t5F27dv/zg9Pf3yvn37Lh85ckSw2Wx/vR09+i5pb4je8pReChUm8VRDDrjsYG6A1nLxMl0Ce9tV0rpDQPQ/VafAI/Ta4gYQHbhVRs3x7N8BjVOnTh28ePHixIiIiM1qtbrK3d09SyaT7b8dNfq0yjVnzxfGUfl+njyQxPHaHEbVnQGlTLQaixmQgkZHvU8k/TSDQeIuEuFEJM1uh6x1cO+TIFdee3DsBRw5zr8dWcbqf+54HiQrf06mu3EuNn7r3i935V28sPHHD/zjR/7j2eoMhPKvGVX4JbnlJRwrvQDtLtD6g1cA2Bz4Hv0C4dQq/ru9UOwoQzyFPbUHpBoIVF4/EtqBfgbsvkHs2/jJ32praxfSs/KIn8XtRDF9TvnFP+bv2v2s6vQ5drVvovVPf5Qm9g+b09UgOCh01dzogNfqsvbxqdXKBEMoJ2uqqDKbmZWYTEdDLavzTpDb1Eisuo4XXDbGRZoY7T1WVL6hCEY+euOSGQdgkxE6boItLC6sMCMjY6VarV6ZmJh4oH///pO5vQUGcBsWlHP2zNr019981utkAbPHT+D1sfex7z+XPLbl8KEDwFAAGZTbx0/M2VXfwACdjguN9QCMNoSD4ORcbTVnWpqYERaBws2Lgw1WRlmLWUYjHPoatAEQG36DknBE9fX+bCivl0cNG/HC3Llzkw0Gw16pVGqil3aCt0yQSqWyKx0uPPz8+PzEUWyeOv4jMQX3j9ZM+OitV05zsfADwG983NBpruiB1nEKDU6lklnhURhCQsFmY4C3L78fNopQdx1D9b4khkWB3JfXSnbySNFOGJ0mrpxvJKUL8IILKj8ZFedSZDLZ/qSkpCkhISFp3EKpy/VwO07a/7NdOy9WrF6vjY6JIcpNy7AAT3ZUmZnl0INOxip1rfnpxFFbymSStJYt/9InTH0MWhrA1Jk+VChBowazWfx/a9SgkHFm11pi4n8LE5LEtOvPLQWOZCBM1n9O7Jif/frwTjrp+idm/CJVet842ssrcBfsJJfbmTX8UXh6AYyfz7MkaWVf1T01/oxZ/2x1LU3pn4BGAyoNSCTg7IC2NnC5QKkAlYrWbz4nJmQ6JCaJRXw/RQ50pmMV1LaZA29DlxuixwRZLJaZBQUFdYhxZv/vX/79W6U6OVGuUex/5CUwhIpVOXZgfCJM+xXVgdPJeXwFvppoCtI/BUsT+OjB3V0kzNsHHO0U7V6Pp+cYmPaE6HduZpJIAKeM0vpG/57qcjPoMUEZGRlby8rKjG1tbf9eW1v7mVIqf3fxm699SWupWPDUvdSuFfGeFOjnD79cRNyAWTx39AQnsw/BhTNQfJrLx7/mncMHGRw1E37xnBidLNycA3ABci3FDUZf+mBv2SOCLl++vMBms8mnTZv2bkZGxosNDQ39AbzCBj/UmhZ2ng3vigK7cfW/36WkEdHhTprOqsffJ6FVh+RCC5J+Y/DySebtlGWQMlO0HHMPJOsANB5csti9EK26V9Ejgg4dOvReeHj4d3a7PVitVhMXF3el0ks3IW1c2QxDPeuXXS3M7D5FJJ2/6wA/NYQPhWFT4YFkuG8S+OvFZ84eSuUEtO402gUF4pcbvYqeiNLfarX6xMfHr8jMzByjUqlKuZq+AmgOTZuXUJLi38jH74rTxJtr/YgEceo52sUkWBXQwtXK1p5CADTuNDklgLPXdvFduGmRjEbjTL1ej0qlyiopKXlIKpVevE6zqsiHn0ooSzVU8tnbUN0iFlB1XyEogNrL0G6EgIibLP/+CbgAtY4qpxQcbfrbHO0a3DRBZ8+eTbNYLAB1iYmJ5bGxsYU3aFoRmjYvxr5g3OFxe5fB4ePiF4FqRGU8gJJM6LCLnzHd7nrXCWgUZHcANku/2xztGvTEqO/z9fW9CDBkyJCYwMDAxT/R1qQYlzI+a8nCP/2pPh02rYbmVvHzEzlgMYoZQutPjHAzcCGWJzSbmGKuB633Db/RuFX0ZCU9FWgEjvXwHRPKd274+6MHCwcf9R0NwfHQkg+Tp4se7FbSsV0F6b7AJSesf5PqZ+4vDkqaPPDnut7tj1lujNbaP+zbsfupTXnnI9bXWWHoFOgXB/4G0S+pEJWWcfWL5utJ2oG4RrpUC0WHoPE8xQ8NLI6a+sgDQOXPifF/l6ArcMy/lHN80rGjx8Z8J7hF7FZ4UeJQgkMCDgGsLnBJQK4Gabd9RocNBLvoy9QO5gktzFE7zk9Km/o/BEa9wQ8TsjdETwn6X0poupqsztrbAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","import { ethers, utils } from 'ethers'\nimport pbkdf2 from 'pbkdf2'\nimport {\n\tencrypt,\n\tdecrypt,\n\tencryptLegacy,\n\tdecryptLegacy,\n} from 'services/crypto/crypto'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n\tgetKeys,\n\tremoveFromLocalStorage,\n} from 'helpers/localStorageHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\n\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\n\treturn new Promise((resolve, reject) => {\n\t\tpbkdf2.pbkdf2(\n\t\t\tpass,\n\t\t\tsalt,\n\t\t\titerations,\n\t\t\tkeylen,\n\t\t\tdigiset,\n\t\t\t(err, derivedKey) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err)\n\t\t\t\t}\n\n\t\t\t\tconst res = derivedKey.toString(encoding)\n\n\t\t\t\treturn resolve(res)\n\t\t\t}\n\t\t)\n\t})\n}\n\nasync function getCipherKey({ email, password }) {\n\tconst pass = generateSalt(password)\n\tconst salt = generateSalt(email)\n\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn key\n}\n\nfunction isLegacyCrypto(authType) {\n\treturn !authType || authType === 'legacy' || authType === 'grant'\n}\n\n// Returns 12 random words\nexport function getRandomMnemonic() {\n\tconst randomEntropy = utils.randomBytes(16)\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\n\n\treturn mnemonic\n}\n\nexport async function generateWallet(mnemonic) {\n\tconst seed = mnemonic || getRandomMnemonic()\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\n\n\treturn {\n\t\tmnemonic,\n\t\tprivateKey: wallet.privateKey,\n\t\taddress: wallet.address,\n\t\tpath: wallet.path,\n\t}\n}\n\nasync function encrKey({ email, password, authType }) {\n\tif (!authType) {\n\t\treturn await encryptLegacy(email, password)\n\t} else if (typeof authType === 'string') {\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\n\t} else {\n\t\tthrow new Error('INVALID_TYPE')\n\t}\n}\n\nexport async function encrData({ email = '', password, data, authType }) {\n\tconst isLegacy = isLegacyCrypto(authType)\n\tconst jsonData = JSON.stringify(data)\n\tif (isLegacy) {\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\n\t\treturn legacyEncrypted\n\t} else {\n\t\tconst encrypted = await encrypt(\n\t\t\tjsonData,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t\treturn encrypted\n\t}\n}\n\nexport async function decrData({ email = '', password, data, authType }) {\n\tlet decryptedStr = ''\n\tconst isLegacy = isLegacyCrypto(authType)\n\n\tif (isLegacy) {\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\n\t} else {\n\t\tdecryptedStr = await decrypt(\n\t\t\tdata,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n\n\ttry {\n\t\tconst decr = JSON.parse(decryptedStr)\n\t\treturn decr\n\t} catch (err) {\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\n\t}\n}\n\nexport async function createLocalWallet({\n\temail = '',\n\tpassword = '',\n\tmnemonic,\n\tauthType = '',\n}) {\n\tconst walletData = await generateWallet(mnemonic)\n\tconst key = await encrKey({ email, password, authType })\n\tconst data = await encrData({ data: walletData, email, password, authType })\n\tawait saveToLocalStorage({ data }, key)\n\n\twalletData.authType = authType\n\treturn walletData\n}\n\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\n\tconst wallet = await getLocalWallet({\n\t\temail,\n\t\tpassword,\n\t\tgetEncrypted: true,\n\t})\n\n\tif (wallet && wallet.data) {\n\t\tconst newKey = await encrKey({\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\n\t\t})\n\t\tsaveToLocalStorage(wallet, newKey)\n\t}\n}\n\nexport async function removeLegacyKey({ email = '', password = '' }) {\n\tconst key = await encrKey({ email, password })\n\tremoveFromLocalStorage(key)\n}\n\nexport async function addDataToWallet({\n\temail = '',\n\tpassword = '',\n\tdataKey = '',\n\tdataValue = '',\n\tauthType,\n}) {\n\tif (dataKey === 'data') {\n\t\tthrow new Error('INVALID_DATA_KEY')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (!wallet) {\n\t\tthrow new Error('WALLET_NOT_FOUND')\n\t}\n\n\tconst data = await encrData({ data: dataValue, email, password, authType })\n\twallet[dataKey] = data\n\tsaveToLocalStorage(wallet, key)\n}\n\nexport async function getRecoveryWalletData({ email, password, authType }) {\n\tif (!email || !password) {\n\t\treturn null\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\treturn {\n\t\tkey,\n\t\twallet,\n\t}\n}\n\nexport async function getLocalWallet({\n\temail,\n\tpassword,\n\tauthType,\n\tgetEncrypted,\n}) {\n\tif (!email || !password) {\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (wallet) {\n\t\tif (getEncrypted) {\n\t\t\treturn wallet\n\t\t}\n\n\t\tconst walletKeys = Object.keys(wallet)\n\n\t\tconst decrypts = walletKeys.map(async key => {\n\t\t\t// props[key] = await decrData({\n\t\t\t// \tdata: wallet[key],\n\t\t\t// \temail,\n\t\t\t// \tpassword,\n\t\t\t// \tauthType,\n\t\t\t// })\n\n\t\t\tconst decryptedData = await decrData({\n\t\t\t\tdata: wallet[key],\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\treturn decryptedData\n\t\t})\n\n\t\tconst decryptedData = await Promise.all(decrypts)\n\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\n\t\t\tprops[key] = decryptedData[index]\n\t\t\treturn props\n\t\t}, {})\n\n\t\treturn decryptedWallet\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction isWallet(item) {\n\treturn item && item.data && item.identity && item.privileges\n}\n\nexport function walletInfo(key, index, wallet) {\n\tconst split = key.split('-')\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\n\tconst authType = split[1] || 'legacy'\n\tconst name = mail || `Grant account # ${index + 1}`\n\n\tconst info = {\n\t\tkey,\n\t\twallet,\n\t\tname,\n\t\tauthType,\n\t}\n\n\treturn info\n}\n\nexport function getAllWallets() {\n\tconst walletKeys = getKeys()\n\t\t.map(key => {\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\titem: loadFromLocalStorage(key),\n\t\t\t}\n\t\t})\n\t\t.filter(({ item }) => isWallet(item))\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\n\n\treturn walletKeys\n}\n\nexport async function getWalletHash({ salt, password }) {\n\tconst passwordId = utils.id(password)\n\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn hash\n}\n\nexport function generateSalt(dataStr) {\n\tif (typeof dataStr !== 'string') {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\n\t} else if (!dataStr.length) {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\n\t}\n\n\tconst id = utils.id(dataStr)\n\tconst salt = utils.keccak256(id)\n\treturn salt\n}\n","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-fund-ic.a3c1ce2c.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MWE5YjZhZS0zYjg3LWZlNDAtYjc2Zi05ZWQwZGY2M2IzOWMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZjAyOTAwYy1mYWQxLTZkNDctYmMyZi0wZDg0ZTg5MDgzZDUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTk2YjBhMi02OWJjLTVjNGUtOTIxZS1hNjcwMGNjZjIzYjQiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowODoxMSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq0lBPoAABGCSURBVHja7d0JlBT1ncDx8TauuyYRdxVdTXY3Hk9WfZrEczUx3jMwI/c9HIJBOQSCQECQWwGVQ2PkUkCQYNQowWON0c0q66pI9OGiAkEuueWQ4Zb/VrUzzdycAz09n99739cw0wNidX1e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\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute, notifyNewTOS } from 'actions'\r\nglobal.meta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA = '', versionB = '') => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = global.meta || {}\r\n\t\t\t\tconst shouldForceRefresh =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestVersion, currentVersion)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst shouldNotifyNewTOS =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestTOS, currentTOS)\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { logOut } from 'services/store-data/auth'\nimport moment from 'moment'\n\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\n\nconst processResponse = (res, dontThrow, skipRedirect) => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\tif (res.status === 401 || res.status === 403) {\n\t\t\tlogOut(skipRedirect)\n\t\t}\n\t\tif (!dontThrow) {\n\t\t\thandleRequesterErrorRes({ res, text })\n\t\t}\n\t})\n}\n\nexport const getSession = ({\n\tidentity,\n\tmode,\n\tsignature,\n\tauthToken,\n\thash,\n\ttypedData,\n\tsignerAddress,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'auth/',\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tidentity,\n\t\t\t\tmode,\n\t\t\t\tsignature,\n\t\t\t\tauthToken,\n\t\t\t\thash,\n\t\t\t\ttypedData,\n\t\t\t\tsignerAddress,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const checkSession = ({ authSig, skipErrToast }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'session',\n\t\t\tmethod: 'GET',\n\t\t\tauthSig,\n\t\t\tskipErrToast,\n\t\t})\n\t\t.then(res => processResponse(res, true, true))\n}\n\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\n\tconst formData = new FormData()\n\tformData.append('media', imageBlob, imageName)\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'media',\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nconst convertItemToJSON = item => {\n\tconst itemToConvert = { ...item }\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\n\t}\n\n\treturn JSON.stringify(itemToConvert)\n}\n\nexport const getAdUnits = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdUnit = ({ unit, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdUnit = ({ unit, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdSlots = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdSlot = ({ slot, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdSlot = ({ slot, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `slots/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getCampaigns = ({ authSig, creator }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns/by-owner',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${campaign.id}/close`,\n\t\t\tmethod: 'PUT',\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAllCampaigns = ({ all, statuses, byEarner } = {}) => {\n\tconst queryParams = {\n\t\t...(all && { all: true }),\n\t\t...(statuses && { status: statuses.join(',') }),\n\t\tbyEarner,\n\t}\n\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateCampaign = ({ campaign, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(campaign),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetSigner,\n\tgetMultipleTxSignatures,\n} from 'services/smart-contracts/actions/ethers'\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\nimport { Contract } from 'ethers'\nimport {\n\tbigNumberify,\n\tparseUnits,\n\tgetAddress,\n\tInterface,\n\tkeccak256,\n\tid,\n} from 'ethers/utils'\nimport { generateAddress2 } from 'ethereumjs-util'\nimport { executeTx } from 'services/adex-relayer'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectFeeTokenWhitelist,\n\tselectSaiToken,\n\tt,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\nimport solc from 'solcBrowser'\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\nimport { contracts } from 'services/smart-contracts/contractsCfg'\nconst { AdExENSManager, ReverseRegistrar } = contracts\n\nconst ERC20 = new Interface(ERC20TokenABI)\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\n\nexport async function getIdentityDeployData({\n\towner,\n\trelayerRoutineAuthValidUntil = 10648454444,\n}) {\n\tconst {\n\t\tidentityFactoryAddr,\n\t\trelayerAddr,\n\t\tbaseIdentityAddr,\n\t\tidentityRecoveryAddr,\n\t\tcoreAddr,\n\t\tmainToken,\n\t} = selectRelayerConfig()\n\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\n\n\tconst routineAuthorizationsRaw = [\n\t\t{\n\t\t\trelayer: relayerAddr,\n\t\t\toutpace: coreAddr,\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tfeeTokenAmount: '0x00',\n\t\t},\n\t]\n\n\tconst bytecode = getProxyDeployBytecode(\n\t\tbaseIdentityAddr,\n\t\tprivileges,\n\t\t{\n\t\t\tprivSlot: 0,\n\t\t\troutineAuthsSlot: 1,\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\n\t\t\t\tnew RoutineAuthorization(x).hash()\n\t\t\t),\n\t\t},\n\t\tsolc\n\t)\n\n\tconst salt = keccak256(owner)\n\n\tconst identityAddr = getAddress(\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\n\t)\n\n\treturn {\n\t\tidentityFactoryAddr,\n\t\tbaseIdentityAddr,\n\t\tbytecode,\n\t\tsalt,\n\t\tidentityAddr,\n\t\tprivileges,\n\t\troutineAuthorizationsRaw,\n\t}\n}\n\nexport async function withdrawFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst mainToken = selectMainToken()\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\n\tconst { wallet, identity, stats } = account\n\tconst { authType } = wallet\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: tokenAddr,\n\t\tto: tokenAddr,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t\twithdrawTx: true,\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: toWithdraw,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\n\tif (fees.totalBN.gt(mtBalance)) {\n\t\tthrow new Error(\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\n\t\t\t\targs: [\n\t\t\t\t\t`${formatTokenAmount(\n\t\t\t\t\t\tmtBalance.toString(),\n\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t2\n\t\t\t\t\t)} ${symbol}`,\n\t\t\t\t\t`${fees.total} ${symbol}`,\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\n\t\t\t\t],\n\t\t\t})\n\t\t)\n\t}\n\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\n\n\tlet actualWithdrawAmount = toWithdraw\n\n\tif (toWithdraw.gt(maxWithdraw)) {\n\t\tactualWithdrawAmount = maxWithdraw\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\n\t\t\tif (tx.withdrawTx) {\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tactualWithdrawAmount.toString(),\n\t\t\t\t])\n\t\t\t}\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function setIdentityPrivilege({\n\taccount,\n\tsetAddr,\n\tprivLevel,\n\tgetFeesOnly,\n}) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst identityInterface = new Interface(Identity.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: identityAddr,\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t]),\n\t}\n\n\tconst txns = [tx1]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\ttxnsByFeeToken,\n\t\tidentityAddr,\n\t\twallet,\n\t\tprovider,\n\t\textraData: {\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t},\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\nfunction txnsByTokenWithSaiToDaiSwap({\n\ttxns,\n\tmainToken,\n\tdaiAddr,\n\tsaiAddr,\n\tidentityAddr,\n}) {\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\n\t\t(current, tx, i) => {\n\t\t\tconst { withdrawAmountByToken } = tx\n\n\t\t\tconst needSaiToDaiSwap =\n\t\t\t\t!!withdrawAmountByToken &&\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\n\t\t\t\tmainToken.address === daiAddr &&\n\t\t\t\tsaiAddr !== daiAddr\n\n\t\t\tlet feeTokenAddr = ''\n\n\t\t\tif (needSaiToDaiSwap) {\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\n\t\t\t\t)\n\t\t\t\tfeeTokenAddr = daiAddr\n\t\t\t}\n\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\n\t\t\t// normalize tx\n\t\t\ttx.feeTokenAddr = feeTokenAddr\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\n\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\n\t\t\t\ttx,\n\t\t\t]\n\n\t\t\treturn current\n\t\t},\n\t\t{\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\n\t\t\ttxnsByFeeToken: {},\n\t\t}\n\t)\n\n\treturn { txnsByFeeToken, saiWithdrawAmount }\n}\n\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: AdExENSManager.address,\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\n\t\t\tAdExENSManager.publicResolver,\n\t\t\tid(username),\n\t\t\tidentityAddr,\n\t\t]),\n\t}\n\n\tconst tx2 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: ReverseRegistrar.address,\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\n\t\t]),\n\t}\n\n\tconst txns = [tx1, tx2]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { total } = await getIdentityTxnsTotalFees({\n\t\ttxnsByFeeToken,\n\t\tmainToken,\n\t})\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function getIdentityTxnsWithNoncesAndFees({\n\tamountInMainTokenNeeded = '0',\n\ttxns = [],\n\tidentityAddr,\n\tprovider,\n\tIdentity,\n\taccount,\n\tgetToken,\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst saiToken = selectSaiToken()\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\n\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\n\tlet identityContract = null\n\n\tif (isDeployed) {\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\n\t}\n\n\tconst initialNonce = isDeployed\n\t\t? (await identityContract.nonce()).toNumber()\n\t\t: 0\n\n\tconst feesForMainTxns = txns.length\n\t\t? bigNumberify(\n\t\t\t\t!initialNonce\n\t\t\t\t\t? mainTokenWithFees.minDeploy\n\t\t\t\t\t: mainTokenWithFees.minRecommended\n\t\t  ).add(\n\t\t\t\tbigNumberify(mainTokenWithFees.minRecommended).mul(\n\t\t\t\t\tbigNumberify(txns.length - 1)\n\t\t\t\t)\n\t\t  )\n\t\t: bigNumberify(0)\n\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\n\t\tbigNumberify(amountInMainTokenNeeded)\n\t)\n\n\tconst {\n\t\tsweepTxns = [],\n\t\tswapAmountsByToken = {},\n\t} = await getSweepingTxnsIfNeeded({\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\n\n\t\taccount,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns: sweepTxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// 1st - always get sweeping txns (channelWithdraw)\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\n\t// 3rd - make other txns with the main token only\n\n\t// TODO: make it work with other tokens\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\n\n\tif (!saiSwapAmount.isZero()) {\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\n\t\t\t...(await swapSaiToDaiTxns({\n\t\t\t\tgetToken,\n\t\t\t\tidentityAddr,\n\t\t\t\tdaiAddr,\n\t\t\t\tsaiToken,\n\t\t\t\tswapAmount: saiSwapAmount,\n\t\t\t})),\n\t\t]\n\t}\n\n\tconst allFeeTokens = [\n\t\t...new Set([\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\n\t\t]),\n\t]\n\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\n\t\ttxns[token] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\n\t\t]\n\n\t\treturn txns\n\t}, {})\n\n\tlet currentNonce = initialNonce\n\n\tObject.keys(txnsByFeeToken).forEach(key => {\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\n\t\t\tconst txFeeAmount = isSweepTx ? feeToken.min : feeToken.minRecommended\n\n\t\t\tconst minFeeAmount = bigNumberify(\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : txFeeAmount\n\t\t\t)\n\n\t\t\tconst sweepRoutinesFeeAmount = bigNumberify(routinesSweepTxCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\n\t\t\t\tbigNumberify(feeToken.minRecommended)\n\t\t\t)\n\n\t\t\t// Total relayer fees for the transaction\n\t\t\tconst feeAmount = minFeeAmount\n\t\t\t\t.add(sweepRoutinesFeeAmount)\n\t\t\t\t.add(extraFeesAmount)\n\t\t\t\t.toString()\n\n\t\t\t// fees that are not pre calculated with in the total identity balance\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\n\t\t\t\t.toString()\n\n\t\t\tconst txWithNonce = {\n\t\t\t\t...tx,\n\t\t\t\tfeeTokenAddr: feeToken.address,\n\t\t\t\tfeeAmount,\n\t\t\t\tnonce: currentNonce,\n\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t}\n\n\t\t\tcurrentNonce += 1\n\n\t\t\treturn txWithNonce\n\t\t})\n\t})\n\n\treturn txnsByFeeToken\n}\n\nexport async function getApproveTxns({\n\tgetToken,\n\ttoken,\n\tidentityAddr,\n\tfeeTokenAddr,\n\tapproveForAddress,\n\tapproveAmount,\n}) {\n\tconst tokenContract = getToken(token)\n\n\tconst allowance = await tokenContract.allowance(\n\t\tidentityAddr,\n\t\tapproveForAddress\n\t)\n\n\tconst approveTxns = []\n\n\tif (!allowance.isZero()) {\n\t\tapproveTxns.push({\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: token.address,\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\n\t\t})\n\t}\n\n\tapproveTxns.push({\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: token.address,\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\n\t})\n\n\treturn approveTxns\n}\n\nasync function swapSaiToDaiTxns({\n\tidentityAddr,\n\tdaiAddr,\n\tsaiToken,\n\tswapAmount,\n\tgetToken,\n}) {\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: saiToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\n\t\tapproveAmount: swapAmount,\n\t})\n\n\tconst swapTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tto: SCD_MCD_MIGRATION_ADDR,\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\n\t}\n\n\treturn [...approveTxns, swapTx]\n}\n\n// TODO: use byToken where needed\n// currently works because only using SAI and DAI only\nexport async function getIdentityTxnsTotalFees({\n\ttxnsByFeeToken,\n\tmainToken = {},\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst bigZero = bigNumberify('0')\n\tconst feesData = Object.values(txnsByFeeToken)\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\n\t\t.reduce(\n\t\t\t(result, tx) => {\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\n\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\n\t\t\t\t).add(txFeeAmount)\n\n\t\t\t\treturn result\n\t\t\t},\n\t\t\t{ total: bigZero, byToken: {} }\n\t\t)\n\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\n\t\treturn {\n\t\t\taddress: key,\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\n\t\t\tsymbol,\n\t\t\tfeeFormatted: `${formatTokenAmount(\n\t\t\t\tvalue.toString(),\n\t\t\t\tdecimals,\n\t\t\t\tfalse,\n\t\t\t\t4\n\t\t\t)} ${symbol}`,\n\t\t}\n\t})\n\n\tconst fees = {\n\t\t// TODO: change to return total as BN and add totalFormatted\n\t\ttotal: formatTokenAmount(\n\t\t\tfeesData.total.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalBN: feesData.total,\n\t\tbyToken,\n\t}\n\n\treturn fees\n}\n\nexport async function processExecuteByFeeTokens({\n\ttxnsByFeeToken,\n\twallet,\n\tprovider,\n\tidentityAddr,\n\textraData = {},\n}) {\n\tconst signer = await getSigner({ wallet, provider })\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\n\t\tconst data = {\n\t\t\ttxnsRaw,\n\t\t\tsignatures,\n\t\t\tidentityAddr,\n\t\t\t...extraData,\n\t\t}\n\n\t\tif (\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\n\t\t\tprocess.env.NODE_ENV === 'development'\n\t\t) {\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\n\t\t}\n\n\t\tconst result = await executeTx(data)\n\n\t\treturn {\n\t\t\tresult,\n\t\t}\n\t})\n\n\tconst results = await Promise.all(all)\n\n\treturn results\n}\n\nexport async function withdrawOtherTokensFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\ttokenAddress,\n\ttokenDecimals,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\tconst decimals = parseInt(tokenDecimals, 10)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: mainToken.address,\n\t\tto: tokenAddress,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\n\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getOwnerIdentities = ({ owner }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/by-owner/${owner}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getIdentityData = ({ identityAddr }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getRelayerConfigData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'relayer/cfg',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}/execute`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures,\n\t\t\t\tidentityAddr,\n\t\t\t\tchannel,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const regAccount = ({\n\towner,\n\temail,\n\tbytecode,\n\tidentityFactoryAddr,\n\tbaseIdentityAddr,\n\tsalt,\n\tidentityAddr,\n\tprivileges,\n\troutineAuthorizationsRaw,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner,\n\t\t\t\temail,\n\t\t\t\tbytecode,\n\t\t\t\tidentityFactoryAddr,\n\t\t\t\tbaseIdentityAddr,\n\t\t\t\tsalt,\n\t\t\t\tidentityAddr,\n\t\t\t\tprivileges,\n\t\t\t\troutineAuthorizationsRaw,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getQuickWallet = ({ hash }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tsalt,\n\t\t\t\thash,\n\t\t\t\tencryptedWallet,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getEmail = ({ email }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n"],"sourceRoot":""}