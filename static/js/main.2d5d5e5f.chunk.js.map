{"version":3,"sources":["resources/home-wallpaper.jpg","constants/actionTypes.js","store/initialState.js","helpers/miscHelpers.js","services/translations/translations.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/newTransactionsReducer.js","store/history.js","store/configureStore.js","actions/common.js","services/store-data/auth.js","services/requester/index.js","services/requester/requester.js","services/adex-market/actions.js","actions/uiActions.js","services/auth/auth.js","services/adex-relayer/actions.js","services/smart-contracts/contractsCfg.js","constants/misc.js","services/smart-contracts/ethers.js","services/smart-contracts/signers/trezor.js","services/crypto/crypto.js","helpers/localStorageHelpers.js","services/wallet/wallet.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","actions/transactionActions.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","actions/accountActions.js","services/smart-contracts/actions/core.js","actions/itemActions.js","helpers/formatters.js","services/smart-contracts/actions/identity.js","actions/identityActions.js","actions/bidActions.js","actions/index.js","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","helpers/mediaHelpers.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","helpers/validators.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/containers/Lists/styles.js","components/dashboard/containers/Lists/Controls.js","components/dashboard/containers/Lists/ListWithControls.js","components/dashboard/collection/Rows.js","components/dashboard/containers/ItemsList/ItemsList.js","components/dashboard/containers/ItemsList/styles.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/dashboard/charts/options.js","components/dashboard/charts/slot/styles.js","components/dashboard/charts/slot/bidsStatus.js","components/dashboard/charts/slot/bidsLegend.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/dashboard/charts/revenue.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Items/Items.js","components/dashboard/containers/Transactions/Transactions.js","components/dashboard/containers/Transactions/styles.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/common/dialog/styles.js","components/common/dialog/content.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/stepper/MaterialUiStepper.js","components/dashboard/forms/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/WithDialog.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/DownshiftMultiple.js","components/common/autocomplete/DownshiftSingle.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","services/store-data/transactions.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/styles.js","components/signin/identity/IdentityContractAddressEthDeploy.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/IdentityContractOwner.js","components/signin/identity/GrantInfo.js","components/signin/identity/GrantDeploy.js","components/signin/identity/GrantLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/ExternalWalletConnect.js","components/common/stepper/styles.js","components/common/stepper/MaterialUiStepper.js","components/signin/identity/IdentitySteps.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/themeMUi.js","components/App/App.js","serviceWorker.js","index.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/ledger_logo_header.png","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404.png","resources/rekt-eddie.png","resources/download-metamask.png","resources/adex-logo-txt-sm.svg","resources/eddie/eddie-20.png"],"names":["module","exports","__webpack_require__","p","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","initialState","account","Account","signin","name","email","password","passConfirm","seed","publicKey","seedCheck","authenticated","newItem","Campaign","plainObj","AdUnit","temp","addUtmLink","AdSlot","currentItem","items","spinners","ui","toasts","confirm","data","nav","side","language","validations","newTransactions","default","web3Transactions","tags","identity","ethNetwork","networkId","gasData","wallet","config","relayer","market","validators","miscHelpers","hexToRgbaColorString","hex","alpha","Error","length","substr","hexToDec","h","parseInt","r","g","b","concat","getErrMsg","err","stack","message","toString","split","error","isInt","int","shuffleArray","array","Object","toConsumableArray","sort","Math","random","replace","c","prefix","substring","min","max","floor","this","getRandomInt","obj","keys","maxDaysPast","maxDaysAhead","initialMoment","initial","moment","isMoment","valueOf","undefined","add","queryParams","map","key","encodeURIComponent","join","translations","adexTranslations","lang","translate","val","arguments","_ref","_ref$isProp","isProp","_ref$args","args","toUpperCase","translation","Array","isArray","tpl","_","v","arg","component","renderToString","interpolate","setLang","lng","persistReducers","newState","state","action","objectSpread","type","Base","updateObject","item","newValues","objModel","filterActions","newCollection","collectionId","collection","defineProperty","id","itemType","Item","addItem","_id","toAdd","prop","newCol","removeCollectionProp","removeItem","toRemove","newItems","reduce","index","currentItems","ipfs","match","category","value","types","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","_ref2","pTxs","status","indexOf","hash","push","filter","tx","addr","updateObj","txHash","tag","memoryReducers","newSignin","newidentity","newWallet","spinner","newToast","toast","Helper","getGuid","added","Date","now","t","onConfirm","onCancel","active","calledOn","routing","routerReducer","LOCATION_CHANGE","CALL_HISTORY_METHOD","newErrors","errors","hasOwnProperty","updateTx","history","createHistory","reduxRouterMiddleware","routerMiddleware","configStorage","storage","localStorage","rootReducer","combineReducers","persist","persistCombineReducers","memory","configureStore","middlewares","thunk","store","createStore","compose","applyMiddleware","apply","persistor","persistStore","execute","dispatch","logOut","actions","resetAccount","resetAllItems","resetAllBids","isDemoMode","getState","_authType","requester","AdexNodeRequester","_this","baseUrl","classCallCheck","getAuthHeaders","authSig","acc","X-User-Address","_addr","X-User-Signature","_authSig","X-Auth-Token","_authToken","getUrl","base","route","query","url","fetch","_ref3","_ref3$route","_ref3$queryParams","_ref3$method","method","body","_ref3$headers","headers","_ref3$authSig","userAddr","qp","authToken","demo","getQuery","hdrs","Requester","process","processResponse","res","dontThrow","json","text","then","statusText","getSession","mode","signature","typedData","signerAddress","JSON","stringify","Content-Type","checkSession","skipErrToast","convertItemToJSON","itemToConvert","created","unix","getAdUnits","_ref4","postAdUnit","_ref5","unit","getAdSlots","_ref7","postAdSlot","_ref8","slot","getCampaigns","_ref10","getAllCampaigns","all","updateSpinner","updateUi","addToast","_ref$label","label","_ref$timeout","timeout","unclosable","anchorOrigin","top","removeToast","toastId","confirmAction","_ref2$confirmLabel","confirmLabel","_ref2$cancelLabel","cancelLabel","_ref2$title","title","_ref2$text","updateNav","changeLanguage","updateValidationErrors","resetValidationErrors","addSig","_ref$addr","sig","expiryTime","_ref$identity","setItem","toLowerCase","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getItem","time","grantAccount","ownerAddr","mail","couponCode","getOwnerIdentities","owner","registerFullIdentity","privileges","sendOpenChannel","txnsRaw","signatures","channel","identityAddr","registerExpectedIdentity","_ref9","relayerConfig","executeTx","setAddrPriv","_ref11","privLevel","setAddr","contracts","Identity","abi","AdExCore","address","DAI","Dai","decimals","IdentityFactory","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","constants","AdTypes","AdUnitsTypes","SORT_PROPERTIES_ITEMS","FILTER_PROPERTIES_ITEMS","labelIsProp","values","AUTH_TYPES","METAMASK","signType","GETH","limit","TREZOR","LEDGER","DEMO","GRANT","SEED","SORT_PROPERTIES_CAMPAIGN","FILTER_PROPERTIES_CAMPAIGN","status.name","UTM_PARAMS","utm_source","utm_medium","utm_campaign","utm_content","localWeb3","asyncToGenerator","regenerator_default","a","mark","_callee","provider","adexCore","dai","identityFactory","results","wrap","_context","prev","next","ethers","providers","JsonRpcProvider","Contract","abrupt","stop","loadInjectedWeb3","Promise","resolve","reject","window","addEventListener","ethereum","web3","getInjectedWeb3","_callee2","enabled","_results","_context2","sent","enable","console","log","Web3Provider","t0","currentProvider","getLocalWeb3","getEthers","_callee3","injected","_context3","_x","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","opts","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","to","bundle","path","showOnTrezor","getAddresses","_ref3$from","_ref3$to","success","payload","_args","ethereumGetAddress","signTx","params","txProps","_ref6","txSigned","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","s","serializeTransaction","sendTransaction","txData","_x2","signMessage","_callee4","_args4","_context4","ethereumSignMessage","_x3","connect","_provider","_path","Signer","crypto","require","encrypt","cipher","createCipher","crypted","update","final","decrypt","decipher","createDecipher","dec","loadFromLocalStorage","parse","saveToLocalStorage","serialized","warn","generateWallet","mnemonic","randomEntropy","randomBytes","HDNode","entropyToMnemonic","getRandomMnemonic","Wallet","fromMnemonic","privateKey","encrKey","encrData","addDataToWallet","_ref5$email","_ref5$password","_ref5$dataKey","dataKey","_ref5$dataValue","dataValue","getLocalWallet","props","decrData","LocalSigner","getAddress","_wallet","signetTx","sign","arrayify","walletData","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","updateNewTransaction","resetNewTransaction","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","prepareTx","_prepareTx","sender","gasLimit","gasPrice","pTx","populateTransaction","toHexString","nonce","processTx","_processTx","fromType","txRes","settings","receipt","txSuccessData","nextNonce","updateAccount","wait","_getSigner","authType","signer","_signer2","_signer3","LedgerSigner","getTypedDataHash","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","getAuthSig","_x4","_getAuthSig","Number","MAX_SAFE_INTEGER","getTransactionsReceipts","_x5","_getTransactionsReceipts","_callee5","_ref6$txHashes","txHashes","receipts","_context5","getTransactionReceipt","_x6","_signTx","_callee6","_context6","Transaction","hashHex","splitSig","getMultipleTxSignatures","_x7","_getMultipleTxSignatures","_callee7","txns","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context7","Symbol","iterator","done","return","finish","getRequesters","campaign","leader","spec","follower","validator","getAuthToken","existingAuth","token","validatorAuthTokens","era","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","authTokens","lastApprovedState","closeCampaign","events","eventsAggregates","agrArgs","formatEther","formatUnits","privilegesNames","valueToKey","IdentityPrivilegeLevel","getAddressBalances","_getAddressBalances","calls","balances","formatted","getBalance","balanceOf","serializedPath","balanceEth","balanceDai","getAccountStats","_getAccountStats","_identity$status","identityContract","privilegesAction","walletBalanceEth","walletBalanceDai","identityBalanceDai","walletPrivileges","validatorsData","_validatorsData$outst","outstandingBalanceDai","_validatorsData$aggre","aggregates","raw","deployed","getValidatorData","catch","e","slicedToArray","totalIdentityBalanceDai","walletAddress","walletAuthType","identityAddress","getAllChannels","channels","_ref12","lastApproved","balancesTree","allLeafs","mTree","msg","k","Channel","getBalanceLeaf","MerkleTree","_x9","getAllChannelsWhereHasBalance","allActive","_ref13","_ref14","balance","getOutstandingBalance","withBalance","_ref15","withOutstanding","totalOutstanding","_ref17","_ref16","outstanding","bigNumberify","withdrawnPerUser","sub","_x10","sum","ch","getIdentityStatistics","_callee9","allCalls","_context9","_ref19","_callee8","_ref18","stats","_context8","_x11","ag","getAllChannelsForIdentity","_callee10","_context10","_callee11","_context11","updateSignin","resetSignin","createAccount","meta","updateGasData","updateAccountStats","createSession","sessionSignature","getRelayerConfig","cfg","Core","Interface","ERC20","feeAmountApprove","feeAmountOpen","timeframe","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","totalFeesFormatted","toEthereumChannel","specHash","createHash","digest","creator","tokenAddr","depositAsset","tokenAmount","depositAmount","validUntil","getReadyCampaign","newCampaign","withdrawPeriodStart","period","getValidUntil","adUnits","parseUnits","minPerImpression","div","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","openChannel","_openChannel","readyCampaign","openReady","ethChannel","initialNonce","feeTokenAddr","tx1","tx2","result","toNumber","feeAmount","functions","approve","encode","channelOpen","toSolidityTuple","closeChannel","_closeChannel","toastStr","AddToastUi","getImgsIpfsFromBlob","tempUrl","resp","blob","imgBlob","URL","revokeObjectURL","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","updateNewItem","resetNewItem","imageIpfs","resItem","mediaUrl","mediaMime","mime","marketAdd","addSlot","fallbackUnit","resUnit","useFallback","targetUrl","description","targeting","passback","getAllItems","units","slots","campaigns","resUnits","resSlots","resCampaigns","campaignsMapped","updateItems","openCampaign","removeItemFromItem","addItemToItem","updateItem","successMsg","errMsg","deleteItem","_deleted","restoreItem","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","_ref20","updateCampaignState","_ref21","_ref22","_ref23","_ref24","_ref25","newIdentity","newTokens","_x8","MomentUtils","formatDateTime","timestamp","format","date","formatTokenAmount","amountString","pretty","commify","IDENTITY_BASE_ADDR","IDENTITY_FACTORY_ADDR","GAS_LIMIT_DEPLOY_CONTRACT","feeAmountTransfer","feeAmountSetPrivileges","getIdentityBytecode","_getIdentityBytecode","bytecode","getProxyDeployBytecode","privSlot","solc","getIdentityDeployData","_getIdentityDeployData","salt","expectedAddr","generateAddress2","deployIdentityContract","_deployIdentityContract","identityFactoryWithSigner","deploy","withdrawFromIdentity","_withdrawFromIdentity","amountToWithdraw","withdrawTo","getFeesOnly","toWithdraw","fees","mul","toGet","transfer","setIdentityPrivilege","_setIdentityPrivilege","identityInterface","setAddrPrivilege","updateIdentity","resetIdentity","updateWallet","resetWallet","getGrantAccount","walletAddr","coupon","identityData","deployFullIdentity","identityTxData","getFullIdentityTxData","getRegisterExpectedIdentity","onUploadLocalWallet","event","file","reader","onError","target","files","FileReader","onload","ev","onerror","abort","onabort","readAsText","identityWithdraw","ownerIdentities","addrIdentityPrivilege","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","src_actions","common","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","close","setState","inherits","createClass","nextProps","_this2","nextToast","setTimeout","_classnames","_this3","classes","Icon","vertical","horizontal","react_default","createElement","Snackbar","open","autoHideDuration","onClose","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","IconButton","aria-label","color","onClick","Close_default","snackbar","Component","bindActionCreators","withStyles","theme","spacing","border","borderRadius","backgroundColor","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","Translated","assign","bind","Confirm","assertThisInitialized","visible","Dialog","DialogTitle","DialogContent","DialogContentText","children","DialogActions","Button","autoFocus","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","_key","resolveToLocation","handleClick","preventDefault","_this$props","rest","location","staticContext","objectWithoutProperties","toLocation","href","React","withRouter","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","d","Anchor","draggable","rel","style","styles","_appBar","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","mixins","drawerPaper","content","palette","background","padding","marginLeft","contentInner","navigation","paper","version","bottom","borderTopWidth","borderTopColor","divider","borderTopStyle","navList","overflowY","overflowX","navListRoot","secondary","sideNavToolbar","sntPadding","white","primary","light","&:focus","newItemBtn","adxLink","hint","&:hover","bar","actionCount","marginTop","RRSwitch","ListItem","ListItemText","ListItemSecondaryAction","anchor_anchor","Switch_Switch","SideSwitch","checked","pathname","fill","RRListItem","SideNav","nextState","langChanged","sideChanged","locationChanged","transactionsChanged","transactions","bidsAwaitingActionChanged","bidsAwaitingActionCount","isAdvertiser","List","AdexIconTxt","Divider","button","ListItemIcon","Dashboard_default","Fragment","CampaignIcon","Icon_Icon","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","anchorEl","handleButtonClick","handleMenuHide","handleMenu","currentTarget","handleClose","btnStyle","iconStyle","Boolean","leftIcon","leftIconSrc","ButtonMenuMui_ImgIcon","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","demoLogo","RRMenuItem","MenuItem","TopNav","auth","handleDrawerToggle","navTitle","imgSrc","btnMenueLabel","AppBar","Toolbar","ButtonMenuMui","ExpandMore_default","caption","Typography","variant","noWrap","isVideoMedia","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$props2","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","CircularProgress","cursor","@media(max-width:744px)","minWidth","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","crop","x","round","y","getContext","drawImage","toBlob","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","onChange","onRemove","preventBubbling","onCropChange","saveCropped","croppedBlob","cropMode","stopPropagation","nativeEvent","stopImmediatePropagation","UploadInfo","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","droppedImgContainer","react_image_crop_default","imageStyle","imgDropzonePreview","gutterBottom","disabled","Save_default","dist_es","img_Img","marginBottom","grey","textAlign","alignSelf","@media(max-width:768px)","@media(max-width:500px)","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","exact","required","isValid","targetAspect","parseFloat","toFixed","checkExactish","masgArgs","dirty","getVideoSize","video","videoWidth","videoHeight","getImageSize","validateMedia","media","getSize","validateId","NewItemHoc","ValidItemHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","handleChange","onOk","vals","forEach","onChangeReady","errImg","imgPropName","Cancel_default","forms_ImgForm_ImgForm","imgLabel","SaveBtn","dirtyProps","save","validationId","Check_default","fabProgress","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","main","textField","flexWrap","changesLine","changeChip","editIcon","urlRegex","emailRegex","passwordRegex","couponRegex","validUrl","validEmail","validateNumber","numberStr","isNaN","isFinite","validName","errMsgArgs","validQuickAccountCoupon","isEthAddress","RRButton","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","Grid","container","justify","sm","inline","textTransform","IMG_404","AdSizesByValue","ItemsConstants","ItemHoc","dp","slice","returnPropToInitialState","propName","initialItemState","initialItemStateValue","setActiveFields","field","newActiveFields","activeFields","editImg","_activeInput","matchId","currentItemInst","nexItemInst","_this$props4","page_not_found_PageNotFound","isDemo","canEdit","fallbackMediaUrl","titleErr","Prompt","when","containers_ImgDialog_ImgDialog","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","Info_default","Chip","onDelete","xs","md","lg","FormControl","fullWidth","InputLabel","Input","maxLength","onBlur","helperText","endAdornment","InputAdornment","Edit_default","FormHelperText","htmlFor","multiline","rows","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","fabButton","containers_SaveBtn_SaveBtn","isNameValid","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","Dropdown","_this$props$label","source","_this$props$htmlId","htmlId","_this$props$name","_this$props$disabled","_this$props$error","_this$props$fullWidth","formControl","Select","input","selectEmpty","flexItem","rowButton","rwoButtonRoot","row","bottomControls","listRoot","controlsRoot","pageSize","Pagination","page","pages","goToPrevPage","goToNextPage","goToPage","dropdown_Dropdown","getAllPagedValues","ChevronLeft_default","ChevronRight_default","current","INT_STRING","mapFilterProps","_ref$filterProps","filterProps","labelArgs","mapSortProperties","_ref2$sortProps","sortProps","ListWithControls","context","newStateValue","filterByValues","filterProperties","filterByValueFilter","handleChangeRxState","uiStateId","changePageSize","newPageSize","itemsLength","search","searchMatch","regex","RegExp","matchString","exec","filterItems","sortProperty","sortOrder","filterBy","filterArchived","filtered","i","isItem","archived","o","propA","propB","lt","gt","filteredLength","maxPages","ceil","sortProperties","filteredItems","renderItems","renderRows","startAdornment","Search_default","ArrowUpward_default","ArrowDownward_default","goToLastPage","goToFirstPage","rowsView","viewModeId","Rows","handleRowSelect","selected","newSelected","Table","tableHeadRenderer","TableBody","u","rowRenderer","TableCell","TableCell_TableCell","RRTableCell","ItemsList","renderTableHead","selectedItems","selectMode","noActions","TableHead","TableRow","ItemsList_TableCell","renderCampaignTableHead","renderTableRow","onSelect","Checkbox","cellImg","fallbackMediaiUrl","renderActions","renderCampaignTableRow","fundsDistributedRatio","activeFrom","Tooltip","enterDelay","ItemsList_RRButton","_this$props5","collection_Rows","_this$props6","noControls","Lists_ListWithControls","archive","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","toggleFallbackImgEdit","CardContent","TextField","onFocus","MediaCard","BasicProps","ItemCommon_MediaCard","score","CampaignProps","VIEW_MODE","componentDidMount","handleTabChange","tabIndex","CampaignActions","statistics","CampaignModel","Tabs","scrollable","scrollButtons","indicatorColor","textColor","Tab","subheader","ListSubheader","containers_ItemsList_ItemsList","removeFromItem","AdUnitModel","CampaignItem","datepicker","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","hoi","merge","defaults","global","legendList","listStyle","legendSpan","float","legendListItem","fontFamily","chartParent","chartLabel","@media(min-width:650px) and (max-width:1279px)","chartContainer","chartTitle","BidsStatusPie","componentWillUpdate","pieData","forceUpdate","doughnut","createRef","onPieClick","cutoutPercentage","legend","legendCallback","chart","bidsLegend","callbacks","tooltipItem","labels","count","datasets","datasetIndex","totalCount","maintainAspectRatio","chartData","hoverBackgroundColor","borderWidth","chartInstance","generateLegend","react_chartjs_2_es","ref","getElementAtEvent","BidsLegend","legendItems","textDecoration","toggleChartItem","toggleLabelCross","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","infoStatsContainer","infoCard","linkCard","&:hover, &:focus","dashboardCardBody","getChannelName","amount","cpm","PublisherStatistics","_ref$options","dataKeys","defaultValues","labelsWithData","sets","memo","step","labelsKeys","set","commonDsProps","lineTension","pointRadius","pointHitRadius","stacked","linesOptions","scales","xAxes","gridLines","scaleLabel","labelString","yAxes","PublisherStats","_ref$aggregates","hourly","daily","_a$aggr","aggr","_a$channel","channelData","channelHourly","channelDaily","year","month","day","hour","getHourId","dayId","getDayId","mapAggregates","revenue_PublisherStatistics","BidStatesLabels","DashboardStats","goToAccount","mapBidsToStats","bids","initialValue","bid","_amount","mapClosedBidsToStats","_state","Canceled","canceled","Expired","expired","Completed","completed","getLabel","extraLabel","mapData","_ref$action","_ref$active","_ref$closed","closed","_ref$open","PieLabels","PieDataCount","PieDataAmount","tabs","Accepted","activeCount","openCount","DoesNotExist","completedCount","canceledCount","expiredCount","BidsStateChart","bidsStatus","_index","goToBids","InfoStats","DashboardStats_StatsCard","bidsData","bidsStats","side_select_SideSelect","PublisherStats_PublisherStats","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","TargetsList","_ref$targets","targets","subHeader","dense","UnitItem","Unit","closeDialog","adUrl","containers_UnitTargets_UnitTargets","ADVIEW_URL","adviewUrl","origin","protocol","host","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","onCopy","sizes","publisherAddr","whitelistedToken","whitelistedType","randomize","minTargetingScore","iframeStr","integrationLabel","copy","FileCopy_default","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","Slot_IntegrationCode","SlotItem","whiteSpace","Items","SORT_PROPERTIES","Transactions","multiSelectable","selectable","sendingTime","Transactions_TableCell","txMethod","compactCol","reduced","itm","listMode","delete","NewTransactionHoc","TransactionHoc","txId","onSave","manyTxs","resetTransaction","handleSaveRes","saveFn","txs","txResults","stepsId","WithdrawFromIdentityForm","validateAmount","numStr","identityAvailable","validateAddress","withdrawAmount","errAmount","errAddr","PRIV_LEVELS_SRC","SeAddressPrivilegeForm","fullHeight","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","contentStickyTop","TopLoading","FullContentSpinner","WalletAction","IdentityWithdrawPreview","SetPrivilegePreview","TransactionPreviewForm","TransactionPreview","gas","getFeesFn","_this$props2$transact","previewWarnMsgs","_transaction$fees","waitingForWalletAction","FormsCommon_WalletAction","Error_default","Warning_default","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","A700","centralSpinner","imgPreview","boxShadow","shadows","StepperNav","currentPage","innerWidth","StepLabel","mobileStepLabel","MobileStepper","activeStep","steps","mobileStepper","Stepper","alternativeLabel","Step","MaterialStepper","nextStep","canAdvance","canAdvanceNextToPage","canGoBack","setPageIndex","Comp","MaterialUiStepper_StepperNav","stepperNav","pagePaper","pageContent","canReverse","cancelBtn","completeBtn","isValidPage","WithMaterialStepper","withStepper","&$active","WebkitOverflowScrolling","@media(max-width:475px)","& div","& span","MyMaterialStepper","stepper","CancelBtn","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","MaterialUiStepper","TextBtn","Transition","Slide","direction","WithDialog","renderDemoModeAction","paragraph","DEMO_IMAGE","iconButton","textButton","fabVariant","btnLabelArgs","dialogActions","ButtonComponent","btnProps","btnLabel","first","second","TransitionComponent","disableTypography","FormStepsWithDialog","FormSteps","txCommon","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","cancelBtnLabel","darkerBackground","WithdrawTokenFromIdentity","WithdrawFromExchangePage","SetIdentityPrivilege","SeAddressPrivilege","AccountInfo","localWalletDownloadHref","_account$wallet","getRecoveryWalletData","handleExpandChange","expanded","walletJsonData","_account$wallet2","download","SaveAlt_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","actionBtn","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","NewAdUnitHoc","ItemForm","addTo","saved","adUnitPost","schemas","AdUnitBasic","validateAndUpdateType","Joi","validateTitle","validateDescription","validateTargetUrl","prevProps","addUtmParameters","removeFromUrl","newQuery","_i","_Object$entries","entries","addUrlUtmTracking","newTemp","errTitle","errDescription","errTargetUrl","FormControlLabel","control","handleChangeAddUtmLink","getWidAndHightFromType","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","renderInput","inputProps","InputProps","inputRef","inputRoot","renderSuggestion","suggestion","itemProps","highlightedIndex","selectedItem","showSelected","isHighlighted","isSelected","fontWeight","getSuggestions","inputValue","allowCreate","validateCreation","trim","includes","newSuggestion","DownshiftMultiple","handleKeyDown","keycode","newItemValue","handleInputChange","handleDelete","splice","placeholder","openOnClick","allValues","downshift_esm","itemToString","getInputProps","getItemProps","isOpen","inputValue2","selectedItem2","toggleMenu","chip","onKeyDown","square","DownshiftSingle","multiple","autocomplete_DownshiftMultiple","autocomplete_DownshiftSingle","SOURCES","locations","AllCountries","country","genders","Genders","PredefinedTags","custom","SourcesSelect","AdUnitTargeting","handleTargetChange","newValue","newTargets","updateNewItemCollections","newTarget","targetTag","autocomplete_Autocomplete","suggestionMatch","showSuggestionsWhenValueIsSet","Slider","aria-labelledby","valueLabelDisplay","collections","tg","_ref3$target","slider","imgPreviewWrapper","AdUnitFormPreview","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","adUnitsArray","CampaignUnits","handleSelect","validateUnits","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","DateTimePicker_CalendarIconAdor","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","underline","AdvPlatformValidators","fee","PubPlatformValidators","VALIDATOR_SOURCES","AdvValidatorsSrc","PubValidatorsSrc","validateCampaignDates","_ref2$created","validateAndUpdateValidator","newValidators","handleDates","isNumberString","_ref3$maxDeposit","maxDeposit","maxDep","dep","validateAmounts","errDepAmnt","errMin","errFrom","errTo","impressions","getTotalImpressions","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","CampaignFormPreview","AdUnitsTable","NewCampaignFormPreview","adSlotPost","NewAdSlotHoc","validateImage","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Collapse","in","AdSlotTargeting","SlotFallback","AdSlotPreview","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","NewCampaignStepsWithDialog","CampaignFinance","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","AdSlotBasic","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","transactionsCheckTimeout","clearTransactionsTimeout","syncTransactions","_store$getState$persi","rec","transactionHash","checkTransactions","checkTransactionsLoop","store_data_transactions","Dashboard","mobileOpen","toggleDrawerActive","drawerActive","toggleDrawerPinned","drawerPinned","toggleSidebar","sidebarPinned","renderAdUnits","containers_Items_Items","NewItems_NewUnitDialog","renderCampaigns","NewItems_NewCampaignDialog","accent","renderAdSlots","NewItems_NewSlotDialog","AdSlotModel","handleDrawerOpen","handleDrawerClose","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","Switch","locatiom","Route","renderChannels","withTheme","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","buttons","adxVersion","adexLogoTop","logo","noBg","AuthSelect","AuthSelect_RRButton","metamaskBtn","btnLogo","trezorBtn","btnLogoNoTxt","ConnectHoc","Connect","noBackground","Box","auth_select_AuthSelect","IdentityHoc","IdentityForm","componentDidUpdate","registerExpected","ready","waitingExpected","waiting","waitingUpload","buttonProgressWrapper","infoPaper","gutters","IdentityContractAddressStep","validateIdentity","getIdentityContractData","_this$props$identity","emailCheck","code","validateEmail","validateEmailCheck","validateCode","currIdentity","isValidFormat","waitingCheck","checkAccessCode","cpn","exist","used","AuthHoc","Auth","hdWalletAddrPath","hdWalletAddrIdx","chainId","sideSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","checkMetamask","waitingAddrsData","metamaskSigner","waitingMetamaskAction","tabBox","dangerouslySetInnerHTML","__html","METAMASK_DL_IMG","metamaskLAbel","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","alignContent","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","validateContractOwner","identityContractOwner","currOwner","ownerAuth_AuthMethod","IdentityGrantInfoStep","passwordCheck","tosCheck","validatePassword","validatePasswordCheck","validateCoupon","validateTOS","validPassword","checkCoupon","accepted","IdentityGrantDeployStep","initLocalWallet","_ref4$email","_ref4$password","_ref4$mnemonic","createLocalWallet","getIdentity","waitingGrant","grantAmount","IdentityGrantLoginStep","validateWallet","identityPrivileges","getIdentitiesForDropdown","balanceDAI","identityDataSplit","identityContractAddress","_identity$ownerIdenti","useStyles","makeStyles","ExternalConnect","_useState","useState","_useState2","connectType","setConnectType","FullLogin","identity_IdentityContractAddressEthDeploy","stepperWrapper","stepper_MaterialUiStepper_StepperNav","MaterialUiStepper_WithMaterialStepper","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","stepper_MaterialUiStepper","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateGrantIdentity","JustDialog","identity_IdentitySteps","GrantInfo","GrantDeploy","ConnectedGrantLogin","GrantLogin","ConnectedCreateFullIdentity","IdentityContractOwner","IdentityContractAddressEthDeploy","ConnectedLoginStandardIdentity","ConnectedRoot","ADEX_LOGO","PrivateRoute","render","Redirect","Root","checkForMetamaskAccountChange","onMetamaskNetworkChanged","authChanged","contrastText","deepOrange","amber","lime","contrastThreshold","tonalOffset","themeMUI","createMuiTheme","overrides","MuiButton","outlined","MuiTableCell","head","MuiPaper","rounded","onBeforeLift","CssBaselineStyled","@global","html","CssBaseline","globalStyles","App","MuiThemeProvider","es","integration_react","react_router_redux_es","HashRouter","App_Root","toast_Toast","confirm_Confirm","isLocalhost","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","_Object$keys","ReactDOM","components_App_App","getElementById","response","contentType","get","unregister","reload","checkValidServiceWorker","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","Buffer","derive","publicExtendedKey","fromExtendedKey","_ref4$from","_ref4$to","transport","eth","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","_args5","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","__webpack_exports__","payloadEncoded","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","parts","verifyMessage","decode","Module"],"mappings":"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","file":"static/js/main.2d5d5e5f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_UI = 'UPDATE_UI'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign().plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot().plainObj()\r\n\t},\r\n\tcurrentItem: {},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {}\r\n\t},\r\n\tspinners: {},\r\n\tui: {},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {}\r\n\t},\r\n\tnav: {\r\n\t\tside: ''\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {}\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttags: {},\r\n\tidentity: {\r\n\t},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {}\r\n\t},\r\n\twallet: {\r\n\t},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {}\r\n\t}\r\n}\r\n\r\nexport default initialState\r\n","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n\t\t\tvar r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8) // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n\t\t\tvar r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8); // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + (h.substring(prefix.length))\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min);\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[keys.length * Math.random() << 0]];\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[keys.length * Math.random() << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment) ?\r\n\t\t\tinitialMoment.valueOf() : undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || (typeof hex !== 'string')) {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = (h) => {\r\n\t\t\treturn parseInt(\"0x\" + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (!queryParams ||\r\n\t\t\t((typeof queryParams === 'object') &&\r\n\t\t\t\t!Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn '?' + Object.keys(queryParams).map((key) => {\r\n\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(queryParams[key])\r\n\t\t}, '').join('&') || ''\r\n\t}\r\n\r\n\tgetErrMsg = (err) => {\r\n\t\tlet stack = ((err.message || err || '').toString()).split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + (stack[0]).toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = (int) => {\r\n\t\treturn typeof int === 'number' && (int % 1 === 0)\r\n\t}\r\n\r\n\tshuffleArray = (array) => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","import adexTranslations from 'adex-translations'\r\nimport { renderToString } from 'react-dom/server'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\n// TODO: sanitization\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\t\r\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\r\n\t\tlet arg = args[v]\r\n\t\tif (typeof arg === 'object' && arg.component) {\r\n\t\t\treturn renderToString(arg.component)\r\n\t\t} else {\r\n\t\t\treturn arg\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const translate = (val = '', { isProp = false, args = [''] } = {}, language = lang) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + (key.replace(/^_/, ''))\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = translations[language][key] || val\r\n\r\n\tif (args.length && Array.isArray(args)) {\r\n\t\ttranslation = interpolate(translation, args)\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = (lng) => {\r\n\tlang = lng\r\n}","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport tags from './tagsReducer'\r\nimport ethNetwork from './ethNetworkReducer'\r\nimport { routerReducer, LOCATION_CHANGE, CALL_HISTORY_METHOD } from 'react-router-redux'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\t// signin: signin,\r\n\taccount: account,\r\n\titems: filterActions(items, (action => action.type.match(/_ITEM/))),\r\n\t// newItem: filterActions(newItem, (action => action.type.match(/_NEWITEM/))),\r\n\t// spinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\tui: filterActions(ui, [types.UPDATE_UI]),\r\n\t// toasts: toasts,\r\n\t// confirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\t// nav: filterActions(nav, [types.UPDATE_NAV]),\r\n\t// routing: filterActions(routerReducer, [LOCATION_CHANGE, CALL_HISTORY_METHOD]),\r\n\tlanguage: language,\r\n\t// validations: validations,\r\n\tweb3Transactions: web3Transactions,\r\n\ttags: tags,\r\n\tethNetwork: ethNetwork\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tsignin: signin,\r\n\tidentity: identity,\r\n\twallet: wallet,\r\n\t// account: account,\r\n\t// items: filterActions(items, (action => action.type.match(/_ITEM/))),\r\n\tnewItem: filterActions(newItem, (action => action.type.match(/_NEWITEM/))),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\t// ui: filterActions(ui, [types.UPDATE_UI]),\r\n\ttoasts: toasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\trouting: filterActions(routerReducer, [LOCATION_CHANGE, CALL_HISTORY_METHOD]),\r\n\t// language: language,\r\n\tvalidations: validations,\r\n\tnewTransactions: newTransactions\r\n}\r\n","import { CREATE_ACCOUNT, RESET_ACCOUNT, UPDATE_ACCOUNT } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\tcase CREATE_ACCOUNT:\r\n\t\tnewAccount = { ...action.account }\r\n\t\tnewState = newAccount\r\n\t\treturn newState\r\n\tcase RESET_ACCOUNT:\r\n\t\tnewAccount = initialState.account\r\n\t\tnewState = newAccount\r\n\t\treturn newState\r\n\tcase UPDATE_ACCOUNT:\r\n\t\tnewAccount = Base.updateObject({ item: newState, newValues: { ...action.newValues }, objModel: Account })\r\n\t\tnewState = newAccount\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_ITEM, DELETE_ITEM, UPDATE_ITEM, REMOVE_ITEM_FROM_ITEM, ADD_ITEM_TO_ITEM, UPDATE_ALL_ITEMS, RESET_ALL_ITEMS } from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: action.item,\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\tcase ADD_ITEM:\r\n\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t// id is going to be set when it comes here\r\n\t\tnewItem = item\r\n\t\tnewCollection = collection(newState[collectionId], { ...action, item: newItem })\r\n\t\tnewState[collectionId] = newCollection\r\n\t\treturn newState\r\n\r\n\tcase ADD_ITEM_TO_ITEM:\r\n\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\r\n\t\tnewCollection = collection(newState[collectionId], { ...action, item: newItem })\r\n\t\tnewState[collectionId] = newCollection\r\n\t\treturn newState\r\n\r\n\tcase DELETE_ITEM:\r\n\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\tnewState[collectionId] = newCollection\r\n\t\treturn newState\r\n\r\n\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\tnewItem = Item.removeItem(newState[collectionId][item._id], action.toRemove)\r\n\t\tnewCollection = collection(newState[collectionId], { ...action, item: newItem })\r\n\t\tnewState[collectionId] = newCollection\r\n\t\treturn newState\r\n\r\n\tcase UPDATE_ITEM:\r\n\t\tnewItem = item\r\n\t\tnewCollection = collection(newState[collectionId], { ...action, item: newItem })\r\n\t\tnewState[collectionId] = newCollection\r\n\t\treturn newState\r\n\r\n\tcase UPDATE_ALL_ITEMS:\r\n\t\tnewState = { ...state }\r\n\t\tconst newItems = action.items.reduce((items, item, index) => {\r\n\t\t\tconst currentItems = {...items}\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\treturn currentItems\r\n\t\t}, newState[action.itemType])\r\n\r\n\t\tnewState[action.itemType] = newItems\r\n\t\treturn newState\r\n\tcase RESET_ALL_ITEMS:\r\n\t\tnewState = { ...initialState.items }\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_UI } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\tcase UPDATE_UI:\r\n\t\tnewState = { ...state }\r\n\t\tif (action.category) {\r\n\t\t\tnewState[action.category] = { ...newState[action.category]}\r\n\t\t\tnewState[action.category][action.item] = action.value\r\n\t\t} else {\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t}\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\tcase CHANGE_LANGUAGE:\r\n\t\tlet newLang = action.lang || state\r\n\t\tsetLang(newLang)\r\n\t\treturn newLang\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_WEB3_TRANSACTION, UPDATE_WEB3_TRANSACTION, RESET_WEB3_TRANSACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(state = initialState.web3Transactions, action) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({pTxs, newTx}) => {\r\n\t\tif(newTx.status === 0 && pTxs.indexOf(newTx.hash)){\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t}else {\r\n\t\t\tpTxs = pTxs.filter((tx)=> tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif(!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = {...newState[action.addr] || {}}\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\tcase ADD_WEB3_TRANSACTION:\r\n\t\tnewTx = { ...action.value }  \r\n\t\tnewAddrTxs[action.tx] = newTx\r\n\t\tnewAddrTxs.pendingTxs = updatePendingTxs({pTxs: pendingTxs, newTx: newTx})\r\n\t\tnewState[action.addr] = newAddrTxs\r\n\t\treturn newState\r\n\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\tnewAddrTxs[action.tx] = newTx\r\n\t\tnewAddrTxs.pendingTxs = updatePendingTxs({pTxs: pendingTxs, newTx: newTx})\r\n\t\tnewState[action.addr] = newAddrTxs\r\n\t\treturn newState\r\n\tcase RESET_WEB3_TRANSACTION:\r\n\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\tnewAddrTxs[action.tx] = newTx\r\n\t\tnewAddrTxs.pendingTxs = updatePendingTxs({pTxs: pendingTxs, newTx: {txHash: action.tx}})\r\n\t\tnewState[action.tx] = newTx\r\n\t\treturn newState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_TAGS:\r\n\t\tnewState = {...state, ...action.tags}\r\n\t\treturn newState\r\n\tcase ADD_NEW_TAG:\r\n\t\tnewState = {...state}\r\n\t\tnewState[action.tag] = action.tag\r\n\t\treturn newState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_GAS_DATA:\r\n\t\tnewState = {...state}\r\n\t\tnewState.gasData = {...action.gasData}\r\n\t\treturn newState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_SIGNIN:\r\n\t\tnewSignin = { ...newState }\r\n\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t} else {\r\n\t\t\tnewSignin[action.prop] = action.value\r\n\t\t}\r\n\r\n\t\tnewState = newSignin\r\n\r\n\t\treturn newState\r\n\r\n\tcase RESET_SIGNIN:\r\n\t\tnewSignin = { ...initialState.signin }\r\n\t\tnewState = newSignin\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\r\n\tlet newState\r\n\tlet newidentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_IDENTITY:\r\n\t\tnewidentity = newState\r\n\t\tif (Array.isArray(newidentity[action.prop])) {\r\n\t\t\tnewidentity[action.prop] = [...action.value]\r\n\t\t} else {\r\n\t\t\tnewidentity[action.prop] = action.value\r\n\t\t}\r\n\r\n\t\tnewState = newidentity\r\n\r\n\t\treturn newState\r\n\r\n\tcase RESET_IDENTITY:\r\n\t\tnewidentity = { ...initialState.identity }\r\n\t\tnewState = newidentity\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_WALLET:\r\n\t\tnewWallet = newState\r\n\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t} else {\r\n\t\t\tnewWallet[action.prop] = action.value\r\n\t\t}\r\n\r\n\t\tnewState = newWallet\r\n\r\n\t\treturn newState\r\n\r\n\tcase RESET_WALLET:\r\n\t\tnewWallet = { ...initialState.wallet }\r\n\t\tnewState = newWallet\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}","import { UPDATE_NEW_ITEM, RESET_NEW_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_NEW_ITEM:\r\n\t\tnewState = { ...state }\r\n\t\tnewItem = { ...action.item }\r\n\t\tnewState[action.itemType] = newItem\r\n\r\n\t\treturn newState\r\n\r\n\tcase RESET_NEW_ITEM:\r\n\t\tnewState = { ...state }\r\n\t\tnewItem = { ...initialState.newItem[action.item] }\r\n\t\tnewState[action.item] = newItem\r\n\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_SPINNER:\r\n\t\tnewState[action.spinner] = action.value\r\n\r\n\t\treturn newState\r\n\tcase UPDATE_ITEM:\r\n\t\tnewState['update' + action.item._id] = false\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { items as ItemsConstants } from 'adex-constants'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\t// const toasts = (state = [], action) => {\r\n\t// \tlet newToast = action\r\n\t// \tnewToast.id = Helper.getGuid()\r\n\t// \tnewToast.added = Date.now()\r\n\t// \t// Force to re render the same toast instead to satay at the queue\r\n\t// \tif (state[0] && (newToast.label === state[0].label)) {\r\n\t// \t\treturn [newToast, ...(state.slice(0, 0))]\r\n\t// \t} else {\r\n\t// \t\treturn [newToast, ...state]\r\n\t// \t}\r\n\t// }\r\n\r\n\tswitch (action.type) {\r\n\tcase ADD_TOAST:\r\n\t\tnewToast = { ...action.toast }\r\n\t\tnewToast.id = Helper.getGuid()\r\n\t\tnewToast.added = Date.now()\r\n\t\tnewState = [newToast, ...state,]\r\n\t\treturn newState\r\n\r\n\tcase REMOVE_TOAST:\r\n\t\tnewState = state.filter((t) => t.id !== action.toast)\r\n\t\treturn newState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\tcase CONFIRM_ACTION:\r\n\t\tnewState = { ...state }\r\n\t\tnewState.data = { ...action.confirm.data }\r\n\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\tnewState.active = true\r\n\r\n\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\tnewState.calledOn = Date.now()\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_NAV:\r\n\t\tnewState = { ...state }\r\n\t\tnewState[action.item] = action.value\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_ITEM_VALIDATION, RESET_ITEM_VALIDATION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(state = initialState.validations, action) {\r\n\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_ITEM_VALIDATION:\r\n\t\tnewState = { ...state }\r\n\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\tnewState[action.item] = newErrors\r\n\r\n\t\treturn newState\r\n\r\n\tcase RESET_ITEM_VALIDATION:\r\n\t\tnewState = { ...state }\r\n\t\tnewErrors = { ...newState[action.item] }\r\n\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\tdelete newErrors[action.key]\r\n\t\t} else if (newErrors && !action.key) {\r\n\t\t\tnewErrors = {}\r\n\t\t}\r\n\r\n\t\tnewState[action.item] = newErrors\r\n\r\n\t\treturn newState\r\n\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NEW_TRANSACTION, RESET_NEW_TRANSACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(state = initialState.newTransactions, action) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\tcase UPDATE_NEW_TRANSACTION:\r\n\t\tnewTx = { ...(newState[action.tx] || initialState.newTransactions.default) }\r\n\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t// console.log('newTx', newTx)\r\n\t\tnewState[action.tx] = newTx\r\n\t\treturn newState\r\n\tcase RESET_NEW_TRANSACTION:\r\n\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\tnewState[action.tx] = newTx\r\n\t\treturn newState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n","import createHistory from 'history/createBrowserHistory'\r\n\r\nconst history = createHistory()\r\n\r\nexport default history\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware } from 'react-router-redux'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/es/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst configStorage = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(configStorage, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\t// logger\r\n\t]\r\n\r\n\tlet store = createStore(rootReducer, initialState, compose(\r\n\t\tapplyMiddleware(...middlewares)\r\n\t))\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger\r\n\t];\r\n\r\n\tconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\r\n\tconst store = createStore(rootReducer, initialState, composeEnhancers(\r\n\t\tapplyMiddleware(...middlewares)\r\n\t)\r\n\t);\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default; // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore = process.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from 'store/configureStore'\r\nconst { store } = configureStore\r\n\r\nexport const execute = (action) => {\r\n\taction(store.dispatch)\r\n}\r\n","// import configureStore from 'store/configureStore'\r\nimport actions from 'actions'\r\nimport configureStore from 'store/configureStore'\r\nconst { store } = configureStore\r\n\r\nexport const logOut = () => {\r\n\tactions.execute(actions.resetAccount())\r\n\tactions.execute(actions.resetAllItems())\r\n\tactions.execute(actions.resetAllBids())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn store.getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn store.getState().persist.account\r\n}","import requester from './requester'\r\n\r\nexport default requester","import Helper from 'helpers/miscHelpers'\r\nimport { isDemoMode, getAccount } from 'services/store-data/auth'\r\n\r\nclass AdexNodeRequester {\r\n\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst acc = getAccount()\r\n\t\treturn {\r\n\t\t\t'X-User-Address': acc._addr,\r\n\t\t\t'X-User-Signature': authSig || acc._authSig,\r\n\t\t\t'X-Auth-Token': acc._authToken,\r\n\t\t}\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({ route = '', queryParams = {}, method = 'GET', body, headers = {}, userAddr, authSig = '', authToken }) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tlet query = Helper.getQuery(qp)\r\n\t\tlet url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tlet hdrs = {\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers\r\n\t\t}\r\n\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n\r\n","import Requester from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res\r\n\t\t.text()\r\n\t\t.then(text => {\r\n\t\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\t\tlogOut()\r\n\t\t\t}\r\n\t\t\tif (!dontThrow) {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\ttranslate('SERVICE_ERROR_MSG',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tres.url,\r\n\t\t\t\t\t\t\t\tres.status,\r\n\t\t\t\t\t\t\t\tres.statusText,\r\n\t\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}))\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'auth/',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tidentity,\r\n\t\t\tmode,\r\n\t\t\tsignature,\r\n\t\t\tauthToken,\r\n\t\t\thash,\r\n\t\t\ttypedData,\r\n\t\t\tsignerAddress\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'session',\r\n\t\tmethod: 'GET',\r\n\t\tauthSig,\r\n\t\tskipErrToast\r\n\t}).then((res) => processResponse(res, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester.fetch({\r\n\t\troute: 'media',\r\n\t\tmethod: 'POST',\r\n\t\tbody: formData,\r\n\t\tauthSig\r\n\t}).then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = (item) => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'units',\r\n\t\tmethod: 'GET',\r\n\t\tqueryParams: { identity }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'units',\r\n\t\tmethod: 'POST',\r\n\t\tbody: convertItemToJSON(unit),\r\n\t\tauthSig,\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, authSig }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'units',\r\n\t\tmethod: 'PUT',\r\n\t\tbody: convertItemToJSON(unit),\r\n\t\tauthSig,\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'slots',\r\n\t\tmethod: 'GET',\r\n\t\tqueryParams: { identity }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'slots',\r\n\t\tmethod: 'POST',\r\n\t\tbody: convertItemToJSON(slot),\r\n\t\tauthSig,\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, authSig }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'slots',\r\n\t\tmethod: 'PUT',\r\n\t\tbody: convertItemToJSON(slot),\r\n\t\tauthSig,\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({ authSig }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'campaigns/by-owner',\r\n\t\tmethod: 'GET',\r\n\t\tauthSig\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const getAllCampaigns = (all) => {\r\n\tconst queryParams = all ? {\r\n\t\tall: true\r\n\t} : {}\r\n\r\n\treturn requester.fetch({\r\n\t\troute: 'campaigns',\r\n\t\tmethod: 'GET',\r\n\t\tqueryParams\r\n\t}).then(processResponse)\r\n}","import * as types from 'constants/actionTypes'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateUi(item, value, category) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({ type, action, label = '', timeout = false, unclosable, anchorOrigin, top }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: { type, action, label, timeout, unclosable, anchorOrigin, top }\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(onConfirm, onCancel,\r\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {}) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem: item,\r\n\t\t\terrors: newErrors\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem: item,\r\n\t\t\tkey: key\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({ addr = '', sig, mode, expiryTime, identity = 'notset' }) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem('addr-' + mode + '-' + addr.toLowerCase() + '-' + identity, sig + '-' + expiryTime)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem('addr-' + mode + '-' + addr.toLowerCase() + '-' + identity)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || (parseInt(time, 10) <= Date.now())) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}","import Requester from 'services/requester'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = (res) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res\r\n\t\t.text()\r\n\t\t.then(text => {\r\n\t\t\tthrow new Error(\r\n\t\t\t\ttranslate('SERVICE_ERROR_MSG',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tres.url,\r\n\t\t\t\t\t\t\tres.status,\r\n\t\t\t\t\t\t\tres.statusText,\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}))\r\n\t\t})\r\n}\r\n\r\nexport const identityToEmail = ({ identity, privileges, mail }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/info-mail',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tidentity,\r\n\t\t\tprivileges,\r\n\t\t\tmail\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const grantAccount = ({ ownerAddr, mail, couponCode }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/grant-account',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tmail,\r\n\t\t\townerAddr,\r\n\t\t\tcouponCode\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const checkCoupon = ({ coupon }) => {\r\n\treturn requester.fetch({\r\n\t\troute: `identity/valid-coupon/${coupon}`,\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const checkAccessCode = ({ code }) => {\r\n\treturn requester.fetch({\r\n\t\troute: `identity/valid-accesscode/${code}`,\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester.fetch({\r\n\t\troute: `identity/owners/${owner}`,\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const identityBytecode = ({ owner, privLevel, identityBaseAddr }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/identity-bytecode',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\towner,\r\n\t\t\tprivLevel,\r\n\t\t\tidentityBaseAddr\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const registerFullIdentity = ({\r\n\ttxHash, identity, privileges, mail }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/register-identity',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\ttxHash,\r\n\t\t\tidentity,\r\n\t\t\tprivileges,\r\n\t\t\tmail\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const sendOpenChannel = ({ txnsRaw, signatures, channel, identityAddr }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'channel/open',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tchannel,\r\n\t\t\tidentityAddr\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const registerExpectedIdentity = ({ owner, mail }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/register-expected',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\towner,\r\n\t\t\tmail\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const relayerConfig = () => {\r\n\treturn requester.fetch({\r\n\t\troute: 'relayer/cfg',\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/execute',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const setAddrPriv = ({ txnsRaw, signatures, identityAddr, privLevel, setAddr }) => {\r\n\treturn requester.fetch({\r\n\t\troute: 'identity/set-addr-privilege',\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}).then(processResponse)\r\n}\r\n\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\t\t\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi\r\n\t}\r\n}\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes\r\n\t.map(type => {\r\n\t\treturn {\r\n\t\t\tvalue: type,\r\n\t\t\tlabel: type.split('_')[1]\r\n\t\t}\r\n\t})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' }\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: { label: '_state', labelIsProp: true, values: Object.keys(BID_STATES).map((key) => { return { value: BID_STATES[key].id, label: BID_STATES[key].label } }) },\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS }\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\t'type': { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 }\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed'\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t]\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\t'utm_source': 'ADEX',\r\n\t'utm_medium': 'CPM',\r\n\t'utm_campaign': 'none',\r\n\t'utm_content': 'none',\r\n}","import { ethers } from 'ethers'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nconst { AdExCore, Identity, DAI, IdentityFactory } = contracts\r\nconst localWeb3 = async () => {\r\n\tconst provider = new ethers.providers.JsonRpcProvider(process.env.WEB3_NODE_ADDR)\r\n\tconst adexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\tconst dai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\tconst identityFactory = new ethers.Contract(\r\n\t\tIdentityFactory.address,\r\n\t\tIdentityFactory.abi,\r\n\t\tprovider)\r\n\r\n\tconst results = {\r\n\t\tprovider: provider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: dai,\r\n\t\tIdentityFactory: identityFactory\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\r\n\twindow.addEventListener('load', () => {\r\n\t\tconst ethereum = window.ethereum\r\n\t\tconst web3 = window.web3\r\n\t\treturn resolve({\r\n\t\t\tethereum,\r\n\t\t\tweb3\r\n\t\t})\r\n\t})\r\n})\r\n\r\nconst getInjectedWeb3 = async () => {\r\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\r\n\tlet provider = null\r\n\t// let mode = null // metamask, and as some point trezor, ledger, ...\r\n\tlet adexCore = null\r\n\tlet dai = null\r\n\tlet identityFactory = null\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tconst enabled = await ethereum.enable()\r\n\t\t\tconsole.log('Injected ethereum detected.', enabled)\r\n\r\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\r\n\t\t\tadexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\t\t\tdai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\t\t\tidentityFactory = new ethers.Contract(\r\n\t\t\t\tIdentityFactory.address,\r\n\t\t\t\tIdentityFactory.abi,\r\n\t\t\t\tprovider)\r\n\t\t\tconst results = {\r\n\t\t\t\tprovider: provider,\r\n\t\t\t\tAdExCore: adexCore,\r\n\t\t\t\tIdentity: Identity,\r\n\t\t\t\tDai: dai,\r\n\t\t\t\tIdentityFactory: identityFactory\r\n\t\t\t}\r\n\r\n\t\t\treturn results\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n\t// Legacy dapp browsers...\r\n\telse if (web3) {\r\n\t\tprovider = new ethers.providers.Web3Provider(window.web3.currentProvider)\r\n\t\tadexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\t\tdai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\t\tidentityFactory = new ethers.Contract(\r\n\t\t\tIdentityFactory.address,\r\n\t\t\tIdentityFactory.abi,\r\n\t\t\tprovider)\r\n\r\n\t\tconsole.log('Injected legacy web3 detected.')\r\n\t\tconst results = {\r\n\t\t\tprovider: provider,\r\n\t\t\tAdExCore: adexCore,\r\n\t\t\tIdentity: Identity,\r\n\t\t\tDai: dai,\r\n\t\t\tIdentityFactory: identityFactory\r\n\t\t}\r\n\r\n\t\treturn results\r\n\t} else {\r\n\t\tconsole.error('Non-Ethereum browser detected.')\r\n\t\tthrow new Error('Non-Ethereum browser detected.')\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3 = new Promise(function (resolve, reject) {\r\n\tconsole.log('getLocalWeb3')\r\n\tresolve(localWeb3())\r\n})\r\n\r\nconst getEthers = async (mode) => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t*   and this results in Trezor popup block by the browser\r\n\t*/\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst injected = await getInjectedWeb3()\r\n\t\treturn injected\r\n\t} else {\r\n\t\treturn getLocalWeb3\r\n\t}\r\n}\r\n\r\nexport {\r\n\tgetEthers\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network'\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() { return this._path }\r\n\tget provider() { return this._provider }\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect\r\n\t\t\t.ethereumGetAddress(this.getAddsParams({ from, to }))\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async (params) => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect\r\n\t\t\t.ethereumSignTransaction({\r\n\t\t\t\tpath: this.path,\r\n\t\t\t\ttransaction: txProps\r\n\t\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v)\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(\r\n\t\t\t\ttxProps,\r\n\t\t\t\tsignature\r\n\t\t\t)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async (params) => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect\r\n\t\t\t.ethereumSignMessage({\r\n\t\t\t\tpath: this.path,\r\n\t\t\t\tmessage: message,\r\n\t\t\t\thex: !!opts.hex\r\n\t\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t* NOTE: SignatureTypes.GETH\r\n\t\t\t\t* Current TrezorConnect window does not\r\n\t\t\t\t* accept device with old firmware \r\n\t\t\t\t*/\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = (provider) => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}","// Nodejs encryption with CTR\r\nvar crypto = require('crypto'),\r\n\talgorithm = 'aes-256-ctr',\r\n\tdefault_password = 'kaipahH5' // temp\r\n\r\nexport const encrypt = (text, password = default_password) => {\r\n\tif (!text) return ''\r\n\tvar cipher = crypto.createCipher(algorithm, password)\r\n\tvar crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decrypt = (text, password = default_password) => {\r\n\tif (!text) return ''\r\n\tvar decipher = crypto.createDecipher(algorithm, password)\r\n\tvar dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}","export const loadFromLocalStorage = (key) => {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}","import { ethers, utils } from 'ethers'\r\nimport { encrypt, decrypt } from 'services/crypto/crypto'\r\nimport { loadFromLocalStorage, saveToLocalStorage } from 'helpers/localStorageHelpers'\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\treturn {\r\n\t\tmnemonic,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.path\r\n\t}\r\n}\r\n\r\nfunction encrKey({ email, password }) {\r\n\tconst key = encrypt(email, password)\r\n\treturn key\r\n}\r\n\r\nfunction encrData({ email, password, data }) {\r\n\tconst encr = encrypt(JSON.stringify(data), email + password)\r\n\treturn encr\r\n}\r\n\r\nfunction decrData({ email, password, data }) {\r\n\tconst decr = JSON.parse(decrypt(data, email + password))\r\n\treturn decr\r\n}\r\n\r\nexport function createLocalWallet({ email = '', password = '', mnemonic = '' }) {\r\n\tconst walletData = generateWallet(mnemonic)\r\n\tconst key = encrKey({ email, password })\r\n\tconst data = encrData({ data: walletData, email, password })\r\n\tsaveToLocalStorage({ data }, key)\r\n\r\n\treturn walletData\r\n}\r\n\r\nexport function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '' }) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('Invalid data key')\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('Wallet not found')\r\n\t}\r\n\r\n\tconst data = encrData({ data: dataValue, email, password })\r\n\twallet[dataKey] = data\r\n\t\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport function getRecoveryWalletData({email, password}) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet\r\n\t}\r\n}\r\n\r\nexport function getLocalWallet({ email, password }) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('email and password are required')\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tconst data = Object.keys(wallet)\r\n\t\t\t.reduce((props, key) => {\r\n\t\t\t\tprops[key] = decrData({\r\n\t\t\t\t\tdata: wallet[key],\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword\r\n\t\t\t\t})\r\n\r\n\t\t\t\treturn props\r\n\t\t\t}, {})\r\n\r\n\t\treturn data\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\r\n\t\tconst walletData = getLocalWallet({\r\n\t\t\temail: opts.email,\r\n\t\t\tpassword: opts.password\r\n\t\t})\r\n\r\n\t\tthis._wallet = new Wallet(\r\n\t\t\twalletData.data.privateKey,\r\n\t\t\tprovider\r\n\t\t)\r\n\t}\r\n\r\n\tget provider() { return this._provider }\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._wallet.address\r\n\t}\r\n\r\n\tsignTx = async (params) => {\r\n\t\tconst signetTx = this._wallet.sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async (params) => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider\r\n\t\t\t.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._wallet\r\n\t\t\t.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: this._wallet.address\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = (provider) => {\r\n\t\treturn new LocalSigner(\r\n\t\t\tprovider,\r\n\t\t\t{\r\n\t\t\t\temail: this.email,\r\n\t\t\t\tpassword: this.password\r\n\t\t\t})\r\n\t}\r\n}","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() { return this._provider }\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async (params) => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer\r\n\t\t\t.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress()\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = (provider) => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function (dispatch) {\r\n\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr\r\n\t\t})\r\n\t}\r\n}","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { translate } from 'services/translations/translations'\r\nimport { execute } from 'actions/common'\r\nimport {\r\n\t// addWeb3Transaction,\r\n\tupdateWeb3Transaction\r\n} from 'actions/transactionActions'\r\nimport { addToast } from 'actions/uiActions'\r\nimport { updateAccount } from 'actions/accountActions'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\n/** \r\n * NOTE: DO NOT CALL WITH CONNECTED SIGNER\r\n * Will fill missing props gasLimit, nonce, chainId, etc..  * \r\n * */\r\nexport async function prepareTx({ tx, provider, sender, gasLimit, gasPrice }) {\r\n\tconst pTx = await utils.populateTransaction(\r\n\t\ttx,\r\n\t\tprovider,\r\n\t\tsender\r\n\t)\r\n\r\n\t// TO work with all signers\r\n\tpTx.gasLimit = gasLimit || pTx.gasLimit.toHexString()\r\n\tpTx.gasPrice = gasPrice || pTx.gasPrice.toHexString()\r\n\tpTx.value = pTx.value || utils.hexlify(0)\r\n\tpTx.nonce = utils.hexlify(pTx.nonce)\r\n\r\n\treturn pTx\r\n}\r\n\r\nexport async function processTx({\r\n\ttx,\r\n\ttxSuccessData,\r\n\tfrom,\r\n\tfromType,\r\n\taccount\r\n}) {\r\n\ttry {\r\n\t\tconst txRes = await tx\r\n\t\t// const txData = {\r\n\t\t// \t// id: txRes.hash,\r\n\t\t// \thash: txRes.hash,\r\n\t\t// \tnonce: txRes.nonce,\r\n\t\t// \t...txSuccessData,\r\n\t\t// \tstatus: 'pending',\r\n\t\t// \tsendingTime: Date.now(),\r\n\t\t// \ttxData: txRes\r\n\t\t// }\r\n\r\n\t\t// execute(\r\n\t\t// \taddWeb3Transaction({ tx: txData, addr: from })\r\n\t\t// )\r\n\t\texecute(\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\taction: 'X',\r\n\t\t\t\tlabel: translate(\r\n\t\t\t\t\t'TRANSACTION_SENT_MSG',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\targs: [txRes.hash]\r\n\t\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\tconst settings = { ...account.settings }\r\n\t\tsettings[fromType] = { ...settings[fromType] } || {}\r\n\t\tsettings[fromType].nextNonce = txRes.nonce + 1\r\n\t\texecute(\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { settings }\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\t// TODO: catch and toast\r\n\t\tconst receipt = await txRes.wait()\r\n\t\texecute(\r\n\t\t\tupdateWeb3Transaction({\r\n\t\t\t\ttx: txRes.hash,\r\n\t\t\t\tkey: 'status',\r\n\t\t\t\tvalue: ((receipt.status === 1) || (receipt.status === '0x1') || (receipt.status === true))\r\n\t\t\t\t\t? 'success'\r\n\t\t\t\t\t: 'failed',\r\n\t\t\t\taddr: from\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t} catch (err) {\r\n\t\tconsole.error(err)\r\n\t\texecute(\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\taction: 'X',\r\n\t\t\t\tlabel: translate(\r\n\t\t\t\t\t'TRANSACTION_ERR_MSG',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\targs: [err]\r\n\t\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.LEDGER.name) {\r\n\r\n\t\tconst signer = new LedgerSigner(provider, { path })\r\n\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.GRANT.name) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'} \r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map((entry) => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\r\n\tconst schema = typedData.map((entry) => { return utils.toUtf8Bytes(entry.type + ' ' + entry.name) })\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\r\n\tconst hash = utils.keccak256(schemaHash, valuesHash)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = (Math.floor(Math.random() * Number.MAX_SAFE_INTEGER))\r\n\t\t.toString()\r\n\tconst typedData = [\r\n\t\t{ type: 'uint', name: 'Auth token', value: authToken }\r\n\t]\r\n\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx =>\r\n\t\tprovider.getTransactionReceipt(tx)\r\n\t)\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer, }) {\r\n\tconst sig = await signer\r\n\t\t.signMessage(new Transaction(tx).hashHex(), { hex: true })\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer, }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}","import Requester from 'services/requester'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = new Requester({ baseUrl: leader.url })\r\n\tconst followerRequester = new Requester({ baseUrl: follower.url })\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower }\r\n\t}\r\n}\r\n\r\nconst processResponse = (res) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res\r\n\t\t.text()\r\n\t\t.then(text => {\r\n\t\t\tthrow new Error(\r\n\t\t\t\ttranslate('SERVICE_ERROR_MSG',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tres.url,\r\n\t\t\t\t\t\t\tres.status,\r\n\t\t\t\t\t\t\tres.statusText,\r\n\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}))\r\n\t\t})\r\n}\r\n\r\nconst getAuthToken = async ({ account, validator }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validator.id]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validator.id,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000)\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ account, campaign, options }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getAuthToken({ account, validator: follower.validator })\r\n\tconst leaderAuthToken = await getAuthToken({ account, validator: leader.validator })\r\n\tconst followerResult = await follower.requester.fetch({\r\n\t\t...options,\r\n\t\theaders: { ...options.headers, authorization: BEARER_PREFIX + followerAuthToken }\r\n\t}).then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester.fetch({\r\n\t\t...options,\r\n\t\theaders: { ...options.headers, authorization: BEARER_PREFIX + leaderAuthToken }\r\n\t}).then(processResponse)\r\n\r\n\r\n\treturn {\r\n\t\tauthTokens: {\r\n\t\t\t[follower.validator.id]: followerAuthToken,\r\n\t\t\t[leader.validator.id]: leaderAuthToken,\r\n\t\t},\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester.fetch({\r\n\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ account, campaign }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' }\r\n\t}\r\n\r\n\treturn sendMessage({ account, campaign, options })\r\n}\r\n\r\nexport const eventsAggregates = ({ agrArgs, campaign }) => {\r\n\tconst { follower } = getRequesters({ campaign })\r\n\r\n\treturn follower.requester.fetch({\r\n\t\troute: `channel/${campaign.id}/events-aggregates/${agrArgs}`,\r\n\t\tmethod: 'GET'\r\n\t}).then(processResponse)\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { utils, Contract } from 'ethers'\r\nimport { getAllCampaigns } from 'services/adex-market/actions'\r\nimport { lastApprovedState, eventsAggregates } from 'services/adex-validator/actions'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { Channel, MerkleTree } from 'adex-protocol-eth/js'\r\n\r\nconst { formatEther, formatUnits } = utils\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport async function getAddressBalances({ address, authType }) {\r\n\tconst {\r\n\t\tprovider,\r\n\t\tDai\r\n\t} = await getEthers(authType)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tDai.balanceOf(address.address)\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: balances[0].toString(),\r\n\t\tbalanceDai: balances[1].toString()\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({ account }) {\r\n\tconst { wallet, identity } = account\r\n\tconst {\r\n\t\tprovider,\r\n\t\tDai,\r\n\t\tIdentity\r\n\t} = await getEthers(wallet.authType)\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = new Contract(identity.address, Identity.abi, provider)\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(wallet.address),\r\n\t\tDai.balanceOf(wallet.address),\r\n\t\tDai.balanceOf(identity.address),\r\n\t\tprivilegesAction,\r\n\t\tgetValidatorData({ wallet, identity })\r\n\t]\r\n\r\n\tconst [\r\n\t\twalletBalanceEth,\r\n\t\twalletBalanceDai,\r\n\t\tidentityBalanceDai,\r\n\t\twalletPrivileges,\r\n\t\tvalidatorsData\r\n\t]\r\n\t\t= await Promise.all(calls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => { return {} })\r\n\t\t))\r\n\r\n\tconst { outstandingBalanceDai = 0, aggregates = [] } = validatorsData\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\twalletBalanceEth,\r\n\t\twalletBalanceDai,\r\n\t\tidentityBalanceDai,\r\n\t\twalletPrivileges,\r\n\t\toutstandingBalanceDai,\r\n\t\ttotalIdentityBalanceDai: identityBalanceDai.add(outstandingBalanceDai),\r\n\t\taggregates\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\twalletBalanceEth: formatEther(walletBalanceEth),\r\n\t\twalletBalanceDai: formatUnits(walletBalanceDai, 18),\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceDai: formatUnits(identityBalanceDai, 18),\r\n\t\toutstandingBalanceDai: formatUnits(outstandingBalanceDai, 18),\r\n\t\ttotalIdentityBalanceDai: formatUnits(raw.totalIdentityBalanceDai, 18),\r\n\t\taggregates\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted\r\n\t}\r\n}\r\n\r\nasync function getAllChannels() {\r\n\tconst channels = await getAllCampaigns(true)\r\n\treturn Promise.all(channels.map(async channel => {\r\n\t\tconst { lastApproved } = await lastApprovedState({ campaign: channel })\r\n\r\n\t\tif (lastApproved) {\r\n\t\t\tconst balancesTree = lastApproved.newState.msg.balances\r\n\t\t\tconst allLeafs = Object.keys(balancesTree).map(k => Channel.getBalanceLeaf(k, balancesTree[k]))\r\n\t\t\tconst mTree = new MerkleTree(allLeafs)\r\n\t\t\treturn { lastApproved, mTree, channel }\r\n\t\t} else {\r\n\t\t\treturn { lastApproved: null, mTree: null, channel }\r\n\t\t}\r\n\t}))\r\n}\r\n\r\nasync function getAllChannelsWhereHasBalance(allActive, addr) {\r\n\treturn allActive\r\n\t\t.filter(({ lastApproved }) => lastApproved && !!lastApproved.newState.msg.balances[addr])\r\n\t\t.map(({ channel, lastApproved }) => ({ channel, balance: lastApproved.newState.msg.balances[addr] }))\r\n}\r\n\r\nasync function getOutstandingBalance({ wallet, address, withBalance }) {\r\n\tconst { authType } = wallet\r\n\tconst { AdExCore } = await getEthers(authType)\r\n\r\n\tconst withOutstanding = await Promise.all(withBalance.map(async ({ channel, balance }) => {\r\n\t\tconst outstanding = bigNumberify(balance).sub(await AdExCore.withdrawnPerUser(channel.id, address))\r\n\t\treturn { channel, outstanding }\r\n\t}))\r\n\r\n\tconst totalOutstanding = withOutstanding.reduce((sum, ch) => {\r\n\t\tconst currentSum = sum.add(ch.outstanding)\r\n\t\treturn currentSum\r\n\t}, bigNumberify('0'))\r\n\r\n\treturn totalOutstanding || bigNumberify('0')\r\n}\r\n\r\nasync function getIdentityStatistics({ withBalance, address }) {\r\n\tconst allCalls = withBalance.map(async ({ channel }) => {\r\n\t\tconst agrArgs = `${address}?timeframe=hour`\r\n\t\tconst stats = await eventsAggregates({ agrArgs, campaign: channel })\r\n\t\treturn stats\r\n\t})\r\n\r\n\tconst aggregates = await Promise.all(allCalls.map(ag =>\r\n\t\tag\r\n\t\t\t.then(res => res)\r\n\t\t\t.catch(e => { return {} })\r\n\t))\r\n\treturn aggregates\r\n}\r\n\r\nasync function getAllChannelsForIdentity({ address }) {\r\n\tconst allActive = await getAllChannels()\r\n\tconst withBalance = await getAllChannelsWhereHasBalance(allActive, address)\r\n\r\n\treturn withBalance\r\n}\r\n\r\nasync function getValidatorData({ wallet, identity }) {\r\n\tconst { address } = identity\r\n\tconst withBalance = await getAllChannelsForIdentity({ address })\r\n\tconst outstandingBalanceDai = await getOutstandingBalance({ wallet, address, withBalance })\r\n\tconst aggregates = await getIdentityStatistics({ withBalance, address })\r\n\r\n\treturn {\r\n\t\toutstandingBalanceDai,\r\n\t\taggregates\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport { relayerConfig } from 'services/adex-relayer/actions'\r\nimport { updateSpinner } from './uiActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport { getAccountStats } from 'services/smart-contracts/actions/stats'\r\nimport { addToast } from './uiActions'\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta: meta,\r\n\t\t\tnewValues: newValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGasData({ gasData }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GAS_DATA,\r\n\t\t\tgasData: gasData\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function (dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst stats = await getAccountStats({ account })\r\n\r\n\t\t\tupdateAccount({ newValues: { stats } })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({ wallet, identity, email }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('creating-session', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature = getSig({\r\n\t\t\t\taddr: newWallet.address,\r\n\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\tidentity: identity.address\r\n\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession = !!sessionSignature\r\n\t\t\t\t&& (await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature: signature,\r\n\t\t\t\t\tauthToken: authToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: {\r\n\t\t\t\t\temail: email,\r\n\t\t\t\t\twallet: newWallet,\r\n\t\t\t\t\tidentity: identity\r\n\t\t\t\t}\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner('creating-session', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function (dispatch) {\r\n\t\tconst cfg = await relayerConfig()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg\r\n\t\t})\r\n\t}\r\n}\r\n","\r\nimport crypto from 'crypto'\r\nimport {\r\n\tChannel,\r\n\t// splitSig,\r\n\t// Transaction\r\n} from 'adex-protocol-eth/js'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner, getMultipleTxSignatures } from 'services/smart-contracts/actions/ethers'\r\nimport { contracts } from '../contractsCfg'\r\nimport { sendOpenChannel } from 'services/adex-relayer/actions'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit } from 'adex-models'\r\nimport {\r\n\tbigNumberify,\r\n\trandomBytes,\r\n\tparseUnits,\r\n\tInterface,\r\n\tformatUnits\r\n} from 'ethers/utils'\r\nimport { Contract } from 'ethers'\r\n\r\nconst { AdExCore, DAI } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst ERC20 = new Interface(DAI.abi)\r\nconst feeAmountApprove = '150000000000000000'\r\nconst feeAmountOpen = '160000000000000000'\r\nconst timeframe = 15000 // 1 event per 15 seconds\r\nconst VALID_UNTIL_COEFFICIENT = 1.5\r\nconst VALID_UNTIL_MIN_PERIOD = 7 * 24 * 60 * 60 * 1000// 7 days in ms\r\n\r\nexport const totalFeesFormatted = formatUnits(\r\n\tbigNumberify(feeAmountApprove)\r\n\t\t.add(bigNumberify(feeAmountOpen))\r\n\t\t.toString(),\r\n\t18)\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(created, withdrawPeriodStart) {\r\n\tconst period = withdrawPeriodStart - created\r\n\tconst validUntil = withdrawPeriodStart + Math.max((period * VALID_UNTIL_COEFFICIENT), VALID_UNTIL_MIN_PERIOD)\r\n\r\n\treturn Math.floor(validUntil / 1000)\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, Dai) {\r\n\tconst newCampaign = new Campaign(campaign)\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(newCampaign.created, newCampaign.withdrawPeriodStart)\r\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => (new AdUnit(unit)).spec)\r\n\tnewCampaign.depositAmount = parseUnits(newCampaign.depositAmount, DAI.decimals).toString()\r\n\r\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\r\n\tnewCampaign.minPerImpression = parseUnits(newCampaign.minPerImpression, DAI.decimals)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\r\n\r\n\tnewCampaign.depositAsset = newCampaign.depositAsset || Dai.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{ uids: [newCampaign.creator, newCampaign.validators[0].id, newCampaign.validators[1].id] },\r\n\t\t\t{ uids: null, rateLimit: { type: \"ip\", timeframe } }\r\n\t\t]\r\n\t}\r\n\r\n\tnewCampaign.status = { name: 'Pending', lastChecked: Date.now() }\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nexport async function openChannel({ campaign, account }) {\r\n\tconst { wallet, identity } = account\r\n\tconst {\r\n\t\tprovider,\r\n\t\tAdExCore,\r\n\t\tDai,\r\n\t\tIdentity\r\n\t} = await getEthers(wallet.authType)\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, Dai)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address)\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst identityContract = new Contract(\r\n\t\tidentityAddr,\r\n\t\tIdentity.abi,\r\n\t\tprovider\r\n\t)\r\n\tconst initialNonce = (await identityContract.nonce())\r\n\t\t.toNumber()\r\n\r\n\tconst feeTokenAddr = campaign.temp.feeTokenAddr || Dai.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tfeeAmount: feeAmountApprove,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.approve\r\n\t\t\t.encode([AdExCore.address, channel.depositAmount])\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce + 1,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tfeeAmount: feeAmountOpen,\r\n\t\tto: AdExCore.address,\r\n\t\tdata: Core.functions.channelOpen\r\n\t\t\t.encode([ethChannel.toSolidityTuple()])\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tchannel,\r\n\t\tidentityAddr: identity.address\r\n\t}\r\n\r\n\tconst result = await sendOpenChannel(data)\r\n\treadyCampaign.id = channel.id\r\n\treturn {\r\n\t\tresult,\r\n\t\treadyCampaign\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { uploadImage, postAdUnit, postAdSlot } from 'services/adex-market/actions'\r\nimport { Base, AdSlot, AdUnit } from 'adex-models'\r\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\r\nimport { updateAccount } from './accountActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAdUnits, getAdSlots, getCampaigns } from 'services/adex-market/actions'\r\nimport { openChannel, closeChannel } from 'services/smart-contracts/actions/core'\r\nimport { lastApprovedState } from 'services/adex-validator/actions'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({ dispatch: dispatch, type: type, action: 'X', label: translate(toastStr, { args: args }), timeout: 5000 })(dispatch)\r\n}\r\n\r\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then((resp) => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then((imgBlob) => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({ imageBlob: imgBlob, imageName: 'image.jpeg', authSig: authSig })\r\n\t\t})\r\n}\r\n\r\n// const uploadImages = ({ item, authSig }) => {\r\n// \tlet imgIpfsProm = Promise.resolve()\r\n// \tlet fallbackImgIpfsProm = Promise.resolve()\r\n\r\n// \tif (item._meta.img.tempUrl) {\r\n// \t\timgIpfsProm = getImgsIpfsFromBlob({ tempUrl: item._meta.img.tempUrl, authSig: authSig })\r\n// \t}\r\n\r\n// \tif (item._fallbackAdImg && item._fallbackAdImg.tempUrl) {\r\n// \t\tfallbackImgIpfsProm = getImgsIpfsFromBlob({ tempUrl: item._fallbackAdImg.tempUrl, authSig: authSig })\r\n// \t}\r\n\r\n// \treturn Promise.all([imgIpfsProm, fallbackImgIpfsProm])\r\n// \t\t.then(([imgIpf, fallbackImgIpfs]) => {\r\n// \t\t\tif (imgIpf) {\r\n// \t\t\t\titem._meta.img = { ipfs: imgIpf.ipfs }\r\n// \t\t\t}\r\n\r\n// \t\t\tif (fallbackImgIpfs) {\r\n// \t\t\t\titem._fallbackAdImg = { ipfs: fallbackImgIpfs.ipfs }\r\n// \t\t\t}\r\n\r\n// \t\t\treturn item\r\n// \t\t})\r\n// }\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel) {\r\n\titem = Base.updateObject({ item, newValues, objModel })\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(item) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_ITEM,\r\n\t\t\titem: item\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// register item\r\nexport function addItem(item, itemType, authSig) {\r\n\tconst newItem = { ...item }\r\n\treturn async function (dispatch) {\r\n\r\n\t\ttry {\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit'\r\n\t\t\t})\r\n\r\n\t\t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_CREATING_ITEM', args: ['AdUnit', newItem.title] })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_CREATING_ITEM', args: ['AdUnit', err] })\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function addSlot(item, itemType, authSig) {\r\n\tconst newItem = { ...item }\r\n\treturn async function (dispatch) {\r\n\r\n\t\ttry {\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig\r\n\t\t\t\t})).ipfs\r\n\r\n\t\t\t\tconst unit = new AdUnit({\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\ttargeting: [],\r\n\t\t\t\t\ttags: [],\r\n\t\t\t\t\tpassback: true\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst resUnit = await postAdUnit({\r\n\t\t\t\t\tunit: unit.marketAdd,\r\n\t\t\t\t\tauthSig\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfallbackUnit = resUnit.ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot'\r\n\t\t\t})\r\n\r\n\t\t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_CREATING_ITEM', args: ['AdSlot', newItem.title] })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_CREATING_ITEM', args: ['AdSlot', err] })\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getAllItems() {\r\n\treturn async function (dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authSig } = account.wallet\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\t\t\tconst campaigns = getCampaigns({ authSig })\r\n\r\n\t\t\tconst [resUnits, resSlots, resCampaigns]\r\n\t\t\t\t= await Promise.all([units, slots, campaigns])\r\n\r\n\t\t\tconst campaignsMapped = resCampaigns.map(c => {\r\n\t\t\t\treturn { ...c, ...c.spec }\r\n\t\t\t})\r\n\r\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\r\n\t\t\tupdateItems({ items: campaignsMapped, itemType: 'Campaign' })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [err]\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function openCampaign({ campaign, account }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('opening-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { readyCampaign } = await openChannel({ campaign, account })\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: readyCampaign,\r\n\t\t\t\titemType: 'Campaign'\r\n\t\t\t})\r\n\t\t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'OPENING_CAMPAIGN_SENT_TO_RELAYER', args: [readyCampaign.id] })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_OPENING_CAMPAIGN',\r\n\t\t\t\targs: [err]\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('opening-campaign', false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport function removeItemFromItem({ item, toRemove, authSig } = {}) {\r\n\treturn function (dispatch) {\r\n\t\t// removeItmFromItm({ item: item._id, collection: toRemove._id || toRemove, authSig: authSig })\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_REMOVE_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, ItemTypesNames[toRemove._type], toRemove._meta.fullName,] })\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.REMOVE_ITEM_FROM_ITEM,\r\n\t\t// \t\t\titem: item,\r\n\t\t// \t\t\ttoRemove: toRemove,\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_REMOVE_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], ItemTypesNames[toRemove._type], err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\nexport function addItemToItem({ item, toAdd, authSig } = {}) {\r\n\treturn function (dispatch) {\r\n\t\t// addItmToItm({ item: item._id, collection: toAdd._id || toAdd, authSig: authSig })\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\t//TODO: use response and UPDATE_ITEM\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_ADD_ITEM_TO_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, ItemTypesNames[toAdd._type], toAdd._meta.fullName,] })\r\n\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.ADD_ITEM_TO_ITEM,\r\n\t\t// \t\t\titem: item,\r\n\t\t// \t\t\ttoAdd: toAdd,\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_ADD_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], ItemTypesNames[toAdd._type], err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({ item, authSig, successMsg, errMsg } = {}) {\r\n\treturn function (dispatch) {\r\n\t\t// uploadImages({ item: { ...item }, authSig: authSig })\r\n\t\t// \t.then((updatedItem) => {\r\n\t\t// \t\treturn updateItm({ item: updatedItem, authSig })\r\n\t\t// \t})\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\tdispatch({\r\n\t\t// \t\t\ttype: types.UPDATE_ITEM,\r\n\t\t// \t\t\titem: res\r\n\t\t// \t\t})\r\n\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: successMsg || 'SUCCESS_UPDATING_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName] })\r\n\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t// \t\t\tspinner: 'update' + res._id,\r\n\t\t// \t\t\tvalue: false\r\n\t\t// \t\t})\r\n\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: errMsg || 'ERR_UPDATING_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\nexport function deleteItem({ item, objModel, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = true\r\n\r\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\r\n}\r\n\r\nexport function restoreItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = false\r\n\r\n\treturn updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_RESTORE_ITEM', errMsg: 'ERR_RESTORING_ITEM' })\r\n}\r\n\r\nexport function archiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = true\r\n\r\n\treturn updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_ARCHIVING_ITEM', errMsg: 'ERR_ARCHIVING_ITEM' })\r\n}\r\n\r\nexport function unarchiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = false\r\n\r\n\treturn updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_UNARCHIVING_ITEM', errMsg: 'ERR_UNARCHIVING_ITEM' })\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateTags = ({ tags }) => {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TAGS,\r\n\t\t\ttags: tags\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign'\r\n\t\t\t})\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_GETTING_CAMPAIGN_LAST_STATUS', args: [err] })\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function (dispatch, getState) {\r\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\r\n\t\t\tconst newIdentity = { ...account.identity }\r\n\t\t\tconst newTokens = { ...newIdentity.validatorAuthTokens, authTokens }\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLOSING_CAMPAIGN',\r\n\t\t\t\targs: [err]\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\r\n\t}\r\n}\r\n","import { formatUnits, commify } from 'ethers/utils'\r\nimport MomentUtils from '@date-io/moment'\r\nconst moment = new MomentUtils()\r\n\r\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\r\n\r\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\r\n\tif(!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (amountString, decimals = 18, pretty) => {\r\n\tconst formatted = formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn commify(formatted)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tprepareTx,\r\n\tprocessTx,\r\n\tgetMultipleTxSignatures\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tethers,\r\n\tContract,\r\n} from 'ethers'\r\nimport {\r\n\tbigNumberify,\r\n\tparseUnits,\r\n\t// randomBytes,\r\n\tgetAddress,\r\n\thexlify,\r\n\tInterface,\r\n\tkeccak256\r\n} from 'ethers/utils'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport {\r\n\t// identityBytecode,\r\n\texecuteTx,\r\n\tsetAddrPriv\r\n} from 'services/adex-relayer/actions'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { contracts } from '../contractsCfg'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\n// import FactoryABI from 'adex-protocol-eth/abi/IdentityFactory'\r\n// const Factory = new Interface(FactoryABI)\r\n\r\nimport solc from 'solcBrowser'\r\n\r\nconst { DAI } = contracts\r\n\r\nconst {\r\n\tIDENTITY_BASE_ADDR,\r\n\tIDENTITY_FACTORY_ADDR,\r\n} = process.env\r\n\r\nconst GAS_LIMIT_DEPLOY_CONTRACT = 150000\r\nconst feeAmountTransfer = '150000000000000000'\r\nconst feeAmountSetPrivileges = '150000000000000000'\r\nconst ERC20 = new Interface(DAI.abi)\r\n/*\r\nexport async function getIdentityBytecode({ owner, privLevel }) {\r\n\tconst res = await identityBytecode({\r\n\t\towner,\r\n\t\tprivLevel,\r\n\t\tidentityBaseAddr: IDENTITY_BASE_ADDR\r\n\t})\r\n\treturn res.bytecode\r\n}\r\n\r\nexport async function getIdentityDeployData({ owner, privLevel }) {\r\n\tconst bytecode = await getIdentityBytecode({ owner, privLevel })\r\n\tconst salt =\r\n\t\t`0x${Buffer.from(randomBytes(32)).toString('hex')}`\r\n\tconst expectedAddr = getAddress(\r\n\t\t`0x${generateAddress2(IDENTITY_FACTORY_ADDR, salt, bytecode)\r\n\t\t\t.toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\texpectedAddr\r\n\t}\r\n}\r\n*/\r\n\r\nexport async function getIdentityBytecode({ owner, privLevel }) {\r\n\r\n\tconst privileges = [\r\n\t\t[owner, 3]\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tIDENTITY_BASE_ADDR,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\treturn bytecode\r\n}\r\n\r\nexport async function getIdentityDeployData({ owner, privLevel }) {\r\n\tconst bytecode = await getIdentityBytecode({ owner, privLevel })\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst expectedAddr = getAddress(\r\n\t\t`0x${generateAddress2(IDENTITY_FACTORY_ADDR, salt, bytecode)\r\n\t\t\t.toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tIDENTITY_FACTORY_ADDR,\r\n\t\tIDENTITY_BASE_ADDR,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\texpectedAddr\r\n\t}\r\n}\r\n\r\nexport async function deployIdentityContract({\r\n\twallet, bytecode, salt, expectedAddr }) {\r\n\r\n\tconst { provider, IdentityFactory } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst pTx = await prepareTx({\r\n\t\ttx: IdentityFactory.deploy(\r\n\t\t\tbytecode,\r\n\t\t\tsalt\r\n\t\t),\r\n\t\tprovider,\r\n\t\tsender: wallet.address,\r\n\t\tgasLimit: hexlify(GAS_LIMIT_DEPLOY_CONTRACT)\r\n\t})\r\n\r\n\tpTx.gasLimit = hexlify(GAS_LIMIT_DEPLOY_CONTRACT)\r\n\tconst identityFactoryWithSigner = IdentityFactory.connect(signer)\r\n\r\n\tconst tx = identityFactoryWithSigner.deploy(\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tpTx\r\n\t)\r\n\r\n\tprocessTx({\r\n\t\ttx,\r\n\t\ttxSuccessData: {},\r\n\t\tfrom: wallet.address,\r\n\t\taccount: {}\r\n\t})\r\n\r\n\treturn tx\r\n}\r\n\r\nexport function getPrivileges({\r\n\twalletAddr,\r\n\tidentityAddr,\r\n\twalletAuthType\r\n}) {\r\n\treturn getEthers(walletAuthType)\r\n\t\t.then(({ provider, Identity }) => {\r\n\t\t\tconst contract = new ethers\r\n\t\t\t\t.Contract(identityAddr, Identity.abi, provider)\r\n\t\t\treturn contract.privileges(walletAddr)\r\n\t\t})\r\n}\r\n\r\nexport async function sendDaiToIdentity({\r\n\taccount,\r\n\tamountToSend,\r\n\t// gas,\r\n\testimateGasOnly\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, Dai } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst daiWithSigner = Dai.connect(signer)\r\n\tconst tokenAmount = parseUnits(amountToSend, 18).toString()\r\n\r\n\tconst pTx = await prepareTx({\r\n\t\ttx: Dai.transfer(identity.address, tokenAmount),\r\n\t\tprovider,\r\n\t\t// gasLimit,\r\n\t\tsender: wallet.address\r\n\t})\r\n\r\n\tif (estimateGasOnly) {\r\n\t\treturn pTx.gasLimit\r\n\t}\r\n\r\n\tprocessTx({\r\n\t\ttx: daiWithSigner.transfer(identity.address, tokenAmount, pTx),\r\n\t\ttxSuccessData: { txMethod: 'TX_SEND_DAI_TO_IDENTITY' },\r\n\t\tfrom: wallet.address,\r\n\t\tfromType: 'wallet',\r\n\t\taccount\r\n\t})\r\n\r\n\treturn {}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly\r\n}) {\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, 18)\r\n\tconst fees = bigNumberify(feeAmountTransfer).mul(bigNumberify('2'))\r\n\tconst tokenAmount = toWithdraw.sub(fees).toString()\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: formatTokenAmount(fees.toString(), 18),\r\n\t\t\ttoGet: formatTokenAmount(tokenAmount, 18)\r\n\t\t}\r\n\t}\r\n\r\n\tconst { wallet, identity } = account\r\n\tconst {\r\n\t\tprovider,\r\n\t\tDai,\r\n\t\tIdentity } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityContract = new Contract(\r\n\t\tidentityAddr,\r\n\t\tIdentity.abi,\r\n\t\tprovider\r\n\t)\r\n\r\n\tconst initialNonce = (await identityContract.nonce())\r\n\t\t.toNumber()\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountTransfer,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.approve\r\n\t\t\t.encode([identityAddr, tokenAmount])\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce + 1,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountTransfer,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.transfer\r\n\t\t\t.encode([withdrawTo, tokenAmount])\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tidentityAddr: identity.address\r\n\t}\r\n\r\n\tconst result = await executeTx(data)\r\n\r\n\treturn {\r\n\t\tresult\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly\r\n}) {\r\n\tconst fees = bigNumberify(feeAmountSetPrivileges)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: formatTokenAmount(fees.toString(), 18)\r\n\t\t}\r\n\t}\r\n\r\n\tconst { wallet, identity } = account\r\n\tconst {\r\n\t\tprovider,\r\n\t\tDai,\r\n\t\tIdentity } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityContract = new Contract(\r\n\t\tidentityAddr,\r\n\t\tIdentity.abi,\r\n\t\tprovider\r\n\t)\r\n\r\n\tconst identityInterface = new Interface(\r\n\t\tIdentity.abi\r\n\t)\r\n\r\n\tconst initialNonce = (await identityContract.nonce())\r\n\t\t.toNumber()\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountSetPrivileges,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface\r\n\t\t\t.functions\r\n\t\t\t.setAddrPrivilege\r\n\t\t\t.encode([setAddr, privLevel])\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tidentityAddr: identity.address,\r\n\t\tsetAddr,\r\n\t\tprivLevel\r\n\t}\r\n\r\n\tconst result = await setAddrPriv(data)\r\n\r\n\treturn {\r\n\t\tresult\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { grantAccount } from 'services/adex-relayer/actions'\r\nimport { updateSpinner } from './uiActions'\r\nimport { deployIdentityContract } from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\tregisterFullIdentity,\r\n\tregisterExpectedIdentity,\r\n\tgetOwnerIdentities\r\n} from 'services/adex-relayer/actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast } from './uiActions'\r\nimport {\r\n\tgetIdentityDeployData,\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { addDataToWallet } from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function getGrantAccount({ walletAddr, email, password, coupon }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('getting-grant-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await grantAccount({\r\n\t\t\t\townerAddr: walletAddr,\r\n\t\t\t\tmail: email,\r\n\t\t\t\tcouponCode: coupon\r\n\t\t\t})\r\n\r\n\t\t\t// TODO: validate identityData\r\n\r\n\t\t\tif (identityData) {\r\n\t\t\t\taddDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityData.address\r\n\t\t\t\t})\r\n\t\t\t\taddDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges\r\n\t\t\t\t})\r\n\t\t\t\tupdateIdentity('identityAddr', identityData.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_REGISTER_GRANT_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTER_GRANT_IDENTITY',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner('getting-grant-identity', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deployFullIdentity({ wallet, email, identityTxData, identityAddr }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('getting-full-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst tx = await deployIdentityContract({\r\n\t\t\t\t...identityTxData,\r\n\t\t\t\twallet\r\n\t\t\t})\r\n\r\n\t\t\tconst regInfo = await registerFullIdentity({\r\n\t\t\t\ttxHash: tx.hash,\r\n\t\t\t\tidentity: identityAddr,\r\n\t\t\t\tprivileges: [wallet.address, 3],\r\n\t\t\t\tmail: email\r\n\t\t\t})\r\n\r\n\t\t\tif (regInfo) {\r\n\t\t\t\tupdateIdentity('isRegistered', true)(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_REGISTER_IDENTITY',\r\n\t\t\t\t\t\t{ args: [tx.hash] }),\r\n\t\t\t\t\ttimeout: 20000\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tconsole.error('ERR_REGISTER_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTER_IDENTITY',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-full-identity', false)(dispatch)\r\n\r\n\t}\r\n}\r\n\r\nexport function getFullIdentityTxData({ owner, privLevel }) {\r\n\treturn async function (dispatch) {\r\n\t\ttry {\r\n\t\t\tconst txData = await getIdentityDeployData({ owner, privLevel })\r\n\t\t\tupdateIdentity('identityAddr', txData.expectedAddr)(dispatch)\r\n\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GET_IDENTITY_TX_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GET_IDENTITY_TX_DATA',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getRegisterExpectedIdentity({ owner, mail }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('getting-expected-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await registerExpectedIdentity({ owner, mail })\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_REGISTERING_EXPECTED_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTERING_EXPECTED_IDENTITY',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-expected-identity', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = (ev) => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (!obj || !obj.key || !obj.wallet || !obj.wallet.data || !obj.wallet.identity || !obj.wallet.privileges) {\r\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA',\r\n\t\t\t\t\t\t{ args: [err.message] }),\r\n\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = (err) => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', { args: [err] }),\r\n\t\t\t\ttimeout: 5000\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = (ev) => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(translate())\r\n\t\t}\r\n\r\n\t\treader.onabort = (ev) => {\r\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function (dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION',\r\n\t\t\t\t\t{ args: [result] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function ownerIdentities({ owner }) {\r\n\treturn async function (dispatch) {\r\n\t\tupdateSpinner('getting-owner-identities', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tupdateIdentity('ownerIdentities', identityData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-owner-identities', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function (dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION',\r\n\t\t\t\t\t{ args: [result] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION',\r\n\t\t\t\t\t{ args: [err] }),\r\n\t\t\t\ttimeout: 20000\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function (dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn (dispatch) => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}","import * as common from './common'\r\nimport * as itemActions from './itemActions'\r\nimport * as uiActions from './uiActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\n\r\nexport default {\r\n\t...common,\r\n\t...itemActions,\r\n\t...uiActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions\r\n}\r\n","\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst variantIcon = {\r\n\taccept: CheckCircleIcon,\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\tcancel: ErrorIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n}\r\n\r\nexport class Toast extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t\ttoast: {}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlet toast = this.state.toast\r\n\t\tlet nextToast = nextProps.toasts[0]\r\n\r\n\t\tlet isNewToast = !!nextToast && (toast.id !== nextToast.id)\r\n\r\n\t\tif (isNewToast) {\r\n\t\t\t// this.setState({ active: true, toast: nextToast })\r\n\t\t\tthis.setState({ active: false }, () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setState({ active: true, toast: nextToast })\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.props.actions.removeToast(nextToast.id)\r\n\t\t\t\t\t}, 800)\r\n\t\t\t\t}, 800)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tclose = (id) => {\r\n\t\tthis.setState({ active: false })\r\n\t\tthis.props.actions.removeToast(id)\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { toast } = this.state\r\n\t\tconst { classes } = this.props\r\n\t\tconst Icon = variantIcon[toast.type]\r\n\r\n\t\tif (!toast || !Icon) return null\r\n\r\n\t\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\t\tvertical: 'bottom',\r\n\t\t\thorizontal: 'center',\r\n\t\t}\r\n\r\n\t\tif (toast.top) {\r\n\t\t\tanchorOrigin.horizontal = 'center'\r\n\t\t\tanchorOrigin.vertical = 'top'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t\t>\r\n\t\t\t\t<SnackbarContent\r\n\t\t\t\t\taria-describedby=\"client-snackbar\"\r\n\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t<span id=\"client-snackbar\" className={classes.message}>\r\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\t!toast.unclosable &&\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tkey=\"close\"\r\n\t\t\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t\t\t\t</IconButton>,]}\r\n\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclasses.snackbar,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t[classes.top]: !!toast.top,\r\n\t\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\r\n\t\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\r\n\t\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Snackbar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\ttoasts: PropTypes.array.isRequired\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n\t// let persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\ttoasts: memory.toasts || []\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Toast))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsnackbar: {\r\n\t\t\tborder: '3px solid',\r\n\t\t\tborderRadius: 0,\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\t'&.active': {\r\n\t\t\t\ttransform: 'translateY(-20%)'\r\n\t\t\t},\r\n\t\t\tmargin: spacing\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tborderColor: '#FFAB00',\r\n\t\t\tcolor: '#FFAB00'\r\n\t\t},\r\n\t\tcancel: {\r\n\t\t\tborderColor: '#FF5722',\r\n\t\t\tcolor: '#FF5722'\r\n\t\t},\r\n\t\taccept: {\r\n\t\t\tborderColor: '#00E676',\r\n\t\t\tcolor: '#00E676'\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\ticonVariant: {\r\n\t\t\topacity: 0.9,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tmessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\twordBreak: 'break-all'\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\twidth: '98vw',\r\n\t\t\tmaxWidth: '98vw'\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport default function Translate(Decorated) {\r\n\tclass Translated extends Component {\r\n\r\n\t\tt(val, { isProp = false, args = [''] } = {}) {\r\n\r\n\t\t\tconst translation = translate(val, { isProp, args }, this.props.language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated {...this.props} t={this.t.bind(this)} />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tTranslated.propTypes = {\r\n\t\tlanguage: PropTypes.string.isRequired\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tconst { persist } = state\r\n\t\treturn {\r\n\t\t\tlanguage: persist.language\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tnull\r\n\t)(Translated)\r\n}\r\n","\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport Button from '@material-ui/core/Button'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport class Confirm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.cancel = this.cancel.bind(this)\r\n\t\tthis.confirm = this.confirm.bind(this)\r\n\t\tthis.state = {\r\n\t\t\tactive: false\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tthis.setState({ active: nextProps.visible })\r\n\t}\r\n\r\n\tconfirm() {\r\n\t\tif (typeof this.props.confirm === 'function') {\r\n\t\t\tthis.props.confirm()\r\n\t\t}\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\tcancel() {\r\n\t\tif (typeof this.props.cancel === 'function') {\r\n\t\t\tthis.props.cancel()\r\n\t\t}\r\n\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{this.props.title}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\t{this.props.text}\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.cancel} color=\"primary\">\r\n\t\t\t\t\t\t{this.props.cancelLabel || this.props.t('CANCEL')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={this.confirm} color=\"primary\" autoFocus>\r\n\t\t\t\t\t\t{this.props.confirmLabel || this.props.t('OK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nConfirm.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tcancelLabel: PropTypes.string,\r\n\tconfirmLabel: PropTypes.string,\r\n\ttitle: PropTypes.string.isRequired,\r\n\ttext: PropTypes.string,\r\n\tconfirm: PropTypes.func,\r\n\tcancel: PropTypes.func,\r\n\tvisible: PropTypes.bool,\r\n\tcalledOn: PropTypes.number\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n\tstate = state.memory\r\n\treturn {\r\n\t\tcancelLabel: state.confirm.data.cancelLabel,\r\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\r\n\t\ttitle: state.confirm.data.title || '',\r\n\t\ttext: state.confirm.data.text || '',\r\n\t\tconfirm: state.confirm.onConfirm,\r\n\t\tcancel: state.confirm.onCancel,\r\n\t\tvisible: state.confirm.active || false,\r\n\t\tcalledOn: state.confirm.calledOn\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Confirm))\r\n","import React from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\r\n\tclass Decorated extends React.Component {\r\n\r\n    resolveToLocation = to => {\r\n    \treturn typeof to === 'object' ? to['pathname'] : to\r\n    }\r\n\r\n    handleClick = event => {\r\n    \tevent.preventDefault()\r\n    \tconst { to } = this.props\r\n\r\n    \tthis.props.history.push(to)\r\n    }\r\n\r\n    // TODO: check if it works without infinite loops\r\n    // shouldComponentUpdate(nextProps, nextState) {\r\n    //   // const { to } = this.props;\r\n    //   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n    // }\r\n\r\n    render() {\r\n    \tconst { to, match, location, history, staticContext, ...rest } = this.props\r\n    \tconst toLocation = this.resolveToLocation(to)\r\n    \treturn (\r\n    \t\t<Component\r\n    \t\t\t{...rest}\r\n\r\n    \t\t\thref={toLocation}\r\n    \t\t\tonClick={this.handleClick}\r\n    \t\t/>\r\n    \t)\r\n    }\r\n\t}\r\n\r\n\treturn withRouter(Decorated)\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon\r\n\t\t\tviewBox={viewBox}\r\n\t\t\t{...props}\r\n\t\t>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g >\r\n\t\t<path d=\"M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z\" />\r\n\t\t<path d=\"M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z\" />\r\n\t</g>\r\n\r\n\t, 'Campaign', '0 0 26.12 17.37')","import React from 'react'\r\n\r\nconst getUrl = (url) => {\r\n\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({ href, target, children, label, ...rest }) => {\r\n\tlet url = target && target === '_blank' ? getUrl(href) : href\r\n\treturn (\r\n\t\t<a\r\n\t\t\tdraggable='false'\r\n\t\t\trel='noopener noreferrer'\r\n\t\t\t{...rest}\r\n\t\t\ttarget={target}\r\n\t\t\thref={url}\r\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\r\n\t\t>\r\n\t\t\t{children || label}\r\n\t\t</a>\r\n\t)\r\n}\r\n\r\nexport default Anchor","const drawerWidth = 250\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tzIndex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#eee',\r\n\t\t\tcolor: '#000'\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center'\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingTop: theme.spacing(0.5),\r\n\t\t\tpaddingBottom: theme.spacing(0.5),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: 100,\r\n\t\t\t\tpaddingTop: theme.spacing(1.5),\r\n\t\t\t\tpaddingBottom: theme.spacing(1.5),\r\n\t\t\t\tpaddingLeft: theme.spacing(1.5),\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end'\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start'\r\n\t\t},\r\n\t\tnavIconHide: {\r\n\t\t\tmarginRight: 10,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 114,\r\n\t\t\t...theme.mixins.toolbar\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#fff'\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\tpadding: theme.spacing(3),\r\n\t\t\tpaddingTop: theme.spacing(5),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1600,\r\n\t\t\tmargin: 'auto'\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 36,\r\n\t\t\twidth: 'auto',\r\n\t\t\t// marginRight: 10,\r\n\t\t\t// paddingLeft: theme.spacing(1.5),\r\n\t\t\t// [theme.breakpoints.down('xs')]: {\r\n\t\t\t//     display: 'none',\r\n\t\t\t// },\r\n\t\t},\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper\r\n\t\t},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid'\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 80,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\tsideNavToolbar: {\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tbackgroundColor: theme.palette.primary.light,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: theme.palette.primary.light,\r\n\t\t\t}\r\n\t\t},\r\n\t\tnewItemBtn: {\r\n\t\t\twidth: '200px' // TODO\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary\r\n\t\t\t}\r\n\t\t},\r\n\t\tbar: {\r\n\t\t\topacity: 0.5\r\n\t\t},\r\n\t\tactionCount: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst RRSwitch = withReactRouterLink((props) =>\r\n\t<ListItem>\r\n\t\t<ListItemText primary={props.label} />\r\n\t\t<ListItemSecondaryAction>\r\n\t\t\t<Anchor {...props}>\r\n\t\t\t\t<Switch {...props} />\r\n\t\t\t</Anchor>\r\n\t\t</ListItemSecondaryAction>\r\n\t</ListItem>\r\n)\r\n\r\nconst sideSwitch = ({ side, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* Keep both if there is no valid side and force react to rerender at the same time */}\r\n\t\t\t{side !== 'advertiser' &&\r\n                <RRSwitch\r\n                \tcolor='default'\r\n                \tchecked={true}\r\n                \tvalue='account'\r\n                \tto={{ pathname: '/dashboard/advertiser' }}\r\n                \tlabel={t('PUBLISHER')}\r\n                \tclasses={{\r\n                \t\tbar: classes.bar\r\n                \t}}\r\n                />}\r\n\t\t\t{side !== 'publisher' &&\r\n                <RRSwitch\r\n                \tcolor='default'\r\n                \tchecked={false}\r\n                \tto={{ pathname: '/dashboard/publisher' }}\r\n                \tlabel={t('ADVERTISER')}\r\n                \tclasses={{\r\n                \t\tbar: classes.bar\r\n                \t}}\r\n                />}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const SideSwitch = withStyles(styles)(sideSwitch)","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g >\r\n\t\t<path fill=\"rgb(60, 60, 59)\"\r\n\t\t\td=\"M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z\" />\r\n\t\t<path fill=\"rgb(27, 117, 188)\"\r\n\t\t\td=\"M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z\" />\r\n\t\t<path fill=\"rgb(60, 60, 59)\"\r\n\t\t\td=\"M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z\" />\r\n\t</g>\r\n\t, 'AdexIcon', '0 0 185 72')","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { SideSwitch } from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\n// import Badge from '@material-ui/core/Badge'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nclass SideNav extends Component {\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tlet langChanged = this.props.language !== nextProps.language\r\n\t\tlet sideChanged = this.props.side !== nextProps.side\r\n\t\tlet locationChanged = this.props.location.pathname !== nextProps.location.pathname\r\n\t\tlet transactionsChanged = (this.props.transactions.pendingTxs || []).length !== (nextProps.transactions.pendingTxs || []).length\r\n\t\tlet bidsAwaitingActionChanged = this.bidsAwaitingActionCount !== nextProps.bidsAwaitingActionCount\r\n\t\treturn langChanged || sideChanged || locationChanged || transactionsChanged || bidsAwaitingActionChanged\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tside,\r\n\t\t\tidentity,\r\n\t\t\tt,\r\n\t\t\t// transactions,\r\n\t\t\tclasses\r\n\t\t} = this.props\r\n\t\tif (side !== 'advertiser' && side !== 'publisher') {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\t// TODO: test location\r\n\t\tconst location = this.props.location.pathname.split('/')[3]\r\n\t\tconst isAdvertiser = side === 'advertiser'\r\n\t\tconst items = (isAdvertiser ? 'units' : 'slots')\r\n\t\tconst itemsIcon = (isAdvertiser ? 'format_list_bulleted' : 'format_list_bulleted')\r\n\t\t// const pendingTrsCount = (transactions.pendingTxs || []).length\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classes.navigation}\r\n\t\t\t>\r\n\t\t\t\t<List\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpadding: classes.sntPadding,\r\n\t\t\t\t\t\troot: classes.navListRoot\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName={classes.navList}\r\n\t\t\t\t\tcomponent='nav'\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classnames(classes.toolbar, classes.sideNavToolbar)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<AdexIconTxt\r\n\t\t\t\t\t\t\t\t\tclassName={classes.icon}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<SideSwitch\r\n\t\t\t\t\t\t\t\tside={side}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{side === 'advertiser' &&\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === 'campaigns' })}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<Icon>{itemsIcon}</Icon>\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t{/* <RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/transactions' }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === 'transactions' })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{pendingTrsCount > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\t\t\tbadgeContent={pendingTrsCount <= 9 ? pendingTrsCount : '9+'}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.actionCount)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Badge> : <SwapHorizontalIcon />}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n                        </RRListItem> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Anchor target='_blank' href='https://medium.com/adex-network-tips-and-tricks' >\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === 'account' })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</List>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classes.version}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t\t<small> &copy; {(new Date()).getFullYear()}  &nbsp;\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdEx Network O\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSideNav.propTypes = {\r\n\tactions: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist, /*memory*/ } = state\r\n\r\n\treturn {\r\n\t\t// account: persist.account,\r\n\t\ttransactions: persist.web3Transactions[persist.account._addr] || {},\r\n\t\tidentity: persist.account.identity.address\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SideNav)))","import React, { Component } from 'react'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img src={src} height={36} width='auto' alt='logo' style={{ marginRight: 5 }} />\r\n\t)\r\n}\r\n\r\nclass ButtonMenu extends Component {\r\n  state = {\r\n  \tactive: false,\r\n  \tanchorEl: null,\r\n  }\r\n\r\n  handleButtonClick = () => this.setState({ active: !this.state.active, anchorEl: null })\r\n  handleMenuHide = () => this.setState({ active: false })\r\n\r\n  handleMenu = event => {\r\n  \tthis.setState({ anchorEl: event.currentTarget });\r\n  }\r\n\r\n  handleClose = () => {\r\n  \tthis.setState({ anchorEl: null });\r\n  }\r\n\r\n  render() {\r\n  \tconst { btnStyle, label, iconStyle, icon } = this.props\r\n  \tconst { anchorEl } = this.state\r\n  \tconst open = Boolean(anchorEl)\r\n  \tlet leftIcon = this.props.leftIconSrc ? <ImgIcon src={this.props.leftIconSrc} /> : null\r\n\r\n  \treturn (\r\n  \t\t<div\r\n  \t\t\t// style={{ display: 'inline-block' }}\r\n  \t\t>\r\n  \t\t\t<Button\r\n  \t\t\t\tstyle={btnStyle}\r\n  \t\t\t\tonClick={this.handleMenu}\r\n  \t\t\t\taria-owns='menu-appbar'// {open ? 'menu-appbar' : null}\r\n  \t\t\t\taria-haspopup='true'\r\n  \t\t\t>\r\n  \t\t\t\t{leftIcon}\r\n  \t\t\t\t<span\r\n  \t\t\t\t\tstyle={{ maxWidth: 150, overflow: 'hidden', textOverflow: 'ellipsis' }}\r\n  \t\t\t\t>\r\n  \t\t\t\t\t{label}\r\n  \t\t\t\t</span>\r\n  \t\t\t\t<Icon style={iconStyle} >{icon}</Icon>\r\n  \t\t\t</Button>\r\n  \t\t\t<Menu\r\n  \t\t\t\tid=\"menu-appbar\"\r\n  \t\t\t\topen={open}\r\n  \t\t\t\tanchorEl={anchorEl}\r\n  \t\t\t\t// anchorOrigin={{\r\n  \t\t\t\t//   vertical: 'top',\r\n  \t\t\t\t//   horizontal: 'right',\r\n  \t\t\t\t// }}\r\n  \t\t\t\t// transformOrigin={{\r\n  \t\t\t\t//   vertical: 'top',\r\n  \t\t\t\t//   horizontal: 'right',\r\n  \t\t\t\t// }}\r\n  \t\t\t\tonClick={this.handleButtonClick }\r\n  \t\t\t\tonClose={this.handleClose}\r\n  \t\t\t>\r\n  \t\t\t\t{this.props.children}\r\n  \t\t\t</Menu>\r\n  \t\t</div>\r\n  \t)\r\n  }\r\n}\r\n\r\nexport default withStyles()(ButtonMenu)\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport ledgerLogo from 'resources/ledger_logo_header.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = (authType) => {\r\n\tswitch (authType) {\r\n\tcase AUTH_TYPES.METAMASK.name:\r\n\t\treturn metamaskLogo\r\n\tcase AUTH_TYPES.TREZOR.name:\r\n\t\treturn trezorLogo\r\n\tcase AUTH_TYPES.LEDGER.name:\r\n\t\treturn ledgerLogo\r\n\tcase AUTH_TYPES.DEMO.name:\r\n\t\treturn demoLogo\r\n\tdefault:\r\n\t\treturn ''\r\n\t}\r\n\r\n} ","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport classnames from 'classnames'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Icon from '@material-ui/core/Icon'\r\n\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\n\r\nclass TopNav extends Component {\r\n\r\n  state = {\r\n  \tauth: true\r\n  }\r\n\r\n  render() {\r\n  \tconst { t, handleDrawerToggle, account, side, navTitle, classes } = this.props\r\n  \tlet imgSrc = getAuthLogo(account.wallet.authType)\r\n\r\n  \tconst btnMenueLabel = account.wallet.authType === 'demo' ? t('DEMO_MODE') : (account.email || account.wallet.address || t('NOT_LOGGED'))\r\n\r\n  \treturn (\r\n  \t\t<AppBar\r\n  \t\t\tclassName={classes.appBar}\r\n  \t\t\tposition=\"sticky\"\r\n  \t\t>\r\n  \t\t\t<Toolbar\r\n  \t\t\t\tclassName={classes.toolbar}\r\n  \t\t\t>\r\n  \t\t\t\t<div\r\n  \t\t\t\t\tclassName={classes.flexRow}\r\n  \t\t\t\t>\r\n\r\n  \t\t\t\t\t<IconButton\r\n  \t\t\t\t\t\tcolor=\"inherit\"\r\n  \t\t\t\t\t\taria-label=\"open drawer\"\r\n  \t\t\t\t\t\tonClick={handleDrawerToggle}\r\n  \t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\r\n  \t\t\t\t\t>\r\n  \t\t\t\t\t\t<Icon>menu</Icon>\r\n  \t\t\t\t\t</IconButton>\r\n\r\n  \t\t\t\t\t{/* <AdexIconTxt\r\n              className={classes.icon}\r\n            /> */}\r\n  \t\t\t\t\t<div\r\n  \t\t\t\t\t\tclassName={classnames(classes.flex, classes.toolbarControls)}\r\n  \t\t\t\t\t>\r\n  \t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\r\n  \t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\r\n  \t\t\t\t\t\t{/* <ChangeLang /> */}\r\n  \t\t\t\t\t\t<ButtonMenu\r\n  \t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n  \t\t\t\t\t\t\ticon={<ExpandMoreIcon />}\r\n  \t\t\t\t\t\t\tlabel={btnMenueLabel}\r\n  \t\t\t\t\t\t\tactive={true}\r\n  \t\t\t\t\t\t\ticonStyle={{ marginTop: -2, marginLeft: 10, fontSize: 20 }}\r\n  \t\t\t\t\t\t>\r\n  \t\t\t\t\t\t\t<RRMenuItem\r\n  \t\t\t\t\t\t\t\tvalue='account'\r\n  \t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n  \t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n  \t\t\t\t\t\t\t>\r\n  \t\t\t\t\t\t\t\t<ListItemIcon >\r\n  \t\t\t\t\t\t\t\t\t<Icon>account_box</Icon>\r\n  \t\t\t\t\t\t\t\t</ListItemIcon>\r\n  \t\t\t\t\t\t\t\t<ListItemText\r\n  \t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}  \t\t\t\t\t\t\t\t\t\r\n  \t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n  \t\t\t\t\t\t\t\t/>\r\n  \t\t\t\t\t\t\t</RRMenuItem>\r\n  \t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n  \t\t\t\t\t\t\t<MenuItem\r\n  \t\t\t\t\t\t\t\tvalue='logout'\r\n  \t\t\t\t\t\t\t\tonClick={() => { logOut() }}\r\n  \t\t\t\t\t\t\t>\r\n  \t\t\t\t\t\t\t\t<ListItemIcon >\r\n  \t\t\t\t\t\t\t\t\t<Icon>exit_to_app</Icon>\r\n  \t\t\t\t\t\t\t\t</ListItemIcon>\r\n  \t\t\t\t\t\t\t\t<ListItemText classes={{ primary: classes.primary }} primary={t('LOGOUT')} />\r\n  \t\t\t\t\t\t\t</MenuItem>\r\n  \t\t\t\t\t\t</ButtonMenu>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t</div>\r\n  \t\t\t\t<div\r\n  \t\t\t\t\tclassName={classes.flexRow}\r\n  \t\t\t\t>\r\n  \t\t\t\t\t<div\r\n  \t\t\t\t\t\tclassName={classnames(classes.flex, classes.toolbarTitle)}\r\n  \t\t\t\t\t>\r\n  \t\t\t\t\t\t<Typography\r\n  \t\t\t\t\t\t\tvariant=\"title\"\r\n  \t\t\t\t\t\t\tcolor=\"inherit\"\r\n  \t\t\t\t\t\t\tclassName={classes.flex}\r\n  \t\t\t\t\t\t\tnoWrap\r\n  \t\t\t\t\t\t>\r\n  \t\t\t\t\t\t\t{t(navTitle)}\r\n  \t\t\t\t\t\t</Typography>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t</div>\r\n  \t\t\t</Toolbar>\r\n  \t\t</AppBar>\r\n  \t)\r\n  }\r\n}\r\n\r\nTopNav.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tnavTitle: memory.nav.navTitle || ''\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(TopNav)))\r\n\r\n","export const isVideoMedia = (mime = '') =>\r\n\tmime.split('/')[0] === 'video'","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Translate from 'components/translate/Translate'\r\nimport { validations, helpers } from 'adex-models'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\nconst MAX_IMG_LOAD_TIME = 3000\r\nclass Img extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\timgSrc: null,\r\n\t\t\tactive: false,\r\n\t\t\tvideoSrc: null\r\n\t\t}\r\n\r\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\r\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\r\n\t\tthis.loadTimeout = null\r\n\t}\r\n\r\n\tipfsSrc = (src) => {\r\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t\t}\r\n\r\n\t\treturn src\r\n\t}\r\n\r\n\thandleToggle = () => {\r\n\t\tlet active = this.state.active\r\n\t\tthis.setState({ active: !active })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\treturn this.setState({\r\n\t\t\t\timgSrc: VIDEO_IMAGE\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tthis.displayVideo = document.createElement('video')\r\n\t\t\tthis.setDisplayVideo({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE\r\n\t\t\t})\r\n\r\n\t\t} else {\r\n\t\t\tthis.displayImage = new Image()\r\n\t\t\tthis.setDisplayImage({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = (nextProps) => {\r\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\r\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\r\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\r\n\t\tconst { mediaMime } = nextProps\r\n\r\n\t\tif (nextSrc !== thisSrc) {\r\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\t\tif (isVideo) {\r\n\t\t\t\tthis.displayVideo =  this.displayVideo || document.createElement('video')\r\n\t\t\t\tthis.setDisplayVideo({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE\r\n\t\t\t\t})\r\n\t\r\n\t\t\t} else {\r\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\r\n\t\t\t\tthis.setDisplayImage({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\t\t\tthis.displayImage = null\r\n\t\t}\r\n\t}\r\n\r\n\tclearLoadTimeout = () => {\r\n\t\tif (this.loadTimeout) {\r\n\t\t\tclearTimeout(this.loadTimeout)\r\n\t\t\tthis.loadTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tonFail = (fallback) => {\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.displayImage.src = fallback\r\n\t\t}\r\n\r\n\t\tthis.clearLoadTimeout()\r\n\r\n\t\tthis.setState({\r\n\t\t\timgSrc: fallback || null\r\n\t\t})\r\n\t}\r\n\r\n\tsetDisplayImage = ({ image, fallback }) => {\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(this, fallback)\r\n\r\n\t\tthis.displayImage.onload = () => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\timgSrc: image\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.displayImage.src = image\r\n\t}\r\n\r\n\tsetDisplayVideo = ({ image, fallback }) => {\r\n\t\tthis.displayVideo.src = image\r\n\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoSrc: image\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfullScreenBtn() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tmini\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => { this.handleToggle() }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{this.renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trenderFullscreenDialog() {\r\n\t\tconst { t, alt, classes, type } = this.props\r\n\t\tconst { active, imgSrc, videoSrc } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{imgSrc ?\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t\tonDragStart={(event) => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: <video src={videoSrc} controls>\r\n\t\t\t\t\t\t</video>\r\n\t\t\t\t\t}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={this.handleToggle}\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { alt, allowFullscreen, className, classes, fullScreenOnClick } = this.props\r\n\t\tconst { imgSrc, videoSrc } = this.state\r\n\t\treturn (\r\n\t\t\timgSrc || videoSrc ?\r\n\t\t\t\t<div className={classnames(classes.imgParent, className, classes.wrapper)}>\r\n\t\t\t\t\t{!!imgSrc ?\r\n\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={this.state.imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\t\tonDragStart={(event) => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t\tonClick={fullScreenOnClick && (() => { console.log('click'); this.handleToggle() })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: <video src={videoSrc} controls>\r\n\t\t\t\t\t\t</video>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\r\n\t\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\r\n\t\t\t\t</div>\r\n\t\t\t\t:\r\n\t\t\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={classes.circular}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImg.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string\r\n}\r\n\r\nexport default Translate(withStyles(styles)(Img))\r\n","export const styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block'\r\n\t},\r\n\timgParent: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: 'max-content',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block'\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block'\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer'\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t}\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0\r\n\t\t}\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw'\r\n\t},\r\n\timg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto'\r\n\t},\r\n\twrapper: {\r\n\t\theight: 'max-content',\r\n\t\twidth: 'max-content'\t\r\n\t}\r\n})","/**\r\n * @param {String} objUrl - Image blob url URL.createObjectURL\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n */\r\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\r\n\t// TODO: Validate pixelCrop and size\r\n\tconst cropCanvas = document.createElement('canvas')\r\n\tconst scaleCanvas = document.createElement('canvas')\r\n\r\n\tconst img = new Image()\r\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\r\n\timg.src = objUrl\r\n\r\n\t// As a blob\r\n\treturn new Promise((resolve, reject) => {\r\n\t\timg.onload = () => {\r\n\t\t\tconst width = img.width\r\n\t\t\tconst height = img.height\r\n\r\n\t\t\t// pixelCrop come in %\r\n\t\t\tconst crop = {\r\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\r\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\r\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\r\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\r\n\t\t\t}\r\n\r\n\t\t\tcropCanvas.width = crop.width\r\n\t\t\tcropCanvas.height = crop.height\r\n\t\t\tconst cctx = cropCanvas.getContext('2d')\r\n\r\n\t\t\tcctx.drawImage(\r\n\t\t\t\timg,\r\n\t\t\t\tcrop.x,\r\n\t\t\t\tcrop.y,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.width = size.width\r\n\t\t\tscaleCanvas.height = size.height\r\n\r\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\r\n\r\n\t\t\tsctx.drawImage(\r\n\t\t\t\tcropCanvas,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tsize.width,\r\n\t\t\t\tsize.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.toBlob(file => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t}, 'image/jpeg')\r\n\t\t}\r\n\t})\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Img from 'components/common/img/Img'\r\n// import debounce from 'debounce'\r\nimport Dropzone from 'react-dropzone'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport CropIcon from '@material-ui/icons/Crop'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass ImgForm extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { size } = props\r\n\t\tconst aspect = size\r\n\t\t\t? (size.width / size.height)\r\n\t\t\t: undefined\r\n\r\n\t\tthis.state = {\r\n\t\t\timgSrc: props.imgSrc || '',\r\n\t\t\tmime: '',\r\n\t\t\timgName: '',\r\n\t\t\tcropMode: false,\r\n\t\t\tcrop: { aspect: aspect }\r\n\t\t}\r\n\t}\r\n\r\n\tonDrop = (acceptedFiles, rejectedFiles) => {\r\n\t\tconst that = this\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\r\n\t\tthat.setState({\r\n\t\t\timgSrc: objectUrl,\r\n\t\t\timgName: file.name,\r\n\t\t\tmime: file.type\r\n\t\t})\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tthis.props.onChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type\r\n\t\t})\r\n\t}\r\n\r\n\tonRemove = (e) => {\r\n\t\tthis.preventBubbling(e)\r\n\r\n\t\tconst { imgSrc } = this.state\r\n\r\n\t\tif (imgSrc) {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\r\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t}\r\n\r\n\tonCropChange = (crop) => {\r\n\t\tthis.setState({ crop });\r\n\t}\r\n\r\n\tsaveCropped = () => {\r\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\r\n\t\tconst { onChange, size } = this.props\r\n\t\tgetCroppedImgUrl({\r\n\t\t\tobjUrl: imgSrc,\r\n\t\t\tpixelCrop: crop,\r\n\t\t\tfileName: `cropped-${imgName}`,\r\n\t\t\tsize\r\n\t\t})\r\n\t\t\t.then((croppedBlob) => {\r\n\t\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\r\n\t\t\t\tonChange({\r\n\t\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\t\tmime\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t}\r\n\r\n\tpreventBubbling = (e) => {\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation()\r\n\t\t}\r\n\t\tif (e.nativeEvent) {\r\n\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t}\r\n\t}\r\n\r\n\tUploadInfo = () => {\r\n\t\tconst { t, classes, size, errMsg } = this.props\r\n\t\tconst { imgSrc, mime } = this.state\r\n\t\treturn (\r\n\t\t\t<div className={classes.uploadInfo}>\r\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ?\r\n\t\t\t\t\t<div className={classes.uploadActions}>\r\n\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t{!!size &&\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e);\r\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t&nbsp;\r\n  \t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={this.onRemove}\r\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg)  </small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: CLEAR IMG BLOB!!!!\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\tlabel,\r\n\t\t\tadditionalInfo\r\n\t\t} = this.props\r\n\t\tconst {\r\n\t\t\tcrop,\r\n\t\t\tcropMode,\r\n\t\t\timgName,\r\n\t\t\timgSrc,\r\n\t\t\tmime\r\n\t\t} = this.state\r\n\r\n\t\tconst videoSrc = isVideoMedia(mime)\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classes.imgForm}\r\n\t\t\t>\r\n\t\t\t\t<AppBar\r\n\t\t\t\t\tposition='static'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.header\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Toolbar>\r\n\r\n\t\t\t\t\t\t{imgSrc && imgName ?\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Toolbar>\r\n\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t{cropMode ?\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t\tonClick={this.preventBubbling}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classes.droppedImgContainer}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '70%', maxHeight: 320 }}\r\n\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\r\n\t\t\t\t\t\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\t\t\t\t\t\theight: 'auto'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button >\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Dropzone\r\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\r\n\t\t\t\t\t\t\tonDrop={this.onDrop}\r\n\t\t\t\t\t\t\tclassName={classes.dropzone} >\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classes.droppedImgContainer}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{videoSrc ?\r\n\t\t\t\t\t\t\t\t\t<video controls src={imgSrc}  type='video/mp4'>\r\n\t\t\t\t\t\t\t\t\t</video>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\talt={'name'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<this.UploadInfo />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Dropzone>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> {additionalInfo} </small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgForm.propTypes = {\r\n\timgSrc: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object\r\n}\r\n\r\nexport default Translate(withStyles(styles)(ImgForm))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\theader: {\r\n\t\t\tmarginBottom: spacing\r\n\t\t},\r\n\t\tdropzone: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\tdroppedImgContainer: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t\talignSelf: 'stretch',\r\n\t\t\tflex: '1 1',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: ' space-around',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'@media(max-width:768px)': {\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t}\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\tmaxHeight: 320,\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\t'@media(max-width:500px)': {\r\n\t\t\t\t// TODO: Find out why it breaks this limit after a new pic is uploaded\r\n\t\t\t\twidth: '100%'\r\n\t\t\t}\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing\r\n\t\t},\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\n// Allow higher res images with same aspect ratio\r\nfunction checkExactish(widthTarget, width, heightTarget, height) {\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget).toFixed(2)\r\n\tconst aspect = parseFloat(width / height).toFixed(2)\r\n\r\n\tconst isValid = (widthTarget <= width) &&\r\n\t\t(heightTarget <= height) &&\r\n\t\t(targetAspect === aspect)\r\n\r\n\treturn isValid\r\n}\r\n\r\nexport default function ValidImageHoc(Decorated) {\r\n\r\n\tclass ValidImage extends Component {\r\n\r\n\t\tvalidate = ({\r\n\t\t\tpropsName,\r\n\t\t\twidthTarget,\r\n\t\t\theightTarget,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaHeight,\r\n\t\t\tmsg,\r\n\t\t\texact,\r\n\t\t\trequired,\r\n\t\t\tonChange,\r\n\t\t\tmime,\r\n\t\t\ttempUrl\r\n\t\t}) => {\r\n\t\t\tlet isValid = true\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactish(widthTarget, mediaWidth, heightTarget, mediaHeight)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\r\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\r\n\r\n\t\t\tthis.props.validate(propsName, { isValid: isValid, err: { msg: msg, args: masgArgs }, dirty: true })\r\n\r\n\t\t\tconst resMedia = {\r\n\t\t\t\twidth: mediaWidth,\r\n\t\t\t\theight: mediaHeight,\r\n\t\t\t\tmime,\r\n\t\t\t\ttempUrl\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof onChange === 'function') {\r\n\t\t\t\tonChange(propsName, resMedia)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tgetVideoSize = (src) =>\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tconst video = document.createElement('video')\r\n\t\t\t\tvideo.src = src.tempUrl\r\n\r\n\t\t\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\t\t\treturn resolve({\r\n\t\t\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\t\t\theight: target.videoHeight\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tgetImageSize = (src) =>\r\n\t\t\tnew Promise(resolve => {\r\n\t\t\t\tconst image = new Image()\r\n\t\t\t\timage.src = src.tempUrl\r\n\r\n\t\t\t\timage.onload = function () {\r\n\t\t\t\t\treturn resolve({\r\n\t\t\t\t\t\twidth: this.width,\r\n\t\t\t\t\t\theight: this.height\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tvalidateMedia = async ({\r\n\t\t\tpropsName,\r\n\t\t\twidthTarget,\r\n\t\t\theightTarget,\r\n\t\t\tmsg,\r\n\t\t\texact,\r\n\t\t\trequired,\r\n\t\t\tonChange\r\n\t\t} = {}, media) => {\r\n\r\n\t\t\tif (!required && !media.tempUrl && onChange) {\r\n\t\t\t\tthis.props.validate(propsName, { isValid: true, err: { msg: msg, args: [] }, dirty: true })\r\n\t\t\t\t// TODO: fix this\r\n\t\t\t\tonChange(propsName, media)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst getSize = isVideoMedia(media.mime)\r\n\t\t\t\t? () => this.getVideoSize(media)\r\n\t\t\t\t: () => this.getImageSize(media)\r\n\r\n\t\t\tconst size = await getSize()\r\n\r\n\t\t\tthis.validate({\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmediaWidth: size.width,\r\n\t\t\t\tmediaHeight: size.height,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t\tmime: media.mime,\r\n\t\t\t\ttempUrl: media.tempUrl\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated {...props} validateMedia={this.validateMedia} />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidImage.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId]\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidImage))\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {}\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey, {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr = { msg: '', args: [] },\r\n\t\t\t\tdirty = false,\r\n\t\t\t\tremoveAll = false\r\n\t\t\t}) => {\r\n\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated {...props} validate={this.validate} invalidFields={this.state.invalidFields} />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId]\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(3)\r\n\treturn {\r\n\t}\r\n}","\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nexport class ImgDialog extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tvalues: {}\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange = (name, value) => {\r\n\t\tlet newValues = { ...this.state.values }\r\n\t\tnewValues[name] = value\r\n\t\tthis.setState({ values: newValues })\r\n\t}\r\n\r\n\tonOk = () => {\r\n\t\tconst vals = this.state.values\r\n\t\tObject.keys(vals).forEach((key) => {\r\n\t\t\tthis.props.onChangeReady(key, vals[key])\r\n\t\t})\r\n\t\tthis.props.handleToggle()\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet t = () => { }\r\n\t\tlet validations = this.props.invalidFields || {}\r\n\t\tlet errImg = validations[this.props.imgPropName]\r\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\r\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.props.active}\r\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\r\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\r\n\t\t\t\t\ttitle={this.props.title}\r\n\t\t\t\t\ttype={this.props.type || 'normal'}\r\n\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tonClick={this.props.handleToggle}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t{this.props.t(this.props.title)}\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent >\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\r\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\r\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(\r\n\t\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\r\n\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\r\n\t\t\t\t\t\t\t\t\texact: this.props.exact,\r\n\t\t\t\t\t\t\t\t\trequired: this.props.required,\r\n\t\t\t\t\t\t\t\t\tonChange: this.handleChange\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.props.handleToggle}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{'Cancel'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.onOk}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tdisabled={!!(this.props.invalidFields || {})[this.props.imgPropName]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{'Ok'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgDialog.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n\tlet persist = state.persist\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnames'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\r\nclass SaveBtn extends Component {\r\n\r\n\trender() {\r\n\t\tlet { spinner, classes, success, dirtyProps, save, validations, validationId } = this.props\r\n\t\treturn (\r\n\r\n\t\t\t<div className={classes.position}>\r\n\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t<Fab\r\n\t\t\t\t\t\tvariant='fab'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t// className={buttonClassname}\r\n\t\t\t\t\t\tonClick={() => save()}\r\n\t\t\t\t\t\tdisabled={spinner || !dirtyProps.length || !!Object.keys(validations[validationId] || {}).length}\r\n\t\t\t\t\t// {...other}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t{!!spinner && <CircularProgress size={68} className={classes.fabProgress} />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSaveBtn.propTypes = {\r\n\tspinnerId: PropTypes.string,\r\n\tvalidationId: PropTypes.string,\r\n\titemId: PropTypes.string,\r\n\tvalidations: PropTypes.object\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\tspinner: memory.spinners[props.spinnerId],\r\n\t\tvalidations: memory.validations\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SaveBtn)))\r\n","import color from '@material-ui/core/colors/purple'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: color[500],\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: color[700],\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: -6,\r\n\t\tleft: -6,\r\n\t\tzIndex: 1,\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tposition: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 86,\r\n\t\tright: 40,\r\n\t\tzIndex: theme.zIndex.appBar\r\n\t}\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: '100%'\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing\r\n\t\t},\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main\r\n\t\t},\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%'\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\tmarginBottom: spacing\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing\r\n\t\t}\r\n\t}\r\n}","import { utils } from 'ethers'\r\n\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\nconst couponRegex = /^[a-fA-F0-9]{8}$/\r\n\r\n/*eslint-enable */\r\n\r\n\r\nexport const validUrl = (url) => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validEmail = (email) => {\r\n\temail = email || ''\r\n\tconst isValid = emailRegex.test(email)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = (numberStr) => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid = !isNaN(parseFloat(numberStr)) && isFinite(numberStr) && (numberStr > 0)\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = (intStr) => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = (name) => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs\r\n\t}\r\n}\r\n\r\nexport const validPassword = (password) => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const validQuickAccountCoupon = (coupon) => {\r\n\tcoupon = coupon || ''\r\n\tconst isValid = couponRegex.test(coupon)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404 from 'resources/404.png'\r\nimport Img from 'components/common/img/Img'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass PageNotFound extends React.Component {\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\ttitle,\r\n\t\t\tsubtitle,\r\n\t\t\tgoToTxt,\r\n\t\t\tgoToPath,\r\n\t\t\tskipGoToButton\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classes.wrapper}\r\n\t\t\t>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t\tjustify='center'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tclassName={classes.text}\r\n\t\t\t\t\t\t\tvariant='h3'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(title || '404_TEXT')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t{subtitle &&\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tclassName={classes.text}\r\n\t\t\t\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tinline\r\n\t\t\t\t\t\t\tclassName={classes.text}\r\n\t\t\t\t\t\t\tvariant='h1'\r\n\t\t\t\t\t\t\tstyle={{ textTransform: 'uppercase' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('404')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\tsrc={IMG_404}\r\n\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{!skipGoToButton && <RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool\r\n}\r\n\r\nexport default Translate(withStyles(styles)(PageNotFound))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto'\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\r\n// import { Models } from 'adex-models'\r\nimport classnames from 'classnames'\r\nimport { Prompt } from 'react-router'\r\nimport Translate from 'components/translate/Translate'\r\nimport { items as ItemsConstants } from 'adex-constants'\r\nimport Img from 'components/common/img/Img'\r\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport InfoOutlineIcon from '@material-ui/icons/Info'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport { styles } from './styles'\r\nimport { validName } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\n\r\nconst { AdSizesByValue } = ItemsConstants\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass Item extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.save = this.save.bind(this)\r\n\t\t\tthis.state = {\r\n\t\t\t\tactiveFields: {},\r\n\t\t\t\titem: null,\r\n\t\t\t\tinitialItemState: {},\r\n\t\t\t\tdirtyProps: [],\r\n\t\t\t\teditImg: false,\r\n\t\t\t\t_activeInput: null\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateNav = (item = {}) => {\r\n\t\t\tconst { actions, t, itemType } = this.props\r\n\t\t\tactions.updateNav('navTitle', t(itemType, { isProp: true }) + ' > ' + item.title || '')\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tconst { item, matchId, objModel } = this.props\r\n\r\n\t\t\tif (!item) {\r\n\t\t\t\tthis.updateNav({ title: matchId })\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst initialItemState = new objModel(item)\r\n\r\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\r\n\t\t\tthis.updateNav(initialItemState)\r\n\t\t}\r\n\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t\t//     return diffProps || diffState\r\n\t\t// }\r\n\r\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item } = this.state\r\n\t\t\tlet currentItemInst = new objModel(item || {})\r\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\r\n\t\t\t// TODO: check the above\r\n\t\t\tlet nextItem = nextProps.item\r\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\r\n\r\n\t\t\t// if (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\r\n\t\t\tif (JSON.stringify(currentItemInst.plainObj()) !== JSON.stringify(nexItemInst.plainObj())) {\r\n\t\t\t\tthis.setState({ item: nexItemInst.plainObj(), initialItemState: nexItemInst, activeFields: {}, dirtyProps: [] })\r\n\t\t\t}\r\n\r\n\t\t\tthis.updateNav(nexItemInst)\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount() {\r\n\t\t\tif (this.state.item) {\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[name] = value\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (dp.indexOf(name) < 0) {\r\n\t\t\t\tdp.push(name)\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t}\r\n\r\n\t\treturnPropToInitialState = (propName) => {\r\n\t\t\tconst { objModel, actions } = this.props\r\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\r\n\t\t\tconst initialItemStateValue = initialItemState[propName]\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[propName] = initialItemStateValue\r\n\r\n\t\t\tconst dp = dirtyProps.filter((dp) => { return dp !== propName })\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t\t// TEMP fix, we assume that the initial values are validated\r\n\t\t\tactions.resetValidationErrors(item.id, propName)\r\n\t\t}\r\n\r\n\t\tsetActiveFields = (field, value) => {\r\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\r\n\t\t\tnewActiveFields[field] = value\r\n\t\t\tthis.setState({ activeFields: newActiveFields })\r\n\t\t}\r\n\r\n\t\t//TODO: Do not save if not dirty!\r\n\t\tsave = () => {\r\n\r\n\t\t\tif (this.state.dirtyProps.length && !this.props.spinner) {\r\n\t\t\t\tlet item = { ...this.state.item }\r\n\t\t\t\tthis.props.actions.updateItem({\r\n\t\t\t\t\titem: item,\r\n\t\t\t\t\tauthSig: this.props.account.wallet.authSig\r\n\t\t\t\t})\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + item.id, true)\r\n\t\t\t\tthis.setState({ dirtyProps: [] })\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tisDirtyProp(prop) {\r\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\r\n\t\t}\r\n\r\n\t\thandleToggle = () => {\r\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\r\n\r\n\t\t\tif (isDemo) return\r\n\r\n\t\t\tlet active = this.state.editImg\r\n\t\t\tthis.setState({ editImg: !active })\r\n\t\t}\r\n\r\n\t\tisNameValid(name) {\r\n\t\t\tconst { msg } = validName(name)\r\n\t\t\treturn !msg\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { validations, classes, t, account, itemType, objModel, matchId, side, ...rest } = this.props\r\n\t\t\tconst propsItem = this.props.item\r\n\r\n\t\t\tif (!propsItem) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PageNotFound\r\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', { args: [itemType, matchId] })}\r\n\t\t\t\t\t\tskipGoToButton\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n        \t/*\r\n                * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\r\n                * in this case there is no need to make instance inside them\r\n            */\r\n\r\n\t\t\tconst isDemo = account._authType === 'demo'\r\n\t\t\tconst item = new objModel(this.state.item || {})\r\n\t\t\tlet canEdit = itemType === 'AdSlot'\r\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\r\n\r\n\t\t\tconst titleErr = validName(item.title)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Prompt\r\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{(itemType !== 'Campaign') &&\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div >\r\n\t\t\t\t\t\t\t\t<ImgDialog\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\r\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\r\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\t\twidth={this.props.updateImgWidth || (AdSizesByValue[item.size] || {}).width}\r\n\t\t\t\t\t\t\t\t\theight={this.props.updateImgHeight || (AdSizesByValue[item.size] || {}).height}\r\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\r\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\r\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\r\n\t\t\t\t\t\t\t\t\timgPropName='img'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{!!this.state.dirtyProps.length &&\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.changesLine}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\r\n\t\t\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\r\n                            \t</span>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dirtyProps.map((p) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2} >\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!titleErr.msg}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel >{t('title', { isProp: true })}</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={(ev) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitleErr && !!titleErr.msg ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitleErr.msg : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(ev) => this.setActiveFields('title', true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{(titleErr && !!titleErr.msg) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(titleErr.msg, { args: titleErr.errMsgArgs })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText >\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"adornment-password\">{t('description', { isProp: true })}</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={(ev) => this.setActiveFields('description', false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo || true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(ev) => this.setActiveFields('description', true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!item.description &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText >\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Grid >\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo &&\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.mediaRoot, classes.imgContainer)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, { [classes.pointer]: this.props.canEditImg && !isDemo })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Grid >\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<SaveBtn\r\n\t\t\t\t\t\t\t\t\tspinnerId={'update' + item.id}\r\n\t\t\t\t\t\t\t\t\tvalidationId={'update-' + item.id}\r\n\t\t\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\r\n\t\t\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\t\t\t// TODO: validate wit item validation HOC!!!\r\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.dirtyProps.length || !this.isNameValid(this.state.item.title)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\r\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\r\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\r\n\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\tisDemo={isDemo}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div >\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItem.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\titem: PropTypes.object.isRequired,\r\n\t\tspinner: PropTypes.bool,\r\n\t\titemType: PropTypes.string.isRequired,\r\n\t\tobjModel: PropTypes.func.isRequired\r\n\t}\r\n\r\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\r\n\r\n\t\tlet keys = Object.keys(items)\r\n\r\n\t\tfor (let index = 0; index < keys.length; index++) {\r\n\t\t\tconst key = keys[index]\r\n\t\t\tconst item = items[key]\r\n\r\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist } = state\r\n\t\t// const memory = state.memory\r\n\t\tconst items = persist.items[props.itemType]\r\n\t\tconst id = props.match.params.itemId\r\n\t\tlet item = items[id]\r\n\r\n\t\tif (!item && (props.itemType !== undefined)) {\r\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\titem: item,\r\n\t\t\tvalidateId: 'update-' + item,\r\n\t\t\tmatchId: id\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport classnames from 'classnames'\r\nimport { styles } from './styles'\r\n\r\nclass Dropdown extends React.Component {\r\n\r\n    handleChange = event => {\r\n    \tthis.props.onChange(event.target.value)\r\n    }\r\n\r\n    render() {\r\n    \tconst {\r\n    \t\tclasses,\r\n    \t\tlabel = '',\r\n    \t\tvalue,\r\n    \t\tsource,\r\n    \t\thtmlId = 'some-id',\r\n    \t\tname = '',\r\n    \t\tdisabled = false,\r\n    \t\terror = false,\r\n    \t\thelperText,\r\n    \t\t// margin = '',\r\n    \t\tfullWidth = false,\r\n    \t\tclassName,\r\n    \t\trequired\r\n\r\n    \t} = this.props\r\n\r\n    \t// TODO: add native renderer for mobile devices when supported\r\n    \treturn (\r\n    \t\t<FormControl\r\n    \t\t\tclassName={classnames(className, classes.formControl)}\r\n    \t\t\tdisabled={disabled}\r\n    \t\t\terror={error}\r\n    \t\t\tfullWidth={fullWidth}\r\n    \t\t>\r\n    \t\t\t<InputLabel htmlFor={htmlId} required={required}>{label}</InputLabel>\r\n    \t\t\t<Select\r\n    \t\t\t\tvalue={value.id || value}\r\n    \t\t\t\tonChange={this.handleChange}\r\n    \t\t\t\tinput={<Input name={name} id={htmlId} />}\r\n    \t\t\t>\r\n\r\n    \t\t\t\t{[...source].map((src) => {\r\n    \t\t\t\t\treturn (\r\n    \t\t\t\t\t\t<MenuItem\r\n    \t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n    \t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n    \t\t\t\t\t\t>\r\n    \t\t\t\t\t\t\t{src.label}\r\n    \t\t\t\t\t\t</MenuItem>\r\n    \t\t\t\t\t)\r\n    \t\t\t\t})}\r\n    \t\t\t</Select>\r\n    \t\t\t{helperText &&\r\n                    <FormHelperText>{helperText}</FormHelperText>\r\n    \t\t\t}\r\n    \t\t</FormControl>\r\n    \t)\r\n    }\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tname: PropTypes.string,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string\r\n}\r\n\r\nexport default withStyles(styles)(Dropdown)","export const styles = theme => ({\r\n\tformControl: {\r\n\t\t// margin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n\tselectEmpty: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n})","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\t// const iconButtonSize = 48 - (spacing * 2)\r\n\treturn {\r\n\t\tcontrols: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexDirection: 'row',\r\n\t\t},\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tflexItem: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\trowButton: {\r\n\t\t\tmarginTop: spacing * 1.5,\r\n\t\t\t// width: iconButtonSize,\r\n\t\t\t// height: iconButtonSize\r\n\t\t},\r\n\t\trwoButtonRoot: {\r\n\t\t\tmargin: spacing / 2,\r\n\t\t},\r\n\t\trow: {\r\n\t\t\tdisplay: 'block'\r\n\t\t},\r\n\t\tbottomControls: {\r\n\t\t\tjustifyContent: 'flex-start'\r\n\t\t},\r\n\t\tlistRoot: {\r\n\t\t\tpaddingBottom: spacing * 1.5,\r\n\t\t\toverflowX: 'auto',\r\n\t\t},\r\n\t\tcontrolsRoot: {\r\n\t\t\tpadding: spacing * 1.5,\r\n\t\t\tpaddingBottom: spacing * 0.5,\r\n\t\t\t// marginBottom: spacing * 2\r\n\t\t},\r\n\t\tpageSize: {\r\n\t\t\twidth: '100px'\r\n\t\t}\r\n\t}\r\n}\r\n","import React from 'react'\r\n// import Slider from '@material-ui/core/Slider'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft'\r\nimport ChevronRight from '@material-ui/icons/ChevronRight'\r\nimport Dropdown from 'components/common/dropdown'\r\n// import Typography from '@material-ui/core/Typography'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nexport const PAGE_SIZES = [\r\n\t{ value: 5, label: 5 },\r\n\t{ value: 10, label: 10 },\r\n\t{ value: 20, label: 20 },\r\n\t{ value: 46, label: 46 },\r\n]\r\n\r\nconst pagination = (props) => {\r\n\r\n\tconst {\r\n\t\tpage,\r\n\t\tpages,\r\n\t\t// pageSize,\r\n\t\tclasses,\r\n\t\tgoToPrevPage,\r\n\t\tgoToNextPage,\r\n\t\tgoToPage,\r\n\t\t// changePageSize,\r\n\t\t// className,\r\n\t\tt\r\n\t} = props\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classes.flexRow}\r\n\t\t>\r\n\t\t\t{pages > 1 &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classnames(classes.flexItem, classes.flexRow)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_PAGE')}\r\n\t\t\t\t\t\t\thelperText={t('LIST_CONTROL_LABEL_PAGE_OF', { args: [pages] })}\r\n\t\t\t\t\t\t\tonChange={goToPage}\r\n\t\t\t\t\t\t\tsource={getAllPagedValues(page, pages)}\r\n\t\t\t\t\t\t\tvalue={page + ''}\r\n\t\t\t\t\t\t\thtmlId='page-size-select'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tdisabled={!(page > 0 && pages > page)}\r\n\t\t\t\t\t\tonClick={goToPrevPage}\r\n\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ChevronLeft />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tdisabled={!(page < (pages - 1))}\r\n\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ChevronRight />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{/* <div\r\n\t\t\t\tclassName={classnames(classes.flexItem, classes.pageSize)}\r\n\t\t\t>\r\n\t\t\t\t<Typography noWrap id=\"page-size\">{t('LIST_CONTROL_LABEL_PAGE_SIZE')} <strong>{pageSize}</strong> </Typography>\r\n\t\t\t\t<Slider style={{ padding: '22px 0' }} aria-labelledby=\"page-size\" min={5} max={25} step={5} value={pageSize} onChange={changePageSize} />\r\n\t\t\t</div> */}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const Pagination = withStyles(styles)(pagination)\r\n\r\nconst getAllPagedValues = (current, max) => {\r\n\t// let pages = {}\r\n\r\n\t// for (var index = 0; index < max; index++) {\r\n\t//     pages[index + ''] = index + 1 + ''\r\n\t// }\r\n\r\n\tlet pages = []\r\n\r\n\tfor (var index = 0; index < max; index++) {\r\n\t\tpages.push({ value: index + '', label: index + 1 + '' })\r\n\t}\r\n\r\n\treturn pages\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Input from '@material-ui/core/Input'\r\nimport { Pagination } from './Controls'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnasmes'\r\n// import Radio from '@material-ui/core/Radio'\r\n// import RadioGroup from '@material-ui/core/RadioGroup'\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward'\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport classnames from 'classnames'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst INT_STRING = /^[0-9]+$/\r\nconst PAGE_SIZE = 50\r\n\r\nconst mapFilterProps = ({ filterProps = {}, t }) => {\r\n\treturn Object.keys(filterProps)\r\n\t\t.map((key) => {\r\n\t\t\tconst prop = filterProps[key]\r\n\t\t\tconst label = prop.label || key\r\n\t\t\treturn {\r\n\t\t\t\tlabel: t(label, { isProp: prop.labelIsProp || !prop.label, args: prop.labelArgs || [] }),\r\n\t\t\t\tvalue: key\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nconst mapSortProperties = ({ sortProps = [], t }) => {\r\n\treturn sortProps.map((prop) => {\r\n\t\tconst label = prop.label || prop.value\r\n\t\tconst value = ((prop.value !== null && prop.value !== undefined)\r\n\t\t\t? prop.value : '').toString()\r\n\r\n\t\treturn {\r\n\t\t\tvalue,\r\n\t\t\tlabel: t(label, { isProp: !prop.label, args: prop.labelArgs || [] })\r\n\t\t}\r\n\t})\r\n}\r\n\r\nclass ListWithControls extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context);\r\n\r\n\t\tconst uiStateId = props.uiStateId\r\n\r\n\r\n\t\tconst sortProperties = mapSortProperties({ sortProps: props.sortProperties || [{}], t: props.t })\r\n\t\t// TODO: update on ComponentWillReceiveProps\r\n\t\tthis.state = {\r\n\t\t\titems: [],\r\n\t\t\tpage: 0, //\r\n\t\t\tsearch: '', //\r\n\t\t\tsortProperties: sortProperties,\r\n\t\t\tfilterProperties: mapFilterProps({ filterProps: props.filterProperties, t: props.t }),\r\n\t\t\tfilteredItems: [],\r\n\t\t\tfilterBy: '', //\r\n\t\t\tfilterByValues: [],\r\n\t\t\tfilterByValueFilter: '', //\r\n\t\t\tuiStateId: uiStateId\r\n\t\t}\r\n\t}\r\n\r\n\tgoToPage(page) {\r\n\t\tthis.setState({ page: parseInt(page, 10) })\r\n\t}\r\n\r\n\thandleChange = (name, value) => {\r\n\t\tlet newStateValue = { [name]: value }\r\n\t\tif (name === 'search') newStateValue.page = 0\r\n\t\tif (name === 'filterBy') {\r\n\t\t\tnewStateValue.filterByValues = ([{ label: 'ALL', value: '' }].concat(this.props.filterProperties[value].values))\r\n\t\t\tnewStateValue.filterByValueFilter = ''\r\n\t\t}\r\n\t\tthis.setState(newStateValue);\r\n\t}\r\n\r\n\t// For changing redux state\r\n\thandleChangeRxState = (name, value) => {\r\n\t\tthis.props.actions.updateUi(name, value, this.state.uiStateId)\r\n\t}\r\n\r\n\tchangePageSize = (name, { itemsLength, page, pages } = {}, ev, newPageSize) => {\r\n\t\t/*\r\n    \tlet currentPageSize = this.props.pageSize\r\n    \tlet currentFirstIndex = page * currentPageSize // To have at least the first item on current page on the next page\r\n\t\tlet nextPage = Math.floor(currentFirstIndex / newPageSize)\r\n\t\t*/\r\n\t\tthis.props.actions.updateUi('pageSize', newPageSize, this.state.uiStateId)\r\n\t}\r\n\r\n\tsearch = ({ item, search, searchMatch }) => {\r\n\t\tconst regex = new RegExp(search, 'i')\r\n\t\tlet matchString = null\r\n\t\tif (typeof searchMatch === 'function') {\r\n\t\t\tmatchString = searchMatch(item)\r\n\t\t} else if (typeof searchMatch === 'string' && !!searchMatch) {\r\n\t\t\tmatchString = searchMatch\r\n\t\t} else {\r\n\t\t\tmatchString =\r\n\t\t\t\t(item.title || '') +\r\n\t\t\t\t(item.description || '')\r\n\t\t}\r\n\r\n\t\tconst match = regex.exec(matchString)\r\n\t\treturn !!match\r\n\t}\r\n\r\n\tfilterItems = ({ items, search, sortProperty, sortOrder, page, pageSize, searchMatch, filterBy, filterArchived }) => {\r\n\t\t// TODO: optimize filter\r\n\t\t// TODO: maybe filter deleted before this?\r\n\t\tlet filtered = (items || [])\r\n\t\t\t.filter((i) => {\r\n\t\t\t\tconst isItem = (!!i && (i.id || i.ipfs))\r\n\t\t\t\tif (!isItem) return isItem\r\n\r\n\t\t\t\tif ((filterArchived !== '') && (i.archived !== undefined) && (filterArchived.toString() !== i.archived.toString())) {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (filterBy && filterBy.key && (filterBy.value)) {\r\n\t\t\t\t\tlet itemValue = filterBy.key.split('.')\r\n\t\t\t\t\t\t.reduce((o, p) => o ? o[p] : 'noprop', i) || ''\r\n\r\n\t\t\t\t\tlet passFilter = itemValue.toString() === filterBy.value.toString()\r\n\r\n\t\t\t\t\tif (!passFilter) {\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet hasSearch = !!search\r\n\t\t\t\tif (!hasSearch) return isItem\r\n\r\n\t\t\t\treturn this.search({ item: i, search, searchMatch })\r\n\t\t\t})\r\n\r\n\t\tif (sortProperty) {\r\n\t\t\tfiltered = filtered.sort((a, b) => {\r\n\t\t\t\tlet propA = a[sortProperty]\r\n\t\t\t\tlet propB = b[sortProperty]\r\n\r\n\t\t\t\tif (INT_STRING.test(propA) && INT_STRING.test(propB)) {\r\n\t\t\t\t\tpropA = bigNumberify(propA)\r\n\t\t\t\t\tpropB = bigNumberify(propB)\r\n\t\t\t\t\treturn (propA.lt(propB) ? -1 : (propA.gt(propB) ? 1 : 0)) * sortOrder\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (propA < propB ? -1 : (propA > propB ? 1 : 0)) * sortOrder\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tlet filteredLength = filtered.length\r\n\r\n\t\tlet maxPages = Math.ceil(filteredLength / pageSize)\r\n\r\n\t\tlet paged = filtered.slice(\r\n\t\t\tpage * pageSize,\r\n\t\t\t(page * pageSize) + pageSize\r\n\t\t)\r\n\r\n\t\treturn {\r\n\t\t\titems: paged,\r\n\t\t\tpage: page,\r\n\t\t\tpages: maxPages,\r\n\t\t\titemsLength: filteredLength,\r\n\t\t\tpageSize: pageSize\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet data = this.filterItems({\r\n\t\t\titems: this.props.items,\r\n\t\t\tsearch: this.state.search,\r\n\t\t\tsortProperty: this.props.sortProperty || (this.state.sortProperties)[0].value,\r\n\t\t\tsortOrder: this.props.sortOrder || -1,\r\n\t\t\tpage: this.state.page,\r\n\t\t\tpageSize: PAGE_SIZE, // this.props.pageSize || 10,\r\n\t\t\tsearchMatch: this.props.searchMatch,\r\n\t\t\tfilterBy: { key: this.state.filterBy, value: this.state.filterByValueFilter },\r\n\t\t\tfilterArchived: this.props.filterArchived || 'false'\r\n\t\t})\r\n\r\n\t\tlet items = data.items\r\n\t\tlet renderItems\r\n\r\n\t\trenderItems = this.props.renderRows\r\n\r\n\t\tconst { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Paper>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classes.controlsRoot}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.controls}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\tclassName={classnames(classes.flexItem)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"search\">{t('LIST_CONTROL_LABEL_SEARCH')}</InputLabel>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname='search'\r\n\t\t\t\t\t\t\t\tid=\"search\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.search}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChange('search', ev.target.value)}\r\n\t\t\t\t\t\t\t\tstartAdornment={<InputAdornment position=\"start\"><SearchIcon /></InputAdornment>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classnames(classes.flexRow, classes.flexItem)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_SORT')}\r\n\t\t\t\t\t\t\t\tonChange={this.handleChangeRxState.bind(this, 'sortProperty')}\r\n\t\t\t\t\t\t\t\tsource={this.state.sortProperties}\r\n\t\t\t\t\t\t\t\tvalue={this.props.sortProperty || (this.state.sortProperties)[0].value}\r\n\t\t\t\t\t\t\t\thtmlId='sort-by-prop'\r\n\t\t\t\t\t\t\t\tname='sortProperty'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor={(this.props.sortOrder === 1) ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleChangeRxState.bind(this, 'sortOrder', 1)}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ArrowUpwardIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor={(this.props.sortOrder === -1) ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleChangeRxState.bind(this, 'sortOrder', -1)}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ArrowDownwardIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{/* {this.props.filterProperties &&\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classnames(classes.flexRow)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tclassName={classnames(classes.flexItem)}\r\n\t\t\t\t\t\t\t\t\tauto\r\n\t\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_FILTER_BY')}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange.bind(this, 'filterBy')}\r\n\t\t\t\t\t\t\t\t\tsource={this.state.filterProperties}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.filterBy !== null ? this.state.filterBy.toString() : ''}\r\n\t\t\t\t\t\t\t\t\thtmlId='filter-by-prop-dd'\r\n\t\t\t\t\t\t\t\t\tname='filterBy'\r\n\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tclassName={classnames(classes.flexItem)}\r\n\t\t\t\t\t\t\t\t\tauto\r\n\t\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_FILTER_BY_VALUE')}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange.bind(this, 'filterByValueFilter')}\r\n\t\t\t\t\t\t\t\t\tsource={mapSortProperties({ sortProps: this.state.filterByValues, t: this.props.t })}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.filterByValueFilter !== null ? this.state.filterByValueFilter.toString() : ''}\r\n\t\t\t\t\t\t\t\t\thtmlId='filter-by-value-dd'\r\n\t\t\t\t\t\t\t\t\tname='filterByValueFilter'\r\n\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.filterBy}\r\n\t\t\t\t\t\t\t\t\thelperText={t('HELPER_TXT_FILTER_BY_VALUE')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t} */}\r\n\r\n\t\t\t\t\t\t{/* {this.props.archive &&\r\n\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\tname='archived'\r\n\t\t\t\t\t\t\t\tvalue={typeof this.props.filterArchived === 'string' ? this.props.filterArchived.toString() : 'false'}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeRxState('filterArchived', ev.target.value)}\r\n\t\t\t\t\t\t\t\tclassName={classnames(classes.flexRow, classes.flexItem)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='false' control={<Radio color='primary' />} label={t('LABEL_ACTIVE')} />\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='true' control={<Radio color='primary' />} label={t('LABEL_ARCHIVED')} />\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='' control={<Radio color='primary' />} label={t('LABEL_ALL')} />\r\n\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t} */}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classnames(classes.controls, classes.bottomControls)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tpage={data.page}\r\n\t\t\t\t\t\t\t\tpages={data.pages}\r\n\t\t\t\t\t\t\t\tpageSize={PAGE_SIZE || this.props.pageSize || 10}\r\n\t\t\t\t\t\t\t\titemsLength={data.itemsLength}\r\n\t\t\t\t\t\t\t\tgoToPage={this.goToPage.bind(this)}\r\n\t\t\t\t\t\t\t\tgoToLastPage={this.goToPage.bind(this, data.pages - 1)}\r\n\t\t\t\t\t\t\t\tgoToNextPage={this.goToPage.bind(this, data.page + 1)}\r\n\t\t\t\t\t\t\t\tgoToFirstPage={this.goToPage.bind(this, 0)}\r\n\t\t\t\t\t\t\t\tgoToPrevPage={this.goToPage.bind(this, data.page - 1)}\r\n\t\t\t\t\t\t\t\tchangePageSize={this.changePageSize.bind(this, 'pageSize',\r\n\t\t\t\t\t\t\t\t\t{ page: data.page, pages: data.pages, itemsLength: data.itemsLength })\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div >\r\n\t\t\t\t\t</div >\r\n\t\t\t\t</div >\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classnames(classes.listRoot)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{renderItems(items)}\r\n\t\t\t\t</div>\r\n\t\t\t</Paper >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nListWithControls.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titemRenderer: PropTypes.func,\r\n\tside: PropTypes.string.isRequired,\r\n\tobjModel: PropTypes.func,\r\n\tsortProperties: PropTypes.array.isRequired,\r\n\tfilterProperties: PropTypes.object,\r\n\tuiStateId: PropTypes.string.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\r\n\t// TODO: A little hacky, maybe find a better way\r\n\t// Gets the last path in URL. ex: https://localhost:3000/dashboard/publisher/slots -> slots\r\n\tconst uiStateId = props.uiStateId || 'default'\r\n\treturn {\r\n\t\trowsView: !!persist.ui[props.viewModeId],\r\n\t\tpageSize: persist.ui[uiStateId] ? persist.ui[uiStateId]['pageSize'] || 10 : 10,\r\n\t\tsortProperty: persist.ui[uiStateId] ? persist.ui[uiStateId]['sortProperty'] : null,\r\n\t\tsortOrder: persist.ui[uiStateId] ? persist.ui[uiStateId]['sortOrder'] || - 1 : -1,\r\n\t\tfilterArchived: persist.ui[uiStateId] ? persist.ui[uiStateId]['filterArchived'] || false : false,\r\n\t\tside: memory.nav.side,\r\n\t\taccount: persist.account,\r\n\t\tsortProperties: props.sortProperties || [],\r\n\t\tfilterProperties: props.filterProperties,\r\n\t\tuiStateId: uiStateId\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(ListWithControls)))\r\n","import React, { Component } from 'react'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableBody from '@material-ui/core/TableBody'\r\n\r\nclass Rows extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\t// TODO: maybe in the store?\r\n\t\t\tselected: []\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\t// Reset selected\r\n\t\t// TODO: make better check because this will always  return true\r\n\t\tif (nextProps.rows !== this.props.rows) {\r\n\t\t\tthis.setState({ selected: [] })\r\n\t\t}\r\n\t}\r\n\r\n\thandleRowSelect = (selected) => {\r\n\t\tlet newSelected = selected.map((index) => this.props.rows[index].id)\r\n\t\tthis.setState({ selected: newSelected });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { side, rows, padding, itemType, size } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tsize={size || 'small'}\r\n\t\t\t\t\tpadding={padding || 'default'}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.props.tableHeadRenderer({ selected: this.state.selected })}\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trows.map((u, i) => {\r\n\t\t\t\t\t\t\t\tlet to = `/dashboard/${side}/${itemType}/${u.id || u.ipfs}`\r\n\t\t\t\t\t\t\t\tlet selected = this.state.selected.indexOf(u.id) !== -1\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\tthis.props.rowRenderer(u, i, { to, selected, itemType })\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Rows\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ListWithControls from 'components/dashboard/containers/Lists/ListWithControls'\r\nimport classnames from 'classnames'\r\nimport TableCellMui from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport Button from '@material-ui/core/Button'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Img from 'components/common/img/Img'\r\nimport Rows from 'components/dashboard/collection/Rows'\r\nimport Translate from 'components/translate/Translate'\r\n// import DeleteIcon from '@material-ui/icons/Delete'\r\n// import ArchiveIcon from '@material-ui/icons/Archive'\r\n// import UnarchiveIcon from '@material-ui/icons/Unarchive'\r\n// import RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline'\r\n// import AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\n\r\nconst TableCell = ({ children, ...rest }) =>\r\n\t<TableCellMui\r\n\t\t{...rest}\r\n\t>\r\n\t\t{!!children && children}\r\n\t</TableCellMui >\r\n\r\nconst RRTableCell = withReactRouterLink(TableCell)\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass ItemsList extends Component {\r\n\trenderTableHead = ({ selected }) => {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tselectedItems,\r\n\t\t\tselectMode,\r\n\t\t\tnoActions,\r\n\t\t\t// itemType\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{selectMode &&\r\n\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t{Object.keys(selectedItems).length || ''}\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<TableCell> {t('PROP_MEDIA')}</TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_TITLE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_TYPE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_CREATED')} </TableCell>\r\n\r\n\t\t\t\t\t{!noActions &&\r\n\t\t\t\t\t\t<TableCell> {t('ACTIONS')} </TableCell>\r\n\t\t\t\t\t}\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\trenderCampaignTableHead = ({ selected }) => {\r\n\t\tconst { t, selectedItems, selectMode, noActions } = this.props\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{selectMode &&\r\n\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t{Object.keys(selectedItems).length || ''}\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<TableCell> {t('PROP_MEDIA')}</TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_STATUS')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_DEPOSIT')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_DISTRIBUTED', { args: ['%'] })} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_CPM')} </TableCell>\r\n\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t{/* {t('PROP_CREATED')}/ <br /> */}\r\n\t\t\t\t\t\t{t('PROP_STARTS')}/ <br />\r\n\t\t\t\t\t\t{t('PROP_ENDS')}\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t{!noActions &&\r\n\t\t\t\t\t\t<TableCell> {t('ACTIONS')} </TableCell>\r\n\t\t\t\t\t}\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\trenderTableRow = (item, index, { to, selected }) => {\r\n\t\tconst {\r\n\t\t\t// t,\r\n\t\t\tclasses,\r\n\t\t\tselectMode,\r\n\t\t\tselectedItems,\r\n\t\t\tonSelect,\r\n\t\t\tnoActions\r\n\t\t} = this.props\r\n\t\t// const ImagCell = noActions ? TableCell : RRTableCell\r\n\r\n\t\treturn (\r\n\t\t\t<TableRow\r\n\t\t\t\tkey={item.ipfs || index}\r\n\t\t\t\tselected={selectedItems[item.ipfs]}\r\n\t\t\t>\r\n\t\t\t\t{selectMode &&\r\n\t\t\t\t\t<TableCell padding=\"checkbox\">\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t// indeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\t\t\t\tchecked={selectedItems[item.ipfs]}\r\n\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\tonSelect(item.ipfs, event.target.checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={item.mediaUrl || item.fallbackMediaiUrl || ''}\r\n\t\t\t\t\t\talt={item.title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<RRTableCell\r\n\t\t\t\t\t// className={tableTheme.link}\r\n\t\t\t\t\tto={to}\r\n\t\t\t\t>\r\n\t\t\t\t\t{item.title}\r\n\t\t\t\t</RRTableCell>\r\n\t\t\t\t<TableCell> {item.type} </TableCell>\r\n\t\t\t\t<TableCell> {formatDateTime(item.created)} </TableCell>\r\n\t\t\t\t{!noActions &&\r\n\t\t\t\t\tthis.renderActions({ item, to })\r\n\t\t\t\t}\r\n\t\t\t</TableRow>\r\n\t\t)\r\n\t}\r\n\r\n\r\n\trenderCampaignTableRow = (item, index, { to, selected }) => {\r\n\t\tconst {\r\n\t\t\tselectMode,\r\n\t\t\tselectedItems,\r\n\t\t\tonSelect,\r\n\t\t\tnoActions,\r\n\t\t\tclasses\r\n\t\t} = this.props\r\n\r\n\t\tconst status = item.status || {}\r\n\t\treturn (\r\n\t\t\t<TableRow\r\n\t\t\t\tkey={item.ipfs || index}\r\n\t\t\t\tselected={selectedItems[item.ipfs]}\r\n\t\t\t>\r\n\t\t\t\t{selectMode &&\r\n\t\t\t\t\t<TableCell padding=\"checkbox\">\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t// indeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\t\t\t\tchecked={selectedItems[item.ipfs]}\r\n\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\tonSelect(item.ipfs, event.target.checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={item.mediaUrl || (item.adUnits ? item.adUnits[0].mediaUrl || '' : '')}\r\n\t\t\t\t\t\talt={item.title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell> {status.name} </TableCell>\r\n\t\t\t\t<TableCell>\t{formatTokenAmount(item.depositAmount, 18, true)} DAI </TableCell>\r\n\t\t\t\t<TableCell> {((status.fundsDistributedRatio || 0) / 10).toFixed(2)}</TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{formatTokenAmount(\r\n\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t18, true)} DAI\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{/* {formatDateTime(item.created)} <br /> */}\r\n\t\t\t\t\t{formatDateTime(item.activeFrom)} <br />\r\n\t\t\t\t\t{formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t{!noActions &&\r\n\t\t\t\t\tthis.renderActions({ item, to })\r\n\t\t\t\t}\r\n\t\t\t</TableRow>\r\n\t\t)\r\n\t}\r\n\r\n\trenderActions = ({ item, to }) => {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// account,\r\n\t\t\t// actions,\r\n\t\t\t// itemType\r\n\t\t} = this.props\r\n\t\t// const itemName = item.title\r\n\t\t// const itemTypeName = t(itemType, { isProp: true })\r\n\t\t// const isDemo = account.wallet.address === 'demo'\r\n\r\n\t\treturn (\r\n\t\t\t<TableCell>\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LABEL_VIEW')}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t{/* {!item.archived &&\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('TOOLTIP_ARCHIVE')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t// label={t('ARCHIVE')}\r\n\t\t\t\t\t\t\t// className={RTButtonTheme.danger}\r\n\t\t\t\t\t\t\tonClick={actions.confirmAction.bind(this,\r\n\t\t\t\t\t\t\t\tactions.archiveItem.bind(this, { item: item, authSig: account.wallet.authSig }),\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\tcancelLabel: t('CONFIRM_NO'),\r\n\t\t\t\t\t\t\t\t\ttext: t('ARCHIVE_ITEM', { args: [itemTypeName, itemName] }),\r\n\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_SURE')\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ArchiveIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\t\t\t\t{item.archived &&\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('TOOLTIP_UNARCHIVE')}\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t// label={t('UNARCHIVE')}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={actions.confirmAction.bind(this,\r\n\t\t\t\t\t\t\t\tactions.unarchiveItem.bind(this, { item: item, authSig: account.wallet.authSig }),\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\tcancelLabel: t('CONFIRM_NO'),\r\n\t\t\t\t\t\t\t\t\ttext: t('UNARCHIVE_ITEM', { args: [itemType, itemName] }),\r\n\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_SURE')\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<UnarchiveIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t} */}\r\n\t\t\t</TableCell>\r\n\t\t)\r\n\t}\r\n\r\n\trenderRows = (items) => {\r\n\t\tconst { itemType, side, padding } = this.props\r\n\t\treturn (<Rows\r\n\t\t\tpadding={padding}\r\n\t\t\tside={side}\r\n\t\t\trows={items}\r\n\t\t\titemType={itemType}\r\n\t\t\trowRenderer={itemType === 'Campaign'\r\n\t\t\t\t? this.renderCampaignTableRow\r\n\t\t\t\t: this.renderTableRow}\r\n\t\t\ttableHeadRenderer={itemType === 'Campaign'\r\n\t\t\t\t? this.renderCampaignTableHead\r\n\t\t\t\t: this.renderTableHead}\r\n\t\t/>)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\titems,\r\n\t\t\tviewModeId,\r\n\t\t\tside,\r\n\t\t\tnoControls,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tif (noControls) {\r\n\t\t\treturn this.renderRows(items)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<ListWithControls\r\n\t\t\t\t{...rest}\r\n\t\t\t\titems={items}\r\n\t\t\t\tviewModeId={viewModeId}\r\n\t\t\t\tarchive\r\n\t\t\t\trenderRows={this.renderRows}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nItemsList.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tviewModeId: PropTypes.string.isRequired,\r\n\theader: PropTypes.string,\r\n\tobjModel: PropTypes.func.isRequired,\r\n\titemType: PropTypes.string.isRequired,\r\n\tsortProperties: PropTypes.array.isRequired,\r\n\tselectedItems: PropTypes.object,\r\n\tselectMode: PropTypes.bool,\r\n\tonSelect: PropTypes.func,\r\n\tnoControls: PropTypes.bool,\r\n\tnoActions: PropTypes.bool\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tside: memory.nav.side,\r\n\t\tselectedItems: props.selectedItems || {}\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(ItemsList)))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tcellImg: {\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxHeight: 70,\r\n\t\t\tmaxWidth: 180,\r\n\t\t\tcursor: 'pointer'\r\n\t\t}\r\n\t}\r\n}","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\twidth: 320,\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\t'@media(max-width:380px)': {\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tmarginBottom: spacing,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden'\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%'\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\r\n\t\t\ttop: 0,\r\n\t\t\tright: spacing\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport Img from 'components/common/img/Img'\r\nimport { validUrl } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n// import { utils } from 'ethers'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\n\r\nconst FallbackAdData = ({ item, t, rightComponent, url, classes, canEditImg, isDemo, ...rest }) => {\r\n\tconst errFallbackAdUrl = rest.invalidFields['fallbackAdUrl']\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\tclassName={classes.card}\r\n\t\t\traised={false}\r\n\t\t>\r\n\t\t\t<CardMedia\r\n\t\t\t\tclasses={{ root: classes.mediaRoot }}\r\n\t\t\t\tsrc=''\r\n\t\t\t>\r\n\t\t\t\t<Img\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\r\n\t\t\t\t\talt={item.fallbackTargetUrl}\r\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t/>\r\n\t\t\t</CardMedia>\r\n\t\t\t<Fab\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={rest.toggleFallbackImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\tdisabled={isDemo}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Fab>\r\n\t\t\t<CardContent>\r\n\t\t\t\t{rest.activeFields.fallbackTargetUrl ?\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t// required\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\r\n\t\t\t\t\t\tonChange={(ev) => rest.handleChange('fallbackTargetUrl', ev.target.value)}\r\n\t\t\t\t\t\t// maxLength={1024}\r\n\t\t\t\t\t\tonBlur={() => { rest.setActiveFields('fallbackTargetUrl', false); rest.validate('fallbackTargetUrl', { isValid: !item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl), err: { msg: 'ERR_INVALID_URL' }, dirty: true }); }}\r\n\t\t\t\t\t\tonFocus={() => rest.validate('fallbackTargetUrl', { isValid: !item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl), err: { msg: 'ERR_INVALID_URL' }, dirty: false })}\r\n\t\t\t\t\t\terror={errFallbackAdUrl && !!errFallbackAdUrl.dirty ? <span> {errFallbackAdUrl.errMsg} </span> : null}\r\n\t\t\t\t\t\thelperText={!errFallbackAdUrl || !errFallbackAdUrl.dirty ?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}\r\n\t\t\t\t\t\t\t</div> : null}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ?\r\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\r\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}> {t('NO_FALLBACK_URL_YET')}</span>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tdisabled={!canEditImg}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tonClick={() => rest.setActiveFields('fallbackTargetUrl', true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span className={classes.error}> {errFallbackAdUrl.errMsg} </span>\r\n\t\t\t\t\t\t\t</div> : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\r\n\r\nconst MediaCard = ({ classes, mediaUrl, mediaMime, title, canEditImg, toggleImgEdit, url }) => <Card\r\n\tclassName={classes.card}\r\n\traised={false}\r\n>\r\n\t<CardMedia\r\n\t\tclasses={{ root: classes.mediaRoot }}\r\n\t>\r\n\t\t<Img\r\n\t\t\tallowFullscreen={true}\r\n\t\t\tsrc={mediaUrl}\r\n\t\t\talt={title}\r\n\t\t\tclassName={classes.img}\r\n\t\t\tmediaMime={mediaMime}\r\n\t\t\tallowVideo\r\n\t\t/>\r\n\t</CardMedia>\r\n\t{canEditImg &&\r\n\t\t<Button\r\n\t\t\tvariant='fab'\r\n\t\t\tmini\r\n\t\t\tcolor='secondary'\r\n\t\t\tonClick={toggleImgEdit}\r\n\t\t\tclassName={classes.editIcon}\r\n\t\t>\r\n\t\t\t<EditIcon />\r\n\t\t</Button>\r\n\t}\r\n\r\n\t{url &&\r\n\t\t<CardContent>\r\n\t\t\t<Anchor href={url} target='_blank'>\r\n\t\t\t\t{url}\r\n\t\t\t</Anchor>\r\n\t\t</CardContent>\r\n\t}\r\n</Card>\r\n\r\nconst basicProps = ({ item, t, rightComponent, url, classes, canEditImg, itemType, ...rest }) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst mediaMime = item.mediaMime\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5} >\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titemType === 'AdSlot'\r\n\t\t\t\t\t\t\t\t? <ValidatedFallbackAdData validateId={item._id} item={item} t={t} url={url} classes={classes} canEditImg={canEditImg} {...rest} />\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7} >\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\tvalue={item.type}\r\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{Array.isArray(item.tags) &&\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags.map(tag => `\"${tag.tag}(${tag.score})\"`).join(',\\n')}\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('tags', { isProp: true }) + ` (${item.tags.length})`}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\trows={7}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t{rightComponent}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\r\n\t)\r\n}\r\n\r\nexport const BasicProps = withStyles(styles)(basicProps)\r\n\r\nconst campaignProps = ({ item, t, rightComponent, url, classes, canEditImg, itemType, ...rest }) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst status = item.status || {}\r\n\t// console.log('item', item)\r\n\treturn (\r\n\t\t<div >\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classes.basicInfo}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5} >\r\n\t\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7} >\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} >\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} >\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={((status.fundsDistributedRatio || 0) / 10).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatTokenAmount(item.depositAmount, 18) + ' DAI'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t18, true) + ' DAI'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\r\n\t\t\t\t\t{rightComponent}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div >\r\n\t)\r\n}\r\n\r\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\r\nexport const CampaignProps = withStyles(styles)(campaignProps)","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\r\nimport { SORT_PROPERTIES_ITEMS, FILTER_PROPERTIES_ITEMS } from 'constants/misc'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\n\r\nconst VIEW_MODE = 'campaignRowsView'\r\n\r\nexport class Campaign extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context);\r\n\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tstatistics: {}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.actions.updateCampaignState({ campaign: this.props.item })\r\n\t\t// this.props.actions.updateCampaignStatistics({ campaign: this.props.item })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tCampaignActions = ({ campaign, actions, t }) => {\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tonClick={() => actions.closeCampaign({ campaign })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// classes,\r\n\t\t\titem,\r\n\t\t\t// setActiveFields,\r\n\t\t\t// handleChange,\r\n\t\t\t// activeFields,\r\n\t\t\t// isDemo,\r\n\t\t\tactions,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\tconst units = item.spec.adUnits\r\n\t\tconst campaign = new CampaignModel(item)\r\n\r\n\t\tconst balances = campaign.state &&\r\n\t\t\tcampaign.state.lastApproved\r\n\t\t\t? campaign.state.lastApproved.newState.msg.balances\r\n\t\t\t: {}\r\n\r\n\t\tconst status = (campaign.status || {}).name\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CampaignProps\r\n\t\t\t\t\titem={campaign}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t// <UnitTargets\r\n\t\t\t\t\t\t// \t{...rest}\r\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\r\n\t\t\t\t\t\t// \tt={t}\r\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\r\n\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\tstatus === 'Ready' ||\r\n\t\t\t\t\t\t\tstatus === 'Active' ||\r\n\t\t\t\t\t\t\tstatus === 'Unhealthy'\r\n\t\t\t\t\t\t) &&\r\n\t\t\t\t\t\t<this.CampaignActions campaign={campaign} t={t} actions={actions} />\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar\r\n\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATE')} />\r\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{ marginTop: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(tabIndex === 0) &&\r\n\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\tsubheader={\r\n\t\t\t\t\t\t\t\t\t<ListSubheader component='div'>\r\n\t\t\t\t\t\t\t\t\t\t{t('BALANCES')}\r\n\t\t\t\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{Object.keys(balances).map(key =>\r\n\t\t\t\t\t\t\t\t\t<ListItem key={key}>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={formatTokenAmount(balances[key]) + ' DAI'}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondary={key}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(tabIndex === 1) &&\r\n\t\t\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\t\t\tremoveFromItem\r\n\t\t\t\t\t\t\t\titems={units}\r\n\t\t\t\t\t\t\t\tviewModeId={VIEW_MODE}\r\n\t\t\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\t\t\tobjModel={AdUnitModel}\r\n\t\t\t\t\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tuiStateId='campaign-units'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tunits: PropTypes.object.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titem: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tunits: persist.items['AdUnit'],\r\n\t\trowsView: !!persist.ui[VIEW_MODE],\r\n\t\tobjModel: CampaignModel,\r\n\t\titemType: 'Campaign',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(CampaignItem))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tflex: {\r\n\t\t\tflex: 1\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\tmarginTop: spacing * 2,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdatepicker: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t}\r\n\t}\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = ['#00BAFF', '#7EDBFF', '#FF9FA8', '#14DC9C', '#61FFB2', '#ABFFE5']\r\n\r\nexport let  CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9)\r\n\t}\r\n}\r\n\r\nwindow.hoi = CHARTS_COMMON_OPTIONS\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map((color) => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, {global: CHARTS_COMMON_OPTIONS})\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tlegendList: {\r\n\t\t\tlistStyle: 'none',\r\n\t\t\tpaddingLeft: 0\r\n\t\t},\r\n\t\tlegendSpan: {\r\n\t\t\twidth: '40px',\r\n\t\t\tminHeight: '13px',\r\n\t\t\tfloat: 'left',\r\n\t\t\tmargin: '0px 8px'\r\n\t\t},\r\n\t\tlegendListItem: {\r\n\t\t\theight: '20px',\r\n\t\t\tfontSize: '12px',\r\n\t\t\tmarginLeft: '8px',\r\n\t\t\tcolor: '#666',\r\n\t\t\tfontFamily: \"'Roboto', 'Arial', sans-serif\",\r\n\t\t\tcursor: 'pointer'\r\n\t\t},\r\n\t\tchartParent: {\r\n\t\t\theight: 'auto',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexWrap: 'wrap'\r\n\t\t},\r\n\t\tchartLabel: {\r\n\t\t\tmargin: '0 auto',\r\n\t\t\t'@media(min-width:650px) and (max-width:1279px)': {\r\n\t\t\t\tmargin: 'auto'\r\n\t\t\t}\r\n\t\t},\r\n\t\tchartContainer: {\r\n\t\t\tmargin: '0 auto',\r\n\t\t\t'@media(min-width:650px) and (max-width:1279px)': {\r\n\t\t\t\tmargin: 'auto'\r\n\t\t\t}\r\n\t\t},\r\n\t\tchartTitle: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tcolor: '#666',\r\n\t\t\tfontFamily: \"'Roboto', 'Arial', sans-serif\",\r\n\t\t\tflexBasis: '100%'\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport { BidsLegend } from '.'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass BidsStatusPie extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.doughnut = React.createRef()\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// Force update to get the doughnut ref\r\n\t\tthis.forceUpdate()\r\n\t}\r\n\r\n    componentWillUpdate = (nextProps, nextState) => {\r\n    \t// Hack to update doughnut ref\r\n    \tif (JSON.stringify(nextProps.pieData) !== JSON.stringify(this.props.pieData)) {\r\n    \t\tthis.forceUpdate()\r\n    \t}\r\n    }\r\n\r\n    render() {\r\n    \tconst pieData = this.props.pieData || {}\r\n    \tconst options = this.props.options || {}\r\n    \tconst { onPieClick } = this.props\r\n    \tconst classes = this.props.classes\r\n\r\n    \tlet opts = {\r\n    \t\t// responsive: true,\r\n    \t\t// responsiveAnimationDuration: 500,\r\n    \t\tcutoutPercentage: 70,\r\n    \t\tlegend: {\r\n    \t\t\tdisplay: false\r\n    \t\t},\r\n    \t\tlegendCallback: function (chart) {\r\n    \t\t\treturn <BidsLegend chart={chart} />\r\n    \t\t},\r\n    \t\ttooltips: {\r\n    \t\t\tcallbacks: {\r\n    \t\t\t\tlabel: function (tooltipItem, data) {\r\n    \t\t\t\t\tlet label = (data.labels[tooltipItem.index] || '').split(' [')[0]\r\n    \t\t\t\t\tlabel += ': '\r\n    \t\t\t\t\tlet count = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]\r\n    \t\t\t\t\tlabel += count\r\n    \t\t\t\t\tlabel += ' (' + ((count / pieData.totalCount) * 100).toFixed(2) + '%)'\r\n    \t\t\t\t\treturn label\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t},\r\n    \t\tmaintainAspectRatio: false,\r\n    \t\t...options,\r\n    \t}\r\n\r\n    \tlet chartData = {\r\n    \t\tlabels: pieData.labels || [],\r\n    \t\tdatasets: [\r\n    \t\t\t{\r\n    \t\t\t\tbackgroundColor: CHARTS_COLORS,\r\n    \t\t\t\t// borderColor: CHARTS_COLORS,\r\n    \t\t\t\thoverBackgroundColor: CHARTS_COLORS,\r\n    \t\t\t\t// hoverBorderColor: CHARTS_COLORS,\r\n    \t\t\t\tborderWidth: 0,\r\n    \t\t\t\tdata: pieData.data || []\r\n    \t\t\t}\r\n    \t\t]\r\n    \t}\r\n    \treturn (\r\n    \t\t<div className={classes.chartParent}>\r\n    \t\t\t<h3 className={classes.chartTitle}>{this.props.chartTitle}</h3>\r\n    \t\t\t<div className={classes.chartLabel}>\r\n    \t\t\t\t{this.doughnut.current ? this.doughnut.current.chartInstance.generateLegend() : null}\r\n    \t\t\t</div>\r\n    \t\t\t<div className={classes.chartContainer}>\r\n    \t\t\t\t<Doughnut\r\n    \t\t\t\t\twidth={250}\r\n    \t\t\t\t\theight={150}\r\n    \t\t\t\t\tref={this.doughnut}\r\n    \t\t\t\t\tdata={chartData}\r\n    \t\t\t\t\toptions={opts}\r\n    \t\t\t\t\tgetElementAtEvent={(e) => {\r\n    \t\t\t\t\t\tonPieClick(e[0])\r\n    \t\t\t\t\t}}\r\n    \t\t\t\t/>\r\n    \t\t\t</div>\r\n    \t\t</div>\r\n    \t)\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(BidsStatusPie)","import React, { Component } from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass BidsLegend extends Component {\r\n\ttoggleChartItem(e, index) {\r\n\t\tconst chart = this.props.chart\r\n\r\n\t\tchart.legend.options.onClick.call(chart, e, chart.legend.legendItems[index])\r\n\t}\r\n\r\n\ttoggleLabelCross(label) {\r\n\t\tlabel.style.textDecoration === 'line-through' ? label.style.textDecoration = 'none' : label.style.textDecoration = 'line-through'\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { chart, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ul className={classes.legendList}>\r\n\t\t\t\t\t{chart.data.datasets[0].data.map((item, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\tclassName={classes.legendListItem}\r\n\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\tthis.toggleChartItem(event, i)\r\n\t\t\t\t\t\t\t\t\tthis.toggleLabelCross(event.currentTarget)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: chart.data.datasets[0].backgroundColor[i] }}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.legendSpan}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{chart.data.labels[i] ? chart.data.labels[i] : null}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default withStyles(styles)(BidsLegend)","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g >\r\n\t\t<path\r\n\t\t\td=\"M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z\" />\r\n\t</g>\r\n\r\n\t, 'AdexPublisher', '0 0 114 110')","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g >\r\n\t\t<path\r\n\t\t\td=\"M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z\" />\r\n\t</g>\r\n\t, 'AdexAdvertiser', '0 0 109 94')\r\n","import React, { Component } from 'react'\r\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\r\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst SideBox = ({ salePoints = [], linkTitle, icon, title, disabled, classes, ...other }) => (\r\n\t<div {...other} className={classnames(classes.sideBox, { [classes.disabled]: disabled })} >\r\n\t\t<div className={classes.icon}>\r\n\t\t\t{icon}\r\n\t\t</div>\r\n\t\t<h2>{title}</h2>\r\n\t\t<ul className={classes.salePoints}>\r\n\t\t\t{salePoints.map(function (point, key) {\r\n\t\t\t\treturn (<li key={key}> {point} </li>)\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div >\r\n)\r\n\r\nconst RRSideBox = withReactRouterLink(SideBox)\r\n\r\nclass SideSelect extends Component {\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\troot: classes.backdrop\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth='sm'\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle >\r\n\t\t\t\t\t{t('CHOOSE_SIDE')}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\r\n\t\t\t\t\t\ticon={<AdvertiserLogo style={{ width: 110, height: 110 }} color='primary' />}\r\n\t\t\t\t\t\tsalePoints={[t('SALE_POINT_ADV_1'), t('SALE_POINT_ADV_2'), t('SALE_POINT_ADV_3')]}\r\n\t\t\t\t\t\tto='/dashboard/advertiser'\r\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\r\n\t\t\t\t\t\ticon={<PublisherLogo style={{ width: 110, height: 110 }} color='primary' />}\r\n\t\t\t\t\t\tsalePoints={[t('SALE_POINT_PUB_1'), t('SALE_POINT_PUB_2'), t('SALE_POINT_PUB_3')]}\r\n\t\t\t\t\t\tto='/dashboard/publisher'\r\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(SideSelect))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)'\r\n\t\t},\r\n\t\tsideBox: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'top',\r\n\t\t\topacity: 0.7,\r\n\t\t\t'&:hover:not(.disabled)': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\topacity: 1\r\n\t\t\t},\r\n\t\t\t'&.disabled': {\r\n\t\t\t\topacity: 0.3\r\n\t\t\t},\r\n\t\t\t'@media(max-width:425px)': {\r\n\t\t\t\twidth: '100%'\r\n\t\t\t}\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmargin: 'auto'\r\n\t\t},\r\n\t\tsalePoints: {\r\n\t\t\tpadding: 0,\r\n\t\t\t'& li': {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tlistStyle: 'none'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%'\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t}\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { styles } from './styles'\r\nimport classnames from 'classnames'\r\n\r\nconst StatsCard = props => {\r\n\tconst { classes, title, subtitle, linkCard, children, onClick } = props\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\t// raised\r\n\t\t\tclassName={classnames(classes.infoCard,\r\n\t\t\t\t{ [classes.linkCard]: !!linkCard })\r\n\t\t\t}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<CardContent>\r\n\t\t\t\t{title &&\r\n                    <Typography\r\n                    \tvariant=\"headline\"\r\n                    \tcomponent=\"h2\"\r\n                    \tnoWrap\r\n                    >\r\n                    \t{title}\r\n                    </Typography>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{subtitle &&\r\n                    <Typography component=\"p\" noWrap>\r\n                    \t{subtitle}\r\n                    </Typography>\r\n\t\t\t\t}\r\n\t\t\t\t{children}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool\r\n}\r\n\r\nexport default withStyles(styles)(StatsCard)","import React from 'react'\r\nimport { Line } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst getChannelName = (channel) => {\r\n\tif (!channel || !channel.spec) {\r\n\t\treturn 'unknown'\r\n\t}\r\n\tconst amount = formatTokenAmount(channel.depositAmount, 18, true)\r\n\tconst cpm = formatTokenAmount(\r\n\t\tbigNumberify(channel.spec.minPerImpression).mul(1000).toString()\r\n\t\t, 18, true)\r\n\r\n\treturn `Deposit ${amount} DAI for CPM ${cpm} DAI`\r\n}\r\n\r\nexport const PublisherStatistics = ({ data, channels, options = {}, t }) => {\r\n\t// TODO: refine mapping, format values and labels\r\n\tif (!Object.keys(data).length) return null\r\n\tconst dataKeys = Object.keys(data)\r\n\r\n\tconst defaultValues = dataKeys.reduce((defaults, key) => {\r\n\t\tdefaults[key] = null\r\n\t\treturn defaults\r\n\t}, {})\r\n\r\n\tconst labelsWithData = dataKeys.reduce(({ labels, sets }, k) => {\r\n\t\tconst values = Object.keys(data[k]).reduce((memo, key) => {\r\n\t\t\tconst value = data[k][key]\r\n\r\n\t\t\tlabels[key] = labels[key] || { ...defaultValues }\r\n\t\t\tlabels[key][k] = value\r\n\r\n\t\t\tmemo.labels.push(key)\r\n\t\t\tmemo.value.push(value || 0)\r\n\r\n\t\t\tmemo.step.min = Math.min(memo.step.min, value)\r\n\t\t\tmemo.step.max = Math.max(memo.step.max, value)\r\n\r\n\t\t\treturn memo\r\n\r\n\t\t}, { label: k, labels: [], value: [], step: { min: 0, max: 0 } })\r\n\r\n\t\tsets.push(values)\r\n\r\n\t\treturn {\r\n\t\t\tlabels,\r\n\t\t\tsets\r\n\t\t}\r\n\t}, { labels: {}, sets: [] })\r\n\r\n\tconst labelsKeys = Object.keys(labelsWithData.labels)\r\n\tconst datasets = labelsKeys.reduce(({ sets }, key) => {\r\n\t\tconst set = labelsWithData.labels[key]\r\n\r\n\t\tdataKeys.forEach((dataKey, index) => {\r\n\t\t\tsets[index].data.push(set[dataKey])\r\n\t\t\tsets[index].label = dataKey\r\n\t\t})\r\n\r\n\t\treturn { sets }\r\n\t}, { sets: dataKeys.map(key => { return { label: '', data: [] } }) })\r\n\r\n\tlet commonDsProps = {\r\n\t\tfill: true,\r\n\t\tlineTension: 0.3,\r\n\t\tborderWidth: 0,\r\n\t\tpointRadius: 1,\r\n\t\tpointHitRadius: 10,\r\n\t}\r\n\r\n\tlet chartData = {\r\n\t\tlabels: labelsKeys,\r\n\t\tstacked: true,\r\n\t\tdatasets: datasets.sets.map((set, index) => {\r\n\t\t\treturn {\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tlabel: getChannelName(channels[set.label]) + ` - ${index}`,\r\n\t\t\t\tdata: set.data,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(CHARTS_COLORS[index % CHARTS_COLORS.length], 1),\r\n\t\t\t\t// borderColor: Helper.hexToRgbaColorString(CHARTS_COLORS[index % CHARTS_COLORS.length], 1),\r\n\t\t\t\t// yAxisID: 'y-axis-1'\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// const maxTickLimit = 10\r\n\t// const max = datasets[0].step.max || 1\r\n\t// const min = datasets[0].step.min || 0\r\n\t// const step = Math.ceil(max / maxTickLimit) || 1\r\n\r\n\t// let maxTick = (step * maxTickLimit)\r\n\r\n\t// if (max < (maxTickLimit)) {\r\n\t// \tmaxTick = max\r\n\t// }\r\n\r\n\tconst linesOptions = {\r\n\t\tresponsive: true,\r\n\t\ttitle: {\r\n\t\t\tdisplay: true,\r\n\t\t\ttext: options.title\r\n\t\t},\r\n\t\t// elements: {\r\n\t\t// \tline: {\r\n\t\t// \t\tfill: true\r\n\t\t// \t}\r\n\t\t// },\r\n\t\ttooltips: {\r\n\t\t\tmode: 'index',\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t// beginAtZero: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// labels: {\r\n\t\t\t\t\t//     show: true\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t('TIMEFRAME')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tstacked: true,\r\n\t\t\t\t\t// display: true,\r\n\t\t\t\t\t// ticks: {\r\n\t\t\t\t\t// beginAtZero: true,\r\n\t\t\t\t\t// min: min,\r\n\t\t\t\t\t// max: maxTick,\r\n\t\t\t\t\t// stepSize: step,\r\n\t\t\t\t\t// maxTicksLimit: maxTickLimit + 1\r\n\t\t\t\t\t// },\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t// beginAtZero: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t('VIEWS')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Line data={chartData} options={linesOptions} />\r\n\t)\r\n\r\n}","import React from 'react'\r\nimport { PublisherStatistics } from 'components/dashboard/charts/revenue'\r\n\r\nconst getHourId = (_id) => {\r\n\treturn `${_id.year}-${_id.month}-${_id.day}-${_id.hour}`\r\n}\r\n\r\nconst getDayId = (_id) => {\r\n\treturn `${_id.year}-${_id.month}-${_id.day}`\r\n}\r\n\r\nconst mapAggregates = ({ aggregates = [] }) => {\r\n\treturn aggregates.reduce(({ hourly, daily, channels }, a) => {\r\n\t\tconst { aggr = [], channel = {} } = a\r\n\r\n\t\tconst channelData = aggr\r\n\t\t\t.reduce(({ channelHourly, channelDaily }, e) => {\r\n\t\t\t\tconst { _id, value } = e\r\n\r\n\t\t\t\tconst hourId = getHourId(_id)\r\n\t\t\t\tchannelHourly[hourId] = value\r\n\r\n\t\t\t\tconst dayId = getDayId(_id)\r\n\r\n\t\t\t\tchannelDaily[dayId] = channelDaily[dayId] || 0\r\n\t\t\t\tchannelDaily[dayId] += value\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tchannelHourly,\r\n\t\t\t\t\tchannelDaily\r\n\t\t\t\t}\r\n\t\t\t}, { channelHourly: {}, channelDaily: {} })\r\n\r\n\t\thourly[channel.id] = channelData.channelHourly\r\n\t\tdaily[channel.id] = channelData.channelDaily\r\n\t\tchannels[channel.id] = channel\r\n\r\n\t\treturn {\r\n\t\t\thourly,\r\n\t\t\tdaily,\r\n\t\t\tchannels\r\n\t\t}\r\n\t}, { hourly: {}, daily: {}, channels: {} })\r\n}\r\n\r\nexport const PublisherStats = ({ aggregates, t }) => {\r\n\r\n\tconst data = mapAggregates({ aggregates })\r\n\r\n\t// console.log('data', data)\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PublisherStatistics data={data.daily} channels={data.channels} options={{ title: t('DAILY') }} t={t} />\r\n\t\t\t<PublisherStatistics data={data.hourly} channels={data.channels} options={{ title: t('HOURLY') }} t={t} />\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { BidsStatusPie } from 'components/dashboard/charts/slot'\r\nimport Translate from 'components/translate/Translate'\r\nimport { exchange as ExchangeConstants } from 'adex-constants'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport classnames from 'classnames'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport StatsCard from './StatsCard'\r\nimport { styles } from './styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { PublisherStats } from './PublisherStats'\r\n\r\nconst { BidStatesLabels, BID_STATES } = ExchangeConstants\r\n\r\n// const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#EBE', '#FAC']\r\n\r\nexport class DashboardStats extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tbidsData: [],\r\n\t\t\tbidsStats: {}\r\n\t\t}\r\n\t}\r\n\r\n\t// goToBids = (tab) => {\r\n\t// \tthis.props.history.push('/dashboard/' + this.props.side + '/bids/' + tab)\r\n\t// }\r\n\r\n\tgoToAccount = () => {\r\n\t\tthis.props.history.push('/dashboard/' + this.props.side + '/account')\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.t('DASHBOARD'))\r\n\t}\r\n\r\n\thandleTabChange = (index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tmapBidsToStats = (bids, initialValue) => {\r\n\t\treturn bids.reduce((memo, bid) => {\r\n\t\t\tmemo.count += 1\r\n\t\t\tmemo.amount += parseInt(bid._amount, 10)\r\n\r\n\t\t\treturn memo\r\n\t\t}, { amount: 0, count: 0 })\r\n\t}\r\n\r\n\tmapClosedBidsToStats = (bids) => {\r\n\t\treturn bids.reduce((memo, bid) => {\r\n\t\t\tswitch (bid._state) {\r\n\t\t\tcase BID_STATES.Canceled.id:\r\n\t\t\t\tmemo.canceled.count += 1\r\n\t\t\t\tmemo.canceled.amount += parseInt(bid._amount, 10)\r\n\t\t\t\tbreak\r\n\t\t\tcase BID_STATES.Expired.id:\r\n\t\t\t\tmemo.expired.count += 1\r\n\t\t\t\tmemo.expired.amount += parseInt(bid._amount, 10)\r\n\t\t\t\tbreak\r\n\t\t\tcase BID_STATES.Completed.id:\r\n\t\t\t\tmemo.completed.count += 1\r\n\t\t\t\tmemo.completed.amount += parseInt(bid._amount, 10)\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t}, { completed: { amount: 0, count: 0 }, canceled: { amount: 0, count: 0 }, expired: { amount: 0, count: 0 } })\r\n\t}\r\n\r\n\tgetLabel = (state, count, extraLabel) => {\r\n\t\treturn this.props.t(BidStatesLabels[state]) + (extraLabel ? extraLabel : '') + ' [' + count + ']'\r\n\t}\r\n\r\n\tmapData = ({ action = [], active = [], closed = [], open = [] }) => {\r\n\t\t// NOTE: Ugly but with 1 loop  map all the needed data\r\n\t\tconst PieLabels = []\r\n\t\tconst PieDataCount = []\r\n\t\tconst PieDataAmount = []\r\n\t\tconst tabs = []\r\n\t\tlet totalCount = 0\r\n\r\n\t\tconst stats = {}\r\n\t\t// const { t } = this.props\r\n\r\n\t\tstats.action = this.mapBidsToStats(action)\r\n\t\tconst actionCount = stats.action.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Accepted.id, actionCount, ' (' + this.props.t('BIDS_READY_TO_VERIFY') + ')'))\r\n\t\tPieDataCount.push(actionCount)\r\n\t\tPieDataAmount.push(stats.action.amount)\r\n\t\ttotalCount += actionCount\r\n\t\ttabs.push('action')\r\n\r\n\t\tstats.active = this.mapBidsToStats(active)\r\n\t\tconst activeCount = stats.active.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Accepted.id, activeCount, ' (' + this.props.t('BIDS_ACTIVE') + ')'))\r\n\t\tPieDataCount.push(activeCount)\r\n\t\tPieDataAmount.push(stats.active.amount)\r\n\t\ttotalCount += activeCount\r\n\t\ttabs.push('active')\r\n\r\n\t\tstats.open = this.mapBidsToStats(open)\r\n\t\tconst openCount = stats.open.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.DoesNotExist.id, openCount))\r\n\t\tPieDataCount.push(openCount)\r\n\t\tPieDataAmount.push(stats.open.amount)\r\n\t\ttotalCount += openCount\r\n\t\ttabs.push('open')\r\n\r\n\t\tstats.closed = this.mapClosedBidsToStats(closed)\r\n\r\n\t\tconst completedCount = stats.closed.completed.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Completed.id, completedCount))\r\n\t\tPieDataCount.push(completedCount)\r\n\t\tPieDataAmount.push(stats.closed.completed.amount)\r\n\t\ttotalCount += completedCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tconst canceledCount = stats.closed.canceled.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Canceled.id, canceledCount))\r\n\t\tPieDataCount.push(canceledCount)\r\n\t\tPieDataAmount.push(stats.closed.canceled.amount)\r\n\t\ttotalCount += canceledCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tconst expiredCount = stats.closed.expired.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Expired.id, expiredCount))\r\n\t\tPieDataCount.push(expiredCount)\r\n\t\tPieDataAmount.push(stats.closed.expired.amount)\r\n\t\ttotalCount += expiredCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tstats.pieData = {\r\n\t\t\tlabels: PieLabels,\r\n\t\t\tdata: PieDataCount,\r\n\t\t\ttotalCount: totalCount\r\n\t\t}\r\n\r\n\t\tstats.tabs = tabs\r\n\r\n\t\treturn stats\r\n\t}\r\n\r\n\tBidsStateChart = ({ stats }) => {\r\n\t\tconst t = this.props.t\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BidsStatusPie\r\n\t\t\t\t\tpieData={stats.pieData}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\tchartTitle={t('TITLE_STATS_BY_BID_STATUS')}\r\n\t\t\t\t\tonPieClick={(ev) => {\r\n\t\t\t\t\t\tif (ev && !isNaN(ev._index)) {\r\n\t\t\t\t\t\t\tthis.goToBids(stats.tabs[ev._index])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: Common func to get account stats for here and account component\r\n\tInfoStats = ({ stats }) => {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// side,\r\n\t\t\taccount\r\n\t\t} = this.props\r\n\t\t// const spentEarned = side === 'publisher' ? 'LABEL_TOTAL_REVENUE' : 'LABEL_TOTAL_EXPENSES'\r\n\r\n\t\tconst formatted = account.stats.formatted || {}\r\n\t\tconst {\r\n\t\t\t// walletAddress,\r\n\t\t\t// walletAuthType,\r\n\t\t\t// walletPrivileges,\r\n\t\t\t// walletBalanceEth,\r\n\t\t\t// walletBalanceDai,\r\n\t\t\t// identityAddress,\r\n\t\t\tidentityBalanceDai,\r\n\t\t\toutstandingBalanceDai,\r\n\t\t\ttotalIdentityBalanceDai\r\n\r\n\t\t} = formatted\r\n\t\tconst classes = this.props.classes\r\n\t\treturn (\r\n\t\t\t<div className={classes.infoStatsContainer}>\r\n\t\t\t\t{/* <StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tsubtitle={t(spentEarned)}\r\n\t\t\t\t\t// title={adxToFloatView(stats.closed.completed.amount || 0) + ' ADX'}\r\n\t\t\t\t\tonClick={() => this.goToBids('closed')}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={() => this.goToBids('action')}\r\n\t\t\t\t\tsubtitle={t('LABEL_AMOUNT_READY_TO_VERIFY')}\r\n\t\t\t\t\t// title={adxToFloatView(stats.action.amount || 0) + ' ADX'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t{side === 'advertiser' &&\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tlinkCard\r\n\t\t\t\t\t\tonClick={() => this.goToBids('open')}\r\n\t\t\t\t\t\tsubtitle={t('LABEL_OPEN_BIDS_AMOUNT')}\r\n\t\t\t\t\t\t// title={adxToFloatView(stats.open.amount || 0) + ' ADX'}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t} */}\r\n\r\n\t\t\t\t{/* <StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('WALLET_ETH_BALANCE')}\r\n\t\t\t\t\ttitle={walletBalanceEth + ' ETH'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('WALLET_DAI_BALANCE')}\r\n\t\t\t\t\ttitle={walletBalanceDai + ' DAI'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard> */}\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('IDENTITY_DAI_BALANCE_AVAILABLE_INFO', {\r\n\t\t\t\t\t\targs: [identityBalanceDai, outstandingBalanceDai]\r\n\t\t\t\t\t})}\r\n\t\t\t\t\ttitle={totalIdentityBalanceDai + ' DAI'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tside,\r\n\t\t\t// sideBids,\r\n\t\t\tclasses,\r\n\t\t\tt,\r\n\t\t\taccount\r\n\t\t} = this.props\r\n\t\tif (side !== 'advertiser' && side !== 'publisher') {\r\n\t\t\treturn (\r\n\t\t\t\t<SideSelect active={true} />\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tconst aggregates = (account && account.stats && account.stats.raw) ?\r\n\t\t\taccount.stats.raw.aggregates : null\r\n\r\n\t\t// const stats = this.mapData(sideBids)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item md={12} lg={12} xs={12}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dashboardCardBody)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t{aggregates ?\r\n\t\t\t\t\t\t\t\t\t<PublisherStats aggregates={account.stats.raw.aggregates} t={t} />\r\n\t\t\t\t\t\t\t\t\t: t('NO_STATS_YET')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item md={12} lg={6}>\r\n\t\t\t\t\t\t<this.InfoStats\r\n\t\t\t\t\t\t// stats={stats}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDashboardStats.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tside: memory.nav.side\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(DashboardStats)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\r\nimport WcIcon from '@material-ui/icons/Wc'\r\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\r\nimport CompareArrows from '@material-ui/icons/CompareArrows'\r\n\r\n\r\nconst targetIcon = {\r\n\t'location': LocationOnIcon,\r\n\t'gender': WcIcon,\r\n\t'age': ChildCareIcon\r\n}\r\n\r\nconst getTargetType = (tag) => {\r\n\tconst type = tag.split('_')[0] || 'tags'\r\n\treturn type\r\n}\r\n\r\nclass UnitTargets extends Component {\r\n\r\n\ttargetArrayValues = (target, type, t, index) => {\r\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\r\n\t\treturn (\r\n\t\t\t<span key={target.tag + target.score + index}>\r\n\t\t\t\t<ListItem\r\n\t\t\t\t>\r\n\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t<TargetIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\r\n\t\t\t\t\t\tsecondary={target.score}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t{target.score}\r\n\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Divider />\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) =>\r\n\t\t<List\r\n\t\t\tdense\r\n\t\t\tsubheader={\r\n\t\t\t\tsubHeader\r\n\t\t\t\t\t? <ListSubheader caption={t(subHeader)} />\r\n\t\t\t\t\t: null}\r\n\t\t>\r\n\t\t\t{(targets.map((target) => {\r\n\t\t\t\tconst type = getTargetType(target.tag)\r\n\t\t\t\treturn this.targetArrayValues(target, type, t)\r\n\t\t\t}))}\r\n\t\t</List>\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<this.TargetsList {...this.props} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nUnitTargets.propTypes = {\r\n\ttargets: PropTypes.array.isRequired,\r\n\tsubHeader: PropTypes.string,\r\n\tt: PropTypes.func.isRequired\r\n}\r\n\r\nexport default UnitTargets\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnit } from 'adex-models'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Translate from 'components/translate/Translate'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\n\r\nexport class Unit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcloseDialog: false\r\n\t\t}\r\n\t}\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t//     return diffProps || diffState\r\n\t// }\r\n\trender() {\r\n\r\n\t\tconst { item, t, ...rest } = this.props\r\n\r\n\t\tif (!item) return (<h1>Unit '404'</h1>)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\ttargets={item.targeting}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tsubHeader={true}\r\n\t\t\t\t\t\t/>}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nUnit.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state, props) {\r\n\treturn {\r\n\t\tobjModel: AdUnit,\r\n\t\titemType: 'AdUnit'\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst UnitItem = ItemHoc(Unit)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(UnitItem))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\nimport copy from 'copy-to-clipboard'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport url from 'url'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING =\r\n\t`window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\nconst { DAI } = contracts\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\r\n\tconst { type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = account.identity.address\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1]\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedToken: DAI.address,\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\tminTargetingScore: '0',\r\n\t\tfallbackUnit\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.integrationLabel}>\r\n\t\t\t\t{t('INTEGRATION_CODE')}\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\tonCopy && onCopy()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t\t<Paper>\r\n\t\t\t\t<pre className={classes.integrationCode}>\r\n\t\t\t\t\t{iframeStr}\r\n\t\t\t\t</pre>\r\n\t\t\t</Paper>\r\n\t\t\t{(process.env.NODE_ENV !== 'production') &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport class Slot extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\teditFallbackImg: false,\r\n\t\t\ttabIndex: 0,\r\n\t\t}\r\n\t}\r\n\r\n\thandleFallbackImgUpdateToggle = () => {\r\n\t\tconst active = this.state.editFallbackImg\r\n\t\tthis.setState({ editFallbackImg: !active })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\tisDemo,\r\n\t\t\titem,\r\n\t\t\taccount,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\tcanEditImg={!isDemo}\r\n\t\t\t\t\trightComponent={null}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar\r\n\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{ marginTop: 10 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(tabIndex === 0) &&\r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(tabIndex === 1) &&\r\n\t\t\t\t\t\t\t<IntegrationCode\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\t\tslot={item}\r\n\t\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\t\tthis.props.actions\r\n\t\t\t\t\t\t\t\t\t\t.addToast({ type: 'accept', action: 'X', label: t('COPIED_TO_CLIPBOARD'), timeout: 5000 })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSlot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tobjModel: AdSlot,\r\n\t\titemType: 'AdSlot',\r\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\r\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\r\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\r\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\r\n\t\tupdateImgExact: true\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SlotItem)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tintegrationLabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between'\r\n\t\t},\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tpadding: spacing,\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start'\r\n\t\t}\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass Items extends Component {\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.header)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, itemType, ...rest } = this.props\r\n\t\tconst items = Array.from(Object.values(this.props.items || {})) || []\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{!!this.props.newItemBtn && <this.props.newItemBtn />}\r\n\r\n\t\t\t\t<ItemsList\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\titems={items}\r\n\t\t\t\t\tviewModeId={this.props.viewModeId}\r\n\t\t\t\t\tarchive\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nItems.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titems: PropTypes.object.isRequired,\r\n\tviewModeId: PropTypes.string.isRequired,\r\n\theader: PropTypes.string.isRequired,\r\n\tobjModel: PropTypes.func.isRequired,\r\n\titemType: PropTypes.string.isRequired,\r\n\tsortProperties: PropTypes.array.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\titems: persist.items[props.itemType] || [],\r\n\t\tside: memory.nav.side,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Items))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ListWithControls from 'components/dashboard/containers/Lists/ListWithControls'\r\nimport classnames from 'classnames'\r\nimport Rows from 'components/dashboard/collection/Rows'\r\nimport TableCellMui from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { styles } from './styles'\r\n\r\nconst SORT_PROPERTIES = [\r\n\t{ value: 'sendingTime', label: '' },\r\n\t{ value: 'status', label: '' },\r\n\t{ value: 'txMethod', label: '' },\r\n\t{ value: 'id', label: '' },\r\n]\r\n\r\nconst TableCell = ({ children, ...rest }) =>\r\n\t<TableCellMui\r\n\t\t{...rest}\r\n\t>\r\n\t\t{!!children && children}\r\n\t</TableCellMui >\r\n\r\nclass Transactions extends Component {\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.t('TRANSACTIONS'))\r\n\t}\r\n\r\n\trenderTableHead() {\r\n\t\tlet t = this.props.t\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t<TableCell> {t('TRANS_METHOD')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_ID')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_NONCE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_STATUS')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_SENDING_TIME')} </TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: make something common with unit bids \r\n\trenderTableRow(transaction, index, { to, selected }) {\r\n\t\tif (!transaction) return null\r\n\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<TableRow key={transaction.id || index}>\r\n\t\t\t\t<TableCell> {t(transaction.txMethod)} </TableCell>\r\n\t\t\t\t<TableCell\r\n\t\t\t\t\tclassName={classnames(classes.compactCol)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography noWrap>\r\n\t\t\t\t\t\t<Anchor target='_blank' href={process.env.ETH_SCAN_TX_HOST + transaction.id} > {transaction.id} </Anchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell> {transaction.nonce} </TableCell>\r\n\t\t\t\t<TableCell> {(transaction.status)} </TableCell>\r\n\t\t\t\t<TableCell> {formatDateTime(transaction.sendingTime)} </TableCell>\r\n\r\n\t\t\t</TableRow >\r\n\t\t)\r\n\t}\r\n\r\n\trenderRows = (items) =>\r\n\t\t<Rows\r\n\t\t\tmultiSelectable={false}\r\n\t\t\tselectable={false}\r\n\t\t\tside={this.props.side}\r\n\t\t\titem={items}\r\n\t\t\trows={items}\r\n\t\t\trowRenderer={this.renderTableRow.bind(this)}\r\n\t\t\ttableHeadRenderer={this.renderTableHead.bind(this)}\r\n\t\t/>\r\n\r\n\tsearchMatch = (transaction) => {\r\n\t\treturn (transaction.id || '') +\r\n\t\t\t(transaction.status || '') +\r\n\t\t\t(transaction.bidId || '') +\r\n\t\t\t(transaction.state || '') +\r\n\t\t\t(transaction.sendingTime || '')\r\n\t}\r\n\r\n\trender() {\r\n\t\t// let t = this.props.t\r\n\t\tconst { transactions } = this.props\r\n\r\n\t\tconst reduced = Object.keys(transactions).reduce((memo, key) => {\r\n\t\t\tif (key && ((key.toString()).length === 66)) {\r\n\t\t\t\tconst itm = { ...transactions[key] }\r\n\t\t\t\titm.id = key\r\n\t\t\t\tmemo.push(itm)\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t}, [])\r\n\r\n\t\t// let itemsCount = reduced.length\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{/* <div className={classnames(theme.heading, theme.Transactions, theme.items)}>\r\n                    <h2 > {t('TRANSACTIONS')} {'(' + itemsCount + ')'} </h2>\r\n                </div> */}\r\n\r\n\t\t\t\t<ListWithControls\r\n\t\t\t\t\titems={reduced}\r\n\t\t\t\t\tlistMode='rows'\r\n\t\t\t\t\tdelete\r\n\t\t\t\t\trenderRows={this.renderRows}\r\n\t\t\t\t\tsortProperties={SORT_PROPERTIES}\r\n\t\t\t\t\tsearchMatch={this.searchMatch}\r\n\t\t\t\t\tuiStateId='transactions'\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nTransactions.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\ttransactions: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist } = state\r\n\tconst { account, web3Transactions } = persist\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount,\r\n\t\ttransactions: {\r\n\t\t\t...(web3Transactions[account.wallet.address] || {}),\r\n\t\t\t...(web3Transactions[account.identity.address] || {}),\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(Transactions)))\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tcompactCol: {\r\n\t\t\tmaxWidth: 80\r\n\t\t}\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n\r\n// const { TX_STATUS } = ExchangeConstants\r\n\r\nexport default function NewTransactionHoc(Decorated) {\r\n\t// TODO: make it common for bids and items\r\n\tclass TransactionHoc extends Component {\r\n\t\tcomponentWillMount() {\r\n\t\t\t// console.log('TransactionHoc')\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\r\n\t\t}\r\n\r\n\t\t// addTx = (tx) => {\r\n\t\t//     let txData = { ...tx }\r\n\t\t//     txData.status = TX_STATUS.Pending.id\r\n\t\t//     txData.sendingTime = Date.now()\r\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\r\n\t\t// }\r\n\r\n\t\tonSave = (err, tx, manyTxs) => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetTransaction()\r\n\t\t}\r\n\r\n\t\tresetTransaction = () => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.resetNewTransaction({ tx: txId })\r\n\t\t}\r\n\r\n\t\thandleSaveRes = ({ err, res }) => {\r\n\t\t\tconst { t, actions } = this.props\r\n\t\t\t// const areManyTxs = Array.isArray(res)\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\tactions.addToast({ type: 'cancel', action: 'X', label: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }), timeout: 50000 })\r\n\t\t\t}\r\n\r\n\t\t\tthis.onSave(err, res, Array.isArray(res))\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tthis.handleChange('waitingForWalletAction', true)\r\n\t\t\tthis.props.saveFn({ acc: this.props.account, transaction: this.props.transaction })\r\n\t\t\t\t.then((res = {}) => {\r\n\t\t\t\t\tconsole.log('res on save', res)\r\n\r\n\t\t\t\t\tconst txs = res.txResults || res\r\n\t\t\t\t\tconst err = res.err || null\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error = {}) => {\r\n\t\t\t\t\tconsole.log('err on save', error)\r\n\t\t\t\t\tconst res = error.txResults || null\r\n\t\t\t\t\tconst err = error.err || error\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\t// TODO: take a look at onSave if change something\r\n\t\t\tthis.onSave(null, null)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tlet transaction = this.props.transaction || {}\r\n\t\t\tlet props = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\ttransaction={transaction}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tresetTransaction={this.resetTransaction}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tTransactionHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tlabel: PropTypes.string,\r\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\t\ttransaction: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tsaveFn: PropTypes.func\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\tconst txId = props.stepsId\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\t\ttxId: txId,\r\n\t\t\tspinner: memory.spinners[txId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(TransactionHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { validateNumber, isEthAddress } from 'helpers/validators'\r\n\r\nclass WithdrawFromIdentity extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.transaction.withdrawAmount) {\r\n\t\t\tthis.props.validate('withdrawAmount', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet errMsgArgs = []\r\n\t\tif (isValid && (parseFloat(numStr) > parseFloat(this.props.identityAvailable))) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\terrMsgArgs = [this.props.identityAvailable, 'DAI']\r\n\t\t}\r\n\r\n\t\tthis.props.validate('withdrawAmount', { isValid: isValid, err: { msg: msg, args: errMsgArgs }, dirty: dirty })\r\n\t}\r\n\r\n\tvalidateAddress = (addr, dirty) => {\r\n\t\tconst isValid = isEthAddress(addr)\r\n\t\tconst msg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\tthis.props.validate('withdrawTo', { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { transaction, t, invalidFields, identityAvailable, handleChange } = this.props\r\n\t\tconst { withdrawTo, withdrawAmount } = transaction || {}\r\n\t\tconst errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div> {t('EXCHANGE_CURRENT_DAI_BALANCE_AVAILABLE_ON_IDENTITY')} {identityAvailable} </div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={(ev) => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAddress(withdrawTo, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAddress(withdrawTo, false)}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\r\n\t\t\t\t\tname='withdrawAmount'\r\n\t\t\t\t\tvalue={withdrawAmount || ''}\r\n\t\t\t\t\tonChange={(ev) => handleChange('withdrawAmount', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={errAmount && !!errAmount.dirty ?\r\n\t\t\t\t\t\terrAmount.errMsg : t('MAX_AMOUNT_TO_WITHDRAW', { args: [identityAvailable, 'DAI'] })\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst WithdrawFromIdentityForm = NewTransactionHoc(WithdrawFromIdentity)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(WithdrawFromIdentityForm)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { validateNumber, isEthAddress } from 'helpers/validators'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.keys(IdentityPrivilegeLevel)\r\n\t.map(key => {\r\n\t\treturn {\r\n\t\t\tvalue: IdentityPrivilegeLevel[key],\r\n\t\t\tlabel: key\r\n\t\t}\r\n\t})\r\n\r\nclass SeAddressPrivilege extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.transaction.withdrawAmount) {\r\n\t\t\tthis.props.validate('setAddr', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet errMsgArgs = []\r\n\t\tif (isValid && (parseFloat(numStr) > parseFloat(this.props.identityAvailable))) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\terrMsgArgs = [this.props.identityAvailable, 'DAI']\r\n\t\t}\r\n\r\n\t\tthis.props.validate('withdrawAmount', { isValid: isValid, err: { msg: msg, args: errMsgArgs }, dirty: dirty })\r\n\t}\r\n\r\n\tvalidateAddress = (addr, dirty) => {\r\n\t\tconst isValid = isEthAddress(addr)\r\n\t\tconst msg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\tthis.props.validate('setAddr', { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { transaction, t, invalidFields, identityAvailable, handleChange } = this.props\r\n\t\tconst { setAddr, privLevel } = transaction || {}\r\n\t\t// const errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div> {t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')} {identityAvailable} </div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\t\tname='setAddr'\r\n\t\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\t\tonChange={(ev) => handleChange('setAddr', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAddress(setAddr, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAddress(setAddr, false)}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t\thelperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\t\tonChange={(val) => handleChange('privLevel', val)}\r\n\t\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst SeAddressPrivilegeForm = NewTransactionHoc(SeAddressPrivilege)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SeAddressPrivilegeForm)\r\n","import grey from '@material-ui/core/colors/grey'\r\n\r\nexport const styles = theme => {\r\n\tconst spacing = theme.spacing(3)\r\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\tminHeight: `${fullHeight}px`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: grey[200], // TODO: color,\r\n\t\t\t// maxHeight: `${fullHeight}`,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t\t'@media(max-height:823px)': {\r\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\r\n\t\t\t}\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word'\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto'\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 0,\r\n\t\t\t// left: 0,\r\n\t\t\t// bottom: 0,\r\n\t\t\t// right: 0,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column'\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%'\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1)\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1)\r\n\t\t\t}\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer'\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1)\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left'\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)'\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: 86,\r\n\t\t\tright: 40,\r\n\t\t\tzIndex: theme.zIndex.appBar\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto'\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute'\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative'\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\n// TODO: fix responsive styles\r\nconst propRow = ({ classes, left, right, className, classNameLeft, classNameRight, style = {} }) =>\r\n\t<Grid item container spacing={2} xs={12} className={classnames(className)} style={style}>\r\n\t\t<Grid item xs={12} sm={4} lg={3} className={classnames(classes.leftCol, classes.uppercase, classNameLeft)}>{left}</Grid >\r\n\t\t<Grid item xs={12} sm={8} lg={9} className={classnames(classes.rightCol, classes.breakLong, classNameRight)}>{right}</Grid >\r\n\t</Grid>\r\n\r\nconst contentBox = ({ classes, children, className }) =>\r\n\t<div className={classnames(classes.contentBox, className)}>\r\n\t\t{children}\r\n\t</div>\r\n\r\nconst contentBody = ({ classes, children, className }) =>\r\n\t<div className={classnames(classes.contentBody, className)}>\r\n\t\t{children}\r\n\t</div>\r\n\r\nconst contentStickyTop = ({ classes, children, className }) =>\r\n\t<div className={classnames(classes.contentStickyTop)}>\r\n\t\t{children}\r\n\t</div>\r\n\r\nconst topLoading = ({ classes, msg, className }) =>\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div> {msg} </div>\r\n\t</div>\r\n\r\nconst fullContentSpinner = ({ classes }) =>\r\n\t<CircularProgress className={classnames(classes.progressCircleCenter)} size={50} />\r\n\r\nexport const PropRow = withStyles(styles)(propRow)\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)","import React from 'react'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\r\n\tswitch (authType) {\r\n\tcase AUTH_TYPES.METAMASK.name:\r\n\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\tbreak\r\n\tcase AUTH_TYPES.TREZOR.name:\r\n\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\tbreak\r\n\tcase AUTH_TYPES.LEDGER.name:\r\n\t\tmsg = 'LEDGER_WAITING_ACTION'\r\n\t\tbreak\r\n\tdefault:\r\n\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\tbreak\r\n\t}\r\n\r\n\treturn (\r\n\t\t<TopLoading msg={t(msg)} />\r\n\t)\r\n}","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { constants } from 'adex-models'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport const IdentityWithdrawPreview = ({ t, withdrawTo, classes, fees, withdrawAmount }) =>\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawAmount'\r\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', { args: [fees.fees, 'DAI', fees.toGet, 'DAI'] })}\r\n\t\t\t\t\tprimary={withdrawAmount + ' DAI'}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n\r\nexport const SetPrivilegePreview = ({ t, setAddr, classes, fees, privLevel }) =>\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', { args: [fees.fees, 'DAI'] })}\r\n\t\t\t\t\tprimary={privilegesNames[privLevel]}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\n// import { DEFAULT_GAS_PRICE } from 'services/smart-contracts/constants'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport { PropRow, ContentBox, ContentBody, ContentStickyTop, FullContentSpinner } from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview\r\n} from './previews'\r\n\r\nclass TransactionPreview extends Component {\r\n\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\tgas: null,\r\n\t\t\tfees: null,\r\n\t\t\terrors: []\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { getFeesFn, actions, handleChange, identityAvailable, transaction, txId, t, account } = this.props\r\n\t\tif (getFeesFn && Object.keys(transaction).length) {\r\n\r\n\t\t\tactions.updateSpinner(txId, true)\r\n\t\t\tgetFeesFn({ acc: account, transaction: transaction })\r\n\t\t\t\t.then((fees) => {\r\n\t\t\t\t\thandleChange('fees', fees)\r\n\t\t\t\t\tthis.setState({ fees: fees })\r\n\t\t\t\t\tactions.updateSpinner(txId, false)\r\n\r\n\t\t\t\t\tif (parseFloat(fees.fees || 0) > parseFloat(identityAvailable)) {\r\n\t\t\t\t\t\thandleChange('errors', [t('INSUFFICIENT_BALANCE_FOR_FEES', { args: [identityAvailable, 'DAI', fees.fees, 'DAI'] })])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\tactions.updateSpinner(txId, false)\r\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { transaction = {}, t, classes, account, previewWarnMsgs, spinner, stepsId } = this.props\r\n\t\tconst errors = transaction.errors || []\r\n\t\tconst {\r\n\t\t\twithdrawTo,\r\n\t\t\twithdrawAmount,\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t\tfees = {} } = transaction\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{spinner ?\r\n\t\t\t\t\t<FullContentSpinner />\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<ContentBox>\r\n\t\t\t\t\t\t{transaction.waitingForWalletAction ?\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t\t</ContentStickyTop> : null}\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t{errors.length ?\r\n\t\t\t\t\t\t\t\terrors.map((err, index) =>\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>)\r\n\t\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t\t{previewWarnMsgs ?\r\n\t\t\t\t\t\t\t\tpreviewWarnMsgs.map((msg, index) =>\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t: null}\r\n\r\n\r\n\t\t\t\t\t\t\t{(stepsId === 'withdrawFromIdentity') &&\r\n\t\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tfees={fees}\r\n\t\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t{(stepsId === 'setIdentityPrivilege') &&\r\n\t\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tfees={fees}\r\n\t\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n\testimateGasFn: PropTypes.func\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\ttxId: txId,\r\n\t\tspinner: memory.spinners[txId],\r\n\t\taccount: persist.account\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(TransactionPreviewForm))\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)'\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2]\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Stepper } from 'react-step/lib/stepper'\r\nimport { withStepper } from 'react-step/lib/with-stepper'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n                    ({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant=\"progress\"\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t>\r\n\t\t\t\t</MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI\r\n\t\t\talternativeLabel\r\n\t\t\tactiveStep={currentPage}\r\n\t\t>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title} >\r\n\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{page.title}\r\n\t\t\t\t\t\t</StepLabel>\r\n\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nclass MaterialStepper extends React.Component {\r\n\r\n\t// onComplete() {\r\n\t//     // console.log('currPage', this.currPage)\r\n\t//     let props = this.props\r\n\t//     let page = props.pages[props.currentPage]\r\n\r\n\t//     // console.log('props.pages[props.currentPage]', page.component)\r\n\t// }\r\n\r\n\tgoToPage(nextStep) {\r\n\t\tlet canAdvance = (nextStep > this.props.currentPage) && this.canAdvanceNextToPage()\r\n\t\tlet canGoBack = nextStep < this.props.currentPage\r\n\r\n\t\tif (canAdvance || canGoBack) {\r\n\t\t\tthis.props.setPageIndex(nextStep)\r\n\t\t}\r\n\t}\r\n\r\n\tcanAdvanceNextToPage() {\r\n\t\t/* TODO: add check for optional steps that can be skipped\r\n        */\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\tif (this.props.canAdvance && !Object.keys(this.props.validations[page.props.validateId] || {}).length) {\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tisValidPage() {\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\treturn !Object.keys(this.props.validations[page.props.validateId] || {}).length\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { pages, component, validations, currentPage, t, classes, ...props } = { ...this.props }\r\n\t\tlet page = pages[currentPage]\r\n\t\tlet Comp = page.component\r\n\r\n\t\treturn (\r\n\t\t\t<div >\r\n\t\t\t\t<Paper>\r\n\t\t\t\t\t<StepperNav className={classes.stepperNav} {...props} pages={pages} classes={classes} currentPage={currentPage} goToPage={this.goToPage.bind(this)} />\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.pagePaper\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.pageContent}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{<Comp {...page.props} />}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.controls}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classes.left}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{props.canReverse ?\r\n\t\t\t\t\t\t\t\t<Button onClick={() => props.setPageIndex(currentPage - 1)} >\r\n\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t\t{page.cancelBtn ?\r\n\t\t\t\t\t\t\t\t<page.cancelBtn />\r\n\t\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t\t{this.canAdvanceNextToPage() && !page.completeBtn ?\r\n\t\t\t\t\t\t\t\t<Button onClick={this.goToPage.bind(this, currentPage + 1)} >\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t!page.completeBtn ?\r\n\t\t\t\t\t\t\t\t\t<Button label='Continue' disabled >\r\n\t\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t\t</Button >\r\n\t\t\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t\t{page.completeBtn && this.isValidPage() ?\r\n\t\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst WithMaterialStepper = withStepper(withStyles(styles)(Translate(MaterialStepper)))\r\n\r\nclass MyMaterialStepper extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Stepper pages={this.props.pages} style={{ display: 'block' }}>\r\n\t\t\t\t<WithMaterialStepper itemType={this.props.itemType} validations={this.props.validations} />\r\n\t\t\t</Stepper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nMyMaterialStepper.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpages: PropTypes.array.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tlet persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tvalidations: memory.validations\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)((MyMaterialStepper))\r\n","export const styles = {\r\n\troot: {\r\n\t\tcolor: 'purple',\r\n\t\t'&$active': {\r\n\t\t\tcolor: 'green'\r\n\t\t}\r\n\t},\r\n\tactive: {\r\n\t\tcolor: 'yellow'\r\n\t},\r\n\tpagePaper: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 115,\r\n\t},\r\n\tpageContent: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 20,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t\tbottom: 50,\r\n\t\tpadding: 20,\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t'@media(max-width:500px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0\r\n\t\t}\r\n\t},\r\n\tcontrols: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 5,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t},\r\n\tright: {\r\n\t\ttextAlign: 'right',\r\n\t\tdisplay: 'inline-block',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '86%'\r\n\t\t}\r\n\t},\r\n\tleft: {\r\n\t\tdisplay: 'inline-block',\r\n\t\ttextAlign: 'left',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '14%'\r\n\t\t}\r\n\t},\r\n\tmobileStepper: {\r\n\t\twidth: '100%',\r\n\t\t'& div': {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '10px'\r\n\t\t}\r\n\t},\r\n\tmobileStepLabel: {\r\n\t\t'& span': {\r\n\t\t\tfontSize: '24px',\r\n\t\t\tmargin: '14px auto'\r\n\t\t},\r\n\t\ttextAlign: 'center',\r\n\t\twidth: 'auto'\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n// import { connect } from 'react-redux'\r\n// import { bindActionCreators } from 'redux'\r\n// import actions from 'actions'\r\nimport MaterialStepper from 'components/dashboard/forms/stepper/MaterialUiStepper'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass FormSteps extends Component {\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn (JSON.stringify(this.props) !== JSON.stringify(nextProps))\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pages = []\r\n\t\tconst { t, SaveBtn, CancelBtn, onSave, stepsId, stepsPages, stepsPreviewPage, validateIdBase, ...rest } = this.props\r\n\t\tconst cancelButton = () => <CancelBtn  {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tstepsPages.forEach((page, index) => {\r\n\t\t\tpages.push({\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page || page),\r\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index }\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\tpages.push({\r\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\r\n\t\t\tcompleteBtn: () => <SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />,\r\n\t\t\tcancelBtn: cancelButton,\r\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\r\n\t\t\tprops: { ...this.props, validateId: validateId + '-' + stepsPages.length }\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t// <div style={{ textAlign: 'left' }}>\r\n\t\t\t<MaterialStepper pages={pages} />\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\titemPages: PropTypes.arrayOf(PropTypes.func),\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsPages: PropTypes.arrayOf(PropTypes.object)\r\n}\r\n\r\nexport default Translate(FormSteps)","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Translate from 'components/translate/Translate'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { ContentBox, ContentBody, ContentStickyTop } from 'components/common/dialog/content'\r\nimport { logOut, isDemoMode } from 'services/store-data/auth'\r\nimport DEMO_IMAGE from 'resources/rekt-eddie.png'\r\nimport Img from 'components/common/img/Img'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn <span className={classnames(classes.textBtn, className)} style={style} onClick={onClick}> {label} </span>\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = (props) => {\r\n\treturn <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass WithDialog extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\topen: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t\tconst shouldUpdate = (this.state.open !== nextState.open)\r\n\t\t\t\t|| (JSON.stringify(this.props) !== JSON.stringify(nextProps))\r\n\r\n\t\t\treturn shouldUpdate\r\n\t\t}\r\n\r\n\t\thandleToggle = () => {\r\n\t\t\tthis.setState({ open: !this.state.open })\r\n\t\t}\r\n\r\n\t\tcloseDialog = () => {\r\n\t\t\tthis.setState({ open: false })\r\n\t\t}\r\n\r\n\t\trenderDemoModeAction = () => {\r\n\t\t\tconst { classes, t } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t{t('DEMO_MODE_ACTION_DESCRIPTION')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={logOut}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('DEMO_GO_AUTH_BTN')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tclassName={classes.demoImg}\r\n\t\t\t\t\t\t\t\tallowFullscreen={false}\r\n\t\t\t\t\t\t\t\tsrc={DEMO_IMAGE}\r\n\t\t\t\t\t\t\t\talt={'Demo image'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\ticonButton,\r\n\t\t\t\ttextButton,\r\n\t\t\t\tfabButton,\r\n\t\t\t\tvariant,\r\n\t\t\t\tfabVariant,\r\n\t\t\t\tcolor,\r\n\t\t\t\tsize,\r\n\t\t\t\tmini,\r\n\t\t\t\tclasses,\r\n\t\t\t\tt,\r\n\t\t\t\tbtnLabelArgs,\r\n\t\t\t\tdisabled,\r\n\t\t\t\tclassName,\r\n\t\t\t\ticon,\r\n\t\t\t\ttitle,\r\n\t\t\t\tdialogActions,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\r\n\t\t\tlet ButtonComponent = Button\r\n\r\n\t\t\tconst btnProps = {\r\n\t\t\t\tcolor,\r\n\t\t\t\tsize,\r\n\t\t\t\tmini,\r\n\t\t\t\tvariant\r\n\t\t\t}\r\n\r\n\t\t\tif (iconButton) {\r\n\t\t\t\tButtonComponent = IconButton\r\n\t\t\t} else if (textButton) {\r\n\t\t\t\tButtonComponent = TextBtn\r\n\t\t\t} else if (fabButton) {\r\n\t\t\t\tButtonComponent = Fab\r\n\t\t\t}\r\n\r\n\t\t\tconst btnLabel = t(this.props.btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\tconst isDemo = isDemoMode()\r\n\r\n\t\t\tconst { open } = this.state\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div >\r\n\t\t\t\t\t<ButtonComponent\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\taria-label={btnLabel}\r\n\t\t\t\t\t\tlabel={btnLabel}\r\n\t\t\t\t\t\tonClick={this.handleToggle}\r\n\t\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\t\t// style={this.props.style}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{icon && <Icon className={classnames({ [classes.btnIconLeft]: !iconButton })} > {icon}</Icon>}\r\n\t\t\t\t\t\t{!iconButton && btnLabel}\r\n\t\t\t\t\t</ButtonComponent>\r\n\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\t// disableBackdropClick\r\n\t\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t\t// fullScreen\r\n\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={this.handleToggle}\r\n\t\t\t\t\t// onOverlayClick={this.handleToggle}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* <AppBar className={classes.appBar}>\r\n                            <Toolbar> */}\r\n\t\t\t\t\t\t<DialogTitle\r\n\t\t\t\t\t\t\tdisableTypography\r\n\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tvariant='title'\r\n\t\t\t\t\t\t\t\tclasses={\r\n\t\t\t\t\t\t\t\t\t{ title: classnames(classes.dialogTitle, classes.breakLong) }\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(title)}\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleToggle}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t\t{/* </Toolbar>\r\n                        </AppBar> */}\r\n\t\t\t\t\t\t<DialogContent\r\n\t\t\t\t\t\t\tclasses={{ root: classes.content }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisDemo ?\r\n\t\t\t\t\t\t\t\t\t// NOTE: ugly but it's temp and saves a lot of work!\r\n\t\t\t\t\t\t\t\t\tthis.renderDemoModeAction()\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t\tcloseDialog={this.closeDialog}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t{dialogActions &&\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t{dialogActions}\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Dialog>\r\n\r\n\t\t\t\t</div >\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string.isRequired,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool\r\n\t}\r\n\r\n\treturn Translate(withStyles(styles)(WithDialog))\r\n}\r\n\r\n","import React from 'react'\r\nimport WithdrawFromExchangePage from './WithdrawFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport Button from '@material-ui/core/Button'\r\nimport TransactionHoc from './TransactionHoc'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\n// import SaveIcon from '@material-ui/icons/Save'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege\r\n} from 'services/smart-contracts/actions/identity'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst SaveBtn = ({ save, saveBtnLabel, saveBtnIcon, t, transaction, waitingForWalletAction, spinner, ...other }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={(!!transaction.errors && !!transaction.errors.length) || !!transaction.waitingForWalletAction || !!spinner}\r\n\t\t>\r\n\t\t\t{transaction.waitingForWalletAction ? <HourglassEmptyIcon /> : (saveBtnIcon || '')}\r\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tonClick={cancel}\r\n\t\t>\r\n\t\t\t{t(cancelBtnLabel || 'CANCEL')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\r\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\r\n\r\nconst txCommon = {\r\n\tSaveBtn: SaveBtnWithTransaction,\r\n\tCancelBtn: CancelBtnWithTransaction,\r\n\tvalidateIdBase: 'tx-',\r\n\tdarkerBackground: true\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = (props) =>\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel=\"ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN\"\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle=\"ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE\"\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[{ title: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP', page: WithdrawFromExchangePage }]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_MAKE_TR', page: TransactionPreview }}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn props.actions.identityWithdraw({\r\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\twithdrawTo: transaction.withdrawTo,\r\n\t\t\t})\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction } = {}) => {\r\n\t\t\treturn withdrawFromIdentity({\r\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\tgetFeesOnly: true\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n\r\n\r\nexport const SetIdentityPrivilege = (props) =>\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel=\"ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN\"\r\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\ttitle=\"ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE\"\r\n\t\tstepsId='setIdentityPrivilege'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[{ title: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP', page: SeAddressPrivilege }]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_MAKE_TR', page: TransactionPreview }}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn props.actions.addrIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr:  transaction.setAddr\r\n\t\t\t})\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction } = {}) => {\r\n\t\t\treturn setIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr:  transaction.setAddr,\r\n\t\t\t\tgetFeesOnly: true\r\n\t\t\t})\r\n\t\t}}\r\n\t/>","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport copy from 'copy-to-clipboard'\r\nimport Translate from 'components/translate/Translate'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tSetIdentityPrivilege\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles.js'\r\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\r\n\r\n// const RRButton = withReactRouterLink(Button)\r\n\r\nclass AccountInfo extends React.Component {\r\n\t// eslint-disable-next-line no-useless-constructor\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\twalletJsonData: this.localWalletDownloadHref(),\r\n\t\t\texpanded: false\r\n\t\t}\r\n\t}\r\n\r\n\tUNSAFE_componentWillMount() {\r\n\t\tconst { t, actions, account } = this.props\r\n\t\tconst { updateNav, updateAccountStats } = actions\r\n\t\tupdateNav('navTitle', t('ACCOUNT'))\r\n\t\tupdateAccountStats(account)\r\n\t}\r\n\r\n\tlocalWalletDownloadHref = () => {\r\n\t\tconst { account } = this.props\r\n\t\tconst { email, password } = account.wallet\r\n\t\tconst obj = getRecoveryWalletData({ email, password })\r\n\t\tif (!obj) {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tconst data = \"data:text/json;charset=utf-8,\"\r\n\t\t\t+ encodeURIComponent(JSON.stringify(obj))\r\n\t\treturn data\r\n\t}\r\n\r\n\tonSave = () => {\r\n\t\t// this.getStats()\r\n\t}\r\n\r\n\thandleExpandChange = () => {\r\n\t\tthis.setState({ expanded: !this.state.expanded })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, account, classes, actions } = this.props\r\n\t\tconst formatted = account.stats.formatted || {}\r\n\t\tconst {\r\n\t\t\twalletAddress,\r\n\t\t\twalletAuthType,\r\n\t\t\twalletPrivileges,\r\n\t\t\t// walletBalanceEth,\r\n\t\t\t// walletBalanceDai,\r\n\t\t\tidentityAddress,\r\n\t\t\tidentityBalanceDai\r\n\t\t} = formatted\r\n\r\n\t\tconst { authType, email } = account.wallet\r\n\t\tconst { walletJsonData, expanded } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t// dense={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\tprimary={identityAddress}\r\n\t\t\t\t\t\t\tsecondary={(account._authType === 'demo')\r\n\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_IDENTITY_ADDRESS')\r\n\t\t\t\t\t\t\t\t: t('IDENTITY_ETH_ADDR')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{walletJsonData &&\r\n\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tid='download-wallet-json'\r\n\t\t\t\t\t\t\t\t\thref={this.localWalletDownloadHref()}\r\n\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\r\n\t\t\t\t\t\t\t\t\t\t<DownloadIcon />\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\tthis.props.actions\r\n\t\t\t\t\t\t\t\t\t.addToast({ type: 'accept', action: 'X', label: t('COPIED_TO_CLIPBOARD'), timeout: 5000 })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\tsecondary={walletAddress}\r\n\t\t\t\t\t\t\tprimary={(account.authType === 'demo')\r\n\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_WALLET_ADDRESS', { args: [walletAuthType, walletPrivileges] })\r\n\t\t\t\t\t\t\t\t: t('WALLET_INFO_LABEL', { args: [walletAuthType, walletPrivileges || ' - ', authType] })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<ListItem\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={identityBalanceDai + ' DAI'}\r\n\t\t\t\t\t\t\tsecondary={t('IDENTITY_DAI_BALANCE_AVAILABLE')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className={classes.itemActions}>\r\n\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonSave={this.onSave}\r\n\t\t\t\t\t\t\t\tidentityAvailable={identityBalanceDai}\r\n\t\t\t\t\t\t\t\tidentityAvailableRaw={identityBalanceDai}\r\n\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\tclassName={classes.actionBtn}\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tactions={actions}\r\n\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<ExpansionPanel expanded={expanded} onChange={this.handleExpandChange}>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\taria-controls=\"panel1bh-content\"\r\n\t\t\t\t\t\t\tid=\"panel1bh-header\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography className={classes.heading}>{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}</Typography>\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className={classes.itemActions}>\r\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tonSave={this.onSave}\r\n\t\t\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.actionBtn}\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={identityBalanceDai}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\t\t\t\t</List>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAccountInfo.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\tconst { account } = persist\r\n\r\n\treturn {\r\n\t\taccount: account,\r\n\t\tside: memory.nav.side\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(AccountInfo)))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\titemActions: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: '0 0 187px',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\talignItems: 'flex-end',\r\n\t\t\tjustifyContent: 'space-around'\r\n\t\t},\r\n\t\tactionBtn: {\r\n\t\t\tmarginBottom: spacing\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word'\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdUnit } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this);\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdUnit',\r\n\t\t\t\tAdUnit\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem, account, addTo } = this.props\r\n\t\t\tnewItem.owner = account.wallet.address\r\n\t\r\n\t\t\tactions.addItem(newItem, addTo, account.wallet.authSig)\t\t\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\t\t\t\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit'])\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1]\r\n\t}\r\n})\r\n\r\nclass AdUnitBasic extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { newItem } = props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.newItem.title !== this.props.newItem.title\r\n\t\t\t|| prevProps.newItem.type !== this.props.newItem.type\r\n\t\t\t|| prevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\r\n\t\t) {\r\n\t\t\tthis.addUtmParameters()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.title)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.description)\r\n\r\n\t\tthis.props.validate('description', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateTargetUrl(targetUrl, dirty) {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t\tif (!result.error) this.addUtmParameters(targetUrl)\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adUnitPost.type)\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\taddUtmParameters() {\r\n\t\tconst { handleChange, newItem } = this.props\r\n\t\tconst { targetUrl, title, type, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tif (!!targetUrl) {\r\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\r\n\t\t\t\ttargetUrl,\r\n\t\t\t\tcampaign: title,\r\n\t\t\t\tcontent: type,\r\n\t\t\t\tremoveFromUrl: !addUtmLink\r\n\t\t\t})\r\n\t\t\thandleChange('targetUrl', newTargetUrl)\r\n\t\t}\r\n\t}\r\n\r\n\thandleChangeAddUtmLink(ev) {\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.addUtmLink = ev.target.checked\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tnewItem,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange\r\n\t\t} = this.props\r\n\t\tconst { targetUrl, type, title, description, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\t\tconst errTargetUrl = invalidFields['targetUrl']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={errTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\t\tthis.validateDescription(title, true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(title, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errDescription && !!errDescription.dirty)\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: (t('DESCRIPTION_HELPER'))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\thandleChange('targetUrl', ev.target.value)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\r\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errTargetUrl && !!errTargetUrl.dirty)\r\n\t\t\t\t\t\t\t\t\t? errTargetUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\r\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\r\n\r\nexport default Translate(NewAdUnitBasic)\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({ targetUrl, campaign, content, removeFromUrl }) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst newQuery = {}\r\n\t\t\tif (removeFromUrl) {\r\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\r\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\r\n\t\t\t\t\t\tnewQuery[key] = value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\tURL.query = newQuery\r\n\t\t\t} else {\r\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\r\n\t\t\t\tif (campaign) {\r\n\t\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t\t}\r\n\t\t\t\tif (content) {\r\n\t\t\t\t\tquery['utm_content'] = content\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = query\r\n\t\t\t}\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\n\r\nconst getWidAndHightFromType = (type) => {\r\n\ttype = type || 'legacy_300x100'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = (type.split('_')[1]).split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10)\r\n\t}\r\n}\r\n\r\nclass AdUnitMedia extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem, validate } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl } = temp\r\n\r\n\t\tconst { width, height } =\r\n\t\t\tgetWidAndHightFromType(type)\r\n\r\n\t\tif (tempUrl) {\r\n\t\t\tconst isValidMediaSize =\r\n\t\t\t\t(temp.width === width) &&\r\n\t\t\t\t(temp.height === height)\r\n\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: isValidMediaSize,\r\n\t\t\t\terr: {\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\targs: [width, height, 'px']\r\n\t\t\t\t},\r\n\t\t\t\tdirty: true\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { newItem, t, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\tvalidateMedia.bind(this,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\targs: [width, height, 'px']\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\theight: height\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired\r\n}\r\n\r\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\r\n\r\nexport default Translate(NewAdUnitMedia)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport const renderInput = (inputProps) => {\r\n\tconst { InputProps, classes, ref, ...other } = inputProps\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tInputProps={{\r\n\t\t\t\tinputRef: ref,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t},\r\n\t\t\t\t...InputProps,\r\n\t\t\t}}\r\n\t\t\t{...other}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const renderSuggestion = ({ suggestion, index, itemProps, highlightedIndex, selectedItem, showSelected }) => {\r\n\tconst isHighlighted = highlightedIndex === index\r\n\t// TODO: make it better\r\n\t// Note wo work with obj and array\r\n\tconst isSelected = ((selectedItem || {}).value || selectedItem || '').indexOf(suggestion.value) > -1\r\n\r\n\tif (!showSelected && isSelected) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<MenuItem\r\n\t\t\t{...itemProps}\r\n\t\t\tkey={suggestion.value || suggestion.label}\r\n\t\t\tselected={isHighlighted}\r\n\t\t\tcomponent=\"div\"\r\n\t\t\tstyle={{\r\n\t\t\t\tfontWeight: isSelected ? 500 : 400,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{suggestion.label}\r\n\t\t</MenuItem>\r\n\t)\r\n}\r\n\r\nconst newSuggestion = (inputValue) => {\r\n\treturn {\r\n\t\tlabel: `${translate('CREATE_TAG_LABEL')} \"${inputValue.toLowerCase().trim()}\"`,\r\n\t\tvalue: inputValue.toLowerCase().trim()\r\n\t}\r\n}\r\n\r\nrenderSuggestion.propTypes = {\r\n\thighlightedIndex: PropTypes.number,\r\n\tindex: PropTypes.number,\r\n\titemProps: PropTypes.object,\r\n\tselectedItem: PropTypes.string,\r\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\r\n}\r\n\r\nexport const getSuggestions = (inputValue = '', source, allowCreate, validateCreation) => {\r\n\tif (!inputValue) {\r\n\t\treturn source\r\n\t} else {\r\n\t\tinputValue = inputValue.toLowerCase().trim()\r\n\r\n\t\tsource = source.filter(suggestion => {\r\n\t\t\treturn (!inputValue || suggestion.label.toLowerCase().trim().indexOf(inputValue) !== -1)\r\n\t\t})\r\n\r\n\t\t// Making sure that an option to create a new item will exist when needed\r\n\t\tconst values = source.map((item) => {\r\n\t\t\treturn item.value\r\n\t\t})\r\n\r\n\t\tif (!values.includes(inputValue)\r\n            && allowCreate\r\n            && (!validateCreation || validateCreation(inputValue))) {\r\n\t\t\tsource.push(newSuggestion(inputValue))\r\n\t\t}\r\n\r\n\t\treturn source\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport keycode from 'keycode'\r\nimport Downshift from 'downshift'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\r\n\r\nclass DownshiftMultiple extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tinputValue: '',\r\n\t\t\tselectedItem: props.value || [],\r\n\t\t}\r\n\t}\r\n\r\n    handleKeyDown = event => {\r\n    \tconst { inputValue, selectedItem } = this.state\r\n    \tif (selectedItem.length && !inputValue.length && keycode(event) === 'backspace') {\r\n    \t\tconst newItemValue = selectedItem.slice(0, selectedItem.length - 1)\r\n    \t\tthis.setState({\r\n    \t\t\tselectedItem: newItemValue,\r\n    \t\t})\r\n\r\n    \t\tthis.props.onChange(newItemValue)\r\n    \t}\r\n    }\r\n\r\n    handleInputChange = event => {\r\n    \tconst value = event.target.value.toLowerCase()\r\n    \tthis.setState({ inputValue: value })\r\n    }\r\n\r\n    handleChange = item => {\r\n    \tlet { selectedItem } = this.state\r\n\r\n    \tif (selectedItem.indexOf(item.value) === -1) {\r\n    \t\tselectedItem = [...selectedItem, item.value]\r\n    \t}\r\n\r\n    \tthis.setState({\r\n    \t\tinputValue: '',\r\n    \t\tselectedItem,\r\n    \t})\r\n\r\n    \tthis.props.onChange(selectedItem)\r\n    }\r\n\r\n    handleDelete = item => () => {\r\n    \tconst selectedItem = [...this.state.selectedItem]\r\n    \tselectedItem.splice(selectedItem.indexOf(item), 1)\r\n\r\n    \tthis.setState({ selectedItem })\r\n    \tthis.props.onChange(selectedItem)\r\n    }\r\n\r\n    /**\r\n     * source {'propValue': 'propsLabel'} - skip one mapping to get the label for Chip\r\n     */\r\n    render() {\r\n    \tconst { classes, source, label, id, placeholder, helperText, openOnClick, allowCreate, validateCreation } = this.props\r\n    \tconst { inputValue, selectedItem } = this.state\r\n    \tconst allValues = Object.keys(source).map(key => { return { value: key, label: source[key] } })\r\n\r\n    \treturn (\r\n    \t\t<Downshift\r\n    \t\t\tinputValue={inputValue}\r\n    \t\t\tonChange={this.handleChange}\r\n    \t\t\tselectedItem={selectedItem}\r\n    \t\t\t// defaultIsOpen={true}\r\n    \t\t\titemToString={(item) => item.label}\r\n    \t\t>\r\n    \t\t\t{({\r\n    \t\t\t\tgetInputProps,\r\n    \t\t\t\tgetItemProps,\r\n    \t\t\t\tisOpen,\r\n    \t\t\t\tinputValue: inputValue2,\r\n    \t\t\t\tselectedItem: selectedItem2,\r\n    \t\t\t\thighlightedIndex,\r\n    \t\t\t\ttoggleMenu\r\n    \t\t\t}) => (\r\n    \t\t\t\t<div className={classes.container}>\r\n    \t\t\t\t\t{renderInput({\r\n    \t\t\t\t\t\tfullWidth: true,\r\n    \t\t\t\t\t\tclasses,\r\n    \t\t\t\t\t\thelperText,\r\n    \t\t\t\t\t\tlabel,\r\n    \t\t\t\t\t\tInputProps: getInputProps({\r\n    \t\t\t\t\t\t\tstartAdornment: selectedItem.map(item => (\r\n    \t\t\t\t\t\t\t\t<Chip\r\n    \t\t\t\t\t\t\t\t\tkey={item}\r\n    \t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n    \t\t\t\t\t\t\t\t\tlabel={source[item]}\r\n    \t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n    \t\t\t\t\t\t\t\t\tonDelete={this.handleDelete(item)}\r\n    \t\t\t\t\t\t\t\t/>\r\n    \t\t\t\t\t\t\t)),\r\n    \t\t\t\t\t\t\tonChange: this.handleInputChange,\r\n    \t\t\t\t\t\t\tonKeyDown: this.handleKeyDown,\r\n    \t\t\t\t\t\t\tplaceholder,\r\n    \t\t\t\t\t\t\tid,\r\n    \t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu()\r\n    \t\t\t\t\t\t}),\r\n    \t\t\t\t\t})}\r\n    \t\t\t\t\t{isOpen ? (\r\n    \t\t\t\t\t\t<Paper className={classes.paper} square>\r\n    \t\t\t\t\t\t\t{getSuggestions(inputValue2, allValues, allowCreate, validateCreation).map((suggestion, index) =>\r\n    \t\t\t\t\t\t\t\trenderSuggestion({\r\n    \t\t\t\t\t\t\t\t\tsuggestion,\r\n    \t\t\t\t\t\t\t\t\tindex,\r\n    \t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\r\n    \t\t\t\t\t\t\t\t\thighlightedIndex,\r\n    \t\t\t\t\t\t\t\t\tselectedItem: selectedItem2,\r\n    \t\t\t\t\t\t\t\t}),\r\n    \t\t\t\t\t\t\t)}\r\n    \t\t\t\t\t\t</Paper>\r\n    \t\t\t\t\t) : null}\r\n    \t\t\t\t</div>\r\n    \t\t\t)}\r\n    \t\t</Downshift>\r\n    \t)\r\n    }\r\n}\r\n\r\nDownshiftMultiple.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default DownshiftMultiple","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Downshift from 'downshift'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\r\n\r\nclass DownshiftSingle extends React.Component {\r\n\r\n\thandleChange = item => {\r\n\t\tconst selectedItem = item.value || item.label\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tsource,\r\n\t\t\tlabel,\r\n\t\t\tid,\r\n\t\t\tplaceholder,\r\n\t\t\thelperText,\r\n\t\t\tshowSelected,\r\n\t\t\tvalue,\r\n\t\t\topenOnClick,\r\n\t\t\tallowCreate,\r\n\t\t\tvalidateCreation\r\n\t\t} = this.props\r\n\t\tconst allValues = source //Object.keys(source).map(key => { return { value: key, label: source[key] } })\r\n\r\n\t\treturn (\r\n\t\t\t<Downshift\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\titemToString={(item) => (item || {}).label || item || ''}\r\n\t\t\t\tselectedItem={value}\r\n\t\t\t>\r\n\t\t\t\t{({\r\n\t\t\t\t\tgetInputProps,\r\n\t\t\t\t\tgetItemProps,\r\n\t\t\t\t\tisOpen,\r\n\t\t\t\t\tinputValue,\r\n\t\t\t\t\tselectedItem,\r\n\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\ttoggleMenu\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<div className={classes.container}>\r\n\t\t\t\t\t\t{renderInput({\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\tvalue: inputValue,\r\n\t\t\t\t\t\t\tfullWidth: true,\r\n\t\t\t\t\t\t\tclasses,\r\n\t\t\t\t\t\t\thelperText,\r\n\t\t\t\t\t\t\tInputProps: getInputProps({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu(),\r\n\t\t\t\t\t\t\t\tplaceholder\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t{isOpen ? (\r\n\t\t\t\t\t\t\t<Paper className={classes.paper} square>\r\n\t\t\t\t\t\t\t\t{getSuggestions(inputValue, allValues, allowCreate, validateCreation).map((suggestion, index) =>\r\n\t\t\t\t\t\t\t\t\trenderSuggestion({\r\n\t\t\t\t\t\t\t\t\t\tsuggestion,\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\r\n\t\t\t\t\t\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\t\t\t\t\t\tselectedItem,\r\n\t\t\t\t\t\t\t\t\t\tshowSelected\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Downshift>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDownshiftSingle.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default DownshiftSingle","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport DownshiftMultiple from './DownshiftMultiple'\r\nimport DownshiftSingle from './DownshiftSingle'\r\n\r\nfunction Autocomplete(props) {\r\n\tconst { classes, source, multiple, ...rest } = props\r\n\r\n\treturn (\r\n\t\t<div >\r\n\t\t\t{multiple ?\r\n\t\t\t\t<DownshiftMultiple classes={classes} source={source} {...rest} />\r\n\t\t\t\t:\r\n\t\t\t\t<DownshiftSingle classes={classes} source={source} {...rest} />\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(Autocomplete)","export const styles = theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 250,\r\n\t},\r\n\tcontainer: {\r\n\t\tflexGrow: 1,\r\n\t\tposition: 'relative',\r\n\t},\r\n\tpaper: {\r\n\t\tposition: 'absolute',\r\n\t\tzIndex: 1,\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\toverflow: 'auto',\r\n\t\tmaxHeight: 150\r\n\t},\r\n\tchip: {\r\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\r\n\t},\r\n\tinputRoot: {\r\n\t\tflexWrap: 'wrap',\r\n\t},\r\n})","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcLocations = autocompleteLocationsSingleSelect()\r\nconst AcGenders = autocompleteGendersSingleSelect()\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting'}\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t}\r\n}\r\n\r\nconst SourcesSelect = Object.keys(SOURCES)\r\n\t.map(key => {\r\n\t\treturn {\r\n\t\t\tvalue: {\r\n\t\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\t\tsource: key,\r\n\t\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`)\r\n\t\t\t},\r\n\t\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`)\r\n\t\t}\r\n\t})\r\n\r\nclass AdUnitTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: targets || []\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst collections = [...targets]\r\n\t\t\t.reduce((all, tg) => {\r\n\t\t\t\tconst newCollection = ((all[tg.collection] || []))\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t}, {})\r\n\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\tthis.props.handleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst target = newTargets[index]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.target[prop] = newValue\r\n\t\tnewTargets[index] = { ...target }\r\n\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = (target) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource,\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses\r\n\t}) => {\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={'target-' + index}\r\n\t\t\t\t\t\tdirection=\"auto\"\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\tonChange={(newValue) =>\r\n\t\t\t\t\t\t\tthis.handleTargetChange(\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t'tag',\r\n\t\t\t\t\t\t\t\tnewValue,\r\n\t\t\t\t\t\t\t\tcollection\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tid={`target-score-${index}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\targs: [target.score]\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t// classes={{ container: classes.slider }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1} \r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(\r\n\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t'score',\r\n\t\t\t\t\t\t\t\t\tnewValue,\r\n\t\t\t\t\t\t\t\t\tcollection\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t</Grid >\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(({\r\n\t\t\t\t\t\t\tsource,\r\n\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\ttarget = {}\r\n\t\t\t\t\t\t} = {}, index) =>\r\n\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\r\n\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={(target) => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\r\n\r\nexport default Translate(NewAdUnitTargeting)\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\tboxShadow: theme.shadows[2]\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content'\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport { PropRow, ContentBox, ContentBody } from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nclass AdUnitFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttitle,\r\n\t\t\tdescription,\r\n\t\t\ttemp,\r\n\t\t\ttargeting,\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('type', { isProp: true })}\r\n\t\t\t\t\t\tright={type}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('title', { isProp: true })}\r\n\t\t\t\t\t\tright={title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\r\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{targeting && <PropRow\r\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account\r\n\t}\r\n}\r\n\r\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\r\nexport default connect(\r\n\tmapStateToProps\r\n)(Translate(NewAdUnitFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Campaign } from 'adex-models'\r\n\r\nexport default function NewCampaignHoc(Decorated) {\r\n\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this);\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'Campaign',\r\n\t\t\t\tCampaign\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = async () => {\r\n\t\t\tconst { actions, newItem, account } = this.props\r\n\t\t\tconst { temp } = newItem\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.waitingAction = true\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tawait actions.openCampaign({ campaign: newItem, account })\r\n\r\n\t\t\tnewTemp.waitingAction = false\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object\r\n\t}\r\n\t\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\r\n\t\tconst adUnits = persist.items['AdUnit'] || {}\r\n\t\tconst adUnitsArray = Array.from(Object.values(adUnits)) || []\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\r\n\t\t\tadUnits,\r\n\t\t\tadUnitsArray,\r\n\t\t\tspinner: memory.spinners['opening-campaign']\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport { AdUnit } from 'adex-models'\r\nimport {\r\n\tSORT_PROPERTIES_ITEMS,\r\n\tFILTER_PROPERTIES_ITEMS\r\n} from 'constants/misc'\r\n\r\nclass CampaignUnits extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tselected: (props.newItem.adUnits.reduce((selected, unit) => {\r\n\t\t\t\tselected[unit.ipfs] = true\r\n\t\t\t\treturn selected\r\n\t\t\t}, {})) || {}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateUnits(newItem.adUnits, true)\r\n\t}\r\n\r\n\tvalidateUnits(adUnits, dirty) {\r\n\t\tconst isValid = !!adUnits.length\r\n\t\tthis.props.validate(\r\n\t\t\t'adUnits',\r\n\t\t\t{\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_ADUNITS_REQIURED' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\thandleSelect = (ipfs, checked) => {\r\n\t\tconst newSelected = { ...this.state.selected }\r\n\t\tconst { adUnits, handleChange } = this.props\r\n\r\n\t\tif (checked) {\r\n\t\t\tnewSelected[ipfs] = true\r\n\t\t} else {\r\n\t\t\tdelete newSelected[ipfs]\r\n\t\t}\r\n\r\n\t\tthis.setState({ selected: newSelected })\r\n\t\tconst units = Object.keys(newSelected).map(key => {\r\n\t\t\treturn adUnits[key]\r\n\t\t})\r\n\r\n\t\thandleChange('adUnits', units)\r\n\t\tthis.validateUnits(units, true)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { adUnitsArray } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\t\t\tobjModel={AdUnit}\r\n\t\t\t\t\t\t\t\tselectMode\r\n\t\t\t\t\t\t\t\tselectedItems={this.state.selected}\r\n\t\t\t\t\t\t\t\tonSelect={(unit, checked) => {\r\n\t\t\t\t\t\t\t\t\tthis.handleSelect(unit, checked)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\titems={adUnitsArray}\r\n\t\t\t\t\t\t\t\tlistMode='rows'\r\n\t\t\t\t\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\t\t\t\t\tviewModeId={'newCampaignAdUnits'}\r\n\t\t\t\t\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignUnits.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n\tadUnits: PropTypes.object.isRequired,\r\n\tadUnitsArray: PropTypes.array.isRequired\r\n}\r\n\r\nconst NewCampaignUnits = NewCampaignHoc(CampaignUnits)\r\n\r\nexport default Translate(NewCampaignUnits)\r\n","import React, { Component } from 'react'\r\nimport { DateTimePicker  as MuiDateTimePicker  } from 'material-ui-pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CalendarIcon from '@material-ui/icons/DateRange'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nconst CalendarIconAdor = ({ icon = <CalendarIcon />, iconColor, onIconClick }) =>\r\n\t<InputAdornment position=\"end\">\r\n\t\t<IconButton\r\n\t\t\tcolor={iconColor}\r\n\t\t\tonClick={onIconClick}\r\n\t\t>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t</InputAdornment>\r\n\r\nexport class DateTimePicker extends Component {\r\n\trender() {\r\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDateTimePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon\r\n\t\t\t\t\t\t? <CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { utils } from 'ethers'\r\nimport { validations } from 'adex-models'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { totalFeesFormatted } from 'services/smart-contracts/actions/core'\r\nconst moment = new MomentUtils()\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE = '0'\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE = '0'\r\n\r\nconst AdvPlatformValidators = {\r\n\t[VALIDATOR_LEADER_ID]: {\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfee: VALIDATOR_LEADER_FEE\r\n\t}\r\n}\r\n\r\nconst PubPlatformValidators = {\r\n\t[VALIDATOR_FOLLOWER_ID]: {\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfee: VALIDATOR_FOLLOWER_FEE\r\n\t}\r\n}\r\n\r\nconst VALIDATOR_SOURCES = [\r\n\tAdvPlatformValidators,\r\n\tPubPlatformValidators\r\n]\r\n\r\nconst AdvValidatorsSrc = Object.keys(AdvPlatformValidators).map(key => {\r\n\tconst val = AdvPlatformValidators[key]\r\n\treturn {\r\n\t\tvalue: key,\r\n\t\tlabel: `${val.url} - ${val.id}`\r\n\t}\r\n})\r\n\r\nconst PubValidatorsSrc = Object.keys(PubPlatformValidators).map(key => {\r\n\tconst val = PubPlatformValidators[key]\r\n\treturn {\r\n\t\tvalue: key,\r\n\t\tlabel: `${val.url} - ${val.id}`\r\n\t}\r\n})\r\n\r\nconst getTotalImpressions = ({ depositAmount, minPerImpression, t }) => {\r\n\tconst dep = parseFloat(depositAmount)\r\n\tconst min = parseFloat(minPerImpression)\r\n\tif (!dep) {\r\n\t\treturn t('DEPOSIT_NOT_SET')\r\n\t} else if (!min) {\r\n\t\treturn t('CPM_NOT_SET')\r\n\t} else {\r\n\t\tconst impressions = utils.commify(\r\n\t\t\tMath.floor((dep / min) * 1000))\r\n\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\r\n\t}\r\n}\r\n\r\nconst validateCampaignDates = ({ created = Date.now(), withdrawPeriodStart, activeFrom }) => {\r\n\tlet error = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && (withdrawPeriodStart <= activeFrom)) {\r\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'activeFrom' }\r\n\t} else if (withdrawPeriodStart && (withdrawPeriodStart < created)) {\r\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\r\n\t} else if (activeFrom && (activeFrom < created)) {\r\n\t\terror = { message: 'ERR_START_BEFORE_NOW', prop: 'activeFrom' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\r\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\r\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nconst validateAmounts = ({ maxDeposit = 0, depositAmount, minPerImpression }) => {\r\n\tconst maxDep = parseFloat(maxDeposit)\r\n\tconst dep = parseFloat(depositAmount)\r\n\tconst min = parseFloat(minPerImpression)\r\n\r\n\tlet error = null\r\n\tif (dep && (dep > maxDep)) {\r\n\t\terror = { message: 'ERR_INSUFFICIENT_IDENTITY_BALANCE', prop: 'depositAmount' }\r\n\t} if (dep && (dep < min)) {\r\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\r\n\t} if (dep <= 0) {\r\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\r\n\t} if (min <= 0) {\r\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nclass CampaignFinance extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateAndUpdateValidator(false, 0, newItem.validators[0])\r\n\t\tthis.validateAndUpdateValidator(false, 1, newItem.validators[1])\r\n\t\tthis.validateAmount(newItem.depositAmount, 'depositAmount', false, 'REQUIRED_FIELD')\r\n\t\tthis.validateAmount(newItem.minPerImpression, 'minPerImpression', false, 'REQUIRED_FIELD')\r\n\t\tthis.handleDates('activeFrom', newItem.activeFrom, false)\r\n\t\tthis.handleDates('withdrawPeriodStart', newItem.withdrawPeriodStart, false)\r\n\t}\r\n\r\n\tvalidateAndUpdateValidator = (dirty, index, key = {}, update) => {\r\n\t\tconst { handleChange, newItem, validate } = this.props\r\n\t\tconst { validators } = newItem\r\n\t\tconst newValidators = [...validators]\r\n\t\tconst newValue = VALIDATOR_SOURCES[index][key.id || key]\r\n\r\n\t\tnewValidators[index] = newValue\r\n\r\n\t\tconst isValid =\r\n\t\t\t!!newValidators[0] &&\r\n\t\t\t!!newValidators[1] &&\r\n\t\t\t!!newValidators[0].id &&\r\n\t\t\t!!newValidators[0].url &&\r\n\t\t\t!!newValidators[1].id &&\r\n\t\t\t!!newValidators[1].url\r\n\r\n\t\tif (update) {\r\n\t\t\thandleChange('validators', newValidators)\r\n\t\t}\r\n\r\n\t\tvalidate('validators', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\r\n\t\tconst isValidNumber = validations.isNumberString(value)\r\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\t\tif (!isValid) {\r\n\t\t\tthis.props.validate(\r\n\t\t\t\tprop,\r\n\t\t\t\t{\r\n\t\t\t\t\tisValid: isValid,\r\n\t\t\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\t\t\t\tdirty: dirty\r\n\t\t\t\t})\r\n\t\t} else {\r\n\r\n\t\t\tconst { newItem, account } = this.props\r\n\r\n\t\t\tconst { identityBalanceDai } = account.stats.formatted\r\n\t\t\tconst depositAmount = (prop === 'depositAmount') ? value : newItem.depositAmount\r\n\t\t\tconst minPerImpression = (prop === 'minPerImpression') ? value : newItem.minPerImpression\r\n\r\n\t\t\tconst result = validateAmounts({ maxDeposit: identityBalanceDai - totalFeesFormatted, depositAmount, minPerImpression })\r\n\r\n\t\t\tthis.props.validate(\r\n\t\t\t\tprop,\r\n\t\t\t\t{\r\n\t\t\t\t\tisValid: !result.error,\r\n\t\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\t\tdirty: dirty\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleDates = (prop, value, dirty) => {\r\n\r\n\t\tconst { newItem, handleChange, validate } = this.props\r\n\t\tconst withdrawPeriodStart = (prop === 'withdrawPeriodStart') ? value : newItem.withdrawPeriodStart\r\n\t\tconst activeFrom = (prop === 'activeFrom') ? value : newItem.activeFrom\r\n\t\tconst result = validateCampaignDates({ withdrawPeriodStart, activeFrom, created: newItem.created })\r\n\r\n\t\tvalidate(\r\n\t\t\t'activeFrom',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\r\n\t\tvalidate(\r\n\t\t\t'withdrawPeriodStart',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\r\n\t\tif (value) {\r\n\t\t\thandleChange(prop, value)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\thandleChange,\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\taccount\r\n\t\t} = this.props\r\n\t\tconst {\r\n\t\t\tvalidators,\r\n\t\t\tdepositAmount,\r\n\t\t\tminPerImpression,\r\n\t\t\t// depositAsset,\r\n\t\t\tactiveFrom,\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tminTargetingScore\r\n\t\t} = newItem\r\n\r\n\t\tconst { identityBalanceDai } = account.stats.formatted\r\n\r\n\t\tconst from = activeFrom || undefined\r\n\t\tconst to = withdrawPeriodStart || undefined\r\n\t\tconst now = moment.date().valueOf()\r\n\r\n\t\tconst errDepAmnt = invalidFields['depositAmount']\r\n\t\tconst errMin = invalidFields['minPerImpression']\r\n\t\tconst errFrom = invalidFields['activeFrom']\r\n\t\tconst errTo = invalidFields['withdrawPeriodStart']\r\n\r\n\t\tconst impressions = !(errDepAmnt || errMin)\r\n\t\t\t? getTotalImpressions({ depositAmount, minPerImpression, t })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(value) =>\r\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 0, value, true)}\r\n\t\t\t\t\t\t\tsource={AdvValidatorsSrc}\r\n\t\t\t\t\t\t\tvalue={(validators[0] || {}).id + ''}\r\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\thtmlId='leader-validator-dd'\r\n\t\t\t\t\t\t\tname='leader-validator'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(value) =>\r\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 1, value, true)}\r\n\t\t\t\t\t\t\tsource={PubValidatorsSrc}\r\n\t\t\t\t\t\t\tvalue={(validators[1] || {}).id + ''}\r\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\thtmlId='follower-validator-dd'\r\n\t\t\t\t\t\t\tname='follower-validator'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t(identityBalanceDai - totalFeesFormatted).toFixed(2), 'DAI',\r\n\t\t\t\t\t\t\t\t\ttotalFeesFormatted, 'DAI'\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={(ev) => {\r\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'depositAmount', true)\r\n\t\t\t\t\t\t\t\thandleChange('depositAmount', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errDepAmnt && !!errDepAmnt.dirty)\r\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DEPOSIT_AMOUNT_HELPER_TXT', { args: [totalFeesFormatted, 'DAI'] })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={(ev) => {\r\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\r\n\t\t\t\t\t\t\t\thandleChange('minPerImpression', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errMin && !!errMin.dirty)\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CPM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={(val) => {\r\n\t\t\t\t\t\t\t\tthis.handleDates('activeFrom', val.valueOf(), true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errFrom && !!errFrom.dirty)\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tonChange={(val) =>\r\n\t\t\t\t\t\t\t\tthis.handleDates('withdrawPeriodStart', val.valueOf(), true)}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errTo && !!errTo.dirty)\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange('minTargetingScore',\r\n\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n\tadUnits: PropTypes.array.isRequired\r\n}\r\n\r\nconst NewCampaignFinance = NewCampaignHoc(CampaignFinance)\r\n\r\nexport default Translate(NewCampaignFinance)\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important'\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important'\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n} from 'components/common/dialog/content'\r\nimport { AdUnit } from 'adex-models'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\n\r\nclass CampaignFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\tAdUnitsTable = ({ items }) => {\r\n\t\treturn (\r\n\r\n\t\t\t<Grid item sm={12}>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\tobjModel={AdUnit}\r\n\t\t\t\t\t\titems={items}\r\n\t\t\t\t\t\tlistMode\r\n\t\t\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\t\t\tnoControls\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\tsortProperties={[]}\r\n\t\t\t\t\t\tviewModeId={'newCampaignAdUnitsPreview'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { account, newItem, t } = this.props\r\n\t\tconst {\r\n\t\t\t// targeting,\r\n\t\t\tadUnits,\r\n\t\t\tvalidators,\r\n\t\t\tdepositAmount,\r\n\t\t\tminPerImpression,\r\n\t\t\t// maxPerImpression,\r\n\t\t\t// depositAsset,\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tminTargetingScore\r\n\t\t\t// nonce\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t{newItem.temp.waitingAction ?\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t</ContentStickyTop> : null}\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.identity.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<this.AdUnitsTable\r\n\t\t\t\t\t\t\t\titems={adUnits}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{validators.map(val =>\r\n\t\t\t\t\t\t\t\t\t<div key={val.id}>\r\n\t\t\t\t\t\t\t\t\t\t{`${val.url} - ${val.id}`}\r\n\t\t\t\t\t\t\t\t\t</div>)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\tright={depositAmount + ' DAI'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\tright={minPerImpression + ' DAI'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\r\n\t\t\t\t\t\tright={maxPerImpression}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{minTargetingScore &&\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tright={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(created)}\r\n\t\t\t\t\t/> */}\r\n\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account\r\n\t}\r\n}\r\n\r\nconst NewCampaignFormPreview = NewCampaignHoc(withStyles(styles)(CampaignFormPreview))\r\nexport default connect(\r\n\tmapStateToProps\r\n)(Translate(NewCampaignFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this);\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdSlot',\r\n\t\t\t\tAdSlot\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem, account } = this.props\r\n\t\t\tnewItem.owner = account.wallet.address\r\n\r\n\t\t\tactions.addSlot(newItem, 'AdSlot', account.wallet.authSig)\t\t\t\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\t\t\t\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot'])\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\n\r\nconst { adSlotPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes\r\n\t.map(type => {\r\n\t\treturn {\r\n\t\t\tvalue: type,\r\n\t\t\tlabel: type.split('_')[1]\r\n\t\t}\r\n\t})\r\n\r\nclass AdSlotBasic extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adSlotPost.title)\r\n\r\n\t\tthis.props.validate(\r\n\t\t\t'title',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adSlotPost.description)\r\n\r\n\t\tthis.props.validate(\r\n\t\t\t'description',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adSlotPost.type)\r\n\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type',\r\n\t\t\t{\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tnewItem,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\t// nameHelperTxt,\r\n\t\t\t// descriptionHelperTxt\r\n\t\t} = this.props\r\n\t\tconst { type, title, description } = newItem\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Unit ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\thandleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errTitle && !!errTitle.dirty)\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: (t('TITLE_HELPER'))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\thandleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateDescription(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(title, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t(errDescription && !!errDescription.dirty)\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: (t('DESCRIPTION_HELPER'))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType\r\n\t\t\t\t\t\t\t\t.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotBasic = NewAdSlotHoc(AdSlotBasic)\r\n\r\nexport default Translate(NewAdSlotBasic)\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport { schemas, Joi } from 'adex-models'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\n\r\nconst getWidAndHightFromType = (type) => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = (type.split('_')[1]).split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10)\r\n\t}\r\n}\r\n\r\nclass AdSlotMedia extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tconst { temp, targetUrl } = newItem\r\n\t\tconst { useFallback } = temp\r\n\r\n\t\tif (useFallback) {\r\n\t\t\tthis.validateImage(useFallback)\r\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateImage = (useFallback) => {\r\n\t\tconst { newItem, validate } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl } = temp\r\n\r\n\t\tconst { width, height } =\r\n\t\t\tgetWidAndHightFromType(type)\r\n\r\n\t\tconst isValidMediaSize =\r\n\t\t\t!useFallback || (\r\n\t\t\t\ttempUrl &&\r\n\t\t\t\t// TODO: validate ration not exact\r\n\t\t\t\t(temp.width === width) &&\r\n\t\t\t\t(temp.height === height)\r\n\t\t\t)\r\n\r\n\t\tvalidate('temp', {\r\n\t\t\tisValid: isValidMediaSize,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\targs: [width, height, 'px']\r\n\t\t\t},\r\n\t\t\tdirty: true\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl',\r\n\t\t\t{\r\n\t\t\t\tisValid: !useFallback || !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t}\r\n\r\n\thandleFallbackChange = (useFallback) => {\r\n\t\tconst { temp, targetUrl } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.useFallback = useFallback\r\n\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\r\n\t\tthis.validateImage(useFallback)\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tvalidateMedia,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange\r\n\t\t} = this.props\r\n\t\tconst { targetUrl, type, temp } = newItem\r\n\t\tconst useFallback = temp.useFallback || false\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\tthis.handleFallbackChange(ev.target.checked)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t{t('USE_FALLBACK_DATA_INFO')}\r\n\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\t\thandleChange('targetUrl', ev.target.value)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonBlur={() => this.validateFallbackUrl(targetUrl, true, useFallback)}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => this.validateFallbackUrl(targetUrl, false, useFallback)}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t(errFallbackUrl && !!errFallbackUrl.dirty)\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\t\t\tvalidateMedia.bind(this,\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px']\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\t\t\theight: height\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse >\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired\r\n}\r\n\r\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\r\n\r\nexport default Translate(NewAdSlotMedia)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\ttags: { src: AcTags, collection: 'tags' },\r\n\tcustom: { src: [], collection: 'tags'}\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t}\r\n}\r\n\r\nconst SourcesSelect = Object.keys(SOURCES)\r\n\t.map(key => {\r\n\t\treturn {\r\n\t\t\tvalue: {\r\n\t\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\t\tsource: key,\r\n\t\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`)\r\n\t\t\t},\r\n\t\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`)\r\n\t\t}\r\n\t})\r\n\r\nclass AdSlotTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: targets || []\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst collections = [...targets]\r\n\t\t\t.reduce((all, tg) => {\r\n\t\t\t\tconst newCollection = ((all[tg.collection] || []))\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t}, {})\r\n\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\tthis.props.handleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst target = newTargets[index]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.target[prop] = newValue\r\n\t\tnewTargets[index] = { ...target }\r\n\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = (target) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource,\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses\r\n\t}) => {\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={'target-' + index}\r\n\t\t\t\t\t\tdirection=\"auto\"\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\tonChange={(newValue) =>\r\n\t\t\t\t\t\t\tthis.handleTargetChange(\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t'tag',\r\n\t\t\t\t\t\t\t\tnewValue,\r\n\t\t\t\t\t\t\t\tcollection\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} md={6} >\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tid={`target-score-${index}`}\r\n\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\targs: [target.score]\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t// classes={{ container: classes.slider }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1} \r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(\r\n\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t'score',\r\n\t\t\t\t\t\t\t\t\tnewValue,\r\n\t\t\t\t\t\t\t\t\tcollection\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t</Grid >\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(({\r\n\t\t\t\t\t\t\tsource,\r\n\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\ttarget = {}\r\n\t\t\t\t\t\t} = {}, index) =>\r\n\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\r\n\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={(target) => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\r\n\r\nexport default Translate(NewAdSlotTargeting)\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { PropRow, ContentBox, ContentBody } from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{ img: classes.imgPreview, wrapper: classes.imgPreviewWrapper }}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={<Anchor href={targetUrl} target='_blank'>{targetUrl}</Anchor>}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass AdSlotPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttitle,\r\n\t\t\tdescription,\r\n\t\t\ttemp,\r\n\t\t\ttags,\r\n\t\t\ttargetUrl,\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('type', { isProp: true })}\r\n\t\t\t\t\t\tright={type}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('title', { isProp: true })}\r\n\t\t\t\t\t\tright={title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{temp.useFallback &&\r\n\t\t\t\t\t\t<SlotFallback img={temp} targetUrl={targetUrl} t={t} classes={classes} />}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{tags && <PropRow\r\n\t\t\t\t\t\tleft={t('tags', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={tags}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account\r\n\t}\r\n}\r\n\r\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\r\nexport default connect(\r\n\tmapStateToProps\r\n)(Translate(NewAdSlotPreview))\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\n// import CampaignTargeting from './Campaign/CampaignTargeting'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\n\r\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t>\r\n\t\t\t{/*TODO: withStyles */}\r\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t{t('SAVE')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={newItem.temp.waitingAction}\r\n\t\t>\r\n\t\t\t{newItem.temp.waitingAction ? <HourglassEmptyIcon /> : (saveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />)}\r\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\r\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\r\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn (\r\n\t\t<Button onClick={props.cancel} >\r\n\t\t\t{props.t('CANCEL')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\r\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\r\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\r\n\r\nconst dialogCommon = {\r\n\tdarkerBackground: true,\r\n\ticon: <AddIcon />\r\n}\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = (props) =>\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdUnit}\r\n\t\tCancelBtn={CancelBtnWithItem}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdUnit'}\r\n\t\tstepsId={'new-adunit-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\r\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\r\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting }\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdUnitFormPreview }}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = (props) =>\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = (props) =>\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithCampaign}\r\n\t\tCancelBtn={CancelBtnWithCampaign}\r\n\t\tvalidateIdBase={'new-Campaign-'}\r\n\t\titemType={'Campaign'}\r\n\t\tstepsId={'new-campaign-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'CAMPAIGN_UNITS_STEP', page: CampaignUnits },\r\n\t\t\t// NOTE: Only at ad units at the moment\r\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\r\n\t\t\t{ title: 'CAMPAIGN_FINANCE_STEP', page: CampaignFinance },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: CampaignFormPreview }}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = (props) =>\r\n\t<NewCampaignStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t/>\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = (props) =>\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdSlot}\r\n\t\tCancelBtn={CancelBtnWithAdSlot}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdSlot'}\r\n\t\tstepsId={'new-slot-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SLOT_BASIC_STEP', page: AdSlotBasic },\r\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\r\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting }\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = (props) =>\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>","import configureStore from 'store/configureStore'\r\nimport actions from 'actions'\r\nimport { getTransactionsReceipts } from 'services/smart-contracts/actions/ethers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n// const { TX_STATUS } = ExchangeConstants\r\nconst { store } = configureStore\r\n\r\nlet transactionsCheckTimeout = null\r\n\r\nconst clearTransactionsTimeout = () => {\r\n\tif (transactionsCheckTimeout) {\r\n\t\tclearTimeout(transactionsCheckTimeout)\r\n\t\ttransactionsCheckTimeout = null\r\n\t}\r\n}\r\n\r\nconst syncTransactions = async () => {\r\n\tconst { account, web3Transactions } = store.getState().persist\r\n\tconst transactions = {\r\n\t\t...(web3Transactions[account.wallet.address] || {}),\r\n\t\t...(web3Transactions[account.identity.address] || {}),\r\n\t}\r\n\tconst txHashes = Object.keys(transactions).reduce((memo, key) => {\r\n\t\tif (key && ((key.toString()).length === 66)) {\r\n\t\t\tmemo.push(key)\r\n\t\t}\r\n\t\treturn memo\r\n\t}, [])\r\n\r\n\tif (!txHashes.length) {\r\n\t\treturn\r\n\t}\r\n\r\n\tconst receipts = await getTransactionsReceipts({ txHashes, authType: account.wallet.authType })\r\n\r\n\t// return\r\n\treceipts.forEach((rec) => {\r\n\t\tif (rec && rec.transactionHash && rec.status) {\r\n\t\t\t// NOTE: web3.eth.getTransactionReceipt changed status vale from 0x1 to true for success but we keep bot now\r\n\t\t\tconst status = ((rec.status === 1) || (rec.status === '0x1') || (rec.status === true)) ? 'success' : 'failed'\r\n\t\t\tif (transactions[rec.transactionHash].status !== status) {\r\n\t\t\t\tactions.execute(actions.updateWeb3Transaction({ tx: rec.transactionHash, key: 'status', value: status, addr: rec.from }))\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst checkTransactions = () => {\r\n\tsyncTransactions()\r\n\t\t.then(() => {\r\n\t\t\tcheckTransactionsLoop()\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tcheckTransactionsLoop()\r\n\t\t})\r\n}\r\n\r\nconst checkTransactionsLoop = () => {\r\n\tclearTransactionsTimeout()\r\n\r\n\ttransactionsCheckTimeout = setTimeout(checkTransactions, 20 * 1000)\r\n}\r\n\r\nconst start = () => {\r\n\tclearTransactionsTimeout()\r\n\tcheckTransactions()\r\n}\r\n\r\nconst stop = () => {\r\n\tclearTransactionsTimeout()\r\n}\r\n\r\n// const addTransaction\r\n\r\n\r\nexport default {\r\n\tstart,\r\n\tstop\r\n}","import React from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Campaign from 'components/dashboard/containers/Campaign'\r\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Items from 'components/dashboard/containers/Items'\r\nimport Transactions from 'components/dashboard/containers/Transactions'\r\nimport {\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n\tCampaign as CampaignModel\r\n} from 'adex-models'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport Translate from 'components/translate/Translate'\r\nimport { NewUnitDialog, NewCampaignDialog, NewSlotDialog, } from 'components/dashboard/forms/items/NewItems'\r\nimport checkTransactions from 'services/store-data/transactions'\r\nimport {\r\n\tSORT_PROPERTIES_ITEMS,\r\n\tFILTER_PROPERTIES_ITEMS,\r\n\tFILTER_PROPERTIES_CAMPAIGN,\r\n\tSORT_PROPERTIES_CAMPAIGN\r\n} from 'constants/misc'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nclass Dashboard extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tdrawerActive: false,\r\n\t\t\tdrawerPinned: false,\r\n\t\t\tsidebarPinned: false,\r\n\t\t\tmobileOpen: false\r\n\t\t}\r\n\t}\r\n\r\n\thandleDrawerToggle = () => {\r\n\t\tthis.setState({ mobileOpen: !this.state.mobileOpen });\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tcheckTransactions.stop()\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { actions } = this.props\r\n\r\n\t\tactions.updateNav('side', this.props.match.params.side)\r\n\t\tactions.getRelayerConfig()\r\n\t\tactions.getAllItems()\r\n\t\tactions.updateAccountStats()\r\n\t\tcheckTransactions.start()\r\n\t}\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\r\n\t// }\r\n\r\n\tcomponentWillUpdate(nextProps) {\r\n\t\tif (nextProps.match.params.side !== this.props.match.params.side) {\r\n\t\t\tthis.props.actions.updateNav('side', nextProps.match.params.side)\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleDrawerActive = () => {\r\n\t\tthis.setState({ drawerActive: !this.state.drawerActive })\r\n\t}\r\n\r\n\ttoggleDrawerPinned = () => {\r\n\t\tthis.setState({ drawerPinned: !this.state.drawerPinned })\r\n\t}\r\n\r\n\ttoggleSidebar = () => {\r\n\t\tthis.setState({ sidebarPinned: !this.state.sidebarPinned })\r\n\t}\r\n\r\n\trenderAdUnits = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_UNITS')}\r\n\t\t\t\tviewModeId='rowsViewUnits'\r\n\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\tnewItemBtn={() => <NewUnitDialog\r\n\t\t\t\t\tfabButton\r\n\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t/>}\r\n\t\t\t\tobjModel={AdUnitModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\tuiStateId='units'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trenderCampaigns = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_CAMPAIGNS')}\r\n\t\t\t\tviewModeId='rowsViewCampaigns'\r\n\t\t\t\titemType={'Campaign'}\r\n\t\t\t\tnewItemBtn={() => <NewCampaignDialog\r\n\t\t\t\t\tfabButton\r\n\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\taccent\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t\t/>}\r\n\t\t\t\tobjModel={CampaignModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_CAMPAIGN}\r\n\t\t\t\tuiStateId='campaigns'\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_CAMPAIGN}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trenderAdSlots = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_SLOTS')}\r\n\t\t\t\tviewModeId='rowsViewSlots'\r\n\t\t\t\titemType={'AdSlot'}\r\n\t\t\t\tnewItemBtn={() => <NewSlotDialog\r\n\t\t\t\t\tfabButton\r\n\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\taccent\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t\t\t/>}\r\n\t\t\t\tobjModel={AdSlotModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\tuiStateId='slots'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\thandleDrawerOpen = () => {\r\n\t\tthis.setState({ open: true });\r\n\t}\r\n\r\n\thandleDrawerClose = () => {\r\n\t\tthis.setState({ open: false });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst side = this.props.side || this.props.match.params.side\r\n\t\tconst { classes, theme } = this.props\r\n\r\n\t\tconst drawer = (\r\n\t\t\t<div>\r\n\t\t\t\t{/* <div className={classes.toolbar}>\r\n                    <SideSwitch side={side} t={this.props.t} />\r\n                </div>\r\n                <Divider /> */}\r\n\t\t\t\t<SideNav location={this.props.location} side={side} />\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root} >\r\n\t\t\t\t<TopBar side={side} open={this.state.open} handleDrawerToggle={this.handleDrawerToggle} />\r\n\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tvariant=\"temporary\"\r\n\t\t\t\t\t\tanchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n\t\t\t\t\t\topen={this.state.mobileOpen}\r\n\t\t\t\t\t\tonClose={this.handleDrawerToggle}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{drawer}\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</Hidden>\r\n\t\t\t\t<Hidden smDown\r\n\t\t\t\t\timplementation=\"css\">\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tvariant=\"permanent\"\r\n\t\t\t\t\t\topen\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{drawer}\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t<main className={classes.content}>\r\n\t\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t\t<div className={classes.toolbar} />\r\n\r\n\t\t\t\t\t\t<Switch locatiom={this.props.location}>\r\n\t\t\t\t\t\t\tTODO: Make things dynamic if easier\r\n    \t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/advertiser/campaigns' component={this.renderCampaigns} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/advertiser/units' component={this.renderAdUnits} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/advertiser/Campaign/:itemId' component={Campaign} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/advertiser/AdUnit/:itemId' component={Unit} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/publisher/channels' component={this.renderChannels} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/publisher/slots' component={this.renderAdSlots} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/publisher/AdSlot/:itemId' component={Slot} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path={'/dashboard/:side/account'} component={Account} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path={'/dashboard/:side/transactions'} component={Transactions} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} exact path='/dashboard/:side' component={DashboardStats} />\r\n\t\t\t\t\t\t\t<Route auth={this.props.auth} component={() => <h1>404 at {side} side</h1>} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</main>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDashboard.propTypes = {\r\n\tactions: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tnull,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles, { withTheme: true })(Dashboard)))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative'\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tposition: 'relative',\r\n\t\t\theight: '100vh',\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200]\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh'\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible'\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)'\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport Img from 'components/common/img/Img'\r\nimport classnames from 'classnames'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass AuthSelect extends Component {\r\n\tcomponentDidMount() {\r\n\t\t// NOTE: reset identity if someone press backspace \r\n\t\t// to go to this page\r\n\t\tthis.props.actions.resetIdentity()\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t\tdirection='column'\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/identity/grant'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CREATE_GRANT_ACCOUNT')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/login/grant'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('LOGIN_GRANT_ACCOUNT')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/login/full?metamask'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tclassName={classes.metamaskBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/login/full?trezor'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\t\t\tclasses.btnLogoNoTxt\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(AuthSelect))\r\n","export const styles = (theme) => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center'\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1)\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.grey[800],\r\n\t\t\tcolor: theme.palette.common.white\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tclass Connect extends Component {\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, t, noBackground, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classes.root}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tclassName={classes.actions}\r\n\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\tmd={9}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t\t\t\tp={4}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t\t\t\t\tposition='relative'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\tmd={3}\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tclassName={classes.buttons}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tdirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tjustify='space-between'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t\t<div className={classes.adexLogoTop} >\r\n\t\t\t\t\t\t\t\t\t\t<Logo className={classes.logo} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<AuthSelect  {...rest} />\r\n\t\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t\t<small className={classes.adxVersion} >\r\n\t\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tConnect.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\t// const persist = state.persist\r\n\t\t// const memory = state.memory\r\n\t\treturn {\r\n\t\t\t// account: persist.account\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(withStyles(styles)(Connect)))\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n\r\nexport default function IdentityHoc(Decorated) {\r\n\r\n\tclass IdentityForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this);\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tready: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value) => {\r\n\t\t\tthis.props.actions.updateIdentity(prop, value)\r\n\t\t}\r\n\r\n\t\tcomponentDidUpdate = () => {\r\n\t\t\tif (this.props.account.wallet.authSig) {\r\n\t\t\t\tthis.props.history.push('/side-select')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { identity, actions } = this.props\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tidentityData\r\n\t\t\t} = identity\r\n\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tactions.createSession({\r\n\t\t\t\tidentity: identityData,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\temail,\r\n\t\t\t\tregisterExpected: !identityData\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tconst { resetIdentity } = this.props.actions\r\n\t\t\tresetIdentity()\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tidentity={identity}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\twaiting={spinner}\r\n\t\t\t\t\twaitingExpected={waitingExpected}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tIdentityForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tidentity: PropTypes.object.isRequired\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tidentity: memory.identity,\r\n\t\t\tspinner: memory.spinners['creating-session'],\r\n\t\t\twaitingExpected: memory.spinners['getting-expected-identity'],\r\n\t\t\twaitingUpload: memory.spinners['uploading-account-data']\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(IdentityForm)\r\n}\r\n\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative'\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: spacing,\r\n\t\t\tbottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh'\r\n\t\t},\r\n\t\tformControl: {\r\n\t\t\tdisplay: 'flex'\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\tinfoPaper: {\r\n\t\t\t...theme.mixins.gutters(),\r\n\t\t\tpaddingTop: spacing * 2,\r\n\t\t\tpaddingBottom: spacing * 2,\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tdisplay: 'none',\r\n\t\t  },\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport {\r\n\tvalidEmail,\r\n\tvalidQuickAccountCoupon\r\n} from 'helpers/validators'\r\nimport { checkAccessCode } from 'services/adex-relayer/actions'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst ACCESS_CODE_CHECK = process.env.ACCESS_CODE_CHECK === 'true'\r\n\r\nclass IdentityContractAddressEthDeploy extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tcode\r\n\t\t} = this.props.identity\r\n\r\n\t\tthis.validateIdentity()\r\n\t\tthis.validateEmail(email, false)\r\n\t\tthis.validateEmailCheck(emailCheck, false)\r\n\t\tACCESS_CODE_CHECK && this.validateCode(code, false)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currIdentity = this.props.identity.identityData\r\n\t\tif (!!currIdentity &&\r\n\t\t\t(currIdentity.address !== (prevProps.identity.identityData || {}).address)) {\r\n\t\t\tthis.validateIdentity()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateIdentity = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityData } = identity\r\n\r\n\t\tvalidate('identityData', {\r\n\t\t\tisValid: !!identityData,\r\n\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\tdirty: false\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmail(email, dirty) {\r\n\t\tconst isValid = validEmail(email)\r\n\t\tthis.props.validate('email', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmailCheck(emailCheck, email, dirty) {\r\n\t\tconst isValid = !!emailCheck && !!email && (emailCheck === email)\r\n\t\tthis.props.validate('emailCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateCode(code, dirty) {\r\n\t\tconst isValidFormat = validQuickAccountCoupon(code)\r\n\r\n\t\tif (!isValidFormat) {\r\n\t\t\tthis.props.validate('code', {\r\n\t\t\t\tisValid: isValidFormat,\r\n\t\t\t\terr: { msg: 'ERR_ACCESS_CODE_FORMAT' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({ waitingCheck: true }, () => {\r\n\t\t\t\tcheckAccessCode({ code })\r\n\t\t\t\t\t.then((cpn = {}) => {\r\n\t\t\t\t\t\tconst isValid = (cpn.exist === true) && (cpn.used === false)\r\n\t\t\t\t\t\tlet msg = ''\r\n\t\t\t\t\t\tif (cpn.exist === false) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_ACCESS_CODE_NOT_EXIST'\r\n\t\t\t\t\t\t} else if (cpn.used === true) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_ACCESS_CODE_USED'\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.props.validate('code', {\r\n\t\t\t\t\t\t\tisValid: isValid,\r\n\t\t\t\t\t\t\terr: { msg: msg },\r\n\t\t\t\t\t\t\tdirty: dirty\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.props.validate('code', {\r\n\t\t\t\t\t\t\tisValid: false,\r\n\t\t\t\t\t\t\terr: { msg: 'ERR_ACCESS_CODE_NETWORK' },\r\n\t\t\t\t\t\t\tdirty: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tgetIdentityContractData = async () => {\r\n\t\tconst { actions, identity } = this.props\r\n\t\tconst { wallet, email } = identity\r\n\t\tactions.getRegisterExpectedIdentity({\r\n\t\t\towner: wallet.address,\r\n\t\t\tmail: email\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, handleChange, invalidFields, waitingExpected, classes } = this.props\r\n\t\tconst { identityData } = identity\r\n\t\t// Errors\r\n\t\tconst { email, emailCheck, code } = invalidFields\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t{ACCESS_CODE_CHECK &&\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t\t{t('ACCESS_CODE_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{ACCESS_CODE_CHECK &&\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('code', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='code'\r\n\t\t\t\t\t\t\t\tvalue={identity.code || ''}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => handleChange('code', ev.target.value)}\r\n\t\t\t\t\t\t\t\tonBlur={() => this.validateCode(identity.code, true)}\r\n\t\t\t\t\t\t\t\tonFocus={() => this.validateCode(identity.code, false)}\r\n\t\t\t\t\t\t\t\terror={code && !!code.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tcode && !!code.dirty ?\r\n\t\t\t\t\t\t\t\t\t\tcode.errMsg :\r\n\t\t\t\t\t\t\t\t\t\tt('ENTER_VALID_CODE')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t{t('GENERATE_FULL_IDENTITY_INFO_EMAIL')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmail(identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmail(identity.email, false)}\r\n\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temail && !!email.dirty ?\r\n\t\t\t\t\t\t\t\t\temail.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('emailCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmailCheck(identity.emailCheck, identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmailCheck(identity.emailCheck, identity.email, false)}\r\n\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty ?\r\n\t\t\t\t\t\t\t\t\temailCheck.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t{t('GENERATE_FULL_IDENTITY_INFO_ADDRESS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{!(identityData || {}).address\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={this.getIdentityContractData}\r\n\t\t\t\t\t\t\t\t\tdisabled={waitingExpected}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GENERATE_IDENTITY_ADDRESS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{waitingExpected && <CircularProgress size={24} className={classes.buttonProgress} />}\r\n\t\t\t\t\t\t\t</span >\r\n\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Typography paragraph variant='subtitle2' color='primary'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_CONTRACT_IS', { args: [identityData.address] })}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentityContractAddressEthDeploy.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tidentity: PropTypes.object.isRequired,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tinvalidFields: PropTypes.object.isRequired,\r\n\tvalidate: PropTypes.func.isRequired\r\n}\r\n\r\nconst IdentityContractAddressStep = IdentityHoc(IdentityContractAddressEthDeploy)\r\nexport default Translate(withStyles(styles)(IdentityContractAddressStep))","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {}\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n        validate = (key, { isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }) => {\r\n\r\n        \tif (!isValid) {\r\n        \t\tlet errors = {}\r\n        \t\terrors[key] = {\r\n        \t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n        \t\t\tdirty: dirty\r\n        \t\t}\r\n\r\n        \t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n        \t} else if (removeAll) {\r\n        \t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n        \t} else {\r\n        \t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n        \t}\r\n        }\r\n\r\n        render() {\r\n        \tconst props = this.props\r\n        \treturn (\r\n        \t\t<Decorated {...props} validate={this.validate} invalidFields={this.state.invalidFields} />\r\n        \t)\r\n        }\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId]\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport IdentityHoc from '../IdentityHoc'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\n\r\nexport default function AuthHoc(Decorated) {\r\n\r\n\tclass Auth extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\tmethod: '',\r\n\t\t\t\tsideSelect: false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateWallet = ({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai\r\n\t\t}) => {\r\n\t\t\tconst wallet = {\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\thdWalletAddrPath,\r\n\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\tpath,\r\n\t\t\t\tchainId,\r\n\t\t\t\tsignType,\r\n\t\t\t\tbalanceEth,\r\n\t\t\t\tbalanceDai\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.handleChange('identityContractOwner', address)\r\n\t\t\tthis.props.handleChange('wallet', wallet)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t// updateAcc={this.updateAcc}\r\n\t\t\t\t\tupdateWallet={this.updateWallet}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tAuth.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tlet persist = state.persist\r\n\t\t// let memory = state.memory\r\n\t\treturn {\r\n\t\t\taccount: persist.account\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch)\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\r\n}","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t}\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2\r\n\t\t\t}\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold'\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible'\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)'\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto'\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center'\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto'\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh'\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { utils } from 'ethers'\r\n\r\nexport const addrItem = ({ stats, t, classes }) => {\r\n\tconst { balanceEth, balanceDai, address } = stats\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {utils.formatEther(balanceEth)} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> DAI </span>\r\n\t\t\t\t\t\t<strong> {utils.formatEther(balanceDai)} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const AddrItem = withStyles(styles)(addrItem)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthMetamask extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddress: null,\r\n\t\t\tstats: null,\r\n\t\t\twaitingMetamaskAction: false,\r\n\t\t\twaitingAddrsData: false\r\n\t\t}\r\n\t}\r\n\r\n\tcheckMetamask = async () => {\r\n\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: authType\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\t\tconst stats = await getAddressBalances({ address: { address }, authType })\t\t\t\t\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tstats,\r\n\t\t\t\t\twaitingAddrsData: false\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.props.updateWallet({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\r\n\t\t\t\t\tbalanceEth: stats.balanceEth,\r\n\t\t\t\t\tbalanceDai: stats.balanceDai,\r\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingMetamaskAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t(\r\n\t\t\t\t\t\t'ERR_AUTH_METAMASK',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\targs: [Helper.getErrMsg(err)]\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes } = this.props\r\n\t\tconst { address, stats } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox} >\r\n\t\t\t\t{this.state.waitingMetamaskAction ?\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t: this.state.waitingAddrsData ?\r\n\t\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t}\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t{t('METAMASK_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\targs: [{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  </Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t<Anchor href='https://metamask.io/' target='_blank'>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{address ?\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ?\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\tvariant='subheading'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} t={t} addr={address} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t: t('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.checkMetamask}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={this.state.waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthMetamask.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\t\r\n\tclasses: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthMetamask)))","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport Button from '@material-ui/core/Button'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthTrezor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingTrezorAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: ''\r\n\t\t}\r\n\t}\r\n\r\n\tconnectTrezor = async () => {\r\n\r\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.payload.map((address) =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tconsole.log('result', results)\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: trezorSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingTrezorAction: false\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t(\r\n\t\t\t\t\t\t'ERR_AUTH_TREZOR',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\targs: [Helper.getErrMsg(err)]\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox\r\n\t\t\t\tclassName={classes.tabBox}\r\n\t\t\t>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingTrezorAction ?\r\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\r\n\t\t\t\t\t}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List >\r\n\t\t\t\t\t\t{addresses.map((res, index) =>\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst {\r\n\t\t\taddress,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t} = addrData\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ?\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<ContentBox\r\n\t\t\t\t\t\tclassName={classes.tabBox}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ?\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tthis.state.waitingTrezorAction ?\r\n\t\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t\t</ContentStickyTop> : null\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t </Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    </Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t{(!this.state.waitingAddrsData && !this.state.waitingTrezorAction) &&\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthTrezor.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\t\r\n\tclasses: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport AuthHoc from './AuthHoc'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading\r\n} from 'components/common/dialog/content'\r\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\n\r\nclass AuthLedger extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingLedgerAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: ''\r\n\t\t}\r\n\t}\r\n\r\n\tconnectLedger = async () => {\r\n\r\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: ledgerSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingLedgerAction: false\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t(\r\n\t\t\t\t\t\t'ERR_AUTH_LEDGER',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\targs: [Helper.getErrMsg(err)]\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingLedgerAction ?\r\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\r\n\t\t\t\t\t}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List >\r\n\t\t\t\t\t\t{addresses.map((res, index) =>\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst {\r\n\t\t\taddress,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t} = addrData\r\n\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ?\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ?\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tthis.state.waitingLedgerAction ?\r\n\t\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t\t</ContentStickyTop> : null\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t{t('LEDGER_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   </Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t{(!this.state.waitingAddrsData && !this.state.waitingLedgerAction) &&\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthLedger.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))","import React, { Component } from 'react'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\nimport AuthLedger from './AuthLedger'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass AuthMethod extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tbids: []\r\n\t\t}\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, location } = this.props\r\n\t\tconst { search } = location || {}\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\tdirection='row'\r\n\t\t\t\talignContent='flex-start'\r\n\t\t\t>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\titem xs={12}\r\n\t\t\t\t\tclassName={classes.tabsContainer}\r\n\t\t\t\t>\r\n\t\t\t\t\t{(search === '?metamask') &&\r\n\t\t\t\t\t\t<AuthMetamask />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(search === '?trezor') &&\r\n\t\t\t\t\t\t<AuthTrezor />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(search === '?ledger') &&\r\n\t\t\t\t\t\t<AuthLedger />\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(AuthMethod))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport AuthMethod from 'components/signin/identity/ownerAuth/AuthMethod'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass IdentityContractAddress extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.validateContractOwner()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currOwner = this.props.identity.identityContractOwner\r\n\t\tif (!!currOwner &&\r\n\t\t\t(currOwner !== prevProps.identity.identityContractOwner)) {\r\n\t\t\tthis.validateContractOwner()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateContractOwner = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityContractOwner } = identity\r\n\r\n\t\tvalidate('identityContractOwner', {\r\n\t\t\tisValid: !!identityContractOwner,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty: false\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<AuthMethod {...this.props} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentityContractAddress.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst IdentityContractAddressStep = IdentityHoc(IdentityContractAddress)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(IdentityContractAddressStep))\r\n","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Translate from 'components/translate/Translate'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport {\r\n\tvalidEmail,\r\n\tvalidPassword,\r\n\tvalidQuickAccountCoupon\r\n} from 'helpers/validators'\r\nimport { checkCoupon } from 'services/adex-relayer/actions'\r\n\r\nclass GrantInfo extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\tcoupon,\r\n\t\t\ttosCheck\r\n\t\t} = this.props.identity\r\n\r\n\t\tthis.validateEmail(email, false)\r\n\t\tthis.validateEmailCheck(emailCheck, false)\r\n\t\tthis.validatePassword(password, false)\r\n\t\tthis.validatePasswordCheck(passwordCheck, false)\r\n\t\tthis.validateCoupon(coupon, false)\r\n\t\tthis.validateTOS(tosCheck, false)\r\n\t}\r\n\r\n\tvalidateEmail(email, dirty) {\r\n\t\tconst isValid = validEmail(email)\r\n\t\tthis.props.validate('email', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmailCheck(emailCheck, email, dirty) {\r\n\t\tconst isValid = !!emailCheck && !!email && (emailCheck === email)\r\n\t\tthis.props.validate('emailCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidatePassword(password, dirty) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tthis.props.validate('password', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidatePasswordCheck(passwordCheck, password, dirty) {\r\n\t\tconst isValid = !!passwordCheck && !!password && (passwordCheck === password)\r\n\t\tthis.props.validate('passwordCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateCoupon(coupon, dirty) {\r\n\t\tconst isValidFormat = validQuickAccountCoupon(coupon)\r\n\r\n\t\tif (!isValidFormat) {\r\n\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\tisValid: isValidFormat,\r\n\t\t\t\terr: { msg: 'ERR_COUPON_FORMAT' },\r\n\t\t\t\tdirty: dirty\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({ waitingCheck: true }, () => {\r\n\t\t\t\tcheckCoupon({ coupon })\r\n\t\t\t\t\t.then((cpn = {}) => {\r\n\t\t\t\t\t\tconst isValid = (cpn.exist === true) && (cpn.used === false)\r\n\t\t\t\t\t\tlet msg = ''\r\n\t\t\t\t\t\tif (cpn.exist === false) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_COUPON_NOT_EXIST'\r\n\t\t\t\t\t\t} else if (cpn.used === true) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_COUPON_USED'\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\t\t\t\tisValid: isValid,\r\n\t\t\t\t\t\t\terr: { msg: msg },\r\n\t\t\t\t\t\t\tdirty: dirty\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\t\t\t\tisValid: false,\r\n\t\t\t\t\t\t\terr: { msg: 'ERR_COUPON_NETWORK' },\r\n\t\t\t\t\t\t\tdirty: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTOS(accepted, dirty) {\r\n\t\tthis.props.validate('tosCheck', {\r\n\t\t\tisValid: !!accepted,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\ttosCheck(checked) {\r\n\t\tthis.props.handleChange('tosCheck', checked)\r\n\t\tthis.validateTOS(checked, true)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, handleChange, invalidFields } = this.props\r\n\t\t// Errors\r\n\t\tconst { coupon, email, emailCheck, password, passwordCheck, tosCheck } = invalidFields\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('coupon', { isProp: true })}\r\n\t\t\t\t\t\t\tname='coupon'\r\n\t\t\t\t\t\t\tvalue={identity.coupon || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('coupon', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateCoupon(identity.coupon, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateCoupon(identity.coupon, false)}\r\n\t\t\t\t\t\t\terror={coupon && !!coupon.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tcoupon && !!coupon.dirty ?\r\n\t\t\t\t\t\t\t\t\tcoupon.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('ENTER_VALID_COUPON')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmail(identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmail(identity.email, false)}\r\n\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temail && !!email.dirty ?\r\n\t\t\t\t\t\t\t\t\temail.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('emailCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmailCheck(identity.emailCheck, identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmailCheck(identity.emailCheck, identity.email, false)}\r\n\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty ?\r\n\t\t\t\t\t\t\t\t\temailCheck.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('password', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validatePassword(identity.password, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validatePassword(identity.password, false)}\r\n\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tpassword && !!password.dirty ?\r\n\t\t\t\t\t\t\t\t\tpassword.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('PASSWORD_RULES')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\tonChange={(ev) => handleChange('passwordCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validatePasswordCheck(identity.passwordCheck, identity.password, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validatePasswordCheck(identity.passwordCheck, identity.password, false)}\r\n\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty ?\r\n\t\t\t\t\t\t\t\t\tpasswordCheck.errMsg :\r\n\t\t\t\t\t\t\t\t\tt('PASSWORD_CHECK_RULES')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\tcomponent=\"fieldset\"\r\n\t\t\t\t\t\t// className={classes.formControl}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(ev) => this.tosCheck(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{(tosCheck && !!tosCheck.dirty) &&\r\n\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantInfoStep = IdentityHoc(GrantInfo)\r\nexport default Translate(withStyles(styles)(IdentityGrantInfoStep))","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { createLocalWallet } from 'services/wallet/wallet'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nclass GrantDeploy extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.validateIdentity()\r\n\t\tif (!this.props.identity.identityAddr) {\r\n\t\t\tthis.initLocalWallet()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currIdentity = this.props.identity.identityAddr\r\n\t\tif (!!currIdentity &&\r\n\t\t\t(currIdentity !== prevProps.identity.identityAddr)) {\r\n\t\t\tthis.validateIdentity()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateIdentity = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityAddr } = identity\r\n\r\n\t\tvalidate('identityAddr', {\r\n\t\t\tisValid: !!identityAddr,\r\n\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\tdirty: false\r\n\t\t})\r\n\t}\r\n\r\n\tinitLocalWallet = () => {\r\n\t\tconst { handleChange, identity } = this.props\r\n\t\tconst { email, password } = identity\r\n\r\n\t\tconst walletData = createLocalWallet({\r\n\t\t\temail,\r\n\t\t\tpassword\r\n\t\t})\r\n\r\n\t\twalletData.authType =  AUTH_TYPES.GRANT.name\r\n\t\twalletData.email = email\r\n\t\twalletData.password = password\r\n\r\n\t\thandleChange('wallet', walletData)\r\n\t\thandleChange('walletAddr', walletData.address)\r\n\t}\r\n\r\n\tgetIdentity = () => {\r\n\t\tconst { identity, actions } = this.props\r\n\t\tconst { email, password, coupon, walletAddr } = identity\r\n\r\n\t\tactions.getGrantAccount({\r\n\t\t\twalletAddr,\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tcoupon\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, classes, waitingGrant } = this.props\r\n\t\tconst { walletAddr, identityAddr, grantAmount } = identity\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS')}\r\n\t\t\t\t\t\t\t{' ' + walletAddr}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography paragraph variant='body2'>\r\n\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS_INFO')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t{!!identityAddr\r\n\t\t\t\t\t\t\t\t? <Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_ADDRESS_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [identityAddr, grantAmount]\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_ADDRESS_INFO_1')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.getIdentity}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={waitingGrant}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('GET_GRANT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t{waitingGrant &&\r\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\t\t\t\t\t</span >\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nGrantDeploy.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { memory } = state\r\n\r\n\treturn {\r\n\t\twaitingGrant: memory.spinners['getting-grant-identity']\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantDeployStep = IdentityHoc(GrantDeploy)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentityGrantDeployStep)))","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nclass GrantLogin extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.validateWallet(false)\r\n\t}\r\n\r\n\tvalidateWallet = (dirty) => {\r\n\t\tconst { identity, handleChange, validate } = this.props\r\n\t\tconst { email, password, } = identity\r\n\r\n\t\tlet wallet = {}\r\n\r\n\t\tif (email && password) {\r\n\t\t\tconst walletData = getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword\r\n\t\t\t})\r\n\r\n\t\t\tif (!!walletData && walletData.data) {\r\n\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\twallet.email = email\r\n\t\t\t\twallet.password = password\r\n\t\t\t\twallet.authType = AUTH_TYPES.GRANT.name\r\n\t\t\t\twallet.identity = {\r\n\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\tprivileges: walletData.identityPrivileges\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thandleChange('wallet', wallet)\r\n\t\t\thandleChange('walletAddr', wallet.address)\r\n\t\t\thandleChange('identityData', wallet.identity)\r\n\t\t}\r\n\r\n\t\tvalidate('wallet', {\r\n\t\t\tisValid: !!wallet.address,\r\n\t\t\terr: { msg: 'ERR_LOCAL_WALLET_LOGIN' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { t, identity, handleChange, invalidFields, classes, actions } = this.props\r\n\t\t// Errors\r\n\t\tconst { wallet } = invalidFields\r\n\t\treturn (\r\n\t\t\t// <div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\t// direction='row'\r\n\t\t\t\talignContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('GRANT_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => handleChange('password', ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(wallet && !!wallet.dirty) &&\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{(!!identity.walletAddr) &&\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Typography variant='body1' >\r\n\t\t\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS', { args: [identity.walletAddr] })}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('GRANT_IDENTITY_ADDRESS', { args: [identity.identityAddr] })}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tonClick={() => this.validateWallet(true)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('CHECK_GRANT_IDENTITY')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\taccept=\"text/json\"\r\n\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\tid=\"contained-button-file\"\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tonChange={actions.onUploadLocalWallet}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"contained-button-file\">\r\n\t\t\t\t\t\t<Button \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// variant=\"contained\" \r\n\t\t\t\t\t\t\tcomponent=\"span\" \r\n\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('UPLOAD_ACCOUNT_DATA_JSON')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantLoginStep = IdentityHoc(GrantLogin)\r\nexport default Translate(withStyles(styles)(IdentityGrantLoginStep))","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nimport Dropdown from 'components/common/dropdown'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities, t) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: t('IDENTITY_OPTION_DATA',\r\n\t\t\t\t{\r\n\t\t\t\t\targs: [\r\n\t\t\t\t\t\tid.identity,\r\n\t\t\t\t\t\tid.privLevel,\r\n\t\t\t\t\t\tformatTokenAmount(bigNumberify(id.balanceDAI).toString(), 18, true),\r\n\t\t\t\t\t\t'DAI'\r\n\t\t\t\t\t]\r\n\t\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nclass GrantLogin extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { actions, identity } = this.props\r\n\t\tactions.ownerIdentities({ owner: identity.wallet.address })\r\n\t\tthis.validateIdentity(false)\r\n\t}\r\n\r\n\tvalidateIdentity = (dirty) => {\r\n\t\tconst { identity, handleChange, validate } = this.props\r\n\t\tconst { wallet, identityContractAddress } = identity\r\n\r\n\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\tconst identityData = {\r\n\t\t\taddress: identityDataSplit[0],\r\n\t\t\tprivileges: parseInt(identityDataSplit[1] || 0)\r\n\t\t}\r\n\r\n\t\thandleChange('wallet', wallet)\r\n\t\thandleChange('walletAddr', wallet.address)\r\n\t\thandleChange('identityData', identityData)\r\n\r\n\t\tvalidate('identityContractAddress', {\r\n\t\t\tisValid: !!identityData.address,\r\n\t\t\terr: { msg: 'ERR_LOCAL_WALLET_LOGIN' },\r\n\t\t\tdirty: dirty\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.identity.identityContractAddress !==\r\n\t\t\tthis.props.identity.identityContractAddress) {\r\n\t\t\tthis.validateIdentity(true)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, handleChange } = this.props\r\n\t\tconst { ownerIdentities = [], identityContractAddress } = identity\r\n\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\t// direction='row'\r\n\t\t\t\talignContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\tonChange={(val) => handleChange('identityContractAddress', val)}\r\n\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities, t)}\r\n\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantLoginStep = IdentityHoc(GrantLogin)\r\nexport default Translate(withStyles(styles)(IdentityGrantLoginStep))","import React, { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport FullLogin from './FullLogin'\r\nimport IdentityContractAddressEthDeploy from './IdentityContractAddressEthDeploy'\r\nimport Anchor from 'components/common/anchor/anchor'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\theight: '50%',\r\n\t\tminHeight: theme.spacing(4)\r\n\t},\r\n\tcontainer: {\r\n\t}\r\n}))\r\n\r\nexport function ExternalConnect({ t, ...rest }) {\r\n\r\n\tconst classes = useStyles()\r\n\tconst [connectType, setConnectType] = useState('')\r\n\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer\r\n\t\t\talignItems='stretch'\r\n\t\t\tclassName={classes.buttons}\r\n\t\t>\r\n\t\t\t<Grid\r\n\t\t\t\titem\r\n\t\t\t\tcontainer\r\n\t\t\t\tdirection='column'\r\n\t\t\t\talignItems='stretch'\r\n\t\t\t\tjustify='space-evenly'\r\n\t\t\t>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tconnectType !== 'create' &&\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h5' gutterBottom>{t('SELECT_EXISTING_IDENTITY')}</Typography>\r\n\t\t\t\t\t\t\t<FullLogin {...rest} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t// alignItems='stretch'\r\n\t\t\t\t\t\t\tclassName={classes.buttons}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => setConnectType('create')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tconnectType === 'create' &&\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Typography variant='h5' gutterBottom>{t('CREATE_NEW_IDENTITY')}</Typography>\r\n\t\t\t\t\t\t<IdentityContractAddressEthDeploy {...rest} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}","export const styles = {\r\n\troot: {\r\n\t\tcolor: 'purple',\r\n\t\t'&$active': {\r\n\t\t\tcolor: 'green'\r\n\t\t}\r\n\t},\r\n\tactive: {\r\n\t\tcolor: 'yellow'\r\n\t},\r\n\tstepperWrapper: {\r\n\t\t// display: 'flex',\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 0,\r\n\t},\r\n\tpagePaper: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 115,\r\n\t},\r\n\tpageContent: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 20,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t\tbottom: 50,\r\n\t\tpadding: 20,\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\tdisplay: 'flex',\r\n\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t'@media(max-width:500px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0\r\n\t\t}\r\n\t},\r\n\tcontrols: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 5,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t},\r\n\tright: {\r\n\t\ttextAlign: 'right',\r\n\t\tdisplay: 'inline-block',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '86%'\r\n\t\t}\r\n\t},\r\n\tleft: {\r\n\t\tdisplay: 'inline-block',\r\n\t\ttextAlign: 'left',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '14%'\r\n\t\t}\r\n\t},\r\n\tmobileStepper: {\r\n\t\twidth: '100%',\r\n\t\t'& div': {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '10px'\r\n\t\t}\r\n\t},\r\n\tmobileStepLabel: {\r\n\t\t'& span': {\r\n\t\t\tfontSize: '24px',\r\n\t\t\tmargin: '14px auto'\r\n\t\t},\r\n\t\ttextAlign: 'center',\r\n\t\twidth: 'auto'\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Stepper } from 'react-step/lib/stepper'\r\nimport { withStepper } from 'react-step/lib/with-stepper'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant=\"progress\"\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t>\r\n\t\t\t\t</MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI\r\n\t\t\talternativeLabel\r\n\t\t\tactiveStep={currentPage}\r\n\t\t>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title} >\r\n\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{page.title}\r\n\t\t\t\t\t\t</StepLabel>\r\n\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nclass MaterialStepper extends React.Component {\r\n\r\n\t// onComplete() {\r\n\t//     // console.log('currPage', this.currPage)\r\n\t//     let props = this.props\r\n\t//     let page = props.pages[props.currentPage]\r\n\r\n\t//     // console.log('props.pages[props.currentPage]', page.component)\r\n\t// }\r\n\r\n\tgoToPage(nextStep) {\r\n\t\tlet canAdvance = (nextStep > this.props.currentPage) && this.canAdvanceNextToPage()\r\n\t\tlet canGoBack = nextStep < this.props.currentPage\r\n\r\n\t\tif (canAdvance || canGoBack) {\r\n\t\t\tthis.props.setPageIndex(nextStep)\r\n\t\t}\r\n\t}\r\n\r\n\tcanAdvanceNextToPage() {\r\n\t\t/* TODO: add check for optional steps that can be skipped\r\n        */\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\tif (this.props.canAdvance && !Object.keys(this.props.validations[page.props.validateId] || {}).length) {\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tisValidPage() {\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\treturn !Object.keys(this.props.validations[page.props.validateId] || {}).length\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { pages, component, validations, currentPage, t, classes, ...props } = { ...this.props }\r\n\t\tlet page = pages[currentPage]\r\n\t\tlet Comp = page.component\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.stepperWrapper}>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.stepperNav\r\n\t\t\t\t\t}} >\r\n\t\t\t\t\t<StepperNav {...props} pages={pages} classes={classes} currentPage={currentPage} goToPage={this.goToPage.bind(this)} />\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.pagePaper\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.pageContent}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{<Comp {...page.props} />}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classes.controls}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classes.left}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{props.canReverse ?\r\n\t\t\t\t\t\t\t\t<Button onClick={() => props.setPageIndex(currentPage - 1)} >\r\n\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t\t{page.cancelBtn ?\r\n\t\t\t\t\t\t\t\t<page.cancelBtn />\r\n\t\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t\t{this.canAdvanceNextToPage() && !page.completeBtn ?\r\n\t\t\t\t\t\t\t\t<Button variant='contained' color='primary' onClick={this.goToPage.bind(this, currentPage + 1)} >\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t!page.completeBtn ?\r\n\t\t\t\t\t\t\t\t\t<Button label='Continue' disabled >\r\n\t\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t\t</Button >\r\n\t\t\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t\t{page.completeBtn && this.isValidPage() ?\r\n\t\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst WithMaterialStepper = withStepper(withStyles(styles)(Translate(MaterialStepper)))\r\n\r\nclass MyMaterialStepper extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Stepper pages={this.props.pages} style={{ display: 'block' }}>\r\n\t\t\t\t<WithMaterialStepper itemType={this.props.itemType} validations={this.props.validations} />\r\n\t\t\t</Stepper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nMyMaterialStepper.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpages: PropTypes.array.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tlet persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tvalidations: memory.validations\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)((MyMaterialStepper))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass IdentitySteps extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tpages: this.mapPages()\r\n\t\t}\r\n\r\n\t\t// TODO: Check if it is possible to need state update\r\n\t}\r\n\r\n\tmapPages = () => {\r\n\t\tconst {\r\n\t\t\tGoBtn,\r\n\t\t\tCancelBtn,\r\n\t\t\tt,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages = [],\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst cancelButton = () =>\r\n\t\t\t<CancelBtn  {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tconst pages = stepsPages.map((page, index) => {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page),\r\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\r\n\t\t\t\tcompleteBtn: page.final\r\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t\t\t: undefined\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn pages\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<MaterialStepper pages={this.state.pages} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentitySteps.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps() {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\treturn {\r\n\t\t// account: persist.account\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentitySteps)))","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport IdentityContractAddressEthDeploy from './IdentityContractAddressEthDeploy'\r\n// import IdentityContractAddressEthTransaction from './IdentityContractAddressEthTransaction'\r\nimport IdentityContractOwner from './IdentityContractOwner'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport GrantInfo from './GrantInfo'\r\nimport GrantDeploy from './GrantDeploy'\r\nimport GrantLogin from './GrantLogin'\r\n// import FullLogin from './FullLogin'\r\nimport { ExternalConnect } from './ExternalWalletConnect'\r\nimport IdentitySteps from './IdentitySteps'\r\n// import Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst GoBtn = ({ waiting, save, t, classes, ...rest }) => {\r\n\treturn (\r\n\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t<Button\r\n\t\t\t\tcolor='primary'\r\n\t\t\t\tonClick={save}\r\n\t\t\t\tdisabled={waiting}\r\n\t\t\t>\r\n\t\t\t\t{t('LETS_GO')}\r\n\t\t\t</Button>\r\n\t\t\t{waiting && <CircularProgress size={24} className={classes.buttonProgress} />}\r\n\t\t</span >\r\n\t)\r\n}\r\n\r\nconst GoBtnWithIdentity = withStyles(styles)(IdentityHoc(GoBtn))\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn (\r\n\t\t<Button onClick={props.cancel} >\r\n\t\t\t{props.t('CANCEL')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtnWithIdentity = IdentityHoc(CancelBtn)\r\n\r\nconst common = {\r\n\tGoBtn: GoBtnWithIdentity,\r\n\tCancelBtn: CancelBtnWithIdentity,\r\n\tvalidateIdBase: 'identity-'\r\n}\r\n\r\nexport const CreateGrantIdentity = (props) =>\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='grant-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'GRANT_INFO', page: GrantInfo },\r\n\t\t\t{ title: 'GRANT_DEPLOY', page: GrantDeploy, final: true }\r\n\t\t]}\r\n\t/>\r\n\r\nexport const LoginGrantIdentity = (props) =>\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='grant-identity-login'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'GRANT_LOGIN', page: GrantLogin, final: true }\r\n\t\t]}\r\n\t/>\r\n\r\nexport const CreteFullIdentity = (props) =>\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='full-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SET_IDENTITY_OWNER_ADDRESS', page: IdentityContractOwner },\r\n\t\t\t{ title: 'GENERATE_IDENTITY_CONTRACT_ADDRESS', page: IdentityContractAddressEthDeploy, final: true },\r\n\t\t\t// { title: 'DEPLOY_IDENTITY_CONTRACT_ADDRESS', page: IdentityContractAddressEthTransaction, final: true }\r\n\t\t]}\r\n\t/>\r\n\r\nexport const LoginStandardIdentity = (props) =>\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='full-identity-login'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SET_IDENTITY_OWNER_ADDRESS', page: IdentityContractOwner },\r\n\t\t\t{ title: 'CONNECT_STANDARD_IDENTITY', page: ExternalConnect, final: true },\r\n\t\t]}\r\n\t/>\r\n\r\nexport const DemoIdentity = (props) =>\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsPages={[\r\n\t\t]}\r\n\t/>","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Img from 'components/common/img/Img'\r\n\r\nimport ADEX_LOGO from 'resources/adex-logo-txt-sm.svg'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-20.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center'\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain'\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto'\r\n\t}\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\r\n\tconst classes = useStyles()\r\n\r\n\treturn (<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tclassName={classes.root}\r\n\t\talignItems='center'\r\n\t>\r\n\t\t<Box\r\n\t\t\theight={1}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t\tmaxWidth='md'\r\n\t\t\tclassName={classes.container}\r\n\t\t>\r\n\t\t\t\r\n\t\t\t<Typography\r\n\t\t\t\tvariant='h6'\r\n\t\t\t\tcomponent='h6'\r\n\t\t\t\tgutterBottom\r\n\t\t\t>\r\n\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t</Typography>\r\n\r\n\t\t\t<Img\r\n\t\t\t\tsrc={ADEX_LOGO}\r\n\t\t\t\talt='AdEx logo'\r\n\t\t\t/>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant='h5'\r\n\t\t\t\tcomponent='h5'\r\n\t\t\t\tgutterBottom\r\n\t\t\t>\r\n\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t</Typography>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant='body1'\r\n\t\t\t\tgutterBottom\r\n\t\t\t>\r\n\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t</Typography>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant='body1'\r\n\t\t\t\tgutterBottom\r\n\t\t\t>\r\n\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t</Typography>\r\n\t\t\t<Typography\r\n\t\t\t\tvariant='body1'\r\n\t\t\t\tgutterBottom\r\n\t\t\t>\r\n\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t</Typography>\r\n\t\t\t<Box\r\n\t\t\t\theight='30%'\r\n\t\t\t\tposition='relative'\r\n\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\talignSelf='stretch'\r\n\t\t\t>\r\n\t\t\t</Box>\t\t\t\r\n\t\t</Box>\r\n\t</Box>)\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdialog: {\r\n\t\theight: '100vh',\r\n\t\twidth: theme.maxWidth || 1200,\r\n\t\tmaxWidth: '100%'\r\n\t}\r\n}))\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent\r\n\t\t\t\t>\r\n\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tJustDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string.isRequired,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateGrantIdentity,\r\n\tCreteFullIdentity,\r\n\t// DemoIdentity,\r\n\tLoginGrantIdentity,\r\n\tLoginStandardIdentity\r\n} from 'components/signin/identity/Identity'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport Translate from 'components/translate/Translate'\r\n// import { getSig } from 'services/auth/auth'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n// import { logOut } from 'services/store-data/auth'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\n\r\nconst ConnectedCreateGrantIdentity = ConnectHoc(JustDialog(CreateGrantIdentity))\r\nconst ConnectedGrantLogin = ConnectHoc(JustDialog(LoginGrantIdentity))\r\nconst ConnectedCreateFullIdentity = ConnectHoc(JustDialog(CreteFullIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(JustDialog(LoginStandardIdentity))\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nfunction PrivateRoute({ component: Component, auth, ...other }) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={(props) => auth === true //|| true\r\n\t\t\t\t? <Component {...props} />\r\n\t\t\t\t: <Redirect to={{ pathname: '/', state: { from: props.location } }} />}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nclass Root extends Component {\r\n\r\n\tcheckForMetamaskAccountChange = () => {\r\n\t\tlet acc = this.props.account\r\n\t\tif (acc._authType === AUTH_TYPES.METAMASK.name) {\r\n\r\n\t\t\t// getAccountMetamask()\r\n\t\t\t// \t.then(({ addr, mode }) => {\r\n\t\t\t// \t\taddr = (addr || '').toLowerCase()\r\n\t\t\t// \t\tif (addr && acc._addr && acc._authType !== undefined) {\r\n\t\t\t// \t\t\tlet accSigCheck = getSig({ addr: acc._addr, mode: acc._authType })\r\n\t\t\t// \t\t\tlet mmAddrSigCheck = getSig({ addr: addr, mode: AUTH_TYPES.METAMASK.name })\r\n\t\t\t// \t\t\tif (!!mmAddrSigCheck && !!accSigCheck && (mmAddrSigCheck === accSigCheck)) {\r\n\t\t\t// \t\t\t\treturn // user authenticated and not changed\r\n\t\t\t// \t\t\t} else {\r\n\t\t\t// \t\t\t\t// logout on metamask addr change\r\n\t\t\t// \t\t\t\tlogOut()\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t} else {\r\n\t\t\t// \t\t\tlogOut()\r\n\t\t\t// \t\t}\r\n\t\t\t// \t})\r\n\t\t}\r\n\t}\r\n\r\n\tonMetamaskNetworkChanged = () => {\r\n\t\tif (process.env.NODE_ENV !== 'production') {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet acc = this.props.account\r\n\t\tif (acc._authType === AUTH_TYPES.METAMASK.name || !acc._authType) {\r\n\t\t\t// getWeb3('metamask')\r\n\t\t\t// \t.then(({ web3 }) => {\r\n\t\t\t// \t\tconsole.log(web3)\r\n\t\t\t// \t\tweb3.eth.net.getNetworkType()\r\n\t\t\t// \t\t\t.then((currentNetwork) => {\r\n\t\t\t// \t\t\t\tif (currentNetwork != 'main') {\r\n\t\t\t// \t\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t// \t\t\t\t\t\ttype: 'warning',\r\n\t\t\t// \t\t\t\t\t\t// action,\r\n\t\t\t// \t\t\t\t\t\tlabel: 'WATNING_NO_MAINNET',\r\n\t\t\t// \t\t\t\t\t\ttop: true,\r\n\t\t\t// \t\t\t\t\t\tunclosable: true,\r\n\t\t\t// \t\t\t\t\t\ttimeout: 30 * 24 * 60 * 1000\r\n\t\t\t// \t\t\t\t\t})\r\n\t\t\t// \t\t\t\t}\r\n\t\t\t// \t\t\t\t// console.log('getNetwork currentNetwork', currentNetwork)\r\n\t\t\t// \t\t\t})\r\n\t\t\t// \t\t\t.catch((err) => {\r\n\t\t\t// \t\t\t\t// console.log('getNetwork err', err)\r\n\t\t\t// \t\t\t})\r\n\t\t\t// \t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidCatch(error, info) {\r\n\t\t// TODO: catch errors\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\t// this.checkForMetamaskAccountChange()\r\n\t\t// this.onMetamaskNetworkChanged()\r\n\r\n\t\t// if (window.ethereum) {\r\n\t\t// \twindow.ethereum.on('accountsChanged', (accounts) => {\r\n\t\t// \t\tconsole.log('acc changed', accounts[0])\r\n\t\t// \t\tthis.checkForMetamaskAccountChange()\r\n\t\t// \t})\r\n\t\t// \twindow.ethereum.on('networkChanged', (network) => {\r\n\t\t// \t\tconsole.log('networkChanged', network)\r\n\t\t// \t\tthis.onMetamaskNetworkChanged()\r\n\t\t// \t})\r\n\t\t// }\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t// TODO: check if computedMatch or language change need to update\r\n\t\tconst authChanged = this.props.auth !== nextProps.auth\r\n\t\tconst locationChanged =\r\n\t\t\tJSON.stringify(this.props.location) !==\r\n\t\t\tJSON.stringify(nextProps.location)\r\n\r\n\t\treturn authChanged || locationChanged\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Switch >\r\n\t\t\t\t<PrivateRoute auth={this.props.auth} path=\"/dashboard/:side\" component={Dashboard} />\r\n\t\t\t\t<PrivateRoute auth={this.props.auth} path=\"/side-select\" component={SideSelect} />\r\n\t\t\t\t<Route exact path=\"/\" component={(props) => <ConnectedRoot {...props} noBackground />} />\r\n\t\t\t\t<Route exact path=\"/identity/grant\" component={(props) => <ConnectedCreateGrantIdentity {...props} noBackground />} />\r\n\t\t\t\t<Route exact path=\"/login/grant\" component={(props) => <ConnectedGrantLogin {...props} noBackground />} />\r\n\t\t\t\t<Route exact path=\"/login/full\" component={(props) => <ConnectedLoginStandardIdentity {...props} noBackground />} />\r\n\t\t\t\t<Route exact path=\"/identity/full\" component={(props) => <ConnectedCreateFullIdentity {...props} noBackground />} />\r\n\t\t\t\t{/* <Route exact path=\"/identity/demo\" component={DemoIdentity} /> */}\r\n\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t</Switch >\r\n\t\t)\r\n\t}\r\n}\r\n\r\nRoot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\tconst { account } = persist\r\n\tconst { wallet, identity } = account\r\n\r\n\tconst hasAuth = !!wallet\r\n\t\t&& !!wallet.address\r\n\t\t&& !!wallet.authSig\r\n\t\t&& !!wallet.authType\r\n\t\t&& !!identity.address\r\n\r\n\treturn {\r\n\t\taccount: account,\r\n\t\tauth: hasAuth\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch)\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Root))\r\n\r\n","import { createMuiTheme } from '@material-ui/core/styles'\r\nimport lime from '@material-ui/core/colors/lime'\r\nimport deepOrange from '@material-ui/core/colors/deepOrange'\r\nimport amber from '@material-ui/core/colors/amber'\r\nimport grey from '@material-ui/core/colors/grey'\r\n\r\nconst ADEX_BLUE = '#1B75BC'\r\nconst ADEX_GREEN = '#14DC9C'\r\n\r\nconst palette = {\r\n\tprimary: { main: ADEX_BLUE, contrastText: '#fff' },\r\n\tsecondary: { main: ADEX_GREEN, contrastText: '#fff' },\r\n\terror: deepOrange,\r\n\twarning: amber,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey\r\n}\r\n\r\nexport const themeMUI = createMuiTheme({\r\n\tpalette: { ...palette },\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap'\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap'\r\n\t\t\t}\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0\r\n\t\t\t}\r\n\t\t}\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// }\r\n\t},\r\n})\r\n\r\nexport const globalStyles = theme => {\r\n\treturn {\r\n\t\t'@global': {\r\n\t\t\thtml: {\r\n\t\t\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif'\r\n\t\t\t},\r\n\t\t\ta: {\r\n\t\t\t\ttextDecoration: 'none'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport { Switch, HashRouter as Router } from 'react-router-dom'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\n// import './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport configureStore from 'store/configureStore'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'react-router-redux'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/es/integration/react'\r\nimport Root from './Root'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { themeMUI, globalStyles } from './themeMUi'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst { persistor, store } = configureStore\r\n// console.log('initial store', store.getState())\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nconst cssBaselineStyled = ({ classes }) =>\r\n// Might break something\r\n\t<CssBaseline classes={\r\n\t\tclasses.globalStyles\r\n\t} />\r\n\r\n\r\nconst CssBaselineStyled = withStyles(globalStyles)(cssBaselineStyled)\r\n\r\nclass App extends Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaselineStyled\r\n\t\t\t\t\t// classes={\r\n\t\t\t\t\t//   { children: classes.globalStyles }\r\n\t\t\t\t\t// }\r\n\t\t\t\t/>\r\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\r\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\r\n\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t<PersistGate\r\n\t\t\t\t\t\t\t\tonBeforeLift={onBeforeLift}\r\n\t\t\t\t\t\t\t\tpersistor={persistor}>\r\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history} >\r\n\t\t\t\t\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"adex-dapp\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Switch >\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Router>\r\n\t\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n    \t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister();\r\n\t\t});\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { register } from './serviceWorker'\r\n\r\n// Temp here?\r\nObject.values = function* values(obj) {\r\n\tfor (let prop of Object.keys(obj)) {\r\n\t\tyield obj[prop]\r\n\t}\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nregister()","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","import { Signer } from 'ethers'\r\nimport { ethers, utils } from 'ethers'\r\nimport LedgerEth from \"@ledgerhq/hw-app-eth\"\r\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\r\nimport HDKey from 'hdkey'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\r\n\r\nexport default class LedgerSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t\tthis._transport = TransportU2F\r\n\t}\r\n\r\n\tget path() { return this._path }\r\n\tget provider() { return this._provider }\r\n\r\n\taddrsFromPubKey = async (\r\n\t\tpublicKey = '',\r\n\t\tchainCode = '',\r\n\t\t{ from = 0, to = 19 } = {}) => {\r\n\r\n\t\tconst hdKey = new HDKey()\r\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\r\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\r\n\r\n\t\tconst addrs = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`)\r\n\t\t\t\t.publicExtendedKey\r\n\r\n\t\t\tconst addr = utils.HDNode\r\n\t\t\t\t.fromExtendedKey(derivedKey)\r\n\t\t\t\t.address\r\n\r\n\t\t\taddrs.push({\r\n\t\t\t\taddress: addr,\r\n\t\t\t\tpath: `${this.path}/${index}`\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn addrs\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { publicKey, chainCode } = await eth\r\n\t\t\t.getAddress(this.path, false, true)\r\n\r\n\t\tconst addresses = await this.addrsFromPubKey(\r\n\t\t\tpublicKey,\r\n\t\t\tchainCode,\r\n\t\t\t{ from, to }\r\n\t\t)\r\n\r\n\t\treturn addresses\r\n\t}\r\n\r\n\tsignTx = async (params) => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\t\tconst txUnsigned = utils.serializeTransaction(txProps)\r\n\t\t\t.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { r, s, v } = await eth.signTransaction(\r\n\t\t\tthis.path,\r\n\t\t\ttxUnsigned\r\n\t\t)\r\n\r\n\t\tconst signature = {\r\n\t\t\tr: '0x' + r,\r\n\t\t\ts: '0x' + s,\r\n\t\t\tv\r\n\t\t}\r\n\r\n\t\tconst txSigned = utils.serializeTransaction(\r\n\t\t\ttxProps,\r\n\t\t\tsignature\r\n\t\t)\r\n\r\n\t\treturn txSigned\r\n\t}\r\n\r\n\t/*\r\n\t* TODO: may not work.\r\n\t* The ledger device or u2f seems to broken\r\n\t* Can list the addresses\r\n\t* Can sign messages\r\n\t* Signs transactions\r\n\t* Actually it show the tx but does not return value after \r\n\t* confirmation on the device\r\n\t*/\r\n\tsendTransaction = async (params) => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\r\n\t\tif (!opts.hex) {\r\n\t\t\tif (typeof (message) === 'string') {\r\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\r\n\t\t\t}\r\n\r\n\t\t\tmessage = ethers.utils.hexlify(message)\r\n\t\t}\r\n\r\n\t\tmessage = message.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\r\n\t\tconst signature = await eth\r\n\t\t\t.signPersonalMessage(this.path, message)\r\n\t\tsignature.r = '0x' + signature.r\r\n\t\tsignature.s = '0x' + signature.s\r\n\r\n\t\tconst { address } = await eth.getAddress(this.path)\r\n\r\n\t\tconst res = {\r\n\t\t\tsignature: ethers.utils.joinSignature(signature),\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = (provider) => {\r\n\t\treturn new LedgerSigner(provider, { path: this.path })\r\n\t}\r\n}","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH'\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404.12db5cc0.png\";","module.exports = __webpack_public_path__ + \"static/media/rekt-eddie.8bd0ccfa.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/adex-logo-txt-sm.9fd40458.svg\";","module.exports = __webpack_public_path__ + \"static/media/eddie-20.a814049a.png\";"],"sourceRoot":""}