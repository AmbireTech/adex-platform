{"version":3,"sources":["resources/wyre.svg","resources/home-wallpaper.png","constants/actionTypes.js","store/initialState.js","services/translations/translations.js","helpers/sanitizer.js","reducers/configReducer.js","store/history.js","reducers/index.js","reducers/accountReducer.js","reducers/uiReducer.js","reducers/itemsReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/targetingReducer.js","reducers/ensReducer.js","reducers/tablesStateReducer.js","reducers/uiMemoryReducer.js","reducers/channelsReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","selectors/selectors.js","selectors/configSelectors.js","helpers/dateUtils.js","selectors/accountSelectors.js","selectors/identitySelectors.js","constants/spinners.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/itemsSelectors.js","selectors/newItemsSelectors.js","helpers/formatters.js","helpers/analyticsTimeHelpers.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","components/common/anchor/anchor.js","selectors/targetingSelectors.js","selectors/newTransactionSelectors.js","components/App/themeMUi.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","constants/misc.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/locationSelectors.js","selectors/combinedSelectors.js","actions/common.js","helpers/miscHelpers.js","helpers/errors.js","actions/uiActions.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/ethers.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/store-data/loop.js","services/store-data/campaigns.js","services/store-data/account.js","services/store-data/analytics.js","services/store-data/auth.js","services/requester/requester.js","services/requester/index.js","services/adex-relayer/actions.js","constants/targeting.js","actions/validationActions.js","helpers/mediaHelpers.js","actions/mediaValidations.js","services/adex-market/actions.js","actions/itemActions.js","services/auth/auth.js","services/smart-contracts/signers/trezor.js","helpers/localStorageHelpers.js","services/wallet/wallet.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","services/smart-contracts/actions/identity.js","services/smart-contracts/actions/core.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/identityActions.js","actions/bidActions.js","services/gas/actions.js","actions/transactionActions.js","constants/tables.js","actions/newItemsActions.js","actions/audienceActions.js","helpers/utmHelpers.js","actions/campaignActions.js","helpers/numbers.js","helpers/itemsHelpers.js","helpers/ipfsHelpers.js","services/images/blob.js","actions/slotActions.js","actions/unitActions.js","actions/index.js","components/toast/Toast.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/CampaignIcon.js","components/common/icons/createSvgIconCustom.js","components/dashboard/dashboard/SideSwitch.js","components/common/spinners/index.js","components/common/media/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","components/translate/Translate.js","helpers/logosHelpers.js","components/App/MultiThemeProvider.js","components/App/ThemeSwitch.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/TopBar.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/dirtyErrors.js","components/dashboard/containers/ItemCommon/SaveBtn.js","components/dashboard/containers/ItemCommon/itemCommonNew.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/itemHooks.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/common/stepper/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/common/dropdown/Dropdown.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","services/images/crop.js","components/common/OutlinedPropView/OutlinedPropView.js","components/dashboard/forms/MediaForm/CanvaButton.js","components/dashboard/forms/MediaForm/MediaForm.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/FormsCommon.js","components/dashboard/containers/AudiencePreview/AudiencePreview.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/common/autocomplete/Autocomplete.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/Audience/AudienceBasic.js","components/dashboard/forms/items/Audience/NewAudiencePreview.js","components/dashboard/forms/items/NewTargetingRules.js","components/dashboard/containers/Slot/WebsiteIssues.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/Website/WebsiteBasic.js","components/dashboard/forms/items/Website/WebsitePreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/Tables/AudiencesTable.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/styles.js","components/dashboard/containers/Receipt/PublisherReceiptTpl.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/Receipt/CampaignReceiptTpl.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Tables/StatsByCountryTable.js","components/dashboard/charts/map/MapChart.js","components/dashboard/containers/Campaign/CampaignEdits.js","components/dashboard/containers/Campaign/CampaignBasic.js","components/dashboard/containers/Campaign/CampaignAudience.js","components/dashboard/charts/simplified.js","hooks/useWindowSize.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/common/DatePicker/styles.js","components/common/DatePicker/DatePicker.js","hooks/useKeyPress.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/Campaign/CampaignStatsByTimeframe.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/DashboardStats/AdvertiserStats.js","components/dashboard/containers/Tables/BestEarnersTable.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/SlotEdits.js","components/dashboard/containers/Slot/SlotBasic.js","components/dashboard/containers/Slot/IntegrationCode.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Audience/Audience.js","components/dashboard/containers/Websites/Websites.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/deposit/styles.js","helpers/popupHelper.js","services/onramp/index.js","components/dashboard/deposit/Ramp.js","components/dashboard/deposit/TopUp.js","components/dashboard/deposit/TopUpChangelly.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/ResendConfirm.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/ImportantNotifications.js","components/App/Root.js","components/App/CacheBuster.js","components/App/Loading.js","components/App/NetworkErrorDetector.js","components/App/App.js","serviceWorker.js","index.js","resources/adex-logo-txt-sm.svg","resources/adex-logo-txt-dark-theme.svg","services/crypto/crypto.js","resources/trezor-logo-h.png","resources/getting-started/GS-email-ic_80x80.png","resources/getting-started/GS-create-ic_80x80.png","resources/getting-started/GS-launch-ic_80x80.png","services/adex-validator/ewt.js","../external \"Module\"","resources/no-image-box-eddie.jpg","resources/video-placeholder.jpg","resources/metamask-logo.png","resources/demo-logo.png","resources/404-no.png","resources/404-yes.png","resources/ramp.svg","resources/paytrie.svg","resources/transak.svg","resources/changelly.svg","resources/getting-started/GS-fund-ic_80x80.png","resources/getting-started/GS-place-ic_80x80.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png"],"names":["module","exports","__webpack_require__","p","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","UPDATE_UI_BY_IDENTITY_AND_SIDE","UPDATE_MEMORY_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","UPDATE_ANALYTICS_PERIOD","UPDATE_PUBLISHER_RECEIPTS","RESET_SELECTED_ITEMS","UPDATE_ANALYTICS_LAST_CHECKED","UPDATE_TARGETING_ANALYTICS","UPDATE_TABLE_STATE","RESET_ALL_TABLES_STATE","RESET_TABLE_STATE_BY_ID","initialState","account","Account","signin","name","email","password","passConfirm","seed","publicKey","seedCheck","authenticated","newItem","Campaign","audienceInput","version","inputs","devices","apply","temp","useUtmTags","useUtmSrcWithPub","plainObj","AdUnit","addUtmLink","AdSlot","rulesInput","autoSetMinCPM","Audience","Website","currentItem","selectedItems","campaigns","adUnits","slots","items","spinners","ui","global","byIdentity","tablesState","uiMemory","toasts","confirm","data","nav","side","language","validations","newTransactions","default","web3Transactions","targeting","targetingData","minByCategory","countryTiersCoefficients","identity","ethNetwork","networkId","gasData","wallet","config","relayer","market","validators","analytics","channels","withBalanceAll","withOutstandingBalance","ensAddresses","translations","adexTranslations","lang","translate","val","arguments","length","undefined","_ref","_ref$isProp","isProp","_ref$args","args","_ref$toUpperCase","toUpperCase","key","replace","dirty","translation","Array","isArray","tpl","pattern","RegExp","interpolated","split","map","i","element","isValidElement","cloneElement","every","join","interpolate","a","setLang","lng","updateCfg","current","type","cfg","newCfg","Object","objectSpread2","history","persistReducers","newState","state","action","Base","updateObject","item","newValues","objModel","category","value","filterActions","newCollection","collectionId","collection","defineProperty","id","itemType","prop","newCol","removeCollectionProp","_id","Item","removeItem","toRemove","newItems","reduce","currentItems","ipfs","match","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","_ref2","pTxs","status","indexOf","hash","push","filter","tx","addr","toConsumableArray","obj","updateObj","txHash","tableId","memoryReducers","timeframe","lastChecked","eventType","metric","timestamp","advanced","demand","receipts","period","newSignin","newIdentity","newWallet","itemId","spinner","types","newToast","toast","added","Date","now","concat","t","onConfirm","onCancel","active","noActionBtns","calledOn","newErrors","errors","hasOwnProperty","updateTx","trackPageView","location","ReactGA","set","page","pathname","search","pageview","createHashHistory","initialize","process","listen","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","localStorage","debug","throttle","rootReducer","combineReducers","persist","persistCombineReducers","memory","router","connectRouter","configureStore","middlewares","thunk","store","createStore","compose","applyMiddleware","persistor","persistStore","getState","dispatch","createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","selectRelayerConfig","selectFeeTokenWhitelist","createSelector","feeTokenWhitelist","all","tokens","address","selectRoutineWithdrawTokens","routineWithdrawTokens","selectRoutineWithdrawTokenByAddress","createCachedSelector","_","_ref3","find","token","_state","selectRoutineWithdrawTokensAddresses","_ref4","selectMainToken","relayerConfig","_ref5","mainToken","selectIdentityRecoveryAddr","_ref6","identityRecoveryAddr","selectGasPriceCap","_ref7","gasPriceCap","selectSaiToken","_ref8","saiAddr","selectMainFeeToken","_ref9","DateUtils","_MomentUtils","inherits","_super","createSuper","classCallCheck","this","createClass","date","clone","startOf","endOf","start","end","isBetween","ammount","unit","add","minutes","hours","weeks","months","years","moment","utcOffset","offset","sign","Math","abs","floor","toString","window","Intl","DateTimeFormat","resolvedOptions","timeZone","unix","locale","localeData","_ref2$locale","dow","doy","defaultLocaleData","getLocaleDate","updateLocale","week","firstDayOfWeek","firstDayOfYear","span","dateUtils","hour","getHours","spanStartHour","withSpanStartHour","setHours","startOfHour","formatString","format","MomentUtils","makeJSDateObject","isMoment","getTime","navigator","toLowerCase","selectChannels","selectMemoryUi","selectDebugIdentity","debugIdentityAddr","debuggerAddr","selectDebugAccount","_currentPrivileges","utils","getAddress","debuggerPrivAddr","currentPrivileges","selectAccount","debugData","relayerData","selectAuth","authSig","authType","selectWallet","selectEmail","selectAuthSig","selectWalletAddress","selectAuthType","selectAccountIdentity","selectAccountIdentityAddr","_ref10","selectAccountStats","_ref11","stats","selectAccountStatsRaw","_ref12","settings","_ref13","raw","selectAccountStatsFormatted","_ref14","formatted","selectAccountIdentityDeployData","_ref15","routineAuthorizationsData","_ref16","_ref16$relayerData","deployData","selectChannelsWithUserBalancesEligible","_ref17","selectChannelsWithUserBalancesAll","_ref18","selectAccountIdentityCurrentPrivileges","_ref19","_ref19$relayerData","selectWalletPrivileges","selectAccountIdentityCreatedDate","_ref20","created","selectIdentity","selectEnsAddressByAddr","CREATING_SESSION","QUICK_WALLET_BACKUP","GETTING_OWNER_IDENTITIES","UPLOADING_ACCOUNT_DATA","OPENING_CAMPAIGN","GETTING_CAMPAIGNS_FEES","UPDATING_ACCOUNT_IDENTITY","UPDATING_SLOTS_DEMAND","PRINTING_CAMPAIGNS_RECEIPTS","FETCHING_PUBLISHER_RECEIPTS","CHECKING_METAMASK_AUTH","AUTH_WAITING_TREZOR_ACTION","AUTH_WAITING_ADDRESS_DATA","SYNC_WEB3_DATA","selectSide","selectGlobalUi","selectConfirm","selectToasts","selectSpinners","selectIdentityUi","identityAddr","identitiesUi","selectIdentitySideUi","identityUi","selectCompanyData","companyData","selectUserLastSide","userLastSide","selectSpinnerById","selectWeb3SyncSpinnerByValidateId","validateId","selectRegistrationAllowed","ids","allowRegistration","selectEasterEggsAllowed","allowEasterEggs","selectNewVersionAvailable","newVersionAvailable","selectNewVersionAvailableId","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectSideSpecificUI","selectHideGettingStarted","hideGettingStarted","selectGettingStartedExpanded","gettingStartedExpanded","selectSelectedCampaigns","selectLoginDirectSide","goToSide","selectInitialDataLoadedByData","dataType","initialDataLoaded","selectInitialDataLoaded","_ref13$initialDataLoa","selectCampaignIdInDetails","campaignId","selectLoginSelectedIdentity","loginSelectedIdentity","selectAnalyticsDataSide","selectIdentitySideAnalyticsTimeframe","_ref16$sideAnalyticsT","sideAnalyticsTimeframe","selectIdentitySideAnalyticsPeriod","_ref17$sideAnalyticsP","sideAnalyticsPeriod","startOfDay","endOfDay","selectWindowReloading","windowReloading","selectResendConfirmation","resendConfirmation","selectTableState","tablesStates","identityId","selectTableStateSelectedRows","memoryUI","selectLang","selectTranslations","opts","_opts$isProp","_opts$args","_opts$components","components","selectItemsByType","selectItemsArrayByType","values","selectItemByTypeAndId","_itemType","selectCampaigns","selectCampaignsArray","selectCampaignById","selectCampaignUnitsById","selectCampaignInDetails","selectAdUnits","selectAdUnitsArray","selectAdSlotsArray","selectAdSlotById","selectWebsitesArray","selectWebsiteByWebsite","ws","url","parse","hostname","selectAudiencesArray","selectAudienceById","selectAudienceByCampaignId","campaign","categories","publishers","x","selectSavedAudiences","title","selectWebsitesList","websites","sort","b","updated","selectCampaignDisplayStatus","impressions","humanFriendlyName","selectNewItems","selectNewItemByTypeAndId","selectNewCampaign","CampaignModel","selectNewAdUnit","AdUnitModel","selectNewAdSlot","AdSlotModel","selectNewAudience","AudienceModel","selectNewWebsite","_ref6$Website","DEFAULT_DATETIME_FORMAT","formatDateTime","noDateLabel","formatDate","formatTokenAmount","amountString","decimals","pretty","toFixed","formatUnits","commify","parseFloat","slice","formatAddress","joinSymbol","substring","formatNumberWithCommas","formatFloatNumberWithCommas","parts","toFixedFloat","number","formatAbbrNum","decPlaces","pow","abbrev","size","round","truncateString","string","maxLength","trim","timeSinceEpoch","epochDivider","epoch","periodDays","days","MONTH","YEAR","fillEmptyTime","prevAggr","defaultValue","fillAfterLast","time","interval","step","amount","newAggr","initialTime","endTime","min","m","prevAggrInInterval","lastWithValueTime","newData","isNullValue","entries","slicedToArray","getTimePeriods","callEnd","startCopy","startOfMinute","addMinutes","addHours","getHourSpanStart","addDays","addMonths","getBorderPeriodStart","borderStart","_ref4$next","next","_ref4$startIsLive","startIsLive","minDate","maxDate","direction","limitedStart","isAfter","isBefore","day","startOfWeek","addWeeks","month","startOfMonth","year","startOfYear","addYears","Error","getMinStartDateTimeByTimeframe","TIME_INTERVALS","label","ms","timeAgo","since","intervalTimes","getPeriodLabel","getPeriodDataPointLabel","periodEnd","selectAnalytics","selectTargeting","selectAdvancedAnalytics","selectAnalyticsLastChecked","selectAnalyticsLiveTimestamp","currentDate","withdrawPeriodStart","hourStart","dayStart","weekStart","monthStart","yearStart","selectDemandAnalytics","selectDemandAnalyticsByType","selectTargetingAnalytics","_ref4$targetingData","selectTargetingAnalyticsMinByCategories","_ref5$minByCategory","selectTargetingAnalyticsCountryTiersCoefficients","_ref6$countryTiersCoe","selectVerifiedActiveTargetingAnalytics","targetingAnalytics","bySlotCount","byType","forEach","campaignsEarnedFrom","selectTargetingAnalyticsCurrentlyUsedTypes","u","selectTargetingAnalyticsByType","filterByType","some","includes","selectAdvancedAnalyticsByType","from","c","Set","owner","alexaRank","Map","campaignAnalytics","mapTotalChanelToAdUnitData","advancedAnalytics","byChannelStats","byUnit","curr","reportChannelToAdUnit","selectAdUnitsTotalStats","IMPRESSION","CLICK","selectPublisherStatsByType","publisherStats","selectPublisherStatsByCountry","reportPublisherToCountry","selectPublisherPayStatsByCountry","reportPublisherToCountryPay","selectPublisherStatsAdUnit","reportPublisherToAdUnit","selectPublisherStatsAdUnitPay","reportPublisherToAdUnitPay","selectPublisherStatsAdSlot","reportPublisherToAdSlot","selectPublisherStatsAdSlotPay","reportPublisherToAdSlotPay","selectPublisherAggrStatsByCountry","byCountry","max","total","Number","selectAllAdUnitsInChannels","units","_ref12$adUnits","selectPublisherAdvanceStatsToAdUnit","impressionsByAdUnit","clicksByAdUnit","impressionsPayByAdUnit","clicksPayByAdUnit","clicks","impressionsPay","clicksPay","selectPublisherAdvanceStatsToAdSlot","impressionsByAdSlot","clicksByAdSlot","impressionsPayByAdSlot","clicksPayByAdSlot","selectPublisherTotalImpressions","selectCampaignAnalyticsByChannelStats","_selectAdvancedAnalyt2","selectCampaignAnalyticsByChannelToCountry","reportChannelToCountry","selectCampaignAnalyticsByChannelToCountryPay","reportChannelToCountryPay","selectCampaignAggrStatsByCountry","selectCampaignAnalyticsByChannelToAdUnit","selectAnalyticsDataAggr","_ref21","liveTimestamp","_ref23","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","_ref24","_ref24$side","_ref24$eventType","_ref24$metric","_ref24$timeframe","mapEventCounts","getChannelToAdUnitData","_ref25$byChannelStats","_ref26$reportChannelT","selectCampaignsEventCountsStats","_ref27$byChannelStats","keys","selectCampaignsEventCountsStatsById","eventCounts","selectTotalImpressions","_ref28","_ref29","_ref30","_ref30$side","_ref30$timeframe","selectTotalClicks","_ref31","_ref32","_ref33","_ref33$side","_ref33$timeframe","selectTotalMoney","_ref34","eventPayouts","_ref35","_ref36","_ref36$side","_ref36$timeframe","selectTotalImpressionsWithPayouts","_ref37","_ref38","e","_ref39","_ref40","_ref40$side","_ref40$timeframe","selectAverageCPM","_ref41","_ref42","totalMoney","totalImpressions","_ref43","_ref43$side","_ref43$timeframe","selectStatsChartData","_ref45","rest","noLastOne","objectWithoutProperties","_ref46","_ref47","memo","labels","datasets","_ref44","parseInt","parseValueByMetric","_ref48","_ref48$noLastOne","_ref48$metric","_ref48$timeframe","selectChartDatapointsImpressions","_ref49","_ref50","_ref50$side","_ref50$timeframe","selectChartDatapointsClicks","_ref51","_ref52","_ref52$side","_ref52$timeframe","selectChartDatapointsPayouts","_ref53","payouts","_ref54","_ref54$side","_ref54$timeframe","selectPublisherHasAdSlotsButNoImpressionsLastHour","_ref55","_ref56","allChannelsLoaded","advAnalyticsLoaded","itemsLoaded","_ref58","_ref59","adSlotsArray","hasAdSlots","noImpressions","selectChartDatapointsCPM","_ref60","_ref61","result","n","_ref62","_ref62$side","_ref62$timeframe","selectPublisherReceipts","_ref63","selectPublisherReceiptsPresentMonths","r","selectAnalyticsMinAndMaxDates","setMinutes","dateCreated","activeFrom","_campaign$status","closedDate","selectValidations","selectValidationsById","useStyles","makeStyles","theme","externalIcon","marginLeft","spacing","fontSize","link","display","alignItems","fullWidth","width","Anchor","href","target","children","underline","color","component","className","classes","isExternal","getUrl","linkProps","draggable","rel","style","wordBreak","react_default","createElement","Link","assign","clsx","OpenInNew","ExternalAnchor","anchor_Anchor","fontWeight","CountryTiers","constants","AllCountries","OsGroups","_ref$targetingData","_ref2$minByCategory","_ref3$countryTiersCoe","selectMinTargetingCpm","coefficients","selectTargetingCategoriesByType","mapTargetingDataToPublishers","reachPerMillion","selectTargetingPublishersByType","selectTargetingCategories","selectAllTargetingPublishers","autocompleteLocationsSingleSelect","tiers","ruleValue","countries","extraLabel","group","autocompleteCategoriesMultiSelectIn","cat","IabCategories","wrbshrinkerWebsiteApiV3Categories","autocompleteCategoriesMultiSelectNin","getPublisherExtraDataLabel","publisher","autocompletePublishersMultiSelectIn","pub","JSON","stringify","extraData","autocompletePublishersMultiSelectNin","audienceSources","parameter","applyType","actions","minSelected","extraInfo","anchor_ExternalAnchor","message","disabledValues","helper","oss","selectAutocompleteAudienceSources","locations","catIn","catNin","pubIn","pubNin","singleValuesSrc","multipleValuesSrc","in","nin","selectAudienceSourcesWithOptions","sourcesData","s","source","selectAudienceValidations","__","___","selectAudienceInputsDataByItem","____","advancedOnly","allSrcsWithOptions","selectedItem","isCampaignAudienceItem","errorParameters","errFields","SOURCES","allSrcs","disabled","selectedPublishersCategories","has","getDisabledValues","selectNewTransactionById","txns","WHITE","BLACK","ACCENT_TWO","primary","main","dark","light","lightest","contrastText","secondary","darkPrimary","darkSecondary","paletteCommon","grey","lightGrey","warning","success","info","error","first","lime","common","white","black","paletteDark","accentOne","accentTwo","divider","fade","background","paper","hover","hoverOpacity","selected","selectedOpacity","disabledOpacity","focus","focusOpacity","activatedOpacity","appBar","text","icon","hint","solid","paletteLight","contrastThreshold","tonalOffset","disabledBackground","tooltipBgColor","palette","typography","fontFamily","defaultTheme","createMuiTheme","darkShadows","shadows","lightShadows","commonTheme","overrides","MuiButton","root","borderRadius","outlined","borderColor","contained","backgroundColor","boxShadow","&:hover","@media (hover: none)","&$focusVisible","&:active","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","tooltip","pxToRem","arrow","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","MuiExpansionPanel","MuiTableFooter","flex","padding","MuiAppBar","colorDefault","MUIDataTablePagination","toolbar","MUIDataTableFilter","maxWidth","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","breakpoints","down","height","borderBottom","MUIDataTable","border","MUIDataTableBody","emptyTitle","defaultThemeWithOverrides","responsiveFontSizes","factor","darkTheme","lightTheme","CountryNames","numericToAlpha2","pricingBondsToUserInputPerMile","helpers","selectCampaignsTableData","archived","_ref$decimals","depositAsset","_item$spec","spec","_item$adUnits","pricingBoundsCPMUserInput","specPricingBounds","firstUnit","to","toReceipt","cpm","pricingBounds","minPerImpression","maxPerImpression","_ref2$impressions","_ref2$clicks","media","mediaUrl","mediaMime","depositAmount","fundsDistributedRatio","ctr","receiptReady","receiptAvailable","selectCampaignsMaxImpressions","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref3$decimals","selectAdSlotsTableData","earnings","getTabledData","selectOnImage","selectAllAdUnitsTableData","adUnitsTotalStats","selectAdUnitsByCampaignTableData","selectAdUnitsByItemsTableData","adUnitsToatalStats","selectAdUnitsTableData","selectAudiencesTableData","audiences","mapByCountryTableData","impressionsByCountry","clicksByCountry","impressionsAggrByCountry","impressionsPayByCountry","clicksPayByCountry","addEarnings","countryName","percentImpressions","averageCPM","selectPublisherStatsByCountryData","selectCampaignAnalyticsToCountryData","selectPublisherStatsByCountryTableData","selectCampaignAnalyticsToCountryTableData","mapByCountryMapChartData","colorScale","scaleLinear","domain","range","chartData","chartCountriesData","objects","geometries","tooltipElements","properties","fillColor","hoverColor","pressedColor","selectPublisherStatsByCountryMapChartData","selectCampaignAnalyticsToCountryMapChartData","selectBestEarnersTableData","selectCampaignStatsTableData","_advanced","campaignAudienceInput","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","rules","isBlacklisted","website","selectCampaignStatsMaxValues","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectAdUnitsStatsMaxValues","selectPublisherReceiptsStatsByMonthTableData","_ref15$decimals","_i","_Object$entries","_Object$entries$_i","selectPublisherReceiptsStatsByMonthTotalValues","totalPayouts","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","impressionsData","clicksData","hoverBackgroundColor","borderWidth","_ref3$campaignId","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","AUTH_TYPES","AdUnitsTypes","READONLY","METAMASK","signType","GETH","limit","TREZOR","DEMO","GRANT","QUICK","SEED","ETHEREUM_NETWORKS","1","for","5","production","development","UTM_PARAMS","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","WHERE_YOU_KNOW_US","USER_SIDES","extraLabels","WALLET_ACTIONS_MSGS","_WALLET_ACTIONS_MSGS","strong","EXECUTE_ACTIONS","withdraw","privilegesChange","ensChange","openCampaign","relayerFee","selectSlotTypesSourceWithDemands","symbol","dA","BigNumber","avgCPM","dB","gt","index","hasPopularGroup","hasNoDemandGroup","demandIfo","totalVolume","selectVerifiedActiveTypes","verified","typeData","get","byOwner","minSlotCount","revenue","totalEarned","totalRevenue","selectUnitTypesSourceWithRecommendations","verifiedTypes","totoShare","_ref4$revenue","typeRest","share","hasLessPopularGroup","selectMonthsRange","startDate","endDate","diff","selectReceiptMonths","monthsEnd","monthTimestamp","selectFromSource","labelValueMapping","translated","l","selectKnowUsFromSource","selectUserSides","websitesAutocompleteSrc","issues","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","_ref$meta","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","hasVerifiedSites","selectHasAdSlotImpressions","selectHas5000Impressions","selectStepsData","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","selectLocation","selectLocationQuery","query","selectSearchParams","URLSearchParams","ITEMS_SELECTORS","receipt","SIDES","advertiser","selectDashboardBreadcrumbs","_ref4$pathname","paths","sideDashboard","sideDashboardBC","restBC","prev","selector","bc","restCopy","receiptAt","selectCampaignWithAnalyticsById","execute","miscHelpers","hexToRgbaColorString","hex","alpha","substr","hexToDec","h","g","getErrMsg","err","stack","isInt","int","shuffleArray","array","random","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","initial","valueOf","queryParams","encodeURIComponent","getErrorMsg","msg","errMsg","updateSpinner","updateGlobalUi","updateMemoryUi","updateInitialDataLoaded","loaded","updateUiByIdentity","updateIdentitySideUi","addToast","_ref$label","_ref$timeout","timeout","unclosable","anchorOrigin","top","Helper","getGuid","removeToast","toastId","confirmAction","_ref2$confirmLabel","confirmLabel","_ref2$cancelLabel","cancelLabel","_ref2$title","_ref2$text","_ref2$noCancel","noCancel","_ref2$noConfirm","noConfirm","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","abrupt","sent","stop","_x","updateNav","changeLanguage","updateRegistrationAllowed","updateCompanyData","_callee2","_context2","console","_x2","_x3","updateSelectedItems","resetSelectedItems","updateSelectedCampaigns","updateNewVersion","shouldForceRefresh","_callee3","_context3","_x4","_x5","refreshCacheAndReload","_callee5","_context5","caches","then","_callee4","names","_context4","Promise","delete","_x8","reload","_x6","_x7","notifyNewTOS","Button","variant","onClick","open","handleRedirectParams","searchParams","grant","selectedIdentity","updateEasterEggsAllowed","updatePrivilegesWarningAccepted","accepted","setGettingStartedExpanded","expanded","updateIdSideAnalyticsChartPeriod","periodStart","_getTimePeriods","updateAnalyticsPeriodPrevNextLive","_ref10$next","_ref10$live","live","_callee6","_selectAnalyticsMinAn","_selectIdentitySideAn","_context6","_x9","_x10","updateIdSideAnalyticsChartTimeframe","updateWindowReloading","isReloading","updateTableState","tableState","filteredState","rowsPerPage","activeColumn","filterList","searchProps","searchText","sortOrder","viewColumnsState","updateTableStateSelectedRows","selectedRows","resetAllTableState","_getState","resetTableStateById","updateDebuggingAddresses","contracts","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","LocalProvider","startsWith","providers","WebSocketProvider","JsonRpcProvider","getEthersResult","provider","adexCore","coreAddr","Contract","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","getToken","getIdentity","localWeb3","localProvider","relayerCfg","getEthers","currentProviderCfg","isProviderRelayerConfigChanged","loadInjectedWeb3","resolve","reject","detectEthereumProvider","ethereum","getMetamaskSelectedAddress","_yield$loadInjectedWe","accounts","isMetaMask","request","method","t0","log","connectMetaMask","code","injectedWeb3Provider","_yield$loadInjectedWe2","Web3Provider","getLocalWeb3Provider","mode","ethereumNetworkId","_yield$loadInjectedWe3","chainId","getEthereumProviderName","_callee7","_yield$loadInjectedWe4","_context7","getMetamaskEthereum","_callee8","_yield$loadInjectedWe5","_context8","isEthAddressERC20","_yield$getEthers","contract","_args","isEthAddress","ethers","ERC20TokenABI","totalSupply","balanceOf","AddressZero","allowance","isConnectionLost","eth","race","setTimeout","getBlockNumber","passwordRegex","validPassword","test","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","_ref$quickCheck","quickCheck","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$username","username","ensAddress","resolveName","Looper","_this","syncAction","_ref$loopName","loopName","stopOn","clearLoopTimeout","loopTimeout","clearTimeout","syncData","makeStopCheck","startLoop","checkLoop","onSync","LOOP_TIMEOUT","campaignsLoop","Loop","_syncAction","updateUserCampaigns","accountStatsLoop","updateAccountStats","analyticsLoop","updateAccountAnalytics","analyticsLoopCustom","_syncAction3","advancedAnalyticsLoop","_syncAction4","updateAccountAdvancedAnalytics","logOut","skipRedirect","dimension1","dimension2","resetAccount","statsLoop","resetIdentity","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","handleRequesterErrorRes","res","textObj","_unused","statusText","requester","AdexNodeRequester","baseUrl","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","route","fetch","_ref4$route","_ref4$queryParams","_ref4$method","body","_ref4$headers","headers","_ref4$authSig","userAddr","_ref4$noCache","authToken","noCache","qp","_authType","demo","getQuery","hdrs","Requester","processResponse","json","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","txnsRaw","signatures","channel","Content-Type","regAccount","knowFrom","userSide","moreInfo","bytecode","baseIdentityAddr","salt","privileges","routineAuthorizationsRaw","getQuickWallet","backupWallet","encryptedWallet","getEmail","resendEmail","src","country","genders","Genders","gender","tags","PredefinedTags","tag","custom","DAY","MAX_CAMPAIGN_WITHDRAW_START_DAYS","MAX_CAMPAIGN_WITHDRAW_START","IdentityPrivilegeLevel","bondPerActionToUserInputPerMileValue","campaignPut","schemas","isNumberString","validateAddress","validate","_yield$validEthAddres","isValid","updateValidationErrors","resetValidationErrors","_ref3$err","fields","_ref3$dirty","_ref3$removeAll","removeAll","handleAfterValidation","onValid","onInvalid","validateEmailCheck","emailCheck","validatePassword","validatePasswordCheck","passwordCheck","_x11","validateTOS","_x12","_x13","validateENS","_x14","validateWallet","_callee9","_context9","_x15","_x16","validateIdentityContractOwner","identityContractOwner","_callee10","_context10","_x17","_x18","validateKnowFrom","_callee11","_context11","_x19","_x20","validateUserSide","_callee12","_context12","_x21","_x22","validateMoreInfo","_callee13","_context13","_x23","_x24","validateAccessWarning","_callee14","_context14","_x25","_x26","validateCampaignUnits","_callee15","_context15","_x27","_x28","validateCampaignValidators","_ref22","_callee16","_context16","feeNum","feeDen","feeAddr","_x29","_x30","validateFees","feesAmountBN","amountToSpendBN","_ref23$errorMsg","errorMsg","_callee17","_selectAccountStatsRa","availableIdentityBalanceMainTokenRaw","_selectAccountStatsFo","availableIdentityBalanceMainTokenFormatted","amountNeeded","_selectMainToken","amountNeededFormatted","_context17","availableIdentityBalanceMainToken","_x31","_x32","validateWithdrawAmount","_ref25","amountToWithdraw","_ref26","_callee18","_context18","parseUnits","_x33","validateNumberString","_ref27","integerOnly","_callee19","_context19","_x34","_x35","validateCampaignAmount","_ref29$pricingBounds","maxDeposit","_callee20","isValidNumberDeposit","isValidNumberMin","isValidNumberMax","checkSpeckBounds","isValidDeposit","isValidMin","isValidMax","msgDeposit","msgMin","msgMax","argsMin","argsMax","argsDeposit","depositBn","minBn","maxBn","_context20","lt","lte","div","_x36","_x37","getCampaignDatesValidation","_ref31$created","errActiveFrom","errWithdrawPeriodStart","validateCampaignDates","_callee21","_getCampaignDatesVali","_context21","_x38","_x39","validateCampaignTitle","_callee22","_context22","Joi","_x40","_x41","validateEthAddress","_ref36$nonZeroAddr","_ref36$nonERC","_callee23","_yield$validEthAddres2","_context23","_x42","_x43","validatePrivilegesAddress","_ref38$setAddr","setAddr","_ref38$walletAddr","walletAddr","privLevel","warningAccepted","_callee24","isCurrentAddress","_context24","_x44","_x45","validatePrivLevel","_callee25","_context25","_x46","_x47","validateSchemaProp","schema","_callee26","_context26","_x48","validateEmail","validateNotExisting","_callee27","existing","_context27","_x49","locationAudienceInputError","publishersAudienceInputError","categoriesAudienceInputError","_ref48$apply","devicesAudienceInputError","validateAudience","propName","_callee28","errArgs","_context28","_x50","isVideoMedia","getMediaSize","mime","video","document","onloadedmetadata","videoWidth","videoHeight","getVideoSize","image","Image","onload","getImageSize","checkExactishAspect","widthTarget","heightTarget","maxPercentTolerance","targetAspect","aspect","aspectDiff","validateMediaSize","exact","required","tempUrl","mediaWidth","mediaHeight","dontThrow","getSession","signature","typedData","signerAddress","checkSession","skipErrToast","convertItemToJSON","itemToConvert","getAdUnits","postAdUnit","updateAdUnit","getAdSlots","postAdSlot","slot","updateAdSlot","closeCampaignMarket","getCampaigns","statuses","byEarner","byCreator","cacheBrake","statusOnly","updateCampaign","verifyWebsite","websiteUrl","getUserAudiences","putAudience","audience","postAudience","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","URL","revokeObjectURL","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","getAllItems","onDataUpdated","_yield$Promise$all","_yield$Promise$all2","resAudiences","resUnits","resSlots","userSlots","userPassbackUnits","slotsWithUnits","slotWithUnitsRes","passbackUnits","passbacks","targetUrl","fallbackUnit","updateItems","updateItem","_ref5$action","_ref5$goToTableOnSucc","onSuccess","goToTableOnSuccess","updatedItem","path","marketUpdate","t1","findSourceByTag","cloneItem","response","mediaURL","mediaSize","targets","placeholder","getMediaUrlWithProvider","createObjectURL","call","t2","archiveItem","setCurrentItem","updateCurrentItem","newMeta","addNewTag","addSig","sig","expiryTime","_ref$identity","setItem","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getItem","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","getAddsParams","_ref$from","_ref$to","bundle","showOnTrezor","getAddresses","_ref3$from","_ref3$to","_yield$TrezorConnect$","payload","ethereumGetAddress","signTx","params","txProps","_yield$TrezorConnect$2","txSigned","resolveProperties","hexlify","ethereumSignTransaction","transaction","v","serializeTransaction","sendTransaction","txData","signMessage","_yield$TrezorConnect$3","_args4","ethereumSignMessage","connect","_provider","_path","Signer","loadFromLocalStorage","saveToLocalStorage","serialized","warn","removeFromLocalStorage","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","generateSalt","isLegacyCrypto","getRandomMnemonic","randomEntropy","randomBytes","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","walletData","Wallet","fromMnemonic","phrase","privateKey","encrKey","encryptLegacy","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","encrypted","encrypt","decrData","_decrData","_ref4$email","decryptedStr","decr","decryptLegacy","decrypt","t3","createLocalWallet","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","migrateLegacyWallet","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getLocalWallet","getEncrypted","removeLegacyKey","_removeLegacyKey","_ref7$email","_ref7$password","addDataToWallet","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","dataKey","_ref8$dataValue","dataValue","getRecoveryWalletData","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","props","walletInfo","mail","getAllWallets","isWallet","getWalletHash","_getWalletHash","passwordId","dataStr","keccak256","LocalSigner","getWallet","_this$_opts","_wallet","_opts","signetTx","_args5","arrayify","MetaMaskSigner","_signer","_args3","getSigner","_getSigner","signer","_signer2","getTypedDataHash","entry","toUtf8Bytes","valuesHash","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","MAX_SAFE_INTEGER","_signTx","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","_iterator","_step","createForOfIteratorHelper","done","f","finish","getValidatorRequester","getRequesters","leader","follower","validator","getValidatorAuthToken","validatorId","existingAuth","validatorAuthTokens","era","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","results","authTokens","lastApprovedState","closeCampaign","events","updateTargeting","targetingRules","identityAnalytics","leaderAuth","segmentByChannel","weekHoursSpan","aggregates","timezone","getCurrentTimezone","identityAdvancedAnalytics","timeBasedAnalytics","privilegesNames","valueToKey","tokenAvailableBalance","balance","feeToken","mul","getTotalAccountRevenue","withdrawTokens","revenuePr","balanceMainToken","tokenInMainTokenValue","getWithdrawTokensBalances","getFullBalances","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","tokenContract","available","balanceData","getAddressBalances","_getAddressBalances","_yield$getEthers2","calls","getBalance","serializedPath","balanceEth","formatEther","tokensBalances","getAccountStats","_getAccountStats","_ref10$outstandingBal","outstandingBalanceMainToken","_ref10$outstandingBal2","outstandingBalanceAllMainToken","_yield$getEthers3","_identity$status","identityContract","privilegesAction","_yield$Promise$all2$","identityWithdrawTokensBalancesBalances","walletPrivileges","deployed","catch","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","totalOutstandingBalanceAllMainToken","availableIdentityBalanceAllMainToken","totalIdentityBalanceAllMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_getOutstandingBalance","withBalance","bigZero","allOutstanding","amounts","ch","outstanding","outstandingAvailable","getAllValidatorsAuthForIdentity","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","_objectSpread2","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_tokenInMainTokenValue","_selectMainToken2","valueInMainToken","Interface","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","getIdentityDeployData","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","outpace","validUntil","feeTokenAddr","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","withdrawFromIdentity","_withdrawFromIdentity","withdrawTo","getFeesOnly","tokenAddr","toWithdraw","withdrawTx","txnsByFeeToken","fees","mtBalance","maxWithdraw","actualWithdrawAmount","encodeFunctionData","getIdentityTxnsWithNoncesAndFees","amountInMainTokenNeeded","executeAction","getIdentityTxnsTotalFees","totalBN","sub","toGet","breakdownFormatted","processExecuteByFeeTokens","setIdentityPrivilege","_setIdentityPrivilege","identityInterface","tx1","_yield$getIdentityTxn","txnsByTokenWithSaiToDaiSwap","daiAddr","_txns$reduce","withdrawAmountByToken","saiWithdrawAmount","addIdentityENS","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","_yield$getIdentityTxn2","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$executeAction","_ref6$txns","saiToken","mainTokenWithFees","isDeployed","initialNonce","baseFee","mainTxnsFees","feesForMainTxns","totalAmountInMainTokenNeeded","_yield$getSweepingTxn","_yield$getSweepingTxn2","sweepTxns","_yield$getSweepingTxn3","swapAmountsByToken","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","nonce","toNumber","executeBaseFee","minRecommended","minDeploy","getSweepingTxnsIfNeeded","t4","swapSaiToDaiTxns","swapAmount","t5","t6","txnsWithFeeRecipient","withFeeRecipient","_tx$routinesSweepTxCo","routinesSweepTxCount","_tx$extraTxFeesCount","extraTxFeesCount","isSweepTx","isDeployTx","txFeeAmount","addBaseFee","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","feesBreakdown","txWithNonce","feeCollectorAddr","_txns$reduce2","getApproveTxns","_getApproveTxns","approveForAddress","approveAmount","approveTxns","swapTx","_getIdentityTxnsTotalFees","_ref11$mainToken","_Object$values$reduce","byToken","totalBreakdown","byTokenFormatted","byFeeToken","txnsCount","sweepTxnsCount","sweepTxnsFeeAmount","deployFee","_feeTokenWhitelist$ke","fee","feeFormatted","txnsFee","_processExecuteByFeeTokens","_ref12$extraData","txnsRawWithFeeAmount","withdrawOtherTokensFromIdentity","_withdrawOtherTokensFromIdentity","tokenAddress","tokenDecimals","_selectRelayerConfig4","_yield$getEthers4","userInputPricingBoundsPerMileToRulesValue","Core","IdentityInterface","IdentityABI","VALID_UNTIL_FROM_CREATION","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","GLOBAL_MIN_CPM","GLOBAL_MAX_CPM","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","crypto","createHash","update","digest","Channel","creator","tokenAmount","getReadyCampaign","newCampaign","input","_ref$divider","userInputToTokenValue","eventSubmission","allow","uids","rateLimit","getWithdrawnPerUserOutstanding","withdrawnPerUser","functions","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","withOutstandingBalanceAll","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_channel$status","bTree","BalanceTree","balanceNum","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref5$withBalance","_withBalance$sort$red","eligible","c1","c2","sum","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","routineOpts","RoutineOps","channelWithdraw","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","getSwapAmountsByToken","swaps","swapsSumInMainToken","swapsByToken","_getSweepingTxnsIfNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","channelOpenTx","maxAvailable","maxAvailableFormatted","storeCampaign","feesFormatted","closeChannel","_closeChannel","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","VALIDATOR_LEADER_ID","analyticsParams","callsParams","analyticsCampaignsParams","aggrByChannelsSegments","_aggr$sort$reduce","aggregations","channelId","currentAggr","currentChannelValue","currentTimeValue","updateAccountAnalyticsThrottled","feeTokens","accountChanged","timeframeIsLive","allAnalytics","updateAnalyticsLastChecked","updateValidatorAuthTokens","newAuth","_selectStatsChartData","aggrByChannelSegments","isAccountChanged","leading","trailing","getReceiptData","presentMonths","monthsWanted","monthsNeeded","promises","startDateNeeded","endDateNeeded","resolvedPromises","getMonthTimeStamp","updateSlotsDemand","demandAnalytics","updateTargetingData","_yield$getTargetingDa","updateSlotsDemandThrottled","updateTargetingDataThrottled","updateSignin","resetSignin","createAccount","acc","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","hasAuth","accountCheck","_yield$getChannelsWit","_yield$getAccountStat","updateAccountIdentityData","updatedIdentity","isLimitedVolume","newTokens","createSession","_ref6$identity","deleteLegacyKey","sessionSignature","_yield$getAuthSig","_yield$getSession","leaderValidatorAuth","redirectSide","persistUserSide","goTo","getRelayerConfig","isMetamaskMatters","doesItMatter","onMetamaskNetworkChange","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","metamaskAccountCheck","selectedAddress","metamaskNetworkCheck","metamaskChecks","on","hasBackup","_yield$getQuickWallet","makeBackup","walletSalt","walletHash","ensureQuickWalletBackup","_selectWallet","isLocal","loadAccountData","stopAccountDataUpdate","resendConfirmationEmail","beforeWeb3","updateIdentity","initIdentity","updateWallet","resetWallet","onUploadLocalWallet","event","file","reader","onError","files","FileReader","ev","onerror","abort","onabort","readAsText","updateOwnerIdentities","identityData","ens","lookupAddress","login","_selectIdentity","identityTxData","registerAccount","validateQuickLogin","actualAuthType","identityPrivileges","validateStandardLogin","identityContractAddress","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","validateQuickDeploy","_identityAddr","validateQuickInfo","tosCheck","validateFullInfo","accessWarningCheck","validateContractOwner","updateIdentityWallet","hdWalletAddrPath","hdWalletAddrIdx","handleSignupLink","resolveEnsAddress","checkAuthMetamask","metamaskSigner","connectTrezor","trezorSigner","_yield$trezorSigner$g","allAddressesData","addrData","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","getGasPrice","gasPrice","updateNewTransaction","resetNewTransaction","checkNetworkCongestion","showToast","gasPriceCapGwei","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","handleFeesData","stepsId","actionName","feeDataAction","feesData","validatePrivilegesChange","txId","_selectNewTransaction","inputValidations","validation","updateIdentityPrivilege","validateIdentityWithdraw","_selectNewTransaction2","validateIdentityWithdrawAny","_selectNewTransaction3","identityWithdrawAny","identityWithdraw","validateENSChange","_selectNewTransaction4","setIdentityENS","completeTx","competeAction","NEW_CAMPAIGN_UNITS","updateNewItem","resetNewItem","updateNewItemAction","Models","itemClassByName","updateNewSlot","updateNewUnit","updateNewCampaign","updateNewAudience","updateNewWebsite","updateNewItemTarget","_ref8$target","remove","_newValues","_selectNewItemByTypeA","hasIndex","filtered","isInteger","splice","updateTargetRuleInput","_ref10$target","isAudience","newInputs","completeItem","audiencePost","audiencePut","updateAudienceInput","updateField","validateAndUpdateAudience","onUpdateSuccess","updatedAudience","mapCurrentToNewAudience","dirtyProps","saveAudience","newAudience","resItem","marketAdd","validateAudienceBasics","validateAudienceInput","_selectNewAudience","_selectNewAudience$in","addUrlUtmTracking","content","protocol","host","audienceInputToTargetingRules","getSuggestedPricingBounds","updateCampaignOnMarket","toastLabel","toastArgs","toastType","updatedCampaign","updateAllData","selectedCampaign","_yield$openChannel","updateCampaignState","getHumanFriendlyName","isPaused","onlyShowIf","updateCampaignAudienceInput","fieldName","mapCurrentToNewCampaignAudienceInput","initialAudienceInput","itemAudienceInput","_ref10$updateAllData","_selectAccount","stateCampaigns","_yield$closeChannel","pauseOrResumeCampaign","currentTargetingRules","newRules","_yield$updateTargetin","shift","unshift","excludeOrIncludeWebsites","hostnames","exclude","newAudienceInput","_newAudienceInput$inp","_inputs$publishers","newIn","_newIn","newNin","_newNin","_newNin2","rulesPricingBounds","_yield$updateTargetin2","tempValidators","validateNewCampaignAdUnits","validateCampaignAudienceInput","_selectNewCampaign","_selectNewCampaign$au","suggestedPricingBounds","validateNewCampaignFinance","_selectMainToken3","_campaign$temp","maxChannelFees","_yield$openChannel2","newTemp","maxDepositFormatted","getCampaignActualFees","_campaign$temp2","_yield$openChannel3","totalSpend","totalSpendFormatted","handlePrintSelectedReceiptsAdvertiser","validateAndUpdateCampaign","itemPlain","_selectRoutineWithdra","isMinUpdated","isMaxUpdated","isAudienceUpdated","depositAmountInputString","pricingBoundsCPMUserInputString","pricingBoundsImpressionBnString","_selectMainToken4","_decimals","_yield$updateTargetin3","numStringCPMtoImpression","numStr","getWidAndHightFromType","ItemsConstants","ItemsTypes","AdTypesByValue","AdSizesByValue","sizes","ipfsSrc","Regexes","ipfsRegex","getImgObjectUrlFromExternalUrl","imgUrl","objectUrl","adSlotPost","adUnitPost","adSlotPut","slotRulesInputToTargetingRules","_process$env","VALIDATOR_FOLLOWER_FEE_NUM","VALIDATOR_FOLLOWER_FEE_DEN","getRuleMinCPMWithValidatorFeeAdded","cpmInput","getFallbackUnit","description","imageIpfs","resUnit","passback","validateNewSlotBasics","_slot$minPerImpressio","_ref4$inputs","suggestedMinCPM","rulesCPMWithValidatorFee","validateNewSlotPassback","_selectNewItemByTypeA2","useFallback","_getWidAndHightFromTy","saveSlot","updateWebsiteVerification","_yield$verifyWebsite","mapCurrentToNewPassback","isDirty","updateSlotPasback","updateMultipleFields","onValidProp","_selectNewItemByTypeA3","validateAndUpdateSlot","slotRulesInput","newSlot","updateMinPerImpression","updateRules","minCPM","rulesCPM","isPassbackUpdated","fallbackData","newUnit","finalValidations","updatedSlot","validateAndSaveNewWebsiteBasics","adUnitPut","validateNewUnitBasics","_selectNewAdUnit","validateNewUnitMedia","_selectNewAdUnit2","_selectNewAdUnit2$tem","saveUnit","validateAndUpdateUnit","updatedUnit","uiActions","validationActions","mediaValidations","itemActions","accountActions","identityActions","bidActions","transactionActions","analyticsActions","newItemsActions","audienceActions","campaignActions","slotActions","unitActions","typeToSeverity","accept","cancel","Toast","_useState","useState","_useState2","setActive","_useState3","_useState4","setToast","useSelector","useEffect","nextToast","vertical","horizontal","close","Snackbar","autoHideDuration","onClose","Alert","severity","react","IconButton","aria-label","Close","Confirm","setOpen","_useSelector","_useSelector$data","_useSelector$data$tit","_useSelector$data$tex","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","withReactRouterLink","Component","Decorated","_React$Component","_len","_key","resolveToLocation","createHref","handleClick","_this$props","preventDefault","stopPropagation","_this$props2","forwardedRef","staticContext","toLocation","ref","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","Icon","SvgIcon","pure","muiName","d","sideIndex","0","handleChange","useTabsStyles","indicator","useTabStyles","activeColor","minWidth","&$selected","SideSwitch","tabsClasses","tabClasses","Box","bgcolor","Divider","Tabs","onChange","textColor","Tab","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","imgLoading","left","position","circular","fullscreenIcon","right","cursor","minHeight","dialog","@media(max-width:744px)","@media(max-height:823px)","dialogImageParent","@media(max-width:1080px)","maxHeight","margin","paddingLeft","paddingRight","dialogImage","img","objectFit","wrapper","cellImg","Media","fallbackSrc","allowVideo","alt","allowFullscreen","classNameImg","fullScreenOnClick","isCellImg","controls","loadTimeout","useRef","displayImage","displayVideo","isVideo","setMedia","handleToggle","clearLoadTimeout","clearEvents","onFail","useCallback","fallback","VIDEO_IMAGE","NO_IMAGE","mediaSrc","renderMedia","onclick","imgClasses","videoClasses","autoPlay","muted","loop","onDragStart","renderFullscreenDialog","classnames","Fab","Fullscreen_default","RRListItem","ListItem","RRAdexIconTxt","common_media","AdexIconTxt","RRAdexIconTxtDark","AdexIconTxtDark","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","sntPadding","paddingTop","navListRoot","flexDirection","justifyContent","navList","bottom","overflowY","overflowX","sideNavToolbar","borderTopWidth","borderTopColor","borderTopStyle","&:focus","& .MuiListItemIcon-root","adxLink","sideSwitch","marginBottom","SideNav","useTheme","routerLocation","AdxIcon","flexGrow","spinners_LoadingSection","Typography","button","dashboard_SideSwitch","List","ListItemIcon","Dashboard_default","ListItemText","List_default","Fragment","CampaignIcon","Group_default","WebSharp_default","Receipt","MonetizationOn_default","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","marginRight","ButtonMenu","btnStyle","rightIcon","leftIconSrc","anchorEl","setAnchorEl","handleClose","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-haspopup","aria-controls","overflow","textOverflow","Menu","Boolean","getContentAnchorEl","transformOrigin","Children","child","Translate","getAuthLogo","metamaskLogo","trezorLogo","demoLogo","THEMES","MultiThemeContext","createContext","MultiThemeProvider","themeType","setThemeType","setTheme","lastTheme","contextValue","switchTheme","Provider","ThemeProvider","ThemeSwitch","_useContext","useContext","Brightness7Sharp","Brightness6Sharp","styles","_drawerPaper","_content","marginTop","up","flexRow","flexBasis","paddingBottom","&:last-child","toolbarControls","toolbarTitle","flexFlow","drawerPaper","contentInner","breadcrumbElement","RRMenuItem","MenuItem","RRLink","handleDrawerToggle","imgSrc","breadcrumbs","btnMenuLabel","AppBar","Toolbar","Hidden","mdUp","pl","Menu_default","smDown","Breadcrumbs","noWrap","pr","react_jazzicon_lib_default","diameter","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","ExitToApp_default","generalTableOptions","rowsPerPageOptions","setTableProps","align","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","deleteAria","customFilterDialogFooter","_currentFilterList","applyNewFilters","downloadOptions","filterOptions","useDisplayedColumnsOnly","useDisplayedRowsOnly","progress","MUIDataTableEnhanced","columns","handleRowSelectionChange","columnOrder","rowsSelected","columnsWithFilters","col","mui_datatables_dist_default","elevation","confirmFilters","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","selectToolbarPlacement","toolbarEnabled","responsive","onTableChange","newTableState","onFilterConfirm","onFilterChipClose","onRowSelectionChange","_currentRowsSelected","allRowsSelected","selectedIndexes","row","dataIndex","selectedItemsIds","onViewColumnsChange","changedColumn","_tableState$viewColum","newVewColumns","IconTooltip","Tooltip","xs","md","ls","mapStatusIcons","_status$name","_status$humanFriendly","Wait","tableHelpers_IconTooltip","HourglassFullSharp","Done","DoneAllSharp","Warning","WarningSharp","Cash","MonetizationOnSharp","Pause","PauseSharp","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","steps","precision","getSliderStep","filterType","customFilterListOptions","render","filterPos","logic","rowNumber","filters","formated","gutterBottom","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","buttonProgress","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","startIcon","Print","RRIconButton","RRMedia","getCols","customBodyRender","InfoReadyNoImpressions","interactive","HelpSharp","mapHelpTooltips","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","customToolbarSelect","displayData","_setSelectedRows","CampaignsTable","campaignsLoaded","setOptions","_useTableData","Tables_MUIDataTableEnhanced","errColor","errChip","& svg","DirtyErrors","_ref$chipsProps","chipsProps","_ref$boxProps","boxProps","dirtyErrors","dirtyErrs","field","getDirtyValidationErrors","Chip","esm_Error","buttonSuccess","fabProgress","zIndex","@keyframes pulse","0%","opacity","transform","50%","100%","pulse","&::before","transition","animation","SaveBtn","_ref$dirtyProps","save","isDisabled","Check","Save","card","mediaRoot","basicInfo","flexWrap","buttonRight","buttonLeft","textField","changesLine","changeChip","editIcon","mediaPropChip","changeControls","changeControlsPaper","itemTabsBar","itemTabsContainer","borderTop","DirtyProps","returnPropToInitialState","react_router","when","Info","onDelete","deleteIcon","UndoOutlined","ChangeControls","hookProps","Collapse","itemCommonNew_DirtyProps","SaveBtn_SaveBtn","dirtyErrors_DirtyErrors","mt","ItemTabsContainer","noBackground","Paper","ItemTabsBar","ItemSpecProp","_ref4$value","helperText","InputProps","TextField","readOnly","ItemTitle","errTitle","setActiveFields","_ref5$activeFields","activeFields","showError","errMsgArgs","endAdornment","InputAdornment","Edit","ItemDescription","errDescription","_ref6$activeFields","multiline","rows","ItemAdType","OpenInNewIconBtn","IconButtonWithRef","itemCommonNew_OpenInNewIconBtn","ItemTargetURL","_ref9$targetUrl","ItemFallbackMediaURL","_ref10$targetUrl","MediaCard","_ref11$mediaUrl","_ref11$mediaMime","_ref11$label","Card","raised","CardMedia","ItemWebsite","_ref12$item","_ref12$initialItemSta","initialItemState","_ref12$activeFields","dangerouslySetInnerHTML","__html","ArchiveItemBtn","_ref13$itemType","isIconBtn","labelArgs","ArchiveSharp","useItem","validateAndUpdateFn","seItemPlain","_useState5","_useState6","setInitialItemState","_useState7","_useState8","setFields","_useState9","_useState10","setDirtyProps","_useState11","_useState12","setValidateId","_useState13","_useState14","validateAfterReset","setValidateAfterReset","storeItem","dirtyIndex","findIndex","newDirtyProps","dpValue","dp","dirtyFields","&$active","stepperWrapper","pagePaper","textAlign","@media(max-width:475px)","mobileStepper","buttonProgressWrapper","StepperNav","currentPage","innerWidth","MobileStepper","activeStep","Stepper","alternativeLabel","Step","StepLabel","MaterialStepper","_props$initialPage","initialPage","_props$steps","closeDialog","setCurrentPage","isBack","setIsBack","canReverse","pageProps","Comp","validationFn","completeFn","_page$completeBtnTitl","completeBtnTitle","_page$nextBtnTitle","nextBtnTitle","validationSpinner","stepsSpinner","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","handleComplete","onKeyPressed","onKeyPress","mb","stepperNav","MaterialUiStepper_StepperNav","cancelFunction","FormSteps","stepperSteps","setSteps","_useSelector$step","updatedSteps","MaterialUiStepper","dialogTitle","wordWrap","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","textTransform","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","withStyles","Transition","Slide","eventMap","NEW_UNIT","NEW_CAMPAIGN","NEW_AUDIENCE","NEW_CAMPAIGN_FROM_AUDIENCE","NEW_SLOT","NEW_WEBSITE","ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN","WithDialogHoc","WithDialog","_props$disableBackdro","disableBackdropClick","iconButton","textButton","fabButton","btnLabelArgs","mini","btnLabel","dialogActions","onBeforeOpen","btnProps","locationWithDash","eventMapFound","ButtonComponent","btnLabelTranslated","second","disableAutoFocus","disableEnforceFocus","TransitionComponent","disableTypography","Cancel_default","formControl","groupHeader","menuItem","select","ExtraLabel","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","_props$fullWidth","noSrcLabel","IconComponent","FormControl","InputLabel","htmlFor","Select","selectMenu","ListSubheader","Dropdown_ExtraLabel","InfoSharp","FormHelperText","spinners_InputLoading","AdUnitBasic","typesSources","_useSelector2","errTargetUrl","errType","Grid","container","dropdown_Dropdown","getCroppedImgUrl","crop","fileName","canvas","scaleX","naturalWidth","scaleY","naturalHeight","sourceWidth","sourceHeight","getContext","drawImage","y","finalCanvas","bl","bctx","blur","toBlob","PropBaseComponent","inputRef","OutlinedPropView","py","shrink","disableAnimation","OutlinedInput","notched","inputComponent","inputProps","CanvaButton","saveFileObjectToState","canvaApi","setCanvaApi","script","Canva","DesignButton","apiKey","api","appendChild","initCanva","createDesign","design","dimensions","onDesignOpen","designId","onDesignPublish","_onDesignPublish","exportUrl","File","onDesignClose","dropzone","isDragActive","isDragAccept","isDragReject","cropzone","imgDropzonePreview","dropzoneBtn","uploadActions","MediaForm","additionalInfo","propsMime","_useDropzone","useDropzone","maxSize","maxFiles","multiple","noDragEventsBubbling","acceptedFiles","fileRejections","getRootProps","getInputProps","imgRef","setImgRef","setCrop","cropMode","setCropMode","mediaName","setMediaName","setMime","setMediaSrc","isVideoSrc","setIsVideoSrc","onLoad","clearMedia","saveCropped","croppedBlob","common_OutlinedPropView_OutlinedPropView","alignContent","sm","ReactCrop_min_default","imageStyle","onImageLoaded","Clear","mdDown","MediaForm_CanvaButton","CloudUpload","Crop","AlertTitle","AdUnitMedia","errImg","MediaForm_MediaForm","mediaProps","PropRow","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","imgPreview","imgPreviewWrapper","AdUnitPreview","content_PropRow","CampaignUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedUnits","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange","iconColor","onIconClick","onLiveClick","onNextClick","NavigateNextRounded","Update","DateTimePicker","calendarIcon","onBackClick","_ref2$InputProps","roundHour","DateTimePicker_CalendarIconAdor","startAdornment","NavigateBeforeRounded","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","_ref3$InputProps","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","getTotalImpressions","dep","minBound","maxBound","CampaignFinance","invalidFields","_temp$suggestedPricin","errDepAmnt","errMin","errMax","errFrom","errTo","updatePricingBoundsImpression","inputValue","newPricingBounds","impression","itemCommonNew_ItemSpecProp","common_DateTimePicker_DateTimePicker","emptyLabel","inputVariant","disablePast","FormGroup","FormControlLabel","control","Checkbox","checked","NewItems_CampaignTargetingRules","WalletAction","FeesBreakdown","_ref2$breakdownFormat","Accordion","square","AccordionSummary","expandIcon","ExpandMoreSharp","justify","dominantBaseline","disablePadding","dense","subheader","AudiencePreview","_ref$audienceInput","_audienceInput$locati","subHeader","_audienceInput$catego","_audienceInput$publis","_audienceInput$device","CampaignFormPreview","feesSpinner","openingSpinner","networkCongested","setNetworkCongested","_useSelector$targetin","_useSelector$audience","_useSelector$temp","_ref$IMPRESSION","_audienceInput$inputs","_checkNetwork","checkNetwork","FormsCommon_WalletAction","FormsCommon_FeesBreakdown","includeIncentivized","disableFrequencyCapping","limitDailyAverageSpending","containers_AudiencePreview_AudiencePreview","StatusIcon","CheckSharp","ErrorSharp","createFilterOptions","AutocompleteWithCreate","initialValue","changeOnInputUpdate","setValue","Autocomplete","onInputChange","selectOnFocus","getLimitTagsText","more","limitTags","groupBy","option","getOptionLabel","renderOption","freeSolo","renderInput","errorText","onInit","hideSelectedOnDisable","disableCloseOnSelect","_ref2$disabledSrcValu","disabledSrcValues","enableCreate","srcValue","getOptionDisabled","getOptionSelected","opt","Autocomplete_ExtraLabel","renderTags","getCustomizedTagProps","AdSlotBasic","websitesSrc","adTypesSource","_newItem$title","_newItem$description","_newItem$website","_newItem$type","_rulesInput$inputs","allowAdultContent","errWebsite","Autocomplete_AutocompleteWithCreate","AdSlotMedia","_temp$useFallback","errFallbackUrl","Switch","AudienceBasic","slider","markLabel","parameterIcon","PublicSharp","LocalOfferSharp","WebAssetSharp","os","ComputerSharp","browsers","esm_WebSharp","DevicesOtherSharp","MoreHorizSharp","Sources","_ref$source","_ref$target","actionType","currentApply","getApply","autocomplete_Autocomplete","openOnClick","_objectSpread3","getMultipleActionsUsedValues","currentAction","Targets","_ref3$source","_ref3$extraInfo","_ref3$message","_ref3$target","applyValue","pb","RadioGroup","_clsx","Radio","NewTargetingRules_Sources","_clsx3","NewTargetingRules","tabIndex","setTabIndex","scrollButtons","indicatorColor","NewTargetingRules_Targets","getIssue","issue","issueChip","copyBtn","RenderIssue","ALL_ISSUES","SLOT_ISSUE_BLACKLISTED","LooksOneSharp","shortLabel","SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED","LooksTwoSharp","SLOT_ISSUE_SOMEONE_ELSE_VERIFIED","Looks3Sharp","WebsiteVerifyBtn","lastUpdated","canUpdate","my","RefreshSharp","WebsiteIssues","asKeyWords","tryAgainBtn","site","defaultIssues","WebsiteIssues_WebsiteVerifyBtn","_getIssue","WebsiteIssuesLegend","WebsiteDSNRecord","dnsRecord","subtitle","copy","FileCopySharp","SlotFallback","AdSlotPreview","typeDemand","_temp$categories","hasIssues","showDnsRecord","AdSlotPreview_SlotFallback","WebsitePreview","CampaignTargetingRules","items_NewTargetingRules","AudienceRules","NewUnitStepsWithDialog","stepper_FormSteps","validateIdBase","AdUnitFormPreview","imgLabel","noDefaultImg","itemModel","NewUnitDialog","copyProps","darkerBackground","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","imgAdditionalInfo","NewCampaignDialog","NewCampaignFromAudience","NewSlotStepsWithDialog","descriptionHelperTxt","NewSlotDialog","NewAudienceWithDialog","skipRules","NewAudiencePreview","NewAudienceDialog","NewWebsiteWithDialog","WebsiteBasic","NewWebsiteDialog","RRIMedia","ImgComponent","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","itemCommonNew_ArchiveItemBtn","AdUnitsTable","setSelectorArgs","AdSlotsTable_RRMedia","AdSlotsTable_RRIconButton","AdSlotsTable","RRTypography","setCellProps","setCellHeaderProps","AudiencesTable_RRIconButton","VisibilitySharp","NewItems_NewCampaignFromAudience","AudiencesTable","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","tooltips","cornerRadius","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","callbacks","datasetIndex","tableMeta","rowData","IncludeOrExcludeWebsitesBtn","_ref2$hostnames","endIcon","WebsitesActions","_ref3$hostnames","lg","CampaignStatsBreakdownTable_IncludeOrExcludeWebsitesBtn","BlockSharp","setSelectedRows","actionData","CampaignStatsBreakdownTable_WebsitesActions","CampaignStatsBreakdownTable","isActive","canSendMsgs","allowActions","dottedDivider","solidDevider","breakdownTable","breakAll","pageBreak","pageBreakAfter","a4","PublisherReceiptTpl","monthBreakdown","_useSelector3","companyName","firstLastName","toHexString","isFinite","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","RRButton","G404","PageNotFound","goToTxt","goToPath","skipGoToButton","PageNotFound_G404","IMG_404_1","IMG_404_2","CampaignReceiptTpl","campaignBreakdown","page_not_found_PageNotFound","CompanyDetails","invoice","useParams","selectedCampaigns","selectedByPropsOrParams","receiptsAdvertiser","setStartDate","setEndDate","setDirty","dates","validateStartDate","validateEndDate","startDateError","endDateError","monthMappingStartPeriod","setDate","monthMappingEndPeriod","fetchingPublisherReceiptsSpinner","setReceipts","Receipt_CompanyDetails","react_to_print_lib_default","pageStyle","trigger","DateRangeSharp","GetApp","showEarnings","StatsByCountryTable","noViewColumns","MapChart","chartId","setContent","index_umd","data-tip","projection","projectionConfig","scale","maxZoom","geography","_ref2$geographies","geographies","geo","_geo$properties","rsmKey","onMouseEnter","onMouseLeave","fill","stroke","outline","pressed","index_es","TargetingRulesEdit","stepTitle","EditCPM","actionValue","valuePerAction","updatedValue","_ref2$activeFields","CampaignBasic","_ref4$advanced","displayStatus","pauseAction","campaignPricingBounds","cpmMin","cpmMax","closeSpinner","pauseSpinner","itemCommonNew_MediaCard","_getCloseCampaignsFee","deposit","totalFees","feesPercent","nonDistributedFunds","feesToPay","percent","toPay","nonDistributed","getCloseCampaignsFees","StopSharp","StarSharp","itemCommonNew_ItemTitle","CampaignEdits_EditCPM","& > *","CampaignAudience","NewItems_NewAudienceDialog","commonDsProps","lineTension","pointRadius","pointHitRadius","FONT","DefaultLabel","SimpleStatistics","data1","data2","data3","data4","_ref2$data1Active","data1Active","_ref2$data2Active","data2Active","_ref2$data3Active","data3Active","_ref2$data4Active","data4Active","dataSynced","_ref2$defaultLabels","defaultLabels","_ref2$options","_ref2$xLabel","xLabel","_ref2$y1Label","y1Label","_ref2$y2Label","y2Label","_ref2$y3Label","y3Label","_ref2$y4Label","y4Label","_ref2$y1Color","y1Color","_ref2$y2Color","y2Color","_ref2$y3Color","y3Color","_ref2$y4Color","y4Color","windowSize","hasWindow","getWindowSize","innerHeight","setWindowSize","onResize","addEventListener","removeEventListener","useWindowSize","chartHeight","Chart","pluginService","register","beforeDraw","chart","ctx","_active","controller","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","restore","yAxisID","hidden","pointBackgroundColor","linesOptions","layout","maintainAspectRatio","intersect","titleFontSize","bodyFontSize","bodyFontFamily","titleFontFamily","xPadding","yPadding","bodySpacing","caretSize","displayColors","yLabel","xAxes","gridLines","drawBorder","drawTicks","scaleLabel","labelString","ticks","autoSkip","maxTicksLimit","maxRotation","callback","yAxes","beginAtZero","stepSize","px","simplified_DefaultLabel","useStylesArrow","popper","&[x-placement*=\"bottom\"] $arrow","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","borderStyle","ArrowTooltip","_useStylesArrow","_React$useState","_React$useState2","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","visibilityIcon","StatsCard","explain","dataVisible","VIcon","VisibilityOff","dayWrapper","customDayHighlight","nonCurrentMonthDay","highlightNonCurrentMonthDay","highlight","firstHighlight","extend","borderTopLeftRadius","borderBottomLeftRadius","endHighlight","borderTopRightRadius","borderBottomRightRadius","dayDisabled","pointerEvents","DatePicker","_Component","_this$props$InputProp","esm_DatePicker","DatePicker_CalendarIconAdor","dayIsFuture","DatePicker_DatePicker","PeriodDatePicker","renderDay","selectedDate","dayInCurrentMonth","_clsx2","dateClone","selectedDateClone","dayIsBetween","isWithinInterval","isFirstDay","isSameDay","isLastDay","wrapperClassName","dayClassName","shouldDisableDate","views","useKeyPress","targetKey","keyPressed","setKeyPressed","downHandler","upHandler","timeoutMap","timeFrames","tf","getMetrics","getDefaultLabels","DatePickerSwitch","_ref2$period","labelFunc","minutesStep","infoStatsContainer","dashboardCardBody","cardIcon","datePicker","BasicStats","SPACE","ARROW_LEFT","ARROW_RIGHT","isAuth","uiSide","setLoop","metrics","setMetrics","setData1Active","setData2Active","setData3Active","setData4Active","goNext","goPrev","goLive","showTooltip","BasicStats_DatePickerSwitch","disableFuture","maxDateMessage","minDateMessage","strictCompareDates","DashboardStats_StatsCard","Mouse","esm_MonetizationOn","Equalizer","simplified_SimpleStatistics","CampaignStatsByTimeframe","_useItem","_item$status","itemCommonNew_ItemTabsBar","itemCommonNew_ChangeControls","itemCommonNew_ItemTabsContainer","CampaignBasic_CampaignBasic","CampaignAudience_CampaignAudience","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","map_MapChart","Tables_StatsByCountryTable","CampaignStatsByTimeframe_CampaignStatsByTimeframe","Receipt_Receipt","AdvertiserStats","imgProps","BestEarnersTable","_props$selector","_props$title","dataLoaded","PublisherStats","Tables_BestEarnersTable","Unit","itemCommonNew_ItemDescription","itemCommonNew_ItemAdType","itemCommonNew_ItemTargetURL","PassbackEdit","SlotAdvancedRules","_ref2$item","SlotEdits","SlotBasic","_hookProps$validation","itemCommonNew_ItemFallbackMediaURL","SlotEdits_SlotEdits","SlotEdits_SlotAdvancedRules","itemCommonNew_ItemWebsite","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","integrationCode","alignSelf","IntegrationCode","_ref$slot","isEmailConfirmed","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","iframeStr","onCopy","Slot","SlotBasic_SlotBasic","IntegrationCode_IntegrationCode","_useItem$item","Audience_TargetingRulesEdit","list","inline","Websites","disableSticky","secondaryTypographyProps","ListItemSecondaryAction","WithdrawFromIdentity","syncSpinner","_useSelector4","errAmount","errAddr","errFees","WithdrawAnyTokenFromIdentity","errTokenAddress","errTokenDecimals","PRIV_LEVELS_SRC","SeAddressPrivilege","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPage","errUsername","IdentityWithdrawPreview","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreview","previewWarnMsgs","waitingForWalletAction","_useSelector2$feesDat","_useSelector2$errors","classNameLeft","classNameRight","Error_default","Warning_default","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","WithdrawTokenFromIdentity","saveBtnLabel","SetIdentityPrivilege","WithdrawAnyTokenFromIdentityPage","SetAccountENS","VALIDATOR_LEADER_URL","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","infoLabel","AccountPrivilageItem","currUserPrivileges","canMakeTx","privColors","AccountInfo_AccountItem","VpnKey","Lock","transactions_SetIdentityPrivilege","identityAvailable","AccountInfo","_useSelector$authType","identityEnsName","setExpanded","transactions_SetAccountENS","AccountInfo_RRButton","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","heading","transactions_WithdrawAnyTokenFromIdentity","userSelect","infoGrid","infoTitle","popupCenter","w","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","documentElement","clientWidth","screen","clientHeight","systemZoom","availWidth","newWindow","onramp_process$env","RAMP_HOST_API_KEY","TRANSAK_API_KEY","TRANSAK_ENV","commonGAEventProps","fiatProvidersDetails","accountId","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","hostApiKey","domNodes","overlay","show","openOnRampNetwork","RAMP_LOGO","imgAlt","feeInfo","limitInfo","currencies","rightSideLabel","openPayTrie","PAYTRIE_LOGO","transak","transakSDK","environment","cryptoCurrencyList","defaultCryptoCurrency","disableWalletAddressForm","themeColor","redirectURL","hostURL","widgetHeight","widgetWidth","init","ALL_EVENTS","EVENTS","TRANSAK_ORDER_SUCCESSFUL","orderData","openTransak","TRANSAK_LOGO","cryptoProvidersDetails","CHANGELLY_LOGO","ProviderListItem","disableElevation","Providers","providersDetails","disableGutters","Ramp_ProviderListItem","FiatProviders","Ramp_Providers","CryptoProviders","TopUp","esm_FileCopy","WarningRounded","verticalAlign","Ramp_FiatProviders","Ramp_CryptoProviders","getChangellyIframe","TopUpChangelly","widgetIframeHtml","useColorlibStepIconStyles","completed","star","ColorlibConnector","DEFAULT_SIZE","line","backgroundSize","LINES_WIDTH","StepConnector","ColorlibStepIcon","backgroundImage","CheckCircle","createAdUnitTutorial","fundAccountTutorial","launchFirstCampaign","placeAdSlot","stepsPlace","stepsIntegrate","ResendConfirm","lastEmailResent","lastEmailResentTs","waitInSeconds","ceil","timeLeft","setTimeLeft","intervalId","setInterval","clearInterval","SendSharp","mobile","stepper","instructions","accordion","checkmark","getSteps","getting_started_ResendConfirm","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","GettingStarted","stepsData","isGettingStartedHidden","setActiveStep","sideSteps","currentStep","indexOfFirstIncompleteStep","advertiserStep","publisherStep","esm_ExpandMore","CheckCircleOutline","AccordionDetails","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","Campaigns","NewItems_NewCampaignDialog","Add","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Audiences","Tables_AudiencesTable","NewItems_NewWebsiteDialog","Websites_Websites","Dashboard","mobileOpen","setMobileOpen","showTxPrivLevelWarning","_updateInitialData","updateInitialData","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","dialogPaper","noBg","backdrop","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","confirmLogout","toExecute","AuthSelect_RRButton","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","&:first-child","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AddressSelect","addresses","waitingAction","actionWaitingLabel","selectLabel","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","isOpera","opr","opera","userAgent","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","waitingAddrsData","ethereumProvider","setEth","onfocus","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","AuthTrezor","_useSelector$addresse","waitingTrezorAction","AuthCommon_AddressSelect","TREZOR_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","knowFromSource","userSides","QuickInfo","sessionSpinner","walletMsgs","FulInfo","_identity$wallet","QuickLogin","getIdentitiesForDropdown","FullLogin","ownerIdentities","finalValidationQuick","finalValidationStandard","validateOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ImportantNotifications","_ref$severity","_ref$message","_ref$title","_ref$action","ConnectedCreateQuickIdentity","JustDialog","final","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","ConnectedRoot","LogoDark","Logo","PrivateRoute","other","handleLegacyWallet","showNotification","_initialChecks","initialChecks","Root_PrivateRoute","buildMeta","currentVersion","currentTOS","tosVersion","CacheBuster","cache","latestVersion","latestTOS","Loading","DetectNetworkError","problemDetected","setProblemDetected","testAdBlock","SignalCellularConnectedNoInternet0BarSharp","onBeforeLift","App","onReload","App_MultiThemeProvider","CssBaseline","NetworkErrorDetector","useUtils_cfb96ac9","es","integration_react","connected_react_router_esm","App_Root","toast_Toast","confirm_Confirm","ReactDOM","components_App_App","getElementById","serviceWorker","ready","registration","unregister","getKeyHash","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","iv","cipher","encr","createCipheriv","Buffer","textParts","encryptedText","decipher","decrypted","createDecipheriv","crypted","createCipher","dec","createDecipher","HEADER","base64","encode","alg","__webpack_exports__","payloadEncoded","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module"],"mappings":"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","file":"static/js/main.6817c61e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/wyre.88a9c74f.svg\";","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.fb95f74b.png\";","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\r\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\r\nexport const UPDATE_UI_BY_IDENTITY_AND_SIDE = 'UPDATE_UI_BY_IDENTITY_AND_SIDE'\r\nexport const UPDATE_MEMORY_UI = 'UPDATE_MEMORY_UI'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\r\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\r\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\r\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\r\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\r\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\r\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\r\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\r\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\r\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\r\nexport const UPDATE_ANALYTICS_PERIOD = 'UPDATE_ANALYTICS_PERIOD'\r\nexport const UPDATE_PUBLISHER_RECEIPTS = 'UPDATE_PUBLISHER_RECEIPTS'\r\nexport const RESET_SELECTED_ITEMS = 'RESET_SELECTED_ITEMS'\r\nexport const UPDATE_ANALYTICS_LAST_CHECKED = 'UPDATE_ANALYTICS_LAST_CHECKED'\r\nexport const UPDATE_TARGETING_ANALYTICS = 'UPDATE_TARGETING_ANALYTICS'\r\nexport const UPDATE_TABLE_STATE = 'UPDATE_TABLE_STATE'\r\nexport const RESET_ALL_TABLES_STATE = 'RESET_ALL_TABLES_STATE'\r\nexport const RESET_TABLE_STATE_BY_ID = 'RESET_TABLE_STATE_BY_ID'\r\n","import { AdUnit, AdSlot, Campaign, Account, Audience } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign({\r\n\t\t\taudienceInput: { version: '1', inputs: { devices: { apply: 'allin' } } },\r\n\t\t\ttemp: { useUtmTags: true, useUtmSrcWithPub: true },\r\n\t\t}).plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot({\r\n\t\t\trulesInput: { version: '1', inputs: { autoSetMinCPM: false } },\r\n\t\t}).plainObj(),\r\n\t\tAudience: new Audience({\r\n\t\t\tinputs: { version: '1', devices: { apply: 'allin' } },\r\n\t\t}).plainObj(),\r\n\t\tWebsite: {},\r\n\t},\r\n\tcurrentItem: {},\r\n\tselectedItems: {\r\n\t\tcampaigns: [],\r\n\t\tadUnits: [],\r\n\t\tslots: [],\r\n\t},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t\tWebsite: {},\r\n\t\tAudience: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {\r\n\t\tglobal: {},\r\n\t\tbyIdentity: {},\r\n\t},\r\n\ttablesState: {},\r\n\tuiMemory: {},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttargeting: {\r\n\t\ttargetingData: [],\r\n\t\tminByCategory: {},\r\n\t\tcountryTiersCoefficients: {},\r\n\t},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n\tanalytics: {},\r\n\tchannels: {\r\n\t\twithBalanceAll: {},\r\n\t\twithOutstandingBalance: [],\r\n\t},\r\n\tensAddresses: {},\r\n}\r\n\r\nexport default initialState\r\n","import adexTranslations from 'adex-translations'\r\nimport { removeTags } from 'helpers/sanitizer'\r\nimport { isValidElement, cloneElement } from 'react'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\r\n\tconst parts = tpl.split(pattern)\r\n\r\n\tconst interpolated = parts.map((p, i) => {\r\n\t\tconst element = args[p] || p\r\n\t\tif (isValidElement(element) && !element.key) {\r\n\t\t\tconst withKey = cloneElement(element, { key: i })\r\n\r\n\t\t\treturn withKey\r\n\t\t}\r\n\r\n\t\treturn element\r\n\t})\r\n\r\n\tif (interpolated.every(i => typeof i === 'string' || typeof i === 'number')) {\r\n\t\treturn interpolated.join('')\r\n\t}\r\n\r\n\treturn interpolated\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''], toUpperCase = false } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\tif (toUpperCase) {\r\n\t\tkey = key.toUpperCase()\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = removeTags(translations[language][key] || val)\r\n\r\n\tif (Array.isArray(args)) {\r\n\t\tif (args.length) {\r\n\t\t\tconst translatedArgs = args.map(a => {\r\n\t\t\t\tif (typeof a === 'string') {\r\n\t\t\t\t\treturn translations[language][a] || a\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn a\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\ttranslation = interpolate(translation, translatedArgs)\r\n\t\t} else {\r\n\t\t\ttranslation = translation.replace(/\\${(\\w+)}/, ' ')\r\n\t\t}\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","export const removeTags = dirty => {\r\n\tif (!dirty || typeof dirty !== 'string') return ''\r\n\r\n\treturn (\r\n\t\tdirty\r\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\r\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\r\n\t\t\t// Strip any remaining HTML tags\r\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\r\n\t\t\t// Replace {strong} ... with <strong> ...\r\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\r\n\t)\r\n}\r\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nconst updateCfg = (current, type, cfg) => {\r\n\tconst newCfg = { ...current }\r\n\tnewCfg[type] = { ...cfg }\r\n\treturn newCfg\r\n}\r\n\r\nexport default function uiReducer(state = initialState.config, action) {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RELAYER_CFG:\r\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createHashHistory } from 'history'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst trackPageView = location => {\r\n\tReactGA.set({ page: location.pathname + location.search })\r\n\tReactGA.pageview(location.pathname + location.search)\r\n}\r\n\r\nconst initGa = history => {\r\n\tReactGA.initialize(process.env.GA_CODE, {\r\n\t\t// debug: true,\r\n\t})\r\n\ttrackPageView(history.location)\r\n\thistory.listen(trackPageView)\r\n}\r\nconst history = createHashHistory()\r\ninitGa(history)\r\n\r\nexport default history\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport uiMemory from './uiMemoryReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport targeting from './targetingReducer'\r\nimport config from './configReducer'\r\nimport analytics from './analyticsReducer'\r\nimport channels from './channelsReducer'\r\nimport selectedItems from './selectedItemsReducer'\r\nimport ensAddresses from './ensReducer'\r\nimport tablesState from './tablesStateReducer'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\taccount,\r\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\tlanguage,\r\n\tweb3Transactions,\r\n\ttargeting,\r\n\tconfig,\r\n\tensAddresses,\r\n\ttablesState,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tuiMemory,\r\n\tchannels,\r\n\tanalytics,\r\n\tsignin,\r\n\tidentity,\r\n\twallet,\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\ttoasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\tvalidations,\r\n\tselectedItems,\r\n\tnewTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_GLOBAL_UI,\r\n\tUPDATE_UI_BY_IDENTITY,\r\n\tUPDATE_UI_BY_IDENTITY_AND_SIDE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI_BY_IDENTITY:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...newState.byIdentity[action.identity],\r\n\t\t\t}\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\r\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\r\n\t\t\t\t}\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\r\n\t\t\t\t\taction.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_UI_BY_IDENTITY_AND_SIDE:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...(newState.byIdentity || {}) }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...(newState.byIdentity[action.identity] || {}),\r\n\t\t\t}\r\n\t\t\tnewState.byIdentity[action.identity][action.side] = {\r\n\t\t\t\t...(newState.byIdentity[action.identity][action.side] || {}),\r\n\t\t\t}\r\n\t\t\tnewState.byIdentity[action.identity][action.side][action.item] =\r\n\t\t\t\taction.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_GLOBAL_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.global = { ...newState.global }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState.global[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.global[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: { ...action.item },\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tif (item.id || item.ipfs) {\r\n\t\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\t}\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, {})\r\n\r\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TARGETING_ANALYTICS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function targetingReducer(\r\n\tstate = initialState.targeting,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TARGETING_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function ensReducer(state = initialState.ensAddresses, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_TABLE_STATE,\r\n\tRESET_ALL_TABLES_STATE,\r\n\tRESET_TABLE_STATE_BY_ID,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tableStateReducer(\r\n\tstate = initialState.tablesState,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TABLE_STATE:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.identity] = { ...(newState[action.identity] || {}) }\r\n\t\t\tnewState[action.identity][action.tableId] = action.value || {}\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_TABLE_STATE_BY_ID:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.identity] = { ...(newState[action.identity] || {}) }\r\n\t\t\tnewState[action.identity][action.tableId] = undefined\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_TABLES_STATE:\r\n\t\t\treturn initialState.tablesState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_MEMORY_UI } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiMemoryReducer(state = initialState.uiMemory, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_MEMORY_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\r\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function channelsReducer(state = initialState.channels, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = { ...action.channels }\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance =\r\n\t\t\t\tinitialState.channels.withOutstandingBalance\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ANALYTICS,\r\n\tRESET_ANALYTICS,\r\n\tUPDATE_ANALYTICS_TIMEFRAME,\r\n\tUPDATE_ANALYTICS_PERIOD,\r\n\tUPDATE_ANALYTICS_LAST_CHECKED,\r\n\tUPDATE_PUBLISHER_RECEIPTS,\r\n\tUPDATE_ADVANCED_ANALYTICS,\r\n\tUPDATE_DEMAND_ANALYTICS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function analyticsReducer(\r\n\tstate = initialState.analytics,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.timeframe = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS_LAST_CHECKED:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.lastChecked = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.side] = { ...newState[action.side] }\r\n\t\t\tnewState[action.side][action.eventType] = {\r\n\t\t\t\t...newState[action.side][action.eventType],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][\r\n\t\t\t\taction.timeframe\r\n\t\t\t] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric][\r\n\t\t\t\t\taction.timeframe\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][action.timeframe][\r\n\t\t\t\taction.timestamp\r\n\t\t\t] = { ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.advanced = { ...newState.advanced }\r\n\t\t\tnewState.advanced[action.eventType] = {\r\n\t\t\t\t...action.value,\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_DEMAND_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.demand = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_PUBLISHER_RECEIPTS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.receipts = { ...newState.receipts, ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ANALYTICS:\r\n\t\t\tnewState = { ...initialState.analytics }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS_PERIOD:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.period = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newIdentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewIdentity = newState\r\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\r\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewIdentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newIdentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewIdentity = { ...initialState.identity }\r\n\t\t\tnewState = newIdentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tif (action.itemId) {\r\n\t\t\t\tnewState[action.itemId] = newItem\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.itemType] = newItem\r\n\t\t\t}\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.itemType] }\r\n\t\t\tif (action.itemId) {\r\n\t\t\t\tnewState[action.itemId] = newItem\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.itemType] = newItem\r\n\t\t\t}\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_NEW_ITEMS:\r\n\t\t\tnewState = { ...initialState.newItem }\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tconst newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_SELECTED_ITEMS,\r\n\tRESET_SELECTED_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...initialState.selectedItems }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n\tRESET_ALL_NEW_TRANSACTIONS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\r\n\t\t\tnewState = initialState.newTransactions\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/lib/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst persistConfig = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n\tversion: 2,\r\n\tdebug: process.env.NODE_ENV === 'production' ? false : true,\r\n\tthrottle: 1000,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n\trouter: connectRouter(history),\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t]\r\n\r\n\tif (process.env.BUILD_TYPE === 'staging') {\r\n\t\tmiddlewares.push(logger)\r\n\t}\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from './configureStore'\r\n\r\nexport default configureStore\r\n\r\nexport const store = configureStore.store\r\nexport const persistor = configureStore.persistor\r\nexport const dispatch = store.dispatch\r\nexport const getState = store.getState\r\n","import { createSelectorCreator, defaultMemoize } from 'reselect'\r\nimport isEqual from 'lodash.isequal'\r\n\r\n// deep equal memoization instad reference check\r\nexport const createDeepEqualSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\tisEqual\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\n// can be used outside  components\r\nexport const selectRelayerConfig = state => {\r\n\treturn (state || getState()).persist.config.relayer\r\n}\r\n\r\n// - relayer cfg\r\n// network,\r\n// feeTokenWhitelist:\r\n// [\r\n// \t{\r\n// \t\taddress,\r\n// \t\tsymbol,\r\n// \t\tdecimals,\r\n// \t\tstandard,\r\n// \t\tmin,\r\n// \t\tminDeploy,\r\n// \t\tminRecommended,\r\n// \t\texecuteBaseFee: {\r\n// \t\t\tWITHDRAW: '4200000000000000000',\r\n// \t\t\tPRIVILEGES_CHANGE: '1000000000000000000',\r\n// \t\t\tENS_CHANGE: '1000000000000000000',\r\n// \t\t\tDEFAULT: '1000000000000000000',\r\n// \t\t},\r\n// \t},\r\n// ],\r\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\r\n// coreAddr,\r\n// baseIdentityAddr,\r\n// identityFactoryAddr,\r\n// registryAddr,\r\n// daiAddr,\r\n// marketUrl,\r\n// identityRecoveryAddr,\r\n// weeklyFeeAmount,\r\n// mainToken, // { address, symbol, decimals, standard },\r\n// advertiserMinGrantAmount\r\n// relayerAddr\r\n// gasPriceCap\r\n\r\nexport const selectFeeTokenWhitelist = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ feeTokenWhitelist }) => {\r\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokens = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokenByAddress = createCachedSelector(\r\n\tselectRelayerConfig,\r\n\t(_, address) => address,\r\n\t({ routineWithdrawTokens }, address) => {\r\n\t\treturn routineWithdrawTokens.find(token => token.address === address)\r\n\t}\r\n)((_state, address = '-') => address)\r\n\r\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.map(t => t.address)\r\n\t}\r\n)\r\n\r\nexport const selectConfig = createSelector(\r\n\t[selectRelayerConfig],\r\n\trelayerConfig => {\r\n\t\tconst cfg = { ...relayerConfig }\r\n\t\treturn cfg\r\n\t}\r\n)\r\n\r\nexport const selectMainToken = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ mainToken }) => mainToken || {}\r\n)\r\n\r\nexport const selectIdentityRecoveryAddr = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ identityRecoveryAddr }) => identityRecoveryAddr\r\n)\r\n\r\nexport const selectGasPriceCap = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ gasPriceCap }) => gasPriceCap\r\n)\r\n\r\nexport const selectSaiToken = createSelector(\r\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\r\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\r\n)\r\n\r\nexport const selectMainFeeToken = createSelector(\r\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\r\n\t({ mainToken }, feeTokenWhitelist) => {\r\n\t\treturn feeTokenWhitelist[mainToken.address]\r\n\t}\r\n)\r\n","import MomentUtils from '@date-io/moment'\r\nimport moment from 'moment'\r\nimport 'moment/min/locales'\r\n\r\n// We can't use the new version of @date-io/moment or @date-io/date-fns\r\n// because the datepickers will crash, but we need some more functionality\r\n// as adding hours and start / end of weeks. This is why I have created an\r\n// extention class. We use this as MuiPickersUtilsProvider as well\r\nexport class DateUtils extends MomentUtils {\r\n\tstartOfMinute(date) {\r\n\t\treturn date.clone().startOf('minute')\r\n\t}\r\n\r\n\tstartOfHour(date) {\r\n\t\treturn date.clone().startOf('hour')\r\n\t}\r\n\r\n\tstartOfWeek(date) {\r\n\t\treturn date.clone().startOf('week')\r\n\t}\r\n\r\n\tstartOfYear(date) {\r\n\t\treturn date.clone().startOf('year')\r\n\t}\r\n\r\n\tendOfWeek(date) {\r\n\t\treturn date.clone().endOf('week')\r\n\t}\r\n\r\n\tisWithinInterval(date, { start, end }) {\r\n\t\treturn date.clone().isBetween(start, end, null, '[]')\r\n\t}\r\n\r\n\tadd(date, ammount, unit) {\r\n\t\treturn date.add(ammount, unit)\r\n\t}\r\n\r\n\taddMinutes(date, minutes) {\r\n\t\treturn date.clone().add(minutes, 'minute')\r\n\t}\r\n\r\n\taddHours(date, hours) {\r\n\t\treturn date.clone().add(hours, 'hour')\r\n\t}\r\n\r\n\tstartOf(date, period) {\r\n\t\treturn date.clone().startOf(period)\r\n\t}\r\n\r\n\tendOf(date, period) {\r\n\t\treturn date.clone().endOf(period)\r\n\t}\r\n\r\n\taddWeeks(date, weeks) {\r\n\t\treturn date.clone().add(weeks, 'week')\r\n\t}\r\n\r\n\taddMonths(date, months) {\r\n\t\treturn date.clone().add(months, 'month')\r\n\t}\r\n\r\n\taddYears(date, years) {\r\n\t\treturn date.clone().add(years, 'year')\r\n\t}\r\n\r\n\tgetUTCOffset(date = this.moment()) {\r\n\t\treturn this.moment(date).utcOffset() / 60\r\n\t}\r\n\r\n\tgetUTCOffsetFormatted(date = this.moment()) {\r\n\t\tconst offset = this.moment(date).utcOffset()\r\n\t\tconst sign = offset >= 0 ? '+' : '-'\r\n\t\tconst hours = Math.abs(Math.floor(offset / 60)).toString()\r\n\t\tconst minutes = (offset % 60).toString()\r\n\r\n\t\treturn `${sign}${hours.length === 1 ? '0' + hours : hours}:${\r\n\t\t\tminutes.length === 1 ? '0' + minutes : minutes\r\n\t\t}`\r\n\t}\r\n\r\n\tgetCurrentTimezone(date) {\r\n\t\treturn new window.Intl.DateTimeFormat(date).resolvedOptions().timeZone\r\n\t}\r\n\r\n\tgetUnix(date) {\r\n\t\treturn date.unix()\r\n\t}\r\n\tgetLocaleDate(locale) {\r\n\t\treturn this.moment.localeData(locale)\r\n\t}\r\n\r\n\tupdateLocale({ locale = 'en', dow, doy }) {\r\n\t\tconst defaultLocaleData = this.getLocaleDate(locale)\r\n\t\tthis.moment.updateLocale(locale, {\r\n\t\t\tweek: {\r\n\t\t\t\tdow: dow || defaultLocaleData.firstDayOfWeek(),\r\n\t\t\t\tdoy: doy || defaultLocaleData.firstDayOfYear(),\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tgetHourSpanStart(date, span) {\r\n\t\tconst current = dateUtils.date(date)\r\n\t\tconst hour = dateUtils.getHours(current)\r\n\t\tconst spanStartHour = Math.floor(hour - (hour % span))\r\n\t\tconst withSpanStartHour = dateUtils.setHours(current, spanStartHour)\r\n\r\n\t\treturn dateUtils.startOfHour(withSpanStartHour)\r\n\t}\r\n\r\n\tformat(date, formatString) {\r\n\t\treturn this.moment(date).format(formatString)\r\n\t}\r\n}\r\n\r\nexport function makeJSDateObject(date) {\r\n\tif (moment.isMoment(date)) {\r\n\t\treturn date.clone()\r\n\t}\r\n\r\n\tif (date instanceof Date) {\r\n\t\treturn new Date(date.getTime())\r\n\t}\r\n\r\n\treturn date\r\n}\r\n\r\nconst dateUtils = new DateUtils()\r\ndateUtils.updateLocale({\r\n\tdow: dateUtils\r\n\t\t.getLocaleDate(window.navigator.language.toLowerCase())\r\n\t\t.firstDayOfWeek(),\r\n})\r\n\r\nexport default dateUtils\r\n","import dateUtils from 'helpers/dateUtils'\r\nimport { createSelector } from 'reselect'\r\nimport { createDeepEqualSelector } from 'selectors'\r\nimport { utils } from 'ethers'\r\n\r\nexport const selectAccountRaw = state => state.persist.account || {}\r\nexport const selectChannels = state => state.memory.channels\r\n\r\nexport const selectMemoryUi = state => state.memory.uiMemory\r\n\r\nexport const selectDebugIdentity = createSelector(\r\n\tselectMemoryUi,\r\n\t({ debugIdentityAddr, debuggerAddr }) => ({\r\n\t\tdebugIdentityAddr,\r\n\t\tdebuggerAddr,\r\n\t})\r\n)\r\n\r\nexport const selectDebugAccount = createSelector(\r\n\tselectDebugIdentity,\r\n\t({ debugIdentityAddr, debuggerAddr }) => {\r\n\t\t// TODO: utils.address\r\n\t\tif (debugIdentityAddr) {\r\n\t\t\tconst address = utils.getAddress(debugIdentityAddr)\r\n\t\t\tconst debuggerPrivAddr = utils.getAddress(\r\n\t\t\t\tdebuggerAddr || debugIdentityAddr\r\n\t\t\t)\r\n\t\t\treturn {\r\n\t\t\t\taddress,\r\n\t\t\t\tcurrentPrivileges: {\r\n\t\t\t\t\t[debuggerPrivAddr]: 2,\r\n\t\t\t\t\t[debuggerPrivAddr.toLowerCase()]: 2,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\t}\r\n)\r\n\r\nexport const selectAccount = createSelector(\r\n\t[selectAccountRaw, selectDebugAccount],\r\n\t(account, debugData) => {\r\n\t\tif (debugData) {\r\n\t\t\tconst debugAccount = {\r\n\t\t\t\t...account,\r\n\t\t\t\tidentity: {\r\n\t\t\t\t\t...(account.identity || {}),\r\n\t\t\t\t\t...debugData,\r\n\t\t\t\t\trelayerData: {\r\n\t\t\t\t\t\t...((account.identity || {}).relayerData || {}),\r\n\t\t\t\t\t\tcurrentPrivileges: debugData.currentPrivileges,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\treturn debugAccount\r\n\t\t}\r\n\r\n\t\treturn account\r\n\t}\r\n)\r\n\r\nexport const selectAuth = createSelector(\r\n\tselectAccount,\r\n\t({ wallet, identity }) =>\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n)\r\n\r\nexport const selectWallet = createDeepEqualSelector(\r\n\tselectAccount,\r\n\t({ wallet }) => wallet || {}\r\n)\r\n\r\nexport const selectEmail = createSelector(selectAccount, ({ email }) => email)\r\n\r\nexport const selectEmailProvider = createSelector(selectEmail, email =>\r\n\t!!email ? email.split('@')[1] : null\r\n)\r\n\r\nexport const selectAuthSig = createSelector(\r\n\tselectWallet,\r\n\t({ authSig }) => authSig\r\n)\r\n\r\nexport const selectWalletAddress = createSelector(\r\n\tselectWallet,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAuthType = createSelector(\r\n\tselectWallet,\r\n\t({ authType }) => authType\r\n)\r\n\r\nexport const selectAccountIdentity = createSelector(\r\n\tselectAccount,\r\n\t({ identity }) => identity || {}\r\n)\r\n\r\nexport const selectAccountIdentityAddr = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAccountStats = createSelector(\r\n\tselectAccount,\r\n\t({ stats }) => stats || {}\r\n)\r\n\r\nexport const selectAccountSettings = createSelector(\r\n\tselectAccount,\r\n\t({ settings }) => settings || {}\r\n)\r\n\r\nexport const selectAccountStatsRaw = createSelector(\r\n\tselectAccountStats,\r\n\t({ raw }) => raw || {}\r\n)\r\n\r\nexport const selectAccountStatsFormatted = createSelector(\r\n\tselectAccountStats,\r\n\t({ formatted }) => formatted || {}\r\n)\r\n\r\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) =>\r\n\t\trelayerData &&\r\n\t\trelayerData.routineAuthorizationsData &&\r\n\t\trelayerData.routineAuthorizationsData[0]\r\n\t\t\t? relayerData.routineAuthorizationsData[0]\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAccountIdentityDeployData = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData = {} }) => relayerData.deployData || {}\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesEligible = createSelector(\r\n\tselectChannels,\r\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesAll = createSelector(\r\n\tselectChannels,\r\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\r\n)\r\n\r\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\r\n)\r\n\r\nexport const selectWalletPrivileges = createSelector(\r\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\r\n\t(privileges = {}, address) => privileges[address] || 0\r\n)\r\n\r\nexport const selectAccountIdentityCreatedDate = createSelector(\r\n\tselectAccountIdentityDeployData,\r\n\t({ created }) => dateUtils.date(created || '2018-10-01')\r\n)\r\n","import { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectIdentity = state => state.memory.identity\r\n\r\nexport const selectEnsAddresses = state => state.persist.ensAddresses\r\n\r\nexport const selectEnsAddressByAddr = createCachedSelector(\r\n\tselectEnsAddresses,\r\n\t(_, address) => address,\r\n\t(ensAddresses, address) => ensAddresses[address] || ''\r\n)((_state, address = '-') => address)\r\n","export const CREATING_SESSION = 'CREATING_SESSION'\r\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\r\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\r\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\r\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\r\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\r\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\r\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\r\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\r\nexport const FETCHING_PUBLISHER_RECEIPTS = 'FETCHING_PUBLISHER_RECEIPTS'\r\nexport const CHECKING_METAMASK_AUTH = 'CHECKING_METAMASK_AUTH'\r\nexport const AUTH_WAITING_TREZOR_ACTION = 'AUTH_WAITING_TREZOR_ACTION'\r\nexport const AUTH_WAITING_ADDRESS_DATA = 'AUTH_WAITING_ADDRESS_DATA'\r\nexport const UPDATING_TARGETING_DATA = 'UPDATING_TARGETING_DATA'\r\nexport const SYNC_WEB3_DATA = 'UPDATING_WEB3_DATA'\r\n","import { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { selectAccountIdentityAddr } from './accountSelectors'\r\nimport { SYNC_WEB3_DATA } from 'constants/spinners'\r\n\r\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\r\n\r\nexport const selectNavTitle = state => state.memory.nav.navTitle\r\nexport const selectSide = state => state.memory.nav.side\r\nexport const selectMemoryUi = state => state.memory.uiMemory\r\nexport const selectGlobalUi = state => state.persist.ui.global\r\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\r\nexport const selectSelectedItems = state => state.memory.selectedItems\r\nexport const selectConfirm = state => state.memory.confirm\r\nexport const selectToasts = state => state.memory.toasts\r\nexport const selectTablesState = state => state.persist.tablesState\r\n\r\nexport const selectSpinners = state => state.memory.spinners\r\n\r\nexport const selectIdentityUi = createSelector(\r\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\r\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\r\n)\r\n\r\nexport const selectIdentitySideUi = createSelector(\r\n\t[selectIdentityUi, selectSide],\r\n\t(identityUi, side) => identityUi[side] || {}\r\n)\r\n\r\nexport const selectCompanyData = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ companyData }) => companyData || {}\r\n)\r\n\r\nexport const selectUserLastSide = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ userLastSide }) => userLastSide || ''\r\n)\r\n\r\nexport const selectSpinnerById = createCachedSelector(\r\n\tselectSpinners,\r\n\t(_, id) => id,\r\n\t(spinners, id) => spinners[id]\r\n)((_state, id = '-') => id)\r\n\r\nexport const selectWeb3SyncSpinnerByValidateId = createCachedSelector(\r\n\tselectSpinners,\r\n\t(_, validateId) => validateId,\r\n\t(spinners, validateId) => spinners[SYNC_WEB3_DATA + validateId]\r\n)((_state, validateId = '-') => validateId)\r\n\r\nexport const selectMultipleSpinnersByIds = createCachedSelector(\r\n\tselectSpinners,\r\n\t(_, ids) => ids,\r\n\t(spinners, ids) => ids.map(id => spinners[id])\r\n)((_state, ids = '-') => ids.join(':'))\r\n\r\nexport const selectRegistrationAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\r\n)\r\n\r\nexport const selectEasterEggsAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowEasterEggs }) => allowEasterEggs\r\n)\r\n\r\nexport const selectNewVersionAvailable = createSelector(\r\n\tselectGlobalUi,\r\n\t({ newVersionAvailable }) => newVersionAvailable\r\n)\r\n\r\nexport const selectNewVersionAvailableId = createSelector(\r\n\tselectGlobalUi,\r\n\t({ selectNewVersionAvailableId }) => selectNewVersionAvailableId\r\n)\r\n\r\nexport const selectPrivilegesWarningAccepted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\r\n)\r\n\r\nexport const selectSideSpecificUI = createSelector(\r\n\t[selectIdentityUi, selectSide],\r\n\t(ui, side) => ui[side] || {}\r\n)\r\n\r\nexport const selectHideGettingStarted = createSelector(\r\n\t[selectSideSpecificUI],\r\n\t({ hideGettingStarted }) => hideGettingStarted\r\n)\r\n\r\nexport const selectGettingStartedExpanded = createSelector(\r\n\tselectIdentityUi,\r\n\t({ gettingStartedExpanded }) =>\r\n\t\t// NOTE: default is open but cant set initial state\r\n\t\tgettingStartedExpanded === undefined ? true : !!gettingStartedExpanded\r\n)\r\n\r\nexport const selectSelectedCampaigns = createSelector(\r\n\tselectSelectedItems,\r\n\t({ campaigns }) => campaigns || []\r\n)\r\n\r\nexport const selectLoginDirectSide = createSelector(\r\n\tselectGlobalUi,\r\n\t({ goToSide }) => goToSide || ''\r\n)\r\n\r\nexport const selectInitialDataLoadedByData = createCachedSelector(\r\n\tselectMemoryUi,\r\n\t(_, dataType) => dataType,\r\n\t({ initialDataLoaded }, dataType) =>\r\n\t\tinitialDataLoaded === true ||\r\n\t\t(typeof initialDataLoaded === 'object' && initialDataLoaded[dataType])\r\n)((_state, dataType = '-') => dataType)\r\n\r\nexport const selectInitialDataLoaded = createSelector(\r\n\tselectMemoryUi,\r\n\t({ initialDataLoaded = false }) =>\r\n\t\tinitialDataLoaded === true ||\r\n\t\t(typeof initialDataLoaded === 'object' &&\r\n\t\t\t[\r\n\t\t\t\t'accountIdentityData',\r\n\t\t\t\t'allItems',\r\n\t\t\t\t'stats',\r\n\t\t\t\t'campaigns',\r\n\t\t\t\t'advancedAnalytics',\r\n\t\t\t].every(type => !!initialDataLoaded[type]))\r\n)\r\n\r\nexport const selectCampaignIdInDetails = createSelector(\r\n\tselectMemoryUi,\r\n\t({ campaignId }) => campaignId\r\n)\r\n\r\nexport const selectLoginSelectedIdentity = createSelector(\r\n\tselectMemoryUi,\r\n\t({ loginSelectedIdentity }) => loginSelectedIdentity\r\n)\r\n\r\nexport const selectAnalyticsDataSide = createSelector(\r\n\t[selectSide, selectCampaignIdInDetails],\r\n\t(side, campaignId) => (campaignId ? campaignId : side ? `for-${side}` : '')\r\n)\r\n\r\nexport const selectIdentitySideAnalyticsTimeframe = createSelector(\r\n\t[selectIdentitySideUi],\r\n\t({ sideAnalyticsTimeframe = 'day' } = {}) => sideAnalyticsTimeframe\r\n)\r\n\r\nexport const selectIdentitySideAnalyticsPeriod = createSelector(\r\n\t[selectIdentitySideUi],\r\n\t({\r\n\t\tsideAnalyticsPeriod = {\r\n\t\t\tstart: dateUtils.startOfDay(dateUtils.date()),\r\n\t\t\tend: dateUtils.endOfDay(dateUtils.date()),\r\n\t\t},\r\n\t} = {}) => sideAnalyticsPeriod\r\n)\r\n\r\nexport const selectWindowReloading = createSelector(\r\n\tselectMemoryUi,\r\n\t({ windowReloading }) => windowReloading\r\n)\r\n\r\nexport const selectResendConfirmation = createSelector(\r\n\tselectGlobalUi,\r\n\t({ resendConfirmation }) => resendConfirmation || {}\r\n)\r\nexport const selectTableState = createCachedSelector(\r\n\tselectTablesState,\r\n\tselectAccountIdentityAddr,\r\n\t(_state, tableId) => tableId,\r\n\t(tablesStates, identityId, tableId) =>\r\n\t\t((tablesStates || {})[identityId] || {})[tableId] || {}\r\n)((_state, tableId = '-') => tableId)\r\n\r\n//memory\r\nexport const selectTableStateSelectedRows = createCachedSelector(\r\n\tselectMemoryUi,\r\n\t(_state, tableId) => tableId,\r\n\t(memoryUI, tableId) => memoryUI[`selectedRows${tableId}`]\r\n)((_state, tableId = '-') => tableId)\r\n","import { createCachedSelector } from 're-reselect'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getState } from 'store'\r\n\r\nexport const selectLang = state => state.persist.language\r\n\r\nexport const selectTranslations = createCachedSelector(\r\n\tselectLang,\r\n\t(_, val, opts = {}) => {\r\n\t\treturn { val, opts }\r\n\t},\r\n\r\n\t(lang, { val, opts }) => {\r\n\t\tconst { isProp = false, args = [''], components = [] } = opts\r\n\t\treturn translate(val, { isProp, args, components }, lang)\r\n\t}\r\n)((_state, val = '-') => val)\r\n\r\n// Need to useSelector for language in top component where this will be used\r\n// Now this is don by using Translate Hoc on Root\r\n// It will work in actions too as the state isg get when they are called and don't need update\r\nexport const t = (val, opts) => {\r\n\treturn selectTranslations(getState(), val, opts)\r\n}\r\n","import { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nimport { selectCampaignIdInDetails } from 'selectors'\r\n\r\nimport url from 'url'\r\nexport const selectItems = state => state.persist.items\r\n\r\nexport const selectItemsByType = createCachedSelector(\r\n\tselectItems,\r\n\t(_state, itemType) => itemType,\r\n\t(items, itemType) => items[itemType] || {}\r\n)((_state, itemType = '-') => itemType)\r\n\r\nexport const selectItemsArrayByType = createCachedSelector(\r\n\tselectItemsByType,\r\n\titems => Object.values(items || {})\r\n)((_state, itemType = '-') => itemType)\r\n\r\nexport const selectItemByTypeAndId = createCachedSelector(\r\n\tselectItemsByType,\r\n\t(_state, _itemType, id) => id,\r\n\t(items, id) => items[id] || {}\r\n)((_state, _itemType, id = '-') => id) // all items has unique id so they are good for cache\r\n\r\nexport const selectCampaigns = state => selectItemsByType(state, 'Campaign')\r\nexport const selectCampaignsArray = state =>\r\n\tselectItemsArrayByType(state, 'Campaign')\r\n\r\nexport const selectCampaignById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'Campaign', id)\r\n\r\nexport const selectCampaignUnitsById = createSelector(\r\n\tselectCampaignById,\r\n\t({ adUnits } = {}) => adUnits || []\r\n)\r\n\r\nexport const selectCampaignInDetails = createSelector(\r\n\t[selectCampaignIdInDetails, state => state],\r\n\t(campaignId, state) =>\r\n\t\tcampaignId ? selectCampaignById(state, campaignId) : undefined\r\n)\r\n\r\nexport const selectAdUnits = state => selectItemsByType(state, 'AdUnit')\r\n\r\nexport const selectAdUnitsArray = state =>\r\n\tselectItemsArrayByType(state, 'AdUnit')\r\n\r\nexport const selectAdUnitById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'AdUnit', id)\r\n\r\nexport const selectAdSlots = state => selectItemsByType(state, 'AdSlot')\r\n\r\nexport const selectAdSlotsArray = state =>\r\n\tselectItemsArrayByType(state, 'AdSlot')\r\n\r\nexport const selectAdSlotById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'AdSlot', id)\r\n\r\nexport const selectWebsites = state => selectItemsByType(state, 'Website')\r\n\r\nexport const selectWebsitesArray = state =>\r\n\tselectItemsArrayByType(state, 'Website')\r\n\r\nexport const selectWebsiteById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'Website', id)\r\n\r\nexport const selectWebsiteByWebsite = createCachedSelector(\r\n\tselectWebsites,\r\n\t(_, ws) => ws,\r\n\t(items, ws) => (ws ? items[url.parse(ws).hostname] || {} : {})\r\n)((_state, ws = 'all') => ws)\r\n\r\nexport const selectAudiences = state => selectItemsByType(state, 'Audience')\r\n\r\nexport const selectAudiencesArray = state =>\r\n\tselectItemsArrayByType(state, 'Audience')\r\n\r\nexport const selectAudienceById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'Audience', id)\r\n\r\nexport const selectAudienceByCampaignId = createCachedSelector(\r\n\tselectCampaignById,\r\n\tselectAudiencesArray,\r\n\t(_, id) => id,\r\n\t(campaign, items, id) => {\r\n\t\tconst hasCampaignAudienceUpdated =\r\n\t\t\tcampaign &&\r\n\t\t\tcampaign.audienceInput &&\r\n\t\t\tcampaign.audienceInput.inputs &&\r\n\t\t\t(campaign.audienceInput.inputs.location ||\r\n\t\t\t\tcampaign.audienceInput.inputs.categories ||\r\n\t\t\t\tcampaign.audienceInput.inputs.publishers ||\r\n\t\t\t\tcampaign.audienceInput.inputs.advanced)\r\n\r\n\t\treturn hasCampaignAudienceUpdated\r\n\t\t\t? campaign.audienceInput\r\n\t\t\t: items.find(x => x && x.campaignId === id)\r\n\t}\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectSavedAudiences = createSelector(\r\n\t[selectAudiencesArray],\r\n\titems => items.filter(x => x && !x.campaignId && x.title)\r\n)\r\n\r\nexport const selectWebsitesList = createSelector(\r\n\t[selectWebsitesArray],\r\n\twebsites =>\r\n\t\twebsites.sort(\r\n\t\t\t(a, b) => new Date(b.updated).getTime() - new Date(a.updated).getTime()\r\n\t\t)\r\n)\r\n\r\nexport const selectCampaignDisplayStatus = (status = {}, impressions) => {\r\n\tswitch (status.name) {\r\n\t\tcase 'Waiting':\r\n\t\t\treturn 'SCHEDULED'\r\n\t\tcase 'Active':\r\n\t\t\treturn impressions > 0 ? 'ACTIVE' : 'READY'\r\n\t\tdefault:\r\n\t\t\treturn (status.humanFriendlyName || '').toUpperCase()\r\n\t}\r\n}\r\n","import {\r\n\tCampaign as CampaignModel,\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n\tAudience as AudienceModel,\r\n} from 'adex-models'\r\nimport initialState from 'store/initialState'\r\n\r\nimport { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectNewItems = state => state.memory.newItem\r\n\r\nexport const selectNewItemByType = createCachedSelector(\r\n\tselectNewItems,\r\n\t(_, type) => type,\r\n\t(items, type) => items[type]\r\n)((_state, type) => type)\r\n\r\n// NOTE: currently used only for existing items update\r\nexport const selectNewItemByTypeAndId = createCachedSelector(\r\n\tselectNewItems,\r\n\t(_, type, itemId) => ({ type, itemId }),\r\n\t(items, { type, itemId }) =>\r\n\t\t(itemId ? items[itemId] : items[type]) || { ...initialState.newItem[type] }\r\n)((_state, type = '-', itemId = '-') => `${type}:${itemId}`)\r\n\r\nexport const selectNewCampaign = createSelector(\r\n\tselectNewItems,\r\n\t({ Campaign }) => new CampaignModel(Campaign)\r\n)\r\n\r\nexport const selectNewAdUnit = createSelector(\r\n\tselectNewItems,\r\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\r\n)\r\n\r\nexport const selectNewAdSlot = createSelector(\r\n\tselectNewItems,\r\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\r\n)\r\n\r\nexport const selectNewAudience = createSelector(\r\n\tselectNewItems,\r\n\t({ Audience }) => new AudienceModel(Audience)\r\n)\r\n\r\nexport const selectNewWebsite = createSelector(\r\n\tselectNewItems,\r\n\t({ Website = {} }) => ({ ...Website })\r\n)\r\n","import { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\n\r\nconst HOUR = 60 * 60 * 1000\r\nconst DAY = 24 * HOUR\r\n\r\nconst moment = new MomentUtils()\r\n//TODO: use dateUtils\r\n\r\nexport const DEFAULT_DATETIME_FORMAT = 'YYYY/MM/DD HH:mm'\r\nexport const DEFAULT_DATE_FORMAT = 'YYYY/MM/DD'\r\n\r\nexport const formatDateTime = (\r\n\ttimestamp,\r\n\tformat = DEFAULT_DATETIME_FORMAT,\r\n\tnoDateLabel = 'no date'\r\n) => {\r\n\tif (!timestamp) {\r\n\t\treturn noDateLabel\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatDate = (\r\n\ttimestamp,\r\n\tformat = DEFAULT_DATE_FORMAT,\r\n\tnoDateLabel = 'no date'\r\n) => {\r\n\tif (!timestamp) {\r\n\t\treturn noDateLabel\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (\r\n\tamountString = '0',\r\n\tdecimals = 18,\r\n\tpretty,\r\n\ttoFixed\r\n) => {\r\n\tconst formatted = utils.formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn utils.commify(formatted)\r\n\t} else if (typeof toFixed === 'number') {\r\n\t\t// We want truncated not rounded\r\n\t\treturn parseFloat(formatted)\r\n\t\t\t.toFixed(toFixed + 4)\r\n\t\t\t.slice(0, -4)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n\r\nexport const formatAddress = (address = '', joinSymbol = '...') => {\r\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\r\n}\r\n\r\nexport const formatNumberWithCommas = x => {\r\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n}\r\n\r\nexport const formatFloatNumberWithCommas = x => {\r\n\tconst parts = x.toString().split('.')\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n\treturn parts.join('.')\r\n}\r\n\r\nexport const formatNumberWithoutCommas = x => {\r\n\treturn x\r\n\t\t.toString()\r\n\t\t.split(',')\r\n\t\t.join('')\r\n}\r\n\r\nexport const toFixedFloat = (number, decimals = 2) => {\r\n\tconst num = parseFloat(parseFloat(number).toFixed(decimals))\r\n\r\n\treturn num\r\n}\r\n\r\nexport const formatAbbrNum = (number, decPlaces) => {\r\n\t// 2 decimal places => 100, 3 => 1000, etc\r\n\tdecPlaces = Math.pow(10, decPlaces)\r\n\r\n\t// Enumerate number abbreviations\r\n\tvar abbrev = ['k', 'm', 'b', 't']\r\n\r\n\t// Go through the array backwards, so we do the largest first\r\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\r\n\t\t// Convert array index to \"1000\", \"1000000\", etc\r\n\t\tvar size = Math.pow(10, (i + 1) * 3)\r\n\r\n\t\t// If the number is bigger or equal do the abbreviation\r\n\t\tif (size <= number) {\r\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\r\n\t\t\t// This gives us nice rounding to a particular decimal place.\r\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\r\n\r\n\t\t\t// Handle special case where we round up to the next abbreviation\r\n\t\t\tif (number === 1000 && i < abbrev.length - 1) {\r\n\t\t\t\tnumber = 1\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\r\n\t\t\t// Add the letter for the abbreviation\r\n\t\t\tnumber += abbrev[i]\r\n\r\n\t\t\t// We are done... stop\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\treturn number\r\n}\r\n\r\nexport const truncateString = (string, maxLength = 50) => {\r\n\tif (!string) return ''\r\n\tif (string.length <= maxLength) return string\r\n\treturn `${string.substring(0, maxLength).trim()}...`\r\n}\r\n\r\nexport const timeSinceEpoch = (\r\n\tepochDivider = 2628000000,\r\n\tstart = Date.now(),\r\n\tend = Date.now()\r\n) => {\r\n\tconst epoch = Math.floor(start / epochDivider)\r\n\tconst epochStart = Math.floor(epoch * epochDivider)\r\n\r\n\tconst period = end - epochStart\r\n\r\n\tconst periodDays = period / DAY\r\n\r\n\tif (periodDays < 1) {\r\n\t\tconst hours = Math.floor(periodDays * 24)\r\n\t\treturn [hours, hours > 1 ? 'HOURS' : 'HOUR']\r\n\t} else {\r\n\t\tconst days = Math.floor(periodDays)\r\n\t\treturn [days, days > 1 ? 'DAYS' : 'DAY']\r\n\t}\r\n}\r\n","import dateUtils from 'helpers/dateUtils'\r\nimport { t } from 'selectors'\r\n\r\nconst SECOND = 1000\r\nconst MINUTE = 60 * SECOND\r\nconst HOUR = 60 * MINUTE\r\nconst DAY = 24 * HOUR\r\nconst WEEK = 7 * DAY\r\nconst YEAR = 365 * DAY\r\nconst MONTH = Math.floor(YEAR / 12)\r\n\r\nexport const DEFAULT_WEEK_HOURS_SPAN = 3\r\n\r\nexport const fillEmptyTime = (\r\n\tprevAggr,\r\n\ttimeframe,\r\n\tdefaultValue = 0,\r\n\tfillAfterLast = 0,\r\n\tperiod\r\n) => {\r\n\tconst now = Date.now()\r\n\tconst time = {\r\n\t\tinterval: period,\r\n\t\tstep: { period: 1, span: 'minute' },\r\n\t}\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\ttime.step = {\r\n\t\t\t\tunit: 'minute',\r\n\t\t\t\tamount: 1,\r\n\t\t\t}\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\ttime.step = { unit: 'hour', amount: 1 }\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\ttime.step = { unit: 'hour', amount: DEFAULT_WEEK_HOURS_SPAN }\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\ttime.step = { unit: 'day', amount: 1 }\r\n\t\t\tbreak\r\n\t\tcase 'year':\r\n\t\t\ttime.step = { unit: 'month', amount: 1 }\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\treturn prevAggr\r\n\t}\r\n\tconst newAggr = []\r\n\r\n\tlet initialTime = +dateUtils.date(time.interval.start)\r\n\tlet endTime = Math.min(time.interval.end, +dateUtils.date())\r\n\tfor (\r\n\t\tlet m = +dateUtils.date(initialTime);\r\n\t\tm <= endTime;\r\n\t\tm = +dateUtils.add(dateUtils.date(m), time.step.amount, time.step.unit)\r\n\t) {\r\n\t\tnewAggr.push({ value: defaultValue, time: m })\r\n\t}\r\n\tconst prevAggrInInterval = prevAggr\r\n\t\t.filter(a => {\r\n\t\t\tconst m = a.time\r\n\t\t\treturn m - initialTime >= 0 && m - endTime <= 0\r\n\t\t})\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\r\n\tconst lastWithValueTime = (prevAggrInInterval[0] || {}).time || now\r\n\r\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\r\n\t\tconst newData = { ...data }\r\n\t\tconst isNullValue = a.value === null || data[a.time] === null\r\n\t\tconst value =\r\n\t\t\ta.time <= lastWithValueTime\r\n\t\t\t\t? isNullValue\r\n\t\t\t\t\t? null\r\n\t\t\t\t\t: data[a.time] || a.value || defaultValue\r\n\t\t\t\t: fillAfterLast\r\n\r\n\t\tnewData[a.time] = a.time <= now ? value : null\r\n\r\n\t\treturn newData\r\n\t}, {})\r\n\r\n\tconst result = Object.entries(data)\r\n\t\t.map(([key, value]) => ({\r\n\t\t\tvalue,\r\n\t\t\ttime: +key,\r\n\t\t}))\r\n\t\t.sort((a, b) => a.time - b.time)\r\n\r\n\treturn result\r\n}\r\n\r\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\r\n\r\nexport const getTimePeriods = ({ timeframe, start }) => {\r\n\tlet end = null\r\n\tlet callEnd = null\r\n\tconst startCopy = dateUtils.date(start)\r\n\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\tstart = dateUtils.startOfMinute(startCopy)\r\n\t\t\tend = dateUtils.addMinutes(start, 59)\r\n\t\t\tcallEnd = dateUtils.addMinutes(end, 1)\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\tstart = dateUtils.startOfHour(startCopy)\r\n\t\t\tend = dateUtils.addHours(start, 23)\r\n\t\t\tcallEnd = dateUtils.addHours(end, 1)\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\tstart = dateUtils.getHourSpanStart(startCopy, DEFAULT_WEEK_HOURS_SPAN)\r\n\t\t\tend = dateUtils.addDays(start, 6)\r\n\t\t\tcallEnd = dateUtils.addHours(end, 6)\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\tstart = dateUtils.startOfDay(startCopy)\r\n\t\t\tend = dateUtils.addDays(dateUtils.addMonths(start, 1), -1)\r\n\t\t\tcallEnd = dateUtils.addDays(end, 1)\r\n\t\t\tbreak\r\n\t\tcase 'year':\r\n\t\t\tstart = dateUtils.date(startCopy).startOf('month')\r\n\t\t\tend = dateUtils.addMonths(start, 11)\r\n\t\t\tcallEnd = dateUtils.addMonths(end, 1)\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tbreak\r\n\t}\r\n\r\n\tstart = +start\r\n\tend = Math.min(+end, +dateUtils.date())\r\n\tcallEnd = +callEnd\r\n\r\n\treturn { start, end, callEnd }\r\n}\r\n\r\nexport const getBorderPeriodStart = ({\r\n\ttimeframe,\r\n\tstart,\r\n\tnext = false,\r\n\tstartIsLive = false,\r\n\tminDate,\r\n\tmaxDate,\r\n}) => {\r\n\tconst startCopy = dateUtils.date(start)\r\n\tconst direction = next ? 1 : -1\r\n\tlet borderStart\r\n\tlet limitedStart = startCopy\r\n\r\n\tif (\r\n\t\tnext &&\r\n\t\tmaxDate &&\r\n\t\tdateUtils.isAfter(startCopy, dateUtils.date(maxDate))\r\n\t) {\r\n\t\tlimitedStart = dateUtils.date(maxDate)\r\n\t}\r\n\r\n\tif (\r\n\t\t!next &&\r\n\t\tminDate &&\r\n\t\tdateUtils.isBefore(startCopy, dateUtils.date(minDate))\r\n\t) {\r\n\t\tlimitedStart = dateUtils.date(minDate)\r\n\t}\r\n\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\tborderStart =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfHour(limitedStart)\r\n\t\t\t\t\t: dateUtils.addHours(limitedStart, direction)\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\tconst day =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfDay(limitedStart)\r\n\t\t\t\t\t: dateUtils.addDays(limitedStart, direction)\r\n\t\t\tborderStart = dateUtils.startOfDay(day)\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\tconst week =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfWeek(startCopy)\r\n\t\t\t\t\t: dateUtils.addWeeks(startCopy, direction)\r\n\t\t\tborderStart = dateUtils.startOfDay(week)\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\tconst month =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfMonth(limitedStart)\r\n\t\t\t\t\t: dateUtils.addMonths(limitedStart, direction)\r\n\t\t\tborderStart = dateUtils.startOfMonth(month)\r\n\t\t\tbreak\r\n\t\tcase 'year':\r\n\t\t\tconst year =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfYear(limitedStart)\r\n\t\t\t\t\t: dateUtils.addYears(limitedStart, direction)\r\n\t\t\tborderStart = dateUtils.startOfMonth(year)\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\r\n\t}\r\n\tif (dateUtils.isAfter(borderStart, dateUtils.date())) {\r\n\t\tborderStart = startCopy\r\n\t}\r\n\r\n\treturn +borderStart\r\n}\r\n\r\nexport const getMinStartDateTimeByTimeframe = ({ timeframe, time }) => {\r\n\tconst min = dateUtils.date(time)\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\treturn dateUtils.addMinutes(min, -59)\r\n\t\tcase 'day':\r\n\t\t\treturn dateUtils.addHours(min, -23)\r\n\t\tcase 'week':\r\n\t\t\treturn dateUtils.addDays(min, -6)\r\n\t\tcase 'month':\r\n\t\t\treturn dateUtils.addDays(dateUtils.addMonths(min, -1), 1)\r\n\t\tcase 'year':\r\n\t\t\treturn dateUtils.addMonths(min, -11)\r\n\t\tdefault:\r\n\t\t\treturn min\r\n\t}\r\n}\r\n\r\nconst TIME_INTERVALS = [\r\n\t{ label: 'YEAR', ms: YEAR },\r\n\t{ label: 'MONTH', ms: MONTH },\r\n\t{ label: 'WEEK', ms: WEEK },\r\n\t{ label: 'DAY', ms: DAY },\r\n\t{ label: 'HOUR', ms: HOUR },\r\n\t{ label: 'MINUTE', ms: MINUTE },\r\n\t{ label: 'SECOND', ms: SECOND },\r\n]\r\n\r\nexport const timeAgo = (time, since = Date.now()) => {\r\n\tconst ms = Math.floor(since - time)\r\n\tconst interval = TIME_INTERVALS.find(i => i.ms < ms)\r\n\tif (!interval) {\r\n\t\treturn t('JUST_NOW')\r\n\t}\r\n\r\n\tconst intervalTimes = Math.floor(ms / interval.ms)\r\n\treturn t('TIME_AGO', {\r\n\t\targs: [intervalTimes, interval.label + (intervalTimes > 1 ? 'S' : '')],\r\n\t})\r\n}\r\n\r\nexport const DATE_TIME_FORMATS_BY_TIMEFRAME = {\r\n\tyear: { long: 'YYYY-MM', short: 'YYYY-MM' },\r\n\tmonth: { long: 'YYYY-MM-DD', short: 'YYYY-MM-DD' },\r\n\tweek: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\r\n\tday: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\r\n\thour: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\r\n}\r\n\r\nexport const getPeriodLabel = ({ timeframe, start, end }) => {\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\tcase 'day':\r\n\t\tcase 'week':\r\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM/DD HH:mm')} - \r\n${dateUtils.format(end, 'YYYY/MM/DD HH:mm')}`\r\n\t\tcase 'month':\r\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM/DD')} - \r\n${dateUtils.format(end, 'YYYY/MM/DD')}`\r\n\t\tcase 'year':\r\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM')} - \r\n${dateUtils.format(end, 'YYYY/MM')}`\r\n\t\tdefault:\r\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\r\n\t}\r\n}\r\n\r\nexport const getPeriodDataPointLabel = ({ timeframe, time }) => {\r\n\tif (timeframe && time) {\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\tcase 'day':\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD HH:mm')}`\r\n\t\t\tcase 'week':\r\n\t\t\t\tconst periodEnd = +dateUtils.addMinutes(\r\n\t\t\t\t\tdateUtils.addHours(dateUtils.date(time), 3),\r\n\t\t\t\t\t-1\r\n\t\t\t\t)\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD HH:mm')} - \r\n${dateUtils.format(periodEnd, 'YYYY/MM/DD HH:mm')}`\r\n\t\t\tcase 'month':\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD')}`\r\n\t\t\tcase 'year':\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM')}`\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('INVALID_TIMEFRAME')\r\n\t\t}\r\n\t}\r\n\treturn ''\r\n}\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectAccountIdentityCreatedDate,\r\n\tselectNewItemByTypeAndId,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectCampaignInDetails,\r\n} from 'selectors'\r\nimport { selectAdUnits } from './itemsSelectors'\r\n\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tgetPeriodDataPointLabel,\r\n\tgetMinStartDateTimeByTimeframe,\r\n} from 'helpers/analyticsTimeHelpers'\r\n\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\r\nimport { t } from './translationsSelectors'\r\nimport { selectAdSlotsArray } from './itemsSelectors'\r\nimport { selectInitialDataLoadedByData } from './uiSelectors'\r\n\r\nexport const selectAnalytics = state => state.memory.analytics\r\nexport const selectTargeting = state => state.persist.targeting\r\n\r\nconst MIN_SLOTS_FOR_AD_TYPE = 2\r\n\r\nexport const selectAdvancedAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\tanalytics => analytics.advanced || {}\r\n)\r\n\r\nexport const selectAnalyticsLastChecked = createSelector(\r\n\tselectAnalytics,\r\n\t({ lastChecked }) => {\r\n\t\treturn lastChecked || new Date()\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsLiveTimestamp = createSelector(\r\n\t[\r\n\t\tselectIdentitySideAnalyticsTimeframe,\r\n\t\tselectAnalyticsLastChecked,\r\n\t\tselectCampaignInDetails,\r\n\t],\r\n\t(timeframe, lastChecked, campaign) => {\r\n\t\tconst currentDate = campaign\r\n\t\t\t? dateUtils.date(\r\n\t\t\t\t\tMath.min(campaign.withdrawPeriodStart, +dateUtils.date())\r\n\t\t\t  )\r\n\t\t\t: dateUtils.date(lastChecked)\r\n\t\tlet start = dateUtils.date(currentDate)\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\t\tconst hourStart = dateUtils.addMinutes(currentDate, -59)\r\n\t\t\t\tstart = dateUtils.startOfMinute(hourStart)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'day':\r\n\t\t\t\tconst dayStart = dateUtils.addHours(currentDate, -23)\r\n\t\t\t\tstart = dateUtils.startOfHour(dayStart)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'week':\r\n\t\t\t\tconst weekStart = dateUtils.addDays(currentDate, -6)\r\n\t\t\t\tstart = dateUtils.getHourSpanStart(weekStart, 3)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'month':\r\n\t\t\t\tconst monthStart = dateUtils.addDays(\r\n\t\t\t\t\tdateUtils.addMonths(currentDate, -1),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t\tstart = dateUtils.startOfDay(monthStart)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'year':\r\n\t\t\t\tconst yearStart = dateUtils.addMonths(currentDate, -11)\r\n\t\t\t\tstart = dateUtils.startOfMonth(yearStart)\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tstart = dateUtils.startOfHour(start)\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\treturn +start\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ campaigns }) => campaigns || {}\r\n)\r\n\r\nexport const selectDemandAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ demand }) => demand || {}\r\n)\r\n\r\nexport const selectDemandAnalyticsByType = createCachedSelector(\r\n\tselectDemandAnalytics,\r\n\t(_, type) => type,\r\n\t(demand, type) => demand[type] || {}\r\n)((_state, type = '-') => type)\r\n\r\nexport const selectTargetingAnalytics = createSelector(\r\n\t[selectTargeting],\r\n\t({ targetingData = [] }) => targetingData\r\n)\r\n\r\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\r\n\t[selectTargeting],\r\n\t({ minByCategory = {} }) => minByCategory\r\n)\r\n\r\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\r\n\t[selectTargeting],\r\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\r\n)\r\n\r\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargetingAnalytics => {\r\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\r\n\t\t\tx.types.forEach(t => {\r\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\r\n\t\t\t})\r\n\r\n\t\t\treturn byType\r\n\t\t}, {})\r\n\r\n\t\treturn targetingAnalytics\r\n\t\t\t.filter(\r\n\t\t\t\tx =>\r\n\t\t\t\t\t!!x.categories &&\r\n\t\t\t\t\tx.categories.length &&\r\n\t\t\t\t\tx.types &&\r\n\t\t\t\t\tx.types.length &&\r\n\t\t\t\t\t!!x.campaignsEarnedFrom\r\n\t\t\t)\r\n\t\t\t.map(t => ({\r\n\t\t\t\t...t,\r\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\r\n\t\t\t}))\r\n\t\t\t.filter(x => x.types.length)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\r\n\t[selectNewItemByTypeAndId],\r\n\titem => {\r\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsByType = createSelector(\r\n\t[\r\n\t\tselectVerifiedActiveTargetingAnalytics,\r\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\r\n\t],\r\n\t(targetingAnalytics, types) => {\r\n\t\tconst filterByType = types && types.length\r\n\r\n\t\treturn targetingAnalytics.filter(\r\n\t\t\tx =>\r\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategoriesByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\nexport const selectTargetingPublishersByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting => {\r\n\t\treturn Array.from(\r\n\t\t\ttargeting\r\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\r\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\r\n\t\t\t\t\treturn publishers\r\n\t\t\t\t}, new Map())\r\n\t\t\t\t.values()\r\n\t\t).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else {\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategories = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\n// It is used for exclusion so they are not filtered and are sorted from worst to best\r\nexport const selectAllTargetingPublishers = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting => {\r\n\t\treturn Array.from(\r\n\t\t\ttargeting\r\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\r\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\r\n\t\t\t\t\treturn publishers\r\n\t\t\t\t}, new Map())\r\n\t\t\t\t.values()\r\n\t\t).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else {\r\n\t\t\t\treturn -1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectAdvancedAnalyticsByType = createCachedSelector(\r\n\tselectAdvancedAnalytics,\r\n\t(_, type) => type,\r\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\r\n)((_state, type = '-') => type)\r\n\r\nconst mapTotalChanelToAdUnitData = (adUnits, advancedAnalytics) => {\r\n\tconst totalByAdUnit = Object.values(\r\n\t\tadvancedAnalytics.byChannelStats || {}\r\n\t).reduce((byUnit, curr) => {\r\n\t\tObject.entries(curr.reportChannelToAdUnit || {}).forEach(([key, value]) => {\r\n\t\t\tif (adUnits[key]) {\r\n\t\t\t\tbyUnit[key] = (byUnit[key] || 0) + value\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn byUnit\r\n\t}, {})\r\n\r\n\treturn totalByAdUnit\r\n}\r\n\r\nexport const selectAdUnitsTotalStats = createSelector(\r\n\t[selectAdUnits, selectAdvancedAnalytics],\r\n\t(adUnits, advancedAnalytics) => {\r\n\t\tconst stats = {\r\n\t\t\tIMPRESSION: mapTotalChanelToAdUnitData(\r\n\t\t\t\tadUnits,\r\n\t\t\t\tadvancedAnalytics.IMPRESSION || {}\r\n\t\t\t),\r\n\t\t\tCLICK: mapTotalChanelToAdUnitData(adUnits, advancedAnalytics.CLICK || {}),\r\n\t\t}\r\n\r\n\t\treturn stats\r\n\t}\r\n)\r\n\r\nexport const selectPublisherStatsByType = createCachedSelector(\r\n\tselectAdvancedAnalyticsByType,\r\n\t({ publisherStats }) => publisherStats || {}\r\n)((_state, type = '-') => type)\r\n\r\nexport const selectPublisherStatsByCountry = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToCountry || {}\r\n\r\nexport const selectPublisherPayStatsByCountry = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToCountryPay || {}\r\n\r\nexport const selectPublisherStatsAdUnit = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdUnit || {}\r\n\r\nexport const selectPublisherStatsAdUnitPay = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdUnitPay || {}\r\n\r\nexport const selectPublisherStatsAdSlot = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdSlot || {}\r\n\r\nexport const selectPublisherStatsAdSlotPay = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdSlotPay || {}\r\n\r\nexport const selectPublisherAggrStatsByCountry = createCachedSelector(\r\n\tselectPublisherStatsByCountry,\r\n\t(byCountry = {}) => ({\r\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\r\n\t\ttotal: Object.values(byCountry).reduce(\r\n\t\t\t(a, value) => a + (Number(value) || 0),\r\n\t\t\t0\r\n\t\t),\r\n\t})\r\n)((_state, type = '-') => type)\r\n\r\nexport const selectAllAdUnitsInChannels = createSelector(\r\n\t[selectChannelsWithUserBalancesAll],\r\n\twithBalanceAll =>\r\n\t\tObject.values(withBalanceAll).reduce((units, { adUnits = [] } = {}) => {\r\n\t\t\tadUnits.forEach(u => {\r\n\t\t\t\tconst id = u.id || u.ipfs\r\n\t\t\t\tif (id && !units[id]) {\r\n\t\t\t\t\tunits[id] = { ...u, id }\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn units\r\n\t\t}, {})\r\n)\r\n\r\nexport const selectPublisherAdvanceStatsToAdUnit = createSelector(\r\n\tstate => [\r\n\t\tselectAllAdUnitsInChannels(state),\r\n\t\tselectPublisherStatsAdUnit(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdUnit(state, 'CLICK'),\r\n\t\tselectPublisherStatsAdUnitPay(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdUnitPay(state, 'CLICK'),\r\n\t],\r\n\t([\r\n\t\tadUnits,\r\n\t\timpressionsByAdUnit,\r\n\t\tclicksByAdUnit,\r\n\t\timpressionsPayByAdUnit,\r\n\t\tclicksPayByAdUnit,\r\n\t]) =>\r\n\t\tObject.values(adUnits)\r\n\t\t\t.filter(i => impressionsByAdUnit[i.id] !== undefined)\r\n\t\t\t.map(item => ({\r\n\t\t\t\t...item,\r\n\t\t\t\timpressions: impressionsByAdUnit[item.id],\r\n\t\t\t\tclicks: clicksByAdUnit[item.id],\r\n\t\t\t\timpressionsPay: Number(impressionsPayByAdUnit[item.id] || 0),\r\n\t\t\t\tclicksPay: Number(clicksPayByAdUnit[item.id] || 0),\r\n\t\t\t}))\r\n)\r\n\r\nexport const selectPublisherAdvanceStatsToAdSlot = createSelector(\r\n\tstate => [\r\n\t\tselectPublisherStatsAdSlot(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdSlot(state, 'CLICK'),\r\n\t\tselectPublisherStatsAdSlotPay(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdSlotPay(state, 'CLICK'),\r\n\t],\r\n\t([\r\n\t\timpressionsByAdSlot,\r\n\t\tclicksByAdSlot,\r\n\t\timpressionsPayByAdSlot,\r\n\t\tclicksPayByAdSlot,\r\n\t]) => ({\r\n\t\timpressionsByAdSlot,\r\n\t\tclicksByAdSlot,\r\n\t\timpressionsPayByAdSlot,\r\n\t\tclicksPayByAdSlot,\r\n\t})\r\n)\r\n\r\nexport const selectPublisherTotalImpressions = createCachedSelector(\r\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\r\n\t({ reportPublisherToAdUnit }) => {\r\n\t\tconst totalImpressions = reportPublisherToAdUnit\r\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\r\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: 0\r\n\r\n\t\treturn totalImpressions\r\n\t}\r\n)(_state => 'IMPRESSION')\r\n\r\nexport const selectCampaignAnalyticsByChannelStats = (\r\n\tstate,\r\n\ttype,\r\n\tcampaignId\r\n) => {\r\n\tconst { byChannelStats = {} } = selectAdvancedAnalyticsByType(state, type)\r\n\r\n\treturn byChannelStats[campaignId] || {}\r\n}\r\n\r\nexport const selectCampaignAnalyticsByChannelToCountry = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\t({ reportChannelToCountry }) => reportChannelToCountry || {}\r\n)((_state, type, campaignId) => `${type}:${campaignId}`)\r\n\r\nexport const selectCampaignAnalyticsByChannelToCountryPay = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\t({ reportChannelToCountryPay }) => reportChannelToCountryPay || {}\r\n)((_state, type = '-', campaignId = '-') => `${type}:${campaignId}`)\r\n\r\nexport const selectCampaignAggrStatsByCountry = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelToCountry,\r\n\t(byCountry = {}) => ({\r\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\r\n\t\ttotal: Object.values(byCountry).reduce(\r\n\t\t\t(a, value) => a + (Number(value) || 0),\r\n\t\t\t0\r\n\t\t),\r\n\t})\r\n)((_state, type = '-', campaignId = '-') => `${type}:${campaignId}`)\r\n\r\nexport const selectCampaignAnalyticsByChannelToAdUnit = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\r\n\t({ reportChannelToAdUnit }) => reportChannelToAdUnit || {}\r\n)((_state, type, campaignId) => `${type}:${campaignId}`)\r\n\r\nexport const selectMaxAdUnitStatByChannel = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\t({ reportChannelToAdUnit }) =>\r\n\t\treportChannelToAdUnit\r\n\t\t\t? Math.max.apply(null, [0, ...Object.values(reportChannelToAdUnit)])\r\n\t\t\t: 0\r\n)((_state, type = '-', campaignId = '-') => `${type}:${campaignId}`)\r\n\r\nexport const selectAnalyticsDataAggr = createCachedSelector(\r\n\tselectAnalytics,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectAnalyticsLiveTimestamp,\r\n\t(_, opts = {}) => opts,\r\n\t(\r\n\t\tanalytics = {},\r\n\t\t{ start },\r\n\t\tliveTimestamp,\r\n\t\t{ side, eventType, metric, timeframe }\r\n\t) => {\r\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\r\n\t\t// NOTE: It was working fine with default initial state but\r\n\t\t// when eventType CLICK was added if you were logged and had\r\n\t\t// old analytics the initialState is not applied === boom.\r\n\r\n\t\tconst {\r\n\t\t\t[side]: {\r\n\t\t\t\t[eventType]: {\r\n\t\t\t\t\t[metric]: {\r\n\t\t\t\t\t\t[timeframe]: {\r\n\t\t\t\t\t\t\t[liveTimestamp === start ? 'live' : start]: { aggr } = {},\r\n\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t} = {},\r\n\t\t\t\t} = {},\r\n\t\t\t} = {},\r\n\t\t} = analytics\r\n\r\n\t\treturn aggr\r\n\t}\r\n)(\r\n\t(_state, { side = '-', eventType = '-', metric = '-', timeframe = '-' }) =>\r\n\t\t`${side}:${eventType}:${metric}:${timeframe}`\r\n)\r\n\r\nexport function selectCampaignEventsCount(type, campaignId) {\r\n\treturn Object.values(\r\n\t\t// TODO: fix this selector w/o using getState\r\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), type, campaignId)\r\n\t).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nconst mapEventCounts = (data = {}) => {\r\n\treturn Object.values(data).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nconst getChannelToAdUnitData = (advancedAnalytics, campaignId, eventType) => {\r\n\tconst { byChannelStats = {} } = advancedAnalytics[eventType] || {}\r\n\tconst { reportChannelToAdUnit = {} } = byChannelStats[campaignId] || {}\r\n\treturn reportChannelToAdUnit\r\n}\r\n\r\nexport const selectCampaignsEventCountsStats = createSelector(\r\n\tselectAdvancedAnalytics,\r\n\tadvancedAnalytics => {\r\n\t\tconst { byChannelStats = {} } = advancedAnalytics.IMPRESSION || {}\r\n\t\treturn Object.keys(byChannelStats).reduce((stats, key) => {\r\n\t\t\tstats[key] = {\r\n\t\t\t\timpressions: mapEventCounts(\r\n\t\t\t\t\tgetChannelToAdUnitData(advancedAnalytics, key, 'IMPRESSION')\r\n\t\t\t\t),\r\n\t\t\t\tclicks: mapEventCounts(\r\n\t\t\t\t\tgetChannelToAdUnitData(advancedAnalytics, key, 'CLICK')\r\n\t\t\t\t),\r\n\t\t\t}\r\n\r\n\t\t\treturn stats\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsEventCountsStatsById = createCachedSelector(\r\n\tselectCampaignsEventCountsStats,\r\n\t(_state, id) => id,\r\n\t(eventCounts, id) => eventCounts[id] || { impressions: 0, clicks: 0 }\r\n)((_state, id) => id)\r\n\r\nexport const selectTotalImpressions = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectTotalClicks = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectTotalMoney = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\teventPayouts =>\r\n\t\teventPayouts\r\n\t\t\t? eventPayouts.reduce(\r\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectTotalImpressionsWithPayouts = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\t(eventCounts, eventPayouts) =>\r\n\t\teventCounts && eventPayouts\r\n\t\t\t? eventCounts\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\r\n\t\t\t\t\t\t\t\t.value !== null\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectAverageCPM = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectTotalMoney(state, { side, timeframe }),\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\r\n\t(totalMoney, totalImpressions) =>\r\n\t\ttotalMoney !== null && totalImpressions !== null\r\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nconst parseValueByMetric = ({ value, metric }) => {\r\n\tswitch (metric) {\r\n\t\tcase 'eventPayouts':\r\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\r\n\t\tcase 'eventCounts':\r\n\t\t\treturn parseInt(value, 10)\r\n\t\tdefault:\r\n\t\t\treturn value\r\n\t}\r\n}\r\n\r\nexport const selectStatsChartData = createCachedSelector(\r\n\t(state, { noLastOne, ...rest } = {}) => selectAnalyticsDataAggr(state, rest),\r\n\t(_state, { noLastOne, metric, timeframe } = {}) => ({\r\n\t\tnoLastOne,\r\n\t\tmetric,\r\n\t\ttimeframe,\r\n\t}),\r\n\t(data = [], { noLastOne, metric, timeframe }) => {\r\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\r\n\t\treturn aggr.reduce(\r\n\t\t\t(memo, item) => {\r\n\t\t\t\tconst { time, value } = item\r\n\t\t\t\tlet label = getPeriodDataPointLabel({ timeframe, time })\r\n\r\n\t\t\t\tmemo.labels.push(label)\r\n\t\t\t\tmemo.datasets.push(\r\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\r\n\t\t\t\t)\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [],\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n)(\r\n\t(_state, { noLastOne = '-', metric = '-', timeframe = '-' }) =>\r\n\t\t`${metric}:${timeframe}:${noLastOne}`\r\n)\r\n\r\nexport const selectChartDatapointsImpressions = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\r\n\timpressions => impressions\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectChartDatapointsClicks = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\r\n\tclicks => clicks\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectChartDatapointsPayouts = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\tpayouts => payouts\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectInitialDataLoaded = createSelector(\r\n\tstate => [\r\n\t\tselectInitialDataLoadedByData(state, 'allChannels'),\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics'),\r\n\t\tselectInitialDataLoadedByData(state, 'allItems'),\r\n\t],\r\n\t([allChannelsLoaded, advAnalyticsLoaded, itemsLoaded]) =>\r\n\t\tallChannelsLoaded && advAnalyticsLoaded && itemsLoaded\r\n)\r\n\r\nexport const selectPublisherHasAdSlotsButNoImpressionsLastHour = createSelector(\r\n\t(state, { timeframe } = {}) => [\r\n\t\tselectChartDatapointsImpressions(state, {\r\n\t\t\tside: 'for-publisher',\r\n\t\t\ttimeframe,\r\n\t\t}),\r\n\t\tselectAdSlotsArray(state),\r\n\t],\r\n\t([data, adSlotsArray]) => {\r\n\t\tconst { datasets } = data\r\n\t\tconst hasAdSlots = adSlotsArray.length > 0\r\n\t\tconst noImpressions =\r\n\t\t\tdatasets.length > 0 ? Math.max(...datasets) === 0 : false\r\n\t\treturn hasAdSlots && noImpressions\r\n\t}\r\n)\r\n\r\nexport const selectChartDatapointsCPM = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\r\n\r\n\t(payouts, impressions) => {\r\n\t\tconst result = {\r\n\t\t\tlabels: [],\r\n\t\t\tdatasets: [],\r\n\t\t}\r\n\t\tresult.labels = payouts.labels\r\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\r\n\t\t\treturn impressions.datasets[i] !== 0\r\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\r\n\t\t\t\t: n\r\n\t\t})\r\n\t\treturn result\r\n\t}\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectPublisherReceipts = createSelector(\r\n\t[selectAnalytics],\r\n\t({ receipts }) => receipts || {}\r\n)\r\n\r\nexport const selectPublisherReceiptsPresentMonths = createSelector(\r\n\t[selectPublisherReceipts],\r\n\treceipts => Object.keys(receipts).map(r => +r)\r\n)\r\n\r\nexport const selectAnalyticsNowLabel = createSelector(\r\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\r\n\t(timeframe, lastChecked) => {\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.date(lastChecked),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tcase 'day':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(lastChecked), 0),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tcase 'week':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.getHourSpanStart(lastChecked, 3),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tdefault:\r\n\t\t\t\treturn dateUtils.format(dateUtils.date(), DEFAULT_DATETIME_FORMAT)\r\n\t\t}\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsMinAndMaxDates = createSelector(\r\n\t[\r\n\t\tselectCampaignInDetails,\r\n\t\tselectAccountIdentityCreatedDate,\r\n\t\tselectIdentitySideAnalyticsTimeframe,\r\n\t],\r\n\t(campaign = {}, dateCreated, timeframe) => {\r\n\t\tconst { activeFrom, withdrawPeriodStart, status = {} } = campaign\r\n\r\n\t\tconst minDate = getMinStartDateTimeByTimeframe({\r\n\t\t\ttimeframe,\r\n\t\t\ttime: dateUtils.date(activeFrom || dateCreated),\r\n\t\t})\r\n\t\tconst maxDate = getMinStartDateTimeByTimeframe({\r\n\t\t\ttimeframe,\r\n\t\t\ttime: status.closedDate || withdrawPeriodStart || dateUtils.date(),\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tminDate: +minDate,\r\n\t\t\tmaxDate: +maxDate,\r\n\t\t}\r\n\t}\r\n)\r\n","import { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectValidations = state => state.memory.validations\r\n\r\nexport const selectValidationsById = createCachedSelector(\r\n\tselectValidations,\r\n\t(_, id) => id,\r\n\t(validations, id) => validations[id]\r\n)((_state, id = '-') => id)\r\n\r\nexport const selectMultipleValidationsByIds = createCachedSelector(\r\n\tselectValidations,\r\n\t(_, ids) => ids,\r\n\t(validations, ids) => ids.map(id => validations[id])\r\n)((_state, id = '-') => id)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Link } from '@material-ui/core'\r\nimport { OpenInNew } from '@material-ui/icons'\r\nimport clsx from 'clsx'\r\n\r\nexport const styles = theme => ({\r\n\texternalIcon: {\r\n\t\tmarginLeft: theme.spacing(0.5),\r\n\t\tfontSize: 'small',\r\n\t},\r\n\tlink: {\r\n\t\tdisplay: 'inline-flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tfullWidth: {\r\n\t\twidth: '100%',\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({\r\n\thref,\r\n\ttarget,\r\n\tchildren,\r\n\tlabel,\r\n\tunderline,\r\n\texternalIcon,\r\n\tcolor,\r\n\tcomponent,\r\n\tclassName,\r\n\tfullWidth,\r\n\t...rest\r\n}) => {\r\n\tconst classes = useStyles()\r\n\r\n\tconst isExternal = target && target === '_blank'\r\n\tconst url = isExternal ? getUrl(href) : href\r\n\r\n\tconst linkProps = {\r\n\t\tunderline: underline || 'none',\r\n\t\tcolor: color || 'inherit',\r\n\t\tdraggable: 'false',\r\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\r\n\t\ttarget,\r\n\t\thref: url,\r\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\r\n\t\t...(component ? { component } : {}),\r\n\t\t...rest,\r\n\t}\r\n\treturn (\r\n\t\t<Link\r\n\t\t\t{...linkProps}\r\n\t\t\tclassName={clsx(className, classes.link, {\r\n\t\t\t\t[classes.fullWidth]: !!fullWidth,\r\n\t\t\t})}\r\n\t\t>\r\n\t\t\t{!component && (children || label)}\r\n\t\t\t{!component && externalIcon && (\r\n\t\t\t\t<OpenInNew className={classes.externalIcon} />\r\n\t\t\t)}\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport const ExternalAnchor = ({ href, children, style, ...rest }) => (\r\n\t<Anchor\r\n\t\tstyle={{ fontWeight: 'bold' }}\r\n\t\tunderline='always'\r\n\t\ttarget='_blank'\r\n\t\tcolor='primary'\r\n\t\texternalIcon\r\n\t\thref={href}\r\n\t\t{...rest}\r\n\t>\r\n\t\t{children}\r\n\t</Anchor>\r\n)\r\n\r\nexport default Anchor\r\n","import React from 'react'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport { createSelector } from 'reselect'\r\nimport { selectNewItemByTypeAndId, selectValidations } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { constants, IabCategories } from 'adex-models'\r\nimport { t } from './translationsSelectors'\r\n\r\nconst { CountryTiers, AllCountries, OsGroups } = constants\r\n\r\nexport const selectTargeting = state => state.persist.targeting\r\n\r\nconst MIN_SLOTS_FOR_AD_TYPE = 2\r\nconst GLOBAL_MIN_CPM_MULTIPLIER = 0.7\r\n\r\nexport const selectTargetingAnalytics = createSelector(\r\n\t[selectTargeting],\r\n\t({ targetingData = [] }) => targetingData\r\n)\r\n\r\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\r\n\t[selectTargeting],\r\n\t({ minByCategory = {} }) => minByCategory\r\n)\r\n\r\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\r\n\t[selectTargeting],\r\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\r\n)\r\n\r\nexport const selectMinTargetingCpm = createSelector(\r\n\t[\r\n\t\tselectTargetingAnalyticsMinByCategories,\r\n\t\tselectTargetingAnalyticsCountryTiersCoefficients,\r\n\t],\r\n\t(minByCategory, coefficients) => {\r\n\t\tconst minCat = Object.values(minByCategory).sort((a, b) => a - b)[0] || 0\r\n\t\tconst minCof = Object.values(coefficients).sort((a, b) => a - b)[0] || 0\r\n\t\tconst minCPM = minCat * minCof * GLOBAL_MIN_CPM_MULTIPLIER\r\n\r\n\t\treturn minCPM\r\n\t}\r\n)\r\n\r\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargetingAnalytics => {\r\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\r\n\t\t\tx.types.forEach(t => {\r\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\r\n\t\t\t})\r\n\r\n\t\t\treturn byType\r\n\t\t}, {})\r\n\r\n\t\treturn targetingAnalytics\r\n\t\t\t.filter(\r\n\t\t\t\tx =>\r\n\t\t\t\t\t!!x.categories &&\r\n\t\t\t\t\tx.categories.length &&\r\n\t\t\t\t\tx.types &&\r\n\t\t\t\t\tx.types.length &&\r\n\t\t\t\t\t!!x.campaignsEarnedFrom\r\n\t\t\t)\r\n\t\t\t.map(t => ({\r\n\t\t\t\t...t,\r\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\r\n\t\t\t}))\r\n\t\t\t.filter(x => x.types.length)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\r\n\t[selectNewItemByTypeAndId],\r\n\titem => {\r\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsByType = createSelector(\r\n\t[\r\n\t\tselectVerifiedActiveTargetingAnalytics,\r\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\r\n\t],\r\n\t(targetingAnalytics, types) => {\r\n\t\tconst filterByType = types && types.length\r\n\r\n\t\treturn targetingAnalytics.filter(\r\n\t\t\tx =>\r\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategoriesByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\nconst mapTargetingDataToPublishers = targetingData =>\r\n\tArray.from(\r\n\t\ttargetingData\r\n\t\t\t.reduce(\r\n\t\t\t\t(\r\n\t\t\t\t\tpublishers,\r\n\t\t\t\t\t{ owner, hostname, alexaRank, categories, reachPerMillion }\r\n\t\t\t\t) => {\r\n\t\t\t\t\tpublishers.set(hostname, {\r\n\t\t\t\t\t\towner,\r\n\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\talexaRank,\r\n\t\t\t\t\t\tcategories,\r\n\t\t\t\t\t\treachPerMillion,\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn publishers\r\n\t\t\t\t},\r\n\t\t\t\tnew Map()\r\n\t\t\t)\r\n\t\t\t.values()\r\n\t)\r\n\r\nexport const selectTargetingPublishersByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting => {\r\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else {\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategories = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\n// It is used for exclusion so they are not filtered and are sorted from worst to best\r\nexport const selectAllTargetingPublishers = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting => {\r\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else {\r\n\t\t\t\treturn -1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\n// NOTE: it can be constant but we may need some dynamic data\r\nconst autocompleteLocationsSingleSelect = createSelector([], () => {\r\n\tconst tiers = Object.values(CountryTiers).map(\r\n\t\t({ name, ruleValue, countries } = {}) => ({\r\n\t\t\tlabel: t(name),\r\n\t\t\textraLabel: countries.join(', '),\r\n\t\t\tvalue: ruleValue,\r\n\t\t\tgroup: t('BY_TIER'),\r\n\t\t})\r\n\t)\r\n\tconst all = AllCountries.map(({ name, ruleValue } = {}) => ({\r\n\t\tlabel: t(name),\r\n\t\tvalue: ruleValue,\r\n\t\tgroup: name[0].toUpperCase(),\r\n\t}))\r\n\r\n\treturn [...tiers, ...all]\r\n})\r\n\r\nconst autocompleteCategoriesMultiSelectIn = createSelector(\r\n\t[selectTargetingCategoriesByType],\r\n\tcategories =>\r\n\t\t[{ label: t('ALL_CATEGORIES'), value: 'ALL' }].concat(\r\n\t\t\tcategories.map(cat => ({\r\n\t\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\r\n\t\t\t\tvalue: cat,\r\n\t\t\t}))\r\n\t\t)\r\n)\r\n\r\nconst autocompleteCategoriesMultiSelectNin = createSelector(\r\n\t[selectTargetingCategories],\r\n\tcategories =>\r\n\t\tcategories.map(cat => ({\r\n\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\r\n\t\t\tvalue: cat,\r\n\t\t}))\r\n)\r\n\r\nconst getPublisherExtraDataLabel = publisher => [\r\n\t`${t('HOSTNAME')}: ${publisher.hostname}`,\r\n\t`${t('ALEXA_RANK')}: ${publisher.alexaRank || '-'}`,\r\n\t`${t('REACH_PER_MILLION')}: ${publisher.reachPerMillion || '-'}`,\r\n\t`${t('CATEGORIES')}: ${(publisher.categories || [])\r\n\t\t.map(\r\n\t\t\tcat => `\"${IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat}\"`\r\n\t\t)\r\n\t\t.join(', ')}`,\r\n]\r\n\r\nconst autocompletePublishersMultiSelectIn = createSelector(\r\n\t[selectTargetingPublishersByType],\r\n\tpublishers =>\r\n\t\tpublishers.map(pub => ({\r\n\t\t\tlabel: pub.hostname,\r\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\r\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\r\n\t\t\textraData: pub,\r\n\t\t}))\r\n)\r\n\r\nconst autocompletePublishersMultiSelectNin = createSelector(\r\n\t[selectAllTargetingPublishers],\r\n\tpublishers =>\r\n\t\tpublishers.map(pub => ({\r\n\t\t\tlabel: pub.hostname,\r\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\r\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\r\n\t\t\textraData: pub,\r\n\t\t}))\r\n)\r\n\r\nexport const audienceSources = [\r\n\t{\r\n\t\tparameter: 'location',\r\n\t\tapplyType: 'single',\r\n\t\tactions: [\r\n\t\t\t{ type: 'in', label: t('TARGET_COUNTRIES'), minSelected: 1 },\r\n\t\t\t{ type: 'nin', label: t('EXCLUDED_COUNTRIES'), minSelected: 1 },\r\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\r\n\t\t],\r\n\t\textraInfo: t('LOCATION_TIERS_INFO', {\r\n\t\t\targs: [\r\n\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\thref={'https://help.adex.network/hc/en-us/articles/360014629020'}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t</ExternalAnchor>,\r\n\t\t\t],\r\n\t\t}),\r\n\t},\r\n\t{\r\n\t\tparameter: 'categories',\r\n\t\tapplyType: 'multiple',\r\n\t\tmessage: t('CATEGORIES_RECOMMENDATION_MESSAGE'),\r\n\t\tactions: [\r\n\t\t\t{ type: 'in', label: t('SHOW_SELECTED'), minSelected: 1 },\r\n\t\t\t{\r\n\t\t\t\ttype: 'nin',\r\n\t\t\t\tlabel: t('DONT_SHOW_SELECTED'),\r\n\t\t\t\tminSelected: 1,\r\n\t\t\t\tdisabledValues: ['ALL'],\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tparameter: 'publishers',\r\n\t\tapplyType: 'single',\r\n\t\tmessage: t('PUBLISHERS_RECOMMENDATION_MESSAGE'),\r\n\t\tactions: [\r\n\t\t\t{ type: 'in', label: t('SHOW_ONLY_IN_SELECTED'), minSelected: 1 },\r\n\t\t\t{ type: 'nin', label: t('DONT_SHOW_IN_SELECTED'), minSelected: 1 },\r\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tparameter: 'devices',\r\n\t\tapplyType: 'single',\r\n\t\tactions: [\r\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\r\n\t\t\t{ type: 'in', label: t('SHOW_ONLY_IN_SELECTED'), minSelected: 1 },\r\n\t\t\t{ type: 'nin', label: t('DONT_SHOW_IN_SELECTED'), minSelected: 1 },\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tparameter: 'advanced',\r\n\t\tapplyType: 'multiple-checkbox',\r\n\t\tactions: [\r\n\t\t\t{\r\n\t\t\t\tvalue: 'includeIncentivized',\r\n\t\t\t\tlabel: t('INCLUDE_INCENTIVIZED_TRAFFIC'),\r\n\t\t\t\thelper: (\r\n\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014543380-What-is-incentivized-traffic-'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LEARN_MORE')}\r\n\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalue: 'disableFrequencyCapping',\r\n\t\t\t\tlabel: t('DISABLE_FREQUENCY_CAPPING'),\r\n\t\t\t\thelper: (\r\n\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597299-What-is-frequency-capping-'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LEARN_MORE')}\r\n\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalue: 'limitDailyAverageSpending',\r\n\t\t\t\tlabel: t('LIMIT_AVERAGE_DAILY_SPENDING'),\r\n\t\t\t\thelper: (\r\n\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597319-How-to-limit-your-average-daily-spend'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LEARN_MORE')}\r\n\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n]\r\n\r\nconst devices = Object.values(OsGroups).map(\r\n\t({ name, ruleValue, oss } = {}) => ({\r\n\t\tlabel: t(name),\r\n\t\textraLabel: oss.join(', '),\r\n\t\tvalue: ruleValue,\r\n\t\tgroup: t('POPULAR'),\r\n\t})\r\n)\r\n\r\nconst selectAutocompleteAudienceSources = createSelector(\r\n\t[\r\n\t\tautocompleteLocationsSingleSelect,\r\n\t\tautocompleteCategoriesMultiSelectIn,\r\n\t\tautocompleteCategoriesMultiSelectNin,\r\n\t\tautocompletePublishersMultiSelectIn,\r\n\t\tautocompletePublishersMultiSelectNin,\r\n\t],\r\n\t(locations, catIn, catNin, pubIn, pubNin) => ({\r\n\t\tlocation: {\r\n\t\t\tsingleValuesSrc: locations,\r\n\t\t},\r\n\t\tcategories: {\r\n\t\t\tmultipleValuesSrc: {\r\n\t\t\t\tin: catIn,\r\n\t\t\t\tnin: catNin,\r\n\t\t\t},\r\n\t\t},\r\n\t\tpublishers: {\r\n\t\t\tmultipleValuesSrc: {\r\n\t\t\t\tin: pubIn,\r\n\t\t\t\tnin: pubNin,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdevices: {\r\n\t\t\tsingleValuesSrc: devices,\r\n\t\t},\r\n\t})\r\n)\r\n\r\nexport const selectAudienceInputItemOptions = createSelector(\r\n\t[selectNewItemByTypeAndId],\r\n\titem => {\r\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\r\n\t}\r\n)\r\n\r\nconst getDisabledValues = (data, source, inputs, allSrcs) => {\r\n\tconst disabled = []\r\n\r\n\tif (\r\n\t\tdata.parameter === 'publishers' &&\r\n\t\tinputs.categories &&\r\n\t\tinputs.categories.apply &&\r\n\t\tinputs.categories.apply.includes('in') &&\r\n\t\tinputs.categories.in &&\r\n\t\tinputs.categories.in.length\r\n\t) {\r\n\t\tdisabled.in = inputs.categories.in.includes('ALL')\r\n\t\t\t? []\r\n\t\t\t: source\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tx =>\r\n\t\t\t\t\t\t\t!x.extraData.categories.some(c =>\r\n\t\t\t\t\t\t\t\tinputs.categories.in.includes(c)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => c.value)\r\n\t} else if (\r\n\t\tdata.parameter === 'categories' &&\r\n\t\tinputs.publishers &&\r\n\t\tinputs.publishers.apply &&\r\n\t\tinputs.publishers.apply === 'in' &&\r\n\t\tinputs.publishers.in &&\r\n\t\tinputs.publishers.in.length\r\n\t) {\r\n\t\tconst selectedPublishersCategories = new Set()\r\n\t\tallSrcs\r\n\t\t\t.find(s => s.parameter === 'publishers')\r\n\t\t\t.source.in.forEach(p => {\r\n\t\t\t\tif (inputs.publishers.in.includes(p.value)) {\r\n\t\t\t\t\tp.extraData.categories.forEach(c =>\r\n\t\t\t\t\t\tselectedPublishersCategories.add(c)\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tdisabled.in = source\r\n\t\t\t.filter(\r\n\t\t\t\tc => c.value !== 'ALL' && !selectedPublishersCategories.has(c.value)\r\n\t\t\t)\r\n\t\t\t.map(c => c.value)\r\n\t}\r\n\r\n\treturn disabled\r\n}\r\n\r\nexport const selectAudienceSourcesWithOptions = createSelector(\r\n\t[selectAutocompleteAudienceSources],\r\n\tsourcesData =>\r\n\t\taudienceSources.map(s => {\r\n\t\t\tconst source = (sourcesData[s.parameter] || {}).multipleValuesSrc\r\n\t\t\t\t? sourcesData[s.parameter].multipleValuesSrc\r\n\t\t\t\t: {}\r\n\r\n\t\t\tif ((sourcesData[s.parameter] || {}).singleValuesSrc) {\r\n\t\t\t\ts.actions.forEach(a => {\r\n\t\t\t\t\tsource[a.type] = a.value || sourcesData[s.parameter].singleValuesSrc\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...s,\r\n\t\t\t\tsource,\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectAudienceValidations = createCachedSelector(\r\n\tselectValidations,\r\n\t(_, __, ___, validateId) => validateId,\r\n\t(validations, id) => validations[id]\r\n)((_, __, ___, validateId = '-') => validateId)\r\n\r\nexport const selectAudienceInputsDataByItem = createCachedSelector(\r\n\tselectAudienceSourcesWithOptions,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAudienceValidations,\r\n\t(_, __, ___, ____, advancedOnly) => advancedOnly,\r\n\r\n\t(allSrcsWithOptions, selectedItem, validations = {}, advancedOnly) => {\r\n\t\tconst isCampaignAudienceItem = selectedItem && !!selectedItem.audienceInput\r\n\r\n\t\tconst errors =\r\n\t\t\tvalidations[isCampaignAudienceItem ? 'audienceInput' : 'inputs'] || {}\r\n\r\n\t\tconst errorParameters = errors.dirty ? errors.errFields || {} : {}\r\n\r\n\t\tconst inputs =\r\n\t\t\t(isCampaignAudienceItem\r\n\t\t\t\t? selectedItem.audienceInput.inputs\r\n\t\t\t\t: selectedItem.inputs) || {}\r\n\r\n\t\tconst SOURCES = allSrcsWithOptions\r\n\t\t\t.filter(s =>\r\n\t\t\t\t!!advancedOnly ? s.parameter === 'advanced' : s.parameter !== 'advanced'\r\n\t\t\t)\r\n\t\t\t.map(s => {\r\n\t\t\t\tconst disabledValues = getDisabledValues(\r\n\t\t\t\t\ts,\r\n\t\t\t\t\t//TODO: temp only used for in, so there is no point making it to work with other action types\r\n\t\t\t\t\ts.source.in,\r\n\t\t\t\t\tinputs,\r\n\t\t\t\t\tallSrcsWithOptions\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst source = { ...s.source }\r\n\t\t\t\tif (\r\n\t\t\t\t\t!!source.in &&\r\n\t\t\t\t\tsource.in.length &&\r\n\t\t\t\t\t!!disabledValues.in &&\r\n\t\t\t\t\tdisabledValues.in.length\r\n\t\t\t\t) {\r\n\t\t\t\t\tsource.in = [...source.in].sort((a, b) => {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tdisabledValues.in.includes(a.value) &&\r\n\t\t\t\t\t\t\t!disabledValues.in.includes(b.value)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t!disabledValues.in.includes(a.value) &&\r\n\t\t\t\t\t\t\tdisabledValues.in.includes(b.value)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn -1\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn 0\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...s,\r\n\t\t\t\t\tsource,\r\n\t\t\t\t\tdisabledValues,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tconst audienceInputData = { SOURCES, inputs, errorParameters }\r\n\r\n\t\treturn audienceInputData\r\n\t}\r\n)((_, __, ___, ____, advancedOnly = '-') => (!!advancedOnly).toString())\r\n","import { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectNewTransactions = state => state.memory.newTransactions\r\n\r\nexport const selectNewTransactionById = createCachedSelector(\r\n\tselectNewTransactions,\r\n\t(_, id) => id,\r\n\t(txns, id) => txns[id] || {}\r\n)((_state, id = '-') => id)\r\n","import {\r\n\tcreateMuiTheme,\r\n\tresponsiveFontSizes,\r\n\tfade,\r\n} from '@material-ui/core/styles'\r\nimport { lime, grey } from '@material-ui/core/colors'\r\n\r\nconst WHITE = '#fafafa'\r\nconst BLACK = '#0f0f0f'\r\n\r\nexport const ERROR_COLOR = '#FF4269'\r\nexport const ERROR_LIGHT = '#ff7a97'\r\nexport const ERROR_DARK = '#c6003f'\r\n\r\nexport const WARNING = '#FEB006'\r\nexport const SUCCESS = '#14dc9c'\r\nexport const INFO = '#1b75bc'\r\nexport const ERROR = '#ff6969'\r\n\r\n// Light theme\r\nexport const PRIMARY = '#1B75BC'\r\nexport const PRIMARY_LIGHT = '#5fa3ef'\r\nexport const PRIMARY_LIGHTEST = '#96d4ff'\r\nexport const PRIMARY_DARK = '#004a8b'\r\nexport const PRIMARY_DARKEST = '#00235d'\r\n\r\nexport const SECONDARY = '#1BC69F'\r\nexport const SECONDARY_LIGHT = '#65fad0'\r\nexport const SECONDARY_DARK = '#009471'\r\n\r\nexport const ALEX_GREY = '#3C3C3C'\r\nexport const ALEX_GREY_LIGHT = '#666'\r\nexport const ALEX_GREY_DARK = '#161616'\r\nexport const ALEX_GREY_LIGHTEST = '#ebebeb'\r\n\r\nexport const GANDALF_GREY = '#C4C4C4'\r\n\r\nexport const ACCENT_ONE = '#FF6942'\r\nexport const ACCENT_ONE_LIGHT = '#FF9B6F'\r\nexport const ACCENT_ONE_DARK = '#c53616'\r\n\r\nexport const ACCENT_TWO = '#FFAC00'\r\nexport const ACCENT_TWO_LIGHT = '#ffde4b'\r\nexport const ACCENT_TWO_DARK = '#c67d00'\r\n\r\nexport const PAPER = WHITE\r\nexport const BG_DEFAULT = '#efefef'\r\n\r\nconst primary = {\r\n\tmain: PRIMARY,\r\n\tdark: PRIMARY_DARK,\r\n\tlight: PRIMARY_LIGHT,\r\n\tlightest: PRIMARY_LIGHTEST,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\nconst secondary = {\r\n\tmain: SECONDARY,\r\n\tdark: SECONDARY_DARK,\r\n\tlight: SECONDARY_LIGHT,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\n// Dark theme\r\nexport const DARK_PRIMARY = '#0ca597'\r\nexport const DARK_PRIMARY_LIGHT = '#59d7c8'\r\nexport const DARK_PRIMARY_LIGHTEST = '#90fffb'\r\nexport const DARK_PRIMARY_DARK = '#007569'\r\nexport const DARK_PRIMARY_DARKEST = '#00493f'\r\n\r\nexport const DARK_SECONDARY = '#d4ff00'\r\nexport const DARK_SECONDARY_LIGHT = '#ffff58'\r\nexport const DARK_SECONDARY_DARK = '#9ecc00'\r\n\r\nexport const DARK_PAPER = '#333'\r\nexport const DARK_BG_DEFAULT = '#0f1316'\r\nexport const DARK_APPBAR = '#1f1f1f'\r\n\r\nexport const DARK_ACCENT_ONE = '#ff7000'\r\nexport const DARK_ACCENT_ONE_LIGHT = '#ffa140'\r\nexport const DARK_ACCENT_ONE_DARK = '#c43f00'\r\n\r\nexport const DARK_ACCENT_TWO = '#0090dd'\r\nexport const DARK_ACCENT_TWO_LIGHT = '#60c0ff'\r\nexport const DARK_ACCENT_TWO_DARK = '#0063ab'\r\n\r\nconst darkPrimary = {\r\n\tmain: DARK_PRIMARY,\r\n\tdark: DARK_PRIMARY_DARK,\r\n\tlight: DARK_PRIMARY_LIGHT,\r\n\tlightest: DARK_PRIMARY_DARKEST,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\nconst darkSecondary = {\r\n\tmain: DARK_SECONDARY,\r\n\tdark: DARK_SECONDARY_DARK,\r\n\tlight: DARK_SECONDARY_LIGHT,\r\n\tcontrastText: BLACK,\r\n}\r\n\r\nconst paletteCommon = {\r\n\tprimary: { main: PRIMARY, contrastText: WHITE },\r\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\r\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\r\n\tlightGrey: { main: ALEX_GREY_LIGHTEST, contrastText: BLACK },\r\n\twarning: {\r\n\t\tmain: WARNING,\r\n\t\tcontrastText: BLACK,\r\n\t},\r\n\tsuccess: {\r\n\t\tmain: SUCCESS,\r\n\t\tcontrastText: BLACK,\r\n\t},\r\n\tinfo: {\r\n\t\tmain: INFO,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\terror: {\r\n\t\tmain: ERROR,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\tfirst: lime,\r\n\tcommon: {\r\n\t\twhite: WHITE,\r\n\t\tblack: BLACK,\r\n\t},\r\n}\r\n\r\nconst paletteDark = {\r\n\ttype: 'dark',\r\n\t...paletteCommon,\r\n\tprimary: darkPrimary,\r\n\tsecondary: darkSecondary,\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\t// accentOne: {\r\n\t// \tmain: DARK_ACCENT_ONE,\r\n\t// \tlight: ACCENT_ONE_LIGHT,\r\n\t// \tcontrastText: WHITE,\r\n\t// },\r\n\t// accentTwo: {\r\n\t// \tmain: DARK_ACCENT_TWO,\r\n\t// \tlight: ACCENT_TWO_LIGHT,\r\n\t// \tcontrastText: BLACK,\r\n\t// },\r\n\t// special: { main: WARNING, contrastText: BLACK },\r\n\t// text: {\r\n\t// \tmain: TEXT_MAIN,\r\n\t// \tprimary: fade(WHITE, 0.69),\r\n\t// \tsecondary: fade(WHITE, 0.42),\r\n\t// \tdisabled: fade(WHITE, 0.1948),\r\n\t// \thint: fade(WHITE, 0.13),\r\n\t// },\r\n\tdivider: fade(WHITE, 0.13),\r\n\tbackground: {\r\n\t\tpaper: DARK_PAPER,\r\n\t\tdefault: DARK_BG_DEFAULT,\r\n\t},\r\n\taction: {\r\n\t\taction: fade(WHITE, 0.46),\r\n\t\thover: fade(WHITE, 0.069),\r\n\t\thoverOpacity: 0.069,\r\n\t\tselected: fade(WHITE, 0.1914),\r\n\t\tselectedOpacity: 0.1914,\r\n\t\tdisabled: fade(WHITE, 0.1948),\r\n\t\tdisabledOpacity: 0.48,\r\n\t\tfocus: fade(WHITE, 0.18),\r\n\t\tfocusOpacity: 0.18,\r\n\t\tactivatedOpacity: 0.18,\r\n\t},\r\n\tappBar: { main: DARK_APPBAR, contrastText: grey[200] },\r\n\ttext: {\r\n\t\ticon: fade(WHITE, 0.42),\r\n\t\tprimary: fade(WHITE, 0.9),\r\n\t\tsecondary: fade(WHITE, 0.42),\r\n\t\tdisabled: fade(WHITE, 0.1948),\r\n\t\thint: fade(WHITE, 0.13),\r\n\t\tsolid: grey[200],\r\n\t},\r\n}\r\n\r\nconst paletteLight = {\r\n\ttype: 'light',\r\n\t...paletteCommon,\r\n\tprimary,\r\n\tsecondary,\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: {\r\n\t\tmain: ALEX_GREY,\r\n\t\tcontrastText: WHITE,\r\n\t\tlight: ALEX_GREY_LIGHT,\r\n\t\tdark: ALEX_GREY_DARK,\r\n\t},\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: {\r\n\t\tmain: ERROR_COLOR,\r\n\t\tlight: ACCENT_TWO_LIGHT,\r\n\t\tdark: ACCENT_TWO_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\twarning: {\r\n\t\tmain: ACCENT_TWO,\r\n\t\tlight: ERROR_LIGHT,\r\n\t\tdark: ERROR_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\tbackground: {\r\n\t\tdefault: BG_DEFAULT,\r\n\t\tpaper: WHITE,\r\n\t},\r\n\tinfo: primary,\r\n\tsuccess: secondary,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\taction: {\r\n\t\tdisabledBackground: grey[200],\r\n\t\tdisabled: grey[500],\r\n\t},\r\n\ttooltipBgColor: fade(ALEX_GREY, 0.98),\r\n\ttext: {\r\n\t\ticon: fade(BLACK, 0.69),\r\n\t\tprimary: fade(BLACK, 0.9),\r\n\t\tsecondary: fade(BLACK, 0.69),\r\n\t\tdisabled: fade(BLACK, 0.42),\r\n\t\thint: fade(BLACK, 0.13),\r\n\t\tsolid: grey[500],\r\n\t},\r\n}\r\n\r\nexport const palette = {\r\n\tprimary,\r\n\tsecondary,\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: {\r\n\t\tmain: ALEX_GREY,\r\n\t\tcontrastText: WHITE,\r\n\t\tlight: ALEX_GREY_LIGHT,\r\n\t\tdark: ALEX_GREY_DARK,\r\n\t},\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: {\r\n\t\tmain: ERROR_COLOR,\r\n\t\tlight: ACCENT_TWO_LIGHT,\r\n\t\tdark: ACCENT_TWO_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\twarning: {\r\n\t\tmain: ACCENT_TWO,\r\n\t\tlight: ERROR_LIGHT,\r\n\t\tdark: ERROR_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\tinfo: primary,\r\n\tsuccess: secondary,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n\taction: {\r\n\t\tdisabledBackground: grey[200],\r\n\t\tdisabled: grey[500],\r\n\t},\r\n\ttooltipBgColor: fade(ALEX_GREY, 0.98),\r\n}\r\n\r\nconst typography = {\r\n\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\tfontSize: 13.42,\r\n}\r\n\r\nconst defaultTheme = createMuiTheme({\r\n\ttypography,\r\n\tpalette: { ...paletteCommon },\r\n})\r\n\r\nconst darkShadows = [...defaultTheme.shadows, '3px 4px 15px 0px rgba(0,0,0,1)']\r\n\r\nconst lightShadows = [\r\n\t...defaultTheme.shadows,\r\n\t'2px 2px 13px 0px rgba(69,69,69,0.420)',\r\n]\r\n\r\nconst commonTheme = createMuiTheme({\r\n\t...defaultTheme,\r\n\ttypography,\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t\tborderColor: ALEX_GREY,\r\n\t\t\t},\r\n\t\t\tcontained: {\r\n\t\t\t\tbackgroundColor: ALEX_GREY,\r\n\t\t\t\tcolor: WHITE,\r\n\t\t\t\tboxShadow: 0,\r\n\t\t\t\t'&:hover': {\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\t'@media (hover: none)': {\r\n\t\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t'&$focusVisible': {\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\t\t\t\t},\r\n\t\t\t\t'&:active': {\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTooltip: {\r\n\t\t\ttooltip: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t\tfontSize: defaultTheme.typography.pxToRem(13),\r\n\t\t\t\tbackgroundColor: palette.tooltipBgColor,\r\n\t\t\t},\r\n\t\t\tarrow: {\r\n\t\t\t\tcolor: palette.tooltipBgColor,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiSelect: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiInputLabel: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiOutlinedInput: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAlert: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlinedSuccess: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedInfo: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedWarning: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedError: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// },\r\n\t\tMuiExpansionPanel: {\r\n\t\t\troot: {\r\n\t\t\t\tborderColor: 'threedface',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableFooter: {\r\n\t\t\troot: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflex: 0,\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAppBar: {\r\n\t\t\tcolorDefault: {\r\n\t\t\t\tbackgroundColor: palette.appBar.main,\r\n\t\t\t\tcolor: palette.appBar.contrastText,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTablePagination: {\r\n\t\t\ttoolbar: {\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableFilter: {\r\n\t\t\troot: {\r\n\t\t\t\tmaxWidth: '400px',\r\n\t\t\t},\r\n\t\t},\r\n\t\t// Think of accessing an element not a class\r\n\t\tMuiGridListTile: {\r\n\t\t\troot: {\r\n\t\t\t\twidth: '100% !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBodyCell: {\r\n\t\t\tstackedCommon: {\r\n\t\t\t\t[defaultTheme.breakpoints.down('sm')]: {\r\n\t\t\t\t\tdisplay: 'inline-flex',\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\tborderBottom: 'none',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTable: {\r\n\t\t\troot: {\r\n\t\t\t\tborder: '1px solid black',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBody: {\r\n\t\t\temptyTitle: {\r\n\t\t\t\tpadding: defaultTheme.spacing(2),\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst defaultThemeWithOverrides = responsiveFontSizes(commonTheme, {\r\n\tbreakpoints: ['xs', 'sm', 'md', 'lg', 'xl'],\r\n\tfactor: 3,\r\n})\r\n\r\nexport const darkTheme = createMuiTheme({\r\n\t...defaultThemeWithOverrides,\r\n\tpalette: paletteDark,\r\n\tshadows: darkShadows,\r\n\ttype: 'dark',\r\n})\r\n\r\nexport const lightTheme = createMuiTheme({\r\n\t...defaultThemeWithOverrides,\r\n\tpalette: paletteLight,\r\n\tshadows: lightShadows,\r\n\ttype: 'light',\r\n})\r\n","import { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport {\r\n\tt,\r\n\tselectCampaignsArray,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAdSlotsArray,\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\tselectCampaignAnalyticsByChannelToAdUnit,\r\n\tselectCampaignUnitsById,\r\n\tselectMainToken,\r\n\tselectAnalytics,\r\n\tselectPublisherAdvanceStatsToAdUnit,\r\n\tselectPublisherStatsByCountry,\r\n\tselectCampaignAnalyticsByChannelToCountry,\r\n\tselectCampaignAnalyticsByChannelToCountryPay,\r\n\tselectPublisherAggrStatsByCountry,\r\n\tselectCampaignAggrStatsByCountry,\r\n\tselectPublisherPayStatsByCountry,\r\n\tselectPublisherAdvanceStatsToAdSlot,\r\n\tselectSavedAudiences,\r\n\tselectAudienceByCampaignId,\r\n\tselectSide,\r\n\tselectAdUnitsTotalStats,\r\n\tselectCampaignsEventCountsStats,\r\n} from 'selectors'\r\nimport { utils } from 'ethers'\r\nimport chartCountriesData from 'world-atlas/countries-50m.json'\r\nimport { scaleLinear } from 'd3-scale'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\nimport {\r\n\tPRIMARY_DARKEST,\r\n\tPRIMARY_LIGHTEST,\r\n\tSECONDARY,\r\n\tSECONDARY_LIGHT,\r\n} from 'components/App/themeMUi'\r\nimport { grey } from '@material-ui/core/colors'\r\nimport { constants, helpers } from 'adex-models'\r\nimport { selectAdUnitsArray } from './itemsSelectors'\r\nconst { CountryNames, numericToAlpha2 } = constants\r\nconst { pricingBondsToUserInputPerMile } = helpers\r\n\r\nexport const selectCampaignsTableData = createSelector(\r\n\t[\r\n\t\tselectCampaignsEventCountsStats,\r\n\t\tselectCampaignsArray,\r\n\t\tselectRoutineWithdrawTokens,\r\n\t\tselectSide,\r\n\t],\r\n\t(eventCounts, campaigns, tokens, side) => {\r\n\t\treturn campaigns\r\n\t\t\t.filter(x => !x.archived)\r\n\t\t\t.map(item => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\r\n\t\t\t\tconst {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tspec = {},\r\n\t\t\t\t\tadUnits = [],\r\n\t\t\t\t\tstatus,\r\n\t\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\t\tspecPricingBounds,\r\n\t\t\t\t} = item\r\n\r\n\t\t\t\tconst firstUnit = adUnits[0] || {}\r\n\r\n\t\t\t\tconst to = `/dashboard/${side}/campaigns/${id}`\r\n\t\t\t\tconst toReceipt = `/dashboard/${side}/receipt/${id}`\r\n\r\n\t\t\t\tconst cpm =\r\n\t\t\t\t\tpricingBoundsCPMUserInput ||\r\n\t\t\t\t\tpricingBondsToUserInputPerMile({\r\n\t\t\t\t\t\tpricingBounds: specPricingBounds.IMPRESSION\r\n\t\t\t\t\t\t\t? specPricingBounds\r\n\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\tIMPRESSION: {\r\n\t\t\t\t\t\t\t\t\t\tmin: item.minPerImpression || spec.minPerImpression,\r\n\t\t\t\t\t\t\t\t\t\tmax: item.maxPerImpression || spec.maxPerImpression,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tconst { impressions = 0, clicks = 0 } = eventCounts[id] || {}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\tside,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\r\n\t\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\tstatus: {\r\n\t\t\t\t\t\tstatus,\r\n\t\t\t\t\t\timpressions,\r\n\t\t\t\t\t\tcreated: item.created,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdepositAmount: Number(\r\n\t\t\t\t\t\tutils.formatUnits(item.depositAmount || '0', decimals)\r\n\t\t\t\t\t),\r\n\t\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\r\n\t\t\t\t\timpressions,\r\n\t\t\t\t\tclicks,\r\n\r\n\t\t\t\t\tctr: (clicks / impressions) * 100 || 0,\r\n\t\t\t\t\tminPerImpression: Number(cpm.IMPRESSION.min),\r\n\r\n\t\t\t\t\tmaxPerImpression: Number(cpm.IMPRESSION.max),\r\n\t\t\t\t\tcreated: item.created,\r\n\t\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\r\n\t\t\t\t\twithdrawPeriodStart:\r\n\t\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\r\n\t\t\t\t\tactions: {\r\n\t\t\t\t\t\tside,\r\n\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t\ttoReceipt,\r\n\t\t\t\t\t\treceiptReady:\r\n\t\t\t\t\t\t\t(item.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed') &&\r\n\t\t\t\t\t\t\t(item.status.name === 'Exhausted' ||\r\n\t\t\t\t\t\t\t\titem.status.name === 'Expired'),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid,\r\n\t\t\t\t\treceiptAvailable:\r\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsMaxImpressions = createSelector(\r\n\tselectCampaignsTableData,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => Number(i.impressions || 0))\r\n\t\t) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxClicks = createSelector(\r\n\tselectCampaignsTableData,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => Number(i.clicks || 0))\r\n\t\t) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxDeposit = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\r\n\t(campaigns, tokens) =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\r\n\t\t\t\treturn Number(utils.formatUnits(i.depositAmount, decimals) || 0)\r\n\t\t\t})\r\n\t\t)\r\n)\r\n\r\nexport const selectAdSlotsTableData = createSelector(\r\n\t[selectAdSlotsArray, selectPublisherAdvanceStatsToAdSlot, selectSide],\r\n\t(\r\n\t\tslots,\r\n\t\t{\r\n\t\t\timpressionsByAdSlot,\r\n\t\t\tclicksByAdSlot,\r\n\t\t\timpressionsPayByAdSlot,\r\n\t\t\tclicksPayByAdSlot,\r\n\t\t},\r\n\t\tside\r\n\t) =>\r\n\t\tslots\r\n\t\t\t.filter(x => !x.archived)\r\n\t\t\t.map(item => {\r\n\t\t\t\tconst id = item.id || item.ipfs\r\n\t\t\t\tconst to = `/dashboard/${side}/slots/${id}`\r\n\r\n\t\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\r\n\r\n\t\t\t\tconst clicks = clicksByAdSlot[id]\r\n\t\t\t\tconst impressions = impressionsByAdSlot[id]\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\t\tmediaMime,\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttype: type.replace('legacy_', ''),\r\n\t\t\t\t\tcreated: created,\r\n\t\t\t\t\timpressions,\r\n\t\t\t\t\tclicks,\r\n\t\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\r\n\t\t\t\t\tearnings:\r\n\t\t\t\t\t\tNumber(impressionsPayByAdSlot[id] || 0) +\r\n\t\t\t\t\t\tNumber(clicksPayByAdSlot[id] || 0),\r\n\t\t\t\t\tactions: {\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t\titem,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n)\r\n\r\nconst getTabledData = ({\r\n\tselectOnImage,\r\n\tside,\r\n\titems,\r\n\timpressionsByAdUnit,\r\n\tclicksByAdUnit,\r\n}) => {\r\n\treturn [...items]\r\n\t\t.filter(x => !x.archived)\r\n\t\t.map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/units/${id}`\r\n\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\r\n\r\n\t\t\tconst impressions = impressionsByAdUnit(id)\r\n\t\t\tconst clicks = clicksByAdUnit(id) || 0\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tselectOnImage,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\tmediaMime,\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\tctr: (clicks / (impressions || 1)) * 100 || 0,\r\n\t\t\t\ttitle,\r\n\t\t\t\ttype,\r\n\t\t\t\tcreated,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const selectAllAdUnitsTableData = createSelector(\r\n\t[selectAdUnitsArray, selectSide, selectAdUnitsTotalStats],\r\n\t(items, side, adUnitsTotalStats) =>\r\n\t\tgetTabledData({\r\n\t\t\titems,\r\n\t\t\tside,\r\n\t\t\timpressionsByAdUnit: id => adUnitsTotalStats.IMPRESSION[id],\r\n\t\t\tclicksByAdUnit: id => adUnitsTotalStats.CLICK[id],\r\n\t\t})\r\n)\r\n\r\nexport const selectAdUnitsByCampaignTableData = createCachedSelector(\r\n\tselectCampaignUnitsById,\r\n\tselectSide,\r\n\t(state, campaignId) => id => {\r\n\t\treturn selectCampaignAnalyticsByChannelToAdUnit(\r\n\t\t\tstate,\r\n\t\t\t'IMPRESSION',\r\n\t\t\tcampaignId\r\n\t\t)[id]\r\n\t},\r\n\t(state, campaignId) => id => {\r\n\t\treturn selectCampaignAnalyticsByChannelToAdUnit(state, 'CLICK', campaignId)[\r\n\t\t\tid\r\n\t\t]\r\n\t},\r\n\t(items, side, impressionsByAdUnit, clicksByAdUnit) =>\r\n\t\tgetTabledData({\r\n\t\t\titems,\r\n\t\t\tside,\r\n\t\t\timpressionsByAdUnit,\r\n\t\t\tclicksByAdUnit,\r\n\t\t})\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectAdUnitsByItemsTableData = createCachedSelector(\r\n\t(_state, items) => items,\r\n\tselectSide,\r\n\tselectAdUnitsTotalStats,\r\n\t(items, side, adUnitsToatalStats) =>\r\n\t\tgetTabledData({\r\n\t\t\tselectOnImage: true,\r\n\t\t\titems,\r\n\t\t\tside,\r\n\t\t\timpressionsByAdUnit: id => adUnitsToatalStats.IMPRESSION[id],\r\n\t\t\tclicksByAdUnit: id => adUnitsToatalStats.CLICK[id],\r\n\t\t})\r\n)((_state, items = []) => items.map(x => x.id).join(':') || '-')\r\n\r\nexport const selectAdUnitsTableData = createCachedSelector(\r\n\t(state, { campaignId, items }) =>\r\n\t\t!!items\r\n\t\t\t? selectAdUnitsByItemsTableData(state, items)\r\n\t\t\t: campaignId\r\n\t\t\t? selectAdUnitsByCampaignTableData(state, campaignId)\r\n\t\t\t: selectAllAdUnitsTableData(state),\r\n\r\n\tdata => data\r\n)(\r\n\t(_state, { campaignId, items }) =>\r\n\t\tcampaignId || (items || []).map(x => x.id).join(':') || 'all'\r\n)\r\n\r\nexport const selectAudiencesTableData = createSelector(\r\n\t[selectSavedAudiences],\r\n\taudiences =>\r\n\t\taudiences\r\n\t\t\t.filter(x => !x.archived)\r\n\t\t\t.map(item => {\r\n\t\t\t\tconst { id, title, inputs, version, created, updated } = item\r\n\r\n\t\t\t\tconst to = `/dashboard/advertiser/audiences/${id}`\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\ttitle: title || id,\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t\tactions: {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\taudienceInput: { inputs, version },\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tto: `/dashboard/advertiser/audiences/${id}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n)\r\n\r\nconst mapByCountryTableData = ({\r\n\timpressionsByCountry,\r\n\tclicksByCountry,\r\n\timpressionsAggrByCountry,\r\n\timpressionsPayByCountry,\r\n\tclicksPayByCountry,\r\n} = {}) => {\r\n\tconst addEarnings = impressionsPayByCountry && clicksPayByCountry\r\n\t// NOTE: assume that there are no click without impressions\r\n\treturn Object.keys(impressionsByCountry).map(key => {\r\n\t\treturn {\r\n\t\t\tcountryName: CountryNames[key],\r\n\t\t\timpressions: impressionsByCountry[key] || 0,\r\n\t\t\tpercentImpressions:\r\n\t\t\t\t((impressionsByCountry[key] || 0) /\r\n\t\t\t\t\t(impressionsAggrByCountry.total || 1)) *\r\n\t\t\t\t100,\r\n\t\t\tclicks: clicksByCountry[key] || 0,\r\n\r\n\t\t\tctr:\r\n\t\t\t\t((clicksByCountry[key] || 0) / (impressionsByCountry[key] || 1)) * 100,\r\n\t\t\t...(addEarnings && {\r\n\t\t\t\tearnings:\r\n\t\t\t\t\t(impressionsPayByCountry[key] || 0) + (clicksPayByCountry[key] || 0),\r\n\t\t\t\taverageCPM:\r\n\t\t\t\t\t(Number(impressionsPayByCountry[key] || 0) /\r\n\t\t\t\t\t\tNumber(impressionsByCountry[key] || 1)) *\r\n\t\t\t\t\t1000,\r\n\t\t\t}),\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const selectPublisherStatsByCountryData = createSelector(\r\n\t[\r\n\t\tstate => selectPublisherStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherStatsByCountry(state, 'CLICK'),\r\n\t\tstate => selectPublisherAggrStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherPayStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherPayStatsByCountry(state, 'CLICK'),\r\n\t],\r\n\t(\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry\r\n\t) => ({\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry,\r\n\t})\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryData = createCachedSelector(\r\n\t(state, campaignId) => {\r\n\t\treturn [\r\n\t\t\tselectCampaignAnalyticsByChannelToCountry(\r\n\t\t\t\tstate,\r\n\t\t\t\t'IMPRESSION',\r\n\t\t\t\tcampaignId\r\n\t\t\t),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, 'CLICK', campaignId),\r\n\t\t\tselectCampaignAggrStatsByCountry(state, 'IMPRESSION', campaignId),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(\r\n\t\t\t\tstate,\r\n\t\t\t\t'IMPRESSION',\r\n\t\t\t\tcampaignId\r\n\t\t\t),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, 'CLICK', campaignId),\r\n\t\t]\r\n\t},\r\n\t([\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry,\r\n\t]) => {\r\n\t\treturn {\r\n\t\t\timpressionsByCountry,\r\n\t\t\tclicksByCountry,\r\n\t\t\timpressionsAggrByCountry,\r\n\t\t\timpressionsPayByCountry,\r\n\t\t\tclicksPayByCountry,\r\n\t\t}\r\n\t}\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectPublisherStatsByCountryTableData = createSelector(\r\n\tselectPublisherStatsByCountryData,\r\n\tdata => mapByCountryTableData(data)\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryTableData = createCachedSelector(\r\n\tselectCampaignAnalyticsToCountryData,\r\n\tdata => mapByCountryTableData(data)\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nconst mapByCountryMapChartData = ({\r\n\timpressionsByCountry,\r\n\tclicksByCountry,\r\n\timpressionsAggrByCountry,\r\n} = {}) => {\r\n\tconst colorScale = scaleLinear()\r\n\t\t.domain([0, impressionsAggrByCountry.max])\r\n\t\t.range([PRIMARY_LIGHTEST, PRIMARY_DARKEST])\r\n\r\n\tconst hoverColor = SECONDARY\r\n\tconst pressedColor = SECONDARY_LIGHT\r\n\tconst chartData = { ...chartCountriesData }\r\n\r\n\tchartData.objects.countries.geometries = chartCountriesData.objects.countries.geometries.map(\r\n\t\tdata => {\r\n\t\t\tconst id = numericToAlpha2(data.id)\r\n\t\t\tconst impressions = impressionsByCountry[id] || 0\r\n\t\t\tconst clicks = clicksByCountry[id] || 0\r\n\t\t\tconst name = CountryNames[id] || data.name\r\n\t\t\tconst percentImpressions =\r\n\t\t\t\t((impressions || 0) / impressionsAggrByCountry.total) * 100 || 0\r\n\t\t\tconst ctr = ((clicks || 0) / (impressions || 1)) * 100 || 0\r\n\t\t\tconst tooltipElements = [\r\n\t\t\t\t`${name}:`,\r\n\t\t\t\t`${t('LABEL_IMPRESSIONS')}: ${formatAbbrNum(impressions, 2)}`,\r\n\t\t\t\t`${t('LABEL_CLICKS')}: ${formatAbbrNum(clicks, 2)}`,\r\n\t\t\t\t`${t('LABEL_PERC')}: ${percentImpressions.toFixed(2)} %`,\r\n\t\t\t\t`${t('LABEL_CTR')}: ${ctr.toFixed(4)} %`,\r\n\t\t\t]\r\n\r\n\t\t\tconst fillColor = impressions > 0 ? colorScale(impressions) : grey[400]\r\n\r\n\t\t\tconst properties = {\r\n\t\t\t\tname,\r\n\t\t\t\tfillColor,\r\n\t\t\t\ttooltipElements,\r\n\t\t\t}\r\n\r\n\t\t\treturn { ...data, properties }\r\n\t\t}\r\n\t)\r\n\r\n\treturn { chartData, hoverColor, pressedColor }\r\n}\r\n\r\nexport const selectPublisherStatsByCountryMapChartData = createSelector(\r\n\t[selectPublisherStatsByCountryData],\r\n\tdata => mapByCountryMapChartData(data)\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryMapChartData = createCachedSelector(\r\n\tselectCampaignAnalyticsToCountryData,\r\n\tdata => mapByCountryMapChartData(data)\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectBestEarnersTableData = createSelector(\r\n\tselectPublisherAdvanceStatsToAdUnit,\r\n\titems =>\r\n\t\titems.map(item => {\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\tmediaMime,\r\n\t\t\t\ttype,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\timpressionsPay,\r\n\t\t\t\tclicksPay,\r\n\t\t\t} = item\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\tmediaMime,\r\n\t\t\t\t},\r\n\t\t\t\ttype,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\r\n\t\t\t\tearnings: impressionsPay + clicksPay,\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignStatsTableData = createCachedSelector(\r\n\tselectAnalytics, // temp fix to update campaign analytics daat\r\n\tselectAudienceByCampaignId,\r\n\t(state, campaignId) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, 'IMPRESSION', campaignId),\r\n\t(state, campaignId) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, 'CLICK', campaignId),\r\n\t(_advanced, campaignAudienceInput, impressions, clicks) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\r\n\r\n\t\tconst rules = campaignAudienceInput\r\n\t\t\t? campaignAudienceInput.inputs.publishers\r\n\t\t\t: null\r\n\r\n\t\treturn Object.keys(imprStats).map(key => ({\r\n\t\t\tisBlacklisted:\r\n\t\t\t\trules &&\r\n\t\t\t\t((rules.apply === 'nin' &&\r\n\t\t\t\t\t(rules.nin || []).some(x => x.includes(key))) ||\r\n\t\t\t\t\t(rules.apply === 'in' &&\r\n\t\t\t\t\t\t!(rules.in || []).some(x => x.includes(key)))),\r\n\r\n\t\t\twebsite: key,\r\n\t\t\timpressions: imprStats[key] || 0,\r\n\t\t\tctr: ((clickStats[key] || 0) / (imprStats[key] || 1)) * 100,\r\n\t\t\tearnings: Number(earnStats[key] || 0),\r\n\t\t\taverageCPM:\r\n\t\t\t\t(Number(earnStats[key] || 0) / Number(imprStats[key] || 1)) * 1000,\r\n\t\t\tclicks: clickStats[key] || 0,\r\n\t\t}))\r\n\t}\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectCampaignTotalValues = createCachedSelector(\r\n\tselectCampaignStatsTableData,\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalClicks += current.clicks\r\n\t\t\t\tnewResult.totalImpressions += current.impressions\r\n\t\t\t\tnewResult.totalEarnings += current.earnings\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\r\n\t\t)\r\n)((_state, { campaignId }) => campaignId)\r\n\r\nexport const selectCampaignStatsMaxValues = createCachedSelector(\r\n\tselectCampaignStatsTableData,\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks || 0, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr || 0, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions || 0,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\tnewResult.maxEarnings = Math.max(\r\n\t\t\t\t\tcurrent.earnings || 0,\r\n\t\t\t\t\tnewResult.maxEarnings\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\r\n\t\t)\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectAdUnitsStatsMaxValues = createCachedSelector(\r\n\tselectAdUnitsTableData,\r\n\tdata => {\r\n\t\treturn data.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks || 0, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr || 0, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions || 0,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxCTR: 0 }\r\n\t\t)\r\n\t}\r\n)(\r\n\t(_state, { campaignId, items }) =>\r\n\t\tcampaignId || (items || []).map(x => x.id).join(':') || 'all'\r\n)\r\n\r\nexport const selectPublisherReceiptsStatsByMonthTableData = createCachedSelector(\r\n\tselectAnalytics,\r\n\tselectMainToken,\r\n\t(_state, date) => date,\r\n\t({ receipts }, token, date) => {\r\n\t\tconst result = []\r\n\t\tif (receipts && receipts[date]) {\r\n\t\t\tconst { decimals = 18 } = token || {}\r\n\t\t\tfor (let [key, value] of Object.entries(receipts[date])) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\timpressions: value.impressions,\r\n\t\t\t\t\tpayouts:\r\n\t\t\t\t\t\t// TODO: temp solution until v5 - sun 7% validator fees\r\n\t\t\t\t\t\tNumber(utils.formatUnits(value.payouts || '0', decimals)) * 0.93,\r\n\t\t\t\t\tdate: +key,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n)((_state, date = '-') => date)\r\n\r\nexport const selectPublisherReceiptsStatsByMonthTotalValues = createSelector(\r\n\t[selectPublisherReceiptsStatsByMonthTableData],\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalPayouts += +current.payouts\r\n\t\t\t\tnewResult.totalImpressions += +current.impressions\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalPayouts: 0, totalImpressions: 0 }\r\n\t\t)\r\n)\r\n","import { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectCampaignDoughnutStats = createCachedSelector(\r\n\t(state, { campaignId, chartColors, maxDataSets } = {}) => {\r\n\t\tconst analytics = {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(\r\n\t\t\t\tstate,\r\n\t\t\t\t'IMPRESSION',\r\n\t\t\t\tcampaignId\r\n\t\t\t),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, 'CLICK', campaignId),\r\n\t\t}\r\n\r\n\t\treturn { ...analytics, chartColors, maxDataSets }\r\n\t},\r\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\r\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\r\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, key, i) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tif (i < maxDataSets) {\r\n\t\t\t\t\t\tnewData.labels.push(key)\r\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\r\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\r\n\r\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\r\n\r\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\r\n\t\t\t)\r\n\r\n\t\tconst data = {\r\n\t\t\tlabels,\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: impressionsData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: clicksData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\r\n\t\treturn data\r\n\t}\r\n)((_state, { campaignId = '-' } = {}) => campaignId)\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tREADONLY: { name: 'readonly' },\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const ETHEREUM_NETWORKS = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Goerli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Goerli', for: 'development' },\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n\r\nexport const VALIDATOR_ANALYTICS_METRICS = [\r\n\t'eventPayouts', //\r\n\t'eventCounts',\r\n]\r\nexport const VALIDATOR_ANALYTICS_SIDES = [\r\n\t'advertiser',\r\n\t'publisher', //\r\n]\r\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\r\n\t'IMPRESSION', //\r\n\t'CLICK',\r\n]\r\n\r\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\r\n\t{ label: 'LABEL_HOUR', value: 'hour' },\r\n\t{ label: 'LABEL_DAY', value: 'day' },\r\n\t{ label: 'LABEL_WEEK', value: 'week' },\r\n\t{ label: 'LABEL_MONTH', value: 'month' },\r\n\t{ label: 'LABEL_YEAR', value: 'year' },\r\n]\r\n\r\nexport const WHERE_YOU_KNOW_US = [\r\n\t{ label: 'LABEL_GOOGLE', value: 'search_engine' },\r\n\t{ label: 'LABEL_TWITTER', value: 'twitter' },\r\n\t{ label: 'LABEL_FACEBOOK', value: 'facebook' },\r\n\t{ label: 'LABEL_REDDIT', value: 'reddit' },\r\n\t{ label: 'LABEL_EVENT', value: 'event' },\r\n\t{ label: 'LABEL_FRIEND', value: 'friend' },\r\n\t{ label: 'LABEL_OTHER', value: 'other' },\r\n]\r\n\r\nexport const USER_SIDES = [\r\n\t{\r\n\t\tlabel: 'LABEL_PUBLISHER',\r\n\t\tvalue: 'publisher',\r\n\t\textraLabels: ['SALE_POINT_PUB_1', 'SALE_POINT_PUB_2', 'SALE_POINT_PUB_3'],\r\n\t},\r\n\t{\r\n\t\tlabel: 'LABEL_ADVERTISER',\r\n\t\tvalue: 'advertiser',\r\n\t\textraLabels: ['SALE_POINT_ADV_1', 'SALE_POINT_ADV_2', 'SALE_POINT_ADV_3'],\r\n\t},\r\n]\r\n\r\nexport const MOON_GRAVITY_ACCELERATION = 1.625\r\nexport const MOON_TO_EARTH_WEIGHT = 0.166\r\n\r\nexport const WALLET_ACTIONS_MSGS = {\r\n\t[AUTH_TYPES.METAMASK.name]: [\r\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\r\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\r\n\t],\r\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.QUICK.name]: [\r\n\t\t{ message: 'QUICK_WAITING_MSG' },\r\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\r\n\t],\r\n\t[AUTH_TYPES.GRANT.name]: [\r\n\t\t{ message: 'GRANT_WAITING_MSG' },\r\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\r\n\t],\r\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\r\n}\r\n\r\nexport const EXECUTE_ACTIONS = {\r\n\twithdraw: 'WITHDRAW',\r\n\tprivilegesChange: 'PRIVILEGES_CHANGE',\r\n\tensChange: 'ENS_CHANGE',\r\n\topenCampaign: 'OPEN_CAMPAIGN',\r\n\tdefault: 'DEFAULT',\r\n\trelayerFee: 'RELAYER_FEE',\r\n}\r\n","import { BigNumber, utils } from 'ethers'\r\nimport {\r\n\tt,\r\n\tselectDemandAnalytics,\r\n\tselectMainToken,\r\n\tselectWebsitesArray,\r\n\tselectVerifiedActiveTargetingAnalytics,\r\n} from 'selectors'\r\nimport { createSelector } from 'reselect'\r\nimport { constants } from 'adex-models'\r\nimport { WHERE_YOU_KNOW_US, USER_SIDES } from 'constants/misc'\r\nimport moment from 'moment'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectSlotTypesSourceWithDemands = createSelector(\r\n\t[selectDemandAnalytics, selectMainToken],\r\n\t(demand, { symbol }) => {\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: type,\r\n\t\t\t\tlabel: type.split('_')[1],\r\n\t\t\t\tdemand: demand[type],\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\tconst dA = BigNumber.from(a.demand ? a.demand.raw.avgCPM : 0)\r\n\t\t\t\tconst dB = BigNumber.from(b.demand ? b.demand.raw.avgCPM : 0)\r\n\r\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst current = type\r\n\t\t\t\t\tif (index === 0 && type.demand) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\t!type.demand\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (current.demand) {\r\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\r\n\t\t\t)\r\n\t\treturn source\r\n\t}\r\n)\r\n\r\nexport const selectVerifiedActiveTypes = createSelector(\r\n\t[selectVerifiedActiveTargetingAnalytics, selectMainToken],\r\n\t(targetingAnalytics, { decimals }) => {\r\n\t\tconst verified = targetingAnalytics.reduce((types, data) => {\r\n\t\t\tdata.types.forEach(t => {\r\n\t\t\t\tconst typeData = types.get(t) || {\r\n\t\t\t\t\tbyOwner: {},\r\n\t\t\t\t\tminSlotCount: 1,\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttypeData.byOwner[data.owner] = typeData.byOwner[data.owner] || {}\r\n\t\t\t\t// As totalEarned is by owner we need it once\r\n\t\t\t\ttypeData.byOwner[data.owner].revenue =\r\n\t\t\t\t\ttypeData.byOwner[data.owner].revenue || data.totalEarned || '0'\r\n\r\n\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom =\r\n\t\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom ||\r\n\t\t\t\t\tdata.campaignsEarnedFrom ||\r\n\t\t\t\t\t1\r\n\t\t\t\ttypes.set(t, typeData)\r\n\t\t\t})\r\n\r\n\t\t\treturn types\r\n\t\t}, new Map())\r\n\r\n\t\tverified.forEach((value, key) => {\r\n\t\t\tconst totalRevenue = Object.values(value.byOwner).reduce(\r\n\t\t\t\t(total, r = {}) => total.add(BigNumber.from(r.revenue || '0')),\r\n\t\t\t\tBigNumber.from('0')\r\n\t\t\t)\r\n\r\n\t\t\tverified.set(key, {\r\n\t\t\t\trevenue: parseFloat(\r\n\t\t\t\t\tutils.formatUnits(totalRevenue.toString(), decimals)\r\n\t\t\t\t),\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\treturn verified\r\n\t}\r\n)\r\n\r\nexport const selectUnitTypesSourceWithRecommendations = createSelector(\r\n\t[selectVerifiedActiveTypes, selectMainToken],\r\n\t(verifiedTypes, { symbol } = {}) => {\r\n\t\tconst totoShare = Array.from(verifiedTypes.values()).reduce(\r\n\t\t\t(total, { revenue = 0 }) => total + revenue,\r\n\t\t\t1\r\n\t\t)\r\n\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => ({\r\n\t\t\tvalue: type,\r\n\r\n\t\t\trevenue: (verifiedTypes.get(type) || {}).revenue || 0,\r\n\t\t}))\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\treturn b.revenue - a.revenue\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst { revenue, ...typeRest } = type\r\n\t\t\t\t\tconst current = { ...typeRest }\r\n\t\t\t\t\tcurrent.label = current.value.split('_')[1]\r\n\t\t\t\t\tif (index === 0 && revenue > 0) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('MOST_POPULAR_UNITS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst share = revenue / totoShare\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasLessPopularGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\tshare <= 0.01 // less than 1%\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasLessPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('LESS_POPULAR_UNITS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsource: [],\r\n\t\t\t\t\thasPopularGroup: false,\r\n\t\t\t\t\thasLessPopularGroup: false,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\treturn source\r\n\t}\r\n)\r\n\r\nexport const selectMonthsRange = createCachedSelector(\r\n\t(startDate, endDate) => ({\r\n\t\tstartDate,\r\n\t\tendDate,\r\n\t}),\r\n\t({ startDate, endDate }) => {\r\n\t\tconst months = []\r\n\t\tfor (\r\n\t\t\tvar m = moment(startDate).startOf('month');\r\n\t\t\tm.diff(moment(endDate).startOf('month')) <= 0;\r\n\t\t\tm.add(1, 'month')\r\n\t\t) {\r\n\t\t\tmonths.push(+m)\r\n\t\t}\r\n\t\treturn months\r\n\t}\r\n)((startDate = '-', endDate = '-') => `${startDate}:${endDate}`)\r\n\r\nexport const selectReceiptMonths = createCachedSelector(\r\n\tselectMonthsRange,\r\n\t(_, __, monthsEnd) => monthsEnd,\r\n\t(months, monthsEnd) =>\r\n\t\tmonths.map(monthTimestamp => ({\r\n\t\t\tvalue: monthTimestamp,\r\n\t\t\tlabel: !!monthsEnd\r\n\t\t\t\t? moment(monthTimestamp)\r\n\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t.format('Do MMMM, YYYY')\r\n\t\t\t\t: moment(monthTimestamp).format('Do MMMM, YYYY'),\r\n\t\t}))\r\n)(\r\n\t(startDate = '-', endDate = '-', monthsEnd = '-') =>\r\n\t\t`${startDate}:${endDate}:${monthsEnd}`\r\n)\r\n\r\nexport const selectFromSource = createSelector(\r\n\tlabelValueMapping => labelValueMapping,\r\n\tsource =>\r\n\t\tsource.map(data => {\r\n\t\t\tconst translated = { ...data }\r\n\t\t\ttranslated.label = t(data.label)\r\n\t\t\tconst extraLabel = data.extraLabel\r\n\t\t\t\t? t(data.extraLabel)\r\n\t\t\t\t: data.extraLabels && data.extraLabels.length\r\n\t\t\t\t? data.extraLabels.map(l => t(l))\r\n\t\t\t\t: undefined\r\n\t\t\ttranslated.extraLabel = extraLabel\r\n\t\t\treturn translated\r\n\t\t})\r\n)\r\n\r\nexport const selectKnowUsFromSource = createSelector(\r\n\t() => selectFromSource(WHERE_YOU_KNOW_US),\r\n\tsource => source\r\n)\r\n\r\nexport const selectUserSides = createSelector(\r\n\t() => selectFromSource(USER_SIDES),\r\n\tsource => source\r\n)\r\n\r\nexport const websitesAutocompleteSrc = createSelector(\r\n\tselectWebsitesArray,\r\n\twebsites =>\r\n\t\twebsites.map(ws => {\r\n\t\t\tconst website = `https://${ws.id}`\r\n\t\t\treturn {\r\n\t\t\t\tlabel: website,\r\n\t\t\t\tvalue: website,\r\n\t\t\t\tstatus: ws.issues && ws.issues.length ? 'error' : 'success',\r\n\t\t\t}\r\n\t\t})\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n\tselectWebsitesList,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta = {} }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const hasVerifiedSites = createSelector(selectWebsitesList, websites =>\r\n\twebsites.some(({ issues }) => !issues || !issues.length)\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n\r\nexport const selectStepsData = createSelector(\r\n\t[\r\n\t\tselectHasCreatedAdUnit,\r\n\t\tselectHasCreatedCampaign,\r\n\t\tselectHasCreatedAdSlot,\r\n\t\tselectHasConfirmedEmail,\r\n\t\tselectHasFundedAccount,\r\n\t\tselectHasAdSlotImpressions,\r\n\t\tselectHas5000Impressions,\r\n\t\thasVerifiedSites,\r\n\t],\r\n\t(\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t\thasVerifiedSites\r\n\t) => ({\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t\thasVerifiedSites,\r\n\t})\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectCampaignById,\r\n\tselectAdUnitById,\r\n\tselectAdSlotById,\r\n\tselectSide,\r\n\tt,\r\n} from 'selectors'\r\n\r\nexport const selectLocation = state => state.router.location\r\n\r\nexport const selectSearch = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => search\r\n)\r\n\r\nexport const selectLocationQuery = createSelector(\r\n\tselectLocation,\r\n\t({ query }) => query || {}\r\n)\r\n\r\nexport const selectSearchParams = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => new URLSearchParams(search)\r\n)\r\n\r\nconst ITEMS_SELECTORS = {\r\n\tcampaigns: selectCampaignById,\r\n\treceipt: selectCampaignById,\r\n\tunits: selectAdUnitById,\r\n\tslots: selectAdSlotById,\r\n}\r\n\r\nconst SIDES = {\r\n\tadvertiser: true,\r\n\tpublisher: true,\r\n}\r\n\r\nexport const selectDashboardBreadcrumbs = createSelector(\r\n\t[selectLocation, state => state, selectSide],\r\n\t({ pathname = '' }, state, side) => {\r\n\t\tconst paths = pathname.split('/').filter(x => !!x)\r\n\t\tconst sideDashboard = paths.slice(0, 2)\r\n\r\n\t\t// NOTE: no breadcrumbs if no side dashboard\r\n\t\tif (sideDashboard[0] !== 'dashboard' || !SIDES[sideDashboard[1]]) {\r\n\t\t\treturn []\r\n\t\t}\r\n\r\n\t\tconst sideDashboardBC = {\r\n\t\t\tto: `/${sideDashboard.join('/')}`,\r\n\t\t\tlabel: 'dashboard',\r\n\t\t}\r\n\r\n\t\tconst rest = paths.slice(2)\r\n\r\n\t\tconst restBC = rest.map((x, index) => {\r\n\t\t\tconst prev = rest[index - 1]\r\n\t\t\tconst selector = ITEMS_SELECTORS[prev]\r\n\r\n\t\t\tlet label = x\r\n\r\n\t\t\tif (selector) {\r\n\t\t\t\tconst { title } = selector(state, x) || {}\r\n\t\t\t\tlabel = title || label\r\n\t\t\t}\r\n\r\n\t\t\tconst bc = {\r\n\t\t\t\tlabel,\r\n\t\t\t}\r\n\r\n\t\t\tif (index < rest.length - 1) {\r\n\t\t\t\tconst restCopy = [...rest]\r\n\r\n\t\t\t\tconst receiptAt = restCopy.indexOf('receipt')\r\n\t\t\t\t// NOTE: go to campaign on receipt breadcrumb\r\n\t\t\t\t// We need a better way\r\n\t\t\t\tif (receiptAt >= 0) {\r\n\t\t\t\t\trestCopy[receiptAt] = side === 'advertiser' ? 'campaigns' : 'receipts'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbc.to = `${sideDashboardBC.to}/${restCopy\r\n\t\t\t\t\t.slice(0, index + 1)\r\n\t\t\t\t\t.join('/')}`\r\n\t\t\t}\r\n\r\n\t\t\treturn bc\r\n\t\t})\r\n\r\n\t\tconst breadcrumbs = [sideDashboardBC, ...restBC].map(b => ({\r\n\t\t\t...b,\r\n\t\t\tlabel:\r\n\t\t\t\tt(b.label.toUpperCase()) !== b.label.toUpperCase()\r\n\t\t\t\t\t? t(b.label.toUpperCase())\r\n\t\t\t\t\t: b.label,\r\n\t\t}))\r\n\r\n\t\treturn breadcrumbs || []\r\n\t}\r\n)\r\n","import { createCachedSelector } from 're-reselect'\r\nimport {\r\n\tselectCampaignById,\r\n\tselectCampaignsEventCountsStatsById,\r\n} from 'selectors'\r\n\r\nexport const selectCampaignWithAnalyticsById = createCachedSelector(\r\n\tselectCampaignById,\r\n\tselectCampaignsEventCountsStatsById,\r\n\t(campaign, eventCounts, id) => {\r\n\t\tconst withAnalytics = {\r\n\t\t\t...campaign,\r\n\t\t\t...eventCounts,\r\n\t\t}\r\n\r\n\t\treturn withAnalytics\r\n\t}\r\n)((_state, id = '-') => id)\r\n","import { store } from 'store'\r\n\r\nexport const execute = store.dispatch\r\n\r\nexport const dispatch = store.dispatch\r\n\r\nexport const getState = store.getState\r\n","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","export const getErrorMsg = err => {\r\n\tif (!err) {\r\n\t\treturn ''\r\n\t} else if (typeof err === 'object') {\r\n\t\treturn err.msg || err.message || err.errMsg || err.error\r\n\t} else if (Array.isArray(err)) {\r\n\t\treturn err.join(', ')\r\n\t} else {\r\n\t\treturn err\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport * as types from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport {\r\n\tselectCompanyData,\r\n\tselectAccountIdentityAddr,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectSide,\r\n\tselectMemoryUi,\r\n\tselectAnalyticsLiveTimestamp,\r\n\tselectAnalyticsMinAndMaxDates,\r\n\tt,\r\n} from 'selectors'\r\nimport {\r\n\tgetTimePeriods,\r\n\tgetBorderPeriodStart,\r\n} from 'helpers/analyticsTimeHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGlobalUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateMemoryUi(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_MEMORY_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateInitialDataLoaded(dataType, loaded) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst { initialDataLoaded } = selectMemoryUi(getState())\r\n\t\tif (initialDataLoaded !== true) {\r\n\t\t\tconst newData = { ...(initialDataLoaded || {}) }\r\n\t\t\tnewData[dataType] = loaded\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_MEMORY_UI,\r\n\t\t\t\titem: 'initialDataLoaded',\r\n\t\t\t\tvalue: newData,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateUiByIdentity(item, value, category) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\r\n\t\t\tidentity,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateIdentitySideUi(item, value) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst identity = selectAccountIdentityAddr(state)\r\n\t\tconst side = selectSide(state)\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY_AND_SIDE,\r\n\t\t\tidentity,\r\n\t\t\titem,\r\n\t\t\tvalue,\r\n\t\t\tside,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\tconst id = Helper.getGuid()\r\n\t\tdispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: {\r\n\t\t\t\ttype,\r\n\t\t\t\taction,\r\n\t\t\t\tlabel,\r\n\t\t\t\ttimeout,\r\n\t\t\t\tunclosable,\r\n\t\t\t\tanchorOrigin,\r\n\t\t\t\ttop,\r\n\t\t\t\tid,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn id\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{\r\n\t\tconfirmLabel = '',\r\n\t\tcancelLabel = '',\r\n\t\ttitle = '',\r\n\t\ttext = '',\r\n\t\tnoCancel = false,\r\n\t\tnoConfirm = false,\r\n\t} = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn async function(dispatch) {\r\n\t\treturn await dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t\tnoCancel: noCancel,\r\n\t\t\t\t\tnoConfirm: noConfirm,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateRegistrationAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\r\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateCompanyData(newData) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst companyData = selectCompanyData(getState())\r\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\r\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_COMPANY_DATA'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateSelectedItems(collection, selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\r\n\t\t\tselectedItems,\r\n\t\t\tcollection,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSelectedItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SELECTED_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateSelectedCampaigns(selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewVersion({ shouldForceRefresh, version }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateGlobalUi('newVersionAvailable', shouldForceRefresh)(dispatch)\r\n\t\tawait updateGlobalUi('selectNewVersionAvailableId', version)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function refreshCacheAndReload({ version }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (caches) {\r\n\t\t\t// Service worker cache should be cleared with caches.delete()\r\n\t\t\tcaches.keys().then(async function(names) {\r\n\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tawait updateNewVersion({ shouldForceRefresh: false, version })(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t\twindow.location.reload(true)\r\n\t}\r\n}\r\n\r\nexport function notifyNewTOS() {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: t('NOTIFICATION_NEW_TOS', {\r\n\t\t\t\t\targs: [t('TOS_CHECK')],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function handleRedirectParams(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('confirm-email')\r\n\t\tconst identity = searchParams.get('confirm-identity')\r\n\t\tconst grant = searchParams.get('confirm-grant')\r\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\r\n\t\tconst selectedIdentity = searchParams.get('login-select-identity')\r\n\r\n\t\tif (email && identity && !grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL', {\r\n\t\t\t\t\targs: [email, identity],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} else if (email && identity && grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL_GRANT', {\r\n\t\t\t\t\targs: [email, identity, grant],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\r\n\t\t}\r\n\r\n\t\tif (!!selectedIdentity) {\r\n\t\t\tupdateMemoryUi('loginSelectedIdentity', selectedIdentity)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateEasterEggsAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tif (\r\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\r\n\t\t\tprocess.env.EASTER_EGGS_VALUE\r\n\t\t) {\r\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updatePrivilegesWarningAccepted(accepted) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function hideGettingStarted(side) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('hideGettingStarted', true, side)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function setGettingStartedExpanded(expanded) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('gettingStartedExpanded', expanded)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateIdSideAnalyticsChartPeriod(periodStart) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\tconst { start, end, callEnd } = getTimePeriods({\r\n\t\t\ttimeframe,\r\n\t\t\tstart: periodStart,\r\n\t\t})\r\n\t\tupdateIdentitySideUi('sideAnalyticsPeriod', { start, end, callEnd })(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsPeriodPrevNextLive({\r\n\tnext = false,\r\n\tlive = false,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { minDate, maxDate } = selectAnalyticsMinAndMaxDates(state)\r\n\t\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\t\tlet { start } = selectIdentitySideAnalyticsPeriod(state)\r\n\r\n\t\t\tif (live) {\r\n\t\t\t\tstart = selectAnalyticsLiveTimestamp(state)\r\n\t\t\t} else {\r\n\t\t\t\tconst startIsLive = start === selectAnalyticsLiveTimestamp(state)\r\n\t\t\t\tstart = getBorderPeriodStart({\r\n\t\t\t\t\ttimeframe,\r\n\t\t\t\t\tstart,\r\n\t\t\t\t\tnext,\r\n\t\t\t\t\tstartIsLive,\r\n\t\t\t\t\tminDate,\r\n\t\t\t\t\tmaxDate,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdSideAnalyticsChartPeriod(start)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS_PREV_PERIOD', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_ANALYTICS_PREV_PERIOD', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateIdSideAnalyticsChartTimeframe(timeframe) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateIdentitySideUi('sideAnalyticsTimeframe', timeframe)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t\tupdateAnalyticsPeriodPrevNextLive({ live: true })(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateWindowReloading(isReloading) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateMemoryUi('windowReloading', isReloading)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateTableState(tableId, tableState) {\r\n\treturn function(dispatch, getState) {\r\n\t\t// TODO: filter state - only essential stuff\r\n\t\tconst filteredState = (({\r\n\t\t\trowsPerPage,\r\n\t\t\tpage,\r\n\t\t\tactiveColumn,\r\n\t\t\tfilterList,\r\n\t\t\tsearchProps,\r\n\t\t\tsearchText,\r\n\t\t\t// rowsSelected, -\r\n\t\t\tsortOrder,\r\n\t\t\tviewColumnsState,\r\n\t\t}) => ({\r\n\t\t\trowsPerPage,\r\n\t\t\tpage,\r\n\t\t\tactiveColumn,\r\n\t\t\tfilterList,\r\n\t\t\tsearchProps,\r\n\t\t\tsearchText,\r\n\t\t\t// rowsSelected,\r\n\t\t\tsortOrder,\r\n\t\t\tviewColumnsState,\r\n\t\t}))(tableState)\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TABLE_STATE,\r\n\t\t\tidentity,\r\n\t\t\ttableId: tableId,\r\n\t\t\tvalue: filteredState,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateTableStateSelectedRows(tableId, selectedRows) {\r\n\treturn function(dispatch, getState) {\r\n\t\treturn updateMemoryUi(`selectedRows${tableId}`, selectedRows)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function resetAllTableState() {\r\n\treturn function(dispatch, _getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_TABLES_STATE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetTableStateById(tableId) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_TABLE_STATE_BY_ID,\r\n\t\t\tidentity,\r\n\t\t\ttableId,\r\n\t\t})\r\n\t\tupdateMemoryUi(`selectedRows${tableId}`, undefined)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateDebuggingAddresses(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst debugIdentityAddr = searchParams.get('debug-identity-addr')\r\n\t\tconst debuggerAddr = searchParams.get('debugger-addr')\r\n\r\n\t\tif (debugIdentityAddr) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t\t})\r\n\t\t\tupdateMemoryUi('debugIdentityAddr', debugIdentityAddr)(dispatch)\r\n\t\t\tupdateMemoryUi('debuggerAddr', debuggerAddr)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\nimport AdExENSManager from './abi/AdExENSManager.json'\r\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\r\nimport ERC20 from './abi/ERC20Token.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExENSManager: {\r\n\t\taddress: process.env.ADEX_ENS_ADDR,\r\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\r\n\t\tabi: AdExENSManager,\r\n\t},\r\n\tReverseRegistrar: {\r\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\r\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\r\n\t\tabi: ReverseRegistrar,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n\tERC20: {\r\n\t\tabi: ERC20,\r\n\t},\r\n}\r\n","import { providers, Contract } from 'ethers'\r\nimport detectEthereumProvider from '@metamask/detect-provider'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { selectRelayerConfig } from 'selectors'\r\n\r\n// ethers.errors.setLogLevel('error')\r\n\r\nconst { AdExCore, Identity, IdentityFactory } = contracts\r\n\r\nconst LocalProvider = process.env.WEB3_NODE_ADDR.startsWith('wss://')\r\n\t? providers.WebSocketProvider\r\n\t: providers.JsonRpcProvider\r\n\r\nconst getAdexCore = provider => {\r\n\tconst { coreAddr } = selectRelayerConfig()\r\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\r\n}\r\n\r\nconst getMainToken = provider => {\r\n\tconst { mainToken = {} } = selectRelayerConfig()\r\n\treturn new Contract(\r\n\t\tmainToken.address,\r\n\t\tcontracts[mainToken.standard].abi,\r\n\t\tprovider\r\n\t)\r\n}\r\n\r\nconst getToken = ({ provider, standard, address }) => {\r\n\treturn new Contract(address, contracts[standard].abi, provider)\r\n}\r\n\r\nconst getIdentity = ({ provider, address }) => {\r\n\tconst identityContract = new Contract(address, Identity.abi, provider)\r\n\r\n\treturn identityContract\r\n}\r\n\r\nconst getIdentityFactory = provider => {\r\n\tconst { identityFactoryAddr } = selectRelayerConfig()\r\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\r\n}\r\n\r\nconst getEthersResult = provider => {\r\n\tconst adexCore = getAdexCore(provider)\r\n\tconst mainToken = getMainToken(provider)\r\n\tconst identityFactory = getIdentityFactory(provider)\r\n\r\n\tconst results = {\r\n\t\tprovider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: mainToken,\r\n\t\tMainToken: mainToken,\r\n\t\tIdentityFactory: identityFactory,\r\n\t\tgetToken: ({ standard, address }) =>\r\n\t\t\tgetToken({ provider, standard, address }),\r\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nfunction isProviderRelayerConfigChanged(currentProviderCfg) {\r\n\tconst cfg = selectRelayerConfig()\r\n\r\n\tconst isChanged =\r\n\t\tcurrentProviderCfg.coreAddr !== cfg.coreAddr ||\r\n\t\tJSON.stringify(currentProviderCfg.mainToken) !==\r\n\t\t\tJSON.stringify(cfg.mainToken) ||\r\n\t\tcurrentProviderCfg.identityFactoryAddr !== cfg.identityFactoryAddr\r\n\r\n\treturn isChanged\r\n}\r\n\r\n// NOTE; We need one instance of local provider\r\n// but it need result to be updated when some relayer cfg props are changed\r\nconst localWeb3 = new (function() {\r\n\tlet localProvider\r\n\tlet relayerCfg\r\n\tlet result\r\n\r\n\tthis.getEthers = () => {\r\n\t\tif (!localProvider) {\r\n\t\t\tlocalProvider = new LocalProvider(process.env.WEB3_NODE_ADDR)\r\n\t\t\trelayerCfg = selectRelayerConfig()\r\n\t\t\tresult = getEthersResult(localProvider)\r\n\t\t} else if (relayerCfg && isProviderRelayerConfigChanged(relayerCfg)) {\r\n\t\t\trelayerCfg = selectRelayerConfig()\r\n\t\t\tresult = getEthersResult(localProvider)\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n})()\r\n\r\nconst loadInjectedWeb3 = new Promise(async (resolve, reject) => {\r\n\tconst provider = await detectEthereumProvider()\r\n\r\n\tif (!!window.ethereum && provider !== window.ethereum) {\r\n\t\tconsole.error('Do you have multiple wallets installed?')\r\n\t\treject(new Error('Do you have multiple wallets installed?'))\r\n\r\n\t\t// TODO: error or toast\r\n\t}\r\n\r\n\tresolve({\r\n\t\tethereum: window.ethereum,\r\n\t})\r\n})\r\n\r\nconst getMetamaskSelectedAddress = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (ethereum && ethereum.isMetaMask) {\r\n\t\ttry {\r\n\t\t\tconst accounts = await ethereum.request({ method: 'eth_accounts' })\r\n\t\t\treturn accounts[0]\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('(getMetamaskSelectedAddress): Please connect to MetaMask.')\r\n\t\t\tthrow new Error(err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst connectMetaMask = async ethereum => {\r\n\ttry {\r\n\t\tconst selectedAccount = await getMetamaskSelectedAddress()\r\n\r\n\t\tif (!selectedAccount) {\r\n\t\t\t// const requestedAddresses =\r\n\t\t\tawait ethereum.request({\r\n\t\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t\t})\r\n\t\t\t// console.log('requestedAddresses', requestedAddresses)\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tif (err.code === 4001) {\r\n\t\t\t// EIP-1193 userRejectedRequest error\r\n\t\t\t// If this happens, the user rejected the connection request.\r\n\t\t\tconsole.log('Please connect to MetaMask.')\r\n\t\t} else {\r\n\t\t\tconsole.error(err)\r\n\t\t}\r\n\t\t// TODO: error or toast\r\n\t}\r\n}\r\n\r\nconst injectedWeb3Provider = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tawait connectMetaMask(ethereum)\r\n\r\n\t\t\tconst provider = new providers.Web3Provider(ethereum)\r\n\r\n\t\t\treturn getEthersResult(provider)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Err getting injected ethereum.', err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3Provider = async () => {\r\n\treturn localWeb3.getEthers()\r\n}\r\n\r\nconst getEthers = mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\treturn injectedWeb3Provider()\r\n\t} else {\r\n\t\treturn getLocalWeb3Provider()\r\n\t}\r\n}\r\n\r\nconst ethereumNetworkId = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (ethereum) {\r\n\t\tconst chainId = await ethereum.request({ method: 'net_version' })\r\n\r\n\t\tconst id = parseInt(chainId, 10)\r\n\t\treturn id\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst getEthereumProviderName = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (!ethereum) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tif (ethereum.isMetaMask) {\r\n\t\treturn AUTH_TYPES.METAMASK.name\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nconst getMetamaskEthereum = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (ethereum && ethereum.isMetaMask) {\r\n\t\treturn ethereum\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nexport {\r\n\tgetEthers,\r\n\tethereumNetworkId,\r\n\tgetEthereumProviderName,\r\n\tgetMetamaskEthereum,\r\n\tgetMetamaskSelectedAddress,\r\n}\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nexport const isEthAddressERC20 = async (addr = '') => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const getERC20Balance = async ({ addr = '', balanceFor = '' }) => {\r\n\ttry {\r\n\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\tconst balance = await contract.balanceOf(balanceFor)\r\n\r\n\t\treturn balance\r\n\t} catch (error) {\r\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\r\n\t\treturn null\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.BigNumber.from(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n\tquickCheck = false,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst notEthAddress = !addr || !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else if (!quickCheck) {\r\n\t\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n\r\nexport const freeAdExENS = async ({ username = '' }) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tif (username === '') {\r\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\r\n\t\t} else {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst ensAddress = await provider.resolveName(\r\n\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`\r\n\t\t\t)\r\n\r\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error.code === 'INVALID_ARGUMENT') {\r\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\r\n\t\t} else {\r\n\t\t\tmsg = 'ERR_ENS_CHECK'\r\n\t\t}\r\n\t}\r\n\treturn { msg }\r\n}\r\n","export default class Looper {\r\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\r\n\t\tif (!timeout) {\r\n\t\t\tthrow new Error('LOOPER timeout prop is required')\r\n\t\t}\r\n\r\n\t\tif (typeof syncAction !== 'function') {\r\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\r\n\t\t}\r\n\r\n\t\tthis.loopTimeout = null\r\n\t\tthis.timeout = timeout\r\n\t\tthis.syncAction = syncAction\r\n\t\tthis.loopName = loopName\r\n\t\tthis.stopOn = stopOn\r\n\t}\r\n\r\n\tclearLoopTimeout = () => {\r\n\t\tif (this.loopTimeout) {\r\n\t\t\tclearTimeout(this.loopTimeout)\r\n\t\t\tthis.loopTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tsyncData = async opts => {\r\n\t\tthis.makeStopCheck()\r\n\t\tawait this.syncAction()\r\n\t\tthis.makeStopCheck()\r\n\t}\r\n\r\n\tstartLoop = async opts => {\r\n\t\ttry {\r\n\t\t\tawait this.syncData(opts)\r\n\t\t\tthis.checkLoop()\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\r\n\t\t\tthis.checkLoop()\r\n\t\t}\r\n\t}\r\n\r\n\tcheckLoop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\r\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\r\n\t}\r\n\r\n\tmakeStopCheck = () => {\r\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\r\n\t\t\tthis.stop()\r\n\t\t}\r\n\t}\r\n\r\n\tstart = async onSync => {\r\n\t\tthis.clearLoopTimeout()\r\n\t\tawait this.startLoop()\r\n\t\tthis.makeStopCheck()\r\n\t\tif (typeof onSync === 'function') {\r\n\t\t\tonSync()\r\n\t\t}\r\n\t}\r\n\r\n\tstop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t}\r\n}\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { updateUserCampaigns, execute } from 'actions'\r\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\r\n\r\n// 30 seconds = market statusLoopTick\r\nconst LOOP_TIMEOUT =\r\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\r\n\r\nconst campaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\r\n\tloopName: '_CAMPAIGNS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { campaignsLoop }\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { execute, updateAccountStats } from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst accountStatsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\r\n\tloopName: '_ACCOUNTS_STATS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport default accountStatsLoop\r\n","import Loop from './loop'\r\nimport {\r\n\texecute,\r\n\tupdateAccountAnalytics,\r\n\tupdateAccountAdvancedAnalytics,\r\n} from 'actions'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst analyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\r\n\tloopName: '_ANALYTICS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nconst analyticsLoopCustom = ({ timeout, syncAction, stopOn }) =>\r\n\tnew Loop({\r\n\t\ttimeout: timeout,\r\n\t\tsyncAction: async () => syncAction(),\r\n\t\tloopName: '_ANALYTICS_CUSTOM',\r\n\t\tstopOn: () => !selectAuth(getState()) || stopOn,\r\n\t})\r\n\r\nconst advancedAnalyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAdvancedAnalytics())),\r\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { analyticsLoop, advancedAnalyticsLoop, analyticsLoopCustom }\r\n","import {\r\n\tgetState,\r\n\texecute,\r\n\tresetAllNewItems,\r\n\tresetAllItems,\r\n\tresetAllBids,\r\n\tresetIdentity,\r\n\tresetAccount,\r\n\tresetAnalytics,\r\n\tresetChannelsWithBalanceAll,\r\n\tresetChannelsWithOutstandingBalance,\r\n\tresetAllNewTransaction,\r\n\tupdateMemoryUi,\r\n\tresetAllTableState,\r\n} from 'actions'\r\nimport ReactGA from 'react-ga'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport { advancedAnalyticsLoop } from 'services/store-data/analytics'\r\n\r\nimport { push } from 'connected-react-router'\r\nconst DIMENSIONS_NOT_SET_OR_LOADING = null\r\nexport const logOut = skipRedirect => {\r\n\texecute(updateMemoryUi('initialDataLoaded', false))\r\n\tReactGA.set({\r\n\t\tdimension1: DIMENSIONS_NOT_SET_OR_LOADING,\r\n\t\tdimension2: DIMENSIONS_NOT_SET_OR_LOADING,\r\n\t}) //reset dimensions after logout\r\n\texecute(resetAccount())\r\n\tadvancedAnalyticsLoop.stop()\r\n\tcampaignsLoop.stop()\r\n\tstatsLoop.stop()\r\n\tif (!skipRedirect) {\r\n\t\texecute(push('/'))\r\n\t}\r\n\texecute(resetIdentity())\r\n\texecute(resetAllItems())\r\n\texecute(resetAllNewItems())\r\n\texecute(resetAllBids())\r\n\texecute(resetAnalytics())\r\n\texecute(resetChannelsWithBalanceAll())\r\n\texecute(resetChannelsWithOutstandingBalance())\r\n\texecute(resetAllNewTransaction())\r\n\texecute(resetAllTableState())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn getState().persist.account\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { getState } from 'actions'\r\nimport { selectAuthSig } from 'selectors'\r\nimport { isDemoMode } from 'services/store-data/auth'\r\nimport { t } from 'selectors'\r\n\r\nexport const handleRequesterErrorRes = ({ res, text }) => {\r\n\tlet message = text\r\n\ttry {\r\n\t\tconst textObj = JSON.parse(text)\r\n\t\tmessage =\r\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\r\n\t} catch {}\r\n\r\n\tthrow new Error(\r\n\t\tt('SERVICE_ERROR_MSG', {\r\n\t\t\targs: [res.url, res.status, res.statusText, message],\r\n\t\t})\r\n\t)\r\n}\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst authSignature = selectAuthSig(getState())\r\n\t\treturn {\r\n\t\t\t'X-User-Signature': authSig || authSignature,\r\n\t\t}\r\n\t}\r\n\r\n\tnoCacheHeaders = {\r\n\t\t'Cache-Control': 'no-cache',\r\n\t\tExpires: '0',\r\n\t\tPragma: 'no-cache',\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t\tnoCache = false,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tconst query = Helper.getQuery(qp)\r\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tconst hdrs = {\r\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import requester from './requester'\r\n\r\nexport default requester\r\nexport * from './requester'\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/by-owner/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getIdentityData = ({ identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getRelayerConfigData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}/execute`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tchannel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const regAccount = ({\r\n\towner,\r\n\temail,\r\n\tknowFrom,\r\n\tuserSide,\r\n\tmoreInfo,\r\n\tbytecode,\r\n\tidentityFactoryAddr,\r\n\tbaseIdentityAddr,\r\n\tsalt,\r\n\tidentityAddr,\r\n\tprivileges,\r\n\troutineAuthorizationsRaw,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\temail,\r\n\t\t\t\tknowFrom,\r\n\t\t\t\tuserSide,\r\n\t\t\t\tmoreInfo,\r\n\t\t\t\tbytecode,\r\n\t\t\t\tidentityFactoryAddr,\r\n\t\t\t\tbaseIdentityAddr,\r\n\t\t\t\tsalt,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tprivileges,\r\n\t\t\t\troutineAuthorizationsRaw,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getQuickWallet = ({ hash }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail,\r\n\t\t\t\tsalt,\r\n\t\t\t\thash,\r\n\t\t\t\tencryptedWallet,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getEmail = ({ email }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const resendEmail = ({ email }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/email/${encodeURIComponent(email)}/resend`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const AcLocations = autocompleteLocationsSingleSelect()\r\nexport const AcGenders = autocompleteGendersSingleSelect()\r\nexport const AcTags = autocompleteTagsSingleSelect()\r\n\r\nexport const SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n\r\nexport const HOUR = 60 * 60 * 1000\r\nexport const DAY = 24 * HOUR\r\nexport const MAX_CAMPAIGN_WITHDRAW_START_DAYS = 90\r\nexport const MAX_CAMPAIGN_WITHDRAW_START =\r\n\tDAY * MAX_CAMPAIGN_WITHDRAW_START_DAYS\r\n","import * as types from 'constants/actionTypes'\r\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast, updateSpinner } from './uiActions'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport { validations, Joi, schemas, constants, helpers } from 'adex-models'\r\nimport { validPassword } from 'helpers/validators'\r\nimport {\r\n\tt,\r\n\tselectAuthType,\r\n\tselectAccountStatsRaw,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getEmail } from 'services/adex-relayer/actions'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tMAX_CAMPAIGN_WITHDRAW_START_DAYS,\r\n\tMAX_CAMPAIGN_WITHDRAW_START,\r\n} from 'constants/targeting'\r\nconst { IdentityPrivilegeLevel, CountryTiers, OsGroups } = constants\r\nconst { bondPerActionToUserInputPerMileValue } = helpers\r\n\r\nconst { campaignPut, account } = schemas\r\nconst { isNumberString } = validations\r\n\r\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst authType = selectAuthType(getState())\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\r\n\t\t\tif (validate) {\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(name, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\tkey,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validate(\r\n\tvalidateId,\r\n\tkey,\r\n\t{\r\n\t\tisValid,\r\n\t\terr = { msg: '', args: [], fields: {} },\r\n\t\tdirty = false,\r\n\t\tremoveAll = false,\r\n\t}\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (!isValid) {\r\n\t\t\tlet errors = {}\r\n\t\t\terrors[key] = {\r\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\r\n\t\t\t\terrFields: err.fields,\r\n\t\t\t\tdirty,\r\n\t\t\t}\r\n\r\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\r\n\t\t} else if (removeAll) {\r\n\t\t\tresetValidationErrors(validateId)(dispatch)\r\n\t\t} else {\r\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport const handleAfterValidation = async ({\r\n\tisValid,\r\n\tonValid,\r\n\tonInvalid,\r\n}) => {\r\n\tif (isValid && typeof onValid === 'function') {\r\n\t\tawait onValid()\r\n\t}\r\n\tif (!isValid && typeof onInvalid === 'function') {\r\n\t\tawait onInvalid()\r\n\t}\r\n}\r\n\r\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tvalidate(validateId, 'emailCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePassword(validateId, password, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tvalidate(validateId, 'password', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePasswordCheck(\r\n\tvalidateId,\r\n\tpasswordCheck,\r\n\tpassword,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tvalidate(validateId, 'passwordCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateTOS(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'tosCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateENS({ username, dirty, validateId }) {\r\n\treturn async function(dispatch) {\r\n\t\tlet msg = !username\r\n\t\t\t? 'ERR_NO_ENS_USERNAME_PROVIDED'\r\n\t\t\t: /^([a-z0-9]+)$/.test(username)\r\n\t\t\t? null\r\n\t\t\t: 'ERR_INVALID_ENS_USER_NAME'\r\n\r\n\t\tif (!msg) {\r\n\t\t\tmsg = (\r\n\t\t\t\tawait freeAdExENS({\r\n\t\t\t\t\tusername,\r\n\t\t\t\t})\r\n\t\t\t).msg\r\n\t\t}\r\n\r\n\t\tconst isValid = !msg\r\n\t\tvalidate(validateId, 'username', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateWallet(validateId, wallet, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!wallet && !!wallet.address\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateIdentityContractOwner(\r\n\tvalidateId,\r\n\tidentityContractOwner,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!identityContractOwner\r\n\t\tvalidate(validateId, 'identityContractOwner', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateKnowFrom(validateId, knowFrom, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!knowFrom\r\n\t\tvalidate(validateId, 'knowFrom', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_DROPDOWN_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateUserSide(validateId, userSide, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!userSide\r\n\t\tvalidate(validateId, 'userSide', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_USER_SIDE_SELECT_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateMoreInfo(validateId, knowFrom, moreInfo, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tknowFrom === 'other' || knowFrom === 'event' ? !!moreInfo : true\r\n\t\tvalidate(validateId, 'moreInfo', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_MOREINFO_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateAccessWarning(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'accessWarningCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignUnits({ validateId, adUnits, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!adUnits && adUnits.length\r\n\t\tvalidate(validateId, 'adUnits', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\t!!validators &&\r\n\t\t\tvalidators.length === 2 &&\r\n\t\t\t!!validators[0] &&\r\n\t\t\t!!validators[1] &&\r\n\t\t\t!!validators[0].id &&\r\n\t\t\t!!validators[0].url &&\r\n\t\t\tvalidators[0].feeNum !== undefined &&\r\n\t\t\tvalidators[0].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined &&\r\n\t\t\t!!validators[1].id &&\r\n\t\t\t!!validators[1].url &&\r\n\t\t\tvalidators[1].feeNum !== undefined &&\r\n\t\t\tvalidators[1].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined\r\n\r\n\t\tvalidate(validateId, 'validators', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateFees({\r\n\tvalidateId,\r\n\tfeesAmountBN,\r\n\tamountToSpendBN,\r\n\terrorMsg = '',\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = true\r\n\t\tlet msg = errorMsg\r\n\t\tlet args = []\r\n\t\tconst state = getState()\r\n\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\t\tconst amountNeeded = BigNumber.from(feesAmountBN).add(\r\n\t\t\tBigNumber.from(amountToSpendBN)\r\n\t\t)\r\n\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\r\n\t\tif (amountNeeded.gt(BigNumber.from(availableIdentityBalanceMainTokenRaw))) {\r\n\t\t\tconst amountNeededFormatted = formatTokenAmount(\r\n\t\t\t\tamountNeeded,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tnull,\r\n\t\t\t\t2\r\n\t\t\t)\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_TX_INSUFFICIENT_BALANCE'\r\n\t\t\targs = [\r\n\t\t\t\tamountNeededFormatted,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tsymbol,\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'fees', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateWithdrawAmount({\r\n\tvalidateId,\r\n\tamountToWithdraw,\r\n\tavailableIdentityBalanceMainTokenRaw,\r\n\tavailableIdentityBalanceMainTokenFormatted,\r\n\tdecimals,\r\n\tsymbol,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch) {\r\n\t\tlet isValid = isNumberString(amountToWithdraw)\r\n\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet args = []\r\n\t\tconst amount = isValid ? utils.parseUnits(amountToWithdraw, decimals) : null\r\n\t\tif (isValid && amount.isZero()) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\r\n\t\t} else if (\r\n\t\t\tisValid &&\r\n\t\t\tamount.gt(BigNumber.from(availableIdentityBalanceMainTokenRaw))\r\n\t\t) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'amountToWithdraw', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateNumberString({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\tintegerOnly,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = isNumberString(value)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT'\r\n\r\n\t\tif (isValid && integerOnly) {\r\n\t\t\tconst int = parseInt(value, 10)\r\n\t\t\tif (int.toString() !== value.toString()) {\r\n\t\t\t\tisValid = false\r\n\t\t\t\tmsg = 'ERR_INVALID_INTEGER_NUMBER'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args: [value] },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAmount({\r\n\tvalidateId,\r\n\tdirty,\r\n\terrMsg,\r\n\tdepositAmount,\r\n\tpricingBounds = { IMPRESSION: {} },\r\n\tspecPricingBounds,\r\n\tmaxDeposit,\r\n\tdecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst min = pricingBounds.IMPRESSION.min || ''\r\n\t\tconst max = pricingBounds.IMPRESSION.max || ''\r\n\t\tconst isValidNumberDeposit = isNumberString(depositAmount)\r\n\t\tconst isValidNumberMin = isNumberString(min)\r\n\t\tconst isValidNumberMax = isNumberString(max)\r\n\r\n\t\tconst checkSpeckBounds = !!specPricingBounds && specPricingBounds.IMPRESSION\r\n\r\n\t\tlet isValidDeposit = isValidNumberDeposit\r\n\t\tlet isValidMin = isValidNumberMin\r\n\t\tlet isValidMax = isValidNumberMax\r\n\r\n\t\tlet msgDeposit = errMsg || 'ERR_INVALID_AMOUNT'\r\n\t\tlet msgMin = errMsg || 'ERR_INVALID_AMOUNT'\r\n\t\tlet msgMax = errMsg || 'ERR_INVALID_AMOUNT'\r\n\t\tlet argsMin = []\r\n\t\tlet argsMax = []\r\n\t\tlet argsDeposit = []\r\n\r\n\t\tif (isValidDeposit && isValidMin && isValidMax) {\r\n\t\t\tconst depositBn = utils.parseUnits(depositAmount, decimals)\r\n\t\t\tconst minBn = utils.parseUnits(min, decimals)\r\n\t\t\tconst maxBn = utils.parseUnits(max, decimals)\r\n\r\n\t\t\tif (!depositBn.isZero() && depositBn.gt(maxDeposit)) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_INSUFFICIENT_IDENTITY_BALANCE'\r\n\t\t\t}\r\n\r\n\t\t\tif (!depositBn.isZero() && depositBn.lt(minBn)) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_DEPOSIT_UNDER_CPM'\r\n\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_CPM_OVER_DEPOSIT'\r\n\t\t\t}\r\n\r\n\t\t\tif (!depositBn.isZero() && depositBn.lt(maxBn)) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_DEPOSIT_UNDER_MAX_CPM'\r\n\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_OVER_DEPOSIT'\r\n\t\t\t}\r\n\r\n\t\t\tif (depositBn.lte(BigNumber.from(0))) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_ZERO_DEPOSIT'\r\n\t\t\t}\r\n\r\n\t\t\tif (minBn.lte(BigNumber.from(0))) {\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_ZERO_MIN_CPM'\r\n\t\t\t}\r\n\r\n\t\t\tif (maxBn.lte(BigNumber.from(0))) {\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_ZERO_MAX_CPM'\r\n\t\t\t}\r\n\r\n\t\t\tif (maxBn.lt(minBn)) {\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_LT_MIN_CPM'\r\n\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_MIN_CPM_GT_MAX_CPM'\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tcheckSpeckBounds &&\r\n\t\t\t\tminBn.div(1000).lt(BigNumber.from(specPricingBounds.IMPRESSION.min))\r\n\t\t\t) {\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_MIN_CPM_LESS_THAN_SPEC'\r\n\t\t\t\targsMin = [\r\n\t\t\t\t\tbondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\t\tspecPricingBounds.IMPRESSION.min,\r\n\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t),\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tcheckSpeckBounds &&\r\n\t\t\t\tmaxBn.div(1000).gt(BigNumber.from(specPricingBounds.IMPRESSION.max))\r\n\t\t\t) {\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_HIGHER_THAN_SPEC'\r\n\t\t\t\targsMax = [\r\n\t\t\t\t\tbondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\t\tspecPricingBounds.IMPRESSION.max,\r\n\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t),\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'depositAmount', {\r\n\t\t\tisValid: isValidDeposit,\r\n\t\t\terr: { msg: msgDeposit, args: argsDeposit },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tawait validate(validateId, 'minPerImpression', {\r\n\t\t\tisValid: isValidMin,\r\n\t\t\terr: { msg: msgMin, args: argsMin },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tawait validate(validateId, 'maxPerImpression', {\r\n\t\t\tisValid: isValidMax,\r\n\t\t\terr: { msg: msgMax, args: argsMax },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValidDeposit && isValidMin && isValidMax\r\n\t}\r\n}\r\n\r\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\r\n\r\nconst getCampaignDatesValidation = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet errActiveFrom = null\r\n\tlet errWithdrawPeriodStart = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_END_BEFORE_START' }\r\n\t} else if (\r\n\t\twithdrawPeriodStart &&\r\n\t\tactiveFrom &&\r\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\r\n\t) {\r\n\t\terrWithdrawPeriodStart = {\r\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\r\n\t\t\targs: ['1', 'HOUR'],\r\n\t\t}\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_END_BEFORE_NOW' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terrActiveFrom = { message: 'ERR_START_BEFORE_NOW' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_NO_END' }\r\n\t}\r\n\r\n\tif (!withdrawPeriodStart) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_NO_DATE_SET' }\r\n\t}\r\n\r\n\tif (withdrawPeriodStart > created + MAX_CAMPAIGN_WITHDRAW_START) {\r\n\t\terrWithdrawPeriodStart = {\r\n\t\t\tmessage: 'ERR_CAMPAIGN_END_DATE_OVER_MAX',\r\n\t\t\targs: [MAX_CAMPAIGN_WITHDRAW_START_DAYS],\r\n\t\t}\r\n\t}\r\n\r\n\tif (!activeFrom) {\r\n\t\terrActiveFrom = { message: 'ERR_NO_DATE_SET' }\r\n\t}\r\n\r\n\treturn { errActiveFrom, errWithdrawPeriodStart }\r\n}\r\n\r\nexport function validateCampaignDates({\r\n\tvalidateId,\r\n\tactiveFrom,\r\n\twithdrawPeriodStart,\r\n\tdirty,\r\n\tcreated,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst {\r\n\t\t\terrActiveFrom,\r\n\t\t\terrWithdrawPeriodStart,\r\n\t\t} = getCampaignDatesValidation({\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tcreated,\r\n\t\t})\r\n\r\n\t\tvalidate(validateId, 'activeFrom', {\r\n\t\t\tisValid: !errActiveFrom,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: (errActiveFrom || {}).message,\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\r\n\t\t\tisValid: !errWithdrawPeriodStart,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: errWithdrawPeriodStart ? errWithdrawPeriodStart.message : '',\r\n\t\t\t\targs: errWithdrawPeriodStart && (errWithdrawPeriodStart.args || []),\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tconst isValid = !errWithdrawPeriodStart && !errActiveFrom\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignTitle({ validateId, title, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst result = Joi.validate(title, campaignPut.title)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tvalidate(validateId, 'title', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEthAddress({\r\n\tvalidateId,\r\n\tprop,\r\n\taddr,\r\n\tnonZeroAddr = true,\r\n\tnonERC20 = true,\r\n\tdirty,\r\n\tauthType,\r\n\tquickCheck,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { msg } = await validEthAddress({\r\n\t\t\taddr,\r\n\t\t\tnonZeroAddr,\r\n\t\t\tnonERC20,\r\n\t\t\tauthType,\r\n\t\t\tquickCheck,\r\n\t\t})\r\n\r\n\t\tconst isValid = !msg\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesAddress({\r\n\tvalidateId,\r\n\tsetAddr = '',\r\n\twalletAddr = '',\r\n\tprivLevel,\r\n\tauthType,\r\n\twarningAccepted,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isCurrentAddress =\r\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\r\n\t\tlet isValid = warningAccepted || !isCurrentAddress\r\n\r\n\t\tlet msg = ''\r\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\r\n\t\tif (isCurrentAddress && privLevel === 0) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\r\n\t\t} else if (isCurrentAddress && privLevel === 1) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\r\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\r\n\t\t\tisValid = true\r\n\t\t} else if (!isCurrentAddress) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'setAddrWarning', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn { isValid, msg }\r\n\t}\r\n}\r\n\r\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\r\n\t\tawait validate(validateId, 'privLevel', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(value, schema)\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(email, account.email)\r\n\t\tlet isValid = !result.error\r\n\t\tlet msg = result.error ? result.error.message : ''\r\n\r\n\t\tif (validateNotExisting && isValid) {\r\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\r\n\t\t\tisValid = existing === false\r\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'email', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport const locationAudienceInputError = ({ apply, ...values } = {}) => {\r\n\tif (!apply) {\r\n\t\treturn 'ERR_LOCATION_AUDIENCE_NOT_SELECTED'\r\n\t} else if (apply === 'in' && !values.in.length) {\r\n\t\treturn 'ERR_LOCATION_AUDIENCE_IN_NOT_SELECTED'\r\n\t} else if (apply === 'nin' && !values.nin.length) {\r\n\t\treturn 'ERR_LOCATION_AUDIENCE_NIN_NOT_SELECTED'\r\n\t} else if (\r\n\t\tapply === 'nin' &&\r\n\t\tObject.keys(CountryTiers).every(x => values.nin.includes(x))\r\n\t) {\r\n\t\treturn 'ERR_LOCATION_CAN_NOT_EXCLUDE_ALL_COUNTRIES'\r\n\t}\r\n}\r\n\r\nexport const publishersAudienceInputError = ({ apply, ...values } = {}) => {\r\n\tif (!apply) {\r\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NOT_SELECTED'\r\n\t} else if (apply === 'in' && (!values.in || !values.in.length)) {\r\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_IN_NOT_SELECTED'\r\n\t} else if (apply === 'nin' && (!values.nin || !values.nin.length)) {\r\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NIN_NOT_SELECTED'\r\n\t}\r\n}\r\n\r\nexport const categoriesAudienceInputError = ({\r\n\tapply = [],\r\n\t...values\r\n} = {}) => {\r\n\tif (!apply.includes('in')) {\r\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_NOT_SELECTED'\r\n\t} else if (apply.includes('in') && (!values.in || !values.in.length)) {\r\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_IN_NOT_SELECTED'\r\n\t}\r\n}\r\n\r\nexport const devicesAudienceInputError = ({ apply, ...values } = {}) => {\r\n\tif (\r\n\t\tapply === 'nin' &&\r\n\t\tObject.keys(OsGroups).every(x => values.nin.includes(x))\r\n\t) {\r\n\t\treturn 'ERR_DEVICES_CAN_NOT_EXCLUDE_ALL_DEVICES'\r\n\t}\r\n}\r\n\r\nexport function validateAudience({ validateId, propName, inputs, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst { location, categories, publishers, devices } = inputs\r\n\r\n\t\tconst errors = [\r\n\t\t\tlocationAudienceInputError(location),\r\n\t\t\tpublishersAudienceInputError(publishers),\r\n\t\t\tcategoriesAudienceInputError(categories),\r\n\t\t\tdevicesAudienceInputError(devices),\r\n\t\t]\r\n\r\n\t\tconst isValid = errors.every(e => !e)\r\n\t\tconst errArgs = errors\r\n\t\t\t.filter(e => !!e)\r\n\t\t\t.map(e => t(e))\r\n\t\t\t.join(', ')\r\n\r\n\t\tawait validate(validateId, propName, {\r\n\t\t\tisValid,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_AUDIENCE_INPUT',\r\n\t\t\t\targs: [errArgs],\r\n\t\t\t\tfields: {\r\n\t\t\t\t\tlocation: !!errors[0],\r\n\t\t\t\t\tpublishers: !!errors[1],\r\n\t\t\t\t\tcategories: !!errors[2],\r\n\t\t\t\t\tdevices: !!errors[3],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","const MAX_ASPECT_TOLERANCE = 5\r\n\r\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n\r\nexport const checkExactishAspect = (\r\n\twidthTarget,\r\n\twidth,\r\n\theightTarget,\r\n\theight,\r\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\r\n) => {\r\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\r\n\t\treturn false\r\n\t}\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\r\n\tconst aspect = parseFloat(width / height)\r\n\r\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width &&\r\n\t\theightTarget <= height &&\r\n\t\taspectDiff <= maxPercentTolerance\r\n\r\n\treturn isValid\r\n}\r\n","import { validate } from 'actions'\r\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\r\n\r\nexport function validateMediaSize({\r\n\tvalidateId,\r\n\tmedia,\r\n\tpropName,\r\n\tdirty,\r\n\twidthTarget,\r\n\theightTarget,\r\n\tmsg,\r\n\texact,\r\n\trequired,\r\n} = {}) {\r\n\treturn async function(dispatch) {\r\n\t\tconst { mime, tempUrl } = media\r\n\t\tlet isValid = mime && tempUrl\r\n\t\tlet args = [widthTarget, heightTarget, 'px']\r\n\r\n\t\tif (!required && !media.tempUrl) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tif (required && isValid) {\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\t\t\tconst mediaWidth = size.width\r\n\t\t\tconst mediaHeight = size.height\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactishAspect(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, propName, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow, skipRedirect) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut(skipRedirect)\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\thandleRequesterErrorRes({ res, text })\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdUnitById = ({ unitId }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${unitId}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getTargetingData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots/targeting-data',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `slots/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getUserCampaigns = ({ authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${campaign.id}/close`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({\r\n\tall,\r\n\tstatuses,\r\n\tbyEarner,\r\n\tbyCreator,\r\n\tcacheBrake,\r\n\tstatusOnly,\r\n} = {}) => {\r\n\tconst queryParams = {\r\n\t\t...(all && { all: true }),\r\n\t\t...(statusOnly && { statusOnly: true }),\r\n\t\t...(statuses && { status: statuses.join(',') }),\r\n\t\tbyEarner,\r\n\t\tbyCreator,\r\n\t\t...(cacheBrake && { cacheBrake: Date.now() }),\r\n\t}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateCampaign = ({ campaign, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(campaign),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const verifyWebsite = ({ websiteUrl }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots/verify-website',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON({ websiteUrl }),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getUserAudiences = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'audiences',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getUserAudienceByCampaign = ({ campaignId }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `audiences/${campaignId}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const putAudience = ({ audience, id }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `audiences/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(audience),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAudience = ({ audience }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `audiences`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(audience),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tgetAdUnits,\r\n\tgetAdSlots,\r\n\tgetUserAudiences,\r\n\tuploadImage,\r\n\tupdateAdSlot,\r\n\tupdateAdUnit,\r\n\tupdateCampaign,\r\n\tputAudience,\r\n} from 'services/adex-market/actions'\r\nimport { execute, addToast as AddToastUi, updateSpinner } from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { Base, AdSlot, AdUnit, helpers, Campaign, Audience } from 'adex-models'\r\n\r\nimport { translate } from 'services/translations/translations'\r\n\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { SOURCES } from 'constants/targeting'\r\nimport { selectAccount, selectAuth, selectItemByTypeAndId } from 'selectors'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nexport const getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\nexport function getAllItems(onDataUpdated) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\t\t\tconst audiences = getUserAudiences()\r\n\r\n\t\t\tconst [resAudiences, resUnits, resSlots] = await Promise.all([\r\n\t\t\t\taudiences,\r\n\t\t\t\tunits,\r\n\t\t\t\tslots,\r\n\t\t\t])\r\n\t\t\tconst userSlots = resSlots.slots || []\r\n\t\t\tconst userPassbackUnits = (resSlots.passbackUnits || []).reduce(\r\n\t\t\t\t(passbacks, u) => {\r\n\t\t\t\t\tconst { id, mediaMime, mediaUrl, targetUrl } = u\r\n\t\t\t\t\tpassbacks[id] = { mediaMime, mediaUrl, targetUrl }\r\n\r\n\t\t\t\t\treturn passbacks\r\n\t\t\t\t},\r\n\t\t\t\t{}\r\n\t\t\t)\r\n\r\n\t\t\tconst slotsWithUnits = userSlots.map(async s => ({\r\n\t\t\t\t...s,\r\n\t\t\t\t...(s.fallbackUnit ? userPassbackUnits[s.fallbackUnit] : {}),\r\n\t\t\t}))\r\n\r\n\t\t\tconst slotWithUnitsRes = await Promise.all(slotsWithUnits)\r\n\t\t\tif (selectAuth(getState())) {\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: resAudiences.audiences,\r\n\t\t\t\t\titemType: 'Audience',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: slotWithUnitsRes,\r\n\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tupdateItems({ items: resSlots.websites || [], itemType: 'Website' })(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tif (typeof onDataUpdated === 'function') {\r\n\t\t\t\t\tonDataUpdated()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({\r\n\titem,\r\n\titemType,\r\n\taction = 'UPDATING',\r\n\tonSuccess,\r\n\tgoToTableOnSuccess = false,\r\n} = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { id } = item\r\n\t\tupdateSpinner(action + id, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tlet updatedItem = null\r\n\t\t\tlet objModel = null\r\n\t\t\tlet path = ''\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot': // In case newItem.website is null (very few slots)\r\n\t\t\t\t\tnewItem.website = newItem.website || ''\r\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id })).slot\r\n\t\t\t\t\tobjModel = AdSlot\r\n\t\t\t\t\tpath = '/dashboard/publisher/slots'\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id })).unit\r\n\t\t\t\t\tobjModel = AdUnit\r\n\t\t\t\t\tpath = '/dashboard/advertiser/units'\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id })).campaign\r\n\t\t\t\t\tobjModel = Campaign\r\n\t\t\t\t\tpath = '/dashboard/advertiser/campaigns'\r\n\t\t\t\t\tbreak\r\n\r\n\t\t\t\tcase 'Audience':\r\n\t\t\t\t\tconst audience = new Audience(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await putAudience({ audience, id })).audience\r\n\t\t\t\t\tobjModel = Audience\r\n\t\t\t\t\tpath = '/dashboard/advertiser/audiences'\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: `SUCCESS_${action}_ITEM`,\r\n\t\t\t\targs: [itemType, item.title],\r\n\t\t\t})\r\n\r\n\t\t\tif (goToTableOnSuccess) {\r\n\t\t\t\texecute(push(path))\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_${action}_ITEM`, err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: `ERR_${action}_ITEM`,\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner(action + item.id, false)(dispatch)\r\n\t}\r\n}\r\n\r\nconst findSourceByTag = tag => {\r\n\treturn Object.keys(SOURCES).find(\r\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\r\n\t)\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: key,\r\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ itemId, itemType, goToTableOnSuccess } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst selectedItem = selectItemByTypeAndId(getState(), itemType, itemId)\r\n\t\tconst item = { ...selectedItem }\r\n\t\titem.archived = true\r\n\r\n\t\tawait updateItem({\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t\taction: 'ARCHIVING',\r\n\t\t\tgoToTableOnSuccess,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","export function loadFromLocalStorage(key) {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n\r\nexport function removeFromLocalStorage(key) {\r\n\tlocalStorage.removeItem(key)\r\n}\r\n\r\nexport function getKeys() {\r\n\treturn Object.keys(localStorage)\r\n}\r\n","import { ethers, utils } from 'ethers'\r\nimport pbkdf2 from 'pbkdf2'\r\nimport {\r\n\tencrypt,\r\n\tdecrypt,\r\n\tencryptLegacy,\r\n\tdecryptLegacy,\r\n} from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n\tgetKeys,\r\n\tremoveFromLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tpbkdf2.pbkdf2(\r\n\t\t\tpass,\r\n\t\t\tsalt,\r\n\t\t\titerations,\r\n\t\t\tkeylen,\r\n\t\t\tdigiset,\r\n\t\t\t(err, derivedKey) => {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn reject(err)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst res = derivedKey.toString(encoding)\r\n\r\n\t\t\t\treturn resolve(res)\r\n\t\t\t}\r\n\t\t)\r\n\t})\r\n}\r\n\r\nasync function getCipherKey({ email, password }) {\r\n\tconst pass = generateSalt(password)\r\n\tconst salt = generateSalt(email)\r\n\r\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn key\r\n}\r\n\r\nfunction isLegacyCrypto(authType) {\r\n\treturn !authType || authType === 'legacy' || authType === 'grant'\r\n}\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport async function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\tconst walletData = {\r\n\t\tmnemonic: wallet.mnemonic.phrase,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.mnemonic.path,\r\n\t}\r\n\r\n\treturn walletData\r\n}\r\n\r\nasync function encrKey({ email, password, authType }) {\r\n\tif (!authType) {\r\n\t\treturn await encryptLegacy(email, password)\r\n\t} else if (typeof authType === 'string') {\r\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\r\n\t} else {\r\n\t\tthrow new Error('INVALID_TYPE')\r\n\t}\r\n}\r\n\r\nexport async function encrData({ email = '', password, data, authType }) {\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\tconst jsonData = JSON.stringify(data)\r\n\tif (isLegacy) {\r\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\r\n\t\treturn legacyEncrypted\r\n\t} else {\r\n\t\tconst encrypted = await encrypt(\r\n\t\t\tjsonData,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t\treturn encrypted\r\n\t}\r\n}\r\n\r\nexport async function decrData({ email = '', password, data, authType }) {\r\n\tlet decryptedStr = ''\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\r\n\tif (isLegacy) {\r\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\r\n\t} else {\r\n\t\tdecryptedStr = await decrypt(\r\n\t\t\tdata,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst decr = JSON.parse(decryptedStr)\r\n\t\treturn decr\r\n\t} catch (err) {\r\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\r\n\t}\r\n}\r\n\r\nexport async function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic,\r\n\tauthType = '',\r\n}) {\r\n\tconst walletData = await generateWallet(mnemonic)\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst data = await encrData({ data: walletData, email, password, authType })\r\n\tawait saveToLocalStorage({ data }, key)\r\n\r\n\twalletData.authType = authType\r\n\treturn walletData\r\n}\r\n\r\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\r\n\tconst wallet = await getLocalWallet({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tgetEncrypted: true,\r\n\t})\r\n\r\n\tif (wallet && wallet.data) {\r\n\t\tconst newKey = await encrKey({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\r\n\t\t})\r\n\t\tsaveToLocalStorage(wallet, newKey)\r\n\t}\r\n}\r\n\r\nexport async function removeLegacyKey({ email = '', password = '' }) {\r\n\tconst key = await encrKey({ email, password })\r\n\tremoveFromLocalStorage(key)\r\n}\r\n\r\nexport async function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n\tauthType,\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('INVALID_DATA_KEY')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('WALLET_NOT_FOUND')\r\n\t}\r\n\r\n\tconst data = await encrData({ data: dataValue, email, password, authType })\r\n\twallet[dataKey] = data\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport async function getRecoveryWalletData({ email, password, authType }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport async function getLocalWallet({\r\n\temail,\r\n\tpassword,\r\n\tauthType,\r\n\tgetEncrypted,\r\n}) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tif (getEncrypted) {\r\n\t\t\treturn wallet\r\n\t\t}\r\n\r\n\t\tconst walletKeys = Object.keys(wallet)\r\n\r\n\t\tconst decrypts = walletKeys.map(async key => {\r\n\t\t\t// props[key] = await decrData({\r\n\t\t\t// \tdata: wallet[key],\r\n\t\t\t// \temail,\r\n\t\t\t// \tpassword,\r\n\t\t\t// \tauthType,\r\n\t\t\t// })\r\n\r\n\t\t\tconst decryptedData = await decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\treturn decryptedData\r\n\t\t})\r\n\r\n\t\tconst decryptedData = await Promise.all(decrypts)\r\n\r\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\r\n\t\t\tprops[key] = decryptedData[index]\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn decryptedWallet\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nfunction isWallet(item) {\r\n\treturn item && item.data && item.identity && item.privileges\r\n}\r\n\r\nexport function walletInfo(key, index, wallet) {\r\n\tconst split = key.split('-')\r\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\r\n\tconst authType = split[1] || 'legacy'\r\n\tconst name = mail || `Grant account # ${index + 1}`\r\n\r\n\tconst info = {\r\n\t\tkey,\r\n\t\twallet,\r\n\t\tname,\r\n\t\tauthType,\r\n\t}\r\n\r\n\treturn info\r\n}\r\n\r\nexport function getAllWallets() {\r\n\tconst walletKeys = getKeys()\r\n\t\t.map(key => {\r\n\t\t\treturn {\r\n\t\t\t\tkey,\r\n\t\t\t\titem: loadFromLocalStorage(key),\r\n\t\t\t}\r\n\t\t})\r\n\t\t.filter(({ item }) => isWallet(item))\r\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\r\n\r\n\treturn walletKeys\r\n}\r\n\r\nexport async function getWalletHash({ salt, password }) {\r\n\tconst passwordId = utils.id(password)\r\n\r\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn hash\r\n}\r\n\r\nexport function generateSalt(dataStr) {\r\n\tif (typeof dataStr !== 'string') {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\r\n\t} else if (!dataStr.length) {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\r\n\t}\r\n\r\n\tconst id = utils.id(dataStr)\r\n\tconst salt = utils.keccak256(id)\r\n\treturn salt\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\r\n\t\tthis._provider = provider\r\n\t\tthis._opts = opts\r\n\t}\r\n\r\n\tgetWallet = async () => {\r\n\t\tif (this._wallet) {\r\n\t\t\treturn this._wallet\r\n\t\t} else {\r\n\t\t\tconst { email, password, authType } = this._opts\r\n\t\t\tconst walletData = await getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\r\n\t\t\treturn this._wallet\r\n\t\t}\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn await this.getWallet().address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = await this.getWallet().sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst wallet = await this.getWallet()\r\n\r\n\t\tconst signature = await wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (\r\n\t\tauthType === AUTH_TYPES.GRANT.name ||\r\n\t\tauthType === AUTH_TYPES.QUICK.name\r\n\t) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\tconst hash = utils.solidityKeccak256(\r\n\t\t['bytes32', 'bytes32'],\r\n\t\t[schemaHash, valuesHash]\r\n\t)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\r\n\r\nconst getValidatorRequester = ({ baseUrl }) => {\r\n\treturn new Requester({ baseUrl })\r\n}\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\r\n\tconst followerRequester = getValidatorRequester({\r\n\t\tbaseUrl: follower.url,\r\n\t})\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validatorId,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ campaign, options, account }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: follower.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst leaderAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: leader.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t\tauthTokens: {\r\n\t\t\t[follower.id]: followerAuthToken,\r\n\t\t\t[leader.id]: leaderAuthToken,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ campaign, account }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const updateTargeting = ({ campaign, account, targetingRules }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tevents: [{ type: 'UPDATE_TARGETING', targetingRules }],\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const identityAnalytics = async ({\r\n\tleaderAuth,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n\tside,\r\n\tsegmentByChannel,\r\n\tstart,\r\n\tend,\r\n\tweekHoursSpan,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tlimit,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\teventType,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t\tweekHoursSpan,\r\n\t\t\t\ttimezone: dateUtils.getCurrentTimezone(),\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn { aggregates, metric }\r\n}\r\n\r\nexport const identityAdvancedAnalytics = async ({ leaderAuth, eventType }) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/advanced`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType },\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn aggregates\r\n}\r\n\r\nexport const campaignAnalytics = ({\r\n\tcampaign,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n}) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${campaign.id}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const timeBasedAnalytics = async ({\r\n\tleaderAuth,\r\n\tlimit,\r\n\ttimeframe,\r\n\teventType,\r\n\tmetric,\r\n\tside,\r\n\tstart,\r\n\tend,\r\n\tsegmentByChannel,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst result = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tlimit,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\teventType,\r\n\t\t\t\tmetric,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\treturn result\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectFeeTokenWhitelist,\r\n} from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\r\n\tif (token.address === mainToken.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\r\n\r\n\t// approve + swap txns\r\n\tconst swapFees = BigNumber.from(feeToken.min).mul(BigNumber.from(2))\r\n\r\n\tconst isAvailable = swapFees.mul(BigNumber.from(2)).lte(balance)\r\n\treturn isAvailable ? balance : BigNumber.from(0)\r\n}\r\n\r\nexport const getTotalAccountRevenue = async ({ all }) => {\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst totalRevenue = await Object.values(all).reduce(\r\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\r\n\t\t\tconst revenue = await revenuePr\r\n\r\n\t\t\tconst token = withdrawTokens[depositAsset]\r\n\r\n\t\t\t// const hasMinBalance = BigNumber.from(balance).gt(\r\n\t\t\t// \tBigNumber.from(token.minFinal)\r\n\t\t\t// )\r\n\r\n\t\t\t// NOTE: Show everything\r\n\t\t\tconst hasMinBalance = BigNumber.from(balance).gt(BigNumber.from(0))\r\n\r\n\t\t\tconst balanceMainToken = hasMinBalance\r\n\t\t\t\t? await tokenInMainTokenValue({\r\n\t\t\t\t\t\ttoken,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t  })\r\n\t\t\t\t: BigNumber.from(0)\r\n\r\n\t\t\treturn revenue.add(balanceMainToken)\r\n\t\t},\r\n\t\tPromise.resolve(BigNumber.from(0))\r\n\t)\r\n\r\n\treturn totalRevenue\r\n}\r\n\r\nexport const getWithdrawTokensBalances = async ({\r\n\taddress,\r\n\tgetFullBalances,\r\n}) => {\r\n\tconst { getToken } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\r\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\r\n\t\tconst tokenContract = getToken(token)\r\n\r\n\t\tconst balance = await tokenContract.balanceOf(address)\r\n\r\n\t\tconst available = getFullBalances\r\n\t\t\t? balance\r\n\t\t\t: tokenAvailableBalance({\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tmainToken,\r\n\t\t\t\t\tbalance,\r\n\t\t\t  })\r\n\r\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: available,\r\n\t\t})\r\n\r\n\t\treturn { token, balance: available, balanceMainToken }\r\n\t})\r\n\r\n\tconst balances = await Promise.all(balancesCalls)\r\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\r\n\t\t(data, balanceData) => {\r\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\r\n\t\t\t\tbalanceData.balanceMainToken\r\n\t\t\t)\r\n\r\n\t\t\tif (balanceData.token.address === mainToken.address) {\r\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\r\n\t\t\t}\r\n\r\n\t\t\treturn data\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotalBalanceInMainToken: BigNumber.from(0),\r\n\t\t\tmainTokenBalance: BigNumber.from(0),\r\n\t\t}\r\n\t)\r\n\r\n\treturn {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t\ttotalBalanceInMainToken,\r\n\t}\r\n}\r\n\r\nexport async function getAddressBalances({ address, getFullBalances }) {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tgetWithdrawTokensBalances({\r\n\t\t\taddress: address.address,\r\n\t\t\tgetFullBalances,\r\n\t\t}),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: utils.formatEther(balances[0].toString()),\r\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\r\n\t\t\treturn {\r\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\r\n\t\t\t\tsymbol: token.symbol,\r\n\t\t\t}\r\n\t\t}),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({\r\n\taccount,\r\n\toutstandingBalanceMainToken = {\r\n\t\ttotal: BigNumber.from('0'),\r\n\t\tavailable: BigNumber.from('0'),\r\n\t},\r\n\toutstandingBalanceAllMainToken = {\r\n\t\ttotal: BigNumber.from('0'),\r\n\t\tavailable: BigNumber.from('0'),\r\n\t},\r\n\tall,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { address } = identity\r\n\tconst { getIdentity } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst { decimals } = selectMainToken()\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = getIdentity({ address })\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tgetWithdrawTokensBalances({ address }),\r\n\t\tprivilegesAction,\r\n\t\tgetTotalAccountRevenue({ all }),\r\n\t]\r\n\r\n\tconst [\r\n\t\tidentityWithdrawTokensBalancesBalances = {},\r\n\t\twalletPrivileges,\r\n\t\ttotalRevenue,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn undefined\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\tconst identityBalanceMainToken =\r\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken ||\r\n\t\tBigNumber.from(0)\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\tidentityWithdrawTokensBalancesBalances,\r\n\t\twalletPrivileges,\r\n\t\tidentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\r\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\r\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.total\r\n\t\t),\r\n\t\toutstandingBalanceAllMainToken: outstandingBalanceAllMainToken.available,\r\n\t\ttotalOutstandingBalanceAllMainToken: outstandingBalanceAllMainToken.total,\r\n\t\tavailableIdentityBalanceAllMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceAllMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceAllMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceAllMainToken.total\r\n\t\t),\r\n\t\ttotalRevenue,\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceMainToken: formatTokenAmount(\r\n\t\t\tidentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalRevenue: formatTokenAmount(\r\n\t\t\traw.totalRevenue || '0',\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\n// NOTE: currently working because DAI and SAI has the same price and decimals\r\n// We should use getOutstandingBalanceMainToken if changed\r\nexport async function getOutstandingBalance({ withBalance }) {\r\n\tconst bigZero = BigNumber.from(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable } = ch\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstanding)\r\n\t\tcurrent.available = current.available.add(\r\n\t\t\tBigNumber.from(outstandingAvailable)\r\n\t\t)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\r\n\tconst tokens = selectRoutineWithdrawTokens()\r\n\tconst bigZero = BigNumber.from(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\r\n\t\tconst { depositAsset } = channel\r\n\t\tconst token = tokens[depositAsset]\r\n\r\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\r\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: outstandingAvailable,\r\n\t\t})\r\n\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstandingMT)\r\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getAllValidatorsAuthForIdentity({\r\n\twithBalance,\r\n\taccount,\r\n}) {\r\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\r\n\r\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\r\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\r\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\r\n\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\r\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\tconst keys = Object.keys(allValidators)\r\n\r\n\tconst tokenCalls = keys.map(async key => {\r\n\t\tif (allValidators[key]) {\r\n\t\t\treturn allValidators[key]\r\n\t\t} else {\r\n\t\t\tconst token = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: key,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\treturn token\r\n\t\t}\r\n\t})\r\n\r\n\tconst allTokens = await Promise.all(tokenCalls)\r\n\r\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[key]: allTokens[index],\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\treturn validatorsAuth\r\n}\r\n\r\nconst saiDaiConversion = async ({ token, balance }) => balance\r\n\r\nconst valueInMainTokenConversions = {\r\n\t// SAI\r\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\r\n\t\t// DAI\r\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\r\n\t},\r\n\t// DAI\r\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\r\n\t\t// SAI\r\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\r\n\t},\r\n}\r\n\r\nexport async function tokenInMainTokenValue({ token, balance }) {\r\n\tconst { address } = selectMainToken()\r\n\r\n\tif (address === token.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst valueInMainToken = await valueInMainTokenConversions[\r\n\t\taddress.toLowerCase()\r\n\t][token.address.toLowerCase()]({\r\n\t\ttoken,\r\n\t\tbalance,\r\n\t})\r\n\r\n\treturn valueInMainToken\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\r\nimport { Contract, BigNumber, utils } from 'ethers'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport { executeTx } from 'services/adex-relayer'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectFeeTokenWhitelist,\r\n\tselectSaiToken,\r\n\tt,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\nimport solc from 'solcBrowser'\r\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\r\nimport { EXECUTE_ACTIONS } from 'constants/misc'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nconst { AdExENSManager, ReverseRegistrar } = contracts\r\nconst { Interface, getAddress, parseUnits, id, keccak256 } = utils\r\n\r\nconst ERC20 = new Interface(ERC20TokenABI)\r\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\r\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\r\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\r\n\r\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\r\n\r\nexport async function getIdentityDeployData({\r\n\towner,\r\n\trelayerRoutineAuthValidUntil = 10648454444,\r\n}) {\r\n\tconst {\r\n\t\tidentityFactoryAddr,\r\n\t\trelayerAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tidentityRecoveryAddr,\r\n\t\tcoreAddr,\r\n\t\tmainToken,\r\n\t} = selectRelayerConfig()\r\n\r\n\tconst privileges = [\r\n\t\t[owner, 2],\r\n\t\t[identityRecoveryAddr, 2],\r\n\t]\r\n\r\n\tconst routineAuthorizationsRaw = [\r\n\t\t{\r\n\t\t\trelayer: relayerAddr,\r\n\t\t\toutpace: coreAddr,\r\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tfeeTokenAmount: '0x00',\r\n\t\t},\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tbaseIdentityAddr,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t\troutineAuthsSlot: 1,\r\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\r\n\t\t\t\tnew RoutineAuthorization(x).hash()\r\n\t\t\t),\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst identityAddr = getAddress(\r\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tidentityFactoryAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tidentityAddr,\r\n\t\tprivileges,\r\n\t\troutineAuthorizationsRaw,\r\n\t}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { authType } = wallet\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: tokenAddr,\r\n\t\tto: tokenAddr,\r\n\t\tdata: ERC20.encodeFunctionData('transfer', [withdrawTo, toWithdraw]),\r\n\t\twithdrawTx: true,\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: toWithdraw,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.withdraw,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\tconst mtBalance = BigNumber.from(availableIdentityBalanceMainToken)\r\n\r\n\tif (fees.totalBN.gt(mtBalance)) {\r\n\t\tthrow new Error(\r\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\t`${formatTokenAmount(\r\n\t\t\t\t\t\tmtBalance.toString(),\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t2\r\n\t\t\t\t\t)} ${symbol}`,\r\n\t\t\t\t\t`${fees.total} ${symbol}`,\r\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\r\n\r\n\tlet actualWithdrawAmount = toWithdraw\r\n\r\n\tif (toWithdraw.gt(maxWithdraw)) {\r\n\t\tactualWithdrawAmount = maxWithdraw\r\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\r\n\t\t\tif (tx.withdrawTx) {\r\n\t\t\t\ttx.data = ERC20.encodeFunctionData('transfer', [\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tactualWithdrawAmount.toString(),\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttotalBN: fees.totalBN,\r\n\t\t\tactualWithdrawAmount,\r\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals, null, 2),\r\n\t\t\tbreakdownFormatted: fees.breakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.encodeFunctionData('setAddrPrivilege', [\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.privilegesChange,\r\n\t})\r\n\r\n\tif (getFeesOnly) {\r\n\t\tconst {\r\n\t\t\ttotal,\r\n\t\t\ttotalBN,\r\n\t\t\tbreakdownFormatted,\r\n\t\t} = await getIdentityTxnsTotalFees({\r\n\t\t\ttxnsByFeeToken,\r\n\t\t})\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t\ttotalBN,\r\n\t\t\tbreakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\ttxnsByFeeToken,\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: {\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t},\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\nfunction txnsByTokenWithSaiToDaiSwap({\r\n\ttxns,\r\n\tmainToken,\r\n\tdaiAddr,\r\n\tsaiAddr,\r\n\tidentityAddr,\r\n}) {\r\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\r\n\t\t(current, tx, i) => {\r\n\t\t\tconst { withdrawAmountByToken } = tx\r\n\r\n\t\t\tconst needSaiToDaiSwap =\r\n\t\t\t\t!!saiAddr &&\r\n\t\t\t\t!!withdrawAmountByToken &&\r\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\r\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\r\n\t\t\t\tmainToken.address === daiAddr &&\r\n\t\t\t\tsaiAddr !== daiAddr\r\n\r\n\t\t\tlet feeTokenAddr = ''\r\n\r\n\t\t\tif (needSaiToDaiSwap) {\r\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\r\n\t\t\t\t\tBigNumber.from(withdrawAmountByToken[saiAddr])\r\n\t\t\t\t)\r\n\t\t\t\tfeeTokenAddr = daiAddr\r\n\t\t\t}\r\n\r\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\r\n\t\t\t// normalize tx\r\n\t\t\ttx.feeTokenAddr = feeTokenAddr\r\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\r\n\r\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\r\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\r\n\t\t\t\ttx,\r\n\t\t\t]\r\n\r\n\t\t\treturn current\r\n\t\t},\r\n\t\t{\r\n\t\t\tsaiWithdrawAmount: BigNumber.from('0'),\r\n\t\t\ttxnsByFeeToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { txnsByFeeToken, saiWithdrawAmount }\r\n}\r\n\r\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: AdExENSManager.address,\r\n\t\tdata: AdExENSManagerInterface.encodeFunctionData('registerAndSetup', [\r\n\t\t\tAdExENSManager.publicResolver,\r\n\t\t\tid(username),\r\n\t\t\tidentityAddr,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: ReverseRegistrar.address,\r\n\t\tdata: ReverseRegistrarInterface.encodeFunctionData('setName', [\r\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.ensChange,\r\n\t})\r\n\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { total, totalBN, breakdownFormatted } = await getIdentityTxnsTotalFees(\r\n\t\t{\r\n\t\t\ttxnsByFeeToken,\r\n\t\t\tmainToken,\r\n\t\t}\r\n\t)\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t\ttotalBN,\r\n\t\t\tbreakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function getIdentityTxnsWithNoncesAndFees({\r\n\tamountInMainTokenNeeded = '0',\r\n\texecuteAction = 'DEFAULT',\r\n\ttxns = [],\r\n\tidentityAddr,\r\n\tprovider,\r\n\tIdentity,\r\n\taccount,\r\n\tgetToken,\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { mainToken, daiAddr, saiAddr, relayerAddr } = selectRelayerConfig()\r\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\r\n\r\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\r\n\tlet identityContract = null\r\n\r\n\tif (isDeployed) {\r\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\t}\r\n\r\n\tconst initialNonce = isDeployed\r\n\t\t? (await identityContract.nonce()).toNumber()\r\n\t\t: 0\r\n\r\n\tconst baseFee = BigNumber.from(\r\n\t\t(mainTokenWithFees.executeBaseFee || {})[executeAction] || '0'\r\n\t)\r\n\r\n\tconst mainTxnsFees = txns.length\r\n\t\t? BigNumber.from(\r\n\t\t\t\t!initialNonce\r\n\t\t\t\t\t? mainTokenWithFees.minDeploy\r\n\t\t\t\t\t: mainTokenWithFees.minRecommended\r\n\t\t  ).add(\r\n\t\t\t\tBigNumber.from(mainTokenWithFees.minRecommended).mul(\r\n\t\t\t\t\tBigNumber.from(txns.length - 1)\r\n\t\t\t\t)\r\n\t\t  )\r\n\t\t: BigNumber.from(0)\r\n\r\n\tconst feesForMainTxns = baseFee.add(mainTxnsFees)\r\n\r\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\r\n\t\tBigNumber.from(amountInMainTokenNeeded)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsweepTxns = [],\r\n\t\tswapAmountsByToken = {},\r\n\t} = await getSweepingTxnsIfNeeded({\r\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\r\n\r\n\t\taccount,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns: sweepTxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// 1st - always get sweeping txns (channelWithdraw)\r\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\r\n\t// 3rd - make other txns with the main token only\r\n\r\n\t// TODO: make it work with other tokens\r\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\r\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\r\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\r\n\t\t.add(BigNumber.from(swapAmountsByToken[saiAddr] || 0))\r\n\r\n\tif (!saiSwapAmount.isZero()) {\r\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\r\n\t\t\t...(await swapSaiToDaiTxns({\r\n\t\t\t\tgetToken,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tdaiAddr,\r\n\t\t\t\tsaiToken,\r\n\t\t\t\tswapAmount: saiSwapAmount,\r\n\t\t\t})),\r\n\t\t]\r\n\t}\r\n\r\n\tconst allFeeTokens = [\r\n\t\t...new Set([\r\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\r\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\r\n\t\t]),\r\n\t]\r\n\r\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\r\n\t\ttxns[token] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t]\r\n\r\n\t\treturn txns\r\n\t}, {})\r\n\r\n\tlet currentNonce = initialNonce\r\n\tlet baseFeeAdded = false\r\n\r\n\tObject.keys(txnsByFeeToken).forEach(key => {\r\n\t\tconst withFeesAndNonce = txnsByFeeToken[key].map(tx => {\r\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\r\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\r\n\t\t\tconst isDeployTx = currentNonce === 0\r\n\r\n\t\t\tconst txFeeAmount = isDeployTx\r\n\t\t\t\t? feeToken.minDeploy\r\n\t\t\t\t: isSweepTx\r\n\t\t\t\t? feeToken.min\r\n\t\t\t\t: feeToken.minRecommended\r\n\r\n\t\t\tconst addBaseFee =\r\n\t\t\t\t!baseFeeAdded && !isSweepTx && tx.feeTokenAddr === mainToken.address\r\n\r\n\t\t\tconst sweepRoutinesFeeAmount = BigNumber.from(routinesSweepTxCount).mul(\r\n\t\t\t\tBigNumber.from(feeToken.min)\r\n\t\t\t)\r\n\r\n\t\t\tconst extraFeesAmount = BigNumber.from(extraTxFeesCount).mul(\r\n\t\t\t\tBigNumber.from(feeToken.minRecommended)\r\n\t\t\t)\r\n\r\n\t\t\t// Total relayer fees for the transaction\r\n\t\t\tconst feeAmount = BigNumber.from(txFeeAmount)\r\n\t\t\t\t.add(sweepRoutinesFeeAmount)\r\n\t\t\t\t.add(extraFeesAmount)\r\n\t\t\t\t.add(addBaseFee ? baseFee : BigNumber.from(0))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\t// fees that are not pre calculated with in the total identity balance\r\n\t\t\t// There are no pre calculated fees in the balance\r\n\t\t\tconst nonIdentityBalanceFeeAmount = BigNumber.from(feeAmount)\r\n\t\t\t// .sub(BigNumber.from(isSweepTx ? feeToken.min : 0))\r\n\t\t\t// .sub(BigNumber.from(routinesSweepTxCount).mul(BigNumber.from(feeToken.min)))\r\n\t\t\t// .toString()\r\n\r\n\t\t\tconst feesBreakdown = {\r\n\t\t\t\t...(addBaseFee ? { baseFee } : {}),\r\n\t\t\t\troutinesSweepTxCount,\r\n\t\t\t\tsweepRoutinesFeeAmount: '0',\r\n\t\t\t\textraTxFeesCount,\r\n\t\t\t\textraFeesAmount: '0',\r\n\t\t\t\tfeeAmount: '0',\r\n\t\t\t\ttxFeeAmount: '0',\r\n\t\t\t\tisDeployTx,\r\n\t\t\t\tisSweepTx,\r\n\t\t\t}\r\n\r\n\t\t\tconst txWithNonce = {\r\n\t\t\t\t...tx,\r\n\t\t\t\tfeeTokenAddr: feeToken.address,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\tnonce: currentNonce,\r\n\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t\tfeesBreakdown,\r\n\t\t\t\texecuteAction,\r\n\t\t\t}\r\n\r\n\t\t\tcurrentNonce += 1\r\n\r\n\t\t\treturn txWithNonce\r\n\t\t})\r\n\r\n\t\tconst txnsWithFeeRecipient = withFeeRecipient({\r\n\t\t\ttxns: withFeesAndNonce,\r\n\t\t\tidentityAddr,\r\n\t\t\tfeeCollectorAddr: relayerAddr,\r\n\t\t\tcurrentNonce,\r\n\t\t})\r\n\r\n\t\tcurrentNonce += 1\r\n\r\n\t\ttxnsByFeeToken[key] = txnsWithFeeRecipient\r\n\t})\r\n\r\n\treturn txnsByFeeToken\r\n}\r\n\r\nfunction withFeeRecipient({\r\n\ttxns,\r\n\tidentityAddr,\r\n\tfeeCollectorAddr,\r\n\tcurrentNonce,\r\n}) {\r\n\tconst { total, feeTokenAddr } = txns.reduce(\r\n\t\t({ total, feeTokenAddr }, tx) => ({\r\n\t\t\ttotal: total.add(tx.feeAmount),\r\n\t\t\tfeeTokenAddr: feeTokenAddr || tx.feeTokenAddr,\r\n\t\t}),\r\n\t\t{ total: BigNumber.from('0'), feeTokenAddr: null }\r\n\t)\r\n\r\n\tconst feesBreakdown = {\r\n\t\tfeeAmount: total,\r\n\t\ttxFeeAmount: total,\r\n\t\troutinesSweepTxCount: 0,\r\n\t\tsweepRoutinesFeeAmount: '0',\r\n\t\textraTxFeesCount: 0,\r\n\t\textraFeesAmount: 0,\r\n\t}\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tfeeAmount: total,\r\n\t\tnonIdentityBalanceFeeAmount: '0',\r\n\t\tfeesBreakdown,\r\n\t\tto: feeTokenAddr,\r\n\t\tdata: ERC20.encodeFunctionData('transfer', [feeCollectorAddr, total]),\r\n\t\tnonce: currentNonce,\r\n\t\texecuteAction: EXECUTE_ACTIONS.default,\r\n\t}\r\n\r\n\t// NOTE: set other txns feeAmount to 0 after the total fee is calculated\r\n\tconst withFeeTx = [...txns.map(x => ({ ...x, feeAmount: 0 })), withdrawTx]\r\n\r\n\treturn withFeeTx\r\n}\r\n\r\nexport async function getApproveTxns({\r\n\tgetToken,\r\n\ttoken,\r\n\tidentityAddr,\r\n\tfeeTokenAddr,\r\n\tapproveForAddress,\r\n\tapproveAmount,\r\n}) {\r\n\tconst tokenContract = getToken(token)\r\n\r\n\tconst allowance = await tokenContract.allowance(\r\n\t\tidentityAddr,\r\n\t\tapproveForAddress\r\n\t)\r\n\r\n\tconst approveTxns = []\r\n\r\n\tif (!allowance.isZero()) {\r\n\t\tapproveTxns.push({\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: token.address,\r\n\t\t\tdata: ERC20.encodeFunctionData('approve', [approveForAddress, 0]),\r\n\t\t})\r\n\t}\r\n\r\n\tapproveTxns.push({\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tto: token.address,\r\n\t\tdata: ERC20.encodeFunctionData('approve', [\r\n\t\t\tapproveForAddress,\r\n\t\t\tapproveAmount,\r\n\t\t]),\r\n\t})\r\n\r\n\treturn approveTxns\r\n}\r\n\r\nasync function swapSaiToDaiTxns({\r\n\tidentityAddr,\r\n\tdaiAddr,\r\n\tsaiToken,\r\n\tswapAmount,\r\n\tgetToken,\r\n}) {\r\n\tconst approveTxns = await getApproveTxns({\r\n\t\tgetToken,\r\n\t\ttoken: saiToken,\r\n\t\tidentityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\r\n\t\tapproveAmount: swapAmount,\r\n\t})\r\n\r\n\tconst swapTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tto: SCD_MCD_MIGRATION_ADDR,\r\n\t\tdata: ScdMcdMigration.encodeFunctionData('swapSaiToDai', [swapAmount]),\r\n\t}\r\n\r\n\treturn [...approveTxns, swapTx]\r\n}\r\n\r\n// TODO: use byToken where needed\r\n// currently works because only using SAI and DAI only\r\nexport async function getIdentityTxnsTotalFees({\r\n\ttxnsByFeeToken,\r\n\tmainToken = {},\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst bigZero = BigNumber.from('0')\r\n\tconst { total, byToken, totalBreakdown } = Object.values(txnsByFeeToken)\r\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\r\n\t\t.reduce(\r\n\t\t\t(result, tx) => {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesBreakdown,\r\n\t\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t\t\tfeeTokenAddr,\r\n\t\t\t\t\texecuteAction,\r\n\t\t\t\t} = tx\r\n\t\t\t\tconst { total, byToken, totalBreakdown } = result\r\n\t\t\t\tconst txFeeAmount = BigNumber.from(nonIdentityBalanceFeeAmount)\r\n\r\n\t\t\t\tresult.total = total.add(txFeeAmount)\r\n\t\t\t\tresult.byToken[feeTokenAddr] = (byToken[feeTokenAddr] || bigZero).add(\r\n\t\t\t\t\ttxFeeAmount\r\n\t\t\t\t)\r\n\r\n\t\t\t\tresult.totalBreakdown = {\r\n\t\t\t\t\tbaseFee: BigNumber.from(totalBreakdown.baseFee || '0').add(\r\n\t\t\t\t\t\tBigNumber.from(feesBreakdown.baseFee || '0')\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsweepRoutinesFeeAmount: BigNumber.from(\r\n\t\t\t\t\t\ttotalBreakdown.sweepRoutinesFeeAmount || '0'\r\n\t\t\t\t\t).add(BigNumber.from(feesBreakdown.sweepRoutinesFeeAmount)),\r\n\t\t\t\t\textraFeesAmount: BigNumber.from(\r\n\t\t\t\t\t\ttotalBreakdown.extraFeesAmount || '0'\r\n\t\t\t\t\t).add(BigNumber.from(feesBreakdown.extraFeesAmount)),\r\n\t\t\t\t\tfeeAmount: BigNumber.from(totalBreakdown.feeAmount || '0').add(\r\n\t\t\t\t\t\tBigNumber.from(feesBreakdown.feeAmount)\r\n\t\t\t\t\t),\r\n\t\t\t\t\troutinesSweepTxCount:\r\n\t\t\t\t\t\t(totalBreakdown.routinesSweepTxCount || 0) +\r\n\t\t\t\t\t\t(feesBreakdown.routinesSweepTxCount || 0),\r\n\t\t\t\t\textraTxFeesCount:\r\n\t\t\t\t\t\t(totalBreakdown.extraTxFeesCount || 0) +\r\n\t\t\t\t\t\t(feesBreakdown.extraTxFeesCount || 0),\r\n\t\t\t\t\ttxnsCount:\r\n\t\t\t\t\t\ttotalBreakdown.txnsCount + (feesBreakdown.isSweepTx ? 0 : 1),\r\n\t\t\t\t\tsweepTxnsCount:\r\n\t\t\t\t\t\ttotalBreakdown.sweepTxnsCount +\r\n\t\t\t\t\t\t(totalBreakdown.routinesSweepTxCount || 0) +\r\n\t\t\t\t\t\t(feesBreakdown.isSweepTx ? 1 : 0),\r\n\t\t\t\t\tsweepTxnsFeeAmount: BigNumber.from(\r\n\t\t\t\t\t\ttotalBreakdown.sweepTxnsFeeAmount || '0'\r\n\t\t\t\t\t).add(\r\n\t\t\t\t\t\tBigNumber.from(\r\n\t\t\t\t\t\t\tfeesBreakdown.isSweepTx\r\n\t\t\t\t\t\t\t\t? feesBreakdown.txFeeAmount\r\n\t\t\t\t\t\t\t\t: feesBreakdown.sweepRoutinesFeeAmount\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t),\r\n\t\t\t\t\tdeployFee: feesBreakdown.isDeployTx\r\n\t\t\t\t\t\t? BigNumber.from(feesBreakdown.txFeeAmount)\r\n\t\t\t\t\t\t: null,\r\n\t\t\t\t\texecuteAction,\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttotal: bigZero,\r\n\t\t\t\tbyToken: {},\r\n\t\t\t\ttotalBreakdown: { txnsCount: 0, sweepTxnsCount: 0 },\r\n\t\t\t}\r\n\t\t)\r\n\r\n\tconst byTokenFormatted = Object.entries(byToken).map(([key, value]) => {\r\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\r\n\t\treturn {\r\n\t\t\taddress: key,\r\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\r\n\t\t\tsymbol,\r\n\t\t\tfeeFormatted: `${formatTokenAmount(\r\n\t\t\t\tvalue.toString(),\r\n\t\t\t\tdecimals,\r\n\t\t\t\tfalse,\r\n\t\t\t\t4\r\n\t\t\t)} ${symbol}`,\r\n\t\t}\r\n\t})\r\n\r\n\tconst breakdownFormatted = {\r\n\t\t...totalBreakdown,\r\n\t\tbaseFee: formatTokenAmount(\r\n\t\t\ttotalBreakdown.baseFee.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tfeeAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.feeAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tsweepRoutinesFeeAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.sweepRoutinesFeeAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\textraFeesAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.extraFeesAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttxnsFee: formatTokenAmount(\r\n\t\t\ttotalBreakdown.feeAmount\r\n\t\t\t\t.sub(totalBreakdown.sweepTxnsFeeAmount)\r\n\t\t\t\t.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tsweepTxnsFeeAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.sweepTxnsFeeAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tdeployFee: totalBreakdown.deployFee\r\n\t\t\t? formatTokenAmount(\r\n\t\t\t\t\ttotalBreakdown.deployFee.toString(),\r\n\t\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t  )\r\n\t\t\t: null,\r\n\t}\r\n\r\n\tconst fees = {\r\n\t\t// TODO: change to return total as BN and add totalFormatted\r\n\t\ttotal: formatTokenAmount(\r\n\t\t\ttotal.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tbreakdownFormatted,\r\n\t\ttotalBN: total,\r\n\t\tbyToken: byTokenFormatted,\r\n\t}\r\n\r\n\treturn fees\r\n}\r\n\r\nexport async function processExecuteByFeeTokens({\r\n\ttxnsByFeeToken,\r\n\twallet,\r\n\tprovider,\r\n\tidentityAddr,\r\n\textraData = {},\r\n}) {\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRawWithFeeAmount => {\r\n\t\tconst txnsRaw = txnsRawWithFeeAmount.map(x => ({ ...x, feeAmount: '0' }))\r\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\r\n\t\tconst data = {\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\t...extraData,\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\r\n\t\t\tprocess.env.NODE_ENV === 'development'\r\n\t\t) {\r\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\r\n\t\t}\r\n\r\n\t\tconst result = await executeTx(data)\r\n\r\n\t\treturn {\r\n\t\t\tresult,\r\n\t\t}\r\n\t})\r\n\r\n\tconst results = await Promise.all(all)\r\n\r\n\treturn results\r\n}\r\n\r\nexport async function withdrawOtherTokensFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\tconst decimals = parseInt(tokenDecimals, 10)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: mainToken.address,\r\n\t\tto: tokenAddress,\r\n\t\tdata: ERC20.encodeFunctionData('transfer', [withdrawTo, toWithdraw]),\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.withdraw,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttotalBN: fees.totalBN,\r\n\t\t\ttoWithdraw,\r\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals, null, 2),\r\n\t\t\tbreakdownFormatted: fees.breakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n","import crypto from 'crypto'\r\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\r\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetIdentityTxnsWithNoncesAndFees,\r\n\tgetIdentityTxnsTotalFees,\r\n\tprocessExecuteByFeeTokens,\r\n\tgetApproveTxns,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { contracts } from '../contractsCfg'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit, helpers } from 'adex-models'\r\nimport { getCampaigns } from 'services/adex-market/actions'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport {\r\n\t// selectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectMainFeeToken,\r\n\tselectMainToken,\r\n\tselectSaiToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\r\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\r\nimport { getState } from 'store'\r\nimport { AUTH_TYPES, EXECUTE_ACTIONS } from 'constants/misc'\r\nconst { parseUnits, Interface, randomBytes, getAddress } = utils\r\n\r\nconst { userInputPricingBoundsPerMileToRulesValue } = helpers\r\n\r\nconst { AdExCore } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst IdentityInterface = new Interface(IdentityABI)\r\n\r\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\r\nconst DAY = 24 * 60 * 60 * 1000\r\nconst VALID_UNTIL_FROM_CREATION = 360 * DAY\r\n\r\nconst OUTSTANDING_STATUSES = {\r\n\tActive: true,\r\n\tReady: true,\r\n\tExhausted: true,\r\n\tOffline: true,\r\n\tUnhealthy: true,\r\n\tWithdraw: true,\r\n}\r\n\r\n// TODO: get it from the market\r\nconst GLOBAL_MIN_CPM = '0.01' // per 1000 user input\r\nconst GLOBAL_MAX_CPM = '15.00' // per 1000 user input\r\n\r\nconst EXTRA_PROCESS_TIME = 48 * 60 * 60 // 48 hours in seconds\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\ttitle: channel.title,\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(created) {\r\n\treturn Math.floor((created + VALID_UNTIL_FROM_CREATION) / 1000)\r\n}\r\n\r\nfunction userInputToTokenValue({ input, decimals, divider = 1 }) {\r\n\treturn parseUnits(input || '0', decimals)\r\n\t\t.div(BigNumber.from(divider))\r\n\t\t.toString()\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, mainToken) {\r\n\tconst { decimals } = mainToken\r\n\tconst newCampaign = new Campaign(campaign)\r\n\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(newCampaign.created)\r\n\tnewCampaign.nonce = BigNumber.from(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = userInputToTokenValue({\r\n\t\tinput: newCampaign.depositAmount,\r\n\t\tdecimals,\r\n\t})\r\n\r\n\tconst validators = newCampaign.validators.map(v => {\r\n\t\tconst deposit = BigNumber.from(newCampaign.depositAmount || 0)\r\n\t\tconst fee = deposit\r\n\t\t\t.mul(BigNumber.from(v.feeNum || 1))\r\n\t\t\t.div(BigNumber.from(v.feeDen || 1))\r\n\t\t\t.toString()\r\n\r\n\t\tconst validator = {\r\n\t\t\tid: v.id,\r\n\t\t\turl: v.url,\r\n\t\t\tfee,\r\n\t\t}\r\n\r\n\t\tif (v.feeAddr) {\r\n\t\t\tvalidator.feeAddr = v.feeAddr\r\n\t\t}\r\n\r\n\t\treturn validator\r\n\t})\r\n\r\n\tnewCampaign.validators = validators\r\n\r\n\t// spec pricing bounds\r\n\tconst pricingBounds = userInputPricingBoundsPerMileToRulesValue({\r\n\t\tpricingBounds: {\r\n\t\t\tIMPRESSION: {\r\n\t\t\t\tmin: GLOBAL_MIN_CPM,\r\n\t\t\t\tmax: GLOBAL_MAX_CPM,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdecimals,\r\n\t})\r\n\r\n\t// TODO: CLICK when available\r\n\tnewCampaign.pricingBounds = pricingBounds\r\n\r\n\t// TEMP: legacy compatibility\r\n\tnewCampaign.minPerImpression = pricingBounds.IMPRESSION.min\r\n\tnewCampaign.maxPerImpression = pricingBounds.IMPRESSION.max\r\n\r\n\tnewCampaign.depositAsset = mainToken.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = {\r\n\t\tname: 'Pending',\r\n\t\thumanFriendlyName: 'Pending',\r\n\t\tlastChecked: Date.now(),\r\n\t}\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nconst getWithdrawnPerUserOutstanding = async ({\r\n\tchannel,\r\n\tbalance,\r\n\tidentityAddr,\r\n}) => {\r\n\tconst { AdExCore } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst withdrawnPerUser = await AdExCore.functions.withdrawnPerUser(\r\n\t\tchannel.id,\r\n\t\tidentityAddr\r\n\t)\r\n\r\n\tconst outstanding = BigNumber.from(balance.toString()).sub(\r\n\t\tBigNumber.from(withdrawnPerUser[0])\r\n\t)\r\n\r\n\treturn outstanding\r\n}\r\n\r\nexport async function getChannelsWithOutstanding({ identityAddr }) {\r\n\tconst channels = await getCampaigns({ all: true, byEarner: identityAddr })\r\n\r\n\t// const feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\r\n\r\n\tconst allChannels = await Promise.all(\r\n\t\tchannels\r\n\t\t\t.filter(\r\n\t\t\t\tchannel =>\r\n\t\t\t\t\tchannel &&\r\n\t\t\t\t\tchannel.status &&\r\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\r\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\r\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\r\n\t\t\t)\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\r\n\t\t\t\t\t(balances, e) => {\r\n\t\t\t\t\t\tconst [address, balance] = e\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (getAddress(address)) {\r\n\t\t\t\t\t\t\t\tbalances[address] = balance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch {}\r\n\t\t\t\t\t\treturn balances\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\r\n\r\n\t\t\t\treturn channel\r\n\t\t\t})\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\tbTree,\r\n\t\t\t\t\tchannel,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter(({ bTree }) => {\r\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\r\n\t\t\t})\r\n\t\t\t.map(\r\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\r\n\t\t\t\t\t//  mTree,\r\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\r\n\r\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tidentityAddr,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// const outstandingAvailable = outstanding.sub(\r\n\t\t\t\t\t// \tBigNumber.from(feeTokenWhitelist[channel.depositAsset].min)\r\n\t\t\t\t\t// )\r\n\r\n\t\t\t\t\t// NOTE: We will show everything - will add this to withdraw fees\r\n\t\t\t\t\tconst outstandingAvailable = outstanding\r\n\r\n\t\t\t\t\tconst balanceNum = BigNumber.from(channel.depositAmount)\r\n\t\t\t\t\t\t.sub(BigNumber.from(channel.spec.validators[0].fee || 0))\r\n\t\t\t\t\t\t.sub(BigNumber.from(channel.spec.validators[1].fee || 0))\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\t\toutstanding,\r\n\t\t\t\t\t\toutstandingAvailable,\r\n\t\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t)\r\n\r\n\tconst all = Object.assign(\r\n\t\t{},\r\n\t\t...allChannels.map(c => {\r\n\t\t\tconst { channel, balance } = c\r\n\t\t\tconst { id, depositAmount, depositAsset, status, spec } = channel\r\n\t\t\tconst balanceNum = BigNumber.from(depositAmount)\r\n\t\t\t\t.sub(BigNumber.from(c.channel.spec.validators[0].fee))\r\n\t\t\t\t.sub(BigNumber.from(c.channel.spec.validators[1].fee))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\treturn {\r\n\t\t\t\t[c.channel.id.toLowerCase()]: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tbalance,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tdepositAsset,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\tstatus: status.name,\r\n\t\t\t\t\tadUnits: spec.adUnits, //TODO: add only what needed\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n\t)\r\n\r\n\tconst withOutstandingBalanceAll = allChannels.filter(x => {\r\n\t\treturn (\r\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\r\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\r\n\t\t\t\tDate.now() &&\r\n\t\t\tx.outstandingAvailable.gt(BigNumber.from('0'))\r\n\t\t)\r\n\t})\r\n\r\n\tconst withOutstandingBalance = [...withOutstandingBalanceAll].filter(x =>\r\n\t\t// Used for withdraw and all functions requiring sweeps\r\n\t\tx.outstanding.gt(\r\n\t\t\tBigNumber.from(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\r\n\t\t)\r\n\t)\r\n\r\n\treturn { all, withOutstandingBalanceAll, withOutstandingBalance }\r\n}\r\n\r\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\r\n\tconst { eligible } = withBalance\r\n\t\t.sort((c1, c2) => {\r\n\t\t\treturn BigNumber.from(c2.outstandingAvailable).gt(\r\n\t\t\t\tBigNumber.from(c1.outstandingAvailable)\r\n\t\t\t)\r\n\t\t})\r\n\t\t.reduce(\r\n\t\t\t(data, c) => {\r\n\t\t\t\tconst current = { ...data }\r\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\r\n\t\t\t\t\tcurrent.eligible.push(c)\r\n\t\t\t\t\tcurrent.sum = current.sum.add(BigNumber.from(c.outstandingAvailable))\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn current\r\n\t\t\t},\r\n\t\t\t{ sum: BigNumber.from(0), eligible: [] }\r\n\t\t)\r\n\r\n\treturn eligible\r\n}\r\n\r\nconst getChannelWithdrawData = ({\r\n\tidentityAddr,\r\n\tbalance,\r\n\tlastApprovedBalances,\r\n\tlastApprovedSigs,\r\n\tethChannelTuple,\r\n}) => {\r\n\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\tconst proof = bTree.getProof(identityAddr)\r\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\r\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\r\n\tconst root = bTree.mTree.getRoot()\r\n\r\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\r\n}\r\n\r\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\r\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\r\n\t\t(data, tx) => {\r\n\t\t\tconst updated = { ...data }\r\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\r\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\r\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || BigNumber.from(0)\r\n\t\t\t).add(BigNumber.from(tx.withdrawAmountByToken[tx.feeTokenAddr]))\r\n\r\n\t\t\treturn updated\r\n\t\t},\r\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\r\n\t)\r\n\r\n\tconst data = IdentityInterface.encodeFunctionData('executeRoutines', [\r\n\t\troutineAuthTuple,\r\n\t\troutineOpts,\r\n\t])\r\n\r\n\tconst routinesTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tto: identityAddr,\r\n\t\tdata,\r\n\t\twithdrawAmountByToken,\r\n\t\troutinesSweepTxCount: routineOpts.length,\r\n\t}\r\n\r\n\treturn routinesTx\r\n}\r\n\r\nfunction getIdentityRoutineAuthTuple(identity) {\r\n\treturn identity &&\r\n\t\tidentity.relayerData &&\r\n\t\tidentity.relayerData.deployData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t: null\r\n}\r\n\r\nfunction is41identity(routineAuthTuple) {\r\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\r\n\r\n\treturn is41\r\n}\r\n\r\nfunction hasValidExecuteRoutines(routineAuthTuple) {\r\n\tconst hasValidRoutines =\r\n\t\tis41identity(routineAuthTuple) &&\r\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\r\n\r\n\treturn hasValidRoutines\r\n}\r\n\r\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\r\n\tconst { identity } = account\r\n\t// TODO: pass withBalance as prop\r\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\r\n\r\n\tconst { AdExCore } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst identityAddr = identity.address\r\n\tconst channelsToSweep = await getChannelsToSweepFrom({\r\n\t\tamountToSweep,\r\n\t\tidentityAddr,\r\n\t\twithBalance,\r\n\t})\r\n\r\n\tconst txns = channelsToSweep.map((c, i) => {\r\n\t\tconst {\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tchannel,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\toutstanding,\r\n\t\t\t// outstandingAvailable,\r\n\t\t\tbalance,\r\n\t\t} = c\r\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\r\n\r\n\t\tconst data = getChannelWithdrawData({\r\n\t\t\tidentityAddr,\r\n\t\t\tbalance,\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\tethChannelTuple,\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tfeeTokenAddr: channel.depositAsset,\r\n\t\t\tdata,\r\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\r\n\t\t}\r\n\t})\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\r\n\tlet encodedTxns = null\r\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\r\n\t\tencodedTxns = [\r\n\t\t\tgetSweepExecuteRoutineTx({\r\n\t\t\t\ttxns,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\troutineAuthTuple,\r\n\t\t\t}),\r\n\t\t]\r\n\t} else {\r\n\t\tencodedTxns = txns.map(tx => {\r\n\t\t\ttx.data = Core.encodeFunctionData('channelWithdraw', tx.data)\r\n\t\t\ttx.isSweepTx = true\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\treturn encodedTxns\r\n}\r\n\r\nfunction getSwapAmountsByToken({ balances }) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\r\n\t\t(swaps, balance) => {\r\n\t\t\t// TODO: currently work only for SAI to DAI swap\r\n\t\t\tif (\r\n\t\t\t\tsaiToken &&\r\n\t\t\t\tsaiToken.address &&\r\n\t\t\t\tbalance.token.address !== mainToken.address &&\r\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\r\n\t\t\t\tbalance.token.address === saiToken.address\r\n\t\t\t) {\r\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\r\n\t\t\t\t\tbalance.balanceMainToken\r\n\t\t\t\t)\r\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\r\n\t\t\t}\r\n\t\t\treturn swaps\r\n\t\t},\r\n\t\t{\r\n\t\t\tswapsSumInMainToken: BigNumber.from(0),\r\n\t\t\tswapsByToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { swapsByToken, swapsSumInMainToken }\r\n}\r\n\r\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\r\n// amountNeeded must be in MainToken\r\nexport async function getSweepingTxnsIfNeeded({\r\n\tamountInMainTokenNeeded,\r\n\taccount,\r\n}) {\r\n\tconst needed = BigNumber.from(amountInMainTokenNeeded)\r\n\tconst {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\r\n\r\n\tlet currentBalanceInUse = BigNumber.from(mainTokenBalance)\r\n\r\n\tconst sweepData = {\r\n\t\tsweepTxns: [],\r\n\t\tswapAmountsByToken: {},\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\t// Swaps\r\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\r\n\t\t\tbalances,\r\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\r\n\t\tsweepData.swapAmountsByToken = swapsByToken\r\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\r\n\t\t\taccount,\r\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\t}\r\n\r\n\treturn sweepData\r\n}\r\n\r\nexport function getChannelId({ campaign, account }) {\r\n\tconst { identity } = account\r\n\tconst mainToken = selectMainFeeToken()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst id = ethChannel.hashHex(AdExCore.address)\r\n\r\n\treturn id\r\n}\r\n\r\nexport async function openChannel({\r\n\tcampaign,\r\n\taccount,\r\n\tgetFeesOnly,\r\n\tgetMaxFees,\r\n}) {\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\r\n\tconst mainToken = selectMainFeeToken()\r\n\tconst depositAmount = getMaxFees\r\n\t\t? availableIdentityBalanceMainToken\r\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst feeTokenAddr = mainToken.address\r\n\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\r\n\r\n\tconst txns = []\r\n\r\n\tif (hasIdentityChannelOpen) {\r\n\t\tconst identityChannelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: identityAddr,\r\n\t\t\tdata: IdentityInterface.encodeFunctionData('channelOpen', [\r\n\t\t\t\tAdExCore.address,\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t\textraTxFeesCount: 1,\r\n\t\t}\r\n\t\ttxns.push(identityChannelOpenTx)\r\n\t} else {\r\n\t\tconst approveTxns = await getApproveTxns({\r\n\t\t\tgetToken,\r\n\t\t\ttoken: mainToken,\r\n\t\t\tidentityAddr,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tapproveForAddress: AdExCore.address,\r\n\t\t\tapproveAmount: depositAmount,\r\n\t\t})\r\n\r\n\t\tconst channelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tdata: Core.encodeFunctionData('channelOpen', [\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t}\r\n\t\ttxns.push(...approveTxns, channelOpenTx)\r\n\t}\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: depositAmount,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.openCampaign,\r\n\t})\r\n\r\n\tconst {\r\n\t\ttotal,\r\n\t\ttotalBN,\r\n\t\tbreakdownFormatted,\r\n\t} = await getIdentityTxnsTotalFees({ txnsByFeeToken })\r\n\tconst bigZero = BigNumber.from(0)\r\n\tconst mtBalance = BigNumber.from(availableIdentityBalanceMainToken)\r\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\r\n\t\t? bigZero\r\n\t\t: mtBalance.sub(totalBN)\r\n\tconst maxAvailableFormatted = formatTokenAmount(\r\n\t\tmaxAvailable.toString(),\r\n\t\tmainToken.decimals || 18,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfeesFormatted: total,\r\n\t\t\tfees: totalBN,\r\n\t\t\tmaxAvailable,\r\n\t\t\tmaxAvailableFormatted,\r\n\t\t\tbreakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: { channel },\r\n\t})\r\n\r\n\treadyCampaign.id = channel.id\r\n\tconst storeCampaign = { ...readyCampaign }\r\n\tstoreCampaign.spec = { ...openReady.spec }\r\n\treturn {\r\n\t\tresult,\r\n\t\tstoreCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import { BigNumber } from 'ethers'\r\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\r\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n\r\nimport { getCampaigns } from './actions'\r\n\r\nexport async function getUnitsStatsByType() {\r\n\tconst { decimals } = selectMainToken()\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst allChannels = await getCampaigns({ statuses: ['Active'] })\r\n\r\n\tconst channels = allChannels.filter(\r\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\r\n\t)\r\n\r\n\tconst unitsByType = channels.reduce((units, channel) => {\r\n\t\tconst byType = { ...units }\r\n\t\tchannel.spec.adUnits.forEach(unit => {\r\n\t\t\tbyType[unit.type] = byType[unit.type] || []\r\n\t\t\tbyType[unit.type].push(channel)\r\n\t\t})\r\n\r\n\t\treturn byType\r\n\t}, {})\r\n\r\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\r\n\t\tasync (prevStats, key) => {\r\n\t\t\tconst stats = await prevStats\r\n\t\t\tconst channelsByType = unitsByType[key]\r\n\r\n\t\t\tlet totalPerImpression = BigNumber.from('0')\r\n\t\t\tlet totalVolume = BigNumber.from('0')\r\n\r\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\r\n\t\t\t\tconst channel = channelsByType[index]\r\n\r\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: BigNumber.from(channel.spec.minPerImpression),\r\n\t\t\t\t})\r\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: BigNumber.from(channel.depositAmount),\r\n\t\t\t\t})\r\n\r\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\r\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\r\n\t\t\t}\r\n\r\n\t\t\tconst avgPerImpression = totalPerImpression.div(\r\n\t\t\t\tBigNumber.from(channelsByType.length)\r\n\t\t\t)\r\n\t\t\tconst avgCPM = avgPerImpression.mul(BigNumber.from('1000'))\r\n\r\n\t\t\tconst statsByType = { ...stats }\r\n\t\t\tstatsByType[key] = {}\r\n\t\t\tstatsByType[key].raw = {\r\n\t\t\t\ttotalVolume,\r\n\t\t\t\tavgPerImpression,\r\n\t\t\t\tavgCPM,\r\n\t\t\t}\r\n\r\n\t\t\tstatsByType[key].formatted = {\r\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\r\n\t\t\t\tavgPerImpression: formatTokenAmount(\r\n\t\t\t\t\tavgPerImpression,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\r\n\t\t\t}\r\n\r\n\t\t\treturn statsByType\r\n\t\t},\r\n\t\tPromise.resolve({})\r\n\t)\r\n\r\n\treturn unitsByTypeStats\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport throttle from 'lodash.throttle'\r\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetValidatorAuthToken,\r\n\tidentityAnalytics,\r\n\tidentityAdvancedAnalytics,\r\n\ttimeBasedAnalytics,\r\n} from 'services/adex-validator/actions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n} from 'constants/misc'\r\nimport {\r\n\tUPDATING_SLOTS_DEMAND,\r\n\tUPDATING_TARGETING_DATA,\r\n} from 'constants/spinners'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { fillEmptyTime } from 'helpers/analyticsTimeHelpers'\r\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\r\nimport { getTargetingData } from 'services/adex-market/actions'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAnalyticsDataSide,\r\n\tselectAccount,\r\n\tselectStatsChartData,\r\n\tselectAnalyticsLiveTimestamp,\r\n\tselectPublisherReceiptsPresentMonths,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectMonthsRange,\r\n} from 'selectors'\r\nimport { BigNumber } from 'ethers'\r\nimport moment from 'moment'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { DEFAULT_WEEK_HOURS_SPAN } from 'helpers/analyticsTimeHelpers'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\nconst analyticsParams = ({ timeframe, side }) => {\r\n\tconst callsParams = []\r\n\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric => {\r\n\t\t\tconst segmentByChannel =\r\n\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts' ? true : undefined\r\n\t\t\tconst limit = segmentByChannel ? 100 * 25 : 100\r\n\t\t\tcallsParams.push({\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tside,\r\n\t\t\t\teventType,\r\n\t\t\t\tweekHoursSpan: DEFAULT_WEEK_HOURS_SPAN,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\tlimit,\r\n\t\t\t})\r\n\t\t})\r\n\t)\r\n\r\n\treturn callsParams\r\n}\r\n\r\nconst analyticsCampaignsParams = () => {\r\n\tconst callsParams = []\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tcallsParams.push({ eventType })\r\n\t)\r\n\treturn callsParams\r\n}\r\n\r\nfunction aggrByChannelsSegments({ aggr, allChannels, withdrawTokens }) {\r\n\tif (!Object.keys(allChannels).length) {\r\n\t\treturn []\r\n\t}\r\n\t// NOTE: No need to sort them again because fillEmptyTime\r\n\t// is sorting by time after adding the empty time values\r\n\tconst { aggregations, all } = aggr\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\t\t.reduce(\r\n\t\t\t(data, a) => {\r\n\t\t\t\tconst { time } = a\r\n\t\t\t\tconst { aggregations, channels, all } = data\r\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t//  depositAsset,\r\n\t\t\t\t\t//  status,\r\n\t\t\t\t\t// \tbalance\r\n\t\t\t\t} = allChannels[channelId] || {}\r\n\r\n\t\t\t\t// NOTE: check if the channel has lifetime min balance e.g. it is in the total balance\r\n\t\t\t\t// - need to be synced with relayer way for auto sweep - only when campaign is complete\r\n\r\n\t\t\t\t// const { minPlatform, minFinal } = withdrawTokens[depositAsset]\r\n\t\t\t\t// const isExpired = status === 'Expired'\r\n\t\t\t\t// const minBalance = isExpired ? minFinal : minPlatform\r\n\t\t\t\t// const hasMinBalance = BigNumber.from(balance).gt(BigNumber.from(minBalance))\r\n\r\n\t\t\t\t// if (hasMinBalance) {\r\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\r\n\r\n\t\t\t\tconst value = BigNumber.from(a.value || 0)\r\n\t\t\t\t\t.mul(BigNumber.from(balanceNum || 1))\r\n\t\t\t\t\t.div(BigNumber.from(depositAmount || 1))\r\n\r\n\t\t\t\tcurrent.aggr.push({ value, time })\r\n\r\n\t\t\t\tconst currentAggr = aggregations[time] || {\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\tvalue: BigNumber.from(0),\r\n\t\t\t\t}\r\n\t\t\t\tconst currentChannelValue = BigNumber.from(current.value || 0).add(\r\n\t\t\t\t\tvalue\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst currentTimeValue = currentAggr.value\r\n\r\n\t\t\t\tcurrent.value = currentChannelValue\r\n\r\n\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\r\n\r\n\t\t\t\tchannels[channelId] = current\r\n\t\t\t\taggregations[time] = currentAggr\r\n\t\t\t\tall[time] = a.value || all[time]\r\n\t\t\t\t// }\r\n\r\n\t\t\t\treturn { aggregations, channels, all }\r\n\t\t\t},\r\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\r\n\t\t)\r\n\r\n\t// NOTE: force to null values when value under limits but not naturally 0\r\n\tconst aggrWithNullValues = Object.values(aggregations).map(\r\n\t\t({ time, value }) => {\r\n\t\t\tconst isNull =\r\n\t\t\t\tall[time] === undefined ||\r\n\t\t\t\t(BigNumber.from(value).isZero() && all[time] !== '0')\r\n\t\t\treturn { time, value: isNull ? null : value }\r\n\t\t}\r\n\t)\r\n\r\n\treturn aggrWithNullValues\r\n}\r\n\r\nexport const updateAccountAnalyticsThrottled = () => (dispatch, getState) => {\r\n\treturn updateAccountAnalytics(dispatch, getState)\r\n}\r\n\r\nexport const updateAccountAnalytics = throttle(\r\n\tasync function(dispatch, getState) {\r\n\t\tupdateAnalyticsLastChecked()(dispatch)\r\n\t\tconst state = getState()\r\n\t\tconst { start, end, callEnd } = selectIdentitySideAnalyticsPeriod(state)\r\n\r\n\t\tif (!start || !end || !callEnd) {\r\n\t\t\tconsole.warn('updateAccountAnalytics - periods no selected')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst side = selectAnalyticsDataSide(state)\r\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\r\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\r\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsParams({ timeframe, side })\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst liveTimestamp = selectAnalyticsLiveTimestamp(state)\r\n\t\t\tconst timeframeIsLive = liveTimestamp === start\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\tconst { datasets, labels } = selectStatsChartData(state, {\r\n\t\t\t\t\t...opts,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (timeframeIsLive || datasets.length === 0 || labels.length === 0) {\r\n\t\t\t\t\tidentityAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\tend: callEnd || end,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(({ aggregates, metric }) => {\r\n\t\t\t\t\t\t\tconst aggrByChannelSegments =\r\n\t\t\t\t\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts'\r\n\r\n\t\t\t\t\t\t\tlet aggr = aggrByChannelSegments\r\n\t\t\t\t\t\t\t\t? aggrByChannelsSegments({\r\n\t\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\r\n\t\t\t\t\t\t\t\t\t\tallChannels,\r\n\t\t\t\t\t\t\t\t\t\tfeeTokens,\r\n\t\t\t\t\t\t\t\t\t\twithdrawTokens,\r\n\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t: aggregates.aggr\r\n\t\t\t\t\t\t\tconst fillAfterLast = aggrByChannelSegments ? null : 0\r\n\r\n\t\t\t\t\t\t\taggregates.aggr = fillEmptyTime(\r\n\t\t\t\t\t\t\t\taggr,\r\n\t\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\tfillAfterLast,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\t\tend,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\t\t\tif (!accountChanged) {\r\n\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\r\n\t\t\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\t\t\ttimestamp: liveTimestamp === start ? 'live' : start,\r\n\t\t\t\t\t\t\t\t\tvalue: { ...aggregates }, // ADD TIME as well\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tawait Promise.all(allAnalytics)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t},\r\n\t1000,\r\n\t{ leading: false, trailing: true }\r\n)\r\n\r\nexport function updateAccountAdvancedAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsCampaignsParams()\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst value = await identityAdvancedAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\treturn { opts, value }\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tconst data = await Promise.all(allAnalytics)\r\n\r\n\t\t\tif (!accountChanged) {\r\n\t\t\t\tdata\r\n\t\t\t\t\t.filter(x => !!x)\r\n\t\t\t\t\t.forEach(({ opts, value }) =>\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\r\n\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getReceiptData(startDate, endDate) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { account } = state.persist\r\n\t\ttry {\r\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, true)(dispatch)\r\n\t\t\tconst presentMonths = selectPublisherReceiptsPresentMonths(state)\r\n\t\t\tconst monthsWanted = selectMonthsRange(startDate, endDate)\r\n\t\t\tconst monthsNeeded = monthsWanted\r\n\t\t\t\t.filter(val => !presentMonths.includes(val))\r\n\t\t\t\t.sort()\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tif (monthsNeeded.length > 0) {\r\n\t\t\t\tconst timeframe = 'month'\r\n\t\t\t\tconst limit = 500\r\n\t\t\t\tconst promises = []\r\n\t\t\t\tconst startDateNeeded = monthsNeeded[0]\r\n\t\t\t\tconst endDateNeeded = monthsNeeded[monthsNeeded.length - 1]\r\n\t\t\t\t//limit of request is 500 days\r\n\t\t\t\tfor (\r\n\t\t\t\t\tvar m = moment(startDateNeeded);\r\n\t\t\t\t\tm.diff(endDateNeeded) <= 0;\r\n\t\t\t\t\tm.add(limit, 'day')\r\n\t\t\t\t) {\r\n\t\t\t\t\tpromises.push(\r\n\t\t\t\t\t\ttimeBasedAnalytics({\r\n\t\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\tside: 'for-publisher',\r\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\r\n\t\t\t\t\t\t\tmetric: 'eventCounts',\r\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\r\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\ttimeBasedAnalytics({\r\n\t\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\tside: 'for-publisher',\r\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\r\n\t\t\t\t\t\t\tmetric: 'eventPayouts',\r\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\r\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst resolvedPromises = await Promise.all(promises)\r\n\t\t\t\tlet impressions = []\r\n\t\t\t\tlet payouts = []\r\n\t\t\t\tfor (let i = 0; i < resolvedPromises.length; i += 2) {\r\n\t\t\t\t\timpressions = [...impressions, ...resolvedPromises[i].aggr]\r\n\t\t\t\t\tpayouts = [...payouts, ...resolvedPromises[i + 1].aggr]\r\n\t\t\t\t}\r\n\t\t\t\tconst result = {}\r\n\t\t\t\t// add wanted dates\r\n\t\t\t\tconst getMonthTimeStamp = date => +moment(date).startOf('month')\r\n\t\t\t\tmonthsNeeded.forEach(date => {\r\n\t\t\t\t\tconst month = getMonthTimeStamp(date)\r\n\t\t\t\t\tif (!result[month]) {\r\n\t\t\t\t\t\tresult[month] = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\timpressions.forEach((item, i) => {\r\n\t\t\t\t\tconst month = getMonthTimeStamp(item.time)\r\n\t\t\t\t\tif (result[month]) {\r\n\t\t\t\t\t\tresult[month][item.time] = {\r\n\t\t\t\t\t\t\timpressions: item.value,\r\n\t\t\t\t\t\t\tpayouts: payouts[i].value,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: types.UPDATE_PUBLISHER_RECEIPTS,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t...result,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, false)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ANALYTICS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsLastChecked() {\r\n\treturn async function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ANALYTICS_LAST_CHECKED,\r\n\t\t\tvalue: new Date(),\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateSlotsDemand = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\r\n\t\t\t\tvalue: demandAnalytics,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateTargetingData = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\ttargetingData,\r\n\t\t\t\tminByCategory,\r\n\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t} = await getTargetingData()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_TARGETING_ANALYTICS,\r\n\t\t\t\tvalue: { targetingData, minByCategory, countryTiersCoefficients },\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_TARGETING_DATA_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_TARGETING_DATA_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateSlotsDemandThrottled = () => dispatch => {\r\n\treturn updateSlotsDemand(dispatch)\r\n}\r\n\r\nexport const updateTargetingDataThrottled = () => dispatch => {\r\n\treturn updateTargetingData(dispatch)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport {\r\n\tgetRelayerConfigData,\r\n\tgetQuickWallet,\r\n\tbackupWallet,\r\n\tgetIdentityData,\r\n\tresendEmail,\r\n} from 'services/adex-relayer/actions'\r\nimport { updateSpinner, updateGlobalUi } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tremoveLegacyKey,\r\n\tgetWalletHash,\r\n\tgenerateSalt,\r\n\tgetRecoveryWalletData,\r\n} from 'services/wallet/wallet'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport {\r\n\tgetAccountStats,\r\n\tgetOutstandingBalance,\r\n} from 'services/smart-contracts/actions/stats'\r\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\r\nimport {\r\n\taddToast,\r\n\tconfirmAction,\r\n\tupdateMemoryUi,\r\n\tupdateInitialDataLoaded,\r\n} from './uiActions'\r\nimport { getAllItems } from './itemActions'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tupdateTargetingDataThrottled,\r\n} from './analyticsActions'\r\nimport {\r\n\tgetEthereumProviderName,\r\n\tethereumNetworkId,\r\n\tgetMetamaskSelectedAddress,\r\n} from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\r\nimport {\r\n\tselectAccount,\r\n\tselectIdentity,\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectSearchParams,\r\n\tselectAuthType,\r\n\tselectAccountIdentity,\r\n\tselectLoginDirectSide,\r\n\tselectUserLastSide,\r\n\tselectEmail,\r\n\tselectResendConfirmation,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { push } from 'connected-react-router'\r\nimport {\r\n\tCREATING_SESSION,\r\n\tQUICK_WALLET_BACKUP,\r\n\tUPDATING_ACCOUNT_IDENTITY,\r\n\tSYNC_WEB3_DATA,\r\n} from 'constants/spinners'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tadvancedAnalyticsLoop,\r\n} from 'services/store-data/analytics'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta,\r\n\t\t\tnewValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithBalanceAll(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithBalanceAll() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithOutstandingBalance(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithOutstandingBalance() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// getIdentityStatistics tooks to long some times\r\n// if the account is change we do not update the account\r\n// TODO: we can use something for abortable tasks\r\nexport function isAccountChanged(getState, account) {\r\n\tconst hasAuth = selectAuth(getState())\r\n\tconst accountCheck = selectAccount(getState())\r\n\tconst accountChanged =\r\n\t\t!hasAuth ||\r\n\t\t!accountCheck.wallet.address ||\r\n\t\taccountCheck.wallet.address !== account.wallet.address ||\r\n\t\t!accountCheck.identity.address ||\r\n\t\t!accountCheck.identity.address !== !account.identity.address\r\n\r\n\treturn accountChanged\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tconst { identity } = account\r\n\t\t\tconst { address } = identity\r\n\t\t\tconst {\r\n\t\t\t\tall,\r\n\t\t\t\twithOutstandingBalance,\r\n\t\t\t\twithOutstandingBalanceAll,\r\n\t\t\t} = await getChannelsWithOutstanding({\r\n\t\t\t\tidentityAddr: address,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tupdateChannelsWithBalanceAll(all)(dispatch)\r\n\t\t\t\tupdateInitialDataLoaded('allChannels', true)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\r\n\t\t\t\twithBalance: withOutstandingBalance,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst outstandingBalanceAllMainToken = await getOutstandingBalance({\r\n\t\t\t\twithBalance: withOutstandingBalanceAll,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES_ALL', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst { formatted, raw } = await getAccountStats({\r\n\t\t\t\taccount,\r\n\t\t\t\toutstandingBalanceMainToken,\r\n\t\t\t\toutstandingBalanceAllMainToken,\r\n\t\t\t\tall,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tawait updateAccount({\r\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountIdentityData(onDataUpdated) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t\tconst identity = selectAccountIdentity(getState())\r\n\r\n\t\ttry {\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identity.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst updatedIdentity = { ...identity }\r\n\r\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\r\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\r\n\t\t\tupdatedIdentity.relayerData = relayerData\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { identity: updatedIdentity },\r\n\t\t\t})(dispatch)\r\n\t\t\tif (typeof onDataUpdated === 'function') {\r\n\t\t\t\tonDataUpdated()\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidatorAuthTokens({ newAuth }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\r\n\t\tconst newIdentity = { ...identity }\r\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\r\n\r\n\t\t// We don't want to update account if there is no actual change\r\n\t\tif (\r\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\r\n\t\t\tJSON.stringify(newTokens)\r\n\t\t) {\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({\r\n\twallet,\r\n\tidentity = {},\r\n\temail,\r\n\tdeleteLegacyKey,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst account = {\r\n\t\t\t\temail: email,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\tidentity: { ...identity },\r\n\t\t\t}\r\n\r\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taccount.identity.validatorAuthTokens = {\r\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\r\n\t\t\t}\r\n\r\n\t\t\tawait updateAccount({\r\n\t\t\t\tnewValues: { ...account },\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (deleteLegacyKey) {\r\n\t\t\t\tawait removeLegacyKey({\r\n\t\t\t\t\temail: wallet.email,\r\n\t\t\t\t\tpassword: wallet.password,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst redirectSide = selectLoginDirectSide(getState())\r\n\t\t\tawait updateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\r\n\t\t\t// getState() - after account is updated\r\n\t\t\tconst persistUserSide = selectUserLastSide(getState())\r\n\r\n\t\t\tconst { userSide } = (identity.relayerData || {}).meta || {}\r\n\r\n\t\t\tconst side = persistUserSide || userSide || redirectSide\r\n\r\n\t\t\tconst goTo = ['advertiser', 'publisher'].includes(side)\r\n\t\t\t\t? side\r\n\t\t\t\t: 'advertiser'\r\n\r\n\t\t\tdispatch(push(`/dashboard/${goTo}`))\r\n\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\r\n\r\n\t\t\t// dispatch(push('/side-select'))\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await getRelayerConfigData()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function isMetamaskMatters(getState) {\r\n\tconst state = getState()\r\n\tconst searchParams = selectSearchParams(state)\r\n\tconst authType = selectAuthType(state)\r\n\r\n\tconst doesItMatter =\r\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\r\n\t\t(!authType &&\r\n\t\t\tsearchParams.get('external') === 'metamask' &&\r\n\t\t\t(await getEthereumProviderName()) === AUTH_TYPES.METAMASK.name)\r\n\r\n\treturn doesItMatter\r\n}\r\n\r\nexport function onMetamaskNetworkChange({ id } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (\r\n\t\t\t(await isMetamaskMatters(getState)) &&\r\n\t\t\tprocess.env.NODE_ENV !== (ETHEREUM_NETWORKS[id] || {}).for\r\n\t\t) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const onMetamaskAccountChange = (accountAddress = '') => {\r\n\treturn async function(_, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { authType, address = '' } = account.wallet\r\n\r\n\t\tif (\r\n\t\t\thasAuth &&\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\r\n\t\t\t(!accountAddress ||\r\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\r\n\t\t) {\r\n\t\t\tlogOut()\r\n\t\t} else if (!hasAuth) {\r\n\t\t\tconst identity = selectIdentity(state)\r\n\t\t\tconst { identityContractOwner } = identity\r\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskAccountCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst isMatters = await isMetamaskMatters(getState)\r\n\t\tif (isMatters) {\r\n\t\t\tconst selectedAddress = await getMetamaskSelectedAddress()\r\n\t\t\tonMetamaskAccountChange(selectedAddress)(_, getState)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskNetworkCheck() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst id = await ethereumNetworkId()\r\n\t\tonMetamaskNetworkChange({ id })(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskChecks() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tmetamaskNetworkCheck()(dispatch, getState)\r\n\t\tmetamaskAccountCheck()(dispatch, getState)\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tonMetamaskAccountChange(accounts[0])(dispatch, getState)\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('chainChanged', chainId => {\r\n\t\t\t\tconsole.log('chainChanged', chainId)\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nasync function hasBackup({ email, password }) {\r\n\tconst salt = generateSalt(email)\r\n\tconst hash = await getWalletHash({ salt, password })\r\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\r\n\r\n\treturn !!encryptedWallet && encryptedWallet.wallet\r\n}\r\n\r\nasync function makeBackup({ email, password, authType }) {\r\n\tconst walletSalt = generateSalt(email)\r\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\r\n\tconst encryptedWallet = await getRecoveryWalletData({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tauthType,\r\n\t})\r\n\r\n\tawait backupWallet({\r\n\t\temail,\r\n\t\tsalt: walletSalt,\r\n\t\thash: walletHash,\r\n\t\tencryptedWallet,\r\n\t})\r\n}\r\n\r\nexport function ensureQuickWalletBackup() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { email, password, authType } = selectWallet(getState())\r\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\r\n\r\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\r\n\t\t\t\tawait makeBackup({ email, password, authType })\r\n\t\t\t}\r\n\t\t} catch (err) {}\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function loadAccountData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\t\tconst account = selectAccount(getState())\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await updateAccountIdentityData(() =>\r\n\t\t\t\tupdateInitialDataLoaded('accountIdentityData', true)(dispatch, getState)\r\n\t\t\t)(dispatch, getState))\r\n\r\n\t\tconst items = await getAllItems(() =>\r\n\t\t\tupdateInitialDataLoaded('allItems', true)(dispatch, getState)\r\n\t\t)(dispatch, getState)\r\n\r\n\t\tconst advancedAnalytics = advancedAnalyticsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('advancedAnalytics', true)(dispatch, getState)\r\n\t\t)\r\n\t\tconst campaigns = campaignsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('campaigns', true)(dispatch, getState)\r\n\t\t)\r\n\t\tconst demand = updateSlotsDemandThrottled()(dispatch, getState)\r\n\t\tconst targetingData = updateTargetingDataThrottled()(dispatch, getState)\r\n\r\n\t\tawait Promise.all[\r\n\t\t\t(items, advancedAnalytics, campaigns, demand, targetingData)\r\n\t\t]\r\n\r\n\t\tawait statsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('stats', true)(dispatch, getState)\r\n\t\t)\r\n\r\n\t\tupdateMemoryUi('initialDataLoaded', true)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function stopAccountDataUpdate() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\t\tanalyticsLoop.stop()\r\n\t\tadvancedAnalyticsLoop.stop()\r\n\t\tcampaignsLoop.stop()\r\n\t\tstatsLoop.stop()\r\n\t}\r\n}\r\n\r\nexport function resendConfirmationEmail() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst email = selectEmail(getState())\r\n\t\t\tconst result = (await resendEmail({ email })) || {}\r\n\t\t\tawait updateGlobalUi('resendConfirmation', result)(dispatch, getState)\r\n\t\t\tif (result.success) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: translate('SUCCESS_RESEND_EMAIL', { args: [email] }),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_RESEND_EMAIL', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_RESEND_EMAIL', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// NOTE: Need to be executed before each provider write action\r\nexport function beforeWeb3(validateId = '') {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(SYNC_WEB3_DATA + validateId, true)(dispatch)\r\n\t\tawait getRelayerConfig()(dispatch, getState)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\t\t// NOTE: the stats are updated on 60 seconds and there is no need to update them\r\n\t\t// as it took too long time\r\n\t\t// await updateAccountStats()(dispatch, getState)\r\n\r\n\t\tawait new Promise(resolve => setTimeout(resolve, 300))\r\n\t\tawait updateSpinner(SYNC_WEB3_DATA + validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { getQuickWallet } from 'services/adex-relayer/actions'\r\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\r\nimport {\r\n\tgetOwnerIdentities,\r\n\tregAccount,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { createSession } from './accountActions'\r\nimport { getIdentityDeployData } from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddDataToWallet,\r\n\tgetWalletHash,\r\n\tgetLocalWallet,\r\n\tmigrateLegacyWallet,\r\n\twalletInfo,\r\n\tcreateLocalWallet,\r\n\tgenerateSalt,\r\n} from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\nimport {\r\n\tselectLoginSelectedIdentity,\r\n\tselectIdentity,\r\n\tselectAuthType,\r\n\tt,\r\n} from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport {\r\n\tvalidate,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tvalidateTOS,\r\n\tvalidateWallet,\r\n\tvalidateIdentityContractOwner,\r\n\tvalidateAccessWarning,\r\n\tvalidateKnowFrom,\r\n\tvalidateUserSide,\r\n\tvalidateMoreInfo,\r\n} from './validationActions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tGETTING_OWNER_IDENTITIES,\r\n\tUPLOADING_ACCOUNT_DATA,\r\n\tCHECKING_METAMASK_AUTH,\r\n\tAUTH_WAITING_TREZOR_ACTION,\r\n\tAUTH_WAITING_ADDRESS_DATA,\r\n} from 'constants/spinners'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function initIdentity({ email, authType }) {\r\n\treturn function(dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'email',\r\n\t\t\tvalue: email,\r\n\t\t})\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'authType',\r\n\t\t\tvalue: authType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(t('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: t('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = err => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(err)\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(t('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function updateOwnerIdentities({ owner }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tconst loginSelectedIdentity = selectLoginSelectedIdentity(getState())\r\n\t\t\tconst data = Object.entries(identityData)\r\n\t\t\t\t.filter(\r\n\t\t\t\t\tx =>\r\n\t\t\t\t\t\t!!x &&\r\n\t\t\t\t\t\t!!x[0] &&\r\n\t\t\t\t\t\t(!!loginSelectedIdentity\r\n\t\t\t\t\t\t\t? x[0].toLowerCase() === loginSelectedIdentity.toLowerCase()\r\n\t\t\t\t\t\t\t: true)\r\n\t\t\t\t)\r\n\t\t\t\t.map(async ([identityAddr, privLevel]) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tidentity: identityAddr,\r\n\t\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\t\tens,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\r\n\r\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_OWNER_IDENTITIES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function login() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tknowFrom,\r\n\t\t\t\tuserSide,\r\n\t\t\t\tmoreInfo,\r\n\t\t\t\tidentityData,\r\n\t\t\t\tidentityTxData,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\tregisterAccount,\r\n\t\t\t} = selectIdentity(getState())\r\n\r\n\t\t\tif (registerAccount) {\r\n\t\t\t\tawait regAccount({\r\n\t\t\t\t\towner: wallet.address,\r\n\t\t\t\t\temail: email.toLowerCase(),\r\n\t\t\t\t\tknowFrom,\r\n\t\t\t\t\tuserSide,\r\n\t\t\t\t\tmoreInfo,\r\n\t\t\t\t\t...identityTxData,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identityData.address,\r\n\t\t\t\t})) || {}\r\n\t\t\tconst identity = {\r\n\t\t\t\t...identityData,\r\n\t\t\t\taddress: relayerData.deployData._id,\r\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\r\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\r\n\t\t\t\trelayerData,\r\n\t\t\t}\r\n\t\t\tif (identity.currentPrivileges[wallet.address] > 0) {\r\n\t\t\t\tawait createSession({\r\n\t\t\t\t\tidentity,\r\n\t\t\t\t\twallet,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\t})(dispatch, getState)\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ACCOUNT_NONE_PRIVILEGES'),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_LOGIN', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateQuickLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { password, email, authType } = identity\r\n\r\n\t\tlet wallet = {}\r\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\r\n\t\tlet actualAuthType = authType\r\n\r\n\t\ttry {\r\n\t\t\tif (email && password) {\r\n\t\t\t\tlet walletData = await getLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (!walletData) {\r\n\t\t\t\t\tconst salt = generateSalt(email)\r\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\r\n\t\t\t\t\tconst { encryptedWallet } =\r\n\t\t\t\t\t\t(await getQuickWallet({\r\n\t\t\t\t\t\t\thash,\r\n\t\t\t\t\t\t})) || {}\r\n\r\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tbackupWallet.wallet &&\r\n\t\t\t\t\t\tbackupWallet.key &&\r\n\t\t\t\t\t\tbackupWallet.wallet.data &&\r\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\r\n\t\t\t\t\t\tbackupWallet.wallet.privileges\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\r\n\t\t\t\t\t\tactualAuthType = info.authType\r\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\r\n\r\n\t\t\t\t\t\twalletData = await getLocalWallet({\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\r\n\t\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\t\twallet.email = email\r\n\t\t\t\t\twallet.password = password\r\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\r\n\t\t\t\t\twallet.identity = {\r\n\t\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!authType) {\r\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\r\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t'identityAddr',\r\n\t\t\t\t\twalletData ? walletData.identity : null\r\n\t\t\t\t)(dispatch)\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\r\n\t\t\terror = err\r\n\t\t}\r\n\r\n\t\tconst isValid = !!wallet.address\r\n\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait login()(dispatch, getState)\r\n\t\t}\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateStandardLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identity = selectIdentity(getState())\r\n\t\t\tconst { wallet, identityContractAddress } = identity\r\n\t\t\tconst { address } = wallet\r\n\r\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\t\tconst identityData = {\r\n\t\t\t\taddress: identityDataSplit[0],\r\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\tconst isValid = !!identityData.address\r\n\r\n\t\t\tvalidate(validateId, 'identityContractAddress', {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_STANDARD_LOGIN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, wallet } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\r\n\t\t\tif (!identityAddr && wallet && !!email) {\r\n\t\t\t\tconst walletAddr = wallet.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: txData.identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_FULL_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickDeploy({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, password } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && email && password\r\n\r\n\t\t\tif (!identityAddr && email && password) {\r\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\r\n\r\n\t\t\t\tconst walletData = await createLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\twalletData.email = email\r\n\t\t\t\twalletData.password = password\r\n\r\n\t\t\t\tconst walletAddr = walletData.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\r\n\t\t\t\tconst identityAddr = txData.identityAddr\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityAddr,\r\n\t\t\t\t})\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = !!identityAddr\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_QUICK_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\ttosCheck,\r\n\t\t\tknowFrom,\r\n\t\t\tuserSide,\r\n\t\t\tmoreInfo,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\r\n\t\t\tvalidatePasswordCheck(\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tpasswordCheck,\r\n\t\t\t\tpassword,\r\n\t\t\t\tdirty\r\n\t\t\t)(dispatch),\r\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\r\n\t\t\tvalidateUserSide(validateId, userSide, dirty)(dispatch),\r\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\twallet,\r\n\t\t\tidentityContractOwner,\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\ttosCheck,\r\n\t\t\tknowFrom,\r\n\t\t\tuserSide,\r\n\t\t\tmoreInfo,\r\n\t\t\taccessWarningCheck,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t// validate wallet again in case of step skip\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tidentityContractOwner,\r\n\t\t\t\tdirty\r\n\t\t\t)(dispatch),\r\n\r\n\t\t\t// validate step fields\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\r\n\t\t\tvalidateUserSide(validateId, userSide, dirty)(dispatch),\r\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateFullDeploy({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tskipSpinnerUpdate: true,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateContractOwner({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityContractOwner, wallet } = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tidentityContractOwner,\r\n\t\t\t\tdirty\r\n\t\t\t)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityWallet({\r\n\taddress,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\thdWalletAddrIdx,\r\n\tpath,\r\n\tchainId,\r\n\tsignType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst wallet = {\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}\r\n\r\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\r\n\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handleSignupLink(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('signup-email')\r\n\r\n\t\tif (email) {\r\n\t\t\tupdateIdentity('email', email)(dispatch)\r\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resolveEnsAddress({ address }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst name = await provider.lookupAddress(address)\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\r\n\t\t\t\titem: address,\r\n\t\t\t\tvalue: name,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_RESOLVING_ENS_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function checkAuthMetamask() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType,\r\n\t\t\t}\r\n\r\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\taddress: { address },\r\n\t\t\t\tgetFullBalances: true,\r\n\t\t\t})\r\n\r\n\t\t\tupdateIdentity('stats', stats)(dispatch, getState)\r\n\r\n\t\t\tupdateIdentityWallet({\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_AUTH_METAMASK', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function connectTrezor() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t}\r\n\r\n\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\tconst { payload, success } = await trezorSigner.getAddresses({\r\n\t\t\t\tfrom: 0,\r\n\t\t\t\tto: 19,\r\n\t\t\t})\r\n\r\n\t\t\tif (success && !payload.error) {\r\n\t\t\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\r\n\r\n\t\t\t\tconst allAddressesData = payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\tupdateIdentity('addresses', results)(dispatch, getState)\r\n\t\t\t\tupdateIdentity('hdWalletAddrPath', trezorSigner.path)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t} else throw new Error(payload.error || 'TREZOR_ERR')\r\n\r\n\t\t\tupdateSpinner('AUTH_WAITING_ADDRESS_DATA', false)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_AUTH_TREZOR', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\r\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function selectWalletAddress({\r\n\taddrData,\r\n\thdWalletAddrIdx,\r\n\thdWalletAddrPath,\r\n\tsignType,\r\n\tauthType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { address, path } = addrData\r\n\r\n\t\tupdateIdentityWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\tsignType,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nexport const getGasPrice = async (format = 'wei') => {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst gasPrice = await provider.getGasPrice()\r\n\treturn utils.formatUnits(gasPrice.toNumber(), format)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateEthAddress,\r\n\tvalidatePrivilegesAddress,\r\n\tvalidatePrivLevel,\r\n\tvalidateWithdrawAmount,\r\n\taddToast,\r\n\tvalidateFees,\r\n\tvalidateENS,\r\n\tvalidateNumberString,\r\n\tbeforeWeb3,\r\n} from 'actions'\r\nimport {\r\n\tselectNewTransactionById,\r\n\tselectWalletAddress,\r\n\tselectAuthType,\r\n\tselectAccount,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountStatsRaw,\r\n\tselectMainToken,\r\n\tselectGasPriceCap,\r\n\tt,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getGasPrice } from 'services/gas/actions'\r\nimport { utils } from 'ethers'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n\taddIdentityENS,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { validate } from './validationActions'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewTransaction() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function checkNetworkCongestion(showToast) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst gasPriceCap = selectGasPriceCap(state)\r\n\t\tconst gasPriceCapGwei = utils.formatUnits(gasPriceCap, 'gwei')\r\n\t\tconst gasPrice = await getGasPrice('gwei')\r\n\t\tif (+gasPriceCapGwei < +gasPrice) {\r\n\t\t\tif (showToast) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tlabel: t('WARNING_NETWORK_CONGESTED'),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\treturn t('WARNING_NETWORK_CONGESTED')\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction handleFeesData({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tactionName,\r\n\tfeeDataAction,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst feesData = await feeDataAction()\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'feesData',\r\n\t\t\t\tvalue: feesData,\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tisValid = await validateFees({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount || '0',\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(actionName, err)\r\n\r\n\t\t\tisValid = false\r\n\t\t\tawait validate(validateId, 'fees', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: getErrorMsg(err) },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\ttxId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: setAddr,\r\n\t\t\t\tprop: 'setAddr',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidatePrivLevel({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst validation = await validatePrivilegesAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\twalletAddr,\r\n\t\t\t\twarningAccepted,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t\tauthType,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tisValid = validation.isValid\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'warningMsg',\r\n\t\t\t\tvalue: validation.msg,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validatePrivilegesChange',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\tsetIdentityPrivilege({\r\n\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\tsetAddr,\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdraw({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\r\n\t\t// const walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateWithdrawAmount({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validateIdentityWithdraw',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\twithdrawFromIdentity({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdrawAny({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst {\r\n\t\t\tamountToWithdraw,\r\n\t\t\twithdrawTo,\r\n\t\t\ttokenAddress,\r\n\t\t\ttokenDecimals,\r\n\t\t} = selectNewTransactionById(state, stepsId)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: tokenAddress,\r\n\t\t\t\tprop: 'tokenAddress',\r\n\t\t\t\tnonERC20: false,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'amountToWithdraw',\r\n\t\t\t\tvalue: amountToWithdraw,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'tokenDecimals',\r\n\t\t\t\tvalue: tokenDecimals,\r\n\t\t\t\tintegerOnly: true,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validateIdentityWithdrawAny',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\twithdrawOtherTokensFromIdentity({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\t\ttokenAddress,\r\n\t\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\t\ttokenDecimals,\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function identityWithdrawAny({\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t\ttokenAddress,\r\n\t\t\t\ttokenDecimals,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateENSChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst { username } = selectNewTransactionById(state, stepsId)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateENS({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tusername,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validateENSChange',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\taddIdentityENS({\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function setIdentityENS({ username }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tawait addIdentityENS({\r\n\t\t\t\tusername,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('ENS_SETUP_NOTIFICATION', { args: [username] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_SETTING_ENS', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function completeTx({\r\n\tstepsId,\r\n\tcompeteAction,\r\n\tvalidateId,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateNewTransaction({\r\n\t\t\ttx: stepsId,\r\n\t\t\tkey: 'waitingForWalletAction',\r\n\t\t\tvalue: true,\r\n\t\t})(dispatch)\r\n\r\n\t\tlet isValid = false\r\n\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\r\n\t\t\tconst transaction = selectNewTransactionById(state, stepsId)\r\n\r\n\t\t\tawait competeAction({ ...transaction })(dispatch, getState)\r\n\t\t\tisValid = true\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_TRANSACTION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t\tawait updateNewTransaction({\r\n\t\t\ttx: stepsId,\r\n\t\t\tkey: 'waitingForWalletAction',\r\n\t\t\tvalue: false,\r\n\t\t})(dispatch)\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t// TODO: reset tx if OK\r\n\t}\r\n}\r\n","export const NEW_CAMPAIGN_UNITS = 'NEW_CAMPAIGN_UNITS'\r\nexport const NEW_CAMPAIGN_PREVIEW_UNITS = 'NEW_CAMPAIGN_PREVIEW_UNITS'\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport { selectNewItemByTypeAndId } from 'selectors'\r\nimport { Base, Models } from 'adex-models'\r\nimport {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tresetTableStateById,\r\n} from 'actions'\r\n\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel, itemId) {\r\n\tif (objModel) {\r\n\t\titem = Base.updateObject({ item, newValues, objModel })\r\n\t} else {\r\n\t\titem = {\r\n\t\t\t...item,\r\n\t\t\t...newValues,\r\n\t\t}\r\n\t}\r\n\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(itemType, itemId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: RESET_NEW_ITEM,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: RESET_ALL_NEW_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNewItemAction(type, prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst currentItem = selectNewItemByTypeAndId(state, type, itemId)\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentItem,\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\ttype,\r\n\t\t\tModels.itemClassByName[type],\r\n\t\t\titemId\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewSlot(prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction(\r\n\t\t\t'AdSlot',\r\n\t\t\tprop,\r\n\t\t\tvalue,\r\n\t\t\tnewValues,\r\n\t\t\titemId\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateNewUnit(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction(\r\n\t\t\t'AdUnit',\r\n\t\t\tprop,\r\n\t\t\tvalue,\r\n\t\t\tnewValues\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateNewCampaign(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction(\r\n\t\t\t'Campaign',\r\n\t\t\tprop,\r\n\t\t\tvalue,\r\n\t\t\tnewValues\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateNewAudience(prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction(\r\n\t\t\t'Audience',\r\n\t\t\tprop,\r\n\t\t\tvalue,\r\n\t\t\tnewValues,\r\n\t\t\titemId\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateNewWebsite(prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction(\r\n\t\t\t'Website',\r\n\t\t\tprop,\r\n\t\t\tvalue,\r\n\t\t\tnewValues,\r\n\t\t\titemId\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateNewItemTarget({\r\n\tcollection,\r\n\titemType,\r\n\titemId,\r\n\ttarget = {},\r\n\tindex,\r\n\tremove,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { temp } = selectNewItemByTypeAndId(state, itemType, itemId)\r\n\t\t// We are keeping the state in temp because it dirty with extra data\r\n\t\tconst targets = [...(temp.targets || [])]\r\n\t\tconst hasIndex = Number.isInteger(index)\r\n\r\n\t\tif (hasIndex && !remove) {\r\n\t\t\t// NOTE: when updated with index target has only { target: { tag, score }}\r\n\t\t\ttargets[index] = { ...(targets[index] || {}), ...target }\r\n\t\t} else if (hasIndex && remove) {\r\n\t\t\ttargets.splice(index, 1)\r\n\t\t} else {\r\n\t\t\t// NOTE: when updated w/o index target has no key\r\n\t\t\ttargets.push({ ...target, key: targets.length })\r\n\t\t}\r\n\r\n\t\t// The actual targets added to the spec\r\n\t\tconst filtered = targets.filter(x => x.target.tag).map(x => x.target)\r\n\r\n\t\tconst newValues = {\r\n\t\t\t[collection]: filtered,\r\n\t\t\ttemp: { ...temp, targets },\r\n\t\t}\r\n\r\n\t\tawait updateNewItemAction(\r\n\t\t\titemType,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnewValues,\r\n\t\t\titemId\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateTargetRuleInput({\r\n\tparameter,\r\n\titemType,\r\n\titemId,\r\n\ttarget = {},\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectNewItemByTypeAndId(state, itemType, itemId)\r\n\t\tconst isAudience = itemType === 'Audience'\r\n\r\n\t\tconst newValues = { ...item }\r\n\r\n\t\tconst newInputs = {\r\n\t\t\t...(isAudience ? newValues.inputs : newValues.audienceInput.inputs),\r\n\t\t}\r\n\r\n\t\tnewInputs[parameter] = { ...target }\r\n\r\n\t\tif (isAudience) {\r\n\t\t\tnewValues.inputs = newInputs\r\n\t\t} else {\r\n\t\t\tnewValues.audienceInput = {\r\n\t\t\t\tversion: newValues.audienceInput.version || '1',\r\n\t\t\t\t...newValues.audienceInput,\r\n\t\t\t\tinputs: newInputs,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait updateNewItemAction(\r\n\t\t\titemType,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnewValues,\r\n\t\t\titemId\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function completeItem({\r\n\titemType,\r\n\tcompeteAction,\r\n\tvalidateId,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tif (competeAction) {\r\n\t\t\t\tawait competeAction()(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tisValid = true\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ITEM', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tif (isValid) {\r\n\t\t\tresetNewItem(itemType)(dispatch)\r\n\t\t\tif (itemType === 'Campaign') {\r\n\t\t\t\tresetTableStateById(NEW_CAMPAIGN_UNITS)(dispatch, getState)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport { addToast, updateSpinner } from 'actions'\r\nimport { postAudience, putAudience } from 'services/adex-market/actions'\r\n\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectNewAudience,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAudienceById,\r\n} from 'selectors'\r\nimport {\r\n\tvalidateSchemaProp,\r\n\thandleAfterValidation,\r\n\tvalidateAudience,\r\n\tupdateNewItem,\r\n} from 'actions'\r\nimport { Audience, schemas } from 'adex-models'\r\n\r\nconst { audiencePost, audiencePut } = schemas\r\n\r\nexport function updateAudienceInput({\r\n\tupdateField,\r\n\titemId,\r\n\tonValid,\r\n\tvalidateId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { inputs } = selectNewItemByTypeAndId(state, 'Audience', itemId)\r\n\r\n\t\tconst isValid = await validateAudience({\r\n\t\t\tvalidateId,\r\n\t\t\tinputs,\r\n\t\t\tdirty: true,\r\n\t\t\tpropName: 'inputs',\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait updateField('inputs', inputs)\r\n\t\t\tonValid()\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateAudience({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\tupdate,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { id, title, version, inputs } = item\r\n\r\n\t\t\tconst audience = new Audience(item).marketUpdate\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: audiencePut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: version,\r\n\t\t\t\t\tprop: 'version',\r\n\t\t\t\t\tschema: audiencePut.version,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateAudience({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tinputs,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tpropName: 'inputs',\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: audience,\r\n\t\t\t\t\tprop: 'audience',\r\n\t\t\t\t\tschema: audiencePut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedAudience = (\r\n\t\t\t\t\tawait putAudience({\r\n\t\t\t\t\t\taudience,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t})\r\n\t\t\t\t).audience\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new Audience(updatedAudience).plainObj(),\r\n\t\t\t\t\titemType: 'Audience',\r\n\t\t\t\t})\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['AUDIENCE', updatedAudience.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t} else if (!isValid && update) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['AUDIENCE', getErrorMsg('INVALID_DATA')],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewAudience({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectAudienceById(state, itemId)\r\n\t\tconst audience = selectNewItemByTypeAndId(state, 'Audience', itemId)\r\n\r\n\t\tconst inputs = dirtyProps.includes('inputs') ? audience.inputs : item.inputs\r\n\r\n\t\tupdateNewItem(\r\n\t\t\titem,\r\n\t\t\t{ inputs: { ...inputs } },\r\n\t\t\t'Audience',\r\n\t\t\tAudience,\r\n\t\t\titem.id\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function saveAudience({ audienceInput, campaignId } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst newAudience = { ...(audienceInput || selectNewAudience(state)) }\r\n\t\t\tnewAudience.campaignId = campaignId || null\r\n\t\t\tif (campaignId) {\r\n\t\t\t\tnewAudience.title = null\r\n\t\t\t}\r\n\r\n\t\t\tconst audience = new Audience({\r\n\t\t\t\t...newAudience,\r\n\t\t\t}).marketAdd\r\n\r\n\t\t\tconst resItem = await postAudience({\r\n\t\t\t\taudience,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: resItem,\r\n\t\t\t\titemType: 'Audience',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\tlabel: t('AUDIENCE_SAVED', {\r\n\t\t\t\t\targs: [newAudience.title || campaignId],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_AUDIENCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tlabel: t('ERR_CREATING_AUDIENCE', {\r\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAudienceBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst audience = selectNewAudience(state)\r\n\t\t\tconst { title, version } = audience\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: audiencePost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: version,\r\n\t\t\t\t\tprop: 'version',\r\n\t\t\t\t\tschema: audiencePost.version,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tisValid = validations.every(v => v === true)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateAudienceInput({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { inputs = {} } = selectNewAudience(state)\r\n\r\n\t\t\tconst isValid = await validateAudience({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tinputs,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'inputs',\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('err', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({ targetUrl, campaign, content, src }) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\t\t\tif (campaign) {\r\n\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t}\r\n\t\t\tif (content) {\r\n\t\t\t\tquery['utm_content'] = content\r\n\t\t\t}\r\n\t\t\tif (src) {\r\n\t\t\t\tquery['utm_source'] = src\r\n\t\t\t}\r\n\t\t\tURL.query = query\r\n\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport {\r\n\texecute,\r\n\taddToast,\r\n\tupdateSpinner,\r\n\tupdateItems,\r\n\tupdateValidatorAuthTokens,\r\n\tupdateNewCampaign,\r\n\thandleAfterValidation,\r\n\tvalidateCampaignValidators,\r\n\tvalidateCampaignAmount,\r\n\tvalidateCampaignTitle,\r\n\tvalidateCampaignDates,\r\n\tvalidateCampaignUnits,\r\n\tvalidateSchemaProp,\r\n\tvalidateAudience,\r\n\tconfirmAction,\r\n\tupdateSelectedItems,\r\n\tsaveAudience,\r\n\tupdateNewItem,\r\n\tbeforeWeb3,\r\n} from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { schemas, Campaign, helpers } from 'adex-models'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport {\r\n\tlastApprovedState,\r\n\tupdateTargeting,\r\n} from 'services/adex-validator/actions'\r\nimport {\r\n\tcloseCampaignMarket,\r\n\tupdateCampaign,\r\n\tgetCampaigns,\r\n} from 'services/adex-market/actions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectAccount,\r\n\tselectNewCampaign,\r\n\tselectCampaignById,\r\n\tselectAuthSig,\r\n\tselectAuth,\r\n\tselectMainToken,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAudienceByCampaignId,\r\n\tselectTargetingAnalytics,\r\n\tselectTargetingAnalyticsMinByCategories,\r\n\tselectTargetingAnalyticsCountryTiersCoefficients,\r\n\tselectInitialDataLoadedByData,\r\n\tselectCampaigns,\r\n\tselectRoutineWithdrawTokenByAddress,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tOPENING_CAMPAIGN,\r\n\tGETTING_CAMPAIGNS_FEES,\r\n\tPRINTING_CAMPAIGNS_RECEIPTS,\r\n} from 'constants/spinners'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\n\r\nconst {\r\n\taudienceInputToTargetingRules,\r\n\tgetSuggestedPricingBounds,\r\n\tuserInputPricingBoundsPerMileToRulesValue,\r\n\tpricingBondsToUserInputPerMile,\r\n\tbondPerActionToUserInputPerMileValue,\r\n} = helpers\r\n\r\nconst { campaignPut } = schemas\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\r\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\r\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\r\n\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\r\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\r\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\r\n\r\n// updatedCampaign updated campaign class instance\r\nfunction updateCampaignOnMarket({ updated, toastLabel, toastArgs, toastType }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst updatedCampaign = (\r\n\t\t\tawait updateCampaign({\r\n\t\t\t\tcampaign: updated.marketUpdate,\r\n\t\t\t\tid: updated.id,\r\n\t\t\t})\r\n\t\t).campaign\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_ITEM,\r\n\t\t\titem: new Campaign({\r\n\t\t\t\t...updatedCampaign.spec,\r\n\t\t\t\t...updatedCampaign,\r\n\t\t\t}).plainObj(),\r\n\t\t\titemType: 'Campaign',\r\n\t\t})\r\n\t\taddToast({\r\n\t\t\ttype: toastType || 'success',\r\n\t\t\tlabel: t(toastLabel, {\r\n\t\t\t\targs: toastArgs || ['CAMPAIGN', updatedCampaign.title],\r\n\t\t\t}),\r\n\t\t\ttimeout: 50000,\r\n\t\t})(dispatch)\r\n\r\n\t\t// Make sure to update tables\r\n\t\tawait updateUserCampaigns({ updateAllData: true })(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function openCampaign() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst selectedCampaign = selectNewCampaign(state)\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t// save it in audienceInput as it is not spec prop\r\n\t\t\t// and saving/parsinf form targeting rules is harder\r\n\t\t\tconst campaign = {\r\n\t\t\t\t...selectedCampaign,\r\n\t\t\t\taudienceInput: {\r\n\t\t\t\t\t...selectedCampaign.audienceInput,\r\n\t\t\t\t\tpricingBoundsCPMUserInput: {\r\n\t\t\t\t\t\t...selectedCampaign.pricingBoundsCPMUserInput,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\tif (campaign.temp.useUtmTags) {\r\n\t\t\t\tcampaign.adUnits = [...campaign.adUnits].map((unit, index) => ({\r\n\t\t\t\t\t...unit,\r\n\t\t\t\t\ttargetUrl: addUrlUtmTracking({\r\n\t\t\t\t\t\ttargetUrl: unit.targetUrl,\r\n\t\t\t\t\t\tcampaign: campaign.title,\r\n\t\t\t\t\t\tcontent: `${index + 1}_${unit.type}`,\r\n\t\t\t\t\t\t...(campaign.temp.useUtmSrcWithPub\r\n\t\t\t\t\t\t\t? { src: 'adex_PUBHOSTNAME' }\r\n\t\t\t\t\t\t\t: {}),\r\n\t\t\t\t\t}),\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\r\n\t\t\tawait getAllValidatorsAuthForIdentity({\r\n\t\t\t\twithBalance: [{ channel: campaign }],\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tconst { storeCampaign } = await openChannel({\r\n\t\t\t\tcampaign,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tawait saveAudience({\r\n\t\t\t\tcampaignId: storeCampaign.id,\r\n\t\t\t\taudienceInput: campaign.audienceInput,\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new Campaign({\r\n\t\t\t\t\t...storeCampaign.spec,\r\n\t\t\t\t\t...storeCampaign,\r\n\t\t\t\t}).plainObj(),\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\r\n\t\t\t\t\targs: [storeCampaign.id],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t\t// TODO: Reset units tables states\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\r\n\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t}\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// TEMP for testing in production until 4.1 is deployed\r\nfunction getHumanFriendlyName(campaign) {\r\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\r\n\t\treturn 'Closed'\r\n\r\n\tconst isPaused =\r\n\t\t((campaign.targetingRules || [])[0] || {}).onlyShowIf === false\r\n\r\n\tlet status = 'N/A'\r\n\tswitch ((campaign.status || {}).name) {\r\n\t\tcase 'Pending':\r\n\t\t\tstatus = 'Pending'\r\n\t\t\tbreak\r\n\t\tcase 'Active':\r\n\t\tcase 'Ready':\r\n\t\tcase 'Initializing':\r\n\t\tcase 'Waiting':\r\n\t\tcase 'Offline':\r\n\t\tcase 'Disconnected':\r\n\t\tcase 'Unhealthy':\r\n\t\tcase 'Invalid':\r\n\t\t\tstatus = 'Active'\r\n\t\t\tbreak\r\n\t\tcase 'Expired':\r\n\t\tcase 'Exhausted':\r\n\t\tcase 'Withdraw':\r\n\t\t\tstatus = 'Completed'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tstatus = 'N/A'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\tif (status === 'Active' && isPaused) {\r\n\t\tstatus = 'Paused'\r\n\t}\r\n\r\n\treturn status\r\n}\r\n\r\nexport function updateCampaignAudienceInput({\r\n\tupdateField,\r\n\tfieldName,\r\n\titemId,\r\n\tvalidateId,\r\n\tonValid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { audienceInput } = selectNewItemByTypeAndId(\r\n\t\t\tstate,\r\n\t\t\t'Campaign',\r\n\t\t\titemId\r\n\t\t)\r\n\r\n\t\tconst isValid = await validateAudience({\r\n\t\t\tvalidateId,\r\n\t\t\tinputs: audienceInput.inputs,\r\n\t\t\tdirty: true,\r\n\t\t\tpropName: 'audienceInput',\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait updateField(\r\n\t\t\t\t'audienceInput',\r\n\t\t\t\taudienceInput,\r\n\t\t\t\tfieldName\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\tname: fieldName,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: null\r\n\t\t\t)\r\n\t\t\tonValid()\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewCampaignAudienceInput({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectCampaignById(state, itemId)\r\n\t\tconst campaign = selectNewItemByTypeAndId(state, 'Campaign', itemId)\r\n\t\tconst initialAudienceInput = selectAudienceByCampaignId(state, itemId)\r\n\t\tconst itemAudienceInput =\r\n\t\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\r\n\t\t\t\t? item.audienceInput\r\n\t\t\t\t: initialAudienceInput\r\n\r\n\t\tconst audienceInput = dirtyProps.some(p =>\r\n\t\t\t['audienceInput', 'campaignAdvanced'].includes(p.name || p)\r\n\t\t)\r\n\t\t\t? campaign.audienceInput\r\n\t\t\t: item.audienceInput || itemAudienceInput\r\n\r\n\t\tupdateNewItem(\r\n\t\t\titem,\r\n\t\t\t{ audienceInput: { ...audienceInput } },\r\n\t\t\t'Campaign',\r\n\t\t\tCampaign,\r\n\t\t\titem.id\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateUserCampaigns({ updateAllData = false } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst statusOnly =\r\n\t\t\t!!selectInitialDataLoadedByData(state, 'campaigns') && !updateAllData\r\n\t\tconst { identity } = selectAccount(state)\r\n\t\tconst { address } = identity\r\n\t\tconst stateCampaigns = selectCampaigns(state)\r\n\t\tconst { decimals } = selectMainToken(state)\r\n\r\n\t\tif (hasAuth && address) {\r\n\t\t\ttry {\r\n\t\t\t\tconst campaigns = await getCampaigns({\r\n\t\t\t\t\tall: true,\r\n\t\t\t\t\tstatusOnly,\r\n\t\t\t\t\tbyCreator: address,\r\n\t\t\t\t\tcacheBrake: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst campaignsMapped = campaigns\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\tc.id &&\r\n\t\t\t\t\t\t\tc.creator &&\r\n\t\t\t\t\t\t\tc.creator.toLowerCase() === address.toLowerCase() &&\r\n\t\t\t\t\t\t\t(statusOnly || c.spec)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => {\r\n\t\t\t\t\t\tconst campaign = statusOnly\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t...stateCampaigns[c.id],\r\n\t\t\t\t\t\t\t\t\t...{ status: c.status },\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t...c.spec,\r\n\t\t\t\t\t\t\t\t\t...c,\r\n\t\t\t\t\t\t\t\t\ttargetingRules: c.targetingRules || c.spec.targetingRules,\r\n\t\t\t\t\t\t\t\t\tspecPricingBounds: {\r\n\t\t\t\t\t\t\t\t\t\t...(c.spec.pricingBounds || {\r\n\t\t\t\t\t\t\t\t\t\t\tIMPRESSION: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin: c.spec.minPerImpression || c.minPerImpression,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax: c.spec.maxPerImpression || c.maxPerImpression,\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t  }\r\n\r\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\r\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!campaign.audienceInput) {\r\n\t\t\t\t\t\t\tcampaign.audienceInput = selectAudienceByCampaignId(state, c.id)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!campaign.pricingBoundsCPMUserInput) {\r\n\t\t\t\t\t\t\tcampaign.pricingBoundsCPMUserInput =\r\n\t\t\t\t\t\t\t\t(campaign.audienceInput || {}).pricingBoundsCPMUserInput ||\r\n\t\t\t\t\t\t\t\t(campaign.pricingBounds\r\n\t\t\t\t\t\t\t\t\t? pricingBondsToUserInputPerMile({\r\n\t\t\t\t\t\t\t\t\t\t\tpricingBounds: campaign.pricingBounds,\r\n\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t: null)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn campaign\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: campaignsMapped,\r\n\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\r\n\t\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.status = {\r\n\t\t\t\t...newCampaign.status,\r\n\t\t\t\thumanFriendlyName: 'Closed',\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t\tawait updateUserCampaigns({ updateAllData: true })(dispatch, getState)\r\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CLOSING_CAMPAIGN'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function pauseOrResumeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, true)(dispatch)\r\n\t\tlet action = 'PAUSING'\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst updated = new Campaign(campaign)\r\n\r\n\t\t\tconst currentTargetingRules = updated.targetingRules || []\r\n\t\t\tconst newRules = [...currentTargetingRules]\r\n\r\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\r\n\t\t\tif (isPaused) {\r\n\t\t\t\taction = 'RESUMING'\r\n\t\t\t\tnewRules.shift()\r\n\t\t\t} else {\r\n\t\t\t\tnewRules.unshift({ onlyShowIf: false })\r\n\t\t\t}\r\n\r\n\t\t\tupdated.targetingRules = newRules\r\n\r\n\t\t\tconst { authTokens } = await updateTargeting({\r\n\t\t\t\taccount,\r\n\t\t\t\tcampaign: updated,\r\n\t\t\t\ttargetingRules: newRules,\r\n\t\t\t})\r\n\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\r\n\t\t\tawait updateCampaignOnMarket({\r\n\t\t\t\tupdated,\r\n\t\t\t\ttoastLabel: `SUCCESS_${action}_CAMPAIGN`,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_${action}_CAMPAIGN`, err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t(`ERR_${action}_CAMPAIGN`, {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function excludeOrIncludeWebsites({\r\n\tcampaignId,\r\n\thostnames,\r\n\texclude,\r\n\taction,\r\n\tonSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectCampaignById(state, campaignId)\r\n\t\t\tconst targetingData = selectTargetingAnalytics(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst updated = new Campaign(campaign)\r\n\r\n\t\t\tconst currentTargetingRules = campaign.targetingRules || []\r\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\r\n\r\n\t\t\tconst campaignAudienceInput = selectAudienceByCampaignId(\r\n\t\t\t\tstate,\r\n\t\t\t\tcampaignId\r\n\t\t\t)\r\n\r\n\t\t\t// Add default value for legacy campaigns\r\n\t\t\tconst newAudienceInput = {\r\n\t\t\t\tversion: '1',\r\n\t\t\t\tinputs: { publishers: {} },\r\n\t\t\t\t...campaignAudienceInput,\r\n\t\t\t}\r\n\t\t\tnewAudienceInput.inputs = { ...newAudienceInput.inputs }\r\n\t\t\tnewAudienceInput.inputs.publishers = {\r\n\t\t\t\t...newAudienceInput.inputs.publishers,\r\n\t\t\t}\r\n\r\n\t\t\tconst { inputs = {} } = newAudienceInput\r\n\t\t\tconst { publishers = {} } = inputs\r\n\r\n\t\t\t// exclude\r\n\t\t\tif (exclude && publishers.apply && publishers.apply === 'in') {\r\n\t\t\t\tconst newIn = [...(publishers.in || [])].filter(value => {\r\n\t\t\t\t\tconst { hostname } = JSON.parse(value)\r\n\t\t\t\t\treturn !hostnames.includes(hostname)\r\n\t\t\t\t})\r\n\t\t\t\tnewAudienceInput.inputs.publishers.in = newIn\r\n\t\t\t}\r\n\t\t\t// include\r\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'in') {\r\n\t\t\t\tconst newIn = [...hostnames]\r\n\t\t\t\t\t// Filter already included\r\n\t\t\t\t\t.filter(h => ![...(publishers.in || [])].some(x => x.includes(h)))\r\n\t\t\t\t\t.map(hostname =>\r\n\t\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\t\tpublisher: (\r\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\r\n\t\t\t\t\t\t\t).owner,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\tnewAudienceInput.inputs.publishers.in = (publishers.in || []).concat(\r\n\t\t\t\t\tnewIn\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t// exclude\r\n\t\t\telse if (exclude && publishers.apply && publishers.apply === 'nin') {\r\n\t\t\t\tconst newNin = hostnames\r\n\t\t\t\t\t// Filter already excluded\r\n\t\t\t\t\t.filter(h => ![...(publishers.nin || [])].some(x => x.includes(h)))\r\n\t\t\t\t\t.map(hostname =>\r\n\t\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\t\tpublisher: (\r\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\r\n\t\t\t\t\t\t\t).owner,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = (publishers.nin || []).concat(\r\n\t\t\t\t\tnewNin\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t// include\r\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'nin') {\r\n\t\t\t\tconst newNin = [...(publishers.nin || [])]\r\n\t\t\t\t\t// Filter selected\r\n\t\t\t\t\t.filter(value => {\r\n\t\t\t\t\t\tconst { hostname } = JSON.parse(value)\r\n\t\t\t\t\t\treturn !hostnames.includes(hostname)\r\n\t\t\t\t\t})\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\r\n\t\t\t}\r\n\t\t\t// exclude\r\n\t\t\telse if (\r\n\t\t\t\texclude &&\r\n\t\t\t\t(!publishers.apply ||\r\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\r\n\t\t\t) {\r\n\t\t\t\tconst newNin = [...hostnames].map(hostname =>\r\n\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\tpublisher: (targetingData.find(x => x.hostname === hostname) || {})\r\n\t\t\t\t\t\t\t.owner,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'nin'\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\r\n\t\t\t}\r\n\t\t\t// include\r\n\t\t\telse if (\r\n\t\t\t\t!exclude &&\r\n\t\t\t\t(!publishers.apply ||\r\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\r\n\t\t\t) {\r\n\t\t\t\t// There is nothing to do\r\n\t\t\t\treturn addToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t(`SUCCESS_${action}_WEBSITE`, {\r\n\t\t\t\t\t\targs: [hostnames.length, updated.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'nin' &&\r\n\t\t\t\t!newAudienceInput.inputs.publishers.nin.length\r\n\t\t\t) {\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'allin'\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = null\r\n\t\t\t}\r\n\r\n\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\tstate\r\n\t\t\t)\r\n\r\n\t\t\tconst { decimals } = selectMainToken(state)\r\n\t\t\tconst {\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\tmaxPerImpression,\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t} = campaign\r\n\r\n\t\t\tconst rulesPricingBounds = userInputPricingBoundsPerMileToRulesValue({\r\n\t\t\t\tpricingBounds: pricingBoundsCPMUserInput,\r\n\t\t\t\tdecimals,\r\n\t\t\t})\r\n\r\n\t\t\t// Legacy campaigns shim\r\n\t\t\tconst campaignPricingBounds = rulesPricingBounds || {\r\n\t\t\t\tIMPRESSION: {\r\n\t\t\t\t\tmin: minPerImpression,\r\n\t\t\t\t\tmax: maxPerImpression,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\tconst newRules = audienceInputToTargetingRules({\r\n\t\t\t\taudienceInput: newAudienceInput,\r\n\t\t\t\tminByCategory,\r\n\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\tpricingBounds: campaignPricingBounds,\r\n\t\t\t\tdecimals,\r\n\t\t\t})\r\n\r\n\t\t\tif (isPaused) {\r\n\t\t\t\tnewRules.unshift({ onlyShowIf: false })\r\n\t\t\t}\r\n\r\n\t\t\tupdated.targetingRules = newRules\r\n\t\t\tupdated.audienceInput = newAudienceInput\r\n\r\n\t\t\tconst { authTokens } = await updateTargeting({\r\n\t\t\t\taccount,\r\n\t\t\t\tcampaign: updated,\r\n\t\t\t\ttargetingRules: newRules,\r\n\t\t\t})\r\n\r\n\t\t\tconst updatedCampaign = (\r\n\t\t\t\tawait updateCampaign({\r\n\t\t\t\t\tcampaign: updated.marketUpdate,\r\n\t\t\t\t\tid: updated.id,\r\n\t\t\t\t})\r\n\t\t\t).campaign\r\n\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\r\n\t\t\tlet toastType = 'success'\r\n\t\t\tlet toastLabel = `SUCCESS_${action}_WEBSITE`\r\n\r\n\t\t\tif (\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'in' &&\r\n\t\t\t\t!newAudienceInput.inputs.publishers.in.length\r\n\t\t\t) {\r\n\t\t\t\ttoastType = 'warning'\r\n\t\t\t\ttoastLabel = `WARNING_NO_PUBLISHERS_${action}_WEBSITE`\r\n\t\t\t}\r\n\r\n\t\t\tawait updateCampaignOnMarket({\r\n\t\t\t\tupdated,\r\n\t\t\t\ttoastType,\r\n\t\t\t\ttoastLabel,\r\n\t\t\t\ttoastArgs: [hostnames.length, updatedCampaign.title],\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tif (typeof onSuccess === 'function') {\r\n\t\t\t\tonSuccess()\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_${action}_WEBSITE`, err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t(`ERR_${action}_WEBSITE`, {\r\n\t\t\t\t\targs: [hostnames.length, getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\r\n\t}\r\n}\r\n\r\nconst tempValidators = [\r\n\t{\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\r\n\t},\r\n\t{\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\r\n\t},\r\n]\r\n\r\nexport function validateNewCampaignAdUnits({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tconst state = getState()\r\n\t\tconst campaign = selectNewCampaign(state)\r\n\t\tconst { adUnits } = campaign\r\n\r\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })(\r\n\t\t\tdispatch\r\n\t\t)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAudienceInput({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst {\r\n\t\t\t\taudienceInput = {},\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\ttemp,\r\n\t\t\t} = selectNewCampaign(state)\r\n\t\t\tconst { inputs } = audienceInput\r\n\r\n\t\t\tconst isValid = await validateAudience({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tinputs,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'audienceInput',\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\t\tstate\r\n\t\t\t\t)\r\n\t\t\t\tconst suggestedPricingBounds = getSuggestedPricingBounds({\r\n\t\t\t\t\tminByCategory,\r\n\t\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\t\taudienceInput,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', {\r\n\t\t\t\t\t...temp,\r\n\t\t\t\t\tsuggestedPricingBounds,\r\n\t\t\t\t})(dispatch, getState)\r\n\r\n\t\t\t\t// Update pricingBounds here in order to avoid value check at next steps\r\n\t\t\t\t// Only if the bounds are not updated (step back or soft closed modal)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!pricingBoundsCPMUserInput ||\r\n\t\t\t\t\t!(\r\n\t\t\t\t\t\tpricingBoundsCPMUserInput['IMPRESSION'] ||\r\n\t\t\t\t\t\tpricingBoundsCPMUserInput['CLICK']\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tawait updateNewCampaign(\r\n\t\t\t\t\t\t'pricingBoundsCPMUserInput',\r\n\t\t\t\t\t\tsuggestedPricingBounds\r\n\t\t\t\t\t)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('err', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewCampaignFinance({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { decimals } = selectMainToken(state)\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst {\r\n\t\t\t\tvalidators,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\ttitle,\r\n\t\t\t\tactiveFrom,\r\n\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t// pricingBounds,\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\taudienceInput,\r\n\t\t\t\t// minTargetingScore,\r\n\t\t\t\t// adUnits,\r\n\t\t\t\ttemp = {},\r\n\t\t\t} = campaign\r\n\r\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\r\n\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\r\n\t\t\tif (!validators || !validators.length) {\r\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\r\n\t\t\t\tnewCampaign.validators = tempValidators\r\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInput,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (typeof maxChannelFees !== 'string') {\r\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\r\n\t\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesFormatted,\r\n\t\t\t\t\tmaxAvailable,\r\n\t\t\t\t\tmaxAvailableFormatted,\r\n\t\t\t\t} = await openChannel({\r\n\t\t\t\t\tcampaign: { ...newCampaign },\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\tgetMaxFees: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst newTemp = { ...temp }\r\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\r\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\r\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\t\tstate\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst rulesPricingBounds = userInputPricingBoundsPerMileToRulesValue({\r\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInput,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst targetingRules = audienceInputToTargetingRules({\r\n\t\t\t\t\taudienceInput,\r\n\t\t\t\t\tminByCategory,\r\n\t\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\t\tpricingBounds: rulesPricingBounds,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})\r\n\t\t\t\tawait updateNewCampaign('targetingRules', targetingRules)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getCampaignActualFees() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst mainToken = selectMainToken(state)\r\n\t\t\tconst { temp = {}, depositAmount } = campaign\r\n\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\tconst { feesFormatted, fees, breakdownFormatted } = await openChannel({\r\n\t\t\t\tcampaign: { ...campaign },\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst totalSpend = utils\r\n\t\t\t\t.parseUnits(depositAmount, mainToken.decimals)\r\n\t\t\t\t.add(fees)\r\n\r\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\r\n\t\t\t\ttotalSpend.toString(),\r\n\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\tfalse,\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.feesFormatted = feesFormatted\r\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\r\n\t\t\tnewTemp.breakdownFormatted = breakdownFormatted\r\n\r\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handlePrintSelectedReceiptsAdvertiser(selected) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\r\n\t\tconfirmAction(\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSelectedItems('campaigns', selected)(dispatch)\r\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\tconfirmLabel: t('OK'),\r\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\r\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\r\n\t\t\t}\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateCampaign({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\titemPlain,\r\n\tupdate,\r\n\tdirtyProps,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\ttitle,\r\n\t\t\t\taudienceInput,\r\n\t\t\t\tpricingBounds,\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\tmaxPerImpression,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tdepositAsset,\r\n\t\t\t\ttargetingRules,\r\n\t\t\t} = item\r\n\r\n\t\t\tconst { decimals } = selectRoutineWithdrawTokenByAddress(\r\n\t\t\t\tstate,\r\n\t\t\t\tdepositAsset\r\n\t\t\t)\r\n\r\n\t\t\tconst updated = new Campaign(item)\r\n\r\n\t\t\tconst currentTargetingRules = targetingRules || []\r\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\r\n\r\n\t\t\tconst isMinUpdated = dirtyProps.includes('minPerImpression')\r\n\t\t\tconst isMaxUpdated = dirtyProps.includes('maxPerImpression')\r\n\r\n\t\t\tconst isAudienceUpdated =\r\n\t\t\t\tdirtyProps.some(p =>\r\n\t\t\t\t\t['audienceInput', 'campaignAdvanced'].includes(p.name || p)\r\n\t\t\t\t) ||\r\n\t\t\t\tisMinUpdated ||\r\n\t\t\t\tisMaxUpdated\r\n\r\n\t\t\tconst depositAmountInputString = formatTokenAmount(\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tdecimals\r\n\t\t\t)\r\n\r\n\t\t\tconst pricingBoundsCPMUserInputString = {\r\n\t\t\t\t...(pricingBoundsCPMUserInput || { IMPRESSION: {} }),\r\n\t\t\t}\r\n\r\n\t\t\tif (isMinUpdated) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION = {\r\n\t\t\t\t\t...pricingBoundsCPMUserInputString.IMPRESSION,\r\n\t\t\t\t\tmin: minPerImpression,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (isMaxUpdated) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION = {\r\n\t\t\t\t\t...pricingBoundsCPMUserInputString.IMPRESSION,\r\n\t\t\t\t\tmax: maxPerImpression,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!pricingBoundsCPMUserInputString.IMPRESSION.min) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION.min = bondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\tpricingBounds && pricingBounds.IMPRESSION\r\n\t\t\t\t\t\t? pricingBounds.IMPRESSION.min\r\n\t\t\t\t\t\t: minPerImpression,\r\n\t\t\t\t\tdecimals\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!pricingBoundsCPMUserInputString.IMPRESSION.max) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION.max = bondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\tpricingBounds && pricingBounds.IMPRESSION\r\n\t\t\t\t\t\t? pricingBounds.IMPRESSION.max\r\n\t\t\t\t\t\t: maxPerImpression,\r\n\t\t\t\t\tdecimals\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\t// Per impression\r\n\t\t\tconst pricingBoundsImpressionBnString = userInputPricingBoundsPerMileToRulesValue(\r\n\t\t\t\t{\r\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInputString,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tupdated.pricingBoundsCPMUserInput = pricingBoundsCPMUserInputString\r\n\t\t\tupdated.audienceInput = {\r\n\t\t\t\t...audienceInput,\r\n\t\t\t\t...{ pricingBoundsCPMUserInput: updated.pricingBoundsCPMUserInput },\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount: depositAmountInputString,\r\n\t\t\t\t\tpricingBounds: updated.audienceInput.pricingBoundsCPMUserInput,\r\n\t\t\t\t\tspecPricingBounds: itemPlain.specPricingBounds,\r\n\t\t\t\t\terrMsg: !dirty,\r\n\t\t\t\t\tmaxDeposit: BigNumber.from(depositAmount),\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: updated.marketUpdate,\r\n\t\t\t\t\tprop: 'campaign',\r\n\t\t\t\t\tschema: campaignPut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tif (isAudienceUpdated) {\r\n\t\t\t\tconst state = getState()\r\n\t\t\t\tconst { decimals } = selectMainToken(state)\r\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\t\tstate\r\n\t\t\t\t)\r\n\r\n\t\t\t\tupdated.targetingRules = audienceInputToTargetingRules({\r\n\t\t\t\t\taudienceInput: updated.audienceInput,\r\n\t\t\t\t\tminByCategory,\r\n\t\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\t\tpricingBounds: pricingBoundsImpressionBnString,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tif (isAudienceUpdated) {\r\n\t\t\t\t\tconst account = selectAccount(state)\r\n\t\t\t\t\tif (isPaused) {\r\n\t\t\t\t\t\tupdated.targetingRules.unshift({ onlyShowIf: false })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst { authTokens } = await updateTargeting({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tcampaign: updated,\r\n\t\t\t\t\t\ttargetingRules: updated.targetingRules,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\t\t\tdispatch,\r\n\t\t\t\t\t\tgetState\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait updateCampaignOnMarket({\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t\ttoastLabel: 'SUCCESS_UPDATING_ITEM',\r\n\t\t\t\t})(dispatch, getState)\r\n\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t} else if (!isValid && update) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['CAMPAIGN', getErrorMsg('INVALID_INPUT_PARAMETERS')],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['CAMPAIGN', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import { utils, BigNumber } from 'ethers'\r\nconst { parseUnits } = utils\r\n\r\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\r\n\tif (numStr === null || numStr === undefined) {\r\n\t\treturn numStr\r\n\t}\r\n\r\n\treturn parseUnits(numStr, decimals)\r\n\t\t.div(BigNumber.from(1000))\r\n\t\t.toString()\r\n}\r\n","import { items as ItemsConstants } from 'adex-constants'\r\n\r\nconst { ItemsTypes, AdTypesByValue, AdSizesByValue } = ItemsConstants\r\n\r\nexport const sortCollections = items => {\r\n\tlet collections = {\r\n\t\tcampaigns: [],\r\n\t\tadUnits: [],\r\n\t\tchannels: [],\r\n\t\tadSlots: [],\r\n\t}\r\n\r\n\tfor (let i = 0; i < items.length; i++) {\r\n\t\tlet item = items[i]\r\n\t\tif (item._type === ItemsTypes.Campaign) collections.campaigns.push(item)\r\n\t\tif (item._type === ItemsTypes.AdUnit) collections.adUnits.push(item)\r\n\t\tif (item._type === ItemsTypes.Channel) collections.channel.push(item)\r\n\t\tif (item._type === ItemsTypes.AdSlot) collections.adSlots.push(item)\r\n\t}\r\n\r\n\treturn collections\r\n}\r\n\r\nexport const cloneObject = obj => {\r\n\treturn Object.assign(Object.create(obj), obj)\r\n}\r\n\r\nexport const getTypeName = id => {\r\n\tfor (var key in ItemsTypes) {\r\n\t\tif (ItemsTypes.hasOwnProperty(key)) {\r\n\t\t\tif (ItemsTypes[key].id === id) {\r\n\t\t\t\treturn ItemsTypes[key].name\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const groupItemsForCollection = ({ collectionId, allItems = {} }) => {\r\n\tlet grouped = Object.values(allItems).reduce(\r\n\t\t(memo, item, index) => {\r\n\t\t\tif (item._items.indexOf(collectionId) > -1) {\r\n\t\t\t\tmemo.items.push(item)\r\n\t\t\t} else {\r\n\t\t\t\tmemo.otherItems.push(item)\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t},\r\n\t\t{ items: [], otherItems: [] }\r\n\t)\r\n\r\n\treturn grouped\r\n}\r\n\r\nexport const itemAdTypeLabel = ({ adType }) => {\r\n\treturn (AdTypesByValue[adType] || {}).label\r\n}\r\n\r\nexport const itemAdSizeLabel = ({ size, t }) => {\r\n\tconst adSize = AdSizesByValue[size] || {}\r\n\treturn t(adSize.label, { args: adSize.labelArgs || [] })\r\n}\r\n\r\nexport const getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n","import { validations, helpers } from 'adex-models'\r\n\r\nexport const ipfsSrc = src => {\r\n\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t}\r\n\r\n\treturn src\r\n}\r\n","export const getImgObjectUrlFromExternalUrl = async imgUrl => {\r\n\tconst res = await fetch(imgUrl)\r\n\tconst blob = await res.blob()\r\n\tconst objectUrl = URL.createObjectURL(blob)\r\n\r\n\treturn objectUrl\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateNumberString,\r\n\tvalidateMediaSize,\r\n\tupdateNewSlot,\r\n\taddToast,\r\n\tvalidate,\r\n\tgetImgsIpfsFromBlob,\r\n\tupdateNewItem,\r\n\tupdateNewWebsite,\r\n} from 'actions'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectAuthSig,\r\n\tselectNewWebsite,\r\n\tt,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAdSlotById,\r\n\tselectWebsiteByWebsite,\r\n} from 'selectors'\r\nimport { schemas, AdSlot, AdUnit, helpers } from 'adex-models'\r\nimport {\r\n\tverifyWebsite,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n\tupdateAdSlot,\r\n} from 'services/adex-market/actions'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\n\r\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\r\nimport { getImgObjectUrlFromExternalUrl } from 'services/images/blob'\r\nimport { BigNumber, utils } from 'ethers'\r\n\r\nconst { adSlotPost, adUnitPost, adSlotPut } = schemas\r\nconst { slotRulesInputToTargetingRules } = helpers\r\n\r\nconst { VALIDATOR_FOLLOWER_FEE_NUM, VALIDATOR_FOLLOWER_FEE_DEN } = process.env\r\n\r\n// in float - CPM\r\n// NOTE:  `minPerImpression` is used as the value user sees and modifies\r\n// `minPerImpression` is obsolete in the protocol but this way we can easily\r\n// manage the user input w/o multiple conversion of the CPM value\r\nfunction getRuleMinCPMWithValidatorFeeAdded(cpmInput) {\r\n\tconst withFee =\r\n\t\t+cpmInput / (1 - +VALIDATOR_FOLLOWER_FEE_NUM / +VALIDATOR_FOLLOWER_FEE_DEN)\r\n\treturn withFee.toString()\r\n}\r\n\r\nasync function getFallbackUnit({\r\n\tmediaMime,\r\n\ttempUrl,\r\n\ttargetUrl,\r\n\ttype,\r\n\tauthSig,\r\n\ttitle,\r\n\tdescription,\r\n}) {\r\n\tconst imageIpfs = (\r\n\t\tawait getImgsIpfsFromBlob({\r\n\t\t\ttempUrl,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t).ipfs\r\n\r\n\tconst unit = new AdUnit({\r\n\t\ttype,\r\n\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\ttargetUrl,\r\n\t\tmediaMime,\r\n\t\tcreated: Date.now(),\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\ttargeting: [],\r\n\t\ttags: [],\r\n\t\tpassback: true,\r\n\t})\r\n\r\n\tconst resUnit = await postAdUnit({\r\n\t\tunit: unit.marketAdd,\r\n\t\tauthSig,\r\n\t})\r\n\r\n\treturn resUnit\r\n}\r\n\r\nexport function validateNewSlotBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst state = getState()\r\n\t\t\tconst slot = selectNewAdSlot(state)\r\n\t\t\tconst {\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\ttype,\r\n\t\t\t\twebsite,\r\n\t\t\t\tminPerImpression = null,\r\n\t\t\t\trulesInput,\r\n\t\t\t\ttemp,\r\n\t\t\t} = slot\r\n\r\n\t\t\tconst { inputs = {} } = rulesInput || {}\r\n\t\t\tconst { autoSetMinCPM } = inputs\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adSlotPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tisValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && !autoSetMinCPM && minPerImpression !== null) {\r\n\t\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\tnumStr: minPerImpression || null,\r\n\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tschema: adSlotPost.minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tconst { hostname, issues, categories, suggestedMinCPM } = isValid\r\n\t\t\t\t? await verifyWebsite({ websiteUrl: website })\r\n\t\t\t\t: {}\r\n\t\t\tconst newTemp = { ...temp, hostname, issues, categories, suggestedMinCPM }\r\n\r\n\t\t\tconst ruleCPM = !!autoSetMinCPM ? suggestedMinCPM : minPerImpression\r\n\r\n\t\t\tconst rulesCPMWithValidatorFee = getRuleMinCPMWithValidatorFeeAdded(\r\n\t\t\t\truleCPM\r\n\t\t\t)\r\n\r\n\t\t\tconst rules = slotRulesInputToTargetingRules({\r\n\t\t\t\trulesInput,\r\n\t\t\t\tsuggestedMinCPM: rulesCPMWithValidatorFee,\r\n\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t})\r\n\r\n\t\t\tupdateNewSlot('temp', newTemp)(dispatch, getState)\r\n\t\t\tupdateNewSlot('rules', rules)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\r\n\t\t\t// bet this doesn't matter at that point\r\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewSlotPassback({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n\titemId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttargetUrl,\r\n\t\t\ttemp: { useFallback, tempUrl, mime },\r\n\t\t} = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t...(useFallback\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tvalidateMediaSize({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tpropName: 'temp',\r\n\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\t\t\ttempUrl,\r\n\t\t\t\t\t\t\t\tmime,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [\r\n\t\t\t\t\t\tvalidate(validateId, 'temp', {\r\n\t\t\t\t\t\t\tisValid: true,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]),\r\n\t\t\t...(useFallback\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tvalue: targetUrl,\r\n\t\t\t\t\t\t\tprop: 'targetUrl',\r\n\t\t\t\t\t\t\tschema: adUnitPost.targetUrl,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [\r\n\t\t\t\t\t\tvalidate(validateId, 'targetUrl', {\r\n\t\t\t\t\t\t\tisValid: true,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function saveSlot() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst item = selectNewAdSlot(state)\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tfallbackUnit = (\r\n\t\t\t\t\tawait getFallbackUnit({\r\n\t\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\t\tauthSig,\r\n\t\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\t})\r\n\t\t\t\t).ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst minPerImpression = newItem.rulesInput.inputs.autoSetMinCPM\r\n\t\t\t\t? newItem.temp.suggestedMinCPM\r\n\t\t\t\t: newItem.minPerImpression\r\n\r\n\t\t\tif (minPerImpression) {\r\n\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: minPerImpression,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', { args: ['ADSLOT', newItem.title] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\r\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateWebsiteVerification({ id, website }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst websiteUrl = website || 'https://' + id\r\n\t\tupdateSpinner('vilifying' + websiteUrl, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { issues, updated, hostname } = await verifyWebsite({\r\n\t\t\t\twebsiteUrl,\r\n\t\t\t})\r\n\t\t\tconst item = { id: hostname, issues, updated }\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem,\r\n\t\t\t\titemType: 'Website',\r\n\t\t\t})\r\n\r\n\t\t\tif (issues && issues.length) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tlabel: t('UPDATING_WS_VERIFICATION_WITH_ISSUES', {\r\n\t\t\t\t\t\targs: [websiteUrl],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_WS_VERIFICATION', {\r\n\t\t\t\t\t\targs: [websiteUrl],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\targs: [websiteUrl],\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_WS_VERIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\r\n\t\t\t\tlabel: t('ERR_UPDATING_WS_VERIFICATION', {\r\n\t\t\t\t\targs: [id, err],\r\n\t\t\t\t}),\r\n\t\t\t\targs: [id, err],\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('vilifying' + websiteUrl, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewPassback({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectAdSlotById(state, itemId)\r\n\t\tconst newItem = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\r\n\t\tconst isDirty = ['mediaUrl', 'mediaMime', 'targetUrl'].some(prop =>\r\n\t\t\tdirtyProps.includes(prop)\r\n\t\t)\r\n\r\n\t\tconst { mediaUrl, mediaMime, targetUrl } = item\r\n\t\tconst newValues = {}\r\n\t\tif (isDirty) {\r\n\t\t\tnewValues.temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t}\r\n\t\t\tnewValues.targetUrl = newItem.targetUrl\r\n\t\t} else {\r\n\t\t\tconst tempUrl = mediaUrl\r\n\t\t\t\t? await getImgObjectUrlFromExternalUrl(ipfsSrc(mediaUrl))\r\n\t\t\t\t: mediaUrl\r\n\r\n\t\t\tnewValues.temp = {\r\n\t\t\t\t...item.temp,\r\n\t\t\t\ttempUrl,\r\n\t\t\t\tmime: mediaMime,\r\n\t\t\t\tuseFallback: !!(mediaUrl || mediaMime || targetUrl),\r\n\t\t\t}\r\n\t\t\tnewValues.targetUrl = targetUrl\r\n\t\t}\r\n\r\n\t\tupdateNewItem(\r\n\t\t\titem,\r\n\t\t\tnewValues,\r\n\t\t\t'AdSlot',\r\n\t\t\tAdSlot,\r\n\t\t\titem.id\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateSlotPasback({\r\n\tupdateMultipleFields,\r\n\titemId,\r\n\tonValid: onValidProp,\r\n\tvalidateId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { temp, targetUrl } = selectNewItemByTypeAndId(\r\n\t\t\tstate,\r\n\t\t\t'AdSlot',\r\n\t\t\titemId\r\n\t\t)\r\n\t\tconst { tempUrl, mime, useFallback } = temp\r\n\r\n\t\tconst newValues = {\r\n\t\t\ttargetUrl: useFallback ? targetUrl : '',\r\n\t\t\tmediaUrl: useFallback ? tempUrl : '',\r\n\t\t\tmediaMime: useFallback ? mime : '',\r\n\t\t}\r\n\r\n\t\tconst onValid = () => {\r\n\t\t\tupdateMultipleFields(newValues, [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'passbackData',\r\n\t\t\t\t\tfields: ['targetUrl', 'mediaUrl', 'mediaMime'],\r\n\t\t\t\t},\r\n\t\t\t])\r\n\t\t\tonValidProp()\r\n\t\t}\r\n\r\n\t\tawait validateNewSlotPassback({\r\n\t\t\tvalidateId,\r\n\t\t\tdirty: true,\r\n\t\t\tonValid,\r\n\t\t\titemId,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateSlot({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\tupdate,\r\n\tdirtyProps,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\ttype,\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\twebsite,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\tmediaMime,\r\n\t\t\t\ttargetUrl,\r\n\t\t\t\trulesInput: slotRulesInput,\r\n\t\t\t} = item\r\n\r\n\t\t\t// Because of old slot and default value null\r\n\t\t\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\r\n\r\n\t\t\tconst { autoSetMinCPM } = rulesInput.inputs\r\n\r\n\t\t\tconst newSlot = new AdSlot(item)\r\n\t\t\tconst updateMinPerImpression =\r\n\t\t\t\ttypeof minPerImpression === 'string' && !autoSetMinCPM\r\n\r\n\t\t\tconst updateRules = dirtyProps.some(\r\n\t\t\t\tprop =>\r\n\t\t\t\t\tprop &&\r\n\t\t\t\t\t(prop.name === 'rulesInput' ||\r\n\t\t\t\t\t\t(prop.fields || []).includes('rulesInput'))\r\n\t\t\t)\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPut.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPut.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tupdateMinPerImpression\r\n\t\t\t\t\t? validateNumberString({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\tvalue: minPerImpression,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t  })(dispatch)\r\n\t\t\t\t\t: true,\r\n\t\t\t\tupdateRules\r\n\t\t\t\t\t? validateSchemaProp({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tprop: 'rulesInput',\r\n\t\t\t\t\t\t\tvalue: rulesInput,\r\n\t\t\t\t\t\t\tschema: adSlotPut.rulesInput,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t  })(dispatch)\r\n\t\t\t\t\t: true,\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tlet minCPM = null\r\n\t\t\tlet newRules = null\r\n\t\t\tlet rulesCPM = null\r\n\r\n\t\t\tif (isValid && !autoSetMinCPM && updateMinPerImpression) {\r\n\t\t\t\tif (!minPerImpression || parseFloat(minPerImpression) <= 0) {\r\n\t\t\t\t\tthrow new Error('INVALID_MANUAL_MIN_CPM_VALUE')\r\n\t\t\t\t}\r\n\r\n\t\t\t\trulesCPM = minPerImpression\r\n\t\t\t} else if (isValid && autoSetMinCPM) {\r\n\t\t\t\trulesCPM = (await verifyWebsite({ websiteUrl: website }))\r\n\t\t\t\t\t.suggestedMinCPM\r\n\r\n\t\t\t\tif (!rulesCPM) {\r\n\t\t\t\t\tthrow new Error('INVALID_AUTO_CPM_VALUE')\r\n\t\t\t\t}\r\n\t\t\t} else if (isValid) {\r\n\t\t\t\trulesCPM =\r\n\t\t\t\t\t!!minPerImpression && typeof minPerImpression === 'object'\r\n\t\t\t\t\t\t? utils.formatUnits(\r\n\t\t\t\t\t\t\t\tBigNumber.from(Object.values(minPerImpression)[0]).mul(1000),\r\n\t\t\t\t\t\t\t\tmainToken.decimals\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: minPerImpression\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && (updateMinPerImpression || updateRules)) {\r\n\t\t\t\tnewRules = slotRulesInputToTargetingRules({\r\n\t\t\t\t\trulesInput,\r\n\t\t\t\t\tsuggestedMinCPM: getRuleMinCPMWithValidatorFeeAdded(rulesCPM),\r\n\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tminCPM = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: rulesCPM || null,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnewSlot.minPerImpression = minCPM\r\n\t\t\t\tnewSlot.rules = newRules\r\n\t\t\t}\r\n\r\n\t\t\tconst isPassbackUpdated = dirtyProps.some(\r\n\t\t\t\tprop => prop && prop.name === 'passbackData'\r\n\t\t\t)\r\n\r\n\t\t\tconst fallbackData = {\r\n\t\t\t\tmediaMime,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\ttargetUrl,\r\n\t\t\t}\r\n\r\n\t\t\tlet newUnit = null\r\n\t\t\tif (isValid && isPassbackUpdated && update) {\r\n\t\t\t\tif (mediaUrl && mediaMime && targetUrl) {\r\n\t\t\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\t\t\tnewUnit = await getFallbackUnit({\r\n\t\t\t\t\t\tmediaMime,\r\n\t\t\t\t\t\ttempUrl: mediaUrl,\r\n\t\t\t\t\t\ttargetUrl,\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tauthSig,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tnewSlot.fallbackUnit = newUnit.ipfs\r\n\t\t\t\t\tfallbackData.mediaMime = newUnit.mediaMime\r\n\t\t\t\t\tfallbackData.mediaUrl = newUnit.mediaUrl\r\n\t\t\t\t\tfallbackData.targetUrl = newUnit.targetUrl\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewSlot.fallbackUnit = null\r\n\t\t\t\t\tfallbackData.mediaMime = ''\r\n\t\t\t\t\tfallbackData.mediaUrl = ''\r\n\t\t\t\t\tfallbackData.targetUrl = ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst slot = newSlot.marketUpdate\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst finalValidations = await Promise.all([\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: newSlot.minPerImpression,\r\n\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\tschema: adSlotPut.minPerImpression,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: newSlot.rules,\r\n\t\t\t\t\t\tprop: 'rules',\r\n\t\t\t\t\t\tschema: adSlotPut.rules,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: slot,\r\n\t\t\t\t\t\tprop: 'slot',\r\n\t\t\t\t\t\tschema: adSlotPut,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t])\r\n\r\n\t\t\t\tisValid = finalValidations.every(v => v === true)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedSlot = (await updateAdSlot({ slot, id })).slot\r\n\r\n\t\t\t\tif (dirtyProps.includes('website')) {\r\n\t\t\t\t\tawait updateWebsiteVerification({ website })(dispatch)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (newUnit) {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\t\t\titem: new AdUnit(newUnit).plainObj(),\r\n\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new AdSlot({ ...updatedSlot, ...fallbackData }).plainObj(),\r\n\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t})\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['ADSLOT', updatedSlot.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t} else if (!isValid && update) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['ADSLOT', getErrorMsg('INVALID_DATA')],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateAndSaveNewWebsiteBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst slot = selectNewWebsite(state)\r\n\t\t\tconst { website, temp } = slot\r\n\r\n\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: website,\r\n\t\t\t\tprop: 'website',\r\n\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tisValid = !Object.keys(selectWebsiteByWebsite(state, website)).length\r\n\r\n\t\t\t\tawait validate(validateId, 'website', {\r\n\t\t\t\t\tisValid,\r\n\t\t\t\t\terr: { msg: 'ERR_WEBSITE_EXISTS' },\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && dirty) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\thostname,\r\n\t\t\t\t\tissues,\r\n\t\t\t\t\tcategories,\r\n\t\t\t\t\tsuggestedMinCPM,\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t} = isValid ? await verifyWebsite({ websiteUrl: website }) : {}\r\n\t\t\t\tconst newTemp = {\r\n\t\t\t\t\t...temp,\r\n\t\t\t\t\thostname,\r\n\t\t\t\t\tissues,\r\n\t\t\t\t\tcategories,\r\n\t\t\t\t\tsuggestedMinCPM,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst newWebsite = {\r\n\t\t\t\t\tid: hostname,\r\n\t\t\t\t\tissues,\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\t\titem: newWebsite,\r\n\t\t\t\t\titemType: 'Website',\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateNewWebsite('temp', newTemp)(dispatch, getState)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', {\r\n\t\t\t\t\t\targs: ['WEBSITE', hostname],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\r\n\t\t\t// bet this doesn't matter at that point\r\n\t\t\tconsole.error('ERR_VALIDATING_WEBSITE_BASIC', err)\r\n\t\t\tisValid = false\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateMediaSize,\r\n\tvalidate,\r\n\taddToast,\r\n\tgetImgsIpfsFromBlob,\r\n} from 'actions'\r\nimport { selectNewAdUnit, selectAuthSig, t } from 'selectors'\r\nimport { schemas, AdUnit } from 'adex-models'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\n\r\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\nimport { postAdUnit, updateAdUnit } from 'services/adex-market/actions'\r\n\r\nconst { adUnitPost, adUnitPut } = schemas\r\n\r\nexport function validateNewUnitBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { title, description, type, targetUrl } = selectNewAdUnit(state)\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adUnitPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adUnitPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adUnitPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: targetUrl,\r\n\t\t\t\t\tprop: 'targetUrl',\r\n\t\t\t\t\tschema: adUnitPost.targetUrl,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewUnitMedia({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttemp: { tempUrl, mime },\r\n\t\t} = selectNewAdUnit(state)\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateMediaSize({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'temp',\r\n\t\t\t\twidthTarget: width,\r\n\t\t\t\theightTarget: height,\r\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\texact: true,\r\n\t\t\t\trequired: true,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t},\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function saveUnit() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst item = selectNewAdUnit(state)\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst imageIpfs = (\r\n\t\t\t\tawait getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})\r\n\t\t\t).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\r\n\t\t\t\t\targs: ['AdUnit', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateUnit({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\tupdate,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { id, title, description } = item\r\n\r\n\t\t\tconst unit = new AdUnit(item).marketUpdate\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adUnitPut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adUnitPut.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: unit,\r\n\t\t\t\t\tprop: 'unit',\r\n\t\t\t\t\tschema: adUnitPut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedUnit = (await updateAdUnit({ unit, id })).unit\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new AdUnit(updatedUnit).plainObj(),\r\n\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t})\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['ADUNIT', updatedUnit.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['ADUNIT', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as uiActions from './uiActions'\r\nimport * as validationActions from './validationActions'\r\nimport * as mediaValidations from './mediaValidations'\r\nimport * as itemActions from './itemActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as analyticsActions from './analyticsActions'\r\nimport * as newItemsActions from './newItemsActions'\r\nimport * as audienceActions from './audienceActions'\r\nimport * as campaignActions from './campaignActions'\r\nimport * as slotActions from './slotActions'\r\nimport * as unitActions from './unitActions'\r\n\r\n// keep it for class components that use connect and actions prop\r\n// without needing to change the code\r\nexport default {\r\n\t...common,\r\n\t...uiActions,\r\n\t...validationActions,\r\n\t...mediaValidations,\r\n\t...itemActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...analyticsActions,\r\n\t...newItemsActions,\r\n\t...audienceActions,\r\n\t...campaignActions,\r\n\t...slotActions,\r\n\t...unitActions,\r\n}\r\n\r\n// used for minimal deps in hook components\r\n// import { execute, addTost } from 'actions'\r\n// execute(addTost())\r\nexport * from './common'\r\nexport * from './validationActions'\r\nexport * from './mediaValidations'\r\nexport * from './uiActions'\r\nexport * from './itemActions'\r\nexport * from './accountActions'\r\nexport * from './identityActions'\r\nexport * from './bidActions'\r\nexport * from './transactionActions'\r\nexport * from './analyticsActions'\r\nexport * from './newItemsActions'\r\nexport * from './audienceActions'\r\nexport * from './campaignActions'\r\nexport * from './slotActions'\r\nexport * from './unitActions'\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Snackbar, IconButton } from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { selectToasts, selectWindowReloading } from 'selectors'\r\nimport { execute, removeToast } from 'actions'\r\n\r\nconst typeToSeverity = {\r\n\taccept: 'success',\r\n\tsuccess: 'success',\r\n\twarning: 'warning',\r\n\tinfo: 'info',\r\n\tcancel: 'error',\r\n\terror: 'error',\r\n}\r\n\r\nexport const Toast = props => {\r\n\tconst [active, setActive] = useState(false)\r\n\tconst [toast, setToast] = useState({})\r\n\r\n\tconst toasts = useSelector(selectToasts)\r\n\tconst isReloading = useSelector(selectWindowReloading)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst nextToast = toasts[0]\r\n\r\n\t\tif (!nextToast || isReloading) {\r\n\t\t\tsetActive(false)\r\n\t\t\tsetToast({})\r\n\t\t} else if (nextToast.id !== toast.id) {\r\n\t\t\tsetActive(true)\r\n\t\t\tsetToast(nextToast)\r\n\t\t}\r\n\t}, [isReloading, toast.id, toasts])\r\n\r\n\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\tvertical: 'bottom',\r\n\t\thorizontal: 'center',\r\n\t}\r\n\r\n\tif (toast.top) {\r\n\t\tanchorOrigin.horizontal = 'center'\r\n\t\tanchorOrigin.vertical = 'top'\r\n\t}\r\n\r\n\tconst close = id => {\r\n\t\tsetActive(false)\r\n\t\tsetTimeout(() => execute(removeToast(id)), 100)\r\n\t}\r\n\r\n\treturn toast ? (\r\n\t\t<Snackbar\r\n\t\t\topen={active}\r\n\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\tonClose={() => !toast.unclosable && close(toast.id)}\r\n\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t>\r\n\t\t\t<Alert\r\n\t\t\t\tseverity={typeToSeverity[toast.type]}\r\n\t\t\t\tvariant='filled'\r\n\t\t\t\taction={\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{toast.action && toast.action}\r\n\t\t\t\t\t\t{!toast.unclosable && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey={`close-${toast.id}`}\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && close(toast.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Close />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t</Alert>\r\n\t\t</Snackbar>\r\n\t) : null\r\n}\r\n\r\nexport default Toast\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectConfirm } from 'selectors'\r\n\r\nimport {\r\n\tDialog,\r\n\tButton,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n} from '@material-ui/core'\r\n\r\nexport function Confirm({ children }) {\r\n\tconst [open, setOpen] = useState(false)\r\n\r\n\tconst {\r\n\t\tonConfirm,\r\n\t\tonCancel,\r\n\t\tactive,\r\n\t\tcalledOn,\r\n\t\tnoActionBtns,\r\n\t\tdata: { title = '', text = '', confirmLabel, cancelLabel },\r\n\t} = useSelector(selectConfirm)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpen(!!active)\r\n\t}, [active, calledOn])\r\n\r\n\tconst confirm = () => {\r\n\t\tif (typeof onConfirm === 'function') {\r\n\t\t\tonConfirm()\r\n\t\t}\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\tconst cancel = () => {\r\n\t\tif (typeof onCancel === 'function') {\r\n\t\t\tonCancel()\r\n\t\t}\r\n\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Dialog open={open}>\r\n\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</DialogContentText>\r\n\t\t\t\t{children}\r\n\t\t\t</DialogContent>\r\n\t\t\t{!noActionBtns && (\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{cancelLabel && (\r\n\t\t\t\t\t\t<Button onClick={cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{confirmLabel && (\r\n\t\t\t\t\t\t<Button onClick={confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogActions>\r\n\t\t\t)}\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default Confirm\r\n","import React, { forwardRef } from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\r\n\t\t\tconst href = this.props.history.createHref(path)\r\n\t\t\treturn href\r\n\t\t}\r\n\r\n\t\thandleClick = async event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tevent.stopPropagation()\r\n\t\t\tconst { to, onClick } = this.props\r\n\r\n\t\t\tif (onClick && typeof onClick === 'function') {\r\n\t\t\t\tawait onClick()\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tforwardedRef,\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Component\r\n\t\t\t\t\tref={forwardedRef}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\thref={toLocation}\r\n\t\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst WithRouter = withRouter(Decorated)\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithRouter {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Tabs, Tab, Divider } from '@material-ui/core'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nconst sideIndex = {\r\n\tadvertiser: 0,\r\n\tpublisher: 1,\r\n\t'0': 'advertiser',\r\n\t'1': 'publisher',\r\n}\r\n\r\nconst handleChange = (ev, index) => {\r\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\r\n}\r\n\r\nconst useTabsStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tindicator: {\r\n\t\t\t// NOTE: we use Tab background color as indicator\r\n\t\t\t// There is an animation for the Tabs indicator that looks out of\r\n\t\t\t// sync with Tab background change\r\n\t\t\tbackground: '0',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useTabStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.main\r\n\t\t\t: theme.palette.primary.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tminWidth: 30,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t'&$selected': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t\tbackgroundColor: activeColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: theme.palette.action.hover,\r\n\t\t\t},\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tbackgroundColor: activeColor,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst SideSwitch = ({ side, className }) => {\r\n\tconst tabsClasses = useTabsStyles({ side })\r\n\tconst tabClasses = useTabStyles({ side })\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<Box bgcolor='background.paper'>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tclasses={tabsClasses}\r\n\t\t\t\t\tvalue={sideIndex[side]}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t\taria-label='side select'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('ADVERTISER')} />\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('PUBLISHER')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t<Divider />\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideSwitch\r\n","import React from 'react'\r\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ className, color = 'primary' }) => (\r\n\t<LinearProgress className={className} color={color} />\r\n)\r\n\r\nexport const LoadingSection = ({ loading, children }) => (\r\n\t<Box display='flex' flex='1' alignItems='center'>\r\n\t\t<Box>{children}</Box>\r\n\t\t<Box ml={2} mr={2}>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t</Box>\r\n\t</Box>\r\n)\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers'\r\nimport { t } from 'selectors'\r\n\r\nconst MAX_IMG_LOAD_TIME = 7000\r\n\r\nconst styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t\twidth: '30px',\r\n\t\theight: '30px',\r\n\t\tminHeight: '24px',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\tobjectFit: 'contain',\r\n\t},\r\n\twrapper: {\r\n\t\theight: '100%',\r\n\t\twidth: '100%',\r\n\t},\r\n\tcellImg: {\r\n\t\t// Fixed width to avoid col resizing while loading\r\n\t\theight: 46,\r\n\t\twidth: 69,\r\n\t\tcursor: 'pointer',\r\n\t\tdisplay: 'flex',\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst Media = ({\r\n\ttype,\r\n\tsrc,\r\n\tfallbackSrc,\r\n\tmediaMime,\r\n\tallowVideo,\r\n\talt,\r\n\tallowFullscreen,\r\n\tclassName,\r\n\tclassNameImg,\r\n\tfullScreenOnClick,\r\n\tonClick,\r\n\tisCellImg,\r\n\tcontrols,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst loadTimeout = useRef(null)\r\n\tconst displayImage = useRef(null)\r\n\tconst displayVideo = useRef(null)\r\n\tconst [active, setActive] = useState(false)\r\n\r\n\tconst [media, setMedia] = useState({\r\n\t\tsrc: null,\r\n\t\tisVideo: !!mediaMime && isVideoMedia(mediaMime),\r\n\t})\r\n\r\n\tconst handleToggle = ev => {\r\n\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\tsetActive(!active)\r\n\t}\r\n\r\n\tconst clearLoadTimeout = () => {\r\n\t\tif (loadTimeout && loadTimeout.current) {\r\n\t\t\tclearTimeout(loadTimeout.current)\r\n\t\t\tloadTimeout.current = null\r\n\t\t}\r\n\t}\r\n\r\n\tconst clearEvents = () => {\r\n\t\tif (displayImage.current) {\r\n\t\t\tdisplayImage.current.onerror = null\r\n\t\t\tdisplayImage.current.onload = null\r\n\t\t\tdisplayImage.current.onabort = null\r\n\t\t}\r\n\r\n\t\tif (displayVideo.current) {\r\n\t\t\tdisplayVideo.current.onloadedmetadata = null\r\n\t\t}\r\n\t}\r\n\r\n\tconst onFail = useCallback(fallback => {\r\n\t\tclearLoadTimeout()\r\n\t\tclearEvents()\r\n\t\tsetMedia({\r\n\t\t\tsrc: fallback,\r\n\t\t\tisVideo: false,\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\tsetMedia({\r\n\t\t\t\tsrc: VIDEO_IMAGE,\r\n\t\t\t\tisVideo: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tclearLoadTimeout()\r\n\t\tclearEvents()\r\n\r\n\t\tconst fallback = ipfsSrc(fallbackSrc) || NO_IMAGE\r\n\t\tconst mediaSrc = ipfsSrc(src)\r\n\r\n\t\tloadTimeout.current = setTimeout(() => {\r\n\t\t\tonFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tif (!displayVideo.current) {\r\n\t\t\t\tconst video = document.createElement('video')\r\n\t\t\t\tdisplayVideo.current = video\r\n\t\t\t}\r\n\r\n\t\t\tdisplayVideo.current.src = mediaSrc\r\n\r\n\t\t\tdisplayVideo.current.onloadedmetadata = () => {\r\n\t\t\t\tclearLoadTimeout()\r\n\t\t\t\tsetMedia({\r\n\t\t\t\t\tsrc: mediaSrc,\r\n\t\t\t\t\tisVideo: true,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!displayImage.current) {\r\n\t\t\t\tdisplayImage.current = new Image()\r\n\t\t\t}\r\n\r\n\t\t\tdisplayImage.current.src = mediaSrc\r\n\r\n\t\t\tdisplayImage.current.onerror = displayImage.current.onabort = () =>\r\n\t\t\t\tonFail(fallback)\r\n\r\n\t\t\tdisplayImage.current.onload = () => {\r\n\t\t\t\tclearLoadTimeout()\r\n\t\t\t\tsetMedia({\r\n\t\t\t\t\tsrc: mediaSrc,\r\n\t\t\t\t\tisVideo: false,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tclearLoadTimeout()\r\n\t\t\tclearEvents()\r\n\t\t}\r\n\t}, [allowVideo, fallbackSrc, mediaMime, onFail, src])\r\n\r\n\tconst renderMedia = ({ onclick, imgClasses, videoClasses, controls }) => {\r\n\t\tif (!media.isVideo) {\r\n\t\t\treturn (\r\n\t\t\t\t<img\r\n\t\t\t\t\talt={alt}\r\n\t\t\t\t\tsrc={media.src}\r\n\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\tclassName={imgClasses}\r\n\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\tonClick={onclick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<video\r\n\t\t\t\t\tsrc={media.src}\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tmuted\r\n\t\t\t\t\tloop\r\n\t\t\t\t\tclassName={videoClasses}\r\n\t\t\t\t\tonClick={onclick}\r\n\t\t\t\t\tcontrols={controls}\r\n\t\t\t\t></video>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst renderFullscreenDialog = () => {\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{renderMedia({\r\n\t\t\t\t\t\timgClasses: classnames(classes.dialogImage, classes.imgLoading),\r\n\t\t\t\t\t\tvideoClasses: classnames(classes.dialogImage, classes.imgLoading),\r\n\t\t\t\t\t})}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\tconst fullScreenBtn = () => {\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thandleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\treturn media && media.src ? (\r\n\t\t<div\r\n\t\t\tclassName={classnames(className, classes.wrapper, {\r\n\t\t\t\t[classes.cellImg]: !!isCellImg,\r\n\t\t\t})}\r\n\t\t>\r\n\t\t\t{renderMedia({\r\n\t\t\t\tonclick: onClick || (fullScreenOnClick && handleToggle),\r\n\t\t\t\timgClasses: classnames(classes.imgLoading, classes.img, classNameImg),\r\n\t\t\t\tvideoClasses: classnames(classes.imgLoading, classes.img),\r\n\t\t\t\tcontrols: !!controls,\r\n\t\t\t})}\r\n\t\t\t{allowFullscreen && fullScreenBtn()}\r\n\t\t\t{fullScreenOnClick && renderFullscreenDialog()}\r\n\t\t</div>\r\n\t) : (\r\n\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t<span className={classes.circular}>\r\n\t\t\t\t<CircularProgress />\r\n\t\t\t</span>\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nMedia.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Media\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SideSwitch from './SideSwitch'\r\nimport AdexIconTxt from 'resources/adex-logo-txt-sm.svg'\r\nimport AdexIconTxtDark from 'resources/adex-logo-txt-dark-theme.svg'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\nimport { Receipt } from '@material-ui/icons'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport Box from '@material-ui/core/Box'\r\nimport ListIcon from '@material-ui/icons/List'\r\nimport AudienceIcon from '@material-ui/icons/Group'\r\nimport WebsitesIcon from '@material-ui/icons/WebSharp'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectLocation,\r\n\tselectAccountIdentityAddr,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport Media from 'components/common/media'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst RRAdexIconTxt = withReactRouterLink(props => (\r\n\t<Media {...props} src={AdexIconTxt} />\r\n))\r\nconst RRAdexIconTxtDark = withReactRouterLink(props => (\r\n\t<Media {...props} src={AdexIconTxtDark} />\r\n))\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.contrastText\r\n\t\t\t: theme.palette.primary.contrastText\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.main\r\n\t\t\t: theme.palette.primary.main\r\n\r\n\treturn {\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 100,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t\tcolor: activeColor,\r\n\t\t\t\t'& .MuiListItemIcon-root': {\r\n\t\t\t\t\tcolor: activeColor,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t'& .MuiListItemIcon-root': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsideSwitch: {\r\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 42,\r\n\t\t\twidth: 'auto',\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tamount: {\r\n\t\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction SideNav(props) {\r\n\tconst theme = useTheme()\r\n\r\n\tconst side = useSelector(selectSide)\r\n\tconst identity = useSelector(selectAccountIdentityAddr)\r\n\tconst classes = useStyles({ side })\r\n\tconst routerLocation = useSelector(selectLocation)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// TODO: test location\r\n\tconst location = routerLocation.pathname.split('/')[3]\r\n\tconst isAdvertiser = side === 'advertiser'\r\n\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\tconst { availableIdentityBalanceAllMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? RRAdexIconTxtDark : RRAdexIconTxt\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\tflexGrow='1'\r\n\t\t>\r\n\t\t\t<Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<AdxIcon\r\n\t\t\t\t\t\t\t\t// @cryptofan\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t\t\tclassNameImg={classes.icon}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceAllMainToken &&\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceAllMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant='button'\r\n\t\t\t\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\tclasses={{ button: classes.amount }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceAllMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant='button' component='div' display='block'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\tflex='1'\r\n\t\t\t>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === items,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/audiences' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'audiences',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<AudienceIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('AUDIENCES')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/websites' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'websites',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<WebsitesIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('WEBSITES')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/receipts' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'receipts',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<Receipt />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('RECEIPTS')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/topup' }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === 'topup',\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<MonetizationOnIcon color='secondary' />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TOP_UP')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${ETH_SCAN_ADDR_HOST + identity}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t\t\t<Anchor target='_blank' href={process.env.ADEX_SITE_HOST}>\r\n\t\t\t\t\t\t\t\t\tAdEx Network O\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_SITE_HOST}/tos`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('TOS')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref='https://github.com/AdExNetwork/adex-platform/blob/development/CHANGELOG.md'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</ListItem>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default SideNav\r\n","import React, { useState, Children, cloneElement } from 'react'\r\nimport { Menu, Button } from '@material-ui/core'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\r\n\tconst [anchorEl, setAnchorEl] = useState(null)\r\n\r\n\tconst handleMenu = event => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tstyle={btnStyle}\r\n\t\t\t\tonClick={handleMenu}\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t\taria-controls={id}\r\n\t\t\t>\r\n\t\t\t\t{leftIcon}\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</span>\r\n\t\t\t\t{rightIcon}\r\n\t\t\t</Button>\r\n\t\t\t<Menu\r\n\t\t\t\tid={id}\r\n\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tgetContentAnchorEl={null}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={handleClose}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t{Children.map(children, child =>\r\n\t\t\t\t\tcloneElement(child, {\r\n\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\ttypeof child.props.onClick === 'function' && child.props.onClick()\r\n\t\t\t\t\t\t\thandleClose()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ButtonMenu\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\nimport { selectLang } from 'selectors'\r\n\r\nexport default function Translate(Decorated) {\r\n\tfunction Translated(props) {\r\n\t\tconst language = useSelector(selectLang)\r\n\r\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\r\n\t\t\tconst translation = translate(val, { isProp, args }, language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\treturn <Decorated {...props} t={t} />\r\n\t}\r\n\r\n\treturn Translated\r\n}\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { darkTheme, lightTheme } from './themeMUi'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\n\r\nconst THEMES = {\r\n\tlight: lightTheme,\r\n\tdark: darkTheme,\r\n}\r\n\r\nexport const MultiThemeContext = React.createContext()\r\n\r\nconst MultiThemeProvider = ({ children }) => {\r\n\tconst [themeType, setThemeType] = useState('light')\r\n\tconst [theme, setTheme] = useState(darkTheme)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst lastTheme = loadFromLocalStorage('themeType') || 'light'\r\n\t\tsetThemeType(lastTheme)\r\n\t\tsetTheme(THEMES[lastTheme])\r\n\t}, [])\r\n\r\n\tconst switchTheme = () => {\r\n\t\tif (themeType === 'light') {\r\n\t\t\tsaveToLocalStorage('dark', 'themeType')\r\n\t\t\tsetThemeType('dark')\r\n\t\t\tsetTheme(THEMES['dark'])\r\n\t\t} else {\r\n\t\t\tsaveToLocalStorage('light', 'themeType')\r\n\t\t\tsetThemeType('light')\r\n\t\t\tsetTheme(THEMES['light'])\r\n\t\t}\r\n\t}\r\n\r\n\tconst contextValue = {\r\n\t\tthemeType,\r\n\t\tswitchTheme,\r\n\t}\r\n\r\n\treturn (\r\n\t\t<MultiThemeContext.Provider value={contextValue}>\r\n\t\t\t<MuiThemeProvider theme={theme}>{children}</MuiThemeProvider>\r\n\t\t</MultiThemeContext.Provider>\r\n\t)\r\n}\r\n\r\nexport default MultiThemeProvider\r\n","import React, { useContext } from 'react'\r\nimport { IconButton } from '@material-ui/core'\r\nimport {\r\n\tBrightness7Sharp as LightIcon,\r\n\tBrightness6Sharp as DarkIcon,\r\n} from '@material-ui/icons'\r\nimport { MultiThemeContext } from './MultiThemeProvider'\r\n\r\nexport default function ThemeSwitch() {\r\n\tconst { themeType, switchTheme } = useContext(MultiThemeContext)\r\n\r\n\treturn (\r\n\t\t<IconButton\r\n\t\t\tid={`theme-switch-go-to-${themeType === 'dark' ? 'light' : 'dark'}`}\r\n\t\t\tonClick={switchTheme}\r\n\t\t>\r\n\t\t\t{themeType === 'dark' ? <LightIcon /> : <DarkIcon />}\r\n\t\t</IconButton>\r\n\t)\r\n}\r\n","import { fade } from '@material-ui/core/styles/colorManipulator'\r\n\r\nconst drawerWidth = 250\r\nconst lastRowRightReserved = 169\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tmarginTop: 69,\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\theight: 'calc(100vh - 69px)',\r\n\t\t\twidth: '100vw',\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\t// backgroundImage:\r\n\t\t\t// \ttheme.type === 'dark'\r\n\t\t\t// \t\t? `linear-gradient(\r\n\t\t\t// \t335deg,\r\n\t\t\t// \t${fade(theme.palette.primary.main, 1)} -46%,\r\n\t\t\t// \t${fade(theme.palette.background.default, 1)} 44%\r\n\t\t\t// )`\r\n\t\t\t// \t\t: 0,\r\n\t\t\t// backgroundRepeat: 'no-repeat',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tpaddingRight: theme.spacing(2),\r\n\t\t\tpaddingLeft: theme.spacing(2),\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: lastRowRightReserved,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 69,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingLeft: 0,\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t\tpaddingTop: theme.spacing(2),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t\tpadding: theme.spacing(2),\r\n\t\t\t\tpaddingTop: theme.spacing(2),\r\n\t\t\t},\r\n\r\n\t\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1420,\r\n\t\t\tmargin: 'auto',\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t\t// Because of the floating button and table paging\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tpaddingBottom: 146 + theme.spacing(2),\r\n\t\t\t},\r\n\t\t},\r\n\t\tbreadcrumbElement: {\r\n\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5)}px)`,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5) +\r\n\t\t\t\t\tdrawerWidth +\r\n\t\t\t\t\tlastRowRightReserved}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport ThemeSwitch from 'components/App/ThemeSwitch'\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tBreadcrumbs,\r\n\tIconButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tLink,\r\n\tMenuItem,\r\n\tBox,\r\n\tHidden,\r\n\tLinearProgress,\r\n} from '@material-ui/core'\r\n\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport {\r\n\tselectAccount,\r\n\tselectDashboardBreadcrumbs,\r\n\tselectInitialDataLoaded,\r\n} from 'selectors'\r\nimport { styles } from './styles'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\nconst RRLink = withReactRouterLink(Link)\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TopNav({ handleDrawerToggle, side, t }) {\r\n\tconst classes = useStyles()\r\n\tconst account = useSelector(selectAccount)\r\n\tconst loaded = useSelector(selectInitialDataLoaded)\r\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\r\n\tconst breadcrumbs = useSelector(selectDashboardBreadcrumbs)\r\n\tconst btnMenuLabel =\r\n\t\taccount.wallet.authType === 'demo'\r\n\t\t\t? t('DEMO_MODE')\r\n\t\t\t: account.email ||\r\n\t\t\t  formatAddress(account.wallet.address) ||\r\n\t\t\t  t('NOT_LOGGED')\r\n\r\n\treturn (\r\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\r\n\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tflexGrow='1'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t<Box pl={1}>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t<Box display='flex' flexGrow='1' pl={2}>\r\n\t\t\t\t\t\t\t<Breadcrumbs aria-label='breadcrumb'>\r\n\t\t\t\t\t\t\t\t{breadcrumbs.map(({ to, label }, index) =>\r\n\t\t\t\t\t\t\t\t\tto && index < breadcrumbs.length - 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t<RRLink key={`${index}-${to}`} to={to}>\r\n\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t</RRLink>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.breadcrumbElement }}\r\n\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-${label}`}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Breadcrumbs>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center' pr={1}>\r\n\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t<ThemeSwitch />\r\n\t\t\t\t\t\t<Jazzicon\r\n\t\t\t\t\t\t\tdiameter={30}\r\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Toolbar>\r\n\t\t\t<Box>{!loaded && <LinearProgress />}</Box>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n\r\nexport default Translate(TopNav)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport MUIDataTable from 'mui-datatables'\r\nimport {\r\n\t//  LinearProgress,\r\n\tBox,\r\n\tButton,\r\n} from '@material-ui/core'\r\nimport { t, selectTableState, selectTableStateSelectedRows } from 'selectors'\r\nimport {\r\n\tupdateTableState,\r\n\tupdateTableStateSelectedRows,\r\n\texecute,\r\n} from 'actions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst generalTableOptions = {\r\n\trowsPerPage: 5,\r\n\trowsPerPageOptions: [5, 10, 25, 50],\r\n\tsetTableProps: () => {\r\n\t\treturn {\r\n\t\t\tpadding: 'default',\r\n\t\t\tsize: 'small',\r\n\t\t\twidth: '100%',\r\n\t\t\talign: 'center',\r\n\t\t}\r\n\t},\r\n\ttextLabels: {\r\n\t\tbody: {\r\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\r\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\r\n\t\t\tcolumnHeaderTooltip: column =>\r\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\r\n\t\t\t\t\targs: [column.label || column],\r\n\t\t\t\t})}`,\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tnext: t('TABLE_NEXT'),\r\n\t\t\tprevious: t('TABLE_PREV'),\r\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\r\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tsearch: t('TABLE_SEARCH'),\r\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\r\n\t\t\tprint: t('TABLE_PRINT'),\r\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\r\n\t\t\tfilterTable: t('TABLE_FILTER'),\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tall: t('TABLE_FILTER_ALL'),\r\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\r\n\t\t\treset: t('TABLE_FILTER_RESET'),\r\n\t\t},\r\n\t\tviewColumns: {\r\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\r\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\r\n\t\t},\r\n\t\tselectedRows: {\r\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\r\n\t\t\tdelete: t('TABLE_DELETE'),\r\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\r\n\t\t},\r\n\t},\r\n\tcustomFilterDialogFooter: (_currentFilterList, applyNewFilters) => {\r\n\t\treturn (\r\n\t\t\t<div style={{ marginTop: '40px' }}>\r\n\t\t\t\t<Button variant='contained' color='secondary' onClick={applyNewFilters}>\r\n\t\t\t\t\t{t('APPLY_FILTERS')}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t},\r\n\tdownloadOptions: {\r\n\t\tfilterOptions: {\r\n\t\t\tuseDisplayedColumnsOnly: true,\r\n\t\t\tuseDisplayedRowsOnly: true,\r\n\t\t},\r\n\t},\r\n}\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction MUIDataTableEnhanced(props) {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tdata,\r\n\t\tcolumns,\r\n\t\toptions,\r\n\t\thandleRowSelectionChange,\r\n\t\t// loading,\r\n\t\ttableId,\r\n\t} = props\r\n\t// const classes = useStyles()\r\n\tconst { filterList, columnOrder, ...tableState } = useSelector(state =>\r\n\t\tselectTableState(state, tableId)\r\n\t)\r\n\r\n\tconst rowsSelected = useSelector(state =>\r\n\t\tselectTableStateSelectedRows(state, tableId)\r\n\t)\r\n\r\n\tconst columnsWithFilters = columns.map(({ options, ...col }, i) => {\r\n\t\treturn {\r\n\t\t\t...col,\r\n\t\t\t...{\r\n\t\t\t\toptions: {\r\n\t\t\t\t\t...options,\r\n\t\t\t\t\t...(filterList && filterList[i] && filterList[i].length\r\n\t\t\t\t\t\t? { filterList: filterList[i] }\r\n\t\t\t\t\t\t: {}),\r\n\t\t\t\t\t...(!!tableState.viewColumnsState &&\r\n\t\t\t\t\ttableState.viewColumnsState.hasOwnProperty(col.name)\r\n\t\t\t\t\t\t? { display: tableState.viewColumnsState[col.name] }\r\n\t\t\t\t\t\t: {}),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t{/* {loading && <LinearProgress className={classes.progress} />} */}\r\n\t\t\t<MUIDataTable\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcolumns={columnsWithFilters}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\t...generalTableOptions,\r\n\t\t\t\t\t...options,\r\n\t\t\t\t\televation: 0,\r\n\t\t\t\t\tvariant: 'outlined',\r\n\t\t\t\t\tconfirmFilters: true,\r\n\t\t\t\t\tsearch: !props.noSearch,\r\n\t\t\t\t\tdownload: !props.noDownload,\r\n\t\t\t\t\tprint: !props.noPrint,\r\n\t\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\r\n\t\t\t\t\tselectToolbarPlacement: props.toolbarEnabled ? 'above' : 'none',\r\n\t\t\t\t\tresponsive: 'vertical',\r\n\t\t\t\t\t...tableState,\r\n\t\t\t\t\trowsSelected,\r\n\t\t\t\t\tonTableChange: (action, newTableState) => {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t![\r\n\t\t\t\t\t\t\t\t'onFilterDialogOpen',\r\n\t\t\t\t\t\t\t\t'onFilterDialogClose',\r\n\t\t\t\t\t\t\t\t'propsUpdate',\r\n\t\t\t\t\t\t\t\t'filterChange',\r\n\t\t\t\t\t\t\t\t'rowSelectionChange',\r\n\t\t\t\t\t\t\t].includes(action)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateTableState(tableId, { ...newTableState, filterList })\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonFilterConfirm: filterList => {\r\n\t\t\t\t\t\texecute(updateTableState(tableId, { ...tableState, filterList }))\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonFilterChipClose: filterList => {\r\n\t\t\t\t\t\texecute(updateTableState(tableId, { ...tableState, filterList }))\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonRowSelectionChange: (\r\n\t\t\t\t\t\t_currentRowsSelected,\r\n\t\t\t\t\t\tallRowsSelected,\r\n\t\t\t\t\t\tselected\r\n\t\t\t\t\t) => {\r\n\t\t\t\t\t\texecute(updateTableStateSelectedRows(tableId, selected))\r\n\r\n\t\t\t\t\t\tif (handleRowSelectionChange) {\r\n\t\t\t\t\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\t\t\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\t\t\t\t\t\t\thandleRowSelectionChange({ selectedIndexes, selectedItemsIds })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonViewColumnsChange: (changedColumn, action) => {\r\n\t\t\t\t\t\tconst { viewColumnsState = {} } = tableState\r\n\t\t\t\t\t\tconst newVewColumns = { ...viewColumnsState }\r\n\t\t\t\t\t\tnewVewColumns[changedColumn] = action === 'add' ? true : false\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateTableState(tableId, {\r\n\t\t\t\t\t\t\t\t...tableState,\r\n\t\t\t\t\t\t\t\tviewColumnsState: newVewColumns,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMUIDataTableEnhanced.propTypes = {\r\n\ttableId: PropTypes.string.isRequired,\r\n\tdata: PropTypes.array.isRequired,\r\n\tcolumns: PropTypes.array.isRequired,\r\n\ttitle: PropTypes.string,\r\n\toptions: PropTypes.object,\r\n\thandleRowSelectionChange: PropTypes.func,\r\n}\r\n\r\nexport default MUIDataTableEnhanced\r\n","import React from 'react'\r\nimport { Tooltip } from '@material-ui/core'\r\nimport {\r\n\tDoneAllSharp as DoneAllIcon,\r\n\tWarningSharp as WarningIcon,\r\n\tHelpSharp as HelpIcon,\r\n\tHourglassFullSharp as HourglassFullIcon,\r\n\tMonetizationOnSharp as MonetizationOnIcon,\r\n\tPauseSharp as PauseIcon,\r\n} from '@material-ui/icons'\r\nimport { t } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor'\r\n\r\nconst IconTooltip = ({ children, name }) => (\r\n\t<Tooltip title={t(name, { toUpperCase: true })} aria-label={name}>\r\n\t\t{children}\r\n\t</Tooltip>\r\n)\r\n\r\nconst icon = {\r\n\txs: { fontSize: 10 },\r\n\tmd: { fontSize: 15 },\r\n\tls: { fontSize: 20 },\r\n}\r\n\r\nconst mapStatusIcons = (status = {}, size) => {\r\n\tconst { name = '', humanFriendlyName = '' } = status\r\n\tconst Wait = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<HourglassFullIcon style={icon[size]} color={'secondary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\tconst Done = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<DoneAllIcon style={icon[size]} color={'primary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\tconst Warning = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<WarningIcon style={icon[size]} color={'error'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\tconst Cash = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<MonetizationOnIcon style={icon[size]} color={'secondary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\r\n\tconst Pause = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<PauseIcon style={icon[size]} color={'secondary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\r\n\tif (humanFriendlyName === 'Closed' && name.toLowerCase() !== 'exhausted')\r\n\t\treturn Wait\r\n\tif (humanFriendlyName === 'Paused') return Pause\r\n\r\n\tswitch (name.toLowerCase()) {\r\n\t\tcase 'active':\r\n\t\tcase 'ready':\r\n\t\t\treturn Done\r\n\t\tcase 'pending':\r\n\t\tcase 'initializing':\r\n\t\tcase 'waiting':\r\n\t\t\treturn Wait\r\n\t\tcase 'offline':\r\n\t\tcase 'disconnected':\r\n\t\tcase 'unhealthy':\r\n\t\tcase 'invalid':\r\n\t\t\treturn Warning\r\n\t\tcase 'withdraw':\r\n\t\t\treturn Cash\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n\r\nconst mapHelpTooltips = (statusText, size, created) => {\r\n\tconst InfoReadyNoImpressions = (\r\n\t\t<Tooltip\r\n\t\t\ttitle={t('TOOLTIP_READY_NO_IMPRESSIONS', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670699-Reasons-my-ads-are-not-running'>\r\n\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t'',\r\n\t\t\t\t],\r\n\t\t\t})}\r\n\t\t\tinteractive\r\n\t\t>\r\n\t\t\t<HelpIcon style={icon[size]} color={'primary'} />\r\n\t\t</Tooltip>\r\n\t)\r\n\r\n\tswitch (statusText) {\r\n\t\tcase 'READY':\r\n\t\t\t// 15 min have passed since created\r\n\t\t\treturn Date.now() - 1000 * 60 * 15 > created\r\n\t\t\t\t? InfoReadyNoImpressions\r\n\t\t\t\t: null\r\n\t\tdefault:\r\n\t\t\treturn null\r\n\t}\r\n}\r\n\r\nexport { mapStatusIcons, mapHelpTooltips }\r\n","import React from 'react'\r\nimport { Typography, Slider, Box } from '@material-ui/core'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\n\r\nconst getSliderStep = (min, max, steps, precision = 2) => {\r\n\tconst diff = max - min\r\n\tconst step = diff / steps\r\n\tconst fixed = parseFloat(step.toFixed(precision))\r\n\r\n\treturn fixed\r\n}\r\n\r\nexport const sliderFilterOptions = ({\r\n\tinitial = [],\r\n\tfilterTitle = '',\r\n\tstepsCount = 20,\r\n\tstepsPrecision = 2,\r\n}) => {\r\n\tconst min = initial[0] || 0\r\n\tconst max = initial[1] || 100\r\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\r\n\treturn {\r\n\t\tfilter: true,\r\n\t\tdisplay: 'true',\r\n\t\tfilterType: 'custom',\r\n\t\tcustomFilterListOptions: {\r\n\t\t\trender: v =>\r\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\r\n\t\t\tupdate: (filterList, filterPos, index) => {\r\n\t\t\t\tfilterList[index] = []\r\n\t\t\t\treturn filterList\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tfilterOptions: {\r\n\t\t\tnames: [],\r\n\t\t\tlogic: (rowNumber, filters) => {\r\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\r\n\t\t\t\tif (filters.length > 0) {\r\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\t\t\tdisplay: (filterList, onChange, index, column) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\r\n\t\t\t\t\t\t\t{filterTitle}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\r\n\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\tmin={min}\r\n\t\t\t\t\t\t\t\tmax={max}\r\n\t\t\t\t\t\t\t\tmarks={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: min,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\r\n\t\t\t\t\t\t\t\tstep={step}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\r\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\r\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport function useTableData({ selector, selectorArgs, getColumns }) {\r\n\tconst [data, setData] = useState([])\r\n\tconst [columns, setColumns] = useState([])\r\n\r\n\tconst selectedData = useSelector(state => {\r\n\t\treturn selector && typeof selector === 'function'\r\n\t\t\t? selector(state, selectorArgs)\r\n\t\t\t: []\r\n\t})\r\n\r\n\tconst reloadData = useCallback(() => {\r\n\t\tsetData(selectedData)\r\n\t\tsetColumns(getColumns())\r\n\t}, [getColumns, selectedData])\r\n\r\n\tuseEffect(() => {\r\n\t\treloadData()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [selectedData, selector, selectorArgs])\r\n\r\n\treturn { data, columns, reloadData }\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tIconButton,\r\n\tTooltip,\r\n\tBox,\r\n\tButton,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\r\nimport { t, selectSpinnerById } from 'selectors'\r\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport function ReloadData({ handleReload }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip arrow title={t('RELOAD_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleReload}>\r\n\t\t\t\t\t<Refresh />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip arrow title={t('VIEW_ALL_RECEIPTS_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\r\n\t\t\t\t\t<Receipt />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\r\n\tconst classes = useStyles()\r\n\tconst receiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip arrow title={t('RECEIPTS_PRINT_ALL')}>\r\n\t\t\t\t<Box ml={2} mr={2}>\r\n\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{receiptsSpinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { Fragment, useCallback, useEffect, useState } from 'react'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility, Receipt } from '@material-ui/icons'\r\nimport Media from 'components/common/media'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tmapStatusIcons,\r\n\tmapHelpTooltips,\r\n} from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectCampaignsTableData,\r\n\tselectMainToken,\r\n\tselectCampaignsMaxImpressions,\r\n\tselectCampaignsMaxClicks,\r\n\tselectCampaignsMaxDeposit,\r\n\tselectInitialDataLoadedByData,\r\n\tselectCampaignDisplayStatus,\r\n} from 'selectors'\r\nimport { utils } from 'ethers'\r\nimport { execute, handlePrintSelectedReceiptsAdvertiser } from 'actions'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString, formatDate } from 'helpers/formatters'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { useTableData } from './tableHooks'\r\nimport { PrintAllReceipts } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ symbol, maxImpressions, maxDeposit, maxClicks }) => [\r\n\t{\r\n\t\tname: 'id',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'receiptAvailable',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tdownload: false,\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRMedia\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'status',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tfilterOptions: {\r\n\t\t\t\tnames: [\r\n\t\t\t\t\t'ACTIVE',\r\n\t\t\t\t\t'READY',\r\n\t\t\t\t\t'SCHEDULED',\r\n\t\t\t\t\t'CLOSED',\r\n\t\t\t\t\t'COMPLETED',\r\n\t\t\t\t\t'PAUSED',\r\n\t\t\t\t],\r\n\t\t\t\tlogic: ({ status, impressions }, filters) => {\r\n\t\t\t\t\tif (filters.length)\r\n\t\t\t\t\t\treturn !filters.includes(\r\n\t\t\t\t\t\t\tselectCampaignDisplayStatus(status, impressions)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\treturn false\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcustomBodyRender: ({ status, impressions, created, id }) => {\r\n\t\t\t\tconst statusText = selectCampaignDisplayStatus(status, impressions)\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t\t{t(statusText)} {mapStatusIcons(status, 'xs')}{' '}\r\n\t\t\t\t\t\t{mapHelpTooltips(statusText, 'xs', created)}\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t// TODO: Sorting issue\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'depositAmount',\r\n\t\tlabel: t('PROP_DEPOSIT'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: depositAmount => (\r\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxDeposit],\r\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'fundsDistributedRatio',\r\n\t\tlabel: t('PROP_SERVED'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\r\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${(ctr || 0).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'minPerImpression',\r\n\t\tlabel: t('CPM_MIN'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: minPerImpression =>\r\n\t\t\t\t`${minPerImpression.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t// {\r\n\t// \tname: 'maxPerImpression',\r\n\t// \tlabel: t('CPM_MAX'),\r\n\t// \toptions: {\r\n\t// \t\tfilter: false,\r\n\t// \t\tsort: true,\r\n\t// \t\tcustomBodyRender: maxPerImpression =>\r\n\t// \t\t\t`${maxPerImpression.toFixed(2)} ${symbol}`,\r\n\t// \t},\r\n\t// },\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'activeFrom',\r\n\t\tlabel: t('PROP_STARTS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'withdrawPeriodStart',\r\n\t\tlabel: t('PROP_ENDS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\r\n\t\t\t\tformatDateTime(withdrawPeriodStart),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, receiptReady, to, toReceipt }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\treceiptReady\r\n\t\t\t\t\t\t\t\t? t('RECEIPT_VIEW')\r\n\t\t\t\t\t\t\t\t: 'Report not available until the campaign is completed'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* SPAN needed to enable tooltip on hover of disabled element\r\n\t\t\t\t\t\t https://material-ui.com/components/tooltips/#disabled-elements\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<RRIconButton\r\n\t\t\t\t\t\t\t\tto={toReceipt}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\taria-label='receip'\r\n\t\t\t\t\t\t\t\tdisabled={!receiptReady}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Receipt color={receiptReady ? 'primary' : 'disabled'} />\r\n\t\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0],\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2],\r\n\t\t\ti.data[3].humanFriendlyName,\r\n\t\t\t`${i.data[4]} ${symbol}`,\r\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)} %`,\r\n\t\t\ti.data[6],\r\n\t\t\ti.data[7],\r\n\t\t\ti.data[8],\r\n\t\t\tformatDateTime(i.data[9]),\r\n\t\t\tformatDateTime(i.data[10]),\r\n\t\t\tformatDateTime(i.data[11]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ decimals, symbol }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\r\n\tcustomToolbarSelect: (selectedRows, displayData, _setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst selectedItems = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[0])\r\n\t\treturn (\r\n\t\t\t<PrintAllReceipts\r\n\t\t\t\thandlePrintAllReceipts={() =>\r\n\t\t\t\t\texecute(handlePrintSelectedReceiptsAdvertiser(selectedItems))\r\n\t\t\t\t}\r\n\t\t\t\tdisabled={selectedItems.length === 0}\r\n\t\t\t/>\r\n\t\t)\r\n\t},\r\n})\r\n\r\nfunction CampaignsTable(props) {\r\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\r\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\r\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst campaignsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'campaigns')\r\n\t)\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(() => {\r\n\t\treturn () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxDeposit,\r\n\t\t\t})\r\n\t}, [decimals, maxClicks, maxDeposit, maxImpressions, symbol])\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectCampaignsTableData,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions({ decimals, symbol }))\r\n\t}, [decimals, symbol])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\t{...props}\r\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable\r\n\t\t\ttoolbarEnabled\r\n\t\t\tloading={!campaignsLoaded}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default CampaignsTable\r\n","import React from 'react'\r\nimport { Box, Chip } from '@material-ui/core'\r\nimport { Error as ErrorIcon } from '@material-ui/icons'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\nconst getDirtyValidationErrors = (validations = {}) => {\r\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\r\n\t\tconst err = validations[key]\r\n\t\tif (err.dirty) {\r\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\r\n\t\t}\r\n\t\treturn dirtyErrs\r\n\t}, [])\r\n\r\n\treturn errors\r\n}\r\n\r\nexport const styles = theme => {\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\terrChip: {\r\n\t\t\tcolor: errColor,\r\n\t\t\tborderColor: errColor,\r\n\t\t\t'& svg': {\r\n\t\t\t\tcolor: 'inherit',\r\n\t\t\t},\r\n\t\t\tmargin: theme.spacing(0.5),\r\n\t\t\tbackgroundColor: theme.palette.lightGrey.main,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const DirtyErrors = ({\r\n\tvalidations,\r\n\tchipsProps = {},\r\n\tboxProps = {},\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\r\n\treturn (\r\n\t\t!!dirtyErrors.length && (\r\n\t\t\t<Box bgcolor='error.main' p={0.5} {...boxProps}>\r\n\t\t\t\t{dirtyErrors.map(err => (\r\n\t\t\t\t\t<Chip\r\n\t\t\t\t\t\tkey={err.field}\r\n\t\t\t\t\t\tclasses={{ root: classes.errChip }}\r\n\t\t\t\t\t\ticon={<ErrorIcon />}\r\n\t\t\t\t\t\tvariant='default'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t{...chipsProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { CircularProgress, Fab } from '@material-ui/core'\r\nimport { Check, Save } from '@material-ui/icons'\r\nimport clsx from 'clsx'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: theme.palette.success.main,\r\n\t\tcolor: theme.palette.success.contrastText,\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: theme.palette.success.dark,\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: -5,\r\n\t\tleft: -5,\r\n\t\tzIndex: 1,\r\n\t\tcolor: theme.palette.grey.main,\r\n\t},\r\n\t'@keyframes pulse': {\r\n\t\t'0%': {\r\n\t\t\topacity: 1,\r\n\t\t\ttransform: 'scale(1)',\r\n\t\t},\r\n\t\t'50%': {\r\n\t\t\topacity: 0,\r\n\t\t\ttransform: 'scale(1.420)',\r\n\t\t},\r\n\t\t'100%': {\r\n\t\t\topacity: 0,\r\n\t\t\ttransform: 'scale(1.420)',\r\n\t\t},\r\n\t},\r\n\tpulse: {\r\n\t\toverflow: 'visible',\r\n\t\tposition: 'relative',\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tbackgroundColor: 'inherit',\r\n\t\t\tborderRadius: 'inherit',\r\n\t\t\ttransition: 'opacity .3s, transform .3s',\r\n\t\t\tanimation: '$pulse 1.69s cubic-bezier(0.23, 0, 0.420, 1) infinite',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const SaveBtn = ({\r\n\tspinner,\r\n\tsuccess,\r\n\tdirtyProps = [],\r\n\tvalidations,\r\n\tsave,\r\n\tdisabled,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\t// const hasErrors = !!Object.keys(validations).length\r\n\tconst isDisabled = disabled || spinner || !dirtyProps.length\r\n\treturn (\r\n\t\t!!dirtyProps.length && (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tclassName={clsx(classes.wrapper, {\r\n\t\t\t\t\t\t[classes.pulse]: !isDisabled,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tsize='medium'\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\tonClick={save}\r\n\t\t\t\t\tdisabled={isDisabled}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t{success ? <Check /> : <Save />}\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\tsize={58}\r\n\t\t\t\t\t\tclassName={classes.fabProgress}\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { Fragment, forwardRef } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Prompt } from 'react-router'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tChip,\r\n\tInputAdornment,\r\n\tIconButton,\r\n\tTooltip,\r\n\tCard,\r\n\tCardMedia,\r\n\tTextField,\r\n\tBox,\r\n\tPaper,\r\n\tCollapse,\r\n\tButton,\r\n} from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport {\r\n\tInfo,\r\n\tEdit,\r\n\tUndoOutlined,\r\n\tOpenInNew,\r\n\tArchiveSharp as ArchiveIcon,\r\n} from '@material-ui/icons'\r\nimport Media from 'components/common/media'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { DirtyErrors } from 'components/common/dirtyErrors'\r\nimport { t, selectAuthType } from 'selectors'\r\nimport { execute, confirmAction, archiveItem } from 'actions'\r\nimport { styles } from './styles'\r\nimport { SaveBtn } from './SaveBtn'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const DirtyProps = ({ dirtyProps = [], returnPropToInitialState }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Prompt when={!!dirtyProps.length} message={t('UNSAVED_CHANGES_ALERT')} />\r\n\t\t\t{!!dirtyProps.length && (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexGrow={1}\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='flex-start'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\tmr={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Info color='inherit' className={classes.changeChip} />\r\n\t\t\t\t\t<span className={classes.changeChip}>{t('UNSAVED_CHANGES')}:</span>\r\n\t\t\t\t\t{dirtyProps.map(p => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tvariant='default'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\tkey={p.name || p}\r\n\t\t\t\t\t\t\t\tlabel={t(p.name || p, { isProp: true })}\r\n\t\t\t\t\t\t\t\tonDelete={() => {\r\n\t\t\t\t\t\t\t\t\treturnPropToInitialState(p)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdeleteIcon={<UndoOutlined />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport const ChangeControls = hookProps => {\r\n\tconst classes = useStyles()\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst { dirtyProps, spinner, validations } = hookProps\r\n\r\n\treturn (\r\n\t\t<div className={classes.changeControls}>\r\n\t\t\t<Collapse timeout={69} in={!!dirtyProps.length}>\r\n\t\t\t\t<Box className={classes.changeControlsPaper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tbgcolor='primary.main'\r\n\t\t\t\t\t\tcolor='primary.contrastText'\r\n\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DirtyProps {...hookProps} />\r\n\t\t\t\t\t\t<SaveBtn {...hookProps} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<DirtyErrors\r\n\t\t\t\t\t\tvalidations={validations}\r\n\t\t\t\t\t\tchipsProps={{ color: 'default', variant: 'default' }}\r\n\t\t\t\t\t\tboxProps={{ mt: 1 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{spinner &&\r\n\t\t\t\t\t(dirtyProps.includes('audienceInput') ||\r\n\t\t\t\t\t\tdirtyProps.includes('pricingBoundsCPMUserInput')) && (\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t{WALLET_ACTIONS_MSGS[authType || 'default'].map((msg, i) => (\r\n\t\t\t\t\t\t\t\t<Box mt={1} key={msg.message + i}>\r\n\t\t\t\t\t\t\t\t\t<Alert key={i} severity='info' variant='filled'>\r\n\t\t\t\t\t\t\t\t\t\t{t(msg.message)}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t</Collapse>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const ItemTabsContainer = ({ children, noBackground }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Paper\r\n\t\t\tclassName={classes.itemTabsContainer}\r\n\t\t\tstyle={noBackground ? { background: 0 } : {}}\r\n\t\t\tvariant='outlined'\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport const ItemTabsBar = ({ children }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Paper className={classes.itemTabsBar} variant='outlined'>\r\n\t\t\t{children}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport const ItemSpecProp = ({\r\n\tprop,\r\n\tlabel,\r\n\tvalue = '',\r\n\thelperText,\r\n\tInputProps,\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid={prop}\r\n\t\t\tlabel={label}\r\n\t\t\ttype='text'\r\n\t\t\tmargin='dense'\r\n\t\t\tname={prop}\r\n\t\t\tvalue={value || ''}\r\n\t\t\t// disabled\r\n\t\t\treadOnly\r\n\t\t\thelperText={helperText}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={InputProps}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemTitle = ({\r\n\ttitle,\r\n\terrTitle,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst active = !!activeFields.title\r\n\tconst showError = !!errTitle && errTitle.dirty\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-title'\r\n\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='title'\r\n\t\t\tvalue={title || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('title', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError ? t(errTitle.errMsg, { args: errTitle.errMsgArgs }) : ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('title')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('title', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemDescription = ({\r\n\tdescription,\r\n\terrDescription,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst active = !!activeFields.description\r\n\tconst showError = !!errDescription && errDescription.dirty\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-description'\r\n\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='description'\r\n\t\t\tvalue={description || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('description', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tmaxLength={1024}\r\n\t\t\tmultiline\r\n\t\t\trows={2}\r\n\t\t\tdisabled={!activeFields.description}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError\r\n\t\t\t\t\t? t(errDescription.errMsg, {\r\n\t\t\t\t\t\t\targs: errDescription.errMsgArgs,\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('description')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('description', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemAdType = ({ type }) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-type'\r\n\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='type'\r\n\t\t\tvalue={type || ''}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst OpenInNewIconBtn = ({ forwardedRef, ...props }) => {\r\n\treturn (\r\n\t\t<IconButton {...props}>\r\n\t\t\t<OpenInNew />\r\n\t\t</IconButton>\r\n\t)\r\n}\r\n\r\nconst IconButtonWithRef = forwardRef((props, ref) => (\r\n\t<OpenInNewIconBtn {...props} forwardedRef={ref} />\r\n))\r\n\r\nexport const ItemTargetURL = ({ targetUrl = '', label }) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-targetUrl'\r\n\t\t\tlabel={t(label || 'PROP_TARGETURL')}\r\n\t\t\ttype='text'\r\n\t\t\tname='targetUrl'\r\n\t\t\tvalue={targetUrl}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\thref={targetUrl}\r\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemFallbackMediaURL = ({ targetUrl = '' }) => {\r\n\t// TODO: need to take it from fallbackUnit\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-targetUrl'\r\n\t\t\tlabel={t('PROP_FALLBACKADURL')}\r\n\t\t\ttype='text'\r\n\t\t\tname='targetUrl'\r\n\t\t\tvalue={targetUrl}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\thref={targetUrl}\r\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const MediaCard = ({ mediaUrl = '', mediaMime = '', label = '' }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false} variant='outlined'>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t\t<Media\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\talt={label || t('MEDIA')}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\tallowVideo\r\n\t\t\t\t/>\r\n\t\t\t\t{label && (\r\n\t\t\t\t\t<Chip size='small' className={classes.mediaPropChip} label={label} />\r\n\t\t\t\t)}\r\n\t\t\t</CardMedia>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nexport const ItemWebsite = ({\r\n\titem = {},\r\n\tinitialItemState = {},\r\n\tvalidations,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst { website } = item\r\n\tconst active = !!activeFields.website\r\n\tconst { website: error } = validations\r\n\tconst showError = !!error && error.dirty\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-website'\r\n\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\ttype='text'\r\n\t\t\tname='website'\r\n\t\t\tvalue={website || ' '}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('website', (ev.target.value || '').trim())\r\n\t\t\t}}\r\n\t\t\tdisabled={!!initialItemState.website || !active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError ? (\r\n\t\t\t\t\tt(error.errMsg, { args: error.errMsgArgs })\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{activeFields.website && (\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: !initialItemState.website && (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('website')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('website', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ArchiveItemBtn = ({\r\n\titemId,\r\n\titemType = '',\r\n\ttitle,\r\n\tisIconBtn,\r\n\tonSuccess,\r\n\tgoToTableOnSuccess,\r\n\tfullWidth,\r\n}) => {\r\n\tconst labelArgs = itemType.toUpperCase()\r\n\r\n\tconst onClick = () => {\r\n\t\texecute(\r\n\t\t\tconfirmAction(\r\n\t\t\t\t() =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tarchiveItem({ itemId, itemType, onSuccess, goToTableOnSuccess })\r\n\t\t\t\t\t),\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\tconfirmLabel: t(`ARCHIVE_CONFIRM_LABEL`, {\r\n\t\t\t\t\t\targs: [labelArgs],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\ttitle: t(`ARCHIVE_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\targs: [labelArgs, title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttext: t(`ARCHIVE_CONFIRM_INFO`, {\r\n\t\t\t\t\t\targs: [labelArgs, title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\ttitle={t('LABEL_ARCHIVE', { args: [labelArgs] })}\r\n\t\t\taria-label='archive'\r\n\t\t>\r\n\t\t\t{isIconBtn ? (\r\n\t\t\t\t<IconButton onClick={onClick} aria-label={`archive-${itemId}`}>\r\n\t\t\t\t\t<ArchiveIcon color='action' />\r\n\t\t\t\t</IconButton>\r\n\t\t\t) : (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tonClick={onClick}\r\n\t\t\t\t\taria-label={`archive-${itemId}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('ARCHIVE')}\r\n\t\t\t\t</Button>\r\n\t\t\t)}\r\n\t\t</Tooltip>\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tbackgroundColor: theme.palette.grey.main,\r\n\t\t\twidth: '100%',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing / 2,\r\n\t\t\tmarginTop: spacing / 2,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t\tmediaPropChip: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: spacing,\r\n\t\t\tleft: spacing,\r\n\t\t},\r\n\t\tchangeControls: {\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tchangeControlsPaper: {\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tmarginBottom: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\titemTabsBar: {\r\n\t\t\t// borderBottom: 0,\r\n\t\t},\r\n\t\titemTabsContainer: {\r\n\t\t\tborderTop: 0,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tselectItemByTypeAndId,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { execute } from 'actions'\r\nimport { Base } from 'adex-models'\r\n\r\nexport function useItem({ itemType, match, objModel, validateAndUpdateFn }) {\r\n\tconst [item, setItem] = useState({})\r\n\tconst [itemPlain, seItemPlain] = useState({})\r\n\tconst [initialItemState, setInitialItemState] = useState({})\r\n\tconst [activeFields, setFields] = useState({})\r\n\tconst [dirtyProps, setDirtyProps] = useState([])\r\n\tconst [validateId, setValidateId] = useState('update-default')\r\n\tconst [validateAfterReset, setValidateAfterReset] = useState(0)\r\n\r\n\tconst storeItem = useSelector(state =>\r\n\t\tselectItemByTypeAndId(state, itemType, match.params.itemId)\r\n\t)\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!Object.keys(activeFields).length && !dirtyProps.length) {\r\n\t\t\tconst initial = new objModel(storeItem)\r\n\t\t\tsetItem(initial)\r\n\t\t\tseItemPlain(JSON.parse(JSON.stringify(storeItem)))\r\n\t\t\tsetInitialItemState(initial)\r\n\t\t\tsetValidateId(`update-${item.id}`)\r\n\t\t}\r\n\t}, [item.id, objModel, storeItem, dirtyProps, activeFields])\r\n\r\n\tconst setActiveFields = useCallback(\r\n\t\t(field, value) => {\r\n\t\t\tsetFields({ ...activeFields, [field]: value })\r\n\t\t},\r\n\t\t[activeFields]\r\n\t)\r\n\r\n\tconst onUpdateSuccess = () => {\r\n\t\tsetDirtyProps([])\r\n\t\tsetFields({})\r\n\t}\r\n\r\n\tconst validate = useCallback(\r\n\t\tdirty =>\r\n\t\t\texecute(\r\n\t\t\t\tvalidateAndUpdateFn({ item, itemPlain, validateId, dirty, dirtyProps })\r\n\t\t\t),\r\n\t\t[dirtyProps, item, itemPlain, validateAndUpdateFn, validateId]\r\n\t)\r\n\r\n\tconst save = useCallback(async () => {\r\n\t\texecute(\r\n\t\t\tvalidateAndUpdateFn({\r\n\t\t\t\titem,\r\n\t\t\t\titemPlain,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tupdate: true,\r\n\t\t\t\tdirtyProps,\r\n\t\t\t\tonUpdateSuccess,\r\n\t\t\t})\r\n\t\t)\r\n\t}, [dirtyProps, item, itemPlain, validateAndUpdateFn, validateId])\r\n\r\n\tconst returnPropToInitialState = useCallback(\r\n\t\tprop => {\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tconst dirtyIndex = dirtyProps.findIndex(\r\n\t\t\t\tp => (p.name || p) === (prop.name || prop)\r\n\t\t\t)\r\n\r\n\t\t\tif (dirtyIndex > -1) {\r\n\t\t\t\tconst newDirtyProps = [...dirtyProps]\r\n\t\t\t\tconst dpValue = newDirtyProps[dirtyIndex]\r\n\t\t\t\tnewDirtyProps.splice(dirtyIndex, 1)\r\n\r\n\t\t\t\tif (dpValue.fields) {\r\n\t\t\t\t\tdpValue.fields.forEach(\r\n\t\t\t\t\t\tprop => (newItem[prop] = initialItemState[prop])\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewItem[dpValue] = initialItemState[prop]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetItem(newItem)\r\n\t\t\t\tsetDirtyProps(newDirtyProps)\r\n\t\t\t\tsetActiveFields(prop.name || prop, false)\r\n\t\t\t\tsetValidateAfterReset(true)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[dirtyProps, initialItemState, item, objModel, setActiveFields]\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (validateAfterReset) {\r\n\t\t\tvalidate(false)\r\n\t\t}\r\n\t\tsetValidateAfterReset(false)\r\n\t}, [validateAfterReset, validate])\r\n\r\n\tconst updateField = useCallback(\r\n\t\t(field, value, dpValue) => {\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[field] = value\r\n\r\n\t\t\tsetItem(newItem)\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (!dp.some(p => (p.name || p) === (dpValue ? dpValue.name : field))) {\r\n\t\t\t\tdp.push(dpValue || field)\r\n\t\t\t}\r\n\t\t\tsetDirtyProps(dp)\r\n\t\t},\r\n\t\t[dirtyProps, item, objModel]\r\n\t)\r\n\r\n\tconst updateMultipleFields = useCallback(\r\n\t\t(newValues, dirtyFields = []) => {\r\n\t\t\tconst updated = Base.updateObject({ item, newValues, objModel })\r\n\r\n\t\t\tsetItem(new objModel(updated))\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\t\t\tdirtyFields.forEach(field => {\r\n\t\t\t\tif (!dp.some(p => (p.name || p) === (field.name || field))) {\r\n\t\t\t\t\tdp.push(field)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tsetDirtyProps(dp)\r\n\t\t},\r\n\t\t[dirtyProps, item, objModel]\r\n\t)\r\n\r\n\treturn {\r\n\t\titem,\r\n\t\titemPlain,\r\n\t\tinitialItemState,\r\n\t\tactiveFields,\r\n\t\tsetActiveFields,\r\n\t\tdirtyProps,\r\n\t\treturnPropToInitialState,\r\n\t\tvalidate,\r\n\t\tvalidateId,\r\n\t\tvalidations,\r\n\t\tupdateField,\r\n\t\tupdateMultipleFields,\r\n\t\tspinner,\r\n\t\tsave,\r\n\t}\r\n}\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tStepper as StepperMUI,\r\n\tMobileStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tPaper,\r\n\tBox,\r\n\tCircularProgress,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { styles } from './styles'\r\nimport { DirtyErrors } from 'components/common/dirtyErrors'\r\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ steps, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<Box\r\n\t\t\t\tflex\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Typography align='center'>\r\n\t\t\t\t\t\t\t{(steps[currentPage] || {}).title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\t\tsteps={steps.length}\r\n\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\tvariant='text'\r\n\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t\t></MobileStepper>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{steps.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nconst MaterialStepper = props => {\r\n\tconst {\r\n\t\tinitialPage = 0,\r\n\t\tsteps = [],\r\n\t\tcloseDialog,\r\n\t\t// ...rest\r\n\t} = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\r\n\tconst [isBack, setIsBack] = useState(false)\r\n\tconst canReverse = steps.length > currentPage && currentPage > 0\r\n\r\n\tconst page = steps[currentPage] || {}\r\n\tconst pageProps = page.props || {}\r\n\tconst { validateId } = pageProps\r\n\tconst Comp = page.component || null\r\n\tconst {\r\n\t\tvalidationFn,\r\n\t\tonValid,\r\n\t\tstepsId,\r\n\t\tcompleteFn,\r\n\t\tcompleteBtnTitle = '',\r\n\t\tnextBtnTitle = '',\r\n\t} = page\r\n\r\n\tconst validations = useSelector(state =>\r\n\t\tselectValidationsById(state, validateId)\r\n\t)\r\n\r\n\tconst validationSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, validateId)\r\n\t)\r\n\r\n\tconst stepsSpinner = useSelector(state => selectSpinnerById(state, stepsId))\r\n\r\n\tconst spinner = validationSpinner || stepsSpinner\r\n\r\n\tconst isValidPage = useCallback(() => {\r\n\t\treturn !Object.keys(validations || {}).length\r\n\t}, [validations])\r\n\r\n\t// const canAdvance = isValidPage() && !page.completeBtn\r\n\r\n\tconst goToPage = useCallback(\r\n\t\tasync nextStep => {\r\n\t\t\tconst canAdvance = nextStep > currentPage\r\n\t\t\tconst canGoBack = nextStep < currentPage\r\n\r\n\t\t\tif (canAdvance || canGoBack) {\r\n\t\t\t\tsetCurrentPage(nextStep)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[currentPage]\r\n\t)\r\n\r\n\tconst goToPreviousPage = useCallback(async () => {\r\n\t\tif (canReverse) {\r\n\t\t\tgoToPage(currentPage - 1)\r\n\t\t\tsetIsBack(true)\r\n\t\t}\r\n\t}, [canReverse, currentPage, goToPage])\r\n\r\n\tconst goToNextPage = useCallback(async () => {\r\n\t\tsetIsBack(false)\r\n\t\tif (validationFn) {\r\n\t\t\tvalidationFn({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\r\n\t\t\t})\r\n\t\t} else if (isValidPage()) {\r\n\t\t\tgoToPage(currentPage + 1)\r\n\t\t}\r\n\t}, [\r\n\t\tvalidationFn,\r\n\t\tisValidPage,\r\n\t\tstepsId,\r\n\t\tvalidateId,\r\n\t\tonValid,\r\n\t\tgoToPage,\r\n\t\tcurrentPage,\r\n\t])\r\n\r\n\tconst handleComplete = useCallback(async () => {\r\n\t\tawait completeFn({\r\n\t\t\tstepsId,\r\n\t\t\tvalidateId,\r\n\t\t\tonValid: () => typeof closeDialog === 'function' && closeDialog(),\r\n\t\t})\r\n\t}, [closeDialog, completeFn, stepsId, validateId])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isBack && validationFn) {\r\n\t\t\tvalidationFn({ stepsId, validateId, dirty: false })\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [currentPage, validationFn, stepsId, validateId])\r\n\r\n\tconst onKeyPressed = useCallback(\r\n\t\tasync ev => {\r\n\t\t\tif (ev.key === 'Enter') {\r\n\t\t\t\tev.preventDefault()\r\n\t\t\t\tgoToNextPage()\r\n\t\t\t}\r\n\t\t},\r\n\t\t[goToNextPage]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={classes.stepperWrapper}\r\n\t\t\tonKeyPress={onKeyPressed}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='space-between'\r\n\t\t>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\televation={0}\r\n\t\t\t\t>\r\n\t\t\t\t\t<StepperNav\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tsteps={steps}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\tgoToPage={goToPage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t}}\r\n\t\t\t\televation={0}\r\n\t\t\t>\r\n\t\t\t\t{!!Comp && <Comp {...pageProps} />}\r\n\t\t\t</Paper>\r\n\r\n\t\t\t<DirtyErrors validations={validations} />\r\n\r\n\t\t\t<Box mt={1}>\r\n\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t{canReverse && (\r\n\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t{typeof page.cancelFunction === 'function' && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\ttypeof closeDialog === 'function' && closeDialog()\r\n\t\t\t\t\t\t\t\tpage.cancelFunction(stepsId)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CANCEL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t{typeof completeFn === 'function' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={handleComplete}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(completeBtnTitle || 'DO_IT_NOW')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(nextBtnTitle || 'CONTINUE')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{spinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMaterialStepper.propTypes = {\r\n\tsteps: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default MaterialStepper\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcolor: 'purple',\r\n\t\t\t'&$active': {\r\n\t\t\t\tcolor: 'green',\r\n\t\t\t},\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: 'yellow',\r\n\t\t},\r\n\t\tstepperWrapper: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t},\r\n\t\tpagePaper: {\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\theight: 0,\r\n\t\t\tpadding: spacing,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '86%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\ttextAlign: 'left',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '14%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepper: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { forwardRef, useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport { t, selectLocationQuery } from 'selectors'\r\n\r\nfunction FormSteps({ cancelFunction, stepsId, steps, closeDialog, ...rest }) {\r\n\tconst [stepperSteps, setSteps] = useState([])\r\n\tconst { step = 0 } = useSelector(selectLocationQuery)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst updatedSteps = steps.map((s, index) => ({\r\n\t\t\t...s,\r\n\t\t\tstepsId,\r\n\t\t\ttitle: t(s.title),\r\n\t\t\tcancelFunction,\r\n\t\t\tprops: { ...rest, stepsId, validateId: stepsId + '-' + index },\r\n\t\t}))\r\n\r\n\t\tsetSteps(updatedSteps)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [stepsId])\r\n\r\n\treturn (\r\n\t\t<MaterialStepper\r\n\t\t\tinitialPage={step}\r\n\t\t\tsteps={stepperSteps}\r\n\t\t\tcloseDialog={closeDialog}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tsteps: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n\t<FormSteps {...props} forwardedRef={ref} />\r\n))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\theight: `calc(100vh - ${spacing}px)`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${spacing}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: theme.spacing(2),\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tpadding: 0,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: spacing,\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t\t'& svg': {\r\n\t\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\t},\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tmarginBottom: 0,\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: 'auto',\r\n\t\t\t\tleft: 'auto',\r\n\t\t\t\tbottom: spacing,\r\n\t\t\t\tright: spacing,\r\n\t\t\t},\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontentStickyTop: {\r\n\t\t\tmarginBottom: '2rem',\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t},\r\n\t\tfullContentMessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { t } from 'selectors'\r\nimport { selectLocation } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction='up' ref={ref} {...props} />\r\n})\r\n\r\nconst eventMap = location => ({\r\n\tNEW_UNIT: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'add_unit',\r\n\t\tlabel: `units${location}`,\r\n\t},\r\n\tNEW_CAMPAIGN: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'add_campaign',\r\n\t\tlabel: `campaigns${location}`,\r\n\t},\r\n\tNEW_AUDIENCE: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'save_audience',\r\n\t\tlabel: `audiences${location}`,\r\n\t},\r\n\tNEW_CAMPAIGN_FROM_AUDIENCE: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'add_campaign',\r\n\t\tlabel: `audiences${location}`,\r\n\t},\r\n\tNEW_SLOT: {\r\n\t\taction: 'publisher',\r\n\t\tcategory: 'add_slot',\r\n\t\tlabel: `slots${location}`,\r\n\t},\r\n\tNEW_WEBSITE: {\r\n\t\taction: 'publisher',\r\n\t\tcategory: 'add_website',\r\n\t\tlabel: `websites${location}`,\r\n\t},\r\n\tACCOUNT_WITHDRAW_FROM_IDENTITY_BTN: {\r\n\t\taction: 'account',\r\n\t\tcategory: 'withdraw',\r\n\t\tlabel: `account`,\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function WithDialogHoc(Decorated) {\r\n\tfunction WithDialog(props) {\r\n\t\tconst {\r\n\t\t\tdisableBackdropClick = false,\r\n\t\t\tforwardedRef,\r\n\t\t\ticonButton,\r\n\t\t\ttextButton,\r\n\t\t\tfabButton,\r\n\t\t\tvariant,\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tbtnLabelArgs,\r\n\t\t\tbtnLabel,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tdialogActions,\r\n\t\t\tonClick,\r\n\t\t\tfullWidth,\r\n\t\t\tonBeforeOpen,\r\n\t\t\t...rest\r\n\t\t} = props\r\n\r\n\t\tconst btnProps = {\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tvariant,\r\n\t\t}\r\n\r\n\t\tconst classes = useStyles()\r\n\t\tconst [open, setOpen] = useState(false)\r\n\t\tconst location = useSelector(selectLocation)\r\n\r\n\t\tconst handleToggle = async () => {\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tsetOpen(!open)\r\n\t\t}\r\n\r\n\t\tconst handleClick = async ev => {\r\n\t\t\tconst locationWithDash = location.pathname.split('/').join('-')\r\n\t\t\tconst eventMapFound = eventMap(locationWithDash)[btnLabel]\r\n\t\t\tif (eventMapFound) {\r\n\t\t\t\tReactGA.event(eventMapFound)\r\n\t\t\t}\r\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\t\tawait handleToggle()\r\n\t\t\tif (onClick) await onClick()\r\n\t\t}\r\n\r\n\t\tconst closeDialog = () => {\r\n\t\t\tsetOpen(false)\r\n\t\t}\r\n\r\n\t\tlet ButtonComponent = null\r\n\r\n\t\tif (iconButton) {\r\n\t\t\tButtonComponent = IconButton\r\n\t\t} else if (textButton) {\r\n\t\t\tButtonComponent = TextBtn\r\n\t\t} else if (fabButton) {\r\n\t\t\tButtonComponent = Fab\r\n\t\t} else {\r\n\t\t\tButtonComponent = Button\r\n\t\t\tbtnProps.fullWidth = fullWidth\r\n\t\t}\r\n\r\n\t\tconst btnLabelTranslated = btnLabel\r\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<ButtonComponent\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={btnLabelTranslated}\r\n\t\t\t\t\tlabel={btnLabelTranslated}\r\n\t\t\t\t\tonClick={ev => handleClick(ev)}\r\n\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\r\n\t\t\t\t</ButtonComponent>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\tdisableAutoFocus\r\n\t\t\t\t\tdisableEnforceFocus // must use both of those to prevent from autofocus away from canva iframe\r\n\t\t\t\t\tdisableBackdropClick={disableBackdropClick}\r\n\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t// fullScreen\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={handleToggle}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={handleToggle}\r\n\t\t\t\t\t// onOverlayClick={handleToggle}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle\r\n\t\t\t\t\t\tdisableTypography\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography variant='subtitle1'>{t(title)}</Typography>\r\n\t\t\t\t\t\t<IconButton onClick={handleToggle} size='small'>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithDialog {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tTextField,\r\n\tListSubheader,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tFormHelperText,\r\n\tFormControl,\r\n\tTooltip,\r\n\tTypography,\r\n\tSelect,\r\n} from '@material-ui/core'\r\nimport { InfoSharp } from '@material-ui/icons'\r\n\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport classnames from 'classnames'\r\nimport { t } from 'selectors'\r\n\r\nexport const styles = theme => ({\r\n\tformControl: {\r\n\t\tminWidth: 120,\r\n\t},\r\n\tgroupHeader: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tmenuItem: {\r\n\t\twhiteSpace: 'break-spaces',\r\n\t\twordBreak: 'break-word',\r\n\t},\r\n\textraInfo: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t},\r\n\tselect: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst ExtraLabel = ({ label }) =>\r\n\tArray.isArray(label) ? (\r\n\t\t<Fragment>\r\n\t\t\t{label.map((x, index) => (\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t>\r\n\t\t\t\t\t{x}\r\n\t\t\t\t</Typography>\r\n\t\t\t))}\r\n\t\t</Fragment>\r\n\t) : (\r\n\t\tlabel\r\n\t)\r\n\r\nfunction Dropdown(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst {\r\n\t\tonChange,\r\n\t\tlabel = '',\r\n\t\tvalue,\r\n\t\tsource = [],\r\n\t\thtmlId = 'some-id',\r\n\t\tdisabled = false,\r\n\t\terror = false,\r\n\t\thelperText,\r\n\t\tfullWidth = false,\r\n\t\tclassName,\r\n\t\trequired,\r\n\t\tloading,\r\n\t\tnoSrcLabel,\r\n\t\tvariant,\r\n\t\tIconComponent,\r\n\t} = props\r\n\r\n\tconst handleChange = event => {\r\n\t\tonChange(event.target.value)\r\n\t}\r\n\r\n\t// TODO: add native renderer for mobile devices when supported\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{!!source.length && !loading ? (\r\n\t\t\t\t<FormControl\r\n\t\t\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tvariant={variant}\r\n\t\t\t\t>\r\n\t\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tIconComponent={IconComponent}\r\n\t\t\t\t\t\tclasses={{ selectMenu: classes.select }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\t\treturn src.group ? (\r\n\t\t\t\t\t\t\t\t<ListSubheader\r\n\t\t\t\t\t\t\t\t\tclassName={classes.groupHeader}\r\n\t\t\t\t\t\t\t\t\tkey={src.group.name || src.group}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{src.group.name || src.group}\r\n\t\t\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t\tclasses={{ selected: classes.menuItem }}\r\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t\t\t{!!src.extraLabel && (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={<ExtraLabel label={src.extraLabel} />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InfoSharp\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t\t\t</FormControl>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\tvalue={loading ? t('LOADING_DATA') : noSrcLabel}\r\n\t\t\t\t\t\thelperText={loading ? null : helperText}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{loading && <InputLoading />}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n\tIconComponent: PropTypes.elementType,\r\n}\r\n\r\nexport default Dropdown\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField } from '@material-ui/core'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { execute, updateNewUnit } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewAdUnit,\r\n\tselectUnitTypesSourceWithRecommendations,\r\n} from 'selectors'\r\n\r\nfunction AdUnitBasic({ validateId }) {\r\n\tconst { title, description, targetUrl, type } = useSelector(selectNewAdUnit)\r\n\tconst typesSources = useSelector(selectUnitTypesSourceWithRecommendations)\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\ttargetUrl: errTargetUrl,\r\n\t\ttype: errType,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={ev => execute(updateNewUnit('title', ev.target.value))}\r\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateNewUnit('description', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewUnit('targetUrl', (ev.target.value || '').trim())\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty\r\n\t\t\t\t\t\t\t\t? errTargetUrl.errMsg\r\n\t\t\t\t\t\t\t\t: t('TARGETURL_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={value => execute(updateNewUnit('type', value))}\r\n\t\t\t\t\t\tsource={typesSources}\r\n\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t: t('UNIT_TYPE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdUnitBasic\r\n","/**\r\n * @param {HTMLImageElement} image - Image File Object\r\n * @param {Object} crop - crop Object from react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n * @param {Object} size - { width, height } - for image scale\r\n */\r\nexport const getCroppedImgUrl = (image, crop, fileName, size) => {\r\n\tconst canvas = document.createElement('canvas')\r\n\tconst scaleX = image.naturalWidth / image.width\r\n\tconst scaleY = image.naturalHeight / image.height\r\n\r\n\tconst sourceWidth = crop.width * scaleX\r\n\tconst sourceHeight = crop.height * scaleY\r\n\tcanvas.width = sourceWidth\r\n\tcanvas.height = sourceHeight\r\n\tconst ctx = canvas.getContext('2d')\r\n\r\n\tctx.drawImage(\r\n\t\timage,\r\n\t\tcrop.x * scaleX,\r\n\t\tcrop.y * scaleY,\r\n\t\tsourceWidth,\r\n\t\tsourceHeight,\r\n\t\t0,\r\n\t\t0,\r\n\t\tsourceWidth,\r\n\t\tsourceHeight\r\n\t)\r\n\r\n\tlet finalCanvas = canvas\r\n\r\n\tif (size && size.width && size.height) {\r\n\t\t// Pre blurred img\r\n\t\tconst bl = document.createElement('canvas')\r\n\t\tbl.width = sourceWidth\r\n\t\tbl.height = sourceHeight\r\n\t\tconst bctx = bl.getContext('2d')\r\n\t\tconst blur = Math.floor(sourceWidth / size.width / 3)\r\n\t\tbctx.filter = `blur(${blur}px)`\r\n\t\tbctx.drawImage(canvas, 0, 0, sourceWidth, sourceHeight)\r\n\r\n\t\tfinalCanvas = document.createElement('canvas')\r\n\t\tfinalCanvas.width = size.width\r\n\t\tfinalCanvas.height = size.height\r\n\r\n\t\tconst sctx = finalCanvas.getContext('2d')\r\n\r\n\t\tsctx.drawImage(\r\n\t\t\tbl,\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tsourceWidth,\r\n\t\t\tsourceHeight,\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tsize.width,\r\n\t\t\tsize.height\r\n\t\t)\r\n\t}\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tfinalCanvas.toBlob(\r\n\t\t\tfile => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t},\r\n\t\t\t'image/jpeg',\r\n\t\t\t1\r\n\t\t)\r\n\t})\r\n}\r\n","import React from 'react'\r\n\r\nimport { OutlinedInput, InputLabel, FormControl, Box } from '@material-ui/core'\r\n\r\nconst PropBaseComponent = ({ value, inputRef, ...rest }) => (\r\n\t<Box {...rest}>{value}</Box>\r\n)\r\n\r\nconst OutlinedPropView = ({ label, value, margin }) => (\r\n\t<Box py={1}>\r\n\t\t<FormControl variant='outlined' fullWidth>\r\n\t\t\t<InputLabel shrink disableAnimation>\r\n\t\t\t\t{label}\r\n\t\t\t</InputLabel>\r\n\r\n\t\t\t<OutlinedInput\r\n\t\t\t\tmargin={margin}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tnotched\r\n\t\t\t\treadOnly\r\n\t\t\t\tname={label}\r\n\t\t\t\tlabel={label}\r\n\t\t\t\tinputComponent={PropBaseComponent}\r\n\t\t\t\tinputProps={{ style: { height: 'auto', wordWrap: 'break-word' } }}\r\n\t\t\t\tvalue={value}\r\n\t\t\t/>\r\n\t\t</FormControl>\r\n\t</Box>\r\n)\r\n\r\nexport default OutlinedPropView\r\n","import React, { useState, useEffect } from 'react'\r\nimport './CanvaButton.css'\r\n\r\nfunction CanvaButton({ saveFileObjectToState, size }) {\r\n\tconst [canvaApi, setCanvaApi] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tvar script\r\n\t\tfunction initCanva(document, url) {\r\n\t\t\tscript = document.createElement('script')\r\n\t\t\tscript.src = url\r\n\t\t\tscript.onload = function() {\r\n\t\t\t\tif (window.Canva && window.Canva.DesignButton) {\r\n\t\t\t\t\twindow.Canva.DesignButton.initialize({\r\n\t\t\t\t\t\tapiKey: process.env.CANVA_API, //test api key only for localhost and test\r\n\t\t\t\t\t}).then(api => {\r\n\t\t\t\t\t\tsetCanvaApi(api)\r\n\t\t\t\t\t\twindow.canvaApi = api\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocument.body.appendChild(script)\r\n\t\t}\r\n\t\tif (!window.canvaApi) {\r\n\t\t\t//perhaps download it and load it locally\r\n\t\t\tinitCanva(document, 'https://sdk.canva.com/designbutton/v2/api.js')\r\n\t\t} else {\r\n\t\t\tsetCanvaApi(window.canvaApi)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst handleCreateCanvaAd = () => {\r\n\t\tif (canvaApi) {\r\n\t\t\tcanvaApi.createDesign({\r\n\t\t\t\tdesign: {\r\n\t\t\t\t\ttype: 'WideSkyscraperAd',\r\n\t\t\t\t\tdimensions: {\r\n\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\theight: size.height,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tonDesignOpen: ({ designId }) => {\r\n\t\t\t\t\t// Triggered when editor finishes loading and opens a new design.\r\n\t\t\t\t\t// You can save designId for future use.\r\n\t\t\t\t},\r\n\t\t\t\tonDesignPublish: async ({ exportUrl, designId }) => {\r\n\t\t\t\t\t// Triggered when design is published to an image.\r\n\t\t\t\t\t// Save the image to your server as the exportUrl will expire shortly.\r\n\t\t\t\t\tconst res = await fetch(exportUrl)\r\n\t\t\t\t\tconst blob = await res.blob()\r\n\t\t\t\t\tconst file = new File([blob], `${designId}.png`, {\r\n\t\t\t\t\t\ttype: 'image/png',\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsaveFileObjectToState(file)\r\n\t\t\t\t},\r\n\t\t\t\tonDesignClose: () => {\r\n\t\t\t\t\t// Triggered when editor is closed.\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName='canva-btn canva-btn-theme-default canva-btn-size-m'\r\n\t\t\tonClick={() => handleCreateCanvaAd()}\r\n\t\t>\r\n\t\t\t<span className='canva-btn-i'></span>\r\n\t\t\tDesign on Canva\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nexport default CanvaButton\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Media from 'components/common/media'\r\nimport { Button, Typography, Grid, Box, Hidden } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport {\r\n\tCrop as CropIcon,\r\n\tClear as ClearIcon,\r\n\tSave as SaveIcon,\r\n\tCloudUpload as FileUploadIcon,\r\n} from '@material-ui/icons'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { t } from 'selectors'\r\nimport { useDropzone } from 'react-dropzone'\r\nimport CanvaButton from './CanvaButton'\r\n\r\nconst styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tdropzone: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: ({ isDragActive, isDragAccept, isDragReject }) =>\r\n\t\t\t\t`1px dashed ${\r\n\t\t\t\t\tisDragActive\r\n\t\t\t\t\t\t? theme.palette.secondary.main\r\n\t\t\t\t\t\t: isDragAccept\r\n\t\t\t\t\t\t? theme.palette.success.main\r\n\t\t\t\t\t\t: isDragReject\r\n\t\t\t\t\t\t? theme.palette.error.main\r\n\t\t\t\t\t\t: theme.palette.grey.main\r\n\t\t\t\t}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t\ttransition: 'border .24s ease-in-out',\r\n\t\t},\r\n\t\tcropzone: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tbackground: theme.palette.primary.main,\r\n\t\t\tpadding: 10,\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\theight: 320,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: '30vh',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction MediaForm({\r\n\tsize,\r\n\tonChange,\r\n\tlabel,\r\n\tadditionalInfo,\r\n\terrMsg,\r\n\tsrc,\r\n\tmime: propsMime,\r\n}) {\r\n\tconst {\r\n\t\tacceptedFiles,\r\n\t\tfileRejections,\r\n\t\tgetRootProps,\r\n\t\tgetInputProps,\r\n\t\tisDragActive,\r\n\t\tisDragAccept,\r\n\t\tisDragReject,\r\n\t} = useDropzone({\r\n\t\taccept: 'image/jpeg, image/jpg, image/png, video/mp4',\r\n\t\tmaxSize: 1042069,\r\n\t\tmaxFiles: 1,\r\n\t\tmultiple: false,\r\n\t\tnoDragEventsBubbling: true,\r\n\t})\r\n\r\n\tconst classes = useStyles({\r\n\t\tisDragActive,\r\n\t\tisDragAccept,\r\n\t\tisDragReject,\r\n\t})\r\n\r\n\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\tconst [imgRef, setImgRef] = useState(null)\r\n\tconst [crop, setCrop] = useState({ aspect })\r\n\tconst [cropMode, setCropMode] = useState(false)\r\n\tconst [mediaName, setMediaName] = useState('')\r\n\tconst [mime, setMime] = useState(propsMime)\r\n\tconst [mediaSrc, setMediaSrc] = useState(src)\r\n\tconst [isVideoSrc, setIsVideoSrc] = useState(isVideoMedia(propsMime))\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCrop({ aspect })\r\n\t}, [aspect])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMime(propsMime)\r\n\t\tsetMediaSrc(src)\r\n\t\tsetIsVideoSrc(isVideoMedia(propsMime))\r\n\t}, [propsMime, src])\r\n\r\n\tconst onLoad = useCallback(img => {\r\n\t\tsetImgRef(img)\r\n\t}, [])\r\n\r\n\tconst clearMedia = useCallback(() => {\r\n\t\tif (mediaSrc) {\r\n\t\t\tURL.revokeObjectURL(mediaSrc)\r\n\t\t\tsetMediaSrc('')\r\n\t\t\tsetMediaName('')\r\n\t\t\tonChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [mediaSrc])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (fileRejections && fileRejections.length) {\r\n\t\t\tclearMedia()\r\n\t\t}\r\n\t}, [clearMedia, fileRejections])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tsaveFileObjectToState(file)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [acceptedFiles])\r\n\r\n\tconst saveFileObjectToState = useCallback(file => {\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\t\tsetMime(file.type)\r\n\t\tsetMediaName(file.name)\r\n\t\tsetIsVideoSrc(isVideoMedia(file.mime))\r\n\t\tsetMediaSrc(objectUrl)\r\n\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\r\n\t\tonChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst saveCropped = useCallback(async () => {\r\n\t\tif (imgRef && crop.width > 1 && crop.height > 1) {\r\n\t\t\tconst croppedBlob = await getCroppedImgUrl(\r\n\t\t\t\timgRef,\r\n\t\t\t\tcrop,\r\n\t\t\t\t`cropped-${mediaName}`,\r\n\t\t\t\tsize\r\n\t\t\t)\r\n\t\t\tURL.revokeObjectURL(mediaSrc)\r\n\t\t\tsetIsVideoSrc(false)\r\n\t\t\tsetMediaSrc(croppedBlob)\r\n\t\t\tsetCropMode(false)\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// TODO: Error\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [crop, imgRef, mediaName, mediaSrc, mime, size])\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<OutlinedPropView\r\n\t\t\t\tautoFocus={false}\r\n\t\t\t\tlabel={\r\n\t\t\t\t\tmediaSrc && mediaName\r\n\t\t\t\t\t\t? `${label || 'Media'}: ${mediaName}`\r\n\t\t\t\t\t\t: label || 'Upload media'\r\n\t\t\t\t}\r\n\t\t\t\tvalue={\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t<Box className={classes.cropzone}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '30vh',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonImageLoaded={onLoad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={mediaSrc || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={c => setCrop(c)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={saveCropped}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setCropMode(false)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{/* Canva not working on mobile currently */}\r\n\t\t\t\t\t\t\t\t\t<Hidden mdDown>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CanvaButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsaveFileObjectToState={saveFileObjectToState}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize={size}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t<Box {...getRootProps({ className: classes.dropzone })}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{mediaSrc ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Media\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={mediaSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={mediaName || 'media'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmediaMime={mime}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// controls={isVideoSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowVideo={isVideoSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('DRAG_AND_DROP_TO_UPLOAD')}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(max 1MB; .jpeg, .jpg, .png, .mp4){' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<input {...getInputProps()} />\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t{mediaSrc && !isVideoMedia(mime) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.uploadActions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCropMode(true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={clearMedia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fileRejections.map(({ file, errors }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert key={file.path} severity='error'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AlertTitle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{file.path} - {file.size} bytes\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</AlertTitle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{errors.map(e => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// TODO: translate errors\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box key={e.code}>{e.message}</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='caption'> {additionalInfo} </Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMediaForm.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default MediaForm\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport MediaForm from 'components/dashboard/forms/MediaForm'\r\nimport { Grid } from '@material-ui/core'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\nimport { updateNewUnit, execute } from 'actions'\r\nimport { t, selectNewAdUnit, selectValidationsById } from 'selectors'\r\n\r\nfunction AdUnitMedia({ validateId }) {\r\n\tconst { type, temp } = useSelector(selectNewAdUnit)\r\n\tconst { temp: errImg } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst { width, height } = getWidAndHightFromType(type)\r\n\tconst { tempUrl, mime } = temp\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<MediaForm\r\n\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\tsrc={tempUrl || ''}\r\n\t\t\t\t\t\tmime={mime || ''}\r\n\t\t\t\t\t\tonChange={mediaProps =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewUnit('temp', {\r\n\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t...mediaProps,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdUnitMedia\r\n","import React from 'react'\r\n\r\nimport { CircularProgress, Typography, Box } from '@material-ui/core'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\n// TODO: Use it with Grid in previews - we can have more than one in row\r\nexport const PropRow = ({ left, right }) => (\r\n\t<Box p={1}>\r\n\t\t<OutlinedPropView label={left} value={right} />\r\n\t</Box>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\tclassName={className}\r\n\t>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<Box flexGrow={1} className={className}>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, subMsg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div>\r\n\t\t\t<Typography component='div'> {msg} </Typography>\r\n\t\t\t{subMsg && (\r\n\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t<strong>{subMsg}</strong>\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nconst fullContentMessage = ({\r\n\tchildren,\r\n\tmsgs = [],\r\n\tspinner,\r\n\tcolor = 'primary',\r\n}) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\talignItems='center'\r\n\t\tjustifyContent='center'\r\n\t\tbgcolor={`${color}.main`}\r\n\t\tcolor={`${color}.contrastText`}\r\n\t>\r\n\t\t{spinner && (\r\n\t\t\t<Box p={4}>\r\n\t\t\t\t<CircularProgress\r\n\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\r\n\t\t\t\t\tsize={69}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t)}\r\n\t\t{children}\r\n\t\t{msgs\r\n\t\t\t.filter(x => !!x && x.message)\r\n\t\t\t.map((msg, index) => {\r\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Typography key={index} component='div'>\r\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t</Box>\r\n)\r\n\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 225,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Media from 'components/common/media'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { Grid } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { t, selectNewAdUnit, selectAccountIdentityAddr } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AdUnitPreview() {\r\n\tconst classes = useStyles()\r\n\tconst { type, title, description, temp, targeting, targetUrl } = useSelector(\r\n\t\tselectNewAdUnit\r\n\t)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tright={targetUrl}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<Media\r\n\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdUnitPreview\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsArray,\r\n\tselectAdUnits,\r\n\tselectNewCampaign,\r\n} from 'selectors'\r\nimport { updateNewCampaign, execute } from 'actions'\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nfunction CampaignUnits(props) {\r\n\tconst { temp } = useSelector(selectNewCampaign)\r\n\tconst allAdUnits = useSelector(selectAdUnits)\r\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\r\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\r\n\r\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\r\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\r\n\t\t\treturn allAdUnits[value]\r\n\t\t})\r\n\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.selectedUnits = selectedIndexes\r\n\r\n\t\texecute(updateNewCampaign('adUnits', units))\r\n\t\texecute(updateNewCampaign('temp', newTemp))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\r\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\r\n\t\t\t\t\t\t\t\tvalidate={props.validate}\r\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\r\n\t\t\t\t\t\t\t\ttableId={NEW_CAMPAIGN_UNITS}\r\n\t\t\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\trowSelectable\r\n\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CampaignUnits\r\n","import React from 'react'\r\nimport { DateTimePicker as MuiDateTimePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {\r\n\tDateRange,\r\n\tNavigateNextRounded,\r\n\tNavigateBeforeRounded,\r\n\tUpdate,\r\n} from '@material-ui/icons'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport utils from 'helpers/dateUtils'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <DateRange />,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonLiveClick,\r\n\tonNextClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t{onNextClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\r\n\t\t\t\t<NavigateNextRounded />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t\t{onLiveClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\r\n\t\t\t\t<Update />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t</InputAdornment>\r\n)\r\n\r\nexport function DateTimePicker({\r\n\tcalendarIcon,\r\n\ticon,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonNextClick,\r\n\tonLiveClick,\r\n\tonBackClick,\r\n\tInputProps = {},\r\n\troundHour,\r\n\t...rest\r\n}) {\r\n\tconst now = utils.date(Date.now())\r\n\tconst date = roundHour ? utils.setMinutes(now, 0) : now\r\n\treturn (\r\n\t\t<MuiDateTimePicker\r\n\t\t\tvalue={date}\r\n\t\t\tInputProps={{\r\n\t\t\t\t...InputProps,\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\tonNextClick={onNextClick}\r\n\t\t\t\t\t\tonLiveClick={onLiveClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null,\r\n\t\t\t\tstartAdornment: onBackClick ? (\r\n\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\r\n\t\t\t\t\t\t\t<NavigateBeforeRounded />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t) : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({\r\n\tclasses,\r\n\tcalendarIcon,\r\n\ticon,\r\n\tInputProps = {},\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\t...InputProps,\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tFormGroup,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tCheckbox,\r\n\tTextField,\r\n} from '@material-ui/core'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\r\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectMainToken,\r\n\tselectNewCampaign,\r\n\tselectValidationsById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\nimport { validations } from 'adex-models'\r\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\r\nimport {\r\n\tMAX_CAMPAIGN_WITHDRAW_START,\r\n\tMAX_CAMPAIGN_WITHDRAW_START_DAYS,\r\n\tDAY,\r\n} from 'constants/targeting'\r\nconst { isNumberString } = validations\r\n\r\nconst moment = new MomentUtils()\r\n\r\nconst getTotalImpressions = ({ depositAmount, min, max }) => {\r\n\ttry {\r\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\r\n\t\tconst minBound = isNumberString(min) && parseFloat(min)\r\n\t\tconst maxBound = isNumberString(max) && parseFloat(max)\r\n\t\tif (!dep) {\r\n\t\t\treturn t('DEPOSIT_NOT_SET')\r\n\t\t} else if (!minBound || !maxBound) {\r\n\t\t\treturn ''\r\n\t\t\t// return t('BOUNDS_NOT_NOT_SET')\r\n\t\t} else {\r\n\t\t\tconst impressions = utils.commify(Math.floor((dep / minBound) * 1000))\r\n\t\t\treturn t('TOTAL_IMPRESSIONS_UP_TO', { args: [impressions] })\r\n\t\t}\r\n\t} catch (err) {\r\n\t\treturn ''\r\n\t}\r\n}\r\n\r\nfunction CampaignFinance({ validateId, ...rest }) {\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst campaign = useSelector(selectNewCampaign)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\t// pricingBounds: campaignPricingBounds,\r\n\t\tpricingBoundsCPMUserInput,\r\n\t\t// depositAsset,\r\n\t\tactiveFrom,\r\n\t\twithdrawPeriodStart,\r\n\t\t// minTargetingScore,\r\n\t\ttemp = {},\r\n\t} = campaign\r\n\r\n\tconst {\r\n\t\tmaxChannelFees,\r\n\t\tmaxDepositFormatted,\r\n\t\tuseUtmTags,\r\n\t\tsuggestedPricingBounds = { IMPRESSION: {} },\r\n\t\tuseUtmSrcWithPub,\r\n\t} = temp\r\n\r\n\t// if pricingBounds is null\r\n\tconst pricingBounds = pricingBoundsCPMUserInput || { IMPRESSION: {} } //campaignPricingBounds || { IMPRESSION: {} }\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst from = activeFrom || undefined\r\n\tconst to = withdrawPeriodStart || undefined\r\n\tconst now = moment.date().valueOf()\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdepositAmount: errDepAmnt,\r\n\t\tminPerImpression: errMin,\r\n\t\tmaxPerImpression: errMax,\r\n\t\tactiveFrom: errFrom,\r\n\t\twithdrawPeriodStart: errTo,\r\n\t} = invalidFields\r\n\r\n\tconst leader = validators[0] || {}\r\n\tconst follower = validators[1] || {}\r\n\r\n\tconst impressions = getTotalImpressions({\r\n\t\tdepositAmount,\r\n\t\tmin: pricingBounds.IMPRESSION.min,\r\n\t\tmax: pricingBounds.IMPRESSION.max,\r\n\t})\r\n\r\n\tconst updatePricingBoundsImpression = (type, inputValue) => {\r\n\t\tconst value = (inputValue || '').trim()\r\n\t\tconst newPricingBounds = { ...pricingBounds }\r\n\t\tconst impression = { ...pricingBounds.IMPRESSION }\r\n\t\timpression[type] = value\r\n\t\tnewPricingBounds.IMPRESSION = impression\r\n\t\texecute(updateNewCampaign('pricingBoundsCPMUserInput', newPricingBounds))\r\n\t\texecute(\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: `pricingBounds_${type}`,\r\n\t\t\t\tvalue,\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\tprop='leader-validator'\r\n\t\t\t\t\t\t\tvalue={leader.url || ''}\r\n\t\t\t\t\t\t\thelperText={leader.id}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\tprop='follower-validator'\r\n\t\t\t\t\t\t\tvalue={follower.url || ''}\r\n\t\t\t\t\t\t\thelperText={follower.id}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = (ev.target.value || '').trim()\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\r\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\r\n\t\t\t\t\t\t\t\t\t: impressions\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_MIN_LABEL')}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.min}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('min', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CPM_MIN_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.min, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_MAX_LABEL')}\r\n\t\t\t\t\t\t\tname='maxPerImpression'\r\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.max}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('max', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMax && !!errMax.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMax && !!errMax.dirty\r\n\t\t\t\t\t\t\t\t\t? errMax.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CPM_MAX_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.max, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now + 3 * 60 * 60 * 1000}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tformat={DEFAULT_DATETIME_FORMAT}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tmaxDate={now + MAX_CAMPAIGN_WITHDRAW_START - DAY}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [MAX_CAMPAIGN_WITHDRAW_START_DAYS],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tformat={DEFAULT_DATETIME_FORMAT}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmTags}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmTags: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmTags'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_AUTO_UTM_TAGS')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_AUTO_UTM_TAGS_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\r\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl disabled={!useUtmTags}>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmSrcWithPub}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmSrcWithPub: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmSrcWithPub'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_UTM_SRC_WITH_PUB')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_UTM_SRC_WITH_PUB_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t// TODO: link to help\r\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\r\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<CampaignTargetingRules\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t\tadvancedOnly\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignFinance\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport {\r\n\tBox,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tListSubheader,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n\tTooltip,\r\n\tGrid,\r\n} from '@material-ui/core'\r\nimport { HelpSharp as HelpIcon } from '@material-ui/icons'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\nimport { t } from 'selectors'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\tlet subMsg\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\r\n}\r\n\r\nexport const FeesBreakdown = ({ breakdownFormatted = {}, symbol }) => (\r\n\t<Box p={1}>\r\n\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t<AccordionSummary\r\n\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\taria-controls='fees-breakdown'\r\n\t\t\t\tid='fees-breakdown'\r\n\t\t\t>\r\n\t\t\t\t<Typography>\r\n\t\t\t\t\t<Grid container direction='row' justify='center' alignItems='center'>\r\n\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t{t('FEES_BREAKDOWN_ADVANCED_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [breakdownFormatted.feeAmount, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t<Grid container justify='center' alignItems='center'>\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '1em', marginLeft: '0.5em' }}\r\n\t\t\t\t\t\t\t\t\ttitle={t('TOOLTIP_EXPLAIN_TRANSACTION_FEE')}\r\n\t\t\t\t\t\t\t\t\tinteractive\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<HelpIcon dominantBaseline color={'primary'} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Typography>\r\n\t\t\t</AccordionSummary>\r\n\t\t\t<List\r\n\t\t\t\tdisablePadding\r\n\t\t\t\tdense\r\n\t\t\t\tsubheader={\r\n\t\t\t\t\t<ListSubheader component='div'>\r\n\t\t\t\t\t\t{t('BD_TOTAL_FEE', {\r\n\t\t\t\t\t\t\targs: [breakdownFormatted.feeAmount, symbol],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{/* {!!breakdownFormatted.deployFee && (\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('BD_DEPLOY_FEE', {\r\n\t\t\t\t\t\t\t\targs: [breakdownFormatted.deployFee, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t)} */}\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t('BD_TXNS_FEE', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tbreakdownFormatted.executeAction || '- ',\r\n\t\t\t\t\t\t\t\tbreakdownFormatted.txnsFee,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t{!!breakdownFormatted.sweepTxnsCount && (\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('BD_SWEEP_FEE', {\r\n\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\tbreakdownFormatted.sweepTxnsCount,\r\n\t\t\t\t\t\t\t\t\tbreakdownFormatted.sweepTxnsFeeAmount,\r\n\t\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t)}\r\n\t\t\t</List>\r\n\t\t</Accordion>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { constants, IabCategories } from 'adex-models'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\n\r\nimport { t } from 'selectors'\r\nimport { Box, Chip, Tooltip } from '@material-ui/core'\r\n\r\nconst { CountryNames, CountryTiers, OsGroups } = constants\r\n\r\nconst AudiencePreview = ({ audienceInput = {}, title, subHeader }) => {\r\n\tconst {\r\n\t\tlocation = {},\r\n\t\tcategories = {},\r\n\t\tpublishers = {},\r\n\t\t// advanced = {},\r\n\t\tdevices = {},\r\n\t} = audienceInput\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t{title && <OutlinedPropView label={t('TITLE')} value={title} />}\r\n\r\n\t\t\t{!!location.apply ? (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`LOCATION_${location.apply.toUpperCase()}`)}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tlocation.apply === 'allin' ? (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tlabel={t('ALL_COUNTRIES')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t(location[location.apply] || []).map(x => (\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tkey={x}\r\n\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\tCountryTiers[x]\r\n\t\t\t\t\t\t\t\t\t\t\t? CountryTiers[x].countries.join(', ')\r\n\t\t\t\t\t\t\t\t\t\t\t: t(CountryNames[x] || x || '')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t(x || '')} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`LOCATION`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{!!categories.apply ? (\r\n\t\t\t\tcategories.apply.map(apply => (\r\n\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\tkey={apply}\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tlabel={t(`CATEGORIES_${(apply || '').toUpperCase()}`)}\r\n\t\t\t\t\t\tvalue={(categories[apply] || []).map(cat => (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tkey={cat}\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tlabel={t(\r\n\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`CATEGORIES`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{publishers.apply ? (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`PUBLISHERS_${publishers.apply.toUpperCase()}`)}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tpublishers.apply === 'allin' ? (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tlabel={t('ALL_PUBLISHERS')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t(publishers[publishers.apply] || []).map((x, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tlabel={(JSON.parse(x || '{}') || {}).hostname}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`PUBLISHERS`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{!!devices.apply ? (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`DEVICES_${devices.apply.toUpperCase()}`)}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tdevices.apply === 'allin' ? (\r\n\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t('ALL_DEVICES')} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t(devices[devices.apply] || []).map(x => (\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tkey={x}\r\n\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\tOsGroups[x]\r\n\t\t\t\t\t\t\t\t\t\t\t? OsGroups[x].oss.join(', ')\r\n\t\t\t\t\t\t\t\t\t\t\t: t(OsGroups[x] || x || '')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t(x || '')} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`DEVICES`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nAudiencePreview.propTypes = {\r\n\taudienceInput: PropTypes.object,\r\n\tsubHeader: PropTypes.string,\r\n}\r\n\r\nexport default AudiencePreview\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tCircularProgress,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport {\r\n\tWalletAction,\r\n\tFeesBreakdown,\r\n} from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectAccountIdentityAddr,\r\n\tselectAuthType,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectNewCampaign,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, getCampaignActualFees, checkNetworkCongestion } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES, OPENING_CAMPAIGN } from 'constants/spinners'\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nfunction CampaignFormPreview() {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst mainToken = useSelector(selectMainToken)\r\n\tconst { symbol } = mainToken\r\n\tconst feesSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst openingSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, OPENING_CAMPAIGN)\r\n\t)\r\n\tconst [networkCongested, setNetworkCongested] = useState(false)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\t// targeting,\r\n\t\tadUnits,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\t// pricingBounds,\r\n\t\tpricingBoundsCPMUserInput,\r\n\t\t// maxPerImpression,\r\n\t\t// depositAsset,\r\n\t\twithdrawPeriodStart,\r\n\t\tactiveFrom,\r\n\t\t// minTargetingScore,\r\n\t\ttargetingRules = {},\r\n\t\taudienceInput = {},\r\n\t\t// nonce\r\n\t\ttemp = {},\r\n\t} = useSelector(selectNewCampaign)\r\n\r\n\tconst { feesFormatted, totalSpendFormatted, breakdownFormatted } = temp\r\n\tconst { IMPRESSION = {} } = pricingBoundsCPMUserInput || {}\r\n\tconst { advanced = {} } = audienceInput.inputs\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function checkNetwork() {\r\n\t\t\tconst msg = await execute(checkNetworkCongestion())\r\n\r\n\t\t\tif (msg) {\r\n\t\t\t\tsetNetworkCongested(msg)\r\n\t\t\t}\r\n\t\t}\r\n\t\texecute(getCampaignActualFees())\r\n\t\tcheckNetwork()\r\n\t}, [])\r\n\r\n\treturn feesSpinner ? (\r\n\t\t<FullContentSpinner />\r\n\t) : (\r\n\t\t<ContentBox>\r\n\t\t\t{openingSpinner || networkCongested ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{openingSpinner && (\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<WalletAction t={t} authType={authType} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{networkCongested && (\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<Alert severity='warning' variant='filled' square>\r\n\t\t\t\t\t\t\t\t<AlertTitle>{t('NETWORK_WARNING')}</AlertTitle>\r\n\t\t\t\t\t\t\t\t{networkCongested}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CPM_MIN_LABEL')}\r\n\t\t\t\t\t\t\tright={`${IMPRESSION.min} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CPM_MAX_LABEL')}\r\n\t\t\t\t\t\t\tright={`${IMPRESSION.max} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FeesBreakdown\r\n\t\t\t\t\t\t\tbreakdownFormatted={breakdownFormatted}\r\n\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{/* <Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\tright={t(minTargetingScore ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid> */}\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_AUTO_UTM_TAGS`)}\r\n\t\t\t\t\t\t\tright={t(temp.useUtmTags ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_UTM_SRC_WITH_PUB`)}\r\n\t\t\t\t\t\t\tright={t(temp.useUtmSrcWithPub ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`INCLUDE_INCENTIVIZED_TRAFFIC_LABEL`)}\r\n\t\t\t\t\t\t\tright={t(advanced.includeIncentivized ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`DISABLE_FREQUENCY_CAPPING_LABEL`)}\r\n\t\t\t\t\t\t\tright={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`LIMIT_AVERAGE_DAILY_SPENDING_LABEL`)}\r\n\t\t\t\t\t\t\tright={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('AUDIENCE')}\r\n\t\t\t\t\t\t\tright={<AudiencePreview audienceInput={audienceInput.inputs} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\t\ttableId={NEW_CAMPAIGN_UNITS}\r\n\t\t\t\t\t\t\t\t\titems={adUnits}\r\n\t\t\t\t\t\t\t\t\tnoSearch\r\n\t\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\taria-controls='targeting-rules-content'\r\n\t\t\t\t\t\t\t\tid='targeting-rules-header'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\r\n\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t\t\t<pre>{JSON.stringify(targetingRules || [], null, 2)}</pre>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default CampaignFormPreview\r\n","import React, { useEffect, Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tFormHelperText,\r\n\tTextField,\r\n\tBox,\r\n\tTooltip,\r\n\tTypography,\r\n\tChip,\r\n} from '@material-ui/core'\r\nimport AutocompleteMUI, {\r\n\tcreateFilterOptions,\r\n} from '@material-ui/lab/Autocomplete'\r\nimport { CheckSharp, ErrorSharp, InfoSharp } from '@material-ui/icons'\r\n\r\nconst StatusIcon = {\r\n\tsuccess: <CheckSharp color='secondary' />,\r\n\terror: <ErrorSharp color='error' />,\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\textraInfo: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nconst ExtraLabel = ({ label }) =>\r\n\tArray.isArray(label) ? (\r\n\t\t<Fragment>\r\n\t\t\t{label.map((x, index) => (\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t>\r\n\t\t\t\t\t{x}\r\n\t\t\t\t</Typography>\r\n\t\t\t))}\r\n\t\t</Fragment>\r\n\t) : (\r\n\t\tlabel\r\n\t)\r\n\r\nfunction Autocomplete({\r\n\tsource,\r\n\tmultiple,\r\n\tlabel,\r\n\tvariant,\r\n\terror,\r\n\terrorText,\r\n\tonInit,\r\n\tvalue,\r\n\tonChange,\r\n\tfullWidth,\r\n\tdisabled,\r\n\thideSelectedOnDisable,\r\n\tdisableCloseOnSelect,\r\n\tdisabledSrcValues = [],\r\n\tenableCreate,\r\n}) {\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\ttypeof onInit === 'function' && onInit()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst handleChange = item => {\r\n\t\tif (multiple) {\r\n\t\t\tonChange(item.map(i => i.value || i.label || i))\r\n\t\t} else {\r\n\t\t\tonChange(item ? item.value || item.label || item : item)\r\n\t\t}\r\n\t}\r\n\r\n\tconst srcValue = multiple\r\n\t\t? Array.isArray(value)\r\n\t\t\t? value.map(v => source.find(s => s.value === v) || '')\r\n\t\t\t: []\r\n\t\t: source.find(s => s.value === value) || value\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<AutocompleteMUI\r\n\t\t\t\tmultiple={multiple}\r\n\t\t\t\tdisableCloseOnSelect={disableCloseOnSelect}\r\n\t\t\t\toptions={source}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tgroupBy={option => option.group}\r\n\t\t\t\tvalue={srcValue}\r\n\t\t\t\tgetOptionLabel={option => option.label || option.name || option}\r\n\t\t\t\tgetLimitTagsText={more => `${more} more`}\r\n\t\t\t\tlimitTags={10}\r\n\t\t\t\tgetOptionDisabled={option =>\r\n\t\t\t\t\tdisabledSrcValues.some(x => (option.value || option) === x)\r\n\t\t\t\t}\r\n\t\t\t\tgetOptionSelected={(opt, val = '') => {\r\n\t\t\t\t\tconst isSelected =\r\n\t\t\t\t\t\t!!opt &&\r\n\t\t\t\t\t\t!!val &&\r\n\t\t\t\t\t\t[JSON.stringify(val), val, val.value].includes(opt.value)\r\n\t\t\t\t\treturn isSelected\r\n\t\t\t\t}}\r\n\t\t\t\t// freeSolo\r\n\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\r\n\t\t\t\trenderInput={params => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\trenderOption={option => (\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tkey={option.label}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography display='inline'>{option.label}</Typography>\r\n\t\t\t\t\t\t{!!option.extraLabel && (\r\n\t\t\t\t\t\t\t<Tooltip arrow title={<ExtraLabel label={option.extraLabel} />}>\r\n\t\t\t\t\t\t\t\t<InfoSharp\r\n\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\r\n\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\trenderTags={(value, getCustomizedTagProps) =>\r\n\t\t\t\t\tvalue.map(\r\n\t\t\t\t\t\t(option, index) =>\r\n\t\t\t\t\t\t\t!(disabled && hideSelectedOnDisable) &&\r\n\t\t\t\t\t\t\t(!!option.extraLabel ? (\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\t\tkey={option.value + '' + index}\r\n\t\t\t\t\t\t\t\t\ttitle={<ExtraLabel label={option.extraLabel || ''} />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tlabel={option.label || option}\r\n\t\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tlabel={option.label || option}\r\n\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{error && (\r\n\t\t\t\t<FormHelperText error id='component-error-text'>\r\n\t\t\t\t\t{errorText}\r\n\t\t\t\t</FormHelperText>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst filter = createFilterOptions()\r\n\r\nexport const AutocompleteWithCreate = ({\r\n\tsource,\r\n\tlabel,\r\n\tvariant,\r\n\terror,\r\n\thelperText,\r\n\tfullWidth,\r\n\tinitialValue,\r\n\tdisabled,\r\n\tonChange,\r\n\tchangeOnInputUpdate,\r\n}) => {\r\n\tconst [value, setValue] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValue({ label: initialValue, value: initialValue })\r\n\t}, [initialValue])\r\n\r\n\treturn (\r\n\t\t<AutocompleteMUI\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={(event, newValue) => {\r\n\t\t\t\t// Create a new value from the user input\r\n\t\t\t\tif (newValue && (newValue.inputValue || newValue.value)) {\r\n\t\t\t\t\tconst value = newValue.inputValue || newValue.value\r\n\t\t\t\t\tsetValue({\r\n\t\t\t\t\t\tlabel: newValue.label || value,\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tonChange(value)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValue(newValue)\r\n\t\t\t\t\tonChange('')\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonInputChange={(ev, value) => {\r\n\t\t\t\tif (changeOnInputUpdate) {\r\n\t\t\t\t\tonChange(value)\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tfilterOptions={(options, params) => {\r\n\t\t\t\tconst filtered = filter(options, params)\r\n\r\n\t\t\t\t// Suggest the creation of a new value\r\n\t\t\t\tif (!changeOnInputUpdate && params.inputValue !== '') {\r\n\t\t\t\t\tfiltered.push({\r\n\t\t\t\t\t\tinputValue: params.inputValue,\r\n\t\t\t\t\t\tlabel: `Add \"${params.inputValue}\"`,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn filtered\r\n\t\t\t}}\r\n\t\t\tselectOnFocus\r\n\t\t\t// clearOnBlur\r\n\t\t\t// handleHomeEndKeys\r\n\t\t\tdisabled={disabled}\r\n\t\t\toptions={source}\r\n\t\t\tgetLimitTagsText={more => `${more} more`}\r\n\t\t\tlimitTags={2}\r\n\t\t\tgroupBy={option => option.group}\r\n\t\t\tgetOptionLabel={option => {\r\n\t\t\t\t// Value selected with enter, right from the input\r\n\t\t\t\tif (typeof option === 'string') {\r\n\t\t\t\t\treturn option\r\n\t\t\t\t}\r\n\t\t\t\t// Add \"xxx\" option created dynamically\r\n\t\t\t\tif (option.inputValue) {\r\n\t\t\t\t\treturn option.inputValue\r\n\t\t\t\t}\r\n\t\t\t\t// Regular option\r\n\t\t\t\treturn option.label\r\n\t\t\t}}\r\n\t\t\trenderOption={option =>\r\n\t\t\t\toption.status ? (\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{option.label}\r\n\r\n\t\t\t\t\t\t{StatusIcon[option.status] || option.status}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t) : (\r\n\t\t\t\t\toption.label\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tfreeSolo={!changeOnInputUpdate}\r\n\t\t\trenderInput={params => (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\t{...params}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tlabel={label}\r\n\t\t\t\t\thelperText={helperText}\r\n\t\t\t\t\tvariant={variant}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tsource: PropTypes.array.isRequired,\r\n\tlabel: PropTypes.string.isRequired,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tmultiple: PropTypes.bool,\r\n\tvariant: PropTypes.string,\r\n}\r\n\r\nexport default Autocomplete\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tFormGroup,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tCheckbox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { AutocompleteWithCreate } from 'components/common/autocomplete'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport {\r\n\tt,\r\n\tselectNewAdSlot,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectSlotTypesSourceWithDemands,\r\n\twebsitesAutocompleteSrc,\r\n\tselectMainToken,\r\n\tselectMinTargetingCpm,\r\n} from 'selectors'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tupdateNewSlot,\r\n\tvalidateNumberString,\r\n\texecute,\r\n} from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst newItem = useSelector(selectNewAdSlot)\r\n\tconst websitesSrc = useSelector(websitesAutocompleteSrc)\r\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\r\n\tconst minCPM = useSelector(selectMinTargetingCpm)\r\n\tconst {\r\n\t\ttitle = '',\r\n\t\tdescription = '',\r\n\t\twebsite = '',\r\n\t\ttype = '',\r\n\t\trulesInput: slotRulesInput,\r\n\t\tminPerImpression,\r\n\t} = newItem\r\n\r\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\r\n\r\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\r\n\t)\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\twebsite: errWebsite,\r\n\t\ttype: errType,\r\n\t\tminPerImpression: errMin,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateSlotsDemandThrottled())\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\r\n\t\tif (!autoSetMinCPM && minPerImpression === null) {\r\n\t\t\texecute(updateNewSlot('minPerImpression', minCPM.toFixed(2)))\r\n\t\t}\r\n\t}, [autoSetMinCPM, minCPM, minPerImpression])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<AutocompleteWithCreate\r\n\t\t\t\t\t\t\tchangeOnInputUpdate\r\n\t\t\t\t\t\t\tinitialValue={website}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tsource={websitesSrc}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\r\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonChange={value => {\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', (value || '').trim()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\r\n\t\t\t\t\t\t\tsource={adTypesSource}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\r\n\t\t\t\t\t\t\t\tid='slot-rules-advanced'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\r\n\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\t\t\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!!autoSetMinCPM}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = (ev.target.value || '').trim()\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_CPM_MIN_HELPER')\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport MediaForm from 'components/dashboard/forms/MediaForm'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tCollapse,\r\n\tFormControlLabel,\r\n\tSwitch,\r\n} from '@material-ui/core'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { t, selectNewItemByTypeAndId, selectValidationsById } from 'selectors'\r\nimport { updateNewSlot, execute } from 'actions'\r\n\r\nfunction AdSlotMedia({ validateId, itemId }) {\r\n\tconst { type, targetUrl, temp } = useSelector(state =>\r\n\t\tselectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\t)\r\n\r\n\tconst { useFallback = false, tempUrl, mime } = temp\r\n\r\n\tconst { temp: errImg, targetUrl: errFallbackUrl } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseFallback: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titemId\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA_INFO')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('targetUrl', ev.target.value, null, itemId)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<MediaForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\tsrc={tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tmime={mime || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={mediaProps =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...mediaProps,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemId\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\t\t\t\theight,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotMedia\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField } from '@material-ui/core'\r\n\r\nimport { execute, updateNewAudience } from 'actions'\r\nimport { t, selectValidationsById, selectNewAudience } from 'selectors'\r\n\r\nfunction AudienceBasic({ validateId }) {\r\n\tconst { title } = useSelector(selectNewAudience)\r\n\r\n\tconst { title: errTitle } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateNewAudience('title', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAudienceBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AudienceBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { ContentBox, ContentBody } from 'components/common/dialog/content'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport { selectNewAudience } from 'selectors'\r\n\r\nfunction AdUnitPreview() {\r\n\tconst { title, inputs, version } = useSelector(selectNewAudience)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<AudiencePreview audienceInput={inputs} title={title} />\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdUnitPreview\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tBox,\r\n\tTextField,\r\n\tPaper,\r\n\tTab,\r\n\tTabs,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tRadioGroup,\r\n\tRadio,\r\n\tTypography,\r\n\tCheckbox,\r\n} from '@material-ui/core'\r\nimport {\r\n\tPublicSharp as LocationIcon,\r\n\tLocalOfferSharp as CategoryIcon,\r\n\tWebAssetSharp as PublisherIcon,\r\n\tMoreHorizSharp as AdvIcon,\r\n\tErrorSharp as ErrIcon,\r\n\tWebSharp as BrowserIcon,\r\n\tComputerSharp as OsIcon,\r\n\tDevicesOtherSharp as DevicesIcon,\r\n} from '@material-ui/icons'\r\nimport Autocomplete from 'components/common/autocomplete'\r\n\r\nimport { t, selectAudienceInputsDataByItem } from 'selectors'\r\nimport { execute, updateTargetRuleInput } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n\tdisabled: {\r\n\t\topacity: 0.5,\r\n\t},\r\n\tin: {\r\n\t\tcolor: theme.palette.success.main,\r\n\t},\r\n\tnin: {\r\n\t\tcolor: theme.palette.error.main,\r\n\t},\r\n}))\r\n\r\nconst parameterIcon = {\r\n\tlocation: <LocationIcon />,\r\n\tcategories: <CategoryIcon />,\r\n\tpublishers: <PublisherIcon />,\r\n\tos: <OsIcon />,\r\n\tbrowsers: <BrowserIcon />,\r\n\tdevices: <DevicesIcon />,\r\n\tadvanced: <AdvIcon />,\r\n}\r\n\r\nconst getApply = (applyType, currentApply = [], actionType) =>\r\n\tapplyType === 'single'\r\n\t\t? actionType\r\n\t\t: [...currentApply, actionType].filter((t, i, all) => all.indexOf(t) === i)\r\n\r\nconst Sources = ({\r\n\tid,\r\n\tsource = [],\r\n\tcollection,\r\n\tplaceholder,\r\n\tlabel,\r\n\tindex,\r\n\ttarget = {},\r\n\tparameter,\r\n\titemId,\r\n\titemType,\r\n\tactionType,\r\n\tapplyType,\r\n\tdisabled,\r\n\tdisabledSrcValues,\r\n}) => {\r\n\tconst apply = getApply(applyType, target.apply, actionType)\r\n\r\n\treturn source.length ? (\r\n\t\t<Autocomplete\r\n\t\t\tmultiple\r\n\t\t\tid={id}\r\n\t\t\tfullWidth\r\n\t\t\tdirection='auto'\r\n\t\t\topenOnClick\r\n\t\t\trequired={true}\r\n\t\t\tdisabled={disabled}\r\n\t\t\thideSelectedOnDisable\r\n\t\t\tdisabledSrcValues={disabledSrcValues}\r\n\t\t\tdisableCloseOnSelect\r\n\t\t\t// error={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t// errorText={\r\n\t\t\t// \tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t// \t\t? invalidFields[id].errMsg\r\n\t\t\t// \t\t: null\r\n\t\t\t// }\r\n\t\t\tonChange={value => {\r\n\t\t\t\texecute(\r\n\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\t...target,\r\n\t\t\t\t\t\t\t...{ [actionType]: value, apply },\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}}\r\n\t\t\tlabel={label}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\tsource={source}\r\n\t\t\tvalue={target[actionType] || []}\r\n\t\t\tvariant='outlined'\r\n\t\t/>\r\n\t) : (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tvariant='outlined'\r\n\t\t\ttype='text'\r\n\t\t\trequired\r\n\t\t\tdisabled={disabled}\r\n\t\t\tname='name'\r\n\t\t\tvalue={target.value}\r\n\t\t\tlabel={label}\r\n\t\t\tonChange={ev =>\r\n\t\t\t\texecute(\r\n\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\ttarget: { ...target, ...{ [actionType]: ev.target.value, apply } },\r\n\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tmaxLength={120}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst getMultipleActionsUsedValues = ({ actions, currentAction, target }) => {\r\n\tconst currentSelectedValues = actions\r\n\t\t.filter(a => a.type !== currentAction.type)\r\n\t\t.reduce((all, a) => {\r\n\t\t\treturn [\r\n\t\t\t\t...all,\r\n\t\t\t\t...(target[a.type] || []),\r\n\t\t\t\t...(currentAction.disabledValues || []),\r\n\t\t\t]\r\n\t\t}, [])\r\n\t\t.filter((x, i, all) => all.indexOf(x) === i)\r\n\r\n\treturn currentSelectedValues\r\n}\r\n\r\nconst Targets = ({\r\n\tinputs,\r\n\tsource = {},\r\n\textraInfo = null,\r\n\tmessage = null,\r\n\tcollection,\r\n\tplaceholder,\r\n\tlabel,\r\n\tindex,\r\n\ttarget = {},\r\n\tparameter,\r\n\t// classes,\r\n\t// invalidFields,\r\n\tactions,\r\n\tapplyType,\r\n\titemId,\r\n\titemType,\r\n\tdisabledValues,\r\n\tSOURCES,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst id = `target-${index}`\r\n\tconst applyValue = target.apply || actions[0].type\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\tflexGrow='1'\r\n\t\t>\r\n\t\t\t<Box>\r\n\t\t\t\t{message && (\r\n\t\t\t\t\t<Box pb={2}>\r\n\t\t\t\t\t\t<Alert severity='info'>{message}</Alert>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t{applyType === 'single' && (\r\n\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\taria-label={parameter}\r\n\t\t\t\t\t\t\tname={parameter}\r\n\t\t\t\t\t\t\tvalue={applyValue}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\t\t\t\t\ttarget: { ...target, apply: ev.target.value },\r\n\t\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{actions.map(a => (\r\n\t\t\t\t\t\t\t\t<Box key={parameter + a.type}>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t<Radio\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue={a.type}\r\n\t\t\t\t\t\t\t\t\t\tlabel={a.label}\r\n\t\t\t\t\t\t\t\t\t\tclassName={clsx({\r\n\t\t\t\t\t\t\t\t\t\t\t[classes.disabled]: a.type !== applyValue,\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t{!!a.value ? (\r\n\t\t\t\t\t\t\t\t\t\ta.value\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Sources\r\n\t\t\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\t\t\tsource={source[a.type]}\r\n\t\t\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={a.type !== applyValue}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\t\t\tparameter={parameter}\r\n\t\t\t\t\t\t\t\t\t\t\titemId={itemId}\r\n\t\t\t\t\t\t\t\t\t\t\tactionType={a.type}\r\n\t\t\t\t\t\t\t\t\t\t\tapplyType={applyType}\r\n\t\t\t\t\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabledSrcValues={disabledValues[a.type]}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{applyType === 'multiple' &&\r\n\t\t\t\t\t\tactions.map(a => (\r\n\t\t\t\t\t\t\t<Box key={parameter + a.type}>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tclassName={clsx({\r\n\t\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\r\n\t\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{a.label}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t{!!a.value ? (\r\n\t\t\t\t\t\t\t\t\ta.value\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Sources\r\n\t\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\t\tsource={source[a.type]}\r\n\t\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\t\tparameter={parameter}\r\n\t\t\t\t\t\t\t\t\t\titemId={itemId}\r\n\t\t\t\t\t\t\t\t\t\tactionType={a.type}\r\n\t\t\t\t\t\t\t\t\t\tapplyType={applyType}\r\n\t\t\t\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\t\t\t\tdisabledSrcValues={getMultipleActionsUsedValues({\r\n\t\t\t\t\t\t\t\t\t\t\tactions,\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentAction: a,\r\n\t\t\t\t\t\t\t\t\t\t\ttarget,\r\n\t\t\t\t\t\t\t\t\t\t}).concat(disabledValues[a.type] || [])}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t{applyType === 'multiple-checkbox' &&\r\n\t\t\t\t\t\tactions.map(a => (\r\n\t\t\t\t\t\t\t<Box key={parameter + a.value}>\r\n\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!target[a.value]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={a.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...target,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[a.value]: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlabel={a.label}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{a.helper}</FormHelperText>\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box>{extraInfo}</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nconst NewTargetingRules = ({ itemType, itemId, validateId, advancedOnly }) => {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst classes = useStyles()\r\n\r\n\tconst { SOURCES, inputs, errorParameters } = useSelector(state =>\r\n\t\tselectAudienceInputsDataByItem(\r\n\t\t\tstate,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t\tvalidateId,\r\n\t\t\tadvancedOnly\r\n\t\t)\r\n\t)\r\n\r\n\tconst {\r\n\t\tparameter,\r\n\t\tsource,\r\n\t\tactions,\r\n\t\tapplyType,\r\n\t\tdisabledValues,\r\n\t\textraInfo,\r\n\t\tmessage,\r\n\t} = SOURCES[tabIndex] || {}\r\n\r\n\treturn (\r\n\t\t<Box display='flex' flexDirection='column' width={1} height={1}>\r\n\t\t\t{!advancedOnly && (\r\n\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t<Paper position='static' variant='outlined'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{SOURCES.map(({ parameter }, index) => (\r\n\t\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\t\tkey={parameter}\r\n\t\t\t\t\t\t\t\t\tlabel={parameter}\r\n\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\terrorParameters[parameter] ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<ErrIcon color='error' />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tparameterIcon[parameter]\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box display='flex' height={1}>\r\n\t\t\t\t<Targets\r\n\t\t\t\t\tinputs={inputs}\r\n\t\t\t\t\ttarget={inputs[parameter]}\r\n\t\t\t\t\tkey={parameter}\r\n\t\t\t\t\tparameter={parameter}\r\n\t\t\t\t\tmessage={message}\r\n\t\t\t\t\tlabel={t(parameter)}\r\n\t\t\t\t\tplaceholder={t(parameter)}\r\n\t\t\t\t\tsource={source || {}}\r\n\t\t\t\t\textraInfo={extraInfo}\r\n\t\t\t\t\tdisabledValues={disabledValues || {}}\r\n\t\t\t\t\tSOURCES={SOURCES}\r\n\t\t\t\t\tactions={actions}\r\n\t\t\t\t\tapplyType={applyType}\r\n\t\t\t\t\titemId={itemId}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\tclasses={classes}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nNewTargetingRules.propTypes = {\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nexport default NewTargetingRules\r\n","import React, { Fragment } from 'react'\r\nimport {\r\n\tBox,\r\n\tTooltip,\r\n\tList,\r\n\tListItemText,\r\n\tListItemIcon,\r\n\tListItem,\r\n\tIconButton,\r\n\tButton,\r\n\tChip,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { Alert } from '@material-ui/lab'\r\nimport {\r\n\tLooksOneSharp,\r\n\tLooksTwoSharp,\r\n\tLooks3Sharp,\r\n\tRefreshSharp,\r\n\tInfoSharp,\r\n\tFileCopySharp,\r\n} from '@material-ui/icons'\r\nimport { useSelector } from 'react-redux'\r\nimport { timeAgo } from 'helpers/analyticsTimeHelpers'\r\nimport { selectWebsiteByWebsite, t, selectAccountIdentityAddr } from 'selectors'\r\nimport { execute, updateWebsiteVerification, addToast } from 'actions'\r\nimport copy from 'copy-to-clipboard'\r\n\r\nconst UPDATE_AGAIN_AFTER = 2 * 60 * 60 * 1000 // 2 h\r\n\r\nexport const getIssue = issue => {\r\n\tconst data = {\r\n\t\tlabel: issue,\r\n\t\targs: [],\r\n\t}\r\n\tswitch (issue) {\r\n\t\tcase 'SLOT_ISSUE_BLACKLISTED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'break',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref: 'https://www.adex.network/tos/',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\t\tcase 'SLOT_ISSUE_INTEGRATION_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\t\tcase 'SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\r\n\t\tdefault:\r\n\t\t\treturn data\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmessage: {\r\n\t\tdisplay: 'block',\r\n\t},\r\n\tissueChip: {\r\n\t\tmarginRight: theme.spacing(0.5),\r\n\t\tmarginTop: theme.spacing(0.5),\r\n\t\tmarginBottom: theme.spacing(0.5),\r\n\t},\r\n\tcopyBtn: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nexport function RenderIssue({ label, args }) {\r\n\treturn args.some(a => a.type === 'anchor' || a.type === 'break') ? (\r\n\t\tt(label, {\r\n\t\t\targs: args.map((a, index) => {\r\n\t\t\t\tswitch (a.type) {\r\n\t\t\t\t\tcase 'anchor':\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ExternalAnchor key={index} href={a.href}>\r\n\t\t\t\t\t\t\t\t{` ${t(a.label)}`}\r\n\t\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\tcase 'break':\r\n\t\t\t\t\t\treturn <br />\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn t(a)\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t})\r\n\t) : (\r\n\t\t<div\r\n\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t__html: t(label, { args }),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ALL_ISSUES = {\r\n\tSLOT_ISSUE_BLACKLISTED: { icon: LooksOneSharp, shortLabel: t('BLACKLISTED') },\r\n\tSLOT_ISSUE_OWNERSHIP_NOT_VERIFIED: {\r\n\t\ticon: LooksTwoSharp,\r\n\t\tshortLabel: t('NOT_VERIFIED'),\r\n\t},\r\n\tSLOT_ISSUE_SOMEONE_ELSE_VERIFIED: {\r\n\t\ticon: Looks3Sharp,\r\n\t\tshortLabel: t('VERIFIED_BY_SOMEONE_ELSE'),\r\n\t},\r\n}\r\n\r\nexport const WebsiteVerifyBtn = ({ id, website, issues, updated }) => {\r\n\tconst lastUpdated = updated ? Date.now() - new Date(updated).valueOf() : null\r\n\tconst canUpdate = !updated || lastUpdated > UPDATE_AGAIN_AFTER\r\n\treturn (\r\n\t\t!!issues.length && (\r\n\t\t\t<Box my={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdisabled={!canUpdate}\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tstartIcon={<RefreshSharp />}\r\n\t\t\t\t\tonClick={() => execute(updateWebsiteVerification({ id, website }))}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('TRY_VERIFY')}\r\n\t\t\t\t</Button>\r\n\t\t\t\t{!canUpdate && (\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\talign='right'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('VERIFICATION_UPDATED_AGO', {\r\n\t\t\t\t\t\t\targs: [timeAgo(new Date(updated).valueOf())],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n\r\nexport function WebsiteIssues({ issues, website, asKeyWords, tryAgainBtn }) {\r\n\tconst classes = useStyles()\r\n\tconst site = useSelector(state => selectWebsiteByWebsite(state, website))\r\n\tconst defaultIssues = !website ? ['SLOT_ISSUE_NO_WEBSITE'] : []\r\n\tconst data = issues || site.issues || defaultIssues\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{!!data.length ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{site.id && tryAgainBtn && <WebsiteVerifyBtn {...site} />}\r\n\t\t\t\t\t{data.map((id, index) => {\r\n\t\t\t\t\t\tconst { label, args } = getIssue(id)\r\n\t\t\t\t\t\treturn !!asKeyWords ? (\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\tinteractive\r\n\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\ttitle={<RenderIssue label={label} args={args} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={ALL_ISSUES[label].shortLabel}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.issueChip}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Box key={id} my={index !== 0 && index < data.length ? 1 : 0}>\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tseverity='warning'\r\n\t\t\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\t\t\tclasses={{ message: classes.message }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<RenderIssue label={label} args={args} />\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : !!asKeyWords ? (\r\n\t\t\t\t<Typography component='div' variant='caption' color='secondary'>\r\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\r\n\t\t\t\t</Typography>\r\n\t\t\t) : (\r\n\t\t\t\t<Alert severity='success' variant='filled' classes={classes}>\r\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function WebsiteIssuesLegend() {\r\n\treturn (\r\n\t\t<List dense disablePadding>\r\n\t\t\t<ListItem>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t<InfoSharp />\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<ListItemText primary={t('NEW_WEBSITE_CREATE_FROM_SLOT_INFO')} />\r\n\t\t\t</ListItem>\r\n\t\t\t<ListItem>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t<InfoSharp />\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={t('VERIFICATION_INFO_TEXT', {\r\n\t\t\t\t\t\targs: [24, 'HOURS', 2, 'HOURS'],\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t</List>\r\n\t)\r\n}\r\n\r\nexport function WebsiteDSNRecord({ website }) {\r\n\tconst classes = useStyles()\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst dnsRecord = `adex-publisher=${identityAddr}`\r\n\r\n\treturn (\r\n\t\t<Box display='flex' flexDirection='column' height={1} width={1}>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Typography className={classes.subtitle} component='div' gutterBottom>\r\n\t\t\t\t\t{t('DNS_RECORD_INFO', { args: [website] })}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tcomponent='div'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t\twidth={1}\r\n\t\t\t\tmb={1}\r\n\t\t\t>\r\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t<pre>{dnsRecord}</pre>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classes.copyBtn}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(dnsRecord)\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FileCopySharp />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Typography className={classes.subtitle} component='div' gutterBottom>\r\n\t\t\t\t\t{t('WEBSITE_DNS_RECORD_MORE_INFO', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\tkey={1}\r\n\t\t\t\t\t\t\t\thref='https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{` ${t('THIS_TUTORIAL')}`}\r\n\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tTypography,\r\n\tGrid,\r\n\tBox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tChip,\r\n} from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { IabCategories } from 'adex-models'\r\nimport Media from 'components/common/media'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tWebsiteIssues,\r\n\tWebsiteDSNRecord,\r\n\tALL_ISSUES,\r\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { styles } from '../styles'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectAccountIdentityAddr,\r\n\tselectDemandAnalyticsByType,\r\n} from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst SlotFallback = ({ img, targetUrl }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Media\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst AdSlotPreview = () => {\r\n\tconst {\r\n\t\ttype,\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\twebsite,\r\n\t\ttemp,\r\n\t\ttargetUrl,\r\n\t\trules,\r\n\t\trulesInput,\r\n\t\tminPerImpression,\r\n\t} = useSelector(selectNewAdSlot)\r\n\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst typeDemand = useSelector(state =>\r\n\t\tselectDemandAnalyticsByType(state, type)\r\n\t)\r\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\r\n\tconst { categories = [], suggestedMinCPM, hostname, issues } = temp\r\n\r\n\tconst hasIssues = hostname && issues && issues.length\r\n\tconst showDnsRecord =\r\n\t\thasIssues &&\r\n\t\tissues.some(i => i === ALL_ISSUES.SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('SLOT_MIN_CPM', { args: [symbol] })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\tautoSetMinCPM\r\n\t\t\t\t\t\t\t\t\t? t('SLOT_AUTO_MIN_CPM_PREVIEW_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedMinCPM, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_MIN_CPM_PREVIEW_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [minPerImpression, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('SLOT_ALLOW_ADULT_CONTENT')}\r\n\t\t\t\t\t\t\tright={allowAdultContent ? t('YES') : t('NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('WEBSITE_CATEGORIES')}\r\n\t\t\t\t\t\t\tright={categories.map(cat => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={cat}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={t(\r\n\t\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{(!typeDemand || !typeDemand.raw) && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('DEMAND_WARNINGS')}\r\n\t\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t\t{t('SLOT_NO_CURRENT_DEMAND', { args: [type] })}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{showDnsRecord && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_DNS_RECORD_LABEL')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteDSNRecord website={website} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{hasIssues && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_ISSUES')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteIssues issues={issues} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t{temp.useFallback ? (\r\n\t\t\t\t\t\t\t<SlotFallback img={temp} targetUrl={targetUrl} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<PropRow left={t('FALLBACK_DATA')} right={t('NO')} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\r\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\r\n\t\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdSlotPreview\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField } from '@material-ui/core'\r\nimport { t, selectValidationsById, selectNewWebsite } from 'selectors'\r\nimport { updateNewWebsite, execute } from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst newItem = useSelector(selectNewWebsite)\r\n\r\n\tconst { website = '' } = newItem\r\n\r\n\tconst { website: errWebsite } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tvalue={website}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('WEBSITE_LABEL')}\r\n\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty\r\n\t\t\t\t\t\t\t\t? errWebsite.errMsg\r\n\t\t\t\t\t\t\t\t: t('NEW_WEBSITE_HELPER_TEXT')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewWebsite('website', (ev.target.value || '').trim())\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Grid, Chip } from '@material-ui/core'\r\nimport { IabCategories } from 'adex-models'\r\n\r\nimport {\r\n\tWebsiteIssues,\r\n\tALL_ISSUES,\r\n\tWebsiteDSNRecord,\r\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { t, selectNewWebsite } from 'selectors'\r\n\r\nconst WebsitePreview = () => {\r\n\tconst { website, temp = {} } = useSelector(selectNewWebsite)\r\n\r\n\tconst { categories = [], hostname, issues } = temp\r\n\tconst hasIssues = hostname && issues && issues.length\r\n\tconst showDnsRecord =\r\n\t\thasIssues &&\r\n\t\tissues.some(i => i === ALL_ISSUES.SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('WEBSITE_CATEGORIES')}\r\n\t\t\t\t\t\t\tright={categories.map(cat => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={cat}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={t(\r\n\t\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{showDnsRecord && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_DNS_RECORD_LABEL')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteDSNRecord website={website} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{hasIssues && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_ISSUES')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteIssues issues={issues} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default WebsitePreview\r\n","import React from 'react'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign, Audience } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AudienceBasic from './Audience/AudienceBasic'\r\nimport NewAudiencePreview from './Audience/NewAudiencePreview'\r\nimport NewTargetingRules from './NewTargetingRules'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport WebsiteBasic from './Website/WebsiteBasic'\r\nimport WebsitePreview from './Website/WebsitePreview'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateNewUnitBasics,\r\n\tvalidateNewCampaignFinance,\r\n\tvalidateNewCampaignAdUnits,\r\n\tvalidateNewSlotBasics,\r\n\tvalidateNewSlotPassback,\r\n\tvalidateNewUnitMedia,\r\n\tvalidateCampaignAudienceInput,\r\n\tvalidateAudienceBasics,\r\n\tvalidateAudienceInput,\r\n\tvalidateAndSaveNewWebsiteBasics,\r\n\tcompleteItem,\r\n\tresetNewItem,\r\n\tsaveUnit,\r\n\tsaveSlot,\r\n\tsaveAudience,\r\n\topenCampaign,\r\n\tresetTableStateById,\r\n} from 'actions'\r\n\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nexport const CampaignTargetingRules = props => (\r\n\t<NewTargetingRules {...props} itemType='Campaign' />\r\n)\r\n\r\nexport const AudienceRules = props => (\r\n\t<NewTargetingRules {...props} itemType='Audience' />\r\n)\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('AdUnit'))}\r\n\t\tvalidateIdBase='new-AdUnit-'\r\n\t\titemType='AdUnit'\r\n\t\tstepsId='new-adunit-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_BASIC_STEP',\r\n\t\t\t\tcomponent: AdUnitBasic,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitBasics(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_MEDIA_STEP',\r\n\t\t\t\tcomponent: AdUnitMedia,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitMedia(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: AdUnitFormPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\tcompeteAction: saveUnit,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon color='primary' />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => {\r\n\t\t\texecute(resetNewItem('Campaign'))\r\n\t\t\texecute(resetTableStateById(NEW_CAMPAIGN_UNITS))\r\n\t\t}}\r\n\t\tvalidateIdBase='new-Campaign-'\r\n\t\titemType='Campaign'\r\n\t\tstepsId='new-campaign-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\r\n\t\t\t\tcomponent: CampaignUnits,\r\n\t\t\t\tvalidationFn: props => execute(validateNewCampaignAdUnits(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_AUDIENCE_STEP',\r\n\t\t\t\tcomponent: CampaignTargetingRules,\r\n\t\t\t\tvalidationFn: props => execute(validateCampaignAudienceInput(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\r\n\t\t\t\tcomponent: CampaignFinance,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignFinance({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'OPEN_CAMPAIGN',\r\n\t\t\t\tcomponent: CampaignFormPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t\t\t\tcompeteAction: openCampaign,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t\t{...props}\r\n\t/>\r\n)\r\n\r\nexport const NewCampaignFromAudience = props => (\r\n\t<NewCampaignStepsWithDialog {...props} title='NEW_CAMPAIGN_FROM_AUDIENCE' />\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('AdSlot'))}\r\n\t\tvalidateIdBase='new-AdUnit-'\r\n\t\titemType='AdSlot'\r\n\t\tstepsId='new-slot-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\r\n\t\t\t\tcomponent: AdSlotBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewSlotBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\r\n\t\t\t\tcomponent: AdSlotMedia,\r\n\t\t\t\tvalidationFn: props => execute(validateNewSlotPassback(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: AdSlotPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t\t\t\tcompeteAction: saveSlot,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n\r\n// Audience\r\n\r\nexport const AudienceSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('Audience'))}\r\n\t\tvalidateIdBase='new-Audience-'\r\n\t\titemType='Audience'\r\n\t\tstepsId='new-audience-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'AUDIENCE_BASIC_STEP',\r\n\t\t\t\tcomponent: AudienceBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateAudienceBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t...(props.skipRules\r\n\t\t\t\t? []\r\n\t\t\t\t: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: 'AUDIENCE_STEP',\r\n\t\t\t\t\t\t\tcomponent: AudienceRules,\r\n\t\t\t\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateAudienceInput({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  ]),\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: NewAudiencePreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Audience',\r\n\t\t\t\t\t\t\tcompeteAction: saveAudience,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Audience}\r\n\t/>\r\n)\r\n\r\nexport const NewAudienceWithDialog = WithDialog(AudienceSteps)\r\n\r\nexport const NewAudienceDialog = props => (\r\n\t<NewAudienceWithDialog\r\n\t\tbtnLabel='NEW_AUDIENCE'\r\n\t\ttitle='CREATE_NEW_AUDIENCE'\r\n\t\t{...props}\r\n\t/>\r\n)\r\n\r\n// Website\r\n\r\nexport const WebsiteSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('Website'))}\r\n\t\tvalidateIdBase='new-Website-'\r\n\t\titemType='Website'\r\n\t\tstepsId='new-website-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'WEBSITE_BASIC_STEP',\r\n\t\t\t\tnextBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: WebsiteBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateAndSaveNewWebsiteBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'WEBSITE_INFO_AND_PREVIEW_STEP',\r\n\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\tcomponent: WebsitePreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Website',\r\n\t\t\t\t\t\t\t// Just to close the dialog\r\n\t\t\t\t\t\t\tcompeteAction: null,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Audience}\r\n\t/>\r\n)\r\n\r\nexport const NewWebsiteWithDialog = WithDialog(WebsiteSteps)\r\n\r\nexport const NewWebsiteDialog = props => (\r\n\t<NewWebsiteWithDialog\r\n\t\tbtnLabel='NEW_WEBSITE'\r\n\t\ttitle='CREATE_NEW_WEBSITE'\r\n\t\t{...props}\r\n\t/>\r\n)\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { Tooltip, IconButton, Box } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport { utils } from 'ethers'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport Media from 'components/common/media'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsTableData,\r\n\tselectAdUnitsStatsMaxValues,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRIMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ noActions, noClone, maxImpressions, maxClicks, maxCTR }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ selectOnImage, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\tconst ImgComponent = selectOnImage ? Media : RRIMedia\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImgComponent\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t{...(!selectOnImage ? { to } : {})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${Number(ctr).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, Number(maxCTR.toFixed(2))],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignId,\r\n\t\thandleSelect,\r\n\t\t// selected,\r\n\t\titems,\r\n\t} = props\r\n\r\n\tconst selector = selectAdUnitsTableData\r\n\r\n\tconst { maxClicks, maxImpressions, maxCTR } = useSelector(state =>\r\n\t\tselectAdUnitsStatsMaxValues(state, { campaignId, items })\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxCTR,\r\n\t\t\t}),\r\n\t\t[maxCTR, maxClicks, maxImpressions, noActions, noClone]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector,\r\n\t\tselectorArgs,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tif (campaignId) {\r\n\t\t\tsetSelectorArgs({ campaignId })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (items) {\r\n\t\t\tsetSelectorArgs({ campaignId, items })\r\n\t\t}\r\n\t}, [campaignId, items])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\t{...props}\r\n\t\t\ttitle={campaignId ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\thandleRowSelectionChange={handleSelect}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport { Box, IconButton, Tooltip } from '@material-ui/core'\r\nimport { utils } from 'ethers'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Media from 'components/common/media'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport {\r\n\tt,\r\n\tselectAdSlotsTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRMedia\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: title => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\taria-label='view'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdSlot'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tselectableRows: 'none',\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t\t[symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport { Tooltip, IconButton, Typography, Box } from '@material-ui/core'\r\nimport { VisibilitySharp as Visibility } from '@material-ui/icons'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tt,\r\n\tselectAudiencesTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport { useSelector } from 'react-redux'\r\nimport { useTableData } from './tableHooks'\r\nimport { execute, updateNewCampaign } from 'actions'\r\nimport { formatDate } from 'helpers/formatters'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRTypography = withReactRouterLink(Typography)\r\n\r\nconst getCols = () => [\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellProps: () => ({ style: { cursor: 'pointer' } }),\r\n\t\t\tcustomBodyRender: ({ title, to }) => (\r\n\t\t\t\t<RRTypography key={title} to={to}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</RRTypography>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'updated',\r\n\t\tlabel: t('PROP_UPDATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created, undefined, t('-')),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellHeaderProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tsetCellProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tcustomBodyRender: ({ id, audienceInput, to, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip arrow title={t('LABEL_VIEW')} aria-label='view'>\r\n\t\t\t\t\t\t<RRIconButton to={to} aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_NEW_CAMPAIGN_FROM_AUDIENCE')}\r\n\t\t\t\t\t\taria-label='new-campaign'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ticon={<CampaignIcon color='secondary' />}\r\n\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='Audience'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tselectableRows: 'none',\r\n})\r\n\r\nfunction AudiencesTable(props) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t\t[symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectAudiencesTableData,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('SAVED_AUDIENCES')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AudiencesTable\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={420}\r\n\t\t\theight={420}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Grid, Button, CircularProgress, Box, Tooltip } from '@material-ui/core'\r\nimport { BlockSharp, CheckSharp } from '@material-ui/icons'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas, toFixedFloat } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { execute, excludeOrIncludeWebsites, confirmAction } from 'actions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'isBlacklisted',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\t// NOTE: hidden - used for selected items\r\n\t\tname: 'website',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (key, tableMeta) => {\r\n\t\t\t\treturn tableMeta.rowData[0] ? (\r\n\t\t\t\t\t<Tooltip arrow key={key} title={t('WEBSITE_IS_EXCLUDED')}>\r\n\t\t\t\t\t\t<Box color='error.main'>{key}</Box>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Box>{key}</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas((earnings || 0).toFixed(2))} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, toFixedFloat(maxEarnings, 2)],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'averageCPM',\r\n\t\tlabel: t('LABEL_AVERAGE_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tcustomBodyRender: averageCPM =>\r\n\t\t\t\t`${formatNumberWithCommas((averageCPM || 0).toFixed(2))} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, toFixedFloat(maxCTR, 4)],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst IncludeOrExcludeWebsitesBtn = ({\r\n\taction,\r\n\texclude,\r\n\thostnames = [],\r\n\tcampaignId,\r\n\ticon,\r\n\tcolor,\r\n\tonSuccess,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `${action}-campaign-${campaignId}`)\r\n\t)\r\n\treturn (\r\n\t\t<div className={classes.wrapper}>\r\n\t\t\t<Button\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor={color}\r\n\t\t\t\tsize='medium'\r\n\t\t\t\tfullWidth\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\texcludeOrIncludeWebsites({\r\n\t\t\t\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t\t\t\t\t\thostnames,\r\n\t\t\t\t\t\t\t\t\t\texclude,\r\n\t\t\t\t\t\t\t\t\t\taction,\r\n\t\t\t\t\t\t\t\t\t\tonSuccess,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconfirmLabel: t(`${action}_WEBSITES_ACTION_LABEL`),\r\n\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\ttitle: t(`${action}_WEBSITES_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttext: t(`${action}_WEBSITES_CONFIRM_INFO`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\tendIcon={icon}\r\n\t\t\t>\r\n\t\t\t\t{t(`BTN_${action}_WEBSITES`)}\r\n\t\t\t</Button>\r\n\t\t\t{spinner && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst WebsitesActions = ({ campaignId, hostnames = [], onSuccess }) => {\r\n\treturn (\r\n\t\t<Grid container spacing={1} alignItems='center'>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\taction='EXCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\texclude={true}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<BlockSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\taction='INCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<CheckSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst getOptions = ({ campaignId }) => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'impressions',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tselectableRows: 'none',\r\n\trowsPerPage: 25,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst hostnames = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[1])\r\n\r\n\t\tconst actionData = {\r\n\t\t\tcampaignId,\r\n\t\t\thostnames,\r\n\t\t\tonSuccess: () => {\r\n\t\t\t\tsetSelectedRows([])\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\treturn <WebsitesActions {...actionData} />\r\n\t},\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({\r\n\tcampaignId,\r\n\tisActive,\r\n\tcanSendMsgs,\r\n\ttableId,\r\n}) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst {\r\n\t\tmaxClicks,\r\n\t\tmaxImpressions,\r\n\t\tmaxEarnings,\r\n\t\tmaxCTR,\r\n\t} = useSelector(state => selectCampaignStatsMaxValues(state, campaignId))\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() => getCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t\t[maxCTR, maxClicks, maxEarnings, maxImpressions, symbol]\r\n\t)\r\n\r\n\tconst allowActions = isActive && canSendMsgs\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions({ campaignId, isActive, canSendMsgs }))\r\n\t}, [campaignId, canSendMsgs, isActive])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttableId={tableId}\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable={allowActions}\r\n\t\t\ttoolbarEnabled\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'resources/adex-logo-txt-sm.svg'\r\nimport AdexIconTxtDark from 'resources/adex-logo-txt-dark-theme.svg'\r\nimport Media from 'components/common/media'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCompanyData,\r\n\tselectPublisherReceiptsStatsByMonthTableData,\r\n\tselectPublisherReceiptsStatsByMonthTotalValues,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatDate,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { BigNumber } from 'ethers'\r\nimport moment from 'moment'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function PublisherReceiptTpl({ date } = {}) {\r\n\tconst theme = useTheme()\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\tconst monthBreakdown = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTableData(state, date)\r\n\t)\r\n\r\n\tconst { totalPayouts, totalImpressions } = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTotalValues(state, date)\r\n\t)\r\n\tconst cpm = ((totalPayouts / totalImpressions) * 1000).toFixed(2)\r\n\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? AdexIconTxtDark : AdexIconTxt\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t//Unique receipt number made from identity address and the month of the receipt\r\n\t\t\t\t\t\t\tformatAddress(\r\n\t\t\t\t\t\t\t\t`${BigNumber.from(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.unix() * 1000\r\n\t\t\t\t\t\t\t\t).toHexString()}${identityAddr.substr(5)}`,\r\n\t\t\t\t\t\t\t\t'-'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Media src={AdxIcon} classNameImg={classes.icon} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t{formatDate(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD')\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_EARNED')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(totalImpressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_AVG_CPM')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${isFinite(cpm) ? cpm : Number(0).toFixed(2)}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t{monthBreakdown.length > 0 ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_DATE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{`${t('RECEIPT_EARNED')} (${symbol})`}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{monthBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => a.date - b.date)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatDateTime(stats.date, 'YYYY-MM-DD')}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.payouts.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tmt={2}\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\t\talignContent='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography>{t('NO_REVENUE_THIS_MONTH')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nPublisherReceiptTpl.propTypes = {\r\n\tdate: PropTypes.any.isRequired,\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404_1 from 'resources/404-no.png'\r\nimport IMG_404_2 from 'resources/404-yes.png'\r\nimport Media from 'components/common/media'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst G404 = ({ size }) => (\r\n\t<Grid item xs={size}>\r\n\t\t<Typography variant={`h${6 - size}`} style={{ textTransform: 'uppercase' }}>\r\n\t\t\t{t('404')}\r\n\t\t</Typography>\r\n\t</Grid>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst PageNotFound = ({\r\n\ttitle,\r\n\tsubtitle,\r\n\tgoToTxt,\r\n\tgoToPath,\r\n\tskipGoToButton,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<div className={classes.wrapper}>\r\n\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\r\n\t\t\t\t\t\t{t(title || '404')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<G404 size={3} />\r\n\t\t\t\t<G404 size={4} />\r\n\t\t\t\t<G404 size={2} />\r\n\t\t\t\t<G404 size={1} />\r\n\t\t\t\t<G404 size={5} />\r\n\t\t\t\t<G404 size={3} />\r\n\t\t\t\t<G404 size={2} />\r\n\r\n\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t<Media src={IMG_404_1} alt={'no'} className={classes.img} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t<Media src={IMG_404_2} alt={'yes'} className={classes.img} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default PageNotFound\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'resources/adex-logo-txt-sm.svg'\r\nimport AdexIconTxtDark from 'resources/adex-logo-txt-dark-theme.svg'\r\nimport Media from 'components/common/media'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { utils } from 'ethers'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function CampaignReceiptTpl({ campaignId } = {}) {\r\n\tconst theme = useTheme()\r\n\tconst classes = useStyles()\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst AdxIcon = theme.type === 'dark' ? AdexIconTxtDark : AdexIconTxt\r\n\tconst humanFriendlyName = (campaign.status || {}).humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!campaign.spec || !campaign.creator) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\targs: ['CAMPAIGN', campaignId],\r\n\t\t\t\t})}\r\n\t\t\t\tgoToPath={`/dashboard/advertiser`}\r\n\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Media src={AdxIcon} classNameImg={classes.icon} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_PAID')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\tutils.formatUnits(campaign.depositAmount || '0', decimals)\r\n\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${\r\n\t\t\t\t\t\t\tcampaign.status.fundsDistributedRatio && campaign.depositAmount\r\n\t\t\t\t\t\t\t\t? utils.commify(\r\n\t\t\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\t\t\tutils.formatUnits(campaign.depositAmount || '\t0', decimals)\r\n\t\t\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: Number(0).toFixed(2)\r\n\t\t\t\t\t\t} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${t('WEBSITE_EARNINGS')} (${symbol})`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talign='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.breakAll)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{stats.website}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nCampaignReceiptTpl.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Paper, Typography, TextField, Grid } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={1}>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom variant='h5'>\r\n\t\t\t\t\t\t\t\t{t('COMPANY_DETAIL_HEADING')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Button, Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport { Print, DateRangeSharp, GetApp } from '@material-ui/icons'\r\nimport { PublisherReceiptTpl } from './PublisherReceiptTpl'\r\nimport { CampaignReceiptTpl } from './CampaignReceiptTpl'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tt,\r\n\tselectSelectedCampaigns,\r\n\tselectSide,\r\n\tselectSpinnerById,\r\n\tselectAccountIdentityDeployData,\r\n\tselectReceiptMonths,\r\n} from 'selectors'\r\nimport { execute, resetSelectedItems, getReceiptData } from 'actions'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport { styles } from './styles'\r\nimport ReactGA from 'react-ga'\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst side = useSelector(selectSide)\r\n\t// Advertiser Receipt variables\r\n\tconst { itemId } = useParams()\r\n\tconst selectedCampaigns = useSelector(state => selectSelectedCampaigns(state))\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receiptsAdvertiser = selectedByPropsOrParams\r\n\t\t? [selectedByPropsOrParams]\r\n\t\t: selectedCampaigns\r\n\r\n\t// Publisher Receipt variables\r\n\tconst { created } = useSelector(selectAccountIdentityDeployData)\r\n\tconst [startDate, setStartDate] = useState('')\r\n\tconst [endDate, setEndDate] = useState('')\r\n\tconst [dirty, setDirty] = useState(false)\r\n\tconst dates = useSelector(() => selectReceiptMonths(startDate, endDate))\r\n\tconst validateStartDate =\r\n\t\tstartDate <= endDate && startDate !== '' && endDate !== ''\r\n\tconst validateEndDate =\r\n\t\tendDate >= startDate && startDate !== '' && endDate !== ''\r\n\tconst startDateError = !validateStartDate && dirty\r\n\tconst endDateError = !validateEndDate && dirty\r\n\tconst monthMappingStartPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), false)\r\n\t)\r\n\tconst monthMappingEndPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), true)\r\n\t)\r\n\r\n\tconst fetchingPublisherReceiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, FETCHING_PUBLISHER_RECEIPTS)\r\n\t)\r\n\r\n\t// Receipts\r\n\tconst [receipts, setReceipts] = useState(receiptsAdvertiser || [])\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\texecute(resetSelectedItems())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst getReceipts = () => {\r\n\t\tReactGA.event({\r\n\t\t\taction: 'publisher',\r\n\t\t\tcategory: 'get_receipts',\r\n\t\t\tlabel: 'receipts',\r\n\t\t})\r\n\t\tsetDirty(true)\r\n\t\tif (validateStartDate && validateEndDate) {\r\n\t\t\texecute(getReceiptData(startDate, endDate))\r\n\t\t\tsetReceipts(dates.map(item => item.value))\r\n\t\t}\r\n\t}\r\n\r\n\tif (side === 'advertiser' && receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\toverflow='hidden'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\tpageStyle={\r\n\t\t\t\t\t\t\t'@page { size: A4 portrait; marks: none; } @media print { body { -webkit-print-color-adjust: exact; } }'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' &&\r\n\t\t\t\t\t\t\t\t\t(receipts.length === 0 || fetchingPublisherReceiptsSpinner)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\talignItems='flex-start'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingStartPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetStartDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={startDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tstartDateError && startDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('START_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_START_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={startDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('START_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='startDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='start-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingEndPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetEndDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={endDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tendDateError && endDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('END_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_END_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={endDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('END_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='endDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='end-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstyle={{ minHeight: 54.63 }}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tstartIcon={<GetApp />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={() => getReceipts()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GET_RECEIPTS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{fetchingPublisherReceiptsSpinner && (\r\n\t\t\t\t\t\t\t<LinearProgress className={classes.progress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box mt={2} display='flex' alignItems='center' justifyContent='center'>\r\n\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t<Box ref={invoice}>\r\n\t\t\t\t\t\t\t\t\t{receipts.map(item =>\r\n\t\t\t\t\t\t\t\t\t\tside === 'advertiser' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<CampaignReceiptTpl campaignId={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tfetchingPublisherReceiptsSpinner === false && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PublisherReceiptTpl date={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { Receipt }\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { utils } from 'ethers'\r\nimport PropTypes from 'prop-types'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { Box } from '@material-ui/core'\r\nimport { t, selectMainToken } from 'selectors'\r\nimport { useTableData } from './tableHooks'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst getCols = ({ showEarnings, symbol }) => [\r\n\t{\r\n\t\tname: 'countryName',\r\n\t\tlabel: t('PROP_COUNTRY'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'percentImpressions',\r\n\t\tlabel: t('LABEL_PERC'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: percentImpressions =>\r\n\t\t\t\t`${percentImpressions.toFixed(2)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t...(showEarnings\r\n\t\t? [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'averageCPM',\r\n\t\t\t\t\tlabel: t('LABEL_AVERAGE_CPM'),\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tfilter: false,\r\n\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\tcustomBodyRender: averageCPM =>\r\n\t\t\t\t\t\t\t`${utils.commify(averageCPM.toFixed(2))} ${symbol}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'earnings',\r\n\t\t\t\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tfilter: false,\r\n\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t\t\t\t`${utils.commify(earnings.toFixed(2))} ${symbol}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t  ]\r\n\t\t: []),\r\n]\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'impressions',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\trowsPerPage: 10,\r\n})\r\n\r\nfunction StatsByCountryTable(props) {\r\n\tconst { selector, selectorArgs, showEarnings } = props\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t\tshowEarnings,\r\n\t\t\t}),\r\n\t\t[showEarnings, symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector,\r\n\t\tselectorArgs,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<MUIDataTableEnhanced\r\n\t\t\t\t{...props}\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tnoSearch\r\n\t\t\t\tnoPrint\r\n\t\t\t\tnoViewColumns\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nStatsByCountryTable.propTypes = {\r\n\tselector: PropTypes.func.isRequired,\r\n\tshowEarnings: PropTypes.bool,\r\n}\r\n\r\nexport default StatsByCountryTable\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tZoomableGroup,\r\n\tComposableMap,\r\n\tGeographies,\r\n\tGeography,\r\n} from 'react-simple-maps'\r\nimport { Paper } from '@material-ui/core'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { ALEX_GREY } from 'components/App/themeMUi'\r\n\r\nconst MapChart = ({ selector, chartId }) => {\r\n\tconst { chartData, hoverColor, pressedColor } = useSelector(selector)\r\n\r\n\tconst [content, setContent] = useState('')\r\n\r\n\treturn (\r\n\t\t<Paper elevation={2} variant='outlined' square>\r\n\t\t\t<ComposableMap\r\n\t\t\t\tid={chartId}\r\n\t\t\t\tdata-tip='chart-map'\r\n\t\t\t\tprojection='geoMercator'\r\n\t\t\t\tprojectionConfig={{\r\n\t\t\t\t\tscale: 100,\r\n\t\t\t\t}}\r\n\t\t\t\twidth={666}\r\n\t\t\t\theight={420}\r\n\t\t\t>\r\n\t\t\t\t<ZoomableGroup maxZoom={3}>\r\n\t\t\t\t\t<Geographies geography={chartData}>\r\n\t\t\t\t\t\t{({ geographies = [] }) => {\r\n\t\t\t\t\t\t\treturn geographies.map(geo => {\r\n\t\t\t\t\t\t\t\tconst { tooltipElements, fillColor } = geo.properties\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Geography\r\n\t\t\t\t\t\t\t\t\t\tkey={geo.rsmKey}\r\n\t\t\t\t\t\t\t\t\t\tgeography={geo}\r\n\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent(tooltipElements)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent('')\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tfill={fillColor}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tstroke: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\thover: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill: hoverColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tpressed: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill: pressedColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t</Geographies>\r\n\t\t\t\t</ZoomableGroup>\r\n\t\t\t</ComposableMap>\r\n\t\t\t{/* TODO: use material-ui tooltip ot popover */}\r\n\t\t\t{!!content && (\r\n\t\t\t\t<ReactTooltip border={false} backgroundColor={ALEX_GREY}>\r\n\t\t\t\t\t{Array.isArray(content)\r\n\t\t\t\t\t\t? content.map((x, i) => <div key={i}>{x}</div>)\r\n\t\t\t\t\t\t: content}\r\n\t\t\t\t</ReactTooltip>\r\n\t\t\t)}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default MapChart\r\n","import React from 'react'\r\nimport { InputAdornment, IconButton, TextField } from '@material-ui/core'\r\nimport { Edit, UndoOutlined } from '@material-ui/icons'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\texecute,\r\n\tresetNewItem,\r\n\tupdateCampaignAudienceInput,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport { t } from 'selectors'\r\nimport { Campaign, helpers } from 'adex-models'\r\nimport { BigNumber } from 'ethers'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nconst { bondPerActionToUserInputPerMileValue } = helpers\r\n\r\nconst TargetingSteps = ({\r\n\tupdateField,\r\n\tfieldName,\r\n\tstepTitle,\r\n\titemId,\r\n\t...props\r\n}) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('Campaign', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase={`update-campaign-${itemId}-`}\r\n\t\t\titemType='Campaign'\r\n\t\t\tstepsId={`update-campaign-${itemId}`}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: stepTitle || 'CAMPAIGN_AUDIENCE',\r\n\t\t\t\t\tcomponent: CampaignTargetingRules,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateCampaignAudienceInput({\r\n\t\t\t\t\t\t\t\tupdateField,\r\n\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\tfieldName,\r\n\t\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={Campaign}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const TargetingRulesEdit = WithDialog(TargetingSteps)\r\n\r\nexport const EditCPM = ({\r\n\tprop,\r\n\tlabel,\r\n\tpricingBoundsCPMUserInput,\r\n\taction,\r\n\tactionValue,\r\n\tvaluePerAction,\r\n\tupdatedValue,\r\n\tdecimals,\r\n\tsymbol,\r\n\tvalidations,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n\tdirtyProps,\r\n\tvalidateId,\r\n\tcanSendMsgs,\r\n\tspecPricingBounds,\r\n}) => {\r\n\tconst err = validations[prop]\r\n\tconst active = !!activeFields[prop]\r\n\tconst showError = !!err && err.dirty\r\n\tconst isDirty = dirtyProps && dirtyProps.includes(prop)\r\n\r\n\tconst value = isDirty\r\n\t\t? updatedValue\r\n\t\t: pricingBoundsCPMUserInput &&\r\n\t\t  pricingBoundsCPMUserInput[action] &&\r\n\t\t  !!pricingBoundsCPMUserInput[action][actionValue]\r\n\t\t? pricingBoundsCPMUserInput[action][actionValue]\r\n\t\t: formatTokenAmount(\r\n\t\t\t\tBigNumber.from(valuePerAction || 0).mul(1000),\r\n\t\t\t\tdecimals,\r\n\t\t\t\ttrue\r\n\t\t  )\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tmargin='dense'\r\n\t\t\tfullWidth\r\n\t\t\tid={prop}\r\n\t\t\tlabel={t(label)}\r\n\t\t\ttype='text'\r\n\t\t\tname={prop}\r\n\t\t\tvalue={value + (active ? '' : ' ' + symbol)}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tconst value = (ev.target.value || '').trim()\r\n\t\t\t\tupdateField(prop, value)\r\n\t\t\t\texecute(\r\n\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tprop,\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError\r\n\t\t\t\t\t? t(err.errMsg, { args: err.errMsgArgs })\r\n\t\t\t\t\t: active && specPricingBounds && specPricingBounds[action]\r\n\t\t\t\t\t? t(\r\n\t\t\t\t\t\t\t`BOUNDS_${actionValue.toUpperCase()}_EDIT`,\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\tbondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\t\t\t\t\t\tspecPricingBounds[action][actionValue],\r\n\t\t\t\t\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: canSendMsgs ? (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState(prop)\r\n\t\t\t\t\t\t\t\t\t: setActiveFields(prop, true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t) : null,\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tInputAdornment,\r\n\tButton,\r\n\tDivider,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { StopSharp, PauseSharp, StarSharp } from '@material-ui/icons'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { BigNumber } from 'ethers'\r\nimport {\r\n\tItemTitle,\r\n\tMediaCard,\r\n\tItemSpecProp,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport {\r\n\tTargetingRulesEdit,\r\n\tEditCPM,\r\n} from 'components/dashboard/containers/Campaign/CampaignEdits'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectCampaignDisplayStatus,\r\n} from 'selectors'\r\nimport {\r\n\texecute,\r\n\tcloseCampaign,\r\n\tpauseOrResumeCampaign,\r\n\tconfirmAction,\r\n\tmapCurrentToNewCampaignAudienceInput,\r\n} from 'actions'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst getCloseCampaignsFees = ({\r\n\tdepositAmount,\r\n\tvalidators,\r\n\tfundsDistributedRatio,\r\n\tdecimals,\r\n}) => {\r\n\tconst deposit = BigNumber.from(depositAmount)\r\n\tconst totalFees = validators.reduce(\r\n\t\t(sum, { fee }) => sum.add(BigNumber.from(fee)),\r\n\t\tBigNumber.from(0)\r\n\t)\r\n\r\n\tconst feesPercent =\r\n\t\ttotalFees\r\n\t\t\t.mul(BigNumber.from(10000))\r\n\t\t\t.div(deposit)\r\n\t\t\t.toNumber() / 100\r\n\r\n\tconst nonDistributedFunds = deposit.sub(\r\n\t\tdeposit\r\n\t\t\t.mul(fundsDistributedRatio)\r\n\t\t\t.div(BigNumber.from(1000))\r\n\t\t\t.toString()\r\n\t)\r\n\r\n\tconst feesToPay = totalFees.sub(\r\n\t\ttotalFees\r\n\t\t\t.mul(fundsDistributedRatio)\r\n\t\t\t.div(BigNumber.from(1000))\r\n\t\t\t.toString()\r\n\t)\r\n\r\n\tconst percent = feesPercent.toFixed(2) + '%'\r\n\tconst toPay = formatTokenAmount(feesToPay, decimals, false, 2)\r\n\tconst nonDistributed = formatTokenAmount(\r\n\t\tnonDistributedFunds,\r\n\t\tdecimals,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\treturn { percent, toPay, nonDistributed }\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport const CampaignBasic = ({\r\n\titem,\r\n\titemPlain,\r\n\tcanSendMsgs,\r\n\tisActive,\r\n\t...hookProps\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst {\r\n\t\ttitle,\r\n\t\tadUnits = [],\r\n\t\tpricingBounds,\r\n\t\tpricingBoundsCPMUserInput,\r\n\t\tdepositAmount,\r\n\t\tvalidators,\r\n\t\tminPerImpression,\r\n\t\tmaxPerImpression,\r\n\t\taudienceInput,\r\n\t} = item\r\n\r\n\tconst { advanced = {} } = (audienceInput || {}).inputs || {}\r\n\tconst { decimals, symbol } = selectMainToken()\r\n\tconst { title: errTitle } = hookProps.validations\r\n\r\n\tconst { mediaUrl, mediaMime } = adUnits[0] || {}\r\n\tconst status = item.status || {}\r\n\tconst { fundsDistributedRatio } = status\r\n\tconst displayStatus = selectCampaignDisplayStatus(status)\r\n\tconst isPaused = ((item.targetingRules || [])[0] || {}).onlyShowIf === false\r\n\tconst pauseAction = isPaused ? 'RESUME' : 'PAUSE'\r\n\r\n\tconst campaignPricingBounds = pricingBounds || { IMPRESSION: {} }\r\n\tconst cpmMin = campaignPricingBounds.IMPRESSION.min || minPerImpression || 0\r\n\tconst cpmMax = campaignPricingBounds.IMPRESSION.max || maxPerImpression || 0\r\n\r\n\tconst closeSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `closing-campaign-${item.id}`)\r\n\t)\r\n\r\n\tconst pauseSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `pausing-campaign-${item.id}`)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t<MediaCard mediaUrl={mediaUrl} mediaMime={mediaMime} />\r\n\t\t\t\t</Box>\r\n\t\t\t\t{isActive && (\r\n\t\t\t\t\t<Grid container spacing={1} alignItems='center'>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\t\t\tpercent,\r\n\t\t\t\t\t\t\t\t\t\t\ttoPay,\r\n\t\t\t\t\t\t\t\t\t\t\tnonDistributed,\r\n\t\t\t\t\t\t\t\t\t\t} = getCloseCampaignsFees({\r\n\t\t\t\t\t\t\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\t\t\t\t\t\t\tvalidators,\r\n\t\t\t\t\t\t\t\t\t\t\tfundsDistributedRatio,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t\t\t\t\t\t() => execute(closeCampaign({ campaign: item })),\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CLOSE_CAMPAIGN_CONFIRM_LABEL'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t('CLOSE_CAMPAIGN_CONFIRM_TITLE', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t('CLOSE_CAMPAIGN_CONFIRM_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [percent, toPay, nonDistributed, symbol],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={closeSpinner || !canSendMsgs}\r\n\t\t\t\t\t\t\t\t\tendIcon={<StopSharp />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{closeSpinner && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\texecute(pauseOrResumeCampaign({ campaign: item })),\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${pauseAction}_CAMPAIGN_CONFIRM_LABEL`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t(`${pauseAction}_CAMPAIGN_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t(`${pauseAction}_CAMPAIGN_CONFIRM_INFO`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={pauseSpinner || !canSendMsgs}\r\n\t\t\t\t\t\t\t\t\tendIcon={isPaused ? <StarSharp /> : <PauseSharp />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t(`BTN_${pauseAction}_CAMPAIGN`)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{pauseSpinner && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\tprop={'id'}\r\n\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'displayStatus'}\r\n\t\t\t\t\t\t\t\tvalue={displayStatus}\r\n\t\t\t\t\t\t\t\tlabel={t(displayStatus)}\r\n\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end' disableTypography>\r\n\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(status, 'md')}\r\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'created'}\r\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'activeFrom'}\r\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\r\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{/* <Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'CAMPAIGN_MIN_TARGETING'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0 ? t('YES') : t('NO')}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box> */}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'fundsDistributedRatio'}\r\n\t\t\t\t\t\t\t\tvalue={((fundsDistributedRatio || 0) / 10).toFixed(2)}\r\n\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'depositAmount'}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount || 0, decimals) +\r\n\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<EditCPM\r\n\t\t\t\t\t\t\t\tpricingBoundsCPMUserInput={pricingBoundsCPMUserInput}\r\n\t\t\t\t\t\t\t\taction='IMPRESSION'\r\n\t\t\t\t\t\t\t\tactionValue={'min'}\r\n\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\t\tprop='minPerImpression'\r\n\t\t\t\t\t\t\t\tlabel='CPM_MIN'\r\n\t\t\t\t\t\t\t\tvaluePerAction={cpmMin}\r\n\t\t\t\t\t\t\t\tupdatedValue={minPerImpression}\r\n\t\t\t\t\t\t\t\tdecimals={decimals}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\t// errProp={'pricingBounds_min'}\r\n\t\t\t\t\t\t\t\tspecPricingBounds={itemPlain.specPricingBounds}\r\n\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<EditCPM\r\n\t\t\t\t\t\t\t\tpricingBoundsCPMUserInput={pricingBoundsCPMUserInput}\r\n\t\t\t\t\t\t\t\taction='IMPRESSION'\r\n\t\t\t\t\t\t\t\tactionValue={'max'}\r\n\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\t\tprop='maxPerImpression'\r\n\t\t\t\t\t\t\t\tlabel='CPM_MAX'\r\n\t\t\t\t\t\t\t\tvaluePerAction={cpmMax}\r\n\t\t\t\t\t\t\t\tupdatedValue={maxPerImpression}\r\n\t\t\t\t\t\t\t\tdecimals={decimals}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\t// errProp={'pricingBounds_max'}\r\n\t\t\t\t\t\t\t\tspecPricingBounds={itemPlain.specPricingBounds}\r\n\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Box mt={3} mb={1}>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Grid container spacing={2} pt={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'INCLUDE_INCENTIVIZED_TRAFFIC_LABEL'}\r\n\t\t\t\t\t\t\t\tvalue={t(advanced.includeIncentivized ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t\t\tlabel={t('INCLUDE_INCENTIVIZED_TRAFFIC_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'DISABLE_FREQUENCY_CAPPING_LABEL'}\r\n\t\t\t\t\t\t\t\tvalue={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t\t\tlabel={t('DISABLE_FREQUENCY_CAPPING_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'LIMIT_AVERAGE_DAILY_SPENDING_LABEL'}\r\n\t\t\t\t\t\t\t\tvalue={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t\t\tlabel={t('LIMIT_AVERAGE_DAILY_SPENDING_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t{isActive && (\r\n\t\t\t\t\t\t\t\t<TargetingRulesEdit\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tadvancedOnly\r\n\t\t\t\t\t\t\t\t\tfieldName='campaignAdvanced'\r\n\t\t\t\t\t\t\t\t\tstepTitle='PROP_CAMPAIGN_ADVANCED'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='EDIT_CAMPAIGN_ADVANCED'\r\n\t\t\t\t\t\t\t\t\ttitle='EDIT_CAMPAIGN_ADVANCED_TITLE'\r\n\t\t\t\t\t\t\t\t\titemId={item.id}\r\n\t\t\t\t\t\t\t\t\tdisabled={!canSendMsgs}\r\n\t\t\t\t\t\t\t\t\tdisableBackdropClick\r\n\t\t\t\t\t\t\t\t\tupdateField={hookProps.updateField}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\r\n\t\t\t\t\t\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Accordion, AccordionSummary, Typography } from '@material-ui/core'\r\nimport { t, selectAudienceByCampaignId } from 'selectors'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\texecute,\r\n\tupdateNewCampaign,\r\n\tupdateNewAudience,\r\n\tmapCurrentToNewCampaignAudienceInput,\r\n} from 'actions'\r\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport { TargetingRulesEdit } from 'components/dashboard/containers/Campaign/CampaignEdits'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tactions: {\r\n\t\t'& > *': {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport const CampaignAudience = ({\r\n\titem,\r\n\tisActive,\r\n\tcanSendMsgs,\r\n\t...hookProps\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst campaignAudienceInput =\r\n\t\tuseSelector(state => selectAudienceByCampaignId(state, item.id)) || {}\r\n\r\n\tconst audienceInput =\r\n\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\r\n\t\t\t? item.audienceInput\r\n\t\t\t: campaignAudienceInput\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AudiencePreview audienceInput={audienceInput.inputs} />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box className={classes.actions}>\r\n\t\t\t\t\t{isActive && (\r\n\t\t\t\t\t\t<TargetingRulesEdit\r\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\r\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\r\n\t\t\t\t\t\t\titemId={item.id}\r\n\t\t\t\t\t\t\tdisabled={!canSendMsgs}\r\n\t\t\t\t\t\t\tdisableBackdropClick\r\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\r\n\t\t\t\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<NewAudienceDialog\r\n\t\t\t\t\t\tbtnLabel='SAVE_AUDIENCE'\r\n\t\t\t\t\t\ttitle='CREATE_NEW_AUDIENCE'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\r\n\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='targeting-rules-content'\r\n\t\t\t\t\t\tid='targeting-rules-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\r\n\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t<pre>\r\n\t\t\t\t\t\t\t{JSON.stringify(\r\n\t\t\t\t\t\t\t\titem.targetingRules || item.spec.targetingRules || [],\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</pre>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Accordion>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Line, Chart } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport { GANDALF_GREY, ALEX_GREY_LIGHT } from 'components/App/themeMUi'\r\nimport { Box, Typography } from '@material-ui/core'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectMainToken } from 'selectors'\r\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\r\nimport { t } from 'selectors'\r\nimport { useWindowSize } from 'hooks/useWindowSize'\r\n\r\nconst commonDsProps = {\r\n\tfill: false,\r\n\tlineTension: 0,\r\n\tborderWidth: 2,\r\n\tpointRadius: 2,\r\n\tpointHitRadius: 10,\r\n}\r\n\r\nconst DEFAULT_FONT_SIZE = 14.2\r\nconst FONT = 'Roboto'\r\nconst DASH_SIZE = 4\r\nconst DASH_WIDTH = 2\r\n\r\nconst DefaultLabel = ({ label = '', align }) =>\r\n\tlabel.split('-').map((x, index, all) => (\r\n\t\t<Typography key={x + index} component='div' variant='caption' align={align}>\r\n\t\t\t{x}\r\n\t\t</Typography>\r\n\t))\r\n\r\nexport const SimpleStatistics = ({\r\n\tdata1,\r\n\tdata2,\r\n\tdata3,\r\n\tdata4,\r\n\tdata1Active = true,\r\n\tdata2Active = true,\r\n\tdata3Active = true,\r\n\tdata4Active = true,\r\n\tdataSynced,\r\n\tdefaultLabels = [],\r\n\toptions = {},\r\n\txLabel = 'TIMEFRAME',\r\n\ty1Label = 'DATA1',\r\n\ty2Label = 'DATA2',\r\n\ty3Label = 'DATA3',\r\n\ty4Label = 'DATA4',\r\n\ty1Color = CHARTS_COLORS[1],\r\n\ty2Color = CHARTS_COLORS[2],\r\n\ty3Color = CHARTS_COLORS[3],\r\n\ty4Color = CHARTS_COLORS[4],\r\n}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst windowSize = useWindowSize()\r\n\tconst chartHeight = Math.min(\r\n\t\tMath.max(Math.floor((windowSize.height || 0) / 2.2), 240),\r\n\t\t420\r\n\t)\r\n\t// Vertical line / crosshair\r\n\tuseEffect(() => {\r\n\t\tChart.pluginService.register({\r\n\t\t\tbeforeDraw: function(chart) {\r\n\t\t\t\tconst ctx = chart.ctx\r\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\r\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\r\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\r\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\r\n\t\t\t\t\tif (chartScalesy1) {\r\n\t\t\t\t\t\tconst topY = chartScalesy1.top\r\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\r\n\t\t\t\t\t\tctx.save()\r\n\t\t\t\t\t\tctx.beginPath()\r\n\t\t\t\t\t\tctx.moveTo(x, topY)\r\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\r\n\t\t\t\t\t\tctx.lineWidth = DASH_WIDTH\r\n\t\t\t\t\t\tctx.setLineDash([DASH_SIZE, DASH_SIZE])\r\n\t\t\t\t\t\tctx.strokeStyle = GANDALF_GREY // color of the vertical line\r\n\t\t\t\t\t\tctx.stroke()\r\n\t\t\t\t\t\tctx.restore()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t})\r\n\r\n\tconst chartData = {\r\n\t\tlabels: dataSynced ? data1.labels : defaultLabels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tlabel: y1Label,\r\n\t\t\t\tdata: dataSynced ? data1.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t\thidden: !data1Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tlabel: y2Label,\r\n\t\t\t\tdata: dataSynced ? data2.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-2',\r\n\t\t\t\thidden: !data2Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tlabel: y3Label,\r\n\t\t\t\tdata: dataSynced ? data3.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-3',\r\n\t\t\t\thidden: !data3Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tpointBackgroundColor: y4Color,\r\n\t\t\t\tlabel: y4Label,\r\n\t\t\t\tdata: dataSynced ? data4.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-4',\r\n\t\t\t\thidden: !data4Active,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\r\n\tconst linesOptions = {\r\n\t\tanimation: false,\r\n\t\tresponsive: true,\r\n\t\tlayout: {\r\n\t\t\tpadding: {\r\n\t\t\t\ttop: 16,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// This and fixed height are used for proper mobile display of the chart\r\n\t\tmaintainAspectRatio: false,\r\n\t\ttitle: {\r\n\t\t\tdisplay: false,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\tlegend: {\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t\ttitleFontSize: DEFAULT_FONT_SIZE,\r\n\t\t\tbodyFontSize: DEFAULT_FONT_SIZE,\r\n\t\t\tbodyFontFamily: FONT,\r\n\t\t\ttitleFontFamily: FONT,\r\n\t\t\txPadding: 8,\r\n\t\t\tyPadding: 8,\r\n\t\t\tcornerRadius: 0,\r\n\t\t\tbodySpacing: 4,\r\n\t\t\tcaretSize: 8,\r\n\t\t\tdisplayColors: true,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function(t, d) {\r\n\t\t\t\t\t// This adds currency MainToken (DAI) to y3Label in the tooltips\r\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\r\n\t\t\t\t\tvar yLabel =\r\n\t\t\t\t\t\txLabel === y3Label\r\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\r\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\r\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\thover: {\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t},\r\n\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tdrawBorder: true,\r\n\t\t\t\t\t\tdrawTicks: true,\r\n\t\t\t\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tautoSkip: true,\r\n\t\t\t\t\t\tmaxTicksLimit: 2,\r\n\t\t\t\t\t\tmaxRotation: 0,\r\n\t\t\t\t\t\tpadding: -24,\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t\tcallback: () => '',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t// NOTE: this one is just to show constant size grid lines\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t// color: ALEX_GREY_LIGHT,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tdrawBorder: false,\r\n\t\t\t\t\t\tdrawTicks: false,\r\n\t\t\t\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tmaxTicksLimit: 11,\r\n\t\t\t\t\t\tstepSize: 1,\r\n\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\tmax: 10,\r\n\t\t\t\t\t\tcallback: () => '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tid: 'y-axis-dummy-grid-lines',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-2',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-3',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t// Hax - force to shift the data veridically\r\n\t\t\t\t\t\t// because chance for overlapping with -1 is very big\r\n\t\t\t\t\t\t// At same CPM impressions are the same curve as the sped one\r\n\t\t\t\t\t\tmaxTicksLimit: 3,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-4',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Box height={chartHeight}>\r\n\t\t\t\t<Line height={chartHeight} data={chartData} options={linesOptions} />\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tpx={1}\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t<DefaultLabel label={defaultLabels[0]} align='left' />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t<Typography component='div' variant='caption' align='center'>\r\n\t\t\t\t\t\t{t(xLabel || 'TIMEFRAME')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t<DefaultLabel label={defaultLabels[1]} align='right' />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useWindowSize() {\r\n\tconst hasWindow = typeof window === 'object'\r\n\r\n\tfunction getWindowSize() {\r\n\t\treturn {\r\n\t\t\twidth: hasWindow ? window.innerWidth : 0,\r\n\t\t\theight: hasWindow ? window.innerHeight : 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst [windowSize, setWindowSize] = useState(getWindowSize)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!hasWindow) {\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tfunction onResize() {\r\n\t\t\tsetWindowSize(getWindowSize())\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', onResize)\r\n\r\n\t\treturn () => window.removeEventListener('resize', onResize)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [hasWindow])\r\n\r\n\treturn windowSize\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Typography } from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { ArrowTooltip } from 'components/common/tooltips'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport { Info, Visibility, VisibilityOff } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t\tposition: 'relative',\r\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\r\n\t\t\tcolor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\r\n\t\t\t\ttheme.palette.text.primary,\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tvisibilityIcon: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: theme.spacing(0.3),\r\n\t\t\tright: theme.spacing(0.5),\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst StatsCard = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tsubtitle,\r\n\t\tlinkCard,\r\n\t\tchildren,\r\n\t\tonClick,\r\n\t\tbgColor,\r\n\t\tloading,\r\n\t\texplain,\r\n\t\tdataVisible,\r\n\t} = props\r\n\r\n\tconst classes = useStyles({ bgColor, dataVisible })\r\n\r\n\tconst VIcon = dataVisible ? Visibility : VisibilityOff\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\toverflow='hidden'\r\n\t\t\tp={1}\r\n\t\t\tvariant='outlined'\r\n\t\t\tclassName={classnames(classes.root, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\tjustifyContent='center'\r\n\t\t\talignContent='stretch'\r\n\t\t\tflexWrap='wrap'\r\n\t\t\tflexGrow={1}\r\n\t\t>\r\n\t\t\t<Box>\r\n\t\t\t\t{children}\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tjustifyContent='flex-start'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tpr={3}\r\n\t\t\t\t>\r\n\t\t\t\t\t{onClick && <VIcon className={classes.visibilityIcon} size='large' />}\r\n\t\t\t\t\t{title && (\r\n\t\t\t\t\t\t<Typography variant='h6' noWrap>\r\n\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{subtitle &&\r\n\t\t\t\t\t(explain ? (\r\n\t\t\t\t\t\t<ArrowTooltip\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t<Typography component='div' variant='caption'>\r\n\t\t\t\t\t\t\t\t\t{explain}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t\t\t\t{subtitle} <Info style={{ fontSize: 12 }} />\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</ArrowTooltip>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Typography component='div'>{subtitle}</Typography>\r\n\t\t\t\t\t))}\r\n\t\t\t</Box>\r\n\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default StatsCard\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdayWrapper: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tday: {\r\n\t\t\twidth: 36,\r\n\t\t\theight: 36,\r\n\t\t\tfontSize: theme.typography.caption.fontSize,\r\n\t\t\tmargin: '0 2px',\r\n\t\t\tcolor: 'inherit',\r\n\t\t},\r\n\t\tcustomDayHighlight: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: '2px',\r\n\t\t\tright: '2px',\r\n\t\t\tborder: `1px solid ${theme.palette.secondary.main}`,\r\n\t\t\tborderRadius: '50%',\r\n\t\t},\r\n\t\tnonCurrentMonthDay: {\r\n\t\t\tcolor: theme.palette.text.disabled,\r\n\t\t},\r\n\t\thighlightNonCurrentMonthDay: {\r\n\t\t\tcolor: '#676767',\r\n\t\t},\r\n\t\thighlight: {\r\n\t\t\tbackground: theme.palette.primary.main,\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tfirstHighlight: {\r\n\t\t\textend: 'highlight',\r\n\t\t\tborderTopLeftRadius: '50%',\r\n\t\t\tborderBottomLeftRadius: '50%',\r\n\t\t},\r\n\t\tendHighlight: {\r\n\t\t\textend: 'highlight',\r\n\t\t\tborderTopRightRadius: '50%',\r\n\t\t\tborderBottomRightRadius: '50%',\r\n\t\t},\r\n\t\tdayDisabled: {\r\n\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\r\n\t\t\tpointerEvents: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport { DatePicker as MuiDatePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {\r\n\tDateRangeSharp,\r\n\tNavigateNextRounded,\r\n\tNavigateBeforeRounded,\r\n\tUpdate,\r\n} from '@material-ui/icons'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport dateUtils, { makeJSDateObject } from 'helpers/dateUtils'\r\nimport clsx from 'clsx'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <DateRangeSharp />,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonNextClick,\r\n\tonLiveClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t{onNextClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\r\n\t\t\t\t<NavigateNextRounded />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t\t{onLiveClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\r\n\t\t\t\t<Update />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DatePicker extends Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tcalendarIcon,\r\n\t\t\ticon,\r\n\t\t\ticonColor,\r\n\t\t\tInputProps = {},\r\n\t\t\tonIconClick,\r\n\t\t\tonNextClick,\r\n\t\t\tonLiveClick,\r\n\t\t\tonBackClick,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDatePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\t...InputProps,\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t\tonNextClick={onNextClick}\r\n\t\t\t\t\t\t\tonLiveClick={onLiveClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t\tstartAdornment: onBackClick ? (\r\n\t\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\r\n\t\t\t\t\t\t\t\t<NavigateBeforeRounded />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DatePicker\r\n\r\nconst datePickerStyled = ({\r\n\tclasses,\r\n\tcalendarIcon,\r\n\ticon,\r\n\tInputProps = {},\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<DatePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\t...InputProps,\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DatePickerContrast = withStyles(styles)(datePickerStyled)\r\n\r\nconst dayIsFuture = date => dateUtils.isAfter(date, dateUtils.date())\r\n\r\nfunction PeriodSelectDatePicker({ classes, period, ...rest }) {\r\n\tconst renderWrappedWeekDay = (date, selectedDate, dayInCurrentMonth) => {\r\n\t\tlet dateClone = makeJSDateObject(date)\r\n\t\tlet selectedDateClone = makeJSDateObject(selectedDate)\r\n\r\n\t\tconst start = dateUtils.startOfDay(selectedDateClone)\r\n\t\tlet end = dateUtils.date(start)\r\n\r\n\t\tswitch (period) {\r\n\t\t\tcase 'week':\r\n\t\t\t\tend = dateUtils.startOfDay(dateUtils.addDays(start, 6))\r\n\t\t\t\tmaxDate = dateUtils.addDays(dateUtils.date(), -6)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'month':\r\n\t\t\t\tend = dateUtils.startOfDay(\r\n\t\t\t\t\tdateUtils.addDays(dateUtils.addMonths(start, 1), -1)\r\n\t\t\t\t)\r\n\t\t\t\tmaxDate = dateUtils.addDays(dateUtils.addMonths(dateUtils.date(), 1), 1)\r\n\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\tconst dayIsBetween = dateUtils.isWithinInterval(dateClone, { start, end })\r\n\t\tconst isFirstDay = dateUtils.isSameDay(dateClone, start)\r\n\t\tconst isLastDay = dateUtils.isSameDay(dateClone, end)\r\n\r\n\t\tconst wrapperClassName = clsx({\r\n\t\t\t[classes.highlight]: dayIsBetween,\r\n\t\t\t[classes.firstHighlight]: isFirstDay,\r\n\t\t\t[classes.endHighlight]: isLastDay,\r\n\t\t})\r\n\r\n\t\tconst dayClassName = clsx(classes.day, {\r\n\t\t\t[classes.nonCurrentMonthDay]: !dayInCurrentMonth,\r\n\t\t\t[classes.highlightNonCurrentMonthDay]: !dayInCurrentMonth && dayIsBetween,\r\n\t\t\t[classes.dayDisabled]: dayIsFuture(dateClone),\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t<div className={wrapperClassName}>\r\n\t\t\t\t<IconButton className={dayClassName}>\r\n\t\t\t\t\t<span> {dateUtils.format(dateClone, 'D')} </span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tlet maxDate = dateUtils.date()\r\n\r\n\tswitch (period) {\r\n\t\tcase 'week':\r\n\t\t\tmaxDate = dateUtils.addDays(dateUtils.date(), -6)\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\tmaxDate = dateUtils.addDays(dateUtils.addMonths(dateUtils.date(), -1), 1)\r\n\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn (\r\n\t\t<DatePicker\r\n\t\t\tlabel='Week Picker'\r\n\t\t\trenderDay={renderWrappedWeekDay}\r\n\t\t\tshouldDisableDate={date => dayIsFuture(date)}\r\n\t\t\tviews={['year', 'month', 'date']}\r\n\t\t\tmaxDate={maxDate}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const PeriodDatePicker = withStyles(styles)(PeriodSelectDatePicker)\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useKeyPress(targetKey) {\r\n\tconst [keyPressed, setKeyPressed] = useState(false)\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst downHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(true)\r\n\t\t}\r\n\t}\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst upHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('keydown', downHandler)\r\n\t\twindow.addEventListener('keyup', upHandler)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', downHandler)\r\n\t\t\twindow.removeEventListener('keyup', upHandler)\r\n\t\t}\r\n\t}, [downHandler, upHandler])\r\n\r\n\treturn keyPressed\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tVisibility,\r\n\tMonetizationOn,\r\n\tMouse,\r\n\tEqualizer,\r\n} from '@material-ui/icons'\r\nimport { Box } from '@material-ui/core'\r\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\r\nimport StatsCard from './StatsCard'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { PeriodDatePicker, DatePicker } from 'components/common/DatePicker'\r\nimport { ALEX_GREY_LIGHT } from 'components/App/themeMUi'\r\nimport { styles } from './styles'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport {\r\n\texecute,\r\n\tupdateIdSideAnalyticsChartTimeframe,\r\n\tupdateIdSideAnalyticsChartPeriod,\r\n\tupdateAnalyticsPeriodPrevNextLive,\r\n\tupdateAccountAnalyticsThrottled,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectTotalImpressions,\r\n\tselectTotalMoney,\r\n\tselectAverageCPM,\r\n\tselectMainToken,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectTotalClicks,\r\n\tselectChartDatapointsCPM,\r\n\tselectChartDatapointsImpressions,\r\n\tselectChartDatapointsClicks,\r\n\tselectChartDatapointsPayouts,\r\n\tselectSide,\r\n\tselectAnalyticsDataSide,\r\n\tselectAuth,\r\n\tselectInitialDataLoadedByData,\r\n\tselectPublisherHasAdSlotsButNoImpressionsLastHour,\r\n\t// selectMissingRevenueDataPointsAccepted,\r\n\tselectAnalyticsMinAndMaxDates,\r\n} from 'selectors'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { useKeyPress } from 'hooks/useKeyPress'\r\nimport { analyticsLoopCustom } from 'services/store-data/analytics'\r\nimport {\r\n\tgetPeriodLabel,\r\n\tgetPeriodDataPointLabel,\r\n} from 'helpers/analyticsTimeHelpers'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { ExternalAnchor } from 'components/common/anchor'\r\n\r\nconst min = 60 * 1000\r\n\r\nconst timeoutMap = {\r\n\thour: min,\r\n\tday: 10 * min,\r\n\tweek: 30 * min,\r\n\tmonth: 60 * 2 * min,\r\n\tyear: 60 * 24 * min,\r\n}\r\n\r\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\r\n\tconst translated = { ...tf }\r\n\ttranslated.label = t(tf.label)\r\n\treturn translated\r\n})\r\n\r\nconst getMetrics = theme => ({\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_REVENUE'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: theme.palette.accentTwo.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t},\r\n\t],\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_SPEND'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: theme.palette.accentOne.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t},\r\n\t],\r\n})\r\n\r\nconst getDefaultLabels = ({ timeframe, start, end }) => [\r\n\tgetPeriodDataPointLabel({ timeframe, time: start }),\r\n\tgetPeriodDataPointLabel({ timeframe, time: end }),\r\n]\r\n\r\nconst DatePickerSwitch = ({ timeframe, period: { start, end }, ...rest }) => {\r\n\tswitch (timeframe) {\r\n\t\tcase 'week':\r\n\t\t\treturn (\r\n\t\t\t\t<PeriodDatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tperiod='week'\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'day':\r\n\t\t\treturn (\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'hour':\r\n\t\t\treturn (\r\n\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tviews={['date', 'hours']}\r\n\t\t\t\t\troundHour\r\n\t\t\t\t\tminutesStep={60}\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'month':\r\n\t\t\treturn (\r\n\t\t\t\t<PeriodDatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tperiod='month'\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'year':\r\n\t\t\treturn (\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tviews={['year', 'month']}\r\n\t\t\t\t\tmaxDate={dateUtils.addMonths(dateUtils.date(), -11)}\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tdefault:\r\n\t\t\treturn <DatePicker {...rest} />\r\n\t}\r\n}\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function BasicStats() {\r\n\tconst theme = useTheme()\r\n\tconst classes = useStyles()\r\n\tconst SPACE = useKeyPress(' ')\r\n\tconst ARROW_LEFT = useKeyPress('ArrowLeft')\r\n\tconst ARROW_RIGHT = useKeyPress('ArrowRight')\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst isAuth = useSelector(state => selectAuth(state))\r\n\tconst { start, end } = useSelector(selectIdentitySideAnalyticsPeriod)\r\n\tconst timeframe = useSelector(selectIdentitySideAnalyticsTimeframe)\r\n\tconst uiSide = useSelector(selectSide)\r\n\t// NOTE: side can be: for-publisher, for-advertiser or current campaign in details Id\r\n\tconst side = useSelector(selectAnalyticsDataSide)\r\n\tconst { minDate, maxDate } = useSelector(selectAnalyticsMinAndMaxDates)\r\n\tconst [loop, setLoop] = useState()\r\n\tconst [metrics, setMetrics] = useState(null)\r\n\tconst allChannelsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allChannels')\r\n\t)\r\n\tconst advAnalyticsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\tconst initialDataLoaded =\r\n\t\tallChannelsLoaded && advAnalyticsLoaded && itemsLoaded\r\n\tconst [data1Active, setData1Active] = useState(true)\r\n\tconst [data2Active, setData2Active] = useState(true)\r\n\tconst [data3Active, setData3Active] = useState(true)\r\n\tconst [data4Active, setData4Active] = useState(true)\r\n\r\n\tconst defaultLabels = getDefaultLabels({ timeframe, start, end })\r\n\r\n\tconst totalImpressions = useSelector(state =>\r\n\t\tselectTotalImpressions(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalClicks = useSelector(state =>\r\n\t\tselectTotalClicks(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalMoney = useSelector(state =>\r\n\t\tselectTotalMoney(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst averageCPM = useSelector(state =>\r\n\t\tselectAverageCPM(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst payouts = useSelector(state =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst impressions = useSelector(state =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst clicks = useSelector(state =>\r\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst cpm = useSelector(state =>\r\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst goNext = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: true }))\r\n\t}\r\n\r\n\tconst goPrev = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: false }))\r\n\t}\r\n\r\n\tconst goLive = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ live: true }))\r\n\t}\r\n\r\n\tconst showTooltip = useSelector(state =>\r\n\t\tselectPublisherHasAdSlotsButNoImpressionsLastHour(state, { timeframe })\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMetrics(getMetrics(theme))\r\n\t}, [theme])\r\n\r\n\tuseEffect(() => {\r\n\t\tSPACE && goLive()\r\n\t\tARROW_RIGHT && goNext()\r\n\t\tARROW_LEFT && goPrev()\r\n\t}, [ARROW_LEFT, ARROW_RIGHT, SPACE])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialDataLoaded && side && timeframe && start) {\r\n\t\t\texecute(updateAccountAnalyticsThrottled())\r\n\t\t}\r\n\t}, [initialDataLoaded, side, timeframe, start])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialDataLoaded && side) {\r\n\t\t\tgoLive()\r\n\t\t}\r\n\t}, [initialDataLoaded, side])\r\n\r\n\tuseEffect(() => {\r\n\t\tinitialDataLoaded && loop && loop.start()\r\n\t\treturn () => {\r\n\t\t\tloop && loop.stop()\r\n\t\t}\r\n\t}, [initialDataLoaded, loop])\r\n\r\n\tuseEffect(() => {\r\n\t\tloop && loop.stop()\r\n\t\tsetLoop(\r\n\t\t\tanalyticsLoopCustom({\r\n\t\t\t\ttimeout: timeoutMap[timeframe],\r\n\t\t\t\tsyncAction: async () => {\r\n\t\t\t\t\tsetTimeout(\r\n\t\t\t\t\t\tasync () =>\r\n\t\t\t\t\t\t\tisAuth && (await execute(updateAccountAnalyticsThrottled())),\r\n\t\t\t\t\t\ttimeoutMap[timeframe] -\r\n\t\t\t\t\t\t\t(Date.now() % timeoutMap[timeframe]) +\r\n\t\t\t\t\t\t\t5 * 1000\r\n\t\t\t\t\t)\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [timeframe, isAuth])\r\n\r\n\tconst dataSynced =\r\n\t\t!!initialDataLoaded &&\r\n\t\t[\r\n\t\t\timpressions.labels[impressions.labels.length - 1],\r\n\t\t\tpayouts.labels[payouts.labels.length - 1],\r\n\t\t].every(x => !!x && x === clicks.labels[clicks.labels.length - 1]) &&\r\n\t\t[totalImpressions, totalMoney, averageCPM, totalClicks].every(\r\n\t\t\tx => x !== null\r\n\t\t)\r\n\r\n\treturn (\r\n\t\tuiSide &&\r\n\t\tmetrics && (\r\n\t\t\t<Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\tflexGrow={1}\r\n\t\t\t\t\t\talignItems='start'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\r\n\t\t\t\t\t\t\t\t// helperText={t(timeHints[timeframe])}\r\n\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t//TODO: fix change of timeframe, set default period as well\r\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartTimeframe(val))\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tsource={timeFrames}\r\n\t\t\t\t\t\t\t\tvalue={timeframe}\r\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\r\n\t\t\t\t\t\t\t<DatePickerSwitch\r\n\t\t\t\t\t\t\t\tperiod={{ start, end }}\r\n\t\t\t\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\t\t\t\tvalue={start}\r\n\t\t\t\t\t\t\t\tminutesStep={60}\r\n\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartPeriod(val))\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tInputProps={{ multiline: true, className: classes.datePicker }}\r\n\t\t\t\t\t\t\t\tdisableFuture\r\n\t\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\t\tlabel={t('ANALYTICS_PERIOD')}\r\n\t\t\t\t\t\t\t\tmaxDate={maxDate}\r\n\t\t\t\t\t\t\t\tminDate={minDate}\r\n\t\t\t\t\t\t\t\t// Only when picking future hours as they can't be disabled\r\n\t\t\t\t\t\t\t\tmaxDateMessage='' //{t('MAX_DATE_ERROR')}\r\n\t\t\t\t\t\t\t\tminDateMessage='' // we do not need error msgs e.g. for new accounts\r\n\t\t\t\t\t\t\t\tstrictCompareDates\r\n\t\t\t\t\t\t\t\tonBackClick={e => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\tgoPrev()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonLiveClick={e => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\tgoLive()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonNextClick={e => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\tgoNext()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='primary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tonClick={() => setData1Active(!data1Active)}\r\n\t\t\t\t\t\tdataVisible={data1Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Visibility className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='secondary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\r\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\r\n\t\t\t\t\t\t).toFixed(2)} % ${t('LABEL_CTR')})`}\r\n\t\t\t\t\t\tonClick={() => setData2Active(!data2Active)}\r\n\t\t\t\t\t\tdataVisible={data2Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Mouse className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t{uiSide === 'advertiser' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentOne'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\r\n\t\t\t\t\t\t\tdataVisible={data3Active}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\r\n\t\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{uiSide === 'publisher' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentTwo'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\r\n\t\t\t\t\t\t\tdataVisible={data3Active}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\r\n\t\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='grey'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol} / CPM`}\r\n\t\t\t\t\t\tonClick={() => setData4Active(!data4Active)}\r\n\t\t\t\t\t\tdataVisible={data4Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Equalizer className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t{showTooltip && uiSide === 'publisher' && (\r\n\t\t\t\t\t\t<Alert severity='info'>\r\n\t\t\t\t\t\t\t{t('AD_SLOTS_NOT_GENERATING_IMPRESSIONS_WARNING')}{' '}\r\n\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\thref='https://help.adex.network/hc/en-us/articles/360013419399-Why-are-ads-not-showing-on-my-publisher-website-'\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<SimpleStatistics\r\n\t\t\t\t\t\tstart={start}\r\n\t\t\t\t\t\tend={end}\r\n\t\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\ttitle:\r\n\t\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdefaultLabels={defaultLabels}\r\n\t\t\t\t\t\tdata1={impressions}\r\n\t\t\t\t\t\tdata2={clicks}\r\n\t\t\t\t\t\tdata3={payouts}\r\n\t\t\t\t\t\tdata4={cpm}\r\n\t\t\t\t\t\tdata1Active={data1Active}\r\n\t\t\t\t\t\tdata2Active={data2Active}\r\n\t\t\t\t\t\tdata3Active={data3Active}\r\n\t\t\t\t\t\tdata4Active={data4Active}\r\n\t\t\t\t\t\tdataSynced={dataSynced}\r\n\t\t\t\t\t\ty1Label={metrics[uiSide][0].label}\r\n\t\t\t\t\t\ty1Color={metrics[uiSide][0].color}\r\n\t\t\t\t\t\ty2Label={metrics[uiSide][1].label}\r\n\t\t\t\t\t\ty2Color={metrics[uiSide][1].color}\r\n\t\t\t\t\t\ty3Label={metrics[uiSide][2].label}\r\n\t\t\t\t\t\ty3Color={metrics[uiSide][2].color}\r\n\t\t\t\t\t\ty4Label={metrics[uiSide][3].label}\r\n\t\t\t\t\t\ty4Color={metrics[uiSide][3].color}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t\tcardIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: '-33px',\r\n\t\t\tright: '-33px',\r\n\t\t\tfontSize: '120px',\r\n\t\t\topacity: '0.13',\r\n\t\t\ttransform: 'rotate(-45deg)',\r\n\t\t\tpointerEvents: 'none',\r\n\t\t},\r\n\t\t// NOTE: need this to match multilenie datepicker and dropdown heights\r\n\t\tdatePicker: {\r\n\t\t\tpaddingTop: 9.108,\r\n\t\t\tpaddingBottom: 9.108,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { Grid, Box } from '@material-ui/core'\r\n\r\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\r\nimport { BasicStats } from 'components/dashboard/containers/DashboardStats/BasicStats'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { t } from 'selectors'\r\n\r\nexport const CampaignStatsByTimeframe = ({ item }) => {\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tprop={'created'}\r\n\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tprop={'activeFrom'}\r\n\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\r\n\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<BasicStats />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useState, Fragment, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tPaper,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tTabs,\r\n\tTab,\r\n} from '@material-ui/core'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { Campaign as CampaignModel } from 'adex-models'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\r\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\r\nimport { Receipt } from 'components/dashboard/containers/Receipt'\r\nimport {\r\n\tselectCampaignAnalyticsToCountryTableData,\r\n\tselectCampaignAnalyticsToCountryMapChartData,\r\n\tt,\r\n} from 'selectors'\r\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\r\nimport MapChart from 'components/dashboard/charts/map/MapChart'\r\nimport { CampaignBasic } from './CampaignBasic'\r\nimport { CampaignAudience } from './CampaignAudience'\r\nimport { validateAndUpdateCampaign, updateMemoryUi, execute } from 'actions'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { CampaignStatsByTimeframe } from './CampaignStatsByTimeframe'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\n\r\nfunction Campaign({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'Campaign',\r\n\t\tmatch,\r\n\t\tobjModel: CampaignModel,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateCampaign,\r\n\t})\r\n\r\n\tconst campaign = new CampaignModel(item)\r\n\tconst { humanFriendlyName } = campaign.status || {}\r\n\tconst leader = campaign.spec.validators[0]\r\n\tconst follower = campaign.spec.validators[1]\r\n\tconst campaignId = campaign.id\r\n\tconst { status = {} } = item\r\n\tconst canSendMsgs =\r\n\t\tstatus.name &&\r\n\t\t['Ready', 'Waiting', 'Active', 'Unhealthy'].includes(status.name) &&\r\n\t\tstatus.humanFriendlyName !== 'Closed'\r\n\r\n\tconst isActive =\r\n\t\tstatus.humanFriendlyName === 'Active' ||\r\n\t\tstatus.humanFriendlyName === 'Paused'\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateMemoryUi('campaignId', campaignId))\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(updateMemoryUi('campaignId', undefined))\r\n\t\t}\r\n\t}, [campaignId])\r\n\r\n\tif (!campaignId) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND', {\r\n\t\t\t\t\targs: ['CAMPAIGN', match.params.itemId || ''],\r\n\t\t\t\t})}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_MAIN')} />\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_AUDIENCE')} />\r\n\t\t\t\t\t<Tab label={t('WEBSITE_STATS')} />\r\n\t\t\t\t\t<Tab label={t('COUNTRY_STATS')} />\r\n\t\t\t\t\t<Tab label={t('TIMEFRAME_STATS')} />\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t<Tab label={t('VALIDATORS')} />\r\n\t\t\t\t\t{['Closed', 'Completed'].includes(humanFriendlyName) && (\r\n\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<CampaignBasic\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\tisActive={isActive}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<CampaignAudience\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\tisActive={isActive}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\tflexGrow='1'\r\n\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box flexGrow='1' order={{ xs: 2, md: 2, lg: 1 }}>\r\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable\r\n\t\t\t\t\t\t\t\t\t\ttableId={`campaignStatsBreakdown${campaignId}`}\r\n\t\t\t\t\t\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\t\t\t\tisActive={isActive}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2} order={{ xs: 1, md: 1, lg: 2 }}>\r\n\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={campaignId} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 3 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Grid container spacing={1} alignItems='flex-start'>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<MapChart\r\n\t\t\t\t\t\t\t\t\tchartId={`campaign-${campaignId}`}\r\n\t\t\t\t\t\t\t\t\tselector={state =>\r\n\t\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryMapChartData(\r\n\t\t\t\t\t\t\t\t\t\t\tstate,\r\n\t\t\t\t\t\t\t\t\t\t\tcampaignId\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\r\n\t\t\t\t\t\t\t\t\t\tselector={selectCampaignAnalyticsToCountryTableData}\r\n\t\t\t\t\t\t\t\t\t\tselectorArgs={campaignId}\r\n\t\t\t\t\t\t\t\t\t\ttableId={`CampaignStatsByCountry${campaignId}`}\r\n\t\t\t\t\t\t\t\t\t\tshowEarnings\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{tabIndex === 4 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<CampaignStatsByTimeframe item={item} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 5 && (\r\n\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\ttableId={`campaignUnits-${campaignId}`}\r\n\t\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 6 && (\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/status`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/status`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 7 && <Receipt itemId={campaignId} />}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Campaign\r\n","import React, { Fragment, useState } from 'react'\r\nimport { Box, Tabs, Tab } from '@material-ui/core'\r\nimport { BasicStats } from './BasicStats'\r\nimport {\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { t } from 'selectors'\r\n\r\nexport function AdvertiserStats() {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CHARTS')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<BasicStats side='advertiser' />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { utils } from 'ethers'\r\nimport Media from 'components/common/media'\r\nimport { useSelector } from 'react-redux'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tt,\r\n\tselectBestEarnersTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { useTableData } from './tableHooks'\r\nconst RRMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: true,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\tconst ImgComponent = to ? RRMedia : Media\r\n\t\t\t\tconst imgProps = to ? { to } : { fullScreenOnClick: true }\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImgComponent\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t{...imgProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [i.data[0].id, i.data[1].replace('legacy_', ''), i.data[2]],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'ctr',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\trowsPerPage: 5,\r\n})\r\n\r\nfunction BestEarnersTable(props) {\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\thandleSelect,\r\n\t\tselector = selectBestEarnersTableData,\r\n\t\ttitle = '',\r\n\t} = props\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst dataLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\r\n\t)\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t\t[noActions, noClone, symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\t{...props}\r\n\t\t\ttitle={t(title)}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\thandleRowSelectionChange={handleSelect}\r\n\t\t\tloading={!dataLoaded}\r\n\t\t\tnoSearch\r\n\t\t\tnoDownload\r\n\t\t\tnoPrint\r\n\t\t\tnoViewColumns\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default BestEarnersTable\r\n","import React, { Fragment, useState } from 'react'\r\nimport { Box, Grid, Paper, Typography, Tab, Tabs } from '@material-ui/core'\r\nimport {\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport BestEarnersTable from 'components/dashboard/containers/Tables/BestEarnersTable'\r\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\r\nimport MapChart from 'components/dashboard/charts/map/MapChart'\r\nimport { BasicStats } from './BasicStats'\r\nimport {\r\n\tt,\r\n\tselectPublisherStatsByCountryTableData,\r\n\tselectPublisherStatsByCountryMapChartData,\r\n} from 'selectors'\r\nimport { timeSinceEpoch } from 'helpers/formatters'\r\n\r\nexport function PublisherStats() {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CHARTS')} />\r\n\t\t\t\t\t<Tab label={t('COUNTRY_DATA')} />\r\n\t\t\t\t\t<Tab label={t('TABLE_BEST_EARNERS_UNITS_TITLE')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ItemTabsContainer noBackground>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<BasicStats side='publisher' />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\r\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: timeSinceEpoch() })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<MapChart\r\n\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryMapChartData}\r\n\t\t\t\t\t\t\t\t\tchartId='publisher-stats'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\r\n\t\t\t\t\t\t\t\t\t\ttableId='publisherStatsByCountry'\r\n\t\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryTableData}\r\n\t\t\t\t\t\t\t\t\t\t// TODO: uncomment after 26.04.2020\r\n\t\t\t\t\t\t\t\t\t\tshowEarnings\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t// <Box p={1}>\r\n\t\t\t\t\t<BestEarnersTable\r\n\t\t\t\t\t\ttableId='publisherBestEarnersStats'\r\n\t\t\t\t\t\ttitle='TABLE_BEST_EARNERS_UNITS_TITLE'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t// </Box>\r\n\t\t\t\t)}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport default PublisherStats\r\n","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, Tabs, Tab, Box } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTitle,\r\n\tItemDescription,\r\n\tItemAdType,\r\n\tItemTargetURL,\r\n\tMediaCard,\r\n\tArchiveItemBtn,\r\n\tItemTabsContainer,\r\n\tItemTabsBar,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { AdUnit } from 'adex-models'\r\nimport { validateAndUpdateUnit } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nfunction Unit({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'AdUnit',\r\n\t\tmatch,\r\n\t\tobjModel: AdUnit,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateUnit,\r\n\t})\r\n\r\n\tconst { validations } = hookProps\r\n\r\n\tconst {\r\n\t\tid,\r\n\t\ttitle,\r\n\t\tarchived,\r\n\t\tdescription,\r\n\t\tmediaUrl,\r\n\t\tmediaMime,\r\n\t\ttype,\r\n\t\ttargetUrl,\r\n\t} = item\r\n\tconst { title: errTitle, description: errDescription } = validations\r\n\r\n\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('AD_UNIT')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\t\tlabel={t('UNIT_MEDIA_IMG_LABEL')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t{!archived && (\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemDescription\r\n\t\t\t\t\t\t\t\t\tdescription={description}\r\n\t\t\t\t\t\t\t\t\terrDescription={errDescription}\r\n\t\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemAdType type={type} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTargetURL targetUrl={targetUrl} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nUnit.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Unit\r\n","import React from 'react'\r\nimport {\r\n\tInputAdornment,\r\n\tIconButton,\r\n\tTextField,\r\n\tBox,\r\n\tFormControl,\r\n\tFormControlLabel,\r\n\tFormGroup,\r\n\tCheckbox,\r\n\tGrid,\r\n} from '@material-ui/core'\r\nimport { Edit, UndoOutlined } from '@material-ui/icons'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport AdSlotMedia from 'components/dashboard/forms/items/AdSlot/AdSlotMedia'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { BigNumber } from 'ethers'\r\n\r\nimport {\r\n\texecute,\r\n\tresetNewItem,\r\n\tupdateSlotPasback,\r\n\tmapCurrentToNewPassback,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport { t, selectMainToken } from 'selectors'\r\n\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport const PassbackSteps = ({ updateMultipleFields, itemId, ...props }) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('AdSlot', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase='new-AdUnit-'\r\n\t\t\titemType='AdSlot'\r\n\t\t\tstepsId='new-slot-'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\r\n\t\t\t\t\tcomponent: AdSlotMedia,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateSlotPasback({ updateMultipleFields, itemId, ...props })\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={AdSlot}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst PassbackEdit = WithDialog(PassbackSteps)\r\n\r\nexport const SlotAdvancedRules = ({\r\n\titem = {},\r\n\tupdateMultipleFields,\r\n\tvalidations,\r\n\tvalidateId,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst { address, decimals, symbol } = selectMainToken()\r\n\tconst { minPerImpression, rulesInput: slotRulesInput } = item\r\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\r\n\tconst { autoSetMinCPM, allowAdultContent } = rulesInput.inputs\r\n\tconst active = !!activeFields.minPerImpression\r\n\tconst { minPerImpression: errMin } = validations\r\n\tconst showError = !!errMin && errMin.dirty\r\n\tconst minCPM =\r\n\t\ttypeof minPerImpression === 'object'\r\n\t\t\t? formatTokenAmount(\r\n\t\t\t\t\tBigNumber.from((item.minPerImpression || {})[address] || '0').mul(\r\n\t\t\t\t\t\t1000\r\n\t\t\t\t\t),\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\ttrue\r\n\t\t\t  )\r\n\t\t\t: minPerImpression\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL_MANUAL', { args: [symbol] })}\r\n\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\tvalue={minCPM || ''}\r\n\t\t\t\t\tdisabled={!!autoSetMinCPM || !active}\r\n\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\tupdateField('minPerImpression', value, {\r\n\t\t\t\t\t\t\tname: 'slotAdvanced',\r\n\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t\terror={showError}\r\n\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\tshowError ? errMin.errMsg : t('SLOT_MANUAL_CPM_MIN_HELPER')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tInputProps={\r\n\t\t\t\t\t\t!autoSetMinCPM\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? returnPropToInitialState('minPerImpression')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: setActiveFields('minPerImpression', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst checked = ev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport const SlotEdits = ({ item, ...hookProps }) => {\r\n\treturn (\r\n\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t<PassbackEdit\r\n\t\t\t\tfullWidth\r\n\t\t\t\tsize='large'\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='UPDATE_PASSBACK'\r\n\t\t\t\ttitle='UPDATE_SLOT_PASSBACK'\r\n\t\t\t\titemId={item.id}\r\n\t\t\t\tdisableBackdropClick\r\n\t\t\t\tupdateMultipleFields={hookProps.updateMultipleFields}\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tmapCurrentToNewPassback({\r\n\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\n\r\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { SlotEdits, SlotAdvancedRules } from './SlotEdits'\r\nimport {\r\n\tItemTitle,\r\n\tItemDescription,\r\n\tItemAdType,\r\n\tItemFallbackMediaURL,\r\n\tMediaCard,\r\n\tItemWebsite,\r\n\tArchiveItemBtn,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { t } from 'selectors'\r\n\r\nexport const SlotBasic = ({ item, ...hookProps }) => {\r\n\tconst {\r\n\t\tid,\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\tmediaUrl,\r\n\t\tmediaMime,\r\n\t\ttype,\r\n\t\ttargetUrl,\r\n\t\twebsite,\r\n\t\tarchived,\r\n\t\trules,\r\n\t} = item\r\n\tconst { title: errTitle, description: errDescription } = hookProps.validations\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Box p={2}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemFallbackMediaURL targetUrl={targetUrl} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<SlotEdits item={item} {...hookProps} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{!archived && (\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\titemType='AdSlot'\r\n\t\t\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\r\n\t\t\t\t\t\t\t\t\tid='slot-rules-advanced'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\r\n\t\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t\t<SlotAdvancedRules item={item} {...hookProps} />\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\r\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\r\n\t\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemDescription\r\n\t\t\t\t\t\t\t\tdescription={description}\r\n\t\t\t\t\t\t\t\terrDescription={errDescription}\r\n\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemAdType type={type} />\r\n\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemWebsite item={item} {...hookProps} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\t\t\tlabel={t('WEBSITE_VERIFICATION')}\r\n\t\t\t\t\t\t\t\tvalue={<WebsiteIssues website={website} tryAgainBtn />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport copy from 'copy-to-clipboard'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { Paper, IconButton, Box, Typography } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\n\r\nimport { execute, addToast } from 'actions'\r\n\r\nimport url from 'url'\r\nimport {\r\n\tselectRoutineWithdrawTokensAddresses,\r\n\tselectHasConfirmedEmail,\r\n\tselectAccountIdentityAddr,\r\n\tt,\r\n} from 'selectors'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const IntegrationCode = ({ slot = {} }) => {\r\n\tconst classes = useStyles()\r\n\tconst { id, type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst isEmailConfirmed = useSelector(selectHasConfirmedEmail)\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\t// minTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t\tmarketSlot: id,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\r\n\t// \t<Alert severity='warning' variant='filled'>\r\n\t// \t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\r\n\t// \t<div\r\n\t// \t\tdangerouslySetInnerHTML={{\r\n\t// \t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\r\n\t// \t\t}}\r\n\t// \t/>\r\n\t// </Alert>\r\n\treturn isEmailConfirmed ? (\r\n\t\t<Box overflow='hidden'>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tpx={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography>{t('INTEGRATION_CODE')}</Typography>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t) : (\r\n\t\t<Alert severity='warning' variant='filled'>\r\n\t\t\t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\r\n\t\t\t<div\r\n\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Alert>\r\n\t)\r\n}\r\n\r\nIntegrationCode.propTypes = {\r\n\tslot: PropTypes.object.isRequired,\r\n}\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { AdSlot } from 'adex-models'\r\nimport { Tabs, Tab } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { SlotBasic } from './SlotBasic'\r\nimport { IntegrationCode } from './IntegrationCode'\r\nimport { validateAndUpdateSlot } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nfunction Slot({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'AdSlot',\r\n\t\tmatch,\r\n\t\tobjModel: AdSlot,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateSlot,\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('SLOT_MAIN')} />\r\n\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\r\n\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t{tabIndex === 0 && <SlotBasic item={item} {...hookProps} />}\r\n\t\t\t\t{tabIndex === 1 && <IntegrationCode slot={item} />}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nSlot.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Slot\r\n","import React, { Fragment, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport { Audience as AudienceModel } from 'adex-models'\r\nimport { Tabs, Tab, Box } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTitle,\r\n\tArchiveItemBtn,\r\n\tItemTabsContainer,\r\n\tItemTabsBar,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport {\r\n\tNewCampaignFromAudience,\r\n\tAudienceRules,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\texecute,\r\n\tupdateNewCampaign,\r\n\tupdateNewAudience,\r\n\tresetNewItem,\r\n\tupdateAudienceInput,\r\n\tmapCurrentToNewAudience,\r\n} from 'actions'\r\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport { validateAndUpdateAudience as validateAndUpdateFn } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tactions: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\t'& > *': {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport const TargetingSteps = ({ updateField, itemId, ...props }) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('Audience', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase={`update-audience-${itemId}-`}\r\n\t\t\titemType='Audience'\r\n\t\t\tstepsId={`update-campaign-${itemId}`}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SAVED_AUDIENCE',\r\n\t\t\t\t\tcomponent: AudienceRules,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(updateAudienceInput({ updateField, itemId, ...props })),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={AudienceModel}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst TargetingRulesEdit = WithDialog(TargetingSteps)\r\n\r\nfunction Audience({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tconst { item = {}, ...hookProps } = useItem({\r\n\t\titemType: 'Audience',\r\n\t\tmatch,\r\n\t\tobjModel: AudienceModel,\r\n\t\tvalidateAndUpdateFn,\r\n\t})\r\n\r\n\tconst { validations } = hookProps\r\n\tconst { inputs, title, id, archived } = item\r\n\tconst { title: errTitle } = validations\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('AUDIENCE_MAIN')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t<Box p={1} pt={2}>\r\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\r\n\t\t\t\t\t<AudiencePreview audienceInput={inputs} />\r\n\r\n\t\t\t\t\t<Box className={classes.actions}>\r\n\t\t\t\t\t\t<TargetingRulesEdit\r\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\r\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\r\n\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\tdisableBackdropClick\r\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tmapCurrentToNewAudience({\r\n\t\t\t\t\t\t\t\t\t\titemId: id,\r\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<NewAudienceDialog\r\n\t\t\t\t\t\t\tbtnLabel='NEW_AUDIENCE_FROM_THIS'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\r\n\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t\ttitle: title + ' (2)',\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t{!archived && (\r\n\t\t\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\t\t\titemType='Audience'\r\n\t\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\tgoToTableOnSuccess\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nAudience.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Audience\r\n","import React, { Fragment } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tList,\r\n\tListItem,\r\n\tDivider,\r\n\tListItemText,\r\n\tListItemIcon,\r\n\tListItemSecondaryAction,\r\n\tListSubheader,\r\n\tPaper,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { CheckSharp, WarningSharp } from '@material-ui/icons'\r\nimport {\r\n\tWebsiteIssues,\r\n\tWebsiteIssuesLegend,\r\n\tWebsiteVerifyBtn,\r\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport { t, selectWebsitesList } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tlist: {\r\n\t\twidth: '100%',\r\n\t},\r\n\tinline: {\r\n\t\tdisplay: 'inline',\r\n\t\twordBreak: 'break-all',\r\n\t},\r\n\twarning: {\r\n\t\tcolor: theme.palette.warning.main,\r\n\t},\r\n\tsuccess: {\r\n\t\tcolor: theme.palette.success.main,\r\n\t},\r\n}))\r\n\r\nexport default function Websites() {\r\n\tconst classes = useStyles()\r\n\tconst websites = useSelector(selectWebsitesList)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<WebsiteIssuesLegend />\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<List className={classes.list} dense disablePadding>\r\n\t\t\t\t\t\t<ListSubheader disableSticky>\r\n\t\t\t\t\t\t\t{t('REGISTERED_WEBSITES')}\r\n\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t{websites.map(({ id, issues, updated }, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t{issues.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<WarningSharp className={classes.warning} />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckSharp className={classes.success} />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={id}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondaryTypographyProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent: 'div',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondary={<WebsiteIssues issues={issues} asKeyWords />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t\t\t<WebsiteVerifyBtn\r\n\t\t\t\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tissues={issues}\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdated={updated}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t{index < websites.length - 1 && <Divider />}\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tTextField,\r\n\tButton,\r\n\tBox,\r\n\tListItemText,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectAccountStatsFormatted,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\n\r\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\tavailableIdentityBalanceMainToken: max,\r\n\t\tavailableIdentityBalanceAllMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tamountToWithdraw: errAmount,\r\n\t\twithdrawTo: errAddr,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t{availableIdentityBalanceAllMainToken !== max ? (\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tprimary={`${max || 0} ${symbol}`}\r\n\t\t\t\t\t\t\t\tsecondary={t(\r\n\t\t\t\t\t\t\t\t\t'IDENTITY_MAIN_TOKEN_BALANCE_WITHDRAW_AVAILABLE_INFO',\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360016097580-Why-can-t-I-withdraw-my-entire-balance-'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('FIND_MORE')}\r\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t\t\t\t{t(\r\n\t\t\t\t\t\t\t\t\t'EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY',\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Alert variant='filled' severity='warning'>\r\n\t\t\t\t\t\t\t{t('WITHDRAW_ADDRESS_WARNING')}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t!spinner && errAddr && !!errAddr.dirty ? errAddr.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{spinner && <InputLoading />}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\r\n\t\t\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawFromIdentity\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectSpinnerById,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst WithdrawAnyTokenFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst {\r\n\t\tamountToWithdraw,\r\n\t\twithdrawTo,\r\n\t\ttokenAddress,\r\n\t\ttokenDecimals,\r\n\t} = useSelector(state => selectNewTransactionById(state, stepsId))\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tamountToWithdraw: errAmount,\r\n\t\twithdrawTo: errAddr,\r\n\t\ttokenAddress: errTokenAddress,\r\n\t\ttokenDecimals: errTokenDecimals,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\r\n\t\t\t\t\t\tname='tokenAddress'\r\n\t\t\t\t\t\tvalue={tokenAddress || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'tokenAddress',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTokenAddress && !!errTokenAddress.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTokenAddress && !!errTokenAddress.dirty\r\n\t\t\t\t\t\t\t\t? errTokenAddress.errMsg\r\n\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\r\n\t\t\t\t\t\tname='tokenDecimals'\r\n\t\t\t\t\t\tvalue={tokenDecimals || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'tokenDecimals',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTokenDecimals && !!errTokenDecimals.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTokenDecimals && !!errTokenDecimals.dirty\r\n\t\t\t\t\t\t\t\t? errTokenDecimals.errMsg\r\n\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{spinner ? <InputLoading /> : null}\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\r\n\t\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\t\thelperText={errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nWithdrawAnyTokenFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawAnyTokenFromIdentity\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTextField,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tCheckbox,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { constants } from 'adex-models'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\r\n\treturn {\r\n\t\tvalue,\r\n\t\tlabel: t(`PRIV_${value}_LABEL`),\r\n\t\tinfo: t(`PRIV_${value}_INFO`),\r\n\t}\r\n})\r\n\r\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\r\n\tconst {\r\n\t\tsetAddr,\r\n\t\tprivLevel,\r\n\t\twarningAccepted,\r\n\t\twarningMsg,\r\n\t} = useSelector(state => selectNewTransactionById(state, stepsId))\r\n\r\n\tconst {\r\n\t\tsetAddr: errAddr,\r\n\t\tsetAddrWarning: warning,\r\n\t\tprivLevel: errPrivLvl,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}:\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\t\t\t\tname='setAddr'\r\n\t\t\t\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'privLevel',\r\n\t\t\t\t\t\t\t\t\t\tvalue: val,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\r\n\t\t\t\t\t\t\t\t\t? errPrivLvl.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tkey={x.value}\r\n\t\t\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{(warning || warningAccepted || warningMsg) && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\terror={warning && warning.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='warningAccepted'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SeAddressPrivilege\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { TextField, InputAdornment, Box, Typography } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\n\r\nfunction SetAccountENSPage({ stepsId, validateId } = {}) {\r\n\tconst { username } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst { username: errUsername, fees: errFees } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t\t\t{t('SET_ENS_MAIN_INFO')}:\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\r\n\t\t\t\t\t\t\tname='username'\r\n\t\t\t\t\t\t\tvalue={username || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'username',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errUsername && !!errUsername.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrUsername && !!errUsername.dirty ? errUsername.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nSetAccountENSPage.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SetAccountENSPage\r\n","import React from 'react'\r\nimport { Box, ListItemText } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { t } from 'selectors'\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n\tsymbol,\r\n}) => (\r\n\t<Box>\r\n\t\t<Box p={1}>\r\n\t\t\t<Alert variant='filled' severity='warning'>\r\n\t\t\t\t{t('WITHDRAW_ADDRESS_WARNING')}\r\n\t\t\t</Alert>\r\n\t\t</Box>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tsetAddr,\r\n\tclasses,\r\n\tfeesData,\r\n\tprivLevel,\r\n\tsymbol,\r\n}) => (\r\n\t<Box>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n\r\nexport const SetENSPreview = ({\r\n\tusername,\r\n\taddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tsymbol,\r\n}) => (\r\n\t<Box>\r\n\t\t<PropRow\r\n\t\t\tkey='addr'\r\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\r\n\t\t\tright={(address || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='username'\r\n\t\t\tleft={t('username', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tfeesData.fees,\r\n\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n\r\nexport const IdentityWithdrawAnyPreview = ({\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n}) => (\r\n\t<Box>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='tokenAddress'\r\n\t\t\tleft={t('tokenAddress', { isProp: true })}\r\n\t\t\tright={(tokenAddress || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport { Box } from '@material-ui/core'\r\nimport {\r\n\tWalletAction,\r\n\tFeesBreakdown,\r\n} from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview,\r\n\tSetENSPreview,\r\n\tIdentityWithdrawAnyPreview,\r\n} from './previews'\r\n\r\nimport {\r\n\tselectMainToken,\r\n\tt,\r\n\tselectSpinnerById,\r\n\tselectAccount,\r\n\tselectNewTransactionById,\r\n} from 'selectors'\r\nimport { execute, checkNetworkCongestion } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TransactionPreview(props) {\r\n\tconst classes = useStyles()\r\n\tconst { previewWarnMsgs, stepsId } = props\r\n\tconst txId = stepsId\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { address } = account.identity\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, stepsId))\r\n\tconst {\r\n\t\twithdrawTo,\r\n\t\tamountToWithdraw,\r\n\t\twaitingForWalletAction,\r\n\t\tsetAddr,\r\n\t\tusername,\r\n\t\tprivLevel,\r\n\t\ttokenAddress,\r\n\t\tfeesData = {},\r\n\t\terrors = [],\r\n\t} = useSelector(state => selectNewTransactionById(state, txId))\r\n\tconst [networkCongested, setNetworkCongested] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function checkNetwork() {\r\n\t\t\tconst msg = await execute(checkNetworkCongestion())\r\n\r\n\t\t\tif (msg) {\r\n\t\t\t\tsetNetworkCongested(msg)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcheckNetwork()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t{waitingForWalletAction || networkCongested ? (\r\n\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t{waitingForWalletAction && (\r\n\t\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{networkCongested && (\r\n\t\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='filled' square>\r\n\t\t\t\t\t\t\t\t\t\t<AlertTitle>{t('NETWORK_WARNING')}</AlertTitle>\r\n\t\t\t\t\t\t\t\t\t\t{networkCongested}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setENS' && (\r\n\t\t\t\t\t\t\t<SetENSPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\tusername={username}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<FeesBreakdown\r\n\t\t\t\t\t\t\tbreakdownFormatted={feesData.breakdownFormatted}\r\n\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n}\r\n\r\nexport default TransactionPreview\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\r\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport SetAccountENSPage from './SetAccountENSPage'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport {\r\n\tidentityWithdraw,\r\n\tsetIdentityENS,\r\n\tvalidatePrivilegesChange,\r\n\tidentityWithdrawAny,\r\n\tvalidateIdentityWithdraw,\r\n\tcompleteTx,\r\n\texecute,\r\n\tresetNewTransaction,\r\n\tupdateIdentityPrivilege,\r\n\tvalidateENSChange,\r\n\tvalidateIdentityWithdrawAny,\r\n} from 'actions'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst cancelFunction = stepsId => {\r\n\texecute(resetNewTransaction({ tx: stepsId }))\r\n}\r\n\r\nconst txCommon = {\r\n\tcancelFunction,\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tcomponent: WithdrawFromIdentity,\r\n\t\t\t\tvalidationFn: props => {\r\n\t\t\t\t\texecute(validateIdentityWithdraw(props))\r\n\t\t\t\t\tReactGA.event({\r\n\t\t\t\t\t\taction: 'account',\r\n\t\t\t\t\t\tcategory: 'withdraw',\r\n\t\t\t\t\t\tlabel: 'continue',\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: identityWithdraw,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = ({ SaveBtn, label, ...props }) => {\r\n\treturn (\r\n\t\t<FormStepsWithDialog\r\n\t\t\t{...props}\r\n\t\t\tbtnLabel={label || 'ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'}\r\n\t\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\t\tstepsId='setIdentityPrivilege'\r\n\t\t\t{...txCommon}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\t\tcomponent: SeAddressPrivilege,\r\n\t\t\t\t\tvalidationFn: props => execute(validatePrivilegesChange(props)),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\t\tcompeteAction: updateIdentityPrivilege,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const WithdrawAnyTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawAnyFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tcomponent: WithdrawAnyTokenFromIdentityPage,\r\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdrawAny(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: identityWithdrawAny,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const SetAccountENS = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\r\n\t\tstepsId='setENS'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\r\n\t\t\t\tcomponent: SetAccountENSPage,\r\n\t\t\t\tvalidationFn: props => execute(validateENSChange(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: setIdentityENS,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n","import React, { useState, Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tWithdrawAnyTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n\tSetAccountENS,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tDivider as ListDivider,\r\n\tListSubheader,\r\n\tButton,\r\n\tBox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n\tIconButton,\r\n\tPaper,\r\n\tGrid,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport { InfoSharp } from '@material-ui/icons'\r\nimport { VpnKey, Lock } from '@material-ui/icons'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { styles } from './styles.js'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport copy from 'copy-to-clipboard'\r\nimport {\r\n\tt,\r\n\tselectWallet,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectMainToken,\r\n\tselectEasterEggsAllowed,\r\n\tselectEnsAddressByAddr,\r\n\tselectAccountIdentityCurrentPrivileges,\r\n\tselectIdentityRecoveryAddr,\r\n\tselectSide,\r\n} from 'selectors'\r\nimport { execute, addToast, updateNewTransaction } from 'actions'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\n\r\nconst AccountItem = ({ left, right }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<ListItem>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tclassName={classes.root}\r\n\t\t\t\tspacing={1}\r\n\t\t\t\tjustify='center'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12} sm={6} md={9}>\r\n\t\t\t\t\t{left}\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={6} md={3}>\r\n\t\t\t\t\t{right}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</ListItem>\r\n\t)\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AccountInfo() {\r\n\tconst { authType = '' } = useSelector(selectWallet)\r\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst side = useSelector(selectSide)\r\n\tconst canMakeTx = privileges > 1\r\n\tconst currentPrivileges = useSelector(selectAccountIdentityCurrentPrivileges)\r\n\tconst identityRecoveryAddr = useSelector(selectIdentityRecoveryAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\tidentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceAllMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst identityEnsName = useSelector(state =>\r\n\t\tselectEnsAddressByAddr(state, identityAddress)\r\n\t)\r\n\r\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\r\n\r\n\tconst [expanded, setExpanded] = useState(false)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tconst handleExpandChange = () => {\r\n\t\tsetExpanded(!expanded)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<List className={classes.root} disablePadding>\r\n\t\t\t\t\t<ListSubheader disableSticky>{t('ADEX_ACCOUNT')}</ListSubheader>\r\n\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t{...(identityEnsName && {\r\n\t\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\r\n\t\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{...(!identityEnsName && {\r\n\t\t\t\t\t\t\t\t\t\tprimary: identityAddress,\r\n\t\t\t\t\t\t\t\t\t\tsecondary: (\r\n\t\t\t\t\t\t\t\t\t\t\t<span className={classes.infoLabel}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('ENS_NOT_SET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinteractive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={t('ENS_NOT_SET_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360017777100-What-is-an-Account-Username-and-how-to-set-it-'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InfoSharp\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t!!identityAddress && (\r\n\t\t\t\t\t\t\t\t<SetAccountENS\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceAllMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_INFO')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{availableIdentityBalanceAllMainToken !==\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken && (\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={t(\r\n\t\t\t\t\t\t\t\t\t\t\t'IDENTITY_MAIN_TOKEN_BALANCE_WITHDRAW_AVAILABLE_INFO',\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360016097580-Why-can-t-I-withdraw-my-entire-balance-'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('FIND_MORE')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\t\t\tto={`/dashboard/${side}/topup`}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t\t{t('TOP_UP')}\r\n\t\t\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t\ttoken={symbol}\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</List>\r\n\t\t\t</Paper>\r\n\t\t\t<Box mt={1}>\r\n\t\t\t\t<Accordion\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={handleExpandChange}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t>\r\n\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<ListSubheader disableSticky>\r\n\t\t\t\t\t\t\t{t('WALLETS_WITH_PRIVILEGES')}\r\n\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t<List disablePadding>\r\n\t\t\t\t\t\t\t<AccountPrivilageItem\r\n\t\t\t\t\t\t\t\taddress={walletAddress}\r\n\t\t\t\t\t\t\t\tprivileges={privileges}\r\n\t\t\t\t\t\t\t\tauthType={authType}\r\n\t\t\t\t\t\t\t\tcurrent\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{Object.keys(currentPrivileges)\r\n\t\t\t\t\t\t\t\t.filter(a => a !== identityRecoveryAddr && a !== walletAddress)\r\n\t\t\t\t\t\t\t\t.map((address, key) => (\r\n\t\t\t\t\t\t\t\t\t<Fragment key={key}>\r\n\t\t\t\t\t\t\t\t\t\t<AccountPrivilageItem\r\n\t\t\t\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\t\t\t\tprivileges={currentPrivileges[address]}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_LEADER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_FOLLOWER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t{allowEasterEggs && (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Accordion>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nfunction AccountPrivilageItem(props) {\r\n\tconst classes = useStyles()\r\n\tconst currUserPrivileges = useSelector(selectWalletPrivileges)\r\n\tconst canMakeTx = currUserPrivileges > 1\r\n\tconst { address, privileges, current, authType } = props\r\n\tconst privColors = ['disabled', 'secondary', 'primary']\r\n\tconst { availableIdentityBalanceMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\treturn (\r\n\t\t<AccountItem\r\n\t\t\tleft={\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tdirection='row'\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustify='flex-start'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<VpnKey color={privColors[privileges]} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\tprimary={<Typography>{formatAddress(address)}</Typography>}\r\n\t\t\t\t\t\t\tsecondary={t('WALLET_PRIV_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t\tright={\r\n\t\t\t\t<Grid container direction='row' justify='center' alignItems='center'>\r\n\t\t\t\t\t{current ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\tstartIcon={<Lock />}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor={privColors[currUserPrivileges]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{`${t('CURRENT_AUTH')} : ${authType}`}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tlabel='CHANGE_PRIVILEGE'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: 'setIdentityPrivilege',\r\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\t\t\t\tvalue: address,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AccountInfo\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tactionBtn: {\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t\tflexGrow: 0,\r\n\t\t},\r\n\t\tadvancedList: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\ticonBtnLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tinfoLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t\textraInfo: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tcopyBtn: {\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\toverflowWrap: 'anywhere',\r\n\t\t\tuserSelect: 'text',\r\n\t\t\ttextTransform: 'none',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tfontSize: '2rem',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t},\r\n\t\tsubtitle: {\r\n\t\t\tfontSize: '1rem',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t},\r\n\t\tpaper: {\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfo: {\r\n\t\t\tfontSize: '10px',\r\n\t\t},\r\n\t\tinfoGrid: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t},\r\n\t\tinfoTitle: {\r\n\t\t\tfontSize: '12px',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","export const popupCenter = ({ url, title, w, h }) => {\r\n\t// Fixes dual-screen position                             Most browsers      Firefox\r\n\tconst dualScreenLeft =\r\n\t\twindow.screenLeft !== undefined ? window.screenLeft : window.screenX\r\n\tconst dualScreenTop =\r\n\t\twindow.screenTop !== undefined ? window.screenTop : window.screenY\r\n\r\n\tconst width = window.innerWidth\r\n\t\t? window.innerWidth\r\n\t\t: document.documentElement.clientWidth\r\n\t\t? document.documentElement.clientWidth\r\n\t\t: window.screen.width\r\n\tconst height = window.innerHeight\r\n\t\t? window.innerHeight\r\n\t\t: document.documentElement.clientHeight\r\n\t\t? document.documentElement.clientHeight\r\n\t\t: window.screen.height\r\n\r\n\tconst systemZoom = width / window.screen.availWidth\r\n\tconst left = (width - w) / 2 / systemZoom + dualScreenLeft\r\n\tconst top = (height - h) / 2 / systemZoom + dualScreenTop\r\n\tconst newWindow = window.open(\r\n\t\turl,\r\n\t\ttitle,\r\n\t\t`\r\n\t\ttoolbar=no,scrollbars=no,resizable=no\r\n\t\twidth=${w / systemZoom}, \r\n\t\theight=${h / systemZoom}, \r\n\t\ttop=${top}, \r\n\t\tleft=${left},\r\n\t\t`\r\n\t)\r\n\r\n\tif (window.focus) newWindow.focus()\r\n}\r\n","import { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport { popupCenter } from 'helpers/popupHelper'\r\nimport transakSDK from '@transak/transak-sdk'\r\nimport url from 'url'\r\nimport { t } from 'selectors'\r\n\r\nconst PAYTRIE_PARTNER_URL = 'https://partner.paytrie.com/?app=876454'\r\nconst WYRE_URL = 'https://pay.sendwyre.com/purchase?'\r\nconst { RAMP_HOST_API_KEY, TRANSAK_API_KEY, TRANSAK_ENV } = process.env\r\n\r\n//https://docs.sendwyre.com/docs/wyre-widget-v2\r\nexport const openWyre = ({ accountId, symbol, ...rest }) => {\r\n\tconst URL = url.parse(WYRE_URL, true)\r\n\tURL.search = null\r\n\tif (accountId) {\r\n\t\tURL.query = {\r\n\t\t\t...URL.query,\r\n\t\t\tdest: accountId ? `ethereum:${accountId}` : null,\r\n\t\t\treferenceId: accountId,\r\n\t\t\tdestCurrency: symbol,\r\n\t\t\t...rest,\r\n\t\t}\r\n\t\tpopupCenter({\r\n\t\t\turl: url.format(URL),\r\n\t\t\ttitle: t('WYRE_DEPOSIT'),\r\n\t\t\tw: 450,\r\n\t\t\th: 700,\r\n\t\t})\r\n\t} else {\r\n\t\tconsole.error('WYRE_DEPOSIT_MISSING_DEST_PARAM')\r\n\t}\r\n}\r\n\r\n//https://paytrie.com/developer\r\nexport const openPayTrie = ({ accountId, email, symbol, ...rest }) => {\r\n\tconst URL = url.parse(PAYTRIE_PARTNER_URL, true)\r\n\tURL.search = null\r\n\tURL.query = {\r\n\t\t...URL.query,\r\n\t\taddr: accountId,\r\n\t\temail,\r\n\t\trightSideLabel: symbol,\r\n\t\t...rest,\r\n\t}\r\n\tpopupCenter({\r\n\t\t//TODO: Change testwyre to production\r\n\t\turl: url.format(URL),\r\n\t\ttitle: t('PAYTRIE_DEPOSIT'),\r\n\t\tw: 450,\r\n\t\th: 700,\r\n\t})\r\n}\r\n\r\nexport const openOnRampNetwork = ({ accountId, symbol }) => {\r\n\tconst widget = new RampInstantSDK({\r\n\t\thostAppName: 'AdExNetwork',\r\n\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\tvariant: 'auto',\r\n\t\tswapAsset: symbol,\r\n\t\tuserAddress: accountId,\r\n\t\thostApiKey: RAMP_HOST_API_KEY,\r\n\t})\r\n\twidget.domNodes.overlay.style.zIndex = 1300\r\n\twidget.show()\r\n}\r\n\r\nexport const openTransak = ({ accountId, symbol }) => {\r\n\tconst transak = new transakSDK({\r\n\t\tapiKey: TRANSAK_API_KEY, // Your API Key\r\n\t\tenvironment: TRANSAK_ENV, // STAGING/PRODUCTION\r\n\t\tcryptoCurrencyList: symbol,\r\n\t\tdefaultCryptoCurrency: symbol,\r\n\t\tdisableWalletAddressForm: true,\r\n\t\twalletAddress: accountId, // Your customer's wallet address\r\n\t\tthemeColor: '000000', // App theme color\r\n\t\t// fiatCurrency: 'GBP', // INR/GBP\r\n\t\temail: '', // Your customer's email address\r\n\t\tredirectURL: '',\r\n\t\thostURL: window.location.origin,\r\n\t\twidgetHeight: 'calc(100% - 60px)',\r\n\t\twidgetWidth: '100%',\r\n\t})\r\n\r\n\ttransak.init()\r\n\r\n\t// To get all the events\r\n\ttransak.on(transak.ALL_EVENTS, data => {\r\n\t\tconsole.log(data)\r\n\t})\r\n\r\n\t// This will trigger when the user marks payment is made.\r\n\ttransak.on(transak.EVENTS.TRANSAK_ORDER_SUCCESSFUL, orderData => {\r\n\t\tconsole.log(orderData)\r\n\t\ttransak.close()\r\n\t})\r\n}\r\n","import React from 'react'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tButton,\r\n\tList,\r\n\tListItem,\r\n\tGrid,\r\n} from '@material-ui/core'\r\nimport { t } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Media from 'components/common/media'\r\nimport {\r\n\topenWyre,\r\n\topenPayTrie,\r\n\topenOnRampNetwork,\r\n\topenTransak,\r\n} from 'services/onramp'\r\nimport RAMP_LOGO from 'resources/ramp.svg'\r\nimport WYRE_LOGO from 'resources/wyre.svg'\r\nimport PAYTRIE_LOGO from 'resources/paytrie.svg'\r\nimport TRANSAK_LOGO from 'resources/transak.svg'\r\nimport CHANGELLY_LOGO from 'resources/changelly.svg'\r\nimport { styles } from './styles'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst useStyles = makeStyles(styles)\r\nconst commonGAEventProps = {\r\n\taction: 'account',\r\n\tcategory: 'top_up',\r\n}\r\nconst fiatProvidersDetails = [\r\n\t{\r\n\t\ttitle: t('RAMP_PAYMENT_METHODS'),\r\n\t\tonClick: props => openOnRampNetwork(props),\r\n\t\timgSrc: RAMP_LOGO,\r\n\t\timgAlt: t('RAMP'),\r\n\t\tfeeInfo: t('RAMP_FEES'),\r\n\t\tlimitInfo: t('RAMP_LIMITS'),\r\n\t\tcurrencies: t('RAMP_CURRENCIES'),\r\n\t},\r\n\t// {\r\n\t// \ttitle: t('CREDIT_CARD'),\r\n\t// \tonClick: props => openWyre(props),\r\n\t// \timgSrc: WYRE_LOGO,\r\n\t// \timgAlt: t('WYRE'),\r\n\t// \tfeeInfo: t('WYRE_FEES'),\r\n\t// \tlimitInfo: t('WYRE_LIMITS'),\r\n\t// \tcurrencies: t('WYRE_CURRENCIES'),\r\n\t// },\r\n\t{\r\n\t\ttitle: t('BANK_TRANSFER'),\r\n\t\tonClick: props => openPayTrie(props),\r\n\t\timgSrc: PAYTRIE_LOGO,\r\n\t\timgAlt: t('PAYTRIE'),\r\n\t\tfeeInfo: t('PAYTRIE_FEES'),\r\n\t\tlimitInfo: t('PAYTRIE_LIMITS'),\r\n\t\tcurrencies: t('PAYTRIE_CURRENCIES'),\r\n\t},\r\n\t{\r\n\t\ttitle: t('BANK_TRANSFER_AND_CARD_PAYMENTS'),\r\n\t\tonClick: props => openTransak(props),\r\n\t\timgSrc: TRANSAK_LOGO,\r\n\t\timgAlt: t('TRANSAK'),\r\n\t\tfeeInfo: t('TRANSAK_FEES'),\r\n\t\tlimitInfo: t('TRANSAK_LIMITS'),\r\n\t\tcurrencies: t('TRANSAK_CURRENCIES'),\r\n\t},\r\n]\r\n\r\nconst cryptoProvidersDetails = [\r\n\t{\r\n\t\ttitle: t('CHANGELLY_TRANSFER'),\r\n\t\tonClick: ({ side }) => execute(push(`/dashboard/${side}/topup/changelly`)),\r\n\t\timgSrc: CHANGELLY_LOGO,\r\n\t\timgAlt: t('CHANGELLY'),\r\n\t\tfeeInfo: t('CHANGELLY_FEES'),\r\n\t\tlimitInfo: t('CHANGELLY_TIME'),\r\n\t\tcurrencies: t('CHANGELLY_CURRENCIES', { args: ['BTC, ETH, XRP'] }),\r\n\t},\r\n]\r\n\r\nconst ProviderListItem = ({\r\n\timgSrc,\r\n\timgAlt,\r\n\ttitle,\r\n\tfeeInfo,\r\n\tlimitInfo,\r\n\tcurrencies,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Button size='large' fullWidth disableElevation className={classes.copyBtn}>\r\n\t\t\t<Box width='100%'>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tdirection='row'\r\n\t\t\t\t\tjustify='space-between'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tspacing={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={5} sm={4} md={4}>\r\n\t\t\t\t\t\t<Media className={classes.img} alt={imgAlt} src={imgSrc} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={8} md={8} className={classes.infoGrid}>\r\n\t\t\t\t\t\t<Typography className={classes.infoTitle}>{title}</Typography>\r\n\t\t\t\t\t\t{[feeInfo, limitInfo, currencies].map((item, key) => (\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tkey={`info-${key}`}\r\n\t\t\t\t\t\t\t\tclassName={classes.info}\r\n\t\t\t\t\t\t\t\tcomponent='p'\r\n\t\t\t\t\t\t\t\tcolor='textSecondary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst Providers = ({ providersDetails, accountId, symbol, email, side }) => (\r\n\t<List disablePadding>\r\n\t\t{providersDetails.map((item, key) => (\r\n\t\t\t<ListItem\r\n\t\t\t\tdisableGutters\r\n\t\t\t\tkey={key}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\titem.onClick({ accountId, symbol, email, side })\r\n\t\t\t\t\tReactGA.event({\r\n\t\t\t\t\t\t...commonGAEventProps,\r\n\t\t\t\t\t\tlabel: item.imgAlt,\r\n\t\t\t\t\t})\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ProviderListItem\r\n\t\t\t\t\tkey={key}\r\n\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\timgSrc={item.imgSrc}\r\n\t\t\t\t\timgAlt={item.imgAlt}\r\n\t\t\t\t\tfeeInfo={item.feeInfo}\r\n\t\t\t\t\tlimitInfo={item.limitInfo}\r\n\t\t\t\t\tcurrencies={item.currencies}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t))}\r\n\t</List>\r\n)\r\n\r\nexport const FiatProviders = ({ accountId, symbol, email }) => (\r\n\t<Providers\r\n\t\tprovidersDetails={fiatProvidersDetails}\r\n\t\taccountId={accountId}\r\n\t\tsymbol={symbol}\r\n\t\temail={email}\r\n\t/>\r\n)\r\n\r\nexport const CryptoProviders = ({ accountId, symbol, email, side }) => (\r\n\t<Providers\r\n\t\tprovidersDetails={cryptoProvidersDetails}\r\n\t\taccountId={accountId}\r\n\t\tsymbol={symbol}\r\n\t\temail={email}\r\n\t\tside={side}\r\n\t/>\r\n)\r\n","import React from 'react'\r\nimport { Box, Paper, Typography, Button, Grid } from '@material-ui/core'\r\nimport { FileCopy, WarningRounded } from '@material-ui/icons'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectMainToken,\r\n\tselectEmail,\r\n\tselectSide,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport copy from 'copy-to-clipboard'\r\nimport { styles } from './styles'\r\nimport { execute, addToast } from 'actions'\r\nimport { FiatProviders, CryptoProviders } from './Ramp'\r\nimport ReactGA from 'react-ga'\r\nimport { useTheme } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function TopUp() {\r\n\tconst classes = useStyles()\r\n\tconst theme = useTheme()\r\n\tconst accountId = useSelector(selectAccountIdentityAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst email = useSelector(selectEmail)\r\n\tconst side = useSelector(selectSide)\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t// justifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>{t('DAI')}</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('DIRECT_DEPOSIT')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('DAI_DIRECT_DEPOSIT_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcopy(accountId)\r\n\t\t\t\t\t\t\t\t\tReactGA.event({\r\n\t\t\t\t\t\t\t\t\t\taction: 'account',\r\n\t\t\t\t\t\t\t\t\t\tcategory: 'top_up',\r\n\t\t\t\t\t\t\t\t\t\tlabel: 'direct',\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.copyBtn}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tendIcon={<FileCopy fontSize='small' color='disabled' />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{accountId}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box mt={2} px={2} textAlign='center' justifyContent='center'>\r\n\t\t\t\t\t\t\t<Box pr={1} display='inline'>\r\n\t\t\t\t\t\t\t\t<WarningRounded\r\n\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor: theme.palette.warning.main,\r\n\t\t\t\t\t\t\t\t\t\tverticalAlign: 'text-bottom',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\t\t\tcomponent='span'\r\n\t\t\t\t\t\t\t\tcolor='danger'\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('DAI_DIRECT_DEPOSIT_WARNING_1'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\t\t\tcomponent='span'\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tcolor: theme.palette.warning.dark,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{` ${t('DAI_DIRECT_DEPOSIT_WARNING_2')}`}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tpb={1}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t// justifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>\r\n\t\t\t\t\t\t\t\t{t('FIAT_CURRENCY')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('CREDIT_CARD_BANK_TRANSFER')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('ONRAMP_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<FiatProviders\r\n\t\t\t\t\t\t\t\taccountId={accountId}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\temail={email}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tpb={1}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t// justifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>\r\n\t\t\t\t\t\t\t\t{t('CRYPTO_CURRENCY_DEPOSIT')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('CRYPTO_EXCHANGE')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('CRYPTO_CURRENCY_DEPOSIT_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<CryptoProviders\r\n\t\t\t\t\t\t\t\taccountId={accountId}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\temail={email}\r\n\t\t\t\t\t\t\t\tside={side}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Paper, Box } from '@material-ui/core'\r\nimport { selectAccountIdentityAddr } from 'selectors'\r\n\r\nconst onloadFunction = `\r\nfunction at(t) {\r\n\tvar e = t.target,\r\n\t\ti = e.parentNode,\r\n\t\tn = e.contentWindow,\r\n\t\tr = function() {\r\n\t\t\treturn n.postMessage({ width: i.offsetWidth }, 'https://widget.changelly.com');\r\n\t\t};\r\n\twindow.addEventListener('resize', r), r();\r\n};\r\nat.apply(this, arguments);\r\n`\r\nconst getChangellyIframe = identityAddress =>\r\n\t`\r\n\t<iframe \r\n\tsrc=\"https://widget.changelly.com?from=btc,eth,xrp&to=dai&amount=0.007&address=${identityAddress}&fromDefault=btc&toDefault=dai&theme=aqua&merchant_id=unl7fil0on3x48m1&payment_id=&v=3\" \r\n\twidth=\"100%\" height=\"600\" class=\"changelly\" scrolling=\"no\" \r\n\tonLoad=\"${onloadFunction}\" \r\n\tstyle=\"min-width: 100%; width: 100px; overflow-y: hidden; border: none\">Can't load widget</iframe>\r\n`\r\n\r\nfunction TopUpChangelly(props) {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst widgetIframeHtml = getChangellyIframe(identityAddr)\r\n\r\n\treturn (\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<Box p={2}>\r\n\t\t\t\t{!!identityAddr && (\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: widgetIframeHtml }} />\r\n\t\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default TopUpChangelly\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { CheckCircle } from '@material-ui/icons'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst LINES_WIDTH = 3\r\nconst DEFAULT_SIZE = 80\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tzIndex: 1,\r\n\t\twidth: props => DEFAULT_SIZE,\r\n\t\theight: props => DEFAULT_SIZE,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.text.solid}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.primary.main} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.accentTwo.main}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.accentTwo.contrastText,\r\n\t\tcolor: theme.palette.accentTwo.main,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: DEFAULT_SIZE / 2,\r\n\t\tleft: `calc(-50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t\tright: `calc(50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t},\r\n\tline: {\r\n\t\theight: LINES_WIDTH,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, ${theme.palette.background.paper} 50%), ${theme.palette.text.solid}`,\r\n\t\tbackgroundSize: `${LINES_WIDTH * 5}px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <CheckCircle className={clsx(classes.star)} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { confirmAction, execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/'\r\n\r\nexport const createAdUnitTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 8; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const fundAccountTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const launchFirstCampaign = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 5; i++) {\r\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const createAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 7; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const verifyWebsite = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 2; i++) {\r\n\t\tsteps.push(`TUTORIAL_VERIFY_WEBSITE_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_VERIFY_WEBSITE_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t,\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const placeAdSlot = () => {\r\n\tconst stepsPlace = []\r\n\tconst stepsIntegrate = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tstepsPlace.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\r\n\tfor (let i = 5; i <= 6; i++) {\r\n\t\tstepsIntegrate.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_PLACE')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{stepsPlace.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INTEGRATE')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{stepsPlace.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360011670479-How-to-Create-Publisher-Ad-Slots'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012022820-How-to-implement-an-ad-slot-to-your-website'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_3')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013148720-How-to-integrate-AdEx-ads-on-a-WordPress-site'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_4')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { execute, resendConfirmationEmail } from 'actions'\r\nimport { SendSharp } from '@material-ui/icons'\r\nimport { Grid, Button } from '@material-ui/core'\r\nimport { selectResendConfirmation, t } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\n\r\nfunction ResendConfirm() {\r\n\tconst { lastEmailResent } = useSelector(state =>\r\n\t\tselectResendConfirmation(state)\r\n\t)\r\n\tconst lastEmailResentTs = lastEmailResent ? +new Date(lastEmailResent) : 0\r\n\tconst waitInSeconds = Math.ceil(\r\n\t\t(lastEmailResentTs + 60 * 1000 - Date.now()) / 1000\r\n\t)\r\n\tconst [timeLeft, setTimeLeft] = useState(waitInSeconds)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (timeLeft <= 0) {\r\n\t\t\tsetTimeLeft(null)\r\n\t\t}\r\n\r\n\t\t// exit early when we reach 0\r\n\t\tif (!timeLeft) return\r\n\r\n\t\t// save intervalId to clear the interval when the\r\n\t\t// component re-renders\r\n\t\tconst intervalId = setInterval(() => {\r\n\t\t\tsetTimeLeft(timeLeft - 1)\r\n\t\t}, 1000)\r\n\r\n\t\t// clear interval on re-render to avoid memory leaks\r\n\t\treturn () => clearInterval(intervalId)\r\n\t\t// add timeLeft as a dependency to re-rerun the effect\r\n\t\t// when we update it\r\n\t}, [timeLeft])\r\n\treturn (\r\n\t\t<Grid container>\r\n\t\t\t<Grid lg={12}>\r\n\t\t\t\t<span\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid container lg={12} alignItems='center'>\r\n\t\t\t\t<Grid>{t('GETTING_STARTED_DID_NOT_RECEIVE_QUESTION')}</Grid>\r\n\t\t\t\t<Grid>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\texecute(resendConfirmationEmail())\r\n\t\t\t\t\t\t\tsetTimeLeft(60)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={timeLeft}\r\n\t\t\t\t\t\tendIcon={<SendSharp />}\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('RESEND')} {timeLeft && t('WAIT_TIME', { args: [timeLeft] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default ResendConfirm\r\n","import React, { useEffect, useState } from 'react'\r\nimport { ACCENT_TWO } from 'components/App/themeMUi'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tBox,\r\n\tStepButton,\r\n\tMobileStepper,\r\n\tStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tTypography,\r\n\tHidden,\r\n\tLink,\r\n\tAccordion,\r\n\tAccordionDetails,\r\n\tAccordionSummary,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport {\r\n\tKeyboardArrowLeft,\r\n\tKeyboardArrowRight,\r\n\tExpandMore,\r\n\tClose,\r\n\tCheckCircleOutline,\r\n\tCheckCircle,\r\n} from '@material-ui/icons'\r\nimport EmailEddie from 'resources/getting-started/GS-email-ic_80x80.png'\r\nimport FundEddie from 'resources/getting-started/GS-fund-ic_80x80.png'\r\nimport CreateEddie from 'resources/getting-started/GS-create-ic_80x80.png'\r\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic_80x80.png'\r\nimport PlaceEddie from 'resources/getting-started/GS-place-ic_80x80.png'\r\n// import BonusEddie from 'resources/getting-started/GS-bonus-ic_80x80.png'\r\nimport {\r\n\tt,\r\n\tselectStepsData,\r\n\tselectHideGettingStarted,\r\n\tselectGettingStartedExpanded,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\r\nimport { hideGettingStarted, setGettingStartedExpanded, execute } from 'actions'\r\nimport {\r\n\tcreateAdUnitTutorial,\r\n\tfundAccountTutorial,\r\n\tlaunchFirstCampaign,\r\n\t// createAdSlot,\r\n\tverifyWebsite,\r\n\tplaceAdSlot,\r\n} from './Tutorials'\r\n// import { useEffectDebugger } from 'hooks/useEffectDebugger'\r\nimport ReactGA from 'react-ga'\r\nimport ResendConfirm from './ResendConfirm'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst stepperBackgroundColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.background.paper\r\n\t\t\t: theme.palette.background.paper\r\n\r\n\treturn {\r\n\t\tmobile: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tstepper: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tinstructions: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t\taccordion: {\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t\tbackgroundColor: stepperBackgroundColor,\r\n\t\t},\r\n\t\texpandIcon: {\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t},\r\n\t\tcheckmark: {\r\n\t\t\tcolor: theme.palette.accentTwo.main,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst getSteps = ({\r\n\thasCreatedAdUnit,\r\n\thasCreatedCampaign,\r\n\thasCreatedAdSlot,\r\n\thasConfirmedEmail,\r\n\thasFundedAccount,\r\n\thasImpressions,\r\n\t// has5000Impressions,\r\n\thasVerifiedSites,\r\n}) => ({\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: <ResendConfirm />,\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasCreatedAdUnit,\r\n\t\t\ttutorial: createAdUnitTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\r\n\t\t\ticon: FundEddie,\r\n\t\t\tcheck: hasFundedAccount,\r\n\t\t\ttutorial: fundAccountTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: hasCreatedCampaign,\r\n\t\t\ttutorial: launchFirstCampaign,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: <ResendConfirm />,\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\r\n\t\t// \tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t// \tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\r\n\t\t// \ticon: CreateEddie,\r\n\t\t// \tcheck: hasCreatedAdSlot,\r\n\t\t// \ttutorial: createAdSlot,\r\n\t\t// },\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_VERIFY_WEBSITE_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_VERIFY_WEBSITE_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_VERIFY_WEBSITE_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasVerifiedSites,\r\n\t\t\ttutorial: verifyWebsite,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_PLACE_AD_SLOT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\r\n\t\t\ticon: PlaceEddie,\r\n\t\t\tcheck: hasCreatedAdSlot && hasImpressions,\r\n\t\t\ttutorial: placeAdSlot,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: hasImpressions,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n})\r\n\r\nexport default function GettingStarted(props) {\r\n\tconst { side } = props\r\n\tconst classes = useStyles({ side })\r\n\tconst stepsData = useSelector(selectStepsData)\r\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\r\n\tconst expanded = useSelector(selectGettingStartedExpanded)\r\n\tconst [steps, setSteps] = useState({})\r\n\tconst [activeStep, setActiveStep] = React.useState(0)\r\n\r\n\tconst sideSteps = steps[side] || []\r\n\tconst currentStep = sideSteps[activeStep] || {}\r\n\r\n\tconst indexOfFirstIncompleteStep = sideSteps.findIndex(step => !step.check)\r\n\r\n\tconst handleStep = step => () => {\r\n\t\tsetActiveStep(step)\r\n\t}\r\n\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep(activeStep + 1)\r\n\t}\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep(activeStep - 1)\r\n\t}\r\n\r\n\tconst handleDismiss = () => {\r\n\t\tsetActiveStep(0)\r\n\t\texecute(hideGettingStarted(side))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSteps(getSteps(stepsData))\r\n\t}, [stepsData])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst advertiserStep = getSteps(stepsData).advertiser.findIndex(\r\n\t\t\tstep => !step.check\r\n\t\t)\r\n\t\tconst publisherStep = getSteps(stepsData).publisher.findIndex(\r\n\t\t\tstep => !step.check\r\n\t\t)\r\n\t\tReactGA.set({\r\n\t\t\tdimension1:\r\n\t\t\t\tadvertiserStep === -1 ? 'completed' : `step${advertiserStep + 1}`,\r\n\t\t\tdimension2:\r\n\t\t\t\tpublisherStep === -1 ? 'completed' : `step${publisherStep + 1}`,\r\n\t\t})\r\n\t}, [stepsData])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetActiveStep(\r\n\t\t\tindexOfFirstIncompleteStep !== -1\r\n\t\t\t\t? indexOfFirstIncompleteStep\r\n\t\t\t\t: sideSteps.length - 1\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [steps, indexOfFirstIncompleteStep])\r\n\t// TODO: wait for the data to be loaded before displaying the getting started\r\n\treturn (\r\n\t\t!isGettingStartedHidden &&\r\n\t\t!!sideSteps.length && (\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Accordion\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={() => execute(setGettingStartedExpanded(!expanded))}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t>\r\n\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\troot: classes.accordion,\r\n\t\t\t\t\t\t\texpandIcon: classes.expandIcon,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\taria-controls='expand-getting-started'\r\n\t\t\t\t\t\tid='getting-started-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\r\n\t\t\t\t\t\t\t\t{`${t('GETTING_STARTED_HEADING')} (${\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' ? t('PUBLISHER') : t('ADVERTISER')\r\n\t\t\t\t\t\t\t\t})`}\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center'>\r\n\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => {\r\n\t\t\t\t\t\t\t\t\tconst Icon = check ? CheckCircle : CheckCircleOutline\r\n\t\t\t\t\t\t\t\t\tconst color = ACCENT_TWO\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip arrow title={label} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon className={classes.checkmark} />\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</AccordionSummary>\r\n\r\n\t\t\t\t\t<AccordionDetails>\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\r\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\r\n\t\t\t\t\t\t\t\t\t\ticon={currentStep.icon}\r\n\t\t\t\t\t\t\t\t\t\tcompleted={currentStep.check}\r\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\t\t\t\tclassName={classes.mobile}\r\n\t\t\t\t\t\t\t\t\tsteps={sideSteps.length}\r\n\t\t\t\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tnextButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === sideSteps.length - 1}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbackButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t\t\t<Stepper\r\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.stepper }}\r\n\t\t\t\t\t\t\t\t\tnonLinear\r\n\t\t\t\t\t\t\t\t\talternativeLabel\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\r\n\t\t\t\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\r\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [activeStep + 1, currentStep.label || ''],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.check ? t('COMPLETED') : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{currentStep.check ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.contentCompleted}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.content}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.tutorial &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentStep.tutorial()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</AccordionDetails>\r\n\t\t\t\t</Accordion>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router'\r\nimport Campaign from 'components/dashboard/containers/Campaign'\r\nimport { Receipt } from 'components/dashboard/containers/Receipt'\r\nimport {\r\n\tPublisherStats,\r\n\tAdvertiserStats,\r\n} from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Audience from 'components/dashboard/containers/Audience'\r\nimport WebsitesPage from 'components/dashboard/containers/Websites'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport TopUp from 'components/dashboard/deposit/TopUp'\r\nimport TopUpChangelly from 'components/dashboard/deposit/TopUpChangelly'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n\tNewAudienceDialog,\r\n\tNewWebsiteDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tCampaignsTable,\r\n\tAdSlotsTable,\r\n\tAdUnitsTable,\r\n\tAudiencesTable,\r\n} from 'components/dashboard/containers/Tables'\r\nimport { Drawer, Box, Hidden, Paper } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Add } from '@material-ui/icons'\r\nimport { styles } from './styles'\r\nimport {\r\n\texecute,\r\n\tresolveEnsAddress,\r\n\tupdatePrivilegesWarningAccepted,\r\n\tloadAccountData,\r\n\tstopAccountDataUpdate,\r\n\tupdateNav,\r\n\tupdateUiByIdentity,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectPrivilegesWarningAccepted,\r\n\tselectInitialDataLoaded,\r\n\tselectDebugIdentity,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport GettingStarted from '../getting-started/GettingStarted'\r\n\r\nconst Campaigns = () => {\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst disabled = privileges <= 1\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<NewCampaignDialog\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tfabButton\r\n\t\t\t\tvariant='extended'\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t\tsize='medium'\r\n\t\t\t\ticon={<Add />}\r\n\t\t\t/>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<CampaignsTable tableId='dashboardCampaigns' />\r\n\t\t\t</Paper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nconst AdUnits = () => (\r\n\t<Box>\r\n\t\t<NewUnitDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<AdUnitsTable tableId='DashboardAdUnits' />\r\n\t\t</Paper>\r\n\t</Box>\r\n)\r\n\r\nconst AdSlots = () => (\r\n\t<Box>\r\n\t\t<NewSlotDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<AdSlotsTable tableId='dashboardSlots' />\r\n\t\t</Paper>\r\n\t</Box>\r\n)\r\n\r\nconst Audiences = () => (\r\n\t<Box>\r\n\t\t<NewAudienceDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_AUDIENCE'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<AudiencesTable tableId='dashboardAudiences' />\r\n\t\t</Paper>\r\n\t</Box>\r\n)\r\n\r\nconst Websites = () => (\r\n\t<Box>\r\n\t\t<NewWebsiteDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_WEBSITE'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<WebsitesPage />\r\n\t</Box>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dashboard(props) {\r\n\tconst [mobileOpen, setMobileOpen] = useState(false)\r\n\tconst address = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\r\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\r\n\tconst { debugIdentityAddr } = useSelector(selectDebugIdentity)\r\n\r\n\tconst { match } = props\r\n\tconst { side } = match.params\r\n\tconst classes = useStyles()\r\n\r\n\tconst dataLoaded = useSelector(selectInitialDataLoaded)\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function updateInitialData() {\r\n\t\t\texecute(loadAccountData())\r\n\t\t}\r\n\r\n\t\tupdateInitialData()\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(stopAccountDataUpdate())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(resolveEnsAddress({ address }))\r\n\t}, [address])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('side', side))\r\n\t\texecute(updateUiByIdentity('userLastSide', side))\r\n\t}, [side])\r\n\r\n\tconst handleDrawerToggle = () => {\r\n\t\tsetMobileOpen(!mobileOpen)\r\n\t}\r\n\r\n\tconst drawer = <SideNav side={side} />\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<TopBar\r\n\t\t\t\tside={side}\r\n\t\t\t\topen={mobileOpen}\r\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\r\n\t\t\t/>\r\n\t\t\t<Hidden mdUp>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\tanchor='left'\r\n\t\t\t\t\topen={mobileOpen}\r\n\t\t\t\t\tonClose={handleDrawerToggle}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\topen\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\r\n\t\t\t<main className={classes.content}>\r\n\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t{showTxPrivLevelWarning && (\r\n\t\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\t\t\tseverity='info'\r\n\t\t\t\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\r\n\t\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{debugIdentityAddr && (\r\n\t\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t\t<Alert variant='filled' severity='warning'>\r\n\t\t\t\t\t\t\t\t\t{`Debugging identity: ${debugIdentityAddr}`}\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\t\tcomponent={Campaigns}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\t\tcomponent={AdUnits}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences'\r\n\t\t\t\t\t\t\t\tcomponent={Audiences}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Audience}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Campaign}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipt/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Unit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\t\tcomponent={AdSlots}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Slot}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/websites'\r\n\t\t\t\t\t\t\t\tcomponent={Websites}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/receipts'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/topup/changelly'}\r\n\t\t\t\t\t\t\t\tcomponent={TopUpChangelly}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route exact path={'/dashboard/:side/topup'} component={TopUp} />\r\n\t\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser'\r\n\t\t\t\t\t\t\t\tcomponent={AdvertiserStats}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher'\r\n\t\t\t\t\t\t\t\tcomponent={PublisherStats}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dashboard\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.png')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\t// marginTop: '1.5vh',\r\n\t\t\t// width: '17.92vh',\r\n\t\t\t// height: '6vh',\r\n\t\t\theight: '2rem',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport { Box, Divider } from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport classnames from 'classnames'\r\nimport { getAllWallets } from 'services/wallet/wallet'\r\nimport { execute, initIdentity, confirmAction } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAuth,\r\n\tselectAccount,\r\n\tselectRegistrationAllowed,\r\n\tselectUserLastSide,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { formatAddress } from 'helpers/formatters'\r\nimport { push } from 'connected-react-router'\r\nimport { removeFromLocalStorage } from 'helpers/localStorageHelpers'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst AuthSelect = () => {\r\n\tconst classes = useStyles()\r\n\tconst [wallets, setWallets] = useState([])\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst userSide = useSelector(selectUserLastSide) || 'publisher'\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { wallet, identity } = account || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst allWallets = getAllWallets()\r\n\t\tconst wallets = allWallets.filter(\r\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\r\n\t\t)\r\n\t\tsetWallets(wallets)\r\n\t}, [wallet])\r\n\r\n\tconst goTo = (to, confirmLogout, onConfirm) => {\r\n\t\tconst toExecute = () => {\r\n\t\t\t// skip redirect as you are going to be redirected on next line\r\n\t\t\t// this resolves an issue of \"Same web property ID is tracked twice.\"\r\n\t\t\t// with the google analytics pixel\r\n\t\t\tlogOut(true)\r\n\t\t\texecute(push(to))\r\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\r\n\t\t\t\tonConfirm()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (auth && confirmLogout) {\r\n\t\t\texecute(\r\n\t\t\t\tconfirmAction(toExecute, null, {\r\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\r\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\r\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\r\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t(wallet.email || wallet.authType || '').toUpperCase(),\r\n\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}),\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\ttoExecute()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='stretch'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t>\r\n\t\t\t<Box p={2} alignItems='center'>\r\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{auth && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tto={`/dashboard/${userSide}`}\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CONTINUE_AS', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\r\n\t\t\t\t\t\t\t\twallet.authType,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{wallets.map(w => (\r\n\t\t\t\t<Box key={w.name} m={1} display='flex'>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\r\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\t\t\tremoveFromLocalStorage(w.key)\r\n\t\t\t\t\t\t\t\t\t\tsetWallets(wallets.filter(i => i.key !== w.key))\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TITLE'),\r\n\t\t\t\t\t\t\t\t\t\ttext: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TEXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t(wallet.email || wallet.authType || '').toUpperCase(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Close />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t))}\r\n\t\t\t{(wallets.length > 0 || auth) && <Divider />}\r\n\t\t\t{showRegistration && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\r\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default AuthSelect\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tlimitedWidthBtn: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t\tcolor: theme.palette.common.black,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t\tcolor: theme.palette.common.black,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\nimport { t } from 'selectors'\r\nimport { Typography } from '@material-ui/core'\r\nimport ThemeSwitch from 'components/App/ThemeSwitch'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tfunction Connect({ classes, ...rest }) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\r\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\r\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\r\n\t\t\t\t\t\t\t\t<ThemeSwitch />\r\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\r\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HELP')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn withStyles(styles)(Connect)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { List, ListItem, ListItemText } from '@material-ui/core'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { selectWalletAddress, execute } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function AddrItem({ stats }) {\r\n\tconst { balanceEth, tokensBalances, address } = stats\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<span> {symbol} </span>\r\n\t\t\t\t\t\t\t<strong> {balance} </strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const AddressSelect = ({\r\n\taddresses,\r\n\taddress,\r\n\twaitingAction,\r\n\tactionWaitingLabel,\r\n\tselectLabel,\r\n\tsignType,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\tclasses,\r\n}) => {\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentStickyTop>\r\n\t\t\t\t{waitingAction ? <TopLoading msg={actionWaitingLabel} /> : selectLabel}\r\n\t\t\t</ContentStickyTop>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t{addresses.map((addrData, hdWalletAddrIdx) => (\r\n\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\tkey={addrData.address}\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tselectWalletAddress({\r\n\t\t\t\t\t\t\t\t\t\taddrData,\r\n\t\t\t\t\t\t\t\t\t\thdWalletAddrPath,\r\n\t\t\t\t\t\t\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\t\t\t\t\t\t\tsignType,\r\n\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tselected={address === addrData.address}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AddrItem stats={addrData} address={addrData.address} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</List>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport METAMASK_IMG from 'resources/metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport { checkAuthMetamask, execute } from 'actions'\r\nimport { getEthereumProviderName } from 'services/smart-contracts/ethers'\r\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\r\nimport { CHECKING_METAMASK_AUTH } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthMetamask() {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\r\n\tconst { address } = wallet\r\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\r\n\tconst isOpera =\r\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\r\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\r\n\t\tfalse\r\n\t)\r\n\r\n\tconst waitingAddrsData = useSelector(state =>\r\n\t\tselectSpinnerById(state, CHECKING_METAMASK_AUTH)\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst setEth = async () => {\r\n\t\t\tconst ethereumProvider = await getEthereumProviderName()\r\n\t\t\tsetIsMetamaskEthereumProvider(\r\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tsetEth()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (installingMetamask) {\r\n\t\t\t// Refreshes page after user comes back\r\n\t\t\t// from installing Metamask\r\n\t\t\twindow.onfocus = () => {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\tsetInstallingMetamask(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [installingMetamask])\r\n\r\n\treturn (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingAddrsData ? (\r\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\r\n\t\t\t\t\t\t\t\talt={'metamask logo'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => execute(checkAuthMetamask())}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthMetamask\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { AddressSelect } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport {\r\n\tAUTH_WAITING_ADDRESS_DATA,\r\n\tAUTH_WAITING_TREZOR_ACTION,\r\n} from 'constants/spinners'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\r\nimport { connectTrezor, execute } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthTrezor() {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, addresses = [], hdWalletAddrPath } = useSelector(\r\n\t\tselectIdentity\r\n\t)\r\n\tconst { address } = wallet\r\n\r\n\tconst waitingTrezorAction = useSelector(state =>\r\n\t\tselectSpinnerById(state, AUTH_WAITING_TREZOR_ACTION)\r\n\t)\r\n\r\n\tconst waitingAddrsData = useSelector(state =>\r\n\t\tselectSpinnerById(state, AUTH_WAITING_ADDRESS_DATA)\r\n\t)\r\n\r\n\treturn addresses.length ? (\r\n\t\t<AddressSelect\r\n\t\t\twaitingAction={waitingTrezorAction}\r\n\t\t\tactionWaitingLabel={t('TREZOR_WAITING_ACTION')}\r\n\t\t\tselectLabel={t('SELECT_ADDR_TREZOR')}\r\n\t\t\taddress={address}\r\n\t\t\taddresses={addresses}\r\n\t\t\tsignType={AUTH_TYPES.TREZOR.signType}\r\n\t\t\tauthType={AUTH_TYPES.TREZOR.name}\r\n\t\t\thdWalletAddrPath={hdWalletAddrPath}\r\n\t\t\tclasses={classes}\r\n\t\t/>\r\n\t) : (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingAddrsData ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : waitingTrezorAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\r\n\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\r\n\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\r\n\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{!waitingAddrsData && !waitingTrezorAction && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => execute(connectTrezor())}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthTrezor\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocationQuery } from 'selectors'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction AuthMethod(props) {\r\n\tconst classes = useStyles()\r\n\tconst query = useSelector(selectLocationQuery)\r\n\tconst method = query['external']\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t{method === 'metamask' && <AuthMetamask {...props} />}\r\n\t\t\t\t{method === 'trezor' && <AuthTrezor {...props} />}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default AuthMethod\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tCheckbox,\r\n\tFormControlLabel,\r\n\tFormHelperText,\r\n\tFormControl,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { ExternalAnchor } from 'components/common/anchor'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectKnowUsFromSource,\r\n\tselectUserSides,\r\n} from 'selectors'\r\nimport { execute, updateIdentity } from 'actions'\r\n\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst knowFromSource = selectKnowUsFromSource()\r\nconst userSides = selectUserSides()\r\n\r\nconst QuickInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\r\n\t]\r\n\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\tpassword,\r\n\t\tpasswordCheck,\r\n\t\ttosCheck,\r\n\t\tknowFrom,\r\n\t\tmoreInfo,\r\n\t\tuserSide,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner || sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t{password && !!password.dirty ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Box> {password.errMsg} </Box>\r\n\t\t\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Box>{t('PASSWORD_RULES')} </Box>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='knowFrom'\r\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\r\n\t\t\t\t\t\t\t\tsource={knowFromSource}\r\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-know-from'\r\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\r\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tname='moreInfo'\r\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\r\n\t\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='userSide'\r\n\t\t\t\t\t\t\t\tlabel={t('USER_SIDE_SELECT_LABEL')}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('userSide', val))}\r\n\t\t\t\t\t\t\t\tsource={userSides}\r\n\t\t\t\t\t\t\t\tvalue={identity.userSide || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-user-side'\r\n\t\t\t\t\t\t\t\terror={userSide && !!userSide.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tuserSide && !!userSide.dirty\r\n\t\t\t\t\t\t\t\t\t\t? userSide.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('USER_SIDE_INFO')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href={`${process.env.ADEX_TOS_URL}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('TOS')}\r\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectKnowUsFromSource,\r\n\tselectUserSides,\r\n} from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst knowFromSource = selectKnowUsFromSource()\r\nconst userSides = selectUserSides()\r\n\r\nconst FulInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst { wallet = {} } = identity\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\ttosCheck,\r\n\t\taccessWarningCheck,\r\n\t\tknowFrom,\r\n\t\tuserSide,\r\n\t\tmoreInfo,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{walletAddress}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='knowFrom'\r\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\r\n\t\t\t\t\t\t\t\tsource={knowFromSource}\r\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-know-from'\r\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\r\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tname='moreInfo'\r\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\r\n\t\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='userSide'\r\n\t\t\t\t\t\t\t\tlabel={t('USER_SIDE_SELECT_LABEL')}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('userSide', val))}\r\n\t\t\t\t\t\t\t\tsource={userSides}\r\n\t\t\t\t\t\t\t\tvalue={identity.userSide || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-user-side'\r\n\t\t\t\t\t\t\t\terror={userSide && !!userSide.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tuserSide && !!userSide.dirty\r\n\t\t\t\t\t\t\t\t\t\t? userSide.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('USER_SIDE_INFO')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\r\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('TOS')}\r\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FulInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickLogin = props => {\r\n\tconst { validateId } = props\r\n\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\r\n\t]\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { wallet } = validations\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickLogin\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport { push } from 'connected-react-router'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { execute, updateIdentity, updateOwnerIdentities } from 'actions'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectIdentity,\r\n\tt,\r\n\tselectSearchParams,\r\n\tselectRegistrationAllowed,\r\n} from 'selectors'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: id.ens\r\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\r\n\t\t\t\t  })\r\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\r\n\t\t\t\t  }),\r\n\t\t}\r\n\t})\r\n\r\nfunction FullLogin(props) {\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst {\r\n\t\twalletAddr,\r\n\t\twallet = {},\r\n\t\townerIdentities,\r\n\t\tidentityContractAddress,\r\n\t} = identity\r\n\tconst walletAddress = wallet.address || walletAddr\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\r\n\t)\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\r\n\tconst searchParams = useSelector(selectSearchParams)\r\n\tsearchParams.set('step', '1')\r\n\r\n\tconst search = searchParams.toString()\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateOwnerIdentities({ owner: walletAddress }))\r\n\t\t// We need it just once on mount\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\r\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{showRegistration && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FullLogin\r\n","import React from 'react'\r\nimport AuthMethod from './ownerAuth/AuthMethod'\r\nimport QuickInfo from './QuickInfo'\r\nimport FullInfo from './FullInfo'\r\nimport QuickLogin from './QuickLogin'\r\nimport FullLogin from './FullLogin'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport { push } from 'connected-react-router'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateQuickLogin,\r\n\tvalidateStandardLogin,\r\n\tvalidateQuickInfo,\r\n\tvalidateFullInfo,\r\n\tvalidateContractOwner,\r\n\tresetIdentity,\r\n} from 'actions'\r\n\r\nconst cancelFunction = () => {\r\n\texecute(resetIdentity())\r\n\texecute(push('/'))\r\n}\r\n\r\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst common = {\r\n\tcancelFunction,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const LoginStandardIdentity = props => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-login'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tcomponent: AuthMethod,\r\n\t\t\t\t\tvalidationFn: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\t\tcomponent: FullLogin,\r\n\t\t\t\t\tvalidationFn: finalValidationStandard,\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateStandardIdentity = props => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-create'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tcomponent: AuthMethod,\r\n\t\t\t\t\tvalidationFn: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'FULL_INFO',\r\n\t\t\t\t\tcomponent: FullInfo,\r\n\t\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\r\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateQuickIdentity = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-create'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_INFO',\r\n\t\t\t\tcomponent: QuickInfo,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\r\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginQuickIdentity = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-login'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_LOGIN',\r\n\t\t\t\tcomponent: QuickLogin,\r\n\t\t\t\tvalidationFn: finalValidationQuick,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const DemoIdentity = props => (\r\n\t<FormSteps {...props} {...common} steps={[]} />\r\n)\r\n","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Logo from 'resources/adex-logo-txt-sm.svg'\r\nimport LogoDark from 'resources/adex-logo-txt-dark-theme.svg'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\r\nimport Media from 'components/common/media'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n\tlogo: {\r\n\t\theight: '5rem',\r\n\t\twidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\tconst theme = useTheme()\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? LogoDark : Logo\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tclassName={classes.root}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-evenly'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t{/* <AdxIcon className={classes.logo} /> */}\r\n\t\t\t\t\t<Media className={classes.logo} src={AdxIcon} />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{/* <Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t{/* <Box p={1}>\r\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React from 'react'\r\nimport { Box } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\n\r\nexport function ImportantNotifications({\r\n\tseverity = 'info',\r\n\tmessage = null,\r\n\ttitle = null,\r\n\taction = null,\r\n}) {\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tstyle={{ position: 'fixed', top: 0, left: 0, right: 0, zIndex: 10000 }}\r\n\t\t>\r\n\t\t\t<Alert\r\n\t\t\t\tvariant='filled'\r\n\t\t\t\tseverity={severity}\r\n\t\t\t\tstyle={{ flex: 1 }}\r\n\t\t\t\taction={action}\r\n\t\t\t>\r\n\t\t\t\t{title && <AlertTitle>{title}</AlertTitle>}\r\n\t\t\t\t{message}\r\n\t\t\t</Alert>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tmetamaskChecks,\r\n\tmetamaskNetworkCheck,\r\n\tgetRelayerConfig,\r\n\texecute,\r\n\tensureQuickWalletBackup,\r\n\tupdateRegistrationAllowed,\r\n\tupdateEasterEggsAllowed,\r\n\thandleRedirectParams,\r\n\thandleSignupLink,\r\n\trefreshCacheAndReload,\r\n\tupdateDebuggingAddresses,\r\n} from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateQuickIdentity,\r\n\tLoginStandardIdentity,\r\n\tCreateStandardIdentity,\r\n\tLoginQuickIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\r\nimport Translate from 'components/translate/Translate'\r\nimport { Button } from '@material-ui/core'\r\nimport {\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectLocation,\r\n\tt,\r\n\tselectNewVersionAvailable,\r\n\tselectNewVersionAvailableId,\r\n} from 'selectors'\r\nimport { getMetamaskEthereum } from 'services/smart-contracts/ethers'\r\nimport { ImportantNotifications } from './ImportantNotifications'\r\n\r\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\r\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedCreateStandardIdentity = ConnectHoc(\r\n\tJustDialog(CreateStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst handleLegacyWallet = async wallet => {\r\n\tconst { type, email, password, authType } = wallet || {}\r\n\r\n\tif (!type && email && password && authType === 'grant') {\r\n\t\tawait migrateLegacyWallet({ email, password })\r\n\t\tawait removeLegacyKey({ email, password })\r\n\t}\r\n\r\n\tif (email && password && authType) {\r\n\t\texecute(ensureQuickWalletBackup())\r\n\t}\r\n}\r\n\r\nconst Root = () => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst wallet = useSelector(selectWallet)\r\n\tconst location = useSelector(selectLocation)\r\n\tconst showNotification = useSelector(selectNewVersionAvailable)\r\n\tconst version = useSelector(selectNewVersionAvailableId)\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function initialChecks() {\r\n\t\t\tawait getMetamaskEthereum()\r\n\t\t\texecute(metamaskChecks())\r\n\r\n\t\t\texecute(getRelayerConfig())\r\n\t\t\texecute(handleRedirectParams(location.search))\r\n\t\t\texecute(handleSignupLink(location.search))\r\n\t\t\texecute(updateDebuggingAddresses(location.search))\r\n\t\t\texecute(updateEasterEggsAllowed(location.search))\r\n\t\t}\r\n\r\n\t\tinitialChecks()\r\n\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\thandleLegacyWallet(wallet)\r\n\t}, [wallet])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskNetworkCheck())\r\n\t\texecute(updateRegistrationAllowed(location.search))\r\n\t}, [location])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showNotification && (\r\n\t\t\t\t<ImportantNotifications\r\n\t\t\t\t\ttitle={t('RELOAD_REQUIRED')}\r\n\t\t\t\t\tmessage={t('SUCCESS_UPDATING_NEW_APP_VERSION', {\r\n\t\t\t\t\t\targs: [version],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tseverity='success'\r\n\t\t\t\t\taction={\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\texecute(refreshCacheAndReload({ version }))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RELOAD_NOW')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<Switch>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tauth={auth}\r\n\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/quick'\r\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/login/full'\r\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/full'\r\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\r\n\t\t\t\t<Route>\r\n\t\t\t\t\t<PageNotFound />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Translate(Root)\r\n","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { updateNewVersion, execute, notifyNewTOS } from 'actions'\r\n\r\nconst buildMeta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(2)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = buildMeta\r\n\t\t\t\tconst shouldForceRefresh = latestVersion !== currentVersion\r\n\r\n\t\t\t\texecute(\r\n\t\t\t\t\tupdateNewVersion({\r\n\t\t\t\t\t\tshouldForceRefresh,\r\n\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst shouldNotifyNewTOS = latestTOS !== currentTOS\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import React from 'react'\r\nimport { useTheme } from '@material-ui/core/styles'\r\nimport { LinearProgress, Box } from '@material-ui/core'\r\nimport AdexIconTxt from 'resources/adex-logo-txt-sm.svg'\r\nimport AdexIconTxtDark from 'resources/adex-logo-txt-dark-theme.svg'\r\nimport Media from 'components/common/media'\r\n\r\nexport default function Loading() {\r\n\tconst theme = useTheme()\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? AdexIconTxtDark : AdexIconTxt\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\twidth='100vw'\r\n\t\t\theight='100vh'\r\n\t\t\tflexDirection='column'\r\n\t\t\tjustifyContent='center'\r\n\t\t\talignItems='center'\r\n\t\t\tposition='absolute'\r\n\t\t>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Media src={AdxIcon} style={{ width: 200, height: 'auto' }} />\r\n\t\t\t</Box>\r\n\t\t\t<Box width={200}>\r\n\t\t\t\t<LinearProgress color='secondary' />\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n\tDialog,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tListItemIcon,\r\n} from '@material-ui/core'\r\n\r\nimport {\r\n\tBlockSharp as AdBlockIcon,\r\n\tSignalCellularConnectedNoInternet0BarSharp as NoNetworkIcon,\r\n\tErrorSharp as NoValidatorIcon,\r\n} from '@material-ui/icons'\r\nimport { t } from 'selectors'\r\n\r\nconst DetectNetworkError = () => {\r\n\tconst [problemDetected, setProblemDetected] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst testAdBlock = async () => {\r\n\t\t\ttry {\r\n\t\t\t\t// Just detect for moonicorn which is currently blocked by the adblockers\r\n\t\t\t\tfetch(`https://tom.moonicorn.network/channel/list`, {\r\n\t\t\t\t\tmethod: 'HEAD',\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tsetProblemDetected(false)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tsetProblemDetected(true)\r\n\t\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetProblemDetected(true)\r\n\t\t\t\tconsole.error(err)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttestAdBlock()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Dialog open={problemDetected}>\r\n\t\t\t<DialogTitle id='adblock-and-network-dialog-title'>\r\n\t\t\t\t{t('PROBLEM_DETECTED_TITLE')}\r\n\t\t\t</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<List subheader={t('PROBLEM_DETECTED_SUBHEADER')}>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AdBlockIcon color='error' />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('PR_ADBLOCKER_PRIMARY')}\r\n\t\t\t\t\t\t\tsecondary={t('PR_ADBLOCKER_SECONDARY')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<NoNetworkIcon color='error' />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tcolor='error'\r\n\t\t\t\t\t\t\tprimary={t('PR_NO_CONNECTION_PRIMARY')}\r\n\t\t\t\t\t\t\tsecondary={t('PR_NO_CONNECTION_SECONDARY')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<NoValidatorIcon color='error' />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('PR_NO_VALIDATOR_PRIMARY')}\r\n\t\t\t\t\t\t\tsecondary={t('PR_NO_VALIDATOR_SECONDARY')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</List>\r\n\t\t\t</DialogContent>\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default DetectNetworkError\r\n","import React, { useEffect } from 'react'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport { persistor, store } from 'store'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport Root from './Root'\r\nimport { DateUtils } from 'helpers/dateUtils'\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport CacheBuster from './CacheBuster'\r\nimport { updateWindowReloading, execute } from 'actions'\r\nimport MultiThemeProvider from './MultiThemeProvider'\r\nimport Loading from './Loading'\r\nimport NetworkErrorDetector from './NetworkErrorDetector'\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nconst App = () => {\r\n\tuseEffect(() => {\r\n\t\texecute(updateWindowReloading(false))\r\n\r\n\t\tfunction onReload() {\r\n\t\t\texecute(updateWindowReloading(true))\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('beforeunload', onReload)\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('beforeunload', onReload)\r\n\t\t}\r\n\t})\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<MultiThemeProvider>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<NetworkErrorDetector />\r\n\t\t\t\t<MuiPickersUtilsProvider utils={DateUtils}>\r\n\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t<PersistGate\r\n\t\t\t\t\t\t\tloading={<Loading />}\r\n\t\t\t\t\t\t\tonBeforeLift={onBeforeLift}\r\n\t\t\t\t\t\t\tpersistor={persistor}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t<CacheBuster>\r\n\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</CacheBuster>\r\n\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t</Provider>\r\n\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t</MultiThemeProvider>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { unregister } from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nunregister()\r\n","module.exports = __webpack_public_path__ + \"static/media/adex-logo-txt-sm.522d1f30.svg\";","module.exports = __webpack_public_path__ + \"static/media/adex-logo-txt-dark-theme.84141be1.svg\";","// Nodejs encryption with CTR\r\nconst crypto = require('crypto')\r\n\r\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\r\nconst CIPHER_ALG = 'aes-256-cbc'\r\nconst IV_LENGTH = 16\r\nconst HASH_ALG = 'sha256'\r\n\r\nconst getKeyHash = key => {\r\n\tconst hash = crypto.createHash(HASH_ALG)\r\n\thash.update(key)\r\n\tconst hashed = hash.digest()\r\n\treturn hashed\r\n}\r\n\r\nexport const encrypt = async (text, key) => {\r\n\tif (!text) return ''\r\n\tif (!key) {\r\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\r\n\t}\r\n\tconst iv = crypto.randomBytes(IV_LENGTH)\r\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst encr = cipher.update(text)\r\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\r\n\r\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\r\n}\r\n\r\nexport const decrypt = async (text, key) => {\r\n\tconst textParts = text.split(':')\r\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\r\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\r\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst decr = decipher.update(encryptedText)\r\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\r\n\r\n\treturn decrypted.toString()\r\n}\r\n\r\nexport const encryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\r\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\r\n\tlet dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg0OWZlMjc1LWQzZGEtZjI0Zi1hZjY1LWM2ZjAwZjk0MmZmMyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg0YmMzZjJjLTE4NDEtZTk0ZC1iZjg4LTdiNmJhMzkxOGQ0YiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjExNmFhMzE5LTJhNGUtNTU0My1hMDFjLTU0OGZhZWU4Y2U5YSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTE2YWEzMTktMmE0ZS01NTQzLWEwMWMtNTQ4ZmFlZThjZTlhIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODQ5ZmUyNzUtZDNkYS1mMjRmLWFmNjUtYzZmMDBmOTQyZmYzIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+CelIuwAAGaZJREFUeF7tnAdcFGfawJ9lC7vssvS6sFTpCGoEsaFiQ2yJxEvUXBK/2GNy+U5TjS0XPRPz8/RiLpp4uRhrvBgLgmDDCopYAOlI721p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\"","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic_80x80.d41e2bbc.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmMwYTM2YWNkLTI0MWQtMWM0ZC04YTBjLWZmZGZjZWE1YTk1NyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjExN2ZkN2FiLTdlMTQtNjk0ZS1iNGYzLTcyNTA0YjI1MTU4MSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmIxMWJhYTU3LWYzMDctOTI0NC05MTVmLTRlZTQ4YjE4M2M4NyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjExYmFhNTctZjMwNy05MjQ0LTkxNWYtNGVlNDhiMTgzYzg3IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzBhMzZhY2QtMjQxZC0xYzRkLThhMGMtZmZkZmNlYTVhOTU3IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zfLLjwAAF5NJREFUeF7tXAl0FFW6/m/1lu7sSZOkyQIJaQgQiKwCsiqBsA3IEkbUAUUeouKMT87MOOogLuhhjs6bxfGND3BgmMFBBxnEsK+CLBEI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\"","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/ramp.1b4e7993.svg\";","module.exports = __webpack_public_path__ + \"static/media/paytrie.d5796d80.svg\";","module.exports = __webpack_public_path__ + \"static/media/transak.877f635a.svg\";","module.exports = __webpack_public_path__ + \"static/media/changelly.959934f6.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmIwNDIwZDczLWQ3YzQtNGM0NC04MTE1LTYwZGRmZjcwYTEyMiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY3Yjg5NTQxLWUxMWUtZjg0Mi1hODMwLTY3Mjc5OTlhYjg5MCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjBlZmIzM2Q2LTcxOTMtYjQ0MS1iN2E1LTRhYzU1OTI0YTdkMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGVmYjMzZDYtNzE5My1iNDQxLWI3YTUtNGFjNTU5MjRhN2QwIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjA0MjBkNzMtZDdjNC00YzQ0LTgxMTUtNjBkZGZmNzBhMTIyIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+lvIY5AAAGQlJREFUeF7tnAlYVOe5x9/ZZ5hh9mEbtmGRRZBNxGgNGIMaAc2i2ZvcJO1tb5o8vWnvbdPe3pvaPulN29veNK3N3rRZmifR1LgAGjUu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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjBmMDI5MDBjLWZhZDEtNmQ0Ny1iYzJmLTBkODRlODkwODNkNSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODU5NmIwYTItNjliYy01YzRlLTkyMWUtYTY3MDBjY2YyM2I0IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NjFhOWI2YWUtM2I4Ny1mZTQwLWI3NmYtOWVkMGRmNjNiMzljIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+rSUE+gAABchJREFUeF7tmn1MlVUcx3/3uc995/1KyZsMUYgEzFzpbJJrUwqGkpLZxmYvo3JSsUJcM61lf+WWRVvly1rlwFjUVnC5GfiChToqFEbMFhYCAoJX3naB+/p0zsNpozHl3nvQw+Wez/bdPc95nmd77pdzvs/vnAtwOBwOh8PhcDgcDofD4XA4/oOCfHpFdnb2dpVa/YbBEKwhXX6Jy+VwjQwPX3Q4HC/W1tZaSbdXeG1gTk5OQuyi+KaSfft1okrl1wZi6k/+NFD2+ZFDZrN5L+nyCoF8eozb7Y6/P215qD+Zh54Zfm+8CL09ffKx8q9mEPquyu1l6Q8sEARhoXzgA14biFEgSNMvaG1pgz3F78Dbu98DobcDdKXFSLuQsy40Bem+i08G+huxcdGQnJIEazJWgxQWCa7ENHCmr0HfXkmu8J2AMDDCGAEfHToAzxbkg6QzwHjRB2DbVkTO0hEQBt5JvJ7/qIRZ98TGJ09vemqbfPyH8yaY7B1y219Yr46DFWKk3LYMDMCe1wuPmkymArnDS6gNrLJ1wF7rBbntL7ypXwlPa5fKbVoD+RSmhBtICTeQEp8NtNkmAC2BoO3nBgCJdAYgPhlot9vh+OFPIVehgty2G7D2UCPorw2Ts4GFLwaGNP9yFjbrQ0EUBGgftMBbxvtgQ1krGomBNxQ9NjAzMzPq8ZxN70eFhFUcXJcJETo9nOvuhHCtDlr6+6A1RocXyeTqwOG2Bubl5emysrKyN2zcXNGbmnml4ZkPd1U/+qr2m7+vwDDKwBH7BKjRevLbwS74Z0s6uSuwUDyWl39ZAe4mtXWwU5KkMUEQtHZNUPR4aFTKqDFuuSVuhaZ/8cPg0ASRWwCCbnZBdtNxeEHvhDM9V6F8ayKMJhjJ2bnPbBbSiujS01JvUgYoHRNINnCLanCqdSDJ0/F2U1KCpRfKYcdiFxjXryJ9/kGyGAYxwuSAoDYwuLxDGjXGk0PPuafjNyiynof87c/h/UHS639QGyiYHZJbEMmhZxi7W+D5zirYWfgK6DVq0Kro99V8Ab/zR8btcvtS1wg0tA/J7ZnISAqHtJhguU1tIJzwrvaIRCNva/t3UFxcAqJKBcFaFYTq1OTs3QVlNlwbGpPb5Y09UHpycpt+JnZlJsCWByd38WkN9LwORA8b13oCVv7w7p8pSxJl8zBu1O9ysxNrPDJQ6bTBsjOfuVNPffyJqJB2km4Zq80JvcNjTNQ3Mk6egh0zGmgY7IZVlbsnFjVXvWw2mQrRtHGRUzIaUQlhaAqzEKvomMotDcQlTeKvFfBI+WuXwvvbV5vN5iOoe9qcUYsCBKEcZCKNdy+/O8E0A/F0jW2rg7XHdliSz31VYhu2PIQCtpmcngbPQITC7QbDUA8safwaMr4ouJ5ae3C/aOlKrKmpOVBfX++Ur7wFAZ+B6bUH8WjrzvjypbKk88dyjdJ4wo81Nfvq6uo82p9SKQUwqEWPhPPyv3vC9CjHKDUnMnDR5VORZ8sPx5lrqvPRiPu+srLSqz8rLqLDDRqPhHMLoxQUKL9whtFqDmRgdXX1DdK+a+DS3YnyazbEGo/qwNnG5nRBH84wSl33hzrwToCzcGGIjlr3IrGGiYF480ZELxJqoSxlDRMDcf02ZnfSy/G/RRETmBjocLnhptVGrUEk1jAxENeBEaisoVW4nv0/yTIxENeBelRY04vNRu5UqA30rhKbvBrXgXga02se1IHWCQf0DI15JJxbGFwH4hqOVv2j86AO1OClHFqXeqIIlFlGlF2zJZyDrKE2EL8QdCiPmIjRj1lToTYQ13R2lEesxBpqA3FB24/ziIEGRifIU7CD2kA8jYxBWiaaFxmI16TYRFZizexkoBPlEQvNmwxE9RgLzZsMXIDyiIWMQfMkA/HvIkxEfqRiCbWBgQ43kBJuICXcQEq4gZRwAynhBlLCDaSEG0gJN5ASbiAl3EBKuIGUcAMp4QZSAfAv9zIDHEKL3x4AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";"],"sourceRoot":""}