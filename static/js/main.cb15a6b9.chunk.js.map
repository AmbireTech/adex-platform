{"version":3,"sources":["resources/home-wallpaper.jpg","constants/actionTypes.js","store/initialState.js","helpers/miscHelpers.js","services/translations/translations.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/newTransactionsReducer.js","store/history.js","store/configureStore.js","actions/common.js","services/store-data/auth.js","services/requester/index.js","services/requester/requester.js","services/adex-market/actions.js","actions/uiActions.js","services/auth/auth.js","services/adex-relayer/actions.js","services/smart-contracts/contractsCfg.js","constants/misc.js","services/smart-contracts/ethers.js","services/smart-contracts/signers/trezor.js","services/crypto/crypto.js","helpers/localStorageHelpers.js","services/wallet/wallet.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","actions/transactionActions.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","actions/accountActions.js","services/smart-contracts/actions/core.js","helpers/mediaHelpers.js","actions/itemActions.js","helpers/formatters.js","services/smart-contracts/actions/identity.js","actions/identityActions.js","actions/bidActions.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","actions/validationActions.js","actions/index.js","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/containers/Lists/styles.js","components/dashboard/containers/Lists/Controls.js","components/dashboard/containers/Lists/ListWithControls.js","components/dashboard/collection/Rows.js","components/dashboard/forms/stepper/MaterialUiStepper.js","components/dashboard/forms/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/content.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/DownshiftMultiple.js","components/common/autocomplete/DownshiftSingle.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/ItemsList/ItemsList.js","components/dashboard/containers/ItemsList/styles.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/dashboard/charts/options.js","components/dashboard/charts/slot/styles.js","components/dashboard/charts/slot/bidsStatus.js","components/dashboard/charts/slot/bidsLegend.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/dashboard/charts/revenue.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Items/Items.js","components/dashboard/containers/Transactions/Transactions.js","components/dashboard/containers/Transactions/styles.js","components/dashboard/forms/web3/TransactionHoc.js","components/common/spinners/index.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","services/store-data/transactions.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/styles.js","components/signin/identity/IdentityContractAddressEthDeploy.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/IdentityContractOwner.js","components/signin/identity/GrantInfo.js","components/signin/identity/GrantDeploy.js","components/signin/identity/GrantLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/ExternalWalletConnect.js","components/common/stepper/styles.js","components/common/stepper/MaterialUiStepper.js","components/signin/identity/IdentitySteps.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/themeMUi.js","components/App/App.js","serviceWorker.js","index.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/ledger_logo_header.png","../../adex-translations/index.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404.png","resources/rekt-eddie.png","resources/download-metamask.png","resources/adex-logo-txt-sm.svg","resources/eddie/eddie-20.png"],"names":["module","exports","__webpack_require__","p","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","initialState","account","Account","signin","name","email","password","passConfirm","seed","publicKey","seedCheck","authenticated","newItem","Campaign","plainObj","AdUnit","temp","addUtmLink","AdSlot","currentItem","items","spinners","ui","toasts","confirm","data","nav","side","language","validations","newTransactions","default","web3Transactions","tags","identity","ethNetwork","networkId","gasData","wallet","config","relayer","market","validators","miscHelpers","hexToRgbaColorString","hex","alpha","Error","length","substr","hexToDec","h","parseInt","r","g","b","concat","getErrMsg","err","stack","message","toString","split","error","isInt","int","shuffleArray","array","Object","toConsumableArray","sort","Math","random","replace","c","prefix","substring","min","max","floor","this","getRandomInt","obj","keys","maxDaysPast","maxDaysAhead","initialMoment","initial","moment","isMoment","valueOf","undefined","add","queryParams","map","key","encodeURIComponent","join","translations","adexTranslations","lang","translate","val","arguments","_ref","_ref$isProp","isProp","_ref$args","args","toUpperCase","translation","Array","isArray","tpl","_","v","arg","component","renderToString","interpolate","setLang","lng","persistReducers","newState","state","action","objectSpread","type","Base","updateObject","item","newValues","objModel","filterActions","newCollection","collectionId","collection","defineProperty","id","itemType","Item","addItem","_id","toAdd","prop","newCol","removeCollectionProp","removeItem","toRemove","newItems","reduce","index","currentItems","ipfs","match","category","value","types","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","_ref2","pTxs","status","indexOf","hash","push","filter","tx","addr","updateObj","txHash","tag","memoryReducers","newSignin","newidentity","newWallet","spinner","newToast","toast","Helper","getGuid","added","Date","now","t","onConfirm","onCancel","active","noActionBtns","calledOn","routing","routerReducer","LOCATION_CHANGE","CALL_HISTORY_METHOD","newErrors","errors","hasOwnProperty","updateTx","history","createHistory","reduxRouterMiddleware","routerMiddleware","configStorage","storage","localStorage","rootReducer","combineReducers","persist","persistCombineReducers","memory","configureStore","middlewares","thunk","store","createStore","compose","applyMiddleware","apply","persistor","persistStore","execute","dispatch","logOut","actions","resetAccount","resetAllItems","resetAllBids","isDemoMode","getState","_authType","requester","AdexNodeRequester","_this","baseUrl","classCallCheck","getAuthHeaders","authSig","acc","X-User-Address","_addr","X-User-Signature","_authSig","X-Auth-Token","_authToken","getUrl","base","route","query","url","fetch","_ref3","_ref3$route","_ref3$queryParams","_ref3$method","method","body","_ref3$headers","headers","_ref3$authSig","userAddr","qp","authToken","demo","getQuery","hdrs","Requester","process","processResponse","res","dontThrow","json","text","then","statusText","getSession","mode","signature","typedData","signerAddress","JSON","stringify","Content-Type","checkSession","skipErrToast","convertItemToJSON","itemToConvert","created","unix","getAdUnits","_ref4","postAdUnit","_ref5","unit","getAdSlots","_ref7","postAdSlot","_ref8","slot","getCampaigns","_ref10","getAllCampaigns","all","updateSpinner","updateUi","addToast","_ref$label","label","_ref$timeout","timeout","unclosable","anchorOrigin","top","removeToast","toastId","confirmAction","_ref2$confirmLabel","confirmLabel","_ref2$cancelLabel","cancelLabel","_ref2$title","title","_ref2$text","updateNav","changeLanguage","updateValidationErrors","resetValidationErrors","addSig","_ref$addr","sig","expiryTime","_ref$identity","setItem","toLowerCase","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getItem","time","grantAccount","ownerAddr","mail","couponCode","getGrantType","getOwnerIdentities","_ref6","owner","registerFullIdentity","privileges","sendOpenChannel","_ref9","txnsRaw","signatures","channel","identityAddr","registerExpectedIdentity","relayerConfig","executeTx","_ref11","setAddrPriv","_ref12","privLevel","setAddr","contracts","Identity","abi","AdExCore","address","DAI","Dai","decimals","IdentityFactory","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","constants","AdTypes","AdUnitsTypes","SORT_PROPERTIES_ITEMS","FILTER_PROPERTIES_ITEMS","labelIsProp","values","AUTH_TYPES","METAMASK","signType","GETH","limit","TREZOR","LEDGER","DEMO","GRANT","SEED","SORT_PROPERTIES_CAMPAIGN","FILTER_PROPERTIES_CAMPAIGN","status.name","UTM_PARAMS","utm_source","utm_medium","utm_campaign","utm_content","localWeb3","asyncToGenerator","regenerator_default","a","mark","_callee","provider","adexCore","dai","identityFactory","results","wrap","_context","prev","next","ethers","providers","JsonRpcProvider","Contract","abrupt","stop","loadInjectedWeb3","Promise","resolve","reject","window","addEventListener","ethereum","web3","getInjectedWeb3","_callee2","enabled","_results","_context2","sent","enable","console","log","Web3Provider","t0","currentProvider","getLocalWeb3","getEthers","_callee3","injected","_context3","_x","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","opts","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","to","bundle","path","showOnTrezor","getAddresses","_ref3$from","_ref3$to","success","payload","_args","ethereumGetAddress","signTx","params","txProps","txSigned","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","s","serializeTransaction","sendTransaction","txData","_x2","signMessage","_callee4","_args4","_context4","ethereumSignMessage","_x3","connect","_provider","_path","Signer","crypto","require","encrypt","cipher","createCipher","crypted","update","final","decrypt","decipher","createDecipher","dec","loadFromLocalStorage","parse","saveToLocalStorage","serialized","warn","generateWallet","mnemonic","randomEntropy","randomBytes","HDNode","entropyToMnemonic","getRandomMnemonic","Wallet","fromMnemonic","privateKey","encrKey","encrData","addDataToWallet","_ref5$email","_ref5$password","_ref5$dataKey","dataKey","_ref5$dataValue","dataValue","getLocalWallet","props","decrData","LocalSigner","getAddress","_wallet","signetTx","sign","arrayify","walletData","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","updateNewTransaction","resetNewTransaction","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","prepareTx","_prepareTx","sender","gasLimit","gasPrice","pTx","populateTransaction","toHexString","nonce","processTx","_processTx","fromType","txRes","settings","receipt","txSuccessData","nextNonce","updateAccount","wait","_getSigner","authType","signer","_signer2","_signer3","LedgerSigner","getTypedDataHash","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","getAuthSig","_x4","_getAuthSig","Number","MAX_SAFE_INTEGER","getTransactionsReceipts","_x5","_getTransactionsReceipts","_callee5","_ref6$txHashes","txHashes","receipts","_context5","getTransactionReceipt","_x6","_signTx","_callee6","_context6","Transaction","hashHex","splitSig","getMultipleTxSignatures","_x7","_getMultipleTxSignatures","_callee7","txns","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context7","Symbol","iterator","done","return","finish","getRequesters","campaign","leader","spec","follower","validator","getAuthToken","existingAuth","token","validatorAuthTokens","era","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","authTokens","lastApprovedState","closeCampaign","events","eventsAggregates","agrArgs","formatEther","formatUnits","privilegesNames","valueToKey","IdentityPrivilegeLevel","getAddressBalances","_getAddressBalances","calls","balances","formatted","getBalance","balanceOf","serializedPath","balanceEth","balanceDai","getAccountStats","_getAccountStats","_identity$status","identityContract","privilegesAction","walletBalanceEth","walletBalanceDai","identityBalanceDai","walletPrivileges","validatorsData","_validatorsData$outst","outstandingBalanceDai","_validatorsData$aggre","aggregates","raw","deployed","getValidatorData","catch","e","slicedToArray","totalIdentityBalanceDai","walletAddress","walletAuthType","identityAddress","getAllChannels","channels","lastApproved","balancesTree","allLeafs","mTree","msg","k","Channel","getBalanceLeaf","MerkleTree","_x9","getAllChannelsWhereHasBalance","allActive","_ref13","_ref14","balance","getOutstandingBalance","withBalance","_ref15","withOutstanding","totalOutstanding","_ref17","_ref16","outstanding","bigNumberify","withdrawnPerUser","sub","_x10","sum","ch","getIdentityStatistics","_callee9","allCalls","_context9","_ref19","_callee8","_ref18","stats","_context8","_x11","ag","getAllChannelsForIdentity","_callee10","_context10","_callee11","_context11","updateSignin","resetSignin","createAccount","meta","updateGasData","updateAccountStats","updateAccountSettings","grantType","createSession","sessionSignature","getRelayerConfig","cfg","getNetworkId","getNetwork","chainId","networks","1","for","5","production","development","metamaskNetworkCheck","location","_getState","search","isMetamaskMatters","_x8","Core","Interface","ERC20","feeAmountApprove","feeAmountOpen","timeframe","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","totalFeesFormatted","toEthereumChannel","specHash","createHash","digest","creator","tokenAddr","depositAsset","tokenAmount","depositAmount","validUntil","getReadyCampaign","newCampaign","withdrawPeriodStart","period","getValidUntil","adUnits","parseUnits","minPerImpression","div","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","openChannel","_openChannel","readyCampaign","openReady","ethChannel","initialNonce","feeTokenAddr","tx1","tx2","result","toNumber","feeAmount","functions","approve","encode","channelOpen","toSolidityTuple","closeChannel","_closeChannel","isVideoMedia","getMediaSize","mime","src","video","document","createElement","onloadedmetadata","target","width","videoWidth","height","videoHeight","getVideoSize","image","Image","onload","getImageSize","toastStr","AddToastUi","getImgsIpfsFromBlob","tempUrl","resp","blob","imgBlob","URL","revokeObjectURL","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","updateNewItem","resetNewItem","imageIpfs","resItem","mediaUrl","mediaMime","marketAdd","addSlot","fallbackUnit","resUnit","useFallback","targetUrl","description","targeting","passback","getAllItems","units","slots","campaigns","resUnits","resSlots","resCampaigns","campaignsMapped","updateItems","openCampaign","removeItemFromItem","addItemToItem","updateItem","successMsg","errMsg","deleteItem","_deleted","restoreItem","cloneItem","response","mediaURL","mediaSize","targets","source","helpers","getMediaUrlWithProvider","createObjectURL","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","_ref20","updateTags","_ref21","addNewTag","_ref22","updateCampaignState","_ref23","_ref24","_ref25","_ref26","_ref27","newIdentity","newTokens","MomentUtils","formatDateTime","timestamp","format","date","formatTokenAmount","amountString","pretty","commify","IDENTITY_BASE_ADDR","IDENTITY_FACTORY_ADDR","GAS_LIMIT_DEPLOY_CONTRACT","feeAmountTransfer","feeAmountSetPrivileges","getIdentityBytecode","_getIdentityBytecode","bytecode","getProxyDeployBytecode","privSlot","solc","getIdentityDeployData","_getIdentityDeployData","salt","expectedAddr","generateAddress2","deployIdentityContract","_deployIdentityContract","identityFactoryWithSigner","deploy","withdrawFromIdentity","_withdrawFromIdentity","amountToWithdraw","withdrawTo","getFeesOnly","toWithdraw","fees","mul","toGet","transfer","setIdentityPrivilege","_setIdentityPrivilege","identityInterface","setAddrPrivilege","updateIdentity","resetIdentity","updateWallet","resetWallet","getGrantAccount","walletAddr","coupon","identityData","deployFullIdentity","identityTxData","getFullIdentityTxData","getRegisterExpectedIdentity","onUploadLocalWallet","event","file","reader","onError","files","FileReader","ev","onerror","abort","onabort","readAsText","identityWithdraw","ownerIdentities","addrIdentityPrivilege","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","isEthAddressERC20","contract","isEthAddress","ERC20TokenABI","totalSupply","AddressZero","allowance","isConnectionLost","eth","race","setTimeout","getBlockNumber","urlRegex","emailRegex","passwordRegex","couponRegex","validUrl","test","validEmail","validateNumber","numberStr","isNaN","parseFloat","isFinite","validName","errMsgArgs","validQuickAccountCoupon","isEthAddressZero","isZero","validEthAddress","nonZeroAddr","nonERC20","ethAddressZero","ethAddressERC20","validateAddress","dirty","validate","isValid","src_actions","common","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","close","setState","inherits","createClass","nextProps","_this2","nextToast","_classnames","_this3","classes","Icon","vertical","horizontal","react_default","Snackbar","open","autoHideDuration","onClose","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","IconButton","aria-label","color","onClick","Close_default","snackbar","Component","bindActionCreators","withStyles","theme","spacing","border","borderRadius","backgroundColor","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","maxWidth","Translate","Decorated","Translated","assign","bind","Confirm","assertThisInitialized","visible","_this$props","children","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","_key","resolveToLocation","handleClick","preventDefault","rest","staticContext","objectWithoutProperties","toLocation","href","React","withRouter","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","d","Anchor","draggable","rel","style","styles","_appBar","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","mixins","drawerPaper","content","palette","background","padding","marginLeft","contentInner","navigation","paper","version","bottom","borderTopWidth","borderTopColor","divider","borderTopStyle","navList","overflowY","overflowX","navListRoot","secondary","sideNavToolbar","sntPadding","white","primary","light","&:focus","newItemBtn","adxLink","hint","&:hover","bar","actionCount","marginTop","RRSwitch","ListItem","ListItemText","ListItemSecondaryAction","anchor_anchor","Switch_Switch","SideSwitch","checked","pathname","fill","RRListItem","SideNav","nextState","langChanged","sideChanged","locationChanged","transactionsChanged","transactions","bidsAwaitingActionChanged","bidsAwaitingActionCount","isAdvertiser","List","AdexIconTxt","Divider","button","ListItemIcon","Dashboard_default","Fragment","CampaignIcon","Icon_Icon","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","alt","ButtonMenu","anchorEl","handleButtonClick","handleMenuHide","handleMenu","currentTarget","handleClose","btnStyle","iconStyle","Boolean","leftIcon","leftIconSrc","ButtonMenuMui_ImgIcon","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","demoLogo","RRMenuItem","MenuItem","TopNav","auth","handleDrawerToggle","navTitle","imgSrc","btnMenueLabel","AppBar","Toolbar","ButtonMenuMui","ExpandMore_default","caption","Typography","variant","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","displayVideo","setDisplayVideo","fallback","NO_IMAGE","displayImage","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$props2","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","CircularProgress","cursor","@media(max-width:744px)","minWidth","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","crop","x","round","y","getContext","drawImage","toBlob","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","onChange","onRemove","preventBubbling","onCropChange","saveCropped","croppedBlob","cropMode","stopPropagation","nativeEvent","stopImmediatePropagation","UploadInfo","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","droppedImgContainer","react_image_crop_default","imageStyle","imgDropzonePreview","gutterBottom","disabled","Save_default","dist_es","img_Img","marginBottom","grey","textAlign","alignSelf","@media(max-width:768px)","@media(max-width:500px)","ValidImageHoc","ValidImage","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","exact","required","targetAspect","toFixed","checkExactish","masgArgs","validateMedia","media","validateId","NewItemHoc","ValidItemHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","handleChange","onOk","vals","forEach","onChangeReady","errImg","imgPropName","Cancel_default","forms_ImgForm_ImgForm","imgLabel","SaveBtn","dirtyProps","save","validationId","Check_default","fabProgress","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","main","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","Grid","container","justify","sm","inline","textTransform","IMG_404","AdSizesByValue","ItemsConstants","ItemHoc","dp","slice","returnPropToInitialState","propName","initialItemState","initialItemStateValue","setActiveFields","field","newActiveFields","activeFields","editImg","_activeInput","matchId","currentItemInst","nexItemInst","_this$props4","page_not_found_PageNotFound","isDemo","canEdit","fallbackMediaUrl","titleErr","Prompt","when","containers_ImgDialog_ImgDialog","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","Info_default","Chip","onDelete","xs","md","lg","FormControl","fullWidth","InputLabel","Input","maxLength","onBlur","helperText","endAdornment","InputAdornment","Edit_default","FormHelperText","htmlFor","multiline","rows","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","fabButton","containers_SaveBtn_SaveBtn","isNameValid","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","Dropdown","_this$props$label","_this$props$htmlId","htmlId","_this$props$name","_this$props$disabled","_this$props$error","_this$props$fullWidth","formControl","Select","input","selectEmpty","flexItem","rowButton","rwoButtonRoot","row","bottomControls","listRoot","controlsRoot","pageSize","Pagination","page","pages","goToPrevPage","goToNextPage","goToPage","dropdown_Dropdown","getAllPagedValues","ChevronLeft_default","ChevronRight_default","current","INT_STRING","mapFilterProps","_ref$filterProps","filterProps","labelArgs","mapSortProperties","_ref2$sortProps","sortProps","ListWithControls","context","newStateValue","filterByValues","filterProperties","filterByValueFilter","handleChangeRxState","uiStateId","changePageSize","newPageSize","itemsLength","searchMatch","regex","RegExp","matchString","exec","filterItems","sortProperty","sortOrder","filterBy","filterArchived","filtered","i","isItem","archived","o","propA","propB","lt","gt","filteredLength","maxPages","ceil","sortProperties","filteredItems","renderItems","renderRows","startAdornment","Search_default","ArrowUpward_default","ArrowDownward_default","goToLastPage","goToFirstPage","rowsView","viewModeId","Rows","handleRowSelect","selected","newSelected","Table","tableHeadRenderer","TableBody","u","rowRenderer","StepperNav","currentPage","innerWidth","StepLabel","mobileStepLabel","MobileStepper","activeStep","steps","mobileStepper","Stepper","alternativeLabel","Step","MaterialStepper","nextStep","canAdvance","canAdvanceNextToPage","canGoBack","setPageIndex","Comp","MaterialUiStepper_StepperNav","stepperNav","pagePaper","pageContent","canReverse","cancelBtn","completeBtn","isValidPage","WithMaterialStepper","withStepper","&$active","WebkitOverflowScrolling","@media(max-width:475px)","& div","& span","MyMaterialStepper","stepper","CancelBtn","onSave","stepsId","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","MaterialUiStepper","fullHeight","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","contentStickyTop","TopLoading","FullContentSpinner","TextBtn","Transition","Slide","direction","WithDialog","onBeforeOpen","closeDialog","renderDemoModeAction","paragraph","DEMO_IMAGE","iconButton","textButton","fabVariant","btnLabelArgs","dialogActions","ButtonComponent","btnProps","btnLabel","react","first","second","TransitionComponent","disableTypography","NewAdUnitHoc","ItemForm","addTo","saved","adUnitPost","schemas","AdUnitBasic","validateAndUpdateType","Joi","validateTitle","validateDescription","validateTargetUrl","prevProps","addUtmParameters","removeFromUrl","protocol","host","newQuery","_i","_Object$entries","entries","addUrlUtmTracking","newTemp","errTitle","errDescription","errTargetUrl","TextField","onFocus","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","getWidAndHightFromType","sizes","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","renderInput","inputProps","InputProps","ref","other","inputRef","inputRoot","renderSuggestion","suggestion","itemProps","highlightedIndex","selectedItem","showSelected","isHighlighted","isSelected","fontWeight","getSuggestions","inputValue","allowCreate","validateCreation","trim","includes","newSuggestion","DownshiftMultiple","handleKeyDown","keycode","newItemValue","handleInputChange","handleDelete","splice","placeholder","openOnClick","allValues","downshift_esm","itemToString","getInputProps","getItemProps","isOpen","inputValue2","selectedItem2","toggleMenu","tabIndex","chip","onKeyDown","square","DownshiftSingle","multiple","autocomplete_DownshiftMultiple","autocomplete_DownshiftSingle","SOURCES","locations","AllCountries","country","genders","Genders","gender","PredefinedTags","custom","SourcesSelect","score","AdUnitTargeting","handleTargetChange","newValue","newTargets","newTarget","updateNewItemCollections","removeTarget","targetTag","autocomplete_Autocomplete","suggestionMatch","showSuggestionsWhenValueIsSet","Slider","aria-labelledby","step","valueLabelDisplay","collections","tg","_ref3$target","slider","targetIcon","LocationOnIcon","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","TargetsList","_ref$targets","subHeader","dense","subheader","ListSubheader","imgPreview","boxShadow","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","adUnitsArray","CampaignUnits","handleSelect","validateUnits","hasAdUnits","containers_ItemsList_ItemsList","selectMode","selectedItems","onSelect","listMode","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","DateTimePicker_CalendarIconAdor","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","underline","AdvPlatformValidators","fee","PubPlatformValidators","VALIDATOR_SOURCES","AdvValidatorsSrc","PubValidatorsSrc","validateCampaignDates","_ref2$created","activeFrom","validateAndUpdateValidator","newValidators","handleDates","validateAmount","isNumberString","_ref3$maxDeposit","maxDeposit","maxDep","dep","validateAmounts","minTargetingScore","errDepAmnt","errMin","errFrom","errTo","impressions","getTotalImpressions","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","WalletAction","CampaignFormPreview","AdUnitsTable","noControls","FormsCommon_WalletAction","NewCampaignFormPreview","adSlotPost","NewAdSlotHoc","validateImage","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Collapse","in","AdSlotTargeting","SlotFallback","AdSlotPreview","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","CampaignFinance","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","AdSlotBasic","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","TableCell","TableCell_TableCell","RRTableCell","ItemsList","renderTableHead","TableHead","TableRow","ItemsList_TableCell","renderCampaignTableHead","renderTableRow","cellImg","fallbackMediaiUrl","renderActions","renderCampaignTableRow","fundsDistributedRatio","_this$props5","Tooltip","enterDelay","ItemsList_RRButton","NewItems_NewCloneUnitDialog","_this$props6","collection_Rows","_this$props7","Lists_ListWithControls","archive","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","toggleFallbackImgEdit","CardContent","MediaCard","BasicProps","ItemCommon_MediaCard","CampaignProps","VIEW_MODE","componentDidMount","handleTabChange","CampaignActions","statistics","CampaignModel","Tabs","scrollable","scrollButtons","indicatorColor","textColor","Tab","removeFromItem","AdUnitModel","CampaignItem","datepicker","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","hoi","merge","defaults","global","legendList","listStyle","legendSpan","float","legendListItem","fontFamily","chartParent","chartLabel","@media(min-width:650px) and (max-width:1279px)","chartContainer","chartTitle","BidsStatusPie","componentWillUpdate","pieData","forceUpdate","doughnut","createRef","onPieClick","cutoutPercentage","legend","legendCallback","chart","bidsLegend","callbacks","tooltipItem","labels","count","datasets","datasetIndex","totalCount","maintainAspectRatio","chartData","hoverBackgroundColor","borderWidth","chartInstance","generateLegend","react_chartjs_2_es","getElementAtEvent","BidsLegend","legendItems","textDecoration","toggleChartItem","toggleLabelCross","RRSideBox","_ref$salePoints","salePoints","linkTitle","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","infoStatsContainer","infoCard","linkCard","&:hover, &:focus","dashboardCardBody","getChannelName","amount","cpm","PublisherStatistics","_ref$options","dataKeys","defaultValues","labelsWithData","sets","memo","labelsKeys","set","commonDsProps","lineTension","pointRadius","pointHitRadius","stacked","linesOptions","scales","xAxes","gridLines","scaleLabel","labelString","yAxes","PublisherStats","_ref$aggregates","hourly","daily","_a$aggr","aggr","_a$channel","channelData","channelHourly","channelDaily","year","month","day","hour","getHourId","dayId","getDayId","mapAggregates","revenue_PublisherStatistics","BidStatesLabels","DashboardStats","goToAccount","mapBidsToStats","bids","initialValue","bid","_amount","mapClosedBidsToStats","_state","Canceled","canceled","Expired","expired","Completed","completed","getLabel","extraLabel","mapData","_ref$action","_ref$active","_ref$closed","closed","_ref$open","PieLabels","PieDataCount","PieDataAmount","tabs","Accepted","activeCount","openCount","DoesNotExist","completedCount","canceledCount","expiredCount","BidsStateChart","bidsStatus","_index","goToBids","InfoStats","DashboardStats_StatsCard","bidsData","bidsStats","side_select_SideSelect","PublisherStats_PublisherStats","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","onCopy","publisherAddr","whitelistedToken","whitelistedType","randomize","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","Slot_IntegrationCode","SlotItem","whiteSpace","Items","SORT_PROPERTIES","Transactions","multiSelectable","selectable","sendingTime","Transactions_TableCell","txMethod","compactCol","reduced","itm","delete","NewTransactionHoc","TransactionHoc","txId","manyTxs","resetTransaction","handleSaveRes","saveFn","txs","txResults","InputLoading","LinearProgress","WithdrawFromIdentityForm","numStr","identityAvailable","withdrawAmount","withdrawToSpinner","errAmount","errAddr","spinners_InputLoading","PRIV_LEVELS_SRC","SeAddressPrivilegeForm","setAddrSpinner","IdentityWithdrawPreview","SetPrivilegePreview","TransactionPreviewForm","TransactionPreview","gas","getFeesFn","_this$props2$transact","previewWarnMsgs","_transaction$fees","waitingForWalletAction","Error_default","Warning_default","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","A700","centralSpinner","FormStepsWithDialog","FormSteps","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","WithdrawFromExchangePage","SetIdentityPrivilege","SeAddressPrivilege","AccountInfo","localWalletDownloadHref","_account$wallet","getRecoveryWalletData","handleExpandChange","expanded","walletJsonData","_account$wallet2","download","SaveAlt_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","actionBtn","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","transactionsCheckTimeout","clearTransactionsTimeout","syncTransactions","_store$getState$persi","rec","transactionHash","checkTransactions","checkTransactionsLoop","store_data_transactions","Dashboard","mobileOpen","toggleDrawerActive","drawerActive","toggleDrawerPinned","drawerPinned","toggleSidebar","sidebarPinned","renderAdUnits","containers_Items_Items","renderCampaigns","NewItems_NewCampaignDialog","accent","renderAdSlots","NewItems_NewSlotDialog","AdSlotModel","handleDrawerOpen","handleDrawerClose","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","Switch","locatiom","Route","renderChannels","withTheme","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","buttons","adxVersion","adexLogoTop","logo","noBg","AuthSelect","AuthSelect_RRButton","metamaskBtn","btnLogo","trezorBtn","btnLogoNoTxt","ConnectHoc","Connect","noBackground","Box","auth_select_AuthSelect","IdentityHoc","IdentityForm","componentDidUpdate","registerExpected","ready","waitingExpected","waiting","waitingUpload","buttonProgressWrapper","infoPaper","gutters","IdentityContractAddressStep","validateIdentity","getIdentityContractData","_this$props$identity","emailCheck","code","validateEmail","validateEmailCheck","validateCode","currIdentity","isValidFormat","waitingCheck","checkAccessCode","cpn","exist","used","AuthHoc","Auth","hdWalletAddrPath","hdWalletAddrIdx","sideSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","checkMetamask","waitingAddrsData","metamaskSigner","waitingMetamaskAction","tabBox","dangerouslySetInnerHTML","__html","METAMASK_DL_IMG","metamaskLAbel","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","alignContent","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","validateContractOwner","identityContractOwner","currOwner","ownerAuth_AuthMethod","IdentityGrantInfoStep","passwordCheck","tosCheck","validatePassword","validatePasswordCheck","validateCoupon","validateTOS","validPassword","checkCoupon","accepted","IdentityGrantDeployStep","initLocalWallet","_ref4$email","_ref4$password","_ref4$mnemonic","createLocalWallet","getIdentity","waitingGrant","grantAmount","IdentityGrantLoginStep","validateWallet","identityPrivileges","getIdentitiesForDropdown","balanceDAI","identityDataSplit","identityContractAddress","_identity$ownerIdenti","useStyles","makeStyles","ExternalConnect","_useState","useState","_useState2","connectType","setConnectType","FullLogin","identity_IdentityContractAddressEthDeploy","stepperWrapper","stepper_MaterialUiStepper_StepperNav","MaterialUiStepper_WithMaterialStepper","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","stepper_MaterialUiStepper","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateGrantIdentity","JustDialog","identity_IdentitySteps","GrantInfo","GrantDeploy","ConnectedGrantLogin","GrantLogin","ConnectedCreateFullIdentity","IdentityContractOwner","IdentityContractAddressEthDeploy","ConnectedLoginStandardIdentity","ConnectedRoot","ADEX_LOGO","PrivateRoute","render","Redirect","Root","onMetamaskAccountChange","accountAddress","on","accounts","network","authChanged","contrastText","deepOrange","amber","lime","contrastThreshold","tonalOffset","themeMUI","createMuiTheme","overrides","MuiButton","outlined","MuiTableCell","head","MuiPaper","rounded","onBeforeLift","CssBaselineStyled","@global","html","CssBaseline","globalStyles","App","MuiThemeProvider","es","integration_react","react_router_redux_es","HashRouter","App_Root","toast_Toast","confirm_Confirm","isLocalhost","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","_Object$keys","ReactDOM","components_App_App","getElementById","contentType","get","unregister","reload","checkValidServiceWorker","bg-BG","de-DE","en-US","es-ES","fr-FR","hr-HR","hu-HU","it-IT","nl-NL","pt-BR","pt-PT","ru-RU","se-SE","sr-RS","zh-CN","onlyTranslated","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","Buffer","derive","publicExtendedKey","fromExtendedKey","_ref4$from","_ref4$to","transport","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","_args5","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","__webpack_exports__","payloadEncoded","C_git_adex_dapp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","parts","verifyMessage","decode","Module"],"mappings":"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","file":"static/js/main.cb15a6b9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_UI = 'UPDATE_UI'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign().plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot().plainObj(),\r\n\t},\r\n\tcurrentItem: {},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttags: {},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n}\r\n\r\nexport default initialState\r\n","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","import adexTranslations from 'adex-translations'\r\nimport { renderToString } from 'react-dom/server'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\n// TODO: sanitization\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\r\n\t\tlet arg = args[v]\r\n\t\tif (typeof arg === 'object' && arg.component) {\r\n\t\t\treturn renderToString(arg.component)\r\n\t\t} else {\r\n\t\t\treturn arg\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''] } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = translations[language][key] || val\r\n\r\n\tif (args.length && Array.isArray(args)) {\r\n\t\ttranslation = interpolate(translation, args)\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport tags from './tagsReducer'\r\nimport ethNetwork from './ethNetworkReducer'\r\nimport {\r\n\trouterReducer,\r\n\tLOCATION_CHANGE,\r\n\tCALL_HISTORY_METHOD,\r\n} from 'react-router-redux'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\t// signin: signin,\r\n\taccount: account,\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\t// newItem: filterActions(newItem, (action => action.type.match(/_NEWITEM/))),\r\n\t// spinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\tui: filterActions(ui, [types.UPDATE_UI]),\r\n\t// toasts: toasts,\r\n\t// confirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\t// nav: filterActions(nav, [types.UPDATE_NAV]),\r\n\t// routing: filterActions(routerReducer, [LOCATION_CHANGE, CALL_HISTORY_METHOD]),\r\n\tlanguage: language,\r\n\t// validations: validations,\r\n\tweb3Transactions: web3Transactions,\r\n\ttags: tags,\r\n\tethNetwork: ethNetwork,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tsignin: signin,\r\n\tidentity: identity,\r\n\twallet: wallet,\r\n\t// account: account,\r\n\t// items: filterActions(items, (action => action.type.match(/_ITEM/))),\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\t// ui: filterActions(ui, [types.UPDATE_UI]),\r\n\ttoasts: toasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\trouting: filterActions(routerReducer, [LOCATION_CHANGE, CALL_HISTORY_METHOD]),\r\n\t// language: language,\r\n\tvalidations: validations,\r\n\tnewTransactions: newTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tADD_ITEM_TO_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: action.item,\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase ADD_ITEM_TO_ITEM:\r\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item, index) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, newState[action.itemType])\r\n\r\n\t\t\tnewState[action.itemType] = newItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_UI } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TAGS:\r\n\t\t\tnewState = { ...state, ...action.tags }\r\n\t\t\treturn newState\r\n\t\tcase ADD_NEW_TAG:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.tag] = action.tag\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_GAS_DATA:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.gasData = { ...action.gasData }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newidentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewidentity = newState\r\n\t\t\tif (Array.isArray(newidentity[action.prop])) {\r\n\t\t\t\tnewidentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewidentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newidentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewidentity = { ...initialState.identity }\r\n\t\t\tnewState = newidentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NEW_ITEM, RESET_NEW_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tnewState[action.itemType] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\r\n\t\t\tnewState[action.item] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { items as ItemsConstants } from 'adex-constants'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\t// const toasts = (state = [], action) => {\r\n\t// \tlet newToast = action\r\n\t// \tnewToast.id = Helper.getGuid()\r\n\t// \tnewToast.added = Date.now()\r\n\t// \t// Force to re render the same toast instead to satay at the queue\r\n\t// \tif (state[0] && (newToast.label === state[0].label)) {\r\n\t// \t\treturn [newToast, ...(state.slice(0, 0))]\r\n\t// \t} else {\r\n\t// \t\treturn [newToast, ...state]\r\n\t// \t}\r\n\t// }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.id = Helper.getGuid()\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import createHistory from 'history/createBrowserHistory'\r\n\r\nconst history = createHistory()\r\n\r\nexport default history\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware } from 'react-router-redux'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/es/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst configStorage = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(configStorage, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\t// logger\r\n\t]\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from 'store/configureStore'\r\nconst { store } = configureStore\r\n\r\nexport const execute = action => {\r\n\taction(store.dispatch)\r\n}\r\n","// import configureStore from 'store/configureStore'\r\nimport actions from 'actions'\r\nimport configureStore from 'store/configureStore'\r\nconst { store } = configureStore\r\n\r\nexport const logOut = () => {\r\n\tactions.execute(actions.resetAccount())\r\n\tactions.execute(actions.resetAllItems())\r\n\tactions.execute(actions.resetAllBids())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn store.getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn store.getState().persist.account\r\n}\r\n","import requester from './requester'\r\n\r\nexport default requester\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { isDemoMode, getAccount } from 'services/store-data/auth'\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst acc = getAccount()\r\n\t\treturn {\r\n\t\t\t'X-User-Address': acc._addr,\r\n\t\t\t'X-User-Signature': authSig || acc._authSig,\r\n\t\t\t'X-Auth-Token': acc._authToken,\r\n\t\t}\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tlet query = Helper.getQuery(qp)\r\n\t\tlet url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tlet hdrs = {\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import Requester from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut()\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\ttranslate('SERVICE_ERROR_MSG', {\r\n\t\t\t\t\targs: [res.url, res.status, res.statusText, text],\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({ authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAllCampaigns = all => {\r\n\tconst queryParams = all\r\n\t\t? {\r\n\t\t\t\tall: true,\r\n\t\t  }\r\n\t\t: {}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: { type, action, label, timeout, unclosable, anchorOrigin, top },\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem: item,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem: item,\r\n\t\t\tkey: key,\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","import Requester from 'services/requester'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tthrow new Error(\r\n\t\t\ttranslate('SERVICE_ERROR_MSG', {\r\n\t\t\t\targs: [res.url, res.status, res.statusText, text],\r\n\t\t\t})\r\n\t\t)\r\n\t})\r\n}\r\n\r\nexport const identityToEmail = ({ identity, privileges, mail }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/info-mail',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tprivileges,\r\n\t\t\t\tmail,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const grantAccount = ({ ownerAddr, mail, couponCode }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/grant-account',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tmail,\r\n\t\t\t\townerAddr,\r\n\t\t\t\tcouponCode,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getGrantType = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/grant-type/${identity}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkCoupon = ({ coupon }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/valid-coupon/${coupon}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkAccessCode = ({ code }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/valid-accesscode/${code}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/owners/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const identityBytecode = ({ owner, privLevel, identityBaseAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/identity-bytecode',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tidentityBaseAddr,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const registerFullIdentity = ({\r\n\ttxHash,\r\n\tidentity,\r\n\tprivileges,\r\n\tmail,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/register-identity',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxHash,\r\n\t\t\t\tidentity,\r\n\t\t\t\tprivileges,\r\n\t\t\t\tmail,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const sendOpenChannel = ({\r\n\ttxnsRaw,\r\n\tsignatures,\r\n\tchannel,\r\n\tidentityAddr,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'channel/open',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tchannel,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const registerExpectedIdentity = ({ owner, mail }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/register-expected',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\tmail,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const relayerConfig = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/execute',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const setAddrPriv = ({\r\n\ttxnsRaw,\r\n\tsignatures,\r\n\tidentityAddr,\r\n\tprivLevel,\r\n\tsetAddr,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/set-addr-privilege',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n}\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n","import { ethers } from 'ethers'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nconst { AdExCore, Identity, DAI, IdentityFactory } = contracts\r\nconst localWeb3 = async () => {\r\n\tconst provider = new ethers.providers.JsonRpcProvider(\r\n\t\tprocess.env.WEB3_NODE_ADDR\r\n\t)\r\n\tconst adexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\tconst dai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\tconst identityFactory = new ethers.Contract(\r\n\t\tIdentityFactory.address,\r\n\t\tIdentityFactory.abi,\r\n\t\tprovider\r\n\t)\r\n\r\n\tconst results = {\r\n\t\tprovider: provider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: dai,\r\n\t\tIdentityFactory: identityFactory,\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\r\n\twindow.addEventListener('load', () => {\r\n\t\tconst ethereum = window.ethereum\r\n\t\tconst web3 = window.web3\r\n\t\treturn resolve({\r\n\t\t\tethereum,\r\n\t\t\tweb3,\r\n\t\t})\r\n\t})\r\n})\r\n\r\nconst getInjectedWeb3 = async () => {\r\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\r\n\tlet provider = null\r\n\t// let mode = null // metamask, and as some point trezor, ledger, ...\r\n\tlet adexCore = null\r\n\tlet dai = null\r\n\tlet identityFactory = null\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tconst enabled = await ethereum.enable()\r\n\t\t\tconsole.log('Injected ethereum detected.', enabled)\r\n\r\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\r\n\t\t\tadexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\t\t\tdai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\t\t\tidentityFactory = new ethers.Contract(\r\n\t\t\t\tIdentityFactory.address,\r\n\t\t\t\tIdentityFactory.abi,\r\n\t\t\t\tprovider\r\n\t\t\t)\r\n\t\t\tconst results = {\r\n\t\t\t\tprovider: provider,\r\n\t\t\t\tAdExCore: adexCore,\r\n\t\t\t\tIdentity: Identity,\r\n\t\t\t\tDai: dai,\r\n\t\t\t\tIdentityFactory: identityFactory,\r\n\t\t\t}\r\n\r\n\t\t\treturn results\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n\t// Legacy dapp browsers...\r\n\telse if (web3) {\r\n\t\tprovider = new ethers.providers.Web3Provider(window.web3.currentProvider)\r\n\t\tadexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\t\tdai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\t\tidentityFactory = new ethers.Contract(\r\n\t\t\tIdentityFactory.address,\r\n\t\t\tIdentityFactory.abi,\r\n\t\t\tprovider\r\n\t\t)\r\n\r\n\t\tconsole.log('Injected legacy web3 detected.')\r\n\t\tconst results = {\r\n\t\t\tprovider: provider,\r\n\t\t\tAdExCore: adexCore,\r\n\t\t\tIdentity: Identity,\r\n\t\t\tDai: dai,\r\n\t\t\tIdentityFactory: identityFactory,\r\n\t\t}\r\n\r\n\t\treturn results\r\n\t} else {\r\n\t\tconsole.error('Non-Ethereum browser detected.')\r\n\t\tthrow new Error('Non-Ethereum browser detected.')\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3 = new Promise(function(resolve, reject) {\r\n\tconsole.log('getLocalWeb3')\r\n\tresolve(localWeb3())\r\n})\r\n\r\nconst getEthers = async mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst injected = await getInjectedWeb3()\r\n\t\treturn injected\r\n\t} else {\r\n\t\treturn getLocalWeb3\r\n\t}\r\n}\r\n\r\nexport { getEthers }\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","// Nodejs encryption with CTR\r\nvar crypto = require('crypto'),\r\n\talgorithm = 'aes-256-ctr',\r\n\tdefault_password = 'kaipahH5' // temp\r\n\r\nexport const encrypt = (text, password = default_password) => {\r\n\tif (!text) return ''\r\n\tvar cipher = crypto.createCipher(algorithm, password)\r\n\tvar crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decrypt = (text, password = default_password) => {\r\n\tif (!text) return ''\r\n\tvar decipher = crypto.createDecipher(algorithm, password)\r\n\tvar dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","export const loadFromLocalStorage = key => {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n","import { ethers, utils } from 'ethers'\r\nimport { encrypt, decrypt } from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\treturn {\r\n\t\tmnemonic,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.path,\r\n\t}\r\n}\r\n\r\nfunction encrKey({ email, password }) {\r\n\tconst key = encrypt(email, password)\r\n\treturn key\r\n}\r\n\r\nfunction encrData({ email, password, data }) {\r\n\tconst encr = encrypt(JSON.stringify(data), email + password)\r\n\treturn encr\r\n}\r\n\r\nfunction decrData({ email, password, data }) {\r\n\tconst decr = JSON.parse(decrypt(data, email + password))\r\n\treturn decr\r\n}\r\n\r\nexport function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic = '',\r\n}) {\r\n\tconst walletData = generateWallet(mnemonic)\r\n\tconst key = encrKey({ email, password })\r\n\tconst data = encrData({ data: walletData, email, password })\r\n\tsaveToLocalStorage({ data }, key)\r\n\r\n\treturn walletData\r\n}\r\n\r\nexport function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('Invalid data key')\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('Wallet not found')\r\n\t}\r\n\r\n\tconst data = encrData({ data: dataValue, email, password })\r\n\twallet[dataKey] = data\r\n\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport function getRecoveryWalletData({ email, password }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport function getLocalWallet({ email, password }) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('email and password are required')\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tconst data = Object.keys(wallet).reduce((props, key) => {\r\n\t\t\tprops[key] = decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn data\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\r\n\t\tconst walletData = getLocalWallet({\r\n\t\t\temail: opts.email,\r\n\t\t\tpassword: opts.password,\r\n\t\t})\r\n\r\n\t\tthis._wallet = new Wallet(walletData.data.privateKey, provider)\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._wallet.address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = this._wallet.sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: this._wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { translate } from 'services/translations/translations'\r\nimport { execute } from 'actions/common'\r\nimport {\r\n\t// addWeb3Transaction,\r\n\tupdateWeb3Transaction,\r\n} from 'actions/transactionActions'\r\nimport { addToast } from 'actions/uiActions'\r\nimport { updateAccount } from 'actions/accountActions'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\n/**\r\n * NOTE: DO NOT CALL WITH CONNECTED SIGNER\r\n * Will fill missing props gasLimit, nonce, chainId, etc..  *\r\n * */\r\nexport async function prepareTx({ tx, provider, sender, gasLimit, gasPrice }) {\r\n\tconst pTx = await utils.populateTransaction(tx, provider, sender)\r\n\r\n\t// TO work with all signers\r\n\tpTx.gasLimit = gasLimit || pTx.gasLimit.toHexString()\r\n\tpTx.gasPrice = gasPrice || pTx.gasPrice.toHexString()\r\n\tpTx.value = pTx.value || utils.hexlify(0)\r\n\tpTx.nonce = utils.hexlify(pTx.nonce)\r\n\r\n\treturn pTx\r\n}\r\n\r\nexport async function processTx({\r\n\ttx,\r\n\ttxSuccessData,\r\n\tfrom,\r\n\tfromType,\r\n\taccount,\r\n}) {\r\n\ttry {\r\n\t\tconst txRes = await tx\r\n\t\t// const txData = {\r\n\t\t// \t// id: txRes.hash,\r\n\t\t// \thash: txRes.hash,\r\n\t\t// \tnonce: txRes.nonce,\r\n\t\t// \t...txSuccessData,\r\n\t\t// \tstatus: 'pending',\r\n\t\t// \tsendingTime: Date.now(),\r\n\t\t// \ttxData: txRes\r\n\t\t// }\r\n\r\n\t\t// execute(\r\n\t\t// \taddWeb3Transaction({ tx: txData, addr: from })\r\n\t\t// )\r\n\t\texecute(\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\taction: 'X',\r\n\t\t\t\tlabel: translate('TRANSACTION_SENT_MSG', {\r\n\t\t\t\t\targs: [txRes.hash],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\tconst settings = { ...account.settings }\r\n\t\tsettings[fromType] = { ...settings[fromType] } || {}\r\n\t\tsettings[fromType].nextNonce = txRes.nonce + 1\r\n\t\texecute(\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { settings },\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\t// TODO: catch and toast\r\n\t\tconst receipt = await txRes.wait()\r\n\t\texecute(\r\n\t\t\tupdateWeb3Transaction({\r\n\t\t\t\ttx: txRes.hash,\r\n\t\t\t\tkey: 'status',\r\n\t\t\t\tvalue:\r\n\t\t\t\t\treceipt.status === 1 ||\r\n\t\t\t\t\treceipt.status === '0x1' ||\r\n\t\t\t\t\treceipt.status === true\r\n\t\t\t\t\t\t? 'success'\r\n\t\t\t\t\t\t: 'failed',\r\n\t\t\t\taddr: from,\r\n\t\t\t})\r\n\t\t)\r\n\t} catch (err) {\r\n\t\tconsole.error(err)\r\n\t\texecute(\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\taction: 'X',\r\n\t\t\t\tlabel: translate('TRANSACTION_ERR_MSG', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.LEDGER.name) {\r\n\t\tconst signer = new LedgerSigner(provider, { path })\r\n\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.GRANT.name) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\r\n\tconst hash = utils.keccak256(schemaHash, valuesHash)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","import Requester from 'services/requester'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = new Requester({ baseUrl: leader.url })\r\n\tconst followerRequester = new Requester({ baseUrl: follower.url })\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tthrow new Error(\r\n\t\t\ttranslate('SERVICE_ERROR_MSG', {\r\n\t\t\t\targs: [res.url, res.status, res.statusText, text],\r\n\t\t\t})\r\n\t\t)\r\n\t})\r\n}\r\n\r\nconst getAuthToken = async ({ account, validator }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validator.id]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validator.id,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ account, campaign, options }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getAuthToken({\r\n\t\taccount,\r\n\t\tvalidator: follower.validator,\r\n\t})\r\n\tconst leaderAuthToken = await getAuthToken({\r\n\t\taccount,\r\n\t\tvalidator: leader.validator,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tauthTokens: {\r\n\t\t\t[follower.validator.id]: followerAuthToken,\r\n\t\t\t[leader.validator.id]: leaderAuthToken,\r\n\t\t},\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ account, campaign }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ account, campaign, options })\r\n}\r\n\r\nexport const eventsAggregates = ({ agrArgs, campaign }) => {\r\n\tconst { follower } = getRequesters({ campaign })\r\n\r\n\treturn follower.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/events-aggregates/${agrArgs}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { utils, Contract } from 'ethers'\r\nimport { getAllCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\tlastApprovedState,\r\n\teventsAggregates,\r\n} from 'services/adex-validator/actions'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { Channel, MerkleTree } from 'adex-protocol-eth/js'\r\n\r\nconst { formatEther, formatUnits } = utils\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport async function getAddressBalances({ address, authType }) {\r\n\tconst { provider, Dai } = await getEthers(authType)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tDai.balanceOf(address.address),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: balances[0].toString(),\r\n\t\tbalanceDai: balances[1].toString(),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({ account }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, Dai, Identity } = await getEthers(wallet.authType)\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = new Contract(\r\n\t\tidentity.address,\r\n\t\tIdentity.abi,\r\n\t\tprovider\r\n\t)\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(wallet.address),\r\n\t\tDai.balanceOf(wallet.address),\r\n\t\tDai.balanceOf(identity.address),\r\n\t\tprivilegesAction,\r\n\t\tgetValidatorData({ wallet, identity }),\r\n\t]\r\n\r\n\tconst [\r\n\t\twalletBalanceEth,\r\n\t\twalletBalanceDai,\r\n\t\tidentityBalanceDai,\r\n\t\twalletPrivileges,\r\n\t\tvalidatorsData,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\tconst { outstandingBalanceDai = 0, aggregates = [] } = validatorsData\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\twalletBalanceEth,\r\n\t\twalletBalanceDai,\r\n\t\tidentityBalanceDai,\r\n\t\twalletPrivileges,\r\n\t\toutstandingBalanceDai,\r\n\t\ttotalIdentityBalanceDai: identityBalanceDai.add(outstandingBalanceDai),\r\n\t\taggregates,\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\twalletBalanceEth: formatEther(walletBalanceEth),\r\n\t\twalletBalanceDai: formatUnits(walletBalanceDai, 18),\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceDai: formatUnits(identityBalanceDai, 18),\r\n\t\toutstandingBalanceDai: formatUnits(outstandingBalanceDai, 18),\r\n\t\ttotalIdentityBalanceDai: formatUnits(raw.totalIdentityBalanceDai, 18),\r\n\t\taggregates,\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\nasync function getAllChannels() {\r\n\tconst channels = await getAllCampaigns(true)\r\n\treturn Promise.all(\r\n\t\tchannels.map(async channel => {\r\n\t\t\tconst { lastApproved } = await lastApprovedState({ campaign: channel })\r\n\r\n\t\t\tif (lastApproved) {\r\n\t\t\t\tconst balancesTree = lastApproved.newState.msg.balances\r\n\t\t\t\tconst allLeafs = Object.keys(balancesTree).map(k =>\r\n\t\t\t\t\tChannel.getBalanceLeaf(k, balancesTree[k])\r\n\t\t\t\t)\r\n\t\t\t\tconst mTree = new MerkleTree(allLeafs)\r\n\t\t\t\treturn { lastApproved, mTree, channel }\r\n\t\t\t} else {\r\n\t\t\t\treturn { lastApproved: null, mTree: null, channel }\r\n\t\t\t}\r\n\t\t})\r\n\t)\r\n}\r\n\r\nasync function getAllChannelsWhereHasBalance(allActive, addr) {\r\n\treturn allActive\r\n\t\t.filter(\r\n\t\t\t({ lastApproved }) =>\r\n\t\t\t\tlastApproved && !!lastApproved.newState.msg.balances[addr]\r\n\t\t)\r\n\t\t.map(({ channel, lastApproved }) => ({\r\n\t\t\tchannel,\r\n\t\t\tbalance: lastApproved.newState.msg.balances[addr],\r\n\t\t}))\r\n}\r\n\r\nasync function getOutstandingBalance({ wallet, address, withBalance }) {\r\n\tconst { authType } = wallet\r\n\tconst { AdExCore } = await getEthers(authType)\r\n\r\n\tconst withOutstanding = await Promise.all(\r\n\t\twithBalance.map(async ({ channel, balance }) => {\r\n\t\t\tconst outstanding = bigNumberify(balance).sub(\r\n\t\t\t\tawait AdExCore.withdrawnPerUser(channel.id, address)\r\n\t\t\t)\r\n\t\t\treturn { channel, outstanding }\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalOutstanding = withOutstanding.reduce((sum, ch) => {\r\n\t\tconst currentSum = sum.add(ch.outstanding)\r\n\t\treturn currentSum\r\n\t}, bigNumberify('0'))\r\n\r\n\treturn totalOutstanding || bigNumberify('0')\r\n}\r\n\r\nasync function getIdentityStatistics({ withBalance, address }) {\r\n\tconst allCalls = withBalance.map(async ({ channel }) => {\r\n\t\tconst agrArgs = `${address}?timeframe=hour`\r\n\t\tconst stats = await eventsAggregates({ agrArgs, campaign: channel })\r\n\t\treturn stats\r\n\t})\r\n\r\n\tconst aggregates = await Promise.all(\r\n\t\tallCalls.map(ag =>\r\n\t\t\tag\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\treturn aggregates\r\n}\r\n\r\nasync function getAllChannelsForIdentity({ address }) {\r\n\tconst allActive = await getAllChannels()\r\n\tconst withBalance = await getAllChannelsWhereHasBalance(allActive, address)\r\n\r\n\treturn withBalance\r\n}\r\n\r\nasync function getValidatorData({ wallet, identity }) {\r\n\tconst { address } = identity\r\n\tconst withBalance = await getAllChannelsForIdentity({ address })\r\n\tconst outstandingBalanceDai = await getOutstandingBalance({\r\n\t\twallet,\r\n\t\taddress,\r\n\t\twithBalance,\r\n\t})\r\n\tconst aggregates = await getIdentityStatistics({ withBalance, address })\r\n\r\n\treturn {\r\n\t\toutstandingBalanceDai,\r\n\t\taggregates,\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport { relayerConfig, getGrantType } from 'services/adex-relayer/actions'\r\nimport { updateSpinner } from './uiActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport { getAccountStats } from 'services/smart-contracts/actions/stats'\r\nimport { addToast, confirmAction } from './uiActions'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta: meta,\r\n\t\t\tnewValues: newValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGasData({ gasData }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GAS_DATA,\r\n\t\t\tgasData: gasData,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst stats = await getAccountStats({ account })\r\n\r\n\t\t\tupdateAccount({ newValues: { stats } })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountSettings() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\t\ttry {\r\n\t\t\tconst settings = {}\r\n\t\t\tif (settings.grantType === undefined) {\r\n\t\t\t\tsettings.grantType = (await getGrantType({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t})).type\r\n\t\t\t\tupdateAccount({ newValues: { settings } })(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SETTINGS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SETTINGS', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({ wallet, identity, email }) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('creating-session', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature: signature,\r\n\t\t\t\t\tauthToken: authToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: {\r\n\t\t\t\t\temail: email,\r\n\t\t\t\t\twallet: newWallet,\r\n\t\t\t\t\tidentity: identity,\r\n\t\t\t\t},\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner('creating-session', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await relayerConfig()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function getNetworkId() {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\tconst networkId = (await provider.getNetwork()).chainId\r\n\r\n\treturn networkId\r\n}\r\n\r\n// TEMP\r\nconst networks = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Georli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Georli', for: 'development' },\r\n}\r\n\r\nexport function metamaskNetworkCheck({ id, location }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { persist, memory } = getState()\r\n\t\tconst { account } = persist\r\n\t\tconst { search } = location || memory.routing.location\r\n\t\tconst { authType } = account.wallet\r\n\r\n\t\tconst networkId = id || (await getNetworkId())\r\n\t\tconst isMetamaskMatters =\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name ||\r\n\t\t\t(!authType && search === '?metamask')\r\n\r\n\t\tconst network = networks[networkId] || {}\r\n\r\n\t\tif (process.env.NODE_ENV !== network.for && isMetamaskMatters) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [networks[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n","import crypto from 'crypto'\r\nimport {\r\n\tChannel,\r\n\t// splitSig,\r\n\t// Transaction\r\n} from 'adex-protocol-eth/js'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { contracts } from '../contractsCfg'\r\nimport { sendOpenChannel } from 'services/adex-relayer/actions'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit } from 'adex-models'\r\nimport {\r\n\tbigNumberify,\r\n\trandomBytes,\r\n\tparseUnits,\r\n\tInterface,\r\n\tformatUnits,\r\n} from 'ethers/utils'\r\nimport { Contract } from 'ethers'\r\n\r\nconst { AdExCore, DAI } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst ERC20 = new Interface(DAI.abi)\r\nconst feeAmountApprove = '150000000000000000'\r\nconst feeAmountOpen = '160000000000000000'\r\nconst timeframe = 15000 // 1 event per 15 seconds\r\nconst VALID_UNTIL_COEFFICIENT = 1.5\r\nconst VALID_UNTIL_MIN_PERIOD = 7 * 24 * 60 * 60 * 1000 // 7 days in ms\r\n\r\nexport const totalFeesFormatted = formatUnits(\r\n\tbigNumberify(feeAmountApprove)\r\n\t\t.add(bigNumberify(feeAmountOpen))\r\n\t\t.toString(),\r\n\t18\r\n)\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(created, withdrawPeriodStart) {\r\n\tconst period = withdrawPeriodStart - created\r\n\tconst validUntil =\r\n\t\twithdrawPeriodStart +\r\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\r\n\r\n\treturn Math.floor(validUntil / 1000)\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, Dai) {\r\n\tconst newCampaign = new Campaign(campaign)\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(\r\n\t\tnewCampaign.created,\r\n\t\tnewCampaign.withdrawPeriodStart\r\n\t)\r\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = parseUnits(\r\n\t\tnewCampaign.depositAmount,\r\n\t\tDAI.decimals\r\n\t).toString()\r\n\r\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\r\n\tnewCampaign.minPerImpression = parseUnits(\r\n\t\tnewCampaign.minPerImpression,\r\n\t\tDAI.decimals\r\n\t)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\r\n\r\n\tnewCampaign.depositAsset = newCampaign.depositAsset || Dai.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = { name: 'Pending', lastChecked: Date.now() }\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nexport async function openChannel({ campaign, account }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, AdExCore, Dai, Identity } = await getEthers(wallet.authType)\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, Dai)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst identityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\tconst initialNonce = (await identityContract.nonce()).toNumber()\r\n\r\n\tconst feeTokenAddr = campaign.temp.feeTokenAddr || Dai.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tfeeAmount: feeAmountApprove,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.approve.encode([\r\n\t\t\tAdExCore.address,\r\n\t\t\tchannel.depositAmount,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce + 1,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tfeeAmount: feeAmountOpen,\r\n\t\tto: AdExCore.address,\r\n\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tchannel,\r\n\t\tidentityAddr: identity.address,\r\n\t}\r\n\r\n\tconst result = await sendOpenChannel(data)\r\n\treadyCampaign.id = channel.id\r\n\treturn {\r\n\t\tresult,\r\n\t\treadyCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","export const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tuploadImage,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n} from 'services/adex-market/actions'\r\nimport { Base, AdSlot, AdUnit, helpers } from 'adex-models'\r\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\r\nimport { updateAccount } from './accountActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetAdUnits,\r\n\tgetAdSlots,\r\n\tgetCampaigns,\r\n} from 'services/adex-market/actions'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport { lastApprovedState } from 'services/adex-validator/actions'\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\taction: 'X',\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\n// const uploadImages = ({ item, authSig }) => {\r\n// \tlet imgIpfsProm = Promise.resolve()\r\n// \tlet fallbackImgIpfsProm = Promise.resolve()\r\n\r\n// \tif (item._meta.img.tempUrl) {\r\n// \t\timgIpfsProm = getImgsIpfsFromBlob({ tempUrl: item._meta.img.tempUrl, authSig: authSig })\r\n// \t}\r\n\r\n// \tif (item._fallbackAdImg && item._fallbackAdImg.tempUrl) {\r\n// \t\tfallbackImgIpfsProm = getImgsIpfsFromBlob({ tempUrl: item._fallbackAdImg.tempUrl, authSig: authSig })\r\n// \t}\r\n\r\n// \treturn Promise.all([imgIpfsProm, fallbackImgIpfsProm])\r\n// \t\t.then(([imgIpf, fallbackImgIpfs]) => {\r\n// \t\t\tif (imgIpf) {\r\n// \t\t\t\titem._meta.img = { ipfs: imgIpf.ipfs }\r\n// \t\t\t}\r\n\r\n// \t\t\tif (fallbackImgIpfs) {\r\n// \t\t\t\titem._fallbackAdImg = { ipfs: fallbackImgIpfs.ipfs }\r\n// \t\t\t}\r\n\r\n// \t\t\treturn item\r\n// \t\t})\r\n// }\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel) {\r\n\titem = Base.updateObject({ item, newValues, objModel })\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// register item\r\nexport function addItem(item, itemType, authSig) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig,\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function addSlot(item, itemType, authSig) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})).ipfs\r\n\r\n\t\t\t\tconst unit = new AdUnit({\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\ttargeting: [],\r\n\t\t\t\t\ttags: [],\r\n\t\t\t\t\tpassback: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst resUnit = await postAdUnit({\r\n\t\t\t\t\tunit: unit.marketAdd,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfallbackUnit = resUnit.ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getAllItems() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authSig } = account.wallet\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\t\t\tconst campaigns = getCampaigns({ authSig })\r\n\r\n\t\t\tconst [resUnits, resSlots, resCampaigns] = await Promise.all([\r\n\t\t\t\tunits,\r\n\t\t\t\tslots,\r\n\t\t\t\tcampaigns,\r\n\t\t\t])\r\n\r\n\t\t\tconst campaignsMapped = resCampaigns.map(c => {\r\n\t\t\t\treturn { ...c, ...c.spec }\r\n\t\t\t})\r\n\r\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\r\n\t\t\tupdateItems({ items: campaignsMapped, itemType: 'Campaign' })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function openCampaign({ campaign, account }) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('opening-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { readyCampaign } = await openChannel({ campaign, account })\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: readyCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'OPENING_CAMPAIGN_SENT_TO_RELAYER',\r\n\t\t\t\targs: [readyCampaign.id],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_OPENING_CAMPAIGN',\r\n\t\t\t\targs: [err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('opening-campaign', false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport function removeItemFromItem({ item, toRemove, authSig } = {}) {\r\n\treturn function(dispatch) {\r\n\t\t// removeItmFromItm({ item: item._id, collection: toRemove._id || toRemove, authSig: authSig })\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_REMOVE_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, ItemTypesNames[toRemove._type], toRemove._meta.fullName,] })\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.REMOVE_ITEM_FROM_ITEM,\r\n\t\t// \t\t\titem: item,\r\n\t\t// \t\t\ttoRemove: toRemove,\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_REMOVE_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], ItemTypesNames[toRemove._type], err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\nexport function addItemToItem({ item, toAdd, authSig } = {}) {\r\n\treturn function(dispatch) {\r\n\t\t// addItmToItm({ item: item._id, collection: toAdd._id || toAdd, authSig: authSig })\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\t//TODO: use response and UPDATE_ITEM\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_ADD_ITEM_TO_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, ItemTypesNames[toAdd._type], toAdd._meta.fullName,] })\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.ADD_ITEM_TO_ITEM,\r\n\t\t// \t\t\titem: item,\r\n\t\t// \t\t\ttoAdd: toAdd,\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_ADD_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], ItemTypesNames[toAdd._type], err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({ item, authSig, successMsg, errMsg } = {}) {\r\n\treturn function(dispatch) {\r\n\t\t// uploadImages({ item: { ...item }, authSig: authSig })\r\n\t\t// \t.then((updatedItem) => {\r\n\t\t// \t\treturn updateItm({ item: updatedItem, authSig })\r\n\t\t// \t})\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\tdispatch({\r\n\t\t// \t\t\ttype: types.UPDATE_ITEM,\r\n\t\t// \t\t\titem: res\r\n\t\t// \t\t})\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: successMsg || 'SUCCESS_UPDATING_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName] })\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t// \t\t\tspinner: 'update' + res._id,\r\n\t\t// \t\t\tvalue: false\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: errMsg || 'ERR_UPDATING_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\nexport function deleteItem({ item, objModel, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = true\r\n\r\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\r\n}\r\n\r\nexport function restoreItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\r\n\t\terrMsg: 'ERR_RESTORING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: 'custom',\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = true\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function unarchiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateTags = ({ tags }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TAGS,\r\n\t\t\ttags: tags,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_CAMPAIGN_LAST_STATUS',\r\n\t\t\t\targs: [err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\r\n\t\t\tconst newIdentity = { ...account.identity }\r\n\t\t\tconst newTokens = { ...newIdentity.validatorAuthTokens, authTokens }\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLOSING_CAMPAIGN',\r\n\t\t\t\targs: [err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\r\n\t}\r\n}\r\n","import { formatUnits, commify } from 'ethers/utils'\r\nimport MomentUtils from '@date-io/moment'\r\nconst moment = new MomentUtils()\r\n\r\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\r\n\r\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\r\n\tif (!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (amountString, decimals = 18, pretty) => {\r\n\tconst formatted = formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn commify(formatted)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tprepareTx,\r\n\tprocessTx,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { ethers, Contract } from 'ethers'\r\nimport {\r\n\tbigNumberify,\r\n\tparseUnits,\r\n\t// randomBytes,\r\n\tgetAddress,\r\n\thexlify,\r\n\tInterface,\r\n\tkeccak256,\r\n} from 'ethers/utils'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport {\r\n\t// identityBytecode,\r\n\texecuteTx,\r\n\tsetAddrPriv,\r\n} from 'services/adex-relayer/actions'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { contracts } from '../contractsCfg'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\n// import FactoryABI from 'adex-protocol-eth/abi/IdentityFactory'\r\n// const Factory = new Interface(FactoryABI)\r\n\r\nimport solc from 'solcBrowser'\r\n\r\nconst { DAI } = contracts\r\n\r\nconst { IDENTITY_BASE_ADDR, IDENTITY_FACTORY_ADDR } = process.env\r\n\r\nconst GAS_LIMIT_DEPLOY_CONTRACT = 150000\r\nconst feeAmountTransfer = '150000000000000000'\r\nconst feeAmountSetPrivileges = '150000000000000000'\r\nconst ERC20 = new Interface(DAI.abi)\r\n/*\r\nexport async function getIdentityBytecode({ owner, privLevel }) {\r\n\tconst res = await identityBytecode({\r\n\t\towner,\r\n\t\tprivLevel,\r\n\t\tidentityBaseAddr: IDENTITY_BASE_ADDR\r\n\t})\r\n\treturn res.bytecode\r\n}\r\n\r\nexport async function getIdentityDeployData({ owner, privLevel }) {\r\n\tconst bytecode = await getIdentityBytecode({ owner, privLevel })\r\n\tconst salt =\r\n\t\t`0x${Buffer.from(randomBytes(32)).toString('hex')}`\r\n\tconst expectedAddr = getAddress(\r\n\t\t`0x${generateAddress2(IDENTITY_FACTORY_ADDR, salt, bytecode)\r\n\t\t\t.toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\texpectedAddr\r\n\t}\r\n}\r\n*/\r\n\r\nexport async function getIdentityBytecode({ owner, privLevel }) {\r\n\tconst privileges = [[owner, 3]]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tIDENTITY_BASE_ADDR,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\treturn bytecode\r\n}\r\n\r\nexport async function getIdentityDeployData({ owner, privLevel }) {\r\n\tconst bytecode = await getIdentityBytecode({ owner, privLevel })\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst expectedAddr = getAddress(\r\n\t\t`0x${generateAddress2(IDENTITY_FACTORY_ADDR, salt, bytecode).toString(\r\n\t\t\t'hex'\r\n\t\t)}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tIDENTITY_FACTORY_ADDR,\r\n\t\tIDENTITY_BASE_ADDR,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\texpectedAddr,\r\n\t}\r\n}\r\n\r\nexport async function deployIdentityContract({\r\n\twallet,\r\n\tbytecode,\r\n\tsalt,\r\n\texpectedAddr,\r\n}) {\r\n\tconst { provider, IdentityFactory } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst pTx = await prepareTx({\r\n\t\ttx: IdentityFactory.deploy(bytecode, salt),\r\n\t\tprovider,\r\n\t\tsender: wallet.address,\r\n\t\tgasLimit: hexlify(GAS_LIMIT_DEPLOY_CONTRACT),\r\n\t})\r\n\r\n\tpTx.gasLimit = hexlify(GAS_LIMIT_DEPLOY_CONTRACT)\r\n\tconst identityFactoryWithSigner = IdentityFactory.connect(signer)\r\n\r\n\tconst tx = identityFactoryWithSigner.deploy(bytecode, salt, pTx)\r\n\r\n\tprocessTx({\r\n\t\ttx,\r\n\t\ttxSuccessData: {},\r\n\t\tfrom: wallet.address,\r\n\t\taccount: {},\r\n\t})\r\n\r\n\treturn tx\r\n}\r\n\r\nexport function getPrivileges({ walletAddr, identityAddr, walletAuthType }) {\r\n\treturn getEthers(walletAuthType).then(({ provider, Identity }) => {\r\n\t\tconst contract = new ethers.Contract(identityAddr, Identity.abi, provider)\r\n\t\treturn contract.privileges(walletAddr)\r\n\t})\r\n}\r\n\r\nexport async function sendDaiToIdentity({\r\n\taccount,\r\n\tamountToSend,\r\n\t// gas,\r\n\testimateGasOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, Dai } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst daiWithSigner = Dai.connect(signer)\r\n\tconst tokenAmount = parseUnits(amountToSend, 18).toString()\r\n\r\n\tconst pTx = await prepareTx({\r\n\t\ttx: Dai.transfer(identity.address, tokenAmount),\r\n\t\tprovider,\r\n\t\t// gasLimit,\r\n\t\tsender: wallet.address,\r\n\t})\r\n\r\n\tif (estimateGasOnly) {\r\n\t\treturn pTx.gasLimit\r\n\t}\r\n\r\n\tprocessTx({\r\n\t\ttx: daiWithSigner.transfer(identity.address, tokenAmount, pTx),\r\n\t\ttxSuccessData: { txMethod: 'TX_SEND_DAI_TO_IDENTITY' },\r\n\t\tfrom: wallet.address,\r\n\t\tfromType: 'wallet',\r\n\t\taccount,\r\n\t})\r\n\r\n\treturn {}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, 18)\r\n\tconst fees = bigNumberify(feeAmountTransfer).mul(bigNumberify('2'))\r\n\tconst tokenAmount = toWithdraw.sub(fees).toString()\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: formatTokenAmount(fees.toString(), 18),\r\n\t\t\ttoGet: formatTokenAmount(tokenAmount, 18),\r\n\t\t}\r\n\t}\r\n\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, Dai, Identity } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\r\n\tconst initialNonce = (await identityContract.nonce()).toNumber()\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountTransfer,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.approve.encode([identityAddr, tokenAmount]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce + 1,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountTransfer,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, tokenAmount]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tidentityAddr: identity.address,\r\n\t}\r\n\r\n\tconst result = await executeTx(data)\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst fees = bigNumberify(feeAmountSetPrivileges)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: formatTokenAmount(fees.toString(), 18),\r\n\t\t}\r\n\t}\r\n\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, Dai, Identity } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst initialNonce = (await identityContract.nonce()).toNumber()\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountSetPrivileges,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tidentityAddr: identity.address,\r\n\t\tsetAddr,\r\n\t\tprivLevel,\r\n\t}\r\n\r\n\tconst result = await setAddrPriv(data)\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { grantAccount } from 'services/adex-relayer/actions'\r\nimport { updateSpinner } from './uiActions'\r\nimport { deployIdentityContract } from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\tregisterFullIdentity,\r\n\tregisterExpectedIdentity,\r\n\tgetOwnerIdentities,\r\n} from 'services/adex-relayer/actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast } from './uiActions'\r\nimport {\r\n\tgetIdentityDeployData,\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { addDataToWallet } from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function getGrantAccount({ walletAddr, email, password, coupon }) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('getting-grant-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await grantAccount({\r\n\t\t\t\townerAddr: walletAddr,\r\n\t\t\t\tmail: email,\r\n\t\t\t\tcouponCode: coupon,\r\n\t\t\t})\r\n\r\n\t\t\t// TODO: validate identityData\r\n\r\n\t\t\tif (identityData) {\r\n\t\t\t\taddDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityData.address,\r\n\t\t\t\t})\r\n\t\t\t\taddDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\t\t\t\tupdateIdentity('identityAddr', identityData.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_REGISTER_GRANT_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTER_GRANT_IDENTITY', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner('getting-grant-identity', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deployFullIdentity({\r\n\twallet,\r\n\temail,\r\n\tidentityTxData,\r\n\tidentityAddr,\r\n}) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('getting-full-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst tx = await deployIdentityContract({\r\n\t\t\t\t...identityTxData,\r\n\t\t\t\twallet,\r\n\t\t\t})\r\n\r\n\t\t\tconst regInfo = await registerFullIdentity({\r\n\t\t\t\ttxHash: tx.hash,\r\n\t\t\t\tidentity: identityAddr,\r\n\t\t\t\tprivileges: [wallet.address, 3],\r\n\t\t\t\tmail: email,\r\n\t\t\t})\r\n\r\n\t\t\tif (regInfo) {\r\n\t\t\t\tupdateIdentity('isRegistered', true)(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_REGISTER_IDENTITY', { args: [tx.hash] }),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_REGISTER_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTER_IDENTITY', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-full-identity', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getFullIdentityTxData({ owner, privLevel }) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst txData = await getIdentityDeployData({ owner, privLevel })\r\n\t\t\tupdateIdentity('identityAddr', txData.expectedAddr)(dispatch)\r\n\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GET_IDENTITY_TX_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GET_IDENTITY_TX_DATA', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getRegisterExpectedIdentity({ owner, mail }) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('getting-expected-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await registerExpectedIdentity({ owner, mail })\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_REGISTERING_EXPECTED_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTERING_EXPECTED_IDENTITY', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-expected-identity', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', { args: [err] }),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = ev => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(translate())\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function ownerIdentities({ owner }) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('getting-owner-identities', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tupdateIdentity('ownerIdentities', identityData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-owner-identities', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\n\r\nexport const isEthAddressERC20 = async (addr = '', authType) => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\n\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\nconst couponRegex = /^[a-fA-F0-9]{8}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validEmail = email => {\r\n\temail = email || ''\r\n\tconst isValid = emailRegex.test(email)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const validQuickAccountCoupon = coupon => {\r\n\tcoupon = coupon || ''\r\n\tconst isValid = couponRegex.test(coupon)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\tconst notEthAddress = !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else {\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n","import { updateSpinner } from './uiActions'\r\nimport { validEthAddress } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast } from './uiActions'\r\n\r\nexport function validateAddress({ addr, dirty, validate, name }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { authType } = getState().persist.account.wallet\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\t\t\tupdateSpinner(name, false)(dispatch)\r\n\t\t\tif (validate)\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', error)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', { args: [error] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as itemActions from './itemActions'\r\nimport * as uiActions from './uiActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as validationActions from './validationActions'\r\n\r\nexport default {\r\n\t...common,\r\n\t...itemActions,\r\n\t...uiActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...validationActions,\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst variantIcon = {\r\n\taccept: CheckCircleIcon,\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\tcancel: ErrorIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n}\r\n\r\nexport class Toast extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t\ttoast: {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlet toast = this.state.toast\r\n\t\tlet nextToast = nextProps.toasts[0]\r\n\r\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\r\n\r\n\t\tif (isNewToast) {\r\n\t\t\t// this.setState({ active: true, toast: nextToast })\r\n\t\t\tthis.setState({ active: false }, () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setState({ active: true, toast: nextToast })\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.props.actions.removeToast(nextToast.id)\r\n\t\t\t\t\t}, 800)\r\n\t\t\t\t}, 800)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tclose = id => {\r\n\t\tthis.setState({ active: false })\r\n\t\tthis.props.actions.removeToast(id)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { toast } = this.state\r\n\t\tconst { classes } = this.props\r\n\t\tconst Icon = variantIcon[toast.type]\r\n\r\n\t\tif (!toast || !Icon) return null\r\n\r\n\t\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\t\tvertical: 'bottom',\r\n\t\t\thorizontal: 'center',\r\n\t\t}\r\n\r\n\t\tif (toast.top) {\r\n\t\t\tanchorOrigin.horizontal = 'center'\r\n\t\t\tanchorOrigin.vertical = 'top'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t\t>\r\n\t\t\t\t<SnackbarContent\r\n\t\t\t\t\taria-describedby='client-snackbar'\r\n\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\r\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\t!toast.unclosable && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey='close'\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\r\n\t\t\t\t\t\t[classes.top]: !!toast.top,\r\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\r\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\r\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</Snackbar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\ttoasts: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// let persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\ttoasts: memory.toasts || [],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Toast))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsnackbar: {\r\n\t\t\tborder: '3px solid',\r\n\t\t\tborderRadius: 0,\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\t'&.active': {\r\n\t\t\t\ttransform: 'translateY(-20%)',\r\n\t\t\t},\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tborderColor: '#FFAB00',\r\n\t\t\tcolor: '#FFAB00',\r\n\t\t},\r\n\t\tcancel: {\r\n\t\t\tborderColor: '#FF5722',\r\n\t\t\tcolor: '#FF5722',\r\n\t\t},\r\n\t\taccept: {\r\n\t\t\tborderColor: '#00E676',\r\n\t\t\tcolor: '#00E676',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\ticonVariant: {\r\n\t\t\topacity: 0.9,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tmessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\twidth: '98vw',\r\n\t\t\tmaxWidth: '98vw',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport default function Translate(Decorated) {\r\n\tclass Translated extends Component {\r\n\t\tt(val, { isProp = false, args = [''] } = {}) {\r\n\t\t\tconst translation = translate(val, { isProp, args }, this.props.language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn <Decorated {...this.props} t={this.t.bind(this)} />\r\n\t\t}\r\n\t}\r\n\r\n\tTranslated.propTypes = {\r\n\t\tlanguage: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tconst { persist } = state\r\n\t\treturn {\r\n\t\t\tlanguage: persist.language,\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tnull\r\n\t)(Translated)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport Button from '@material-ui/core/Button'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport class Confirm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.cancel = this.cancel.bind(this)\r\n\t\tthis.confirm = this.confirm.bind(this)\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tthis.setState({ active: nextProps.visible })\r\n\t}\r\n\r\n\tconfirm() {\r\n\t\tif (typeof this.props.confirm === 'function') {\r\n\t\t\tthis.props.confirm()\r\n\t\t}\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\tcancel() {\r\n\t\tif (typeof this.props.cancel === 'function') {\r\n\t\t\tthis.props.cancel()\r\n\t\t}\r\n\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttitle,\r\n\t\t\ttext,\r\n\t\t\tchildren,\r\n\t\t\tcancelLabel,\r\n\t\t\tconfirmLabel,\r\n\t\t\tt,\r\n\t\t\tnoActionBtns,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog open={this.state.active}>\r\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t\t{text}\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t{!noActionBtns && (\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t)}\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nConfirm.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tcancelLabel: PropTypes.string,\r\n\tconfirmLabel: PropTypes.string,\r\n\ttitle: PropTypes.string.isRequired,\r\n\ttext: PropTypes.string,\r\n\tconfirm: PropTypes.func,\r\n\tcancel: PropTypes.func,\r\n\tvisible: PropTypes.bool,\r\n\tcalledOn: PropTypes.number,\r\n\tnoActionBtns: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tstate = state.memory\r\n\treturn {\r\n\t\tcancelLabel: state.confirm.data.cancelLabel,\r\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\r\n\t\ttitle: state.confirm.data.title || '',\r\n\t\ttext: state.confirm.data.text || '',\r\n\t\tconfirm: state.confirm.onConfirm,\r\n\t\tcancel: state.confirm.onCancel,\r\n\t\tvisible: state.confirm.active || false,\r\n\t\tcalledOn: state.confirm.calledOn,\r\n\t\tnoActionBtns: state.confirm.noActionBtns,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Confirm))\r\n","import React from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\treturn typeof to === 'object' ? to['pathname'] : to\r\n\t\t}\r\n\r\n\t\thandleClick = event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tconst { to } = this.props\r\n\r\n\t\t\tthis.props.history.push(to)\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\t\t\treturn (\r\n\t\t\t\t<Component {...rest} href={toLocation} onClick={this.handleClick} />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn withRouter(Decorated)\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({ href, target, children, label, ...rest }) => {\r\n\tlet url = target && target === '_blank' ? getUrl(href) : href\r\n\treturn (\r\n\t\t<a\r\n\t\t\tdraggable='false'\r\n\t\t\trel='noopener noreferrer'\r\n\t\t\t{...rest}\r\n\t\t\ttarget={target}\r\n\t\t\thref={url}\r\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\r\n\t\t>\r\n\t\t\t{children || label}\r\n\t\t</a>\r\n\t)\r\n}\r\n\r\nexport default Anchor\r\n","const drawerWidth = 250\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tzIndex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#eee',\r\n\t\t\tcolor: '#000',\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingTop: theme.spacing(0.5),\r\n\t\t\tpaddingBottom: theme.spacing(0.5),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: 100,\r\n\t\t\t\tpaddingTop: theme.spacing(1.5),\r\n\t\t\t\tpaddingBottom: theme.spacing(1.5),\r\n\t\t\t\tpaddingLeft: theme.spacing(1.5),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\tnavIconHide: {\r\n\t\t\tmarginRight: 10,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 114,\r\n\t\t\t...theme.mixins.toolbar,\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#fff',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\tpadding: theme.spacing(3),\r\n\t\t\tpaddingTop: theme.spacing(5),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1600,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 36,\r\n\t\t\twidth: 'auto',\r\n\t\t\t// marginRight: 10,\r\n\t\t\t// paddingLeft: theme.spacing(1.5),\r\n\t\t\t// [theme.breakpoints.down('xs')]: {\r\n\t\t\t//     display: 'none',\r\n\t\t\t// },\r\n\t\t},\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 80,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tbackgroundColor: theme.palette.primary.light,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: theme.palette.primary.light,\r\n\t\t\t},\r\n\t\t},\r\n\t\tnewItemBtn: {\r\n\t\t\twidth: '200px', // TODO\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tbar: {\r\n\t\t\topacity: 0.5,\r\n\t\t},\r\n\t\tactionCount: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst RRSwitch = withReactRouterLink(props => (\r\n\t<ListItem>\r\n\t\t<ListItemText primary={props.label} />\r\n\t\t<ListItemSecondaryAction>\r\n\t\t\t<Anchor {...props}>\r\n\t\t\t\t<Switch {...props} />\r\n\t\t\t</Anchor>\r\n\t\t</ListItemSecondaryAction>\r\n\t</ListItem>\r\n))\r\n\r\nconst sideSwitch = ({ side, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* Keep both if there is no valid side and force react to rerender at the same time */}\r\n\t\t\t{side !== 'advertiser' && (\r\n\t\t\t\t<RRSwitch\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tchecked={true}\r\n\t\t\t\t\tvalue='account'\r\n\t\t\t\t\tto={{ pathname: '/dashboard/advertiser' }}\r\n\t\t\t\t\tlabel={t('PUBLISHER')}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tbar: classes.bar,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{side !== 'publisher' && (\r\n\t\t\t\t<RRSwitch\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tchecked={false}\r\n\t\t\t\t\tto={{ pathname: '/dashboard/publisher' }}\r\n\t\t\t\t\tlabel={t('ADVERTISER')}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tbar: classes.bar,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const SideSwitch = withStyles(styles)(sideSwitch)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(27, 117, 188)'\r\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\r\n\t\t/>\r\n\t</g>,\r\n\t'AdexIcon',\r\n\t'0 0 185 72'\r\n)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { SideSwitch } from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\n// import Badge from '@material-ui/core/Badge'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nclass SideNav extends Component {\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tlet langChanged = this.props.language !== nextProps.language\r\n\t\tlet sideChanged = this.props.side !== nextProps.side\r\n\t\tlet locationChanged =\r\n\t\t\tthis.props.location.pathname !== nextProps.location.pathname\r\n\t\tlet transactionsChanged =\r\n\t\t\t(this.props.transactions.pendingTxs || []).length !==\r\n\t\t\t(nextProps.transactions.pendingTxs || []).length\r\n\t\tlet bidsAwaitingActionChanged =\r\n\t\t\tthis.bidsAwaitingActionCount !== nextProps.bidsAwaitingActionCount\r\n\t\treturn (\r\n\t\t\tlangChanged ||\r\n\t\t\tsideChanged ||\r\n\t\t\tlocationChanged ||\r\n\t\t\ttransactionsChanged ||\r\n\t\t\tbidsAwaitingActionChanged\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tside,\r\n\t\t\tidentity,\r\n\t\t\tt,\r\n\t\t\t// transactions,\r\n\t\t\tclasses,\r\n\t\t} = this.props\r\n\t\tif (side !== 'advertiser' && side !== 'publisher') {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\t// TODO: test location\r\n\t\tconst location = this.props.location.pathname.split('/')[3]\r\n\t\tconst isAdvertiser = side === 'advertiser'\r\n\t\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\t\tconst itemsIcon = isAdvertiser\r\n\t\t\t? 'format_list_bulleted'\r\n\t\t\t: 'format_list_bulleted'\r\n\t\t// const pendingTrsCount = (transactions.pendingTxs || []).length\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.navigation}>\r\n\t\t\t\t<List\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpadding: classes.sntPadding,\r\n\t\t\t\t\t\troot: classes.navListRoot,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName={classes.navList}\r\n\t\t\t\t\tcomponent='nav'\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classnames(classes.toolbar, classes.sideNavToolbar)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<AdexIconTxt className={classes.icon} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<SideSwitch side={side} t={t} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<Icon>{itemsIcon}</Icon>\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\r\n\t\t\t\t\t\t{/* <RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/transactions' }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === 'transactions' })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{pendingTrsCount > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\t\t\tbadgeContent={pendingTrsCount <= 9 ? pendingTrsCount : '9+'}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.actionCount)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Badge> : <SwapHorizontalIcon />}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n                        </RRListItem> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref='https://medium.com/adex-network-tips-and-tricks'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</List>\r\n\t\t\t\t<div className={classes.version}>\r\n\t\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdEx Network O\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSideNav.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist /*memory*/ } = state\r\n\r\n\treturn {\r\n\t\t// account: persist.account,\r\n\t\ttransactions: persist.web3Transactions[persist.account._addr] || {},\r\n\t\tidentity: persist.account.identity.address,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SideNav)))\r\n","import React, { Component } from 'react'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nclass ButtonMenu extends Component {\r\n\tstate = {\r\n\t\tactive: false,\r\n\t\tanchorEl: null,\r\n\t}\r\n\r\n\thandleButtonClick = () =>\r\n\t\tthis.setState({ active: !this.state.active, anchorEl: null })\r\n\thandleMenuHide = () => this.setState({ active: false })\r\n\r\n\thandleMenu = event => {\r\n\t\tthis.setState({ anchorEl: event.currentTarget })\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({ anchorEl: null })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { btnStyle, label, iconStyle, icon } = this.props\r\n\t\tconst { anchorEl } = this.state\r\n\t\tconst open = Boolean(anchorEl)\r\n\t\tlet leftIcon = this.props.leftIconSrc ? (\r\n\t\t\t<ImgIcon src={this.props.leftIconSrc} />\r\n\t\t) : null\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t// style={{ display: 'inline-block' }}\r\n\t\t\t>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tstyle={btnStyle}\r\n\t\t\t\t\tonClick={this.handleMenu}\r\n\t\t\t\t\taria-owns='menu-appbar' // {open ? 'menu-appbar' : null}\r\n\t\t\t\t\taria-haspopup='true'\r\n\t\t\t\t>\r\n\t\t\t\t\t{leftIcon}\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<Icon style={iconStyle}>{icon}</Icon>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Menu\r\n\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t\t// anchorOrigin={{\r\n\t\t\t\t\t//   vertical: 'top',\r\n\t\t\t\t\t//   horizontal: 'right',\r\n\t\t\t\t\t// }}\r\n\t\t\t\t\t// transformOrigin={{\r\n\t\t\t\t\t//   vertical: 'top',\r\n\t\t\t\t\t//   horizontal: 'right',\r\n\t\t\t\t\t// }}\r\n\t\t\t\t\tonClick={this.handleButtonClick}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</Menu>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles()(ButtonMenu)\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport ledgerLogo from 'resources/ledger_logo_header.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\treturn ledgerLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport classnames from 'classnames'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Icon from '@material-ui/core/Icon'\r\n\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\n\r\nclass TopNav extends Component {\r\n\tstate = {\r\n\t\tauth: true,\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\thandleDrawerToggle,\r\n\t\t\taccount,\r\n\t\t\tside,\r\n\t\t\tnavTitle,\r\n\t\t\tclasses,\r\n\t\t} = this.props\r\n\t\tlet imgSrc = getAuthLogo(account.wallet.authType)\r\n\r\n\t\tconst btnMenueLabel =\r\n\t\t\taccount.wallet.authType === 'demo'\r\n\t\t\t\t? t('DEMO_MODE')\r\n\t\t\t\t: account.email || account.wallet.address || t('NOT_LOGGED')\r\n\r\n\t\treturn (\r\n\t\t\t<AppBar className={classes.appBar} position='sticky'>\r\n\t\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon>menu</Icon>\r\n\t\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t\t{/* <AdexIconTxt\r\n              className={classes.icon}\r\n            /> */}\r\n\t\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\r\n\t\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\r\n\t\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\r\n\t\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\t\ticon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\tlabel={btnMenueLabel}\r\n\t\t\t\t\t\t\t\tactive={true}\r\n\t\t\t\t\t\t\t\ticonStyle={{ marginTop: -2, marginLeft: 10, fontSize: 20 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>account_box</Icon>\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<Icon>exit_to_app</Icon>\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tvariant='title'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tclassName={classes.flex}\r\n\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(navTitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nTopNav.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tnavTitle: memory.nav.navTitle || '',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(TopNav)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Translate from 'components/translate/Translate'\r\nimport { validations, helpers } from 'adex-models'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\nconst MAX_IMG_LOAD_TIME = 3000\r\nclass Img extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\timgSrc: null,\r\n\t\t\tactive: false,\r\n\t\t\tvideoSrc: null,\r\n\t\t}\r\n\r\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\r\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\r\n\t\tthis.loadTimeout = null\r\n\t}\r\n\r\n\tipfsSrc = src => {\r\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t\t}\r\n\r\n\t\treturn src\r\n\t}\r\n\r\n\thandleToggle = () => {\r\n\t\tlet active = this.state.active\r\n\t\tthis.setState({ active: !active })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\treturn this.setState({\r\n\t\t\t\timgSrc: VIDEO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tthis.displayVideo = document.createElement('video')\r\n\t\t\tthis.setDisplayVideo({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.displayImage = new Image()\r\n\t\t\tthis.setDisplayImage({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = nextProps => {\r\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\r\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\r\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\r\n\t\tconst { mediaMime } = nextProps\r\n\r\n\t\tif (nextSrc !== thisSrc) {\r\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\t\tif (isVideo) {\r\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\r\n\t\t\t\tthis.setDisplayVideo({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\r\n\t\t\t\tthis.setDisplayImage({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\t\t\tthis.displayImage = null\r\n\t\t}\r\n\t}\r\n\r\n\tclearLoadTimeout = () => {\r\n\t\tif (this.loadTimeout) {\r\n\t\t\tclearTimeout(this.loadTimeout)\r\n\t\t\tthis.loadTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tonFail = fallback => {\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.displayImage.src = fallback\r\n\t\t}\r\n\r\n\t\tthis.clearLoadTimeout()\r\n\r\n\t\tthis.setState({\r\n\t\t\timgSrc: fallback || null,\r\n\t\t})\r\n\t}\r\n\r\n\tsetDisplayImage = ({ image, fallback }) => {\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\r\n\t\t\tthis,\r\n\t\t\tfallback\r\n\t\t)\r\n\r\n\t\tthis.displayImage.onload = () => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\timgSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.displayImage.src = image\r\n\t}\r\n\r\n\tsetDisplayVideo = ({ image, fallback }) => {\r\n\t\tthis.displayVideo.src = image\r\n\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfullScreenBtn() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tmini\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{this.renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trenderFullscreenDialog() {\r\n\t\tconst { t, alt, classes, type } = this.props\r\n\t\tconst { active, imgSrc, videoSrc } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{imgSrc ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<video src={videoSrc} controls></video>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\talt,\r\n\t\t\tallowFullscreen,\r\n\t\t\tclassName,\r\n\t\t\tclasses,\r\n\t\t\tfullScreenOnClick,\r\n\t\t} = this.props\r\n\t\tconst { imgSrc, videoSrc } = this.state\r\n\t\treturn imgSrc || videoSrc ? (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\r\n\t\t\t>\r\n\t\t\t\t{!!imgSrc ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\tsrc={this.state.imgSrc}\r\n\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\tfullScreenOnClick &&\r\n\t\t\t\t\t\t\t(() => {\r\n\t\t\t\t\t\t\t\tconsole.log('click')\r\n\t\t\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<video src={videoSrc} controls></video>\r\n\t\t\t\t)}\r\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\r\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t\t<span className={classes.circular}>\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImg.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(Img))\r\n","export const styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\timgParent: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: 'max-content',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t},\r\n\twrapper: {\r\n\t\theight: 'max-content',\r\n\t\twidth: 'max-content',\r\n\t},\r\n})\r\n","/**\r\n * @param {String} objUrl - Image blob url URL.createObjectURL\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n */\r\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\r\n\t// TODO: Validate pixelCrop and size\r\n\tconst cropCanvas = document.createElement('canvas')\r\n\tconst scaleCanvas = document.createElement('canvas')\r\n\r\n\tconst img = new Image()\r\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\r\n\timg.src = objUrl\r\n\r\n\t// As a blob\r\n\treturn new Promise((resolve, reject) => {\r\n\t\timg.onload = () => {\r\n\t\t\tconst width = img.width\r\n\t\t\tconst height = img.height\r\n\r\n\t\t\t// pixelCrop come in %\r\n\t\t\tconst crop = {\r\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\r\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\r\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\r\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\r\n\t\t\t}\r\n\r\n\t\t\tcropCanvas.width = crop.width\r\n\t\t\tcropCanvas.height = crop.height\r\n\t\t\tconst cctx = cropCanvas.getContext('2d')\r\n\r\n\t\t\tcctx.drawImage(\r\n\t\t\t\timg,\r\n\t\t\t\tcrop.x,\r\n\t\t\t\tcrop.y,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.width = size.width\r\n\t\t\tscaleCanvas.height = size.height\r\n\r\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\r\n\r\n\t\t\tsctx.drawImage(\r\n\t\t\t\tcropCanvas,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tsize.width,\r\n\t\t\t\tsize.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.toBlob(file => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t}, 'image/jpeg')\r\n\t\t}\r\n\t})\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Img from 'components/common/img/Img'\r\n// import debounce from 'debounce'\r\nimport Dropzone from 'react-dropzone'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport CropIcon from '@material-ui/icons/Crop'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass ImgForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { size, imgSrc, mime } = props\r\n\t\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\t\tthis.state = {\r\n\t\t\timgSrc: imgSrc || '',\r\n\t\t\tmime: mime || '',\r\n\t\t\timgName: '',\r\n\t\t\tcropMode: false,\r\n\t\t\tcrop: { aspect: aspect },\r\n\t\t}\r\n\t}\r\n\r\n\tonDrop = (acceptedFiles, rejectedFiles) => {\r\n\t\tconst that = this\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\r\n\t\tthat.setState({\r\n\t\t\timgSrc: objectUrl,\r\n\t\t\timgName: file.name,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tthis.props.onChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t}\r\n\r\n\tonRemove = e => {\r\n\t\tthis.preventBubbling(e)\r\n\r\n\t\tconst { imgSrc } = this.state\r\n\r\n\t\tif (imgSrc) {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\r\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t}\r\n\r\n\tonCropChange = crop => {\r\n\t\tthis.setState({ crop })\r\n\t}\r\n\r\n\tsaveCropped = () => {\r\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\r\n\t\tconst { onChange, size } = this.props\r\n\t\tgetCroppedImgUrl({\r\n\t\t\tobjUrl: imgSrc,\r\n\t\t\tpixelCrop: crop,\r\n\t\t\tfileName: `cropped-${imgName}`,\r\n\t\t\tsize,\r\n\t\t}).then(croppedBlob => {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tpreventBubbling = e => {\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation()\r\n\t\t}\r\n\t\tif (e.nativeEvent) {\r\n\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t}\r\n\t}\r\n\r\n\tUploadInfo = () => {\r\n\t\tconst { t, classes, size, errMsg } = this.props\r\n\t\tconst { imgSrc, mime } = this.state\r\n\t\treturn (\r\n\t\t\t<div className={classes.uploadInfo}>\r\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\r\n\t\t\t\t\t<div className={classes.uploadActions}>\r\n\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\r\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={this.onRemove}\r\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t)}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: CLEAR IMG BLOB!!!!\r\n\trender() {\r\n\t\tconst { t, classes, label, additionalInfo } = this.props\r\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\r\n\r\n\t\tconst videoSrc = isVideoMedia(mime)\r\n\t\treturn (\r\n\t\t\t<div className={classes.imgForm}>\r\n\t\t\t\t<AppBar\r\n\t\t\t\t\tposition='static'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.header,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t{imgSrc && imgName ? (\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\r\n\t\t\t\t\t\t\t<div className={classes.droppedImgContainer}>\r\n\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '70%', maxHeight: 320 }}\r\n\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\r\n\t\t\t\t\t\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Dropzone\r\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\r\n\t\t\t\t\t\t\tonDrop={this.onDrop}\r\n\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className={classes.droppedImgContainer}>\r\n\t\t\t\t\t\t\t\t{videoSrc ? (\r\n\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\talt={'name'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<this.UploadInfo />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Dropzone>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> {additionalInfo} </small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgForm.propTypes = {\r\n\timgSrc: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(ImgForm))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\theader: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdropzone: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\tdroppedImgContainer: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t\talignSelf: 'stretch',\r\n\t\t\tflex: '1 1',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: ' space-around',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'@media(max-width:768px)': {\r\n\t\t\t\tdisplay: 'grid',\r\n\t\t\t},\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\tmaxHeight: 320,\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\t'@media(max-width:500px)': {\r\n\t\t\t\t// TODO: Find out why it breaks this limit after a new pic is uploaded\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\n\r\n// Allow higher res images with same aspect ratio\r\nfunction checkExactish(widthTarget, width, heightTarget, height) {\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget).toFixed(2)\r\n\tconst aspect = parseFloat(width / height).toFixed(2)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width && heightTarget <= height && targetAspect === aspect\r\n\r\n\treturn isValid\r\n}\r\n\r\nexport default function ValidImageHoc(Decorated) {\r\n\tclass ValidImage extends Component {\r\n\t\tvalidate = ({\r\n\t\t\tpropsName,\r\n\t\t\twidthTarget,\r\n\t\t\theightTarget,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaHeight,\r\n\t\t\tmsg,\r\n\t\t\texact,\r\n\t\t\trequired,\r\n\t\t\tonChange,\r\n\t\t\tmime,\r\n\t\t\ttempUrl,\r\n\t\t}) => {\r\n\t\t\tlet isValid = true\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactish(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\r\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\r\n\r\n\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: msg, args: masgArgs },\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst resMedia = {\r\n\t\t\t\twidth: mediaWidth,\r\n\t\t\t\theight: mediaHeight,\r\n\t\t\t\tmime,\r\n\t\t\t\ttempUrl,\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof onChange === 'function') {\r\n\t\t\t\tonChange(propsName, resMedia)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidateMedia = async (\r\n\t\t\t{\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t} = {},\r\n\t\t\tmedia\r\n\t\t) => {\r\n\t\t\tif (!required && !media.tempUrl && onChange) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: true,\r\n\t\t\t\t\terr: { msg: msg, args: [] },\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\t// TODO: fix this\r\n\t\t\t\tonChange(propsName, media)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\r\n\t\t\tthis.validate({\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmediaWidth: size.width,\r\n\t\t\t\tmediaHeight: size.height,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t\tmime: media.mime,\r\n\t\t\t\ttempUrl: media.tempUrl,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\r\n\t\t}\r\n\t}\r\n\r\n\tValidImage.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidImage))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {},\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tvalidate={this.validate}\r\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(3)\r\n\treturn {}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nexport class ImgDialog extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tvalues: {},\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange = (name, value) => {\r\n\t\tlet newValues = { ...this.state.values }\r\n\t\tnewValues[name] = value\r\n\t\tthis.setState({ values: newValues })\r\n\t}\r\n\r\n\tonOk = () => {\r\n\t\tconst vals = this.state.values\r\n\t\tObject.keys(vals).forEach(key => {\r\n\t\t\tthis.props.onChangeReady(key, vals[key])\r\n\t\t})\r\n\t\tthis.props.handleToggle()\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet t = () => {}\r\n\t\tlet validations = this.props.invalidFields || {}\r\n\t\tlet errImg = validations[this.props.imgPropName]\r\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\r\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.props.active}\r\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\r\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\r\n\t\t\t\t\ttitle={this.props.title}\r\n\t\t\t\t\ttype={this.props.type || 'normal'}\r\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle>\r\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t{this.props.t(this.props.title)}\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\r\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\r\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\r\n\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\r\n\t\t\t\t\t\t\t\texact: this.props.exact,\r\n\t\t\t\t\t\t\t\trequired: this.props.required,\r\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\r\n\t\t\t\t\t\t\t{'Cancel'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.onOk}\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{'Ok'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgDialog.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tlet persist = state.persist\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnames'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\r\nclass SaveBtn extends Component {\r\n\trender() {\r\n\t\tlet {\r\n\t\t\tspinner,\r\n\t\t\tclasses,\r\n\t\t\tsuccess,\r\n\t\t\tdirtyProps,\r\n\t\t\tsave,\r\n\t\t\tvalidations,\r\n\t\t\tvalidationId,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.position}>\r\n\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t<Fab\r\n\t\t\t\t\t\tvariant='fab'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t// className={buttonClassname}\r\n\t\t\t\t\t\tonClick={() => save()}\r\n\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\tspinner ||\r\n\t\t\t\t\t\t\t!dirtyProps.length ||\r\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// {...other}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSaveBtn.propTypes = {\r\n\tspinnerId: PropTypes.string,\r\n\tvalidationId: PropTypes.string,\r\n\titemId: PropTypes.string,\r\n\tvalidations: PropTypes.object,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\tspinner: memory.spinners[props.spinnerId],\r\n\t\tvalidations: memory.validations,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SaveBtn)))\r\n","import color from '@material-ui/core/colors/purple'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: color[500],\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: color[700],\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: -6,\r\n\t\tleft: -6,\r\n\t\tzIndex: 1,\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tposition: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 86,\r\n\t\tright: 40,\r\n\t\tzIndex: theme.zIndex.appBar,\r\n\t},\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404 from 'resources/404.png'\r\nimport Img from 'components/common/img/Img'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass PageNotFound extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\ttitle,\r\n\t\t\tsubtitle,\r\n\t\t\tgoToTxt,\r\n\t\t\tgoToPath,\r\n\t\t\tskipGoToButton,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3'>\r\n\t\t\t\t\t\t\t{t(title || '404_TEXT')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tinline\r\n\t\t\t\t\t\t\tclassName={classes.text}\r\n\t\t\t\t\t\t\tvariant='h1'\r\n\t\t\t\t\t\t\tstyle={{ textTransform: 'uppercase' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('404')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\tsrc={IMG_404}\r\n\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(PageNotFound))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\r\n// import { Models } from 'adex-models'\r\nimport classnames from 'classnames'\r\nimport { Prompt } from 'react-router'\r\nimport Translate from 'components/translate/Translate'\r\nimport { items as ItemsConstants } from 'adex-constants'\r\nimport Img from 'components/common/img/Img'\r\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport InfoOutlineIcon from '@material-ui/icons/Info'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport { styles } from './styles'\r\nimport { validName } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\n\r\nconst { AdSizesByValue } = ItemsConstants\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass Item extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.save = this.save.bind(this)\r\n\t\t\tthis.state = {\r\n\t\t\t\tactiveFields: {},\r\n\t\t\t\titem: null,\r\n\t\t\t\tinitialItemState: {},\r\n\t\t\t\tdirtyProps: [],\r\n\t\t\t\teditImg: false,\r\n\t\t\t\t_activeInput: null,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateNav = (item = {}) => {\r\n\t\t\tconst { actions, t, itemType } = this.props\r\n\t\t\tactions.updateNav(\r\n\t\t\t\t'navTitle',\r\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tconst { item, matchId, objModel } = this.props\r\n\r\n\t\t\tif (!item) {\r\n\t\t\t\tthis.updateNav({ title: matchId })\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst initialItemState = new objModel(item)\r\n\r\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\r\n\t\t\tthis.updateNav(initialItemState)\r\n\t\t}\r\n\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t\t//     return diffProps || diffState\r\n\t\t// }\r\n\r\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item } = this.state\r\n\t\t\tlet currentItemInst = new objModel(item || {})\r\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\r\n\t\t\t// TODO: check the above\r\n\t\t\tlet nextItem = nextProps.item\r\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\r\n\r\n\t\t\t// if (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\r\n\t\t\tif (\r\n\t\t\t\tJSON.stringify(currentItemInst.plainObj()) !==\r\n\t\t\t\tJSON.stringify(nexItemInst.plainObj())\r\n\t\t\t) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titem: nexItemInst.plainObj(),\r\n\t\t\t\t\tinitialItemState: nexItemInst,\r\n\t\t\t\t\tactiveFields: {},\r\n\t\t\t\t\tdirtyProps: [],\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.updateNav(nexItemInst)\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount() {\r\n\t\t\tif (this.state.item) {\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[name] = value\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (dp.indexOf(name) < 0) {\r\n\t\t\t\tdp.push(name)\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t}\r\n\r\n\t\treturnPropToInitialState = propName => {\r\n\t\t\tconst { objModel, actions } = this.props\r\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\r\n\t\t\tconst initialItemStateValue = initialItemState[propName]\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[propName] = initialItemStateValue\r\n\r\n\t\t\tconst dp = dirtyProps.filter(dp => {\r\n\t\t\t\treturn dp !== propName\r\n\t\t\t})\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t\t// TEMP fix, we assume that the initial values are validated\r\n\t\t\tactions.resetValidationErrors(item.id, propName)\r\n\t\t}\r\n\r\n\t\tsetActiveFields = (field, value) => {\r\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\r\n\t\t\tnewActiveFields[field] = value\r\n\t\t\tthis.setState({ activeFields: newActiveFields })\r\n\t\t}\r\n\r\n\t\t//TODO: Do not save if not dirty!\r\n\t\tsave = () => {\r\n\t\t\tif (this.state.dirtyProps.length && !this.props.spinner) {\r\n\t\t\t\tlet item = { ...this.state.item }\r\n\t\t\t\tthis.props.actions.updateItem({\r\n\t\t\t\t\titem: item,\r\n\t\t\t\t\tauthSig: this.props.account.wallet.authSig,\r\n\t\t\t\t})\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + item.id, true)\r\n\t\t\t\tthis.setState({ dirtyProps: [] })\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tisDirtyProp(prop) {\r\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\r\n\t\t}\r\n\r\n\t\thandleToggle = () => {\r\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\r\n\r\n\t\t\tif (isDemo) return\r\n\r\n\t\t\tlet active = this.state.editImg\r\n\t\t\tthis.setState({ editImg: !active })\r\n\t\t}\r\n\r\n\t\tisNameValid(name) {\r\n\t\t\tconst { msg } = validName(name)\r\n\t\t\treturn !msg\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tvalidations,\r\n\t\t\t\tclasses,\r\n\t\t\t\tt,\r\n\t\t\t\taccount,\r\n\t\t\t\titemType,\r\n\t\t\t\tobjModel,\r\n\t\t\t\tmatchId,\r\n\t\t\t\tside,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst propsItem = this.props.item\r\n\r\n\t\t\tif (!propsItem) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PageNotFound\r\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\t\t\targs: [itemType, matchId],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tskipGoToButton\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\r\n\t\t\t * in this case there is no need to make instance inside them\r\n\t\t\t */\r\n\r\n\t\t\tconst isDemo = account._authType === 'demo'\r\n\t\t\tconst item = new objModel(this.state.item || {})\r\n\t\t\tlet canEdit = itemType === 'AdSlot'\r\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\r\n\r\n\t\t\tconst titleErr = validName(item.title)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Prompt\r\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{itemType !== 'Campaign' && (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<ImgDialog\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\r\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\r\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\t\twidth={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\r\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\theight={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\r\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\r\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\r\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\r\n\t\t\t\t\t\t\t\t\timgPropName='img'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\r\n\t\t\t\t\t\t\t\t\t<div className={classes.changesLine}>\r\n\t\t\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\r\n\t\t\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!titleErr.msg}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitleErr && !!titleErr.msg ? titleErr.msg : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{titleErr && !!titleErr.msg && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(titleErr.msg, { args: titleErr.errMsgArgs })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='adornment-password'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo || true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!item.description && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<SaveBtn\r\n\t\t\t\t\t\t\t\t\tspinnerId={'update' + item.id}\r\n\t\t\t\t\t\t\t\t\tvalidationId={'update-' + item.id}\r\n\t\t\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\r\n\t\t\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\t\t\t// TODO: validate wit item validation HOC!!!\r\n\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\r\n\t\t\t\t\t\t\t\t\t\t!this.isNameValid(this.state.item.title)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\r\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\r\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\r\n\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\tisDemo={isDemo}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItem.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\titem: PropTypes.object.isRequired,\r\n\t\tspinner: PropTypes.bool,\r\n\t\titemType: PropTypes.string.isRequired,\r\n\t\tobjModel: PropTypes.func.isRequired,\r\n\t}\r\n\r\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\r\n\t\tlet keys = Object.keys(items)\r\n\r\n\t\tfor (let index = 0; index < keys.length; index++) {\r\n\t\t\tconst key = keys[index]\r\n\t\t\tconst item = items[key]\r\n\r\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist } = state\r\n\t\t// const memory = state.memory\r\n\t\tconst items = persist.items[props.itemType]\r\n\t\tconst id = props.match.params.itemId\r\n\t\tlet item = items[id]\r\n\r\n\t\tif (!item && props.itemType !== undefined) {\r\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\titem: item,\r\n\t\t\tvalidateId: 'update-' + item,\r\n\t\t\tmatchId: id,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport classnames from 'classnames'\r\nimport { styles } from './styles'\r\n\r\nclass Dropdown extends React.Component {\r\n\thandleChange = event => {\r\n\t\tthis.props.onChange(event.target.value)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tlabel = '',\r\n\t\t\tvalue,\r\n\t\t\tsource,\r\n\t\t\thtmlId = 'some-id',\r\n\t\t\tname = '',\r\n\t\t\tdisabled = false,\r\n\t\t\terror = false,\r\n\t\t\thelperText,\r\n\t\t\t// margin = '',\r\n\t\t\tfullWidth = false,\r\n\t\t\tclassName,\r\n\t\t\trequired,\r\n\t\t} = this.props\r\n\r\n\t\t// TODO: add native renderer for mobile devices when supported\r\n\t\treturn (\r\n\t\t\t<FormControl\r\n\t\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\terror={error}\r\n\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t>\r\n\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</InputLabel>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tinput={<Input name={name} id={htmlId} />}\r\n\t\t\t\t>\r\n\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Select>\r\n\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t\t</FormControl>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tname: PropTypes.string,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n}\r\n\r\nexport default withStyles(styles)(Dropdown)\r\n","export const styles = theme => ({\r\n\tformControl: {\r\n\t\t// margin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n\tselectEmpty: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\t// const iconButtonSize = 48 - (spacing * 2)\r\n\treturn {\r\n\t\tcontrols: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexDirection: 'row',\r\n\t\t},\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tflexItem: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\trowButton: {\r\n\t\t\tmarginTop: spacing * 1.5,\r\n\t\t\t// width: iconButtonSize,\r\n\t\t\t// height: iconButtonSize\r\n\t\t},\r\n\t\trwoButtonRoot: {\r\n\t\t\tmargin: spacing / 2,\r\n\t\t},\r\n\t\trow: {\r\n\t\t\tdisplay: 'block',\r\n\t\t},\r\n\t\tbottomControls: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\tlistRoot: {\r\n\t\t\tpaddingBottom: spacing * 1.5,\r\n\t\t\toverflowX: 'auto',\r\n\t\t},\r\n\t\tcontrolsRoot: {\r\n\t\t\tpadding: spacing * 1.5,\r\n\t\t\tpaddingBottom: spacing * 0.5,\r\n\t\t\t// marginBottom: spacing * 2\r\n\t\t},\r\n\t\tpageSize: {\r\n\t\t\twidth: '100px',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\n// import Slider from '@material-ui/core/Slider'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft'\r\nimport ChevronRight from '@material-ui/icons/ChevronRight'\r\nimport Dropdown from 'components/common/dropdown'\r\n// import Typography from '@material-ui/core/Typography'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nexport const PAGE_SIZES = [\r\n\t{ value: 5, label: 5 },\r\n\t{ value: 10, label: 10 },\r\n\t{ value: 20, label: 20 },\r\n\t{ value: 46, label: 46 },\r\n]\r\n\r\nconst pagination = props => {\r\n\tconst {\r\n\t\tpage,\r\n\t\tpages,\r\n\t\t// pageSize,\r\n\t\tclasses,\r\n\t\tgoToPrevPage,\r\n\t\tgoToNextPage,\r\n\t\tgoToPage,\r\n\t\t// changePageSize,\r\n\t\t// className,\r\n\t\tt,\r\n\t} = props\r\n\treturn (\r\n\t\t<div className={classes.flexRow}>\r\n\t\t\t{pages > 1 && (\r\n\t\t\t\t<div className={classnames(classes.flexItem, classes.flexRow)}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_PAGE')}\r\n\t\t\t\t\t\t\thelperText={t('LIST_CONTROL_LABEL_PAGE_OF', { args: [pages] })}\r\n\t\t\t\t\t\t\tonChange={goToPage}\r\n\t\t\t\t\t\t\tsource={getAllPagedValues(page, pages)}\r\n\t\t\t\t\t\t\tvalue={page + ''}\r\n\t\t\t\t\t\t\thtmlId='page-size-select'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tdisabled={!(page > 0 && pages > page)}\r\n\t\t\t\t\t\tonClick={goToPrevPage}\r\n\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ChevronLeft />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tdisabled={!(page < pages - 1)}\r\n\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ChevronRight />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{/* <div\r\n\t\t\t\tclassName={classnames(classes.flexItem, classes.pageSize)}\r\n\t\t\t>\r\n\t\t\t\t<Typography noWrap id=\"page-size\">{t('LIST_CONTROL_LABEL_PAGE_SIZE')} <strong>{pageSize}</strong> </Typography>\r\n\t\t\t\t<Slider style={{ padding: '22px 0' }} aria-labelledby=\"page-size\" min={5} max={25} step={5} value={pageSize} onChange={changePageSize} />\r\n\t\t\t</div> */}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const Pagination = withStyles(styles)(pagination)\r\n\r\nconst getAllPagedValues = (current, max) => {\r\n\t// let pages = {}\r\n\r\n\t// for (var index = 0; index < max; index++) {\r\n\t//     pages[index + ''] = index + 1 + ''\r\n\t// }\r\n\r\n\tlet pages = []\r\n\r\n\tfor (var index = 0; index < max; index++) {\r\n\t\tpages.push({ value: index + '', label: index + 1 + '' })\r\n\t}\r\n\r\n\treturn pages\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Input from '@material-ui/core/Input'\r\nimport { Pagination } from './Controls'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnasmes'\r\n// import Radio from '@material-ui/core/Radio'\r\n// import RadioGroup from '@material-ui/core/RadioGroup'\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward'\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport classnames from 'classnames'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst INT_STRING = /^[0-9]+$/\r\nconst PAGE_SIZE = 50\r\n\r\nconst mapFilterProps = ({ filterProps = {}, t }) => {\r\n\treturn Object.keys(filterProps).map(key => {\r\n\t\tconst prop = filterProps[key]\r\n\t\tconst label = prop.label || key\r\n\t\treturn {\r\n\t\t\tlabel: t(label, {\r\n\t\t\t\tisProp: prop.labelIsProp || !prop.label,\r\n\t\t\t\targs: prop.labelArgs || [],\r\n\t\t\t}),\r\n\t\t\tvalue: key,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst mapSortProperties = ({ sortProps = [], t }) => {\r\n\treturn sortProps.map(prop => {\r\n\t\tconst label = prop.label || prop.value\r\n\t\tconst value = (prop.value !== null && prop.value !== undefined\r\n\t\t\t? prop.value\r\n\t\t\t: ''\r\n\t\t).toString()\r\n\r\n\t\treturn {\r\n\t\t\tvalue,\r\n\t\t\tlabel: t(label, { isProp: !prop.label, args: prop.labelArgs || [] }),\r\n\t\t}\r\n\t})\r\n}\r\n\r\nclass ListWithControls extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tconst uiStateId = props.uiStateId\r\n\r\n\t\tconst sortProperties = mapSortProperties({\r\n\t\t\tsortProps: props.sortProperties || [{}],\r\n\t\t\tt: props.t,\r\n\t\t})\r\n\t\t// TODO: update on ComponentWillReceiveProps\r\n\t\tthis.state = {\r\n\t\t\titems: [],\r\n\t\t\tpage: 0, //\r\n\t\t\tsearch: '', //\r\n\t\t\tsortProperties: sortProperties,\r\n\t\t\tfilterProperties: mapFilterProps({\r\n\t\t\t\tfilterProps: props.filterProperties,\r\n\t\t\t\tt: props.t,\r\n\t\t\t}),\r\n\t\t\tfilteredItems: [],\r\n\t\t\tfilterBy: '', //\r\n\t\t\tfilterByValues: [],\r\n\t\t\tfilterByValueFilter: '', //\r\n\t\t\tuiStateId: uiStateId,\r\n\t\t}\r\n\t}\r\n\r\n\tgoToPage(page) {\r\n\t\tthis.setState({ page: parseInt(page, 10) })\r\n\t}\r\n\r\n\thandleChange = (name, value) => {\r\n\t\tlet newStateValue = { [name]: value }\r\n\t\tif (name === 'search') newStateValue.page = 0\r\n\t\tif (name === 'filterBy') {\r\n\t\t\tnewStateValue.filterByValues = [{ label: 'ALL', value: '' }].concat(\r\n\t\t\t\tthis.props.filterProperties[value].values\r\n\t\t\t)\r\n\t\t\tnewStateValue.filterByValueFilter = ''\r\n\t\t}\r\n\t\tthis.setState(newStateValue)\r\n\t}\r\n\r\n\t// For changing redux state\r\n\thandleChangeRxState = (name, value) => {\r\n\t\tthis.props.actions.updateUi(name, value, this.state.uiStateId)\r\n\t}\r\n\r\n\tchangePageSize = (\r\n\t\tname,\r\n\t\t{ itemsLength, page, pages } = {},\r\n\t\tev,\r\n\t\tnewPageSize\r\n\t) => {\r\n\t\t/*\r\n    \tlet currentPageSize = this.props.pageSize\r\n    \tlet currentFirstIndex = page * currentPageSize // To have at least the first item on current page on the next page\r\n\t\tlet nextPage = Math.floor(currentFirstIndex / newPageSize)\r\n\t\t*/\r\n\t\tthis.props.actions.updateUi('pageSize', newPageSize, this.state.uiStateId)\r\n\t}\r\n\r\n\tsearch = ({ item, search, searchMatch }) => {\r\n\t\tconst regex = new RegExp(search, 'i')\r\n\t\tlet matchString = null\r\n\t\tif (typeof searchMatch === 'function') {\r\n\t\t\tmatchString = searchMatch(item)\r\n\t\t} else if (typeof searchMatch === 'string' && !!searchMatch) {\r\n\t\t\tmatchString = searchMatch\r\n\t\t} else {\r\n\t\t\tmatchString = (item.title || '') + (item.description || '')\r\n\t\t}\r\n\r\n\t\tconst match = regex.exec(matchString)\r\n\t\treturn !!match\r\n\t}\r\n\r\n\tfilterItems = ({\r\n\t\titems,\r\n\t\tsearch,\r\n\t\tsortProperty,\r\n\t\tsortOrder,\r\n\t\tpage,\r\n\t\tpageSize,\r\n\t\tsearchMatch,\r\n\t\tfilterBy,\r\n\t\tfilterArchived,\r\n\t}) => {\r\n\t\t// TODO: optimize filter\r\n\t\t// TODO: maybe filter deleted before this?\r\n\t\tlet filtered = (items || []).filter(i => {\r\n\t\t\tconst isItem = !!i && (i.id || i.ipfs)\r\n\t\t\tif (!isItem) return isItem\r\n\r\n\t\t\tif (\r\n\t\t\t\tfilterArchived !== '' &&\r\n\t\t\t\ti.archived !== undefined &&\r\n\t\t\t\tfilterArchived.toString() !== i.archived.toString()\r\n\t\t\t) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\r\n\t\t\tif (filterBy && filterBy.key && filterBy.value) {\r\n\t\t\t\tlet itemValue =\r\n\t\t\t\t\tfilterBy.key.split('.').reduce((o, p) => (o ? o[p] : 'noprop'), i) ||\r\n\t\t\t\t\t''\r\n\r\n\t\t\t\tlet passFilter = itemValue.toString() === filterBy.value.toString()\r\n\r\n\t\t\t\tif (!passFilter) {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet hasSearch = !!search\r\n\t\t\tif (!hasSearch) return isItem\r\n\r\n\t\t\treturn this.search({ item: i, search, searchMatch })\r\n\t\t})\r\n\r\n\t\tif (sortProperty) {\r\n\t\t\tfiltered = filtered.sort((a, b) => {\r\n\t\t\t\tlet propA = a[sortProperty]\r\n\t\t\t\tlet propB = b[sortProperty]\r\n\r\n\t\t\t\tif (INT_STRING.test(propA) && INT_STRING.test(propB)) {\r\n\t\t\t\t\tpropA = bigNumberify(propA)\r\n\t\t\t\t\tpropB = bigNumberify(propB)\r\n\t\t\t\t\treturn (propA.lt(propB) ? -1 : propA.gt(propB) ? 1 : 0) * sortOrder\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (propA < propB ? -1 : propA > propB ? 1 : 0) * sortOrder\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tlet filteredLength = filtered.length\r\n\r\n\t\tlet maxPages = Math.ceil(filteredLength / pageSize)\r\n\r\n\t\tlet paged = filtered.slice(page * pageSize, page * pageSize + pageSize)\r\n\r\n\t\treturn {\r\n\t\t\titems: paged,\r\n\t\t\tpage: page,\r\n\t\t\tpages: maxPages,\r\n\t\t\titemsLength: filteredLength,\r\n\t\t\tpageSize: pageSize,\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet data = this.filterItems({\r\n\t\t\titems: this.props.items,\r\n\t\t\tsearch: this.state.search,\r\n\t\t\tsortProperty:\r\n\t\t\t\tthis.props.sortProperty || this.state.sortProperties[0].value,\r\n\t\t\tsortOrder: this.props.sortOrder || -1,\r\n\t\t\tpage: this.state.page,\r\n\t\t\tpageSize: PAGE_SIZE, // this.props.pageSize || 10,\r\n\t\t\tsearchMatch: this.props.searchMatch,\r\n\t\t\tfilterBy: {\r\n\t\t\t\tkey: this.state.filterBy,\r\n\t\t\t\tvalue: this.state.filterByValueFilter,\r\n\t\t\t},\r\n\t\t\tfilterArchived: this.props.filterArchived || 'false',\r\n\t\t})\r\n\r\n\t\tlet items = data.items\r\n\t\tlet renderItems\r\n\r\n\t\trenderItems = this.props.renderRows\r\n\r\n\t\tconst { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Paper>\r\n\t\t\t\t<div className={classes.controlsRoot}>\r\n\t\t\t\t\t<div className={classes.controls}>\r\n\t\t\t\t\t\t<FormControl className={classnames(classes.flexItem)}>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor='search'>\r\n\t\t\t\t\t\t\t\t{t('LIST_CONTROL_LABEL_SEARCH')}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname='search'\r\n\t\t\t\t\t\t\t\tid='search'\r\n\t\t\t\t\t\t\t\tvalue={this.state.search}\r\n\t\t\t\t\t\t\t\tonChange={ev => this.handleChange('search', ev.target.value)}\r\n\t\t\t\t\t\t\t\tstartAdornment={\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<div className={classnames(classes.flexRow, classes.flexItem)}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_SORT')}\r\n\t\t\t\t\t\t\t\tonChange={this.handleChangeRxState.bind(this, 'sortProperty')}\r\n\t\t\t\t\t\t\t\tsource={this.state.sortProperties}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tthis.props.sortProperty || this.state.sortProperties[0].value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\thtmlId='sort-by-prop'\r\n\t\t\t\t\t\t\t\tname='sortProperty'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor={this.props.sortOrder === 1 ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleChangeRxState.bind(this, 'sortOrder', 1)}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ArrowUpwardIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor={this.props.sortOrder === -1 ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleChangeRxState.bind(this, 'sortOrder', -1)}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ArrowDownwardIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{/* {this.props.filterProperties &&\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classnames(classes.flexRow)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tclassName={classnames(classes.flexItem)}\r\n\t\t\t\t\t\t\t\t\tauto\r\n\t\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_FILTER_BY')}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange.bind(this, 'filterBy')}\r\n\t\t\t\t\t\t\t\t\tsource={this.state.filterProperties}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.filterBy !== null ? this.state.filterBy.toString() : ''}\r\n\t\t\t\t\t\t\t\t\thtmlId='filter-by-prop-dd'\r\n\t\t\t\t\t\t\t\t\tname='filterBy'\r\n\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tclassName={classnames(classes.flexItem)}\r\n\t\t\t\t\t\t\t\t\tauto\r\n\t\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_FILTER_BY_VALUE')}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange.bind(this, 'filterByValueFilter')}\r\n\t\t\t\t\t\t\t\t\tsource={mapSortProperties({ sortProps: this.state.filterByValues, t: this.props.t })}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.filterByValueFilter !== null ? this.state.filterByValueFilter.toString() : ''}\r\n\t\t\t\t\t\t\t\t\thtmlId='filter-by-value-dd'\r\n\t\t\t\t\t\t\t\t\tname='filterByValueFilter'\r\n\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.filterBy}\r\n\t\t\t\t\t\t\t\t\thelperText={t('HELPER_TXT_FILTER_BY_VALUE')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t} */}\r\n\r\n\t\t\t\t\t\t{/* {this.props.archive &&\r\n\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\tname='archived'\r\n\t\t\t\t\t\t\t\tvalue={typeof this.props.filterArchived === 'string' ? this.props.filterArchived.toString() : 'false'}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeRxState('filterArchived', ev.target.value)}\r\n\t\t\t\t\t\t\t\tclassName={classnames(classes.flexRow, classes.flexItem)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='false' control={<Radio color='primary' />} label={t('LABEL_ACTIVE')} />\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='true' control={<Radio color='primary' />} label={t('LABEL_ARCHIVED')} />\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='' control={<Radio color='primary' />} label={t('LABEL_ALL')} />\r\n\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t} */}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classnames(classes.controls, classes.bottomControls)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tpage={data.page}\r\n\t\t\t\t\t\t\t\tpages={data.pages}\r\n\t\t\t\t\t\t\t\tpageSize={PAGE_SIZE || this.props.pageSize || 10}\r\n\t\t\t\t\t\t\t\titemsLength={data.itemsLength}\r\n\t\t\t\t\t\t\t\tgoToPage={this.goToPage.bind(this)}\r\n\t\t\t\t\t\t\t\tgoToLastPage={this.goToPage.bind(this, data.pages - 1)}\r\n\t\t\t\t\t\t\t\tgoToNextPage={this.goToPage.bind(this, data.page + 1)}\r\n\t\t\t\t\t\t\t\tgoToFirstPage={this.goToPage.bind(this, 0)}\r\n\t\t\t\t\t\t\t\tgoToPrevPage={this.goToPage.bind(this, data.page - 1)}\r\n\t\t\t\t\t\t\t\tchangePageSize={this.changePageSize.bind(this, 'pageSize', {\r\n\t\t\t\t\t\t\t\t\tpage: data.page,\r\n\t\t\t\t\t\t\t\t\tpages: data.pages,\r\n\t\t\t\t\t\t\t\t\titemsLength: data.itemsLength,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<div className={classnames(classes.listRoot)}>{renderItems(items)}</div>\r\n\t\t\t</Paper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nListWithControls.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titemRenderer: PropTypes.func,\r\n\tside: PropTypes.string.isRequired,\r\n\tobjModel: PropTypes.func,\r\n\tsortProperties: PropTypes.array.isRequired,\r\n\tfilterProperties: PropTypes.object,\r\n\tuiStateId: PropTypes.string.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\r\n\t// TODO: A little hacky, maybe find a better way\r\n\t// Gets the last path in URL. ex: https://localhost:3000/dashboard/publisher/slots -> slots\r\n\tconst uiStateId = props.uiStateId || 'default'\r\n\treturn {\r\n\t\trowsView: !!persist.ui[props.viewModeId],\r\n\t\tpageSize: persist.ui[uiStateId]\r\n\t\t\t? persist.ui[uiStateId]['pageSize'] || 10\r\n\t\t\t: 10,\r\n\t\tsortProperty: persist.ui[uiStateId]\r\n\t\t\t? persist.ui[uiStateId]['sortProperty']\r\n\t\t\t: null,\r\n\t\tsortOrder: persist.ui[uiStateId]\r\n\t\t\t? persist.ui[uiStateId]['sortOrder'] || -1\r\n\t\t\t: -1,\r\n\t\tfilterArchived: persist.ui[uiStateId]\r\n\t\t\t? persist.ui[uiStateId]['filterArchived'] || false\r\n\t\t\t: false,\r\n\t\tside: memory.nav.side,\r\n\t\taccount: persist.account,\r\n\t\tsortProperties: props.sortProperties || [],\r\n\t\tfilterProperties: props.filterProperties,\r\n\t\tuiStateId: uiStateId,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(ListWithControls)))\r\n","import React, { Component } from 'react'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableBody from '@material-ui/core/TableBody'\r\n\r\nclass Rows extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\t// TODO: maybe in the store?\r\n\t\t\tselected: [],\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\t// Reset selected\r\n\t\t// TODO: make better check because this will always  return true\r\n\t\tif (nextProps.rows !== this.props.rows) {\r\n\t\t\tthis.setState({ selected: [] })\r\n\t\t}\r\n\t}\r\n\r\n\thandleRowSelect = selected => {\r\n\t\tlet newSelected = selected.map(index => this.props.rows[index].id)\r\n\t\tthis.setState({ selected: newSelected })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { side, rows, padding, itemType, size } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Table size={size || 'small'} padding={padding || 'default'}>\r\n\t\t\t\t\t{this.props.tableHeadRenderer({ selected: this.state.selected })}\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{rows.map((u, i) => {\r\n\t\t\t\t\t\t\tlet to = `/dashboard/${side}/${itemType}/${u.id || u.ipfs}`\r\n\t\t\t\t\t\t\tlet selected = this.state.selected.indexOf(u.id) !== -1\r\n\t\t\t\t\t\t\treturn this.props.rowRenderer(u, i, { to, selected, itemType })\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Rows\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Stepper } from 'react-step/lib/stepper'\r\nimport { withStepper } from 'react-step/lib/with-stepper'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t></MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nclass MaterialStepper extends React.Component {\r\n\t// onComplete() {\r\n\t//     // console.log('currPage', this.currPage)\r\n\t//     let props = this.props\r\n\t//     let page = props.pages[props.currentPage]\r\n\r\n\t//     // console.log('props.pages[props.currentPage]', page.component)\r\n\t// }\r\n\r\n\tgoToPage(nextStep) {\r\n\t\tlet canAdvance =\r\n\t\t\tnextStep > this.props.currentPage && this.canAdvanceNextToPage()\r\n\t\tlet canGoBack = nextStep < this.props.currentPage\r\n\r\n\t\tif (canAdvance || canGoBack) {\r\n\t\t\tthis.props.setPageIndex(nextStep)\r\n\t\t}\r\n\t}\r\n\r\n\tcanAdvanceNextToPage() {\r\n\t\t/* TODO: add check for optional steps that can be skipped\r\n\t\t */\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\tif (\r\n\t\t\tthis.props.canAdvance &&\r\n\t\t\t!Object.keys(this.props.validations[page.props.validateId] || {}).length\r\n\t\t) {\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tisValidPage() {\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\treturn !Object.keys(this.props.validations[page.props.validateId] || {})\r\n\t\t\t.length\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { pages, component, validations, currentPage, t, classes, ...props } = {\r\n\t\t\t...this.props,\r\n\t\t}\r\n\t\tlet page = pages[currentPage]\r\n\t\tlet Comp = page.component\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper>\r\n\t\t\t\t\t<StepperNav\r\n\t\t\t\t\t\tclassName={classes.stepperNav}\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\tgoToPage={this.goToPage.bind(this)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={classes.pageContent}>{<Comp {...page.props} />}</div>\r\n\r\n\t\t\t\t\t<div className={classes.controls}>\r\n\t\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t\t{props.canReverse ? (\r\n\t\t\t\t\t\t\t\t<Button onClick={() => props.setPageIndex(currentPage - 1)}>\r\n\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t\t{page.cancelBtn ? <page.cancelBtn /> : null}\r\n\t\t\t\t\t\t\t{this.canAdvanceNextToPage() && !page.completeBtn ? (\r\n\t\t\t\t\t\t\t\t<Button onClick={this.goToPage.bind(this, currentPage + 1)}>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : !page.completeBtn ? (\r\n\t\t\t\t\t\t\t\t<Button label='Continue' disabled>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{page.completeBtn && this.isValidPage() ? (\r\n\t\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst WithMaterialStepper = withStepper(\r\n\twithStyles(styles)(Translate(MaterialStepper))\r\n)\r\n\r\nclass MyMaterialStepper extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Stepper pages={this.props.pages} style={{ display: 'block' }}>\r\n\t\t\t\t<WithMaterialStepper\r\n\t\t\t\t\titemType={this.props.itemType}\r\n\t\t\t\t\tvalidations={this.props.validations}\r\n\t\t\t\t/>\r\n\t\t\t</Stepper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nMyMaterialStepper.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpages: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tlet persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tvalidations: memory.validations,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MyMaterialStepper)\r\n","export const styles = {\r\n\troot: {\r\n\t\tcolor: 'purple',\r\n\t\t'&$active': {\r\n\t\t\tcolor: 'green',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tcolor: 'yellow',\r\n\t},\r\n\tpagePaper: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 115,\r\n\t},\r\n\tpageContent: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 20,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t\tbottom: 50,\r\n\t\tpadding: 20,\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t'@media(max-width:500px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tcontrols: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 5,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t},\r\n\tright: {\r\n\t\ttextAlign: 'right',\r\n\t\tdisplay: 'inline-block',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '86%',\r\n\t\t},\r\n\t},\r\n\tleft: {\r\n\t\tdisplay: 'inline-block',\r\n\t\ttextAlign: 'left',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '14%',\r\n\t\t},\r\n\t},\r\n\tmobileStepper: {\r\n\t\twidth: '100%',\r\n\t\t'& div': {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '10px',\r\n\t\t},\r\n\t},\r\n\tmobileStepLabel: {\r\n\t\t'& span': {\r\n\t\t\tfontSize: '24px',\r\n\t\t\tmargin: '14px auto',\r\n\t\t},\r\n\t\ttextAlign: 'center',\r\n\t\twidth: 'auto',\r\n\t},\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n// import { connect } from 'react-redux'\r\n// import { bindActionCreators } from 'redux'\r\n// import actions from 'actions'\r\nimport MaterialStepper from 'components/dashboard/forms/stepper/MaterialUiStepper'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass FormSteps extends Component {\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pages = []\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tSaveBtn,\r\n\t\t\tCancelBtn,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages,\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\tconst cancelButton = () => (\r\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t)\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tstepsPages.forEach((page, index) => {\r\n\t\t\tpages.push({\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page || page),\r\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\tpages.push({\r\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\r\n\t\t\tcompleteBtn: () => (\r\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t),\r\n\t\t\tcancelBtn: cancelButton,\r\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\r\n\t\t\tprops: {\r\n\t\t\t\t...this.props,\r\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t// <div style={{ textAlign: 'left' }}>\r\n\t\t\t<MaterialStepper pages={pages} />\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\titemPages: PropTypes.arrayOf(PropTypes.func),\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default Translate(FormSteps)\r\n","import grey from '@material-ui/core/colors/grey'\r\n\r\nexport const styles = theme => {\r\n\tconst spacing = theme.spacing(3)\r\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\tminHeight: `${fullHeight}px`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: grey[200], // TODO: color,\r\n\t\t\t// maxHeight: `${fullHeight}`,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t\t'@media(max-height:823px)': {\r\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 0,\r\n\t\t\t// left: 0,\r\n\t\t\t// bottom: 0,\r\n\t\t\t// right: 0,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: 86,\r\n\t\t\tright: 40,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { CircularProgress } from '@material-ui/core'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\n// TODO: fix responsive styles\r\nconst propRow = ({\r\n\tclasses,\r\n\tleft,\r\n\tright,\r\n\tclassName,\r\n\tclassNameLeft,\r\n\tclassNameRight,\r\n\tstyle = {},\r\n}) => (\r\n\t<Grid\r\n\t\titem\r\n\t\tcontainer\r\n\t\tspacing={2}\r\n\t\txs={12}\r\n\t\tclassName={classnames(className)}\r\n\t\tstyle={style}\r\n\t>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={4}\r\n\t\t\tlg={3}\r\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\r\n\t\t>\r\n\t\t\t{left}\r\n\t\t</Grid>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={8}\r\n\t\t\tlg={9}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tclasses.rightCol,\r\n\t\t\t\tclasses.breakLong,\r\n\t\t\t\tclassNameRight\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t{right}\r\n\t\t</Grid>\r\n\t</Grid>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentBox, className)}>{children}</div>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentBody, className)}>{children}</div>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div> {msg} </div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nexport const PropRow = withStyles(styles)(propRow)\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\n","import React, { Component, Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Translate from 'components/translate/Translate'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n} from 'components/common/dialog/content'\r\nimport { logOut, isDemoMode } from 'services/store-data/auth'\r\nimport DEMO_IMAGE from 'resources/rekt-eddie.png'\r\nimport Img from 'components/common/img/Img'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = props => {\r\n\treturn <Slide direction='up' {...props} />\r\n}\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass WithDialog extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\topen: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t\tconst shouldUpdate =\r\n\t\t\t\tthis.state.open !== nextState.open ||\r\n\t\t\t\tJSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\r\n\t\t\treturn shouldUpdate\r\n\t\t}\r\n\r\n\t\thandleToggle = async () => {\r\n\t\t\tconst { onBeforeOpen } = this.props\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !this.state.open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ open: !this.state.open })\r\n\t\t}\r\n\r\n\t\tcloseDialog = () => {\r\n\t\t\tthis.setState({ open: false })\r\n\t\t}\r\n\r\n\t\trenderDemoModeAction = () => {\r\n\t\t\tconst { classes, t } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t{t('DEMO_MODE_ACTION_DESCRIPTION')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button onClick={logOut} variant='contained' color='primary'>\r\n\t\t\t\t\t\t\t\t{t('DEMO_GO_AUTH_BTN')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tclassName={classes.demoImg}\r\n\t\t\t\t\t\t\t\tallowFullscreen={false}\r\n\t\t\t\t\t\t\t\tsrc={DEMO_IMAGE}\r\n\t\t\t\t\t\t\t\talt={'Demo image'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\ticonButton,\r\n\t\t\t\ttextButton,\r\n\t\t\t\tfabButton,\r\n\t\t\t\tvariant,\r\n\t\t\t\tfabVariant,\r\n\t\t\t\tcolor,\r\n\t\t\t\tsize,\r\n\t\t\t\tmini,\r\n\t\t\t\tclasses,\r\n\t\t\t\tt,\r\n\t\t\t\tbtnLabelArgs,\r\n\t\t\t\tdisabled,\r\n\t\t\t\tclassName,\r\n\t\t\t\ticon,\r\n\t\t\t\ttitle,\r\n\t\t\t\tdialogActions,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\r\n\t\t\tlet ButtonComponent = Button\r\n\r\n\t\t\tconst btnProps = {\r\n\t\t\t\tcolor,\r\n\t\t\t\tsize,\r\n\t\t\t\tmini,\r\n\t\t\t\tvariant,\r\n\t\t\t}\r\n\r\n\t\t\tif (iconButton) {\r\n\t\t\t\tButtonComponent = IconButton\r\n\t\t\t} else if (textButton) {\r\n\t\t\t\tButtonComponent = TextBtn\r\n\t\t\t} else if (fabButton) {\r\n\t\t\t\tButtonComponent = Fab\r\n\t\t\t}\r\n\r\n\t\t\tconst btnLabel = t(this.props.btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\tconst isDemo = isDemoMode()\r\n\r\n\t\t\tconst { open } = this.state\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ButtonComponent\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\taria-label={btnLabel}\r\n\t\t\t\t\t\tlabel={btnLabel}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t\t\tif (onClick) onClick()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\t\t// style={this.props.style}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{icon && (\r\n\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\tclassName={classnames({ [classes.btnIconLeft]: !iconButton })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{icon}\r\n\t\t\t\t\t\t\t</Icon>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{!iconButton && btnLabel}\r\n\t\t\t\t\t</ButtonComponent>\r\n\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\t// disableBackdropClick\r\n\t\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t\t// fullScreen\r\n\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t\t// onEscKeyDown={this.handleToggle}\r\n\t\t\t\t\t\t// onOverlayClick={this.handleToggle}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* <AppBar className={classes.appBar}>\r\n                            <Toolbar> */}\r\n\t\t\t\t\t\t<DialogTitle disableTypography>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tvariant='title'\r\n\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\ttitle: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(title)}\r\n\t\t\t\t\t\t\t\t<IconButton onClick={this.handleToggle}>\r\n\t\t\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t\t{/* </Toolbar>\r\n                        </AppBar> */}\r\n\t\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t\t{isDemo ? (\r\n\t\t\t\t\t\t\t\t// NOTE: ugly but it's temp and saves a lot of work!\r\n\t\t\t\t\t\t\t\tthis.renderDemoModeAction()\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Decorated {...rest} closeDialog={this.closeDialog} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t\t</Dialog>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string.isRequired,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn Translate(withStyles(styles)(WithDialog))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdUnit } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdUnit',\r\n\t\t\t\tAdUnit\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem, account, addTo } = this.props\r\n\t\t\tnewItem.owner = account.wallet.address\r\n\r\n\t\t\tactions.addItem(newItem, addTo, account.wallet.authSig)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nclass AdUnitBasic extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { newItem } = props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (\r\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\r\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\r\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\r\n\t\t) {\r\n\t\t\tthis.addUtmParameters()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.title)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.description)\r\n\r\n\t\tthis.props.validate('description', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateTargetUrl(targetUrl, dirty) {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t\tif (!result.error) this.addUtmParameters(targetUrl)\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adUnitPost.type)\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\taddUtmParameters() {\r\n\t\tconst { handleChange, newItem } = this.props\r\n\t\tconst { targetUrl, title, type, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tif (!!targetUrl) {\r\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\r\n\t\t\t\ttargetUrl,\r\n\t\t\t\tcampaign: title,\r\n\t\t\t\tcontent: type,\r\n\t\t\t\tremoveFromUrl: !addUtmLink,\r\n\t\t\t})\r\n\t\t\thandleChange('targetUrl', newTargetUrl)\r\n\t\t}\r\n\t}\r\n\r\n\thandleChangeAddUtmLink(ev) {\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.addUtmLink = ev.target.checked\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\r\n\t\tconst { targetUrl, type, title, description, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\t\tconst errTargetUrl = invalidFields['targetUrl']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\t\tthis.validateDescription(title, true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(title, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\r\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\r\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\r\n\r\nexport default Translate(NewAdUnitBasic)\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({\r\n\ttargetUrl,\r\n\tcampaign,\r\n\tcontent,\r\n\tremoveFromUrl,\r\n}) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst newQuery = {}\r\n\t\t\tif (removeFromUrl) {\r\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\r\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\r\n\t\t\t\t\t\tnewQuery[key] = value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = newQuery\r\n\t\t\t} else {\r\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\r\n\t\t\t\tif (campaign) {\r\n\t\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t\t}\r\n\t\t\t\tif (content) {\r\n\t\t\t\t\tquery['utm_content'] = content\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = query\r\n\t\t\t}\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x100'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdUnitMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem, validate } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tif (tempUrl) {\r\n\t\t\tconst isValidMediaSize = temp.width === width && temp.height === height\r\n\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: isValidMediaSize,\r\n\t\t\t\terr: {\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t},\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { newItem, t, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\tmime={temp.mime || ''}\r\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\r\n\r\nexport default Translate(NewAdUnitMedia)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport const renderInput = inputProps => {\r\n\tconst { InputProps, classes, ref, ...other } = inputProps\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tInputProps={{\r\n\t\t\t\tinputRef: ref,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t},\r\n\t\t\t\t...InputProps,\r\n\t\t\t}}\r\n\t\t\t{...other}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const renderSuggestion = ({\r\n\tsuggestion,\r\n\tindex,\r\n\titemProps,\r\n\thighlightedIndex,\r\n\tselectedItem,\r\n\tshowSelected,\r\n}) => {\r\n\tconst isHighlighted = highlightedIndex === index\r\n\t// TODO: make it better\r\n\t// Note wo work with obj and array\r\n\tconst isSelected =\r\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\r\n\t\t\tsuggestion.value\r\n\t\t) > -1\r\n\r\n\tif (!showSelected && isSelected) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<MenuItem\r\n\t\t\t{...itemProps}\r\n\t\t\tkey={suggestion.value || suggestion.label}\r\n\t\t\tselected={isHighlighted}\r\n\t\t\tcomponent='div'\r\n\t\t\tstyle={{\r\n\t\t\t\tfontWeight: isSelected ? 500 : 400,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{suggestion.label}\r\n\t\t</MenuItem>\r\n\t)\r\n}\r\n\r\nconst newSuggestion = inputValue => {\r\n\treturn {\r\n\t\tlabel: `${translate(\r\n\t\t\t'CREATE_TAG_LABEL'\r\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\r\n\t\tvalue: inputValue.toLowerCase().trim(),\r\n\t}\r\n}\r\n\r\nrenderSuggestion.propTypes = {\r\n\thighlightedIndex: PropTypes.number,\r\n\tindex: PropTypes.number,\r\n\titemProps: PropTypes.object,\r\n\tselectedItem: PropTypes.string,\r\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\r\n}\r\n\r\nexport const getSuggestions = (\r\n\tinputValue = '',\r\n\tsource,\r\n\tallowCreate,\r\n\tvalidateCreation\r\n) => {\r\n\tif (!inputValue) {\r\n\t\treturn source\r\n\t} else {\r\n\t\tinputValue = inputValue.toLowerCase().trim()\r\n\r\n\t\tsource = source.filter(suggestion => {\r\n\t\t\treturn (\r\n\t\t\t\t!inputValue ||\r\n\t\t\t\tsuggestion.label\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.trim()\r\n\t\t\t\t\t.indexOf(inputValue) !== -1\r\n\t\t\t)\r\n\t\t})\r\n\r\n\t\t// Making sure that an option to create a new item will exist when needed\r\n\t\tconst values = source.map(item => {\r\n\t\t\treturn item.value\r\n\t\t})\r\n\r\n\t\tif (\r\n\t\t\t!values.includes(inputValue) &&\r\n\t\t\tallowCreate &&\r\n\t\t\t(!validateCreation || validateCreation(inputValue))\r\n\t\t) {\r\n\t\t\tsource.push(newSuggestion(inputValue))\r\n\t\t}\r\n\r\n\t\treturn source\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport keycode from 'keycode'\r\nimport Downshift from 'downshift'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\r\n\r\nclass DownshiftMultiple extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tinputValue: '',\r\n\t\t\tselectedItem: props.value || [],\r\n\t\t}\r\n\t}\r\n\r\n\thandleKeyDown = event => {\r\n\t\tconst { inputValue, selectedItem } = this.state\r\n\t\tif (\r\n\t\t\tselectedItem.length &&\r\n\t\t\t!inputValue.length &&\r\n\t\t\tkeycode(event) === 'backspace'\r\n\t\t) {\r\n\t\t\tconst newItemValue = selectedItem.slice(0, selectedItem.length - 1)\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedItem: newItemValue,\r\n\t\t\t})\r\n\r\n\t\t\tthis.props.onChange(newItemValue)\r\n\t\t}\r\n\t}\r\n\r\n\thandleInputChange = event => {\r\n\t\tconst value = event.target.value.toLowerCase()\r\n\t\tthis.setState({ inputValue: value })\r\n\t}\r\n\r\n\thandleChange = item => {\r\n\t\tlet { selectedItem } = this.state\r\n\r\n\t\tif (selectedItem.indexOf(item.value) === -1) {\r\n\t\t\tselectedItem = [...selectedItem, item.value]\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tinputValue: '',\r\n\t\t\tselectedItem,\r\n\t\t})\r\n\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\thandleDelete = item => () => {\r\n\t\tconst selectedItem = [...this.state.selectedItem]\r\n\t\tselectedItem.splice(selectedItem.indexOf(item), 1)\r\n\r\n\t\tthis.setState({ selectedItem })\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\t/**\r\n\t * source {'propValue': 'propsLabel'} - skip one mapping to get the label for Chip\r\n\t */\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tsource,\r\n\t\t\tlabel,\r\n\t\t\tid,\r\n\t\t\tplaceholder,\r\n\t\t\thelperText,\r\n\t\t\topenOnClick,\r\n\t\t\tallowCreate,\r\n\t\t\tvalidateCreation,\r\n\t\t} = this.props\r\n\t\tconst { inputValue, selectedItem } = this.state\r\n\t\tconst allValues = Object.keys(source).map(key => {\r\n\t\t\treturn { value: key, label: source[key] }\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t<Downshift\r\n\t\t\t\tinputValue={inputValue}\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\tselectedItem={selectedItem}\r\n\t\t\t\t// defaultIsOpen={true}\r\n\t\t\t\titemToString={item => item.label}\r\n\t\t\t>\r\n\t\t\t\t{({\r\n\t\t\t\t\tgetInputProps,\r\n\t\t\t\t\tgetItemProps,\r\n\t\t\t\t\tisOpen,\r\n\t\t\t\t\tinputValue: inputValue2,\r\n\t\t\t\t\tselectedItem: selectedItem2,\r\n\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\ttoggleMenu,\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<div className={classes.container}>\r\n\t\t\t\t\t\t{renderInput({\r\n\t\t\t\t\t\t\tfullWidth: true,\r\n\t\t\t\t\t\t\tclasses,\r\n\t\t\t\t\t\t\thelperText,\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\tInputProps: getInputProps({\r\n\t\t\t\t\t\t\t\tstartAdornment: selectedItem.map(item => (\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tkey={item}\r\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\tlabel={source[item]}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\tonDelete={this.handleDelete(item)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)),\r\n\t\t\t\t\t\t\t\tonChange: this.handleInputChange,\r\n\t\t\t\t\t\t\t\tonKeyDown: this.handleKeyDown,\r\n\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu(),\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t{isOpen ? (\r\n\t\t\t\t\t\t\t<Paper className={classes.paper} square>\r\n\t\t\t\t\t\t\t\t{getSuggestions(\r\n\t\t\t\t\t\t\t\t\tinputValue2,\r\n\t\t\t\t\t\t\t\t\tallValues,\r\n\t\t\t\t\t\t\t\t\tallowCreate,\r\n\t\t\t\t\t\t\t\t\tvalidateCreation\r\n\t\t\t\t\t\t\t\t).map((suggestion, index) =>\r\n\t\t\t\t\t\t\t\t\trenderSuggestion({\r\n\t\t\t\t\t\t\t\t\t\tsuggestion,\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\r\n\t\t\t\t\t\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\t\t\t\t\t\tselectedItem: selectedItem2,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Downshift>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDownshiftMultiple.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default DownshiftMultiple\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Downshift from 'downshift'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\r\n\r\nclass DownshiftSingle extends React.Component {\r\n\thandleChange = item => {\r\n\t\tconst selectedItem = item.value || item.label\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tsource,\r\n\t\t\tlabel,\r\n\t\t\tid,\r\n\t\t\tplaceholder,\r\n\t\t\thelperText,\r\n\t\t\tshowSelected,\r\n\t\t\tvalue,\r\n\t\t\topenOnClick,\r\n\t\t\tallowCreate,\r\n\t\t\tvalidateCreation,\r\n\t\t} = this.props\r\n\t\tconst allValues = source //Object.keys(source).map(key => { return { value: key, label: source[key] } })\r\n\r\n\t\treturn (\r\n\t\t\t<Downshift\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\titemToString={item => (item || {}).label || item || ''}\r\n\t\t\t\tselectedItem={value}\r\n\t\t\t>\r\n\t\t\t\t{({\r\n\t\t\t\t\tgetInputProps,\r\n\t\t\t\t\tgetItemProps,\r\n\t\t\t\t\tisOpen,\r\n\t\t\t\t\tinputValue,\r\n\t\t\t\t\tselectedItem,\r\n\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\ttoggleMenu,\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<div className={classes.container}>\r\n\t\t\t\t\t\t{renderInput({\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\tvalue: inputValue,\r\n\t\t\t\t\t\t\tfullWidth: true,\r\n\t\t\t\t\t\t\tclasses,\r\n\t\t\t\t\t\t\thelperText,\r\n\t\t\t\t\t\t\tInputProps: getInputProps({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu(),\r\n\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t{isOpen ? (\r\n\t\t\t\t\t\t\t<Paper className={classes.paper} square>\r\n\t\t\t\t\t\t\t\t{getSuggestions(\r\n\t\t\t\t\t\t\t\t\tinputValue,\r\n\t\t\t\t\t\t\t\t\tallValues,\r\n\t\t\t\t\t\t\t\t\tallowCreate,\r\n\t\t\t\t\t\t\t\t\tvalidateCreation\r\n\t\t\t\t\t\t\t\t).map((suggestion, index) =>\r\n\t\t\t\t\t\t\t\t\trenderSuggestion({\r\n\t\t\t\t\t\t\t\t\t\tsuggestion,\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\r\n\t\t\t\t\t\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\t\t\t\t\t\tselectedItem,\r\n\t\t\t\t\t\t\t\t\t\tshowSelected,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Downshift>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDownshiftSingle.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default DownshiftSingle\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport DownshiftMultiple from './DownshiftMultiple'\r\nimport DownshiftSingle from './DownshiftSingle'\r\n\r\nfunction Autocomplete(props) {\r\n\tconst { classes, source, multiple, ...rest } = props\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{multiple ? (\r\n\t\t\t\t<DownshiftMultiple classes={classes} source={source} {...rest} />\r\n\t\t\t) : (\r\n\t\t\t\t<DownshiftSingle classes={classes} source={source} {...rest} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(Autocomplete)\r\n","export const styles = theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 250,\r\n\t},\r\n\tcontainer: {\r\n\t\tflexGrow: 1,\r\n\t\tposition: 'relative',\r\n\t},\r\n\tpaper: {\r\n\t\tposition: 'absolute',\r\n\t\tzIndex: 1,\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\toverflow: 'auto',\r\n\t\tmaxHeight: 150,\r\n\t},\r\n\tchip: {\r\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\r\n\t},\r\n\tinputRoot: {\r\n\t\tflexWrap: 'wrap',\r\n\t},\r\n})\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcLocations = autocompleteLocationsSingleSelect()\r\nconst AcGenders = autocompleteGendersSingleSelect()\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n}\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdUnitTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: [...(targets || [])],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\thandleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource,\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t}) => {\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={'target-' + index}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\tonChange={newValue =>\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t// classes={{ container: classes.slider }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={1} md={1}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{ source, collection, label, placeholder, target = {} } = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\r\n\r\nexport default Translate(NewAdUnitTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\r\nimport WcIcon from '@material-ui/icons/Wc'\r\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\r\nimport CompareArrows from '@material-ui/icons/CompareArrows'\r\n\r\nconst targetIcon = {\r\n\tlocation: LocationOnIcon,\r\n\tgender: WcIcon,\r\n\tage: ChildCareIcon,\r\n}\r\n\r\nconst getTargetType = tag => {\r\n\tconst type = tag.split('_')[0] || 'tags'\r\n\treturn type\r\n}\r\n\r\nclass UnitTargets extends Component {\r\n\ttargetArrayValues = (target, type, t, index) => {\r\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\r\n\t\treturn (\r\n\t\t\t<span key={target.tag + target.score + index}>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t<TargetIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\r\n\t\t\t\t\t\tsecondary={target.score}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Divider />\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\r\n\t\t<List\r\n\t\t\tdense\r\n\t\t\tsubheader={subHeader ? <ListSubheader caption={t(subHeader)} /> : null}\r\n\t\t>\r\n\t\t\t{targets.map(target => {\r\n\t\t\t\tconst type = getTargetType(target.tag)\r\n\t\t\t\treturn this.targetArrayValues(target, type, t)\r\n\t\t\t})}\r\n\t\t</List>\r\n\t)\r\n\r\n\trender() {\r\n\t\treturn <this.TargetsList {...this.props} />\r\n\t}\r\n}\r\n\r\nUnitTargets.propTypes = {\r\n\ttargets: PropTypes.array.isRequired,\r\n\tsubHeader: PropTypes.string,\r\n\tt: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default UnitTargets\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nclass AdUnitFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst { type, title, description, temp, targeting } = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\r\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{targeting && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Campaign } from 'adex-models'\r\n\r\nexport default function NewCampaignHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'Campaign',\r\n\t\t\t\tCampaign\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = async () => {\r\n\t\t\tconst { actions, newItem, account } = this.props\r\n\t\t\tconst { temp } = newItem\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.waitingAction = true\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tawait actions.openCampaign({ campaign: newItem, account })\r\n\r\n\t\t\tnewTemp.waitingAction = false\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\r\n\t\tconst adUnits = persist.items['AdUnit'] || {}\r\n\t\tconst adUnitsArray = Array.from(Object.values(adUnits)) || []\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\r\n\t\t\tadUnits,\r\n\t\t\tadUnitsArray,\r\n\t\t\tspinner: memory.spinners['opening-campaign'],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport { AdUnit } from 'adex-models'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport { SORT_PROPERTIES_ITEMS, FILTER_PROPERTIES_ITEMS } from 'constants/misc'\r\n\r\nclass CampaignUnits extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tselected:\r\n\t\t\t\tprops.newItem.adUnits.reduce((selected, unit) => {\r\n\t\t\t\t\tselected[unit.ipfs] = true\r\n\t\t\t\t\treturn selected\r\n\t\t\t\t}, {}) || {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateUnits(newItem.adUnits, true)\r\n\t}\r\n\r\n\tvalidateUnits(adUnits, dirty) {\r\n\t\tconst isValid = !!adUnits.length\r\n\t\tthis.props.validate('adUnits', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_ADUNITS_REQIURED' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\thandleSelect = (ipfs, checked) => {\r\n\t\tconst newSelected = { ...this.state.selected }\r\n\t\tconst { adUnits, handleChange } = this.props\r\n\r\n\t\tif (checked) {\r\n\t\t\tnewSelected[ipfs] = true\r\n\t\t} else {\r\n\t\t\tdelete newSelected[ipfs]\r\n\t\t}\r\n\r\n\t\tthis.setState({ selected: newSelected })\r\n\t\tconst units = Object.keys(newSelected).map(key => {\r\n\t\t\treturn adUnits[key]\r\n\t\t})\r\n\r\n\t\thandleChange('adUnits', units)\r\n\t\tthis.validateUnits(units, true)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { adUnitsArray, t } = this.props\r\n\t\tconst hasAdUnits = adUnitsArray && adUnitsArray.length\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t\tdirection={hasAdUnits ? '' : 'column'}\r\n\t\t\t\t\talignItems={hasAdUnits ? '' : 'center'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\t\t\t\tobjModel={AdUnit}\r\n\t\t\t\t\t\t\t\t\tselectMode\r\n\t\t\t\t\t\t\t\t\tselectedItems={this.state.selected}\r\n\t\t\t\t\t\t\t\t\tonSelect={(unit, checked) => {\r\n\t\t\t\t\t\t\t\t\t\tthis.handleSelect(unit, checked)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\titems={adUnitsArray}\r\n\t\t\t\t\t\t\t\t\tlistMode='rows'\r\n\t\t\t\t\t\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\t\t\t\t\t\tviewModeId={'newCampaignAdUnits'}\r\n\t\t\t\t\t\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignUnits.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n\tadUnits: PropTypes.object.isRequired,\r\n\tadUnitsArray: PropTypes.array.isRequired,\r\n}\r\n\r\nconst NewCampaignUnits = NewCampaignHoc(CampaignUnits)\r\n\r\nexport default Translate(NewCampaignUnits)\r\n","import React, { Component } from 'react'\r\nimport { DateTimePicker as MuiDateTimePicker } from 'material-ui-pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CalendarIcon from '@material-ui/icons/DateRange'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <CalendarIcon />,\r\n\ticonColor,\r\n\tonIconClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DateTimePicker extends Component {\r\n\trender() {\r\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDateTimePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { utils } from 'ethers'\r\nimport { validations } from 'adex-models'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { totalFeesFormatted } from 'services/smart-contracts/actions/core'\r\nconst moment = new MomentUtils()\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE = '0'\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE = '0'\r\n\r\nconst AdvPlatformValidators = {\r\n\t[VALIDATOR_LEADER_ID]: {\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfee: VALIDATOR_LEADER_FEE,\r\n\t},\r\n}\r\n\r\nconst PubPlatformValidators = {\r\n\t[VALIDATOR_FOLLOWER_ID]: {\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfee: VALIDATOR_FOLLOWER_FEE,\r\n\t},\r\n}\r\n\r\nconst VALIDATOR_SOURCES = [AdvPlatformValidators, PubPlatformValidators]\r\n\r\nconst AdvValidatorsSrc = Object.keys(AdvPlatformValidators).map(key => {\r\n\tconst val = AdvPlatformValidators[key]\r\n\treturn {\r\n\t\tvalue: key,\r\n\t\tlabel: `${val.url} - ${val.id}`,\r\n\t}\r\n})\r\n\r\nconst PubValidatorsSrc = Object.keys(PubPlatformValidators).map(key => {\r\n\tconst val = PubPlatformValidators[key]\r\n\treturn {\r\n\t\tvalue: key,\r\n\t\tlabel: `${val.url} - ${val.id}`,\r\n\t}\r\n})\r\n\r\nconst getTotalImpressions = ({ depositAmount, minPerImpression, t }) => {\r\n\tconst dep = parseFloat(depositAmount)\r\n\tconst min = parseFloat(minPerImpression)\r\n\tif (!dep) {\r\n\t\treturn t('DEPOSIT_NOT_SET')\r\n\t} else if (!min) {\r\n\t\treturn t('CPM_NOT_SET')\r\n\t} else {\r\n\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\r\n\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\r\n\t}\r\n}\r\n\r\nconst validateCampaignDates = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet error = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'activeFrom' }\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terror = { message: 'ERR_START_BEFORE_NOW', prop: 'activeFrom' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\r\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\r\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nconst validateAmounts = ({\r\n\tmaxDeposit = 0,\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n}) => {\r\n\tconst maxDep = parseFloat(maxDeposit)\r\n\tconst dep = parseFloat(depositAmount)\r\n\tconst min = parseFloat(minPerImpression)\r\n\r\n\tlet error = null\r\n\tif (dep && dep > maxDep) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\r\n\t\t\tprop: 'depositAmount',\r\n\t\t}\r\n\t}\r\n\tif (dep && dep < min) {\r\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\r\n\t}\r\n\tif (dep <= 0) {\r\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\r\n\t}\r\n\tif (min <= 0) {\r\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nclass CampaignFinance extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateAndUpdateValidator(false, 0, newItem.validators[0])\r\n\t\tthis.validateAndUpdateValidator(false, 1, newItem.validators[1])\r\n\t\tthis.validateAmount(\r\n\t\t\tnewItem.depositAmount,\r\n\t\t\t'depositAmount',\r\n\t\t\tfalse,\r\n\t\t\t'REQUIRED_FIELD'\r\n\t\t)\r\n\t\tthis.validateAmount(\r\n\t\t\tnewItem.minPerImpression,\r\n\t\t\t'minPerImpression',\r\n\t\t\tfalse,\r\n\t\t\t'REQUIRED_FIELD'\r\n\t\t)\r\n\t\tthis.handleDates('activeFrom', newItem.activeFrom, false)\r\n\t\tthis.handleDates('withdrawPeriodStart', newItem.withdrawPeriodStart, false)\r\n\t}\r\n\r\n\tvalidateAndUpdateValidator = (dirty, index, key = {}, update) => {\r\n\t\tconst { handleChange, newItem, validate } = this.props\r\n\t\tconst { validators } = newItem\r\n\t\tconst newValidators = [...validators]\r\n\t\tconst newValue = VALIDATOR_SOURCES[index][key.id || key]\r\n\r\n\t\tnewValidators[index] = newValue\r\n\r\n\t\tconst isValid =\r\n\t\t\t!!newValidators[0] &&\r\n\t\t\t!!newValidators[1] &&\r\n\t\t\t!!newValidators[0].id &&\r\n\t\t\t!!newValidators[0].url &&\r\n\t\t\t!!newValidators[1].id &&\r\n\t\t\t!!newValidators[1].url\r\n\r\n\t\tif (update) {\r\n\t\t\thandleChange('validators', newValidators)\r\n\t\t}\r\n\r\n\t\tvalidate('validators', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\r\n\t\tconst isValidNumber = validations.isNumberString(value)\r\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\t\tif (!isValid) {\r\n\t\t\tthis.props.validate(prop, {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconst { newItem, account } = this.props\r\n\r\n\t\t\tconst { identityBalanceDai } = account.stats.formatted\r\n\t\t\tconst depositAmount =\r\n\t\t\t\tprop === 'depositAmount' ? value : newItem.depositAmount\r\n\t\t\tconst minPerImpression =\r\n\t\t\t\tprop === 'minPerImpression' ? value : newItem.minPerImpression\r\n\r\n\t\t\tconst result = validateAmounts({\r\n\t\t\t\tmaxDeposit: identityBalanceDai - totalFeesFormatted,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t})\r\n\r\n\t\t\tthis.props.validate(prop, {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleDates = (prop, value, dirty) => {\r\n\t\tconst { newItem, handleChange, validate } = this.props\r\n\t\tconst withdrawPeriodStart =\r\n\t\t\tprop === 'withdrawPeriodStart' ? value : newItem.withdrawPeriodStart\r\n\t\tconst activeFrom = prop === 'activeFrom' ? value : newItem.activeFrom\r\n\t\tconst result = validateCampaignDates({\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tcreated: newItem.created,\r\n\t\t})\r\n\r\n\t\tvalidate('activeFrom', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\r\n\t\tvalidate('withdrawPeriodStart', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\r\n\t\tif (value) {\r\n\t\t\thandleChange(prop, value)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { handleChange, newItem, t, invalidFields, account } = this.props\r\n\t\tconst {\r\n\t\t\tvalidators,\r\n\t\t\tdepositAmount,\r\n\t\t\tminPerImpression,\r\n\t\t\t// depositAsset,\r\n\t\t\tactiveFrom,\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tminTargetingScore,\r\n\t\t} = newItem\r\n\r\n\t\tconst { identityBalanceDai } = account.stats.formatted\r\n\r\n\t\tconst from = activeFrom || undefined\r\n\t\tconst to = withdrawPeriodStart || undefined\r\n\t\tconst now = moment.date().valueOf()\r\n\r\n\t\tconst errDepAmnt = invalidFields['depositAmount']\r\n\t\tconst errMin = invalidFields['minPerImpression']\r\n\t\tconst errFrom = invalidFields['activeFrom']\r\n\t\tconst errTo = invalidFields['withdrawPeriodStart']\r\n\r\n\t\tconst impressions = !(errDepAmnt || errMin)\r\n\t\t\t? getTotalImpressions({ depositAmount, minPerImpression, t })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value =>\r\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 0, value, true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsource={AdvValidatorsSrc}\r\n\t\t\t\t\t\t\tvalue={(validators[0] || {}).id + ''}\r\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\thtmlId='leader-validator-dd'\r\n\t\t\t\t\t\t\tname='leader-validator'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value =>\r\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 1, value, true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsource={PubValidatorsSrc}\r\n\t\t\t\t\t\t\tvalue={(validators[1] || {}).id + ''}\r\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\thtmlId='follower-validator-dd'\r\n\t\t\t\t\t\t\tname='follower-validator'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t(identityBalanceDai - totalFeesFormatted).toFixed(2),\r\n\t\t\t\t\t\t\t\t\t'DAI',\r\n\t\t\t\t\t\t\t\t\ttotalFeesFormatted,\r\n\t\t\t\t\t\t\t\t\t'DAI',\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'depositAmount', true)\r\n\t\t\t\t\t\t\t\thandleChange('depositAmount', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\r\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DEPOSIT_AMOUNT_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [totalFeesFormatted, 'DAI'],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\r\n\t\t\t\t\t\t\t\thandleChange('minPerImpression', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\tthis.handleDates('activeFrom', val.valueOf(), true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\tthis.handleDates('withdrawPeriodStart', val.valueOf(), true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\r\n\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n\tadUnits: PropTypes.array.isRequired,\r\n}\r\n\r\nconst NewCampaignFinance = NewCampaignHoc(CampaignFinance)\r\n\r\nexport default Translate(NewCampaignFinance)\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} />\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n} from 'components/common/dialog/content'\r\nimport { AdUnit } from 'adex-models'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\n\r\nclass CampaignFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\tAdUnitsTable = ({ items }) => {\r\n\t\treturn (\r\n\t\t\t<Grid item sm={12}>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\tobjModel={AdUnit}\r\n\t\t\t\t\t\titems={items}\r\n\t\t\t\t\t\tlistMode\r\n\t\t\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\t\t\tnoControls\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\tsortProperties={[]}\r\n\t\t\t\t\t\tviewModeId={'newCampaignAdUnitsPreview'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { account, newItem, t } = this.props\r\n\t\tconst {\r\n\t\t\t// targeting,\r\n\t\t\tadUnits,\r\n\t\t\tvalidators,\r\n\t\t\tdepositAmount,\r\n\t\t\tminPerImpression,\r\n\t\t\t// maxPerImpression,\r\n\t\t\t// depositAsset,\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tminTargetingScore,\r\n\t\t\t// nonce\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t{newItem.temp.waitingAction ? (\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.identity.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\t\tright={<this.AdUnitsTable items={adUnits} />}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\tright={depositAmount + ' DAI'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\tright={minPerImpression + ' DAI'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\r\n\t\t\t\t\t\tright={maxPerImpression}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(created)}\r\n\t\t\t\t\t/> */}\r\n\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nconst NewCampaignFormPreview = NewCampaignHoc(\r\n\twithStyles(styles)(CampaignFormPreview)\r\n)\r\nexport default connect(mapStateToProps)(Translate(NewCampaignFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdSlot',\r\n\t\t\t\tAdSlot\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem, account } = this.props\r\n\t\t\tnewItem.owner = account.wallet.address\r\n\r\n\t\t\tactions.addSlot(newItem, 'AdSlot', account.wallet.authSig)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\n\r\nconst { adSlotPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nclass AdSlotBasic extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adSlotPost.title)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adSlotPost.description)\r\n\r\n\t\tthis.props.validate('description', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adSlotPost.type)\r\n\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tnewItem,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\t// nameHelperTxt,\r\n\t\t\t// descriptionHelperTxt\r\n\t\t} = this.props\r\n\t\tconst { type, title, description } = newItem\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Unit ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateDescription(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(title, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotBasic = NewAdSlotHoc(AdSlotBasic)\r\n\r\nexport default Translate(NewAdSlotBasic)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport { schemas, Joi } from 'adex-models'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdSlotMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tconst { temp, targetUrl } = newItem\r\n\t\tconst { useFallback } = temp\r\n\r\n\t\tif (useFallback) {\r\n\t\t\tthis.validateImage(useFallback)\r\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateImage = useFallback => {\r\n\t\tconst { newItem, validate } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst isValidMediaSize =\r\n\t\t\t!useFallback ||\r\n\t\t\t(tempUrl &&\r\n\t\t\t\t// TODO: validate ration not exact\r\n\t\t\t\ttemp.width === width &&\r\n\t\t\t\ttemp.height === height)\r\n\r\n\t\tvalidate('temp', {\r\n\t\t\tisValid: isValidMediaSize,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t},\r\n\t\t\tdirty: true,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !useFallback || !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\thandleFallbackChange = useFallback => {\r\n\t\tconst { temp, targetUrl } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.useFallback = useFallback\r\n\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\r\n\t\tthis.validateImage(useFallback)\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tvalidateMedia,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t} = this.props\r\n\t\tconst { targetUrl, type, temp } = newItem\r\n\t\tconst useFallback = temp.useFallback || false\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\r\n\r\nexport default Translate(NewAdSlotMedia)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\ttags: { src: AcTags, collection: 'tags' },\r\n\tcustom: { src: [], collection: 'tags' },\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n}\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdSlotTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: targets || [],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\tthis.props.handleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource,\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t}) => {\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={'target-' + index}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\tonChange={newValue =>\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`target-score-${index}`} gutterBottom>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t// classes={{ container: classes.slider }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={1} md={1}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{ source, collection, label, placeholder, target = {} } = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\r\n\r\nexport default Translate(NewAdSlotTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass AdSlotPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst { type, title, description, temp, tags, targetUrl } = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{temp.useFallback && (\r\n\t\t\t\t\t\t<SlotFallback\r\n\t\t\t\t\t\t\timg={temp}\r\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{tags && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={tags}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\n// import CampaignTargeting from './Campaign/CampaignTargeting'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\n\r\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button color='primary' onClick={save}>\r\n\t\t\t{/*TODO: withStyles */}\r\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t{t('SAVE')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={newItem.temp.waitingAction}\r\n\t\t>\r\n\t\t\t{newItem.temp.waitingAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\r\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\r\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\r\n}\r\n\r\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\r\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\r\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\r\n\r\nconst dialogCommon = {\r\n\tdarkerBackground: true,\r\n\ticon: <AddIcon />,\r\n}\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdUnit}\r\n\t\tCancelBtn={CancelBtnWithItem}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdUnit'}\r\n\t\tstepsId={'new-adunit-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\r\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\r\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: AdUnitFormPreview,\r\n\t\t}}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithCampaign}\r\n\t\tCancelBtn={CancelBtnWithCampaign}\r\n\t\tvalidateIdBase={'new-Campaign-'}\r\n\t\titemType={'Campaign'}\r\n\t\tstepsId={'new-campaign-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'CAMPAIGN_UNITS_STEP', page: CampaignUnits },\r\n\t\t\t// NOTE: Only at ad units at the moment\r\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\r\n\t\t\t{ title: 'CAMPAIGN_FINANCE_STEP', page: CampaignFinance },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: CampaignFormPreview,\r\n\t\t}}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t/>\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdSlot}\r\n\t\tCancelBtn={CancelBtnWithAdSlot}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdSlot'}\r\n\t\tstepsId={'new-slot-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SLOT_BASIC_STEP', page: AdSlotBasic },\r\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\r\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ListWithControls from 'components/dashboard/containers/Lists/ListWithControls'\r\nimport classnames from 'classnames'\r\nimport TableCellMui from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport Button from '@material-ui/core/Button'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Img from 'components/common/img/Img'\r\nimport Rows from 'components/dashboard/collection/Rows'\r\nimport Translate from 'components/translate/Translate'\r\n// import DeleteIcon from '@material-ui/icons/Delete'\r\n// import { FileCopy } from '@material-ui/icons'\r\n// import ArchiveIcon from '@material-ui/icons/Archive'\r\n// import UnarchiveIcon from '@material-ui/icons/Unarchive'\r\n// import RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline'\r\n// import AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\n// import { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\n\r\nconst TableCell = ({ children, ...rest }) => (\r\n\t<TableCellMui {...rest}>{!!children && children}</TableCellMui>\r\n)\r\n\r\nconst RRTableCell = withReactRouterLink(TableCell)\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass ItemsList extends Component {\r\n\trenderTableHead = ({ selected }) => {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tselectedItems,\r\n\t\t\tselectMode,\r\n\t\t\tnoActions,\r\n\t\t\t// itemType\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{selectMode && (\r\n\t\t\t\t\t\t<TableCell>{Object.keys(selectedItems).length || ''}</TableCell>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<TableCell> {t('PROP_MEDIA')}</TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_TITLE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_TYPE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_CREATED')} </TableCell>\r\n\r\n\t\t\t\t\t{!noActions && <TableCell> {t('ACTIONS')} </TableCell>}\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\trenderCampaignTableHead = ({ selected }) => {\r\n\t\tconst { t, selectedItems, selectMode, noActions } = this.props\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{selectMode && (\r\n\t\t\t\t\t\t<TableCell>{Object.keys(selectedItems).length || ''}</TableCell>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<TableCell> {t('PROP_MEDIA')}</TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_STATUS')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_DEPOSIT')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_DISTRIBUTED', { args: ['%'] })} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_CPM')} </TableCell>\r\n\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t{/* {t('PROP_CREATED')}/ <br /> */}\r\n\t\t\t\t\t\t{t('PROP_STARTS')}/ <br />\r\n\t\t\t\t\t\t{t('PROP_ENDS')}\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t{!noActions && <TableCell> {t('ACTIONS')} </TableCell>}\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\trenderTableRow = (item, index, { to, selected }) => {\r\n\t\tconst {\r\n\t\t\t// t,\r\n\t\t\tclasses,\r\n\t\t\tselectMode,\r\n\t\t\tselectedItems,\r\n\t\t\tonSelect,\r\n\t\t\tnoActions,\r\n\t\t} = this.props\r\n\t\t// const ImagCell = noActions ? TableCell : RRTableCell\r\n\r\n\t\treturn (\r\n\t\t\t<TableRow key={item.ipfs || index} selected={selectedItems[item.ipfs]}>\r\n\t\t\t\t{selectMode && (\r\n\t\t\t\t\t<TableCell padding='checkbox'>\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t// indeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\t\t\t\tchecked={selectedItems[item.ipfs]}\r\n\t\t\t\t\t\t\tonChange={event => {\r\n\t\t\t\t\t\t\t\tonSelect(item.ipfs, event.target.checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t)}\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={item.mediaUrl || item.fallbackMediaiUrl || ''}\r\n\t\t\t\t\t\talt={item.title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<RRTableCell\r\n\t\t\t\t\t// className={tableTheme.link}\r\n\t\t\t\t\tto={to}\r\n\t\t\t\t>\r\n\t\t\t\t\t{item.title}\r\n\t\t\t\t</RRTableCell>\r\n\t\t\t\t<TableCell> {item.type} </TableCell>\r\n\t\t\t\t<TableCell> {formatDateTime(item.created)} </TableCell>\r\n\t\t\t\t{!noActions && this.renderActions({ item, to })}\r\n\t\t\t</TableRow>\r\n\t\t)\r\n\t}\r\n\r\n\trenderCampaignTableRow = (item, index, { to, selected }) => {\r\n\t\tconst {\r\n\t\t\tselectMode,\r\n\t\t\tselectedItems,\r\n\t\t\tonSelect,\r\n\t\t\tnoActions,\r\n\t\t\tclasses,\r\n\t\t} = this.props\r\n\r\n\t\tconst status = item.status || {}\r\n\t\treturn (\r\n\t\t\t<TableRow key={item.ipfs || index} selected={selectedItems[item.ipfs]}>\r\n\t\t\t\t{selectMode && (\r\n\t\t\t\t\t<TableCell padding='checkbox'>\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t// indeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\t\t\t\tchecked={selectedItems[item.ipfs]}\r\n\t\t\t\t\t\t\tonChange={event => {\r\n\t\t\t\t\t\t\t\tonSelect(item.ipfs, event.target.checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t)}\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\titem.mediaUrl ||\r\n\t\t\t\t\t\t\t(item.adUnits ? item.adUnits[0].mediaUrl || '' : '')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\talt={item.title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell> {status.name} </TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{formatTokenAmount(item.depositAmount, 18, true)} DAI{' '}\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{((status.fundsDistributedRatio || 0) / 10).toFixed(2)}\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{formatTokenAmount(\r\n\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t18,\r\n\t\t\t\t\t\ttrue\r\n\t\t\t\t\t)}{' '}\r\n\t\t\t\t\tDAI\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{/* {formatDateTime(item.created)} <br /> */}\r\n\t\t\t\t\t{formatDateTime(item.activeFrom)} <br />\r\n\t\t\t\t\t{formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t{!noActions && this.renderActions({ item, to })}\r\n\t\t\t</TableRow>\r\n\t\t)\r\n\t}\r\n\r\n\trenderActions = ({ item, to }) => {\r\n\t\tconst { t, account, actions, authSig, itemType } = this.props\r\n\t\tconst itemName = item.title\r\n\t\tconst itemTypeName = t(itemType, { isProp: true })\r\n\t\tconst isDemo = account.wallet.address === 'demo'\r\n\r\n\t\treturn (\r\n\t\t\t<TableCell>\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRButton to={to} variant='contained' color='primary'>\r\n\t\t\t\t\t\t{t('LABEL_VIEW')}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t{itemType === 'AdUnit' ? (\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\tactions.cloneItem({ item, itemType, objModel: AdUnit })\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{/* {!item.archived &&\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('TOOLTIP_ARCHIVE')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t// label={t('ARCHIVE')}\r\n\t\t\t\t\t\t\t// className={RTButtonTheme.danger}\r\n\t\t\t\t\t\t\tonClick={actions.confirmAction.bind(this,\r\n\t\t\t\t\t\t\t\tactions.archiveItem.bind(this, { item: item, authSig: account.wallet.authSig }),\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\tcancelLabel: t('CONFIRM_NO'),\r\n\t\t\t\t\t\t\t\t\ttext: t('ARCHIVE_ITEM', { args: [itemTypeName, itemName] }),\r\n\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_SURE')\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ArchiveIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\t\t\t\t{item.archived &&\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('TOOLTIP_UNARCHIVE')}\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t// label={t('UNARCHIVE')}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={actions.confirmAction.bind(this,\r\n\t\t\t\t\t\t\t\tactions.unarchiveItem.bind(this, { item: item, authSig: account.wallet.authSig }),\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\tcancelLabel: t('CONFIRM_NO'),\r\n\t\t\t\t\t\t\t\t\ttext: t('UNARCHIVE_ITEM', { args: [itemType, itemName] }),\r\n\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_SURE')\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<UnarchiveIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t} */}\r\n\t\t\t</TableCell>\r\n\t\t)\r\n\t}\r\n\r\n\trenderRows = items => {\r\n\t\tconst { itemType, side, padding } = this.props\r\n\t\treturn (\r\n\t\t\t<Rows\r\n\t\t\t\tpadding={padding}\r\n\t\t\t\tside={side}\r\n\t\t\t\trows={items}\r\n\t\t\t\titemType={itemType}\r\n\t\t\t\trowRenderer={\r\n\t\t\t\t\titemType === 'Campaign'\r\n\t\t\t\t\t\t? this.renderCampaignTableRow\r\n\t\t\t\t\t\t: this.renderTableRow\r\n\t\t\t\t}\r\n\t\t\t\ttableHeadRenderer={\r\n\t\t\t\t\titemType === 'Campaign'\r\n\t\t\t\t\t\t? this.renderCampaignTableHead\r\n\t\t\t\t\t\t: this.renderTableHead\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { items, viewModeId, side, noControls, classes, ...rest } = this.props\r\n\r\n\t\tif (noControls) {\r\n\t\t\treturn this.renderRows(items)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<ListWithControls\r\n\t\t\t\t{...rest}\r\n\t\t\t\titems={items}\r\n\t\t\t\tviewModeId={viewModeId}\r\n\t\t\t\tarchive\r\n\t\t\t\trenderRows={this.renderRows}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nItemsList.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tviewModeId: PropTypes.string.isRequired,\r\n\theader: PropTypes.string,\r\n\tobjModel: PropTypes.func.isRequired,\r\n\titemType: PropTypes.string.isRequired,\r\n\tsortProperties: PropTypes.array.isRequired,\r\n\tselectedItems: PropTypes.object,\r\n\tselectMode: PropTypes.bool,\r\n\tonSelect: PropTypes.func,\r\n\tnoControls: PropTypes.bool,\r\n\tnoActions: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tside: memory.nav.side,\r\n\t\tselectedItems: props.selectedItems || {},\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(ItemsList)))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tcellImg: {\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxHeight: 70,\r\n\t\t\tmaxWidth: 180,\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t}\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\twidth: 320,\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\t'@media(max-width:380px)': {\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tmarginBottom: spacing,\r\n\t\t\t},\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\r\n\t\t\ttop: 0,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport Img from 'components/common/img/Img'\r\nimport { validUrl } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n// import { utils } from 'ethers'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst FallbackAdData = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\t...rest\r\n}) => {\r\n\tconst errFallbackAdUrl = rest.invalidFields['fallbackAdUrl']\r\n\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false}>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\r\n\t\t\t\t<Img\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\r\n\t\t\t\t\talt={item.fallbackTargetUrl}\r\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t/>\r\n\t\t\t</CardMedia>\r\n\t\t\t<Fab\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={rest.toggleFallbackImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\tdisabled={isDemo}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Fab>\r\n\t\t\t<CardContent>\r\n\t\t\t\t{rest.activeFields.fallbackTargetUrl ? (\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t// required\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\trest.handleChange('fallbackTargetUrl', ev.target.value)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// maxLength={1024}\r\n\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', false)\r\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\r\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\r\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tdisabled={!canEditImg}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span className={classes.error}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\r\n\r\nconst MediaCard = ({\r\n\tclasses,\r\n\tmediaUrl,\r\n\tmediaMime,\r\n\ttitle,\r\n\tcanEditImg,\r\n\ttoggleImgEdit,\r\n\turl,\r\n}) => (\r\n\t<Card className={classes.card} raised={false}>\r\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t<Img\r\n\t\t\t\tallowFullscreen={true}\r\n\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\talt={title}\r\n\t\t\t\tclassName={classes.img}\r\n\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\tallowVideo\r\n\t\t\t/>\r\n\t\t</CardMedia>\r\n\t\t{canEditImg && (\r\n\t\t\t<Button\r\n\t\t\t\tvariant='fab'\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Button>\r\n\t\t)}\r\n\r\n\t\t{url && (\r\n\t\t\t<CardContent>\r\n\t\t\t\t<Anchor href={url} target='_blank'>\r\n\t\t\t\t\t{url}\r\n\t\t\t\t</Anchor>\r\n\t\t\t</CardContent>\r\n\t\t)}\r\n\t</Card>\r\n)\r\n\r\nconst basicProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst mediaMime = item.mediaMime\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\r\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\r\n\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\tvalue={item.type}\r\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\r\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\r\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\trows={7}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t{rightComponent}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport const BasicProps = withStyles(styles)(basicProps)\r\n\r\nconst campaignProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst status = item.status || {}\r\n\t// console.log('item', item)\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className={classes.basicInfo}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, 18) + ' DAI'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t18,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) + ' DAI'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\r\n\t\t\t\t\t{rightComponent}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\r\nexport const CampaignProps = withStyles(styles)(campaignProps)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\r\nimport { SORT_PROPERTIES_ITEMS, FILTER_PROPERTIES_ITEMS } from 'constants/misc'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\n\r\nconst VIEW_MODE = 'campaignRowsView'\r\n\r\nexport class Campaign extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tstatistics: {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.actions.updateCampaignState({ campaign: this.props.item })\r\n\t\t// this.props.actions.updateCampaignStatistics({ campaign: this.props.item })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tCampaignActions = ({ campaign, actions, t }) => {\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tonClick={() => actions.closeCampaign({ campaign })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// classes,\r\n\t\t\titem,\r\n\t\t\t// setActiveFields,\r\n\t\t\t// handleChange,\r\n\t\t\t// activeFields,\r\n\t\t\t// isDemo,\r\n\t\t\tactions,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\tconst units = item.spec.adUnits\r\n\t\tconst campaign = new CampaignModel(item)\r\n\r\n\t\tconst balances =\r\n\t\t\tcampaign.state && campaign.state.lastApproved\r\n\t\t\t\t? campaign.state.lastApproved.newState.msg.balances\r\n\t\t\t\t: {}\r\n\r\n\t\tconst status = (campaign.status || {}).name\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CampaignProps\r\n\t\t\t\t\titem={campaign}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t// <UnitTargets\r\n\t\t\t\t\t\t// \t{...rest}\r\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\r\n\t\t\t\t\t\t// \tt={t}\r\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\r\n\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t(status === 'Ready' ||\r\n\t\t\t\t\t\t\tstatus === 'Active' ||\r\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\r\n\t\t\t\t\t\t\t<this.CampaignActions\r\n\t\t\t\t\t\t\t\tcampaign={campaign}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATE')} />\r\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\tsubheader={\r\n\t\t\t\t\t\t\t\t\t<ListSubheader component='div'>{t('BALANCES')}</ListSubheader>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{Object.keys(balances).map(key => (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={key}>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={formatTokenAmount(balances[key]) + ' DAI'}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondary={key}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\t\t\tremoveFromItem\r\n\t\t\t\t\t\t\t\titems={units}\r\n\t\t\t\t\t\t\t\tviewModeId={VIEW_MODE}\r\n\t\t\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\t\t\tobjModel={AdUnitModel}\r\n\t\t\t\t\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tuiStateId='campaign-units'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tunits: PropTypes.object.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tunits: persist.items['AdUnit'],\r\n\t\trowsView: !!persist.ui[VIEW_MODE],\r\n\t\tobjModel: CampaignModel,\r\n\t\titemType: 'Campaign',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(CampaignItem))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\tmarginTop: spacing * 2,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdatepicker: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t},\r\n\t}\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nwindow.hoi = CHARTS_COMMON_OPTIONS\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tlegendList: {\r\n\t\t\tlistStyle: 'none',\r\n\t\t\tpaddingLeft: 0,\r\n\t\t},\r\n\t\tlegendSpan: {\r\n\t\t\twidth: '40px',\r\n\t\t\tminHeight: '13px',\r\n\t\t\tfloat: 'left',\r\n\t\t\tmargin: '0px 8px',\r\n\t\t},\r\n\t\tlegendListItem: {\r\n\t\t\theight: '20px',\r\n\t\t\tfontSize: '12px',\r\n\t\t\tmarginLeft: '8px',\r\n\t\t\tcolor: '#666',\r\n\t\t\tfontFamily: \"'Roboto', 'Arial', sans-serif\",\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tchartParent: {\r\n\t\t\theight: 'auto',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tchartLabel: {\r\n\t\t\tmargin: '0 auto',\r\n\t\t\t'@media(min-width:650px) and (max-width:1279px)': {\r\n\t\t\t\tmargin: 'auto',\r\n\t\t\t},\r\n\t\t},\r\n\t\tchartContainer: {\r\n\t\t\tmargin: '0 auto',\r\n\t\t\t'@media(min-width:650px) and (max-width:1279px)': {\r\n\t\t\t\tmargin: 'auto',\r\n\t\t\t},\r\n\t\t},\r\n\t\tchartTitle: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tcolor: '#666',\r\n\t\t\tfontFamily: \"'Roboto', 'Arial', sans-serif\",\r\n\t\t\tflexBasis: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport { BidsLegend } from '.'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass BidsStatusPie extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.doughnut = React.createRef()\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// Force update to get the doughnut ref\r\n\t\tthis.forceUpdate()\r\n\t}\r\n\r\n\tcomponentWillUpdate = (nextProps, nextState) => {\r\n\t\t// Hack to update doughnut ref\r\n\t\tif (\r\n\t\t\tJSON.stringify(nextProps.pieData) !== JSON.stringify(this.props.pieData)\r\n\t\t) {\r\n\t\t\tthis.forceUpdate()\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pieData = this.props.pieData || {}\r\n\t\tconst options = this.props.options || {}\r\n\t\tconst { onPieClick } = this.props\r\n\t\tconst classes = this.props.classes\r\n\r\n\t\tlet opts = {\r\n\t\t\t// responsive: true,\r\n\t\t\t// responsiveAnimationDuration: 500,\r\n\t\t\tcutoutPercentage: 70,\r\n\t\t\tlegend: {\r\n\t\t\t\tdisplay: false,\r\n\t\t\t},\r\n\t\t\tlegendCallback: function(chart) {\r\n\t\t\t\treturn <BidsLegend chart={chart} />\r\n\t\t\t},\r\n\t\t\ttooltips: {\r\n\t\t\t\tcallbacks: {\r\n\t\t\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\t\t\tlet label = (data.labels[tooltipItem.index] || '').split(' [')[0]\r\n\t\t\t\t\t\tlabel += ': '\r\n\t\t\t\t\t\tlet count =\r\n\t\t\t\t\t\t\tdata.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]\r\n\t\t\t\t\t\tlabel += count\r\n\t\t\t\t\t\tlabel +=\r\n\t\t\t\t\t\t\t' (' + ((count / pieData.totalCount) * 100).toFixed(2) + '%)'\r\n\t\t\t\t\t\treturn label\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmaintainAspectRatio: false,\r\n\t\t\t...options,\r\n\t\t}\r\n\r\n\t\tlet chartData = {\r\n\t\t\tlabels: pieData.labels || [],\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: CHARTS_COLORS,\r\n\t\t\t\t\t// borderColor: CHARTS_COLORS,\r\n\t\t\t\t\thoverBackgroundColor: CHARTS_COLORS,\r\n\t\t\t\t\t// hoverBorderColor: CHARTS_COLORS,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: pieData.data || [],\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className={classes.chartParent}>\r\n\t\t\t\t<h3 className={classes.chartTitle}>{this.props.chartTitle}</h3>\r\n\t\t\t\t<div className={classes.chartLabel}>\r\n\t\t\t\t\t{this.doughnut.current\r\n\t\t\t\t\t\t? this.doughnut.current.chartInstance.generateLegend()\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.chartContainer}>\r\n\t\t\t\t\t<Doughnut\r\n\t\t\t\t\t\twidth={250}\r\n\t\t\t\t\t\theight={150}\r\n\t\t\t\t\t\tref={this.doughnut}\r\n\t\t\t\t\t\tdata={chartData}\r\n\t\t\t\t\t\toptions={opts}\r\n\t\t\t\t\t\tgetElementAtEvent={e => {\r\n\t\t\t\t\t\t\tonPieClick(e[0])\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(BidsStatusPie)\r\n","import React, { Component } from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass BidsLegend extends Component {\r\n\ttoggleChartItem(e, index) {\r\n\t\tconst chart = this.props.chart\r\n\r\n\t\tchart.legend.options.onClick.call(chart, e, chart.legend.legendItems[index])\r\n\t}\r\n\r\n\ttoggleLabelCross(label) {\r\n\t\tlabel.style.textDecoration === 'line-through'\r\n\t\t\t? (label.style.textDecoration = 'none')\r\n\t\t\t: (label.style.textDecoration = 'line-through')\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { chart, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ul className={classes.legendList}>\r\n\t\t\t\t\t{chart.data.datasets[0].data.map((item, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\tclassName={classes.legendListItem}\r\n\t\t\t\t\t\t\t\tonClick={event => {\r\n\t\t\t\t\t\t\t\t\tthis.toggleChartItem(event, i)\r\n\t\t\t\t\t\t\t\t\tthis.toggleLabelCross(event.currentTarget)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: chart.data.datasets[0].backgroundColor[i],\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.legendSpan}\r\n\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t{chart.data.labels[i] ? chart.data.labels[i] : null}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default withStyles(styles)(BidsLegend)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\r\n\t</g>,\r\n\r\n\t'AdexPublisher',\r\n\t'0 0 114 110'\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\r\n\t</g>,\r\n\t'AdexAdvertiser',\r\n\t'0 0 109 94'\r\n)\r\n","import React, { Component } from 'react'\r\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\r\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst SideBox = ({\r\n\tsalePoints = [],\r\n\tlinkTitle,\r\n\ticon,\r\n\ttitle,\r\n\tdisabled,\r\n\tclasses,\r\n\t...other\r\n}) => (\r\n\t<div\r\n\t\t{...other}\r\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\r\n\t>\r\n\t\t<div className={classes.icon}>{icon}</div>\r\n\t\t<h2>{title}</h2>\r\n\t\t<ul className={classes.salePoints}>\r\n\t\t\t{salePoints.map(function(point, key) {\r\n\t\t\t\treturn <li key={key}> {point} </li>\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div>\r\n)\r\n\r\nconst RRSideBox = withReactRouterLink(SideBox)\r\n\r\nclass SideSelect extends Component {\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\troot: classes.backdrop,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth='sm'\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<AdvertiserLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/advertiser'\r\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<PublisherLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/publisher'\r\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(SideSelect))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tsideBox: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'top',\r\n\t\t\topacity: 0.7,\r\n\t\t\t'&:hover:not(.disabled)': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\topacity: 1,\r\n\t\t\t},\r\n\t\t\t'&.disabled': {\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t},\r\n\t\t\t'@media(max-width:425px)': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\tsalePoints: {\r\n\t\t\tpadding: 0,\r\n\t\t\t'& li': {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tlistStyle: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { styles } from './styles'\r\nimport classnames from 'classnames'\r\n\r\nconst StatsCard = props => {\r\n\tconst { classes, title, subtitle, linkCard, children, onClick } = props\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\t// raised\r\n\t\t\tclassName={classnames(classes.infoCard, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<CardContent>\r\n\t\t\t\t{title && (\r\n\t\t\t\t\t<Typography variant='headline' component='h2' noWrap>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{subtitle && (\r\n\t\t\t\t\t<Typography component='p' noWrap>\r\n\t\t\t\t\t\t{subtitle}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t\t{children}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default withStyles(styles)(StatsCard)\r\n","import React from 'react'\r\nimport { Line } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst getChannelName = channel => {\r\n\tif (!channel || !channel.spec) {\r\n\t\treturn 'unknown'\r\n\t}\r\n\tconst amount = formatTokenAmount(channel.depositAmount, 18, true)\r\n\tconst cpm = formatTokenAmount(\r\n\t\tbigNumberify(channel.spec.minPerImpression)\r\n\t\t\t.mul(1000)\r\n\t\t\t.toString(),\r\n\t\t18,\r\n\t\ttrue\r\n\t)\r\n\r\n\treturn `Deposit ${amount} DAI for CPM ${cpm} DAI`\r\n}\r\n\r\nexport const PublisherStatistics = ({ data, channels, options = {}, t }) => {\r\n\t// TODO: refine mapping, format values and labels\r\n\tif (!Object.keys(data).length) return null\r\n\tconst dataKeys = Object.keys(data)\r\n\r\n\tconst defaultValues = dataKeys.reduce((defaults, key) => {\r\n\t\tdefaults[key] = null\r\n\t\treturn defaults\r\n\t}, {})\r\n\r\n\tconst labelsWithData = dataKeys.reduce(\r\n\t\t({ labels, sets }, k) => {\r\n\t\t\tconst values = Object.keys(data[k]).reduce(\r\n\t\t\t\t(memo, key) => {\r\n\t\t\t\t\tconst value = data[k][key]\r\n\r\n\t\t\t\t\tlabels[key] = labels[key] || { ...defaultValues }\r\n\t\t\t\t\tlabels[key][k] = value\r\n\r\n\t\t\t\t\tmemo.labels.push(key)\r\n\t\t\t\t\tmemo.value.push(value || 0)\r\n\r\n\t\t\t\t\tmemo.step.min = Math.min(memo.step.min, value)\r\n\t\t\t\t\tmemo.step.max = Math.max(memo.step.max, value)\r\n\r\n\t\t\t\t\treturn memo\r\n\t\t\t\t},\r\n\t\t\t\t{ label: k, labels: [], value: [], step: { min: 0, max: 0 } }\r\n\t\t\t)\r\n\r\n\t\t\tsets.push(values)\r\n\r\n\t\t\treturn {\r\n\t\t\t\tlabels,\r\n\t\t\t\tsets,\r\n\t\t\t}\r\n\t\t},\r\n\t\t{ labels: {}, sets: [] }\r\n\t)\r\n\r\n\tconst labelsKeys = Object.keys(labelsWithData.labels)\r\n\tconst datasets = labelsKeys.reduce(\r\n\t\t({ sets }, key) => {\r\n\t\t\tconst set = labelsWithData.labels[key]\r\n\r\n\t\t\tdataKeys.forEach((dataKey, index) => {\r\n\t\t\t\tsets[index].data.push(set[dataKey])\r\n\t\t\t\tsets[index].label = dataKey\r\n\t\t\t})\r\n\r\n\t\t\treturn { sets }\r\n\t\t},\r\n\t\t{\r\n\t\t\tsets: dataKeys.map(key => {\r\n\t\t\t\treturn { label: '', data: [] }\r\n\t\t\t}),\r\n\t\t}\r\n\t)\r\n\r\n\tlet commonDsProps = {\r\n\t\tfill: true,\r\n\t\tlineTension: 0.3,\r\n\t\tborderWidth: 0,\r\n\t\tpointRadius: 1,\r\n\t\tpointHitRadius: 10,\r\n\t}\r\n\r\n\tlet chartData = {\r\n\t\tlabels: labelsKeys,\r\n\t\tstacked: true,\r\n\t\tdatasets: datasets.sets.map((set, index) => {\r\n\t\t\treturn {\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tlabel: getChannelName(channels[set.label]) + ` - ${index}`,\r\n\t\t\t\tdata: set.data,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(\r\n\t\t\t\t\tCHARTS_COLORS[index % CHARTS_COLORS.length],\r\n\t\t\t\t\t1\r\n\t\t\t\t),\r\n\t\t\t\t// borderColor: Helper.hexToRgbaColorString(CHARTS_COLORS[index % CHARTS_COLORS.length], 1),\r\n\t\t\t\t// yAxisID: 'y-axis-1'\r\n\t\t\t}\r\n\t\t}),\r\n\t}\r\n\r\n\t// const maxTickLimit = 10\r\n\t// const max = datasets[0].step.max || 1\r\n\t// const min = datasets[0].step.min || 0\r\n\t// const step = Math.ceil(max / maxTickLimit) || 1\r\n\r\n\t// let maxTick = (step * maxTickLimit)\r\n\r\n\t// if (max < (maxTickLimit)) {\r\n\t// \tmaxTick = max\r\n\t// }\r\n\r\n\tconst linesOptions = {\r\n\t\tresponsive: true,\r\n\t\ttitle: {\r\n\t\t\tdisplay: true,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\t// elements: {\r\n\t\t// \tline: {\r\n\t\t// \t\tfill: true\r\n\t\t// \t}\r\n\t\t// },\r\n\t\ttooltips: {\r\n\t\t\tmode: 'index',\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t// beginAtZero: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// labels: {\r\n\t\t\t\t\t//     show: true\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t('TIMEFRAME'),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tstacked: true,\r\n\t\t\t\t\t// display: true,\r\n\t\t\t\t\t// ticks: {\r\n\t\t\t\t\t// beginAtZero: true,\r\n\t\t\t\t\t// min: min,\r\n\t\t\t\t\t// max: maxTick,\r\n\t\t\t\t\t// stepSize: step,\r\n\t\t\t\t\t// maxTicksLimit: maxTickLimit + 1\r\n\t\t\t\t\t// },\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t// beginAtZero: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t('VIEWS'),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn <Line data={chartData} options={linesOptions} />\r\n}\r\n","import React from 'react'\r\nimport { PublisherStatistics } from 'components/dashboard/charts/revenue'\r\n\r\nconst getHourId = _id => {\r\n\treturn `${_id.year}-${_id.month}-${_id.day}-${_id.hour}`\r\n}\r\n\r\nconst getDayId = _id => {\r\n\treturn `${_id.year}-${_id.month}-${_id.day}`\r\n}\r\n\r\nconst mapAggregates = ({ aggregates = [] }) => {\r\n\treturn aggregates.reduce(\r\n\t\t({ hourly, daily, channels }, a) => {\r\n\t\t\tconst { aggr = [], channel = {} } = a\r\n\r\n\t\t\tconst channelData = aggr.reduce(\r\n\t\t\t\t({ channelHourly, channelDaily }, e) => {\r\n\t\t\t\t\tconst { _id, value } = e\r\n\r\n\t\t\t\t\tconst hourId = getHourId(_id)\r\n\t\t\t\t\tchannelHourly[hourId] = value\r\n\r\n\t\t\t\t\tconst dayId = getDayId(_id)\r\n\r\n\t\t\t\t\tchannelDaily[dayId] = channelDaily[dayId] || 0\r\n\t\t\t\t\tchannelDaily[dayId] += value\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tchannelHourly,\r\n\t\t\t\t\t\tchannelDaily,\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{ channelHourly: {}, channelDaily: {} }\r\n\t\t\t)\r\n\r\n\t\t\thourly[channel.id] = channelData.channelHourly\r\n\t\t\tdaily[channel.id] = channelData.channelDaily\r\n\t\t\tchannels[channel.id] = channel\r\n\r\n\t\t\treturn {\r\n\t\t\t\thourly,\r\n\t\t\t\tdaily,\r\n\t\t\t\tchannels,\r\n\t\t\t}\r\n\t\t},\r\n\t\t{ hourly: {}, daily: {}, channels: {} }\r\n\t)\r\n}\r\n\r\nexport const PublisherStats = ({ aggregates, t }) => {\r\n\tconst data = mapAggregates({ aggregates })\r\n\r\n\t// console.log('data', data)\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PublisherStatistics\r\n\t\t\t\tdata={data.daily}\r\n\t\t\t\tchannels={data.channels}\r\n\t\t\t\toptions={{ title: t('DAILY') }}\r\n\t\t\t\tt={t}\r\n\t\t\t/>\r\n\t\t\t<PublisherStatistics\r\n\t\t\t\tdata={data.hourly}\r\n\t\t\t\tchannels={data.channels}\r\n\t\t\t\toptions={{ title: t('HOURLY') }}\r\n\t\t\t\tt={t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { BidsStatusPie } from 'components/dashboard/charts/slot'\r\nimport Translate from 'components/translate/Translate'\r\nimport { exchange as ExchangeConstants } from 'adex-constants'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport classnames from 'classnames'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport StatsCard from './StatsCard'\r\nimport { styles } from './styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { PublisherStats } from './PublisherStats'\r\n\r\nconst { BidStatesLabels, BID_STATES } = ExchangeConstants\r\n\r\n// const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#EBE', '#FAC']\r\n\r\nexport class DashboardStats extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tbidsData: [],\r\n\t\t\tbidsStats: {},\r\n\t\t}\r\n\t}\r\n\r\n\t// goToBids = (tab) => {\r\n\t// \tthis.props.history.push('/dashboard/' + this.props.side + '/bids/' + tab)\r\n\t// }\r\n\r\n\tgoToAccount = () => {\r\n\t\tthis.props.history.push('/dashboard/' + this.props.side + '/account')\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.t('DASHBOARD'))\r\n\t}\r\n\r\n\thandleTabChange = index => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tmapBidsToStats = (bids, initialValue) => {\r\n\t\treturn bids.reduce(\r\n\t\t\t(memo, bid) => {\r\n\t\t\t\tmemo.count += 1\r\n\t\t\t\tmemo.amount += parseInt(bid._amount, 10)\r\n\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{ amount: 0, count: 0 }\r\n\t\t)\r\n\t}\r\n\r\n\tmapClosedBidsToStats = bids => {\r\n\t\treturn bids.reduce(\r\n\t\t\t(memo, bid) => {\r\n\t\t\t\tswitch (bid._state) {\r\n\t\t\t\t\tcase BID_STATES.Canceled.id:\r\n\t\t\t\t\t\tmemo.canceled.count += 1\r\n\t\t\t\t\t\tmemo.canceled.amount += parseInt(bid._amount, 10)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase BID_STATES.Expired.id:\r\n\t\t\t\t\t\tmemo.expired.count += 1\r\n\t\t\t\t\t\tmemo.expired.amount += parseInt(bid._amount, 10)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase BID_STATES.Completed.id:\r\n\t\t\t\t\t\tmemo.completed.count += 1\r\n\t\t\t\t\t\tmemo.completed.amount += parseInt(bid._amount, 10)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcompleted: { amount: 0, count: 0 },\r\n\t\t\t\tcanceled: { amount: 0, count: 0 },\r\n\t\t\t\texpired: { amount: 0, count: 0 },\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tgetLabel = (state, count, extraLabel) => {\r\n\t\treturn (\r\n\t\t\tthis.props.t(BidStatesLabels[state]) +\r\n\t\t\t(extraLabel ? extraLabel : '') +\r\n\t\t\t' [' +\r\n\t\t\tcount +\r\n\t\t\t']'\r\n\t\t)\r\n\t}\r\n\r\n\tmapData = ({ action = [], active = [], closed = [], open = [] }) => {\r\n\t\t// NOTE: Ugly but with 1 loop  map all the needed data\r\n\t\tconst PieLabels = []\r\n\t\tconst PieDataCount = []\r\n\t\tconst PieDataAmount = []\r\n\t\tconst tabs = []\r\n\t\tlet totalCount = 0\r\n\r\n\t\tconst stats = {}\r\n\t\t// const { t } = this.props\r\n\r\n\t\tstats.action = this.mapBidsToStats(action)\r\n\t\tconst actionCount = stats.action.count\r\n\t\tPieLabels.push(\r\n\t\t\tthis.getLabel(\r\n\t\t\t\tBID_STATES.Accepted.id,\r\n\t\t\t\tactionCount,\r\n\t\t\t\t' (' + this.props.t('BIDS_READY_TO_VERIFY') + ')'\r\n\t\t\t)\r\n\t\t)\r\n\t\tPieDataCount.push(actionCount)\r\n\t\tPieDataAmount.push(stats.action.amount)\r\n\t\ttotalCount += actionCount\r\n\t\ttabs.push('action')\r\n\r\n\t\tstats.active = this.mapBidsToStats(active)\r\n\t\tconst activeCount = stats.active.count\r\n\t\tPieLabels.push(\r\n\t\t\tthis.getLabel(\r\n\t\t\t\tBID_STATES.Accepted.id,\r\n\t\t\t\tactiveCount,\r\n\t\t\t\t' (' + this.props.t('BIDS_ACTIVE') + ')'\r\n\t\t\t)\r\n\t\t)\r\n\t\tPieDataCount.push(activeCount)\r\n\t\tPieDataAmount.push(stats.active.amount)\r\n\t\ttotalCount += activeCount\r\n\t\ttabs.push('active')\r\n\r\n\t\tstats.open = this.mapBidsToStats(open)\r\n\t\tconst openCount = stats.open.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.DoesNotExist.id, openCount))\r\n\t\tPieDataCount.push(openCount)\r\n\t\tPieDataAmount.push(stats.open.amount)\r\n\t\ttotalCount += openCount\r\n\t\ttabs.push('open')\r\n\r\n\t\tstats.closed = this.mapClosedBidsToStats(closed)\r\n\r\n\t\tconst completedCount = stats.closed.completed.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Completed.id, completedCount))\r\n\t\tPieDataCount.push(completedCount)\r\n\t\tPieDataAmount.push(stats.closed.completed.amount)\r\n\t\ttotalCount += completedCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tconst canceledCount = stats.closed.canceled.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Canceled.id, canceledCount))\r\n\t\tPieDataCount.push(canceledCount)\r\n\t\tPieDataAmount.push(stats.closed.canceled.amount)\r\n\t\ttotalCount += canceledCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tconst expiredCount = stats.closed.expired.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Expired.id, expiredCount))\r\n\t\tPieDataCount.push(expiredCount)\r\n\t\tPieDataAmount.push(stats.closed.expired.amount)\r\n\t\ttotalCount += expiredCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tstats.pieData = {\r\n\t\t\tlabels: PieLabels,\r\n\t\t\tdata: PieDataCount,\r\n\t\t\ttotalCount: totalCount,\r\n\t\t}\r\n\r\n\t\tstats.tabs = tabs\r\n\r\n\t\treturn stats\r\n\t}\r\n\r\n\tBidsStateChart = ({ stats }) => {\r\n\t\tconst t = this.props.t\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BidsStatusPie\r\n\t\t\t\t\tpieData={stats.pieData}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\tchartTitle={t('TITLE_STATS_BY_BID_STATUS')}\r\n\t\t\t\t\tonPieClick={ev => {\r\n\t\t\t\t\t\tif (ev && !isNaN(ev._index)) {\r\n\t\t\t\t\t\t\tthis.goToBids(stats.tabs[ev._index])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: Common func to get account stats for here and account component\r\n\tInfoStats = ({ stats }) => {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// side,\r\n\t\t\taccount,\r\n\t\t} = this.props\r\n\t\t// const spentEarned = side === 'publisher' ? 'LABEL_TOTAL_REVENUE' : 'LABEL_TOTAL_EXPENSES'\r\n\r\n\t\tconst formatted = account.stats.formatted || {}\r\n\t\tconst {\r\n\t\t\t// walletAddress,\r\n\t\t\t// walletAuthType,\r\n\t\t\t// walletPrivileges,\r\n\t\t\t// walletBalanceEth,\r\n\t\t\t// walletBalanceDai,\r\n\t\t\t// identityAddress,\r\n\t\t\tidentityBalanceDai,\r\n\t\t\toutstandingBalanceDai,\r\n\t\t\ttotalIdentityBalanceDai,\r\n\t\t} = formatted\r\n\t\tconst classes = this.props.classes\r\n\t\treturn (\r\n\t\t\t<div className={classes.infoStatsContainer}>\r\n\t\t\t\t{/* <StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tsubtitle={t(spentEarned)}\r\n\t\t\t\t\t// title={adxToFloatView(stats.closed.completed.amount || 0) + ' ADX'}\r\n\t\t\t\t\tonClick={() => this.goToBids('closed')}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={() => this.goToBids('action')}\r\n\t\t\t\t\tsubtitle={t('LABEL_AMOUNT_READY_TO_VERIFY')}\r\n\t\t\t\t\t// title={adxToFloatView(stats.action.amount || 0) + ' ADX'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t{side === 'advertiser' &&\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tlinkCard\r\n\t\t\t\t\t\tonClick={() => this.goToBids('open')}\r\n\t\t\t\t\t\tsubtitle={t('LABEL_OPEN_BIDS_AMOUNT')}\r\n\t\t\t\t\t\t// title={adxToFloatView(stats.open.amount || 0) + ' ADX'}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t} */}\r\n\r\n\t\t\t\t{/* <StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('WALLET_ETH_BALANCE')}\r\n\t\t\t\t\ttitle={walletBalanceEth + ' ETH'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('WALLET_DAI_BALANCE')}\r\n\t\t\t\t\ttitle={walletBalanceDai + ' DAI'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard> */}\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('IDENTITY_DAI_BALANCE_AVAILABLE_INFO', {\r\n\t\t\t\t\t\targs: [identityBalanceDai, outstandingBalanceDai],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\ttitle={totalIdentityBalanceDai + ' DAI'}\r\n\t\t\t\t></StatsCard>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tside,\r\n\t\t\t// sideBids,\r\n\t\t\tclasses,\r\n\t\t\tt,\r\n\t\t\taccount,\r\n\t\t} = this.props\r\n\t\tif (side !== 'advertiser' && side !== 'publisher') {\r\n\t\t\treturn <SideSelect active={true} />\r\n\t\t}\r\n\r\n\t\tconst aggregates =\r\n\t\t\taccount && account.stats && account.stats.raw\r\n\t\t\t\t? account.stats.raw.aggregates\r\n\t\t\t\t: null\r\n\r\n\t\t// const stats = this.mapData(sideBids)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item md={12} lg={12} xs={12}>\r\n\t\t\t\t\t\t<Card className={classnames(classes.dashboardCardBody)}>\r\n\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t{aggregates ? (\r\n\t\t\t\t\t\t\t\t\t<PublisherStats\r\n\t\t\t\t\t\t\t\t\t\taggregates={account.stats.raw.aggregates}\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\tt('NO_STATS_YET')\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item md={12} lg={6}>\r\n\t\t\t\t\t\t<this.InfoStats\r\n\t\t\t\t\t\t// stats={stats}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDashboardStats.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tside: memory.nav.side,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(DashboardStats)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnit } from 'adex-models'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Translate from 'components/translate/Translate'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\n\r\nexport class Unit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcloseDialog: false,\r\n\t\t}\r\n\t}\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t//     return diffProps || diffState\r\n\t// }\r\n\trender() {\r\n\t\tconst { item, t, ...rest } = this.props\r\n\r\n\t\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\ttargets={item.targeting}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tsubHeader={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nUnit.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\treturn {\r\n\t\tobjModel: AdUnit,\r\n\t\titemType: 'AdUnit',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst UnitItem = ItemHoc(Unit)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(UnitItem))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\nimport copy from 'copy-to-clipboard'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport url from 'url'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\nconst { DAI } = contracts\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\r\n\tconst { type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = account.identity.address\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedToken: DAI.address,\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\tminTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.integrationLabel}>\r\n\t\t\t\t{t('INTEGRATION_CODE')}\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\tonCopy && onCopy()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t\t<Paper>\r\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport class Slot extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\teditFallbackImg: false,\r\n\t\t\ttabIndex: 0,\r\n\t\t}\r\n\t}\r\n\r\n\thandleFallbackImgUpdateToggle = () => {\r\n\t\tconst active = this.state.editFallbackImg\r\n\t\tthis.setState({ editFallbackImg: !active })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\tisDemo,\r\n\t\t\titem,\r\n\t\t\taccount,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\tcanEditImg={!isDemo}\r\n\t\t\t\t\trightComponent={null}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && null}\r\n\t\t\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t\t\t<IntegrationCode\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\t\tslot={item}\r\n\t\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\taction: 'X',\r\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSlot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tobjModel: AdSlot,\r\n\t\titemType: 'AdSlot',\r\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\r\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\r\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\r\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\r\n\t\tupdateImgExact: true,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SlotItem)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tintegrationLabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tpadding: spacing,\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass Items extends Component {\r\n\tcomponentWillMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.header)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, itemType, ...rest } = this.props\r\n\t\tconst items = Array.from(Object.values(this.props.items || {})) || []\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{!!this.props.newItemBtn && <this.props.newItemBtn />}\r\n\r\n\t\t\t\t<ItemsList\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\titems={items}\r\n\t\t\t\t\tviewModeId={this.props.viewModeId}\r\n\t\t\t\t\tarchive\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nItems.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titems: PropTypes.object.isRequired,\r\n\tviewModeId: PropTypes.string.isRequired,\r\n\theader: PropTypes.string.isRequired,\r\n\tobjModel: PropTypes.func.isRequired,\r\n\titemType: PropTypes.string.isRequired,\r\n\tsortProperties: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\titems: persist.items[props.itemType] || [],\r\n\t\tside: memory.nav.side,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Items))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ListWithControls from 'components/dashboard/containers/Lists/ListWithControls'\r\nimport classnames from 'classnames'\r\nimport Rows from 'components/dashboard/collection/Rows'\r\nimport TableCellMui from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { styles } from './styles'\r\n\r\nconst SORT_PROPERTIES = [\r\n\t{ value: 'sendingTime', label: '' },\r\n\t{ value: 'status', label: '' },\r\n\t{ value: 'txMethod', label: '' },\r\n\t{ value: 'id', label: '' },\r\n]\r\n\r\nconst TableCell = ({ children, ...rest }) => (\r\n\t<TableCellMui {...rest}>{!!children && children}</TableCellMui>\r\n)\r\n\r\nclass Transactions extends Component {\r\n\tcomponentWillMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.t('TRANSACTIONS'))\r\n\t}\r\n\r\n\trenderTableHead() {\r\n\t\tlet t = this.props.t\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t<TableCell> {t('TRANS_METHOD')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_ID')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_NONCE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_STATUS')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_SENDING_TIME')} </TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: make something common with unit bids\r\n\trenderTableRow(transaction, index, { to, selected }) {\r\n\t\tif (!transaction) return null\r\n\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<TableRow key={transaction.id || index}>\r\n\t\t\t\t<TableCell> {t(transaction.txMethod)} </TableCell>\r\n\t\t\t\t<TableCell className={classnames(classes.compactCol)}>\r\n\t\t\t\t\t<Typography noWrap>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_TX_HOST + transaction.id}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t{transaction.id}{' '}\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell> {transaction.nonce} </TableCell>\r\n\t\t\t\t<TableCell> {transaction.status} </TableCell>\r\n\t\t\t\t<TableCell> {formatDateTime(transaction.sendingTime)} </TableCell>\r\n\t\t\t</TableRow>\r\n\t\t)\r\n\t}\r\n\r\n\trenderRows = items => (\r\n\t\t<Rows\r\n\t\t\tmultiSelectable={false}\r\n\t\t\tselectable={false}\r\n\t\t\tside={this.props.side}\r\n\t\t\titem={items}\r\n\t\t\trows={items}\r\n\t\t\trowRenderer={this.renderTableRow.bind(this)}\r\n\t\t\ttableHeadRenderer={this.renderTableHead.bind(this)}\r\n\t\t/>\r\n\t)\r\n\r\n\tsearchMatch = transaction => {\r\n\t\treturn (\r\n\t\t\t(transaction.id || '') +\r\n\t\t\t(transaction.status || '') +\r\n\t\t\t(transaction.bidId || '') +\r\n\t\t\t(transaction.state || '') +\r\n\t\t\t(transaction.sendingTime || '')\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\t// let t = this.props.t\r\n\t\tconst { transactions } = this.props\r\n\r\n\t\tconst reduced = Object.keys(transactions).reduce((memo, key) => {\r\n\t\t\tif (key && key.toString().length === 66) {\r\n\t\t\t\tconst itm = { ...transactions[key] }\r\n\t\t\t\titm.id = key\r\n\t\t\t\tmemo.push(itm)\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t}, [])\r\n\r\n\t\t// let itemsCount = reduced.length\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{/* <div className={classnames(theme.heading, theme.Transactions, theme.items)}>\r\n                    <h2 > {t('TRANSACTIONS')} {'(' + itemsCount + ')'} </h2>\r\n                </div> */}\r\n\r\n\t\t\t\t<ListWithControls\r\n\t\t\t\t\titems={reduced}\r\n\t\t\t\t\tlistMode='rows'\r\n\t\t\t\t\tdelete\r\n\t\t\t\t\trenderRows={this.renderRows}\r\n\t\t\t\t\tsortProperties={SORT_PROPERTIES}\r\n\t\t\t\t\tsearchMatch={this.searchMatch}\r\n\t\t\t\t\tuiStateId='transactions'\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nTransactions.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\ttransactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist } = state\r\n\tconst { account, web3Transactions } = persist\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount,\r\n\t\ttransactions: {\r\n\t\t\t...(web3Transactions[account.wallet.address] || {}),\r\n\t\t\t...(web3Transactions[account.identity.address] || {}),\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(Transactions)))\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tcompactCol: {\r\n\t\t\tmaxWidth: 80,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n\r\n// const { TX_STATUS } = ExchangeConstants\r\n\r\nexport default function NewTransactionHoc(Decorated) {\r\n\t// TODO: make it common for bids and items\r\n\tclass TransactionHoc extends Component {\r\n\t\tcomponentWillMount() {\r\n\t\t\t// console.log('TransactionHoc')\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\r\n\t\t}\r\n\r\n\t\t// addTx = (tx) => {\r\n\t\t//     let txData = { ...tx }\r\n\t\t//     txData.status = TX_STATUS.Pending.id\r\n\t\t//     txData.sendingTime = Date.now()\r\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\r\n\t\t// }\r\n\r\n\t\tonSave = (err, tx, manyTxs) => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetTransaction()\r\n\t\t}\r\n\r\n\t\tresetTransaction = () => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.resetNewTransaction({ tx: txId })\r\n\t\t}\r\n\r\n\t\thandleSaveRes = ({ err, res }) => {\r\n\t\t\tconst { t, actions } = this.props\r\n\t\t\t// const areManyTxs = Array.isArray(res)\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\tactions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.onSave(err, res, Array.isArray(res))\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tthis.handleChange('waitingForWalletAction', true)\r\n\t\t\tthis.props\r\n\t\t\t\t.saveFn({\r\n\t\t\t\t\tacc: this.props.account,\r\n\t\t\t\t\ttransaction: this.props.transaction,\r\n\t\t\t\t})\r\n\t\t\t\t.then((res = {}) => {\r\n\t\t\t\t\tconsole.log('res on save', res)\r\n\r\n\t\t\t\t\tconst txs = res.txResults || res\r\n\t\t\t\t\tconst err = res.err || null\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error = {}) => {\r\n\t\t\t\t\tconsole.log('err on save', error)\r\n\t\t\t\t\tconst res = error.txResults || null\r\n\t\t\t\t\tconst err = error.err || error\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\t// TODO: take a look at onSave if change something\r\n\t\t\tthis.onSave(null, null)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tlet transaction = this.props.transaction || {}\r\n\t\t\tlet props = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\ttransaction={transaction}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tresetTransaction={this.resetTransaction}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tTransactionHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tlabel: PropTypes.string,\r\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t\t.isRequired,\r\n\t\ttransaction: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tsaveFn: PropTypes.func,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\tconst txId = props.stepsId\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\t\ttxId: txId,\r\n\t\t\tspinner: memory.spinners[txId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(TransactionHoc))\r\n}\r\n","import React from 'react'\r\nimport { LinearProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ msg, className }) => (\r\n\t<div>\r\n\t\t<LinearProgress className={className} />\r\n\t\t{msg ? <div> {msg} </div> : null}\r\n\t</div>\r\n)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { validateNumber } from 'helpers/validators'\r\nimport { InputLoading } from 'components/common/spinners/'\r\n\r\nclass WithdrawFromIdentity extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { validate, transaction } = this.props\r\n\t\t// If nothing entered will validate\r\n\t\tif (!transaction.withdrawAmount) {\r\n\t\t\tvalidate('withdrawAmount', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!transaction.withdrawTo) {\r\n\t\t\tvalidate('withdrawTo', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet errMsgArgs = []\r\n\t\tif (\r\n\t\t\tisValid &&\r\n\t\t\tparseFloat(numStr) > parseFloat(this.props.identityAvailable)\r\n\t\t) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\terrMsgArgs = [this.props.identityAvailable, 'DAI']\r\n\t\t}\r\n\r\n\t\tthis.props.validate('withdrawAmount', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: msg, args: errMsgArgs },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\tvalidate,\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\tidentityAvailable,\r\n\t\t\thandleChange,\r\n\t\t\twithdrawToSpinner,\r\n\t\t} = this.props\r\n\t\tconst { withdrawTo, withdrawAmount } = transaction || {}\r\n\t\tconst errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{t('EXCHANGE_CURRENT_DAI_BALANCE_AVAILABLE_ON_IDENTITY')}{' '}\r\n\t\t\t\t\t{identityAvailable}{' '}\r\n\t\t\t\t</div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={withdrawToSpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\r\n\t\t\t\t\tname='withdrawAmount'\r\n\t\t\t\t\tvalue={withdrawAmount || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\r\n\t\t\t\t\t\t\t? errAmount.errMsg\r\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\targs: [identityAvailable, 'DAI'],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst WithdrawFromIdentityForm = NewTransactionHoc(WithdrawFromIdentity)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(WithdrawFromIdentityForm)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { InputLoading } from 'components/common/spinners/'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.keys(IdentityPrivilegeLevel).map(key => {\r\n\treturn {\r\n\t\tvalue: IdentityPrivilegeLevel[key],\r\n\t\tlabel: key,\r\n\t}\r\n})\r\n\r\nclass SeAddressPrivilege extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { transaction, validate } = this.props\r\n\t\tif (!transaction.withdrawAmount) {\r\n\t\t\tvalidate('setAddr', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\tidentityAvailable,\r\n\t\t\thandleChange,\r\n\t\t\tsetAddrSpinner,\r\n\t\t\tvalidate,\r\n\t\t} = this.props\r\n\t\tconst { setAddr, privLevel } = transaction || {}\r\n\t\t// const errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['setAddr']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')} {identityAvailable}{' '}\r\n\t\t\t\t</div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\t\tname='setAddr'\r\n\t\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('setAddr', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: setAddr,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'setAddr',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: setAddr,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'setAddr',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{setAddrSpinner ? <InputLoading /> : null}\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t\thelperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\t\tonChange={val => handleChange('privLevel', val)}\r\n\t\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\tsetAddrSpinner: memory.spinners['setAddr'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SeAddressPrivilegeForm = NewTransactionHoc(SeAddressPrivilege)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SeAddressPrivilegeForm)\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { constants } from 'adex-models'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfees,\r\n\twithdrawAmount,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawAmount'\r\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [fees.fees, 'DAI', fees.toGet, 'DAI'],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={withdrawAmount + ' DAI'}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tt,\r\n\tsetAddr,\r\n\tclasses,\r\n\tfees,\r\n\tprivLevel,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [fees.fees, 'DAI'],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={privilegesNames[privLevel]}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\n// import { DEFAULT_GAS_PRICE } from 'services/smart-contracts/constants'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { IdentityWithdrawPreview, SetPrivilegePreview } from './previews'\r\n\r\nclass TransactionPreview extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\tgas: null,\r\n\t\t\tfees: null,\r\n\t\t\terrors: [],\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst {\r\n\t\t\tgetFeesFn,\r\n\t\t\tactions,\r\n\t\t\thandleChange,\r\n\t\t\tidentityAvailable,\r\n\t\t\ttransaction,\r\n\t\t\ttxId,\r\n\t\t\tt,\r\n\t\t\taccount,\r\n\t\t} = this.props\r\n\t\tif (getFeesFn && Object.keys(transaction).length) {\r\n\t\t\tactions.updateSpinner(txId, true)\r\n\t\t\tgetFeesFn({ acc: account, transaction: transaction })\r\n\t\t\t\t.then(fees => {\r\n\t\t\t\t\thandleChange('fees', fees)\r\n\t\t\t\t\tthis.setState({ fees: fees })\r\n\t\t\t\t\tactions.updateSpinner(txId, false)\r\n\r\n\t\t\t\t\tif (parseFloat(fees.fees || 0) > parseFloat(identityAvailable)) {\r\n\t\t\t\t\t\thandleChange('errors', [\r\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\r\n\t\t\t\t\t\t\t\targs: [identityAvailable, 'DAI', fees.fees, 'DAI'],\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\tactions.updateSpinner(txId, false)\r\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttransaction = {},\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\taccount,\r\n\t\t\tpreviewWarnMsgs,\r\n\t\t\tspinner,\r\n\t\t\tstepsId,\r\n\t\t} = this.props\r\n\t\tconst errors = transaction.errors || []\r\n\t\tconst {\r\n\t\t\twithdrawTo,\r\n\t\t\twithdrawAmount,\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t\tfees = {},\r\n\t\t} = transaction\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{spinner ? (\r\n\t\t\t\t\t<FullContentSpinner />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox>\r\n\t\t\t\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tfees={fees}\r\n\t\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tfees={fees}\r\n\t\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n\testimateGasFn: PropTypes.func,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\ttxId: txId,\r\n\t\tspinner: memory.spinners[txId],\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(TransactionPreviewForm))\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromExchangePage from './WithdrawFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport Button from '@material-ui/core/Button'\r\nimport TransactionHoc from './TransactionHoc'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\n// import SaveIcon from '@material-ui/icons/Save'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n} from 'services/smart-contracts/actions/identity'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst SaveBtn = ({\r\n\tsave,\r\n\tsaveBtnLabel,\r\n\tsaveBtnIcon,\r\n\tt,\r\n\ttransaction,\r\n\twaitingForWalletAction,\r\n\tspinner,\r\n\t...other\r\n}) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={\r\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\r\n\t\t\t\t!!transaction.waitingForWalletAction ||\r\n\t\t\t\t!!spinner\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || ''\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\r\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\r\n}\r\n\r\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\r\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\r\n\r\nconst txCommon = {\r\n\tSaveBtn: SaveBtnWithTransaction,\r\n\tCancelBtn: CancelBtnWithTransaction,\r\n\tvalidateIdBase: 'tx-',\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tpage: WithdrawFromExchangePage,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn props.actions.identityWithdraw({\r\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\twithdrawTo: transaction.withdrawTo,\r\n\t\t\t})\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction } = {}) => {\r\n\t\t\treturn withdrawFromIdentity({\r\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\tstepsId='setIdentityPrivilege'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\tpage: SeAddressPrivilege,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn props.actions.addrIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t})\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction } = {}) => {\r\n\t\t\treturn setIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport copy from 'copy-to-clipboard'\r\nimport Translate from 'components/translate/Translate'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles.js'\r\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\r\n// const RRButton = withReactRouterLink(Button)\r\n\r\nclass AccountInfo extends React.Component {\r\n\t// eslint-disable-next-line no-useless-constructor\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\twalletJsonData: this.localWalletDownloadHref(),\r\n\t\t\texpanded: false,\r\n\t\t}\r\n\t}\r\n\r\n\tUNSAFE_componentWillMount() {\r\n\t\tconst { t, actions, account } = this.props\r\n\t\tconst { updateNav, updateAccountStats } = actions\r\n\t\tupdateNav('navTitle', t('ACCOUNT'))\r\n\t\tupdateAccountStats(account)\r\n\t}\r\n\r\n\tlocalWalletDownloadHref = () => {\r\n\t\tconst { account } = this.props\r\n\t\tconst { email, password } = account.wallet\r\n\t\tconst obj = getRecoveryWalletData({ email, password })\r\n\t\tif (!obj) {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tconst data =\r\n\t\t\t'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(obj))\r\n\t\treturn data\r\n\t}\r\n\r\n\tonSave = () => {\r\n\t\t// this.getStats()\r\n\t}\r\n\r\n\thandleExpandChange = () => {\r\n\t\tthis.setState({ expanded: !this.state.expanded })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, account, classes, actions } = this.props\r\n\t\tconst { grantType } = account.settings\r\n\t\tconst formatted = account.stats.formatted || {}\r\n\t\tconst {\r\n\t\t\twalletAddress,\r\n\t\t\twalletAuthType,\r\n\t\t\twalletPrivileges,\r\n\t\t\t// walletBalanceEth,\r\n\t\t\t// walletBalanceDai,\r\n\t\t\tidentityAddress,\r\n\t\t\tidentityBalanceDai,\r\n\t\t} = formatted\r\n\t\tconst { authType, email } = account.wallet\r\n\t\tconst { walletJsonData, expanded } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t// dense={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\tprimary={identityAddress}\r\n\t\t\t\t\t\t\tsecondary={\r\n\t\t\t\t\t\t\t\taccount._authType === 'demo'\r\n\t\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_IDENTITY_ADDRESS')\r\n\t\t\t\t\t\t\t\t\t: t('IDENTITY_ETH_ADDR')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{walletJsonData && (\r\n\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tid='download-wallet-json'\r\n\t\t\t\t\t\t\t\t\thref={this.localWalletDownloadHref()}\r\n\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained'>\r\n\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\r\n\t\t\t\t\t\t\t\t\t\t<DownloadIcon />\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\taction: 'X',\r\n\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\tsecondary={walletAddress}\r\n\t\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\taccount.authType === 'demo'\r\n\t\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_WALLET_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAuthType, walletPrivileges],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t: t('WALLET_INFO_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\twalletAuthType,\r\n\t\t\t\t\t\t\t\t\t\t\t\twalletPrivileges || ' - ',\r\n\t\t\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={identityBalanceDai + ' DAI'}\r\n\t\t\t\t\t\t\tsecondary={t('IDENTITY_DAI_BALANCE_AVAILABLE')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className={classes.itemActions}>\r\n\t\t\t\t\t\t\t{grantType !== 'advertiser' && (\r\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonSave={this.onSave}\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={identityBalanceDai}\r\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={identityBalanceDai}\r\n\t\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.actionBtn}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\t\tonChange={this.handleExpandChange}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className={classes.itemActions}>\r\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tonSave={this.onSave}\r\n\t\t\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.actionBtn}\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={identityBalanceDai}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t\t</ExpansionPanel>\r\n\t\t\t\t</List>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAccountInfo.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\tconst { account } = persist\r\n\r\n\treturn {\r\n\t\taccount: account,\r\n\t\tside: memory.nav.side,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(AccountInfo)))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\titemActions: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: '0 0 187px',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\talignItems: 'flex-end',\r\n\t\t\tjustifyContent: 'space-around',\r\n\t\t},\r\n\t\tactionBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t},\r\n\t}\r\n}\r\n","import configureStore from 'store/configureStore'\r\nimport actions from 'actions'\r\nimport { getTransactionsReceipts } from 'services/smart-contracts/actions/ethers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n// const { TX_STATUS } = ExchangeConstants\r\nconst { store } = configureStore\r\n\r\nlet transactionsCheckTimeout = null\r\n\r\nconst clearTransactionsTimeout = () => {\r\n\tif (transactionsCheckTimeout) {\r\n\t\tclearTimeout(transactionsCheckTimeout)\r\n\t\ttransactionsCheckTimeout = null\r\n\t}\r\n}\r\n\r\nconst syncTransactions = async () => {\r\n\tconst { account, web3Transactions } = store.getState().persist\r\n\tconst transactions = {\r\n\t\t...(web3Transactions[account.wallet.address] || {}),\r\n\t\t...(web3Transactions[account.identity.address] || {}),\r\n\t}\r\n\tconst txHashes = Object.keys(transactions).reduce((memo, key) => {\r\n\t\tif (key && key.toString().length === 66) {\r\n\t\t\tmemo.push(key)\r\n\t\t}\r\n\t\treturn memo\r\n\t}, [])\r\n\r\n\tif (!txHashes.length) {\r\n\t\treturn\r\n\t}\r\n\r\n\tconst receipts = await getTransactionsReceipts({\r\n\t\ttxHashes,\r\n\t\tauthType: account.wallet.authType,\r\n\t})\r\n\r\n\t// return\r\n\treceipts.forEach(rec => {\r\n\t\tif (rec && rec.transactionHash && rec.status) {\r\n\t\t\t// NOTE: web3.eth.getTransactionReceipt changed status vale from 0x1 to true for success but we keep bot now\r\n\t\t\tconst status =\r\n\t\t\t\trec.status === 1 || rec.status === '0x1' || rec.status === true\r\n\t\t\t\t\t? 'success'\r\n\t\t\t\t\t: 'failed'\r\n\t\t\tif (transactions[rec.transactionHash].status !== status) {\r\n\t\t\t\tactions.execute(\r\n\t\t\t\t\tactions.updateWeb3Transaction({\r\n\t\t\t\t\t\ttx: rec.transactionHash,\r\n\t\t\t\t\t\tkey: 'status',\r\n\t\t\t\t\t\tvalue: status,\r\n\t\t\t\t\t\taddr: rec.from,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst checkTransactions = () => {\r\n\tsyncTransactions()\r\n\t\t.then(() => {\r\n\t\t\tcheckTransactionsLoop()\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tcheckTransactionsLoop()\r\n\t\t})\r\n}\r\n\r\nconst checkTransactionsLoop = () => {\r\n\tclearTransactionsTimeout()\r\n\r\n\ttransactionsCheckTimeout = setTimeout(checkTransactions, 20 * 1000)\r\n}\r\n\r\nconst start = () => {\r\n\tclearTransactionsTimeout()\r\n\tcheckTransactions()\r\n}\r\n\r\nconst stop = () => {\r\n\tclearTransactionsTimeout()\r\n}\r\n\r\n// const addTransaction\r\n\r\nexport default {\r\n\tstart,\r\n\tstop,\r\n}\r\n","import React from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Campaign from 'components/dashboard/containers/Campaign'\r\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Items from 'components/dashboard/containers/Items'\r\nimport Transactions from 'components/dashboard/containers/Transactions'\r\nimport {\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n\tCampaign as CampaignModel,\r\n} from 'adex-models'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport Translate from 'components/translate/Translate'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport checkTransactions from 'services/store-data/transactions'\r\nimport {\r\n\tSORT_PROPERTIES_ITEMS,\r\n\tFILTER_PROPERTIES_ITEMS,\r\n\tFILTER_PROPERTIES_CAMPAIGN,\r\n\tSORT_PROPERTIES_CAMPAIGN,\r\n} from 'constants/misc'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nclass Dashboard extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tdrawerActive: false,\r\n\t\t\tdrawerPinned: false,\r\n\t\t\tsidebarPinned: false,\r\n\t\t\tmobileOpen: false,\r\n\t\t}\r\n\t}\r\n\r\n\thandleDrawerToggle = () => {\r\n\t\tthis.setState({ mobileOpen: !this.state.mobileOpen })\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tcheckTransactions.stop()\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { actions } = this.props\r\n\r\n\t\tactions.updateNav('side', this.props.match.params.side)\r\n\t\tactions.getRelayerConfig()\r\n\t\tactions.getAllItems()\r\n\t\tactions.updateAccountStats()\r\n\t\tactions.updateAccountSettings()\r\n\t\tcheckTransactions.start()\r\n\t}\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\r\n\t// }\r\n\r\n\tcomponentWillUpdate(nextProps) {\r\n\t\tif (nextProps.match.params.side !== this.props.match.params.side) {\r\n\t\t\tthis.props.actions.updateNav('side', nextProps.match.params.side)\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleDrawerActive = () => {\r\n\t\tthis.setState({ drawerActive: !this.state.drawerActive })\r\n\t}\r\n\r\n\ttoggleDrawerPinned = () => {\r\n\t\tthis.setState({ drawerPinned: !this.state.drawerPinned })\r\n\t}\r\n\r\n\ttoggleSidebar = () => {\r\n\t\tthis.setState({ sidebarPinned: !this.state.sidebarPinned })\r\n\t}\r\n\r\n\trenderAdUnits = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_UNITS')}\r\n\t\t\t\tviewModeId='rowsViewUnits'\r\n\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\tnewItemBtn={() => (\r\n\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\tobjModel={AdUnitModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\tuiStateId='units'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trenderCampaigns = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_CAMPAIGNS')}\r\n\t\t\t\tviewModeId='rowsViewCampaigns'\r\n\t\t\t\titemType={'Campaign'}\r\n\t\t\t\tnewItemBtn={() => (\r\n\t\t\t\t\t<NewCampaignDialog\r\n\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\taccent\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\tobjModel={CampaignModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_CAMPAIGN}\r\n\t\t\t\tuiStateId='campaigns'\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_CAMPAIGN}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trenderAdSlots = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_SLOTS')}\r\n\t\t\t\tviewModeId='rowsViewSlots'\r\n\t\t\t\titemType={'AdSlot'}\r\n\t\t\t\tnewItemBtn={() => (\r\n\t\t\t\t\t<NewSlotDialog\r\n\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\taccent\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\tobjModel={AdSlotModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\tuiStateId='slots'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\thandleDrawerOpen = () => {\r\n\t\tthis.setState({ open: true })\r\n\t}\r\n\r\n\thandleDrawerClose = () => {\r\n\t\tthis.setState({ open: false })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst side = this.props.side || this.props.match.params.side\r\n\t\tconst { classes, theme } = this.props\r\n\r\n\t\tconst drawer = (\r\n\t\t\t<div>\r\n\t\t\t\t{/* <div className={classes.toolbar}>\r\n                    <SideSwitch side={side} t={this.props.t} />\r\n                </div>\r\n                <Divider /> */}\r\n\t\t\t\t<SideNav location={this.props.location} side={side} />\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<TopBar\r\n\t\t\t\t\tside={side}\r\n\t\t\t\t\topen={this.state.open}\r\n\t\t\t\t\thandleDrawerToggle={this.handleDrawerToggle}\r\n\t\t\t\t/>\r\n\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\t\tanchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n\t\t\t\t\t\topen={this.state.mobileOpen}\r\n\t\t\t\t\t\tonClose={this.handleDrawerToggle}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{drawer}\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</Hidden>\r\n\t\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\t\topen\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{drawer}\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t<main className={classes.content}>\r\n\t\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t\t<div className={classes.toolbar} />\r\n\r\n\t\t\t\t\t\t<Switch locatiom={this.props.location}>\r\n\t\t\t\t\t\t\tTODO: Make things dynamic if easier\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\t\tcomponent={this.renderCampaigns}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\t\tcomponent={this.renderAdUnits}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Campaign}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Unit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/channels'\r\n\t\t\t\t\t\t\t\tcomponent={this.renderChannels}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\t\tcomponent={this.renderAdSlots}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Slot}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={Transactions}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\t\t\t\tcomponent={DashboardStats}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\tcomponent={() => <h1>404 at {side} side</h1>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDashboard.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tnull,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles, { withTheme: true })(Dashboard)))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tposition: 'relative',\r\n\t\t\theight: '100vh',\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport Img from 'components/common/img/Img'\r\nimport classnames from 'classnames'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass AuthSelect extends Component {\r\n\tcomponentDidMount() {\r\n\t\t// NOTE: reset identity if someone press backspace\r\n\t\t// to go to this page\r\n\t\tthis.props.actions.resetIdentity()\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2} direction='column' alignItems='stretch'>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/identity/grant'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CREATE_GRANT_ACCOUNT')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/login/grant'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('LOGIN_GRANT_ACCOUNT')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/login/full?metamask'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tclassName={classes.metamaskBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto='/login/full?trezor'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\tclassName={classnames(classes.btnLogo, classes.btnLogoNoTxt)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(AuthSelect))\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.grey[800],\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tclass Connect extends Component {\r\n\t\trender() {\r\n\t\t\tconst { classes, t, noBackground, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<div className={classes.root}>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t// spacing={2}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={9}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\t\tmd={3}\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tclassName={classes.buttons}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tdirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tjustify='space-between'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t\t<div className={classes.adexLogoTop}>\r\n\t\t\t\t\t\t\t\t\t\t<Logo className={classes.logo} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tConnect.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\t// const persist = state.persist\r\n\t\t// const memory = state.memory\r\n\t\treturn {\r\n\t\t\t// account: persist.account\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(withStyles(styles)(Connect)))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n\r\nexport default function IdentityHoc(Decorated) {\r\n\tclass IdentityForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tready: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value) => {\r\n\t\t\tthis.props.actions.updateIdentity(prop, value)\r\n\t\t}\r\n\r\n\t\tcomponentDidUpdate = () => {\r\n\t\t\tif (this.props.account.wallet.authSig) {\r\n\t\t\t\tthis.props.history.push('/side-select')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { identity, actions } = this.props\r\n\t\t\tconst { wallet, email, identityData } = identity\r\n\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tactions.createSession({\r\n\t\t\t\tidentity: identityData,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\temail,\r\n\t\t\t\tregisterExpected: !identityData,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tconst { resetIdentity } = this.props.actions\r\n\t\t\tresetIdentity()\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tidentity={identity}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\twaiting={spinner}\r\n\t\t\t\t\twaitingExpected={waitingExpected}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tIdentityForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tidentity: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tidentity: memory.identity,\r\n\t\t\tspinner: memory.spinners['creating-session'],\r\n\t\t\twaitingExpected: memory.spinners['getting-expected-identity'],\r\n\t\t\twaitingUpload: memory.spinners['uploading-account-data'],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(IdentityForm)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: spacing,\r\n\t\t\tbottom: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh',\r\n\t\t},\r\n\t\tformControl: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\tinfoPaper: {\r\n\t\t\t...theme.mixins.gutters(),\r\n\t\t\tpaddingTop: spacing * 2,\r\n\t\t\tpaddingBottom: spacing * 2,\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tdisplay: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { validEmail, validQuickAccountCoupon } from 'helpers/validators'\r\nimport { checkAccessCode } from 'services/adex-relayer/actions'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst ACCESS_CODE_CHECK = process.env.ACCESS_CODE_CHECK === 'true'\r\n\r\nclass IdentityContractAddressEthDeploy extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { email, emailCheck, code } = this.props.identity\r\n\r\n\t\tthis.validateIdentity()\r\n\t\tthis.validateEmail(email, false)\r\n\t\tthis.validateEmailCheck(emailCheck, false)\r\n\t\tACCESS_CODE_CHECK && this.validateCode(code, false)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currIdentity = this.props.identity.identityData\r\n\t\tif (\r\n\t\t\t!!currIdentity &&\r\n\t\t\tcurrIdentity.address !== (prevProps.identity.identityData || {}).address\r\n\t\t) {\r\n\t\t\tthis.validateIdentity()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateIdentity = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityData } = identity\r\n\r\n\t\tvalidate('identityData', {\r\n\t\t\tisValid: !!identityData,\r\n\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmail(email, dirty) {\r\n\t\tconst isValid = validEmail(email)\r\n\t\tthis.props.validate('email', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmailCheck(emailCheck, email, dirty) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tthis.props.validate('emailCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateCode(code, dirty) {\r\n\t\tconst isValidFormat = validQuickAccountCoupon(code)\r\n\r\n\t\tif (!isValidFormat) {\r\n\t\t\tthis.props.validate('code', {\r\n\t\t\t\tisValid: isValidFormat,\r\n\t\t\t\terr: { msg: 'ERR_ACCESS_CODE_FORMAT' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({ waitingCheck: true }, () => {\r\n\t\t\t\tcheckAccessCode({ code })\r\n\t\t\t\t\t.then((cpn = {}) => {\r\n\t\t\t\t\t\tconst isValid = cpn.exist === true && cpn.used === false\r\n\t\t\t\t\t\tlet msg = ''\r\n\t\t\t\t\t\tif (cpn.exist === false) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_ACCESS_CODE_NOT_EXIST'\r\n\t\t\t\t\t\t} else if (cpn.used === true) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_ACCESS_CODE_USED'\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.props.validate('code', {\r\n\t\t\t\t\t\t\tisValid: isValid,\r\n\t\t\t\t\t\t\terr: { msg: msg },\r\n\t\t\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.props.validate('code', {\r\n\t\t\t\t\t\t\tisValid: false,\r\n\t\t\t\t\t\t\terr: { msg: 'ERR_ACCESS_CODE_NETWORK' },\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tgetIdentityContractData = async () => {\r\n\t\tconst { actions, identity } = this.props\r\n\t\tconst { wallet, email } = identity\r\n\t\tactions.getRegisterExpectedIdentity({\r\n\t\t\towner: wallet.address,\r\n\t\t\tmail: email,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tidentity,\r\n\t\t\thandleChange,\r\n\t\t\tinvalidFields,\r\n\t\t\twaitingExpected,\r\n\t\t\tclasses,\r\n\t\t} = this.props\r\n\t\tconst { identityData } = identity\r\n\t\t// Errors\r\n\t\tconst { email, emailCheck, code } = invalidFields\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t{ACCESS_CODE_CHECK && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t\t{t('ACCESS_CODE_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{ACCESS_CODE_CHECK && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('code', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='code'\r\n\t\t\t\t\t\t\t\tvalue={identity.code || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev => handleChange('code', ev.target.value)}\r\n\t\t\t\t\t\t\t\tonBlur={() => this.validateCode(identity.code, true)}\r\n\t\t\t\t\t\t\t\tonFocus={() => this.validateCode(identity.code, false)}\r\n\t\t\t\t\t\t\t\terror={code && !!code.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tcode && !!code.dirty ? code.errMsg : t('ENTER_VALID_CODE')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t{t('GENERATE_FULL_IDENTITY_INFO_EMAIL')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmail(identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmail(identity.email, false)}\r\n\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('emailCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\tthis.validateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\tthis.validateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t{t('GENERATE_FULL_IDENTITY_INFO_ADDRESS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{!(identityData || {}).address ? (\r\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={this.getIdentityContractData}\r\n\t\t\t\t\t\t\t\t\tdisabled={waitingExpected}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GENERATE_IDENTITY_ADDRESS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{waitingExpected && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Typography paragraph variant='subtitle2' color='primary'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_CONTRACT_IS', { args: [identityData.address] })}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentityContractAddressEthDeploy.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tidentity: PropTypes.object.isRequired,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tinvalidFields: PropTypes.object.isRequired,\r\n\tvalidate: PropTypes.func.isRequired,\r\n}\r\n\r\nconst IdentityContractAddressStep = IdentityHoc(\r\n\tIdentityContractAddressEthDeploy\r\n)\r\nexport default Translate(withStyles(styles)(IdentityContractAddressStep))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {},\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tvalidate={this.validate}\r\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport IdentityHoc from '../IdentityHoc'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\n\r\nexport default function AuthHoc(Decorated) {\r\n\tclass Auth extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\tmethod: '',\r\n\t\t\t\tsideSelect: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateWallet = ({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t}) => {\r\n\t\t\tconst wallet = {\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\thdWalletAddrPath,\r\n\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\tpath,\r\n\t\t\t\tchainId,\r\n\t\t\t\tsignType,\r\n\t\t\t\tbalanceEth,\r\n\t\t\t\tbalanceDai,\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.handleChange('identityContractOwner', address)\r\n\t\t\tthis.props.handleChange('wallet', wallet)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t// updateAcc={this.updateAcc}\r\n\t\t\t\t\tupdateWallet={this.updateWallet}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tAuth.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tlet persist = state.persist\r\n\t\t// let memory = state.memory\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { utils } from 'ethers'\r\n\r\nexport const addrItem = ({ stats, t, classes }) => {\r\n\tconst { balanceEth, balanceDai, address } = stats\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {utils.formatEther(balanceEth)} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> DAI </span>\r\n\t\t\t\t\t\t<strong> {utils.formatEther(balanceDai)} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const AddrItem = withStyles(styles)(addrItem)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthMetamask extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddress: null,\r\n\t\t\tstats: null,\r\n\t\t\twaitingMetamaskAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcheckMetamask = async () => {\r\n\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: authType,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\t\taddress: { address },\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tstats,\r\n\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.props.updateWallet({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\r\n\t\t\t\t\tbalanceEth: stats.balanceEth,\r\n\t\t\t\t\tbalanceDai: stats.balanceDai,\r\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingMetamaskAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes } = this.props\r\n\t\tconst { address, stats } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t{this.state.waitingMetamaskAction ? (\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t) : this.state.waitingAddrsData ? (\r\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t\t) : null}\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t{t('METAMASK_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://metamask.io/' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t<Anchor href='https://metamask.io/' target='_blank'>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} t={t} addr={address} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.checkMetamask}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={this.state.waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthMetamask.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthMetamask)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport Button from '@material-ui/core/Button'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthTrezor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingTrezorAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectTrezor = async () => {\r\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tconsole.log('result', results)\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: trezorSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingTrezorAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingTrezorAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path, balanceEth, balanceDai } = addrData\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io/' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingTrezorAction && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthTrezor.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport AuthHoc from './AuthHoc'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\n\r\nclass AuthLedger extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingLedgerAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectLedger = async () => {\r\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: ledgerSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingLedgerAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingLedgerAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path, balanceEth, balanceDai } = addrData\r\n\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t{t('LEDGER_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthLedger.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\r\n","import React, { Component } from 'react'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\nimport AuthLedger from './AuthLedger'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass AuthMethod extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tbids: [],\r\n\t\t}\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, location } = this.props\r\n\t\tconst { search } = location || {}\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t\t{search === '?metamask' && <AuthMetamask />}\r\n\t\t\t\t\t{search === '?trezor' && <AuthTrezor />}\r\n\t\t\t\t\t{search === '?ledger' && <AuthLedger />}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(AuthMethod))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport AuthMethod from 'components/signin/identity/ownerAuth/AuthMethod'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass IdentityContractAddress extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.validateContractOwner()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currOwner = this.props.identity.identityContractOwner\r\n\t\tif (!!currOwner && currOwner !== prevProps.identity.identityContractOwner) {\r\n\t\t\tthis.validateContractOwner()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateContractOwner = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityContractOwner } = identity\r\n\r\n\t\tvalidate('identityContractOwner', {\r\n\t\t\tisValid: !!identityContractOwner,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <AuthMethod {...this.props} />\r\n\t}\r\n}\r\n\r\nIdentityContractAddress.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst IdentityContractAddressStep = IdentityHoc(IdentityContractAddress)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(IdentityContractAddressStep))\r\n","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Translate from 'components/translate/Translate'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport {\r\n\tvalidEmail,\r\n\tvalidPassword,\r\n\tvalidQuickAccountCoupon,\r\n} from 'helpers/validators'\r\nimport { checkCoupon } from 'services/adex-relayer/actions'\r\n\r\nclass GrantInfo extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\tcoupon,\r\n\t\t\ttosCheck,\r\n\t\t} = this.props.identity\r\n\r\n\t\tthis.validateEmail(email, false)\r\n\t\tthis.validateEmailCheck(emailCheck, false)\r\n\t\tthis.validatePassword(password, false)\r\n\t\tthis.validatePasswordCheck(passwordCheck, false)\r\n\t\tthis.validateCoupon(coupon, false)\r\n\t\tthis.validateTOS(tosCheck, false)\r\n\t}\r\n\r\n\tvalidateEmail(email, dirty) {\r\n\t\tconst isValid = validEmail(email)\r\n\t\tthis.props.validate('email', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmailCheck(emailCheck, email, dirty) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tthis.props.validate('emailCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidatePassword(password, dirty) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tthis.props.validate('password', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidatePasswordCheck(passwordCheck, password, dirty) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tthis.props.validate('passwordCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateCoupon(coupon, dirty) {\r\n\t\tconst isValidFormat = validQuickAccountCoupon(coupon)\r\n\r\n\t\tif (!isValidFormat) {\r\n\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\tisValid: isValidFormat,\r\n\t\t\t\terr: { msg: 'ERR_COUPON_FORMAT' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({ waitingCheck: true }, () => {\r\n\t\t\t\tcheckCoupon({ coupon })\r\n\t\t\t\t\t.then((cpn = {}) => {\r\n\t\t\t\t\t\tconst isValid = cpn.exist === true && cpn.used === false\r\n\t\t\t\t\t\tlet msg = ''\r\n\t\t\t\t\t\tif (cpn.exist === false) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_COUPON_NOT_EXIST'\r\n\t\t\t\t\t\t} else if (cpn.used === true) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_COUPON_USED'\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\t\t\t\tisValid: isValid,\r\n\t\t\t\t\t\t\terr: { msg: msg },\r\n\t\t\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\t\t\t\tisValid: false,\r\n\t\t\t\t\t\t\terr: { msg: 'ERR_COUPON_NETWORK' },\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTOS(accepted, dirty) {\r\n\t\tthis.props.validate('tosCheck', {\r\n\t\t\tisValid: !!accepted,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttosCheck(checked) {\r\n\t\tthis.props.handleChange('tosCheck', checked)\r\n\t\tthis.validateTOS(checked, true)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, handleChange, invalidFields } = this.props\r\n\t\t// Errors\r\n\t\tconst {\r\n\t\t\tcoupon,\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\ttosCheck,\r\n\t\t} = invalidFields\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('coupon', { isProp: true })}\r\n\t\t\t\t\t\t\tname='coupon'\r\n\t\t\t\t\t\t\tvalue={identity.coupon || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('coupon', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateCoupon(identity.coupon, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateCoupon(identity.coupon, false)}\r\n\t\t\t\t\t\t\terror={coupon && !!coupon.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tcoupon && !!coupon.dirty\r\n\t\t\t\t\t\t\t\t\t? coupon.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('ENTER_VALID_COUPON')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmail(identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmail(identity.email, false)}\r\n\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('emailCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\tthis.validateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\tthis.validateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('password', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validatePassword(identity.password, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validatePassword(identity.password, false)}\r\n\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tpassword && !!password.dirty\r\n\t\t\t\t\t\t\t\t\t? password.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('passwordCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\tthis.validatePasswordCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.password,\r\n\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\tthis.validatePasswordCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.password,\r\n\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t// className={classes.formControl}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev => this.tosCheck(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantInfoStep = IdentityHoc(GrantInfo)\r\nexport default Translate(withStyles(styles)(IdentityGrantInfoStep))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { createLocalWallet } from 'services/wallet/wallet'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nclass GrantDeploy extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.validateIdentity()\r\n\t\tif (!this.props.identity.identityAddr) {\r\n\t\t\tthis.initLocalWallet()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currIdentity = this.props.identity.identityAddr\r\n\t\tif (!!currIdentity && currIdentity !== prevProps.identity.identityAddr) {\r\n\t\t\tthis.validateIdentity()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateIdentity = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityAddr } = identity\r\n\r\n\t\tvalidate('identityAddr', {\r\n\t\t\tisValid: !!identityAddr,\r\n\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tinitLocalWallet = () => {\r\n\t\tconst { handleChange, identity } = this.props\r\n\t\tconst { email, password } = identity\r\n\r\n\t\tconst walletData = createLocalWallet({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t})\r\n\r\n\t\twalletData.authType = AUTH_TYPES.GRANT.name\r\n\t\twalletData.email = email\r\n\t\twalletData.password = password\r\n\r\n\t\thandleChange('wallet', walletData)\r\n\t\thandleChange('walletAddr', walletData.address)\r\n\t}\r\n\r\n\tgetIdentity = () => {\r\n\t\tconst { identity, actions } = this.props\r\n\t\tconst { email, password, coupon, walletAddr } = identity\r\n\r\n\t\tactions.getGrantAccount({\r\n\t\t\twalletAddr,\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tcoupon,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, classes, waitingGrant } = this.props\r\n\t\tconst { walletAddr, identityAddr, grantAmount } = identity\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS')}\r\n\t\t\t\t\t\t\t{' ' + walletAddr}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography paragraph variant='body2'>\r\n\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS_INFO')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t{!!identityAddr ? (\r\n\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_ADDRESS_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [identityAddr, grantAmount],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_ADDRESS_INFO_1')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.getIdentity}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={waitingGrant}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('GET_GRANT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t{waitingGrant && (\r\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nGrantDeploy.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { memory } = state\r\n\r\n\treturn {\r\n\t\twaitingGrant: memory.spinners['getting-grant-identity'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst IdentityGrantDeployStep = IdentityHoc(GrantDeploy)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentityGrantDeployStep)))\r\n","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nclass GrantLogin extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.validateWallet(false)\r\n\t}\r\n\r\n\tvalidateWallet = dirty => {\r\n\t\tconst { identity, handleChange, validate } = this.props\r\n\t\tconst { email, password } = identity\r\n\r\n\t\tlet wallet = {}\r\n\r\n\t\tif (email && password) {\r\n\t\t\tconst walletData = getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\r\n\t\t\tif (!!walletData && walletData.data) {\r\n\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\twallet.email = email\r\n\t\t\t\twallet.password = password\r\n\t\t\t\twallet.authType = AUTH_TYPES.GRANT.name\r\n\t\t\t\twallet.identity = {\r\n\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\tprivileges: walletData.identityPrivileges,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thandleChange('wallet', wallet)\r\n\t\t\thandleChange('walletAddr', wallet.address)\r\n\t\t\thandleChange('identityData', wallet.identity)\r\n\t\t}\r\n\r\n\t\tvalidate('wallet', {\r\n\t\t\tisValid: !!wallet.address,\r\n\t\t\terr: { msg: 'ERR_LOCAL_WALLET_LOGIN' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tidentity,\r\n\t\t\thandleChange,\r\n\t\t\tinvalidFields,\r\n\t\t\tclasses,\r\n\t\t\tactions,\r\n\t\t} = this.props\r\n\t\t// Errors\r\n\t\tconst { wallet } = invalidFields\r\n\t\treturn (\r\n\t\t\t// <div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\t// direction='row'\r\n\t\t\t\talignContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('GRANT_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev => handleChange('password', ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body1'>\r\n\t\t\t\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS', { args: [identity.walletAddr] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('GRANT_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tonClick={() => this.validateWallet(true)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('CHECK_GRANT_IDENTITY')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\taccept='text/json'\r\n\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\tid='contained-button-file'\r\n\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\tonChange={actions.onUploadLocalWallet}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor='contained-button-file'>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// variant=\"contained\"\r\n\t\t\t\t\t\t\tcomponent='span'\r\n\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('UPLOAD_ACCOUNT_DATA_JSON')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantLoginStep = IdentityHoc(GrantLogin)\r\nexport default Translate(withStyles(styles)(IdentityGrantLoginStep))\r\n","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nimport Dropdown from 'components/common/dropdown'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities, t) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\tid.identity,\r\n\t\t\t\t\tid.privLevel,\r\n\t\t\t\t\tformatTokenAmount(bigNumberify(id.balanceDAI).toString(), 18, true),\r\n\t\t\t\t\t'DAI',\r\n\t\t\t\t],\r\n\t\t\t}),\r\n\t\t}\r\n\t})\r\n\r\nclass GrantLogin extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { actions, identity } = this.props\r\n\t\tactions.ownerIdentities({ owner: identity.wallet.address })\r\n\t\tthis.validateIdentity(false)\r\n\t}\r\n\r\n\tvalidateIdentity = dirty => {\r\n\t\tconst { identity, handleChange, validate } = this.props\r\n\t\tconst { wallet, identityContractAddress } = identity\r\n\r\n\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\tconst identityData = {\r\n\t\t\taddress: identityDataSplit[0],\r\n\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t}\r\n\r\n\t\thandleChange('wallet', wallet)\r\n\t\thandleChange('walletAddr', wallet.address)\r\n\t\thandleChange('identityData', identityData)\r\n\r\n\t\tvalidate('identityContractAddress', {\r\n\t\t\tisValid: !!identityData.address,\r\n\t\t\terr: { msg: 'ERR_LOCAL_WALLET_LOGIN' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (\r\n\t\t\tprevProps.identity.identityContractAddress !==\r\n\t\t\tthis.props.identity.identityContractAddress\r\n\t\t) {\r\n\t\t\tthis.validateIdentity(true)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, handleChange } = this.props\r\n\t\tconst { ownerIdentities = [], identityContractAddress } = identity\r\n\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\t// direction='row'\r\n\t\t\t\talignContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\tonChange={val => handleChange('identityContractAddress', val)}\r\n\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities, t)}\r\n\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantLoginStep = IdentityHoc(GrantLogin)\r\nexport default Translate(withStyles(styles)(IdentityGrantLoginStep))\r\n","import React, { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport FullLogin from './FullLogin'\r\nimport IdentityContractAddressEthDeploy from './IdentityContractAddressEthDeploy'\r\nimport Anchor from 'components/common/anchor/anchor'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\theight: '50%',\r\n\t\tminHeight: theme.spacing(4),\r\n\t},\r\n\tcontainer: {},\r\n}))\r\n\r\nexport function ExternalConnect({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\tconst [connectType, setConnectType] = useState('')\r\n\r\n\treturn (\r\n\t\t<Grid container alignItems='stretch' className={classes.buttons}>\r\n\t\t\t<Grid\r\n\t\t\t\titem\r\n\t\t\t\tcontainer\r\n\t\t\t\tdirection='column'\r\n\t\t\t\talignItems='stretch'\r\n\t\t\t\tjustify='space-evenly'\r\n\t\t\t>\r\n\t\t\t\t{connectType !== 'create' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h5' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('SELECT_EXISTING_IDENTITY')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<FullLogin {...rest} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t// alignItems='stretch'\r\n\t\t\t\t\t\t\tclassName={classes.buttons}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Button onClick={() => setConnectType('create')}>\r\n\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{connectType === 'create' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Typography variant='h5' gutterBottom>\r\n\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<IdentityContractAddressEthDeploy {...rest} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","export const styles = {\r\n\troot: {\r\n\t\tcolor: 'purple',\r\n\t\t'&$active': {\r\n\t\t\tcolor: 'green',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tcolor: 'yellow',\r\n\t},\r\n\tstepperWrapper: {\r\n\t\t// display: 'flex',\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 0,\r\n\t},\r\n\tpagePaper: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 115,\r\n\t},\r\n\tpageContent: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 20,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t\tbottom: 50,\r\n\t\tpadding: 20,\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\tdisplay: 'flex',\r\n\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t'@media(max-width:500px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tcontrols: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 5,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t},\r\n\tright: {\r\n\t\ttextAlign: 'right',\r\n\t\tdisplay: 'inline-block',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '86%',\r\n\t\t},\r\n\t},\r\n\tleft: {\r\n\t\tdisplay: 'inline-block',\r\n\t\ttextAlign: 'left',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '14%',\r\n\t\t},\r\n\t},\r\n\tmobileStepper: {\r\n\t\twidth: '100%',\r\n\t\t'& div': {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '10px',\r\n\t\t},\r\n\t},\r\n\tmobileStepLabel: {\r\n\t\t'& span': {\r\n\t\t\tfontSize: '24px',\r\n\t\t\tmargin: '14px auto',\r\n\t\t},\r\n\t\ttextAlign: 'center',\r\n\t\twidth: 'auto',\r\n\t},\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Stepper } from 'react-step/lib/stepper'\r\nimport { withStepper } from 'react-step/lib/with-stepper'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t></MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nclass MaterialStepper extends React.Component {\r\n\t// onComplete() {\r\n\t//     // console.log('currPage', this.currPage)\r\n\t//     let props = this.props\r\n\t//     let page = props.pages[props.currentPage]\r\n\r\n\t//     // console.log('props.pages[props.currentPage]', page.component)\r\n\t// }\r\n\r\n\tgoToPage(nextStep) {\r\n\t\tlet canAdvance =\r\n\t\t\tnextStep > this.props.currentPage && this.canAdvanceNextToPage()\r\n\t\tlet canGoBack = nextStep < this.props.currentPage\r\n\r\n\t\tif (canAdvance || canGoBack) {\r\n\t\t\tthis.props.setPageIndex(nextStep)\r\n\t\t}\r\n\t}\r\n\r\n\tcanAdvanceNextToPage() {\r\n\t\t/* TODO: add check for optional steps that can be skipped\r\n\t\t */\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\tif (\r\n\t\t\tthis.props.canAdvance &&\r\n\t\t\t!Object.keys(this.props.validations[page.props.validateId] || {}).length\r\n\t\t) {\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tisValidPage() {\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\treturn !Object.keys(this.props.validations[page.props.validateId] || {})\r\n\t\t\t.length\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { pages, component, validations, currentPage, t, classes, ...props } = {\r\n\t\t\t...this.props,\r\n\t\t}\r\n\t\tlet page = pages[currentPage]\r\n\t\tlet Comp = page.component\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.stepperWrapper}>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<StepperNav\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\tgoToPage={this.goToPage.bind(this)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={classes.pageContent}>{<Comp {...page.props} />}</div>\r\n\r\n\t\t\t\t\t<div className={classes.controls}>\r\n\t\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t\t{props.canReverse ? (\r\n\t\t\t\t\t\t\t\t<Button onClick={() => props.setPageIndex(currentPage - 1)}>\r\n\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t\t{page.cancelBtn ? <page.cancelBtn /> : null}\r\n\t\t\t\t\t\t\t{this.canAdvanceNextToPage() && !page.completeBtn ? (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={this.goToPage.bind(this, currentPage + 1)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : !page.completeBtn ? (\r\n\t\t\t\t\t\t\t\t<Button label='Continue' disabled>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{page.completeBtn && this.isValidPage() ? (\r\n\t\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst WithMaterialStepper = withStepper(\r\n\twithStyles(styles)(Translate(MaterialStepper))\r\n)\r\n\r\nclass MyMaterialStepper extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Stepper pages={this.props.pages} style={{ display: 'block' }}>\r\n\t\t\t\t<WithMaterialStepper\r\n\t\t\t\t\titemType={this.props.itemType}\r\n\t\t\t\t\tvalidations={this.props.validations}\r\n\t\t\t\t/>\r\n\t\t\t</Stepper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nMyMaterialStepper.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpages: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tlet persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tvalidations: memory.validations,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MyMaterialStepper)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass IdentitySteps extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tpages: this.mapPages(),\r\n\t\t}\r\n\r\n\t\t// TODO: Check if it is possible to need state update\r\n\t}\r\n\r\n\tmapPages = () => {\r\n\t\tconst {\r\n\t\t\tGoBtn,\r\n\t\t\tCancelBtn,\r\n\t\t\tt,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages = [],\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst cancelButton = () => (\r\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t)\r\n\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tconst pages = stepsPages.map((page, index) => {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page),\r\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\r\n\t\t\t\tcompleteBtn: page.final\r\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t\t\t: undefined,\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn pages\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <MaterialStepper pages={this.state.pages} />\r\n\t}\r\n}\r\n\r\nIdentitySteps.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps() {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\treturn {\r\n\t\t// account: persist.account\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentitySteps)))\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport IdentityContractAddressEthDeploy from './IdentityContractAddressEthDeploy'\r\n// import IdentityContractAddressEthTransaction from './IdentityContractAddressEthTransaction'\r\nimport IdentityContractOwner from './IdentityContractOwner'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport GrantInfo from './GrantInfo'\r\nimport GrantDeploy from './GrantDeploy'\r\nimport GrantLogin from './GrantLogin'\r\n// import FullLogin from './FullLogin'\r\nimport { ExternalConnect } from './ExternalWalletConnect'\r\nimport IdentitySteps from './IdentitySteps'\r\n// import Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst GoBtn = ({ waiting, save, t, classes, ...rest }) => {\r\n\treturn (\r\n\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t<Button color='primary' onClick={save} disabled={waiting}>\r\n\t\t\t\t{t('LETS_GO')}\r\n\t\t\t</Button>\r\n\t\t\t{waiting && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst GoBtnWithIdentity = withStyles(styles)(IdentityHoc(GoBtn))\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\r\n}\r\n\r\nconst CancelBtnWithIdentity = IdentityHoc(CancelBtn)\r\n\r\nconst common = {\r\n\tGoBtn: GoBtnWithIdentity,\r\n\tCancelBtn: CancelBtnWithIdentity,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const CreateGrantIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='grant-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'GRANT_INFO', page: GrantInfo },\r\n\t\t\t{ title: 'GRANT_DEPLOY', page: GrantDeploy, final: true },\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginGrantIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='grant-identity-login'\r\n\t\tstepsPages={[{ title: 'GRANT_LOGIN', page: GrantLogin, final: true }]}\r\n\t/>\r\n)\r\n\r\nexport const CreteFullIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='full-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SET_IDENTITY_OWNER_ADDRESS', page: IdentityContractOwner },\r\n\t\t\t{\r\n\t\t\t\ttitle: 'GENERATE_IDENTITY_CONTRACT_ADDRESS',\r\n\t\t\t\tpage: IdentityContractAddressEthDeploy,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t\t// { title: 'DEPLOY_IDENTITY_CONTRACT_ADDRESS', page: IdentityContractAddressEthTransaction, final: true }\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginStandardIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='full-identity-login'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SET_IDENTITY_OWNER_ADDRESS', page: IdentityContractOwner },\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\tpage: ExternalConnect,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const DemoIdentity = props => (\r\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\r\n)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Img from 'components/common/img/Img'\r\n\r\nimport ADEX_LOGO from 'resources/adex-logo-txt-sm.svg'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-20.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box width={1} height={1} className={classes.root} alignItems='center'>\r\n\t\t\t<Box\r\n\t\t\t\theight={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t</Typography>\r\n\r\n\t\t\t\t<Img src={ADEX_LOGO} alt='AdEx logo' />\r\n\t\t\t\t<Typography variant='h5' component='h5' gutterBottom>\r\n\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdialog: {\r\n\t\theight: '100vh',\r\n\t\twidth: theme.maxWidth || 1200,\r\n\t\tmaxWidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\tJustDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string.isRequired,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateGrantIdentity,\r\n\tCreteFullIdentity,\r\n\t// DemoIdentity,\r\n\tLoginGrantIdentity,\r\n\tLoginStandardIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport Translate from 'components/translate/Translate'\r\n// import { getSig } from 'services/auth/auth'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nconst ConnectedCreateGrantIdentity = ConnectHoc(JustDialog(CreateGrantIdentity))\r\nconst ConnectedGrantLogin = ConnectHoc(JustDialog(LoginGrantIdentity))\r\nconst ConnectedCreateFullIdentity = ConnectHoc(JustDialog(CreteFullIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nfunction PrivateRoute({ component: Component, auth, ...other }) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nclass Root extends Component {\r\n\tonMetamaskAccountChange = async accountAddress => {\r\n\t\tconst { account } = this.props\r\n\t\tconst { authType } = account.wallet\r\n\t\tif (authType === AUTH_TYPES.METAMASK.name || !authType) {\r\n\t\t\tlogOut()\r\n\t\t}\r\n\t}\r\n\r\n\tgetNetworkId = async () => {\r\n\t\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\t\tconst networkId = (await provider.getNetwork()).chainId\r\n\r\n\t\treturn networkId\r\n\t}\r\n\r\n\tcomponentDidCatch(error, info) {\r\n\t\t// TODO: catch errors\r\n\t}\r\n\r\n\tcomponentWillUnmount() {}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tconst { actions, location } = this.props\r\n\t\tconst { metamaskNetworkCheck } = actions\r\n\r\n\t\tmetamaskNetworkCheck({ location })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { actions, location } = this.props\r\n\t\tconst { metamaskNetworkCheck } = actions\r\n\r\n\t\tmetamaskNetworkCheck({ location })\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tthis.onMetamaskAccountChange(accounts[0])\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('networkChanged', network => {\r\n\t\t\t\tconsole.log('networkChanged', network)\r\n\t\t\t\tmetamaskNetworkCheck({ id: network, location })\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t// TODO: check if computedMatch or language change need to update\r\n\t\tconst authChanged = this.props.auth !== nextProps.auth\r\n\t\tconst locationChanged =\r\n\t\t\tJSON.stringify(this.props.location) !== JSON.stringify(nextProps.location)\r\n\r\n\t\treturn authChanged || locationChanged\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Switch>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\tpath='/side-select'\r\n\t\t\t\t\tcomponent={SideSelect}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/'\r\n\t\t\t\t\tcomponent={props => <ConnectedRoot {...props} noBackground />}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/identity/grant'\r\n\t\t\t\t\tcomponent={props => (\r\n\t\t\t\t\t\t<ConnectedCreateGrantIdentity {...props} noBackground />\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/login/grant'\r\n\t\t\t\t\tcomponent={props => <ConnectedGrantLogin {...props} noBackground />}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/login/full'\r\n\t\t\t\t\tcomponent={props => (\r\n\t\t\t\t\t\t<ConnectedLoginStandardIdentity {...props} noBackground />\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/identity/full'\r\n\t\t\t\t\tcomponent={props => (\r\n\t\t\t\t\t\t<ConnectedCreateFullIdentity {...props} noBackground />\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t\t{/* <Route exact path=\"/identity/demo\" component={DemoIdentity} /> */}\r\n\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t</Switch>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nRoot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\tconst { account } = persist\r\n\tconst { wallet, identity } = account\r\n\r\n\tconst hasAuth =\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n\r\n\treturn {\r\n\t\taccount: account,\r\n\t\tauth: hasAuth,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Root))\r\n","import { createMuiTheme } from '@material-ui/core/styles'\r\nimport lime from '@material-ui/core/colors/lime'\r\nimport deepOrange from '@material-ui/core/colors/deepOrange'\r\nimport amber from '@material-ui/core/colors/amber'\r\nimport grey from '@material-ui/core/colors/grey'\r\n\r\nconst ADEX_BLUE = '#1B75BC'\r\nconst ADEX_GREEN = '#14DC9C'\r\n\r\nconst palette = {\r\n\tprimary: { main: ADEX_BLUE, contrastText: '#fff' },\r\n\tsecondary: { main: ADEX_GREEN, contrastText: '#fff' },\r\n\terror: deepOrange,\r\n\twarning: amber,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n}\r\n\r\nexport const themeMUI = createMuiTheme({\r\n\tpalette: { ...palette },\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// }\r\n\t},\r\n})\r\n\r\nexport const globalStyles = theme => {\r\n\treturn {\r\n\t\t'@global': {\r\n\t\t\thtml: {\r\n\t\t\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\t\t\t},\r\n\t\t\ta: {\r\n\t\t\t\ttextDecoration: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Switch, HashRouter as Router } from 'react-router-dom'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\n// import './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport configureStore from 'store/configureStore'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'react-router-redux'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/es/integration/react'\r\nimport Root from './Root'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { themeMUI, globalStyles } from './themeMUi'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst { persistor, store } = configureStore\r\n// console.log('initial store', store.getState())\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nconst cssBaselineStyled = ({ classes }) => (\r\n\t// Might break something\r\n\t<CssBaseline classes={classes.globalStyles} />\r\n)\r\n\r\nconst CssBaselineStyled = withStyles(globalStyles)(cssBaselineStyled)\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaselineStyled\r\n\t\t\t\t// classes={\r\n\t\t\t\t//   { children: classes.globalStyles }\r\n\t\t\t\t// }\r\n\t\t\t\t/>\r\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\r\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\r\n\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\r\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Router>\r\n\t\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { register } from './serviceWorker'\r\n\r\n// Temp here?\r\nObject.values = function* values(obj) {\r\n\tfor (let prop of Object.keys(obj)) {\r\n\t\tyield obj[prop]\r\n\t}\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nregister()\r\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","// No automatic generation: we don't want to depend on fs, as we want to keep this universal\n// ls *-*.json | while read line; do printf \"\\\"`printf $line | cut -d '.' -f1`\\\": require(\\\"./$line\\\"),\\n\"; done\nmodule.exports = function () {\n  return {\n    \"bg-BG\": require(\"./bg-BG.json\"),\n    \"de-DE\": require(\"./de-DE.json\"),\n    \"en-US\": require(\"./en-US.json\"),\n    \"es-ES\": require(\"./es-ES.json\"),\n    \"fr-FR\": require(\"./fr-FR.json\"),\n    \"hr-HR\": require(\"./hr-HR.json\"),\n    \"hu-HU\": require(\"./hu-HU.json\"),\n    \"it-IT\": require(\"./it-IT.json\"),\n    \"nl-NL\": require(\"./nl-NL.json\"),\n    \"pt-BR\": require(\"./pt-BR.json\"),\n    \"pt-PT\": require(\"./pt-PT.json\"),\n    \"ru-RU\": require(\"./ru-RU.json\"),\n    \"se-SE\": require(\"./se-SE.json\"),\n    \"sr-RS\": require(\"./sr-RS.json\"),\n    \"zh-CN\": require(\"./zh-CN.json\")\n  };\n}; // ls *-*.json | while read line; do printf \"\\\"`printf $line | cut -d '.' -f1`\\\",\\n\"; done\n\n\nmodule.exports.all = [\"bg-BG\", \"da-DK\", \"de-DE\", \"en-US\", \"es-ES\", \"fr-FR\", \"he-IL\", \"hr-HR\", \"hu-HU\", \"it-IT\", \"nl-NL\", \"pt-BR\", \"pt-PT\", \"ru-RU\", \"se-SE\", \"sr-RS\", \"zh-CN\"];\nmodule.exports.onlyTranslated = [\"en-US\", \"es-ES\"];","import { Signer } from 'ethers'\r\nimport { ethers, utils } from 'ethers'\r\nimport LedgerEth from '@ledgerhq/hw-app-eth'\r\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\r\nimport HDKey from 'hdkey'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\r\n\r\nexport default class LedgerSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t\tthis._transport = TransportU2F\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\taddrsFromPubKey = async (\r\n\t\tpublicKey = '',\r\n\t\tchainCode = '',\r\n\t\t{ from = 0, to = 19 } = {}\r\n\t) => {\r\n\t\tconst hdKey = new HDKey()\r\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\r\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\r\n\r\n\t\tconst addrs = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\r\n\r\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\r\n\r\n\t\t\taddrs.push({\r\n\t\t\t\taddress: addr,\r\n\t\t\t\tpath: `${this.path}/${index}`,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn addrs\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\r\n\t\t\tthis.path,\r\n\t\t\tfalse,\r\n\t\t\ttrue\r\n\t\t)\r\n\r\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\r\n\t\t\tfrom,\r\n\t\t\tto,\r\n\t\t})\r\n\r\n\t\treturn addresses\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\r\n\r\n\t\tconst signature = {\r\n\t\t\tr: '0x' + r,\r\n\t\t\ts: '0x' + s,\r\n\t\t\tv,\r\n\t\t}\r\n\r\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\treturn txSigned\r\n\t}\r\n\r\n\t/*\r\n\t * TODO: may not work.\r\n\t * The ledger device or u2f seems to broken\r\n\t * Can list the addresses\r\n\t * Can sign messages\r\n\t * Signs transactions\r\n\t * Actually it show the tx but does not return value after\r\n\t * confirmation on the device\r\n\t */\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (!opts.hex) {\r\n\t\t\tif (typeof message === 'string') {\r\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\r\n\t\t\t}\r\n\r\n\t\t\tmessage = ethers.utils.hexlify(message)\r\n\t\t}\r\n\r\n\t\tmessage = message.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\r\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\r\n\t\tsignature.r = '0x' + signature.r\r\n\t\tsignature.s = '0x' + signature.s\r\n\r\n\t\tconst { address } = await eth.getAddress(this.path)\r\n\r\n\t\tconst res = {\r\n\t\t\tsignature: ethers.utils.joinSignature(signature),\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LedgerSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404.12db5cc0.png\";","module.exports = __webpack_public_path__ + \"static/media/rekt-eddie.8bd0ccfa.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/adex-logo-txt-sm.9fd40458.svg\";","module.exports = __webpack_public_path__ + \"static/media/eddie-20.a814049a.png\";"],"sourceRoot":""}