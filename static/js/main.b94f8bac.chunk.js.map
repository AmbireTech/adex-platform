{"version":3,"sources":["selectors/selectors.js","selectors/configSelectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/itemsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/newTransactionSelectors.js","selectors/newItemsSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/locationSelectors.js","selectors/index.js","services/smart-contracts/actions/stats.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","helpers/localStorageHelpers.js","resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","components/translate/Translate.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/common/stepper/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","services/images/crop.js","components/common/dialog/content.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/dashboard/containers/TargetsList/TargetsList.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/containers/ItemCommon/itemCommonNew.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/itemHooks.js","components/dashboard/containers/ItemCommon/SaveBtn.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/NewItemTargeting.js","components/dashboard/containers/Slot/WebsiteIssues.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/styled/Tabs.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/styles.js","components/dashboard/containers/Receipt/PublisherReceiptTpl.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/Receipt/CampaignReceiptTpl.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Tables/StatsByCountryTable.js","components/dashboard/charts/map/MapChart.js","components/dashboard/containers/Campaign/CampaignBasic.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/charts/simplified.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/common/DatePicker/styles.js","components/common/DatePicker/DatePicker.js","components/dashboard/containers/DashboardStats/styles.js","hooks/useKeyPress.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/AdvertiserStats.js","components/dashboard/containers/Tables/BestEarnersTable.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/SlotBasic.js","components/dashboard/containers/Slot/IntegrationCode.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthHoc.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/Identity.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","constants/actionTypes.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","helpers/formatters.js","services/requester/requester.js","services/requester/index.js","helpers/itemsHelpers.js","services/store-data/loop.js","services/store-data/analytics.js","helpers/dateUtils.js","constants/misc.js","store/initialState.js","services/crypto/crypto.js","constants/spinners.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","actions/common.js","helpers/timeHelpers.js","helpers/errors.js","actions/uiActions.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/adex-relayer/actions.js","actions/validationActions.js","actions/mediaValidations.js","services/adex-market/actions.js","helpers/numbers.js","constants/targeting.js","actions/itemActions.js","services/auth/auth.js","services/smart-contracts/actions/identity.js","services/smart-contracts/actions/core.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/identityActions.js","actions/bidActions.js","services/gas/actions.js","actions/transactionActions.js","actions/newItemsActions.js","actions/campaignActions.js","actions/slotActions.js","actions/unitActions.js","actions/index.js","services/smart-contracts/ethers.js","resources/trezor-logo-h.png","resources/ledger_logo_header.png","services/translations/translations.js","helpers/sanitizer.js","resources/getting-started/GS-email-ic.png","resources/getting-started/GS-create-ic.png","resources/getting-started/GS-launch-ic.png","helpers/miscHelpers.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/uiReducer.js","reducers/itemsReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/ensReducer.js","reducers/uiMemoryReducer.js","reducers/channelsReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404-no.png","resources/404-yes.png","services/wallet/wallet.js","resources/getting-started/GS-fund-ic.png","resources/getting-started/GS-place-ic.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js","components/App/themeMUi.js","services/adex-validator/actions.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectRelayerConfig","state","getState","persist","config","relayer","selectFeeTokenWhitelist","createSelector","_ref","feeTokenWhitelist","reduce","all","t","tokens","Object","objectSpread","address","selectRoutineWithdrawTokens","_ref2","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","_ref3","map","selectMainToken","relayerConfig","_ref4","mainToken","selectGasPriceCap","_ref5","gasPriceCap","selectSaiToken","_ref6","saiAddr","selectMainFeeToken","_ref7","selectAccount","account","selectChannels","memory","channels","selectAuth","wallet","identity","authSig","authType","selectWallet","selectEmail","email","selectAuthSig","split","selectWalletAddress","selectAuthType","selectAccountIdentity","selectAccountIdentityAddr","_ref8","selectAccountStats","_ref9","stats","selectAccountStatsRaw","_ref10","settings","_ref11","raw","selectAccountStatsFormatted","_ref12","formatted","selectAccountIdentityDeployData","_ref13","relayerData","routineAuthorizationsData","_ref14","_ref14$relayerData","deployData","selectChannelsWithUserBalancesEligible","_ref15","withOutstandingBalance","toConsumableArray","selectChannelsWithUserBalancesAll","_ref16","withBalanceAll","selectAccountIdentityCurrentPrivileges","_ref17","_ref17$relayerData","currentPrivileges","selectWalletPrivileges","selectIdentity","selectEnsAddressByAddr","ensAddresses","_","selectSide","nav","side","selectGlobalUi","ui","global","selectConfirm","confirm","selectSpinners","spinners","selectIdentityUi","byIdentity","identityAddr","identitiesUi","selectIdentitySideUi","identityUi","selectCompanyData","companyData","selectSpinnerById","id","selectRegistrationAllowed","ids","allowRegistration","process","selectEasterEggsAllowed","allowEasterEggs","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectMissingRevenueDataPointsAccepted","missingRevenueDataPointsAccepted","selectSideSpecificUI","selectHideGettingStarted","hideGettingStarted","selectGettingStartedExpanded","gettingStartedExpanded","selectSelectedCampaigns","selectedItems","campaigns","selectLoginDirectSide","goToSide","selectInitialDataLoaded","uiMemory","_ref10$initialDataLoa","initialDataLoaded","selectIdentitySideAnalyticsTimeframe","_ref11$sideAnalyticsT","sideAnalyticsTimeframe","selectIdentitySideAnalyticsPeriod","_ref12$sideAnalyticsP","sideAnalyticsPeriod","start","dateUtils","startOfDay","date","end","endOfDay","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","_opts$components","components","translate","selectItems","items","selectItemsByType","itemType","selectItemByTypeAndId","selectItemsArrayByType","values","selectCampaigns","selectCampaignById","selectCampaignUnitsById","adUnits","selectCampaignWithAnalyticsById","campaign","clicks","selectCampaignEventsCount","impressions","selectCampaignsArray","selectAdUnits","selectAdUnitById","selectAdUnitsArray","selectAdSlots","adSlots","selectAdSlotsArray","selectAdSlotById","selectWebsites","websites","selectWebsitesArray","selectWebsiteByWebsite","ws","url","parse","hostname","selectAnalytics","analytics","selectAdvancedAnalytics","advanced","selectAnalyticsLastChecked","lastChecked","Date","now","selectAnalyticsLiveTimestamp","timeframe","startOf","add","utc","selectDemandAnalytics","demand","selectAdvancedAnalyticsByType","type","campaignAnalytics","selectTotalStatsByAdUnits","adUnitId","slicedToArray","analyticsByChannel","byChannelStats","acc","curr","reportChannelToAdUnit","selectPublisherStatsByType","publisherStats","selectPublisherStatsByCountry","reportPublisherToCountry","selectPublisherPayStatsByCountry","reportPublisherToCountryPay","selectPublisherStatsAdUnit","reportPublisherToAdUnit","selectPublisherStatsAdUnitPay","reportPublisherToAdUnitPay","selectPublisherAggrStatsByCountry","byCountry","max","Math","apply","total","value","Number","selectAllAdUnitsInChannels","units","_ref12$adUnits","forEach","u","ipfs","selectPublisherAdvanceStatsToAdUnit","impressionsByAdUnit","clicksByAdUnit","impressionsPayByAdUnit","clicksPayByAdUnit","filter","i","item","impressionsPay","clicksPay","selectPublisherTotalImpressions","selectCampaignAnalyticsByChannelStats","campaignId","_ref18","analyticsByType","selectCampaignAnalyticsByChannelToCountry","_ref19","_ref20","reportChannelToCountry","selectCampaignAnalyticsByChannelToCountryPay","_ref21","_ref22","reportChannelToCountryPay","selectCampaignAggrStatsByCountry","_ref23","selectCampaignAnalyticsByChannelToAdUnit","_ref24","_ref25","selectAnalyticsDataAggr","_ref26","_ref27","_ref29","eventType","metric","liveTimestamp","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","selectTotalImpressions","_ref30","eventCounts","_ref31","selectTotalClicks","_ref32","_ref33","selectTotalMoney","_ref34","eventPayouts","_ref35","formatTokenAmount","selectTotalImpressionsWithPayouts","_ref36","_ref37","_ref38","c","find","e","time","_ref39","selectAverageCPM","_ref40","_ref41","totalMoney","totalImpressions","selectStatsChartData","_ref43","noLastOne","rest","objectWithoutProperties","data","_ref44","_ref44$data","slice","memo","labels","push","formatDateTime","datasets","_ref42","parseFloat","parseInt","parseValueByMetric","selectChartDatapointsImpressions","_ref45","_ref46","selectChartDatapointsClicks","_ref48","_ref49","selectChartDatapointsPayouts","_ref51","_ref52","selectChartDatapointsCPM","_ref54","_ref55","_ref56","payouts","result","n","toFixed","selectPublisherRevenueNoticeActive","some","w","issues","selectPublisherReceipts","_ref57","receipts","selectPublisherReceiptsPresentMonths","keys","r","selectAnalyticsNowLabel","format","DEFAULT_DATETIME_FORMAT","setMinutes","getNearestSixHoursUTC","selectValidations","validations","selectValidationsById","selectNewTransactionById","newTransactions","txns","selectNewItems","newItem","selectNewItemByType","selectNewCampaign","Campaign","CampaignModel","selectNewAdUnit","AdUnit","AdUnitModel","selectNewAdSlot","AdSlot","AdSlotModel","COUNTRY_NAMES","ISOCountries","getNames","selectCampaignsTableData","_ref$decimals","depositAsset","decimals","_item$spec","spec","_item$adUnits","firstUnit","to","concat","toReceipt","media","mediaUrl","mediaMime","title","status","humanFriendlyName","originalName","name","depositAmount","formatUnits","fundsDistributedRatio","ctr","minPerImpression","created","activeFrom","withdrawPeriodStart","actions","receiptReady","receiptAvailable","selectCampaignsMaxImpressions","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","replace","selectAdUnitsTableData","mapByCountryTableData","impressionsByCountry","clicksByCountry","impressionsAggrByCountry","impressionsPayByCountry","clicksPayByCountry","addEarnings","key","countryName","percentImpressions","earnings","selectPublisherStatsByCountryData","selectCampaignAnalyticsToCountryData","selectPublisherStatsByCountryTableData","selectCampaignAnalyticsToCountryTableData","mapByCountryMapChartData","colorScale","scaleLinear","domain","range","PRIMARY_LIGHTEST","PRIMARY_DARKEST","hoverColor","SECONDARY","pressedColor","SECONDARY_LIGHT","chartData","chartCountriesData","objects","countries","geometries","numericToAlpha2","tooltipElements","formatAbbrNum","properties","fillColor","grey","selectPublisherStatsByCountryMapChartData","selectCampaignAnalyticsToCountryMapChartData","selectBestEarnersTableData","selectCampaignStatsTableData","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","website","selectCampaignStatsMaxValues","channelId","current","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectAdUnitsStatsMaxValues","selectPublisherReceiptsStatsByMonthTableData","token","_ref15$decimals","_i","_Object$entries","entries","selectPublisherReceiptsStatsByMonthTotalValues","totalPayouts","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","sort","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","label","selectSlotTypesSourceWithDemands","symbol","constants","AdUnitsTypes","dA","bigNumberify","avgCPM","dB","gt","index","source","hasPopularGroup","group","hasNoDemandGroup","demandIfo","totalVolume","selectMonthsRange","startDate","endDate","months","m","moment","diff","selectReceiptMonths","__","monthsEnd","monthTimestamp","endOf","selectFromSource","labelValueMapping","translated","selectKnowUsFromSource","WHERE_YOU_KNOW_US","selectTargetingSources","sources","collection","target","tag","score","toUpperCase","placeholder","autocompleteTagsSingleSelect","PredefinedTags","_id","slotSources","tags","src","custom","unitSources","locations","AllCountries","genders","Genders","gender","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","_ref$meta","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","adSlotsArray","selectHasAdSlotImpressions","selectHas5000Impressions","sectStepsData","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","selectLocation","router","location","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","ITEMS_SELECTORS","receipt","SIDES","advertiser","publisher","selectDashboardBreadcrumbs","_ref4$pathname","pathname","paths","x","sideDashboard","sideDashboardBC","join","restBC","prev","selector","bc","restCopy","receiptAt","indexOf","__webpack_require__","d","__webpack_exports__","configSelectors_selectRelayerConfig","translationsSelectors_t","privilegesNames","valueToKey","IdentityPrivilegeLevel","tokenAvailableBalance","balance","feeToken","min","mul","lte","getTotalAccountRevenue","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","mark","_callee2","withdrawTokens","totalRevenue","wrap","_context2","next","_callee","revenuePr","revenue","balanceMainToken","_args","_context","sent","minFinal","tokenInMainTokenValue","t0","abrupt","stop","_x2","this","Promise","resolve","_x","getWithdrawTokensBalances","_callee4","getFullBalances","getToken","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","_context4","getEthers","_callee3","tokenContract","available","_context3","balanceOf","_x4","balanceData","_x3","getAddressBalances","_x5","_getAddressBalances","_callee6","provider","calls","_context6","getBalance","path","serializedPath","balanceEth","formatEther","toString","tokensBalances","getAccountStats","_x6","_getAccountStats","_callee7","_ref11$outstandingBal","outstandingBalanceMainToken","getIdentity","_selectMainToken","_identity$status","identityContract","privilegesAction","_ref22$","identityWithdrawTokensBalancesBalances","walletPrivileges","_context7","deployed","privileges","then","res","catch","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","totalOutstandingBalanceMainToken","availableIdentityBalanceMainToken","totalIdentityBalanceMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_x7","_getOutstandingBalance","_callee8","withBalance","bigZero","initial","allOutstanding","_context8","amounts","ch","outstanding","outstandingAvailable","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","getAllValidatorsAuthForIdentity","_x9","_getAllValidatorsAuthForIdentity","_callee11","validatorAuthTokens","allValidators","tokenCalls","allTokens","validatorsAuth","_context11","_objectSpread2","channel","leader","validators","follower","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_callee10","_context10","getValidatorAuthToken","validatorId","_x12","saiDaiConversion","_callee5","_context5","_x10","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_x11","_tokenInMainTokenValue","_callee12","_selectMainToken2","valueInMainToken","_context12","toLowerCase","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","bundle","showOnTrezor","getAddresses","asyncToGenerator","regenerator_default","_ref3$from","_ref3$to","success","payload","ethereumGetAddress","signTx","params","txProps","signature","txSigned","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","s","v","serializeTransaction","Error","error","sendTransaction","txData","signMessage","message","_args4","ethereumSignMessage","hex","hash","mode","SignatureModes","GETH","connect","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","password","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","getAddress","signetTx","sign","_args5","arrayify","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","_getSigner","signer","_signer2","_signer3","AUTH_TYPES","METAMASK","LEDGER","LedgerSigner","TREZOR","GRANT","QUICK","getTypedDataHash","typedData","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","authToken","floor","random","MAX_SAFE_INTEGER","_signTx","tx","sig","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","signatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","loadFromLocalStorage","localStorage","getItem","JSON","err","saveToLocalStorage","serialized","stringify","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","module","exports","p","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","props","close","setState","active","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","anchorOrigin","vertical","horizontal","top","react_default","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Confirm","children","_useState","useState","_useState2","setOpen","_useSelector","useSelector","onConfirm","onCancel","noActionBtns","_useSelector$data","_useSelector$data$tit","_useSelector$data$tex","text","confirmLabel","cancelLabel","useEffect","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","withReactRouterLink","Decorated","_React$Component","_getPrototypeOf2","_len","Array","_key","resolveToLocation","history","createHref","handleClick","event","_this$props","preventDefault","stopPropagation","_this$props2","forwardedRef","match","staticContext","toLocation","assign","ref","href","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","Anchor","underline","externalIcon","component","isExternal","getUrl","linkProps","draggable","rel","style","Link","OpenInNew","ExternalAnchor","anchor_Anchor","fontWeight","styles","_drawerPaper","_content","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","paddingRight","paddingLeft","flexRow","flexBasis","paddingBottom","&:last-child","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","drawerPaper","content","palette","background","default","padding","paddingTop","marginLeft","down","contentInner","breadcrumbElement","sideIndex","0","1","handleChange","ev","execute","useTabsStyles","makeStyles","indicator","useTabStyles","activeColor","accentOne","main","accentTwo","minWidth","&$selected","common","white","&:hover","hover","selected","SideSwitch","tabsClasses","tabClasses","Box","bgcolor","boxShadow","Tabs","onChange","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","useStyles","contrastText","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","&:focus","& .MuiListItemIcon-root","adxLink","hint","sideSwitch","marginBottom","amount","typography","pxToRem","useCommonStyles","SideNav","commonClasses","routerLocation","List","AdexIconTxt","spinners_LoadingSection","Typography","button","Divider","dashboard_SideSwitch","ListItemIcon","Dashboard_default","ListItemText","primary","List_default","Fragment","CampaignIcon","Receipt","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","anchorEl","setAnchorEl","handleClose","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-haspopup","aria-controls","textOverflow","Menu","Boolean","getContentAnchorEl","transformOrigin","Children","child","cloneElement","Translate","_ref$isProp","_ref$args","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","RRLink","handleDrawerToggle","imgSrc","breadcrumbs","btnMenuLabel","formatAddress","AppBar","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","Breadcrumbs","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","setTimeout","bind","assertThisInitialized","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","size","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","align","textLabels","body","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","progress","MUIDataTableEnhanced","columns","options","react","dist_default","elevation","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","disableToolbarSelect","toolbarEnabled","responsive","mapStatusIcons","humanFriendlyStatus","xs","md","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","cellImg","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","gutterBottom","pl","pr","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selectorArgs","getColumns","setData","_useState3","_useState4","setColumns","selectedData","reloadData","useCallback","buttonProgress","marginTop","ReloadData","handleReload","Tooltip","Refresh","PrintAllReceipts","handlePrintAllReceipts","disabled","receiptsSpinner","PRINTING_CAMPAIGNS_RECEIPTS","startIcon","Print","RRIconButton","RRImg","getCols","maxDeposit","customBodyRender","includes","truncateString","commify","sortDirection","formatDate","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","customToolbarSelect","displayData","setSelectedRows","selectedIndexes","dataIndex","handlePrintSelectedReceiptsAdvertiser","CampaignsTable","_useTableData","ds","errColor","&$active","stepperWrapper","pagePaper","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","currentPage","window","innerWidth","StepLabel","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","MaterialStepper","_props$initialPage","initialPage","_props$steps","closeDialog","setCurrentPage","canReverse","pageProps","validateId","Comp","validationFn","onValid","stepsId","completeFn","_page$completeBtnTitl","completeBtnTitle","dirtyErrors","dirtyErrs","dirty","msg","errMsg","field","getDirtyValidationErrors","validationSpinner","stepsSpinner","spinner","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","handleComplete","onKeyPressed","onKeyPress","mb","Paper","stepperNav","MaterialUiStepper_StepperNav","mt","Chip","Error_default","cancelFunction","FormSteps","stepperSteps","setSteps","_useSelector$step","updatedSteps","MaterialUiStepper","fullHeight","innerHeight","dialogTitle","wordWrap","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","textTransform","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialogHoc","WithDialog","iconButton","textButton","fabButton","btnLabelArgs","mini","btnLabel","dialogActions","fullWidth","onBeforeOpen","btnProps","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","Cancel_default","formControl","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","helperText","_props$fullWidth","required","noSrcLabel","IconComponent","FormControl","InputLabel","htmlFor","Select","ListSubheader","TextField","spinners_InputLoading","FormHelperText","addUrlUtmTracking","targetUrl","removeFromUrl","URL","protocol","host","newQuery","UTM_PARAMS","AdTypes","AdUnitBasic","description","temp","autoUtmAdded","_useSelector2","errTitle","errDescription","errTargetUrl","errType","updateUtmParameters","withUTM","updateNewUnit","handleUtmButton","Grid","container","maxLength","multiline","rows","dropdown_Dropdown","getCroppedImgUrl","objUrl","pixelCrop","fileName","cropCanvas","scaleCanvas","crossOrigin","reject","crop","round","y","getContext","drawImage","toBlob","file","createObjectURL","PropBaseComponent","inputRef","PropRow","shrink","disableAnimation","OutlinedInput","notched","readOnly","inputComponent","inputProps","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref8$msgs","msgs","_ref8$color","strong","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","preventBubbling","revokeObjectURL","onCropChange","saveCropped","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","uploadInfo","uploadActions","dropzoneBtn","Crop","Clear","CloudUpload","aspect","additionalInfo","_this$state3","imgForm","content_PropRow","dropzone","alignContent","sm","react_image_crop_default","imageStyle","imgDropzonePreview","Save","dist_es","img_Img","AdUnitMedia","errImg","_getWidAndHightFromTy","getWidAndHightFromType","forms_ImgForm_ImgForm","mediaProps","targetIcon","LocationOnIcon","WcIcon","age","ChildCareIcon","TargetArrayValues","addDivider","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref2$targets","targets","subHeader","dense","subheader","TargetsList_TargetArrayValues","imgPreview","imgPreviewWrapper","AdUnitPreview","targeting","containers_TargetsList_TargetsList","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","validate","handleSelect","selectedItemsIds","newTemp","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange","iconColor","onIconClick","onLiveClick","onNextClick","InputAdornment","Update","NavigateNextRounded","DateTimePicker","calendarIcon","onBackClick","roundHour","InputProps","endAdornment","DateTimePicker_CalendarIconAdor","startAdornment","NavigateBeforeRounded","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","card","mediaRoot","basicInfo","flexWrap","buttonRight","buttonLeft","textField","changesLine","changeChip","editIcon","mediaPropChip","DirtyProps","_ref$dirtyProps","dirtyProps","returnPropToInitialState","react_router","when","esm_Info","onDelete","ItemSpecProp","prop","_ref2$value","ItemTitle","updateField","setActiveFields","_ref3$activeFields","activeFields","showError","errMsgArgs","UndoOutlined","Edit","ItemDescription","_ref4$activeFields","ItemAdType","OpenInNewIconBtn","IconButtonWithRef","itemCommonNew_OpenInNewIconBtn","ItemTargetURL","_ref7$targetUrl","anchor_ExternalAnchor","ItemFallbackMediaURL","_ref8$targetUrl","MediaCard","_ref9$mediaUrl","_ref9$mediaMime","_ref9$label","Card","raised","CardMedia","ItemMinPerImpression","_ref10$item","_ref10$activeFields","minCPM","ItemWebsite","_ref11$item","_ref11$activeFields","dangerouslySetInnerHTML","__html","useItem","objModel","validateAndUpdateFn","initialItemState","setInitialItemState","_useState5","_useState6","setFields","_useState7","_useState8","setDirtyProps","_useState9","_useState10","setValidateId","storeItem","itemId","save","propName","dp","buttonSuccess","fabProgress","SaveBtn","Check","isNumberString","MomentUtils","getTotalImpressions","dep","CampaignFinance","invalidFields","minTargetingScore","_campaign$temp","maxChannelFees","maxDepositFormatted","GETTING_CAMPAIGNS_FEES","valueOf","errDepAmnt","errMin","errFrom","errTo","errUnitsTargeting","itemCommonNew_ItemSpecProp","validateNumberString","common_DateTimePicker_DateTimePicker","emptyLabel","inputVariant","disablePast","minDate","maxDate","FormGroup","row","FormControlLabel","control","Checkbox","checked","Alert","severity","WalletAction","CampaignFormPreview","feesSpinner","openingSpinner","OPENING_CAMPAIGN","_useSelector$temp","feesFormatted","totalSpendFormatted","getCampaignActualFees","checkNetworkCongestion","FormsCommon_WalletAction","AdSlotBasic","adTypesSource","_newItem$title","_newItem$description","_newItem$website","_newItem$type","_newItem$minPerImpres","UPDATING_SLOTS_DEMAND","errWebsite","updateSlotsDemandThrottled","updateNewSlot","AdSlotMedia","_temp$useFallback","useFallback","errFallbackUrl","Switch","Collapse","in","getSuggestions","inputValue","allowCreate","validateCreation","suggestion","newSuggestion","chip","inputRoot","multiple","errorText","onInit","defaultValue","setInputValue","suggestions","selectedItem","Autocomplete","getOptionLabel","option","onInputChange","renderInput","slider","markLabel","Targets","_ref$source","autocomplete_Autocomplete","openOnClick","updateNewItemTargets","suggestionMatch","showSuggestionsWhenValueIsSet","remove","esm_Cancel","NewItemTargeting","sourcesSelector","SOURCES","SourcesSelect","_temp$targets","_ref3$source","_ref3$target","NewItemTargeting_Targets","Add","getIssue","issue","WebsiteIssues","site","defaultIssues","_getIssue","my","SlotFallback","AdSlotPreview","AdSlotPreview_SlotFallback","AdSlotTargeting","items_NewItemTargeting","AdUnitTargeting","NewUnitStepsWithDialog","stepper_FormSteps","resetNewItem","validateIdBase","validateNewUnitBasics","validateNewUnitMedia","validateNewUnitTargeting","AdUnitFormPreview","completeItem","competeAction","saveUnit","imgLabel","noDefaultImg","itemModel","NewUnitDialog","copyProps","darkerBackground","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","validateNewCampaignAdUnits","onInvalid","validateNewCampaignFinance","openCampaign","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","validateNewSlotBasics","validateNewSlotPassback","saveSlot","descriptionHelperTxt","NewSlotDialog","AdUnitsTable_RRImg","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","onRowsSelect","rowsSelected","AdUnitsTable","_props$selected","setSelectorArgs","allRowsSelected","AdSlotsTable_RRImg","AdSlotsTable_RRIconButton","AdSlotsTable","PublisherTabs","PublisherTab","PublisherAppBar","AdvertiserTabs","AdvertiserTab","AdvertiserAppBar","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","tooltips","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","formatNumberWithCommas","CampaignStatsBreakdownTable","dottedDivider","borderBottom","solidDevider","breakdownTable","breakAll","whiteSpace","pageBreak","pageBreakAfter","a4","hideOnMobile","hideOnDesktop","PublisherReceiptTpl","monthBreakdown","cpm","_useSelector3","companyName","firstLastName","country","unix","toHexString","substr","isFinite","Table","TableHead","TableRow","TableCell","TableBody","RRButton","G404","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","PageNotFound_G404","IMG_404_1","IMG_404_2","CampaignReceiptTpl","campaignBreakdown","creator","page_not_found_PageNotFound","CompanyDetails","updateCompanyData","invoice","useRef","useParams","selectedCampaigns","selectedByPropsOrParams","receiptsAdvertiser","setStartDate","setEndDate","setDirty","dates","validateStartDate","validateEndDate","startDateError","endDateError","monthMappingStartPeriod","setDate","monthMappingEndPeriod","fetchingPublisherReceiptsSpinner","FETCHING_PUBLISHER_RECEIPTS","setReceipts","resetSelectedItems","Receipt_CompanyDetails","react_to_print_lib_default","trigger","CalendarToday","GetApp","getReceiptData","showEarnings","StatsByCountryTable","noViewColumns","MapChart","setContent","square","index_umd","data-tip","projection","projectionConfig","scale","maxZoom","geography","_ref2$geographies","geographies","geo","_geo$properties","rsmKey","onMouseEnter","onMouseLeave","stroke","outline","pressed","index_es","ALEX_GREY","isArray","CampaignBasic","hookProps","itemCommonNew_DirtyProps","lg","itemCommonNew_MediaCard","closeCampaign","itemCommonNew_ItemTitle","tabIndex","setTabIndex","_useItem","validateAndUpdateCampaign","SaveBtn_SaveBtn","scrollButtons","CampaignBasic_CampaignBasic","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","map_MapChart","Tables_StatsByCountryTable","Receipt_Receipt","commonDsProps","lineTension","pointRadius","pointHitRadius","FONT","SimpleStatistics","data1","data2","data3","data4","dataSynced","_ref$defaultLabels","defaultLabels","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y4Label","y4Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","_ref$y4Color","y4Color","nowLabel","Chart","pluginService","register","beforeDraw","chart","ctx","tooltip","_active","controller","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","restore","yAxisID","pointBackgroundColor","linesOptions","annotation","annotations","scaleID","pink","borderDash","enabled","fontFamily","maintainAspectRatio","boxWidth","intersect","titleFontSize","bodyFontSize","bodyFontFamily","titleFontFamily","xPadding","yPadding","bodySpacing","caretSize","displayColors","yLabel","formatFloatNumberWithCommas","xAxes","gridLines","drawBorder","drawTicks","scaleLabel","labelString","ticks","autoSkip","maxTicksLimit","maxRotation","callback","yAxes","beginAtZero","stepSize","plugins","ChartAnnotation","px","shadows","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","_React$useState","_React$useState2","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","element","_ref$bgColor","bgColor","_ref2$bgColor","cardContent","infoCard","linkCard","&:hover, &:focus","StatsCard","explain","CardContent","Info_default","dayWrapper","day","customDayHighlight","nonCurrentMonthDay","highlightNonCurrentMonthDay","highlight","firstHighlight","extend","borderTopLeftRadius","borderBottomLeftRadius","endHighlight","borderTopRightRadius","borderBottomRightRadius","dayDisabled","pointerEvents","DatePicker","esm_DatePicker","DatePicker_CalendarIconAdor","DatePicker_DatePicker","WeeklyDatePicker","dayIsFuture","isAfter","renderDay","selectedDate","dayInCurrentMonth","_clsx","_clsx2","dateClone","makeJSDateObject","selectedDateClone","startOfWeek","endOfWeek","dayIsBetween","isWithinInterval","isFirstDay","isSameDay","isLastDay","wrapperClassName","clsx","dayClassName","labelFunc","invalidLabel","isValid","addDays","shouldDisableDate","infoStatsContainer","dashboardCardBody","cardIcon","useKeyPress","targetKey","keyPressed","setKeyPressed","downHandler","upHandler","addEventListener","removeEventListener","timeoutMap","hour","week","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","metrics","ACCENT_TWO","PRIMARY","ACCENT_ONE","getDefaultLabels","DatePickerSwitch","views","minutesStep","ImpressionsAlert","_ref3$impressions","updateMissingRevenueDataPointAccepted","BasicStats","SPACE","ARROW_LEFT","ARROW_RIGHT","isAuth","setLoop","missingRevenuePointsAccepted","averageCPM","goNext","updateAnalyticsPeriodPrevNextLive","goPrev","goLive","live","updateAccountAnalyticsThrottled","startLoop","analyticsLoopCustom","syncAction","_syncAction","every","showRevenueInfo","DashboardStats_StatsCard","updateIdSideAnalyticsChartTimeframe","BasicStats_DatePickerSwitch","updateIdSideAnalyticsChartPeriod","disableFuture","maxDateMessage","strictCompareDates","Mouse","esm_MonetizationOn","Equalizer","BasicStats_ImpressionsAlert","simplified_SimpleStatistics","AdvertiserStats","BestEarnersTable","PublisherStats","Tables_BestEarnersTable","Unit","validateAndUpdateUnit","py","itemCommonNew_ItemAdType","itemCommonNew_ItemTargetURL","itemCommonNew_ItemDescription","SlotBasic","_hookProps$validation","itemCommonNew_ItemFallbackMediaURL","itemCommonNew_ItemMinPerImpression","itemCommonNew_ItemWebsite","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","integrationLabel","integrationCode","alignSelf","IntegrationCode","_ref$slot","slot","fallbackUnit","isEmailConfirmed","sizes","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","onCopy","addToast","copy","AlertTitle","Slot","validateAndUpdateSlot","indicatorColor","SlotBasic_SlotBasic","IntegrationCode_IntegrationCode","WithdrawFromIdentity","amountToWithdraw","withdrawTo","_useSelector4","errAmount","errAddr","errFees","fees","updateNewTransaction","WithdrawAnyTokenFromIdentity","tokenAddress","tokenDecimals","errTokenAddress","errTokenDecimals","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPage","username","errUsername","IdentityWithdrawPreview","feesData","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreview","previewWarnMsgs","txId","waitingForWalletAction","_useSelector2$feesDat","_useSelector2$errors","errors","classNameLeft","classNameRight","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","resetNewTransaction","WithdrawTokenFromIdentity","saveBtnLabel","validateIdentityWithdraw","completeTx","identityWithdraw","SetIdentityPrivilege","validatePrivilegesChange","updateIdentityPrivilege","WithdrawAnyTokenFromIdentityPage","validateIdentityWithdrawAny","identityWithdrawAny","SetAccountENS","validateENSChange","setIdentityENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountInfo","_useSelector$authType","canMakeTx","identityEnsName","expanded","setExpanded","AccountInfo_AccountItem","transactions_SetAccountENS","identityAvailable","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","ExpansionPanelSummary","expandIcon","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","transactions_WithdrawAnyTokenFromIdentity","useColorlibStepIconStyles","transition","completed","star","ColorlibConnector","DEFAULT_SIZE","line","backgroundSize","LINES_WIDTH","StepConnector","ColorlibStepIcon","backgroundImage","esm_CheckCircle","createAdUnitTutorial","confirmAction","fundAccountTutorial","launchFirstCampaign","createAdSlot","placeAdSlot","mobile","stepper","instructions","expansionPanel","& .MuiExpansionPanelSummary-expandIcon","getSteps","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","GettingStarted","stepsData","isGettingStartedHidden","setActiveStep","sideSteps","currentStep","indexOfFirstIncompleteStep","findIndex","setGettingStartedExpanded","esm_ExpandMore","CheckCircleOutline","Hidden","mdUp","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","smDown","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","esm_Close","Campaigns","NewItems_NewCampaignDialog","accent","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Dashboard","mobileOpen","setMobileOpen","showPublisherRevenueNotice","showTxPrivLevelWarning","dataLoaded","_updateInitialData","loadAccountData","updateMemoryUi","updateInitialData","stopAccountDataUpdate","resolveEnsAddress","updateNav","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","updatePrivilegesWarningAccepted","exact","Account","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","dialogPaper","noBg","backdrop","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","goTo","confirmLogout","toExecute","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","&:first-child","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","waitingMetamaskAction","setWaitingMetamaskAction","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","metamaskSigner","_address","_stats","updateIdentity","updateIdentityWallet","signType","getErrMsg","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","addr","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","method","sideSelect","ValidItemHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","resetValidationErrors","updateValidationErrors","IdentityForm","login","resetIdentity","ready","waitingExpected","waiting","CREATING_SESSION","waitingUpload","UPLOADING_ACCOUNT_DATA","IdentityHoc","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","results","log","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","knowFromSource","QuickInfo","sessionSpinner","walletMsgs","emailCheck","passwordCheck","tosCheck","knowFrom","moreInfo","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","accessWarningCheck","QuickLogin","getIdentitiesForDropdown","ens","FullLogin","ownerIdentities","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","set","updateOwnerIdentities","owner","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","BackdropProps","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","esm_extends","ConnectedCreateQuickIdentity","JustDialog","validateQuickInfo","final","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","updateEasterEggsAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","themeMUI","useUtils_cfb96ac9","DateUtils","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","UPDATE_UI_BY_IDENTITY_AND_SIDE","UPDATE_MEMORY_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","UPDATE_ANALYTICS_PERIOD","UPDATE_PUBLISHER_RECEIPTS","RESET_SELECTED_ITEMS","UPDATE_ANALYTICS_LAST_CHECKED","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAccount","analyticsCampaignsLoop","campaignsLoop","statsLoop","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","_authType","getMediaSize","checkExactishAspect","video","videoWidth","videoHeight","getVideoSize","getImageSize","widthTarget","heightTarget","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_abi_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","joinSymbol","substring","parts","number","decPlaces","pow","abbrev","string","handleRequesterErrorRes","textObj","_unused","statusText","AdexNodeRequester","baseUrl","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","route","fetch","_ref4$route","_ref4$queryParams","queryParams","_ref4$method","_ref4$headers","headers","_ref4$authSig","userAddr","_ref4$noCache","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","requester","adex_constants__WEBPACK_IMPORTED_MODULE_0__","ItemsConstants","ItemsTypes","AdTypesByValue","AdSizesByValue","Looper","_ref$loopName","loopName","stopOn","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","makeStopCheck","checkLoop","analyticsLoop","Loop","updateAccountAnalytics","_syncAction3","_syncAction4","updateAccountCampaignsAnalytics","_MomentUtils","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","clone","isBetween","ammount","unit","hours","period","weeks","utcOffset","locale","localeData","_ref2$locale","dow","doy","defaultLocaleData","getLocaleDate","updateLocale","firstDayOfWeek","firstDayOfYear","hoursToRound","hoursMulti","getHours","nearestSix","setHours","getUTCOffset","setSeconds","isMoment","getTime","BID_STATES","ExchangeConstants","TIMEOUTS","limit","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","_WALLET_ACTIONS_MSGS","adex_models__WEBPACK_IMPORTED_MODULE_0__","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","plainObj","addUtmLink","currentItem","Website","web3Transactions","ethNetwork","networkId","gasData","market","crypto","getKeyHash","createHash","digest","encrypt","iv","cipher","encr","encrypted","randomBytes","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","encryptLegacy","crypted","createCipher","decryptLegacy","dec","createDecipher","_x8","QUICK_WALLET_BACKUP","UPDATING_ACCOUNT_IDENTITY","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","listen","gtag","page_path","LOOP_TIMEOUT","updateUserCampaigns","accountStatsLoop","updateAccountStats","fillEmptyTime","prevAggr","fillAfterLast","interval","newAggr","getDiff","getUnix","prevAggrInInterval","lastWithValueTime","isNullValue","getTimePeriods","startCopy","addHours","getBorderPeriodStart","_ref4$next","addWeeks","getErrorMsg","updateSpinner","types","updateGlobalUi","category","updateUiByIdentity","updateIdentitySideUi","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","_ref2$noCancel","noCancel","_ref2$noConfirm","noConfirm","changeLanguage","get","updateSelectedItems","updateSelectedCampaigns","refreshCacheAndReload","caches","notifyNewTOS","grant","accepted","periodStart","_getTimePeriods","_ref7$next","_ref7$live","_selectIdentitySideAn","isEthAddressERC20","contract","isEthAddress","ethers","Contract","ERC20TokenABI","totalSupply","AddressZero","allowance","isConnectionLost","eth","race","getBlockNumber","passwordRegex","validPassword","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$username","ensAddress","resolveName","code","Requester","processResponse","json","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","txnsRaw","Content-Type","regAccount","bytecode","identityFactoryAddr","baseIdentityAddr","salt","routineAuthorizationsRaw","getQuickWallet","backupWallet","encryptedWallet","getEmail","campaignPut","schemas","validateAddress","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","handleAfterValidation","validateEmailCheck","validatePassword","validatePasswordCheck","validateTOS","_x13","validateENS","_x14","validateWallet","_callee9","_context9","_x15","_x16","validateIdentityContractOwner","identityContractOwner","_x17","_x18","validateKnowFrom","_x19","_x20","validateMoreInfo","_x21","_x22","validateAccessWarning","_callee13","_context13","_x23","_x24","validateCampaignMinTargetingScore","_callee14","_context14","_x25","_x26","validateCampaignUnits","_callee15","_context15","_x27","_x28","validateCampaignValidators","_callee16","_context16","feeNum","feeDen","feeAddr","_x29","_x30","validateAmounts","_ref26$maxDeposit","lt","validateFees","feesAmountBN","amountToSpendBN","_ref27$errorMsg","errorMsg","_ref28","_callee17","_selectAccountStatsRa","availableIdentityBalanceMainTokenRaw","_selectAccountStatsFo","availableIdentityBalanceMainTokenFormatted","amountNeeded","amountNeededFormatted","_context17","_x31","_x32","validateWithdrawAmount","_callee18","_context18","parseUnits","_x33","integerOnly","_callee19","_context19","_x34","_x35","validateCampaignAmount","_callee20","isValidNumber","deposit","isValidDeposit","isValidMin","_context20","_x36","_x37","getCampaignDatesValidation","_ref35$created","validateCampaignDates","_callee21","_context21","_x38","_x39","validateCampaignTitle","_callee22","_context22","Joi","_x40","_x41","validateEthAddress","_ref40$nonZeroAddr","_ref40$nonERC","_callee23","_context23","_x42","_x43","validatePrivilegesAddress","_ref43$setAddr","_ref43$walletAddr","_callee24","isCurrentAddress","_context24","_x44","_x45","validatePrivLevel","_callee25","_context25","_x46","_x47","validateSchemaProp","_ref47","_callee26","_context26","_x48","validateEmail","validateNotExisting","_callee27","_ref50","existing","_context27","_x49","validateMediaSize","mediaWidth","mediaHeight","dontThrow","getSession","signerAddress","checkSession","skipErrToast","convertItemToJSON","itemToConvert","getAdUnits","postAdUnit","updateAdUnit","getAdSlots","postAdSlot","updateAdSlot","getCampaigns","closeCampaignMarket","getAllCampaigns","statuses","byEarner","updateCampaign","verifyWebsite","websiteUrl","numStringCPMtoImpression","numStr","div","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","getAllItems","resUnits","resSlots","userSlots","userPassbackUnits","slotsWithUnits","slotWithUnitsRes","passbackUnits","passbacks","updateItems","updateItem","updatedItem","marketUpdate","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","Base","updateObject","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","addSig","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","Interface","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","getIdentityDeployData","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","identityRecoveryAddr","coreAddr","outpace","validUntil","feeTokenAddr","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","withdrawFromIdentity","_withdrawFromIdentity","getFeesOnly","tokenAddr","toWithdraw","withdrawTx","txnsByFeeToken","mtBalance","maxWithdraw","actualWithdrawAmount","functions","transfer","encode","getIdentityTxnsWithNoncesAndFees","amountInMainTokenNeeded","getIdentityTxnsTotalFees","totalBN","sub","processExecuteByFeeTokens","setIdentityPrivilege","_setIdentityPrivilege","MainToken","identityInterface","tx1","setAddrPrivilege","extraData","txnsByTokenWithSaiToDaiSwap","daiAddr","_txns$reduce","withdrawAmountByToken","saiWithdrawAmount","addIdentityENS","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","saiToken","_selectRelayerConfig3","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","totalAmountInMainTokenNeeded","_ref17$sweepTxns","sweepTxns","_ref17$swapAmountsByT","swapAmountsByToken","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","nonce","toNumber","minRecommended","minDeploy","getSweepingTxnsIfNeeded","t4","swapSaiToDaiTxns","swapAmount","t5","t6","Set","_tx$routinesSweepTxCo","routinesSweepTxCount","_tx$extraTxFeesCount","extraTxFeesCount","isSweepTx","txFeeAmount","minFeeAmount","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","getApproveTxns","_getApproveTxns","approveForAddress","approveAmount","approveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","_feeTokenWhitelist$ke","fee","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","withdrawOtherTokensFromIdentity","_withdrawOtherTokensFromIdentity","_selectRelayerConfig4","Core","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","Channel","tokenAmount","getReadyCampaign","newCampaign","getValidUntil","validator","maxPerImpression","eventSubmission","allow","uids","rateLimit","getWithdrawnPerUserOutstanding","withdrawnPerUser","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_channel$status","bTree","BalanceTree","balanceNum","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref4$withBalance","_withBalance$sort$red","eligible","c1","c2","sum","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","updated","routineOpts","RoutineOps","channelWithdraw","executeRoutines","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","getSwapAmountsByToken","swaps","swapsSumInMainToken","swapsByToken","_getSweepingTxnsIfNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","channelOpenTx","maxAvailable","maxAvailableFormatted","storeCampaign","channelOpen","closeChannel","_closeChannel","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","byType","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","analyticsParams","callsParams","segmentByChannel","analyticsCampaignsParams","aggrByChannelsSegments","feeTokens","_aggr$sort$reduce","aggregations","_withdrawTokens$depos","minBalance","currentAggr","currentChannelValue","hasMinBalance","currentTimeValue","feeSubtracted","currentAvailable","currentAdded","points","curInnerAggr","throttle","leaderAuth","accountChanged","timeframeIsLive","allAnalytics","updateAnalyticsLastChecked","updateValidatorAuthTokens","newAuth","_selectStatsChartData","identityAnalytics","aggregates","aggrByChannelSegments","isAccountChanged","leading","trailing","identityCampaignsAnalytics","presentMonths","monthsWanted","monthsNeeded","promises","startDateNeeded","endDateNeeded","resolvedPromises","getMonthTimeStamp","timeBasedAnalytics","month","updateSlotsDemand","demandAnalytics","updateSignin","resetSignin","createAccount","updateAccount","newValues","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","updateGasData","hasAuth","accountCheck","updateAccountIdentityData","updatedIdentity","isLimitedVolume","newIdentity","newTokens","createSession","_ref9$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","cfg","getNetworkId","getNetwork","getNetworkData","network","isMetamaskMatters","doesItMatter","onMetamaskNetworkChange","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","metamaskAccountCheck","ethereumNetworkId","ethereum","on","accounts","hasBackup","generateSalt","getWalletHash","makeBackup","walletSalt","walletHash","getRecoveryWalletData","_selectWallet","isLocal","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","obj","abort","readAsText","identityData","lookupAddress","_selectIdentity","identityTxData","registerAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","getGasPrice","gasPrice","gasPriceCapGwei","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","inputValidations","validation","_selectNewTransaction2","_selectNewTransaction3","_selectNewTransaction4","updateNewItem","updateNewItemAction","Models","itemClassByName","_ref6$target","_newValues","hasIndex","filtered","isInteger","splice","updateCampaignState","lastApprovedState","getHumanFriendlyName","_selectAccount","authTokens","tempValidators","_campaign$temp2","totalSpend","updatedCampaign","adSlotPost","adUnitPost","adSlotPut","_slot$minPerImpressio","_selectNewAdSlot","_selectNewAdSlot$temp","imageIpfs","resUnit","resItem","passback","marketAdd","newSlot","checkMinPerImpression","finalValidations","updatedSlot","adUnitPut","_selectNewAdUnit","_selectNewAdUnit2","_selectNewAdUnit2$tar","_selectNewAdUnit3","_selectNewAdUnit3$tem","updatedUnit","uiActions","validationActions","mediaValidations","itemActions","accountActions","identityActions","bidActions","transactionActions","analyticsActions","newItemsActions","campaignActions","slotActions","unitActions","setLogLevel","getEthersResult","adexCore","getAdexCore","standard","getMainToken","identityFactory","getIdentityFactory","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","networkVersion","isMetaMask","translations_translate","setLang","translations","adexTranslations","translation","tpl","pattern","RegExp","interpolated","isValidElement","interpolate","lng","alpha","hexToDec","h","g","stack","isInt","int","shuffleArray","array","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","updateCfg","newCfg","persistReducers","newState","filterActions","newCollection","collectionId","Item","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","calledOn","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","derive","publicExtendedKey","HDNode","fromExtendedKey","_ref4$from","_ref4$to","transport","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","payloadEncoded","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","semverGreaterThan","versionA","versionB","versionsA","versionsB","isNaN","cache","latestVersion","latestTOS","currentVersion","currentTOS","tosVersion","light","lightest","amber","lime","contrastThreshold","tonalOffset","disabledBackground","defaultTheme","createMuiTheme","overrides","MuiButton","outlined","MuiTableCell","head","MuiPaper","rounded","MuiTooltip","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","responsiveFontSizes","factor","getValidatorRequester","getRequesters","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","existingAuth","era","ewt","sendMessage","_authTokens","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","events"],"mappings":"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","file":"static/js/main.b94f8bac.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\r\nimport isEqual from 'lodash.isequal'\r\n\r\n// deep equal memoization instad reference check\r\nexport const createDeepEqualSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\tisEqual\r\n)\r\n\r\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\t(a = [], b = []) => a.length === b.length\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\n\r\n// can be used outside  components\r\nexport const selectRelayerConfig = state => {\r\n\treturn (state || getState()).persist.config.relayer\r\n}\r\n\r\n// - relayer cfg\r\n// network,\r\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy, minRecommended }],\r\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\r\n// coreAddr,\r\n// baseIdentityAddr,\r\n// identityFactoryAddr,\r\n// registryAddr,\r\n// daiAddr,\r\n// marketUrl,\r\n// identityRecoveryAddr,\r\n// weeklyFeeAmount,\r\n// mainToken, // { address, symbol, decimals, standard },\r\n// advertiserMinGrantAmount\r\n// relayerAddr\r\n// gasPriceCap\r\n\r\nexport const selectFeeTokenWhitelist = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ feeTokenWhitelist }) => {\r\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokens = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.map(t => t.address)\r\n\t}\r\n)\r\n\r\nexport const selectConfig = createSelector(\r\n\t[selectRelayerConfig],\r\n\trelayerConfig => {\r\n\t\tconst cfg = { ...relayerConfig }\r\n\t\treturn cfg\r\n\t}\r\n)\r\n\r\nexport const selectMainToken = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ mainToken }) => mainToken || {}\r\n)\r\n\r\nexport const selectGasPriceCap = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ gasPriceCap }) => gasPriceCap\r\n)\r\n\r\nexport const selectSaiToken = createSelector(\r\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\r\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\r\n)\r\n\r\nexport const selectMainFeeToken = createSelector(\r\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\r\n\t({ mainToken }, feeTokenWhitelist) => {\r\n\t\treturn feeTokenWhitelist[mainToken.address]\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { createDeepEqualSelector } from 'selectors'\r\n\r\nexport const selectAccount = state => state.persist.account || {}\r\nexport const selectChannels = state => state.memory.channels\r\n\r\nexport const selectAuth = createSelector(\r\n\tselectAccount,\r\n\t({ wallet, identity }) =>\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n)\r\n\r\nexport const selectWallet = createDeepEqualSelector(\r\n\tselectAccount,\r\n\t({ wallet }) => wallet || {}\r\n)\r\n\r\nexport const selectEmail = createSelector(\r\n\tselectAccount,\r\n\t({ email }) => email\r\n)\r\n\r\nexport const selectEmailProvider = createSelector(\r\n\tselectEmail,\r\n\temail => (!!email ? email.split('@')[1] : null)\r\n)\r\n\r\nexport const selectAuthSig = createSelector(\r\n\tselectWallet,\r\n\t({ authSig }) => authSig\r\n)\r\n\r\nexport const selectWalletAddress = createSelector(\r\n\tselectWallet,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAuthType = createSelector(\r\n\tselectWallet,\r\n\t({ authType }) => authType\r\n)\r\n\r\nexport const selectAccountIdentity = createSelector(\r\n\tselectAccount,\r\n\t({ identity }) => identity || {}\r\n)\r\n\r\nexport const selectAccountIdentityAddr = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAccountStats = createSelector(\r\n\tselectAccount,\r\n\t({ stats }) => stats || {}\r\n)\r\n\r\nexport const selectAccountSettings = createSelector(\r\n\tselectAccount,\r\n\t({ settings }) => settings || {}\r\n)\r\n\r\nexport const selectAccountStatsRaw = createSelector(\r\n\tselectAccountStats,\r\n\t({ raw }) => raw || {}\r\n)\r\n\r\nexport const selectAccountStatsFormatted = createSelector(\r\n\tselectAccountStats,\r\n\t({ formatted }) => formatted || {}\r\n)\r\n\r\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) =>\r\n\t\trelayerData &&\r\n\t\trelayerData.routineAuthorizationsData &&\r\n\t\trelayerData.routineAuthorizationsData[0]\r\n\t\t\t? relayerData.routineAuthorizationsData[0]\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAccountIdentityDeployData = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData = {} }) => relayerData.deployData || {}\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesEligible = createSelector(\r\n\tselectChannels,\r\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesAll = createSelector(\r\n\tselectChannels,\r\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\r\n)\r\n\r\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\r\n)\r\n\r\nexport const selectWalletPrivileges = createSelector(\r\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\r\n\t(privileges = {}, address) => privileges[address] || 0\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectIdentity = state => state.memory.identity\r\n\r\nexport const selectEnsAddresses = state => state.persist.ensAddresses\r\n\r\nexport const selectEnsAddressByAddr = createSelector(\r\n\t[selectEnsAddresses, (_, address) => address],\r\n\t(ensAddresses, address) => ensAddresses[address] || ''\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport dateUtils from 'helpers/dateUtils'\r\n\r\nimport { selectAccountIdentityAddr } from './accountSelectors'\r\n\r\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\r\n\r\nexport const selectNavTitle = state => state.memory.nav.navTitle\r\nexport const selectSide = state => state.memory.nav.side\r\nexport const selectMemoryUi = state => state.memory.uiMemory\r\nexport const selectGlobalUi = state => state.persist.ui.global\r\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\r\nexport const selectSelectedItems = state => state.memory.selectedItems\r\nexport const selectConfirm = state => state.memory.confirm\r\n\r\nexport const selectSpinners = state => state.memory.spinners\r\n\r\nexport const selectIdentityUi = createSelector(\r\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\r\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\r\n)\r\n\r\nexport const selectIdentitySideUi = createSelector(\r\n\t[selectIdentityUi, selectSide],\r\n\t(identityUi, side) => identityUi[side] || {}\r\n)\r\n\r\nexport const selectCompanyData = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ companyData }) => companyData || {}\r\n)\r\n\r\nexport const selectSpinnerById = createSelector(\r\n\t[selectSpinners, (_, id) => id],\r\n\t(spinners, id) => spinners[id]\r\n)\r\n\r\nexport const selectMultipleSpinnersByIds = createSelector(\r\n\t[selectSpinners, (_, ids) => ids],\r\n\t(spinners, ids) => ids.map(id => spinners[id])\r\n)\r\n\r\nexport const selectRegistrationAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\r\n)\r\n\r\nexport const selectEasterEggsAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowEasterEggs }) => allowEasterEggs\r\n)\r\n\r\nexport const selectPrivilegesWarningAccepted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\r\n)\r\n\r\nexport const selectMissingRevenueDataPointsAccepted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ missingRevenueDataPointsAccepted }) => !!missingRevenueDataPointsAccepted\r\n)\r\n\r\nexport const selectSideSpecificUI = createSelector(\r\n\t[selectIdentityUi, selectSide],\r\n\t(ui, side) => ui[side] || {}\r\n)\r\n\r\nexport const selectHideGettingStarted = createSelector(\r\n\t[selectSideSpecificUI],\r\n\t({ hideGettingStarted }) => hideGettingStarted\r\n)\r\n\r\nexport const selectGettingStartedExpanded = createSelector(\r\n\tselectIdentityUi,\r\n\t({ gettingStartedExpanded }) =>\r\n\t\t// NOTE: default is open but cant set initial state\r\n\t\tgettingStartedExpanded === undefined ? true : !!gettingStartedExpanded\r\n)\r\n\r\nexport const selectSelectedCampaigns = createSelector(\r\n\tselectSelectedItems,\r\n\t({ campaigns }) => campaigns || []\r\n)\r\n\r\nexport const selectLoginDirectSide = createSelector(\r\n\tselectGlobalUi,\r\n\t({ goToSide }) => goToSide || ''\r\n)\r\n\r\nexport const selectInitialDataLoaded = createSelector(\r\n\tselectMemoryUi,\r\n\t({ initialDataLoaded = false }) => initialDataLoaded\r\n)\r\n\r\nexport const selectIdentitySideAnalyticsTimeframe = createSelector(\r\n\t[selectIdentitySideUi],\r\n\t({ sideAnalyticsTimeframe = 'day' } = {}) => sideAnalyticsTimeframe\r\n)\r\n\r\nexport const selectIdentitySideAnalyticsPeriod = createSelector(\r\n\t[selectIdentitySideUi],\r\n\t({\r\n\t\tsideAnalyticsPeriod = {\r\n\t\t\tstart: +dateUtils.startOfDay(dateUtils.date()),\r\n\t\t\tend: +dateUtils.endOfDay(dateUtils.date()),\r\n\t\t},\r\n\t} = {}) => sideAnalyticsPeriod\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getState } from 'store'\r\n\r\nexport const selectLang = state => state.persist.language\r\n\r\nexport const selectTranslations = createSelector(\r\n\t[\r\n\t\tselectLang,\r\n\t\t(_, val, opts = {}) => {\r\n\t\t\treturn { val, opts }\r\n\t\t},\r\n\t],\r\n\t(lang, { val, opts }) => {\r\n\t\tconst { isProp = false, args = [''], components = [] } = opts\r\n\t\treturn translate(val, { isProp, args, components }, lang)\r\n\t}\r\n)\r\n\r\n// Need to useSelector for language in top component where this will be used\r\n// Now this is don by using Translate Hoc on Root\r\n// It will work in actions too as the state isg get when they are called and don't need update\r\nexport const t = (val, opts) => {\r\n\treturn selectTranslations(getState(), val, opts)\r\n}\r\n","import { createSelector } from 'reselect'\r\nimport { selectCampaignEventsCount } from 'selectors'\r\nimport url from 'url'\r\nexport const selectItems = state => state.persist.items\r\n\r\nexport const selectItemsByType = createSelector(\r\n\t[selectItems, (_, itemType) => itemType],\r\n\t(items, itemType) => items[itemType] || {}\r\n)\r\n\r\nexport const selectItemByTypeAndId = createSelector(\r\n\t[selectItems, (_, itemType, id) => ({ itemType, id })],\r\n\t(items, { itemType, id }) => (items[itemType] || {})[id] || {}\r\n)\r\n\r\nexport const selectItemsArrayByType = createSelector(\r\n\t[selectItemsByType, (_, itemType) => itemType],\r\n\t(items = {}) => Object.values(items)\r\n)\r\n\r\nexport const selectCampaigns = createSelector(\r\n\tstate => selectItemsByType(state, 'Campaign'),\r\n\tcampaigns => campaigns\r\n)\r\n\r\nexport const selectCampaignById = createSelector(\r\n\t[selectCampaigns, (_, id) => id],\r\n\t(campaigns, id) => campaigns[id]\r\n)\r\n\r\nexport const selectCampaignUnitsById = createSelector(\r\n\t[selectCampaignById, (_, id) => id],\r\n\t({ adUnits } = {}) => adUnits || []\r\n)\r\n\r\nexport const selectCampaignWithAnalyticsById = createSelector(\r\n\t[selectCampaigns, (_, id) => id],\r\n\t(campaigns, id) => {\r\n\t\tconst campaign = { ...(campaigns[id] || {}) }\r\n\t\tcampaign.clicks = selectCampaignEventsCount('CLICK', id)\r\n\t\tcampaign.impressions = selectCampaignEventsCount('IMPRESSION', id)\r\n\t\treturn campaign\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'Campaign'),\r\n\tcampaigns => campaigns\r\n)\r\n\r\nexport const selectAdUnits = createSelector(\r\n\tstate => selectItemsByType(state, 'AdUnit'),\r\n\tadUnits => adUnits\r\n)\r\n\r\nexport const selectAdUnitById = createSelector(\r\n\t[selectAdUnits, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectAdUnitsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\r\n\tadUnits => adUnits\r\n)\r\n\r\nexport const selectAdSlots = createSelector(\r\n\tstate => selectItemsByType(state, 'AdSlot'),\r\n\tadSlots => adSlots\r\n)\r\n\r\nexport const selectAdSlotsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\r\n\tadSlots => adSlots\r\n)\r\n\r\nexport const selectAdSlotById = createSelector(\r\n\t[selectAdSlots, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectWebsites = createSelector(\r\n\tstate => selectItemsByType(state, 'Website'),\r\n\twebsites => websites\r\n)\r\n\r\nexport const selectWebsitesArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'Website'),\r\n\twebsites => websites\r\n)\r\n\r\nexport const selectWebsiteById = createSelector(\r\n\t[selectWebsites, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectWebsiteByWebsite = createSelector(\r\n\t[selectWebsites, (_, ws) => ws],\r\n\t(items, ws) => (ws ? items[url.parse(ws).hostname] || {} : {})\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n} from 'selectors'\r\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectWebsitesArray,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n} from 'selectors'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\r\n\r\nexport const selectAnalytics = state => state.memory.analytics\r\n\r\nexport const selectAnalyticsData = createSelector(\r\n\t[selectAnalytics, (_, side) => side],\r\n\t(analytics, side) => {\r\n\t\treturn analytics[side] || {}\r\n\t}\r\n)\r\n\r\nexport const selectAdvancedAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\tanalytics => analytics.advanced || {}\r\n)\r\n\r\nexport const selectAnalyticsLastChecked = createSelector(\r\n\tselectAnalytics,\r\n\t({ lastChecked }) => {\r\n\t\treturn lastChecked || Date.now()\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsLiveTimestamp = createSelector(\r\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\r\n\t(timeframe, lastChecked) => {\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\t\treturn +dateUtils.date(lastChecked).startOf('hour')\r\n\t\t\tcase 'day':\r\n\t\t\t\treturn +dateUtils.date(lastChecked).startOf('day')\r\n\t\t\tcase 'week':\r\n\t\t\t\treturn +dateUtils\r\n\t\t\t\t\t.date(lastChecked)\r\n\t\t\t\t\t.startOf('week')\r\n\t\t\t\t\t.add(23, 'hours')\r\n\t\t\t\t\t.utc()\r\n\t\t\t\t\t.startOf('day')\r\n\t\t\tdefault:\r\n\t\t\t\treturn +dateUtils.date(lastChecked).startOf('hour')\r\n\t\t}\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ campaigns }) => campaigns || {}\r\n)\r\n\r\nexport const selectDemandAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ demand }) => demand || {}\r\n)\r\n\r\nexport const selectAdvancedAnalyticsByType = createSelector(\r\n\t[selectAdvancedAnalytics, (_, type) => type],\r\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\r\n)\r\n\r\nexport const selectTotalStatsByAdUnits = createSelector(\r\n\t(state, { type, adUnitId }) => [\r\n\t\tselectAdvancedAnalyticsByType(state, type),\r\n\t\t{ adUnitId },\r\n\t],\r\n\t([analyticsByChannel, { adUnitId }]) =>\r\n\t\tObject.values(analyticsByChannel.byChannelStats || {}).reduce(\r\n\t\t\t(acc, curr) => acc + curr.reportChannelToAdUnit[adUnitId] || 0,\r\n\t\t\t0\r\n\t\t)\r\n)\r\n\r\nexport const selectPublisherStatsByType = createSelector(\r\n\t(state, type) => selectAdvancedAnalyticsByType(state, type),\r\n\t({ publisherStats }) => publisherStats || {}\r\n)\r\nexport const selectPublisherStatsByCountry = createSelector(\r\n\t(state, type) => selectPublisherStatsByType(state, type),\r\n\t({ reportPublisherToCountry }) => reportPublisherToCountry || {}\r\n)\r\n\r\nexport const selectPublisherPayStatsByCountry = createSelector(\r\n\t(state, type) => selectPublisherStatsByType(state, type),\r\n\t({ reportPublisherToCountryPay }) => reportPublisherToCountryPay || {}\r\n)\r\n\r\nexport const selectPublisherStatsAdUnit = createSelector(\r\n\t(state, type) => selectPublisherStatsByType(state, type),\r\n\t({ reportPublisherToAdUnit }) => reportPublisherToAdUnit || {}\r\n)\r\n\r\nexport const selectPublisherStatsAdUnitPay = createSelector(\r\n\t(state, type) => selectPublisherStatsByType(state, type),\r\n\t({ reportPublisherToAdUnitPay }) => reportPublisherToAdUnitPay || {}\r\n)\r\n\r\nexport const selectPublisherAggrStatsByCountry = createSelector(\r\n\t(state, type) => selectPublisherStatsByCountry(state, type),\r\n\t(byCountry = {}) => ({\r\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\r\n\t\ttotal: Object.values(byCountry).reduce(\r\n\t\t\t(a, value) => a + (Number(value) || 0),\r\n\t\t\t0\r\n\t\t),\r\n\t})\r\n)\r\n\r\nexport const selectAllAdUnitsInChannels = createSelector(\r\n\tstate => selectChannelsWithUserBalancesAll(state),\r\n\twithBalanceAll =>\r\n\t\tObject.values(withBalanceAll).reduce((units, { adUnits = [] } = {}) => {\r\n\t\t\tadUnits.forEach(u => {\r\n\t\t\t\tconst id = u.id || u.ipfs\r\n\t\t\t\tif (id && !units[id]) {\r\n\t\t\t\t\tunits[id] = { ...u, id }\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn units\r\n\t\t}, {})\r\n)\r\n\r\nexport const selectPublisherAdvanceStatsToAdUnit = createSelector(\r\n\tstate => [\r\n\t\tselectAllAdUnitsInChannels(state),\r\n\t\tselectPublisherStatsAdUnit(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdUnit(state, 'CLICK'),\r\n\t\tselectPublisherStatsAdUnitPay(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdUnitPay(state, 'CLICK'),\r\n\t],\r\n\t([\r\n\t\tadUnits,\r\n\t\timpressionsByAdUnit,\r\n\t\tclicksByAdUnit,\r\n\t\timpressionsPayByAdUnit,\r\n\t\tclicksPayByAdUnit,\r\n\t]) =>\r\n\t\tObject.values(adUnits)\r\n\t\t\t.filter(i => impressionsByAdUnit[i.id] !== undefined)\r\n\t\t\t.map(item => ({\r\n\t\t\t\t...item,\r\n\t\t\t\timpressions: impressionsByAdUnit[item.id],\r\n\t\t\t\tclicks: clicksByAdUnit[item.id],\r\n\t\t\t\timpressionsPay: Number(impressionsPayByAdUnit[item.id] || 0),\r\n\t\t\t\tclicksPay: Number(clicksPayByAdUnit[item.id] || 0),\r\n\t\t\t}))\r\n)\r\n\r\nexport const selectPublisherTotalImpressions = createSelector(\r\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\r\n\t({ reportPublisherToAdUnit }) => {\r\n\t\tconst totalImpressions = reportPublisherToAdUnit\r\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\r\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: 0\r\n\r\n\t\treturn totalImpressions\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\r\n\t(state, { type, campaignId } = {}) => [\r\n\t\tselectAdvancedAnalyticsByType(state, type),\r\n\t\tcampaignId,\r\n\t],\r\n\t([analyticsByType, campaignId]) =>\r\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelToCountry = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t({ reportChannelToCountry }) => reportChannelToCountry || {}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelToCountryPay = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t({ reportChannelToCountryPay }) => reportChannelToCountryPay || {}\r\n)\r\n\r\nexport const selectCampaignAggrStatsByCountry = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelToCountry(state, { type, campaignId }),\r\n\t(byCountry = {}) => ({\r\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\r\n\t\ttotal: Object.values(byCountry).reduce(\r\n\t\t\t(a, value) => a + (Number(value) || 0),\r\n\t\t\t0\r\n\t\t),\r\n\t})\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelToAdUnit = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\r\n\t({ reportChannelToAdUnit }) => reportChannelToAdUnit || {}\r\n)\r\n\r\nexport const selectMaxAdUnitStatByChannel = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t({ reportChannelToAdUnit }) =>\r\n\t\treportChannelToAdUnit\r\n\t\t\t? Math.max.apply(null, Object.values(reportChannelToAdUnit))\r\n\t\t\t: 0\r\n)\r\n\r\nexport const selectAnalyticsDataAggr = createSelector(\r\n\t[\r\n\t\tselectAnalytics,\r\n\t\tselectIdentitySideAnalyticsPeriod,\r\n\t\t(_, opts = {}) => opts,\r\n\t\tselectAnalyticsLiveTimestamp,\r\n\t],\r\n\t(\r\n\t\tanalytics = {},\r\n\t\t{ start },\r\n\t\t{ side, eventType, metric, timeframe },\r\n\t\tliveTimestamp\r\n\t) => {\r\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\r\n\t\t// NOTE: It was working fine with default initial state but\r\n\t\t// when eventType CLICK was added if you were logged and had\r\n\t\t// old analytics the initialState is not applied === boom.\r\n\r\n\t\tconst {\r\n\t\t\t[side]: {\r\n\t\t\t\t[eventType]: {\r\n\t\t\t\t\t[metric]: {\r\n\t\t\t\t\t\t[timeframe]: {\r\n\t\t\t\t\t\t\t[liveTimestamp === start ? 'live' : start]: { aggr } = {},\r\n\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t} = {},\r\n\t\t\t\t} = {},\r\n\t\t\t} = {},\r\n\t\t} = analytics\r\n\r\n\t\treturn aggr\r\n\t}\r\n)\r\n\r\nexport function selectCampaignEventsCount(type, campaignId) {\r\n\treturn Object.values(\r\n\t\t// TODO: fix this selector w/o using getState\r\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), {\r\n\t\t\ttype,\r\n\t\t\tcampaignId,\r\n\t\t})\r\n\t).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nexport const selectTotalImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalClicks = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalMoney = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\teventPayouts =>\r\n\t\teventPayouts\r\n\t\t\t? eventPayouts.reduce(\r\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalImpressionsWithPayouts = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\t],\r\n\t([eventCounts, eventPayouts]) =>\r\n\t\teventCounts && eventPayouts\r\n\t\t\t? eventCounts\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\r\n\t\t\t\t\t\t\t\t.value !== null\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAverageCPM = createSelector(\r\n\t[\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalMoney(state, { side, timeframe }),\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\r\n\t],\r\n\t(totalMoney, totalImpressions) =>\r\n\t\ttotalMoney !== null && totalImpressions !== null\r\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\r\n\t\t\t: null\r\n)\r\n\r\nconst parseValueByMetric = ({ value, metric }) => {\r\n\tswitch (metric) {\r\n\t\tcase 'eventPayouts':\r\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\r\n\t\tcase 'eventCounts':\r\n\t\t\treturn parseInt(value, 10)\r\n\t\tdefault:\r\n\t\t\treturn value\r\n\t}\r\n}\r\n\r\nexport const selectStatsChartData = createSelector(\r\n\t[\r\n\t\t(state, { noLastOne, ...rest } = {}) => {\r\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\r\n\t\t},\r\n\t],\r\n\t({ data = [], noLastOne, metric, ...rest }) => {\r\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\r\n\t\treturn aggr.reduce(\r\n\t\t\t(memo, item) => {\r\n\t\t\t\tconst { time, value } = item\r\n\t\t\t\tmemo.labels.push(formatDateTime(time))\r\n\t\t\t\tmemo.datasets.push(\r\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\r\n\t\t\t\t)\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [],\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectChartDatapointsImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\t],\r\n\t([impressions]) => impressions\r\n)\r\n\r\nexport const selectChartDatapointsClicks = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\t],\r\n\t([clicks]) => clicks\r\n)\r\n\r\nexport const selectChartDatapointsPayouts = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\t],\r\n\t([payouts]) => payouts\r\n)\r\n\r\nexport const selectChartDatapointsCPM = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\r\n\t],\r\n\t([payouts, impressions]) => {\r\n\t\tconst result = {\r\n\t\t\tlabels: [],\r\n\t\t\tdatasets: [],\r\n\t\t}\r\n\t\tresult.labels = payouts.labels\r\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\r\n\t\t\treturn impressions.datasets[i] !== 0\r\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\r\n\t\t\t\t: n\r\n\t\t})\r\n\t\treturn result\r\n\t}\r\n)\r\n\r\nexport const selectPublisherRevenueNoticeActive = createSelector(\r\n\t[selectPublisherTotalImpressions, selectWebsitesArray],\r\n\t(totalImpressions, websites) =>\r\n\t\t!websites.length ||\r\n\t\twebsites.some(w => w.issues.length > 0) ||\r\n\t\t!totalImpressions\r\n)\r\n\r\nexport const selectPublisherReceipts = createSelector(\r\n\t[selectAnalytics],\r\n\t({ receipts }) => receipts || {}\r\n)\r\n\r\nexport const selectPublisherReceiptsPresentMonths = createSelector(\r\n\t[selectPublisherReceipts],\r\n\treceipts => Object.keys(receipts).map(r => +r)\r\n)\r\n\r\nexport const selectAnalyticsNowLabel = createSelector(\r\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\r\n\t(timeframe, lastChecked) => {\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.date(lastChecked),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tcase 'day':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(lastChecked), 0),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tcase 'week':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.getNearestSixHoursUTC(6, lastChecked),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tdefault:\r\n\t\t\t\treturn dateUtils.format(dateUtils.date(), DEFAULT_DATETIME_FORMAT)\r\n\t\t}\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectValidations = state => state.memory.validations\r\n\r\nexport const selectValidationsById = createSelector(\r\n\t[selectValidations, (_, id) => id],\r\n\t(validations, id) => validations[id]\r\n)\r\n\r\nexport const selectMultipleValidationsByIds = createSelector(\r\n\t[selectValidations, (_, ids) => ids],\r\n\t(validations, ids) => ids.map(id => validations[id])\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectNewTransactions = state => state.memory.newTransactions\r\n\r\nexport const selectNewTransactionById = createSelector(\r\n\t[selectNewTransactions, (_, id) => id],\r\n\t(txns, id) => txns[id] || {}\r\n)\r\n","import {\r\n\tCampaign as CampaignModel,\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n} from 'adex-models'\r\n\r\nimport { createSelector } from 'reselect'\r\n\r\nexport const selectNewItems = state => state.memory.newItem\r\n\r\nexport const selectNewItemByType = createSelector(\r\n\t[selectNewItems, (_, type) => type],\r\n\t(items, type) => items[type]\r\n)\r\n\r\nexport const selectNewCampaign = createSelector(\r\n\tselectNewItems,\r\n\t({ Campaign }) => new CampaignModel(Campaign)\r\n)\r\n\r\nexport const selectNewAdUnit = createSelector(\r\n\tselectNewItems,\r\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\r\n)\r\n\r\nexport const selectNewAdSlot = createSelector(\r\n\tselectNewItems,\r\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport ISOCountries from 'i18n-iso-countries'\r\nimport {\r\n\tt,\r\n\tselectCampaignsArray,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAdSlotsArray,\r\n\tselectAdUnits,\r\n\tcreatArrayOnlyLengthChangeSelector,\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\tselectCampaignEventsCount,\r\n\tselectCampaignAnalyticsByChannelToAdUnit,\r\n\tselectTotalStatsByAdUnits,\r\n\tselectCampaignUnitsById,\r\n\tselectMainToken,\r\n\tselectAnalytics,\r\n\tselectPublisherAdvanceStatsToAdUnit,\r\n\tselectPublisherStatsByCountry,\r\n\tselectCampaignAnalyticsByChannelToCountry,\r\n\tselectCampaignAnalyticsByChannelToCountryPay,\r\n\tselectPublisherAggrStatsByCountry,\r\n\tselectCampaignAggrStatsByCountry,\r\n\tselectPublisherPayStatsByCountry,\r\n} from 'selectors'\r\nimport moment from 'moment'\r\nimport { formatUnits } from 'ethers/utils'\r\nimport chartCountriesData from 'world-atlas/countries-50m.json'\r\nimport { scaleLinear } from 'd3-scale'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\nimport {\r\n\tPRIMARY_DARKEST,\r\n\tPRIMARY_LIGHTEST,\r\n\tSECONDARY,\r\n\tSECONDARY_LIGHT,\r\n} from 'components/App/themeMUi'\r\nimport { grey } from '@material-ui/core/colors'\r\nconst COUNTRY_NAMES = ISOCountries.getNames('en')\r\n\r\nexport const selectCampaignsTableData = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\r\n\t(campaigns, tokens, side) =>\r\n\t\tcampaigns.map(item => {\r\n\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\r\n\t\t\tconst { id, spec = {}, adUnits = [] } = item\r\n\r\n\t\t\tconst firstUnit = adUnits[0] || {}\r\n\r\n\t\t\tconst to = `/dashboard/${side}/campaigns/${id}`\r\n\t\t\tconst toReceipt = `/dashboard/${side}/receipt/${id}`\r\n\r\n\t\t\treturn {\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tside,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\r\n\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\tstatus: {\r\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\r\n\t\t\t\t\toriginalName: item.status.name,\r\n\t\t\t\t},\r\n\t\t\t\tdepositAmount: Number(formatUnits(item.depositAmount || '0', decimals)),\r\n\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\r\n\t\t\t\timpressions: selectCampaignEventsCount('IMPRESSION', id),\r\n\t\t\t\tclicks: selectCampaignEventsCount('CLICK', id),\r\n\r\n\t\t\t\tctr:\r\n\t\t\t\t\t(selectCampaignEventsCount('CLICK', id) /\r\n\t\t\t\t\t\tselectCampaignEventsCount('IMPRESSION', id)) *\r\n\t\t\t\t\t\t100 || 0,\r\n\r\n\t\t\t\tminPerImpression: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tminPerImpression:\r\n\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\tformatUnits(\r\n\t\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\r\n\t\t\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t) * 1000,\r\n\t\t\t\t},\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\r\n\t\t\t\twithdrawPeriodStart:\r\n\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tside,\r\n\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tto,\r\n\t\t\t\t\ttoReceipt,\r\n\t\t\t\t\treceiptReady:\r\n\t\t\t\t\t\t(item.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed') &&\r\n\t\t\t\t\t\t(item.status.name === 'Exhausted' ||\r\n\t\t\t\t\t\t\titem.status.name === 'Expired'),\r\n\t\t\t\t},\r\n\t\t\t\tid,\r\n\t\t\t\treceiptAvailable:\r\n\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\r\n\tselectCampaignsTableData,\r\n\tdata => data\r\n)\r\n\r\nexport const selectCampaignsMaxImpressions = createSelector(\r\n\tselectCampaignsArray,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxClicks = createSelector(\r\n\tselectCampaignsArray,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxDeposit = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\r\n\t(campaigns, tokens) =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\r\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\r\n\t\t\t})\r\n\t\t)\r\n)\r\n\r\nexport const selectAdSlotsTableData = createSelector(\r\n\t[selectAdSlotsArray, (_, side) => side],\r\n\t(slots, side) =>\r\n\t\tslots.map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/slots/${id}`\r\n\t\t\treturn {\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: item.mediaUrl,\r\n\t\t\t\t\tmediaMime: item.mediaMime,\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\ttype: item.type.replace('legacy_', ''),\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectAdUnitsTableData = createSelector(\r\n\t[\r\n\t\t(state, { side, campaignId, items }) => ({\r\n\t\t\tside,\r\n\t\t\titems:\r\n\t\t\t\titems ||\r\n\t\t\t\t(campaignId\r\n\t\t\t\t\t? selectCampaignUnitsById(state, campaignId)\r\n\t\t\t\t\t: selectAdUnits(state)),\r\n\t\t\timpressionsByAdUnit: id =>\r\n\t\t\t\tcampaignId\r\n\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\r\n\t\t\t\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t  })[id]\r\n\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\r\n\t\t\t\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\t\t\t\tadUnitId: id,\r\n\t\t\t\t\t  }),\r\n\t\t\tclicksByAdUnit: id =>\r\n\t\t\t\tcampaignId\r\n\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\r\n\t\t\t\t\t\t\ttype: 'CLICK',\r\n\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t  })[id]\r\n\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\r\n\t\t\t\t\t\t\ttype: 'CLICK',\r\n\t\t\t\t\t\t\tadUnitId: id,\r\n\t\t\t\t\t  }),\r\n\t\t}),\r\n\t],\r\n\t({ side, items, impressionsByAdUnit, clicksByAdUnit }) =>\r\n\t\tObject.values(items).map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/units/${id}`\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: item.mediaUrl,\r\n\t\t\t\t\tmediaMime: item.mediaMime,\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\timpressions: impressionsByAdUnit(id) || 0,\r\n\t\t\t\tclicks: clicksByAdUnit(id) || 0,\r\n\t\t\t\tctr: (clicksByAdUnit(id) / impressionsByAdUnit(id)) * 100 || 0,\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\ttype: item.type,\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nconst mapByCountryTableData = ({\r\n\timpressionsByCountry,\r\n\tclicksByCountry,\r\n\timpressionsAggrByCountry,\r\n\timpressionsPayByCountry,\r\n\tclicksPayByCountry,\r\n} = {}) => {\r\n\tconst addEarnings = impressionsPayByCountry && clicksPayByCountry\r\n\t// NOTE: assume that there are no click without impressions\r\n\treturn Object.keys(impressionsByCountry).map(key => {\r\n\t\treturn {\r\n\t\t\tcountryName: COUNTRY_NAMES[key],\r\n\t\t\timpressions: impressionsByCountry[key] || 0,\r\n\t\t\tpercentImpressions:\r\n\t\t\t\t((impressionsByCountry[key] || 0) /\r\n\t\t\t\t\t(impressionsAggrByCountry.total || 1)) *\r\n\t\t\t\t100,\r\n\t\t\tclicks: clicksByCountry[key] || 0,\r\n\t\t\tctr:\r\n\t\t\t\t((clicksByCountry[key] || 0) / (impressionsByCountry[key] || 1)) * 100,\r\n\t\t\t...(addEarnings && {\r\n\t\t\t\tearnings:\r\n\t\t\t\t\t(impressionsPayByCountry[key] || 0) + (clicksPayByCountry[key] || 0),\r\n\t\t\t}),\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const selectPublisherStatsByCountryData = createSelector(\r\n\t[\r\n\t\tstate => selectPublisherStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherStatsByCountry(state, 'CLICK'),\r\n\t\tstate => selectPublisherAggrStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherPayStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherPayStatsByCountry(state, 'CLICK'),\r\n\t],\r\n\t(\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry\r\n\t) => ({\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry,\r\n\t})\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryData = createSelector(\r\n\t(state, { campaignId }) => {\r\n\t\treturn [\r\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tselectCampaignAggrStatsByCountry(state, {\r\n\t\t\t\tcampaignId,\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t}),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t]\r\n\t},\r\n\t([\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry,\r\n\t]) => {\r\n\t\treturn {\r\n\t\t\timpressionsByCountry,\r\n\t\t\tclicksByCountry,\r\n\t\t\timpressionsAggrByCountry,\r\n\t\t\timpressionsPayByCountry,\r\n\t\t\tclicksPayByCountry,\r\n\t\t}\r\n\t}\r\n)\r\n\r\nexport const selectPublisherStatsByCountryTableData = createSelector(\r\n\tselectPublisherStatsByCountryData,\r\n\tdata => mapByCountryTableData(data)\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryTableData = createSelector(\r\n\t[\r\n\t\t(state, { campaignId }) => {\r\n\t\t\treturn selectCampaignAnalyticsToCountryData(state, { campaignId })\r\n\t\t},\r\n\t],\r\n\tdata => mapByCountryTableData(data)\r\n)\r\n\r\nconst mapByCountryMapChartData = ({\r\n\timpressionsByCountry,\r\n\tclicksByCountry,\r\n\timpressionsAggrByCountry,\r\n} = {}) => {\r\n\tconst colorScale = scaleLinear()\r\n\t\t.domain([0, impressionsAggrByCountry.max])\r\n\t\t.range([PRIMARY_LIGHTEST, PRIMARY_DARKEST])\r\n\r\n\tconst hoverColor = SECONDARY\r\n\tconst pressedColor = SECONDARY_LIGHT\r\n\tconst chartData = { ...chartCountriesData }\r\n\r\n\tchartData.objects.countries.geometries = chartCountriesData.objects.countries.geometries.map(\r\n\t\tdata => {\r\n\t\t\tconst id = ISOCountries.numericToAlpha2(data.id)\r\n\t\t\tconst impressions = impressionsByCountry[id] || 0\r\n\t\t\tconst clicks = clicksByCountry[id] || 0\r\n\t\t\tconst name = COUNTRY_NAMES[id] || data.name\r\n\t\t\tconst percentImpressions =\r\n\t\t\t\t((impressions || 0) / impressionsAggrByCountry.total) * 100 || 0\r\n\t\t\tconst ctr = ((clicks || 0) / (impressions || 1)) * 100 || 0\r\n\t\t\tconst tooltipElements = [\r\n\t\t\t\t`${name}:`,\r\n\t\t\t\t`${t('LABEL_IMPRESSIONS')}: ${formatAbbrNum(impressions, 2)}`,\r\n\t\t\t\t`${t('LABEL_CLICKS')}: ${formatAbbrNum(clicks, 2)}`,\r\n\t\t\t\t`${t('LABEL_PERC')}: ${percentImpressions.toFixed(2)} %`,\r\n\t\t\t\t`${t('LABEL_CTR')}: ${ctr.toFixed(4)} %`,\r\n\t\t\t]\r\n\r\n\t\t\tconst fillColor = impressions > 0 ? colorScale(impressions) : grey[400]\r\n\r\n\t\t\tconst properties = {\r\n\t\t\t\tname,\r\n\t\t\t\tfillColor,\r\n\t\t\t\ttooltipElements,\r\n\t\t\t}\r\n\r\n\t\t\treturn { ...data, properties }\r\n\t\t}\r\n\t)\r\n\r\n\treturn { chartData, hoverColor, pressedColor }\r\n}\r\n\r\nexport const selectPublisherStatsByCountryMapChartData = createSelector(\r\n\t[selectPublisherStatsByCountryData],\r\n\tdata => mapByCountryMapChartData(data)\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryMapChartData = createSelector(\r\n\t[\r\n\t\t(state, { campaignId }) =>\r\n\t\t\tselectCampaignAnalyticsToCountryData(state, { campaignId }),\r\n\t],\r\n\tdata => mapByCountryMapChartData(data)\r\n)\r\n\r\nexport const selectBestEarnersTableData = createSelector(\r\n\tselectPublisherAdvanceStatsToAdUnit,\r\n\titems =>\r\n\t\titems.map(item => {\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\tmediaMime,\r\n\t\t\t\ttype,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\timpressionsPay,\r\n\t\t\t\tclicksPay,\r\n\t\t\t} = item\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\tmediaMime,\r\n\t\t\t\t},\r\n\t\t\t\ttype,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\r\n\t\t\t\tearnings: impressionsPay + clicksPay,\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignStatsTableData = createSelector(\r\n\t(state, campaignId) => {\r\n\t\treturn {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t}\r\n\t},\r\n\t({ impressions, clicks }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\r\n\t\treturn Object.keys(imprStats).map(key => ({\r\n\t\t\twebsite: key,\r\n\t\t\timpressions: imprStats[key] || 0,\r\n\t\t\tctr: ((clickStats[key] || 0) / (imprStats[key] || 1)) * 100,\r\n\t\t\tearnings: Number(earnStats[key] || 0),\r\n\t\t\tclicks: clickStats[key] || 0,\r\n\t\t}))\r\n\t}\r\n)\r\n\r\nexport const selectCampaignTotalValues = createSelector(\r\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalClicks += current.clicks\r\n\t\t\t\tnewResult.totalImpressions += current.impressions\r\n\t\t\t\tnewResult.totalEarnings += current.earnings\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectCampaignStatsMaxValues = createSelector(\r\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\tnewResult.maxEarnings = Math.max(\r\n\t\t\t\t\tcurrent.earnings,\r\n\t\t\t\t\tnewResult.maxEarnings\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectAdUnitsStatsMaxValues = createSelector(\r\n\t(state, { side, items, campaignId }) =>\r\n\t\tselectAdUnitsTableData(state, { side, items, campaignId }),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxCTR: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectPublisherReceiptsStatsByMonthTableData = createSelector(\r\n\t[selectAnalytics, selectMainToken, (_, date) => date],\r\n\t({ receipts }, token, date) => {\r\n\t\tconst result = []\r\n\t\tif (receipts && receipts[date]) {\r\n\t\t\tconst { decimals = 18 } = token || {}\r\n\t\t\tfor (let [key, value] of Object.entries(receipts[date])) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\timpressions: value.impressions,\r\n\t\t\t\t\tpayouts: Number(formatUnits(value.payouts || '0', decimals)),\r\n\t\t\t\t\tdate: +key,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n)\r\n\r\nexport const selectPublisherReceiptsStatsByMonthTotalValues = createSelector(\r\n\t[selectPublisherReceiptsStatsByMonthTableData],\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalPayouts += +current.payouts\r\n\t\t\t\tnewResult.totalImpressions += +current.impressions\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalPayouts: 0, totalImpressions: 0 }\r\n\t\t)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\r\n\r\nexport const selectCampaignDoughnutStats = createSelector(\r\n\t(state, { campaignId, chartColors, maxDataSets }) => {\r\n\t\tconst analytics = {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t}\r\n\r\n\t\treturn { ...analytics, chartColors, maxDataSets }\r\n\t},\r\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\r\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\r\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, key, i) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tif (i < maxDataSets) {\r\n\t\t\t\t\t\tnewData.labels.push(key)\r\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\r\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\r\n\r\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\r\n\r\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\r\n\t\t\t)\r\n\r\n\t\tconst data = {\r\n\t\t\tlabels,\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: impressionsData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: clicksData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\r\n\t\treturn data\r\n\t}\r\n)\r\n","import { bigNumberify } from 'ethers/utils'\r\nimport { t, selectDemandAnalytics, selectMainToken } from 'selectors'\r\nimport { createSelector } from 'reselect'\r\nimport { constants } from 'adex-models'\r\nimport { WHERE_YOU_KNOW_US } from 'constants/misc'\r\nimport moment from 'moment'\r\n\r\nexport const selectSlotTypesSourceWithDemands = createSelector(\r\n\t[selectDemandAnalytics, selectMainToken],\r\n\t(demand, { symbol }) => {\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: type,\r\n\t\t\t\tlabel: type.split('_')[1],\r\n\t\t\t\tdemand: demand[type],\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\r\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\r\n\r\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst current = type\r\n\t\t\t\t\tif (index === 0 && type.demand) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\t!type.demand\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (current.demand) {\r\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\r\n\t\t\t)\r\n\t\treturn source\r\n\t}\r\n)\r\n\r\nexport const selectMonthsRange = createSelector(\r\n\t[\r\n\t\t(startDate, endDate) => ({\r\n\t\t\tstartDate,\r\n\t\t\tendDate,\r\n\t\t}),\r\n\t],\r\n\t({ startDate, endDate }) => {\r\n\t\tconst months = []\r\n\t\tfor (\r\n\t\t\tvar m = moment(startDate).startOf('month');\r\n\t\t\tm.diff(moment(endDate).startOf('month')) <= 0;\r\n\t\t\tm.add(1, 'month')\r\n\t\t) {\r\n\t\t\tmonths.push(+m)\r\n\t\t}\r\n\t\treturn months\r\n\t}\r\n)\r\n\r\nexport const selectReceiptMonths = createSelector(\r\n\t[selectMonthsRange, (_, __, monthsEnd) => monthsEnd],\r\n\t(months, monthsEnd) =>\r\n\t\tmonths.map(monthTimestamp => ({\r\n\t\t\tvalue: monthTimestamp,\r\n\t\t\tlabel: !!monthsEnd\r\n\t\t\t\t? moment(monthTimestamp)\r\n\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t.format('Do MMMM, YYYY')\r\n\t\t\t\t: moment(monthTimestamp).format('Do MMMM, YYYY'),\r\n\t\t}))\r\n)\r\n\r\nexport const selectFromSource = createSelector(\r\n\tlabelValueMapping => labelValueMapping,\r\n\tsource =>\r\n\t\tsource.map(data => {\r\n\t\t\tconst translated = { ...data }\r\n\t\t\ttranslated.label = t(data.label)\r\n\t\t\treturn translated\r\n\t\t})\r\n)\r\n\r\nexport const selectKnowUsFromSource = createSelector(\r\n\t() => selectFromSource(WHERE_YOU_KNOW_US),\r\n\tsource => source\r\n)\r\n\r\nexport const selectTargetingSources = createSelector(\r\n\tsources => sources,\r\n\tsources =>\r\n\t\tObject.entries(sources).map(([key, { collection }], index) => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tkey: key + index,\r\n\t\t\t\t\tsource: key,\r\n\t\t\t\t\tcollection,\r\n\t\t\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\t\t\tlabel: t(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\tplaceholder: t(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t},\r\n\t\t\t\tlabel: t(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(({ name, value } = {}) => ({\r\n\t\tlabel: t(name),\r\n\t\tvalue: value,\r\n\t}))\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => ({\r\n\t\tlabel: t(gender.split('_')[1].toUpperCase()),\r\n\t\tvalue: gender,\r\n\t}))\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(({ _id }) => ({\r\n\t\tlabel: t(_id),\r\n\t\tvalue: _id,\r\n\t}))\r\n}\r\n\r\nexport const slotSources = () => ({\r\n\ttags: { src: autocompleteTagsSingleSelect(), collection: 'tags' },\r\n\tcustom: { src: [], collection: 'tags' },\r\n})\r\n\r\nexport const unitSources = () => ({\r\n\tlocations: {\r\n\t\tsrc: autocompleteLocationsSingleSelect(),\r\n\t\tcollection: 'targeting',\r\n\t},\r\n\tgenders: { src: autocompleteGendersSingleSelect(), collection: 'targeting' },\r\n\ttags: { src: autocompleteTagsSingleSelect(), collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n})\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta = {} }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n\r\nexport const sectStepsData = createSelector(\r\n\t[\r\n\t\tselectHasCreatedAdUnit,\r\n\t\tselectHasCreatedCampaign,\r\n\t\tselectHasCreatedAdSlot,\r\n\t\tselectHasConfirmedEmail,\r\n\t\tselectHasFundedAccount,\r\n\t\tselectHasAdSlotImpressions,\r\n\t\tselectHas5000Impressions,\r\n\t],\r\n\t(\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions\r\n\t) => ({\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t})\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectCampaignById,\r\n\tselectAdUnitById,\r\n\tselectAdSlotById,\r\n\tselectSide,\r\n\tt,\r\n} from 'selectors'\r\n\r\nexport const selectLocation = state => state.router.location\r\n\r\nexport const selectSearch = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => search\r\n)\r\n\r\nexport const selectLocationQuery = createSelector(\r\n\tselectLocation,\r\n\t({ query }) => query || {}\r\n)\r\n\r\nexport const selectSearchParams = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => new URLSearchParams(search)\r\n)\r\n\r\nconst ITEMS_SELECTORS = {\r\n\tcampaigns: selectCampaignById,\r\n\treceipt: selectCampaignById,\r\n\tunits: selectAdUnitById,\r\n\tslots: selectAdSlotById,\r\n}\r\n\r\nconst SIDES = {\r\n\tadvertiser: true,\r\n\tpublisher: true,\r\n}\r\n\r\nexport const selectDashboardBreadcrumbs = createSelector(\r\n\t[selectLocation, state => state, selectSide],\r\n\t({ pathname = '' }, state, side) => {\r\n\t\tconst paths = pathname.split('/').filter(x => !!x)\r\n\t\tconst sideDashboard = paths.slice(0, 2)\r\n\r\n\t\t// NOTE: no breadcrumbs if no side dashboard\r\n\t\tif (sideDashboard[0] !== 'dashboard' || !SIDES[sideDashboard[1]]) {\r\n\t\t\treturn []\r\n\t\t}\r\n\r\n\t\tconst sideDashboardBC = {\r\n\t\t\tto: `/${sideDashboard.join('/')}`,\r\n\t\t\tlabel: 'dashboard',\r\n\t\t}\r\n\r\n\t\tconst rest = paths.slice(2)\r\n\r\n\t\tconst restBC = rest.map((x, index) => {\r\n\t\t\tconst prev = rest[index - 1]\r\n\t\t\tconst selector = ITEMS_SELECTORS[prev]\r\n\r\n\t\t\tlet label = x\r\n\r\n\t\t\tif (selector) {\r\n\t\t\t\tconst { title } = selector(state, x) || {}\r\n\t\t\t\tlabel = title || label\r\n\t\t\t}\r\n\r\n\t\t\tconst bc = {\r\n\t\t\t\tlabel,\r\n\t\t\t}\r\n\r\n\t\t\tif (index < rest.length - 1) {\r\n\t\t\t\tconst restCopy = [...rest]\r\n\r\n\t\t\t\tconst receiptAt = restCopy.indexOf('receipt')\r\n\t\t\t\t// NOTE: go to campaign on receipt breadcrumb\r\n\t\t\t\t// We need a better way\r\n\t\t\t\tif (receiptAt >= 0) {\r\n\t\t\t\t\trestCopy[receiptAt] = side === 'advertiser' ? 'campaigns' : 'receipts'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbc.to = `${sideDashboardBC.to}/${restCopy\r\n\t\t\t\t\t.slice(0, index + 1)\r\n\t\t\t\t\t.join('/')}`\r\n\t\t\t}\r\n\r\n\t\t\treturn bc\r\n\t\t})\r\n\r\n\t\tconst breadcrumbs = [sideDashboardBC, ...restBC].map(b => ({\r\n\t\t\t...b,\r\n\t\t\tlabel:\r\n\t\t\t\tt(b.label.toUpperCase()) !== b.label.toUpperCase()\r\n\t\t\t\t\t? t(b.label.toUpperCase())\r\n\t\t\t\t\t: b.label,\r\n\t\t}))\r\n\r\n\t\treturn breadcrumbs || []\r\n\t}\r\n)\r\n","export * from './selectors'\r\nexport * from './configSelectors'\r\nexport * from './accountSelectors'\r\nexport * from './identitySelectors'\r\nexport * from './uiSelectors'\r\nexport * from './translationsSelectors'\r\nexport * from './itemsSelectors'\r\nexport * from './analyticsSelectors'\r\nexport * from './validationsSelectors'\r\nexport * from './newTransactionSelectors'\r\nexport * from './newItemsSelectors'\r\nexport * from './tablesDataSelectors'\r\nexport * from './chartsSelectors'\r\nexport * from './dataSelectors'\r\nexport * from './gettingStartedSelectors'\r\nexport * from './locationSelectors'\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport { bigNumberify, formatEther } from 'ethers/utils'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectFeeTokenWhitelist,\r\n} from 'selectors'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\r\n\tif (token.address === mainToken.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\r\n\r\n\t// approve + swap txns\r\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\r\n\r\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\r\n\treturn isAvailable ? balance : bigNumberify(0)\r\n}\r\n\r\nexport const getTotalAccountRevenue = async ({ all }) => {\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst totalRevenue = await Object.values(all).reduce(\r\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\r\n\t\t\tconst revenue = await revenuePr\r\n\r\n\t\t\tconst token = withdrawTokens[depositAsset]\r\n\r\n\t\t\tconst hasMinBalance = bigNumberify(balance).gt(\r\n\t\t\t\tbigNumberify(token.minFinal)\r\n\t\t\t)\r\n\r\n\t\t\tconst balanceMainToken = hasMinBalance\r\n\t\t\t\t? await tokenInMainTokenValue({\r\n\t\t\t\t\t\ttoken,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t  })\r\n\t\t\t\t: bigNumberify(0)\r\n\r\n\t\t\treturn revenue.add(balanceMainToken)\r\n\t\t},\r\n\t\tPromise.resolve(bigNumberify(0))\r\n\t)\r\n\r\n\treturn totalRevenue\r\n}\r\n\r\nexport const getWithdrawTokensBalances = async ({\r\n\tauthType,\r\n\taddress,\r\n\tgetFullBalances,\r\n}) => {\r\n\tconst { getToken } = await getEthers(authType)\r\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\r\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\r\n\t\tconst tokenContract = getToken(token)\r\n\r\n\t\tconst balance = await tokenContract.balanceOf(address)\r\n\r\n\t\tconst available = getFullBalances\r\n\t\t\t? balance\r\n\t\t\t: tokenAvailableBalance({\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tmainToken,\r\n\t\t\t\t\tbalance,\r\n\t\t\t  })\r\n\r\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: available,\r\n\t\t})\r\n\r\n\t\treturn { token, balance: available, balanceMainToken }\r\n\t})\r\n\r\n\tconst balances = await Promise.all(balancesCalls)\r\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\r\n\t\t(data, balanceData) => {\r\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\r\n\t\t\t\tbalanceData.balanceMainToken\r\n\t\t\t)\r\n\r\n\t\t\tif (balanceData.token.address === mainToken.address) {\r\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\r\n\t\t\t}\r\n\r\n\t\t\treturn data\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\r\n\t\t\tmainTokenBalance: bigNumberify(0),\r\n\t\t}\r\n\t)\r\n\r\n\treturn {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t\ttotalBalanceInMainToken,\r\n\t}\r\n}\r\n\r\nexport async function getAddressBalances({\r\n\taddress,\r\n\tauthType,\r\n\tgetFullBalances,\r\n}) {\r\n\tconst { provider } = await getEthers(authType)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tgetWithdrawTokensBalances({\r\n\t\t\tauthType,\r\n\t\t\taddress: address.address,\r\n\t\t\tgetFullBalances,\r\n\t\t}),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: formatEther(balances[0].toString()),\r\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\r\n\t\t\treturn {\r\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\r\n\t\t\t\tsymbol: token.symbol,\r\n\t\t\t}\r\n\t\t}),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({\r\n\taccount,\r\n\toutstandingBalanceMainToken = {\r\n\t\ttotal: bigNumberify('0'),\r\n\t\tavailable: bigNumberify('0'),\r\n\t},\r\n\tall,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { address } = identity\r\n\tconst { getIdentity } = await getEthers(authType)\r\n\tconst { decimals } = selectMainToken()\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = getIdentity({ address })\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tgetWithdrawTokensBalances({ authType, address }),\r\n\t\tprivilegesAction,\r\n\t\tgetTotalAccountRevenue({ all }),\r\n\t]\r\n\r\n\tconst [\r\n\t\tidentityWithdrawTokensBalancesBalances = {},\r\n\t\twalletPrivileges,\r\n\t\ttotalRevenue,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn undefined\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\tconst identityBalanceMainToken =\r\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken ||\r\n\t\tbigNumberify(0)\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\tidentityWithdrawTokensBalancesBalances,\r\n\t\twalletPrivileges,\r\n\t\tidentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\r\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\r\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.total\r\n\t\t),\r\n\t\ttotalRevenue,\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceMainToken: formatTokenAmount(\r\n\t\t\tidentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalRevenue: formatTokenAmount(\r\n\t\t\traw.totalRevenue || '0',\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\n// NOTE: currently working because DAI and SAI has the same price and decimals\r\n// We should use getOutstandingBalanceMainToken if changed\r\nexport async function getOutstandingBalance({ withBalance }) {\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable } = ch\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstanding)\r\n\t\tcurrent.available = current.available.add(\r\n\t\t\tbigNumberify(outstandingAvailable)\r\n\t\t)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\r\n\tconst tokens = selectRoutineWithdrawTokens()\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\r\n\t\tconst { depositAsset } = channel\r\n\t\tconst token = tokens[depositAsset]\r\n\r\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\r\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: outstandingAvailable,\r\n\t\t})\r\n\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstandingMT)\r\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getAllValidatorsAuthForIdentity({\r\n\twithBalance,\r\n\taccount,\r\n}) {\r\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\r\n\r\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\r\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\r\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\r\n\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\r\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\tconst keys = Object.keys(allValidators)\r\n\r\n\tconst tokenCalls = keys.map(async key => {\r\n\t\tif (allValidators[key]) {\r\n\t\t\treturn allValidators[key]\r\n\t\t} else {\r\n\t\t\tconst token = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: key,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\treturn token\r\n\t\t}\r\n\t})\r\n\r\n\tconst allTokens = await Promise.all(tokenCalls)\r\n\r\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[key]: allTokens[index],\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\treturn validatorsAuth\r\n}\r\n\r\nconst saiDaiConversion = async ({ token, balance }) => balance\r\n\r\nconst valueInMainTokenConversions = {\r\n\t// SAI\r\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\r\n\t\t// DAI\r\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\r\n\t},\r\n\t// DAI\r\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\r\n\t\t// SAI\r\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\r\n\t},\r\n}\r\n\r\nexport async function tokenInMainTokenValue({ token, balance }) {\r\n\tconst { address } = selectMainToken()\r\n\r\n\tif (address === token.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst valueInMainToken = await valueInMainTokenConversions[\r\n\t\taddress.toLowerCase()\r\n\t][token.address.toLowerCase()]({\r\n\t\ttoken,\r\n\t\tbalance,\r\n\t})\r\n\r\n\treturn valueInMainToken\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\r\n\t\tthis._provider = provider\r\n\t\tthis._opts = opts\r\n\t}\r\n\r\n\tgetWallet = async () => {\r\n\t\tif (this._wallet) {\r\n\t\t\treturn this._wallet\r\n\t\t} else {\r\n\t\t\tconst { email, password, authType } = this._opts\r\n\t\t\tconst walletData = await getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\r\n\t\t\treturn this._wallet\r\n\t\t}\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn await this.getWallet().address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = await this.getWallet().sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst wallet = await this.getWallet()\r\n\r\n\t\tconst signature = await wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.LEDGER.name) {\r\n\t\tconst signer = new LedgerSigner(provider, { path })\r\n\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (\r\n\t\tauthType === AUTH_TYPES.GRANT.name ||\r\n\t\tauthType === AUTH_TYPES.QUICK.name\r\n\t) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\tconst hash = utils.solidityKeccak256(\r\n\t\t['bytes32', 'bytes32'],\r\n\t\t[schemaHash, valuesHash]\r\n\t)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","export function loadFromLocalStorage(key) {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n\r\nexport function removeFromLocalStorage(key) {\r\n\tlocalStorage.removeItem(key)\r\n}\r\n\r\nexport function getKeys() {\r\n\treturn Object.keys(localStorage)\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst variantIcon = {\r\n\taccept: CheckCircleIcon,\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\tcancel: ErrorIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n}\r\n\r\nexport class Toast extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t\ttoast: {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlet toast = this.state.toast\r\n\t\tlet nextToast = nextProps.toasts[0]\r\n\r\n\t\tif (!nextToast) {\r\n\t\t\tthis.setState({ active: false, toast: {} })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\r\n\r\n\t\tif (isNewToast) {\r\n\t\t\tthis.setState({ active: true, toast: nextToast })\r\n\t\t}\r\n\t}\r\n\r\n\tclose = id => {\r\n\t\tthis.setState({ active: false })\r\n\t\tthis.props.actions.removeToast(id)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { toast } = this.state\r\n\t\tconst { classes } = this.props\r\n\t\tconst Icon = variantIcon[toast.type]\r\n\r\n\t\tif (!toast || !Icon) return null\r\n\r\n\t\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\t\tvertical: 'bottom',\r\n\t\t\thorizontal: 'center',\r\n\t\t}\r\n\r\n\t\tif (toast.top) {\r\n\t\t\tanchorOrigin.horizontal = 'center'\r\n\t\t\tanchorOrigin.vertical = 'top'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t\t>\r\n\t\t\t\t<SnackbarContent\r\n\t\t\t\t\taria-describedby='client-snackbar'\r\n\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\r\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\ttoast.action && toast.action,\r\n\t\t\t\t\t\t!toast.unclosable && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey='close'\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\r\n\t\t\t\t\t\t[classes.top]: !!toast.top,\r\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\r\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\r\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</Snackbar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\ttoasts: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// let persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\ttoasts: memory.toasts || [],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Toast))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsnackbar: {\r\n\t\t\tborder: '3px solid',\r\n\t\t\tborderRadius: 0,\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\t'&.active': {\r\n\t\t\t\ttransform: 'translateY(-20%)',\r\n\t\t\t},\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tborderColor: '#FFAB00',\r\n\t\t\tcolor: '#FFAB00',\r\n\t\t},\r\n\t\tcancel: {\r\n\t\t\tborderColor: '#FF5722',\r\n\t\t\tcolor: '#FF5722',\r\n\t\t},\r\n\t\taccept: {\r\n\t\t\tborderColor: '#00E676',\r\n\t\t\tcolor: '#00E676',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\ticonVariant: {\r\n\t\t\topacity: 0.9,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tmessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\twidth: '98vw',\r\n\t\t\tmaxWidth: '98vw',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectConfirm } from 'selectors'\r\n\r\nimport {\r\n\tDialog,\r\n\tButton,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n} from '@material-ui/core'\r\n\r\nexport function Confirm({ children }) {\r\n\tconst [open, setOpen] = useState(false)\r\n\r\n\tconst {\r\n\t\tonConfirm,\r\n\t\tonCancel,\r\n\t\tactive,\r\n\t\t// calledOn,\r\n\t\tnoActionBtns,\r\n\t\tdata: { title = '', text = '', confirmLabel, cancelLabel },\r\n\t} = useSelector(selectConfirm)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpen(!!active)\r\n\t}, [active])\r\n\r\n\tconst confirm = () => {\r\n\t\tif (typeof onConfirm === 'function') {\r\n\t\t\tonConfirm()\r\n\t\t}\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\tconst cancel = () => {\r\n\t\tif (typeof onCancel === 'function') {\r\n\t\t\tonCancel()\r\n\t\t}\r\n\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Dialog open={open}>\r\n\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</DialogContentText>\r\n\t\t\t\t{children}\r\n\t\t\t</DialogContent>\r\n\t\t\t{!noActionBtns && (\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{cancelLabel && (\r\n\t\t\t\t\t\t<Button onClick={cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{confirmLabel && (\r\n\t\t\t\t\t\t<Button onClick={confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogActions>\r\n\t\t\t)}\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default Confirm\r\n","import React, { forwardRef } from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\r\n\t\t\tconst href = this.props.history.createHref(path)\r\n\t\t\treturn href\r\n\t\t}\r\n\r\n\t\thandleClick = async event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tevent.stopPropagation()\r\n\t\t\tconst { to, onClick } = this.props\r\n\r\n\t\t\tif (onClick && typeof onClick === 'function') {\r\n\t\t\t\tawait onClick()\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tforwardedRef,\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Component\r\n\t\t\t\t\tref={forwardedRef}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\thref={toLocation}\r\n\t\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst WithRouter = withRouter(Decorated)\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithRouter {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\nimport { Link } from '@material-ui/core'\r\nimport { OpenInNew } from '@material-ui/icons'\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({\r\n\thref,\r\n\ttarget,\r\n\tchildren,\r\n\tlabel,\r\n\tunderline,\r\n\texternalIcon,\r\n\tcolor,\r\n\tcomponent,\r\n\t...rest\r\n}) => {\r\n\tconst isExternal = target && target === '_blank'\r\n\tconst url = isExternal ? getUrl(href) : href\r\n\r\n\tconst linkProps = {\r\n\t\tunderline: underline || 'none',\r\n\t\tcolor: color || 'inherit',\r\n\t\tdraggable: 'false',\r\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\r\n\t\ttarget,\r\n\t\thref: url,\r\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\r\n\t\t...(component ? { component } : {}),\r\n\t\t...rest,\r\n\t}\r\n\treturn (\r\n\t\t<Link {...linkProps}>\r\n\t\t\t{!component && (children || label)}\r\n\t\t\t{!component && externalIcon && (\r\n\t\t\t\t<OpenInNew style={{ fontSize: 'small' }} />\r\n\t\t\t)}\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport const ExternalAnchor = ({ href, children, style, ...rest }) => (\r\n\t<Anchor\r\n\t\tstyle={{ fontWeight: 'bold' }}\r\n\t\tunderline='always'\r\n\t\ttarget='_blank'\r\n\t\tcolor='primary'\r\n\t\texternalIcon\r\n\t\thref={href}\r\n\t\t{...rest}\r\n\t>\r\n\t\t{children}\r\n\t</Anchor>\r\n)\r\n\r\nexport default Anchor\r\n","const drawerWidth = 250\r\nconst lastRowRightReserved = 169\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tzIndex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tpaddingRight: theme.spacing(2),\r\n\t\t\tpaddingLeft: theme.spacing(2),\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: lastRowRightReserved,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\tnavIconHide: {\r\n\t\t\tmarginRight: 10,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 114,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingLeft: 0,\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#fff',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t\tpaddingTop: theme.spacing(4),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t\tpadding: theme.spacing(2),\r\n\t\t\t\tpaddingTop: theme.spacing(4),\r\n\t\t\t},\r\n\t\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1420,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\tbreadcrumbElement: {\r\n\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5)}px)`,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5) +\r\n\t\t\t\t\tdrawerWidth +\r\n\t\t\t\t\tlastRowRightReserved}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nconst sideIndex = {\r\n\tadvertiser: 0,\r\n\tpublisher: 1,\r\n\t'0': 'advertiser',\r\n\t'1': 'publisher',\r\n}\r\n\r\nconst handleChange = (ev, index) => {\r\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\r\n}\r\n\r\nconst useTabsStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tindicator: {\r\n\t\t\t// NOTE: we use Tab background color as indicator\r\n\t\t\t// There is an animation for the Tabs indicator that looks out of\r\n\t\t\t// sync with Tab background change\r\n\t\t\tbackground: '0',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useTabStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tminWidth: 30,\r\n\t\t\t'&$selected': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t\tbackgroundColor: activeColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: theme.palette.action.hover,\r\n\t\t\t},\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tbackgroundColor: activeColor,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst SideSwitch = ({ side, className }) => {\r\n\tconst tabsClasses = useTabsStyles({ side })\r\n\tconst tabClasses = useTabStyles({ side })\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<Box bgcolor='background.paper' boxShadow={2}>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tclasses={tabsClasses}\r\n\t\t\t\t\tvalue={sideIndex[side]}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t\taria-label='side select'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('ADVERTISER')} />\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('PUBLISHER')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideSwitch\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(27, 117, 188)'\r\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\r\n\t\t/>\r\n\t</g>,\r\n\t'AdexIcon',\r\n\t'0 0 185 72'\r\n)\r\n","import React from 'react'\r\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ className, color = 'primary' }) => (\r\n\t<LinearProgress className={className} color={color} />\r\n)\r\n\r\nexport const LoadingSection = ({ loading, children }) => (\r\n\t<Box display='flex' flex='1' alignItems='center'>\r\n\t\t<Box>{children}</Box>\r\n\t\t<Box ml={2} mr={2}>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t</Box>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { styles } from './styles'\r\nimport SideSwitch from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\nimport { Receipt } from '@material-ui/icons'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport Box from '@material-ui/core/Box'\r\nimport ListIcon from '@material-ui/icons/List'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectLocation,\r\n\tselectAccountIdentityAddr,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.contrastText\r\n\t\t\t: theme.palette.accentTwo.contrastText\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\tconst hoverActiveBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.light\r\n\t\t\t: theme.palette.accentTwo.light\r\n\r\n\treturn {\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 100,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t\tcolor: activeColor,\r\n\t\t\t\t'& .MuiListItemIcon-root': {\r\n\t\t\t\t\tcolor: activeColor,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t'& .MuiListItemIcon-root': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsideSwitch: {\r\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 32,\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tamount: {\r\n\t\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useCommonStyles = makeStyles(styles)\r\n\r\nfunction SideNav(props) {\r\n\tconst side = useSelector(selectSide)\r\n\tconst identity = useSelector(selectAccountIdentityAddr)\r\n\tconst classes = useStyles({ side })\r\n\tconst commonClasses = useCommonStyles()\r\n\tconst routerLocation = useSelector(selectLocation)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// TODO: test location\r\n\tconst location = routerLocation.pathname.split('/')[3]\r\n\tconst isAdvertiser = side === 'advertiser'\r\n\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\tconst { availableIdentityBalanceMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\r\n\t\t<div className={classes.navigation}>\r\n\t\t\t<List\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tpadding: classes.sntPadding,\r\n\t\t\t\t\troot: classes.navListRoot,\r\n\t\t\t\t}}\r\n\t\t\t\tclassName={classes.navList}\r\n\t\t\t\tcomponent='nav'\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tbgcolor='background.paper'\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tcommonClasses.toolbar,\r\n\t\t\t\t\t\t\tclasses.sideNavToolbar\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<AdexIconTxt className={classes.icon} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant='button'\r\n\t\t\t\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\tclasses={{ button: classes.amount }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant='button' component='div' display='block'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<ListIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/receipts' }}\r\n\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'receipts',\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<Receipt />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('RECEIPTS')} />\r\n\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t</div>\r\n\t\t\t</List>\r\n\t\t\t<div className={classes.version}>\r\n\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx Network O\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${process.env.ADEX_SITE_HOST}/tos`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref='https://github.com/AdExNetwork/adex-platform/blob/development/CHANGELOG.md.'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideNav\r\n","import React, { useState, Children, cloneElement } from 'react'\r\nimport { Menu, Button } from '@material-ui/core'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\r\n\tconst [anchorEl, setAnchorEl] = useState(null)\r\n\r\n\tconst handleMenu = event => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tstyle={btnStyle}\r\n\t\t\t\tonClick={handleMenu}\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t\taria-controls={id}\r\n\t\t\t>\r\n\t\t\t\t{leftIcon}\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</span>\r\n\t\t\t\t{rightIcon}\r\n\t\t\t</Button>\r\n\t\t\t<Menu\r\n\t\t\t\tid={id}\r\n\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tgetContentAnchorEl={null}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={handleClose}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t{Children.map(children, child =>\r\n\t\t\t\t\tcloneElement(child, {\r\n\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\ttypeof child.props.onClick === 'function' && child.props.onClick()\r\n\t\t\t\t\t\t\thandleClose()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ButtonMenu\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\nimport { selectLang } from 'selectors'\r\n\r\nexport default function Translate(Decorated) {\r\n\tfunction Translated(props) {\r\n\t\tconst language = useSelector(selectLang)\r\n\r\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\r\n\t\t\tconst translation = translate(val, { isProp, args }, language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\treturn <Decorated {...props} t={t} />\r\n\t}\r\n\r\n\treturn Translated\r\n}\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport ledgerLogo from 'resources/ledger_logo_header.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\treturn ledgerLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tBreadcrumbs,\r\n\tIconButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tLink,\r\n\tMenuItem,\r\n} from '@material-ui/core'\r\n\r\nimport classnames from 'classnames'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { selectAccount, selectDashboardBreadcrumbs } from 'selectors'\r\nimport { styles } from './styles'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\nconst RRLink = withReactRouterLink(Link)\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TopNav({ handleDrawerToggle, side, t }) {\r\n\tconst classes = useStyles()\r\n\tconst account = useSelector(selectAccount)\r\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\r\n\tconst breadcrumbs = useSelector(selectDashboardBreadcrumbs)\r\n\tconst btnMenuLabel =\r\n\t\taccount.wallet.authType === 'demo'\r\n\t\t\t? t('DEMO_MODE')\r\n\t\t\t: account.email ||\r\n\t\t\t  formatAddress(account.wallet.address) ||\r\n\t\t\t  t('NOT_LOGGED')\r\n\r\n\treturn (\r\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\r\n\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t{/* <AdexIconTxt\r\n\t\t\t\t\tclassName={classes.icon}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\r\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\r\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\r\n\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t<Jazzicon\r\n\t\t\t\t\t\t\tdiameter={30}\r\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\r\n\t\t\t\t\t\t<Breadcrumbs aria-label='breadcrumb'>\r\n\t\t\t\t\t\t\t{breadcrumbs.map(({ to, label }, index) =>\r\n\t\t\t\t\t\t\t\tto && index < breadcrumbs.length - 1 ? (\r\n\t\t\t\t\t\t\t\t\t<RRLink key={`${index}-${to}`} to={to}>\r\n\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t</RRLink>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.breadcrumbElement }}\r\n\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\t\tkey={`${index}-${label}`}\r\n\t\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Breadcrumbs>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n\r\nexport default Translate(TopNav)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Translate from 'components/translate/Translate'\r\nimport { validations, helpers } from 'adex-models'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\nconst MAX_IMG_LOAD_TIME = 7000\r\nclass Img extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\timgSrc: null,\r\n\t\t\tactive: false,\r\n\t\t\tvideoSrc: null,\r\n\t\t}\r\n\r\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\r\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\r\n\t\tthis.loadTimeout = null\r\n\t}\r\n\r\n\tipfsSrc = src => {\r\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t\t}\r\n\r\n\t\treturn src\r\n\t}\r\n\r\n\thandleToggle = ev => {\r\n\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\tlet active = this.state.active\r\n\t\tthis.setState({ active: !active })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\treturn this.setState({\r\n\t\t\t\timgSrc: VIDEO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tthis.displayVideo = document.createElement('video')\r\n\t\t\tthis.setDisplayVideo({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.displayImage = new Image()\r\n\t\t\tthis.setDisplayImage({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = nextProps => {\r\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\r\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\r\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\r\n\t\tconst { mediaMime } = nextProps\r\n\r\n\t\tif (nextSrc !== thisSrc) {\r\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\t\tif (isVideo) {\r\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\r\n\t\t\t\tthis.setDisplayVideo({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\r\n\t\t\t\tthis.setDisplayImage({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\t\t\tthis.displayImage = null\r\n\t\t}\r\n\t}\r\n\r\n\tclearLoadTimeout = () => {\r\n\t\tif (this.loadTimeout) {\r\n\t\t\tclearTimeout(this.loadTimeout)\r\n\t\t\tthis.loadTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tonFail = (fallback, image) => {\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.displayImage.src = fallback\r\n\t\t}\r\n\r\n\t\tthis.clearLoadTimeout()\r\n\r\n\t\tthis.setState({\r\n\t\t\timgSrc: fallback || null,\r\n\t\t})\r\n\t}\r\n\r\n\tsetDisplayImage = ({ image, fallback }) => {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback, image)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\r\n\t\t\tthis,\r\n\t\t\tfallback\r\n\t\t)\r\n\r\n\t\tthis.displayImage.onload = () => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\timgSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.displayImage.src = image\r\n\t}\r\n\r\n\tsetDisplayVideo = ({ image, fallback }) => {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tthis.displayVideo.src = image\r\n\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfullScreenBtn() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{this.renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trenderFullscreenDialog() {\r\n\t\tconst { t, alt, classes, type } = this.props\r\n\t\tconst { active, imgSrc, videoSrc } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{imgSrc ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<video\r\n\t\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\t\tloop\r\n\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t></video>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\talt,\r\n\t\t\tallowFullscreen,\r\n\t\t\tclassName,\r\n\t\t\tclasses,\r\n\t\t\tfullScreenOnClick,\r\n\t\t\tonClick,\r\n\t\t} = this.props\r\n\t\tconst { imgSrc, videoSrc } = this.state\r\n\t\treturn imgSrc || videoSrc ? (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\r\n\t\t\t>\r\n\t\t\t\t{!!imgSrc ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\tsrc={this.state.imgSrc}\r\n\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\r\n\t\t\t\t\t></video>\r\n\t\t\t\t)}\r\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\r\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t\t<span className={classes.circular}>\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImg.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(Img))\r\n","export const styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\timgParent: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: 'max-content',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t\twidth: '30px',\r\n\t\theight: '30px',\r\n\t\tminHeight: '24px',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t},\r\n\twrapper: {\r\n\t\theight: 'max-content',\r\n\t\twidth: 'max-content',\r\n\t},\r\n})\r\n","import React, { Fragment } from 'react'\r\nimport MUIDataTable from 'mui-datatables'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport { t } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst generalTableOptions = {\r\n\trowsPerPage: 5,\r\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\r\n\tsetTableProps: () => {\r\n\t\treturn {\r\n\t\t\tpadding: 'default',\r\n\t\t\tsize: 'small',\r\n\t\t\twidth: '100%',\r\n\t\t\talign: 'center',\r\n\t\t}\r\n\t},\r\n\ttextLabels: {\r\n\t\tbody: {\r\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\r\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\r\n\t\t\tcolumnHeaderTooltip: column =>\r\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\r\n\t\t\t\t\targs: [column.label || column],\r\n\t\t\t\t})}`,\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tnext: t('TABLE_NEXT'),\r\n\t\t\tprevious: t('TABLE_PREV'),\r\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\r\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tsearch: t('TABLE_SEARCH'),\r\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\r\n\t\t\tprint: t('TABLE_PRINT'),\r\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\r\n\t\t\tfilterTable: t('TABLE_FILTER'),\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tall: t('TABLE_FILTER_ALL'),\r\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\r\n\t\t\treset: t('TABLE_FILTER_RESET'),\r\n\t\t},\r\n\t\tviewColumns: {\r\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\r\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\r\n\t\t},\r\n\t\tselectedRows: {\r\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\r\n\t\t\tdelete: t('TABLE_DELETE'),\r\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\r\n\t\t},\r\n\t},\r\n}\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport default function MUIDataTableEnhanced(props) {\r\n\tconst { title, data, columns, options, loading } = props\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<MUIDataTable\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\t...generalTableOptions,\r\n\t\t\t\t\t...options,\r\n\t\t\t\t\televation: 2,\r\n\t\t\t\t\tsearch: !props.noSearch,\r\n\t\t\t\t\tdownload: !props.noDownload,\r\n\t\t\t\t\tprint: !props.noPrint,\r\n\t\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\r\n\t\t\t\t\tdisableToolbarSelect: props.toolbarEnabled ? false : true,\r\n\t\t\t\t\tresponsive: 'stacked',\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\n\r\nconst mapStatusIcons = (humanFriendlyStatus, status = '', size) => {\r\n\tconst icon = {\r\n\t\txs: { fontSize: 10 },\r\n\t\tmd: { fontSize: 15 },\r\n\t\tls: { fontSize: 20 },\r\n\t}\r\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\r\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\r\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\r\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\r\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\r\n\t\treturn waitIcon\r\n\tswitch (status.toLowerCase()) {\r\n\t\tcase 'active':\r\n\t\tcase 'ready':\r\n\t\t\treturn doneIcon\r\n\t\tcase 'pending':\r\n\t\tcase 'initializing':\r\n\t\tcase 'waiting':\r\n\t\t\treturn waitIcon\r\n\t\tcase 'offline':\r\n\t\tcase 'disconnected':\r\n\t\tcase 'unhealthy':\r\n\t\tcase 'invalid':\r\n\t\t\treturn warningIcon\r\n\t\tcase 'withdraw':\r\n\t\t\treturn cashIcon\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n\r\nexport { mapStatusIcons }\r\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmaxHeight: 46,\r\n\t\tmaxWidth: 69,\r\n\t\tcursor: 'pointer',\r\n\t\tdisplay: 'flex',\r\n\t},\r\n})\r\n","import React from 'react'\r\nimport { Typography, Slider, Box } from '@material-ui/core'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\n\r\nconst getSliderStep = (min, max, steps, precision = 2) => {\r\n\tconst diff = max - min\r\n\tconst step = diff / steps\r\n\tconst fixed = parseFloat(step.toFixed(precision))\r\n\r\n\treturn fixed\r\n}\r\n\r\nexport const sliderFilterOptions = ({\r\n\tinitial = [],\r\n\tfilterTitle = '',\r\n\tstepsCount = 20,\r\n\tstepsPrecision = 2,\r\n}) => {\r\n\tconst min = initial[0] || 0\r\n\tconst max = initial[1] || 100\r\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\r\n\treturn {\r\n\t\tfilter: true,\r\n\t\tdisplay: 'true',\r\n\t\tfilterType: 'custom',\r\n\t\tcustomFilterListOptions: {\r\n\t\t\trender: v =>\r\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\r\n\t\t\tupdate: (filterList, filterPos, index) => {\r\n\t\t\t\tfilterList[index] = []\r\n\t\t\t\treturn filterList\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tfilterOptions: {\r\n\t\t\tnames: [],\r\n\t\t\tlogic: (rowNumber, filters) => {\r\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\r\n\t\t\t\tif (filters.length > 0) {\r\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\t\t\tdisplay: (filterList, onChange, index, column) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\r\n\t\t\t\t\t\t\t{filterTitle}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\r\n\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\tmin={min}\r\n\t\t\t\t\t\t\t\tmax={max}\r\n\t\t\t\t\t\t\t\tmarks={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: min,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\r\n\t\t\t\t\t\t\t\tstep={step}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\r\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\r\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport function useTableData({ selector, selectorArgs, getColumns }) {\r\n\tconst [data, setData] = useState([])\r\n\tconst [columns, setColumns] = useState([])\r\n\r\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\r\n\r\n\tconst reloadData = useCallback(() => {\r\n\t\tsetData(selectedData)\r\n\t\tsetColumns(getColumns())\r\n\t}, [getColumns, selectedData])\r\n\r\n\tuseEffect(() => {\r\n\t\treloadData()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [selectedData.length, selector, selectorArgs])\r\n\r\n\treturn { data, columns, reloadData }\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tIconButton,\r\n\tTooltip,\r\n\tBox,\r\n\tButton,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\r\nimport { t, selectSpinnerById } from 'selectors'\r\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport function ReloadData({ handleReload }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleReload}>\r\n\t\t\t\t\t<Refresh />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('VIEW_ALL_RECEIPTS_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\r\n\t\t\t\t\t<Receipt />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\r\n\tconst classes = useStyles()\r\n\tconst receiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('RECEIPTS_PRINT_ALL')}>\r\n\t\t\t\t<Box ml={2} mr={2}>\r\n\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{receiptsSpinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility, Receipt } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectCampaignsTableData,\r\n\tselectMainToken,\r\n\tselectSide,\r\n\tselectCampaignsMaxImpressions,\r\n\tselectCampaignsMaxClicks,\r\n\tselectCampaignsMaxDeposit,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { commify } from 'ethers/utils'\r\nimport { execute, handlePrintSelectedReceiptsAdvertiser } from 'actions'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString, formatDate } from 'helpers/formatters'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData, PrintAllReceipts } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tsymbol,\r\n\tmaxImpressions,\r\n\tmaxDeposit,\r\n\tmaxClicks,\r\n}) => [\r\n\t{\r\n\t\tname: 'id',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'receiptAvailable',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tdownload: false,\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t// TODO: Images issue some stop displaying\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'status',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tfilterOptions: {\r\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\r\n\t\t\t\tlogic: (status, filters) => {\r\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\r\n\t\t\t\t\treturn false\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName, id }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t{humanFriendlyName}{' '}\r\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t\t// TODO: Sorting issue\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'depositAmount',\r\n\t\tlabel: t('PROP_DEPOSIT'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: depositAmount => (\r\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxDeposit],\r\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'fundsDistributedRatio',\r\n\t\tlabel: t('PROP_SERVED'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\r\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${(ctr || 0).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'minPerImpression',\r\n\t\tlabel: t('PROP_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ({ minPerImpression, id }) => (\r\n\t\t\t\t<Fragment key={id}>{`${minPerImpression.toFixed(\r\n\t\t\t\t\t2\r\n\t\t\t\t)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'activeFrom',\r\n\t\tlabel: t('PROP_STARTS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'withdrawPeriodStart',\r\n\t\tlabel: t('PROP_ENDS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\r\n\t\t\t\tformatDateTime(withdrawPeriodStart),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, receiptReady, to, toReceipt }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\treceiptReady\r\n\t\t\t\t\t\t\t\t? t('RECEIPT_VIEW')\r\n\t\t\t\t\t\t\t\t: 'Report not available until the campaign is completed'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* SPAN needed to enable tooltip on hover of disabled element\r\n\t\t\t\t\t\t https://material-ui.com/components/tooltips/#disabled-elements\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<RRIconButton\r\n\t\t\t\t\t\t\t\tto={toReceipt}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\taria-label='receip'\r\n\t\t\t\t\t\t\t\tdisabled={!receiptReady}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Receipt color={receiptReady ? 'primary' : 'disabled'} />\r\n\t\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0],\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2],\r\n\t\t\ti.data[3].humanFriendlyName,\r\n\t\t\t`${i.data[4]} ${symbol}`,\r\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)} %`,\r\n\t\t\ti.data[6],\r\n\t\t\ti.data[7],\r\n\t\t\ti.data[8],\r\n\t\t\tformatDateTime(i.data[9]),\r\n\t\t\tformatDateTime(i.data[10]),\r\n\t\t\tformatDateTime(i.data[11]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst selectedItems = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[0])\r\n\t\treturn (\r\n\t\t\t<PrintAllReceipts\r\n\t\t\t\thandlePrintAllReceipts={() =>\r\n\t\t\t\t\texecute(handlePrintSelectedReceiptsAdvertiser(selectedItems))\r\n\t\t\t\t}\r\n\t\t\t\tdisabled={selectedItems.length === 0}\r\n\t\t\t/>\r\n\t\t)\r\n\t},\r\n})\r\n\r\nfunction CampaignsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\r\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\r\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tdecimals,\r\n\t\t\t\tclasses,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxDeposit,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ decimals, symbol, reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable\r\n\t\t\ttoolbarEnabled\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default CampaignsTable\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Box from '@material-ui/core/Box'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\r\n\r\nconst getDirtyValidationErrors = (validations = {}) => {\r\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\r\n\t\tconst err = validations[key]\r\n\t\tif (err.dirty) {\r\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\r\n\t\t}\r\n\t\treturn dirtyErrs\r\n\t}, [])\r\n\r\n\treturn errors\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ steps, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{steps.length || 1}){' '}\r\n\t\t\t\t\t{(steps[currentPage] || {}).title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={steps.length}\r\n\t\t\t\t\tposition='static'\r\n\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t></MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{steps.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nconst MaterialStepper = props => {\r\n\tconst {\r\n\t\tinitialPage = 0,\r\n\t\tsteps = [],\r\n\t\tcloseDialog,\r\n\t\t// ...rest\r\n\t} = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\r\n\tconst canReverse = steps.length > currentPage && currentPage > 0\r\n\r\n\tconst page = steps[currentPage] || {}\r\n\tconst pageProps = page.props || {}\r\n\tconst { validateId } = pageProps\r\n\tconst Comp = page.component || null\r\n\tconst {\r\n\t\tvalidationFn,\r\n\t\tonValid,\r\n\t\tstepsId,\r\n\t\tcompleteFn,\r\n\t\tcompleteBtnTitle = '',\r\n\t} = page\r\n\r\n\tconst validations = useSelector(state =>\r\n\t\tselectValidationsById(state, validateId)\r\n\t)\r\n\r\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\r\n\r\n\tconst validationSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, validateId)\r\n\t)\r\n\r\n\tconst stepsSpinner = useSelector(state => selectSpinnerById(state, stepsId))\r\n\r\n\tconst spinner = validationSpinner || stepsSpinner\r\n\r\n\tconst isValidPage = useCallback(() => {\r\n\t\treturn !Object.keys(validations || {}).length\r\n\t}, [validations])\r\n\r\n\t// const canAdvance = isValidPage() && !page.completeBtn\r\n\r\n\tconst goToPage = useCallback(\r\n\t\tasync nextStep => {\r\n\t\t\tconst canAdvance = nextStep > currentPage\r\n\t\t\tconst canGoBack = nextStep < currentPage\r\n\r\n\t\t\tif (canAdvance || canGoBack) {\r\n\t\t\t\tsetCurrentPage(nextStep)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[currentPage]\r\n\t)\r\n\r\n\tconst goToPreviousPage = useCallback(async () => {\r\n\t\tif (canReverse) {\r\n\t\t\tgoToPage(currentPage - 1)\r\n\t\t}\r\n\t}, [canReverse, currentPage, goToPage])\r\n\r\n\tconst goToNextPage = useCallback(async () => {\r\n\t\tif (validationFn) {\r\n\t\t\tvalidationFn({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\r\n\t\t\t})\r\n\t\t} else if (isValidPage()) {\r\n\t\t\tgoToPage(currentPage + 1)\r\n\t\t}\r\n\t}, [\r\n\t\tcurrentPage,\r\n\t\tgoToPage,\r\n\t\tisValidPage,\r\n\t\tonValid,\r\n\t\tvalidationFn,\r\n\t\tstepsId,\r\n\t\tvalidateId,\r\n\t])\r\n\r\n\tconst handleComplete = useCallback(async () => {\r\n\t\tawait completeFn({\r\n\t\t\tstepsId,\r\n\t\t\tvalidateId,\r\n\t\t\tonValid: () => typeof closeDialog === 'function' && closeDialog(),\r\n\t\t})\r\n\t}, [closeDialog, completeFn, stepsId, validateId])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (validationFn) {\r\n\t\t\tvalidationFn({ stepsId, validateId, dirty: false })\r\n\t\t}\r\n\t}, [currentPage, validationFn, stepsId, validateId])\r\n\r\n\tconst onKeyPressed = useCallback(\r\n\t\tasync ev => {\r\n\t\t\tif (ev.key === 'Enter') {\r\n\t\t\t\tev.preventDefault()\r\n\t\t\t\tgoToNextPage()\r\n\t\t\t}\r\n\t\t},\r\n\t\t[goToNextPage]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={classes.stepperWrapper}\r\n\t\t\tonKeyPress={onKeyPressed}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='space-between'\r\n\t\t>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\televation={0}\r\n\t\t\t\t>\r\n\t\t\t\t\t<StepperNav\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tsteps={steps}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\tgoToPage={goToPage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t}}\r\n\t\t\t\televation={0}\r\n\t\t\t>\r\n\t\t\t\t{!!Comp && <Comp {...pageProps} />}\r\n\t\t\t</Paper>\r\n\r\n\t\t\t{!!dirtyErrors.length && (\r\n\t\t\t\t<Box color='error.main' mt={2}>\r\n\t\t\t\t\t{dirtyErrors.map(err => (\r\n\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\tkey={err.field}\r\n\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\r\n\t\t\t\t\t\t\ticon={<ErrorIcon />}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\r\n\t\t\t<Box mt={2}>\r\n\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t{canReverse && (\r\n\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t{typeof page.cancelFunction === 'function' && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\ttypeof closeDialog === 'function' && closeDialog()\r\n\t\t\t\t\t\t\t\tpage.cancelFunction(stepsId)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CANCEL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t{typeof completeFn === 'function' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={handleComplete}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(completeBtnTitle || 'DO_IT_NOW')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{spinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMaterialStepper.propTypes = {\r\n\tsteps: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default MaterialStepper\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst ds = theme.spacing(2)\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcolor: 'purple',\r\n\t\t\t'&$active': {\r\n\t\t\t\tcolor: 'green',\r\n\t\t\t},\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: 'yellow',\r\n\t\t},\r\n\t\tstepperWrapper: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t},\r\n\t\tpagePaper: {\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\theight: 0,\r\n\t\t\tpadding: ds,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '86%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\ttextAlign: 'left',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '14%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepper: {\r\n\t\t\twidth: '100%',\r\n\t\t\t'& div': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '10px',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepLabel: {\r\n\t\t\t'& span': {\r\n\t\t\t\tfontSize: '24px',\r\n\t\t\t\tmargin: '14px auto',\r\n\t\t\t},\r\n\t\t\ttextAlign: 'center',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\terrChip: {\r\n\t\t\tcolor: errColor,\r\n\t\t\tborderColor: errColor,\r\n\t\t\t'& svg': {\r\n\t\t\t\tcolor: errColor,\r\n\t\t\t},\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { forwardRef, useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport { t, selectLocationQuery } from 'selectors'\r\n\r\nfunction FormSteps({ cancelFunction, stepsId, steps, closeDialog, ...rest }) {\r\n\tconst [stepperSteps, setSteps] = useState([])\r\n\tconst { step = 0 } = useSelector(selectLocationQuery)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst updatedSteps = steps.map((s, index) => ({\r\n\t\t\t...s,\r\n\t\t\tstepsId,\r\n\t\t\ttitle: t(s.title),\r\n\t\t\tcancelFunction,\r\n\t\t\tprops: { ...rest, stepsId, validateId: stepsId + '-' + index },\r\n\t\t}))\r\n\r\n\t\tsetSteps(updatedSteps)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [stepsId])\r\n\r\n\treturn (\r\n\t\t<MaterialStepper\r\n\t\t\tinitialPage={step}\r\n\t\t\tsteps={stepperSteps}\r\n\t\t\tcloseDialog={closeDialog}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tsteps: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n\t<FormSteps {...props} forwardedRef={ref} />\r\n))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(2)\r\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\tminHeight: `${fullHeight}px`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${spacing}px)`,\r\n\t\t\t},\r\n\t\t\t'@media(max-height:823px)': {\r\n\t\t\t\tminHeight: `calc(${fullHeight} - ${spacing}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tpadding: 0,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: spacing,\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: 86,\r\n\t\t\tright: spacing,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontentStickyTop: {\r\n\t\t\tmarginBottom: '2rem',\r\n\t\t},\r\n\t\tfullContentMessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { t } from 'selectors'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction='up' ref={ref} {...props} />\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function WithDialogHoc(Decorated) {\r\n\tfunction WithDialog(props) {\r\n\t\tconst {\r\n\t\t\tforwardedRef,\r\n\t\t\ticonButton,\r\n\t\t\ttextButton,\r\n\t\t\tfabButton,\r\n\t\t\tvariant,\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tbtnLabelArgs,\r\n\t\t\tbtnLabel,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tdialogActions,\r\n\t\t\tonClick,\r\n\t\t\tfullWidth,\r\n\t\t\tonBeforeOpen,\r\n\t\t\t...rest\r\n\t\t} = props\r\n\r\n\t\tconst btnProps = {\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tvariant,\r\n\t\t}\r\n\r\n\t\tconst classes = useStyles()\r\n\t\tconst [open, setOpen] = useState(false)\r\n\r\n\t\tconst handleToggle = async () => {\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tsetOpen(!open)\r\n\t\t}\r\n\r\n\t\tconst handleClick = async ev => {\r\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\t\tawait handleToggle()\r\n\t\t\tif (onClick) onClick()\r\n\t\t}\r\n\r\n\t\tconst closeDialog = () => {\r\n\t\t\tsetOpen(false)\r\n\t\t}\r\n\r\n\t\tlet ButtonComponent = null\r\n\r\n\t\tif (iconButton) {\r\n\t\t\tButtonComponent = IconButton\r\n\t\t} else if (textButton) {\r\n\t\t\tButtonComponent = TextBtn\r\n\t\t} else if (fabButton) {\r\n\t\t\tButtonComponent = Fab\r\n\t\t} else {\r\n\t\t\tButtonComponent = Button\r\n\t\t\tbtnProps.fullWidth = fullWidth\r\n\t\t}\r\n\r\n\t\tconst btnLabelTranslated = btnLabel\r\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<ButtonComponent\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={btnLabelTranslated}\r\n\t\t\t\t\tlabel={btnLabelTranslated}\r\n\t\t\t\t\tonClick={ev => handleClick(ev)}\r\n\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\r\n\t\t\t\t</ButtonComponent>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\t// disableBackdropClick\r\n\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t// fullScreen\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={handleToggle}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={handleToggle}\r\n\t\t\t\t\t// onOverlayClick={handleToggle}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle\r\n\t\t\t\t\t\tdisableTypography\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography variant='subtitle1'>{t(title)}</Typography>\r\n\t\t\t\t\t\t<IconButton onClick={handleToggle}>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithDialog {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { TextField } from '@material-ui/core'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport classnames from 'classnames'\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dropdown(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst {\r\n\t\tonChange,\r\n\t\tlabel = '',\r\n\t\tvalue,\r\n\t\tsource = [],\r\n\t\thtmlId = 'some-id',\r\n\t\tdisabled = false,\r\n\t\terror = false,\r\n\t\thelperText,\r\n\t\tfullWidth = false,\r\n\t\tclassName,\r\n\t\trequired,\r\n\t\tloading,\r\n\t\tnoSrcLabel,\r\n\t\tvariant,\r\n\t\tIconComponent,\r\n\t} = props\r\n\r\n\tconst handleChange = event => {\r\n\t\tonChange(event.target.value)\r\n\t}\r\n\r\n\t// TODO: add native renderer for mobile devices when supported\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{!!source.length && !loading ? (\r\n\t\t\t\t<FormControl\r\n\t\t\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tvariant={variant}\r\n\t\t\t\t>\r\n\t\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tIconComponent={IconComponent}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\t\treturn src.group ? (\r\n\t\t\t\t\t\t\t\t<ListSubheader key={src.group.name || src.group}>\r\n\t\t\t\t\t\t\t\t\t{src.group.name || src.group}\r\n\t\t\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormControl>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\tvalue={loading ? t('LOADING_DATA') : noSrcLabel}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{!!loading && <InputLoading />}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n\tIconComponent: PropTypes.elementType,\r\n}\r\n\r\nexport default Dropdown\r\n","export const styles = theme => ({\r\n\tformControl: {\r\n\t\t// margin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n})\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({\r\n\ttargetUrl,\r\n\tcampaign,\r\n\tcontent,\r\n\tremoveFromUrl,\r\n}) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst newQuery = {}\r\n\t\t\tif (removeFromUrl) {\r\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t(key === 'utm_campaign' &&\r\n\t\t\t\t\t\t\t![campaign, UTM_PARAMS['utm_campaign']].includes(value)) ||\r\n\t\t\t\t\t\t(key === 'utm_content' &&\r\n\t\t\t\t\t\t\t![content, UTM_PARAMS['utm_content']].includes(value)) ||\r\n\t\t\t\t\t\t(!['utm_campaign', 'utm_content'].includes(key) &&\r\n\t\t\t\t\t\t\tUTM_PARAMS[key] &&\r\n\t\t\t\t\t\t\tUTM_PARAMS[key] !== value)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewQuery[key] = value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = newQuery\r\n\t\t\t} else {\r\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\r\n\t\t\t\tif (campaign) {\r\n\t\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t\t}\r\n\t\t\t\tif (content) {\r\n\t\t\t\t\tquery['utm_content'] = content\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = query\r\n\t\t\t}\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","import React, { useCallback, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField, Button } from '@material-ui/core'\r\n\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\n\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\nimport { execute, updateNewUnit } from 'actions'\r\nimport { t, selectValidationsById, selectNewAdUnit } from 'selectors'\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nfunction AdUnitBasic({ validateId }) {\r\n\tconst { title, description, targetUrl, type, temp } = useSelector(\r\n\t\tselectNewAdUnit\r\n\t)\r\n\tconst { autoUtmAdded } = temp\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\ttargetUrl: errTargetUrl,\r\n\t\ttype: errType,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\tconst updateUtmParameters = useCallback(\r\n\t\tremoveFromUrl => {\r\n\t\t\tif (targetUrl) {\r\n\t\t\t\tconst withUTM = addUrlUtmTracking({\r\n\t\t\t\t\ttargetUrl,\r\n\t\t\t\t\tcampaign: title,\r\n\t\t\t\t\tcontent: type,\r\n\t\t\t\t\tremoveFromUrl,\r\n\t\t\t\t})\r\n\r\n\t\t\t\texecute(updateNewUnit('targetUrl', withUTM))\r\n\t\t\t}\r\n\t\t},\r\n\t\t[targetUrl, title, type]\r\n\t)\r\n\r\n\tconst handleUtmButton = useCallback(() => {\r\n\t\tif (targetUrl) {\r\n\t\t\texecute(updateNewUnit('temp', { ...temp, autoUtmAdded: !autoUtmAdded }))\r\n\t\t\tupdateUtmParameters(autoUtmAdded)\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [autoUtmAdded, targetUrl, title, type])\r\n\r\n\tuseEffect(() => {\r\n\t\tautoUtmAdded && updateUtmParameters()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [title, type])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={ev => execute(updateNewUnit('title', ev.target.value))}\r\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateNewUnit('description', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateNewUnit('targetUrl', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty\r\n\t\t\t\t\t\t\t\t? errTargetUrl.errMsg\r\n\t\t\t\t\t\t\t\t: t('TARGETIRL_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tonClick={handleUtmButton}\r\n\t\t\t\t\t\tcolor={!autoUtmAdded ? 'primary' : 'secondary'}\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!autoUtmAdded ? t('ADD_UTM_LINK') : t('REMOVE_UTM_LINK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={value => execute(updateNewUnit('type', value))}\r\n\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t: t('UNIT_TYPE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdUnitBasic\r\n","/**\r\n * @param {String} objUrl - Image blob url URL.createObjectURL\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n */\r\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\r\n\t// TODO: Validate pixelCrop and size\r\n\tconst cropCanvas = document.createElement('canvas')\r\n\tconst scaleCanvas = document.createElement('canvas')\r\n\r\n\tconst img = new Image()\r\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\r\n\timg.src = objUrl\r\n\r\n\t// As a blob\r\n\treturn new Promise((resolve, reject) => {\r\n\t\timg.onload = () => {\r\n\t\t\tconst width = img.width\r\n\t\t\tconst height = img.height\r\n\r\n\t\t\t// pixelCrop come in %\r\n\t\t\tconst crop = {\r\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\r\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\r\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\r\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\r\n\t\t\t}\r\n\r\n\t\t\tcropCanvas.width = crop.width\r\n\t\t\tcropCanvas.height = crop.height\r\n\t\t\tconst cctx = cropCanvas.getContext('2d')\r\n\r\n\t\t\tcctx.drawImage(\r\n\t\t\t\timg,\r\n\t\t\t\tcrop.x,\r\n\t\t\t\tcrop.y,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.width = size.width\r\n\t\t\tscaleCanvas.height = size.height\r\n\r\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\r\n\r\n\t\t\tsctx.drawImage(\r\n\t\t\t\tcropCanvas,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tsize.width,\r\n\t\t\t\tsize.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.toBlob(file => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t}, 'image/jpeg')\r\n\t\t}\r\n\t})\r\n}\r\n","import React from 'react'\r\n\r\nimport {\r\n\tCircularProgress,\r\n\tOutlinedInput,\r\n\tInputLabel,\r\n\tFormControl,\r\n\tTypography,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\nconst PropBaseComponent = ({ value, inputRef, ...rest }) => (\r\n\t<Box {...rest}>{value}</Box>\r\n)\r\n\r\n// TODO: Make it common named PropView\r\n// TODO: Use it with Grid in previews - we can have more than one in row\r\nexport const PropRow = ({ left, right }) => (\r\n\t<Box p={1}>\r\n\t\t<FormControl variant='outlined' fullWidth>\r\n\t\t\t<InputLabel shrink disableAnimation>\r\n\t\t\t\t{left}\r\n\t\t\t</InputLabel>\r\n\r\n\t\t\t<OutlinedInput\r\n\t\t\t\tfullWidth\r\n\t\t\t\tnotched\r\n\t\t\t\treadOnly\r\n\t\t\t\tname={left}\r\n\t\t\t\tlabel={left}\r\n\t\t\t\tinputComponent={PropBaseComponent}\r\n\t\t\t\tinputProps={{ style: { height: 'auto', wordWrap: 'break-word' } }}\r\n\t\t\t\tvalue={right}\r\n\t\t\t/>\r\n\t\t</FormControl>\r\n\t</Box>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\tclassName={className}\r\n\t>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<Box flexGrow={1} className={className}>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, subMsg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div>\r\n\t\t\t<Typography component='div'> {msg} </Typography>\r\n\t\t\t{subMsg && (\r\n\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t<strong>{subMsg}</strong>\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nconst fullContentMessage = ({\r\n\tchildren,\r\n\tmsgs = [],\r\n\tspinner,\r\n\tcolor = 'primary',\r\n}) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\talignItems='center'\r\n\t\tjustifyContent='center'\r\n\t\tbgcolor={`${color}.main`}\r\n\t\tcolor={`${color}.contrastText`}\r\n\t>\r\n\t\t{spinner && (\r\n\t\t\t<Box p={4}>\r\n\t\t\t\t<CircularProgress\r\n\t\t\t\t\tcolor={`${color}.contrastText`}\r\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\r\n\t\t\t\t\tsize={69}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t)}\r\n\t\t{children}\r\n\t\t{msgs\r\n\t\t\t.filter(x => !!x && x.message)\r\n\t\t\t.map((msg, index) => {\r\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Typography key={index} component='div'>\r\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t</Box>\r\n)\r\n\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Img from 'components/common/img/Img'\r\n// import debounce from 'debounce'\r\nimport Dropzone from 'react-dropzone'\r\nimport Translate from 'components/translate/Translate'\r\nimport { Button, Typography, Grid } from '@material-ui/core'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport {\r\n\tCrop as CropIcon,\r\n\tClear as ClearIcon,\r\n\tSave as SaveIcon,\r\n\tCloudUpload as FileUploadIcon,\r\n} from '@material-ui/icons'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { PropRow } from 'components/common/dialog/content'\r\n\r\nclass ImgForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { size, imgSrc, mime } = props\r\n\t\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\t\tthis.state = {\r\n\t\t\timgSrc: imgSrc || '',\r\n\t\t\tmime: mime || '',\r\n\t\t\timgName: '',\r\n\t\t\tcropMode: false,\r\n\t\t\tcrop: { aspect: aspect },\r\n\t\t}\r\n\t}\r\n\r\n\tonDrop = (acceptedFiles, rejectedFiles) => {\r\n\t\tconst that = this\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\r\n\t\tthat.setState({\r\n\t\t\timgSrc: objectUrl,\r\n\t\t\timgName: file.name,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tthis.props.onChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t}\r\n\r\n\tonRemove = e => {\r\n\t\tthis.preventBubbling(e)\r\n\r\n\t\tconst { imgSrc } = this.state\r\n\r\n\t\tif (imgSrc) {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\r\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t}\r\n\r\n\tonCropChange = crop => {\r\n\t\tthis.setState({ crop })\r\n\t}\r\n\r\n\tsaveCropped = () => {\r\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\r\n\t\tconst { onChange, size } = this.props\r\n\t\tgetCroppedImgUrl({\r\n\t\t\tobjUrl: imgSrc,\r\n\t\t\tpixelCrop: crop,\r\n\t\t\tfileName: `cropped-${imgName}`,\r\n\t\t\tsize,\r\n\t\t}).then(croppedBlob => {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tpreventBubbling = e => {\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation()\r\n\t\t}\r\n\t\tif (e.nativeEvent) {\r\n\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t}\r\n\t}\r\n\r\n\tUploadInfo = () => {\r\n\t\tconst { t, classes, size, errMsg } = this.props\r\n\t\tconst { imgSrc, mime } = this.state\r\n\t\treturn (\r\n\t\t\t<div className={classes.uploadInfo}>\r\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\r\n\t\t\t\t\t<div className={classes.uploadActions}>\r\n\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\r\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={this.onRemove}\r\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t)}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: CLEAR IMG BLOB!!!!\r\n\trender() {\r\n\t\tconst { t, classes, label, additionalInfo } = this.props\r\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\r\n\r\n\t\tconst videoSrc = isVideoMedia(mime)\r\n\t\treturn (\r\n\t\t\t<div className={classes.imgForm}>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={\r\n\t\t\t\t\t\timgSrc && imgName\r\n\t\t\t\t\t\t\t? `${label || 'Image'}: ${imgName}`\r\n\t\t\t\t\t\t\t: label || 'Upload image'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.preventBubbling}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Dropzone\r\n\t\t\t\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\r\n\t\t\t\t\t\t\t\t\t\tonDrop={this.onDrop}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{videoSrc ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={'name'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<this.UploadInfo />\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Dropzone>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<small> {additionalInfo} </small>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgForm.propTypes = {\r\n\timgSrc: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(ImgForm))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tdropzone: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: `1px dashed ${theme.palette.grey[500]}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\tmaxHeight: 320,\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport { Grid } from '@material-ui/core'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\nimport { updateNewUnit, execute } from 'actions'\r\nimport { t, selectNewAdUnit, selectValidationsById } from 'selectors'\r\n\r\nfunction AdUnitMedia({ validateId }) {\r\n\tconst { type, temp } = useSelector(selectNewAdUnit)\r\n\tconst { temp: errImg } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst { width, height } = getWidAndHightFromType(type)\r\n\tconst { tempUrl, mime } = temp\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\timgSrc={tempUrl || ''}\r\n\t\t\t\t\t\tmime={mime || ''}\r\n\t\t\t\t\t\tonChange={mediaProps =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewUnit('temp', {\r\n\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t...mediaProps,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdUnitMedia\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\r\nimport WcIcon from '@material-ui/icons/Wc'\r\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\r\nimport CompareArrows from '@material-ui/icons/CompareArrows'\r\n\r\nimport { t } from 'selectors'\r\n\r\nconst targetIcon = {\r\n\tlocation: LocationOnIcon,\r\n\tgender: WcIcon,\r\n\tage: ChildCareIcon,\r\n}\r\n\r\nconst getTargetType = tag => {\r\n\tconst type = tag.split('_')[0] || 'tags'\r\n\treturn type\r\n}\r\n\r\nconst TargetArrayValues = ({ target, addDivider, selected }) => {\r\n\tconst type = getTargetType(target.tag)\r\n\tconst TargetIcon = targetIcon[type] || CompareArrows\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ListItem selected={selected}>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t<TargetIcon />\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<ListItemText primary={t(target.tag, { isTarget: true })} />\r\n\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst TargetsList = ({ targets = [], subHeader }) => (\r\n\t<List\r\n\t\tdense\r\n\t\tsubheader={subHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null}\r\n\t>\r\n\t\t{targets.map((target, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<TargetArrayValues\r\n\t\t\t\t\tselected={index % 2 === 0}\r\n\t\t\t\t\ttarget={target}\r\n\t\t\t\t\tkey={target.tag + target.score + index}\r\n\t\t\t\t\taddDivider={targets.length - 1 > index}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})}\r\n\t</List>\r\n)\r\n\r\nTargetsList.propTypes = {\r\n\ttargets: PropTypes.array,\r\n\tsubHeader: PropTypes.string,\r\n}\r\n\r\nexport default TargetsList\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 225,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Img from 'components/common/img/Img'\r\nimport TargetsList from 'components/dashboard/containers/TargetsList'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { Grid } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { t, selectNewAdUnit, selectAccountIdentityAddr } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AdUnitPreview() {\r\n\tconst classes = useStyles()\r\n\tconst { type, title, description, temp, targeting, targetUrl } = useSelector(\r\n\t\tselectNewAdUnit\r\n\t)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tright={targetUrl}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\r\n\t\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<TargetsList\r\n\t\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdUnitPreview\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsArray,\r\n\tselectAdUnits,\r\n\tselectNewCampaign,\r\n} from 'selectors'\r\nimport { updateNewCampaign, execute } from 'actions'\r\n\r\nfunction CampaignUnits(props) {\r\n\tconst { temp } = useSelector(selectNewCampaign)\r\n\tconst { selectedUnits } = temp\r\n\tconst allAdUnits = useSelector(selectAdUnits)\r\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\r\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\r\n\r\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\r\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\r\n\t\t\treturn allAdUnits[value]\r\n\t\t})\r\n\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.selectedUnits = selectedIndexes\r\n\r\n\t\texecute(updateNewCampaign('adUnits', units))\r\n\t\texecute(updateNewCampaign('temp', newTemp))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\r\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\tselected={selectedUnits}\r\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\r\n\t\t\t\t\t\t\t\tvalidate={props.validate}\r\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\r\n\t\t\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\trowSelectable\r\n\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CampaignUnits\r\n","import React, { Component, useState, useContext, PureComponent } from 'react'\r\nimport {\r\n\tDateTimePicker as MuiDateTimePicker,\r\n\tDatePicker as MuiDatePicker,\r\n} from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {\r\n\tDateRange,\r\n\tNavigateNextRounded,\r\n\tNavigateBeforeRounded,\r\n\tUpdate,\r\n} from '@material-ui/icons'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport utils, { makeJSDateObject } from 'helpers/dateUtils'\r\nimport clsx from 'clsx'\r\n// EXTRACT\r\n// this guy required only on the docs site to work with dynamic date library\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <DateRange />,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonLiveClick,\r\n\tonNextClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t\t{onLiveClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\r\n\t\t\t\t<Update />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t\t{onNextClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\r\n\t\t\t\t<NavigateNextRounded />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t</InputAdornment>\r\n)\r\n\r\nexport function DateTimePicker({\r\n\tcalendarIcon,\r\n\ticon,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonNextClick,\r\n\tonLiveClick,\r\n\tonBackClick,\r\n\troundHour,\r\n\t...rest\r\n}) {\r\n\tconst now = utils.date(Date.now())\r\n\tconst date = roundHour ? utils.setMinutes(now, 0) : now\r\n\treturn (\r\n\t\t<MuiDateTimePicker\r\n\t\t\tvalue={date}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\tonNextClick={onNextClick}\r\n\t\t\t\t\t\tonLiveClick={onLiveClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null,\r\n\t\t\t\tstartAdornment: onBackClick ? (\r\n\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\r\n\t\t\t\t\t\t\t<NavigateBeforeRounded />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t) : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, forwardRef } from 'react'\r\nimport { Prompt } from 'react-router'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tChip,\r\n\tInputAdornment,\r\n\tIconButton,\r\n\tCard,\r\n\tCardMedia,\r\n\tCardContent,\r\n\tTextField,\r\n\tButton,\r\n} from '@material-ui/core'\r\nimport { Info, Edit, UndoOutlined, OpenInNew } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport Anchor, { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { t, selectMainToken } from 'selectors'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const DirtyProps = ({ dirtyProps = [], returnPropToInitialState }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Prompt when={!!dirtyProps.length} message={t('UNSAVED_CHANGES_ALERT')} />\r\n\t\t\t{!!dirtyProps.length && (\r\n\t\t\t\t<div className={classes.changesLine}>\r\n\t\t\t\t\t<Info className={classes.buttonLeft} />\r\n\t\t\t\t\t<span className={classes.buttonLeft}>{t('UNSAVED_CHANGES')}:</span>\r\n\t\t\t\t\t{dirtyProps.map(p => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\r\n\t\t\t\t\t\t\t\tonDelete={() => {\r\n\t\t\t\t\t\t\t\t\treturnPropToInitialState(p)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport const ItemSpecProp = ({\r\n\tprop,\r\n\tlabel,\r\n\tvalue = '',\r\n\thelperText,\r\n\tInputProps,\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid={prop}\r\n\t\t\tlabel={label}\r\n\t\t\ttype='text'\r\n\t\t\tmargin='dense'\r\n\t\t\tname={prop}\r\n\t\t\tvalue={value || ''}\r\n\t\t\t// disabled\r\n\t\t\treadOnly\r\n\t\t\thelperText={helperText}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={InputProps}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemTitle = ({\r\n\ttitle,\r\n\terrTitle,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst active = !!activeFields.title\r\n\tconst showError = !!errTitle && errTitle.dirty\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-title'\r\n\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='title'\r\n\t\t\tvalue={title || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('title', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError ? t(errTitle.errMsg, { args: errTitle.errMsgArgs }) : ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('title')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('title', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemDescription = ({\r\n\tdescription,\r\n\terrDescription,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst active = !!activeFields.description\r\n\tconst showError = !!errDescription && errDescription.dirty\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-description'\r\n\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='description'\r\n\t\t\tvalue={description || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('description', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tmaxLength={1024}\r\n\t\t\tmultiline\r\n\t\t\trows={2}\r\n\t\t\tdisabled={!activeFields.description}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError\r\n\t\t\t\t\t? t(errDescription.errMsg, {\r\n\t\t\t\t\t\t\targs: errDescription.errMsgArgs,\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('description')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('description', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemAdType = ({ type }) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-type'\r\n\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='type'\r\n\t\t\tvalue={type || ''}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst OpenInNewIconBtn = ({ forwardedRef, ...props }) => {\r\n\treturn (\r\n\t\t<IconButton {...props}>\r\n\t\t\t<OpenInNew />\r\n\t\t</IconButton>\r\n\t)\r\n}\r\n\r\nconst IconButtonWithRef = forwardRef((props, ref) => (\r\n\t<OpenInNewIconBtn {...props} forwardedRef={ref} />\r\n))\r\n\r\nexport const ItemTargetURL = ({ targetUrl = '', label }) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-targetUrl'\r\n\t\t\tlabel={t(label || 'PROP_TARGETURL')}\r\n\t\t\ttype='text'\r\n\t\t\tname='targetUrl'\r\n\t\t\tvalue={targetUrl}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\thref={targetUrl}\r\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemFallbackMediaURL = ({ targetUrl = '' }) => {\r\n\t// TODO: need to take it from fallbackUnit\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-targetUrl'\r\n\t\t\tlabel={t('PROP_FALLBACKADURL')}\r\n\t\t\ttype='text'\r\n\t\t\tname='targetUrl'\r\n\t\t\tvalue={targetUrl}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\thref={targetUrl}\r\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const MediaCard = ({ mediaUrl = '', mediaMime = '', label = '' }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false}>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t\t<Img\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\talt={label || t('MEDIA')}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\tallowVideo\r\n\t\t\t\t/>\r\n\t\t\t\t{label && (\r\n\t\t\t\t\t<Chip size='small' className={classes.mediaPropChip} label={label} />\r\n\t\t\t\t)}\r\n\t\t\t</CardMedia>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nexport const ItemMinPerImpression = ({\r\n\titem = {},\r\n\tvalidations,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst { address, decimals, symbol } = selectMainToken()\r\n\tconst { minPerImpression } = item\r\n\tconst active = !!activeFields.minPerImpression\r\n\tconst { minPerImpression: error } = validations\r\n\tconst showError = !!error && error.dirty\r\n\tconst minCPM =\r\n\t\ttypeof minPerImpression === 'object'\r\n\t\t\t? formatTokenAmount(\r\n\t\t\t\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\ttrue\r\n\t\t\t  )\r\n\t\t\t: minPerImpression\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-minPerImpression'\r\n\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\ttype='text'\r\n\t\t\tname='minPerImpression'\r\n\t\t\tvalue={minCPM || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('minPerImpression', ev.target.value.trim())\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={showError ? t(error.errMsg, { args: error.errMsgArgs }) : ' '}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('minPerImpression')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('minPerImpression', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemWebsite = ({\r\n\titem = {},\r\n\tvalidations,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst { website } = item\r\n\tconst active = !!activeFields.website\r\n\tconst { website: error } = validations\r\n\tconst showError = !!error && error.dirty\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-website'\r\n\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\ttype='text'\r\n\t\t\tname='website'\r\n\t\t\tvalue={website || ' '}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('website', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError && activeFields.website ? (\r\n\t\t\t\t\tt(error.errMsg, { args: error.errMsgArgs })\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{activeFields.website && (\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('website')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('website', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tbackgroundColor: theme.palette.grey.main,\r\n\t\t\twidth: '100%',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t\tmediaPropChip: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: spacing,\r\n\t\t\tleft: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tselectItemByTypeAndId,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { execute } from 'actions'\r\n\r\nexport function useItem({ itemType, match, objModel, validateAndUpdateFn }) {\r\n\tconst [item, setItem] = useState({})\r\n\tconst [initialItemState, setInitialItemState] = useState({})\r\n\tconst [activeFields, setFields] = useState({})\r\n\tconst [dirtyProps, setDirtyProps] = useState([])\r\n\tconst [validateId, setValidateId] = useState('update-default')\r\n\r\n\tconst storeItem = useSelector(state =>\r\n\t\tselectItemByTypeAndId(state, itemType, match.params.itemId)\r\n\t)\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tuseEffect(() => {\r\n\t\tconst initial = new objModel(storeItem)\r\n\t\tsetItem(initial)\r\n\t\tsetInitialItemState(initial)\r\n\t\tsetValidateId(`update-${item.id}`)\r\n\t}, [item.id, objModel, storeItem])\r\n\r\n\tconst setActiveFields = useCallback(\r\n\t\t(field, value) => {\r\n\t\t\tsetFields({ ...activeFields, [field]: value })\r\n\t\t},\r\n\t\t[activeFields]\r\n\t)\r\n\r\n\tconst validate = useCallback(\r\n\t\tdirty => execute(validateAndUpdateFn({ item, validateId, dirty })),\r\n\t\t[item, validateAndUpdateFn, validateId]\r\n\t)\r\n\r\n\tconst save = useCallback(() => {\r\n\t\texecute(\r\n\t\t\tvalidateAndUpdateFn({ item, validateId, dirty: true, update: true })\r\n\t\t)\r\n\t\tsetDirtyProps([])\r\n\t\tsetFields({})\r\n\t}, [item, validateAndUpdateFn, validateId])\r\n\r\n\tconst returnPropToInitialState = useCallback(\r\n\t\tpropName => {\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[propName] = initialItemState[propName]\r\n\r\n\t\t\tconst dp = dirtyProps.filter(dp => {\r\n\t\t\t\treturn dp !== propName\r\n\t\t\t})\r\n\r\n\t\t\tsetItem(newItem)\r\n\t\t\tsetDirtyProps(dp)\r\n\t\t\tsetActiveFields(propName, false)\r\n\t\t\tvalidate(false)\r\n\t\t},\r\n\t\t[dirtyProps, initialItemState, item, objModel, setActiveFields, validate]\r\n\t)\r\n\r\n\tconst updateField = useCallback(\r\n\t\t(field, value) => {\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[field] = value\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (!dp.includes(field)) {\r\n\t\t\t\tdp.push(field)\r\n\t\t\t}\r\n\t\t\tsetItem(newItem)\r\n\t\t\tsetDirtyProps(dp)\r\n\t\t},\r\n\t\t[dirtyProps, item, objModel]\r\n\t)\r\n\r\n\treturn {\r\n\t\titem,\r\n\t\tactiveFields,\r\n\t\tsetActiveFields,\r\n\t\tdirtyProps,\r\n\t\treturnPropToInitialState,\r\n\t\tvalidate,\r\n\t\tvalidateId,\r\n\t\tvalidations,\r\n\t\tupdateField,\r\n\t\tspinner,\r\n\t\tsave,\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { CircularProgress, Fab } from '@material-ui/core'\r\nimport { Check, Save } from '@material-ui/icons'\r\n\r\nimport color from '@material-ui/core/colors/purple'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: color[500],\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: color[700],\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: -6,\r\n\t\tleft: -6,\r\n\t\tzIndex: 1,\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tposition: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 86,\r\n\t\tright: theme.spacing(2),\r\n\t\tzIndex: theme.zIndex.appBar + 1,\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const SaveBtn = ({\r\n\tspinner,\r\n\tsuccess,\r\n\tdirtyProps = [],\r\n\tsave,\r\n\tdisabled,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<div className={classes.position}>\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tonClick={save}\r\n\t\t\t\t\tdisabled={disabled || spinner || !dirtyProps.length}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t{success ? <Check /> : <Save />}\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tFormGroup,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tCheckbox,\r\n\tTextField,\r\n} from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectMainToken,\r\n\tselectNewCampaign,\r\n\tselectValidationsById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\nimport { validations } from 'adex-models'\r\nconst { isNumberString } = validations\r\n\r\nconst moment = new MomentUtils()\r\n\r\nconst getTotalImpressions = ({ depositAmount, minPerImpression }) => {\r\n\ttry {\r\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\r\n\t\tconst min = isNumberString(minPerImpression) && parseFloat(minPerImpression)\r\n\t\tif (!dep) {\r\n\t\t\treturn t('DEPOSIT_NOT_SET')\r\n\t\t} else if (!min) {\r\n\t\t\treturn t('CPM_NOT_SET')\r\n\t\t} else {\r\n\t\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\r\n\t\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\r\n\t\t}\r\n\t} catch (err) {\r\n\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nfunction CampaignFinance({ validateId }) {\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst campaign = useSelector(selectNewCampaign)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t\t// depositAsset,\r\n\t\tactiveFrom,\r\n\t\twithdrawPeriodStart,\r\n\t\tminTargetingScore,\r\n\t\ttemp = {},\r\n\t} = campaign\r\n\r\n\tconst { maxChannelFees, maxDepositFormatted } = temp\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst from = activeFrom || undefined\r\n\tconst to = withdrawPeriodStart || undefined\r\n\tconst now = moment.date().valueOf()\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdepositAmount: errDepAmnt,\r\n\t\tminPerImpression: errMin,\r\n\t\tactiveFrom: errFrom,\r\n\t\twithdrawPeriodStart: errTo,\r\n\t\tminTargetingScore: errUnitsTargeting,\r\n\t} = invalidFields\r\n\r\n\tconst impressions = getTotalImpressions({\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t})\r\n\r\n\tconst leader = validators[0] || {}\r\n\tconst follower = validators[1] || {}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\tprop='leader-validator'\r\n\t\t\t\t\t\t\tvalue={leader.url || ''}\r\n\t\t\t\t\t\t\thelperText={leader.id}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\tprop='follower-validator'\r\n\t\t\t\t\t\t\tvalue={follower.url || ''}\r\n\t\t\t\t\t\t\thelperText={follower.id}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty ? errDepAmnt.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('minPerImpression', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl error={errUnitsTargeting && errUnitsTargeting.dirty}>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('minTargetingScore', { isProp: true })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t{errUnitsTargeting && !!errUnitsTargeting.dirty ? (\r\n\t\t\t\t\t\t\t\t\t<Alert severity='error' variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t\t{t('ERR_MIN_TARGETING_SCORE_ALERT')}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignFinance\r\n","import React from 'react'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\tlet subMsg\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Grid, CircularProgress } from '@material-ui/core'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectAccountIdentityAddr,\r\n\tselectAuthType,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectNewCampaign,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, getCampaignActualFees, checkNetworkCongestion } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES, OPENING_CAMPAIGN } from 'constants/spinners'\r\n\r\nfunction CampaignFormPreview() {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst mainToken = useSelector(selectMainToken)\r\n\tconst { symbol } = mainToken\r\n\tconst feesSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst openingSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, OPENING_CAMPAIGN)\r\n\t)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\t// targeting,\r\n\t\tadUnits,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t\t// maxPerImpression,\r\n\t\t// depositAsset,\r\n\t\twithdrawPeriodStart,\r\n\t\tactiveFrom,\r\n\t\tminTargetingScore,\r\n\t\t// nonce\r\n\t\ttemp = {},\r\n\t} = useSelector(selectNewCampaign)\r\n\r\n\tconst { feesFormatted, totalSpendFormatted } = temp\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getCampaignActualFees())\r\n\t\texecute(checkNetworkCongestion())\r\n\t}, [])\r\n\r\n\treturn feesSpinner ? (\r\n\t\t<FullContentSpinner />\r\n\t) : (\r\n\t\t<ContentBox>\r\n\t\t\t{openingSpinner ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('FEES')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\tfeesFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t`${feesFormatted} ${symbol}`\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\tright={t(minTargetingScore ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\t\titems={adUnits}\r\n\t\t\t\t\t\t\t\t\tnoSearch\r\n\t\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default CampaignFormPreview\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectSlotTypesSourceWithDemands,\r\n} from 'selectors'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tvalidateNumberString,\r\n\tupdateNewSlot,\r\n\texecute,\r\n} from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst newItem = useSelector(selectNewAdSlot)\r\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\r\n\tconst {\r\n\t\ttitle = '',\r\n\t\tdescription = '',\r\n\t\twebsite = '',\r\n\t\ttype = '',\r\n\t\tminPerImpression = '',\r\n\t} = newItem\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\r\n\t)\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\twebsite: errWebsite,\r\n\t\ttype: errType,\r\n\t\tminPerImpression: errMin,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateSlotsDemandThrottled())\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst { symbol } = selectMainToken\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\t\t\t\t\tname='website'\r\n\t\t\t\t\t\t\tvalue={website}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\r\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\r\n\t\t\t\t\t\t\tsource={adTypesSource}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tCollapse,\r\n\tFormControlLabel,\r\n\tFormHelperText,\r\n\tSwitch,\r\n} from '@material-ui/core'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\nimport { t, selectNewAdSlot, selectValidationsById } from 'selectors'\r\nimport { updateNewSlot, execute } from 'actions'\r\n\r\nfunction AdSlotMedia({ validateId }) {\r\n\tconst { type, targetUrl, temp } = useSelector(selectNewAdSlot)\r\n\r\n\tconst { useFallback = false, tempUrl, mime } = temp\r\n\r\n\tconst { temp: errImg, targetUrl: errFallbackUrl } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewSlot('temp', {\r\n\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\tuseFallback: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateNewSlot('targetUrl', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\timgSrc={tempUrl || ''}\r\n\t\t\t\t\t\t\t\tmime={mime || ''}\r\n\t\t\t\t\t\t\t\tonChange={mediaProps =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewSlot('temp', {\r\n\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t...mediaProps,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Collapse>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotMedia\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { translate } from 'services/translations/translations'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\n\r\nexport const renderInput = inputProps => {\r\n\tconst { InputProps, classes, ref, ...other } = inputProps\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tInputProps={{\r\n\t\t\t\tinputRef: ref,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t},\r\n\t\t\t\t...InputProps,\r\n\t\t\t}}\r\n\t\t\t{...other}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const renderSuggestion = ({\r\n\tsuggestion,\r\n\tindex,\r\n\tstyle,\r\n\titemProps,\r\n\thighlightedIndex,\r\n\tselectedItem,\r\n\tshowSelected,\r\n}) => {\r\n\tconst isHighlighted = highlightedIndex === index\r\n\t// TODO: make it better\r\n\t// Note wo work with obj and array\r\n\tconst isSelected =\r\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\r\n\t\t\tsuggestion.value\r\n\t\t) > -1\r\n\r\n\tif (!showSelected && isSelected) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={style}>\r\n\t\t\t<ListItem\r\n\t\t\t\tbutton\r\n\t\t\t\t{...itemProps}\r\n\t\t\t\tkey={suggestion.value || suggestion.label}\r\n\t\t\t\tselected={isHighlighted}\r\n\t\t\t\tcomponent='div'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ListItemText primary={suggestion.label} />\r\n\t\t\t</ListItem>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst newSuggestion = inputValue => {\r\n\treturn {\r\n\t\tlabel: `${translate(\r\n\t\t\t'CREATE_TAG_LABEL'\r\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\r\n\t\tvalue: inputValue.toLowerCase().trim(),\r\n\t}\r\n}\r\n\r\nrenderSuggestion.propTypes = {\r\n\thighlightedIndex: PropTypes.number,\r\n\tindex: PropTypes.number,\r\n\titemProps: PropTypes.object,\r\n\tselectedItem: PropTypes.string,\r\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\r\n}\r\n\r\nexport const getSuggestions = (\r\n\tinputValue = '',\r\n\tsource,\r\n\tallowCreate,\r\n\tvalidateCreation\r\n) => {\r\n\tif (!inputValue) {\r\n\t\treturn source\r\n\t} else {\r\n\t\tinputValue = inputValue.toLowerCase().trim()\r\n\r\n\t\tsource = source.filter(suggestion => {\r\n\t\t\treturn (\r\n\t\t\t\t!inputValue ||\r\n\t\t\t\tsuggestion.label\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.trim()\r\n\t\t\t\t\t.indexOf(inputValue) !== -1\r\n\t\t\t)\r\n\t\t})\r\n\r\n\t\t// Making sure that an option to create a new item will exist when needed\r\n\t\tconst values = source.map(item => {\r\n\t\t\treturn item.value\r\n\t\t})\r\n\r\n\t\tif (\r\n\t\t\t!values.includes(inputValue) &&\r\n\t\t\tallowCreate &&\r\n\t\t\t(!validateCreation || validateCreation(inputValue))\r\n\t\t) {\r\n\t\t\tsource.push(newSuggestion(inputValue))\r\n\t\t}\r\n\r\n\t\treturn source\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { Autocomplete as AutocompleteMUI } from '@material-ui/lab'\r\nimport { getSuggestions } from './common'\r\n\r\nfunction Autocomplete(props) {\r\n\tconst {\r\n\t\tclasses,\r\n\t\tsource,\r\n\t\tmultiple,\r\n\t\tlabel,\r\n\t\tvariant,\r\n\t\tallowCreate,\r\n\t\tvalidateCreation,\r\n\t\terror,\r\n\t\terrorText,\r\n\t\tonInit,\r\n\t\tonChange,\r\n\t\tdefaultValue,\r\n\t} = props\r\n\tconst [inputValue, setInputValue] = useState('')\r\n\r\n\tconst suggestions = getSuggestions(\r\n\t\tinputValue,\r\n\t\tsource,\r\n\t\tallowCreate,\r\n\t\tvalidateCreation\r\n\t)\r\n\tuseEffect(() => {\r\n\t\ttypeof onInit === 'function' && onInit()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst handleChange = item => {\r\n\t\tconst selectedItem = item ? item.value || item.label : item\r\n\t\tonChange(selectedItem)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.container}>\r\n\t\t\t\t<AutocompleteMUI\r\n\t\t\t\t\tmultiple={multiple}\r\n\t\t\t\t\toptions={suggestions}\r\n\t\t\t\t\tgetOptionLabel={option => option.label}\r\n\t\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\r\n\t\t\t\t\tonInputChange={(_, newValue) => setInputValue(newValue)}\r\n\t\t\t\t\tdefaultValue={defaultValue}\r\n\t\t\t\t\trenderInput={params => {\r\n\t\t\t\t\t\tif (defaultValue) params.inputProps.value = defaultValue\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t{error && (\r\n\t\t\t\t\t<FormHelperText error id='component-error-text'>\r\n\t\t\t\t\t\t{errorText}\r\n\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(Autocomplete)\r\n","export const styles = theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 250,\r\n\t},\r\n\tcontainer: {\r\n\t\tflexGrow: 1,\r\n\t\tposition: 'relative',\r\n\t},\r\n\tpaper: {\r\n\t\tposition: 'absolute',\r\n\t\t// TODO: fix the component and do nou use z-index\r\n\t\tzIndex: 1000,\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\toverflow: 'hidden',\r\n\t\theight: 150,\r\n\t\twidth: '100%',\r\n\t},\r\n\tchip: {\r\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\r\n\t},\r\n\tinputRoot: {\r\n\t\tflexWrap: 'wrap',\r\n\t},\r\n})\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Grid, Slider, IconButton, Box } from '@material-ui/core'\r\nimport { Cancel as CancelIcon, Add as AddIcon } from '@material-ui/icons'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\n\r\nimport { t, selectTargetingSources, selectNewItemByType } from 'selectors'\r\nimport { execute, updateNewItemTargets } from 'actions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}))\r\n\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst Targets = ({\r\n\tsource = [],\r\n\tcollection,\r\n\tplaceholder,\r\n\tlabel,\r\n\tindex,\r\n\ttarget,\r\n\tclasses,\r\n\tinvalidFields,\r\n\titemType,\r\n}) => {\r\n\tconst id = `target-${index}`\r\n\treturn (\r\n\t\t<Grid container spacing={2} alignItems='center'>\r\n\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t<Autocomplete\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\topenOnClick\r\n\t\t\t\t\trequired={true}\r\n\t\t\t\t\t// error={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t// errorText={\r\n\t\t\t\t\t// \tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t// \t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t// \t\t: null\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tonChange={tag => {\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewItemTargets({\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\ttarget: { target: { ...target, tag } },\r\n\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlabel={label}\r\n\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\tsource={source}\r\n\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box flexGrow={1} p={1}>\r\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t// classes={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-label={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, score) =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewItemTargets({\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\t\ttarget: { target: { ...target, score } },\r\n\t\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewItemTargets({\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\t\ttarget,\r\n\t\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\t\tremove: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst NewItemTargeting = ({ itemType, sourcesSelector }) => {\r\n\tconst SOURCES = useSelector(sourcesSelector)\r\n\tconst SourcesSelect = useSelector(() => selectTargetingSources(SOURCES))\r\n\tconst classes = useStyles()\r\n\r\n\tconst { temp } = useSelector(state => selectNewItemByType(state, itemType))\r\n\tconst { targets = [] } = temp\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t{ source = '', collection, label, placeholder, target = {} } = {},\r\n\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t<Targets\r\n\t\t\t\t\t\t\t\tkey={`${collection}-${index}`}\r\n\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\r\n\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewItemTargets({\r\n\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\ttarget,\r\n\t\t\t\t\t\t\t\t\tcollection: target.collection,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\tIconComponent={AddIcon}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nNewItemTargeting.propTypes = {\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nexport default NewItemTargeting\r\n","import React, { Fragment } from 'react'\r\nimport { Box } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectWebsiteByWebsite, t } from 'selectors'\r\n\r\nconst getIssue = issue => {\r\n\tconst data = {\r\n\t\tlabel: issue,\r\n\t\targs: [],\r\n\t}\r\n\tswitch (issue) {\r\n\t\tcase 'SLOT_ISSUE_INTEGRATION_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012022820-How-to-implement-an-ad-slot-to-your-website',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\t\tcase 'SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\r\n\t\tdefault:\r\n\t\t\treturn data\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmessage: {\r\n\t\tdisplay: 'block',\r\n\t},\r\n}))\r\n\r\nexport function WebsiteIssues({ issues, website }) {\r\n\tconst classes = useStyles()\r\n\tconst site = useSelector(state => selectWebsiteByWebsite(state, website))\r\n\tconst defaultIssues = !website ? ['SLOT_ISSUE_NO_WEBSITE'] : []\r\n\tconst data = issues || site.issues || defaultIssues\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{data.map((x = {}, index) => {\r\n\t\t\t\tconst { label, args } = getIssue(x)\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box key={label} my={index !== 0 && index < data.length ? 1 : 0}>\r\n\t\t\t\t\t\t<Alert severity='warning' variant='outlined' classes={classes}>\r\n\t\t\t\t\t\t\t{t(label, {\r\n\t\t\t\t\t\t\t\targs: args.map((a, index) =>\r\n\t\t\t\t\t\t\t\t\ta.type === 'anchor' ? (\r\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor key={index} href={a.href}>\r\n\t\t\t\t\t\t\t\t\t\t\t{` ${t(a.label)}`}\r\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tt(a)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Typography, Grid } from '@material-ui/core'\r\nimport Img from 'components/common/img/Img'\r\nimport TargetsList from 'components/dashboard/containers/TargetsList'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { styles } from '../styles'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectAccountIdentityAddr,\r\n} from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst SlotFallback = ({ img, targetUrl }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst AdSlotPreview = () => {\r\n\tconst {\r\n\t\ttype,\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\twebsite,\r\n\t\ttemp,\r\n\t\ttags,\r\n\t\ttargetUrl,\r\n\t\tminPerImpression,\r\n\t} = useSelector(selectNewAdSlot)\r\n\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\r\n\t\t\t\t\t\t\tright={`${minPerImpression || 0} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{temp.hostname && temp.issues && temp.issues.length && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow right={<WebsiteIssues issues={temp.issues} />} />\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t{temp.useFallback ? (\r\n\t\t\t\t\t\t\t<SlotFallback img={temp} targetUrl={targetUrl} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<PropRow left={t('FALLBACK_DATA')} right={t('NO')} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\r\n\t\t\t\t\t\t\tright={<TargetsList targets={tags} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdSlotPreview\r\n","import React from 'react'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport NewItemTargeting from './NewItemTargeting'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateNewUnitBasics,\r\n\tvalidateNewCampaignFinance,\r\n\tvalidateNewCampaignAdUnits,\r\n\tvalidateNewSlotBasics,\r\n\tvalidateNewSlotPassback,\r\n\tvalidateNewUnitMedia,\r\n\tvalidateNewUnitTargeting,\r\n\tcompleteItem,\r\n\tresetNewItem,\r\n\tsaveUnit,\r\n\tsaveSlot,\r\n\topenCampaign,\r\n} from 'actions'\r\n\r\nimport { slotSources, unitSources } from 'selectors'\r\n\r\nconst AdSlotTargeting = props => (\r\n\t<NewItemTargeting\r\n\t\t{...props}\r\n\t\titemType='AdSlot'\r\n\t\tsourcesSelector={slotSources}\r\n\t/>\r\n)\r\n\r\nconst AdUnitTargeting = props => (\r\n\t<NewItemTargeting\r\n\t\t{...props}\r\n\t\titemType='AdUnit'\r\n\t\tsourcesSelector={unitSources}\r\n\t/>\r\n)\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('AdUnit'))}\r\n\t\tvalidateIdBase='new-AdUnit-'\r\n\t\titemType='AdUnit'\r\n\t\tstepsId='new-adunit-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_BASIC_STEP',\r\n\t\t\t\tcomponent: AdUnitBasic,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitBasics(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_MEDIA_STEP',\r\n\t\t\t\tcomponent: AdUnitMedia,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitMedia(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_TARGETS_STEP',\r\n\t\t\t\tcomponent: AdUnitTargeting,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitTargeting(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: AdUnitFormPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\tcompeteAction: saveUnit,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon color='primary' />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('Campaign'))}\r\n\t\tvalidateIdBase='new-Campaign-'\r\n\t\titemType='Campaign'\r\n\t\tstepsId='new-campaign-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\r\n\t\t\t\tcomponent: CampaignUnits,\r\n\t\t\t\tvalidationFn: props => execute(validateNewCampaignAdUnits(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\r\n\t\t\t\tcomponent: CampaignFinance,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignFinance({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'OPEN_CAMPAIGN',\r\n\t\t\t\tcomponent: CampaignFormPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t\t\t\tcompeteAction: openCampaign,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t/>\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('AdSlot'))}\r\n\t\tvalidateIdBase='new-AdUnit-'\r\n\t\titemType='AdSlot'\r\n\t\tstepsId='new-slot-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\r\n\t\t\t\tcomponent: AdSlotBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewSlotBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\r\n\t\t\t\tcomponent: AdSlotMedia,\r\n\t\t\t\tvalidationFn: props => execute(validateNewSlotPassback(props)),\r\n\t\t\t},\r\n\t\t\t{ title: 'SLOT_TAGS_STEP', component: AdSlotTargeting },\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: AdSlotPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t\t\t\tcompeteAction: saveSlot,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n","import React, { useEffect, useState, useCallback, Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport { commify } from 'ethers/utils'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsTableData,\r\n\tselectSide,\r\n\tselectAdUnitsStatsMaxValues,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tnoActions,\r\n\tnoClone,\r\n\tmaxImpressions,\r\n\tmaxClicks,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${Number(ctr).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR.toFixed(2)],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<Fragment key={item.id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignId,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t\titems,\r\n\t} = props\r\n\r\n\tconst { maxClicks, maxImpressions, maxCTR } = useSelector(state =>\r\n\t\tselectAdUnitsStatsMaxValues(state, { side, campaignId })\r\n\t)\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxCTR,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, campaignId, items })\r\n\t}, [side, campaignId, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignId ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectSide, selectAdSlotsTableData } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\taria-label='view'\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","import React from 'react'\r\nimport { Tab, Tabs, AppBar } from '@material-ui/core'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nexport const PublisherTabs = withStyles(theme => ({\r\n\tindicator: {\r\n\t\tbackgroundColor: theme.palette.accentTwo.contrastText,\r\n\t},\r\n}))(props => <Tabs {...props} />)\r\n\r\nexport const PublisherTab = withStyles(theme => ({\r\n\troot: {\r\n\t\tcolor: theme.palette.accentTwo.contrastText,\r\n\t\topacity: 0.69,\r\n\t\t'&:hover': {\r\n\t\t\tcolor: theme.palette.accentTwo.contrastText,\r\n\t\t\topacity: 1,\r\n\t\t},\r\n\t\t'&$selected': {\r\n\t\t\tcolor: theme.palette.accentTwo.contrastText,\r\n\t\t\topacity: 1,\r\n\t\t},\r\n\t\t'&:focus': {\r\n\t\t\tcolor: theme.palette.accentTwo.contrastText,\r\n\t\t\topacity: 1,\r\n\t\t},\r\n\t},\r\n\tselected: {},\r\n}))(props => <Tab {...props} />)\r\n\r\nexport const PublisherAppBar = withStyles(theme => ({\r\n\troot: {\r\n\t\tzIndex: theme.zIndex.appBar - 1,\r\n\t\tbackgroundColor: theme.palette.accentTwo.main,\r\n\t},\r\n}))(props => <AppBar {...props} />)\r\n\r\nexport const AdvertiserTabs = withStyles(theme => ({\r\n\tindicator: {\r\n\t\tbackgroundColor: theme.palette.accentOne.contrastText,\r\n\t},\r\n}))(props => <Tabs {...props} />)\r\n\r\nexport const AdvertiserTab = withStyles(theme => ({\r\n\troot: {\r\n\t\tcolor: theme.palette.accentOne.contrastText,\r\n\t\topacity: 0.69,\r\n\t\t'&:hover': {\r\n\t\t\tcolor: theme.palette.accentOne.contrastText,\r\n\t\t\topacity: 1,\r\n\t\t},\r\n\t\t'&$selected': {\r\n\t\t\tcolor: theme.palette.accentOne.contrastText,\r\n\t\t\topacity: 1,\r\n\t\t},\r\n\t\t'&:focus': {\r\n\t\t\tcolor: theme.palette.accentOne.contrastText,\r\n\t\t\topacity: 1,\r\n\t\t},\r\n\t},\r\n\tselected: {},\r\n}))(props => <Tab {...props} />)\r\n\r\nexport const AdvertiserAppBar = withStyles(theme => ({\r\n\troot: {\r\n\t\tzIndex: theme.zIndex.appBar - 1,\r\n\t\tbackgroundColor: theme.palette.accentOne.main,\r\n\t},\r\n}))(props => <AppBar {...props} />)\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={420}\r\n\t\t\theight={420}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas((earnings || 0).toFixed(2))} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 25,\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\thideOnMobile: {\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\thideOnDesktop: {\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCompanyData,\r\n\tselectPublisherReceiptsStatsByMonthTableData,\r\n\tselectPublisherReceiptsStatsByMonthTotalValues,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatDate,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport moment from 'moment'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function PublisherReceiptTpl({ date } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\tconst monthBreakdown = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTableData(state, date)\r\n\t)\r\n\r\n\tconst { totalPayouts, totalImpressions } = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTotalValues(state, date)\r\n\t)\r\n\tconst cpm = ((totalPayouts / totalImpressions) * 1000).toFixed(2)\r\n\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\treturn (\r\n\t\t<Box mb={5} className={classnames(classes.pageBreak)}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4'>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5'>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2'>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t//Unique receipt number made from identity address and the month of the receipt\r\n\t\t\t\t\t\t\tformatAddress(\r\n\t\t\t\t\t\t\t\t`${bigNumberify(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.unix() * 1000\r\n\t\t\t\t\t\t\t\t).toHexString()}${identityAddr.substr(5)}`,\r\n\t\t\t\t\t\t\t\t'-'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={5}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t{formatDate(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD')\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_EARNED')}</Typography>\r\n\t\t\t\t\t<Typography variant='h4'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(totalImpressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_AVG_CPM')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${isFinite(cpm) ? cpm : Number(0).toFixed(2)}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t{monthBreakdown.length > 0 ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6'>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('RECEIPT_EARNED')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_DATE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t{monthBreakdown\r\n\t\t\t\t\t\t\t\t\t.sort((a, b) => a.date - b.date)\r\n\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.payouts.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatDateTime(stats.date, 'YYYY-MM-DD')}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tmt={2}\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\t\talignContent='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography>{t('NO_REVENUE_THIS_MONTH')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nPublisherReceiptTpl.propTypes = {\r\n\tdate: PropTypes.any.isRequired,\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404_1 from 'resources/404-no.png'\r\nimport IMG_404_2 from 'resources/404-yes.png'\r\nimport Img from 'components/common/img/Img'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst G404 = ({ size }) => (\r\n\t<Grid item xs={size}>\r\n\t\t<Typography variant={`h${6 - size}`} style={{ textTransform: 'uppercase' }}>\r\n\t\t\t{t('404')}\r\n\t\t</Typography>\r\n\t</Grid>\r\n)\r\n\r\nclass PageNotFound extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\ttitle,\r\n\t\t\tsubtitle,\r\n\t\t\tgoToTxt,\r\n\t\t\tgoToPath,\r\n\t\t\tskipGoToButton,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\r\n\t\t\t\t\t\t\t{t(title || '404')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<G404 size={3} />\r\n\t\t\t\t\t<G404 size={4} />\r\n\t\t\t\t\t<G404 size={2} />\r\n\t\t\t\t\t<G404 size={1} />\r\n\t\t\t\t\t<G404 size={5} />\r\n\t\t\t\t\t<G404 size={3} />\r\n\t\t\t\t\t<G404 size={2} />\r\n\r\n\t\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(PageNotFound))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { formatUnits, commify } from 'ethers/utils'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function CampaignReceiptTpl({ campaignId } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = (campaign.status || {}).humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!campaign.spec || !campaign.creator) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\targs: ['CAMPAIGN', campaignId],\r\n\t\t\t\t})}\r\n\t\t\t\tgoToPath={`/dashboard/advertiser`}\r\n\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box mb={5} className={classnames(classes.pageBreak)}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4'>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5'>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2'>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={5}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_PAID')}</Typography>\r\n\t\t\t\t\t<Typography variant='h4'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${\r\n\t\t\t\t\t\t\tcampaign.status.fundsDistributedRatio && campaign.depositAmount\r\n\t\t\t\t\t\t\t\t? commify(\r\n\t\t\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\t\t\tformatUnits(campaign.depositAmount || '\t0', decimals)\r\n\t\t\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: Number(0).toFixed(2)\r\n\t\t\t\t\t\t} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6'>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE_EARNINGS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classnames(classes.breakAll)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>{stats.website}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nCampaignReceiptTpl.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Card, Typography, TextField } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={3} mt={3}>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Typography variant='h4'>{'Company Details'}</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Card>\r\n\t\t\t\t<Box p={3}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</Box>\r\n\t\t\t</Card>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Card, Button, Typography, Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport classnames from 'classnames'\r\nimport { Print, Visibility, CalendarToday, GetApp } from '@material-ui/icons'\r\nimport { PublisherReceiptTpl } from './PublisherReceiptTpl'\r\nimport { CampaignReceiptTpl } from './CampaignReceiptTpl'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tt,\r\n\tselectSelectedCampaigns,\r\n\tselectSide,\r\n\tselectSpinnerById,\r\n\tselectAccountIdentityDeployData,\r\n\tselectReceiptMonths,\r\n} from 'selectors'\r\nimport { execute, resetSelectedItems, getReceiptData } from 'actions'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst side = useSelector(selectSide)\r\n\t// Advertiser Receipt variables\r\n\tconst { itemId } = useParams()\r\n\tconst selectedCampaigns = useSelector(state => selectSelectedCampaigns(state))\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receiptsAdvertiser = selectedByPropsOrParams\r\n\t\t? [selectedByPropsOrParams]\r\n\t\t: selectedCampaigns\r\n\r\n\t// Publisher Receipt variables\r\n\tconst { created } = useSelector(state =>\r\n\t\tselectAccountIdentityDeployData(state)\r\n\t)\r\n\tconst [startDate, setStartDate] = useState('')\r\n\tconst [endDate, setEndDate] = useState('')\r\n\tconst [dirty, setDirty] = useState(false)\r\n\tconst dates = useSelector(() => selectReceiptMonths(startDate, endDate))\r\n\tconst validateStartDate =\r\n\t\tstartDate <= endDate && startDate !== '' && endDate !== ''\r\n\tconst validateEndDate =\r\n\t\tendDate >= startDate && startDate !== '' && endDate !== ''\r\n\tconst startDateError = !validateStartDate && dirty\r\n\tconst endDateError = !validateEndDate && dirty\r\n\tconst monthMappingStartPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), false)\r\n\t)\r\n\tconst monthMappingEndPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), true)\r\n\t)\r\n\r\n\tconst fetchingPublisherReceiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, FETCHING_PUBLISHER_RECEIPTS)\r\n\t)\r\n\r\n\t// Receipts\r\n\tconst [receipts, setReceipts] = useState(receiptsAdvertiser || [])\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\texecute(resetSelectedItems())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst getReceipts = () => {\r\n\t\tsetDirty(true)\r\n\t\tif (validateStartDate && validateEndDate) {\r\n\t\t\texecute(getReceiptData(startDate, endDate))\r\n\t\t\tsetReceipts(dates.map(item => item.value))\r\n\t\t}\r\n\t}\r\n\r\n\tif (side === 'advertiser' && receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\tside === 'publisher' &&\r\n\t\t\t\t\t\t\t\t\t\t(receipts.length === 0 || fetchingPublisherReceiptsSpinner)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={3}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box mr={2} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingStartPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetStartDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={startDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tstartDateError && startDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('START_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_START_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={startDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('START_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='startDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='start-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={CalendarToday}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box mr={2} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingEndPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetEndDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={endDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tendDateError && endDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('END_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_END_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={endDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('END_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='endDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='end-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={CalendarToday}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstartIcon={<GetApp />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={() => getReceipts()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GET_RECEIPTS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{fetchingPublisherReceiptsSpinner && (\r\n\t\t\t\t\t\t\t<LinearProgress className={classes.progress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnDesktop)}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={5}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Visibility />\r\n\t\t\t\t\t\t\t<Typography variant='overline' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_PREVIEW_ONLY_DESKTOP')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnMobile)}>\r\n\t\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t\t<Box ref={invoice} className={classnames(classes.a4)}>\r\n\t\t\t\t\t\t\t\t{receipts.map(item =>\r\n\t\t\t\t\t\t\t\t\tside === 'advertiser' ? (\r\n\t\t\t\t\t\t\t\t\t\t<CampaignReceiptTpl campaignId={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tfetchingPublisherReceiptsSpinner === false && (\r\n\t\t\t\t\t\t\t\t\t\t\t<PublisherReceiptTpl date={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Card>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { Receipt }\r\n","import React from 'react'\r\nimport { commify } from 'ethers/utils'\r\nimport PropTypes from 'prop-types'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { Box } from '@material-ui/core'\r\nimport { t, selectMainToken } from 'selectors'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst getCols = ({ showEarnings, symbol }) => [\r\n\t{\r\n\t\tname: 'countryName',\r\n\t\tlabel: t('PROP_COUNTRY'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'percentImpressions',\r\n\t\tlabel: t('LABEL_PERC'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: percentImpressions =>\r\n\t\t\t\t`${percentImpressions.toFixed(2)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t...(showEarnings\r\n\t\t? [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'earnings',\r\n\t\t\t\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tfilter: false,\r\n\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t\t\t\t`${commify(earnings.toFixed(2))} ${symbol}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t  ]\r\n\t\t: []),\r\n]\r\n\r\nconst getOptions = ({ reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\trowsPerPage: 10,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n})\r\n\r\nfunction StatsByCountryTable(props) {\r\n\tconst { selector, selected = [], showEarnings } = props\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t\tshowEarnings,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ selected, reloadData })\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<MUIDataTableEnhanced\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tnoSearch\r\n\t\t\t\tnoPrint\r\n\t\t\t\tnoViewColumns\r\n\t\t\t\t{...props}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nStatsByCountryTable.propTypes = {\r\n\tselector: PropTypes.func.isRequired,\r\n\tshowEarnings: PropTypes.bool,\r\n}\r\n\r\nexport default StatsByCountryTable\r\n","import React, { memo, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tZoomableGroup,\r\n\tComposableMap,\r\n\tGeographies,\r\n\tGeography,\r\n} from 'react-simple-maps'\r\nimport { Paper } from '@material-ui/core'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { ALEX_GREY } from 'components/App/themeMUi'\r\n\r\nconst MapChart = ({ selector }) => {\r\n\tconst { chartData, hoverColor, pressedColor } = useSelector(selector)\r\n\r\n\tconst [content, setContent] = useState('')\r\n\r\n\treturn (\r\n\t\t<Paper elevation={2} square>\r\n\t\t\t<ComposableMap\r\n\t\t\t\tdata-tip='chart-map'\r\n\t\t\t\tprojection='geoMercator'\r\n\t\t\t\tprojectionConfig={{\r\n\t\t\t\t\tscale: 100,\r\n\t\t\t\t}}\r\n\t\t\t\twidth={666}\r\n\t\t\t\theight={420}\r\n\t\t\t>\r\n\t\t\t\t<ZoomableGroup maxZoom={3}>\r\n\t\t\t\t\t<Geographies geography={chartData}>\r\n\t\t\t\t\t\t{({ geographies = [] }) => {\r\n\t\t\t\t\t\t\treturn geographies.map(geo => {\r\n\t\t\t\t\t\t\t\tconst { tooltipElements, fillColor } = geo.properties\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Geography\r\n\t\t\t\t\t\t\t\t\t\tkey={geo.rsmKey}\r\n\t\t\t\t\t\t\t\t\t\tgeography={geo}\r\n\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent(tooltipElements)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent('')\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tfill={fillColor}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tstroke: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\thover: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill: hoverColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tpressed: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill: pressedColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t</Geographies>\r\n\t\t\t\t</ZoomableGroup>\r\n\t\t\t</ComposableMap>\r\n\t\t\t{/* TODO: use material-ui tooltip ot popover */}\r\n\t\t\t<ReactTooltip border={false} backgroundColor={ALEX_GREY}>\r\n\t\t\t\t{Array.isArray(content)\r\n\t\t\t\t\t? content.map((x, i) => <div key={i}>{x}</div>)\r\n\t\t\t\t\t: content}\r\n\t\t\t</ReactTooltip>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default MapChart\r\n","import React, { Fragment } from 'react'\r\nimport { Paper, Grid, Box, InputAdornment, Button } from '@material-ui/core'\r\n\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport {\r\n\tDirtyProps,\r\n\tItemTitle,\r\n\tMediaCard,\r\n\tItemSpecProp,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { t, selectMainToken } from 'selectors'\r\nimport { execute, closeCampaign } from 'actions'\r\n\r\nexport const CampaignBasic = ({ item, ...hookProps }) => {\r\n\tconst { title, adUnits = [], humanFriendlyName } = item\r\n\tconst { decimals, symbol } = selectMainToken()\r\n\tconst { title: errTitle } = hookProps.validations\r\n\r\n\tconst { mediaUrl, mediaMime } = adUnits[0] || {}\r\n\tconst status = item.status || {}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<DirtyProps {...hookProps} />\r\n\t\t\t<Paper elevation={2}>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t<MediaCard mediaUrl={mediaUrl} mediaMime={mediaMime} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t{['Ready', 'Active', 'Withdraw', 'Unhealthy'].includes(\r\n\t\t\t\t\t\t\t\tstatus.name\r\n\t\t\t\t\t\t\t) && (\r\n\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\texecute(closeCampaign({ campaign: item }))\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={humanFriendlyName === 'Closed'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\tprop={'id'}\r\n\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'created'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'activeFrom'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'CAMPAIGN_MIN_TARGETING'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0 ? t('YES') : t('NO')}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'humanFriendlyName'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'fundsDistributedRatio'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={((status.fundsDistributedRatio || 0) / 10).toFixed(\r\n\t\t\t\t\t\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'depositAmount'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'CPM'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression || 0).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { useState, Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tPaper,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { Campaign as CampaignModel } from 'adex-models'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tAdvertiserTab,\r\n\tAdvertiserTabs,\r\n\tAdvertiserAppBar,\r\n} from 'components/styled'\r\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\r\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\r\nimport { Receipt } from 'components/dashboard/containers/Receipt'\r\nimport {\r\n\tselectCampaignAnalyticsToCountryTableData,\r\n\tselectCampaignAnalyticsToCountryMapChartData,\r\n\tt,\r\n} from 'selectors'\r\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\r\nimport MapChart from 'components/dashboard/charts/map/MapChart'\r\nimport { CampaignBasic } from './CampaignBasic'\r\nimport { validateAndUpdateCampaign } from 'actions'\r\nimport { useItem, SaveBtn } from 'components/dashboard/containers/ItemCommon/'\r\n\r\nfunction Campaign({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'Campaign',\r\n\t\tmatch,\r\n\t\tobjModel: CampaignModel,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateCampaign,\r\n\t})\r\n\r\n\tconst campaign = new CampaignModel(item)\r\n\tconst { humanFriendlyName } = campaign.status || {}\r\n\tconst leader = campaign.spec.validators[0]\r\n\tconst follower = campaign.spec.validators[1]\r\n\tconst campaignId = campaign.id\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<SaveBtn {...hookProps} />\r\n\t\t\t<AdvertiserAppBar position='static'>\r\n\t\t\t\t<AdvertiserTabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t>\r\n\t\t\t\t\t<AdvertiserTab label={t('CAMPAIGN_MAIN')} />\r\n\t\t\t\t\t<AdvertiserTab label={t('STATISTICS')} />\r\n\t\t\t\t\t<AdvertiserTab label={t('COUNTRY_STATS')} />\r\n\t\t\t\t\t<AdvertiserTab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t<AdvertiserTab label={t('VALIDATORS')} />\r\n\t\t\t\t\t{['Closed', 'Completed'].includes(humanFriendlyName) && (\r\n\t\t\t\t\t\t<AdvertiserTab label={t('RECEIPT')} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</AdvertiserTabs>\r\n\t\t\t</AdvertiserAppBar>\r\n\t\t\t<Box my={2}>\r\n\t\t\t\t{tabIndex === 0 && <CampaignBasic item={item} {...hookProps} />}\r\n\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\tflexGrow='1'\r\n\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box flexGrow='1' order={{ xs: 2, md: 2, lg: 1 }}>\r\n\t\t\t\t\t\t\t<CampaignStatsBreakdownTable campaignId={campaignId} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box p={2} order={{ xs: 1, md: 1, lg: 2 }}>\r\n\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={campaignId} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t<Grid container spacing={2} alignItems='flex-start'>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\r\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: ['30', 'DAYS'] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<MapChart\r\n\t\t\t\t\t\t\t\tselector={state =>\r\n\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryMapChartData(state, {\r\n\t\t\t\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<StatsByCountryTable\r\n\t\t\t\t\t\t\t\tselector={state =>\r\n\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryTableData(state, {\r\n\t\t\t\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tshowEarnings\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 3 && <AdUnitsTable campaignId={campaignId} noClone />}\r\n\t\t\t\t{tabIndex === 4 && (\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/status`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/status`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 5 && <Receipt itemId={campaignId} />}\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Campaign\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Line, Chart } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport { pink } from '@material-ui/core/colors'\r\nimport { Box, Typography } from '@material-ui/core'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectMainToken, selectAnalyticsNowLabel } from 'selectors'\r\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\r\nimport * as ChartAnnotation from 'chartjs-plugin-annotation'\r\nimport { t } from 'selectors'\r\n\r\nconst commonDsProps = {\r\n\tfill: false,\r\n\tlineTension: 0,\r\n\tborderWidth: 3,\r\n\tpointRadius: 3,\r\n\tpointHitRadius: 13,\r\n}\r\n\r\nconst DEFAULT_FONT_SIZE = 16.9\r\nconst FONT = 'Roboto'\r\nconst DASH_SIZE = 4.2\r\nconst DASH_WIDTH = 3\r\n\r\nexport const SimpleStatistics = ({\r\n\tdata1,\r\n\tdata2,\r\n\tdata3,\r\n\tdata4,\r\n\tdataSynced,\r\n\tdefaultLabels = [],\r\n\toptions = {},\r\n\txLabel = 'TIMEFRAME',\r\n\ty1Label = 'DATA1',\r\n\ty2Label = 'DATA2',\r\n\ty3Label = 'DATA3',\r\n\ty4Label = 'DATA4',\r\n\ty1Color = CHARTS_COLORS[1],\r\n\ty2Color = CHARTS_COLORS[2],\r\n\ty3Color = CHARTS_COLORS[3],\r\n\ty4Color = CHARTS_COLORS[4],\r\n}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst nowLabel = useSelector(selectAnalyticsNowLabel)\r\n\t// Vertical line / crosshair\r\n\tuseEffect(() => {\r\n\t\tChart.pluginService.register({\r\n\t\t\tbeforeDraw: function(chart) {\r\n\t\t\t\tconst ctx = chart.ctx\r\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\r\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\r\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\r\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\r\n\t\t\t\t\tif (chartScalesy1) {\r\n\t\t\t\t\t\tconst topY = chartScalesy1.top\r\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\r\n\t\t\t\t\t\tctx.save()\r\n\t\t\t\t\t\tctx.beginPath()\r\n\t\t\t\t\t\tctx.moveTo(x, topY)\r\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\r\n\t\t\t\t\t\tctx.lineWidth = DASH_WIDTH\r\n\t\t\t\t\t\tctx.setLineDash([DASH_SIZE, DASH_SIZE])\r\n\t\t\t\t\t\tctx.strokeStyle = '#AAA' // color of the vertical line\r\n\t\t\t\t\t\tctx.stroke()\r\n\t\t\t\t\t\tctx.restore()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t})\r\n\r\n\tconst chartData = {\r\n\t\tlabels: dataSynced ? data1.labels : defaultLabels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tlabel: y1Label,\r\n\t\t\t\tdata: dataSynced ? data1.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tlabel: y2Label,\r\n\t\t\t\tdata: dataSynced ? data2.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-2',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tlabel: y3Label,\r\n\t\t\t\tdata: dataSynced ? data3.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-3',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tpointBackgroundColor: y4Color,\r\n\t\t\t\tlabel: y4Label,\r\n\t\t\t\tdata: dataSynced ? data4.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-4',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\r\n\tconst linesOptions = {\r\n\t\tanimation: false,\r\n\t\tresponsive: true,\r\n\t\tannotation: {\r\n\t\t\tannotations: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\tmode: 'vertical',\r\n\t\t\t\t\tscaleID: 'x-axis-0',\r\n\r\n\t\t\t\t\tvalue: nowLabel,\r\n\t\t\t\t\tborderColor: pink[700],\r\n\t\t\t\t\tborderWidth: DASH_WIDTH,\r\n\t\t\t\t\tborderDash: [DASH_SIZE, DASH_SIZE],\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tcontent: t('NOW'),\r\n\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t\tposition: 'top',\r\n\t\t\t\t\t\tcornerRadius: 0,\r\n\t\t\t\t\t\tbackgroundColor: pink[700],\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\t// This and fixed height are used for proper mobile display of the chart\r\n\t\tmaintainAspectRatio: false,\r\n\t\ttitle: {\r\n\t\t\tdisplay: false,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\tlegend: {\r\n\t\t\tposition: 'top',\r\n\t\t\tfullWidth: true,\r\n\t\t\tlabels: {\r\n\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\tfontFamily: FONT,\r\n\t\t\t\tboxWidth: 69,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t\ttitleFontSize: DEFAULT_FONT_SIZE,\r\n\t\t\tbodyFontSize: DEFAULT_FONT_SIZE,\r\n\t\t\tbodyFontFamily: FONT,\r\n\t\t\ttitleFontFamily: FONT,\r\n\t\t\txPadding: 8,\r\n\t\t\tyPadding: 8,\r\n\t\t\tcornerRadius: 0,\r\n\t\t\tbodySpacing: 4,\r\n\t\t\tcaretSize: 8,\r\n\t\t\tdisplayColors: true,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function(t, d) {\r\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\r\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\r\n\t\t\t\t\tvar yLabel =\r\n\t\t\t\t\t\txLabel === y1Label\r\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\r\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\r\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\thover: {\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tdrawBorder: true,\r\n\t\t\t\t\t\tdrawTicks: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tautoSkip: true,\r\n\t\t\t\t\t\tmaxTicksLimit: 2,\r\n\t\t\t\t\t\tmaxRotation: 0,\r\n\t\t\t\t\t\tpadding: -24,\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t\tcallback: () => '',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t// NOTE: this one is just to show constant size grid lines\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tdrawBorder: false,\r\n\t\t\t\t\t\tdrawTicks: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tmaxTicksLimit: 11,\r\n\t\t\t\t\t\tstepSize: 1,\r\n\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\tmax: 10,\r\n\t\t\t\t\t\tcallback: () => '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tid: 'y-axis-dummy-grid-lines',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-2',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-3',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-4',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Line\r\n\t\t\t\t\theight={420}\r\n\t\t\t\t\tdata={chartData}\r\n\t\t\t\t\toptions={linesOptions}\r\n\t\t\t\t\tplugins={[ChartAnnotation]}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tpx={1}\r\n\t\t\t>\r\n\t\t\t\t<Typography component='div' align='left'>\r\n\t\t\t\t\t{defaultLabels[0]}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component='div' align='center'>\r\n\t\t\t\t\t{t(xLabel || 'TIMEFRAME')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component='div' align='right'>\r\n\t\t\t\t\t{defaultLabels[1]}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport classnames from 'classnames'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport { ArrowTooltip } from 'components/common/tooltips'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tposition: 'relative',\r\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\r\n\t\t\tcolor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\r\n\t\t\t\ttheme.palette.text.primary,\r\n\t\t},\r\n\t\tcardContent: {\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingBottom: 16, // Hard coded as component implementation\r\n\t\t\t},\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\tbottom: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst StatsCard = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tsubtitle,\r\n\t\tlinkCard,\r\n\t\tchildren,\r\n\t\tonClick,\r\n\t\tbgColor,\r\n\t\tloading,\r\n\t\texplain,\r\n\t} = props\r\n\r\n\tconst classes = useStyles({ bgColor })\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\tvariant='outlined'\r\n\t\t\televation={0}\r\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<CardContent classes={{ root: classes.cardContent }}>\r\n\t\t\t\t{title && (\r\n\t\t\t\t\t<Typography variant='h6' noWrap>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t\t{subtitle &&\r\n\t\t\t\t\t(explain ? (\r\n\t\t\t\t\t\t<ArrowTooltip\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t<Typography component='div' variant='caption'>\r\n\t\t\t\t\t\t\t\t\t{explain}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography component='div' noWrap>\r\n\t\t\t\t\t\t\t\t{subtitle} <InfoIcon style={{ fontSize: 12 }}></InfoIcon>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</ArrowTooltip>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Typography component='div' noWrap>\r\n\t\t\t\t\t\t\t{subtitle}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t))}\r\n\t\t\t\t{children}\r\n\t\t\t</CardContent>\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default StatsCard\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdayWrapper: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tday: {\r\n\t\t\twidth: 36,\r\n\t\t\theight: 36,\r\n\t\t\tfontSize: theme.typography.caption.fontSize,\r\n\t\t\tmargin: '0 2px',\r\n\t\t\tcolor: 'inherit',\r\n\t\t},\r\n\t\tcustomDayHighlight: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: '2px',\r\n\t\t\tright: '2px',\r\n\t\t\tborder: `1px solid ${theme.palette.secondary.main}`,\r\n\t\t\tborderRadius: '50%',\r\n\t\t},\r\n\t\tnonCurrentMonthDay: {\r\n\t\t\tcolor: theme.palette.text.disabled,\r\n\t\t},\r\n\t\thighlightNonCurrentMonthDay: {\r\n\t\t\tcolor: '#676767',\r\n\t\t},\r\n\t\thighlight: {\r\n\t\t\tbackground: theme.palette.primary.main,\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tfirstHighlight: {\r\n\t\t\textend: 'highlight',\r\n\t\t\tborderTopLeftRadius: '50%',\r\n\t\t\tborderBottomLeftRadius: '50%',\r\n\t\t},\r\n\t\tendHighlight: {\r\n\t\t\textend: 'highlight',\r\n\t\t\tborderTopRightRadius: '50%',\r\n\t\t\tborderBottomRightRadius: '50%',\r\n\t\t},\r\n\t\tdayDisabled: {\r\n\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\r\n\t\t\tpointerEvents: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport { DatePicker as MuiDatePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {\r\n\tDateRange,\r\n\tNavigateNextRounded,\r\n\tNavigateBeforeRounded,\r\n\tUpdate,\r\n} from '@material-ui/icons'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport utils, { makeJSDateObject } from 'helpers/dateUtils'\r\nimport clsx from 'clsx'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <DateRange />,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonNextClick,\r\n\tonLiveClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t\t{onLiveClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\r\n\t\t\t\t<Update />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t\t{onNextClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\r\n\t\t\t\t<NavigateNextRounded />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DatePicker extends Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tcalendarIcon,\r\n\t\t\ticon,\r\n\t\t\ticonColor,\r\n\t\t\tonIconClick,\r\n\t\t\tonNextClick,\r\n\t\t\tonLiveClick,\r\n\t\t\tonBackClick,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDatePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t\tonNextClick={onNextClick}\r\n\t\t\t\t\t\t\tonLiveClick={onLiveClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t\tstartAdornment: onBackClick ? (\r\n\t\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\r\n\t\t\t\t\t\t\t\t<NavigateBeforeRounded />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DatePicker\r\n\r\nconst datePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DatePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DatePickerContrast = withStyles(styles)(datePickerStyled)\r\n\r\nfunction WeekSelectDatePicker({ classes, ...rest }) {\r\n\tconst formatWeekSelectLabel = (date, invalidLabel) => {\r\n\t\tlet dateClone = makeJSDateObject(date)\r\n\r\n\t\treturn dateClone && utils.isValid(dateClone)\r\n\t\t\t? `${utils.format(dateClone, 'MMM DD \"YY')} - ${utils.format(\r\n\t\t\t\t\tutils.addDays(dateClone, 6),\r\n\t\t\t\t\t'MMM DD \"YY'\r\n\t\t\t  )}`\r\n\t\t\t: invalidLabel\r\n\t}\r\n\r\n\tconst dayIsFuture = date => utils.isAfter(date, utils.date())\r\n\r\n\tconst renderWrappedWeekDay = (date, selectedDate, dayInCurrentMonth) => {\r\n\t\tlet dateClone = makeJSDateObject(date)\r\n\t\tlet selectedDateClone = makeJSDateObject(selectedDate)\r\n\r\n\t\tconst start = utils.startOfWeek(selectedDateClone)\r\n\t\tconst end = utils.endOfWeek(selectedDateClone)\r\n\r\n\t\tconst dayIsBetween = utils.isWithinInterval(dateClone, { start, end })\r\n\t\tconst isFirstDay = utils.isSameDay(dateClone, start)\r\n\t\tconst isLastDay = utils.isSameDay(dateClone, end)\r\n\r\n\t\tconst wrapperClassName = clsx({\r\n\t\t\t[classes.highlight]: dayIsBetween,\r\n\t\t\t[classes.firstHighlight]: isFirstDay,\r\n\t\t\t[classes.endHighlight]: isLastDay,\r\n\t\t})\r\n\r\n\t\tconst dayClassName = clsx(classes.day, {\r\n\t\t\t[classes.nonCurrentMonthDay]: !dayInCurrentMonth,\r\n\t\t\t[classes.highlightNonCurrentMonthDay]: !dayInCurrentMonth && dayIsBetween,\r\n\t\t\t[classes.dayDisabled]: dayIsFuture(dateClone),\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t<div className={wrapperClassName}>\r\n\t\t\t\t<IconButton className={dayClassName}>\r\n\t\t\t\t\t<span> {utils.format(dateClone, 'D')} </span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<DatePicker\r\n\t\t\tlabel='Week Picker'\r\n\t\t\trenderDay={renderWrappedWeekDay}\r\n\t\t\tlabelFunc={formatWeekSelectLabel}\r\n\t\t\tshouldDisableDate={date => dayIsFuture(date)}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const WeeklyDatePicker = withStyles(styles)(WeekSelectDatePicker)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t\tcardIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: '-33px',\r\n\t\t\tright: '-33px',\r\n\t\t\tfontSize: '120px',\r\n\t\t\topacity: '0.13',\r\n\t\t\ttransform: 'rotate(-45deg)',\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useKeyPress(targetKey) {\r\n\tconst [keyPressed, setKeyPressed] = useState(false)\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst downHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(true)\r\n\t\t}\r\n\t}\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst upHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('keydown', downHandler)\r\n\t\twindow.addEventListener('keyup', upHandler)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', downHandler)\r\n\t\t\twindow.removeEventListener('keyup', upHandler)\r\n\t\t}\r\n\t}, [downHandler, upHandler])\r\n\r\n\treturn keyPressed\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tVisibility,\r\n\tMonetizationOn,\r\n\tMouse,\r\n\tEqualizer,\r\n} from '@material-ui/icons'\r\nimport { Box } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\r\nimport StatsCard from './StatsCard'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { WeeklyDatePicker, DatePicker } from 'components/common/DatePicker'\r\nimport Anchor from 'components/common/anchor/anchor'\r\n\r\nimport {\r\n\tPRIMARY,\r\n\tSECONDARY,\r\n\tACCENT_ONE,\r\n\tACCENT_TWO,\r\n\tALEX_GREY,\r\n} from 'components/App/themeMUi'\r\nimport { styles } from './styles'\r\nimport { formatNumberWithCommas, formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\texecute,\r\n\tupdateIdSideAnalyticsChartTimeframe,\r\n\tupdateIdSideAnalyticsChartPeriod,\r\n\tupdateAnalyticsPeriodPrevNextLive,\r\n\tupdateAccountAnalyticsThrottled,\r\n\tupdateMissingRevenueDataPointAccepted,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectTotalImpressions,\r\n\tselectTotalMoney,\r\n\tselectAverageCPM,\r\n\tselectMainToken,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectTotalClicks,\r\n\tselectChartDatapointsCPM,\r\n\tselectChartDatapointsImpressions,\r\n\tselectChartDatapointsClicks,\r\n\tselectChartDatapointsPayouts,\r\n\tselectSide,\r\n\tselectAuth,\r\n\tselectInitialDataLoaded,\r\n\tselectMissingRevenueDataPointsAccepted,\r\n} from 'selectors'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { useKeyPress } from 'hooks/useKeyPress'\r\nimport { analyticsLoopCustom } from 'services/store-data/analytics'\r\n\r\nconst min = 60 * 1000\r\n\r\nconst timeoutMap = {\r\n\thour: min,\r\n\tday: 10 * min,\r\n\tweek: 30 * min,\r\n}\r\n\r\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\r\n\tconst translated = { ...tf }\r\n\ttranslated.label = t(tf.label)\r\n\treturn translated\r\n})\r\n\r\nconst metrics = {\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_REVENUE'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_TWO,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: SECONDARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY,\r\n\t\t},\r\n\t],\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_SPEND'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_ONE,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: SECONDARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY,\r\n\t\t},\r\n\t],\r\n}\r\n\r\nconst getDefaultLabels = ({ start, end }) => [\r\n\tformatDateTime(start),\r\n\tformatDateTime(end),\r\n]\r\n\r\nconst DatePickerSwitch = ({ timeframe, ...rest }) => {\r\n\tswitch (timeframe) {\r\n\t\tcase 'week':\r\n\t\t\treturn <WeeklyDatePicker {...rest} />\r\n\t\tcase 'day':\r\n\t\t\treturn (\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\tlabelFunc={val => dateUtils.format(dateUtils.date(val), 'MMM DD \"YY')}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'hour':\r\n\t\t\treturn (\r\n\t\t\t\t<DateTimePicker\r\n\t\t\t\t\tviews={['date', 'hours']}\r\n\t\t\t\t\troundHour\r\n\t\t\t\t\tminutesStep={60}\r\n\t\t\t\t\tlabelFunc={val =>\r\n\t\t\t\t\t\t`${dateUtils.format(\r\n\t\t\t\t\t\t\tdateUtils.date(val),\r\n\t\t\t\t\t\t\t'MMM DD \"YY - (HH:mm'\r\n\t\t\t\t\t\t)} - ${dateUtils.format(\r\n\t\t\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(val), 59),\r\n\t\t\t\t\t\t\t'HH:mm)'\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tdefault:\r\n\t\t\treturn <DatePicker {...rest} />\r\n\t}\r\n}\r\n\r\nconst ImpressionsAlert = ({ impressions = 0 }) => (\r\n\t<Alert\r\n\t\tvariant='outlined'\r\n\t\tseverity='info'\r\n\t\tonClose={() => {\r\n\t\t\texecute(updateMissingRevenueDataPointAccepted(true))\r\n\t\t}}\r\n\t>\r\n\t\t<div>\r\n\t\t\t{t('IMPRESSIONS_AND_REVINUE_INFO', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\timpressions,\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tkey='publisher-revenue-notice'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tunderline='always'\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012130399-Why-are-there-impressions-but-no-revenue-'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{<strong>{t('LEARN_MORE')}</strong>}\r\n\t\t\t\t\t</Anchor>,\r\n\t\t\t\t],\r\n\t\t\t})}\r\n\t\t</div>\r\n\t</Alert>\r\n)\r\n\r\nexport function BasicStats() {\r\n\tconst useStyles = makeStyles(styles)\r\n\tconst classes = useStyles()\r\n\tconst SPACE = useKeyPress(' ')\r\n\tconst ARROW_LEFT = useKeyPress('ArrowLeft')\r\n\tconst ARROW_RIGHT = useKeyPress('ArrowRight')\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst isAuth = useSelector(state => selectAuth(state))\r\n\tconst { start, end } = useSelector(selectIdentitySideAnalyticsPeriod)\r\n\tconst timeframe = useSelector(selectIdentitySideAnalyticsTimeframe)\r\n\tconst side = useSelector(selectSide)\r\n\tconst [loop, setLoop] = useState()\r\n\tconst initialDataLoaded = useSelector(selectInitialDataLoaded)\r\n\tconst missingRevenuePointsAccepted = useSelector(\r\n\t\tselectMissingRevenueDataPointsAccepted\r\n\t)\r\n\r\n\tconst defaultLabels = getDefaultLabels({ start, end })\r\n\r\n\tconst totalImpressions = useSelector(state =>\r\n\t\tselectTotalImpressions(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalClicks = useSelector(state =>\r\n\t\tselectTotalClicks(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalMoney = useSelector(state =>\r\n\t\tselectTotalMoney(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst averageCPM = useSelector(state =>\r\n\t\tselectAverageCPM(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst payouts = useSelector(state =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst impressions = useSelector(state =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst clicks = useSelector(state =>\r\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst cpm = useSelector(state =>\r\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst goNext = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: true }))\r\n\t}\r\n\r\n\tconst goPrev = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: false }))\r\n\t}\r\n\r\n\tconst goLive = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ live: true }))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tSPACE && goLive()\r\n\t\tARROW_RIGHT && goNext()\r\n\t\tARROW_LEFT && goPrev()\r\n\t}, [ARROW_LEFT, ARROW_RIGHT, SPACE])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialDataLoaded && side && timeframe && start) {\r\n\t\t\texecute(updateAccountAnalyticsThrottled())\r\n\t\t}\r\n\t}, [initialDataLoaded, side, timeframe, start])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialDataLoaded && side) {\r\n\t\t\tgoLive()\r\n\t\t}\r\n\t}, [initialDataLoaded, side])\r\n\r\n\tuseEffect(() => {\r\n\t\tloop && loop.startLoop()\r\n\t\treturn () => {\r\n\t\t\tloop && loop.stop()\r\n\t\t}\r\n\t}, [loop])\r\n\r\n\tuseEffect(() => {\r\n\t\tloop && loop.stop()\r\n\t\tsetLoop(\r\n\t\t\tanalyticsLoopCustom({\r\n\t\t\t\ttimeout: timeoutMap[timeframe],\r\n\t\t\t\tsyncAction: async () => {\r\n\t\t\t\t\tsetTimeout(\r\n\t\t\t\t\t\tasync () =>\r\n\t\t\t\t\t\t\tisAuth && (await execute(updateAccountAnalyticsThrottled())),\r\n\t\t\t\t\t\ttimeoutMap[timeframe] -\r\n\t\t\t\t\t\t\t(Date.now() % timeoutMap[timeframe]) +\r\n\t\t\t\t\t\t\t5 * 1000\r\n\t\t\t\t\t)\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [timeframe, isAuth])\r\n\r\n\tconst dataSynced =\r\n\t\t!!initialDataLoaded &&\r\n\t\t[\r\n\t\t\timpressions.labels[impressions.labels.length - 1],\r\n\t\t\tpayouts.labels[payouts.labels.length - 1],\r\n\t\t].every(x => !!x && x === clicks.labels[clicks.labels.length - 1]) &&\r\n\t\t[totalImpressions, totalMoney, averageCPM, totalClicks].every(\r\n\t\t\tx => x !== null\r\n\t\t)\r\n\r\n\tconst showRevenueInfo =\r\n\t\t!missingRevenuePointsAccepted &&\r\n\t\tside === 'publisher' &&\r\n\t\tdataSynced &&\r\n\t\t!!totalImpressions\r\n\treturn (\r\n\t\tside && (\r\n\t\t\t<Box>\r\n\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap' m={1}>\r\n\t\t\t\t\t<StatsCard>\r\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t\t\t\t\t<Box m={1} flexGrow='1'>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\r\n\t\t\t\t\t\t\t\t\t// helperText={t(timeHints[timeframe])}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\t//TODO: fix change of timeframe, set default period as well\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartTimeframe(val))\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tsource={timeFrames}\r\n\t\t\t\t\t\t\t\t\tvalue={timeframe}\r\n\t\t\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} flexGrow='1'>\r\n\t\t\t\t\t\t\t\t<DatePickerSwitch\r\n\t\t\t\t\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\t\t\t\t\tvalue={start}\r\n\t\t\t\t\t\t\t\t\tminutesStep={60}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartPeriod(val))\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisableFuture\r\n\t\t\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\t\t\tlabel={t('ANALYTICS_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tmax={Date.now()}\r\n\t\t\t\t\t\t\t\t\t// Only when picking future hours as they can't be disabled\r\n\t\t\t\t\t\t\t\t\tmaxDateMessage={t('MAX_DATE_ERROR')}\r\n\t\t\t\t\t\t\t\t\tstrictCompareDates\r\n\t\t\t\t\t\t\t\t\tonBackClick={e => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\t\tgoPrev()\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonLiveClick={e => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\t\tgoLive()\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonNextClick={e => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\t\tgoNext()\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='primary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Visibility className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='secondary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\r\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\r\n\t\t\t\t\t\t).toFixed(2)} % ${t('LABEL_CTR')})`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Mouse className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentOne'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\r\n\t\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentTwo'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\r\n\t\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='grey'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol} / CPM`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Equalizer className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{showRevenueInfo && (\r\n\t\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t\t<ImpressionsAlert impressions={totalImpressions} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<SimpleStatistics\r\n\t\t\t\t\t\tside={side}\r\n\t\t\t\t\t\tstart={start}\r\n\t\t\t\t\t\tend={end}\r\n\t\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\ttitle:\r\n\t\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdefaultLabels={defaultLabels}\r\n\t\t\t\t\t\tdata1={payouts}\r\n\t\t\t\t\t\tdata2={impressions}\r\n\t\t\t\t\t\tdata3={clicks}\r\n\t\t\t\t\t\tdata4={cpm}\r\n\t\t\t\t\t\tdataSynced={dataSynced}\r\n\t\t\t\t\t\ty1Label={metrics[side][0].label}\r\n\t\t\t\t\t\ty1Color={metrics[side][0].color}\r\n\t\t\t\t\t\ty2Label={metrics[side][1].label}\r\n\t\t\t\t\t\ty2Color={metrics[side][1].color}\r\n\t\t\t\t\t\ty3Label={metrics[side][2].label}\r\n\t\t\t\t\t\ty3Color={metrics[side][2].color}\r\n\t\t\t\t\t\ty4Label={metrics[side][3].label}\r\n\t\t\t\t\t\ty4Color={metrics[side][3].color}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { Fragment, useState } from 'react'\r\nimport { Box, Paper } from '@material-ui/core'\r\nimport {\r\n\tAdvertiserTab,\r\n\tAdvertiserTabs,\r\n\tAdvertiserAppBar,\r\n} from 'components/styled'\r\nimport { BasicStats } from './BasicStats'\r\nimport { t } from 'selectors'\r\n\r\nexport function AdvertiserStats() {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<AdvertiserAppBar position='static'>\r\n\t\t\t\t<AdvertiserTabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t>\r\n\t\t\t\t\t<AdvertiserTab label={t('CHARTS')} />\r\n\t\t\t\t</AdvertiserTabs>\r\n\t\t\t</AdvertiserAppBar>\r\n\t\t\t<Box my={2}>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t<Paper elevation={2}>\r\n\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t<BasicStats side='advertiser' />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { useCallback } from 'react'\r\nimport classnames from 'classnames'\r\nimport { commify } from 'ethers/utils'\r\nimport Img from 'components/common/img/Img'\r\nimport { useSelector } from 'react-redux'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { t, selectBestEarnersTableData, selectMainToken } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: true,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [i.data[0].id, i.data[1].replace('legacy_', ''), i.data[2]],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n\trowsPerPage: 10,\r\n})\r\n\r\nfunction BestEarnersTable(props) {\r\n\tconst { noActions, noClone, handleSelect, selected = [] } = props\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectBestEarnersTableData,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('TABLE_BEST_EARNERS_TITLE')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tnoSearch\r\n\t\t\tnoDownload\r\n\t\t\tnoPrint\r\n\t\t\tnoViewColumns\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default BestEarnersTable\r\n","import React, { Fragment, useState } from 'react'\r\nimport { Box, Grid, Paper, Typography } from '@material-ui/core'\r\nimport { PublisherTab, PublisherTabs, PublisherAppBar } from 'components/styled'\r\nimport BestEarnersTable from 'components/dashboard/containers/Tables/BestEarnersTable'\r\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\r\nimport MapChart from 'components/dashboard/charts/map/MapChart'\r\nimport { BasicStats } from './BasicStats'\r\nimport {\r\n\tt,\r\n\tselectPublisherStatsByCountryTableData,\r\n\tselectPublisherStatsByCountryMapChartData,\r\n} from 'selectors'\r\n\r\nexport function PublisherStats() {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<PublisherAppBar position='static'>\r\n\t\t\t\t<PublisherTabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t>\r\n\t\t\t\t\t<PublisherTab label={t('CHARTS')} />\r\n\t\t\t\t\t<PublisherTab label={t('COUNTRY_DATA')} />\r\n\t\t\t\t\t<PublisherTab label={t('TABLE_BEST_EARNERS_TITLE')} />\r\n\t\t\t\t</PublisherTabs>\r\n\t\t\t</PublisherAppBar>\r\n\t\t\t<Box my={2}>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t<Paper elevation={2}>\r\n\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t<BasicStats side='publisher' />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t\t<Box p={2} mb={2}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\r\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: ['30', 'DAYS'] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<MapChart\r\n\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryMapChartData}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<StatsByCountryTable\r\n\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryTableData}\r\n\t\t\t\t\t\t\t\t// TODO: uncomment after 26.04.2020\r\n\t\t\t\t\t\t\t\t// showEarnings\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 2 && <BestEarnersTable />}\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport default PublisherStats\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, Paper, Box } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tDirtyProps,\r\n\tItemTitle,\r\n\tItemDescription,\r\n\tItemAdType,\r\n\tItemTargetURL,\r\n\tMediaCard,\r\n\tSaveBtn,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { AdUnit } from 'adex-models'\r\nimport TargetsList from 'components/dashboard/containers/TargetsList'\r\nimport { validateAndUpdateUnit } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nfunction Unit({ match }) {\r\n\tconst { item, validations, validateId, validate, ...hookProps } = useItem({\r\n\t\titemType: 'AdUnit',\r\n\t\tmatch,\r\n\t\tobjModel: AdUnit,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateUnit,\r\n\t})\r\n\r\n\tconst { title, description, mediaUrl, mediaMime, type, targetUrl } = item\r\n\tconst { title: errTitle, description: errDescription } = validations\r\n\r\n\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<SaveBtn validations={validations} {...hookProps} />\r\n\t\t\t<DirtyProps {...hookProps} />\r\n\t\t\t<Paper elevation={2}>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\t\tlabel={t('UNIT_MEDIA_IMG_LABEL')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemAdType type={type} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTargetURL targetUrl={targetUrl} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemDescription\r\n\t\t\t\t\t\t\t\t\tdescription={description}\r\n\t\t\t\t\t\t\t\t\terrDescription={errDescription}\r\n\t\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<TargetsList\r\n\t\t\t\t\t\t\t\t\ttargets={item.targeting}\r\n\t\t\t\t\t\t\t\t\tsubHeader={'PROP_TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nUnit.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Unit\r\n","import React, { Fragment } from 'react'\r\nimport { Paper, Grid, Box } from '@material-ui/core'\r\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport TargetsList from 'components/dashboard/containers/TargetsList'\r\nimport {\r\n\tDirtyProps,\r\n\tItemTitle,\r\n\tItemDescription,\r\n\tItemAdType,\r\n\tItemFallbackMediaURL,\r\n\tMediaCard,\r\n\tItemMinPerImpression,\r\n\tItemWebsite,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { t } from 'selectors'\r\n\r\nexport const SlotBasic = ({ item, ...hookProps }) => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\tmediaUrl,\r\n\t\tmediaMime,\r\n\t\ttype,\r\n\t\ttargetUrl,\r\n\t\twebsite,\r\n\t} = item\r\n\tconst { title: errTitle, description: errDescription } = hookProps.validations\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<DirtyProps {...hookProps} />\r\n\t\t\t<Paper elevation={2}>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemFallbackMediaURL targetUrl={targetUrl} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<TargetsList targets={item.tags} subHeader={'PROP_TAGS'} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemDescription\r\n\t\t\t\t\t\t\t\t\tdescription={description}\r\n\t\t\t\t\t\t\t\t\terrDescription={errDescription}\r\n\t\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemAdType type={type} />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemMinPerImpression item={item} {...hookProps} />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemWebsite item={item} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<WebsiteIssues website={website} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport copy from 'copy-to-clipboard'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { Paper, IconButton } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\n\r\nimport { execute, addToast } from 'actions'\r\n\r\nimport url from 'url'\r\nimport {\r\n\tselectRoutineWithdrawTokensAddresses,\r\n\tselectHasConfirmedEmail,\r\n\tselectAccountIdentityAddr,\r\n\tt,\r\n} from 'selectors'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const IntegrationCode = ({ slot = {} }) => {\r\n\tconst classes = useStyles()\r\n\tconst { id, type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst isEmailConfirmed = useSelector(selectHasConfirmedEmail)\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\tminTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t\tmarketSlot: id,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\r\n\t// \t<Alert severity='warning' variant='outlined'>\r\n\t// \t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\r\n\t// \t<div\r\n\t// \t\tdangerouslySetInnerHTML={{\r\n\t// \t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\r\n\t// \t\t}}\r\n\t// \t/>\r\n\t// </Alert>\r\n\treturn isEmailConfirmed ? (\r\n\t\t<div>\r\n\t\t\t<div className={classes.integrationLabel}>\r\n\t\t\t\t{t('INTEGRATION_CODE')}\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t\t<Paper>\r\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t) : (\r\n\t\t<Alert severity='warning' variant='outlined'>\r\n\t\t\t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\r\n\t\t\t<div\r\n\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Alert>\r\n\t)\r\n}\r\n\r\nIntegrationCode.propTypes = {\r\n\tslot: PropTypes.object.isRequired,\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tintegrationLabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tpadding: spacing,\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { AdSlot } from 'adex-models'\r\nimport { Box } from '@material-ui/core'\r\nimport { PublisherTab, PublisherTabs, PublisherAppBar } from 'components/styled'\r\nimport { useItem, SaveBtn } from 'components/dashboard/containers/ItemCommon/'\r\nimport { SlotBasic } from './SlotBasic'\r\nimport { IntegrationCode } from './IntegrationCode'\r\nimport { validateAndUpdateSlot } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nfunction Slot({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'AdSlot',\r\n\t\tmatch,\r\n\t\tobjModel: AdSlot,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateSlot,\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<SaveBtn {...hookProps} />\r\n\t\t\t<PublisherAppBar position='static'>\r\n\t\t\t\t<PublisherTabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<PublisherTab label={t('SLOT_MAIN')} />\r\n\t\t\t\t\t<PublisherTab label={t('INTEGRATION')} />\r\n\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\r\n\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\r\n\t\t\t\t</PublisherTabs>\r\n\t\t\t</PublisherAppBar>\r\n\t\t\t<Box my={2}>\r\n\t\t\t\t{tabIndex === 0 && <SlotBasic item={item} {...hookProps} />}\r\n\t\t\t\t{tabIndex === 1 && <IntegrationCode slot={item} />}\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nSlot.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Slot\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { TextField, Button, Box, Typography } from '@material-ui/core'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectAccountStatsFormatted,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst { availableIdentityBalanceMainToken: max } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst {\r\n\t\tamountToWithdraw: errAmount,\r\n\t\twithdrawTo: errAddr,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\r\n\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{spinner ? <InputLoading /> : null}\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\r\n\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t<Alert variant='outlined' severity='error'>\r\n\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawFromIdentity\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst WithdrawAnyTokenFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst {\r\n\t\tamountToWithdraw,\r\n\t\twithdrawTo,\r\n\t\ttokenAddress,\r\n\t\ttokenDecimals,\r\n\t} = useSelector(state => selectNewTransactionById(state, stepsId))\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst {\r\n\t\tamountToWithdraw: errAmount,\r\n\t\twithdrawTo: errAddr,\r\n\t\ttokenAddress: errTokenAddress,\r\n\t\ttokenDecimals: errTokenDecimals,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\ttype='text'\r\n\t\t\t\trequired\r\n\t\t\t\tfullWidth\r\n\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\r\n\t\t\t\tname='tokenAddress'\r\n\t\t\t\tvalue={tokenAddress || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'tokenAddress',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errTokenAddress && !!errTokenAddress.dirty}\r\n\t\t\t\thelperText={\r\n\t\t\t\t\terrTokenAddress && !!errTokenAddress.dirty\r\n\t\t\t\t\t\t? errTokenAddress.errMsg\r\n\t\t\t\t\t\t: ''\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<TextField\r\n\t\t\t\ttype='text'\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\tfullWidth\r\n\t\t\t\trequired\r\n\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\r\n\t\t\t\tname='tokenDecimals'\r\n\t\t\t\tvalue={tokenDecimals || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'tokenDecimals',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errTokenDecimals && !!errTokenDecimals.dirty}\r\n\t\t\t\thelperText={\r\n\t\t\t\t\terrTokenDecimals && !!errTokenDecimals.dirty\r\n\t\t\t\t\t\t? errTokenDecimals.errMsg\r\n\t\t\t\t\t\t: ''\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\ttype='text'\r\n\t\t\t\trequired\r\n\t\t\t\tfullWidth\r\n\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\tname='withdrawTo'\r\n\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t/>\r\n\t\t\t{spinner ? <InputLoading /> : null}\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\ttype='text'\r\n\t\t\t\tfullWidth\r\n\t\t\t\trequired\r\n\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\r\n\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\thelperText={errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t/>\r\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t<Alert variant='outlined' severity='error'>\r\n\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nWithdrawAnyTokenFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawAnyTokenFromIdentity\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTextField,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tCheckbox,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\r\n\treturn {\r\n\t\tvalue,\r\n\t\tlabel: t(`PRIV_${value}_LABEL`),\r\n\t\tinfo: t(`PRIV_${value}_INFO`),\r\n\t}\r\n})\r\n\r\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\r\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\r\n\t\tstate => selectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsetAddr: errAddr,\r\n\t\tsetAddrWarning: warning,\r\n\t\tprivLevel: errPrivLvl,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}:\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\t\tname='setAddr'\r\n\t\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\tkey: 'privLevel',\r\n\t\t\t\t\t\t\t\tvalue: val,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\r\n\t\t\t\t\t\t\t? errPrivLvl.errMsg\r\n\t\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tkey={x.value}\r\n\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t))}\r\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{(warning || warningAccepted || warningMsg) && (\r\n\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue='warningAccepted'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t<Alert variant='outlined' severity='error'>\r\n\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SeAddressPrivilege\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { TextField, InputAdornment, Box, Typography } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\r\n\r\nfunction SetAccountENSPage({ stepsId, validateId } = {}) {\r\n\tconst { username } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst { username: errUsername, fees: errFees } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SET_ENS_MAIN_INFO')}:\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\r\n\t\t\t\t\tname='username'\r\n\t\t\t\t\tvalue={username || ''}\r\n\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\tkey: 'username',\r\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\terror={errUsername && !!errUsername.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrUsername && !!errUsername.dirty ? errUsername.errMsg : ''\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t<Alert variant='outlined' severity='error'>\r\n\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nSetAccountENSPage.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SetAccountENSPage\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { PropRow } from 'components/common/dialog/content'\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tt,\r\n\tsetAddr,\r\n\tclasses,\r\n\tfeesData,\r\n\tprivLevel,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetENSPreview = ({\r\n\tt,\r\n\tusername,\r\n\taddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='addr'\r\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\r\n\t\t\tright={(address || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='username'\r\n\t\t\tleft={t('username', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tfeesData.fees,\r\n\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const IdentityWithdrawAnyPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='tokenAddress'\r\n\t\t\tleft={t('tokenAddress', { isProp: true })}\r\n\t\t\tright={(tokenAddress || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview,\r\n\tSetENSPreview,\r\n\tIdentityWithdrawAnyPreview,\r\n} from './previews'\r\n\r\nimport {\r\n\tselectMainToken,\r\n\tt,\r\n\tselectSpinnerById,\r\n\tselectAccount,\r\n\tselectNewTransactionById,\r\n} from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TransactionPreview(props) {\r\n\tconst classes = useStyles()\r\n\tconst { previewWarnMsgs, stepsId } = props\r\n\tconst txId = stepsId\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { address } = account.identity\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, stepsId))\r\n\tconst {\r\n\t\twithdrawTo,\r\n\t\tamountToWithdraw,\r\n\t\twaitingForWalletAction,\r\n\t\tsetAddr,\r\n\t\tusername,\r\n\t\tprivLevel,\r\n\t\ttokenAddress,\r\n\t\tfeesData = {},\r\n\t\terrors = [],\r\n\t} = useSelector(state => selectNewTransactionById(state, txId))\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t{waitingForWalletAction ? (\r\n\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setENS' && (\r\n\t\t\t\t\t\t\t<SetENSPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\tusername={username}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n}\r\n\r\nexport default TransactionPreview\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\r\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport SetAccountENSPage from './SetAccountENSPage'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport {\r\n\tidentityWithdraw,\r\n\tsetIdentityENS,\r\n\tvalidatePrivilegesChange,\r\n\tidentityWithdrawAny,\r\n\tvalidateIdentityWithdraw,\r\n\tcompleteTx,\r\n\texecute,\r\n\tresetNewTransaction,\r\n\tupdateIdentityPrivilege,\r\n\tvalidateENSChange,\r\n\tvalidateIdentityWithdrawAny,\r\n} from 'actions'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst cancelFunction = stepsId => {\r\n\texecute(resetNewTransaction({ tx: stepsId }))\r\n}\r\n\r\nconst txCommon = {\r\n\tcancelFunction,\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tcomponent: WithdrawFromIdentity,\r\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdraw(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'SIGN_TX',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: identityWithdraw,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = ({ SaveBtn, ...props }) => {\r\n\treturn (\r\n\t\t<FormStepsWithDialog\r\n\t\t\t{...props}\r\n\t\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\r\n\t\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\t\tstepsId='setIdentityPrivilege'\r\n\t\t\t{...txCommon}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\t\tcomponent: SeAddressPrivilege,\r\n\t\t\t\t\tvalidationFn: props => execute(validatePrivilegesChange(props)),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\t\tcompleteBtnTitle: 'SIGN_TX',\r\n\t\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\t\tcompeteAction: updateIdentityPrivilege,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const WithdrawAnyTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawAnyFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tcomponent: WithdrawAnyTokenFromIdentityPage,\r\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdrawAny(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'SIGN_TX',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: identityWithdrawAny,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const SetAccountENS = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\r\n\t\tstepsId='setENS'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\r\n\t\t\t\tcomponent: SetAccountENSPage,\r\n\t\t\t\tvalidationFn: props => execute(validateENSChange(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'SIGN_TX',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: setIdentityENS,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n","import React, { useState, Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tWithdrawAnyTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n\tSetAccountENS,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles.js'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport copy from 'copy-to-clipboard'\r\nimport {\r\n\tt,\r\n\tselectWallet,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectMainToken,\r\n\tselectEasterEggsAllowed,\r\n\tselectEnsAddressByAddr,\r\n} from 'selectors'\r\nimport { execute, addToast } from 'actions'\r\nimport { formatAddress } from 'helpers/formatters'\r\n// const RRButton = withReactRouterLink(Button)\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\n\r\nconst AccountItem = props => (\r\n\t<ListItem>\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexWrap={'wrap'}\r\n\t\t\tflex='1'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\talignItems='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow='8'\r\n\t\t\t\tflexBasis='700px'\r\n\t\t\t\tmr={1}\r\n\t\t\t\tflexWrap={'nowrap'}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t>\r\n\t\t\t\t<Box flex='1'>{props.left}</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box flexGrow='1' flexBasis='20em'>\r\n\t\t\t\t{props.right}\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t</ListItem>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AccountInfo() {\r\n\tconst { authType = '' } = useSelector(selectWallet)\r\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst canMakeTx = privileges > 1\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\tidentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst identityEnsName = useSelector(state =>\r\n\t\tselectEnsAddressByAddr(state, identityAddress)\r\n\t)\r\n\r\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\r\n\r\n\tconst [expanded, setExpanded] = useState(false)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tconst displayRampWidget = () => {\r\n\t\tconst widget = new RampInstantSDK({\r\n\t\t\thostAppName: 'AdExNetwork',\r\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\t\tvariant: 'auto',\r\n\t\t\tswapAsset: symbol,\r\n\t\t\tuserAddress: identityAddress,\r\n\t\t})\r\n\t\twidget.domNodes.overlay.style.zIndex = 1000\r\n\t\twidget.show()\r\n\t}\r\n\r\n\tconst handleExpandChange = () => {\r\n\t\tsetExpanded(!expanded)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List className={classes.root}>\r\n\t\t\t\t<ListSubheader>{t('ADEX_ACCOUNT')}</ListSubheader>\r\n\t\t\t\t<AccountItem\r\n\t\t\t\t\tleft={\r\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t{...(identityEnsName && {\r\n\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\r\n\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t{...(!identityEnsName && {\r\n\t\t\t\t\t\t\t\t\tprimary: identityAddress,\r\n\t\t\t\t\t\t\t\t\tsecondary: t('ENS_NOT_SET'),\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t!!identityAddress && (\r\n\t\t\t\t\t\t\t<SetAccountENS\r\n\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<AccountItem\r\n\t\t\t\t\tleft={\r\n\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\r\n\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\ttoken={symbol}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={handleExpandChange}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\r\n\t\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={t('WALLET_INFO_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t`AUTH_${authType.toUpperCase()}`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t`PRIV_${privileges}_LABEL`,\r\n\t\t\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t></AccountItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_LEADER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_FOLLOWER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t{allowEasterEggs && (\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default AccountInfo\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tactionBtn: {\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t\tflexGrow: 0,\r\n\t\t},\r\n\t\tadvancedList: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\ticonBtnLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { CheckCircle } from '@material-ui/icons'\r\nimport { PRIMARY, SECONDARY } from 'components/App/themeMUi'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst LINES_WIDTH = 3\r\nconst DEFAULT_SIZE = 80\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tzIndex: 1,\r\n\t\twidth: props => DEFAULT_SIZE,\r\n\t\theight: props => DEFAULT_SIZE,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.text[500]}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${PRIMARY} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${SECONDARY}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: DEFAULT_SIZE / 2,\r\n\t\tleft: `calc(-50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t\tright: `calc(50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t},\r\n\tline: {\r\n\t\theight: LINES_WIDTH,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, #fff 50%), ${\r\n\t\t\ttheme.palette.text[500]\r\n\t\t}`,\r\n\t\tbackgroundSize: `${LINES_WIDTH * 6}px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && (\r\n\t\t\t\t<CheckCircle className={clsx(classes.star)} color='secondary' />\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { confirmAction, execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/'\r\n\r\nexport const createAdUnitTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 8; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const fundAccountTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const launchFirstCampaign = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 5; i++) {\r\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const createAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 7; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const placeAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 2; i++) {\r\n\t\tsteps.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://webcusp.com/iframe-wordpress-plugins-and-tutorials/'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t,\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tBox,\r\n\tStepButton,\r\n\tMobileStepper,\r\n\tStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tTypography,\r\n\tHidden,\r\n\tLink,\r\n\tExpansionPanel,\r\n\tExpansionPanelDetails,\r\n\tExpansionPanelSummary,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport {\r\n\tKeyboardArrowLeft,\r\n\tKeyboardArrowRight,\r\n\tExpandMore,\r\n\tClose,\r\n\tCheckCircleOutline,\r\n\tCheckCircle,\r\n} from '@material-ui/icons'\r\nimport EmailEddie from 'resources/getting-started/GS-email-ic.png'\r\nimport FundEddie from 'resources/getting-started/GS-fund-ic.png'\r\nimport CreateEddie from 'resources/getting-started/GS-create-ic.png'\r\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic.png'\r\nimport PlaceEddie from 'resources/getting-started/GS-place-ic.png'\r\n// import BonusEddie from 'resources/getting-started/GS-bonus-ic.png'\r\nimport {\r\n\tt,\r\n\tsectStepsData,\r\n\tselectHideGettingStarted,\r\n\tselectGettingStartedExpanded,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\r\nimport { hideGettingStarted, setGettingStartedExpanded, execute } from 'actions'\r\nimport {\r\n\tcreateAdUnitTutorial,\r\n\tfundAccountTutorial,\r\n\tlaunchFirstCampaign,\r\n\tcreateAdSlot,\r\n\tplaceAdSlot,\r\n} from './Tutorials'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst stepperBackgroundColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\treturn {\r\n\t\tmobile: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tstepper: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tinstructions: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t\texpansionPanel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tbackgroundColor: stepperBackgroundColor,\r\n\t\t\t'& .MuiExpansionPanelSummary-expandIcon': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst getSteps = ({\r\n\thasCreatedAdUnit,\r\n\thasCreatedCampaign,\r\n\thasCreatedAdSlot,\r\n\thasConfirmedEmail,\r\n\thasFundedAccount,\r\n\thasImpressions,\r\n\thas5000Impressions,\r\n}) => ({\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: (\r\n\t\t\t\t<span\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasCreatedAdUnit,\r\n\t\t\ttutorial: createAdUnitTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\r\n\t\t\ticon: FundEddie,\r\n\t\t\tcheck: hasFundedAccount,\r\n\t\t\ttutorial: fundAccountTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: hasCreatedCampaign,\r\n\t\t\ttutorial: launchFirstCampaign,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: (\r\n\t\t\t\t<span\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasCreatedAdSlot,\r\n\t\t\ttutorial: createAdSlot,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\r\n\t\t\ticon: PlaceEddie,\r\n\t\t\tcheck: hasImpressions,\r\n\t\t\ttutorial: placeAdSlot,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: has5000Impressions,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n})\r\n\r\nexport default function GettingStarted(props) {\r\n\tconst { side } = props\r\n\tconst classes = useStyles({ side })\r\n\r\n\tconst stepsData = useSelector(sectStepsData)\r\n\r\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\r\n\tconst expanded = useSelector(selectGettingStartedExpanded)\r\n\tconst [steps, setSteps] = useState({})\r\n\r\n\tconst [activeStep, setActiveStep] = React.useState(0)\r\n\r\n\tconst sideSteps = steps[side] || []\r\n\tconst currentStep = sideSteps[activeStep] || {}\r\n\r\n\tconst indexOfFirstIncompleteStep = sideSteps.findIndex(step => !step.check)\r\n\r\n\tconst handleStep = step => () => {\r\n\t\tsetActiveStep(step)\r\n\t}\r\n\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep(activeStep + 1)\r\n\t}\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep(activeStep - 1)\r\n\t}\r\n\r\n\tconst handleDismiss = () => {\r\n\t\tsetActiveStep(0)\r\n\t\texecute(hideGettingStarted(side))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSteps(getSteps(stepsData))\r\n\t}, [stepsData])\r\n\tuseEffect(() => {\r\n\t\tsetActiveStep(\r\n\t\t\tindexOfFirstIncompleteStep !== -1\r\n\t\t\t\t? indexOfFirstIncompleteStep\r\n\t\t\t\t: sideSteps.length - 1\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [steps, indexOfFirstIncompleteStep])\r\n\t// TODO: wait for the data to be loaded before displaying the getting started\r\n\treturn (\r\n\t\t!isGettingStartedHidden &&\r\n\t\t!!sideSteps.length && (\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={() => execute(setGettingStartedExpanded(!expanded))}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\r\n\t\t\t\t\t\tclasses={{ root: classes.expansionPanel }}\r\n\t\t\t\t\t\taria-controls='expand-getting-started'\r\n\t\t\t\t\t\tid='getting-started-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\r\n\t\t\t\t\t\t\t\t{`${t('GETTING_STARTED_HEADING')} ${\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' ? t('PUBLISHER') : t('ADVERTISER')\r\n\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center'>\r\n\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => {\r\n\t\t\t\t\t\t\t\t\tconst Icon = check ? CheckCircle : CheckCircleOutline\r\n\t\t\t\t\t\t\t\t\tconst color = check ? 'secondary' : 'inherit'\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={label} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon color={color} />\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\r\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\r\n\t\t\t\t\t\t\t\t\t\ticon={currentStep.icon}\r\n\t\t\t\t\t\t\t\t\t\tcompleted={currentStep.check}\r\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\t\t\t\tclassName={classes.mobile}\r\n\t\t\t\t\t\t\t\t\tsteps={sideSteps.length}\r\n\t\t\t\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tnextButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === sideSteps.length - 1}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbackButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t\t\t<Stepper\r\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.stepper }}\r\n\t\t\t\t\t\t\t\t\tnonLinear\r\n\t\t\t\t\t\t\t\t\talternativeLabel\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\r\n\t\t\t\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\r\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [activeStep + 1, currentStep.label || ''],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.check ? t('COMPLETED') : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{currentStep.check ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.contentCompleted}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.content}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.tutorial &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentStep.tutorial()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router'\r\nimport Campaign from 'components/dashboard/containers/Campaign'\r\nimport { Receipt } from 'components/dashboard/containers/Receipt'\r\nimport {\r\n\tPublisherStats,\r\n\tAdvertiserStats,\r\n} from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tCampaignsTable,\r\n\tAdSlotsTable,\r\n\tAdUnitsTable,\r\n} from 'components/dashboard/containers/Tables'\r\nimport { Drawer, Box, Hidden } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\texecute,\r\n\tresolveEnsAddress,\r\n\tupdatePrivilegesWarningAccepted,\r\n\tloadAccountData,\r\n\tstopAccountDataUpdate,\r\n\tupdateNav,\r\n\tupdateMemoryUi,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectPrivilegesWarningAccepted,\r\n\tselectPublisherRevenueNoticeActive,\r\n\tselectInitialDataLoaded,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport GettingStarted from '../getting-started/GettingStarted'\r\n\r\nconst Campaigns = () => {\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst disabled = privileges <= 1\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<NewCampaignDialog\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tfabButton\r\n\t\t\t\tvariant='extended'\r\n\t\t\t\taccent\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t/>\r\n\t\t\t<CampaignsTable />\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst AdUnits = () => (\r\n\t<>\r\n\t\t<NewUnitDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t/>\r\n\t\t<AdUnitsTable />\r\n\t</>\r\n)\r\n\r\nconst AdSlots = () => (\r\n\t<>\r\n\t\t<NewSlotDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\taccent\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t/>\r\n\t\t<AdSlotsTable />\r\n\t</>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dashboard(props) {\r\n\tconst [mobileOpen, setMobileOpen] = useState(false)\r\n\tconst address = useSelector(selectAccountIdentityAddr)\r\n\tconst showPublisherRevenueNotice = useSelector(\r\n\t\tselectPublisherRevenueNoticeActive\r\n\t)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\r\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\r\n\r\n\tconst { match } = props\r\n\tconst { side } = match.params\r\n\tconst classes = useStyles()\r\n\r\n\tconst dataLoaded = useSelector(selectInitialDataLoaded)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateMemoryUi('initialDataLoaded', false))\r\n\t\tasync function updateInitialData() {\r\n\t\t\texecute(loadAccountData())\r\n\t\t}\r\n\r\n\t\tupdateInitialData()\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(stopAccountDataUpdate())\r\n\t\t\texecute(updateMemoryUi('initialDataLoaded', false))\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(resolveEnsAddress({ address }))\r\n\t}, [address])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('side', side))\r\n\t}, [side])\r\n\r\n\tconst handleDrawerToggle = () => {\r\n\t\tsetMobileOpen(!mobileOpen)\r\n\t}\r\n\r\n\tconst drawer = <SideNav side={side} />\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<TopBar\r\n\t\t\t\tside={side}\r\n\t\t\t\topen={mobileOpen}\r\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\r\n\t\t\t/>\r\n\t\t\t<Hidden mdUp>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\tanchor='left'\r\n\t\t\t\t\topen={mobileOpen}\r\n\t\t\t\t\tonClose={handleDrawerToggle}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\topen\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\r\n\t\t\t<main className={classes.content}>\r\n\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t<div className={classes.toolbar} />\r\n\t\t\t\t\t{showTxPrivLevelWarning && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tseverity='info'\r\n\t\t\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\r\n\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{side === 'publisher' && showPublisherRevenueNotice && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Alert variant='outlined' severity='warning'>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{t('PUBLISHER_REVENUE_NOTICE', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='publisher-revenue-notice'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tunderline='always'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012285459-Mandatory-verification-for-publishers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{<strong>{t('HERE')}</strong>}\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\r\n\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\tcomponent={Campaigns}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\tcomponent={AdUnits}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Campaign}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\r\n\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipt/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Unit}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\tcomponent={AdSlots}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Slot}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/receipts'\r\n\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser'\r\n\t\t\t\t\t\t\tcomponent={AdvertiserStats}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher'\r\n\t\t\t\t\t\t\tcomponent={PublisherStats}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dashboard\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\t// marginTop: '1.5vh',\r\n\t\t\t// width: '17.92vh',\r\n\t\t\t// height: '6vh',\r\n\t\t\theight: '2rem',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport Img from 'components/common/img/Img'\r\nimport classnames from 'classnames'\r\nimport { getAllWallets } from 'services/wallet/wallet'\r\nimport { execute, initIdentity, confirmAction } from 'actions'\r\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { formatAddress } from 'helpers/formatters'\r\nimport { push } from 'connected-react-router'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst AuthSelect = () => {\r\n\tconst classes = useStyles()\r\n\tconst [wallets, setWallets] = useState([])\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { wallet, identity } = account || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst allWallets = getAllWallets()\r\n\t\tconst wallets = allWallets.filter(\r\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\r\n\t\t)\r\n\t\tsetWallets(wallets)\r\n\t}, [wallet])\r\n\r\n\tconst goTo = (to, confirmLogout, onConfirm) => {\r\n\t\tconst toExecute = () => {\r\n\t\t\tlogOut()\r\n\t\t\texecute(push(to))\r\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\r\n\t\t\t\tonConfirm()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (auth && confirmLogout) {\r\n\t\t\texecute(\r\n\t\t\t\tconfirmAction(toExecute, null, {\r\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\r\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\r\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\r\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\r\n\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}),\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\ttoExecute()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='stretch'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t>\r\n\t\t\t<Box p={2} alignItems='center'>\r\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{auth && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tto='/side-select'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CONTINUE_AS', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\r\n\t\t\t\t\t\t\t\twallet.authType,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{wallets.map(w => (\r\n\t\t\t\t<Box key={w.name} m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\r\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t))}\r\n\t\t\t{showRegistration && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\r\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default AuthSelect\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tlimitedWidthBtn: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.grey[800],\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\nimport { t } from 'selectors'\r\nimport { Typography } from '@material-ui/core'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tfunction Connect({ classes, ...rest }) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\r\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\r\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\r\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\r\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HELP')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn withStyles(styles)(Connect)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function AddrItem({ stats }) {\r\n\tconst { balanceEth, tokensBalances, address } = stats\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<span> {symbol} </span>\r\n\t\t\t\t\t\t\t<strong> {balance} </strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport METAMASK_IMG from 'resources/metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport Box from '@material-ui/core/Box'\r\nimport {\r\n\taddToast,\r\n\tupdateIdentity,\r\n\tupdateIdentityWallet,\r\n\texecute,\r\n} from 'actions'\r\nimport { t, selectIdentity } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthMetamask(props) {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\r\n\tconst { address } = wallet\r\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\r\n\t// const [stats, setStats] = useState(null)\r\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\r\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\r\n\tconst isOpera =\r\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\r\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\r\n\t\tfalse\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst setEth = async () => {\r\n\t\t\tconst ethereumProvider = await getEthereumProvider()\r\n\t\t\tsetIsMetamaskEthereumProvider(\r\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tsetEth()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (installingMetamask) {\r\n\t\t\t// Refreshes page after user comes back\r\n\t\t\t// from installing Metamask\r\n\t\t\twindow.onfocus = () => {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\tsetInstallingMetamask(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [installingMetamask])\r\n\r\n\tconst checkMetamask = async () => {\r\n\t\tsetWaitingAddrsData(true)\r\n\t\ttry {\r\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType: authType,\r\n\t\t\t}\r\n\r\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\taddress: { address },\r\n\t\t\t\tauthType,\r\n\t\t\t\tgetFullBalances: true,\r\n\t\t\t})\r\n\r\n\t\t\texecute(updateIdentity('stats', stats))\r\n\t\t\tsetWaitingAddrsData(false)\r\n\r\n\t\t\texecute(\r\n\t\t\t\tupdateIdentityWallet({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\r\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Error: catch', err)\r\n\t\t\tsetWaitingMetamaskAction(false)\r\n\t\t\tsetWaitingAddrsData(false)\r\n\t\t\texecute(\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingMetamaskAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : waitingAddrsData ? (\r\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\r\n\t\t\t\t\t\t\t\talt={'metamask logo'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={checkMetamask}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthMetamask\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport IdentityHoc from '../IdentityHoc'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\n\r\nexport default function AuthHoc(Decorated) {\r\n\tclass Auth extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\tmethod: '',\r\n\t\t\t\tsideSelect: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateWallet = ({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}) => {\r\n\t\t\tconst wallet = {\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\thdWalletAddrPath,\r\n\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\tpath,\r\n\t\t\t\tchainId,\r\n\t\t\t\tsignType,\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.handleChange('identityContractOwner', address)\r\n\t\t\tthis.props.handleChange('wallet', wallet)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t// updateAcc={this.updateAcc}\r\n\t\t\t\t\tupdateWallet={this.updateWallet}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tAuth.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tlet persist = state.persist\r\n\t\t// let memory = state.memory\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {},\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tvalidate={this.validate}\r\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions, { execute, login } from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { CREATING_SESSION, UPLOADING_ACCOUNT_DATA } from 'constants/spinners'\r\n\r\nexport default function IdentityHoc(Decorated) {\r\n\tclass IdentityForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tready: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value) => {\r\n\t\t\tthis.props.actions.updateIdentity(prop, value)\r\n\t\t}\r\n\r\n\t\t// componentDidUpdate = () => {\r\n\t\t// \tconst { account } = this.props\r\n\t\t// \tif (account.wallet.authSig) {\r\n\t\t// \t\texecute(push('/side-select'))\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tsave = async () => {\r\n\t\t\texecute(login())\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tconst { resetIdentity } = this.props.actions\r\n\t\t\tresetIdentity()\r\n\t\t\texecute(push('/'))\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tidentity={identity}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\twaiting={spinner}\r\n\t\t\t\t\twaitingExpected={waitingExpected}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tIdentityForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tidentity: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tidentity: memory.identity,\r\n\t\t\tspinner: memory.spinners[CREATING_SESSION],\r\n\t\t\twaitingUpload: memory.spinners[UPLOADING_ACCOUNT_DATA],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(IdentityForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthTrezor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingTrezorAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectTrezor = async () => {\r\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tconsole.log('result', results)\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: trezorSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingTrezorAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingTrezorAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path } = addrData\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t{!this.state.waitingAddrsData &&\r\n\t\t\t\t\t\t\t\t\t!this.state.waitingTrezorAction && (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthTrezor.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport AuthHoc from './AuthHoc'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\n\r\nclass AuthLedger extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingLedgerAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectLedger = async () => {\r\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: ledgerSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingLedgerAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingLedgerAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path } = addrData\r\n\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography variant='subtitle1'>{t('LEDGER_INFO')}</Typography>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t{t('LEDGER_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\tkey='auth-ledger'\r\n\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tLEDGER\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\r\n\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\r\n\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthLedger.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocationQuery } from 'selectors'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\nimport AuthLedger from './AuthLedger'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction AuthMethod() {\r\n\tconst classes = useStyles()\r\n\tconst query = useSelector(selectLocationQuery)\r\n\tconst method = query['external']\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t{method === 'metamask' && <AuthMetamask />}\r\n\t\t\t\t{method === 'trezor' && <AuthTrezor />}\r\n\t\t\t\t{method === 'ledger' && <AuthLedger />}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default AuthMethod\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectKnowUsFromSource,\r\n} from 'selectors'\r\nimport { execute, updateIdentity } from 'actions'\r\n\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst knowFromSource = selectKnowUsFromSource()\r\n\r\nconst QuickInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\r\n\t]\r\n\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\tpassword,\r\n\t\tpasswordCheck,\r\n\t\ttosCheck,\r\n\t\tknowFrom,\r\n\t\tmoreInfo,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner || sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\r\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='knowFrom'\r\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\r\n\t\t\t\t\t\t\t\tsource={knowFromSource}\r\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\r\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\r\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tname='moreInfo'\r\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\r\n\t\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectKnowUsFromSource,\r\n} from 'selectors'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst knowFromSource = selectKnowUsFromSource()\r\n\r\nconst FulInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst { wallet = {} } = identity\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\ttosCheck,\r\n\t\taccessWarningCheck,\r\n\t\tknowFrom,\r\n\t\tmoreInfo,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{walletAddress}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='knowFrom'\r\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\r\n\t\t\t\t\t\t\t\tsource={knowFromSource}\r\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\r\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\r\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tname='moreInfo'\r\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\r\n\t\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\r\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FulInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickLogin = props => {\r\n\tconst { validateId } = props\r\n\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\r\n\t]\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { wallet } = validations\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickLogin\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport { push } from 'connected-react-router'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\texecute,\r\n\tupdateIdentity,\r\n\townerIdentities as updateOwnerIdentities,\r\n} from 'actions'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectIdentity,\r\n\tt,\r\n\tselectSearchParams,\r\n\tselectRegistrationAllowed,\r\n} from 'selectors'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: id.ens\r\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\r\n\t\t\t\t  })\r\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\r\n\t\t\t\t  }),\r\n\t\t}\r\n\t})\r\n\r\nfunction FullLogin(props) {\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst {\r\n\t\twalletAddr,\r\n\t\twallet = {},\r\n\t\townerIdentities,\r\n\t\tidentityContractAddress,\r\n\t} = identity\r\n\tconst walletAddress = wallet.address || walletAddr\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\r\n\t)\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\r\n\tconst searchParams = useSelector(selectSearchParams)\r\n\tsearchParams.set('step', '1')\r\n\r\n\tconst search = searchParams.toString()\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(\r\n\t\t\tupdateOwnerIdentities({ owner: walletAddress, authType: wallet.authType })\r\n\t\t)\r\n\t\t// We need it just once on mount\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\r\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{showRegistration && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FullLogin\r\n","import React from 'react'\r\nimport AuthMethod from './ownerAuth/AuthMethod'\r\nimport QuickInfo from './QuickInfo'\r\nimport FullInfo from './FullInfo'\r\nimport QuickLogin from './QuickLogin'\r\nimport FullLogin from './FullLogin'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport { push } from 'connected-react-router'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateQuickLogin,\r\n\tvalidateStandardLogin,\r\n\tvalidateQuickInfo,\r\n\tvalidateFullInfo,\r\n\tvalidateContractOwner,\r\n\tresetIdentity,\r\n} from 'actions'\r\n\r\nconst cancelFunction = () => {\r\n\texecute(resetIdentity())\r\n\texecute(push('/'))\r\n}\r\n\r\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst common = {\r\n\tcancelFunction,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const LoginStandardIdentity = props => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-login'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tcomponent: AuthMethod,\r\n\t\t\t\t\tvalidationFn: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\t\tcomponent: FullLogin,\r\n\t\t\t\t\tvalidationFn: finalValidationStandard,\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateStandardIdentity = props => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-create'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tcomponent: AuthMethod,\r\n\t\t\t\t\tvalidationFn: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'FULL_INFO',\r\n\t\t\t\t\tcomponent: FullInfo,\r\n\t\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\r\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateQuickIdentity = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-create'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_INFO',\r\n\t\t\t\tcomponent: QuickInfo,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\r\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginQuickIdentity = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-login'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_LOGIN',\r\n\t\t\t\tcomponent: QuickLogin,\r\n\t\t\t\tvalidationFn: finalValidationQuick,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const DemoIdentity = props => (\r\n\t<FormSteps {...props} {...common} steps={[]} />\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\r\n\t</g>,\r\n\r\n\t'AdexPublisher',\r\n\t'0 0 114 110'\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\r\n\t</g>,\r\n\t'AdexAdvertiser',\r\n\t'0 0 109 94'\r\n)\r\n","import React, { Component } from 'react'\r\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\r\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst SideBox = ({\r\n\tsalePoints = [],\r\n\tlinkTitle,\r\n\ticon,\r\n\ttitle,\r\n\tdisabled,\r\n\tclasses,\r\n\t...other\r\n}) => (\r\n\t<div\r\n\t\t{...other}\r\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\r\n\t>\r\n\t\t<div className={classes.icon}>{icon}</div>\r\n\t\t<h2>{title}</h2>\r\n\t\t<ul className={classes.salePoints}>\r\n\t\t\t{salePoints.map(function(point, key) {\r\n\t\t\t\treturn <li key={key}> {point} </li>\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div>\r\n)\r\n\r\nconst RRSideBox = withReactRouterLink(SideBox)\r\n\r\nclass SideSelect extends Component {\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\troot: classes.backdrop,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth='sm'\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<AdvertiserLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/advertiser'\r\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<PublisherLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/publisher'\r\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(SideSelect))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tsideBox: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'top',\r\n\t\t\topacity: 0.7,\r\n\t\t\t'&:hover:not(.disabled)': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\topacity: 1,\r\n\t\t\t},\r\n\t\t\t'&.disabled': {\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t},\r\n\t\t\t'@media(max-width:425px)': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\tsalePoints: {\r\n\t\t\tpadding: 0,\r\n\t\t\t'& li': {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tlistStyle: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n\tlogo: {\r\n\t\theight: '5rem',\r\n\t\twidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tclassName={classes.root}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-evenly'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Logo className={classes.logo} />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{/* <Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t{/* <Box p={1}>\r\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tmetamaskChecks,\r\n\tmetamaskNetworkCheck,\r\n\tgetRelayerConfig,\r\n\texecute,\r\n\tensureQuickWalletBackup,\r\n\tupdateRegistrationAllowed,\r\n\tupdateEasterEggsAllowed,\r\n\thandleRedirectParams,\r\n\thandleSignupLink,\r\n} from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateQuickIdentity,\r\n\tLoginStandardIdentity,\r\n\tCreateStandardIdentity,\r\n\tLoginQuickIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\r\nimport Translate from 'components/translate/Translate'\r\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\r\n\r\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\r\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedCreateStandardIdentity = ConnectHoc(\r\n\tJustDialog(CreateStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst handleLegacyWallet = async wallet => {\r\n\tconst { type, email, password, authType } = wallet || {}\r\n\r\n\tif (!type && email && password && authType === 'grant') {\r\n\t\tawait migrateLegacyWallet({ email, password })\r\n\t\tawait removeLegacyKey({ email, password })\r\n\t}\r\n\r\n\tif (email && password && authType) {\r\n\t\texecute(ensureQuickWalletBackup())\r\n\t}\r\n}\r\n\r\nconst Root = () => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst wallet = useSelector(selectWallet)\r\n\tconst location = useSelector(selectLocation)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getRelayerConfig())\r\n\t\texecute(metamaskChecks())\r\n\t\texecute(handleRedirectParams(location.search))\r\n\t\texecute(handleSignupLink(location.search))\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\thandleLegacyWallet(wallet)\r\n\t}, [wallet])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskNetworkCheck())\r\n\t\texecute(updateRegistrationAllowed(location.search))\r\n\t\texecute(updateEasterEggsAllowed(location.search))\r\n\t}, [location])\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Switch>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tauth={auth}\r\n\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\r\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/quick'\r\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/login/full'\r\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/full'\r\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\r\n\t\t\t\t<Route>\r\n\t\t\t\t\t<PageNotFound />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t)\r\n}\r\n\r\nexport default Translate(Root)\r\n","import React, { Component } from 'react'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport { persistor, store } from 'store'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport Root from './Root'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { themeMUI } from './themeMUi'\r\nimport { DateUtils } from 'helpers/dateUtils'\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport CacheBuster from './CacheBuster'\r\n\r\n// console.log('initial store', store.getState())\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\r\n\t\t\t\t\t<MuiPickersUtilsProvider utils={DateUtils}>\r\n\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\r\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t\t<CacheBuster>\r\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</CacheBuster>\r\n\t\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { unregister } from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nunregister()\r\n","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\r\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\r\nexport const UPDATE_UI_BY_IDENTITY_AND_SIDE = 'UPDATE_UI_BY_IDENTITY_AND_SIDE'\r\nexport const UPDATE_MEMORY_UI = 'UPDATE_MEMORY_UI'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\r\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\r\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\r\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\r\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\r\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\r\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\r\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\r\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\r\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\r\nexport const UPDATE_ANALYTICS_PERIOD = 'UPDATE_ANALYTICS_PERIOD'\r\nexport const UPDATE_PUBLISHER_RECEIPTS = 'UPDATE_PUBLISHER_RECEIPTS'\r\nexport const RESET_SELECTED_ITEMS = 'RESET_SELECTED_ITEMS'\r\nexport const UPDATE_ANALYTICS_LAST_CHECKED = 'UPDATE_ANALYTICS_LAST_CHECKED'\r\n","import {\r\n\tgetState,\r\n\texecute,\r\n\tresetAllNewItems,\r\n\tresetAllItems,\r\n\tresetAllBids,\r\n\tresetIdentity,\r\n\tresetAccount,\r\n\tresetAnalytics,\r\n\tresetChannelsWithBalanceAll,\r\n\tresetChannelsWithOutstandingBalance,\r\n\tresetAllNewTransaction,\r\n\tupdateMemoryUi,\r\n} from 'actions'\r\n\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport { analyticsCampaignsLoop } from 'services/store-data/analytics'\r\n\r\nimport { push } from 'connected-react-router'\r\n\r\nexport const logOut = skipRedirect => {\r\n\texecute(updateMemoryUi('initialDataLoaded', false))\r\n\texecute(resetAccount())\r\n\tanalyticsCampaignsLoop.stop()\r\n\tcampaignsLoop.stop()\r\n\tstatsLoop.stop()\r\n\tif (!skipRedirect) {\r\n\t\texecute(push('/'))\r\n\t}\r\n\texecute(resetIdentity())\r\n\texecute(resetAllItems())\r\n\texecute(resetAllNewItems())\r\n\texecute(resetAllBids())\r\n\texecute(resetAnalytics())\r\n\texecute(resetChannelsWithBalanceAll())\r\n\texecute(resetChannelsWithOutstandingBalance())\r\n\texecute(resetAllNewTransaction())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn getState().persist.account\r\n}\r\n","const MAX_ASPECT_TOLERANCE = 5\r\n\r\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n\r\nexport const checkExactishAspect = (\r\n\twidthTarget,\r\n\twidth,\r\n\theightTarget,\r\n\theight,\r\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\r\n) => {\r\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\r\n\t\treturn false\r\n\t}\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\r\n\tconst aspect = parseFloat(width / height)\r\n\r\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width &&\r\n\t\theightTarget <= height &&\r\n\t\taspectDiff <= maxPercentTolerance\r\n\r\n\treturn isValid\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\nimport AdExENSManager from './abi/AdExENSManager.json'\r\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\r\nimport ERC20 from './abi/ERC20Token.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExENSManager: {\r\n\t\taddress: process.env.ADEX_ENS_ADDR,\r\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\r\n\t\tabi: AdExENSManager,\r\n\t},\r\n\tReverseRegistrar: {\r\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\r\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\r\n\t\tabi: ReverseRegistrar,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n\tERC20: {\r\n\t\tabi: ERC20,\r\n\t},\r\n}\r\n","import { formatUnits, commify } from 'ethers/utils'\r\nimport MomentUtils from '@date-io/moment'\r\nconst moment = new MomentUtils()\r\n//TODO: use dateUtils\r\n\r\nexport const DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\r\nexport const DEFAULT_DATE_FORMAT = 'YYYY-MM-DD'\r\n\r\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\r\n\tif (!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatDate = (timestamp, format = DEFAULT_DATE_FORMAT) => {\r\n\tif (!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (\r\n\tamountString = '0',\r\n\tdecimals = 18,\r\n\tpretty,\r\n\ttoFixed\r\n) => {\r\n\tconst formatted = formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn commify(formatted)\r\n\t} else if (typeof toFixed === 'number') {\r\n\t\t// We want truncated not rounded\r\n\t\treturn parseFloat(formatted)\r\n\t\t\t.toFixed(toFixed + 4)\r\n\t\t\t.slice(0, -4)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n\r\nexport const formatAddress = (address = '', joinSymbol = '...') => {\r\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\r\n}\r\n\r\nexport const formatNumberWithCommas = x => {\r\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n}\r\n\r\nexport const formatFloatNumberWithCommas = x => {\r\n\tconst parts = x.toString().split('.')\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n\treturn parts.join('.')\r\n}\r\n\r\nexport const formatNumberWithoutCommas = x => {\r\n\treturn x\r\n\t\t.toString()\r\n\t\t.split(',')\r\n\t\t.join('')\r\n}\r\n\r\nexport const formatAbbrNum = (number, decPlaces) => {\r\n\t// 2 decimal places => 100, 3 => 1000, etc\r\n\tdecPlaces = Math.pow(10, decPlaces)\r\n\r\n\t// Enumerate number abbreviations\r\n\tvar abbrev = ['k', 'm', 'b', 't']\r\n\r\n\t// Go through the array backwards, so we do the largest first\r\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\r\n\t\t// Convert array index to \"1000\", \"1000000\", etc\r\n\t\tvar size = Math.pow(10, (i + 1) * 3)\r\n\r\n\t\t// If the number is bigger or equal do the abbreviation\r\n\t\tif (size <= number) {\r\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\r\n\t\t\t// This gives us nice rounding to a particular decimal place.\r\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\r\n\r\n\t\t\t// Handle special case where we round up to the next abbreviation\r\n\t\t\tif (number == 1000 && i < abbrev.length - 1) {\r\n\t\t\t\tnumber = 1\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\r\n\t\t\t// Add the letter for the abbreviation\r\n\t\t\tnumber += abbrev[i]\r\n\r\n\t\t\t// We are done... stop\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\treturn number\r\n}\r\n\r\nexport const truncateString = (string, maxLength = 50) => {\r\n\tif (!string) return ''\r\n\tif (string.length <= maxLength) return string\r\n\treturn `${string.substring(0, maxLength).trim()}...`\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { getState } from 'actions'\r\nimport { selectAuthSig } from 'selectors'\r\nimport { isDemoMode } from 'services/store-data/auth'\r\nimport { t } from 'selectors'\r\n\r\nexport const handleRequesterErrorRes = ({ res, text }) => {\r\n\tlet message = text\r\n\ttry {\r\n\t\tconst textObj = JSON.parse(text)\r\n\t\tmessage =\r\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\r\n\t} catch {}\r\n\r\n\tthrow new Error(\r\n\t\tt('SERVICE_ERROR_MSG', {\r\n\t\t\targs: [res.url, res.status, res.statusText, message],\r\n\t\t})\r\n\t)\r\n}\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst authSignature = selectAuthSig(getState())\r\n\t\treturn {\r\n\t\t\t'X-User-Signature': authSig || authSignature,\r\n\t\t}\r\n\t}\r\n\r\n\tnoCacheHeaders = {\r\n\t\t'Cache-Control': 'no-cache',\r\n\t\tExpires: '0',\r\n\t\tPragma: 'no-cache',\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t\tnoCache = false,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tconst query = Helper.getQuery(qp)\r\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tconst hdrs = {\r\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import requester from './requester'\r\n\r\nexport default requester\r\nexport * from './requester'\r\n","import { items as ItemsConstants } from 'adex-constants'\r\n\r\nconst { ItemsTypes, AdTypesByValue, AdSizesByValue } = ItemsConstants\r\n\r\nexport const sortCollections = items => {\r\n\tlet collections = {\r\n\t\tcampaigns: [],\r\n\t\tadUnits: [],\r\n\t\tchannels: [],\r\n\t\tadSlots: [],\r\n\t}\r\n\r\n\tfor (let i = 0; i < items.length; i++) {\r\n\t\tlet item = items[i]\r\n\t\tif (item._type === ItemsTypes.Campaign) collections.campaigns.push(item)\r\n\t\tif (item._type === ItemsTypes.AdUnit) collections.adUnits.push(item)\r\n\t\tif (item._type === ItemsTypes.Channel) collections.channel.push(item)\r\n\t\tif (item._type === ItemsTypes.AdSlot) collections.adSlots.push(item)\r\n\t}\r\n\r\n\treturn collections\r\n}\r\n\r\nexport const cloneObject = obj => {\r\n\treturn Object.assign(Object.create(obj), obj)\r\n}\r\n\r\nexport const getTypeName = id => {\r\n\tfor (var key in ItemsTypes) {\r\n\t\tif (ItemsTypes.hasOwnProperty(key)) {\r\n\t\t\tif (ItemsTypes[key].id === id) {\r\n\t\t\t\treturn ItemsTypes[key].name\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const groupItemsForCollection = ({ collectionId, allItems = {} }) => {\r\n\tlet grouped = Object.values(allItems).reduce(\r\n\t\t(memo, item, index) => {\r\n\t\t\tif (item._items.indexOf(collectionId) > -1) {\r\n\t\t\t\tmemo.items.push(item)\r\n\t\t\t} else {\r\n\t\t\t\tmemo.otherItems.push(item)\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t},\r\n\t\t{ items: [], otherItems: [] }\r\n\t)\r\n\r\n\treturn grouped\r\n}\r\n\r\nexport const itemAdTypeLabel = ({ adType }) => {\r\n\treturn (AdTypesByValue[adType] || {}).label\r\n}\r\n\r\nexport const itemAdSizeLabel = ({ size, t }) => {\r\n\tconst adSize = AdSizesByValue[size] || {}\r\n\treturn t(adSize.label, { args: adSize.labelArgs || [] })\r\n}\r\n\r\nexport const getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n","export default class Looper {\r\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\r\n\t\tif (!timeout) {\r\n\t\t\tthrow new Error('LOOPER timeout prop is required')\r\n\t\t}\r\n\r\n\t\tif (typeof syncAction !== 'function') {\r\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\r\n\t\t}\r\n\r\n\t\tthis.loopTimeout = null\r\n\t\tthis.timeout = timeout\r\n\t\tthis.syncAction = syncAction\r\n\t\tthis.loopName = loopName\r\n\t\tthis.stopOn = stopOn\r\n\t}\r\n\r\n\tclearLoopTimeout = () => {\r\n\t\tif (this.loopTimeout) {\r\n\t\t\tclearTimeout(this.loopTimeout)\r\n\t\t\tthis.loopTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tsyncData = async opts => {\r\n\t\tthis.makeStopCheck()\r\n\t\tawait this.syncAction()\r\n\t\tthis.makeStopCheck()\r\n\t}\r\n\r\n\tstartLoop = async opts => {\r\n\t\ttry {\r\n\t\t\tawait this.syncData(opts)\r\n\t\t\tthis.checkLoop()\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\r\n\t\t\tthis.checkLoop()\r\n\t\t}\r\n\t}\r\n\r\n\tcheckLoop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\r\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\r\n\t}\r\n\r\n\tmakeStopCheck = () => {\r\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\r\n\t\t\tthis.stop()\r\n\t\t}\r\n\t}\r\n\r\n\tstart = async () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t\tawait this.startLoop()\r\n\t\tthis.makeStopCheck()\r\n\t}\r\n\r\n\tstop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t}\r\n}\r\n","import Loop from './loop'\r\nimport {\r\n\texecute,\r\n\tupdateAccountAnalytics,\r\n\tupdateAccountCampaignsAnalytics,\r\n} from 'actions'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst analyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\r\n\tloopName: '_ANALYTICS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nconst analyticsLoopCustom = ({ timeout, syncAction, stopOn }) =>\r\n\tnew Loop({\r\n\t\ttimeout: timeout,\r\n\t\tsyncAction: async () => syncAction(),\r\n\t\tloopName: '_ANALYTICS_CUSTOM',\r\n\t\tstopOn: () => !selectAuth(getState()) || stopOn,\r\n\t})\r\n\r\nconst analyticsCampaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) &&\r\n\t\t(await execute(updateAccountCampaignsAnalytics())),\r\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { analyticsLoop, analyticsCampaignsLoop, analyticsLoopCustom }\r\n","import MomentUtils from '@date-io/moment'\r\nimport moment from 'moment'\r\nimport 'moment/min/locales'\r\n\r\n// We can't use the new version of @date-io/moment or @date-io/date-fns\r\n// because the datepickers will crash, but we need some more functionality\r\n// as adding hours and start / end of weeks. This is why I have created an\r\n// extention class. We use this as MuiPickersUtilsProvider as well\r\nexport class DateUtils extends MomentUtils {\r\n\tstartOfWeek(date) {\r\n\t\treturn date.clone().startOf('week')\r\n\t}\r\n\r\n\tendOfWeek(date) {\r\n\t\treturn date.clone().endOf('week')\r\n\t}\r\n\r\n\tisWithinInterval(date, { start, end }) {\r\n\t\treturn date.clone().isBetween(start, end, null, '[]')\r\n\t}\r\n\r\n\tadd(date, ammount, unit) {\r\n\t\treturn date.add(ammount, unit)\r\n\t}\r\n\r\n\taddHours(date, hours) {\r\n\t\treturn date.clone().add(hours, 'hour')\r\n\t}\r\n\r\n\tstartOf(date, period) {\r\n\t\treturn date.clone().startOf(period)\r\n\t}\r\n\r\n\tendOf(date, period) {\r\n\t\treturn date.clone().endOf(period)\r\n\t}\r\n\r\n\taddWeeks(date, weeks) {\r\n\t\treturn date.clone().add(weeks, 'week')\r\n\t}\r\n\r\n\tgetUTCOffset(date = this.moment()) {\r\n\t\treturn this.moment(date).utcOffset() / 60\r\n\t}\r\n\r\n\tgetUnix(date) {\r\n\t\treturn date.unix()\r\n\t}\r\n\tgetLocaleDate(locale) {\r\n\t\treturn this.moment.localeData(locale)\r\n\t}\r\n\r\n\tupdateLocale({ locale = 'en', dow, doy }) {\r\n\t\tconst defaultLocaleData = this.getLocaleDate(locale)\r\n\t\tthis.moment.updateLocale(locale, {\r\n\t\t\tweek: {\r\n\t\t\t\tdow: dow || defaultLocaleData.firstDayOfWeek(),\r\n\t\t\t\tdoy: doy || defaultLocaleData.firstDayOfYear(),\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tgetNearestSixHoursUTC(hoursToRound, date) {\r\n\t\tconst now = dateUtils.date(date)\r\n\t\tconst hoursMulti = Math.floor(dateUtils.getHours(now) / hoursToRound)\r\n\t\tconst nearestSix = dateUtils.setHours(\r\n\t\t\tnow,\r\n\t\t\thoursMulti * hoursToRound + dateUtils.getUTCOffset(now)\r\n\t\t)\r\n\t\treturn dateUtils.setMinutes(dateUtils.setSeconds(nearestSix, 0), 0)\r\n\t}\r\n}\r\n\r\nexport function makeJSDateObject(date) {\r\n\tif (moment.isMoment(date)) {\r\n\t\treturn date.clone()\r\n\t}\r\n\r\n\tif (date instanceof Date) {\r\n\t\treturn new Date(date.getTime())\r\n\t}\r\n\r\n\treturn date\r\n}\r\n\r\nconst dateUtils = new DateUtils()\r\ndateUtils.updateLocale({\r\n\tdow: dateUtils\r\n\t\t.getLocaleDate(window.navigator.language.toLowerCase())\r\n\t\t.firstDayOfWeek(),\r\n})\r\n\r\nexport default dateUtils\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const ETHEREUM_NETWORKS = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Goerli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Goerli', for: 'development' },\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n\r\nexport const VALIDATOR_ANALYTICS_METRICS = [\r\n\t'eventPayouts', //\r\n\t'eventCounts',\r\n]\r\nexport const VALIDATOR_ANALYTICS_SIDES = [\r\n\t'advertiser',\r\n\t'publisher', //\r\n]\r\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\r\n\t'IMPRESSION', //\r\n\t'CLICK',\r\n]\r\n\r\n// TEMP: disable long periods\r\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\r\n\t{ label: 'LABEL_HOUR', value: 'hour' },\r\n\t{ label: 'LABEL_DAY', value: 'day' },\r\n\t{ label: 'LABEL_WEEK', value: 'week' },\r\n\t// { label: 'LABEL_MONTH', value: 'month' },\r\n\t// { label: 'LABEL_YEAR', value: 'year' },\r\n]\r\n\r\nexport const WHERE_YOU_KNOW_US = [\r\n\t{ label: 'LABEL_GOOGLE', value: 'search_engine' },\r\n\t{ label: 'LABEL_TWITTER', value: 'twitter' },\r\n\t{ label: 'LABEL_FACEBOOK', value: 'facebook' },\r\n\t{ label: 'LABEL_REDDIT', value: 'reddit' },\r\n\t{ label: 'LABEL_EVENT', value: 'event' },\r\n\t{ label: 'LABEL_FRIEND', value: 'friend' },\r\n\t{ label: 'LABEL_OTHER', value: 'other' },\r\n]\r\n\r\nexport const MOON_GRAVITY_ACCELERATION = 1.625\r\nexport const MOON_TO_EARTH_WEIGHT = 0.166\r\n\r\nexport const WALLET_ACTIONS_MSGS = {\r\n\t[AUTH_TYPES.METAMASK.name]: [\r\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\r\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\r\n\t],\r\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.LEDGER.name]: [{ message: 'LEDGER_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.QUICK.name]: [\r\n\t\t{ message: 'QUICK_WAITING_MSG' },\r\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\r\n\t],\r\n\t[AUTH_TYPES.GRANT.name]: [\r\n\t\t{ message: 'GRANT_WAITING_MSG' },\r\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\r\n\t],\r\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\r\n}\r\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign().plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot().plainObj(),\r\n\t},\r\n\tcurrentItem: {},\r\n\tselectedItems: {\r\n\t\tcampaigns: [],\r\n\t\tadUnits: [],\r\n\t\tslots: [],\r\n\t},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t\tWebsite: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {\r\n\t\tglobal: {},\r\n\t\tbyIdentity: {},\r\n\t},\r\n\tuiMemory: {},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttags: {},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n\tanalytics: {},\r\n\tchannels: {\r\n\t\twithBalanceAll: {},\r\n\t\twithOutstandingBalance: [],\r\n\t},\r\n\tensAddresses: {},\r\n}\r\n\r\nexport default initialState\r\n","// Nodejs encryption with CTR\r\nconst crypto = require('crypto')\r\n\r\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\r\nconst CIPHER_ALG = 'aes-256-cbc'\r\nconst IV_LENGTH = 16\r\nconst HASH_ALG = 'sha256'\r\n\r\nconst getKeyHash = key => {\r\n\tconst hash = crypto.createHash(HASH_ALG)\r\n\thash.update(key)\r\n\tconst hashed = hash.digest()\r\n\treturn hashed\r\n}\r\n\r\nexport const encrypt = async (text, key) => {\r\n\tif (!text) return ''\r\n\tif (!key) {\r\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\r\n\t}\r\n\tconst iv = crypto.randomBytes(IV_LENGTH)\r\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst encr = cipher.update(text)\r\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\r\n\r\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\r\n}\r\n\r\nexport const decrypt = async (text, key) => {\r\n\tconst textParts = text.split(':')\r\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\r\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\r\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst decr = decipher.update(encryptedText)\r\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\r\n\r\n\treturn decrypted.toString()\r\n}\r\n\r\nexport const encryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\r\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\r\n\tlet dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","export const CREATING_SESSION = 'CREATING_SESSION'\r\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\r\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\r\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\r\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\r\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\r\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\r\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\r\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\r\nexport const FETCHING_PUBLISHER_RECEIPTS = 'FETCHING_PUBLISHER_RECEIPTS'\r\n","import { createHashHistory } from 'history'\r\n\r\nconst history = createHashHistory()\r\n\r\nhistory.listen(location => {\r\n\twindow.gtag &&\r\n\t\twindow.gtag('config', process.env.GA_CODE, {\r\n\t\t\tpage_path: location.pathname + location.search,\r\n\t\t})\r\n})\r\n\r\nexport default history\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { updateUserCampaigns, execute } from 'actions'\r\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\r\n\r\n// 30 seconds = market statusLoopTick\r\nconst LOOP_TIMEOUT =\r\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\r\n\r\nconst campaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\r\n\tloopName: '_CAMPAIGNS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { campaignsLoop }\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { execute, updateAccountStats } from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst accountStatsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\r\n\tloopName: '_ACCOUNTS_STATS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport default accountStatsLoop\r\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","import { store } from 'store'\r\n\r\nexport const execute = store.dispatch\r\n\r\nexport const dispatch = store.dispatch\r\n\r\nexport const getState = store.getState\r\n","import dateUtils from 'helpers/dateUtils'\r\n\r\nexport const fillEmptyTime = (\r\n\tprevAggr,\r\n\ttimeframe,\r\n\tdefaultValue = 0,\r\n\tfillAfterLast = 0,\r\n\tperiod\r\n) => {\r\n\tconst now = Date.now()\r\n\tconst time = {\r\n\t\tinterval: period,\r\n\t\tstep: { ammount: 1, unit: 'minute' },\r\n\t}\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\treturn prevAggr\r\n\t}\r\n\tconst newAggr = []\r\n\r\n\tfor (\r\n\t\tvar m = dateUtils.date(time.interval.start);\r\n\t\tdateUtils.getDiff(m, time.interval.end) <= 0;\r\n\t\tdateUtils.add(m, time.step.ammount, time.step.unit)\r\n\t) {\r\n\t\tnewAggr.push({ value: defaultValue, time: dateUtils.getUnix(m) * 1000 })\r\n\t}\r\n\r\n\tconst prevAggrInInterval = prevAggr\r\n\t\t.filter(a => {\r\n\t\t\tconst m = dateUtils.date(a.time)\r\n\t\t\treturn (\r\n\t\t\t\tdateUtils.getDiff(m, time.interval.start) >= 0 &&\r\n\t\t\t\tdateUtils.getDiff(m, time.interval.end) <= 0\r\n\t\t\t)\r\n\t\t})\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\r\n\tconst lastWithValueTime = (prevAggrInInterval[0] || {}).time || now\r\n\r\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\r\n\t\tconst newData = { ...data }\r\n\t\tconst isNullValue = a.value === null || data[a.time] === null\r\n\t\tconst value =\r\n\t\t\ta.time <= lastWithValueTime\r\n\t\t\t\t? isNullValue\r\n\t\t\t\t\t? null\r\n\t\t\t\t\t: data[a.time] || a.value || defaultValue\r\n\t\t\t\t: fillAfterLast\r\n\r\n\t\tnewData[a.time] = a.time <= now ? value : null\r\n\r\n\t\treturn newData\r\n\t}, {})\r\n\r\n\tconst result = Object.entries(data)\r\n\t\t.map(([key, value]) => ({\r\n\t\t\tvalue,\r\n\t\t\ttime: +key,\r\n\t\t}))\r\n\t\t.sort((a, b) => a.time - b.time)\r\n\r\n\treturn result\r\n}\r\n\r\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\r\n\r\nexport const getTimePeriods = ({ timeframe, start }) => {\r\n\tlet end = null\r\n\tconst startCopy = start\r\n\tconst startOfWeek = dateUtils.date(startCopy).startOf('week')\r\n\tconst endOfWeek = dateUtils.date(startCopy).endOf('week')\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\tstart = +dateUtils.date(startCopy).startOf('hour')\r\n\t\t\tend = +dateUtils.date(startCopy).endOf('hour')\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\tstart = +dateUtils.date(startCopy).startOf('day')\r\n\t\t\tend = +dateUtils.date(startCopy).endOf('day')\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\tstart = +dateUtils.addHours(\r\n\t\t\t\tstartOfWeek,\r\n\t\t\t\tdateUtils.getUTCOffset(startOfWeek)\r\n\t\t\t)\r\n\t\t\tend = +dateUtils.addHours(endOfWeek, dateUtils.getUTCOffset(endOfWeek))\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tbreak\r\n\t}\r\n\r\n\tstart = +start\r\n\r\n\treturn { start, end }\r\n}\r\n\r\nexport const getBorderPeriodStart = ({ timeframe, start, next = false }) => {\r\n\tconst startCopy = start\r\n\tconst direction = next ? 1 : -1\r\n\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\tstart = +dateUtils.addHours(dateUtils.date(start), direction)\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\tstart = +dateUtils.addDays(dateUtils.date(start), direction)\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\tstart = +dateUtils.addWeeks(dateUtils.date(start), direction)\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tstart = +dateUtils.addDays(dateUtils.date(start), direction)\r\n\t\t\tbreak\r\n\t}\r\n\tif (dateUtils.isAfter(dateUtils.date(start), dateUtils.date())) {\r\n\t\tstart = startCopy\r\n\t}\r\n\r\n\treturn start\r\n}\r\n","export const getErrorMsg = err => {\r\n\tif (!err) {\r\n\t\treturn ''\r\n\t} else if (typeof err === 'object') {\r\n\t\treturn err.msg || err.message || err.errMsg || err.error\r\n\t} else if (Array.isArray(err)) {\r\n\t\treturn err.join(', ')\r\n\t} else {\r\n\t\treturn err\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport * as types from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport {\r\n\tselectCompanyData,\r\n\tselectAccountIdentityAddr,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectSide,\r\n\tt,\r\n} from 'selectors'\r\nimport { getTimePeriods, getBorderPeriodStart } from 'helpers/timeHelpers'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGlobalUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateMemoryUi(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_MEMORY_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateUiByIdentity(item, value, category) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\r\n\t\t\tidentity,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateIdentitySideUi(item, value) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst identity = selectAccountIdentityAddr(state)\r\n\t\tconst side = selectSide(state)\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY_AND_SIDE,\r\n\t\t\tidentity,\r\n\t\t\titem,\r\n\t\t\tvalue,\r\n\t\t\tside,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\tconst id = Helper.getGuid()\r\n\t\tdispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: {\r\n\t\t\t\ttype,\r\n\t\t\t\taction,\r\n\t\t\t\tlabel,\r\n\t\t\t\ttimeout,\r\n\t\t\t\tunclosable,\r\n\t\t\t\tanchorOrigin,\r\n\t\t\t\ttop,\r\n\t\t\t\tid,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn id\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{\r\n\t\tconfirmLabel = '',\r\n\t\tcancelLabel = '',\r\n\t\ttitle = '',\r\n\t\ttext = '',\r\n\t\tnoCancel = false,\r\n\t\tnoConfirm = false,\r\n\t} = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn async function(dispatch) {\r\n\t\treturn await dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t\tnoCancel: noCancel,\r\n\t\t\t\t\tnoConfirm: noConfirm,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateRegistrationAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\r\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateCompanyData(newData) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst companyData = selectCompanyData(getState())\r\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\r\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_COMPANY_DATA'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateSelectedItems(collection, selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\r\n\t\t\tselectedItems,\r\n\t\t\tcollection,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSelectedItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SELECTED_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateSelectedCampaigns(selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function refreshCacheAndReload({ version }) {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tif (caches) {\r\n\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\r\n\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\r\n\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('REFRESH')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: t('SUCCESS_UPDATING_NEW_APP_VERSION', {\r\n\t\t\t\t\targs: [version],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function notifyNewTOS() {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: t('NOTIFICATION_NEW_TOS', {\r\n\t\t\t\t\targs: [t('TOS_CHECK')],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function handleRedirectParams(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('confirm-email')\r\n\t\tconst identity = searchParams.get('confirm-identity')\r\n\t\tconst grant = searchParams.get('confirm-grant')\r\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\r\n\r\n\t\tif (email && identity && !grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL', {\r\n\t\t\t\t\targs: [email, identity],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} else if (email && identity && grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL_GRANT', {\r\n\t\t\t\t\targs: [email, identity, grant],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateEasterEggsAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tif (\r\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\r\n\t\t\tprocess.env.EASTER_EGGS_VALUE\r\n\t\t) {\r\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updatePrivilegesWarningAccepted(accepted) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateMissingRevenueDataPointAccepted(accepted) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('missingRevenueDataPointsAccepted', accepted)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function hideGettingStarted(side) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('hideGettingStarted', true, side)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function setGettingStartedExpanded(expanded) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('gettingStartedExpanded', expanded)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateIdSideAnalyticsChartPeriod(periodStart) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\tconst { start, end } = getTimePeriods({ timeframe, start: periodStart })\r\n\t\tupdateIdentitySideUi('sideAnalyticsPeriod', { start, end })(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsPeriodPrevNextLive({\r\n\tnext = false,\r\n\tlive = false,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(getState())\r\n\t\t\tlet { start } = selectIdentitySideAnalyticsPeriod(getState())\r\n\r\n\t\t\tif (live) {\r\n\t\t\t\tstart = +dateUtils.date()\r\n\t\t\t} else {\r\n\t\t\t\tstart = getBorderPeriodStart({ timeframe, start, next })\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdSideAnalyticsChartPeriod(start)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS_PREV_PERIOD', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_ANALYTICS_PREV_PERIOD', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateIdSideAnalyticsChartTimeframe(timeframe) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateIdentitySideUi('sideAnalyticsTimeframe', timeframe)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t\tupdateAnalyticsPeriodPrevNextLive({ live: true })(dispatch, getState)\r\n\t}\r\n}\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\n\r\nexport const isEthAddressERC20 = async (addr = '', authType) => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const getERC20Balance = async ({\r\n\taddr = '',\r\n\tbalanceFor = '',\r\n\tauthType,\r\n}) => {\r\n\ttry {\r\n\t\tconst { provider } = await getEthers(authType)\r\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\tconst balance = await contract.balanceOf(balanceFor)\r\n\r\n\t\treturn balance\r\n\t} catch (error) {\r\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\r\n\t\treturn null\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst notEthAddress = !addr || !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else {\r\n\t\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n\r\nexport const freeAdExENS = async ({ username = '', authType }) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tif (username === '') {\r\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\r\n\t\t} else {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst ensAddress = await provider.resolveName(\r\n\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`\r\n\t\t\t)\r\n\r\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error.code === 'INVALID_ARGUMENT') {\r\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\r\n\t\t} else {\r\n\t\t\tmsg = 'ERR_ENS_CHECK'\r\n\t\t}\r\n\t}\r\n\treturn { msg }\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/by-owner/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getIdentityData = ({ identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getRelayerConfigData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}/execute`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tchannel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const regAccount = ({\r\n\towner,\r\n\temail,\r\n\tknowFrom,\r\n\tmoreInfo,\r\n\tbytecode,\r\n\tidentityFactoryAddr,\r\n\tbaseIdentityAddr,\r\n\tsalt,\r\n\tidentityAddr,\r\n\tprivileges,\r\n\troutineAuthorizationsRaw,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\temail,\r\n\t\t\t\tknowFrom,\r\n\t\t\t\tmoreInfo,\r\n\t\t\t\tbytecode,\r\n\t\t\t\tidentityFactoryAddr,\r\n\t\t\t\tbaseIdentityAddr,\r\n\t\t\t\tsalt,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tprivileges,\r\n\t\t\t\troutineAuthorizationsRaw,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getQuickWallet = ({ hash }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail,\r\n\t\t\t\tsalt,\r\n\t\t\t\thash,\r\n\t\t\t\tencryptedWallet,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getEmail = ({ email }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast, updateSpinner } from './uiActions'\r\nimport { bigNumberify, parseUnits } from 'ethers/utils'\r\nimport { validations, Joi, schemas, constants } from 'adex-models'\r\nimport { validPassword } from 'helpers/validators'\r\nimport {\r\n\tt,\r\n\tselectAuthType,\r\n\tselectAccountStatsRaw,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getEmail } from 'services/adex-relayer/actions'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst { campaignPut, account } = schemas\r\nconst { isNumberString } = validations\r\n\r\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst authType = selectAuthType(getState())\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\r\n\t\t\tif (validate) {\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(name, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\tkey,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validate(\r\n\tvalidateId,\r\n\tkey,\r\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (!isValid) {\r\n\t\t\tlet errors = {}\r\n\t\t\terrors[key] = {\r\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t}\r\n\r\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\r\n\t\t} else if (removeAll) {\r\n\t\t\tresetValidationErrors(validateId)(dispatch)\r\n\t\t} else {\r\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport const handleAfterValidation = async ({\r\n\tisValid,\r\n\tonValid,\r\n\tonInvalid,\r\n}) => {\r\n\tif (isValid && typeof onValid === 'function') {\r\n\t\tawait onValid()\r\n\t}\r\n\tif (!isValid && typeof onInvalid === 'function') {\r\n\t\tawait onInvalid()\r\n\t}\r\n}\r\n\r\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tvalidate(validateId, 'emailCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePassword(validateId, password, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tvalidate(validateId, 'password', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePasswordCheck(\r\n\tvalidateId,\r\n\tpasswordCheck,\r\n\tpassword,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tvalidate(validateId, 'passwordCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateTOS(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'tosCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateENS({ username, dirty, validateId, authType }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst { msg } = await freeAdExENS({\r\n\t\t\tusername,\r\n\t\t\tauthType,\r\n\t\t})\r\n\t\tconst isValid = !msg\r\n\t\tvalidate(validateId, 'username', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateWallet(validateId, wallet, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!wallet && !!wallet.address\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateIdentityContractOwner(\r\n\tvalidateId,\r\n\tidentityContractOwner,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!identityContractOwner\r\n\t\tvalidate(validateId, 'identityContractOwner', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateKnowFrom(validateId, knowFrom, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!knowFrom\r\n\t\tvalidate(validateId, 'knowFrom', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_DROPDOWN_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateMoreInfo(validateId, knowFrom, moreInfo, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tknowFrom === 'other' || knowFrom === 'event' ? !!moreInfo : true\r\n\t\tvalidate(validateId, 'moreInfo', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_MOREINFO_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateAccessWarning(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'accessWarningCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignMinTargetingScore({\r\n\tvalidateId,\r\n\tadUnits,\r\n\tminTargetingScore,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\t!minTargetingScore ||\r\n\t\t\t(adUnits.length && adUnits.every(u => !!u.targeting.length))\r\n\t\tvalidate(validateId, 'minTargetingScore', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_MIN_TARGETING_SCORE' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignUnits({ validateId, adUnits, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!adUnits && adUnits.length\r\n\t\tvalidate(validateId, 'adUnits', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\t!!validators &&\r\n\t\t\tvalidators.length === 2 &&\r\n\t\t\t!!validators[0] &&\r\n\t\t\t!!validators[1] &&\r\n\t\t\t!!validators[0].id &&\r\n\t\t\t!!validators[0].url &&\r\n\t\t\tvalidators[0].feeNum !== undefined &&\r\n\t\t\tvalidators[0].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined &&\r\n\t\t\t!!validators[1].id &&\r\n\t\t\t!!validators[1].url &&\r\n\t\t\tvalidators[1].feeNum !== undefined &&\r\n\t\t\tvalidators[1].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined\r\n\r\n\t\tvalidate(validateId, 'validators', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nconst validateAmounts = ({\r\n\tmaxDeposit = bigNumberify(0),\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n}) => {\r\n\tlet error = null\r\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\r\n\t\t\tprop: 'depositAmount',\r\n\t\t}\r\n\t}\r\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\r\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\r\n\t}\r\n\tif (depositAmount.lte(bigNumberify(0))) {\r\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\r\n\t}\r\n\tif (minPerImpression.lte(bigNumberify(0))) {\r\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nexport function validateFees({\r\n\tvalidateId,\r\n\tfeesAmountBN,\r\n\tamountToSpendBN,\r\n\terrorMsg = '',\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = true\r\n\t\tlet msg = errorMsg\r\n\t\tlet args = []\r\n\t\tconst state = getState()\r\n\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\t\tconst amountNeeded = bigNumberify(feesAmountBN).add(\r\n\t\t\tbigNumberify(amountToSpendBN)\r\n\t\t)\r\n\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\r\n\t\tif (amountNeeded.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))) {\r\n\t\t\tconst amountNeededFormatted = formatTokenAmount(\r\n\t\t\t\tamountNeeded,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tnull,\r\n\t\t\t\t2\r\n\t\t\t)\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_TX_INSUFFICIENT_BALANCE'\r\n\t\t\targs = [\r\n\t\t\t\tamountNeededFormatted,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tsymbol,\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'fees', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateWithdrawAmount({\r\n\tvalidateId,\r\n\tamountToWithdraw,\r\n\tavailableIdentityBalanceMainTokenRaw,\r\n\tavailableIdentityBalanceMainTokenFormatted,\r\n\tdecimals,\r\n\tsymbol,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch) {\r\n\t\tlet isValid = isNumberString(amountToWithdraw)\r\n\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet args = []\r\n\t\tconst amount = isValid ? parseUnits(amountToWithdraw, decimals) : null\r\n\t\tif (isValid && amount.isZero()) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\r\n\t\t} else if (\r\n\t\t\tisValid &&\r\n\t\t\tamount.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))\r\n\t\t) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'amountToWithdraw', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateNumberString({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\tintegerOnly,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = isNumberString(value)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT'\r\n\r\n\t\tif (isValid && integerOnly) {\r\n\t\t\tconst int = parseInt(value, 10)\r\n\t\t\tif (int.toString() !== value.toString()) {\r\n\t\t\t\tisValid = false\r\n\t\t\t\tmsg = 'ERR_INVALID_INTEGER_NUMBER'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args: [value] },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAmount({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\terrMsg,\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n\tmaxDeposit,\r\n\tdecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValidNumber = isNumberString(value)\r\n\t\tlet isValid = isValidNumber && parseUnits(value, decimals)\r\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\r\n\t\t\tconst min = prop === 'minPerImpression' ? value : minPerImpression\r\n\r\n\t\t\tconst isValidDeposit = isNumberString(deposit)\r\n\t\t\tconst isValidMin = isNumberString(min)\r\n\r\n\t\t\tif (isValidDeposit && isValidMin) {\r\n\t\t\t\tconst result = validateAmounts({\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\r\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\r\n\t\t\t\t})\r\n\r\n\t\t\t\tisValid = !result.error\r\n\t\t\t\tmsg = result.error ? result.error.message : ''\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\r\n\r\nconst getCampaignDatesValidation = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet error = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\r\n\t} else if (\r\n\t\twithdrawPeriodStart &&\r\n\t\tactiveFrom &&\r\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\r\n\t) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\r\n\t\t\targs: ['1', 'HOUR'],\r\n\t\t\tprop: 'withdrawPeriodStart',\r\n\t\t}\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\r\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\r\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nexport function validateCampaignDates({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n\tcreated,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst withdraw =\r\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\r\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\r\n\r\n\t\tconst result = getCampaignDatesValidation({\r\n\t\t\twithdrawPeriodStart: withdraw,\r\n\t\t\tactiveFrom: from,\r\n\t\t\tcreated,\r\n\t\t})\r\n\r\n\t\tvalidate(validateId, 'activeFrom', {\r\n\t\t\tisValid: !!from,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\r\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\r\n\t\t\terr: {\r\n\t\t\t\tmsg: result.error ? result.error.message : '',\r\n\t\t\t\targs: result.error && (result.error.args || []),\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignTitle({ validateId, title, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst result = Joi.validate(title, campaignPut.title)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tvalidate(validateId, 'title', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEthAddress({\r\n\tvalidateId,\r\n\tprop,\r\n\taddr,\r\n\tnonZeroAddr = true,\r\n\tnonERC20 = true,\r\n\tdirty,\r\n\tauthType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { msg } = await validEthAddress({\r\n\t\t\taddr,\r\n\t\t\tnonZeroAddr,\r\n\t\t\tnonERC20,\r\n\t\t\tauthType,\r\n\t\t})\r\n\r\n\t\tconst isValid = !msg\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesAddress({\r\n\tvalidateId,\r\n\tsetAddr = '',\r\n\twalletAddr = '',\r\n\tprivLevel,\r\n\tauthType,\r\n\twarningAccepted,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isCurrentAddress =\r\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\r\n\t\tlet isValid = warningAccepted || !isCurrentAddress\r\n\r\n\t\tlet msg = ''\r\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\r\n\t\tif (isCurrentAddress && privLevel === 0) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\r\n\t\t} else if (isCurrentAddress && privLevel === 1) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\r\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\r\n\t\t\tisValid = true\r\n\t\t} else if (!isCurrentAddress) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'setAddrWarning', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn { isValid, msg }\r\n\t}\r\n}\r\n\r\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\r\n\t\tawait validate(validateId, 'privLevel', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(value, schema)\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tconsole.log('result', result)\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(email, account.email)\r\n\t\tlet isValid = !result.error\r\n\t\tlet msg = result.error ? result.error.message : ''\r\n\r\n\t\tif (validateNotExisting && isValid) {\r\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\r\n\t\t\tisValid = existing === false\r\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'email', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import { validate } from 'actions'\r\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\r\n\r\nexport function validateMediaSize({\r\n\tvalidateId,\r\n\tmedia,\r\n\tpropName,\r\n\tdirty,\r\n\twidthTarget,\r\n\theightTarget,\r\n\tmsg,\r\n\texact,\r\n\trequired,\r\n} = {}) {\r\n\treturn async function(dispatch) {\r\n\t\tconst { mime, tempUrl } = media\r\n\t\tlet isValid = mime && tempUrl\r\n\t\tlet args = [widthTarget, heightTarget, 'px']\r\n\r\n\t\tif (!required && !media.tempUrl) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tif (required && isValid) {\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\t\t\tconst mediaWidth = size.width\r\n\t\t\tconst mediaHeight = size.height\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactishAspect(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, propName, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow, skipRedirect) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut(skipRedirect)\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\thandleRequesterErrorRes({ res, text })\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdUnitById = ({ unitId }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${unitId}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `slots/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({ authSig, creator }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${campaign.id}/close`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAllCampaigns = ({ all, statuses, byEarner } = {}) => {\r\n\tconst queryParams = {\r\n\t\t...(all && { all: true }),\r\n\t\t...(statuses && { status: statuses.join(',') }),\r\n\t\tbyEarner,\r\n\t}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateCampaign = ({ campaign, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(campaign),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const verifyWebsite = ({ websiteUrl }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots/verify-website',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON({ websiteUrl }),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { parseUnits, bigNumberify } from 'ethers/utils'\r\n\r\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\r\n\tif (numStr === null || numStr === undefined) {\r\n\t\treturn numStr\r\n\t}\r\n\r\n\treturn parseUnits(numStr, decimals)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n}\r\n","import { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const AcLocations = autocompleteLocationsSingleSelect()\r\nexport const AcGenders = autocompleteGendersSingleSelect()\r\nexport const AcTags = autocompleteTagsSingleSelect()\r\n\r\nexport const SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tuploadImage,\r\n\tupdateAdSlot,\r\n\tupdateAdUnit,\r\n\tupdateCampaign,\r\n} from 'services/adex-market/actions'\r\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\r\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\r\n\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetAdUnits,\r\n\tgetAdSlots,\r\n\tgetAdUnitById,\r\n} from 'services/adex-market/actions'\r\n\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { SOURCES } from 'constants/targeting'\r\nimport { selectRelayerConfig, selectAccount, selectAuth } from 'selectors'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nexport const getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\nexport function getAllItems() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\r\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\r\n\t\t\tconst userSlots = resSlots.slots || []\r\n\t\t\tconst userPassbackUnits = (resSlots.passbackUnits || []).reduce(\r\n\t\t\t\t(passbacks, u) => {\r\n\t\t\t\t\tconst { id, mediaMime, mediaUrl, targetUrl } = u\r\n\t\t\t\t\tpassbacks[id] = { mediaMime, mediaUrl, targetUrl }\r\n\r\n\t\t\t\t\treturn passbacks\r\n\t\t\t\t},\r\n\t\t\t\t{}\r\n\t\t\t)\r\n\r\n\t\t\tconst slotsWithUnits = userSlots.map(async s => ({\r\n\t\t\t\t...s,\r\n\t\t\t\t...(s.fallbackUnit ? userPassbackUnits[s.fallbackUnit] : {}),\r\n\t\t\t}))\r\n\r\n\t\t\tconst slotWithUnitsRes = await Promise.all(slotsWithUnits)\r\n\t\t\tif (selectAuth(getState())) {\r\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: slotWithUnitsRes,\r\n\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tupdateItems({ items: resSlots.websites || [], itemType: 'Website' })(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({ item, itemType } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { id } = item\r\n\t\tupdateSpinner('update' + id, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authSig } = account.wallet\r\n\t\t\tconst { mainToken } = selectRelayerConfig()\r\n\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tlet updatedItem = null\r\n\t\t\tlet objModel = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tif (typeof newItem.temp.minPerImpression === 'string') {\r\n\t\t\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\t\tnumStr: newItem.temp.minPerImpression,\r\n\t\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof newItem.temp.website === 'string') {\r\n\t\t\t\t\t\tnewItem.website = newItem.temp.website\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// In case newItem.website is null (very few slots)\r\n\t\t\t\t\tnewItem.website = newItem.website || ''\r\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\r\n\t\t\t\t\tobjModel = AdSlot\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\r\n\t\t\t\t\tobjModel = AdUnit\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\r\n\t\t\t\t\t\t.campaign\r\n\t\t\t\t\tobjModel = Campaign\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, item.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deleteItem({ item, objModel, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = true\r\n\r\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\r\n}\r\n\r\nexport function restoreItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\r\n\t\terrMsg: 'ERR_RESTORING_ITEM',\r\n\t})\r\n}\r\n\r\nconst findSourceByTag = tag => {\r\n\treturn Object.keys(SOURCES).find(\r\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\r\n\t)\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: key,\r\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = true\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function unarchiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateTags = ({ tags }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TAGS,\r\n\t\t\ttags: tags,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\r\nimport { Contract } from 'ethers'\r\nimport {\r\n\tbigNumberify,\r\n\tparseUnits,\r\n\tgetAddress,\r\n\tInterface,\r\n\tkeccak256,\r\n\tid,\r\n} from 'ethers/utils'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport { executeTx } from 'services/adex-relayer'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectFeeTokenWhitelist,\r\n\tselectSaiToken,\r\n\tt,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\nimport solc from 'solcBrowser'\r\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nconst { AdExENSManager, ReverseRegistrar } = contracts\r\n\r\nconst ERC20 = new Interface(ERC20TokenABI)\r\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\r\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\r\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\r\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\r\n\r\nexport async function getIdentityDeployData({\r\n\towner,\r\n\trelayerRoutineAuthValidUntil = 10648454444,\r\n}) {\r\n\tconst {\r\n\t\tidentityFactoryAddr,\r\n\t\trelayerAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tidentityRecoveryAddr,\r\n\t\tcoreAddr,\r\n\t\tmainToken,\r\n\t} = selectRelayerConfig()\r\n\r\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\r\n\r\n\tconst routineAuthorizationsRaw = [\r\n\t\t{\r\n\t\t\trelayer: relayerAddr,\r\n\t\t\toutpace: coreAddr,\r\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tfeeTokenAmount: '0x00',\r\n\t\t},\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tbaseIdentityAddr,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t\troutineAuthsSlot: 1,\r\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\r\n\t\t\t\tnew RoutineAuthorization(x).hash()\r\n\t\t\t),\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst identityAddr = getAddress(\r\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tidentityFactoryAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tidentityAddr,\r\n\t\tprivileges,\r\n\t\troutineAuthorizationsRaw,\r\n\t}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { authType } = wallet\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: tokenAddr,\r\n\t\tto: tokenAddr,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t\twithdrawTx: true,\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: toWithdraw,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\r\n\tif (fees.totalBN.gt(mtBalance)) {\r\n\t\tthrow new Error(\r\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\t`${formatTokenAmount(\r\n\t\t\t\t\t\tmtBalance.toString(),\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t2\r\n\t\t\t\t\t)} ${symbol}`,\r\n\t\t\t\t\t`${fees.total} ${symbol}`,\r\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\r\n\r\n\tlet actualWithdrawAmount = toWithdraw\r\n\r\n\tif (toWithdraw.gt(maxWithdraw)) {\r\n\t\tactualWithdrawAmount = maxWithdraw\r\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\r\n\t\t\tif (tx.withdrawTx) {\r\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tactualWithdrawAmount.toString(),\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttotalBN: fees.totalBN,\r\n\t\t\tactualWithdrawAmount,\r\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tif (getFeesOnly) {\r\n\t\tconst { total, totalBN } = await getIdentityTxnsTotalFees({\r\n\t\t\ttxnsByFeeToken,\r\n\t\t})\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t\ttotalBN,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\ttxnsByFeeToken,\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: {\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t},\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\nfunction txnsByTokenWithSaiToDaiSwap({\r\n\ttxns,\r\n\tmainToken,\r\n\tdaiAddr,\r\n\tsaiAddr,\r\n\tidentityAddr,\r\n}) {\r\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\r\n\t\t(current, tx, i) => {\r\n\t\t\tconst { withdrawAmountByToken } = tx\r\n\r\n\t\t\tconst needSaiToDaiSwap =\r\n\t\t\t\t!!withdrawAmountByToken &&\r\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\r\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\r\n\t\t\t\tmainToken.address === daiAddr &&\r\n\t\t\t\tsaiAddr !== daiAddr\r\n\r\n\t\t\tlet feeTokenAddr = ''\r\n\r\n\t\t\tif (needSaiToDaiSwap) {\r\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\r\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\r\n\t\t\t\t)\r\n\t\t\t\tfeeTokenAddr = daiAddr\r\n\t\t\t}\r\n\r\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\r\n\t\t\t// normalize tx\r\n\t\t\ttx.feeTokenAddr = feeTokenAddr\r\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\r\n\r\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\r\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\r\n\t\t\t\ttx,\r\n\t\t\t]\r\n\r\n\t\t\treturn current\r\n\t\t},\r\n\t\t{\r\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\r\n\t\t\ttxnsByFeeToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { txnsByFeeToken, saiWithdrawAmount }\r\n}\r\n\r\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: AdExENSManager.address,\r\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\r\n\t\t\tAdExENSManager.publicResolver,\r\n\t\t\tid(username),\r\n\t\t\tidentityAddr,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: ReverseRegistrar.address,\r\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\r\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({\r\n\t\ttxnsByFeeToken,\r\n\t\tmainToken,\r\n\t})\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t\ttotalBN,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function getIdentityTxnsWithNoncesAndFees({\r\n\tamountInMainTokenNeeded = '0',\r\n\ttxns = [],\r\n\tidentityAddr,\r\n\tprovider,\r\n\tIdentity,\r\n\taccount,\r\n\tgetToken,\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\r\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\r\n\r\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\r\n\tlet identityContract = null\r\n\r\n\tif (isDeployed) {\r\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\t}\r\n\r\n\tconst initialNonce = isDeployed\r\n\t\t? (await identityContract.nonce()).toNumber()\r\n\t\t: 0\r\n\r\n\tconst feesForMainTxns = txns.length\r\n\t\t? bigNumberify(\r\n\t\t\t\t!initialNonce\r\n\t\t\t\t\t? mainTokenWithFees.minDeploy\r\n\t\t\t\t\t: mainTokenWithFees.minRecommended\r\n\t\t  ).add(\r\n\t\t\t\tbigNumberify(mainTokenWithFees.minRecommended).mul(\r\n\t\t\t\t\tbigNumberify(txns.length - 1)\r\n\t\t\t\t)\r\n\t\t  )\r\n\t\t: bigNumberify(0)\r\n\r\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\r\n\t\tbigNumberify(amountInMainTokenNeeded)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsweepTxns = [],\r\n\t\tswapAmountsByToken = {},\r\n\t} = await getSweepingTxnsIfNeeded({\r\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\r\n\r\n\t\taccount,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns: sweepTxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// 1st - always get sweeping txns (channelWithdraw)\r\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\r\n\t// 3rd - make other txns with the main token only\r\n\r\n\t// TODO: make it work with other tokens\r\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\r\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\r\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\r\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\r\n\r\n\tif (!saiSwapAmount.isZero()) {\r\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\r\n\t\t\t...(await swapSaiToDaiTxns({\r\n\t\t\t\tgetToken,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tdaiAddr,\r\n\t\t\t\tsaiToken,\r\n\t\t\t\tswapAmount: saiSwapAmount,\r\n\t\t\t})),\r\n\t\t]\r\n\t}\r\n\r\n\tconst allFeeTokens = [\r\n\t\t...new Set([\r\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\r\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\r\n\t\t]),\r\n\t]\r\n\r\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\r\n\t\ttxns[token] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t]\r\n\r\n\t\treturn txns\r\n\t}, {})\r\n\r\n\tlet currentNonce = initialNonce\r\n\r\n\tObject.keys(txnsByFeeToken).forEach(key => {\r\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\r\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\r\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\r\n\t\t\tconst txFeeAmount = isSweepTx ? feeToken.min : feeToken.minRecommended\r\n\r\n\t\t\tconst minFeeAmount = bigNumberify(\r\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : txFeeAmount\r\n\t\t\t)\r\n\r\n\t\t\tconst sweepRoutinesFeeAmount = bigNumberify(routinesSweepTxCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.min)\r\n\t\t\t)\r\n\r\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.minRecommended)\r\n\t\t\t)\r\n\r\n\t\t\t// Total relayer fees for the transaction\r\n\t\t\tconst feeAmount = minFeeAmount\r\n\t\t\t\t.add(sweepRoutinesFeeAmount)\r\n\t\t\t\t.add(extraFeesAmount)\r\n\t\t\t\t.toString()\r\n\r\n\t\t\t// fees that are not pre calculated with in the total identity balance\r\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\r\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\r\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\tconst txWithNonce = {\r\n\t\t\t\t...tx,\r\n\t\t\t\tfeeTokenAddr: feeToken.address,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\tnonce: currentNonce,\r\n\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t}\r\n\r\n\t\t\tcurrentNonce += 1\r\n\r\n\t\t\treturn txWithNonce\r\n\t\t})\r\n\t})\r\n\r\n\treturn txnsByFeeToken\r\n}\r\n\r\nexport async function getApproveTxns({\r\n\tgetToken,\r\n\ttoken,\r\n\tidentityAddr,\r\n\tfeeTokenAddr,\r\n\tapproveForAddress,\r\n\tapproveAmount,\r\n}) {\r\n\tconst tokenContract = getToken(token)\r\n\r\n\tconst allowance = await tokenContract.allowance(\r\n\t\tidentityAddr,\r\n\t\tapproveForAddress\r\n\t)\r\n\r\n\tconst approveTxns = []\r\n\r\n\tif (!allowance.isZero()) {\r\n\t\tapproveTxns.push({\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: token.address,\r\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\r\n\t\t})\r\n\t}\r\n\r\n\tapproveTxns.push({\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tto: token.address,\r\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\r\n\t})\r\n\r\n\treturn approveTxns\r\n}\r\n\r\nasync function swapSaiToDaiTxns({\r\n\tidentityAddr,\r\n\tdaiAddr,\r\n\tsaiToken,\r\n\tswapAmount,\r\n\tgetToken,\r\n}) {\r\n\tconst approveTxns = await getApproveTxns({\r\n\t\tgetToken,\r\n\t\ttoken: saiToken,\r\n\t\tidentityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\r\n\t\tapproveAmount: swapAmount,\r\n\t})\r\n\r\n\tconst swapTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tto: SCD_MCD_MIGRATION_ADDR,\r\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\r\n\t}\r\n\r\n\treturn [...approveTxns, swapTx]\r\n}\r\n\r\n// TODO: use byToken where needed\r\n// currently works because only using SAI and DAI only\r\nexport async function getIdentityTxnsTotalFees({\r\n\ttxnsByFeeToken,\r\n\tmainToken = {},\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst bigZero = bigNumberify('0')\r\n\tconst feesData = Object.values(txnsByFeeToken)\r\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\r\n\t\t.reduce(\r\n\t\t\t(result, tx) => {\r\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\r\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\r\n\r\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\r\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\r\n\t\t\t\t).add(txFeeAmount)\r\n\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t{ total: bigZero, byToken: {} }\r\n\t\t)\r\n\r\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\r\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\r\n\t\treturn {\r\n\t\t\taddress: key,\r\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\r\n\t\t\tsymbol,\r\n\t\t\tfeeFormatted: `${formatTokenAmount(\r\n\t\t\t\tvalue.toString(),\r\n\t\t\t\tdecimals,\r\n\t\t\t\tfalse,\r\n\t\t\t\t4\r\n\t\t\t)} ${symbol}`,\r\n\t\t}\r\n\t})\r\n\r\n\tconst fees = {\r\n\t\t// TODO: change to return total as BN and add totalFormatted\r\n\t\ttotal: formatTokenAmount(\r\n\t\t\tfeesData.total.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalBN: feesData.total,\r\n\t\tbyToken,\r\n\t}\r\n\r\n\treturn fees\r\n}\r\n\r\nexport async function processExecuteByFeeTokens({\r\n\ttxnsByFeeToken,\r\n\twallet,\r\n\tprovider,\r\n\tidentityAddr,\r\n\textraData = {},\r\n}) {\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\r\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\r\n\t\tconst data = {\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\t...extraData,\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\r\n\t\t\tprocess.env.NODE_ENV === 'development'\r\n\t\t) {\r\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\r\n\t\t}\r\n\r\n\t\tconst result = await executeTx(data)\r\n\r\n\t\treturn {\r\n\t\t\tresult,\r\n\t\t}\r\n\t})\r\n\r\n\tconst results = await Promise.all(all)\r\n\r\n\treturn results\r\n}\r\n\r\nexport async function withdrawOtherTokensFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\tconst decimals = parseInt(tokenDecimals, 10)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: mainToken.address,\r\n\t\tto: tokenAddress,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n","import crypto from 'crypto'\r\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\r\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetIdentityTxnsWithNoncesAndFees,\r\n\tgetIdentityTxnsTotalFees,\r\n\tprocessExecuteByFeeTokens,\r\n\tgetApproveTxns,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { contracts } from '../contractsCfg'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit } from 'adex-models'\r\nimport { getAllCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\tbigNumberify,\r\n\trandomBytes,\r\n\tparseUnits,\r\n\tInterface,\r\n\tgetAddress,\r\n} from 'ethers/utils'\r\nimport {\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectMainFeeToken,\r\n\tselectMainToken,\r\n\tselectSaiToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\r\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\r\nimport { getState } from 'store'\r\n\r\nconst { AdExCore } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst IdentityInterface = new Interface(IdentityABI)\r\n\r\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\r\nconst VALID_UNTIL_COEFFICIENT = 0.5\r\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\r\nconst OUTSTANDING_STATUSES = {\r\n\tActive: true,\r\n\tReady: true,\r\n\tExhausted: true,\r\n\tOffline: true,\r\n\tUnhealthy: true,\r\n\tWithdraw: true,\r\n}\r\n\r\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\ttitle: channel.title,\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\r\n\tconst period = withdrawPeriodStart - activeFrom\r\n\tconst validUntil =\r\n\t\twithdrawPeriodStart +\r\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\r\n\r\n\treturn Math.floor(validUntil / 1000)\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, mainToken) {\r\n\tconst newCampaign = new Campaign(campaign)\r\n\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(\r\n\t\tnewCampaign.activeFrom,\r\n\t\tnewCampaign.withdrawPeriodStart\r\n\t)\r\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = parseUnits(\r\n\t\tnewCampaign.depositAmount || '0',\r\n\t\tmainToken.decimals\r\n\t).toString()\r\n\r\n\tconst validators = newCampaign.validators.map(v => {\r\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\r\n\t\tconst fee = deposit\r\n\t\t\t.mul(bigNumberify(v.feeNum || 1))\r\n\t\t\t.div(bigNumberify(v.feeDen || 1))\r\n\t\t\t.toString()\r\n\r\n\t\tconst validator = {\r\n\t\t\tid: v.id,\r\n\t\t\turl: v.url,\r\n\t\t\tfee,\r\n\t\t}\r\n\r\n\t\tif (v.feeAddr) {\r\n\t\t\tvalidator.feeAddr = v.feeAddr\r\n\t\t}\r\n\r\n\t\treturn validator\r\n\t})\r\n\r\n\tnewCampaign.validators = validators\r\n\r\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\r\n\tnewCampaign.minPerImpression = parseUnits(\r\n\t\tnewCampaign.minPerImpression || '0',\r\n\t\tmainToken.decimals\r\n\t)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\r\n\r\n\tnewCampaign.depositAsset = mainToken.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = {\r\n\t\tname: 'Pending',\r\n\t\thumanFriendlyName: 'Active',\r\n\t\tlastChecked: Date.now(),\r\n\t}\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nconst getWithdrawnPerUserOutstanding = async ({\r\n\tAdExCore,\r\n\tchannel,\r\n\tbalance,\r\n\tidentityAddr,\r\n}) => {\r\n\treturn bigNumberify(balance).sub(\r\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\r\n\t)\r\n}\r\n\r\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\r\n\tconst { authType } = wallet\r\n\tconst channels = await getAllCampaigns({ all: true, byEarner: identityAddr })\r\n\tconst { AdExCore } = await getEthers(authType)\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\r\n\r\n\tconst allChannels = await Promise.all(\r\n\t\tchannels\r\n\t\t\t.filter(\r\n\t\t\t\tchannel =>\r\n\t\t\t\t\tchannel &&\r\n\t\t\t\t\tchannel.status &&\r\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\r\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\r\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\r\n\t\t\t)\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\r\n\t\t\t\t\t(balances, e) => {\r\n\t\t\t\t\t\tconst [address, balance] = e\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (getAddress(address)) {\r\n\t\t\t\t\t\t\t\tbalances[address] = balance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch {}\r\n\t\t\t\t\t\treturn balances\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\r\n\r\n\t\t\t\treturn channel\r\n\t\t\t})\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\tbTree,\r\n\t\t\t\t\tchannel,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter(({ bTree }) => {\r\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\r\n\t\t\t})\r\n\t\t\t.map(\r\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\r\n\t\t\t\t\t//  mTree,\r\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\r\n\r\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\r\n\t\t\t\t\t\tAdExCore,\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tidentityAddr,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tconst outstandingAvailable = outstanding.sub(\r\n\t\t\t\t\t\tbigNumberify(feeTokenWhitelist[channel.depositAsset].min)\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t\tconst balanceNum = bigNumberify(channel.depositAmount)\r\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[0].fee || 0))\r\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[1].fee || 0))\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\t\toutstanding,\r\n\t\t\t\t\t\toutstandingAvailable,\r\n\t\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t)\r\n\r\n\tconst all = Object.assign(\r\n\t\t{},\r\n\t\t...allChannels.map(c => {\r\n\t\t\tconst { channel, balance } = c\r\n\t\t\tconst { id, depositAmount, depositAsset, status, spec } = channel\r\n\t\t\tconst balanceNum = bigNumberify(depositAmount)\r\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[0].fee))\r\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[1].fee))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\treturn {\r\n\t\t\t\t[c.channel.id.toLowerCase()]: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tbalance,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tdepositAsset,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\tstatus: status.name,\r\n\t\t\t\t\tadUnits: spec.adUnits, //TODO: add only what needed\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n\t)\r\n\r\n\tconst withOutstandingBalance = allChannels.filter(x => {\r\n\t\treturn (\r\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\r\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\r\n\t\t\t\tDate.now() &&\r\n\t\t\tx.outstanding.gt(\r\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\r\n\t\t\t) &&\r\n\t\t\tx.outstandingAvailable.gt(bigNumberify('0'))\r\n\t\t)\r\n\t})\r\n\r\n\treturn { all, withOutstandingBalance }\r\n}\r\n\r\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\r\n\tconst { eligible } = withBalance\r\n\t\t.sort((c1, c2) => {\r\n\t\t\treturn bigNumberify(c2.outstandingAvailable).gt(\r\n\t\t\t\tbigNumberify(c1.outstandingAvailable)\r\n\t\t\t)\r\n\t\t})\r\n\t\t.reduce(\r\n\t\t\t(data, c) => {\r\n\t\t\t\tconst current = { ...data }\r\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\r\n\t\t\t\t\tcurrent.eligible.push(c)\r\n\t\t\t\t\tcurrent.sum = current.sum.add(bigNumberify(c.outstandingAvailable))\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn current\r\n\t\t\t},\r\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\r\n\t\t)\r\n\r\n\treturn eligible\r\n}\r\n\r\nconst getChannelWithdrawData = ({\r\n\tidentityAddr,\r\n\tbalance,\r\n\tlastApprovedBalances,\r\n\tlastApprovedSigs,\r\n\tethChannelTuple,\r\n}) => {\r\n\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\tconst proof = bTree.getProof(identityAddr)\r\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\r\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\r\n\tconst root = bTree.mTree.getRoot()\r\n\r\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\r\n}\r\n\r\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\r\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\r\n\t\t(data, tx) => {\r\n\t\t\tconst updated = { ...data }\r\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\r\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\r\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\r\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\r\n\r\n\t\t\treturn updated\r\n\t\t},\r\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\r\n\t)\r\n\r\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\r\n\t\troutineAuthTuple,\r\n\t\troutineOpts,\r\n\t])\r\n\r\n\tconst routinesTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tto: identityAddr,\r\n\t\tdata,\r\n\t\twithdrawAmountByToken,\r\n\t\troutinesSweepTxCount: routineOpts.length,\r\n\t}\r\n\r\n\treturn routinesTx\r\n}\r\n\r\nfunction getIdentityRoutineAuthTuple(identity) {\r\n\treturn identity &&\r\n\t\tidentity.relayerData &&\r\n\t\tidentity.relayerData.deployData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t: null\r\n}\r\n\r\nfunction is41identity(routineAuthTuple) {\r\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\r\n\r\n\treturn is41\r\n}\r\n\r\nfunction hasValidExecuteRoutines(routineAuthTuple) {\r\n\tconst hasValidRoutines =\r\n\t\tis41identity(routineAuthTuple) &&\r\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\r\n\r\n\treturn hasValidRoutines\r\n}\r\n\r\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\r\n\tconst { wallet, identity } = account\r\n\t// TODO: pass withBalance as prop\r\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\r\n\r\n\tconst { AdExCore } = await getEthers(wallet.authType)\r\n\tconst identityAddr = identity.address\r\n\tconst channelsToSweep = await getChannelsToSweepFrom({\r\n\t\tamountToSweep,\r\n\t\tidentityAddr,\r\n\t\twithBalance,\r\n\t})\r\n\r\n\tconst txns = channelsToSweep.map((c, i) => {\r\n\t\tconst {\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tchannel,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\toutstanding,\r\n\t\t\t// outstandingAvailable,\r\n\t\t\tbalance,\r\n\t\t} = c\r\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\r\n\r\n\t\tconst data = getChannelWithdrawData({\r\n\t\t\tidentityAddr,\r\n\t\t\tbalance,\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\tethChannelTuple,\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tfeeTokenAddr: channel.depositAsset,\r\n\t\t\tdata,\r\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\r\n\t\t}\r\n\t})\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\r\n\tlet encodedTxns = null\r\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\r\n\t\tencodedTxns = [\r\n\t\t\tgetSweepExecuteRoutineTx({\r\n\t\t\t\ttxns,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\troutineAuthTuple,\r\n\t\t\t}),\r\n\t\t]\r\n\t} else {\r\n\t\tencodedTxns = txns.map(tx => {\r\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\r\n\t\t\ttx.isSweepTx = true\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\treturn encodedTxns\r\n}\r\n\r\nfunction getSwapAmountsByToken({ balances }) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\r\n\t\t(swaps, balance) => {\r\n\t\t\t// TODO: currently work only for SAI to DAI swap\r\n\t\t\tif (\r\n\t\t\t\tbalance.token.address !== mainToken.address &&\r\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\r\n\t\t\t\tbalance.token.address === saiToken.address\r\n\t\t\t) {\r\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\r\n\t\t\t\t\tbalance.balanceMainToken\r\n\t\t\t\t)\r\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\r\n\t\t\t}\r\n\t\t\treturn swaps\r\n\t\t},\r\n\t\t{\r\n\t\t\tswapsSumInMainToken: bigNumberify(0),\r\n\t\t\tswapsByToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { swapsByToken, swapsSumInMainToken }\r\n}\r\n\r\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\r\n// amountNeeded must be in MainToken\r\nexport async function getSweepingTxnsIfNeeded({\r\n\tamountInMainTokenNeeded,\r\n\taccount,\r\n}) {\r\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\r\n\tconst {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\r\n\r\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\r\n\r\n\tconst sweepData = {\r\n\t\tsweepTxns: [],\r\n\t\tswapAmountsByToken: {},\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\t// Swaps\r\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\r\n\t\t\tbalances,\r\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\r\n\t\tsweepData.swapAmountsByToken = swapsByToken\r\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\r\n\t\t\taccount,\r\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\t}\r\n\r\n\treturn sweepData\r\n}\r\n\r\nexport async function openChannel({\r\n\tcampaign,\r\n\taccount,\r\n\tgetFeesOnly,\r\n\tgetMaxFees,\r\n}) {\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\r\n\tconst mainToken = selectMainFeeToken()\r\n\tconst depositAmount = getMaxFees\r\n\t\t? availableIdentityBalanceMainToken\r\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst feeTokenAddr = mainToken.address\r\n\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\r\n\r\n\tconst txns = []\r\n\r\n\tif (hasIdentityChannelOpen) {\r\n\t\tconst identityChannelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: identityAddr,\r\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\r\n\t\t\t\tAdExCore.address,\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t\textraTxFeesCount: 1,\r\n\t\t}\r\n\t\ttxns.push(identityChannelOpenTx)\r\n\t} else {\r\n\t\tconst approveTxns = await getApproveTxns({\r\n\t\t\tgetToken,\r\n\t\t\ttoken: mainToken,\r\n\t\t\tidentityAddr,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tapproveForAddress: AdExCore.address,\r\n\t\t\tapproveAmount: depositAmount,\r\n\t\t})\r\n\r\n\t\tconst channelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\r\n\t\t}\r\n\t\ttxns.push(...approveTxns, channelOpenTx)\r\n\t}\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: depositAmount,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\r\n\tconst bigZero = bigNumberify(0)\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\r\n\t\t? bigZero\r\n\t\t: mtBalance.sub(totalBN)\r\n\tconst maxAvailableFormatted = formatTokenAmount(\r\n\t\tmaxAvailable.toString(),\r\n\t\tmainToken.decimals || 18,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfeesFormatted: total,\r\n\t\t\tfees: totalBN,\r\n\t\t\tmaxAvailable,\r\n\t\t\tmaxAvailableFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: { channel },\r\n\t})\r\n\r\n\treadyCampaign.id = channel.id\r\n\tconst storeCampaign = { ...readyCampaign }\r\n\tstoreCampaign.spec = { ...openReady.spec }\r\n\treturn {\r\n\t\tresult,\r\n\t\tstoreCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import { bigNumberify } from 'ethers/utils'\r\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\r\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n\r\nimport { getAllCampaigns } from './actions'\r\n\r\nexport async function getUnitsStatsByType() {\r\n\tconst { decimals } = selectMainToken()\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst allChannels = await getAllCampaigns()\r\n\r\n\tconst channels = allChannels.filter(\r\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\r\n\t)\r\n\r\n\tconst unitsByType = channels.reduce((units, channel) => {\r\n\t\tconst byType = { ...units }\r\n\t\tchannel.spec.adUnits.forEach(unit => {\r\n\t\t\tbyType[unit.type] = byType[unit.type] || []\r\n\t\t\tbyType[unit.type].push(channel)\r\n\t\t})\r\n\r\n\t\treturn byType\r\n\t}, {})\r\n\r\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\r\n\t\tasync (prevStats, key) => {\r\n\t\t\tconst stats = await prevStats\r\n\t\t\tconst channelsByType = unitsByType[key]\r\n\r\n\t\t\tlet totalPerImpression = bigNumberify('0')\r\n\t\t\tlet totalVolume = bigNumberify('0')\r\n\r\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\r\n\t\t\t\tconst channel = channelsByType[index]\r\n\r\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\r\n\t\t\t\t})\r\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\r\n\t\t\t\t})\r\n\r\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\r\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\r\n\t\t\t}\r\n\r\n\t\t\tconst avgPerImpression = totalPerImpression.div(\r\n\t\t\t\tbigNumberify(channelsByType.length)\r\n\t\t\t)\r\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\r\n\r\n\t\t\tconst statsByType = { ...stats }\r\n\t\t\tstatsByType[key] = {}\r\n\t\t\tstatsByType[key].raw = {\r\n\t\t\t\ttotalVolume,\r\n\t\t\t\tavgPerImpression,\r\n\t\t\t\tavgCPM,\r\n\t\t\t}\r\n\r\n\t\t\tstatsByType[key].formatted = {\r\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\r\n\t\t\t\tavgPerImpression: formatTokenAmount(\r\n\t\t\t\t\tavgPerImpression,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\r\n\t\t\t}\r\n\r\n\t\t\treturn statsByType\r\n\t\t},\r\n\t\tPromise.resolve({})\r\n\t)\r\n\r\n\treturn unitsByTypeStats\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport throttle from 'lodash.throttle'\r\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetValidatorAuthToken,\r\n\tidentityAnalytics,\r\n\tidentityCampaignsAnalytics,\r\n\ttimeBasedAnalytics,\r\n} from 'services/adex-validator/actions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n} from 'constants/misc'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { fillEmptyTime } from 'helpers/timeHelpers'\r\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectSide,\r\n\tselectAccount,\r\n\tselectStatsChartData,\r\n\tselectAnalyticsLiveTimestamp,\r\n\tselectPublisherReceiptsPresentMonths,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectMonthsRange,\r\n} from 'selectors'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport moment from 'moment'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\nconst analyticsParams = (timeframe, side) => {\r\n\tconst callsParams = []\r\n\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\r\n\t\t\tcallsParams.push({\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tside,\r\n\t\t\t\teventType,\r\n\t\t\t\t...(side === 'publisher' &&\r\n\t\t\t\t\tmetric === 'eventPayouts' && { segmentByChannel: true }),\r\n\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\treturn callsParams\r\n}\r\n\r\nconst analyticsCampaignsParams = () => {\r\n\tconst callsParams = []\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tcallsParams.push({ eventType })\r\n\t)\r\n\treturn callsParams\r\n}\r\n\r\nfunction aggrByChannelsSegments({\r\n\taggr,\r\n\tallChannels,\r\n\tfeeTokens,\r\n\twithdrawTokens,\r\n}) {\r\n\tif (!Object.keys(allChannels).length) {\r\n\t\treturn []\r\n\t}\r\n\t// NOTE: No need to sort them again because fillEmptyTime\r\n\t// is sorting by time after adding the empty time values\r\n\tconst { aggregations, all } = aggr\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\t\t.reduce(\r\n\t\t\t(data, a) => {\r\n\t\t\t\tconst { time } = a\r\n\t\t\t\tconst { aggregations, channels, all } = data\r\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\r\n\r\n\t\t\t\tconst { depositAmount, balanceNum, depositAsset, status } =\r\n\t\t\t\t\tallChannels[channelId] || {}\r\n\r\n\t\t\t\tconst { minPlatform, minFinal } = withdrawTokens[depositAsset]\r\n\t\t\t\tconst { min } = feeTokens[depositAsset]\r\n\t\t\t\tconst isExpired = status === 'Expired'\r\n\t\t\t\tconst minBalance = isExpired ? minFinal : minPlatform\r\n\r\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\r\n\r\n\t\t\t\tconst value = bigNumberify(a.value || 0)\r\n\t\t\t\t\t.mul(bigNumberify(balanceNum || 1))\r\n\t\t\t\t\t.div(bigNumberify(depositAmount || 1))\r\n\r\n\t\t\t\tcurrent.aggr.push({ value, time })\r\n\r\n\t\t\t\tconst currentAggr = aggregations[time] || {\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\tvalue: bigNumberify(0),\r\n\t\t\t\t}\r\n\t\t\t\tconst currentChannelValue = bigNumberify(current.value || 0).add(value)\r\n\r\n\t\t\t\tconst hasMinBalance = currentChannelValue.gt(bigNumberify(minBalance))\r\n\t\t\t\tconst currentTimeValue = currentAggr.value\r\n\r\n\t\t\t\tcurrent.value = currentChannelValue\r\n\r\n\t\t\t\tif (hasMinBalance && !current.feeSubtracted) {\r\n\t\t\t\t\tcurrent.feeSubtracted = true\r\n\t\t\t\t\tconst currentAvailable = currentChannelValue.sub(bigNumberify(min))\r\n\t\t\t\t\tconst currentAdded = bigNumberify(0)\r\n\t\t\t\t\tconst points = current.aggr\r\n\r\n\t\t\t\t\tfor (let index = points.length - 1; index >= 0; index--) {\r\n\t\t\t\t\t\tconst point = points[index]\r\n\t\t\t\t\t\tcurrentAdded.add(point.value)\r\n\r\n\t\t\t\t\t\tconst curInnerAggr = aggregations[point.time] || {\r\n\t\t\t\t\t\t\ttime,\r\n\t\t\t\t\t\t\tvalue: bigNumberify(0),\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (currentAdded.lt(currentAvailable)) {\r\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(point.value)\r\n\t\t\t\t\t\t\taggregations[point.time] = curInnerAggr\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(\r\n\t\t\t\t\t\t\t\tcurrentAdded.sub(currentAvailable)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\taggregations[point.time] = curInnerAggr\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (hasMinBalance && current.feeSubtracted) {\r\n\t\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchannels[channelId] = current\r\n\t\t\t\taggregations[time] = currentAggr\r\n\t\t\t\tall[time] = a.value || all[time]\r\n\r\n\t\t\t\treturn { aggregations, channels, all }\r\n\t\t\t},\r\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\r\n\t\t)\r\n\r\n\t// NOTE: force to null values when value under limits but not naturally 0\r\n\tconst aggrWithNullValues = Object.values(aggregations).map(\r\n\t\t({ time, value }) => {\r\n\t\t\tconst isNull =\r\n\t\t\t\tall[time] === undefined ||\r\n\t\t\t\t(bigNumberify(value).isZero() && all[time] !== '0')\r\n\t\t\treturn { time, value: isNull ? null : value }\r\n\t\t}\r\n\t)\r\n\r\n\treturn aggrWithNullValues\r\n}\r\n\r\nexport const updateAccountAnalyticsThrottled = () => (dispatch, getState) => {\r\n\treturn updateAccountAnalytics(dispatch, getState)\r\n}\r\n\r\nexport const updateAccountAnalytics = throttle(\r\n\tasync function(dispatch, getState) {\r\n\t\tupdateAnalyticsLastChecked()(dispatch)\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst side = selectSide(state)\r\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\r\n\t\tconst { start, end } = selectIdentitySideAnalyticsPeriod(state)\r\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\r\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsParams(timeframe, side)\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst liveTimestamp = selectAnalyticsLiveTimestamp(state)\r\n\t\t\tconst timeframeIsLive = liveTimestamp === start\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\tconst { datasets, labels } = selectStatsChartData(state, {\r\n\t\t\t\t\t...opts,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (timeframeIsLive || datasets.length === 0 || labels.length === 0) {\r\n\t\t\t\t\tidentityAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\tend,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(({ aggregates, metric }) => {\r\n\t\t\t\t\t\t\tconst aggrByChannelSegments =\r\n\t\t\t\t\t\t\t\tside === 'publisher' && metric === 'eventPayouts'\r\n\r\n\t\t\t\t\t\t\tlet aggr = aggrByChannelSegments\r\n\t\t\t\t\t\t\t\t? aggrByChannelsSegments({\r\n\t\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\r\n\t\t\t\t\t\t\t\t\t\tallChannels,\r\n\t\t\t\t\t\t\t\t\t\tfeeTokens,\r\n\t\t\t\t\t\t\t\t\t\twithdrawTokens,\r\n\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t: aggregates.aggr\r\n\t\t\t\t\t\t\tconst fillAfterLast = aggrByChannelSegments ? null : 0\r\n\r\n\t\t\t\t\t\t\taggregates.aggr = fillEmptyTime(\r\n\t\t\t\t\t\t\t\taggr,\r\n\t\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\tfillAfterLast,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\t\tend,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\t\t\tif (!accountChanged) {\r\n\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\r\n\t\t\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\t\t\ttimestamp: liveTimestamp === start ? 'live' : start,\r\n\t\t\t\t\t\t\t\t\tvalue: { ...aggregates }, // ADD TIME as well\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tawait Promise.all(allAnalytics)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t},\r\n\t1000,\r\n\t{ leading: false, trailing: true }\r\n)\r\n\r\nexport function updateAccountCampaignsAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsCampaignsParams()\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst value = await identityCampaignsAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\treturn { opts, value }\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tconst data = await Promise.all(allAnalytics)\r\n\r\n\t\t\tif (!accountChanged) {\r\n\t\t\t\tdata\r\n\t\t\t\t\t.filter(x => !!x)\r\n\t\t\t\t\t.forEach(({ opts, value }) =>\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\r\n\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getReceiptData(startDate, endDate) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { account } = state.persist\r\n\t\ttry {\r\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, true)(dispatch)\r\n\t\t\tconst presentMonths = selectPublisherReceiptsPresentMonths(state)\r\n\t\t\tconst monthsWanted = selectMonthsRange(startDate, endDate)\r\n\t\t\tconst monthsNeeded = monthsWanted\r\n\t\t\t\t.filter(val => !presentMonths.includes(val))\r\n\t\t\t\t.sort()\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tif (monthsNeeded.length > 0) {\r\n\t\t\t\tconst timeframe = 'month'\r\n\t\t\t\tconst limit = 500\r\n\t\t\t\tconst promises = []\r\n\t\t\t\tconst startDateNeeded = monthsNeeded[0]\r\n\t\t\t\tconst endDateNeeded = monthsNeeded[monthsNeeded.length - 1]\r\n\t\t\t\t//limit of request is 500 days\r\n\t\t\t\tfor (\r\n\t\t\t\t\tvar m = moment(startDateNeeded);\r\n\t\t\t\t\tm.diff(endDateNeeded) <= 0;\r\n\t\t\t\t\tm.add(limit, 'day')\r\n\t\t\t\t) {\r\n\t\t\t\t\tpromises.push(\r\n\t\t\t\t\t\ttimeBasedAnalytics({\r\n\t\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\r\n\t\t\t\t\t\t\tmetric: 'eventCounts',\r\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\r\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\ttimeBasedAnalytics({\r\n\t\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\r\n\t\t\t\t\t\t\tmetric: 'eventPayouts',\r\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\r\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst resolvedPromises = await Promise.all(promises)\r\n\t\t\t\tlet impressions = []\r\n\t\t\t\tlet payouts = []\r\n\t\t\t\tfor (let i = 0; i < resolvedPromises.length; i += 2) {\r\n\t\t\t\t\timpressions = [...impressions, ...resolvedPromises[i].aggr]\r\n\t\t\t\t\tpayouts = [...payouts, ...resolvedPromises[i + 1].aggr]\r\n\t\t\t\t}\r\n\t\t\t\tconst result = {}\r\n\t\t\t\t// add wanted dates\r\n\t\t\t\tconst getMonthTimeStamp = date => +moment(date).startOf('month')\r\n\t\t\t\tmonthsNeeded.forEach(date => {\r\n\t\t\t\t\tconst month = getMonthTimeStamp(date)\r\n\t\t\t\t\tif (!result[month]) {\r\n\t\t\t\t\t\tresult[month] = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\timpressions.forEach((item, i) => {\r\n\t\t\t\t\tconst month = getMonthTimeStamp(item.time)\r\n\t\t\t\t\tif (result[month]) {\r\n\t\t\t\t\t\tresult[month][item.time] = {\r\n\t\t\t\t\t\t\timpressions: item.value,\r\n\t\t\t\t\t\t\tpayouts: payouts[i].value,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: types.UPDATE_PUBLISHER_RECEIPTS,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t...result,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, false)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ANALYTICS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsLastChecked() {\r\n\treturn async function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ANALYTICS_LAST_CHECKED,\r\n\t\t\tvalue: Date.now(),\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateSlotsDemand = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\r\n\t\t\t\tvalue: demandAnalytics,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateSlotsDemandThrottled = () => dispatch => {\r\n\treturn updateSlotsDemand(dispatch)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport {\r\n\tgetRelayerConfigData,\r\n\tgetQuickWallet,\r\n\tbackupWallet,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { updateSpinner, updateGlobalUi } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tremoveLegacyKey,\r\n\tgetWalletHash,\r\n\tgenerateSalt,\r\n\tgetRecoveryWalletData,\r\n} from 'services/wallet/wallet'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport {\r\n\tgetAccountStats,\r\n\tgetOutstandingBalance,\r\n} from 'services/smart-contracts/actions/stats'\r\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\r\nimport { addToast, confirmAction, updateMemoryUi } from './uiActions'\r\nimport { getAllItems } from './itemActions'\r\nimport { updateSlotsDemandThrottled } from './analyticsActions'\r\nimport {\r\n\tgetEthers,\r\n\tgetEthereumProvider,\r\n\tethereumNetworkId,\r\n} from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\r\nimport {\r\n\tselectAccount,\r\n\tselectIdentity,\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectSearchParams,\r\n\tselectAuthType,\r\n\tselectAccountIdentity,\r\n\tselectLoginDirectSide,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { push } from 'connected-react-router'\r\nimport {\r\n\tCREATING_SESSION,\r\n\tQUICK_WALLET_BACKUP,\r\n\tUPDATING_ACCOUNT_IDENTITY,\r\n} from 'constants/spinners'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tanalyticsCampaignsLoop,\r\n} from 'services/store-data/analytics'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta: meta,\r\n\t\t\tnewValues: newValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithBalanceAll(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithBalanceAll() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithOutstandingBalance(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithOutstandingBalance() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGasData({ gasData }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GAS_DATA,\r\n\t\t\tgasData: gasData,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// getIdentityStatistics tooks to long some times\r\n// if the account is change we do not update the account\r\n// TODO: we can use something for abortable tasks\r\nexport function isAccountChanged(getState, account) {\r\n\tconst hasAuth = selectAuth(getState())\r\n\tconst accountCheck = selectAccount(getState())\r\n\tconst accountChanged =\r\n\t\t!hasAuth ||\r\n\t\t!accountCheck.wallet.address ||\r\n\t\taccountCheck.wallet.address !== account.wallet.address ||\r\n\t\t!accountCheck.identity.address ||\r\n\t\t!accountCheck.identity.address !== !account.identity.address\r\n\r\n\treturn accountChanged\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tconst { identity, wallet } = account\r\n\t\t\tconst { address } = identity\r\n\t\t\tconst { all, withOutstandingBalance } = await getChannelsWithOutstanding({\r\n\t\t\t\tidentityAddr: address,\r\n\t\t\t\twallet,\r\n\t\t\t})\r\n\r\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\r\n\t\t\t\twallet,\r\n\t\t\t\taddress,\r\n\t\t\t\twithBalance: withOutstandingBalance,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst { formatted, raw } = await getAccountStats({\r\n\t\t\t\taccount,\r\n\t\t\t\toutstandingBalanceMainToken,\r\n\t\t\t\tall,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tawait updateChannelsWithBalanceAll(all)(dispatch)\r\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tawait updateAccount({\r\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountIdentityData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t\tconst identity = selectAccountIdentity(getState())\r\n\r\n\t\ttry {\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identity.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst updatedIdentity = { ...identity }\r\n\r\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\r\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\r\n\t\t\tupdatedIdentity.relayerData = relayerData\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { identity: updatedIdentity },\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidatorAuthTokens({ newAuth }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\r\n\t\tconst newIdentity = { ...identity }\r\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\r\n\r\n\t\t// We don't want to update account if there is no actual change\r\n\t\tif (\r\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\r\n\t\t\tJSON.stringify(newTokens)\r\n\t\t) {\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({\r\n\twallet,\r\n\tidentity = {},\r\n\temail,\r\n\tdeleteLegacyKey,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst account = {\r\n\t\t\t\temail: email,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\tidentity: { ...identity },\r\n\t\t\t}\r\n\r\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taccount.identity.validatorAuthTokens = {\r\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\r\n\t\t\t}\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { ...account },\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (deleteLegacyKey) {\r\n\t\t\t\tawait removeLegacyKey({\r\n\t\t\t\t\temail: wallet.email,\r\n\t\t\t\t\tpassword: wallet.password,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst side = selectLoginDirectSide(getState())\r\n\t\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\r\n\t\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\t\tdispatch(push(`/dashboard/${side}`))\r\n\t\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(push('/side-select'))\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await getRelayerConfigData()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function getNetworkId() {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\tconst networkId = (await provider.getNetwork()).chainId\r\n\r\n\treturn networkId\r\n}\r\n\r\nasync function getNetworkData({ id }) {\r\n\tconst networkId = id || (await getNetworkId())\r\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\r\n\r\n\treturn network\r\n}\r\n\r\nasync function isMetamaskMatters(getState) {\r\n\tconst state = getState()\r\n\tconst searchParams = selectSearchParams(state)\r\n\tconst authType = selectAuthType(state)\r\n\r\n\tconst doesItMatter =\r\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\r\n\t\t(!authType &&\r\n\t\t\tsearchParams.get('external') === 'metamask' &&\r\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name)\r\n\r\n\treturn doesItMatter\r\n}\r\n\r\nexport function onMetamaskNetworkChange({ id } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (\r\n\t\t\t(await isMetamaskMatters(getState)) &&\r\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\r\n\t\t) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const onMetamaskAccountChange = (accountAddress = '') => {\r\n\treturn async function(_, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { authType, address = '' } = account.wallet\r\n\r\n\t\tif (\r\n\t\t\thasAuth &&\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\r\n\t\t\t(!accountAddress ||\r\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\r\n\t\t) {\r\n\t\t\tlogOut()\r\n\t\t} else if (!hasAuth) {\r\n\t\t\tconst identity = selectIdentity(state)\r\n\t\t\tconst { identityContractOwner } = identity\r\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskAccountCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tif (await isMetamaskMatters(getState)) {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\r\n\t\t\t// NOTE: using provider with ethereum.enable() seems to work\r\n\t\t\tonMetamaskAccountChange(provider.provider.selectedAddress)(_, getState)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskNetworkCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst id = await ethereumNetworkId()\r\n\t\tonMetamaskNetworkChange({ id })(_, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskChecks() {\r\n\treturn async function(_, getState) {\r\n\t\tmetamaskNetworkCheck()(_, getState)\r\n\t\tmetamaskAccountCheck()(_, getState)\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('networkChanged', network => {\r\n\t\t\t\tconsole.log('networkChanged', network)\r\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nasync function hasBackup({ email, password }) {\r\n\tconst salt = generateSalt(email)\r\n\tconst hash = await getWalletHash({ salt, password })\r\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\r\n\r\n\treturn !!encryptedWallet && encryptedWallet.wallet\r\n}\r\n\r\nasync function makeBackup({ email, password, authType }) {\r\n\tconst walletSalt = generateSalt(email)\r\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\r\n\tconst encryptedWallet = await getRecoveryWalletData({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tauthType,\r\n\t})\r\n\r\n\tawait backupWallet({\r\n\t\temail,\r\n\t\tsalt: walletSalt,\r\n\t\thash: walletHash,\r\n\t\tencryptedWallet,\r\n\t})\r\n}\r\n\r\nexport function ensureQuickWalletBackup() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { email, password, authType } = selectWallet(getState())\r\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\r\n\r\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\r\n\t\t\t\tawait makeBackup({ email, password, authType })\r\n\t\t\t}\r\n\t\t} catch (err) {}\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function loadAccountData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst account = selectAccount(getState())\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await updateAccountIdentityData()(dispatch, getState))\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await getAllItems()(dispatch, getState))\r\n\r\n\t\t!isAccountChanged(getState, account) && (await statsLoop.start())\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await analyticsCampaignsLoop.start())\r\n\t\t!isAccountChanged(getState, account) && (await campaignsLoop.start())\r\n\t\tupdateSlotsDemandThrottled()(dispatch, getState)\r\n\t\tupdateMemoryUi('initialDataLoaded', true)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function stopAccountDataUpdate() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tanalyticsLoop.stop()\r\n\t\tanalyticsCampaignsLoop.stop()\r\n\t\tcampaignsLoop.stop()\r\n\t\tstatsLoop.stop()\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { getQuickWallet } from 'services/adex-relayer/actions'\r\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\r\nimport {\r\n\tgetOwnerIdentities,\r\n\tregAccount,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { createSession } from './accountActions'\r\n\r\nimport {\r\n\tgetIdentityDeployData,\r\n\twithdrawFromIdentity,\r\n\taddIdentityENS,\r\n\tsetIdentityPrivilege,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddDataToWallet,\r\n\tgetWalletHash,\r\n\tgetLocalWallet,\r\n\tmigrateLegacyWallet,\r\n\twalletInfo,\r\n\tcreateLocalWallet,\r\n\tgenerateSalt,\r\n} from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\nimport { selectAccount, selectIdentity, selectAuthType } from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport {\r\n\tvalidate,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tvalidateTOS,\r\n\tvalidateWallet,\r\n\tvalidateIdentityContractOwner,\r\n\tvalidateAccessWarning,\r\n\tvalidateKnowFrom,\r\n\tvalidateMoreInfo,\r\n} from './validationActions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tGETTING_OWNER_IDENTITIES,\r\n\tUPLOADING_ACCOUNT_DATA,\r\n} from 'constants/spinners'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\n\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function initIdentity({ email, authType }) {\r\n\treturn function(dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'email',\r\n\t\t\tvalue: email,\r\n\t\t})\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'authType',\r\n\t\t\tvalue: authType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = ev => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(translate())\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function ownerIdentities({ owner, authType }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tconst data = Object.entries(identityData).map(\r\n\t\t\t\tasync ([identityAddr, privLevel]) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tidentity: identityAddr,\r\n\t\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\t\tens,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\r\n\r\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function login() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tknowFrom,\r\n\t\t\t\tmoreInfo,\r\n\t\t\t\tidentityData,\r\n\t\t\t\tidentityTxData,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\tregisterAccount,\r\n\t\t\t} = selectIdentity(getState())\r\n\r\n\t\t\tif (registerAccount) {\r\n\t\t\t\tawait regAccount({\r\n\t\t\t\t\towner: wallet.address,\r\n\t\t\t\t\temail: email.toLowerCase(),\r\n\t\t\t\t\tknowFrom,\r\n\t\t\t\t\tmoreInfo,\r\n\t\t\t\t\t...identityTxData,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identityData.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst identity = {\r\n\t\t\t\t...identityData,\r\n\t\t\t\taddress: relayerData.deployData._id,\r\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\r\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\r\n\t\t\t\trelayerData,\r\n\t\t\t}\r\n\r\n\t\t\tawait createSession({\r\n\t\t\t\tidentity,\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateQuickLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { password, email, authType } = identity\r\n\r\n\t\tlet wallet = {}\r\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\r\n\t\tlet actualAuthType = authType\r\n\r\n\t\ttry {\r\n\t\t\tif (email && password) {\r\n\t\t\t\tlet walletData = await getLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (!walletData) {\r\n\t\t\t\t\tconst salt = generateSalt(email)\r\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\r\n\t\t\t\t\tconst { encryptedWallet } =\r\n\t\t\t\t\t\t(await getQuickWallet({\r\n\t\t\t\t\t\t\thash,\r\n\t\t\t\t\t\t})) || {}\r\n\r\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tbackupWallet.wallet &&\r\n\t\t\t\t\t\tbackupWallet.key &&\r\n\t\t\t\t\t\tbackupWallet.wallet.data &&\r\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\r\n\t\t\t\t\t\tbackupWallet.wallet.privileges\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\r\n\t\t\t\t\t\tactualAuthType = info.authType\r\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\r\n\r\n\t\t\t\t\t\twalletData = await getLocalWallet({\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\r\n\t\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\t\twallet.email = email\r\n\t\t\t\t\twallet.password = password\r\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\r\n\t\t\t\t\twallet.identity = {\r\n\t\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!authType) {\r\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\r\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\r\n\t\t\terror = err\r\n\t\t}\r\n\r\n\t\tconst isValid = !!wallet.address\r\n\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait login()(dispatch, getState)\r\n\t\t}\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateStandardLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identity = selectIdentity(getState())\r\n\t\t\tconst { wallet, identityContractAddress } = identity\r\n\t\t\tconst { address } = wallet\r\n\r\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\t\tconst identityData = {\r\n\t\t\t\taddress: identityDataSplit[0],\r\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\tconst isValid = !!identityData.address\r\n\r\n\t\t\tvalidate(validateId, 'identityContractAddress', {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, wallet } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\r\n\t\t\tif (!identityAddr && wallet && !!email) {\r\n\t\t\t\tconst walletAddr = wallet.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: txData.identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_FULL_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickDeploy({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, password } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && email && password\r\n\r\n\t\t\tif (!identityAddr && email && password) {\r\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\r\n\r\n\t\t\t\tconst walletData = await createLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\twalletData.email = email\r\n\t\t\t\twalletData.password = password\r\n\r\n\t\t\t\tconst walletAddr = walletData.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\r\n\t\t\t\tconst identityAddr = txData.identityAddr\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityAddr,\r\n\t\t\t\t})\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = !!identityAddr\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\ttosCheck,\r\n\t\t\tknowFrom,\r\n\t\t\tmoreInfo,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\r\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\r\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\twallet,\r\n\t\t\tidentityContractOwner,\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\ttosCheck,\r\n\t\t\tknowFrom,\r\n\t\t\tmoreInfo,\r\n\t\t\taccessWarningCheck,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t// validate wallet again in case of step skip\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\r\n\t\t\t// validate step fields\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\r\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateFullDeploy({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tskipSpinnerUpdate: true,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateContractOwner({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityContractOwner, wallet } = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityWallet({\r\n\taddress,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\thdWalletAddrIdx,\r\n\tpath,\r\n\tchainId,\r\n\tsignType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst wallet = {\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}\r\n\r\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\r\n\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handleSignupLink(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('signup-email')\r\n\r\n\t\tif (email) {\r\n\t\t\tupdateIdentity('email', email)(dispatch)\r\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resolveEnsAddress({ address }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst authType = selectAuthType(state)\r\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst name = await provider.lookupAddress(address)\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\r\n\t\t\t\titem: address,\r\n\t\t\t\tvalue: name,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_RESOLVING_ENS_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nexport const getGasPrice = async (authType, format = 'wei') => {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst gasPrice = await provider.getGasPrice()\r\n\treturn formatUnits(gasPrice.toNumber(), format)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tupdateAccountIdentityData,\r\n\tvalidateEthAddress,\r\n\tvalidatePrivilegesAddress,\r\n\tvalidatePrivLevel,\r\n\tvalidateWithdrawAmount,\r\n\taddToast,\r\n\tvalidateFees,\r\n\tvalidateENS,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport {\r\n\tselectNewTransactionById,\r\n\tselectWalletAddress,\r\n\tselectAuthType,\r\n\tselectAccount,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountStatsRaw,\r\n\tselectMainToken,\r\n\tselectGasPriceCap,\r\n\tt,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getGasPrice } from 'services/gas/actions'\r\nimport { formatUnits } from 'ethers/utils'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n\taddIdentityENS,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewTransaction() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function checkNetworkCongestion() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst gasPriceCap = selectGasPriceCap(state)\r\n\t\tconst gasPriceCapGwei = formatUnits(gasPriceCap, 'gwei')\r\n\t\tconst authType = selectAuthType(state)\r\n\t\tconst gasPrice = await getGasPrice(authType, 'gwei')\r\n\t\tif (+gasPriceCapGwei < +gasPrice) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: t('WARNING_NETWORK_CONGESTED'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\ttxId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identityData = updateAccountIdentityData()(dispatch, getState)\r\n\t\tif (dirty) {\r\n\t\t\tawait identityData\r\n\t\t}\r\n\r\n\t\tconst state = getState()\r\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: setAddr,\r\n\t\t\t\tprop: 'setAddr',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidatePrivLevel({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst validation = await validatePrivilegesAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\twalletAddr,\r\n\t\t\t\twarningAccepted,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t\tauthType,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tisValid = validation.isValid\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'warningMsg',\r\n\t\t\t\tvalue: validation.msg,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tconst feesData = await setIdentityPrivilege({\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'feesData',\r\n\t\t\t\tvalue: feesData,\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tisValid = await validateFees({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\tamountToSpendBN: '0',\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdraw({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\r\n\t\t// const walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateWithdrawAmount({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tlet feesData = null\r\n\r\n\t\tif (isValid) {\r\n\t\t\ttry {\r\n\t\t\t\tfeesData = await withdrawFromIdentity({\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait updateNewTransaction({\r\n\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\tkey: 'feesData',\r\n\t\t\t\t\tvalue: feesData,\r\n\t\t\t\t})(dispatch, getState)\r\n\r\n\t\t\t\tisValid = await validateFees({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch, getState)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdrawAny({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst {\r\n\t\t\tamountToWithdraw,\r\n\t\t\twithdrawTo,\r\n\t\t\ttokenAddress,\r\n\t\t\ttokenDecimals,\r\n\t\t} = selectNewTransactionById(state, stepsId)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: tokenAddress,\r\n\t\t\t\tprop: 'tokenAddress',\r\n\t\t\t\tnonERC20: false,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'amountToWithdraw',\r\n\t\t\t\tvalue: amountToWithdraw,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'tokenDecimals',\r\n\t\t\t\tvalue: tokenDecimals,\r\n\t\t\t\tintegerOnly: true,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tlet feesData = null\r\n\r\n\t\tif (isValid) {\r\n\t\t\ttry {\r\n\t\t\t\tfeesData = await withdrawOtherTokensFromIdentity({\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait updateNewTransaction({\r\n\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\tkey: 'feesData',\r\n\t\t\t\t\tvalue: feesData,\r\n\t\t\t\t})(dispatch, getState)\r\n\r\n\t\t\t\tisValid = await validateFees({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch, getState)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function identityWithdrawAny({\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t\ttokenAddress,\r\n\t\t\t\ttokenDecimals,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateENSChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identityData = updateAccountIdentityData()(dispatch, getState)\r\n\t\tif (dirty) {\r\n\t\t\tawait identityData\r\n\t\t}\r\n\r\n\t\tconst state = getState()\r\n\t\tconst { username } = selectNewTransactionById(state, stepsId)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateENS({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tauthType,\r\n\t\t\t\tusername,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tconst feesData = await addIdentityENS({\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'feesData',\r\n\t\t\t\tvalue: feesData,\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tisValid = await validateFees({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\tamountToSpendBN: '0',\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function setIdentityENS({ username }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tawait addIdentityENS({\r\n\t\t\t\tusername,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('ENS_SETUP_NOTIFICATION', { args: [username] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_SETTING_ENS', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function completeTx({\r\n\tstepsId,\r\n\tcompeteAction,\r\n\tvalidateId,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateNewTransaction({\r\n\t\t\ttx: stepsId,\r\n\t\t\tkey: 'waitingForWalletAction',\r\n\t\t\tvalue: true,\r\n\t\t})(dispatch)\r\n\r\n\t\tlet isValid = false\r\n\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\r\n\t\t\tconst transaction = selectNewTransactionById(state, stepsId)\r\n\r\n\t\t\tawait competeAction({ ...transaction })(dispatch, getState)\r\n\t\t\tisValid = true\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_TRANSACTION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t\tawait updateNewTransaction({\r\n\t\t\ttx: stepsId,\r\n\t\t\tkey: 'waitingForWalletAction',\r\n\t\t\tvalue: false,\r\n\t\t})(dispatch)\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t// TODO: reset tx if OK\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport { selectNewItems } from 'selectors'\r\nimport { Base, Models } from 'adex-models'\r\nimport { updateSpinner, handleAfterValidation } from 'actions'\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel) {\r\n\titem = Base.updateObject({ item, newValues, objModel })\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: RESET_NEW_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: RESET_ALL_NEW_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNewItemAction(type, prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst currentItem = selectNewItems(state)\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentItem[type],\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\ttype,\r\n\t\t\tModels.itemClassByName[type]\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewSlot(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('AdSlot', prop, value, newValues)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewUnit(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('AdUnit', prop, value, newValues)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewCampaign(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('Campaign', prop, value, newValues)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewItemTargets({\r\n\tcollection,\r\n\titemType,\r\n\ttarget = {},\r\n\tindex,\r\n\tremove,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { temp } = selectNewItems(state)[itemType]\r\n\t\t// We are keeping the state in temp because it dirty with extra data\r\n\t\tconst targets = [...(temp.targets || [])]\r\n\t\tconst hasIndex = Number.isInteger(index)\r\n\r\n\t\tif (hasIndex && !remove) {\r\n\t\t\t// NOTE: when updated with index target has only { target: { tag, score }}\r\n\t\t\ttargets[index] = { ...(targets[index] || {}), ...target }\r\n\t\t} else if (hasIndex && remove) {\r\n\t\t\ttargets.splice(index, 1)\r\n\t\t} else {\r\n\t\t\t// NOTE: when updated w/o index target has no key\r\n\t\t\ttargets.push({ ...target, key: targets.length })\r\n\t\t}\r\n\r\n\t\t// The actual targets added to the spec\r\n\t\tconst filtered = targets.filter(x => x.target.tag).map(x => x.target)\r\n\r\n\t\tconst newValues = {\r\n\t\t\t[collection]: filtered,\r\n\t\t\ttemp: { ...temp, targets },\r\n\t\t}\r\n\r\n\t\tawait updateNewItemAction(itemType, null, null, newValues)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function completeItem({\r\n\titemType,\r\n\tcompeteAction,\r\n\tvalidateId,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tawait competeAction()(dispatch, getState)\r\n\t\t\tisValid = true\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ITEM', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tif (isValid) {\r\n\t\t\tresetNewItem(itemType)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport {\r\n\texecute,\r\n\taddToast,\r\n\tupdateSpinner,\r\n\tupdateItems,\r\n\tupdateValidatorAuthTokens,\r\n\tupdateNewCampaign,\r\n\thandleAfterValidation,\r\n\tvalidateCampaignValidators,\r\n\tvalidateCampaignAmount,\r\n\tvalidateCampaignTitle,\r\n\tvalidateCampaignDates,\r\n\tvalidateCampaignUnits,\r\n\tvalidateSchemaProp,\r\n\tvalidateCampaignMinTargetingScore,\r\n\tconfirmAction,\r\n\tupdateSelectedItems,\r\n} from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { schemas, Campaign } from 'adex-models'\r\nimport { parseUnits } from 'ethers/utils'\r\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\r\nimport { getCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport { lastApprovedState } from 'services/adex-validator/actions'\r\nimport {\r\n\tcloseCampaignMarket,\r\n\tupdateCampaign,\r\n} from 'services/adex-market/actions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectAccount,\r\n\tselectNewCampaign,\r\n\tselectAuthSig,\r\n\tselectAuth,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tOPENING_CAMPAIGN,\r\n\tGETTING_CAMPAIGNS_FEES,\r\n\tPRINTING_CAMPAIGNS_RECEIPTS,\r\n} from 'constants/spinners'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\nconst { campaignPut } = schemas\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\r\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\r\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\r\n\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\r\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\r\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\r\n\r\nexport function openCampaign() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tawait getAllValidatorsAuthForIdentity({\r\n\t\t\t\twithBalance: [{ channel: campaign }],\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tconst { storeCampaign } = await openChannel({\r\n\t\t\t\tcampaign,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: storeCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\r\n\t\t\t\t\targs: [storeCampaign.id],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\r\n\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t}\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// TEMP for testing in production until 4.1 is deployed\r\nfunction getHumanFriendlyName(campaign) {\r\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\r\n\t\treturn 'Closed'\r\n\tswitch ((campaign.status || {}).name) {\r\n\t\tcase 'Active':\r\n\t\tcase 'Ready':\r\n\t\tcase 'Pending':\r\n\t\tcase 'Initializing':\r\n\t\tcase 'Waiting':\r\n\t\tcase 'Offline':\r\n\t\tcase 'Disconnected':\r\n\t\tcase 'Unhealthy':\r\n\t\tcase 'Invalid':\r\n\t\t\treturn 'Active'\r\n\t\tcase 'Expired':\r\n\t\tcase 'Exhausted':\r\n\t\tcase 'Withdraw':\r\n\t\t\treturn 'Completed'\r\n\t\tdefault:\r\n\t\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nexport function updateUserCampaigns() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst { wallet, identity } = selectAccount(state)\r\n\t\tconst { authSig } = wallet\r\n\t\tconst { address } = identity\r\n\r\n\t\tif (hasAuth && authSig && address) {\r\n\t\t\ttry {\r\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\r\n\t\t\t\tlet campaignsMapped = campaigns\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => {\r\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\r\n\r\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\r\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn campaign\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: campaignsMapped,\r\n\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\r\n\t\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.status = {\r\n\t\t\t\t...newCampaign.status,\r\n\t\t\t\thumanFriendlyName: 'Closed',\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t\tawait updateUserCampaigns(dispatch, getState)\r\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CLOSING_CAMPAIGN'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\r\n\t}\r\n}\r\n\r\nconst tempValidators = [\r\n\t{\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\r\n\t},\r\n\t{\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\r\n\t},\r\n]\r\n\r\nexport function validateNewCampaignAdUnits({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst campaign = selectNewCampaign(state)\r\n\t\tconst { adUnits } = campaign\r\n\r\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })(\r\n\t\t\tdispatch\r\n\t\t)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewCampaignFinance({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst {\r\n\t\t\t\tvalidators,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\ttitle,\r\n\t\t\t\tactiveFrom,\r\n\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\tcreated,\r\n\t\t\t\tminTargetingScore,\r\n\t\t\t\tadUnits,\r\n\t\t\t\ttemp = {},\r\n\t\t\t} = campaign\r\n\r\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\r\n\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\r\n\t\t\tif (!validators || !validators.length) {\r\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\r\n\t\t\t\tnewCampaign.validators = tempValidators\r\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\tvalue: depositAmount,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tminPerImpression,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tvalue: minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tminPerImpression,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'activeFrom',\r\n\t\t\t\t\tvalue: activeFrom,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'withdrawPeriodStart',\r\n\t\t\t\t\tvalue: withdrawPeriodStart,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignMinTargetingScore({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tminTargetingScore,\r\n\t\t\t\t\tadUnits,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (typeof maxChannelFees !== 'string') {\r\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\r\n\t\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesFormatted,\r\n\t\t\t\t\tmaxAvailable,\r\n\t\t\t\t\tmaxAvailableFormatted,\r\n\t\t\t\t} = await openChannel({\r\n\t\t\t\t\tcampaign: { ...newCampaign },\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\tgetMaxFees: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst newTemp = { ...temp }\r\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\r\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\r\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getCampaignActualFees() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst mainToken = selectMainToken(state)\r\n\t\t\tconst { temp = {}, depositAmount } = campaign\r\n\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\tconst { feesFormatted, fees } = await openChannel({\r\n\t\t\t\tcampaign: { ...campaign },\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\r\n\r\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\r\n\t\t\t\ttotalSpend.toString(),\r\n\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\tfalse,\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.feesFormatted = feesFormatted\r\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\r\n\r\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handlePrintSelectedReceiptsAdvertiser(selected) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\r\n\t\tconfirmAction(\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSelectedItems('campaigns', selected)(dispatch)\r\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\tconfirmLabel: t('OK'),\r\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\r\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\r\n\t\t\t}\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateCampaign({ validateId, dirty, item, update }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { id, title } = item\r\n\r\n\t\t\tconst campaign = new Campaign(item).marketUpdate\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: campaign,\r\n\t\t\t\t\tprop: 'campaign',\r\n\t\t\t\t\tschema: campaignPut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedCampaign = (await updateCampaign({\r\n\t\t\t\t\tcampaign,\r\n\t\t\t\t\tid,\r\n\t\t\t\t})).campaign\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new Campaign(updatedCampaign).plainObj(),\r\n\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['Campaign', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateNumberString,\r\n\tvalidateMediaSize,\r\n\tupdateNewSlot,\r\n\taddToast,\r\n\tvalidate,\r\n\tgetImgsIpfsFromBlob,\r\n} from 'actions'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { selectMainToken, selectNewAdSlot, selectAuthSig, t } from 'selectors'\r\nimport { schemas, AdSlot, AdUnit } from 'adex-models'\r\nimport {\r\n\tverifyWebsite,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n\tupdateAdSlot,\r\n} from 'services/adex-market/actions'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\n\r\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\nconst { adSlotPost, adUnitPost, adSlotPut } = schemas\r\n\r\nexport function validateNewSlotBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst state = getState()\r\n\t\t\tconst slot = selectNewAdSlot(state)\r\n\t\t\tconst {\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\ttype,\r\n\t\t\t\twebsite,\r\n\t\t\t\tminPerImpression = null,\r\n\t\t\t\ttemp,\r\n\t\t\t} = slot\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adSlotPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tvalue: minPerImpression || '0',\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tisValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && minPerImpression) {\r\n\t\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\tnumStr: minPerImpression || null,\r\n\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tschema: adSlotPost.minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tconst { hostname, issues } = isValid\r\n\t\t\t\t? await verifyWebsite({ websiteUrl: website })\r\n\t\t\t\t: {}\r\n\t\t\tconst newTemp = { ...temp, hostname, issues }\r\n\t\t\tupdateNewSlot('temp', newTemp)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\r\n\t\t\t// bet this doesn't matter at that point\r\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewSlotPassback({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttargetUrl,\r\n\t\t\ttemp: { useFallback, tempUrl, mime },\r\n\t\t} = selectNewAdSlot(state)\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t...(useFallback\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tvalidateMediaSize({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tpropName: 'temp',\r\n\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\t\t\ttempUrl,\r\n\t\t\t\t\t\t\t\tmime,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [\r\n\t\t\t\t\t\tvalidate(validateId, 'temp', {\r\n\t\t\t\t\t\t\tisValid: true,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]),\r\n\t\t\t...(useFallback\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tvalue: targetUrl,\r\n\t\t\t\t\t\t\tprop: 'targetUrl',\r\n\t\t\t\t\t\t\tschema: adUnitPost.targetUrl,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [\r\n\t\t\t\t\t\tvalidate(validateId, 'targetUrl', {\r\n\t\t\t\t\t\t\tisValid: true,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function saveSlot() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst item = selectNewAdSlot(state)\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})).ipfs\r\n\r\n\t\t\t\tconst unit = new AdUnit({\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\ttargeting: [],\r\n\t\t\t\t\ttags: [],\r\n\t\t\t\t\tpassback: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst resUnit = await postAdUnit({\r\n\t\t\t\t\tunit: unit.marketAdd,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfallbackUnit = resUnit.ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tif (newItem.minPerImpression) {\r\n\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: newItem.minPerImpression,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', { args: ['AdSlot', newItem.title] }),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\r\n\t\t\t\t\targs: ['AdSlot', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateSlot({ validateId, dirty, item, update }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst { id, title, description, minPerImpression, website } = item\r\n\r\n\t\t\tconst newSlot = new AdSlot(item)\r\n\t\t\tconst checkMinPerImpression = typeof minPerImpression === 'string'\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPut.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPut.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tcheckMinPerImpression\r\n\t\t\t\t\t? validateNumberString({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\tvalue: minPerImpression,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t  })(dispatch)\r\n\t\t\t\t\t: true,\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && checkMinPerImpression) {\r\n\t\t\t\tnewSlot.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: minPerImpression || null,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst slot = newSlot.marketUpdate\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst finalValidations = await Promise.all([\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: newSlot.minPerImpression,\r\n\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\tschema: adSlotPut.minPerImpression,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: slot,\r\n\t\t\t\t\t\tprop: 'slot',\r\n\t\t\t\t\t\tschema: adSlotPut,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t])\r\n\r\n\t\t\t\tisValid = finalValidations.every(v => v === true)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedSlot = (await updateAdSlot({ slot, id })).unit\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new AdSlot(updatedSlot).plainObj(),\r\n\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['AdSlot', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateMediaSize,\r\n\tvalidate,\r\n\taddToast,\r\n\tgetImgsIpfsFromBlob,\r\n} from 'actions'\r\nimport { selectNewAdUnit, selectAuthSig, t } from 'selectors'\r\nimport { schemas, AdUnit } from 'adex-models'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\n\r\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\nimport { postAdUnit, updateAdUnit } from 'services/adex-market/actions'\r\n\r\nconst { adUnitPost, adUnitPut } = schemas\r\n\r\nexport function validateNewUnitBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { title, description, type, targetUrl } = selectNewAdUnit(state)\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adUnitPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adUnitPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adUnitPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: targetUrl,\r\n\t\t\t\t\tprop: 'targetUrl',\r\n\t\t\t\t\tschema: adUnitPost.targetUrl,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewUnitTargeting({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { targeting = [] } = selectNewAdUnit(state)\r\n\r\n\t\t\tconst isValid = !!targeting.length\r\n\r\n\t\t\tawait validate(validateId, 'targeting', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_TARGETING_NOT_SELECTED' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewUnitMedia({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttemp: { tempUrl, mime },\r\n\t\t} = selectNewAdUnit(state)\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateMediaSize({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'temp',\r\n\t\t\t\twidthTarget: width,\r\n\t\t\t\theightTarget: height,\r\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\texact: true,\r\n\t\t\t\trequired: true,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t},\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function saveUnit() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst item = selectNewAdUnit(state)\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig,\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\r\n\t\t\t\t\targs: ['AdUnit', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateUnit({ validateId, dirty, item, update }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { id, title, description } = item\r\n\r\n\t\t\tconst unit = new AdUnit(item).marketUpdate\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adUnitPut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adUnitPut.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: unit,\r\n\t\t\t\t\tprop: 'unit',\r\n\t\t\t\t\tschema: adUnitPut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedUnit = (await updateAdUnit({ unit, id })).unit\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new AdUnit(updatedUnit).plainObj(),\r\n\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['AdUnit', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as uiActions from './uiActions'\r\nimport * as validationActions from './validationActions'\r\nimport * as mediaValidations from './mediaValidations'\r\nimport * as itemActions from './itemActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as analyticsActions from './analyticsActions'\r\nimport * as newItemsActions from './newItemsActions'\r\nimport * as campaignActions from './campaignActions'\r\nimport * as slotActions from './slotActions'\r\nimport * as unitActions from './unitActions'\r\n\r\n// keep it for class components that use connect and actions prop\r\n// without needing to change the code\r\nexport default {\r\n\t...common,\r\n\t...uiActions,\r\n\t...validationActions,\r\n\t...mediaValidations,\r\n\t...itemActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...analyticsActions,\r\n\t...newItemsActions,\r\n\t...campaignActions,\r\n\t...slotActions,\r\n\t...unitActions,\r\n}\r\n\r\n// used for minimal deps in hook components\r\n// import { execute, addTost } from 'actions'\r\n// execute(addTost())\r\nexport * from './common'\r\nexport * from './validationActions'\r\nexport * from './mediaValidations'\r\nexport * from './uiActions'\r\nexport * from './itemActions'\r\nexport * from './accountActions'\r\nexport * from './identityActions'\r\nexport * from './bidActions'\r\nexport * from './transactionActions'\r\nexport * from './analyticsActions'\r\nexport * from './newItemsActions'\r\nexport * from './campaignActions'\r\nexport * from './slotActions'\r\nexport * from './unitActions'\r\n","import { ethers, Contract } from 'ethers'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { selectRelayerConfig } from 'selectors'\r\n\r\nethers.errors.setLogLevel('error')\r\n\r\nconst { AdExCore, Identity, IdentityFactory } = contracts\r\n\r\nconst getAdexCore = provider => {\r\n\tconst { coreAddr } = selectRelayerConfig()\r\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\r\n}\r\n\r\nconst getMainToken = provider => {\r\n\tconst { mainToken = {} } = selectRelayerConfig()\r\n\treturn new Contract(\r\n\t\tmainToken.address,\r\n\t\tcontracts[mainToken.standard].abi,\r\n\t\tprovider\r\n\t)\r\n}\r\n\r\nconst getToken = ({ provider, standard, address }) => {\r\n\treturn new Contract(address, contracts[standard].abi, provider)\r\n}\r\n\r\nconst getIdentity = ({ provider, address }) => {\r\n\tconst identityContract = new Contract(address, Identity.abi, provider)\r\n\r\n\treturn identityContract\r\n}\r\n\r\nconst getIdentityFactory = provider => {\r\n\tconst { identityFactoryAddr } = selectRelayerConfig()\r\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\r\n}\r\n\r\nconst getEthersResult = provider => {\r\n\tconst adexCore = getAdexCore(provider)\r\n\tconst mainToken = getMainToken(provider)\r\n\tconst identityFactory = getIdentityFactory(provider)\r\n\r\n\tconst results = {\r\n\t\tprovider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: mainToken,\r\n\t\tMainToken: mainToken,\r\n\t\tIdentityFactory: identityFactory,\r\n\t\tgetToken: ({ standard, address }) =>\r\n\t\t\tgetToken({ provider, standard, address }),\r\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nconst localWeb3 = () => {\r\n\tconst provider = new ethers.providers.JsonRpcProvider(\r\n\t\tprocess.env.WEB3_NODE_ADDR\r\n\t)\r\n\treturn getEthersResult(provider)\r\n}\r\n\r\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\r\n\twindow.addEventListener('load', () => {\r\n\t\tconst ethereum = window.ethereum\r\n\t\tconst web3 = window.web3\r\n\t\treturn resolve({\r\n\t\t\tethereum,\r\n\t\t\tweb3,\r\n\t\t})\r\n\t})\r\n})\r\n\r\nconst injectedWeb3 = async () => {\r\n\tconst { web3, ethereum } = await loadInjectedWeb3\r\n\tlet provider = null\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tawait ethereum.enable()\r\n\r\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\r\n\r\n\t\t\treturn getEthersResult(provider)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Err getting injected ethereum.', err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n\t// Legacy dapp browsers...\r\n\t// TODO: we just have to throw or show notification\r\n\t// At the moment if it throws it will show error toast but not always.\r\n\telse if (web3) {\r\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t} else {\r\n\t\tconsole.error('Non-Ethereum browser detected.')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3 = async () => {\r\n\t// console.log('getLocalWeb3')\r\n\treturn localWeb3()\r\n}\r\n\r\nconst getEthers = mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\treturn injectedWeb3()\r\n\t} else {\r\n\t\treturn getLocalWeb3()\r\n\t}\r\n}\r\n\r\nconst ethereumNetworkId = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (ethereum) {\r\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\r\n\t\treturn id\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst getEthereumProvider = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (!ethereum) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tif (ethereum.isMetaMask) {\r\n\t\treturn AUTH_TYPES.METAMASK.name\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nexport { getEthers, ethereumNetworkId, getEthereumProvider }\r\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","import adexTranslations from 'adex-translations'\r\nimport { removeTags } from 'helpers/sanitizer'\r\nimport { isValidElement, cloneElement } from 'react'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\r\n\tconst parts = tpl.split(pattern)\r\n\r\n\tconst interpolated = parts.map((p, i) => {\r\n\t\tconst element = args[p] || p\r\n\t\tif (isValidElement(element) && !element.key) {\r\n\t\t\tconst withKey = cloneElement(element, { key: i })\r\n\r\n\t\t\treturn withKey\r\n\t\t}\r\n\r\n\t\treturn element\r\n\t})\r\n\r\n\tif (interpolated.every(i => typeof i === 'string' || typeof i === 'number')) {\r\n\t\treturn interpolated.join('')\r\n\t}\r\n\r\n\treturn interpolated\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''] } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = removeTags(translations[language][key] || val)\r\n\r\n\tif (args.length && Array.isArray(args)) {\r\n\t\tconst translatedArgs = args.map(a => {\r\n\t\t\tif (typeof a === 'string') {\r\n\t\t\t\treturn translations[language][a] || a\r\n\t\t\t} else {\r\n\t\t\t\treturn a\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\ttranslation = interpolate(translation, translatedArgs)\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","export const removeTags = dirty => {\r\n\tif (!dirty || typeof dirty !== 'string') return ''\r\n\r\n\treturn (\r\n\t\tdirty\r\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\r\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\r\n\t\t\t// Strip any remaining HTML tags\r\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\r\n\t\t\t// Replace {strong} ... with <strong> ...\r\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\r\n\t)\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/GS-email-ic.7f647acc.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic.8de20f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-launch-ic.b4a8f505.png\";","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nconst updateCfg = (current, type, cfg) => {\r\n\tconst newCfg = { ...current }\r\n\tnewCfg[type] = { ...cfg }\r\n\treturn newCfg\r\n}\r\n\r\nexport default function uiReducer(state = initialState.config, action) {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RELAYER_CFG:\r\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport uiMemory from './uiMemoryReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport tags from './tagsReducer'\r\nimport ethNetwork from './ethNetworkReducer'\r\nimport config from './configReducer'\r\nimport analytics from './analyticsReducer'\r\nimport channels from './channelsReducer'\r\nimport selectedItems from './selectedItemsReducer'\r\nimport ensAddresses from './ensReducer'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\taccount,\r\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\tlanguage,\r\n\tweb3Transactions,\r\n\ttags,\r\n\tethNetwork,\r\n\tconfig,\r\n\tensAddresses,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tuiMemory,\r\n\tchannels,\r\n\tanalytics,\r\n\tsignin,\r\n\tidentity,\r\n\twallet,\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\ttoasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\tvalidations,\r\n\tselectedItems,\r\n\tnewTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_GLOBAL_UI,\r\n\tUPDATE_UI_BY_IDENTITY,\r\n\tUPDATE_UI_BY_IDENTITY_AND_SIDE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI_BY_IDENTITY:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...newState.byIdentity[action.identity],\r\n\t\t\t}\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\r\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\r\n\t\t\t\t}\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\r\n\t\t\t\t\taction.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_UI_BY_IDENTITY_AND_SIDE:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...(newState.byIdentity || {}) }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...(newState.byIdentity[action.identity] || {}),\r\n\t\t\t}\r\n\t\t\tnewState.byIdentity[action.identity][action.side] = {\r\n\t\t\t\t...(newState.byIdentity[action.identity][action.side] || {}),\r\n\t\t\t}\r\n\t\t\tnewState.byIdentity[action.identity][action.side][action.item] =\r\n\t\t\t\taction.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_GLOBAL_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.global = { ...newState.global }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState.global[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.global[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tADD_ITEM_TO_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: action.item,\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase ADD_ITEM_TO_ITEM:\r\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, {})\r\n\r\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TAGS:\r\n\t\t\tnewState = { ...state, ...action.tags }\r\n\t\t\treturn newState\r\n\t\tcase ADD_NEW_TAG:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.tag] = action.tag\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_GAS_DATA:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.gasData = { ...action.gasData }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function ensReducer(state = initialState.ensAddresses, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_MEMORY_UI } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiMemoryReducer(state = initialState.uiMemory, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_MEMORY_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\r\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function channelsReducer(state = initialState.channels, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = { ...action.channels }\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance =\r\n\t\t\t\tinitialState.channels.withOutstandingBalance\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ANALYTICS,\r\n\tRESET_ANALYTICS,\r\n\tUPDATE_ANALYTICS_TIMEFRAME,\r\n\tUPDATE_ANALYTICS_PERIOD,\r\n\tUPDATE_ANALYTICS_LAST_CHECKED,\r\n\tUPDATE_PUBLISHER_RECEIPTS,\r\n\tUPDATE_ADVANCED_ANALYTICS,\r\n\tUPDATE_DEMAND_ANALYTICS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function analyticsReducer(\r\n\tstate = initialState.analytics,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.timeframe = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS_LAST_CHECKED:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.lastChecked = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.side] = { ...newState[action.side] }\r\n\t\t\tnewState[action.side][action.eventType] = {\r\n\t\t\t\t...newState[action.side][action.eventType],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][\r\n\t\t\t\taction.timeframe\r\n\t\t\t] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric][\r\n\t\t\t\t\taction.timeframe\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][action.timeframe][\r\n\t\t\t\taction.timestamp\r\n\t\t\t] = { ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.advanced = { ...newState.advanced }\r\n\t\t\tnewState.advanced[action.eventType] = {\r\n\t\t\t\t...action.value,\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_DEMAND_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.demand = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_PUBLISHER_RECEIPTS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.receipts = { ...newState.receipts, ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ANALYTICS:\r\n\t\t\tnewState = { ...initialState.analytics }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS_PERIOD:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.period = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newIdentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewIdentity = newState\r\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\r\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewIdentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newIdentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewIdentity = { ...initialState.identity }\r\n\t\t\tnewState = newIdentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tnewState[action.itemType] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\r\n\t\t\tnewState[action.item] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_NEW_ITEMS:\r\n\t\t\tnewState = { ...initialState.newItem }\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tconst newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_SELECTED_ITEMS,\r\n\tRESET_SELECTED_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...initialState.selectedItems }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n\tRESET_ALL_NEW_TRANSACTIONS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\r\n\t\t\tnewState = initialState.newTransactions\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/lib/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst persistConfig = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n\trouter: connectRouter(history),\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t]\r\n\r\n\tif (process.env.BUILD_TYPE === 'staging') {\r\n\t\tmiddlewares.push(logger)\r\n\t}\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from './configureStore'\r\n\r\nexport default configureStore\r\n\r\nexport const store = configureStore.store\r\nexport const persistor = configureStore.persistor\r\nexport const dispatch = store.dispatch\r\nexport const getState = store.getState\r\n","import { Signer } from 'ethers'\r\nimport { ethers, utils } from 'ethers'\r\nimport LedgerEth from '@ledgerhq/hw-app-eth'\r\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\r\nimport HDKey from 'hdkey'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\r\n\r\nexport default class LedgerSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t\tthis._transport = TransportU2F\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\taddrsFromPubKey = async (\r\n\t\tpublicKey = '',\r\n\t\tchainCode = '',\r\n\t\t{ from = 0, to = 19 } = {}\r\n\t) => {\r\n\t\tconst hdKey = new HDKey()\r\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\r\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\r\n\r\n\t\tconst addrs = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\r\n\r\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\r\n\r\n\t\t\taddrs.push({\r\n\t\t\t\taddress: addr,\r\n\t\t\t\tpath: `${this.path}/${index}`,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn addrs\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\r\n\t\t\tthis.path,\r\n\t\t\tfalse,\r\n\t\t\ttrue\r\n\t\t)\r\n\r\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\r\n\t\t\tfrom,\r\n\t\t\tto,\r\n\t\t})\r\n\r\n\t\treturn addresses\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\r\n\r\n\t\tconst signature = {\r\n\t\t\tr: '0x' + r,\r\n\t\t\ts: '0x' + s,\r\n\t\t\tv,\r\n\t\t}\r\n\r\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\treturn txSigned\r\n\t}\r\n\r\n\t/*\r\n\t * TODO: may not work.\r\n\t * The ledger device or u2f seems to broken\r\n\t * Can list the addresses\r\n\t * Can sign messages\r\n\t * Signs transactions\r\n\t * Actually it show the tx but does not return value after\r\n\t * confirmation on the device\r\n\t */\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (!opts.hex) {\r\n\t\t\tif (typeof message === 'string') {\r\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\r\n\t\t\t}\r\n\r\n\t\t\tmessage = ethers.utils.hexlify(message)\r\n\t\t}\r\n\r\n\t\tmessage = message.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\r\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\r\n\t\tsignature.r = '0x' + signature.r\r\n\t\tsignature.s = '0x' + signature.s\r\n\r\n\t\tconst { address } = await eth.getAddress(this.path)\r\n\r\n\t\tconst res = {\r\n\t\t\tsignature: ethers.utils.joinSignature(signature),\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LedgerSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","import { ethers, utils } from 'ethers'\r\nimport pbkdf2 from 'pbkdf2'\r\nimport {\r\n\tencrypt,\r\n\tdecrypt,\r\n\tencryptLegacy,\r\n\tdecryptLegacy,\r\n} from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n\tgetKeys,\r\n\tremoveFromLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tpbkdf2.pbkdf2(\r\n\t\t\tpass,\r\n\t\t\tsalt,\r\n\t\t\titerations,\r\n\t\t\tkeylen,\r\n\t\t\tdigiset,\r\n\t\t\t(err, derivedKey) => {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn reject(err)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst res = derivedKey.toString(encoding)\r\n\r\n\t\t\t\treturn resolve(res)\r\n\t\t\t}\r\n\t\t)\r\n\t})\r\n}\r\n\r\nasync function getCipherKey({ email, password }) {\r\n\tconst pass = generateSalt(password)\r\n\tconst salt = generateSalt(email)\r\n\r\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn key\r\n}\r\n\r\nfunction isLegacyCrypto(authType) {\r\n\treturn !authType || authType === 'legacy' || authType === 'grant'\r\n}\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport async function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\treturn {\r\n\t\tmnemonic,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.path,\r\n\t}\r\n}\r\n\r\nasync function encrKey({ email, password, authType }) {\r\n\tif (!authType) {\r\n\t\treturn await encryptLegacy(email, password)\r\n\t} else if (typeof authType === 'string') {\r\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\r\n\t} else {\r\n\t\tthrow new Error('INVALID_TYPE')\r\n\t}\r\n}\r\n\r\nexport async function encrData({ email = '', password, data, authType }) {\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\tconst jsonData = JSON.stringify(data)\r\n\tif (isLegacy) {\r\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\r\n\t\treturn legacyEncrypted\r\n\t} else {\r\n\t\tconst encrypted = await encrypt(\r\n\t\t\tjsonData,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t\treturn encrypted\r\n\t}\r\n}\r\n\r\nexport async function decrData({ email = '', password, data, authType }) {\r\n\tlet decryptedStr = ''\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\r\n\tif (isLegacy) {\r\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\r\n\t} else {\r\n\t\tdecryptedStr = await decrypt(\r\n\t\t\tdata,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst decr = JSON.parse(decryptedStr)\r\n\t\treturn decr\r\n\t} catch (err) {\r\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\r\n\t}\r\n}\r\n\r\nexport async function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic,\r\n\tauthType = '',\r\n}) {\r\n\tconst walletData = await generateWallet(mnemonic)\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst data = await encrData({ data: walletData, email, password, authType })\r\n\tawait saveToLocalStorage({ data }, key)\r\n\r\n\twalletData.authType = authType\r\n\treturn walletData\r\n}\r\n\r\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\r\n\tconst wallet = await getLocalWallet({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tgetEncrypted: true,\r\n\t})\r\n\r\n\tif (wallet && wallet.data) {\r\n\t\tconst newKey = await encrKey({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\r\n\t\t})\r\n\t\tsaveToLocalStorage(wallet, newKey)\r\n\t}\r\n}\r\n\r\nexport async function removeLegacyKey({ email = '', password = '' }) {\r\n\tconst key = await encrKey({ email, password })\r\n\tremoveFromLocalStorage(key)\r\n}\r\n\r\nexport async function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n\tauthType,\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('INVALID_DATA_KEY')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('WALLET_NOT_FOUND')\r\n\t}\r\n\r\n\tconst data = await encrData({ data: dataValue, email, password, authType })\r\n\twallet[dataKey] = data\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport async function getRecoveryWalletData({ email, password, authType }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport async function getLocalWallet({\r\n\temail,\r\n\tpassword,\r\n\tauthType,\r\n\tgetEncrypted,\r\n}) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tif (getEncrypted) {\r\n\t\t\treturn wallet\r\n\t\t}\r\n\r\n\t\tconst walletKeys = Object.keys(wallet)\r\n\r\n\t\tconst decrypts = walletKeys.map(async key => {\r\n\t\t\t// props[key] = await decrData({\r\n\t\t\t// \tdata: wallet[key],\r\n\t\t\t// \temail,\r\n\t\t\t// \tpassword,\r\n\t\t\t// \tauthType,\r\n\t\t\t// })\r\n\r\n\t\t\tconst decryptedData = await decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\treturn decryptedData\r\n\t\t})\r\n\r\n\t\tconst decryptedData = await Promise.all(decrypts)\r\n\r\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\r\n\t\t\tprops[key] = decryptedData[index]\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn decryptedWallet\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nfunction isWallet(item) {\r\n\treturn item && item.data && item.identity && item.privileges\r\n}\r\n\r\nexport function walletInfo(key, index, wallet) {\r\n\tconst split = key.split('-')\r\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\r\n\tconst authType = split[1] || 'legacy'\r\n\tconst name = mail || `Grant account # ${index + 1}`\r\n\r\n\tconst info = {\r\n\t\tkey,\r\n\t\twallet,\r\n\t\tname,\r\n\t\tauthType,\r\n\t}\r\n\r\n\treturn info\r\n}\r\n\r\nexport function getAllWallets() {\r\n\tconst walletKeys = getKeys()\r\n\t\t.map(key => {\r\n\t\t\treturn {\r\n\t\t\t\tkey,\r\n\t\t\t\titem: loadFromLocalStorage(key),\r\n\t\t\t}\r\n\t\t})\r\n\t\t.filter(({ item }) => isWallet(item))\r\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\r\n\r\n\treturn walletKeys\r\n}\r\n\r\nexport async function getWalletHash({ salt, password }) {\r\n\tconst passwordId = utils.id(password)\r\n\r\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn hash\r\n}\r\n\r\nexport function generateSalt(dataStr) {\r\n\tif (typeof dataStr !== 'string') {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\r\n\t} else if (!dataStr.length) {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\r\n\t}\r\n\r\n\tconst id = utils.id(dataStr)\r\n\tconst salt = utils.keccak256(id)\r\n\treturn salt\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/GS-fund-ic.a3c1ce2c.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MWE5YjZhZS0zYjg3LWZlNDAtYjc2Zi05ZWQwZGY2M2IzOWMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZjAyOTAwYy1mYWQxLTZkNDctYmMyZi0wZDg0ZTg5MDgzZDUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTk2YjBhMi02OWJjLTVjNGUtOTIxZS1hNjcwMGNjZjIzYjQiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowODoxMSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq0lBPoAABGCSURBVHja7d0JlBT1ncDx8TauuyYRdxVdTXY3Hk9WfZrEczUx3jMwI/c9HIJBOQSCQECQWwGVQ2PkUkCQYNQowWON0c0q66pI9OGiAkEuueWQ4Zb/VrUzzdycAz09n99739cw0wNidX1e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\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute, notifyNewTOS } from 'actions'\r\nglobal.meta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA = '', versionB = '') => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = global.meta || {}\r\n\t\t\t\tconst shouldForceRefresh =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestVersion, currentVersion)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst shouldNotifyNewTOS =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestTOS, currentTOS)\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\r\nimport { lime, pink, amber, grey } from '@material-ui/core/colors'\r\n\r\nconst WHITE = '#fff'\r\nexport const PRIMARY = '#1B75BC'\r\nexport const PRIMARY_LIGHT = '#5fa3ef'\r\nexport const PRIMARY_LIGHTEST = '#96d4ff'\r\nexport const PRIMARY_DARK = '#004a8b'\r\nexport const PRIMARY_DARKEST = '#00235d'\r\nexport const SECONDARY = '#FFAC00'\r\nexport const SECONDARY_LIGHT = '#ffde4b'\r\nexport const SECONDARY_DARK = '#c67d00'\r\n\r\nexport const ALEX_GREY = '#3f3e3e'\r\nexport const ACCENT_ONE = '#57467B'\r\nexport const ACCENT_ONE_LIGHT = '#dedded'\r\nexport const ACCENT_TWO = '#006969'\r\nexport const ACCENT_TWO_LIGHT = '#69dead'\r\n\r\nexport const palette = {\r\n\tprimary: {\r\n\t\tmain: PRIMARY,\r\n\t\tcontrastText: WHITE,\r\n\t\tlight: PRIMARY_LIGHT,\r\n\t\tlightest: PRIMARY_LIGHTEST,\r\n\t},\r\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: pink,\r\n\twarning: amber,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n\taction: {\r\n\t\tdisabledBackground: grey[300],\r\n\t\tdisabled: grey[600],\r\n\t},\r\n}\r\n\r\nconst defaultTheme = createMuiTheme()\r\n\r\nexport const theme = createMuiTheme({\r\n\ttypography: {\r\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\t\tfontSize: 13,\r\n\t},\r\n\tpalette: { ...palette },\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTooltip: {\r\n\t\t\ttooltip: { borderRadius: 0 },\r\n\t\t},\r\n\t\tMuiSelect: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiInputLabel: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiOutlinedInput: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAlert: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// },\r\n\t\tMuiTableFooter: {\r\n\t\t\troot: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflex: 0,\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAppBar: {\r\n\t\t\tcolorDefault: {\r\n\t\t\t\tbackgroundColor: palette.appBar.main,\r\n\t\t\t\tcolor: palette.appBar.contrastText,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTablePagination: {\r\n\t\t\ttoolbar: {\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableFilter: {\r\n\t\t\troot: {\r\n\t\t\t\tmaxWidth: '400px',\r\n\t\t\t},\r\n\t\t},\r\n\t\t// Think of accessing an element not a class\r\n\t\tMuiGridListTile: {\r\n\t\t\troot: {\r\n\t\t\t\twidth: '100% !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBodyCell: {\r\n\t\t\tstackedCommon: {\r\n\t\t\t\t[defaultTheme.breakpoints.down('sm')]: {\r\n\t\t\t\t\tdisplay: 'inline-flex',\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\tborderBottom: 'none',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n})\r\n\r\nexport const themeMUI = responsiveFontSizes(theme, {\r\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\r\n\tfactor: 3,\r\n})\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\r\n\r\nconst getValidatorRequester = ({ baseUrl }) => {\r\n\treturn new Requester({ baseUrl })\r\n}\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\r\n\tconst followerRequester = getValidatorRequester({\r\n\t\tbaseUrl: follower.url,\r\n\t})\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validatorId,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ campaign, options, account }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: follower.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst leaderAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: leader.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t\tauthTokens: {\r\n\t\t\t[follower.id]: followerAuthToken,\r\n\t\t\t[leader.id]: leaderAuthToken,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ campaign, account }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const identityAnalytics = async ({\r\n\tleaderAuth,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n\tside,\r\n\tsegmentByChannel,\r\n\tstart,\r\n\tend,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/for-${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tlimit,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\teventType,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn { aggregates, metric }\r\n}\r\n\r\nexport const identityCampaignsAnalytics = async ({ leaderAuth, eventType }) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/advanced`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType },\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn aggregates\r\n}\r\n\r\nexport const campaignAnalytics = ({\r\n\tcampaign,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n}) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${campaign.id}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const timeBasedAnalytics = async ({\r\n\tleaderAuth,\r\n\tlimit,\r\n\ttimeframe,\r\n\teventType,\r\n\tmetric,\r\n\tstart,\r\n\tend,\r\n\tsegmentByChannel,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst result = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tlimit,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\teventType,\r\n\t\t\t\tmetric,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\treturn result\r\n}\r\n"],"sourceRoot":""}