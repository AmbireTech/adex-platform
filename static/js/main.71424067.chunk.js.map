{"version":3,"sources":["selectors/selectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/locationSelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/configSelectors.js","selectors/newTransactionSelectors.js","selectors/newItemsSelectors.js","selectors/itemsSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/index.js","services/smart-contracts/actions/stats.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-relayer/actions.js","helpers/localStorageHelpers.js","constants/actionTypes.js","resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/charts/simplified.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/IdentitySteps.js","components/signin/identity/styles.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/actions/core.js","services/requester/requester.js","services/requester/index.js","services/store-data/analytics.js","services/store-data/loop.js","constants/targeting.js","helpers/formatters.js","services/crypto/crypto.js","constants/misc.js","services/translations/translations.js","store/initialState.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/ledger_logo_header.png","constants/spinners.js","services/smart-contracts/ethers.js","actions/common.js","actions/uiActions.js","helpers/errors.js","helpers/numbers.js","actions/itemActions.js","services/auth/auth.js","actions/accountActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","helpers/timeHelpers.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/campaignActions.js","actions/newItemsActions.js","actions/index.js","services/wallet/wallet.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","helpers/miscHelpers.js","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404-no.png","resources/404-yes.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","services/adex-market/actions.js","components/App/CacheBuster.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/channelsReducer.js","reducers/ensReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","services/smart-contracts/actions/identity.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/adex-validator/actions.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectAccount","state","persist","account","selectAuth","createSelector","_ref","wallet","identity","address","authSig","authType","selectWallet","_ref2","selectAuthSig","_ref3","selectWalletAddress","_ref4","selectAuthType","_ref5","selectAccountIdentity","_ref6","selectAccountIdentityAddr","_ref7","selectAccountStats","_ref8","stats","selectAccountStatsFormatted","_ref9","settings","_ref10","raw","_ref11","formatted","selectChannelsWithUserBalances","_ref12","relayerData","routineAuthorizationsData","getState","channels","_ref13","withBalance","selectAccountIdentityCurrentPrivileges","_ref14","_ref14$relayerData","currentPrivileges","selectWalletPrivileges","selectIdentity","memory","selectEnsAddressByAddr","ensAddresses","_","selectLocation","router","location","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","selectNavTitle","nav","navTitle","selectSide","side","selectUi","ui","selectSpinners","spinners","selectSpinnerById","id","selectRegistrationAllowed","ids","map","allowRegistration","process","selectEasterEggsAllowed","allowEasterEggs","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","translate","t","selectAnalytics","analytics","selectCampaignAnalytics","campaigns","selectDemandAnalytics","demand","selectCampaignAnalyticsByType","type","campaignAnalytics","selectCampaignAnalyticsByChannelStats","campaignId","Object","slicedToArray","analyticsByType","byChannelStats","selectAnalyticsDataAggr","eventType","metric","timeframe","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","selectTotalImpressions","eventCounts","reduce","value","Number","selectTotalClicks","selectTotalMoney","eventPayouts","formatTokenAmount","selectAverageCPM","totalMoney","totalImpressions","selectStatsChartData","noLastOne","rest","objectWithoutProperties","objectSpread","data","_ref15","_ref15$data","slice","memo","item","time","labels","push","formatDateTime","datasets","parseFloat","parseInt","parseValueByMetric","selectValidations","validations","selectValidationsById","selectRelayerConfig","config","relayer","selectFeeTokenWhitelist","feeTokenWhitelist","all","tokens","selectRoutineWithdrawTokens","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","selectMainToken","relayerConfig","mainToken","selectSaiToken","saiAddr","selectMainFeeToken","selectNewTransactionById","newTransactions","txns","selectNewItems","newItem","selectNewCampaign","Campaign","CampaignModel","selectNewAdSlot","AdUnit","AdUnitModel","AdSlot","AdSlotModel","selectItemsByType","items","itemType","selectItemsArrayByType","values","selectCampaigns","selectCampaignsArray","selectAdUnits","adUnits","selectAdUnitsArray","selectAdSlotsArray","adSlots","selectCampaignsTableData","_ref$decimals","depositAsset","decimals","spec","media","status","humanFriendlyName","originalName","name","depositAmount","formatUnits","fundsDistributedRatio","impressions","clicks","minPerImpression","created","activeFrom","withdrawPeriodStart","actions","to","concat","selectCampaignsMaxImpressions","Math","max","apply","i","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","mediaUrl","fallbackUnit","mediaMime","title","replace","ipfs","selectAdUnitsTableData","units","selectCampaignStatsTableData","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","keys","key","website","ctr","toFixed","earnings","selectCampaignStatsMaxValues","channelId","result","current","newResult","maxClicks","maxCTR","maxImpressions","maxEarnings","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","sort","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","label","selectSlotTypesSourceWithDemands","symbol","constants","AdUnitsTypes","split","dA","bigNumberify","avgCPM","dB","gt","index","source","hasPopularGroup","group","hasNoDemandGroup","demandIfo","totalVolume","__webpack_require__","d","__webpack_exports__","translationsSelectors_t","analyticsSelectors_selectAnalytics","configSelectors_selectRelayerConfig","privilegesNames","valueToKey","IdentityPrivilegeLevel","tokenAvailableBalance","token","balance","feeToken","min","mul","lte","getWithdrawTokensBalances","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","mark","_callee2","getFullBalances","getToken","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","wrap","_context2","prev","next","getEthers","sent","_callee","tokenContract","available","balanceMainToken","_context","balanceOf","tokenInMainTokenValue","abrupt","stop","_x2","this","Promise","balanceData","add","_x","getAddressBalances","_x3","_getAddressBalances","_callee4","provider","calls","_context4","getBalance","path","serializedPath","balanceEth","formatEther","toString","tokensBalances","getAccountStats","_x4","_getAccountStats","_callee5","_ref7$outstandingBala","outstandingBalanceMainToken","_ref16","getIdentity","_selectMainToken","_identity$status","identityContract","privilegesAction","_ref17","_ref18","_ref18$","identityWithdrawTokensBalancesBalances","walletPrivileges","identityBalanceMainToken","_context5","total","deployed","privileges","t0","resolve","c","then","res","catch","e","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","totalOutstandingBalanceMainToken","availableIdentityBalanceMainToken","totalIdentityBalanceMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_x5","_getOutstandingBalance","_callee6","bigZero","initial","allOutstanding","_context6","amounts","ch","outstanding","outstandingAvailable","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","getAllValidatorsAuthForIdentity","_x7","_getAllValidatorsAuthForIdentity","_callee9","validatorAuthTokens","allValidators","tokenCalls","allTokens","validatorsAuth","_context9","_ref19","_objectSpread2","channel","leader","validators","follower","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_ref20","_callee8","_context8","getValidatorAuthToken","validatorId","_x10","saiDaiConversion","_callee3","_context3","_x8","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_x9","_tokenInMainTokenValue","_callee10","_selectMainToken2","valueInMainToken","_context10","toLowerCase","DEFAULT_HD_PATH","TrezorConnect","manifest","email","appUrl","TrezorSigner","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","bundle","showOnTrezor","getAddresses","asyncToGenerator","regenerator_default","_ref3$from","_ref3$to","success","payload","_args","ethereumGetAddress","signTx","params","txProps","signature","txSigned","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","r","s","v","serializeTransaction","Error","error","sendTransaction","txData","signMessage","message","_args4","ethereumSignMessage","hex","hash","mode","SignatureModes","GETH","connect","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","password","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","getAddress","signetTx","sign","_args5","arrayify","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","_getSigner","signer","_signer2","_signer3","AUTH_TYPES","METAMASK","LEDGER","LedgerSigner","TREZOR","GRANT","QUICK","getTypedDataHash","typedData","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","authToken","floor","random","MAX_SAFE_INTEGER","_signTx","tx","sig","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","signatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","regAccount","getQuickWallet","backupWallet","services_requester__WEBPACK_IMPORTED_MODULE_0__","requester","Requester","baseUrl","processResponse","json","text","handleRequesterErrorRes","owner","fetch","route","method","identityAddr","txnsRaw","body","JSON","stringify","headers","Content-Type","bytecode","identityFactoryAddr","baseIdentityAddr","salt","routineAuthorizationsRaw","encodeURIComponent","encryptedWallet","loadFromLocalStorage","localStorage","getItem","parse","err","saveToLocalStorage","serialized","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_CAMPAIGN_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE","RESET_CHANNELS_WITH_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_RESOLVE_ENS_ADDRESS","module","exports","p","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","props","close","setState","active","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","anchorOrigin","vertical","horizontal","top","react_default","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","useSelector","assign","_ref$isProp","_ref$args","Confirm","bind","assertThisInitialized","confirm","visible","_this$props","children","cancelLabel","confirmLabel","noActionBtns","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","onConfirm","onCancel","calledOn","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","Array","_key","resolveToLocation","pathname","history","createHref","handleClick","event","preventDefault","stopPropagation","_this$props2","forwardedRef","match","staticContext","toLocation","ref","href","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","Anchor","target","url","getUrl","Link","underline","draggable","rel","style","styles","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","mixins","drawerPaper","content","palette","background","default","padding","marginLeft","contentInner","sideIndex","advertiser","publisher","0","1","handleChange","ev","execute","useStyles","makeStyles","activeColor","accentOne","main","accentTwo","minWidth","&$selected","selected","indicator","SideSwitch","Box","bgcolor","boxShadow","Tabs","onChange","indicatorColor","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","adxLink","hint","&:hover","sideSwitch","marginBottom","useCommonStyles","SideNav","commonClasses","routerLocation","List","component","AdexIconTxt","spinners_LoadingSection","ListItemText","Typography","gutterBottom","Divider","dashboard_SideSwitch","button","ListItemIcon","Dashboard_default","primary","Fragment","CampaignIcon","List_default","toUpperCase","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","Date","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","_useState","useState","_useState2","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","handleDrawerToggle","imgSrc","btnMenuLabel","formatAddress","AppBar","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","setTimeout","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","reject","crop","x","round","y","getContext","drawImage","toBlob","file","URL","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","preventBubbling","revokeObjectURL","onCropChange","saveCropped","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","errMsg","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","Grid","container","alignContent","sm","md","react_image_crop_default","imageStyle","imgDropzonePreview","disabled","Save_default","dist_es","img_Img","grey","marginTop","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","msg","exact","required","isValid","checkExactishAspect","masgArgs","dirty","validateMedia","getMediaSize","validateId","ValidationHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","newValues","onOk","vals","forEach","onChangeReady","errImg","imgPropName","AVATAR_MAX_WIDTH","AVATAR_MAX_HEIGHT","Cancel_default","forms_ImgForm_ImgForm","imgLabel","ValidItemHoc","SaveBtn","spinner","dirtyProps","save","validationId","fabButton","Check_default","fabProgress","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","G404","xs","inline","textTransform","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","align","PageNotFound_G404","IMG_404_1","window","IMG_404_2","adSlotPut","schemas","adUnitPut","campaignPut","AdSizesByValue","ItemsConstants","ItemHoc","Item","updateNav","objModel","dp","indexOf","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","filter","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","updateItem","_authType","editImg","_activeInput","_this$props4","matchId","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","validName","_this$props5","Joi","_this$props6","description","_this$props7","page_not_found_PageNotFound","isDemo","canEdit","temp","fallbackMediaUrl","titleErr","descriptionErr","react_router","when","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","errMsgArgs","containers_ImgDialog_ImgDialog","_id","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","lg","htmlFor","multiline","rows","validateDescription","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","Info_default","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","MUIDataTableEnhanced","columns","options","mui_datatables_dist_default","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","customToolbarSelect","displayData","setSelectedRows","mapStatusIcons","humanFriendlyStatus","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","cellImg","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","formatAbbrNum","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","pl","pr","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selector","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","useCallback","useEffect","ReloadData","handleReload","react","Tooltip","Refresh_default","RRIconButton","getCols","maxDeposit","customBodyRender","includes","commify","sortDirection","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","CampaignsTable","_useSelector","_useTableData","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","innerWidth","StepLabel","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","MaterialStepper","_props$initialPage","initialPage","_props$pages","setCurrentPage","canReverse","pageProps","Comp","_page$pageValidation","pageValidation","onValid","stepsId","dirtyErrors","dirtyErrs","getDirtyValidationErrors","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","onKeyPressed","onKeyPress","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","FormSteps","CancelBtn","onSave","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","goToNextPageIfValid","MaterialUiStepper","FormSteps_FormSteps","fullHeight","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialog","iconButton","textButton","fabVariant","btnLabelArgs","btnLabel","dialogActions","onBeforeOpen","btnProps","setOpen","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","closeDialog","NewAdUnitHoc","ItemForm","updateNewItem","addUnit","resetNewItem","saved","formControl","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","helperText","_props$fullWidth","noSrcLabel","IconComponent","inputLabel","useRef","_React$useState","_React$useState2","labelWidth","setLabelWidth","offsetWidth","Select","toConsumableArray","ListSubheader","spinners_InputLoading","adUnitPost","AdTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","addUtmLink","addUtmParameters","campaign","removeFromUrl","protocol","host","newQuery","_i","_Object$entries","entries","UTM_PARAMS","format","addUrlUtmTracking","newTemp","checked","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getWidAndHightFromType","sizes","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","getSuggestions","inputValue","allowCreate","validateCreation","suggestion","newSuggestion","chip","inputRoot","multiple","validateAutocomplete","errorText","onInit","setInputValue","suggestions","selectedItem","Autocomplete","getOptionLabel","option","onInputChange","renderInput","inputProps","SourcesSelect","SOURCES","collection","tag","score","placeholder","AdUnitTargeting","handleTargetChange","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","splice","targetTag","_ref2$source","autocomplete_Autocomplete","openOnClick","suggestionMatch","showSuggestionsWhenValueIsSet","slider","markLabel","collections","tg","newCollection","targeting","tags","_ref4$source","_ref4$target","AddIcon","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref$targets","subHeader","dense","subheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","strong","imgPreview","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","openCampaign","adUnitsArray","OPENING_CAMPAIGN","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedIndexes","selectedItemsIds","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","InputProps","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","isNumberString","moment","MomentUtils","getTotalImpressions","dep","CampaignFinance","minTargetingScore","_campaign$temp","maxChannelFees","maxDepositFormatted","GETTING_CAMPAIGNS_FEES","now","date","valueOf","errDepAmnt","errMin","errFrom","errTo","validateNumberString","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","UnitsTable","NewCampaignFormPreview","_newItem$temp","getCampaignActualFees","FormsCommon_WalletAction","CampaignFormPreview_UnitsTable","feesFormatted","totalSpendFormatted","addSlot","AdSlotBasic","adTypesSource","UPDATING_SLOTS_DEMAND","updateSlotsDemandThrottled","errType","updateNewSlot","NewAdSlotHoc","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch","Collapse","in","PredefinedTags","custom","AdSlotTargeting","SlotFallback","AdSlotPreview","mainTokenSymbol","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","onInvalid","validateNewCampaignAdUnits","validateNewCampaignFinance","CampaignFormPreview","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","validateNewSlotBasics","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","truncateString","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","onRowsSelect","rowsSelected","AdUnitsTable","campaignUnits","_props$selected","setSelectorArgs","allRowsSelected","dataIndex","AdSlotsTable_RRIconButton","AdSlotsTable","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","CardContent","validUrl","ValidatedSlotMinCPM","minCPM","parseUnits","validateAmount","_ref2$prop","_ref2$value","_ref2$item","updateItemTemp","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","join","CampaignProps","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","global","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","formatNumberWithCommas","CampaignStatsBreakdownTable","_useSelector2","VIEW_MODE","context","handleTabChange","tabIndex","CampaignActions","closeCampaign","statistics","scrollable","scrollButtons","clone","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","CampaignItem","datepicker","ownProps","rowsView","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","infoStatsContainer","infoCard","linkCard","&:hover, &:focus","dashboardCardBody","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","payouts","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","Chart","pluginService","register","afterDraw","chart","tooltip","_active","activePoint","controller","ctx","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","yLabel","hover","xAxes","gridLines","scaleLabel","labelString","yAxes","ticks","beginAtZero","drawOnChartArea","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","typography","pxToRem","_ref$bgColor","bgColor","_ref2$bgColor","progress","StatsCard","explain","deepOrange","amber","lime","contrastThreshold","tonalOffset","disabledBackground","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","MuiFormControl","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","themeMUI","responsiveFontSizes","factor","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","timeHints","hour","day","week","BasicStats","totalClicks","averageCPM","loadingImpressions","loadingMoney","loadingCPM","loadingClicks","dataInSync","DashboardStats_StatsCard","updateAnalyticsTimeframe","Infinity","simplified_SimpleStatistics","find","DashboardStats","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","NewTransactionHoc","TransactionHoc","txId","updateNewTransaction","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","getErrMsg","saveFn","acc","log","txs","txResults","WithdrawFromIdentityForm","numStr","identityAvailable","validateNumber","amount","withdrawAmount","withdrawTo","withdrawToSpinner","errAmount","errAddr","validateAddress","addr","nonERC20","WithdrawAnyTokenFromIdentityForm","amountToWithdraw","tokenAddress","balanceAnySpinner","tokenBalance","tokenDecimals","errToken","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","errPrivLvl","SetAccountENSPageForm","handleValidate","_timeout","setEns","validateENS","ens","setEnsSpinner","noValidate","IdentityWithdrawPreview","feesData","fees","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","previewWarnMsgs","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","WithdrawFromExchangePage","TransactionPreview","identityWithdraw","withdrawFromIdentity","getFeesOnly","SetIdentityPrivilege","validatePrivilegesChange","addrIdentityPrivilege","setIdentityPrivilege","WithdrawAnyTokenFromIdentity","WithdrawAnyTokenFromIdentityPage","identityWithdrawAny","_ref9$transaction","withdrawOtherTokensFromIdentity","SetAccountENS","SetAccountENSPage","setIdentityENS","username","addIdentityENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountInfo","_useSelector$authType","canMakeTx","_useSelector3","identityEnsName","localWalletDownloadHref","setLocalWalletDownloadHref","loadBackupHref","obj","getRecoveryWalletData","expanded","setExpanded","AccountInfo_AccountItem","transactions_SetAccountENS","py","SaveAlt_default","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","transactions_WithdrawAnyTokenFromIdentity","Campaigns","NewItems_NewCampaignDialog","accent","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Dashboard","mobileOpen","setMobileOpen","showTxPrivLevelWarning","resolveEnsAddress","updateAccountIdentityData","getAllItems","analyticsLoop","start","analyticsCampaignsLoop","campaignsLoop","statsLoop","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","mb","Alert","severity","updatePrivilegesWarningAccepted","Account","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","w","goTo","confirmLogout","toExecute","confirmAction","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","fontWeight","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","waitingMetamaskAction","setWaitingMetamaskAction","_useState5","_useState6","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","_useState7","_useState8","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","metamaskSigner","_address","_stats","updateIdentity","updateIdentityWallet","signType","tabBox","METAMASK_IMG","dangerouslySetInnerHTML","__html","mt","METAMASK_DL_IMG","metamaskLAbel","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","sideSelect","IdentityForm","login","resetIdentity","ready","waitingExpected","waiting","CREATING_SESSION","waitingUpload","UPLOADING_ACCOUNT_DATA","IdentityHoc","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","results","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","QuickInfo","sessionSpinner","walletMsgs","emailCheck","passwordCheck","tosCheck","accessWarningCheck","validateEmail","validateEmailCheck","validatePassword","validatePasswordCheck","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","QuickLogin","getIdentitiesForDropdown","FullLogin","ownerIdentities","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","set","updateOwnerIdentities","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","final","infoPaper","gutters","input","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","updateEasterEggsAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","hostname","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAllItems","resetAllNewItems","resetAllBids","resetAccount","resetAnalytics","resetChannelsWithBalance","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_abi_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","Core","Interface","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","crypto","createHash","digest","Channel","creator","tokenAddr","tokenAmount","validUntil","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","fee","div","feeDen","feeNum","validator","feeAddr","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","getWithdrawnPerUserOutstanding","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default","functions","withdrawnPerUser","sub","getChannelsWithOutstanding","_getChannelsWithOutstanding","eligible","getAllCampaigns","statuses","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_unused","_channel$status","bTree","BalanceTree","isZero","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref4$withBalance","_withBalance$sort$red","c1","c2","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","sum","lt","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","executeRoutines","encode","routinesSweepTxCount","getIdentityRoutineAuthTuple","deployData","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","isSweepTx","getSwapAmountsByToken","saiToken","swaps","swapsSumInMainToken","swapsByToken","getSweepingTxnsIfNeeded","_getSweepingTxnsIfNeeded","amountInMainTokenNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","openChannel","_x6","_openChannel","_callee7","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","approveTxns","channelOpenTx","txnsByFeeToken","totalBN","mtBalance","maxAvailable","maxAvailableFormatted","storeCampaign","_context7","channelOpen","extraTxFeesCount","getApproveTxns","approveForAddress","approveAmount","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","processExecuteByFeeTokens","extraData","closeChannel","_closeChannel","textObj","statusText","AdexNodeRequester","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref4$route","_ref4$queryParams","queryParams","_ref4$method","_ref4$headers","_ref4$authSig","userAddr","_ref4$noCache","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","_loop__WEBPACK_IMPORTED_MODULE_0__","actions__WEBPACK_IMPORTED_MODULE_1__","Loop","syncAction","updateAccountAnalytics","loopName","updateAccountCampaignsAnalytics","Looper","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","startLoop","checkLoop","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","country","genders","Genders","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","substring","number","decPlaces","pow","abbrev","string","getKeyHash","encrypt","iv","cipher","encr","encrypted","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","encryptLegacy","crypted","createCipher","decryptLegacy","dec","createDecipher","BID_STATES","ExchangeConstants","TIMEOUTS","limit","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","_WALLET_ACTIONS_MSGS","setLang","adex_translations__WEBPACK_IMPORTED_MODULE_0__","adex_translations__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom_server__WEBPACK_IMPORTED_MODULE_1__","translations","adexTranslations","translation","tpl","arg","renderToString","interpolate","lng","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","web3Transactions","ethNetwork","networkId","gasData","market","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","constants_misc__WEBPACK_IMPORTED_MODULE_2__","LOOP_TIMEOUT","updates","updateStats","updateUserCampaigns","syncCampaigns","accountStatsLoop","updateAccountStats","QUICK_WALLET_BACKUP","UPDATING_ACCOUNT_IDENTITY","ethers","setLogLevel","getEthersResult","adexCore","coreAddr","Contract","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","getIdentityFactory","MainToken","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","ethereum","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","ethereumSelectedAddress","ethereumNetworkId","networkVersion","isMetaMask","types","updateUi","category","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","changeLanguage","get","refreshCacheAndReload","_ref3$notification","notification","caches","grant","accepted","getErrorMsg","numStringCPMtoImpression","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","resUnit","passback","postAdSlot","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","meta","updateTags","addNewTag","addSig","_ref$addr","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalance","updateGasData","updatedIdentity","isLimitedVolume","updateValidatorAuthTokens","newAuth","newIdentity","newTokens","createSession","_ref9$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","checkSession","skipErrToast","getSession","signerAddress","cfg","getNetworkId","_callee12","_ref24","_context12","getNetwork","getNetworkData","_callee13","network","_context13","onMetamaskNetworkChange","isMetamaskMatters","t4","t5","_x11","onMetamaskAccountChange","accountAddress","hasAuth","_account$wallet","identityContractOwner","_x12","_x13","metamaskAccountCheck","_x14","_x15","_x16","_x17","on","accounts","_x18","_x19","hasBackup","_callee14","_ref21","_ref25","_context14","generateSalt","getWalletHash","makeBackup","_callee15","_ref22","walletSalt","walletHash","_context15","_ref23","_callee11","_selectWallet","isLocal","_context11","_x22","_x23","validEthAddress","nonZeroAddr","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","handleAfterValidation","validEmail","validPassword","validateTOS","freeAdExENS","validateWallet","validateIdentityContractOwner","_x20","_x21","validateAccessWarning","validateCampaignUnits","_x24","_x25","validateCampaignValidators","_x26","_x27","validateAmounts","_ref22$maxDeposit","_x28","_x29","validateCampaignAmount","_ref26","_callee16","isValidNumber","deposit","isValidDeposit","isValidMin","_context16","_x30","_x31","getCampaignDatesValidation","_ref27","_ref27$created","validateCampaignDates","_ref28","_ref29","_callee17","_context17","_x32","_x33","validateCampaignTitle","_ref30","_ref31","_callee18","_context18","_x34","_x35","validateEthAddress","_ref32","_ref32$nonZeroAddr","_ref32$nonERC","_ref33","_callee19","_ref34","_context19","_x36","_x37","validatePrivilegesAddress","_ref35","_ref35$setAddr","_ref35$walletAddr","_ref36","_callee20","isCurrentAddress","_context20","_x38","_x39","validatePrivLevel","_ref37","_ref38","_callee21","_context21","_x40","_x41","validateSchemaProp","_ref39","_ref40","_callee22","_context22","_x42","_x43","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","abort","readAsText","identityData","lookupAddress","_selectIdentity","identityTxData","registerAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","getIdentityDeployData","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","every","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","inputValidations","validation","fillEmptyTime","prevAggr","intervals","nowUTC","utc","lastSixHoursPeriod","startOf","lastHour","subtract","end","last24Hours","last7Days","thisWeek","endOf","lastWeek","thisMonth","lastMonth","intervalsMs","interval","ammount","newAggr","diff","unix","getUnitsStatsByType","_getUnitsStatsByType","withdrawTokens","allChannels","unitsByType","unitsByTypeStats","byType","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","analyticsParams","callsParams","analyticsCampaignsParams","checkAccountChanged","accountCheck","_getState$persist","leaderAuth","accountChanged","allAnalytics","identityAnalytics","identityCampaignsAnalytics","updateSlotsDemand","throttle","demandAnalytics","leading","trailing","updateCampaignState","lastApprovedState","getHumanFriendlyName","doUpdate","_selectAccount","campaignsFromStore","campaignPromises","campaignsMapped","getCampaigns","authTokens","closeCampaignMarket","currentCampaign","tempValidators","_campaign$temp2","totalSpend","adSlotPost","currentSlot","_slot$minPerImpressio","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","campaignActions","newItemsActions","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","HDNode","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","HDKey","derive","publicExtendedKey","fromExtendedKey","_ref4$from","_ref4$to","transport","eth","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","payloadEncoded","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","parts","verifyMessage","decode","Module","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","array","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","isMoment","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","byCreator","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","cache","latestVersion","versionA","versionB","versionsA","versionsB","isNaN","semverGreaterThan","appVersion","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","ERC20TokenABI","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","identityRecoveryAddr","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","_selectRelayerConfig2","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_addIdentityENS","_ref5$username","tx2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","_selectRelayerConfig4","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","_ref16$sweepTxns","_ref16$swapAmountsByT","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","minDeploy","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesSweepTxCo","_tx$extraTxFeesCount","txFeeAmount","minRecommended","minFeeAmount","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","allowance","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","_withdrawOtherTokensFromIdentity","_selectRelayerConfig5","isEthAddressERC20","contract","isEthAddress","totalSupply","AddressZero","isConnectionLost","race","getBlockNumber","urlRegex","emailRegex","passwordRegex","numberStr","isFinite","isEthAddressZero","ethAddressZero","ethAddressERC20","_ref3$ens","ensAddress","resolveName","code","getValidatorRequester","getRequesters","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","existingAuth","era","ewt","sendMessage","_authTokens","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","events","aggregates","idenityAddr"],"mappings":"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","file":"static/js/main.71424067.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\nimport isEqual from 'lodash.isequal'\n\n// deep equal memoization instad reference check\nexport const createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\tisEqual\n)\n\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t(a = [], b = []) => a.length === b.length\n)\n","import { createSelector } from 'reselect'\nimport { createDeepEqualSelector } from 'selectors'\nimport { getState } from 'store'\n\nexport const selectAccount = state => state.persist.account || {}\nexport const selectChannels = state => (state || getState()).persist.channels\n\nexport const selectAuth = createSelector(\n\tselectAccount,\n\t({ wallet, identity }) =>\n\t\t!!wallet &&\n\t\t!!wallet.address &&\n\t\t!!wallet.authSig &&\n\t\t!!wallet.authType &&\n\t\t!!identity.address\n)\n\nexport const selectWallet = createDeepEqualSelector(\n\tselectAccount,\n\t({ wallet }) => wallet || {}\n)\n\nexport const selectAuthSig = createSelector(\n\tselectWallet,\n\t({ authSig }) => authSig\n)\n\nexport const selectWalletAddress = createSelector(\n\tselectWallet,\n\t({ address }) => address\n)\n\nexport const selectAuthType = createSelector(\n\tselectWallet,\n\t({ authType }) => authType\n)\n\nexport const selectAccountIdentity = createSelector(\n\tselectAccount,\n\t({ identity }) => identity || {}\n)\n\nexport const selectAccountIdentityAddr = createSelector(\n\tselectAccountIdentity,\n\t({ address }) => address\n)\n\nexport const selectAccountStats = createSelector(\n\tselectAccount,\n\t({ stats }) => stats || {}\n)\n\nexport const selectAccountSettings = createSelector(\n\tselectAccount,\n\t({ settings }) => settings || {}\n)\n\nexport const selectAccountStatsRaw = createSelector(\n\tselectAccountStats,\n\t({ raw }) => raw || {}\n)\n\nexport const selectAccountStatsFormatted = createSelector(\n\tselectAccountStats,\n\t({ formatted }) => formatted || {}\n)\n\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) =>\n\t\trelayerData &&\n\t\trelayerData.routineAuthorizationsData &&\n\t\trelayerData.routineAuthorizationsData[0]\n\t\t\t? relayerData.routineAuthorizationsData[0]\n\t\t\t: null\n)\n\nexport const selectChannelsWithUserBalances = createSelector(\n\tselectChannels,\n\t({ withBalance }) => withBalance || []\n)\n\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\n)\n\nexport const selectWalletPrivileges = createSelector(\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\n\t(privileges = {}, address) => privileges[address] || 0\n)\n","import { createSelector } from 'reselect'\n\nexport const selectIdentity = state => state.memory.identity\n\nexport const selectEnsAddresses = state => state.persist.ensAddresses\n\nexport const selectEnsAddressByAddr = createSelector(\n\t[selectEnsAddresses, (_, address) => address],\n\t(ensAddresses, address) => ensAddresses[address] || ''\n)\n","import { createSelector } from 'reselect'\n\nexport const selectLocation = state => state.router.location\n\nexport const selectSearch = createSelector(\n\tselectLocation,\n\t({ search }) => search\n)\n\nexport const selectLocationQuery = createSelector(\n\tselectLocation,\n\t({ query }) => query || {}\n)\n\nexport const selectSearchParams = createSelector(\n\tselectLocation,\n\t({ search }) => new URLSearchParams(search)\n)\n","import { createSelector } from 'reselect'\n\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\n\nexport const selectNavTitle = state => state.memory.nav.navTitle\nexport const selectSide = state => state.memory.nav.side\nexport const selectUi = state => state.persist.ui\n\nexport const selectSpinners = state => state.memory.spinners\n\nexport const selectSpinnerById = createSelector(\n\t[selectSpinners, (_, id) => id],\n\t(spinners, id) => spinners[id]\n)\n\nexport const selectMultipleSpinnersByIds = createSelector(\n\t[selectSpinners, (_, ids) => ids],\n\t(spinners, ids) => ids.map(id => spinners[id])\n)\n\nexport const selectRegistrationAllowed = createSelector(\n\tselectUi,\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\n)\n\nexport const selectEasterEggsAllowed = createSelector(\n\tselectUi,\n\t({ allowEasterEggs }) => allowEasterEggs\n)\n\nexport const selectPrivilegesWarningAccepted = createSelector(\n\tselectUi,\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\n)\n","import { createSelector } from 'reselect'\nimport { translate } from 'services/translations/translations'\nimport { getState } from 'store'\n\nexport const selectLang = state => state.persist.language\n\nexport const selectTranslations = createSelector(\n\t[\n\t\tselectLang,\n\t\t(_, val, opts = {}) => {\n\t\t\treturn { val, opts }\n\t\t},\n\t],\n\t(lang, { val, opts }) => {\n\t\tconst { isProp = false, args = [''] } = opts\n\t\treturn translate(val, { isProp, args }, lang)\n\t}\n)\n\n// Need to useSelector for language in top component where this will be used\n// Now this is don by using Translate Hoc on Root\n// It will work in actions too as the state isg get when they are called and don't need update\nexport const t = (val, opts) => {\n\treturn selectTranslations(getState(), val, opts)\n}\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\n\nexport const selectAnalytics = state => (state || getState()).persist.analytics\n\nexport const selectAnalyticsData = createSelector(\n\t[selectAnalytics, (_, side) => side],\n\t(analytics, side) => {\n\t\treturn analytics[side] || {}\n\t}\n)\n\nexport const selectCampaignAnalytics = createSelector(\n\t[selectAnalytics],\n\tanalytics => analytics.campaigns || {}\n)\n\nexport const selectDemandAnalytics = createSelector(\n\t[selectAnalytics],\n\tanalytics => analytics.demand || {}\n)\n\nexport const selectCampaignAnalyticsByType = createSelector(\n\t[selectCampaignAnalytics, (_, type) => type],\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\n)\n\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\n\t(state, { type, campaignId } = {}) => [\n\t\tselectCampaignAnalyticsByType(state, type),\n\t\tcampaignId,\n\t],\n\t([analyticsByType, campaignId]) =>\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\n)\n\nexport const selectAnalyticsDataAggr = createSelector(\n\t[selectAnalytics, (_, opts = {}) => opts],\n\t(analytics = {}, { side, eventType, metric, timeframe }) => {\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\n\t\t// NOTE: It was working fine with default initial state but\n\t\t// when eventType CLICK was added if you were logged and had\n\t\t// old analytics the initialState is not applied === boom.\n\n\t\tconst {\n\t\t\t[side]: {\n\t\t\t\t[eventType]: {\n\t\t\t\t\t[metric]: { [timeframe]: { aggr = [] } = {} } = {},\n\t\t\t\t} = {},\n\t\t\t} = {},\n\t\t} = analytics\n\n\t\treturn aggr\n\t}\n)\n\nexport const selectTotalImpressions = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalClicks = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalMoney = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\teventPayouts =>\n\t\teventPayouts\n\t\t\t? eventPayouts.reduce(\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value, 18)) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: null\n)\n\nexport const selectAverageCPM = createSelector(\n\t[\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalMoney(state, { side, timeframe }),\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalImpressions(state, { side, timeframe }),\n\t],\n\t(totalMoney, totalImpressions) =>\n\t\ttotalMoney !== null && totalImpressions !== null\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\n\t\t\t: null\n)\n\nconst parseValueByMetric = ({ value, metric }) => {\n\tswitch (metric) {\n\t\tcase 'eventPayouts':\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\n\t\tcase 'eventCounts':\n\t\t\treturn parseInt(value, 10)\n\t\tdefault:\n\t\t\treturn value\n\t}\n}\n\nexport const selectStatsChartData = createSelector(\n\t[\n\t\t(state, { noLastOne, ...rest } = {}) => {\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\n\t\t},\n\t],\n\t({ data = [], noLastOne, metric, ...rest }) => {\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\n\t\treturn aggr.reduce(\n\t\t\t(memo, item) => {\n\t\t\t\tconst { time, value } = item\n\t\t\t\tmemo.labels.push(formatDateTime(time))\n\t\t\t\tmemo.datasets.push(parseValueByMetric({ value, metric }))\n\t\t\t\treturn memo\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [],\n\t\t\t}\n\t\t)\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectValidations = state => state.memory.validations\n\nexport const selectValidationsById = createSelector(\n\t[selectValidations, (_, id) => id],\n\t(validations, id) => validations[id]\n)\n\nexport const selectMultipleValidationsByIds = createSelector(\n\t[selectValidations, (_, ids) => ids],\n\t(validations, ids) => ids.map(id => validations[id])\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\n\n// can be used outside  components\nexport const selectRelayerConfig = state => {\n\treturn (state || getState()).persist.config.relayer\n}\n\n// - relayer cfg\n// network,\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy, minRecommended }],\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\n// coreAddr,\n// baseIdentityAddr,\n// identityFactoryAddr,\n// registryAddr,\n// daiAddr,\n// marketUrl,\n// identityRecoveryAddr,\n// weeklyFeeAmount,\n// mainToken, // { address, symbol, decimals, standard },\n// advertiserMinGrantAmount\n// relayerAddr\n\nexport const selectFeeTokenWhitelist = createSelector(\n\t[selectRelayerConfig],\n\t({ feeTokenWhitelist }) => {\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokens = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.map(t => t.address)\n\t}\n)\n\nexport const selectConfig = createSelector(\n\t[selectRelayerConfig],\n\trelayerConfig => {\n\t\tconst cfg = { ...relayerConfig }\n\t\treturn cfg\n\t}\n)\n\nexport const selectMainToken = createSelector(\n\t[selectRelayerConfig],\n\t({ mainToken }) => mainToken || {}\n)\n\nexport const selectSaiToken = createSelector(\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\n)\n\nexport const selectMainFeeToken = createSelector(\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\n\t({ mainToken }, feeTokenWhitelist) => {\n\t\treturn feeTokenWhitelist[mainToken.address]\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectNewTransactions = state => state.memory.newTransactions\n\nexport const selectNewTransactionById = createSelector(\n\t[selectNewTransactions, (_, id) => id],\n\t(txns, id) => txns[id] || {}\n)\n","import {\n\tCampaign as CampaignModel,\n\tAdUnit as AdUnitModel,\n\tAdSlot as AdSlotModel,\n} from 'adex-models'\n\nimport { createSelector } from 'reselect'\n\nexport const selectNewItems = state => state.memory.newItem\n\nexport const selectNewCampaign = createSelector(\n\tselectNewItems,\n\t({ Campaign }) => new CampaignModel(Campaign)\n)\n\nexport const selectNewAdUnit = createSelector(\n\tselectNewItems,\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\n)\n\nexport const selectNewAdSlot = createSelector(\n\tselectNewItems,\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\n)\n","import { createSelector } from 'reselect'\n\nexport const selectItems = state => state.persist.items\n\nexport const selectItemsByType = createSelector(\n\t[selectItems, (_, itemType) => itemType],\n\t(items, itemType) => items[itemType] || {}\n)\n\nexport const selectItemsArrayByType = createSelector(\n\t[selectItemsByType, (_, itemType) => itemType],\n\titems => Object.values(items)\n)\n\nexport const selectCampaigns = createSelector(\n\tstate => selectItemsByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectCampaignsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectAdUnits = createSelector(\n\tstate => selectItemsByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdUnitById = createSelector(\n\t[selectAdUnits, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAdUnitsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdSlots = createSelector(\n\tstate => selectItemsByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n","import { createSelector } from 'reselect'\nimport {\n\tselectCampaignsArray,\n\tselectRoutineWithdrawTokens,\n\tselectAdSlotsArray,\n\tselectAdUnits,\n\tcreatArrayOnlyLengthChangeSelector,\n\tselectCampaignAnalyticsByChannelStats,\n} from 'selectors'\nimport { formatUnits } from 'ethers/utils'\n\nexport const selectCampaignsTableData = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\n\t(campaigns, tokens, side) =>\n\t\tcampaigns.map(item => {\n\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\n\t\t\tconst spec = item.spec || {}\n\t\t\treturn {\n\t\t\t\tmedia: {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tadUnits: item.adUnits,\n\t\t\t\t},\n\t\t\t\tstatus: {\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\n\t\t\t\t\toriginalName: item.status.name,\n\t\t\t\t},\n\t\t\t\tdepositAmount: Number(formatUnits(item.depositAmount || '0', decimals)),\n\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\n\t\t\t\timpressions: Number(item.impressions || '0'),\n\t\t\t\tclicks: Number(item.clicks || '0'),\n\t\t\t\tminPerImpression:\n\t\t\t\t\tNumber(\n\t\t\t\t\t\tformatUnits(\n\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\n\t\t\t\t\t\t\tdecimals\n\t\t\t\t\t\t)\n\t\t\t\t\t) * 1000,\n\t\t\t\tcreated: item.created,\n\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\n\t\t\t\twithdrawPeriodStart:\n\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\n\t\t\t\tactions: {\n\t\t\t\t\tto: `/dashboard/${side}/Campaign/${item.id}`,\n\t\t\t\t},\n\t\t\t}\n\t\t})\n)\n\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\n\tselectCampaignsTableData,\n\tdata => data\n)\n\nexport const selectCampaignsMaxImpressions = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\n)\n\nexport const selectCampaignsMaxClicks = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\n)\n\nexport const selectCampaignsMaxDeposit = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\n\t(campaigns, tokens) =>\n\t\tMath.max.apply(\n\t\t\tnull,\n\t\t\tcampaigns.map(i => {\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\n\t\t\t})\n\t\t)\n)\n\nexport const selectAdSlotsTableData = createSelector(\n\t[selectAdSlotsArray, (_, side) => side],\n\t(slots, side) =>\n\t\tslots.map(item => {\n\t\t\treturn {\n\t\t\t\tmedia: {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tmediaUrl: item.fallbackUnit ? `ipfs://${item.fallbackUnit}` : '', //TODO: provide fallback image to slot\n\t\t\t\t\tmediaMime: 'image/jpeg',\n\t\t\t\t},\n\t\t\t\ttitle: item.title,\n\t\t\t\ttype: item.type.replace('legacy_', ''),\n\t\t\t\tcreated: item.created,\n\t\t\t\tactions: {\n\t\t\t\t\tto: `/dashboard/${side}/AdSlot/${item.id || item.ipfs}`,\n\t\t\t\t\titem,\n\t\t\t\t},\n\t\t\t}\n\t\t})\n)\n\nexport const selectAdUnitsTableData = createSelector(\n\t[selectAdUnits, (_, { side, items }) => ({ side, items })],\n\t(units, { side, items }) =>\n\t\tObject.values(items || units).map(item => ({\n\t\t\tid: item.id,\n\t\t\tmedia: {\n\t\t\t\tid: item.id,\n\t\t\t\tmediaUrl: item.mediaUrl,\n\t\t\t\tmediaMime: item.mediaMime,\n\t\t\t},\n\t\t\ttitle: item.title || units[item.ipfs].title,\n\t\t\ttype: item.type,\n\t\t\tcreated: item.created,\n\t\t\tactions: {\n\t\t\t\tto: `/dashboard/${side}/AdUnit/${item.id || item.ipfs}`,\n\t\t\t\titem,\n\t\t\t},\n\t\t}))\n)\n\nexport const selectCampaignStatsTableData = createSelector(\n\t(state, campaignId) => {\n\t\treturn {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\t},\n\t({ impressions, clicks }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\n\t\treturn Object.keys(imprStats).map(key => ({\n\t\t\twebsite: key,\n\t\t\timpressions: imprStats[key] || 0,\n\t\t\tctr:\n\t\t\t\t(((clickStats[key] || 0) / (imprStats[key] || 0)) * 100).toFixed(2) ||\n\t\t\t\t0,\n\t\t\tearnings: Number((earnStats[key] || 0).toFixed(2)),\n\t\t\tclicks: clickStats[key] || 0,\n\t\t}))\n\t}\n)\n\nexport const selectCampaignStatsMaxValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\tnewResult.maxEarnings = Math.max(\n\t\t\t\t\tcurrent.earnings,\n\t\t\t\t\tnewResult.maxEarnings\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\n\t\t)\n)\n","import { createSelector } from 'reselect'\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\n\nexport const selectCampaignDoughnutStats = createSelector(\n\t(state, { campaignId, chartColors, maxDataSets }) => {\n\t\tconst analytics = {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\n\t\treturn { ...analytics, chartColors, maxDataSets }\n\t},\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\n\t\t\t.reduce(\n\t\t\t\t(data, key, i) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tif (i < maxDataSets) {\n\t\t\t\t\t\tnewData.labels.push(key)\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\n\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\n\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\n\t\t\t)\n\n\t\tconst data = {\n\t\t\tlabels,\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: impressionsData,\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: clicksData,\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\n\t\treturn data\n\t}\n)\n","import { bigNumberify } from 'ethers/utils'\nimport { t, selectDemandAnalytics, selectMainToken } from 'selectors'\nimport { createSelector } from 'reselect'\nimport { constants } from 'adex-models'\n\nexport const selectSlotTypesSourceWithDemands = createSelector(\n\t[selectDemandAnalytics, selectMainToken],\n\t(demand, { symbol }) => {\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\n\t\t\treturn {\n\t\t\t\tvalue: type,\n\t\t\t\tlabel: type.split('_')[1],\n\t\t\t\tdemand: demand[type],\n\t\t\t}\n\t\t})\n\t\t\t.sort((a, b) => {\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\n\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\n\t\t\t})\n\t\t\t.reduce(\n\t\t\t\t(data, type, index) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tconst source = newData.source\n\t\t\t\t\tconst current = type\n\t\t\t\t\tif (index === 0 && type.demand) {\n\t\t\t\t\t\tnewData.hasPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\n\t\t\t\t\t\tnewData.hasPopularGroup &&\n\t\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\t\t!type.demand\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tif (current.demand) {\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\n\t\t\t\t\t}\n\t\t\t\t\tsource.push(current)\n\n\t\t\t\t\tnewData.source = source\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\n\t\t\t)\n\t\treturn source\n\t}\n)\n","export * from './selectors'\nexport * from './accountSelectors'\nexport * from './identitySelectors'\nexport * from './locationSelectors'\nexport * from './uiSelectors'\nexport * from './translationsSelectors'\nexport * from './analyticsSelectors'\nexport * from './validationsSelectors'\nexport * from './configSelectors'\nexport * from './newTransactionSelectors'\nexport * from './newItemsSelectors'\nexport * from './itemsSelectors'\nexport * from './tablesDataSelectors'\nexport * from './chartsSelectors'\nexport * from './dataSelectors'\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { constants } from 'adex-models'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport { bigNumberify, formatEther } from 'ethers/utils'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectRoutineWithdrawTokens,\n\tselectFeeTokenWhitelist,\n} from 'selectors'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\n\tif (token.address === mainToken.address) {\n\t\treturn balance\n\t}\n\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\n\n\t// approve + swap txns\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\n\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\n\treturn isAvailable ? balance : bigNumberify(0)\n}\n\nexport const getWithdrawTokensBalances = async ({\n\tauthType,\n\taddress,\n\tgetFullBalances,\n}) => {\n\tconst { getToken } = await getEthers(authType)\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\n\t\tconst tokenContract = getToken(token)\n\n\t\tconst balance = await tokenContract.balanceOf(address)\n\n\t\tconst available = getFullBalances\n\t\t\t? balance\n\t\t\t: tokenAvailableBalance({\n\t\t\t\t\ttoken,\n\t\t\t\t\tmainToken,\n\t\t\t\t\tbalance,\n\t\t\t  })\n\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: available,\n\t\t})\n\n\t\treturn { token, balance: available, balanceMainToken }\n\t})\n\n\tconst balances = await Promise.all(balancesCalls)\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\n\t\t(data, balanceData) => {\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\n\t\t\t\tbalanceData.balanceMainToken\n\t\t\t)\n\n\t\t\tif (balanceData.token.address === mainToken.address) {\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\n\t\t\t}\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\n\t\t\tmainTokenBalance: bigNumberify(0),\n\t\t}\n\t)\n\n\treturn {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t\ttotalBalanceInMainToken,\n\t}\n}\n\nexport async function getAddressBalances({\n\taddress,\n\tauthType,\n\tgetFullBalances,\n}) {\n\tconst { provider } = await getEthers(authType)\n\n\tconst calls = [\n\t\tprovider.getBalance(address.address),\n\t\tgetWithdrawTokensBalances({\n\t\t\tauthType,\n\t\t\taddress: address.address,\n\t\t\tgetFullBalances,\n\t\t}),\n\t]\n\n\tconst balances = await Promise.all(calls)\n\tconst formatted = {\n\t\taddress: address.address,\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\n\t\tbalanceEth: formatEther(balances[0].toString()),\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\n\t\t\treturn {\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\n\t\t\t\tsymbol: token.symbol,\n\t\t\t}\n\t\t}),\n\t}\n\n\treturn formatted\n}\n\nexport async function getAccountStats({\n\taccount,\n\toutstandingBalanceMainToken = {\n\t\ttotal: bigNumberify('0'),\n\t\tavailable: bigNumberify('0'),\n\t},\n}) {\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { address } = identity\n\tconst { getIdentity } = await getEthers(authType)\n\tconst { decimals } = selectMainToken()\n\n\tconst { status = {} } = identity\n\tconst identityContract = getIdentity({ address })\n\tlet privilegesAction\n\ttry {\n\t\tawait identityContract.deployed()\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\n\t} catch {\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\n\t}\n\n\tconst calls = [\n\t\tgetWithdrawTokensBalances({ authType, address }),\n\t\tprivilegesAction,\n\t]\n\n\tconst [\n\t\tidentityWithdrawTokensBalancesBalances = {},\n\t\twalletPrivileges,\n\t] = await Promise.all(\n\t\tcalls.map(c =>\n\t\t\tc\n\t\t\t\t.then(res => res)\n\t\t\t\t.catch(e => {\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t)\n\t)\n\n\tconst identityBalanceMainToken =\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\n\n\t// BigNumber values for balances\n\tconst raw = {\n\t\tidentityWithdrawTokensBalancesBalances,\n\t\twalletPrivileges,\n\t\tidentityBalanceMainToken,\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.total\n\t\t),\n\t}\n\n\tconst formatted = {\n\t\twalletAddress: wallet.address,\n\t\twalletAuthType: wallet.authType,\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\n\t\tidentityAddress: identity.address,\n\t\tidentityBalanceMainToken: formatTokenAmount(\n\t\t\tidentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t}\n\n\treturn {\n\t\traw,\n\t\tformatted,\n\t}\n}\n\n// NOTE: currently working because DAI and SAI has the same price and decimals\n// We should use getOutstandingBalanceMainToken if changed\nexport async function getOutstandingBalance({ withBalance }) {\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable } = ch\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstanding)\n\t\tcurrent.available = current.available.add(outstandingAvailable)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\n\tconst tokens = selectRoutineWithdrawTokens()\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\n\t\tconst { depositAsset } = channel\n\t\tconst token = tokens[depositAsset]\n\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: outstandingAvailable,\n\t\t})\n\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstandingMT)\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getAllValidatorsAuthForIdentity({\n\twithBalance,\n\taccount,\n}) {\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\n\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\n\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\tconst keys = Object.keys(allValidators)\n\n\tconst tokenCalls = keys.map(async key => {\n\t\tif (allValidators[key]) {\n\t\t\treturn allValidators[key]\n\t\t} else {\n\t\t\tconst token = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: key,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\treturn token\n\t\t}\n\t})\n\n\tconst allTokens = await Promise.all(tokenCalls)\n\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[key]: allTokens[index],\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\treturn validatorsAuth\n}\n\nconst saiDaiConversion = async ({ token, balance }) => balance\n\nconst valueInMainTokenConversions = {\n\t// SAI\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\n\t\t// DAI\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\n\t},\n\t// DAI\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\n\t\t// SAI\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\n\t},\n}\n\nexport async function tokenInMainTokenValue({ token, balance }) {\n\tconst { address } = selectMainToken()\n\n\tif (address === token.address) {\n\t\treturn balance\n\t}\n\n\tconst valueInMainToken = await valueInMainTokenConversions[\n\t\taddress.toLowerCase()\n\t][token.address.toLowerCase()]({\n\t\ttoken,\n\t\tbalance,\n\t})\n\n\treturn valueInMainToken\n}\n","import { Signer, utils } from 'ethers'\nimport TrezorConnect from 'trezor-connect'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\n\nTrezorConnect.manifest({\n\temail: 'contactus@adex.network',\n\tappUrl: 'http://adex.network',\n})\n\nexport default class TrezorSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\n\t\tconst bundle = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tbundle.push({\n\t\t\t\tpath: this.path + `/${index}`,\n\t\t\t\tshowOnTrezor: false,\n\t\t\t})\n\t\t}\n\n\t\treturn { bundle }\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\n\t\t\tthis.getAddsParams({ from, to })\n\t\t)\n\n\t\treturn { success, payload }\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\n\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\n\t\t\tpath: this.path,\n\t\t\ttransaction: txProps,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst signature = {\n\t\t\t\tr: payload.r,\n\t\t\t\ts: payload.s,\n\t\t\t\tv: parseInt(payload.v),\n\t\t\t}\n\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\t\treturn txSigned\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\n\t\t\tpath: this.path,\n\t\t\tmessage: message,\n\t\t\thex: !!opts.hex,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst res = {\n\t\t\t\t/*\n\t\t\t\t * NOTE: SignatureTypes.GETH\n\t\t\t\t * Current TrezorConnect window does not\n\t\t\t\t * accept device with old firmware\n\t\t\t\t */\n\t\t\t\tsignature: '0x' + payload.signature,\n\t\t\t\thash: message,\n\t\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\t\taddress: payload.address,\n\t\t\t}\n\n\t\t\treturn res\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tconnect = provider => {\n\t\treturn new TrezorSigner(provider, { path: this.path })\n\t}\n}\n","import { Signer, utils, Wallet } from 'ethers'\nimport { getLocalWallet } from 'services/wallet/wallet'\nimport { constants } from 'adex-models'\n\nexport default class LocalSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\n\t\tthis._provider = provider\n\t\tthis._opts = opts\n\t}\n\n\tgetWallet = async () => {\n\t\tif (this._wallet) {\n\t\t\treturn this._wallet\n\t\t} else {\n\t\t\tconst { email, password, authType } = this._opts\n\t\t\tconst walletData = await getLocalWallet({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\n\t\t\treturn this._wallet\n\t\t}\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn await this.getWallet().address\n\t}\n\n\tsignTx = async params => {\n\t\tconst signetTx = await this.getWallet().sign(params)\n\t\treturn signetTx\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst wallet = await this.getWallet()\n\n\t\tconst signature = await wallet.signMessage(message)\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: wallet.address,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LocalSigner(provider, {\n\t\t\temail: this.email,\n\t\t\tpassword: this.password,\n\t\t})\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport { constants } from 'adex-models'\n\nexport default class MetaMaskSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._signer = provider.getSigner()\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._signer.getAddress()\n\t}\n\n\tsendTransaction = async params => {\n\t\treturn this._signer.sendTransaction(params)\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._signer.signMessage(message)\n\t\t// TODO: support EIP712\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: await this._signer.getAddress(),\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new MetaMaskSigner(provider)\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { utils } from 'ethers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\nimport LocalSigner from 'services/smart-contracts/signers/local'\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\n\nexport async function getSigner({ wallet, provider }) {\n\t// TODO: Maybe get provider here?\n\tconst { authType, path, email, password } = wallet\n\n\tif (authType === AUTH_TYPES.METAMASK.name) {\n\t\tconst signer = new MetaMaskSigner(provider)\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.LEDGER.name) {\n\t\tconst signer = new LedgerSigner(provider, { path })\n\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.TREZOR.name) {\n\t\tconst signer = new TrezorSigner(provider, { path })\n\t\treturn signer\n\t}\n\tif (\n\t\tauthType === AUTH_TYPES.GRANT.name ||\n\t\tauthType === AUTH_TYPES.QUICK.name\n\t) {\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\n\n\t\treturn signer\n\t}\n\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\n}\n\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\nexport const getTypedDataHash = ({ typedData }) => {\n\tconst values = typedData.map(entry => {\n\t\treturn typeof entry.value === 'string'\n\t\t\t? utils.toUtf8Bytes(entry.value)\n\t\t\t: utils.hexlify(entry.value)\n\t})\n\tconst valuesHash = utils.keccak256.apply(null, values)\n\tconst schema = typedData.map(entry => {\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\n\t})\n\n\tconst schemaHash = utils.keccak256.apply(null, schema)\n\tconst hash = utils.solidityKeccak256(\n\t\t['bytes32', 'bytes32'],\n\t\t[schemaHash, valuesHash]\n\t)\n\n\treturn hash\n}\n\nexport async function getAuthSig({ wallet }) {\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst authToken = Math.floor(\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\n\t).toString()\n\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\n\tconst hash = getTypedDataHash({ typedData })\n\tconst signature = await signer.signMessage(hash, { hex: true })\n\n\treturn {\n\t\t...signature,\n\t\tauthToken,\n\t\thash,\n\t}\n}\n\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\n\tconst { provider } = await getEthers(authType)\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\n\n\treturn Promise.all(receipts)\n}\n\nexport async function signTx({ tx, signer }) {\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\n\t\thex: true,\n\t})\n\tconst signature = splitSig(sig.signature)\n\treturn signature\n}\n\nexport async function getMultipleTxSignatures({ txns, signer }) {\n\tconst signatures = []\n\tfor (const tx of txns) {\n\t\tsignatures.push(await signTx({ tx, signer }))\n\t}\n\n\treturn signatures\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\n\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getOwnerIdentities = ({ owner }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/by-owner/${owner}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getIdentityData = ({ identityAddr }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getRelayerConfigData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'relayer/cfg',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}/execute`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures,\n\t\t\t\tidentityAddr,\n\t\t\t\tchannel,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const regAccount = ({\n\towner,\n\temail,\n\tbytecode,\n\tidentityFactoryAddr,\n\tbaseIdentityAddr,\n\tsalt,\n\tidentityAddr,\n\tprivileges,\n\troutineAuthorizationsRaw,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner,\n\t\t\t\temail,\n\t\t\t\tbytecode,\n\t\t\t\tidentityFactoryAddr,\n\t\t\t\tbaseIdentityAddr,\n\t\t\t\tsalt,\n\t\t\t\tidentityAddr,\n\t\t\t\tprivileges,\n\t\t\t\troutineAuthorizationsRaw,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getQuickWallet = ({ hash }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tsalt,\n\t\t\t\thash,\n\t\t\t\tencryptedWallet,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n","export const ADD_ITEM = 'ADD_ITEM'\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\nexport const DELETE_ITEM = 'DELETE_ITEM'\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\nexport const UPDATE_UI = 'UPDATE_UI'\nexport const ADD_TOAST = 'ADD_TOAST'\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\nexport const UPDATE_NAV = 'UPDATE_NAV'\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\nexport const UNIT_PLACE_BID = 'PLACE_BID'\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\nexport const RESET_WALLET = 'RESET_WALLET'\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\nexport const UPDATE_ADVANCED_CAMPAIGN_ANALYTICS =\n\t'UPDATE_ADVANCED_CAMPAIGN_ANALYTICS'\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\nexport const UPDATE_CHANNELS_WITH_BALANCE = 'UPDATE_CHANNELS_WITH_BALANCE'\nexport const RESET_CHANNELS_WITH_BALANCE = 'RESET_CHANNELS_WITH_BALANCE'\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\n","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Button from '@material-ui/core/Button'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport IconButton from '@material-ui/core/IconButton'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst variantIcon = {\n\taccept: CheckCircleIcon,\n\tsuccess: CheckCircleIcon,\n\twarning: WarningIcon,\n\tcancel: ErrorIcon,\n\terror: ErrorIcon,\n\tinfo: InfoIcon,\n}\n\nexport class Toast extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttoast: {},\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tlet toast = this.state.toast\n\t\tlet nextToast = nextProps.toasts[0]\n\n\t\tif (!nextToast) {\n\t\t\tthis.setState({ active: false, toast: {} })\n\t\t\treturn\n\t\t}\n\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\n\n\t\tif (isNewToast) {\n\t\t\tthis.setState({ active: true, toast: nextToast })\n\t\t}\n\t}\n\n\tclose = id => {\n\t\tthis.setState({ active: false })\n\t\tthis.props.actions.removeToast(id)\n\t}\n\n\trender() {\n\t\tconst { toast } = this.state\n\t\tconst { classes } = this.props\n\t\tconst Icon = variantIcon[toast.type]\n\n\t\tif (!toast || !Icon) return null\n\n\t\tconst anchorOrigin = toast.anchorOrigin || {\n\t\t\tvertical: 'bottom',\n\t\t\thorizontal: 'center',\n\t\t}\n\n\t\tif (toast.top) {\n\t\t\tanchorOrigin.horizontal = 'center'\n\t\t\tanchorOrigin.vertical = 'top'\n\t\t}\n\n\t\treturn (\n\t\t\t<Snackbar\n\t\t\t\topen={this.state.active}\n\t\t\t\tautoHideDuration={toast.timeout || 0}\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\tanchorOrigin={anchorOrigin}\n\t\t\t>\n\t\t\t\t<SnackbarContent\n\t\t\t\t\taria-describedby='client-snackbar'\n\t\t\t\t\tmessage={\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\taction={[\n\t\t\t\t\t\ttoast.action && toast.action,\n\t\t\t\t\t\t!toast.unclosable && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tkey='close'\n\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\tclassName={classes.close}\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t),\n\t\t\t\t\t]}\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\n\t\t\t\t\t\t[classes.top]: !!toast.top,\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</Snackbar>\n\t\t)\n\t}\n}\n\nToast.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\ttoasts: PropTypes.array.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// let persist = state.persist\n\tlet memory = state.memory\n\treturn {\n\t\ttoasts: memory.toasts || [],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withStyles(styles)(Toast))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsnackbar: {\n\t\t\tborder: '3px solid',\n\t\t\tborderRadius: 0,\n\t\t\tbackgroundColor: '#222',\n\t\t\t'&.active': {\n\t\t\t\ttransform: 'translateY(-20%)',\n\t\t\t},\n\t\t\tmargin: spacing,\n\t\t},\n\t\twarning: {\n\t\t\tborderColor: '#FFAB00',\n\t\t\tcolor: '#FFAB00',\n\t\t},\n\t\tcancel: {\n\t\t\tborderColor: '#FF5722',\n\t\t\tcolor: '#FF5722',\n\t\t},\n\t\taccept: {\n\t\t\tborderColor: '#00E676',\n\t\t\tcolor: '#00E676',\n\t\t},\n\t\ticon: {\n\t\t\tfontSize: 20,\n\t\t},\n\t\ticonVariant: {\n\t\t\topacity: 0.9,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tmessage: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\ttop: {\n\t\t\twidth: '98vw',\n\t\t\tmaxWidth: '98vw',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { translate } from 'services/translations/translations'\nimport { selectLang } from 'selectors'\n\nexport default function Translate(Decorated) {\n\tfunction Translated(props) {\n\t\tconst language = useSelector(selectLang)\n\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\n\t\t\tconst translation = translate(val, { isProp, args }, language)\n\n\t\t\treturn translation\n\t\t}\n\n\t\treturn <Decorated {...props} t={t} />\n\t}\n\n\treturn Translated\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport Button from '@material-ui/core/Button'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Translate from 'components/translate/Translate'\n\nexport class Confirm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.cancel = this.cancel.bind(this)\n\t\tthis.confirm = this.confirm.bind(this)\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({ active: nextProps.visible })\n\t}\n\n\tconfirm() {\n\t\tif (typeof this.props.confirm === 'function') {\n\t\t\tthis.props.confirm()\n\t\t}\n\t\tthis.setState({ active: false })\n\t}\n\n\tcancel() {\n\t\tif (typeof this.props.cancel === 'function') {\n\t\t\tthis.props.cancel()\n\t\t}\n\n\t\tthis.setState({ active: false })\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\ttext,\n\t\t\tchildren,\n\t\t\tcancelLabel,\n\t\t\tconfirmLabel,\n\t\t\tt,\n\t\t\tnoActionBtns,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<Dialog open={this.state.active}>\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t{children}\n\t\t\t\t</DialogContent>\n\t\t\t\t{!noActionBtns && (\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t)}\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nConfirm.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tcancelLabel: PropTypes.string,\n\tconfirmLabel: PropTypes.string,\n\ttitle: PropTypes.string.isRequired,\n\ttext: PropTypes.string,\n\tconfirm: PropTypes.func,\n\tcancel: PropTypes.func,\n\tvisible: PropTypes.bool,\n\tcalledOn: PropTypes.number,\n\tnoActionBtns: PropTypes.bool,\n}\n\nfunction mapStateToProps(state) {\n\tstate = state.memory\n\treturn {\n\t\tcancelLabel: state.confirm.data.cancelLabel,\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\n\t\ttitle: state.confirm.data.title || '',\n\t\ttext: state.confirm.data.text || '',\n\t\tconfirm: state.confirm.onConfirm,\n\t\tcancel: state.confirm.onCancel,\n\t\tvisible: state.confirm.active || false,\n\t\tcalledOn: state.confirm.calledOn,\n\t\tnoActionBtns: state.confirm.noActionBtns,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(Confirm))\n","import React, { forwardRef } from 'react'\n// import PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nexport const withReactRouterLink = Component => {\n\tclass Decorated extends React.Component {\n\t\tresolveToLocation = to => {\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\n\t\t\tconst href = this.props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\thandleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = this.props\n\n\t\t\tif (onClick && typeof onClick === 'function') {\n\t\t\t\tawait onClick()\n\t\t\t\tthis.props.history.push(to)\n\t\t\t} else {\n\t\t\t\tthis.props.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\t// TODO: check if it works without infinite loops\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//   // const { to } = this.props;\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\n\t\t// }\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tforwardedRef,\n\t\t\t\tto,\n\t\t\t\tmatch,\n\t\t\t\tlocation,\n\t\t\t\thistory,\n\t\t\t\tstaticContext,\n\t\t\t\tonClick,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst toLocation = this.resolveToLocation(to)\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\tref={forwardedRef}\n\t\t\t\t\t{...rest}\n\t\t\t\t\thref={toLocation}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n","import React from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon'\nimport pure from 'recompose/pure'\n\nexport default (path, displayName, viewBox = '') => {\n\tlet Icon = props => (\n\t\t<SvgIcon viewBox={viewBox} {...props}>\n\t\t\t{path}\n\t\t</SvgIcon>\n\t)\n\n\tIcon.displayName = displayName\n\tIcon = pure(Icon)\n\tIcon.muiName = 'SvgIcon'\n\n\treturn Icon\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\n\t</g>,\n\n\t'Campaign',\n\t'0 0 26.12 17.37'\n)\n","import React from 'react'\nimport Link from '@material-ui/core/Link'\n\nconst getUrl = url => {\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\n\tif (url) {\n\t\turl = '//' + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({ href, target, children, label, ...rest }) => {\n\tlet url = target && target === '_blank' ? getUrl(href) : href\n\treturn (\n\t\t<Link\n\t\t\tunderline='none'\n\t\t\tcolor='inherit'\n\t\t\tdraggable='false'\n\t\t\trel='noopener noreferrer'\n\t\t\t{...rest}\n\t\t\ttarget={target}\n\t\t\thref={url}\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\n\t\t>\n\t\t\t{children || label}\n\t\t</Link>\n\t)\n}\n\nexport default Anchor\n","const drawerWidth = 250\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t\tzIndex: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\tdisplay: 'flex',\n\t\t\tminHeight: '100vh',\n\t\t\twidth: '100%',\n\t\t},\n\t\tappBar: {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 'auto',\n\t\t\tposition: 'fixed',\n\t\t\t// marginLeft: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\n\t\t\t\tleft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'row',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t},\n\n\t\tflexRow: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexBasis: '100%',\n\t\t\tpaddingTop: theme.spacing(1),\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t'&:last-child': {\n\t\t\t\tpaddingRight: 240,\n\t\t\t\tpaddingTop: theme.spacing(1),\n\t\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t\tpaddingLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttoolbarControls: {\n\t\t\tjustifyContent: 'flex-end',\n\t\t},\n\t\ttoolbarTitle: {\n\t\t\tjustifyContent: 'flex-start',\n\t\t},\n\t\tnavIconHide: {\n\t\t\tmarginRight: 10,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexFlow: 'wrap',\n\t\t\theight: 114,\n\t\t\t...theme.mixins.toolbar,\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tposition: 'fixed',\n\t\t\t},\n\t\t\tbackgroundColor: '#fff',\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tpadding: theme.spacing(3),\n\t\t\tpaddingTop: theme.spacing(5),\n\t\t\toverflow: 'auto',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmarginLeft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: 1600,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\ticon: {\n\t\t\theight: 36,\n\t\t\twidth: 'auto',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport { t } from 'selectors'\n\nconst sideIndex = {\n\tadvertiser: 0,\n\tpublisher: 1,\n\t'0': 'advertiser',\n\t'1': 'publisher',\n}\n\nconst handleChange = (ev, index) => {\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\n}\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\t// TODO: keep it everywhere in case of components update\n\t\troot: {\n\t\t\tminWidth: 30,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tselected: {\n\t\t\tcolor: activeColor,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: activeColor,\n\t\t},\n\t}\n})\n\nconst SideSwitch = ({ side, className }) => {\n\tconst classes = useStyles({ side })\n\treturn (\n\t\t<div className={className}>\n\t\t\t<Box bgcolor='background.paper' boxShadow={2}>\n\t\t\t\t<Tabs\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tvalue={sideIndex[side]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t\tvariant='fullWidth'\n\t\t\t\t\taria-label='side select'\n\t\t\t\t>\n\t\t\t\t\t<Tab classes={classes} label={t('ADVERTISER')} />\n\t\t\t\t\t<Tab classes={classes} label={t('PUBLISHER')} />\n\t\t\t\t</Tabs>\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default SideSwitch\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\n\nexport const InputLoading = ({ className, color = 'primary' }) => (\n\t<LinearProgress className={className} color={color} />\n)\n\nexport const LoadingSection = ({ loading, children }) => (\n\t<Box display='flex' flex='1' alignItems='center'>\n\t\t<Box>{children}</Box>\n\t\t<Box ml={2} mr={2}>\n\t\t\t{loading && <CircularProgress />}\n\t\t</Box>\n\t</Box>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\nimport classnames from 'classnames'\nimport packageJson from './../../../../package.json'\nimport Anchor from 'components/common/anchor/anchor'\nimport { styles } from './styles'\nimport SideSwitch from './SideSwitch'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport DashboardIcon from '@material-ui/icons/Dashboard'\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport Box from '@material-ui/core/Box'\nimport ListIcon from '@material-ui/icons/List'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { LoadingSection } from 'components/common/spinners'\nimport {\n\tt,\n\tselectSide,\n\tselectLocation,\n\tselectAccountIdentityAddr,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst RRListItem = withReactRouterLink(ListItem)\nconst { ETH_SCAN_ADDR_HOST } = process.env\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.contrastText\n\t\t\t: theme.palette.accentTwo.contrastText\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tnavList: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 80,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: 'solid',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&:focus': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t},\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t'&:hover': {\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\n\t\t},\n\t}\n})\n\nconst useCommonStyles = makeStyles(styles)\n\nfunction SideNav(props) {\n\tconst side = useSelector(selectSide)\n\tconst identity = useSelector(selectAccountIdentityAddr)\n\tconst classes = useStyles({ side })\n\tconst commonClasses = useCommonStyles()\n\tconst routerLocation = useSelector(selectLocation)\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// TODO: test location\n\tconst location = routerLocation.pathname.split('/')[3]\n\tconst isAdvertiser = side === 'advertiser'\n\tconst items = isAdvertiser ? 'units' : 'slots'\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\n\t\t<div className={classes.navigation}>\n\t\t\t<List\n\t\t\t\tclasses={{\n\t\t\t\t\tpadding: classes.sntPadding,\n\t\t\t\t\troot: classes.navListRoot,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.navList}\n\t\t\t\tcomponent='nav'\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tbgcolor='background.paper'\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tcommonClasses.toolbar,\n\t\t\t\t\t\t\tclasses.sideNavToolbar\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<AdexIconTxt className={commonClasses.icon} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t<Typography variant='h6' component='div' color='textPrimary'>\n\t\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' display='block' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t</div>\n\t\t\t</List>\n\t\t\t<div className={classes.version}>\n\t\t\t\t<div className={classes.adxLink}>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx Network O\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t\t<small> / </small>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdExCore\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default SideNav\n","import React, { useState } from 'react'\nimport Menu from '@material-ui/core/Menu'\nimport Button from '@material-ui/core/Button'\n\nconst ImgIcon = ({ src }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={src}\n\t\t\theight={36}\n\t\t\twidth='auto'\n\t\t\talt='logo'\n\t\t\tstyle={{ marginRight: 5 }}\n\t\t/>\n\t)\n}\n\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\n\tconst [active, setActive] = useState(false)\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\tconst open = Boolean(anchorEl)\n\n\tconst handleButtonClick = () => {\n\t\tsetActive(!active)\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst handleMenu = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tstyle={btnStyle}\n\t\t\t\tonClick={handleMenu}\n\t\t\t\taria-owns={id}\n\t\t\t\taria-haspopup='true'\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid={id}\n\t\t\t\topen={open}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t// anchorOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\t// transformOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\tonClick={handleButtonClick}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n\nexport default ButtonMenu\n","import { AUTH_TYPES } from 'constants/misc'\nimport metamaskLogo from 'resources/metamask-logo.png'\nimport trezorLogo from 'resources/trezor-logo-h.png'\nimport ledgerLogo from 'resources/ledger_logo_header.png'\nimport demoLogo from 'resources/demo-logo.png'\n\nexport const getAuthLogo = authType => {\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\treturn metamaskLogo\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\treturn trezorLogo\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\treturn ledgerLogo\n\t\tcase AUTH_TYPES.DEMO.name:\n\t\t\treturn demoLogo\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\nimport Translate from 'components/translate/Translate'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\n// import ChangeLang from 'components/translate/ChangeLang'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport { logOut } from 'services/store-data/auth'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport classnames from 'classnames'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { selectNavTitle, selectAccount } from 'selectors'\nimport { styles } from './styles'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRMenuItem = withReactRouterLink(MenuItem)\nconst useStyles = makeStyles(styles)\n\nfunction TopNav({ handleDrawerToggle, side, t }) {\n\tconst classes = useStyles()\n\tconst navTitle = useSelector(selectNavTitle)\n\tconst account = useSelector(selectAccount)\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\n\tconst btnMenuLabel =\n\t\taccount.wallet.authType === 'demo'\n\t\t\t? t('DEMO_MODE')\n\t\t\t: account.email ||\n\t\t\t  formatAddress(account.wallet.address) ||\n\t\t\t  t('NOT_LOGGED')\n\n\treturn (\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t{/* <AdexIconTxt\n              className={classes.icon}\n            /> */}\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\n\t\t\t\t\t\t{/* <ChangeLang /> */}\n\t\t\t\t\t\t<Jazzicon\n\t\t\t\t\t\t\tdiameter={30}\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonMenu\n\t\t\t\t\t\t\tid='menu-appbar'\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\n\t\t\t\t\t\t\tactive={true}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRMenuItem\n\t\t\t\t\t\t\t\tvalue='account'\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RRMenuItem>\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue='logout'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlogOut()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</ButtonMenu>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\tclassName={classes.flex}\n\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(navTitle)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nexport default Translate(TopNav)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\n// import IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport Translate from 'components/translate/Translate'\nimport { validations, helpers } from 'adex-models'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\n\nconst MAX_IMG_LOAD_TIME = 7000\nclass Img extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timgSrc: null,\n\t\t\tactive: false,\n\t\t\tvideoSrc: null,\n\t\t}\n\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\n\t\tthis.loadTimeout = null\n\t}\n\n\tipfsSrc = src => {\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\n\t\t}\n\n\t\treturn src\n\t}\n\n\thandleToggle = ev => {\n\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\tev && ev.preventDefault && ev.preventDefault()\n\t\tlet active = this.state.active\n\t\tthis.setState({ active: !active })\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\tif (isVideo && !allowVideo) {\n\t\t\treturn this.setState({\n\t\t\t\timgSrc: VIDEO_IMAGE,\n\t\t\t})\n\t\t}\n\n\t\tif (isVideo) {\n\t\t\tthis.displayVideo = document.createElement('video')\n\t\t\tthis.setDisplayVideo({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.displayImage = new Image()\n\t\t\tthis.setDisplayImage({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps = nextProps => {\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\n\t\tconst { mediaMime } = nextProps\n\n\t\tif (nextSrc !== thisSrc) {\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\t\tif (isVideo) {\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\n\t\t\t\tthis.setDisplayVideo({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\n\t\t\t\tthis.setDisplayImage({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearLoadTimeout()\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\t\t\tthis.displayImage = null\n\t\t}\n\t}\n\n\tclearLoadTimeout = () => {\n\t\tif (this.loadTimeout) {\n\t\t\tclearTimeout(this.loadTimeout)\n\t\t\tthis.loadTimeout = null\n\t\t}\n\t}\n\n\tonFail = fallback => {\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.displayImage.src = fallback\n\t\t}\n\n\t\tthis.clearLoadTimeout()\n\n\t\tthis.setState({\n\t\t\timgSrc: fallback || null,\n\t\t})\n\t}\n\n\tsetDisplayImage = ({ image, fallback }) => {\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\n\t\t\tthis,\n\t\t\tfallback\n\t\t)\n\n\t\tthis.displayImage.onload = () => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\timgSrc: image,\n\t\t\t})\n\t\t}\n\n\t\tthis.displayImage.src = image\n\t}\n\n\tsetDisplayVideo = ({ image, fallback }) => {\n\t\tthis.displayVideo.src = image\n\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\tvideoSrc: image,\n\t\t\t})\n\t\t}\n\t}\n\n\tfullScreenBtn() {\n\t\tconst { classes } = this.props\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Fab\n\t\t\t\t\tmini\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FullscreenIcon />\n\t\t\t\t</Fab>\n\t\t\t\t{this.renderFullscreenDialog()}\n\t\t\t</span>\n\t\t)\n\t}\n\n\trenderFullscreenDialog() {\n\t\tconst { t, alt, classes, type } = this.props\n\t\tconst { active, imgSrc, videoSrc } = this.state\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={active}\n\t\t\t\ttype={type || 'normal'}\n\t\t\t\tmaxWidth={false}\n\t\t\t\tonClose={this.handleToggle}\n\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\n\t\t\t\t\t{imgSrc ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\n\t\t\t\t\t\t{t('CLOSE')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talt,\n\t\t\tallowFullscreen,\n\t\t\tclassName,\n\t\t\tclasses,\n\t\t\tfullScreenOnClick,\n\t\t} = this.props\n\t\tconst { imgSrc, videoSrc } = this.state\n\t\treturn imgSrc || videoSrc ? (\n\t\t\t<div\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\n\t\t\t>\n\t\t\t\t{!!imgSrc ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\tsrc={this.state.imgSrc}\n\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\n\t\t\t\t\t></video>\n\t\t\t\t)}\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\n\t\t\t</div>\n\t\t) : (\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\n\t\t\t\t<span className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImg.propTypes = {\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\tfallbackSrc: PropTypes.string,\n\talt: PropTypes.string,\n\tallowFullscreen: PropTypes.bool,\n\tfullScreenOnClick: PropTypes.bool,\n\tmediaMime: PropTypes.string,\n}\n\nexport default Translate(withStyles(styles)(Img))\n","export const styles = theme => ({\n\timgLoading: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: '100%',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\timgParent: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: 'max-content',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tcircular: {\n\t\tposition: 'relative',\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\n\t\tleft: 'calc(50% - 20px)',\n\t\tdisplay: 'inline-block',\n\t},\n\tfullscreenIcon: {\n\t\tposition: 'absolute',\n\t\ttop: theme.spacing(1),\n\t\tright: theme.spacing(1),\n\t\tcursor: 'pointer',\n\t\twidth: '30px',\n\t\theight: '30px',\n\t\tminHeight: '24px',\n\t},\n\tdialog: {\n\t\t'@media(max-width:744px)': {\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t},\n\t\t'@media(max-height:823px)': {\n\t\t\tminHeight: 'auto',\n\t\t},\n\t},\n\tdialogImageParent: {\n\t\t'@media(max-width:1080px)': {\n\t\t\tmaxWidth: '80vw',\n\t\t\tmaxHeight: '100vw',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t},\n\t\t'@media(max-width:744px)': {\n\t\t\tpaddingLeft: 0,\n\t\t\tpaddingRight: 0,\n\t\t},\n\t},\n\tdialogImage: {\n\t\theight: 'auto',\n\t\tmaxWidth: '80vw',\n\t},\n\timg: {\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t},\n\twrapper: {\n\t\theight: 'max-content',\n\t\twidth: 'max-content',\n\t},\n})\n","/**\n * @param {String} objUrl - Image blob url URL.createObjectURL\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\n * @param {String} fileName - Name of the returned file in Promise\n */\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\n\t// TODO: Validate pixelCrop and size\n\tconst cropCanvas = document.createElement('canvas')\n\tconst scaleCanvas = document.createElement('canvas')\n\n\tconst img = new Image()\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\n\timg.src = objUrl\n\n\t// As a blob\n\treturn new Promise((resolve, reject) => {\n\t\timg.onload = () => {\n\t\t\tconst width = img.width\n\t\t\tconst height = img.height\n\n\t\t\t// pixelCrop come in %\n\t\t\tconst crop = {\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\n\t\t\t}\n\n\t\t\tcropCanvas.width = crop.width\n\t\t\tcropCanvas.height = crop.height\n\t\t\tconst cctx = cropCanvas.getContext('2d')\n\n\t\t\tcctx.drawImage(\n\t\t\t\timg,\n\t\t\t\tcrop.x,\n\t\t\t\tcrop.y,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height\n\t\t\t)\n\n\t\t\tscaleCanvas.width = size.width\n\t\t\tscaleCanvas.height = size.height\n\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\n\n\t\t\tsctx.drawImage(\n\t\t\t\tcropCanvas,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tsize.width,\n\t\t\t\tsize.height\n\t\t\t)\n\n\t\t\tscaleCanvas.toBlob(file => {\n\t\t\t\tif (!file) {\n\t\t\t\t\treject('Error cropping file')\n\t\t\t\t}\n\t\t\t\tfile.name = fileName\n\t\t\t\tresolve(URL.createObjectURL(file))\n\t\t\t}, 'image/jpeg')\n\t\t}\n\t})\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'components/common/img/Img'\n// import debounce from 'debounce'\nimport Dropzone from 'react-dropzone'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport ReactCrop from 'react-image-crop'\nimport { getCroppedImgUrl } from 'services/images/crop'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport SaveIcon from '@material-ui/icons/Save'\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\nimport Grid from '@material-ui/core/Grid'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nclass ImgForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { size, imgSrc, mime } = props\n\t\tconst aspect = size ? size.width / size.height : undefined\n\n\t\tthis.state = {\n\t\t\timgSrc: imgSrc || '',\n\t\t\tmime: mime || '',\n\t\t\timgName: '',\n\t\t\tcropMode: false,\n\t\t\tcrop: { aspect: aspect },\n\t\t}\n\t}\n\n\tonDrop = (acceptedFiles, rejectedFiles) => {\n\t\tconst that = this\n\t\tconst file = acceptedFiles[0]\n\t\tif (!file) return\n\t\tconst objectUrl = URL.createObjectURL(file)\n\n\t\tthat.setState({\n\t\t\timgSrc: objectUrl,\n\t\t\timgName: file.name,\n\t\t\tmime: file.type,\n\t\t})\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\n\t\tthis.props.onChange({\n\t\t\ttempUrl: objectUrl,\n\t\t\tmime: file.type,\n\t\t})\n\t}\n\n\tonRemove = e => {\n\t\tthis.preventBubbling(e)\n\n\t\tconst { imgSrc } = this.state\n\n\t\tif (imgSrc) {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\n\t\t}\n\t}\n\n\tonCropChange = crop => {\n\t\tthis.setState({ crop })\n\t}\n\n\tsaveCropped = () => {\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\n\t\tconst { onChange, size } = this.props\n\t\tgetCroppedImgUrl({\n\t\t\tobjUrl: imgSrc,\n\t\t\tpixelCrop: crop,\n\t\t\tfileName: `cropped-${imgName}`,\n\t\t\tsize,\n\t\t}).then(croppedBlob => {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\n\t\t\tonChange({\n\t\t\t\ttempUrl: croppedBlob,\n\t\t\t\tmime,\n\t\t\t})\n\t\t})\n\t}\n\n\tpreventBubbling = e => {\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation()\n\t\t}\n\t\tif (e.nativeEvent) {\n\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t}\n\t}\n\n\tUploadInfo = () => {\n\t\tconst { t, classes, size, errMsg } = this.props\n\t\tconst { imgSrc, mime } = this.state\n\t\treturn (\n\t\t\t<div className={classes.uploadInfo}>\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\n\t\t\t\t\t<div className={classes.uploadActions}>\n\t\t\t\t\t\t{/* TEMP: make size required */}\n\t\t\t\t\t\t{!!size && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={this.onRemove}\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<FileUploadIcon />\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\n\t\t\t\t\t\t{errMsg}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// TODO: CLEAR IMG BLOB!!!!\n\trender() {\n\t\tconst { t, classes, label, additionalInfo } = this.props\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\n\n\t\tconst videoSrc = isVideoMedia(mime)\n\t\treturn (\n\t\t\t<div className={classes.imgForm}>\n\t\t\t\t<AppBar\n\t\t\t\t\tposition='static'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.header,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t{imgSrc && imgName ? (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div>\n\t\t\t\t\t{cropMode ? (\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\n\t\t\t\t\t\t\t\t\t\timageStyle={{\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Dropzone\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\n\t\t\t\t\t\t\tonDrop={this.onDrop}\n\t\t\t\t\t\t\tclassName={classes.dropzone}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Dropzone>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> {additionalInfo} </small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nImgForm.propTypes = {\n\timgSrc: PropTypes.string,\n\tlabel: PropTypes.string,\n\tsize: PropTypes.object,\n}\n\nexport default Translate(withStyles(styles)(ImgForm))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\theader: {\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdropzone: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\n\t\t\tbackground: theme.palette.background.default,\n\t\t\tpadding: 10,\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timgDropzonePreview: {\n\t\t\tmaxHeight: 320,\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tdropzoneBtn: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tleftIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tuploadActions: {\n\t\t\tmarginTop: spacing,\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\n\nexport default function ValidImageHoc(Decorated) {\n\tclass ValidImage extends Component {\n\t\tvalidate = ({\n\t\t\tpropsName,\n\t\t\twidthTarget,\n\t\t\theightTarget,\n\t\t\tmediaWidth,\n\t\t\tmediaHeight,\n\t\t\tmsg,\n\t\t\texact,\n\t\t\trequired,\n\t\t\tonChange,\n\t\t\tmime,\n\t\t\ttempUrl,\n\t\t}) => {\n\t\t\tlet isValid = true\n\n\t\t\tif (exact) {\n\t\t\t\tisValid = checkExactishAspect(\n\t\t\t\t\twidthTarget,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\theightTarget,\n\t\t\t\t\tmediaHeight\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\n\t\t\t\tisValid = false\n\t\t\t}\n\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\n\n\t\t\tthis.props.validate(propsName, {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: msg, args: masgArgs },\n\t\t\t\tdirty: true,\n\t\t\t})\n\n\t\t\tconst resMedia = {\n\t\t\t\twidth: mediaWidth,\n\t\t\t\theight: mediaHeight,\n\t\t\t\tmime,\n\t\t\t\ttempUrl,\n\t\t\t}\n\n\t\t\tif (typeof onChange === 'function') {\n\t\t\t\tonChange(propsName, resMedia)\n\t\t\t}\n\t\t}\n\n\t\tvalidateMedia = async (\n\t\t\t{\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t} = {},\n\t\t\tmedia\n\t\t) => {\n\t\t\tif (!required && !media.tempUrl && onChange) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: true,\n\t\t\t\t\terr: { msg: msg, args: [] },\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\t// TODO: fix this\n\t\t\t\tonChange(propsName, media)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!media.mime || !media.tempUrl) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: false,\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\n\n\t\t\tthis.validate({\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmediaWidth: size.width,\n\t\t\t\tmediaHeight: size.height,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t\tmime: media.mime,\n\t\t\t\ttempUrl: media.tempUrl,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\n\t\t}\n\t}\n\n\tValidImage.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidImage))\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport PropTypes from 'prop-types'\nimport { execute, validate } from 'actions'\nimport { selectValidationsById } from 'selectors'\n\nexport default function ValidationHoc(Decorated) {\n\tconst ValidItem = props => {\n\t\tconst validations =\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\n\n\t\tconst makeValidation = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tconst { validateId } = props\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\n\t\t}\n\n\t\treturn (\n\t\t\t<Decorated\n\t\t\t\t{...props}\n\t\t\t\tvalidate={makeValidation}\n\t\t\t\tinvalidFields={validations}\n\t\t\t/>\n\t\t)\n\t}\n\n\tValidItem.propTypes = {\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\treturn ValidItem\n}\n","export const styles = theme => {\n\t// const spacing = theme.spacing(3)\n\treturn {}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nexport class ImgDialog extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tvalues: {},\n\t\t}\n\t}\n\n\thandleChange = (name, value) => {\n\t\tlet newValues = { ...this.state.values }\n\t\tnewValues[name] = value\n\t\tthis.setState({ values: newValues })\n\t}\n\n\tonOk = () => {\n\t\tconst vals = this.state.values\n\t\tObject.keys(vals).forEach(key => {\n\t\t\tthis.props.onChangeReady(key, vals[key])\n\t\t})\n\t\tthis.props.handleToggle()\n\t}\n\n\trender() {\n\t\tlet t = () => {}\n\t\tlet validations = this.props.invalidFields || {}\n\t\tlet errImg = validations[this.props.imgPropName]\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.props.active}\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ttype={this.props.type || 'normal'}\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t{this.props.t(this.props.title)}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\n\t\t\t\t\t\t\t\texact: this.props.exact,\n\t\t\t\t\t\t\t\trequired: this.props.required,\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\n\t\t\t\t\t\t\t{'Cancel'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.onOk}\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{'Ok'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImgDialog.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tlet persist = state.persist\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n// import classnames from 'classnames'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Fab from '@material-ui/core/Fab'\nimport CheckIcon from '@material-ui/icons/Check'\nimport SaveIcon from '@material-ui/icons/Save'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\nclass SaveBtn extends Component {\n\trender() {\n\t\tlet {\n\t\t\tspinner,\n\t\t\tclasses,\n\t\t\tsuccess,\n\t\t\tdirtyProps,\n\t\t\tsave,\n\t\t\tvalidations,\n\t\t\tvalidationId,\n\t\t\tdisabled,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.position}>\n\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t<Fab\n\t\t\t\t\t\tfabButton\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t// className={buttonClassname}\n\t\t\t\t\t\tonClick={() => save()}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tdisabled ||\n\t\t\t\t\t\t\tspinner ||\n\t\t\t\t\t\t\t!dirtyProps.length ||\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// {...other}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*TODO: Success */}\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\n\t\t\t\t\t</Fab>\n\t\t\t\t\t{!!spinner && (\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSaveBtn.propTypes = {\n\tspinnerId: PropTypes.string,\n\tvalidationId: PropTypes.string,\n\titemId: PropTypes.string,\n\tvalidations: PropTypes.object,\n\tdisabled: PropTypes.bool,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\treturn {\n\t\tspinner: memory.spinners[props.spinnerId],\n\t\tvalidations: memory.validations,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(SaveBtn)))\n","import color from '@material-ui/core/colors/purple'\n\nexport const styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: color[500],\n\t\t'&:hover': {\n\t\t\tbackgroundColor: color[700],\n\t\t},\n\t},\n\tfabProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: -6,\n\t\tleft: -6,\n\t\tzIndex: 1,\n\t},\n\tbuttonProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tposition: {\n\t\tposition: 'fixed',\n\t\ttop: 86,\n\t\tright: 40,\n\t\tzIndex: theme.zIndex.appBar,\n\t},\n})\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\twidth: '100%',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\tbuttonLeft: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\ttextField: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\ttop: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflexWrap: 'wrap',\n\t\t\tmaxWidth: '70%',\n\t\t},\n\t\tchangesLine: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\talignItems: 'center',\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tchangeChip: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: spacing,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport IMG_404_1 from 'resources/404-no.png'\nimport IMG_404_2 from 'resources/404-yes.png'\nimport Img from 'components/common/img/Img'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport Translate from 'components/translate/Translate'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst G404 = ({ size }) => (\n\t<Grid item xs={size}>\n\t\t<Typography\n\t\t\tinline\n\t\t\tvariant={`h${size}`}\n\t\t\tstyle={{ textTransform: 'uppercase' }}\n\t\t>\n\t\t\t{t('404')}\n\t\t</Typography>\n\t</Grid>\n)\n\nclass PageNotFound extends React.Component {\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\tgoToTxt,\n\t\t\tgoToPath,\n\t\t\tskipGoToButton,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\n\t\t\t\t\t\t\t{t(title || '404')}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{subtitle && (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\n\t\t\t\t\t\t\t\t{t(subtitle)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={4} />\n\t\t\t\t\t<G404 size={2} />\n\t\t\t\t\t<G404 size={1} />\n\t\t\t\t\t<G404 size={5} />\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={2} />\n\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t{!skipGoToButton && (\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPageNotFound.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tgoToTxt: PropTypes.string,\n\tgoToPath: PropTypes.string,\n\tskipGoToButton: PropTypes.bool,\n}\n\nexport default Translate(withStyles(styles)(PageNotFound))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\twrapper: {\n\t\t\tmargin: `${spacing * 2}px auto`,\n\t\t\tmaxWidth: 1000,\n\t\t},\n\t\timg: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\nimport { schemas, Joi } from 'adex-models'\nimport classnames from 'classnames'\nimport { Prompt } from 'react-router'\nimport Translate from 'components/translate/Translate'\nimport { items as ItemsConstants } from 'adex-constants'\nimport Img from 'components/common/img/Img'\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\nimport { withStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport Paper from '@material-ui/core/Paper'\nimport InfoOutlineIcon from '@material-ui/icons/Info'\nimport Chip from '@material-ui/core/Chip'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { styles } from './styles'\nimport { validName } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { selectSide } from 'selectors'\n\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\nconst { AdSizesByValue } = ItemsConstants\n\nexport default function ItemHoc(Decorated) {\n\tclass Item extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.save = this.save.bind(this)\n\t\t\tthis.state = {\n\t\t\t\tactiveFields: {},\n\t\t\t\titem: null,\n\t\t\t\tinitialItemState: {},\n\t\t\t\tdirtyProps: [],\n\t\t\t\teditImg: false,\n\t\t\t\t_activeInput: null,\n\t\t\t}\n\t\t}\n\n\t\tupdateNav = (item = {}) => {\n\t\t\tconst { actions, t, itemType } = this.props\n\t\t\tactions.updateNav(\n\t\t\t\t'navTitle',\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\n\t\t\t)\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tconst { item, matchId, objModel } = this.props\n\n\t\t\tif (!item) {\n\t\t\t\tthis.updateNav({ title: matchId })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst initialItemState = new objModel(item)\n\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\n\t\t\tthis.updateNav(initialItemState)\n\t\t}\n\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t\t//     return diffProps || diffState\n\t\t// }\n\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item } = this.state\n\t\t\tlet currentItemInst = new objModel(item || {})\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\n\t\t\t// TODO: check the above\n\t\t\tlet nextItem = nextProps.item\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\n\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\n\t\t\t\t// if (\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\n\t\t\t\t// ) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titem: nexItemInst.plainObj(),\n\t\t\t\t\tinitialItemState: nexItemInst,\n\t\t\t\t\tactiveFields: {},\n\t\t\t\t\tdirtyProps: [],\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.updateNav(nexItemInst)\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tif (this.state.item) {\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[name] = value\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\n\t\t\tif (dp.indexOf(name) < 0) {\n\t\t\t\tdp.push(name)\n\t\t\t}\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t}\n\n\t\treturnPropToInitialState = propName => {\n\t\t\tconst { objModel, actions } = this.props\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\n\t\t\tconst initialItemStateValue = initialItemState[propName]\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[propName] = initialItemStateValue\n\n\t\t\tconst dp = dirtyProps.filter(dp => {\n\t\t\t\treturn dp !== propName\n\t\t\t})\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t\t// TEMP fix, we assume that the initial values are validated\n\t\t\tactions.resetValidationErrors(item.id, propName)\n\t\t}\n\n\t\tsetActiveFields = (field, value) => {\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\n\t\t\tnewActiveFields[field] = value\n\t\t\tthis.setState({ activeFields: newActiveFields })\n\t\t}\n\n\t\t//TODO: Do not save if not dirty!\n\t\tsave = () => {\n\t\t\tconst { itemType, spinner, actions } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tif (dirtyProps.length && !spinner) {\n\t\t\t\tactions.updateItem({\n\t\t\t\t\titemType,\n\t\t\t\t\titem,\n\t\t\t\t})\n\t\t\t\tthis.setState({ dirtyProps: [] })\n\t\t\t}\n\t\t}\n\n\t\tisDirtyProp(prop) {\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\n\t\t}\n\n\t\thandleToggle = () => {\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\n\n\t\t\tif (isDemo) return\n\n\t\t\tlet active = this.state.editImg\n\t\t\tthis.setState({ editImg: !active })\n\t\t}\n\n\t\tisNameValid(name) {\n\t\t\tconst { msg } = validName(name)\n\t\t\treturn !msg\n\t\t}\n\n\t\tvalidateTitle(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tschema = campaignPut.title\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('title', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\tvalidateDescription(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.description\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.description\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('description', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tvalidations,\n\t\t\t\tclasses,\n\t\t\t\tt,\n\t\t\t\taccount,\n\t\t\t\titemType,\n\t\t\t\tobjModel,\n\t\t\t\tmatchId,\n\t\t\t\tside,\n\t\t\t\tinvalidFields,\n\t\t\t\tvalidateId,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst propsItem = this.props.item\n\n\t\t\tif (!propsItem) {\n\t\t\t\treturn (\n\t\t\t\t\t<PageNotFound\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\n\t\t\t\t\t\t\targs: [itemType.toUpperCase(), matchId],\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tgoToPath={`/dashboard/${side}`}\n\t\t\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t/*\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\n\t\t\t * in this case there is no need to make instance inside them\n\t\t\t */\n\n\t\t\tconst isDemo = account._authType === 'demo'\n\t\t\tconst item = new objModel(this.state.item || {})\n\t\t\tlet canEdit = itemType === 'AdSlot'\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\n\n\t\t\tconst titleErr = invalidFields['title']\n\t\t\tconst descriptionErr = invalidFields['description']\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Prompt\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\n\t\t\t\t\t\t\t\tvalue={item.title}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\n\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{itemType !== 'Campaign' && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<ImgDialog\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\twidth={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\theight={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\n\t\t\t\t\t\t\t\t\timgPropName='img'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SaveBtn\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Decorated\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\n\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\tisDemo={isDemo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n\tItem.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\titem: PropTypes.object.isRequired,\n\t\tspinner: PropTypes.bool,\n\t\titemType: PropTypes.string.isRequired,\n\t\tobjModel: PropTypes.func.isRequired,\n\t}\n\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\n\t\tlet keys = Object.keys(items)\n\n\t\tfor (let index = 0; index < keys.length; index++) {\n\t\t\tconst key = keys[index]\n\t\t\tconst item = items[key]\n\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\n\t\t\t\treturn item\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist } = state\n\t\t// const memory = state.memory\n\t\tconst items = persist.items[props.itemType]\n\t\tconst id = props.match.params.itemId\n\t\tlet item = items[id]\n\n\t\tif (!item && props.itemType !== undefined) {\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\n\t\t}\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\titem: item,\n\t\t\tvalidateId: 'update-' + (item ? item.id || item.ipfs : 'notfound'),\n\t\t\tmatchId: id,\n\t\t\tside: selectSide(state),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\n}\n","import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { t } from 'selectors'\n\nconst generalTableOptions = {\n\trowsPerPage: 5,\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\n\tsetTableProps: () => {\n\t\treturn {\n\t\t\tpadding: 'default',\n\t\t\tsize: 'small',\n\t\t\twidth: '100%',\n\t\t\talign: 'center',\n\t\t}\n\t},\n\ttextLabels: {\n\t\tbody: {\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\n\t\t\tcolumnHeaderTooltip: column =>\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\n\t\t\t\t\targs: [column.label || column],\n\t\t\t\t})}`,\n\t\t},\n\t\tpagination: {\n\t\t\tnext: t('TABLE_NEXT'),\n\t\t\tprevious: t('TABLE_PREV'),\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\n\t\t},\n\t\ttoolbar: {\n\t\t\tsearch: t('TABLE_SEARCH'),\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\n\t\t\tprint: t('TABLE_PRINT'),\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\n\t\t\tfilterTable: t('TABLE_FILTER'),\n\t\t},\n\t\tfilter: {\n\t\t\tall: t('TABLE_FILTER_ALL'),\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\n\t\t\treset: t('TABLE_FILTER_RESET'),\n\t\t},\n\t\tviewColumns: {\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\n\t\t},\n\t\tselectedRows: {\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\n\t\t\tdelete: t('TABLE_DELETE'),\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\n\t\t},\n\t},\n}\nexport default function MUIDataTableEnhanced(props) {\n\tconst { title, data, columns, options } = props\n\n\treturn (\n\t\t<MUIDataTable\n\t\t\ttitle={title}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={{\n\t\t\t\t...generalTableOptions,\n\t\t\t\t...options,\n\t\t\t\tsearch: !props.noSearch,\n\t\t\t\tdownload: !props.noDownload,\n\t\t\t\tprint: !props.noPrint,\n\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\n\t\t\t\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\n\t\t\t\t\t//This disables toolbar when selected elements on all tables\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t)\n}\n","import React from 'react'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\n\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\n\tconst icon = {\n\t\txs: { fontSize: 10 },\n\t\tmd: { fontSize: 15 },\n\t\tls: { fontSize: 20 },\n\t}\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\n\t\treturn waitIcon\n\tswitch (status.toLowerCase()) {\n\t\tcase 'active':\n\t\tcase 'ready':\n\t\t\treturn doneIcon\n\t\tcase 'pending':\n\t\tcase 'initializing':\n\t\tcase 'waiting':\n\t\t\treturn waitIcon\n\t\tcase 'offline':\n\t\tcase 'disconnected':\n\t\tcase 'unhealthy':\n\t\tcase 'invalid':\n\t\t\treturn warningIcon\n\t\tcase 'withdraw':\n\t\t\treturn cashIcon\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n\nexport { mapStatusIcons }\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmaxHeight: 60,\r\n\t\tmaxWidth: 180,\r\n\t\tcursor: 'pointer',\r\n\t},\r\n})\r\n","import React from 'react'\nimport { Typography, Slider, Box } from '@material-ui/core'\nimport { formatAbbrNum, formatNumberWithoutCommas } from 'helpers/formatters'\n\nconst getSliderStep = (min, max, steps, precision = 2) => {\n\tconst diff = max - min\n\tconst step = diff / steps\n\tconst fixed = parseFloat(step.toFixed(precision))\n\n\treturn fixed\n}\n\nexport const sliderFilterOptions = ({\n\tinitial = [],\n\tfilterTitle = '',\n\tstepsCount = 20,\n\tstepsPrecision = 2,\n}) => {\n\tconst min = initial[0] || 0\n\tconst max = initial[1] || 100\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\n\treturn {\n\t\tfilter: true,\n\t\tdisplay: 'true',\n\t\tfilterType: 'custom',\n\t\tcustomFilterListOptions: {\n\t\t\trender: v =>\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\n\t\t\tupdate: (filterList, filterPos, index) => {\n\t\t\t\tfilterList[index] = []\n\t\t\t\treturn filterList\n\t\t\t},\n\t\t},\n\n\t\tfilterOptions: {\n\t\t\tnames: [],\n\t\t\tlogic: (rowNumber, filters) => {\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\n\t\t\t\tif (filters.length > 0) {\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tdisplay: (filterList, onChange, index, column) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\n\t\t\t\t\t\t\t{filterTitle}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tmarks={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: min,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\n\t\t\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\n\nexport function useTableData({ selector, selectorArgs, getColumns }) {\n\tconst [data, setData] = useState([])\n\tconst [columns, setColumns] = useState([])\n\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\n\n\tconst reloadData = useCallback(() => {\n\t\tsetData(selectedData)\n\t\tsetColumns(getColumns())\n\t}, [getColumns, selectedData])\n\n\tuseEffect(() => {\n\t\treloadData()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selectedData.length, selector, selectorArgs])\n\n\treturn { data, columns, reloadData }\n}\n","import React, { Fragment } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport RefreshIcon from '@material-ui/icons/Refresh'\nimport { t } from 'selectors'\n\nexport function ReloadData({ handleReload }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\n\t\t\t\t<IconButton onClick={handleReload}>\n\t\t\t\t\t<RefreshIcon />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\nimport classnames from 'classnames'\nimport { Tooltip, IconButton } from '@material-ui/core'\nimport { Visibility } from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport {\n\tt,\n\tselectCampaignsTableData,\n\tselectMainToken,\n\tselectSide,\n\tselectCampaignsMaxImpressions,\n\tselectCampaignsMaxClicks,\n\tselectCampaignsMaxDeposit,\n} from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { bigNumberify, commify } from 'ethers/utils'\nimport { useSelector } from 'react-redux'\nimport { styles } from './styles'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { sliderFilterOptions } from './commonFilters'\nimport { useTableData } from './tableHooks'\nimport { ReloadData } from './toolbars'\nconst RRIconButton = withReactRouterLink(IconButton)\n\nconst useStyles = makeStyles(styles)\n\nconst getCols = ({\n\tclasses,\n\tsymbol,\n\tmaxImpressions,\n\tmaxDeposit,\n\tmaxClicks,\n}) => [\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tcustomBodyRender: ({ id, adUnits }) => {\n\t\t\t\treturn (\n\t\t\t\t\t// TODO: Images issue some stop displaying\n\t\t\t\t\t<Img\n\t\t\t\t\t\tfullScreenOnClick={true}\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\tsrc={adUnits[0].mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={adUnits[0].mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'status',\n\t\tlabel: t('PROP_STATUS'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tfilterOptions: {\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\n\t\t\t\tlogic: (status, filters) => {\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\n\t\t\t\t\treturn false\n\t\t\t\t},\n\t\t\t},\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName }) => (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{humanFriendlyName}{' '}\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\n\t\t\t\t</React.Fragment>\n\t\t\t),\n\t\t\t// TODO: Sorting issue\n\t\t},\n\t},\n\t{\n\t\tname: 'depositAmount',\n\t\tlabel: t('PROP_DEPOSIT'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: depositAmount => (\n\t\t\t\t<React.Fragment>{`${depositAmount.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</React.Fragment>\n\t\t\t),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxDeposit],\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'fundsDistributedRatio',\n\t\tlabel: t('PROP_DISTRIBUTED'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)}%`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxImpressions],\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxClicks],\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'minPerImpression',\n\t\tlabel: t('PROP_CPM'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: minPerImpression => (\n\t\t\t\t<React.Fragment>{`${minPerImpression.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</React.Fragment>\n\t\t\t),\n\t\t},\n\t},\n\t{\n\t\tname: 'created',\n\t\tlabel: t('PROP_CREATED'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: created => formatDateTime(created),\n\t\t},\n\t},\n\t{\n\t\tname: 'activeFrom',\n\t\tlabel: t('PROP_STARTS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\n\t\t},\n\t},\n\t{\n\t\tname: 'withdrawPeriodStart',\n\t\tlabel: t('PROP_ENDS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\n\t\t\t\tformatDateTime(withdrawPeriodStart),\n\t\t},\n\t},\n\t{\n\t\tname: 'actions',\n\t\tlabel: t('ACTIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ to }) => (\n\t\t\t\t<Tooltip\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\n\t\t\t\t\t// placement='top'\n\t\t\t\t\tenterDelay={1000}\n\t\t\t\t>\n\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\n\t\t\t\t\t\t<Visibility color='primary' />\n\t\t\t\t\t</RRIconButton>\n\t\t\t\t</Tooltip>\n\t\t\t),\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [\n\t\t\ti.data[0].id,\n\t\t\ti.data[1].humanFriendlyName,\n\t\t\t`${formatTokenAmount(\n\t\t\t\tbigNumberify(i.data[2]).mul(1000),\n\t\t\t\tdecimals,\n\t\t\t\ttrue\n\t\t\t)} ${symbol}`,\n\t\t\t`${((i.data[3] || 0) / 10).toFixed(2)}%`,\n\t\t\ti.data[4],\n\t\t\ti.data[5],\n\t\t\t`${formatTokenAmount(\n\t\t\t\tbigNumberify(i.data[6]).mul(1000),\n\t\t\t\tdecimals,\n\t\t\t\ttrue\n\t\t\t)} ${symbol}`,\n\t\t\tformatDateTime(i.data[7]),\n\t\t\tformatDateTime(i.data[8]),\n\t\t\tformatDateTime(i.data[9]),\n\t\t],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\n\tfilterType: 'multiselect',\n\tselectableRows: 'none',\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n})\n\nfunction CampaignsTable(props) {\n\tconst classes = useStyles()\n\tconst side = useSelector(selectSide)\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\n\tconst { symbol, decimals } = useSelector(selectMainToken)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector: selectCampaignsTableData,\n\t\tselectorArgs: side,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tdecimals,\n\t\t\t\tclasses,\n\t\t\t\tsymbol,\n\t\t\t\tmaxImpressions,\n\t\t\t\tmaxClicks,\n\t\t\t\tmaxDeposit,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ decimals, symbol, reloadData })\n\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\t{...props}\n\t\t/>\n\t)\n}\n\nexport default CampaignsTable\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport StepperMUI from '@material-ui/core/Stepper'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport Button from '@material-ui/core/Button'\nimport { styles } from './styles'\nimport Paper from '@material-ui/core/Paper'\nimport Box from '@material-ui/core/Box'\nimport Chip from '@material-ui/core/Chip'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\n\nconst getDirtyValidationErrors = (validations = {}) => {\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\n\t\tconst err = validations[key]\n\t\tif (err.dirty) {\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\n\t\t}\n\t\treturn dirtyErrs\n\t}, [])\n\n\treturn errors\n}\n\nconst useStyles = makeStyles(styles)\n\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\n\tif (window.innerWidth <= 768) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\n\t\t\t\t</StepLabel>\n\t\t\t\t<MobileStepper\n\t\t\t\t\tactiveStep={currentPage}\n\t\t\t\t\tsteps={pages.length}\n\t\t\t\t\tposition={'static'}\n\t\t\t\t\tvariant='progress'\n\t\t\t\t\tclassName={classes.mobileStepper}\n\t\t\t\t></MobileStepper>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\n\t\t\t{pages.map((page, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Step key={page.title}>\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\n\t\t\t\t\t</Step>\n\t\t\t\t)\n\t\t\t})}\n\t\t</StepperMUI>\n\t)\n}\n\nconst MaterialStepper = props => {\n\tconst {\n\t\tinitialPage = 0,\n\t\tpages = [],\n\t\t// ...props\n\t} = props\n\tconst classes = useStyles()\n\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\n\tconst canReverse = pages.length > currentPage && currentPage > 0\n\n\tconst page = pages[currentPage] || {}\n\tconst pageProps = page.props || {}\n\tconst { validateId } = pageProps\n\tconst Comp = page.component || null\n\tconst { pageValidation = null, onValid, stepsId } = page\n\n\tconst validations = useSelector(state =>\n\t\tselectValidationsById(state, validateId)\n\t)\n\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst isValidPage = useCallback(() => {\n\t\treturn !Object.keys(validations || {}).length\n\t}, [validations])\n\n\t// const canAdvance = isValidPage() && !page.completeBtn\n\n\tconst goToPage = useCallback(\n\t\tasync nextStep => {\n\t\t\tconst canAdvance = nextStep > currentPage\n\t\t\tconst canGoBack = nextStep < currentPage\n\n\t\t\tif (canAdvance || canGoBack) {\n\t\t\t\tsetCurrentPage(nextStep)\n\t\t\t}\n\t\t},\n\t\t[currentPage]\n\t)\n\n\tconst goToPreviousPage = useCallback(async () => {\n\t\tif (canReverse) {\n\t\t\tgoToPage(currentPage - 1)\n\t\t}\n\t}, [canReverse, currentPage, goToPage])\n\n\tconst goToNextPage = useCallback(async () => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\n\t\t\t})\n\t\t} else if (isValidPage()) {\n\t\t\tgoToPage(currentPage + 1)\n\t\t}\n\t}, [\n\t\tcurrentPage,\n\t\tgoToPage,\n\t\tisValidPage,\n\t\tonValid,\n\t\tpageValidation,\n\t\tstepsId,\n\t\tvalidateId,\n\t])\n\n\tuseEffect(() => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({ stepsId, validateId, dirty: false })\n\t\t}\n\t}, [currentPage, pageValidation, stepsId, validateId])\n\n\tconst onKeyPressed = useCallback(\n\t\tasync ev => {\n\t\t\tif (ev.key === 'Enter') {\n\t\t\t\tev.preventDefault()\n\t\t\t\tgoToNextPage()\n\t\t\t}\n\t\t},\n\t\t[goToNextPage]\n\t)\n\n\treturn (\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.stepperNav,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<StepperNav\n\t\t\t\t\t{...props}\n\t\t\t\t\tpages={pages}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<br />\n\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.pagePaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.pageContent}>\n\t\t\t\t\t{!!Comp && <Comp {...pageProps} />}\n\n\t\t\t\t\t{!!dirtyErrors && (\n\t\t\t\t\t\t<Box color='error.main'>\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={err.field}\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.controls}>\n\t\t\t\t\t<div className={classes.left}>\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<page.cancelBtn />\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\n\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{spinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\n\t\t\t\t\t\t\t<page.completeBtn />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t</div>\n\t)\n}\n\nMaterialStepper.propTypes = {\n\tpages: PropTypes.array.isRequired,\n}\n\nexport default MaterialStepper\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\troot: {\n\t\t\tcolor: 'purple',\n\t\t\t'&$active': {\n\t\t\t\tcolor: 'green',\n\t\t\t},\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'yellow',\n\t\t},\n\t\tstepperWrapper: {\n\t\t\t// display: 'flex',\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t},\n\t\tpagePaper: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 115,\n\t\t},\n\t\tpageContent: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 20,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t\tbottom: 50,\n\t\t\tpadding: 20,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tjustifyContent: 'space-between',\n\t\t\tflexDirection: 'column',\n\t\t\tWebkitOverflowScrolling: 'touch',\n\t\t\t'@media(max-width:500px)': {\n\t\t\t\tpaddingLeft: 0,\n\t\t\t\tpaddingRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 5,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t},\n\t\tright: {\n\t\t\ttextAlign: 'right',\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '86%',\n\t\t\t},\n\t\t},\n\t\tleft: {\n\t\t\tdisplay: 'inline-block',\n\t\t\ttextAlign: 'left',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '14%',\n\t\t\t},\n\t\t},\n\t\tmobileStepper: {\n\t\t\twidth: '100%',\n\t\t\t'& div': {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '10px',\n\t\t\t},\n\t\t},\n\t\tmobileStepLabel: {\n\t\t\t'& span': {\n\t\t\t\tfontSize: '24px',\n\t\t\t\tmargin: '14px auto',\n\t\t\t},\n\t\t\ttextAlign: 'center',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\terrChip: {\n\t\t\tcolor: errColor,\n\t\t\tborderColor: errColor,\n\t\t\t'& svg': {\n\t\t\t\tcolor: errColor,\n\t\t\t},\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t}\n}\n","import React, { Component, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { t } from 'selectors'\n\nclass FormSteps extends Component {\n\tshouldComponentUpdate(nextProps) {\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t}\n\n\trender() {\n\t\tconst pages = []\n\t\tconst {\n\t\t\tSaveBtn,\n\t\t\tCancelBtn,\n\t\t\tcancelFunction,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages,\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\t\tconst cancelButton = () => (\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t)\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tstepsPages.forEach((page, index) => {\n\t\t\tpages.push({\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelBtn: cancelButton,\n\t\t\t\tcomponent: !page.pageValidation\n\t\t\t\t\t? ValidItemHoc(page.page || page)\n\t\t\t\t\t: page.page || page,\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tstepsId,\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\n\t\t\t})\n\t\t})\n\n\t\tpages.push({\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\n\t\t\tcompleteBtn: () => (\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t),\n\t\t\tcancelBtn: cancelButton,\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\n\t\t\tstepsId,\n\t\t\tprops: {\n\t\t\t\t...this.props,\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\n\t\t\t},\n\t\t})\n\n\t\treturn (\n\t\t\t// <div style={{ textAlign: 'left' }}>\n\t\t\t<MaterialStepper pages={pages} />\n\t\t\t// </div>\n\t\t)\n\t}\n}\n\nFormSteps.propTypes = {\n\ttitle: PropTypes.string,\n\titemPages: PropTypes.arrayOf(PropTypes.func),\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\n}\n\nexport default forwardRef((props, ref) => (\n\t<FormSteps {...props} forwardedRef={ref} />\n))\n","import grey from '@material-ui/core/colors/grey'\n\nexport const styles = theme => {\n\tconst spacing = theme.spacing(3)\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\n\treturn {\n\t\tdialog: {\n\t\t\tminHeight: `${fullHeight}px`,\n\t\t\tminWidth: 1024,\n\t\t\tmaxWidth: 1080,\n\t\t\tbackgroundColor: grey[200], // TODO: color,\n\t\t\t// maxHeight: `${fullHeight}`,\n\t\t\t'@media(max-width:1080px)': {\n\t\t\t\tmaxWidth: '100%',\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t\t'@media(max-height:823px)': {\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t\twordWrap: 'break-word',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t\toverflowY: 'auto',\n\t\t},\n\t\tcontentBox: {\n\t\t\t// position: 'absolute',\n\t\t\t// top: 0,\n\t\t\t// left: 0,\n\t\t\t// bottom: 0,\n\t\t\t// right: 0,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: 1,\n\t\t},\n\t\tpropRow: {\n\t\t\tmargin: '10px 0',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcontentBody: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tcontentTopLoadingCircular: {\n\t\t\tflexShrink: 0,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontentTopLoading: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\t'& > div': {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tleftCol: {\n\t\t\ttextTransform: 'uppercase',\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\n\t\t\ttextAlign: 'right',\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\ttextAlign: 'left',\n\t\t\t},\n\t\t},\n\t\trightCol: {\n\t\t\ttextAlign: 'left',\n\t\t},\n\t\tprogressCircleCenter: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 30px)',\n\t\t\ttop: 'calc(50% - 30px)',\n\t\t},\n\t\tfloating: {\n\t\t\tposition: 'fixed',\n\t\t\ttop: 86,\n\t\t\tright: 40,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: 'break-word',\n\t\t\toverflowWrap: 'break-word',\n\t\t\thyphens: 'auto',\n\t\t},\n\t\tdemoImg: {\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\twidth: '100px',\n\t\t\theight: 'auto',\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tdemoBody: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontentStickyTop: {\n\t\t\tmarginBottom: '2rem',\n\t\t},\n\t\tfullContentMessage: {\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport classnames from 'classnames'\nimport Slide from '@material-ui/core/Slide'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport { t } from 'selectors'\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={classnames(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{' '}\n\t\t\t{label}{' '}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction='up' ref={ref} {...props} />\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function ItemHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tfabVariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabelArgs,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tvariant,\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\n\t\tconst btnLabelTranslated = btnLabel\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\n\t\t\t: ''\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ButtonComponent\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label={btnLabelTranslated}\n\t\t\t\t\tlabel={btnLabelTranslated}\n\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t{...btnProps}\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{icon}\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\n\t\t\t\t</ButtonComponent>\n\t\t\t\t<Dialog\n\t\t\t\t\t// disableBackdropClick\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle disableTypography>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(title)}\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\n\t\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</DialogTitle>{' '}\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func,\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdUnit } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdUnit',\n\t\t\t\tAdUnit\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tactions.addUnit(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdUnit')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport { InputLoading } from 'components/common/spinners/'\nimport classnames from 'classnames'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction Dropdown(props) {\n\tconst classes = useStyles()\n\n\tconst {\n\t\tonChange,\n\t\tlabel = '',\n\t\tvalue,\n\t\tsource = [],\n\t\thtmlId = 'some-id',\n\t\tdisabled = false,\n\t\terror = false,\n\t\thelperText,\n\t\t// margin = '',\n\t\tfullWidth = false,\n\t\tclassName,\n\t\trequired,\n\t\tloading,\n\t\tnoSrcLabel,\n\t\tvariant,\n\t\tIconComponent,\n\t} = props\n\n\tconst inputLabel = React.useRef(null)\n\tconst [labelWidth, setLabelWidth] = React.useState(0)\n\tReact.useEffect(() => {\n\t\tsetLabelWidth(inputLabel.current.offsetWidth)\n\t}, [])\n\n\tconst handleChange = event => {\n\t\tonChange(event.target.value)\n\t}\n\n\t// TODO: add native renderer for mobile devices when supported\n\treturn (\n\t\t<FormControl\n\t\t\tclassName={classnames(className, classes.formControl)}\n\t\t\tdisabled={disabled}\n\t\t\terror={error}\n\t\t\tfullWidth={fullWidth}\n\t\t\tvariant={variant}\n\t\t>\n\t\t\t<InputLabel ref={inputLabel} htmlFor={htmlId} required={required}>\n\t\t\t\t{label}\n\t\t\t</InputLabel>\n\t\t\t{!!source.length && !loading ? (\n\t\t\t\t<Select\n\t\t\t\t\tvalue={value.id || value}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tlabelWidth={labelWidth}\n\t\t\t\t\tIconComponent={IconComponent}\n\t\t\t\t>\n\t\t\t\t\t{[...source].map(src => {\n\t\t\t\t\t\treturn src.group ? (\n\t\t\t\t\t\t\t<ListSubheader key={src.group.name || src.group}>\n\t\t\t\t\t\t\t\t{src.group.name || src.group}\n\t\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\n\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{src.label}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Select>\n\t\t\t) : !loading ? (\n\t\t\t\t<Input disabled value={noSrcLabel} />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\n\t\t\t\t\t<InputLoading />\n\t\t\t\t</>\n\t\t\t)}{' '}\n\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\n\t\t</FormControl>\n\t)\n}\n\nDropdown.propTypes = {\n\tlabel: PropTypes.string,\n\tonChange: PropTypes.func.isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.bool,\n\t]),\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\n\tdisabled: PropTypes.bool,\n\terror: PropTypes.bool,\n\thtmlId: PropTypes.string.isRequired,\n\tdisplayEmpty: PropTypes.bool,\n\thelperText: PropTypes.string,\n\tIconComponent: PropTypes.element,\n}\n\nexport default Dropdown\n","export const styles = theme => ({\n\tformControl: {\n\t\t// margin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { constants, schemas, Joi } from 'adex-models'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\n\nconst { adUnitPost } = schemas\n\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nclass AdUnitBasic extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { newItem } = props\n\t\tthis.validateTitle(newItem.title, false)\n\t\tthis.validateDescription(newItem.description, false)\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\n\t\tthis.validateAndUpdateType(false, newItem.type)\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\n\t\t) {\n\t\t\tthis.addUtmParameters()\n\t\t}\n\t}\n\n\tvalidateTitle(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.title)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateDescription(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.description)\n\n\t\tthis.props.validate('description', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateTargetUrl(targetUrl, dirty) {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t\tif (!result.error) this.addUtmParameters(targetUrl)\n\t}\n\n\tvalidateAndUpdateType = (dirty, value) => {\n\t\tconst result = Joi.validate(value, adUnitPost.type)\n\t\tthis.props.handleChange('type', value)\n\t\tthis.props.validate('type', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\taddUtmParameters() {\n\t\tconst { handleChange, newItem } = this.props\n\t\tconst { targetUrl, title, type, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tif (!!targetUrl) {\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\n\t\t\t\ttargetUrl,\n\t\t\t\tcampaign: title,\n\t\t\t\tcontent: type,\n\t\t\t\tremoveFromUrl: !addUtmLink,\n\t\t\t})\n\t\t\thandleChange('targetUrl', newTargetUrl)\n\t\t}\n\t}\n\n\thandleChangeAddUtmLink(ev) {\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.addUtmLink = ev.target.checked\n\t\tthis.props.handleChange('temp', newTemp)\n\t}\n\n\trender() {\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\n\t\tconst { targetUrl, type, title, description, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDescription = invalidFields['description']\n\t\tconst errTargetUrl = invalidFields['targetUrl']\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\n\t\t\t\t\t\t\tsource={AdTypes}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitBasic.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\n\nexport default Translate(NewAdUnitBasic)\n","import url from 'url'\nimport { UTM_PARAMS } from 'constants/misc'\n\nexport const addUrlUtmTracking = ({\n\ttargetUrl,\n\tcampaign,\n\tcontent,\n\tremoveFromUrl,\n}) => {\n\tif (!!targetUrl) {\n\t\tconst URL = url.parse(targetUrl, true)\n\t\tURL.search = null\n\n\t\tif (URL.protocol && URL.host) {\n\t\t\tconst newQuery = {}\n\t\t\tif (removeFromUrl) {\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\n\t\t\t\t\t\tnewQuery[key] = value\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tURL.query = newQuery\n\t\t\t} else {\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\n\n\t\t\t\tif (campaign) {\n\t\t\t\t\tquery['utm_campaign'] = campaign\n\t\t\t\t}\n\t\t\t\tif (content) {\n\t\t\t\t\tquery['utm_content'] = content\n\t\t\t\t}\n\t\t\t\tURL.query = query\n\t\t\t}\n\t\t\treturn url.format(URL)\n\t\t}\n\t}\n\n\treturn targetUrl\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\n\nconst getWidAndHightFromType = type => {\n\ttype = type || ''\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdUnitMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem, validate, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl, mime } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (tempUrl) {\n\t\t\tvalidateMedia(\n\t\t\t\t{\n\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\twidthTarget: width,\n\t\t\t\t\theightTarget: height,\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\texact: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t}\n\t\t\t)\n\t\t} else {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst { newItem, t, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\tmime={temp.mime || ''}\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\n\nexport default Translate(NewAdUnitMedia)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { translate } from 'services/translations/translations'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\n\nexport const renderInput = inputProps => {\n\tconst { InputProps, classes, ref, ...other } = inputProps\n\n\treturn (\n\t\t<TextField\n\t\t\tInputProps={{\n\t\t\t\tinputRef: ref,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t},\n\t\t\t\t...InputProps,\n\t\t\t}}\n\t\t\t{...other}\n\t\t/>\n\t)\n}\n\nexport const renderSuggestion = ({\n\tsuggestion,\n\tindex,\n\tstyle,\n\titemProps,\n\thighlightedIndex,\n\tselectedItem,\n\tshowSelected,\n}) => {\n\tconst isHighlighted = highlightedIndex === index\n\t// TODO: make it better\n\t// Note wo work with obj and array\n\tconst isSelected =\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\n\t\t\tsuggestion.value\n\t\t) > -1\n\n\tif (!showSelected && isSelected) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={style}>\n\t\t\t<ListItem\n\t\t\t\tbutton\n\t\t\t\t{...itemProps}\n\t\t\t\tkey={suggestion.value || suggestion.label}\n\t\t\t\tselected={isHighlighted}\n\t\t\t\tcomponent='div'\n\t\t\t\tstyle={{\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ListItemText primary={suggestion.label} />\n\t\t\t</ListItem>\n\t\t</div>\n\t)\n}\n\nconst newSuggestion = inputValue => {\n\treturn {\n\t\tlabel: `${translate(\n\t\t\t'CREATE_TAG_LABEL'\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\n\t\tvalue: inputValue.toLowerCase().trim(),\n\t}\n}\n\nrenderSuggestion.propTypes = {\n\thighlightedIndex: PropTypes.number,\n\tindex: PropTypes.number,\n\titemProps: PropTypes.object,\n\tselectedItem: PropTypes.string,\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\n}\n\nexport const getSuggestions = (\n\tinputValue = '',\n\tsource,\n\tallowCreate,\n\tvalidateCreation\n) => {\n\tif (!inputValue) {\n\t\treturn source\n\t} else {\n\t\tinputValue = inputValue.toLowerCase().trim()\n\n\t\tsource = source.filter(suggestion => {\n\t\t\treturn (\n\t\t\t\t!inputValue ||\n\t\t\t\tsuggestion.label\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.trim()\n\t\t\t\t\t.indexOf(inputValue) !== -1\n\t\t\t)\n\t\t})\n\n\t\t// Making sure that an option to create a new item will exist when needed\n\t\tconst values = source.map(item => {\n\t\t\treturn item.value\n\t\t})\n\n\t\tif (\n\t\t\t!values.includes(inputValue) &&\n\t\t\tallowCreate &&\n\t\t\t(!validateCreation || validateCreation(inputValue))\n\t\t) {\n\t\t\tsource.push(newSuggestion(inputValue))\n\t\t}\n\n\t\treturn source\n\t}\n}\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport TextField from '@material-ui/core/TextField'\nimport { Autocomplete as AutocompleteMUI } from '@material-ui/lab'\nimport { getSuggestions } from './common'\n\nfunction Autocomplete(props) {\n\tconst {\n\t\tid,\n\t\tclasses,\n\t\tsource,\n\t\tmultiple,\n\t\tvalue,\n\t\tlabel,\n\t\tvariant,\n\t\tallowCreate,\n\t\tvalidateCreation,\n\t\tvalidateAutocomplete,\n\t\terror,\n\t\terrorText,\n\t\tonInit,\n\t\tonChange,\n\t\t...rest\n\t} = props\n\tconst [inputValue, setInputValue] = useState('')\n\n\tconst suggestions = getSuggestions(\n\t\tinputValue,\n\t\tsource,\n\t\tallowCreate,\n\t\tvalidateCreation\n\t)\n\tuseEffect(() => {\n\t\tonInit()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst handleChange = item => {\n\t\tconst selectedItem = item ? item.value || item.label : item\n\t\tonChange(selectedItem)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.container}>\n\t\t\t\t<AutocompleteMUI\n\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\toptions={suggestions}\n\t\t\t\t\tgetOptionLabel={option => option.label}\n\t\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\n\t\t\t\t\tonInputChange={(_, newValue) => setInputValue(newValue)}\n\t\t\t\t\trenderInput={params => {\n\t\t\t\t\t\tif (value) params.inputProps.value = value\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\tfullWidth\n\t\t\t\t/>\n\t\t\t\t{error && (\n\t\t\t\t\t<FormHelperText error id='component-error-text'>\n\t\t\t\t\t\t{errorText}\n\t\t\t\t\t</FormHelperText>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nAutocomplete.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(Autocomplete)\n","export const styles = theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\theight: 250,\n\t},\n\tcontainer: {\n\t\tflexGrow: 1,\n\t\tposition: 'relative',\n\t},\n\tpaper: {\n\t\tposition: 'absolute',\n\t\t// TODO: fix the component and do nou use z-index\n\t\tzIndex: 1000,\n\t\tmarginTop: theme.spacing(1),\n\t\tleft: 0,\n\t\tright: 0,\n\t\toverflow: 'hidden',\n\t\theight: 150,\n\t\twidth: '100%',\n\t},\n\tchip: {\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\n\t},\n\tinputRoot: {\n\t\tflexWrap: 'wrap',\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport AddIcon from '@material-ui/icons/Add'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\nimport { SOURCES } from 'constants/targeting'\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdUnitTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: [...(targets || [])],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\thandleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource = [],\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalidateAutocomplete={this.validateAutocomplete}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsource = '',\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t\ttarget = {},\n\t\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\tIconComponent={AddIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\n\nexport default Translate(NewAdUnitTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Divider from '@material-ui/core/Divider'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport WcIcon from '@material-ui/icons/Wc'\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\nimport CompareArrows from '@material-ui/icons/CompareArrows'\n\nconst targetIcon = {\n\tlocation: LocationOnIcon,\n\tgender: WcIcon,\n\tage: ChildCareIcon,\n}\n\nconst getTargetType = tag => {\n\tconst type = tag.split('_')[0] || 'tags'\n\treturn type\n}\n\nclass UnitTargets extends Component {\n\ttargetArrayValues = (target, type, t, index) => {\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\n\t\treturn (\n\t\t\t<span key={target.tag + target.score + index}>\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<TargetIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\n\t\t\t\t\t\tsecondary={target.score}\n\t\t\t\t\t/>\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t\t<Divider />\n\t\t\t</span>\n\t\t)\n\t}\n\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\n\t\t<List\n\t\t\tdense\n\t\t\tsubheader={\n\t\t\t\tsubHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null\n\t\t\t}\n\t\t>\n\t\t\t{targets.map(target => {\n\t\t\t\tconst type = getTargetType(target.tag)\n\t\t\t\treturn this.targetArrayValues(target, type, t)\n\t\t\t})}\n\t\t</List>\n\t)\n\n\trender() {\n\t\treturn <this.TargetsList {...this.props} />\n\t}\n}\n\nUnitTargets.propTypes = {\n\ttargets: PropTypes.array.isRequired,\n\tsubHeader: PropTypes.string,\n\tt: PropTypes.func.isRequired,\n}\n\nexport default UnitTargets\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport { CircularProgress } from '@material-ui/core'\nimport { styles } from './styles.js'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { t } from 'selectors'\n\n// TODO: fix responsive styles\nconst propRow = ({\n\tclasses,\n\tleft,\n\tright,\n\tclassName,\n\tclassNameLeft,\n\tclassNameRight,\n\tstyle = {},\n}) => (\n\t<Grid\n\t\titem\n\t\tcontainer\n\t\tspacing={2}\n\t\txs={12}\n\t\tclassName={classnames(className)}\n\t\tstyle={style}\n\t>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={4}\n\t\t\tlg={3}\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\n\t\t>\n\t\t\t{left}\n\t\t</Grid>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={8}\n\t\t\tlg={9}\n\t\t\tclassName={classnames(\n\t\t\t\tclasses.rightCol,\n\t\t\t\tclasses.breakLong,\n\t\t\t\tclassNameRight\n\t\t\t)}\n\t\t>\n\t\t\t{right}\n\t\t</Grid>\n\t</Grid>\n)\n\nconst contentBox = ({ classes, children, className }) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\tclassName={className}\n\t>\n\t\t{children}\n\t</Box>\n)\n\nconst contentBody = ({ classes, children, className }) => (\n\t<Box flexGrow={1} className={className}>\n\t\t{children}\n\t</Box>\n)\n\nconst contentStickyTop = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\n)\n\nconst topLoading = ({ classes, msg, subMsg, className }) => (\n\t<div className={classnames(classes.contentTopLoading)}>\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\n\t\t<div>\n\t\t\t<Typography component='div'> {msg} </Typography>\n\t\t\t{subMsg && (\n\t\t\t\t<Typography component='div'>\n\t\t\t\t\t<strong>{subMsg}</strong>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t</div>\n)\n\nconst fullContentSpinner = ({ classes }) => (\n\t<CircularProgress\n\t\tclassName={classnames(classes.progressCircleCenter)}\n\t\tsize={50}\n\t/>\n)\n\nconst fullContentMessage = ({\n\tchildren,\n\tmsgs = [],\n\tspinner,\n\tcolor = 'primary',\n}) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\talignItems='center'\n\t\tjustifyContent='center'\n\t\tbgcolor={`${color}.main`}\n\t\tcolor={`${color}.contrastText`}\n\t>\n\t\t{spinner && (\n\t\t\t<Box p={4}>\n\t\t\t\t<CircularProgress\n\t\t\t\t\tcolor={`${color}.contrastText`}\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\n\t\t\t\t\tsize={69}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t)}\n\t\t{children}\n\t\t{msgs\n\t\t\t.filter(x => !!x && x.message)\n\t\t\t.map((msg, index) => {\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\n\t\t\t\treturn (\n\t\t\t\t\t<Typography key={index} component='div'>\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\n\t\t\t\t\t</Typography>\n\t\t\t\t)\n\t\t\t})}\n\t</Box>\n)\n\nexport const PropRow = withStyles(styles)(propRow)\nexport const ContentBox = withStyles(styles)(contentBox)\nexport const ContentBody = withStyles(styles)(contentBody)\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\nexport const TopLoading = withStyles(styles)(topLoading)\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\timgPreview: {\n\t\t\tmaxHeight: 225,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t\timgPreviewWrapper: {\n\t\t\theight: 'max-content',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\n\nclass AdUnitFormPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, targeting } = newItem\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MEDIA')}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\talt={title}\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\n\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{targeting && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdUnitFormPreview.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { Campaign } from 'adex-models'\nimport { OPENING_CAMPAIGN } from 'constants/spinners'\n\nexport default function NewCampaignHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'Campaign',\n\t\t\t\tCampaign\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = async () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tconst { temp } = newItem\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.waitingAction = true\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tawait actions.openCampaign({ campaign: newItem })\n\n\t\t\tnewTemp.waitingAction = false\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('Campaign')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('Campaign')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\n\t\tconst adUnits = persist.items['AdUnit'] || {}\n\t\tconst adUnitsArray = Object.values(adUnits) || []\n\t\treturn {\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\n\t\t\tadUnits,\n\t\t\tadUnitsArray,\n\t\t\tspinner: memory.spinners[OPENING_CAMPAIGN],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { ContentBody } from 'components/common/dialog/content'\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\nimport {\n\tt,\n\tselectAdUnitsArray,\n\tselectAdUnits,\n\tselectNewCampaign,\n} from 'selectors'\nimport { updateNewCampaign, execute } from 'actions'\n\nfunction CampaignUnits(props) {\n\tconst { temp } = useSelector(selectNewCampaign)\n\tconst { selectedUnits } = temp\n\tconst allAdUnits = useSelector(selectAdUnits)\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\n\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\n\t\t\treturn allAdUnits[value]\n\t\t})\n\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.selectedUnits = selectedIndexes\n\n\t\texecute(updateNewCampaign('adUnits', units))\n\t\texecute(updateNewCampaign('temp', newTemp))\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={2}\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\n\t\t\t>\n\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{hasAdUnits ? (\n\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\tselected={selectedUnits}\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\n\t\t\t\t\t\t\t\tvalidate={props.validate}\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\n\t\t\t\t\t\t\t\tnoClone\n\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\trowSelectable\n\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\n\t\t\t\t\t\t\t\t<NewUnitDialog\n\t\t\t\t\t\t\t\t\tvariant='extended'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default CampaignUnits\n","import React, { Component } from 'react'\nimport { DateTimePicker as MuiDateTimePicker } from 'material-ui-pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport CalendarIcon from '@material-ui/icons/DateRange'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nconst CalendarIconAdor = ({\n\ticon = <CalendarIcon />,\n\ticonColor,\n\tonIconClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\n\t\t\t{icon}\n\t\t</IconButton>\n\t</InputAdornment>\n)\n\nexport class DateTimePicker extends Component {\n\trender() {\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\n\t\treturn (\n\t\t\t<MuiDateTimePicker\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisabled: rest.disabled,\n\t\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default DateTimePicker\n\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\n\treturn (\n\t\t<DateTimePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Grid from '@material-ui/core/Grid'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport TextField from '@material-ui/core/TextField'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { utils } from 'ethers'\nimport MomentUtils from '@date-io/moment'\nimport {\n\tselectSpinnerById,\n\tselectMainToken,\n\tselectNewCampaign,\n\tselectValidationsById,\n\tt,\n} from 'selectors'\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\nimport { validations } from 'adex-models'\nconst { isNumberString } = validations\n\nconst moment = new MomentUtils()\n\nconst getTotalImpressions = ({ depositAmount, minPerImpression }) => {\n\ttry {\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\n\t\tconst min = isNumberString(minPerImpression) && parseFloat(minPerImpression)\n\t\tif (!dep) {\n\t\t\treturn t('DEPOSIT_NOT_SET')\n\t\t} else if (!min) {\n\t\t\treturn t('CPM_NOT_SET')\n\t\t} else {\n\t\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\n\t\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\n\t\t}\n\t} catch (err) {\n\t\treturn 'N/A'\n\t}\n}\n\nfunction CampaignFinance({ validateId }) {\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst campaign = useSelector(selectNewCampaign)\n\n\tconst {\n\t\ttitle,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t\t// depositAsset,\n\t\tactiveFrom,\n\t\twithdrawPeriodStart,\n\t\tminTargetingScore,\n\t\ttemp = {},\n\t} = campaign\n\n\tconst { maxChannelFees, maxDepositFormatted } = temp\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst from = activeFrom || undefined\n\tconst to = withdrawPeriodStart || undefined\n\tconst now = moment.date().valueOf()\n\n\tconst errTitle = invalidFields['title']\n\tconst errDepAmnt = invalidFields['depositAmount']\n\tconst errMin = invalidFields['minPerImpression']\n\tconst errFrom = invalidFields['activeFrom']\n\tconst errTo = invalidFields['withdrawPeriodStart']\n\n\tconst impressions = getTotalImpressions({\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t})\n\n\tconst leader = validators[0] || {}\n\tconst follower = validators[1] || {}\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\n\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\n\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\n\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\n\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tname='depositAmount'\n\t\t\t\t\t\t\tvalue={depositAmount}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\n\t\t\t\t\t\t\t\t\t: t('DEPOSIT_AMOUNT_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [maxChannelFees, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('minPerImpression', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\n\t\t\t\t\t\t\tminDate={now}\n\t\t\t\t\t\t\tmaxDate={to}\n\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={from || null}\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\n\t\t\t\t\t\t\tminDate={from || now}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={to || null}\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nCampaignFinance.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default CampaignFinance\n","import React from 'react'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { TopLoading } from 'components/common/dialog/content'\n\nexport const WalletAction = ({ t, authType }) => {\n\tlet msg = ''\n\tlet subMsg\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\n\t\t\tbreak\n\t}\n\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport { formatDateTime } from 'helpers/formatters'\nimport {\n\tselectAccountIdentityAddr,\n\tselectAuthType,\n\tselectMainToken,\n\tselectSpinnerById,\n\tt,\n} from 'selectors'\nimport { execute, getCampaignActualFees } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\n\nconst UnitsTable = ({ items }) => {\n\treturn (\n\t\t<Grid item sm={12}>\n\t\t\t<ContentBody>\n\t\t\t\t<AdUnitsTable items={items} noSearch noActions noDownload noPrint />\n\t\t\t</ContentBody>\n\t\t</Grid>\n\t)\n}\n\nfunction CampaignFormPreview({ newItem } = {}) {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst authType = useSelector(selectAuthType)\n\tconst mainToken = useSelector(selectMainToken)\n\tconst { symbol } = mainToken\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst {\n\t\ttitle,\n\t\t// targeting,\n\t\tadUnits,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t\t// maxPerImpression,\n\t\t// depositAsset,\n\t\twithdrawPeriodStart,\n\t\tactiveFrom,\n\t\tminTargetingScore,\n\t\t// nonce\n\t\ttemp = {},\n\t} = newItem\n\n\tuseEffect(() => {\n\t\texecute(getCampaignActualFees())\n\t}, [])\n\n\treturn spinner ? (\n\t\t<FullContentSpinner />\n\t) : (\n\t\t<ContentBox>\n\t\t\t{temp.waitingAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/> */}\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('adUnits', { isProp: true })}\n\t\t\t\t\tright={<UnitsTable items={adUnits} />}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('validators', { isProp: true })}\n\t\t\t\t\tright={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{validators.map(val => (\n\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('CPM', { isProp: true })}\n\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\n\t\t\t\t\tright={`${depositAmount} ${symbol}`}\n\t\t\t\t/>\n\n\t\t\t\t<PropRow left={t('FEES')} right={`${temp.feesFormatted} ${symbol}`} />\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\n\t\t\t\t\tright={`${temp.totalSpendFormatted} ${symbol}`}\n\t\t\t\t/>\n\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\n\t\t\t\t\t\tright={maxPerImpression}\n\t\t\t\t\t/> */}\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\n\t\t\t\t\tright={formatDateTime(activeFrom)}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\n\t\t\t\t/>\n\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(created)}\n\t\t\t\t\t/> */}\n\n\t\t\t\t{/* </Grid> */}\n\t\t\t\t<br />\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nCampaignFormPreview.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewCampaignFormPreview = NewCampaignHoc(CampaignFormPreview)\nexport default NewCampaignFormPreview\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdSlot',\n\t\t\t\tAdSlot\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\n\t\t\tactions.addSlot(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdSlot')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectMainToken,\n\tselectNewAdSlot,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectSlotTypesSourceWithDemands,\n} from 'selectors'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport {\n\tupdateSlotsDemandThrottled,\n\tvalidateNumberString,\n\tupdateNewSlot,\n\texecute,\n} from 'actions'\n\nfunction AdSlotBasic({ validateId }) {\n\tconst newItem = useSelector(selectNewAdSlot)\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\n\tconst { title, description, type, minPerImpression } = newItem\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\n\t)\n\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tuseEffect(() => {\n\t\texecute(updateSlotsDemandThrottled())\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst errTitle = invalidFields['title']\n\tconst errDescription = invalidFields['description']\n\tconst errMin = invalidFields['minPerImpression']\n\tconst errType = invalidFields['type']\n\tconst { symbol } = selectMainToken\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\n\t\t\t\t\t\t\tsource={adTypesSource}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\n\t\t\t\t\t\t\t\t\t? errType.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAdSlotBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotBasic\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport Collapse from '@material-ui/core/Collapse'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Switch from '@material-ui/core/Switch'\nimport { schemas, Joi } from 'adex-models'\n\nconst { adUnitPost } = schemas\n\nconst getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x250'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdSlotMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem } = this.props\n\t\tconst { temp, targetUrl } = newItem\n\t\tconst { useFallback } = temp\n\n\t\tif (useFallback) {\n\t\t\tthis.validateImage(useFallback)\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t}\n\t}\n\n\tvalidateImage = useFallback => {\n\t\tconst { newItem, validate, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl, mime } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (!useFallback) {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: true,\n\t\t\t\terr: {\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t},\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t} else if (tempUrl) {\n\t\t\tvalidateMedia(\n\t\t\t\t{\n\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\twidthTarget: width,\n\t\t\t\t\theightTarget: height,\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\texact: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !useFallback || !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\thandleFallbackChange = useFallback => {\n\t\tconst { temp, targetUrl } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.useFallback = useFallback\n\n\t\tthis.props.handleChange('temp', newTemp)\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\n\t\tthis.validateImage(useFallback)\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tnewItem,\n\t\t\tt,\n\t\t\tvalidateMedia,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t} = this.props\n\t\tconst { targetUrl, type, temp } = newItem\n\t\tconst useFallback = temp.useFallback || false\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Collapse in={useFallback}>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\n\nexport default Translate(NewAdSlotMedia)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport AddIcon from '@material-ui/icons/Add'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nconst AcTags = autocompleteTagsSingleSelect()\n\nconst SOURCES = {\n\ttags: { src: AcTags, collection: 'tags' },\n\tcustom: { src: [], collection: 'tags' },\n}\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdSlotTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: targets || [],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\tthis.props.handleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource = [],\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsource = '',\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t\ttarget = {},\n\t\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\tIconComponent={AddIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\n\nexport default Translate(NewAdSlotTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { selectMainToken } from 'selectors'\n\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\n\treturn (\n\t\t<div>\n\t\t\t<PropRow\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\n\t\t\t\tright={\n\t\t\t\t\t<Img\n\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\n\t\t\t\t\t\talt={targetUrl}\n\t\t\t\t\t\tmediaMime={img.mime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PropRow\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\n\t\t\t\tright={\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\n\t\t\t\t\t\t{targetUrl}\n\t\t\t\t\t</Anchor>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nclass AdSlotPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, tags, targetUrl } = newItem\n\t\tconst { minPerImpression } = temp\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{temp.useFallback && (\n\t\t\t\t\t\t<SlotFallback\n\t\t\t\t\t\t\timg={temp}\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t\t{tags && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={tags}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdSlotPreview.propTypes = {\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport AddIcon from '@material-ui/icons/Add'\nimport SaveIcon from '@material-ui/icons/Save'\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\nimport CampaignUnits from './Campaign/CampaignUnits'\n// import CampaignTargeting from './Campaign/CampaignTargeting'\nimport CampaignFinance from './Campaign/CampaignFinance'\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\n\nimport {\n\texecute,\n\tvalidateNewCampaignFinance,\n\tvalidateNewCampaignAdUnits,\n\tvalidateNewSlotBasics,\n} from 'actions'\n\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button color='primary' onClick={save}>\n\t\t\t{/*TODO: withStyles */}\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\n\t\t\t{t('SAVE')}\n\t\t</Button>\n\t)\n}\n\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={newItem.temp.waitingAction}\n\t\t>\n\t\t\t{newItem.temp.waitingAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\n\t\t</Button>\n\t)\n}\n\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\n\nconst CancelBtn = ({ ...props }) => {\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\n}\n\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\n\nconst dialogCommon = {\n\tdarkerBackground: true,\n\ticon: <AddIcon />,\n}\n\n// Ad unit\nexport const NewUnitSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdUnit}\n\t\tCancelBtn={CancelBtnWithItem}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdUnit'}\n\t\tstepsId={'new-adunit-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: AdUnitFormPreview,\n\t\t}}\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\n\t\tnoDefaultImg\n\t\titemModel={AdUnit}\n\t/>\n)\n\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\n\nexport const NewUnitDialog = props => (\n\t<NewUnitStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_UNIT'\n\t\ttitle='CREATE_NEW_UNIT'\n\t/>\n)\n\nconst copyProps = {\n\tdarkerBackground: true,\n\ticon: <FileCopyIcon color='primary' />,\n}\n\nexport const NewCloneUnitDialog = props => (\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\n)\n\n// Campaign\nexport const NewCampaignSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithCampaign}\n\t\tCancelBtn={CancelBtnWithCampaign}\n\t\tvalidateIdBase={'new-Campaign-'}\n\t\titemType={'Campaign'}\n\t\tstepsId={'new-campaign-'}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\n\t\t\t\tpage: CampaignUnits,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignAdUnits({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t// NOTE: Only at ad units at the moment\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\n\t\t\t\tpage: CampaignFinance,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignFinance({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: CampaignFormPreview,\n\t\t}}\n\t\titemModel={Campaign}\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\n\t/>\n)\n\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\n\nexport const NewCampaignDialog = props => (\n\t<NewCampaignStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_CAMPAIGN'\n\t\ttitle='CREATE_NEW_CAMPAIGN'\n\t/>\n)\n\n// Ad slot\nexport const NewSlotSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdSlot}\n\t\tCancelBtn={CancelBtnWithAdSlot}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdSlot'}\n\t\tstepsId={'new-slot-'}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\n\t\t\t\tpage: AdSlotBasic,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewSlotBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\n\t\titemModel={AdSlot}\n\t/>\n)\n\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\n\nexport const NewSlotDialog = props => (\n\t<NewSlotStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_SLOT'\n\t\ttitle='CREATE_NEW_SLOT'\n\t/>\n)\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectAdUnitsTableData, selectSide } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, noActions, noClone }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\titems, //\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignUnits,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t} = props\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, items })\r\n\t}, [side, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignUnits ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectSide, selectAdSlotsTableData } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to }) => (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\taria-label='view'\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tcard: {\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t\twidth: 320,\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'relative',\n\t\t\tmaxWidth: '100%',\n\t\t\t'@media(max-width:380px)': {\n\t\t\t\tmargin: 0,\n\t\t\t\tmarginBottom: spacing,\n\t\t\t},\n\t\t},\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\twidth: 'auto',\n\t\t\tmaxHeight: '100%',\n\t\t},\n\t\tbasicInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'start',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\tlabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\n\t\t\ttop: 0,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport Img from 'components/common/img/Img'\nimport { validUrl } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport Anchor from 'components/common/anchor/anchor'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { validations } from 'adex-models'\nimport { utils } from 'ethers'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { selectMainToken } from 'selectors'\n\nconst FallbackAdData = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\n\n\treturn (\n\t\t<Card className={classes.card} raised={false}>\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\n\t\t\t\t<Img\n\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\n\t\t\t\t\talt={item.fallbackTargetUrl}\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t/>\n\t\t\t</CardMedia>\n\t\t\t{/* <Fab\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleFallbackImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t\tdisabled={isDemo}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Fab> */}\n\t\t\t<CardContent>\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t// required\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\n\t\t\t\t\t\t// maxLength={1024}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{/* <span>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</span> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span className={classes.error}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t)\n}\n\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\n\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\n\tconst { temp } = item\n\tconst newTemp = { ...temp }\n\tnewTemp[prop] = value\n\n\treturn newTemp\n}\n\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\n\tconst isValidNumber = validations.isNumberString(value)\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\tvalidate(prop, {\n\t\tisValid: isValid,\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\tdirty: dirty,\n\t})\n}\n\nconst SlotMinCPM = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errMin = invalidFields['minPerImpression']\n\tconst { address, decimals, symbol } = selectMainToken()\n\tconst minCPM = formatTokenAmount(\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\n\t\tdecimals,\n\t\ttrue\n\t)\n\n\tconst minPerImpression =\n\t\titem.temp.minPerImpression !== undefined\n\t\t\t? item.temp.minPerImpression\n\t\t\t: minCPM\n\n\treturn (\n\t\t<FormControl\n\t\t\tfullWidth\n\t\t\tclassName={classes.textField}\n\t\t\tmargin='dense'\n\t\t\terror={!!errMin}\n\t\t>\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\n\t\t\t<Input\n\t\t\t\tfullWidth\n\t\t\t\tautoFocus\n\t\t\t\ttype='text'\n\t\t\t\tname={'minPerImpression'}\n\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\tonChange={ev => {\n\t\t\t\t\tvalidateAmount(\n\t\t\t\t\t\tev.target.value,\n\t\t\t\t\t\t'minPerImpression',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tvalidate\n\t\t\t\t\t)\n\t\t\t\t\thandleChange(\n\t\t\t\t\t\t'temp',\n\t\t\t\t\t\tupdateItemTemp({\n\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\tmaxLength={1024}\n\t\t\t\tonBlur={ev => {\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\n\t\t\t\t}}\n\t\t\t\tdisabled={!activeFields.minPerImpression}\n\t\t\t\tendAdornment={\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<FormHelperText>\n\t\t\t\t{errMin && !!errMin.errMsg\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\n\t\t\t</FormHelperText>\n\t\t</FormControl>\n\t)\n}\n\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\n\nconst MediaCard = ({\n\tclasses,\n\tmediaUrl,\n\tmediaMime,\n\ttitle,\n\tcanEditImg,\n\ttoggleImgEdit,\n\turl,\n}) => (\n\t<Card className={classes.card} raised={false}>\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\n\t\t\t<Img\n\t\t\t\tallowFullscreen={true}\n\t\t\t\tsrc={mediaUrl}\n\t\t\t\talt={title}\n\t\t\t\tclassName={classes.img}\n\t\t\t\tmediaMime={mediaMime}\n\t\t\t\tallowVideo\n\t\t\t/>\n\t\t</CardMedia>\n\t\t{canEditImg && (\n\t\t\t<Button\n\t\t\t\tvariant='fab'\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Button>\n\t\t)}\n\n\t\t{url && (\n\t\t\t<CardContent>\n\t\t\t\t<Anchor href={url} target='_blank'>\n\t\t\t\t\t{url}\n\t\t\t\t</Anchor>\n\t\t\t</CardContent>\n\t\t)}\n\t</Card>\n)\n\nconst basicProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\tactiveFields,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst mediaMime = item.mediaMime\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\n\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\tvalue={item.type}\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trows={7}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t{rightComponent}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport const BasicProps = withStyles(styles)(basicProps)\n\nconst campaignProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst status = item.status || {}\n\tconst { decimals, symbol } = selectMainToken()\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={classes.basicInfo}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\n\t\t\t\t\t{rightComponent}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\nexport const CampaignProps = withStyles(styles)(campaignProps)\n","import Helper from 'helpers/miscHelpers'\nimport { defaults } from 'react-chartjs-2'\nimport merge from 'lodash.merge'\n\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\n// Eddie colors\nexport const CHARTS_COLORS = [\n\t'#00BAFF',\n\t'#7EDBFF',\n\t'#FF9FA8',\n\t'#14DC9C',\n\t'#61FFB2',\n\t'#ABFFE5',\n]\n\nexport let CHARTS_COMMON_OPTIONS = {\n\tresponsive: true,\n\ttooltips: {\n\t\tmode: 'label',\n\t\tcornerRadius: 2,\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\n\t},\n}\n\nexport const hexColorsToRgbaArray = (colors, alpha) => {\n\treturn colors.map(color => {\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\n\t})\n}\n\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={450}\r\n\t\t\theight={450}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\t// responsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas(earnings || 0)} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr}%`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 20,\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Anchor from 'components/common/anchor/anchor'\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\n\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\nconst VIEW_MODE = 'campaignRowsView'\n\nexport class Campaign extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context)\n\n\t\tthis.state = {\n\t\t\ttabIndex: 0,\n\t\t\tstatistics: {},\n\t\t}\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index })\n\t}\n\n\tCampaignActions = ({ campaign, actions, t }) => {\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// classes,\n\t\t\titem,\n\t\t\t// handleChange,\n\t\t\t// activeFields,\n\t\t\t// isDemo,\n\t\t\tactions,\n\t\t\thistory,\n\t\t\t// ...rest\n\t\t} = this.props\n\t\tconst { tabIndex } = this.state\n\t\tconst units = item.spec.adUnits\n\t\tconst campaign = new CampaignModel(item)\n\t\tconst status = (campaign.status || {}).name\n\t\tconst leader = campaign.spec.validators[0]\n\t\tconst follower = campaign.spec.validators[1]\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CampaignProps\n\t\t\t\t\titem={campaign}\n\t\t\t\t\tt={t}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t// <UnitTargets\n\t\t\t\t\t\t// \t{...rest}\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\n\t\t\t\t\t\t// \tt={t}\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\n\t\t\t\t\t\t// />\n\t\t\t\t\t\t(status === 'Ready' ||\n\t\t\t\t\t\t\tstatus === 'Active' ||\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\n\t\t\t\t\t\t\t<this.CampaignActions\n\t\t\t\t\t\t\t\tcampaign={campaign}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\t\thistory={history}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 2, md: 2, lg: 1 }}>\n\t\t\t\t\t\t\t\t\t<Grid item lg={8} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable campaignId={item.id} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 1, md: 1, lg: 2 }}>\n\t\t\t\t\t\t\t\t\t<Grid item lg={4} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={item.id} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t\t\t<AdUnitsTable items={units} campaignUnits noClone />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaign.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tunits: PropTypes.object.isRequired,\n\trowsView: PropTypes.bool.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\tunits: persist.items['AdUnit'],\n\t\trowsView: !!persist.ui[VIEW_MODE],\n\t\tobjModel: CampaignModel,\n\t\titemType: 'Campaign',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(CampaignItem))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t},\n\t\tappBar: {\n\t\t\tmarginTop: spacing * 2,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdatepicker: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\n\t</g>,\n\n\t'AdexPublisher',\n\t'0 0 114 110'\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\n\t</g>,\n\t'AdexAdvertiser',\n\t'0 0 109 94'\n)\n","import React, { Component } from 'react'\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport Translate from 'components/translate/Translate'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst SideBox = ({\n\tsalePoints = [],\n\tlinkTitle,\n\ticon,\n\ttitle,\n\tdisabled,\n\tclasses,\n\t...other\n}) => (\n\t<div\n\t\t{...other}\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\n\t>\n\t\t<div className={classes.icon}>{icon}</div>\n\t\t<h2>{title}</h2>\n\t\t<ul className={classes.salePoints}>\n\t\t\t{salePoints.map(function(point, key) {\n\t\t\t\treturn <li key={key}> {point} </li>\n\t\t\t})}\n\t\t</ul>\n\t</div>\n)\n\nconst RRSideBox = withReactRouterLink(SideBox)\n\nclass SideSelect extends Component {\n\trender() {\n\t\tlet { t, classes } = this.props\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={true}\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.backdrop,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='sm'\n\t\t\t>\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<AdvertiserLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/advertiser'\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<PublisherLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/publisher'\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nexport default Translate(withStyles(styles)(SideSelect))\n","export const styles = () => {\n\treturn {\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tsideBox: {\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\theight: 'auto',\n\t\t\ttextAlign: 'center',\n\t\t\tverticalAlign: 'top',\n\t\t\topacity: 0.7,\n\t\t\t'&:hover:not(.disabled)': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t\topacity: 1,\n\t\t\t},\n\t\t\t'&.disabled': {\n\t\t\t\topacity: 0.3,\n\t\t\t},\n\t\t\t'@media(max-width:425px)': {\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t\ticon: {\n\t\t\twidth: 110,\n\t\t\theight: 110,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\tsalePoints: {\n\t\t\tpadding: 0,\n\t\t\t'& li': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tlistStyle: 'none',\n\t\t\t},\n\t\t},\n\t}\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\tinfoStatsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'stretch',\n\t\t\theight: '100%',\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: spacing,\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tdashboardCardBody: {\n\t\t\tmargin: spacing,\n\t\t\tpadding: spacing,\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\n\t\t},\n\t}\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Line, Chart } from 'react-chartjs-2'\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\nimport Helper from 'helpers/miscHelpers'\nimport { selectStatsChartData, selectMainToken } from 'selectors'\n\nconst commonDsProps = {\n\tfill: false,\n\tlineTension: 0.3,\n\tborderWidth: 0,\n\tpointRadius: 3,\n\tpointHitRadius: 10,\n}\n\nexport const SimpleStatistics = ({\n\tside,\n\ttimeframe = '',\n\teventType,\n\tpayouts,\n\timpressions,\n\tclicks,\n\toptions = {},\n\tt,\n\txLabel = 'TIMEFRAME',\n\ty1Label = 'DATA1',\n\ty2Label = 'DATA2',\n\ty3Label = 'DATA3',\n\ty1Color = CHARTS_COLORS[1],\n\ty2Color = CHARTS_COLORS[2],\n\ty3Color = CHARTS_COLORS[3],\n}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// Vertical line / crosshair\n\tuseEffect(() => {\n\t\tChart.pluginService.register({\n\t\t\tafterDraw: function(chart) {\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\n\t\t\t\t\tconst ctx = chart.ctx\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\n\t\t\t\t\tif (chartScalesy1) {\n\t\t\t\t\t\tconst topY = chartScalesy1.top\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\n\t\t\t\t\t\tctx.save()\n\t\t\t\t\t\tctx.beginPath()\n\t\t\t\t\t\tctx.moveTo(x, topY)\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\n\t\t\t\t\t\tctx.lineWidth = 1 // line width\n\t\t\t\t\t\tctx.setLineDash([1, 5])\n\t\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\n\t\t\t\t\t\tctx.stroke()\n\t\t\t\t\t\tctx.restore()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t})\n\n\tconst chartData = {\n\t\tlabels: payouts.labels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tlabel: y1Label,\n\t\t\t\tdata: payouts.datasets,\n\t\t\t\tyAxisID: 'y-axis-1',\n\t\t\t\tpointBackgroundColor: 'transparent',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tlabel: y2Label,\n\t\t\t\tdata: impressions.datasets,\n\t\t\t\tyAxisID: 'y-axis-2',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tlabel: y3Label,\n\t\t\t\tdata: clicks.datasets,\n\t\t\t\tyAxisID: 'y-axis-3',\n\t\t\t},\n\t\t],\n\t}\n\n\tconst linesOptions = {\n\t\tanimation: false,\n\t\tresponsive: true,\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: true,\n\t\t\ttext: options.title,\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: 'black',\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel = xLabel === y1Label ? `${t.yLabel} ${symbol}` : t.yLabel\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\thover: {\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t},\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y1Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y2Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-2',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y3Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-3',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\treturn <Line height={500} data={chartData} options={linesOptions} />\n}\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport classnames from 'classnames'\nimport InfoIcon from '@material-ui/icons/Info'\nimport { ArrowTooltip } from 'components/common/tooltips'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\tposition: 'relative',\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\n\t\t\tcolor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\n\t\t\t\ttheme.palette.text.primary,\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: theme.spacing(1),\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tprogress: {\n\t\t\tbottom: 0,\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nconst StatsCard = props => {\n\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tlinkCard,\n\t\tchildren,\n\t\tonClick,\n\t\tbgColor,\n\t\tloading,\n\t\texplain,\n\t} = props\n\n\tconst classes = useStyles({ bgColor })\n\n\treturn (\n\t\t<Card\n\t\t\t// raised\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\n\t\t\t\t[classes.linkCard]: !!linkCard,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<CardContent>\n\t\t\t\t{title && (\n\t\t\t\t\t<Typography variant='h5' noWrap>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{subtitle && (\n\t\t\t\t\t<Typography component='p' noWrap>\n\t\t\t\t\t\t{subtitle}{' '}\n\t\t\t\t\t\t{explain && (\n\t\t\t\t\t\t\t<ArrowTooltip\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\n\t\t\t\t\t\t\t\t\t\t{explain}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\n\t\t\t\t\t\t\t</ArrowTooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</CardContent>\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Card>\n\t)\n}\n\nStatsCard.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tlinkCard: PropTypes.bool,\n}\n\nexport default StatsCard\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\nimport lime from '@material-ui/core/colors/lime'\nimport deepOrange from '@material-ui/core/colors/deepOrange'\nimport amber from '@material-ui/core/colors/amber'\nimport grey from '@material-ui/core/colors/grey'\n\nconst WHITE = '#fff'\nexport const PRIMARY = '#1B75BC'\nexport const SECONDARY = '#FFAC00'\nexport const ALEX_GREY = '#3f3e3e'\nexport const ACCENT_ONE = '#57467B'\nexport const ACCENT_TWO = '#7CB4B8'\n\nconst palette = {\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\taccentOne: { main: ACCENT_ONE, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\tappBar: { main: grey[200], contrastText: grey[900] },\n\terror: deepOrange,\n\twarning: amber,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\ttext: grey,\n\taction: {\n\t\tdisabledBackground: grey[300],\n\t\tdisabled: grey[600],\n\t},\n}\n\nexport const theme = createMuiTheme({\n\ttypography: {\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\t\tfontSize: 13,\n\t},\n\tpalette: { ...palette },\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: { borderRadius: 0 },\n\t\t},\n\t\tMuiFormControl: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiSelect: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiInputLabel: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiOutlinedInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAlert: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\t// MuiStepIcon: {\n\t\t//     root: {\n\t\t//         color: 'yellow',\n\t\t//         '&$active': {\n\t\t//             color: 'orange'\n\t\t//         }\n\t\t//     },\n\t\t//     active: {\n\t\t//         color: 'yellow'\n\t\t//     }\n\t\t// },\n\t\tMuiTableFooter: {\n\t\t\troot: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflex: 0,\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAppBar: {\n\t\t\tcolorDefault: {\n\t\t\t\tbackgroundColor: palette.appBar.main,\n\t\t\t\tcolor: palette.appBar.contrastText,\n\t\t\t},\n\t\t},\n\t\tMUIDataTablePagination: {\n\t\t\ttoolbar: {\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMUIDataTableFilter: {\n\t\t\troot: {\n\t\t\t\tmaxWidth: '400px',\n\t\t\t},\n\t\t},\n\t\t// Think of accessing an element not a class\n\t\tMuiGridListTile: {\n\t\t\troot: {\n\t\t\t\twidth: '100% !important',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBodyCell: {\n\t\t\tstackedCommon: {\n\t\t\t\theight: '80px !important',\n\t\t\t},\n\t\t},\n\t},\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\n\tfactor: 3,\n})\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateAnalyticsTimeframe } from 'actions'\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\nimport Dropdown from 'components/common/dropdown'\nimport Grid from '@material-ui/core/Grid'\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\nimport StatsCard from './StatsCard'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tPRIMARY,\n\tSECONDARY,\n\tACCENT_ONE,\n\tACCENT_TWO,\n} from 'components/App/themeMUi'\nimport { styles } from './styles'\nimport { formatNumberWithCommas } from 'helpers/formatters'\nimport {\n\tt,\n\tselectTotalImpressions,\n\tselectTotalMoney,\n\tselectAverageCPM,\n\tselectMainToken,\n\tselectAnalytics,\n\tselectTotalClicks,\n\tselectStatsChartData,\n} from 'selectors'\n\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\n\tconst translated = { ...tf }\n\ttranslated.label = t(tf.label)\n\treturn translated\n})\n\nconst metrics = {\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('LABEL_REVENUE'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t],\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('LABEL_SPEND'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_ONE,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t],\n}\n\nconst timeHints = {\n\thour: 'SHOWING_LAST_HOUR',\n\tday: 'SHOWING_LAST_24_HOURS',\n\tweek: 'SHOWING_LAST_7_DAYS',\n}\n\nexport function BasicStats({ side }) {\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\n\tconst totalImpressions = useSelector(state =>\n\t\tselectTotalImpressions(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalClicks = useSelector(state =>\n\t\tselectTotalClicks(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalMoney = useSelector(state =>\n\t\tselectTotalMoney(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst averageCPM = useSelector(state =>\n\t\tselectAverageCPM(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst loadingImpressions = totalImpressions === null\n\tconst loadingMoney = totalMoney === null\n\tconst loadingCPM = averageCPM === null\n\tconst loadingClicks = totalClicks === null\n\n\tconst payouts = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\tconst impressions = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\tconst clicks = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\tconst dataInSync =\n\t\t(clicks.labels[clicks.labels.length - 1] ===\n\t\t\timpressions[impressions.labels.length - 1]) ===\n\t\tpayouts[payouts.labels.length - 1]\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div className={classes.infoStatsContainer}>\n\t\t\t\t\t<StatsCard>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\n\t\t\t\t\t\t\tsource={timeFrames}\n\t\t\t\t\t\t\tvalue={timeframe}\n\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='primary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tloading={loadingImpressions && !dataInSync}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='secondary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\n\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\tloadingClicks &&\n\t\t\t\t\t\t\tloadingImpressions &&\n\t\t\t\t\t\t\t!dataInSync &&\n\t\t\t\t\t\t\ttotalClicks / totalImpressions !== Infinity\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\n\t\t\t\t\t\t).toFixed(2)}% ${t('LABEL_CTR')})`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentOne'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{side === 'publisher' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentTwo'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='grey'\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\n\t\t\t\t\t\tloading={loadingCPM && !dataInSync}\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\n\t\t\t\t\t\t)} ${symbol} / CPM`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<SimpleStatistics\n\t\t\t\t\tside={side}\n\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\n\t\t\t\t\t}}\n\t\t\t\t\tpayouts={payouts}\n\t\t\t\t\timpressions={impressions}\n\t\t\t\t\tclicks={clicks}\n\t\t\t\t\ty1Label={metrics[side][0].label}\n\t\t\t\t\ty1Color={metrics[side][0].color}\n\t\t\t\t\ty2Label={metrics[side][1].label}\n\t\t\t\t\ty2Color={metrics[side][1].color}\n\t\t\t\t\ty3Label={metrics[side][2].label}\n\t\t\t\t\ty3Color={metrics[side][2].color}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateNav } from 'actions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport classnames from 'classnames'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport { styles } from './styles'\nimport Grid from '@material-ui/core/Grid'\nimport { BasicStats } from './BasicStats'\nimport { t, selectSide } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nexport function DashboardStats(props) {\n\tconst side = useSelector(selectSide)\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('DASHBOARD')))\n\t}, [])\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\n\t\t<SideSelect active={true} />\n\t) : (\n\t\t<div>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={12} lg={12} xs={12}>\n\t\t\t\t\t<Card className={classnames(classes.dashboardCardBody)}>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<BasicStats side={side} />\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default DashboardStats\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnit } from 'adex-models'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Translate from 'components/translate/Translate'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\n\nexport class Unit extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tcloseDialog: false,\n\t\t}\n\t}\n\t// shouldComponentUpdate(nextProps, nextState) {\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t//     return diffProps || diffState\n\t// }\n\trender() {\n\t\tconst { item, t, ...rest } = this.props\n\n\t\tif (!item) return <h1>Unit '404'</h1>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\ttargets={item.targeting}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tsubHeader={'PROP_TARGETING'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nUnit.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\treturn {\n\t\tobjModel: AdUnit,\n\t\titemType: 'AdUnit',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst UnitItem = ItemHoc(Unit)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(UnitItem))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\nimport copy from 'copy-to-clipboard'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport url from 'url'\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\n\nconst ADVIEW_URL = process.env.ADVIEW_URL\nconst adviewUrl = url.parse(ADVIEW_URL)\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\n\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)`\n\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\n\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\n\tconst { id, type, tags, fallbackUnit } = slot\n\tconst identityAddr = account.identity.address\n\n\tlet sizes = type.split('_')[1].split('x')\n\tsizes = {\n\t\twidth: sizes[0],\n\t\theight: sizes[1],\n\t}\n\n\tconst options = {\n\t\tpublisherAddr: identityAddr,\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\n\t\twhitelistedType: type,\n\t\trandomize: true,\n\t\ttargeting: tags || [],\n\t\t// marketURL: ADEX_MARKET_HOST,\n\t\twidth: sizes.width,\n\t\theight: sizes.height,\n\t\tminPerImpression: '0',\n\t\tminTargetingScore: '0',\n\t\tfallbackUnit,\n\t\tmarketSlot: id,\n\t}\n\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\n\n\tlet src = ADVIEW_URL + query\n\n\tlet iframeStr =\n\t\t`<iframe\\n` +\n\t\t`\tsrc=\"${src}\"\\n` +\n\t\t`\twidth=\"${sizes.width}\"\\n` +\n\t\t`\theight=\"${sizes.height}\"\\n` +\n\t\t`\tscrolling=\"no\"\\n` +\n\t\t`\tframeborder=\"0\"\\n` +\n\t\t`\tstyle=\"border: 0;\"\\n` +\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\n\t\t`></iframe>`\n\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.integrationLabel}>\n\t\t\t\t{t('INTEGRATION_CODE')}\n\t\t\t\t<IconButton\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(iframeStr)\n\t\t\t\t\t\tonCopy && onCopy()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CopyIcon />\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t\t<Paper>\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\n\t\t\t</Paper>\n\t\t\t{process.env.NODE_ENV !== 'production' && (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport class Slot extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\teditFallbackImg: false,\n\t\t\ttabIndex: 0,\n\t\t}\n\t\tthis.tabsFocus = React.createRef()\n\t}\n\n\thandleFallbackImgUpdateToggle = () => {\n\t\tconst active = this.state.editFallbackImg\n\t\tthis.setState({ editFallbackImg: !active })\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index }, () => {\n\t\t\tif (this.tabsFocus.current) {\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\n\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\tblock: 'start',\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\n\t\tconst { tabIndex } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\titemType={itemType}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\tcanEditImg={!isDemo}\n\t\t\t\t\trightComponent={null}\n\t\t\t\t\t{...rest}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\n\t\t\t\t\t\t\tref={this.tabsFocus}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\n\t\t\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\n\t\t\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<IntegrationCode\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\t\tslot={item}\n\t\t\t\t\t\t\t\tonCopy={() =>\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{/* {tabIndex === 0 && null} */}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSlot.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t\tobjModel: AdSlot,\n\t\titemType: 'AdSlot',\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\n\t\tupdateImgExact: true,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SlotItem)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tintegrationLabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tintegrationCode: {\n\t\t\twhiteSpace: 'pre-wrap',\n\t\t\twordBreak: 'break-word',\n\t\t\tpadding: spacing,\n\t\t\tmargin: 0,\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport Helper from 'helpers/miscHelpers'\n// import { exchange as ExchangeConstants } from 'adex-constants'\n\n// const { TX_STATUS } = ExchangeConstants\n\nexport default function NewTransactionHoc(Decorated) {\n\t// TODO: make it common for bids and items\n\tclass TransactionHoc extends Component {\n\t\tcomponentWillMount() {\n\t\t\t// console.log('TransactionHoc')\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\n\t\t}\n\n\t\t// addTx = (tx) => {\n\t\t//     let txData = { ...tx }\n\t\t//     txData.status = TX_STATUS.Pending.id\n\t\t//     txData.sendingTime = Date.now()\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\n\t\t// }\n\n\t\tonSave = (err, tx, manyTxs) => {\n\t\t\tconst { closeDialog } = this.props\n\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\n\t\t\tthis.resetTransaction()\n\t\t}\n\n\t\tresetTransaction = () => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.resetNewTransaction({ tx: txId })\n\t\t}\n\n\t\thandleSaveRes = ({ err, res }) => {\n\t\t\tconst { t, actions } = this.props\n\t\t\t// const areManyTxs = Array.isArray(res)\n\n\t\t\tif (err) {\n\t\t\t\tactions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.onSave(err, res, Array.isArray(res))\n\t\t}\n\n\t\tsave = () => {\n\t\t\tthis.handleChange('waitingForWalletAction', true)\n\t\t\tthis.props\n\t\t\t\t.saveFn({\n\t\t\t\t\tacc: this.props.account,\n\t\t\t\t\ttransaction: this.props.transaction,\n\t\t\t\t})\n\t\t\t\t.then((res = {}) => {\n\t\t\t\t\tconsole.log('res on save', res)\n\n\t\t\t\t\tconst txs = res.txResults || res\n\t\t\t\t\tconst err = res.err || null\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\n\t\t\t\t})\n\t\t\t\t.catch((error = {}) => {\n\t\t\t\t\tconsole.log('err on save', error)\n\t\t\t\t\tconst res = error.txResults || null\n\t\t\t\t\tconst err = error.err || error\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\n\t\t\t\t})\n\t\t}\n\n\t\tcancel = () => {\n\t\t\t// TODO: take a look at onSave if change something\n\t\t\tthis.onSave(null, null)\n\t\t}\n\n\t\trender() {\n\t\t\tlet transaction = this.props.transaction || {}\n\t\t\tlet props = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\ttransaction={transaction}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tresetTransaction={this.resetTransaction}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tTransactionHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tlabel: PropTypes.string,\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t\t.isRequired,\n\t\ttransaction: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tsaveFn: PropTypes.func,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\tconst txId = props.stepsId\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\ttransaction: memory.newTransactions[txId] || {},\n\t\t\ttxId: txId,\n\t\t\tspinner: memory.spinners[txId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(TransactionHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('withdrawAmount', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tconst { token, identityAvailable } = this.props\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet errMsgArgs = []\n\t\tlet amount = parseFloat(numStr)\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\terrMsgArgs = [identityAvailable, token]\n\t\t}\n\n\t\tthis.props.validate('withdrawAmount', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg, args: errMsgArgs },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\tidentityAvailable,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\ttoken,\n\t\t} = this.props\n\t\tconst { withdrawTo, withdrawAmount } = transaction || {}\n\t\tconst errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\n\t\t\t\t\t\targs: [identityAvailable, token],\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t\tnonERC20: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t\tnonERC20: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\t\tname='withdrawAmount'\n\t\t\t\t\tvalue={withdrawAmount || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleChange('withdrawAmount', identityAvailable)\n\t\t\t\t\t\t\t\t\tthis.validateAmount(identityAvailable, true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [identityAvailable, token],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawFromIdentityForm = NewTransactionHoc(WithdrawFromIdentity)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawFromIdentityForm)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawAnyTokenFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.amountToWithdraw) {\n\t\t\tvalidate('amountToWithdraw', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.tokenAddress) {\n\t\t\tvalidate('tokenAddress', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\n\t\tthis.props.validate('amountToWithdraw', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\tbalanceAnySpinner,\n\t\t} = this.props\n\t\tconst {\n\t\t\twithdrawTo,\n\t\t\tamountToWithdraw,\n\t\t\ttokenAddress,\n\t\t\ttokenBalance,\n\t\t\ttokenDecimals,\n\t\t} = transaction || {}\n\t\tconst errAmount = invalidFields['amountToWithdraw']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\tconst errToken = invalidFields['tokenAddress']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={balanceAnySpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\n\t\t\t\t\tname='tokenAddress'\n\t\t\t\t\tvalue={tokenAddress || ''}\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errToken && !!errToken.dirty}\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\n\t\t\t\t/>\n\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\n\t\t\t\t\tname='tokenDecimals'\n\t\t\t\t\tvalue={tokenDecimals || ''}\n\t\t\t\t\tonChange={ev => handleChange('tokenDecimals', ev.target.value)}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t\tnonERC20: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t\tnonERC20: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_AMOUNT_TO_WITHDRAW')}\n\t\t\t\t\tname='amountToWithdraw'\n\t\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\t\tonChange={ev => handleChange('amountToWithdraw', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(amountToWithdraw, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(amountToWithdraw, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\n\t\t\t\t\t\t\t? errAmount.errMsg\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawAnyTokenFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\n\tWithdrawAnyTokenFromIdentity\n)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawAnyTokenFromIdentityForm)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport Box from '@material-ui/core/Box'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport Typography from '@material-ui/core/Typography'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { constants } from 'adex-models'\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\n\nconst { IdentityPrivilegeLevel } = constants\n\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\n\treturn {\n\t\tvalue,\n\t\tlabel: t(`PRIV_${value}_LABEL`),\n\t\tinfo: t(`PRIV_${value}_INFO`),\n\t}\n})\n\nfunction SeAddressPrivilege(props) {\n\tconst { stepsId, validateId } = props\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\n\t\tstate => selectNewTransactionById(state, stepsId)\n\t)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst errAddr = validations['setAddr']\n\tconst warning = validations['setAddrWarning']\n\tconst errPrivLvl = validations['privLevel']\n\n\treturn (\n\t\t<div>\n\t\t\t<div> {t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}</div>\n\t\t\t<TextField\n\t\t\t\ttype='text'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\n\t\t\t\tname='setAddr'\n\t\t\t\tvalue={setAddr || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t/>\n\t\t\t<Dropdown\n\t\t\t\trequired\n\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\n\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\n\t\t\t\tonChange={val =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'privLevel',\n\t\t\t\t\t\t\tvalue: val,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tsource={PRIV_LEVELS_SRC}\n\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\n\t\t\t\thtmlId='label-privLevel'\n\t\t\t\tfullWidth\n\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\n\t\t\t\thelperText={\n\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\n\t\t\t\t\t\t? errPrivLvl.errMsg\n\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Box marginTop={2}>\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\n\t\t\t\t</Typography>\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tkey={x.value}\n\t\t\t\t\t\tvariant='caption'\n\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t>\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\n\t\t\t\t\t</Typography>\n\t\t\t\t))}\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{(warning || warningAccepted || warningMsg) && (\n\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\n\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue='warningAccepted'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nSeAddressPrivilege.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n}\n\nexport default SeAddressPrivilege\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { InputLoading } from 'components/common/spinners/'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nclass SetAccountENSPage extends Component {\n\tcomponentDidMount() {\n\t\tconst { transaction, validate } = this.props\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('setEns', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleValidate = () => {\n\t\tif (this._timeout) {\n\t\t\t//if there is already a timeout in process cancel it\n\t\t\tclearTimeout(this._timeout)\n\t\t}\n\t\tthis._timeout = setTimeout(() => {\n\t\t\tthis._timeout = null\n\t\t\tconst { actions, transaction, validate } = this.props\n\t\t\tconst { setEns } = transaction || {}\n\t\t\tactions.validateENS({\n\t\t\t\tens: setEns,\n\t\t\t\tdirty: true,\n\t\t\t\tvalidate,\n\t\t\t\tname: 'setEns',\n\t\t\t})\n\t\t}, 500)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\tsetEnsSpinner,\n\t\t} = this.props\n\t\tconst { setEns } = transaction || {}\n\t\t// const errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['setEns']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div> {t('SET_ENS_MAIN_INFO')}</div>\n\t\t\t\t<form noValidate>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\n\t\t\t\t\t\tname='setEns'\n\t\t\t\t\t\tvalue={setEns || ''}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\thandleChange('setEns', ev.target.value.toLowerCase())\n\t\t\t\t\t\t\tthis.handleValidate()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t{setEnsSpinner ? <InputLoading /> : null}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSetAccountENSPage.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\tsetEnsSpinner: memory.spinners['setEns'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SetAccountENSPageForm = NewTransactionHoc(SetAccountENSPage)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SetAccountENSPageForm)\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { PropRow } from 'components/common/dialog/content'\nimport { constants } from 'adex-models'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nexport const IdentityWithdrawPreview = ({\n\tt,\n\twithdrawTo,\n\tclasses,\n\tfeesData,\n\twithdrawAmount,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='withdrawAmount'\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${withdrawAmount} ${symbol}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetPrivilegePreview = ({\n\tt,\n\tsetAddr,\n\tclasses,\n\tfeesData,\n\tprivLevel,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='setAddr'\n\t\t\tleft={t('setAddr', { isProp: true })}\n\t\t\tright={(setAddr || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='privLevel'\n\t\t\tleft={t('privLevel', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [feesData.fees, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetENSPreview = ({\n\tt,\n\tsetEns,\n\taddress,\n\tclasses,\n\tfeesData,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='addr'\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\n\t\t\tright={(address || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='setEns'\n\t\t\tleft={t('setEns', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\tfeesData.fees,\n\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`,\n\t\t\t\t\t\t],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const IdentityWithdrawAnyPreview = ({\n\tt,\n\twithdrawTo,\n\ttokenAddress,\n\tclasses,\n\tfeesData,\n\twithdrawAmount,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='tokenAddress'\n\t\t\tleft={t('tokenAddress', { isProp: true })}\n\t\t\tright={(tokenAddress || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='withdrawAmount'\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={withdrawAmount + ' '}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport NewTransactionHoc from './TransactionHoc'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { styles } from './styles'\nimport {\n\tIdentityWithdrawPreview,\n\tSetPrivilegePreview,\n\tSetENSPreview,\n\tIdentityWithdrawAnyPreview,\n} from './previews'\n\nimport {\n\tselectMainToken,\n\tt,\n\tselectSpinnerById,\n\tselectAccount,\n\tselectNewTransactionById,\n} from 'selectors'\nimport { execute, updateSpinner } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction TransactionPreview(props) {\n\tconst classes = useStyles()\n\tconst {\n\t\tgetFeesFn,\n\t\thandleChange,\n\t\tidentityAvailable,\n\t\tpreviewWarnMsgs,\n\t\tstepsId,\n\t} = props\n\tconst txId = stepsId\n\tconst account = useSelector(selectAccount)\n\tconst { address } = account.identity\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst transaction = useSelector(state =>\n\t\tselectNewTransactionById(state, txId)\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\n\n\tuseEffect(() => {\n\t\tif (getFeesFn && Object.keys(transaction).length) {\n\t\t\texecute(updateSpinner(txId, true))\n\t\t\tgetFeesFn({ account, transaction })\n\t\t\t\t.then(feesData => {\n\t\t\t\t\thandleChange('feesData', feesData)\n\t\t\t\t\t// if (feesData.toGet) {\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\n\t\t\t\t\t// }\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\n\t\t\t\t\t\thandleChange('errors', [\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\n\t\t\t\t})\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst {\n\t\twithdrawTo,\n\t\twithdrawAmount,\n\t\tamountToWithdraw,\n\t\tsetAddr,\n\t\tsetEns,\n\t\tprivLevel,\n\t\ttokenAddress,\n\t\tfeesData = {},\n\t\terrors = [],\n\t} = transaction\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<ContentBox>\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\n\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{errors.length\n\t\t\t\t\t\t\t? errors.map((err, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\t\tright={err}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{previewWarnMsgs\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\n\t\t\t\t\t\t\t<SetPrivilegePreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount || amountToWithdraw}\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setENS' && (\n\t\t\t\t\t\t\t<SetENSPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\tsetEns={setEns}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</ContentBox>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nTransactionPreview.propTypes = {\n\tlabel: PropTypes.string,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tpreviewMsgs: PropTypes.array,\n}\n\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\nexport default TransactionPreviewForm\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: theme.palette.warning.A700,\n\t\t},\n\t\tcentralSpinner: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 20px)',\n\t\t\ttop: ' calc(50% - 20px)',\n\t\t},\n\t\timgPreview: {\n\t\t\theight: 120,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t}\n}\n","import React from 'react'\nimport WithdrawFromExchangePage from './WithdrawFromIdentity'\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\nimport SeAddressPrivilege from './SeAddressPrivilege'\nimport SetAccountENSPage from './SetAccountENSPage'\nimport TransactionPreview from './TransactionPreview'\nimport Button from '@material-ui/core/Button'\nimport TransactionHoc from './TransactionHoc'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { t } from 'selectors'\n// import SaveIcon from '@material-ui/icons/Save'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\nimport {\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n\taddIdentityENS,\n\twithdrawOtherTokensFromIdentity,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddrIdentityPrivilege,\n\tidentityWithdraw,\n\tsetIdentityENS,\n\tvalidatePrivilegesChange,\n\tidentityWithdrawAny,\n\texecute,\n} from 'actions'\n\nconst FormStepsWithDialog = WithDialog(FormSteps)\n\nconst SaveBtn = ({\n\tsave,\n\tsaveBtnLabel,\n\tsaveBtnIcon,\n\tt,\n\ttransaction,\n\twaitingForWalletAction,\n\tspinner,\n\t...other\n}) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\n\t\t\t\t!!transaction.waitingForWalletAction ||\n\t\t\t\t!!spinner\n\t\t\t}\n\t\t>\n\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || ''\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\n\t\t</Button>\n\t)\n}\n\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\n}\n\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\n\nconst txCommon = {\n\tSaveBtn: SaveBtnWithTransaction,\n\tCancelBtn: CancelBtnWithTransaction,\n\tvalidateIdBase: 'tx-',\n\tdarkerBackground: true,\n}\n\nexport const WithdrawTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawFromExchangePage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction, account } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\t\taccount,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn withdrawFromIdentity({\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const SetIdentityPrivilege = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\n\t\tstepsId='setIdentityPrivilege'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\n\t\t\t\tpage: SeAddressPrivilege,\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidatePrivilegesChange({\n\t\t\t\t\t\t\tstepsId,\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\taddrIdentityPrivilege({\n\t\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn setIdentityPrivilege({\n\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const WithdrawAnyTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawAnyFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(identityWithdrawAny(transaction))\n\t\t}}\n\t\tgetFeesFn={({ transaction = {}, account } = {}) => {\n\t\t\treturn withdrawOtherTokensFromIdentity({\n\t\t\t\t...transaction,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const SetAccountENS = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\n\t\tstepsId='setENS'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\n\t\t\t\tpage: SetAccountENSPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tsetIdentityENS({\n\t\t\t\t\tusername: transaction.setEns,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ account } = {}) => {\n\t\t\treturn addIdentityENS({\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\t\t}}\n\t/>\n)\n","import React, { useState, useEffect, Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tWithdrawTokenFromIdentity,\n\tWithdrawAnyTokenFromIdentity,\n\tSetIdentityPrivilege,\n\tSetAccountENS,\n} from 'components/dashboard/forms/web3/transactions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { styles } from './styles.js'\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\nimport { LoadingSection } from 'components/common/spinners'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport IconButton from '@material-ui/core/IconButton'\nimport copy from 'copy-to-clipboard'\nimport {\n\tt,\n\tselectWallet,\n\tselectAccountStatsFormatted,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectMainToken,\n\tselectEasterEggsAllowed,\n\tselectEnsAddressByAddr,\n} from 'selectors'\nimport { updateNav, execute, addToast } from 'actions'\nimport { formatAddress } from 'helpers/formatters'\n// const RRButton = withReactRouterLink(Button)\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\n\nconst AccountItem = props => (\n\t<ListItem>\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexWrap={'wrap'}\n\t\t\tflex='1'\n\t\t\tjustifyContent='space-between'\n\t\t\talignItems='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tflexGrow='8'\n\t\t\t\tflexBasis='700px'\n\t\t\t\tmr={1}\n\t\t\t\tflexWrap={'nowrap'}\n\t\t\t\tdisplay='flex'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t>\n\t\t\t\t<Box flex='1'>{props.left}</Box>\n\t\t\t</Box>\n\t\t\t<Box flexGrow='1' flexBasis='20em'>\n\t\t\t\t{props.right}\n\t\t\t</Box>\n\t\t</Box>\n\t</ListItem>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction AccountInfo() {\n\tconst { authType = '', email, password } = useSelector(selectWallet)\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst canMakeTx = privileges > 1\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\twalletAddress,\n\t\tidentityBalanceMainToken,\n\t\tavailableIdentityBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst identityEnsName = useSelector(state =>\n\t\tselectEnsAddressByAddr(state, identityAddress)\n\t)\n\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\n\n\tconst [localWalletDownloadHref, setLocalWalletDownloadHref] = useState('')\n\n\tconst loadBackupHref = async () => {\n\t\tconst obj = await getRecoveryWalletData({ email, password, authType })\n\t\tif (obj && obj.wallet) {\n\t\t\tconst data =\n\t\t\t\t'data:text/json;charset=utf-8,' +\n\t\t\t\tencodeURIComponent(JSON.stringify(obj))\n\n\t\t\tsetLocalWalletDownloadHref(data)\n\t\t}\n\t}\n\n\tconst [expanded, setExpanded] = useState(false)\n\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('ACCOUNT')))\n\t}, [identityAddress])\n\n\tuseEffect(() => {\n\t\tloadBackupHref()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst displayRampWidget = () => {\n\t\tconst widget = new RampInstantSDK({\n\t\t\thostAppName: 'AdExNetwork',\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\n\t\t\tvariant: 'auto',\n\t\t\tswapAsset: symbol,\n\t\t\tuserAddress: identityAddress,\n\t\t})\n\t\twidget.domNodes.overlay.style.zIndex = 1000\n\t\twidget.show()\n\t}\n\n\tconst handleExpandChange = () => {\n\t\tsetExpanded(!expanded)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<List className={classes.root}>\n\t\t\t\t<ListSubheader>{t('ADEX_ACCOUNT')}</ListSubheader>\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t{...(identityEnsName && {\n\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\n\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t{...(!identityEnsName && {\n\t\t\t\t\t\t\t\t\tprimary: identityAddress,\n\t\t\t\t\t\t\t\t\tsecondary: t('ENS_NOT_SET'),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\t!!identityAddress && (\n\t\t\t\t\t\t\t<SetAccountENS\n\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\ttoken='DAI'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\n\t\t\t\t\t\t\tsecondary={t('WALLET_INFO_LABEL', {\n\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t`AUTH_${authType.toUpperCase()}`,\n\t\t\t\t\t\t\t\t\t`PRIV_${privileges}_LABEL`,\n\t\t\t\t\t\t\t\t\tauthType,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\tlocalWalletDownloadHref && (\n\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\n\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\n\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref}\n\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained' fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\n\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\ttoken={symbol}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ExpansionPanel expanded={expanded} onChange={handleExpandChange}>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='panel1bh-content'\n\t\t\t\t\t\tid='panel1bh-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\n\t\t\t\t\t\t\t<AccountItem\n\t\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t\tsecondary={''}\n\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t></AccountItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t{allowEasterEggs && (\n\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default AccountInfo\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tactionBtn: {\n\t\t\tmargin: spacing,\n\t\t},\n\t\taddress: {\n\t\t\twordWrap: 'break-word',\n\t\t\twordBreak: 'break-all',\n\t\t\tflexGrow: 0,\n\t\t},\n\t\tadvancedList: {\n\t\t\twidth: '100%',\n\t\t},\n\t\ticonBtnLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}\n}\n","import React, { useState, useEffect, Fragment } from 'react'\nimport SideNav from './SideNav'\nimport TopBar from './TopBar'\nimport { Route, Switch } from 'react-router'\nimport Campaign from 'components/dashboard/containers/Campaign'\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\nimport Unit from 'components/dashboard/containers/Unit'\nimport Slot from 'components/dashboard/containers/Slot'\nimport Account from 'components/dashboard/account/AccountInfo'\nimport {\n\tNewUnitDialog,\n\tNewCampaignDialog,\n\tNewSlotDialog,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\tCampaignsTable,\n\tAdSlotsTable,\n\tAdUnitsTable,\n} from 'components/dashboard/containers/Tables'\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\nimport Drawer from '@material-ui/core/Drawer'\nimport Box from '@material-ui/core/Box'\nimport Alert from '@material-ui/lab/Alert'\nimport Hidden from '@material-ui/core/Hidden'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport {\n\tupdateNav,\n\tgetAllItems,\n\tupdateSlotsDemandThrottled,\n\texecute,\n\tresolveEnsAddress,\n\tupdatePrivilegesWarningAccepted,\n\tupdateAccountIdentityData,\n} from 'actions'\nimport {\n\tt,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectPrivilegesWarningAccepted,\n} from 'selectors'\nimport { useSelector } from 'react-redux'\n\nconst Campaigns = () => {\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst disabled = privileges <= 1\n\treturn (\n\t\t<Fragment>\n\t\t\t<NewCampaignDialog\n\t\t\t\tdisabled={disabled}\n\t\t\t\tfabButton\n\t\t\t\tvariant='extended'\n\t\t\t\taccent\n\t\t\t\tcolor='secondary'\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\n\t\t\t/>\n\t\t\t<CampaignsTable />\n\t\t</Fragment>\n\t)\n}\n\nconst AdUnits = () => (\n\t<>\n\t\t<NewUnitDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_UNIT'\n\t\t/>\n\t\t<AdUnitsTable />\n\t</>\n)\n\nconst AdSlots = () => (\n\t<>\n\t\t<NewSlotDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_SLOT'\n\t\t/>\n\t\t<AdSlotsTable />\n\t</>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction Dashboard(props) {\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\tconst address = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\n\n\tconst { match } = props\n\tconst { side } = match.params\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(resolveEnsAddress({ address }))\n\t})\n\n\tuseEffect(() => {\n\t\texecute(updateAccountIdentityData())\n\t\texecute(updateSlotsDemandThrottled())\n\t\texecute(updateNav('side', side))\n\t\texecute(getAllItems())\n\t\tanalyticsLoop.start()\n\t\tanalyticsCampaignsLoop.start()\n\t\tcampaignsLoop.start()\n\t\tstatsLoop.start()\n\n\t\treturn () => {\n\t\t\tanalyticsLoop.stop()\n\t\t\tanalyticsCampaignsLoop.stop()\n\t\t\tcampaignsLoop.stop()\n\t\t\tstatsLoop.stop()\n\t\t}\n\t}, [side])\n\n\tuseEffect(() => {}, [match, mobileOpen])\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t}, [side])\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\tconst drawer = <SideNav side={side} />\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<TopBar\n\t\t\t\tside={side}\n\t\t\t\topen={mobileOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t/>\n\t\t\t<Hidden mdUp>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\tanchor='left'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden smDown implementation='css'>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\topen\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t{showTxPrivLevelWarning && (\n\t\t\t\t\t\t<Box mb={2} p={1}>\n\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tseverity='info'\n\t\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\n\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\n\t\t\t\t\t\t\tcomponent={Campaigns}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\n\t\t\t\t\t\t\tcomponent={AdUnits}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\n\t\t\t\t\t\t\tcomponent={Campaign}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\n\t\t\t\t\t\t\tcomponent={Unit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\n\t\t\t\t\t\t\tcomponent={AdSlots}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\n\t\t\t\t\t\t\tcomponent={Slot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\n\t\t\t\t\t\t\tcomponent={Account}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\t\tauth={this.props.auth}\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t<Route exact path='/dashboard/:side' component={DashboardStats} />\n\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\t// flexGrow: 1,\n\t\t\theight: '100vh',\n\t\t},\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\theight: '100vh',\n\t\t\tflexGrow: '1',\n\t\t},\n\t\tactions: {\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t},\n\t\tbuttons: {\n\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t},\n\t\tadxVersion: {\n\t\t\t// position: 'absolute',\n\t\t\t// left: spacing,\n\t\t\t// bottom: spacing\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\t// marginTop: '1.5vh',\n\t\t\t// width: '17.92vh',\n\t\t\t// height: '6vh',\n\t\t\theight: '2rem',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tnoBg: {\n\t\t\tbackground: 0,\n\t\t\tboxShadow: 'none',\n\t\t\toverflow: 'visible',\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\t// position: 'relative',\n\t\t\tjustifyContent: 'center',\n\t\t\tpadding: 24,\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t// '&:first-child': {\n\t\t\t// \tpaddingTop: spacing,\n\t\t\t// },\n\t\t\t// overflow: 'visible',\n\t\t\t// maxHeight: '100vh'\n\t\t},\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport Img from 'components/common/img/Img'\nimport classnames from 'classnames'\nimport { getAllWallets } from 'services/wallet/wallet'\nimport { execute, initIdentity, confirmAction } from 'actions'\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { formatAddress } from 'helpers/formatters'\nimport { push } from 'connected-react-router'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\nconst useStyles = makeStyles(styles)\n\nconst AuthSelect = () => {\n\tconst classes = useStyles()\n\tconst [wallets, setWallets] = useState([])\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\tconst auth = useSelector(selectAuth)\n\tconst account = useSelector(selectAccount)\n\tconst { wallet, identity } = account || {}\n\n\tuseEffect(() => {\n\t\tconst allWallets = getAllWallets()\n\t\tconst wallets = allWallets.filter(\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\n\t\t)\n\t\tsetWallets(wallets)\n\t}, [wallet])\n\n\tconst goTo = (to, confirmLogout, onConfirm) => {\n\t\tconst toExecute = () => {\n\t\t\tlogOut()\n\t\t\texecute(push(to))\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\n\t\t\t\tonConfirm()\n\t\t\t}\n\t\t}\n\t\tif (auth && confirmLogout) {\n\t\t\texecute(\n\t\t\t\tconfirmAction(toExecute, null, {\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\ttoExecute()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='stretch'\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box p={2} alignItems='center'>\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{auth && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<RRButton\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tto='/side-select'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CONTINUE_AS', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\n\t\t\t\t\t\t\t\twallet.authType,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RRButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{wallets.map(w => (\n\t\t\t\t<Box key={w.name} m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t))}\n\t\t\t{showRegistration && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\n\t\t\t\t>\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\n\t\t\t\t\t\tclassName={classes.btnLogo}\n\t\t\t\t\t/>\n\t\t\t\t\t{t('METAMASK')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.trezorBtn}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.btnLogo,\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* {t('TREZOR')} */}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default AuthSelect\n","export const styles = theme => {\n\treturn {\n\t\tactions: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tlimitedWidthBtn: {\n\t\t\twordBreak: 'break-word',\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tbtnLogo: {\n\t\t\theight: '2rem',\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tbtnLogoNoTxt: {\n\t\t\tmarginRight: 0,\n\t\t},\n\t\tmetamaskBtn: {\n\t\t\tbackgroundColor: theme.palette.grey[800],\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\ttrezorBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Hidden from '@material-ui/core/Hidden'\nimport Anchor from 'components/common/anchor/anchor'\nimport packageJson from './../../../package.json'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport { t } from 'selectors'\nimport { Typography } from '@material-ui/core'\n\nexport default function ConnectHoc(Decorated) {\n\tfunction Connect({ classes, ...rest }) {\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\tcontainer\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t// spacing={2}\n\t\t\t\t>\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\n\t\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HELP')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn withStyles(styles)(Connect)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\taddrListItem: {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\taddrInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tflexGrow: 1,\n\t\t\tpaddingTop: spacing,\n\t\t\twhiteSpace: 'normal',\n\t\t\t'& strong': {\n\t\t\t\tmarginRight: spacing * 2,\n\t\t\t},\n\t\t},\n\t\taddrInfoLabel: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t},\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t\t// marginTop: spacing * 2,\n\t\t\t// position: 'absolute',\n\t\t\t// top: 70,\n\t\t\t// left: 0,\n\t\t\t// right: 0,\n\t\t\t// bottom: 0\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\ttabLogo: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: spacing * 4,\n\t\t\tmaxHeight: '100%',\n\t\t\twidth: 'auto',\n\t\t},\n\t\ttabLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdlBtnImg: {\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: spacing * 9,\n\t\t\twidth: 'auto',\n\t\t\theight: 'auto',\n\t\t},\n\t\tleftBtnIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '-6vh',\n\t\t\tleft: 0,\n\t\t},\n\t\tlogo: {\n\t\t\twidth: '12.8vh',\n\t\t\theight: '5vh',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport function AddrItem({ stats }) {\n\tconst { balanceEth, tokensBalances, address } = stats\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<ListItemText\n\t\t\tprimary={address}\n\t\t\tsecondary={\n\t\t\t\t<span className={classes.addrInfo}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span> ETH </span>\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span> {symbol} </span>\n\t\t\t\t\t\t\t<strong> {balance} </strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t}\n\t\t/>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\nimport METAMASK_IMG from 'resources/metamask.png'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport Box from '@material-ui/core/Box'\nimport {\n\taddToast,\n\tupdateIdentity,\n\tupdateIdentityWallet,\n\texecute,\n} from 'actions'\nimport { t, selectIdentity } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthMetamask(props) {\n\tconst classes = useStyles()\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\n\tconst { address } = wallet\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\n\t// const [stats, setStats] = useState(null)\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\n\tconst isOpera =\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\n\t\tfalse\n\t)\n\n\tuseEffect(() => {\n\t\tconst setEth = async () => {\n\t\t\tconst ethereumProvider = await getEthereumProvider()\n\t\t\tsetIsMetamaskEthereumProvider(\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\n\t\t\t)\n\t\t}\n\n\t\tsetEth()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (installingMetamask) {\n\t\t\t// Refreshes page after user comes back\n\t\t\t// from installing Metamask\n\t\t\twindow.onfocus = () => {\n\t\t\t\twindow.location.reload()\n\t\t\t\tsetInstallingMetamask(false)\n\t\t\t}\n\t\t}\n\t}, [installingMetamask])\n\n\tconst checkMetamask = async () => {\n\t\tsetWaitingAddrsData(true)\n\t\ttry {\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst wallet = {\n\t\t\t\tauthType: authType,\n\t\t\t}\n\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\n\t\t\tconst address = await metamaskSigner.getAddress()\n\t\t\tconst stats = await getAddressBalances({\n\t\t\t\taddress: { address },\n\t\t\t\tauthType,\n\t\t\t\tgetFullBalances: true,\n\t\t\t})\n\n\t\t\texecute(updateIdentity('stats', stats))\n\t\t\tsetWaitingAddrsData(false)\n\n\t\t\texecute(\n\t\t\t\tupdateIdentityWallet({\n\t\t\t\t\taddress,\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\n\t\t\t\t})\n\t\t\t)\n\t\t} catch (err) {\n\t\t\tconsole.error('Error: catch', err)\n\t\t\tsetWaitingMetamaskAction(false)\n\t\t\tsetWaitingAddrsData(false)\n\t\t\texecute(\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingMetamaskAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : waitingAddrsData ? (\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\n\t\t\t\t\t\t\t\talt={'metamask logo'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{address ? (\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\n\t\t\t\t\t\t\t{stats ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={checkMetamask}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthMetamask\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n\nexport default function NewItemHoc(Decorated) {\n\tclass ValidItemHoc extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.state = {\n\t\t\t\tinvalidFields: {},\n\t\t\t}\n\n\t\t\tthis.validate = this.validate.bind(this)\n\t\t}\n\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\n\t\t}\n\n\t\tvalidate = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tif (!isValid) {\n\t\t\t\tlet errors = {}\n\t\t\t\terrors[key] = {\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\n\t\t\t\t\tdirty: dirty,\n\t\t\t\t}\n\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\n\t\t\t} else if (removeAll) {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\n\t\t\t} else {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\n\t\t\t}\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\tvalidate={this.validate}\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tValidItemHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\t// let persist = state.persist\n\t\tlet memory = state.memory\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport IdentityHoc from '../IdentityHoc'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\n\nexport default function AuthHoc(Decorated) {\n\tclass Auth extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.state = {\n\t\t\t\tmethod: '',\n\t\t\t\tsideSelect: false,\n\t\t\t}\n\t\t}\n\n\t\tupdateWallet = ({\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}) => {\n\t\t\tconst wallet = {\n\t\t\t\taddress,\n\t\t\t\tauthType,\n\t\t\t\thdWalletAddrPath,\n\t\t\t\thdWalletAddrIdx,\n\t\t\t\tpath,\n\t\t\t\tchainId,\n\t\t\t\tsignType,\n\t\t\t}\n\n\t\t\tthis.props.handleChange('identityContractOwner', address)\n\t\t\tthis.props.handleChange('wallet', wallet)\n\t\t}\n\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t// updateAcc={this.updateAcc}\n\t\t\t\t\tupdateWallet={this.updateWallet}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tAuth.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state) {\n\t\tlet persist = state.persist\n\t\t// let memory = state.memory\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions, { execute, login } from 'actions'\nimport { push } from 'connected-react-router'\nimport { CREATING_SESSION, UPLOADING_ACCOUNT_DATA } from 'constants/spinners'\n\nexport default function IdentityHoc(Decorated) {\n\tclass IdentityForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tready: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value) => {\n\t\t\tthis.props.actions.updateIdentity(prop, value)\n\t\t}\n\n\t\t// componentDidUpdate = () => {\n\t\t// \tconst { account } = this.props\n\t\t// \tif (account.wallet.authSig) {\n\t\t// \t\texecute(push('/side-select'))\n\t\t// \t}\n\t\t// }\n\n\t\tsave = async () => {\n\t\t\texecute(login())\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tconst { resetIdentity } = this.props.actions\n\t\t\tresetIdentity()\n\t\t\texecute(push('/'))\n\t\t}\n\n\t\trender() {\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tidentity={identity}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\twaiting={spinner}\n\t\t\t\t\twaitingExpected={waitingExpected}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tIdentityForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tidentity: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\tidentity: memory.identity,\n\t\t\tspinner: memory.spinners[CREATING_SESSION],\n\t\t\twaitingUpload: memory.spinners[UPLOADING_ACCOUNT_DATA],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(IdentityForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport AuthHoc from './AuthHoc'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\n\nclass AuthTrezor extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingTrezorAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectTrezor = async () => {\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\t\t}\n\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\n\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tconsole.log('result', results)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: trezorSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingTrezorAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingTrezorAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\t\t\t\twidth={1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\n\t\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io/' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\n\t\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{!this.state.waitingAddrsData &&\n\t\t\t\t\t\t\t\t\t!this.state.waitingTrezorAction && (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthTrezor.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport AuthHoc from './AuthHoc'\nimport Helper from 'helpers/miscHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\n\nclass AuthLedger extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingLedgerAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectLedger = async () => {\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\t\t}\n\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: ledgerSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingLedgerAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingLedgerAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography variant='subtitle1'>{t('LEDGER_INFO')}</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\n\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\n\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\n\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthLedger.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { selectLocationQuery } from 'selectors'\nimport AuthMetamask from './AuthMetamask'\nimport AuthTrezor from './AuthTrezor'\nimport AuthLedger from './AuthLedger'\n\nconst useStyles = makeStyles(theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t},\n\t}\n})\n\nfunction AuthMethod() {\n\tconst classes = useStyles()\n\tconst query = useSelector(selectLocationQuery)\n\tconst method = query['external']\n\n\treturn (\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\n\t\t\t\t{method === 'metamask' && <AuthMetamask />}\n\t\t\t\t{method === 'trezor' && <AuthTrezor />}\n\t\t\t\t{method === 'ledger' && <AuthLedger />}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default AuthMethod\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tupdateIdentity,\n} from 'actions'\n\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\n\t]\n\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\tpassword,\n\t\tpasswordCheck,\n\t\ttosCheck,\n\t\taccessWarningCheck,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner || sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validatePassword(validateId, identity.password, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePassword(validateId, identity.password, false)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='passwordCheck'\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_QUICK_CHECK')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tupdateIdentity,\n} from 'actions'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { CREATING_SESSION } from 'constants/spinners'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst FulInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst { wallet = {} } = identity\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\t// Errors\n\tconst { email, emailCheck, tosCheck, accessWarningCheck } = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t{walletAddress}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FulInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickLogin = props => {\n\tconst { validateId } = props\n\n\tconst identity = useSelector(selectIdentity)\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\n\t]\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { wallet } = validations\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickLogin\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport { push } from 'connected-react-router'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\texecute,\n\tupdateIdentity,\n\townerIdentities as updateOwnerIdentities,\n} from 'actions'\nimport {\n\tselectSpinnerById,\n\tselectIdentity,\n\tt,\n\tselectSearchParams,\n\tselectRegistrationAllowed,\n} from 'selectors'\nimport Dropdown from 'components/common/dropdown'\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\n\townerIdentities.map(id => {\n\t\treturn {\n\t\t\tvalue: id.identity + '-' + id.privLevel,\n\t\t\tlabel: id.ens\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\n\t\t\t\t  })\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\n\t\t\t\t  }),\n\t\t}\n\t})\n\nfunction FullLogin(props) {\n\tconst identity = useSelector(selectIdentity)\n\tconst {\n\t\twalletAddr,\n\t\twallet = {},\n\t\townerIdentities,\n\t\tidentityContractAddress,\n\t} = identity\n\tconst walletAddress = wallet.address || walletAddr\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\n\t)\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\n\tconst searchParams = useSelector(selectSearchParams)\n\tsearchParams.set('step', '1')\n\n\tconst search = searchParams.toString()\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\n\tuseEffect(() => {\n\t\texecute(\n\t\t\tupdateOwnerIdentities({ owner: walletAddress, authType: wallet.authType })\n\t\t)\n\t\t// We need it just once on mount\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{showRegistration && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FullLogin\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport Translate from 'components/translate/Translate'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { selectLocationQuery } from 'selectors'\n\nclass IdentitySteps extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpages: this.mapPages(),\n\t\t}\n\n\t\t// TODO: Check if it is possible to need state update\n\t}\n\n\tmapPages = () => {\n\t\tconst {\n\t\t\tGoBtn,\n\t\t\tcancelFunction,\n\t\t\tt,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages = [],\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tconst pages = stepsPages.map((page, index) => {\n\t\t\treturn {\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelFunction,\n\t\t\t\tcomponent: ValidItemHoc(page.page),\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tcompleteBtn: page.final\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t\t\t: undefined,\n\t\t\t}\n\t\t})\n\n\t\treturn pages\n\t}\n\n\trender() {\n\t\tconst { initialPage } = this.props\n\t\treturn (\n\t\t\t<MaterialStepper initialPage={initialPage} pages={this.state.pages} />\n\t\t)\n\t}\n}\n\nIdentitySteps.propTypes = {\n\tactions: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// const persist = state.persist\n\t// const memory = state.memory\n\treturn {\n\t\tinitialPage: selectLocationQuery(state)['step'] || 0,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(IdentitySteps)))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t},\n\t\tadxVersion: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: spacing,\n\t\t\tbottom: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\tmarginTop: '1.5vh',\n\t\t\twidth: '17.92vh',\n\t\t\theight: '6vh',\n\t\t},\n\t\tformControl: {\n\t\t\tdisplay: 'flex',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\tinfoPaper: {\n\t\t\t...theme.mixins.gutters(),\n\t\t\tpaddingTop: spacing * 2,\n\t\t\tpaddingBottom: spacing * 2,\n\t\t},\n\t\tinput: {\n\t\t\tdisplay: 'none',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport AuthMethod from './ownerAuth/AuthMethod'\nimport QuickInfo from './QuickInfo'\nimport FullInfo from './FullInfo'\nimport QuickLogin from './QuickLogin'\nimport FullLogin from './FullLogin'\nimport IdentitySteps from './IdentitySteps'\nimport { push } from 'connected-react-router'\n\nimport {\n\texecute,\n\tvalidateQuickLogin,\n\tvalidateStandardLogin,\n\tvalidateQuickInfo,\n\tvalidateFullInfo,\n\tvalidateContractOwner,\n\tresetIdentity,\n} from 'actions'\n\nconst cancelFunction = () => {\n\texecute(resetIdentity())\n\texecute(push('/'))\n}\n\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\n\nconst common = {\n\tcancelFunction,\n\tvalidateIdBase: 'identity-',\n}\n\nexport const LoginStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-login'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\n\t\t\t\t\tpage: FullLogin,\n\t\t\t\t\tpageValidation: finalValidationStandard,\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-create'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'FULL_INFO',\n\t\t\t\t\tpage: FullInfo,\n\t\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-create'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_INFO',\n\t\t\t\tpage: QuickInfo,\n\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const LoginQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-login'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_LOGIN',\n\t\t\t\tpage: QuickLogin,\n\t\t\t\tpageValidation: finalValidationQuick,\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const DemoIdentity = props => (\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Logo from 'components/common/icons/AdexIconTxt'\nimport Typography from '@material-ui/core/Typography'\nimport Anchor from 'components/common/anchor/anchor'\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\ttextAlign: 'center',\n\t},\n\tvitalik: {\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\n\t\tbackgroundPosition: 'center',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'contain',\n\t},\n\tcontainer: {\n\t\tmaxWidth: theme.breakpoints.values.md,\n\t\tmargin: 'auto',\n\t},\n\tlogo: {\n\t\theight: '5rem',\n\t\twidth: '100%',\n\t},\n}))\n\nexport default function Home({ t, ...rest }) {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tclassName={classes.root}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='center'\n\t\t\tjustifyContent='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.container}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-evenly'\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tflexGrow={1}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t\tmaxWidth='md'\n\t\t\t\tclassName={classes.container}\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Logo className={classes.logo} />\n\t\t\t\t</Box>\n\n\t\t\t\t{/* <Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{/* <Box p={1}>\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box\n\t\t\t\t\theight='30%'\n\t\t\t\t\tposition='relative'\n\t\t\t\t\tclassName={classes.vitalik}\n\t\t\t\t\talignSelf='stretch'\n\t\t\t\t></Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nconst useStyles = makeStyles(theme => ({\n\tdialog: {\n\t\theight: '100vh',\n\t\twidth: theme.maxWidth || 1200,\n\t\tmaxWidth: '100%',\n\t},\n}))\n\nexport default function DialogHoc(Decorated) {\n\tfunction JustDialog({ ...rest }) {\n\t\tconst classes = useStyles()\n\n\t\treturn (\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Decorated {...rest} />\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\treturn JustDialog\n}\n","import React, { useEffect } from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport {\n\tmetamaskChecks,\n\tmetamaskNetworkCheck,\n\tgetRelayerConfig,\n\texecute,\n\tensureQuickWalletBackup,\n\tupdateRegistrationAllowed,\n\tupdateEasterEggsAllowed,\n\thandleRedirectParams,\n\thandleSignupLink,\n} from 'actions'\nimport { Route, Switch, Redirect } from 'react-router'\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\nimport ConnectHoc from 'components/signin/ConnectHoc'\nimport {\n\tCreateQuickIdentity,\n\tLoginStandardIdentity,\n\tCreateStandardIdentity,\n\tLoginQuickIdentity,\n} from 'components/signin/identity/Identity'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport Home from 'components/signin/Home'\nimport JustDialog from 'components/common/dialog/JustDialog'\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\nimport Translate from 'components/translate/Translate'\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\n\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\nconst ConnectedLoginStandardIdentity = ConnectHoc(\n\tJustDialog(LoginStandardIdentity)\n)\nconst ConnectedCreateStandardIdentity = ConnectHoc(\n\tJustDialog(CreateStandardIdentity)\n)\nconst ConnectedRoot = ConnectHoc(Home)\n\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...other}\n\t\t\trender={props =>\n\t\t\t\tauth === true ? ( //|| true\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst handleLegacyWallet = async wallet => {\n\tconst { type, email, password, authType } = wallet || {}\n\n\tif (!type && email && password && authType === 'grant') {\n\t\tawait migrateLegacyWallet({ email, password })\n\t\tawait removeLegacyKey({ email, password })\n\t}\n\n\tif (email && password && authType) {\n\t\texecute(ensureQuickWalletBackup())\n\t}\n}\n\nconst Root = () => {\n\tconst auth = useSelector(selectAuth)\n\tconst wallet = useSelector(selectWallet)\n\tconst location = useSelector(selectLocation)\n\n\tuseEffect(() => {\n\t\texecute(getRelayerConfig())\n\t\texecute(metamaskChecks())\n\t\texecute(handleRedirectParams(location.search))\n\t\texecute(handleSignupLink(location.search))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tuseEffect(() => {\n\t\thandleLegacyWallet(wallet)\n\t}, [wallet])\n\n\tuseEffect(() => {\n\t\texecute(metamaskNetworkCheck())\n\t\texecute(updateRegistrationAllowed(location.search))\n\t\texecute(updateEasterEggsAllowed(location.search))\n\t}, [location])\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute\n\t\t\t\t\tauth={auth}\n\t\t\t\t\tpath='/dashboard/:side'\n\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t/>\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/quick'\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/login/full'\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/full'\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\n\t\t\t\t<Route>\n\t\t\t\t\t<PageNotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nexport default Translate(Root)\n","import React, { Component } from 'react'\nimport 'react-image-crop/dist/ReactCrop.css'\n// import './App.css'\nimport { Provider } from 'react-redux'\nimport { persistor, store } from 'store'\nimport history from 'store/history'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Toast from 'components/toast/Toast'\nimport Confirm from 'components/confirm/Confirm'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport Root from './Root'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { themeMUI } from './themeMUi'\nimport MomentUtils from '@date-io/moment'\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport CacheBuster from './CacheBuster'\n\n// console.log('initial store', store.getState())\n\nconst onBeforeLift = () => {\n\t// take some action before the gate lifts\n}\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t\t\t\t\t\t<CacheBuster>\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\n\t\t\t\t\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</CacheBuster>\n\t\t\t\t\t\t\t\t</ConnectedRouter>\n\t\t\t\t\t\t\t</PersistGate>\n\t\t\t\t\t\t</Provider>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { unregister } from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nunregister()\n","import {\n\tgetState,\n\texecute,\n\tresetAllNewItems,\n\tresetAllItems,\n\tresetAllBids,\n\tresetIdentity,\n\tresetAccount,\n\tresetAnalytics,\n\tresetChannelsWithBalance,\n} from 'actions'\n\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\n\nimport { push } from 'connected-react-router'\n\nexport const logOut = skipRedirect => {\n\tanalyticsLoop.stop()\n\tanalyticsCampaignsLoop.stop()\n\tcampaignsLoop.stop()\n\tstatsLoop.stop()\n\tif (!skipRedirect) {\n\t\texecute(push('/'))\n\t}\n\texecute(resetIdentity())\n\texecute(resetAllItems())\n\texecute(resetAllNewItems())\n\texecute(resetAllBids())\n\texecute(resetAccount())\n\texecute(resetAnalytics())\n\texecute(resetChannelsWithBalance())\n}\n\nexport const isDemoMode = () => {\n\treturn getState().persist.account._authType === 'demo'\n}\n\nexport const getAccount = () => {\n\treturn getState().persist.account\n}\n","const MAX_ASPECT_TOLERANCE = 5\n\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\n\nconst getVideoSize = src =>\n\tnew Promise(resolve => {\n\t\tconst video = document.createElement('video')\n\t\tvideo.src = src\n\n\t\tvideo.onloadedmetadata = ({ target }) => {\n\t\t\treturn resolve({\n\t\t\t\twidth: target.videoWidth,\n\t\t\t\theight: target.videoHeight,\n\t\t\t})\n\t\t}\n\t})\n\nconst getImageSize = src =>\n\tnew Promise(resolve => {\n\t\tconst image = new Image()\n\t\timage.src = src\n\t\timage.onload = function() {\n\t\t\treturn resolve({\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t})\n\t\t}\n\t})\n\nexport const getMediaSize = ({ mime, src }) =>\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\n\nexport const checkExactishAspect = (\n\twidthTarget,\n\twidth,\n\theightTarget,\n\theight,\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\n) => {\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\n\t\treturn false\n\t}\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\n\tconst aspect = parseFloat(width / height)\n\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\n\n\tconst isValid =\n\t\twidthTarget <= width &&\n\t\theightTarget <= height &&\n\t\taspectDiff <= maxPercentTolerance\n\n\treturn isValid\n}\n","import Identity from './build/Identity.json'\nimport AdExCore from './build/AdExCore.json'\nimport Dai from './build/Dai.json'\nimport IdentityFactory from './build/IdentityFactory.json'\nimport AdExENSManager from './abi/AdExENSManager.json'\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\nimport ERC20 from './abi/ERC20Token.json'\n\nexport const contracts = {\n\tIdentity: {\n\t\tabi: Identity.abi,\n\t},\n\tAdExENSManager: {\n\t\taddress: process.env.ADEX_ENS_ADDR,\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\n\t\tabi: AdExENSManager,\n\t},\n\tReverseRegistrar: {\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\n\t\tabi: ReverseRegistrar,\n\t},\n\tAdExCore: {\n\t\taddress: process.env.ADEX_CORE_ADDR,\n\t\tabi: AdExCore.abi,\n\t},\n\tDAI: {\n\t\taddress: process.env.DAI_TOKEN_ADDR,\n\t\tabi: Dai.abi,\n\t\tdecimals: 18,\n\t},\n\tIdentityFactory: {\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\n\t\tabi: IdentityFactory.abi,\n\t},\n\tERC20: {\n\t\tabi: ERC20,\n\t},\n}\n","import crypto from 'crypto'\nimport {\n\tChannel,\n\tsplitSig,\n\tChannelState,\n\tRoutineOps,\n} from 'adex-protocol-eth/js'\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetIdentityTxnsWithNoncesAndFees,\n\tgetIdentityTxnsTotalFees,\n\tprocessExecuteByFeeTokens,\n\tgetApproveTxns,\n} from 'services/smart-contracts/actions/identity'\nimport { contracts } from '../contractsCfg'\nimport { closeCampaign } from 'services/adex-validator/actions'\nimport { Campaign, AdUnit } from 'adex-models'\nimport { getAllCampaigns } from 'services/adex-market/actions'\nimport {\n\tbigNumberify,\n\trandomBytes,\n\tparseUnits,\n\tInterface,\n\tgetAddress,\n} from 'ethers/utils'\nimport {\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectMainFeeToken,\n\tselectMainToken,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\nimport { selectChannelsWithUserBalances } from 'selectors'\n\nconst { AdExCore } = contracts\nconst Core = new Interface(AdExCore.abi)\nconst IdentityInterface = new Interface(IdentityABI)\n\nconst timeframe = 15 * 1000 // 1 event per 15 seconds\nconst VALID_UNTIL_COEFFICIENT = 0.5\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\nconst OUTSTANDING_STATUSES = [\n\t'Active',\n\t'Ready',\n\t'Exhausted',\n\t'Offline',\n\t'Unhealthy',\n\t'Withdraw',\n]\n\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\n\nfunction toEthereumChannel(channel) {\n\tconst specHash = crypto\n\t\t.createHash('sha256')\n\t\t.update(JSON.stringify(channel.spec))\n\t\t.digest()\n\n\treturn new Channel({\n\t\ttitle: channel.title,\n\t\tcreator: channel.creator,\n\t\ttokenAddr: channel.depositAsset,\n\t\ttokenAmount: channel.depositAmount,\n\t\tvalidUntil: channel.validUntil,\n\t\tvalidators: channel.spec.validators.map(v => v.id),\n\t\tspec: specHash,\n\t})\n}\n\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\n\tconst period = withdrawPeriodStart - activeFrom\n\tconst validUntil =\n\t\twithdrawPeriodStart +\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\n\n\treturn Math.floor(validUntil / 1000)\n}\n\nfunction getReadyCampaign(campaign, identity, mainToken) {\n\tconst newCampaign = new Campaign(campaign)\n\n\tnewCampaign.creator = identity.address\n\tnewCampaign.created = Date.now()\n\tnewCampaign.validUntil = getValidUntil(\n\t\tnewCampaign.activeFrom,\n\t\tnewCampaign.withdrawPeriodStart\n\t)\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\n\tnewCampaign.depositAmount = parseUnits(\n\t\tnewCampaign.depositAmount || '0',\n\t\tmainToken.decimals\n\t).toString()\n\n\tconst validators = newCampaign.validators.map(v => {\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\n\t\tconst fee = deposit\n\t\t\t.div(bigNumberify(v.feeDen || 1))\n\t\t\t.mul(bigNumberify(v.feeNum || 0))\n\t\t\t.toString()\n\n\t\tconst validator = {\n\t\t\tid: v.id,\n\t\t\turl: v.url,\n\t\t\tfee,\n\t\t}\n\n\t\tif (v.feeAddr) {\n\t\t\tvalidator.feeAddr = v.feeAddr\n\t\t}\n\n\t\treturn validator\n\t})\n\n\tnewCampaign.validators = validators\n\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\n\tnewCampaign.minPerImpression = parseUnits(\n\t\tnewCampaign.minPerImpression || '0',\n\t\tmainToken.decimals\n\t)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\n\n\tnewCampaign.depositAsset = mainToken.address\n\tnewCampaign.eventSubmission = {\n\t\tallow: [\n\t\t\t{\n\t\t\t\tuids: [\n\t\t\t\t\tnewCampaign.creator,\n\t\t\t\t\tnewCampaign.validators[0].id,\n\t\t\t\t\tnewCampaign.validators[1].id,\n\t\t\t\t],\n\t\t\t},\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\n\t\t],\n\t}\n\n\tnewCampaign.status = {\n\t\tname: 'Pending',\n\t\thumanFriendlyName: 'Active',\n\t\tlastChecked: Date.now(),\n\t}\n\n\treturn newCampaign\n}\n\nconst getWithdrawnPerUserOutstanding = async ({\n\tAdExCore,\n\tchannel,\n\tbalance,\n\tidentityAddr,\n}) => {\n\treturn bigNumberify(balance).sub(\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\n\t)\n}\n\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\n\tconst { authType } = wallet\n\tconst channels = await getAllCampaigns({ statuses: OUTSTANDING_STATUSES })\n\tconst { AdExCore } = await getEthers(authType)\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\n\n\tconst all = await Promise.all(\n\t\tchannels\n\t\t\t.filter(\n\t\t\t\tchannel =>\n\t\t\t\t\tchannel &&\n\t\t\t\t\tchannel.status &&\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset] &&\n\t\t\t\t\tnew Date((channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\n\t\t\t\t\t\tDate.now()\n\t\t\t)\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedBalances } = channel.status\n\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\n\t\t\t\t\t(balances, e) => {\n\t\t\t\t\t\tconst [address, balance] = e\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (getAddress(address)) {\n\t\t\t\t\t\t\t\tbalances[address] = balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\treturn balances\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\n\n\t\t\t\treturn channel\n\t\t\t})\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\n\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\n\t\t\t\treturn {\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\t// mTree,\n\t\t\t\t\tbTree,\n\t\t\t\t\tchannel,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(({ bTree }) => {\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\n\t\t\t})\n\t\t\t.map(async ({ channel, lastApprovedSigs, bTree }) => {\n\t\t\t\t//  mTree,\n\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\n\n\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\n\t\t\t\t\tAdExCore,\n\t\t\t\t\tchannel,\n\t\t\t\t\tbalance,\n\t\t\t\t\tidentityAddr,\n\t\t\t\t})\n\n\t\t\t\tconst outstandingAvailable = outstanding.sub(\n\t\t\t\t\tbigNumberify(feeTokenWhitelist[channel.depositAsset].min)\n\t\t\t\t)\n\n\t\t\t\treturn {\n\t\t\t\t\tchannel,\n\t\t\t\t\tbalance,\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\toutstanding,\n\t\t\t\t\toutstandingAvailable,\n\t\t\t\t\t// mTree,\n\t\t\t\t\tbTree,\n\t\t\t\t}\n\t\t\t})\n\t)\n\n\tconst eligible = all.filter(x => {\n\t\treturn (\n\t\t\tx.outstanding.gt(\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\n\t\t\t) && x.outstandingAvailable.gt(bigNumberify('0'))\n\t\t)\n\t})\n\n\treturn eligible\n}\n\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\n\tconst { eligible } = withBalance\n\t\t.sort((c1, c2) => {\n\t\t\treturn c2.outstandingAvailable.gt(c1.outstandingAvailable)\n\t\t})\n\t\t.reduce(\n\t\t\t(data, c) => {\n\t\t\t\tconst current = { ...data }\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\n\t\t\t\t\tcurrent.eligible.push(c)\n\t\t\t\t\tcurrent.sum = current.sum.add(c.outstandingAvailable)\n\t\t\t\t}\n\n\t\t\t\treturn current\n\t\t\t},\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\n\t\t)\n\n\treturn eligible\n}\n\nconst getChannelWithdrawData = ({\n\tidentityAddr,\n\tbalance,\n\t// mTree,\n\tbTree,\n\tlastApprovedSigs,\n\tethChannelTuple,\n}) => {\n\tconst proof = bTree.getProof(identityAddr)\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\n\tconst root = bTree.mTree.getRoot()\n\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\n}\n\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\n\t\t(data, tx) => {\n\t\t\tconst updated = { ...data }\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\n\n\t\t\treturn updated\n\t\t},\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\n\t)\n\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\n\t\troutineAuthTuple,\n\t\troutineOpts,\n\t])\n\n\tconst routinesTx = {\n\t\tidentityContract: identityAddr,\n\t\tto: identityAddr,\n\t\tdata,\n\t\twithdrawAmountByToken,\n\t\troutinesSweepTxCount: routineOpts.length,\n\t}\n\n\treturn routinesTx\n}\n\nfunction getIdentityRoutineAuthTuple(identity) {\n\treturn identity &&\n\t\tidentity.relayerData &&\n\t\tidentity.relayerData.deployData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t: null\n}\n\nfunction is41identity(routineAuthTuple) {\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\n\n\treturn is41\n}\n\nfunction hasValidExecuteRoutines(routineAuthTuple) {\n\tconst hasValidRoutines =\n\t\tis41identity(routineAuthTuple) &&\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\n\n\treturn hasValidRoutines\n}\n\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\n\tconst { wallet, identity } = account\n\t// TODO: pass withBalance as prop\n\tconst withBalance = selectChannelsWithUserBalances()\n\n\tconst { AdExCore } = await getEthers(wallet.authType)\n\tconst identityAddr = identity.address\n\tconst channelsToSweep = await getChannelsToSweepFrom({\n\t\tamountToSweep,\n\t\tidentityAddr,\n\t\twithBalance,\n\t})\n\n\tconst txns = channelsToSweep.map((c, i) => {\n\t\tconst {\n\t\t\tbTree,\n\t\t\t//  mTree,\n\t\t\tchannel,\n\t\t\tlastApprovedSigs,\n\t\t\toutstanding,\n\t\t\t// outstandingAvailable,\n\t\t\tbalance,\n\t\t} = c\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\n\n\t\tconst data = getChannelWithdrawData({\n\t\t\tidentityAddr,\n\t\t\tbalance,\n\t\t\t// mTree,\n\t\t\tbTree,\n\t\t\tlastApprovedSigs,\n\t\t\tethChannelTuple,\n\t\t})\n\n\t\treturn {\n\t\t\tidentityContract: identityAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tfeeTokenAddr: channel.depositAsset,\n\t\t\tdata,\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\n\t\t}\n\t})\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\n\tlet encodedTxns = null\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\n\t\tencodedTxns = [\n\t\t\tgetSweepExecuteRoutineTx({\n\t\t\t\ttxns,\n\t\t\t\tidentityAddr,\n\t\t\t\troutineAuthTuple,\n\t\t\t}),\n\t\t]\n\t} else {\n\t\tencodedTxns = txns.map(tx => {\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\n\t\t\ttx.isSweepTx = true\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\treturn encodedTxns\n}\n\nfunction getSwapAmountsByToken({ balances }) {\n\tconst mainToken = selectMainToken()\n\tconst saiToken = selectSaiToken()\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\n\t\t(swaps, balance) => {\n\t\t\t// TODO: currently work only for SAI to DAI swap\n\t\t\tif (\n\t\t\t\tbalance.token.address !== mainToken.address &&\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\n\t\t\t\tbalance.token.address === saiToken.address\n\t\t\t) {\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\n\t\t\t\t\tbalance.balanceMainToken\n\t\t\t\t)\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\n\t\t\t}\n\t\t\treturn swaps\n\t\t},\n\t\t{\n\t\t\tswapsSumInMainToken: bigNumberify(0),\n\t\t\tswapsByToken: {},\n\t\t}\n\t)\n\n\treturn { swapsByToken, swapsSumInMainToken }\n}\n\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\n// amountNeeded must be in MainToken\nexport async function getSweepingTxnsIfNeeded({\n\tamountInMainTokenNeeded,\n\taccount,\n}) {\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\n\tconst {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\n\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\n\n\tconst sweepData = {\n\t\tsweepTxns: [],\n\t\tswapAmountsByToken: {},\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\t// Swaps\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\n\t\t\tbalances,\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\n\t\t})\n\n\t\tsweepData.swapAmountsByToken = swapsByToken\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\n\t\t\taccount,\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\n\t\t})\n\t}\n\n\treturn sweepData\n}\n\nexport async function openChannel({\n\tcampaign,\n\taccount,\n\tgetFeesOnly,\n\tgetMaxFees,\n}) {\n\tconst { wallet, identity, stats } = account\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\n\tconst mainToken = selectMainFeeToken()\n\tconst depositAmount = getMaxFees\n\t\t? availableIdentityBalanceMainToken\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst channel = {\n\t\t...openReady,\n\t\tid: ethChannel.hashHex(AdExCore.address),\n\t}\n\tconst identityAddr = openReady.creator\n\tconst feeTokenAddr = mainToken.address\n\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\n\n\tconst txns = []\n\n\tif (hasIdentityChannelOpen) {\n\t\tconst identityChannelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: identityAddr,\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\n\t\t\t\tAdExCore.address,\n\t\t\t\tethChannel.toSolidityTuple(),\n\t\t\t]),\n\t\t\textraTxFeesCount: 1,\n\t\t}\n\t\ttxns.push(identityChannelOpenTx)\n\t} else {\n\t\tconst approveTxns = await getApproveTxns({\n\t\t\tgetToken,\n\t\t\ttoken: mainToken,\n\t\t\tidentityAddr,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tapproveForAddress: AdExCore.address,\n\t\t\tapproveAmount: depositAmount,\n\t\t})\n\n\t\tconst channelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\n\t\t}\n\t\ttxns.push(...approveTxns, channelOpenTx)\n\t}\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: depositAmount,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\n\tconst bigZero = bigNumberify(0)\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\n\t\t? bigZero\n\t\t: mtBalance.sub(totalBN)\n\tconst maxAvailableFormatted = formatTokenAmount(\n\t\tmaxAvailable.toString(),\n\t\tmainToken.decimals || 18,\n\t\tfalse,\n\t\t2\n\t)\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfeesFormatted: total,\n\t\t\tfees: totalBN,\n\t\t\tmaxAvailable,\n\t\t\tmaxAvailableFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t\textraData: { channel },\n\t})\n\n\treadyCampaign.id = channel.id\n\tconst storeCampaign = { ...readyCampaign }\n\tstoreCampaign.spec = { ...openReady.spec }\n\treturn {\n\t\tresult,\n\t\tstoreCampaign,\n\t}\n}\n\nexport async function closeChannel({ account, campaign }) {\n\tconst result = await closeCampaign({ account, campaign })\n\treturn result\n}\n","import Helper from 'helpers/miscHelpers'\nimport { getState } from 'actions'\nimport { selectAuthSig } from 'selectors'\nimport { isDemoMode } from 'services/store-data/auth'\nimport { t } from 'selectors'\n\nexport const handleRequesterErrorRes = ({ res, text }) => {\n\tlet message = text\n\ttry {\n\t\tconst textObj = JSON.parse(text)\n\t\tmessage =\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\n\t} catch {}\n\n\tthrow new Error(\n\t\tt('SERVICE_ERROR_MSG', {\n\t\t\targs: [res.url, res.status, res.statusText, message],\n\t\t})\n\t)\n}\n\nclass AdexNodeRequester {\n\tconstructor({ baseUrl }) {\n\t\tthis.baseUrl = baseUrl\n\t}\n\n\tgetAuthHeaders = ({ authSig } = {}) => {\n\t\tconst authSignature = selectAuthSig(getState())\n\t\treturn {\n\t\t\t'X-User-Signature': authSig || authSignature,\n\t\t}\n\t}\n\n\tnoCacheHeaders = {\n\t\t'Cache-Control': 'no-cache',\n\t\tExpires: '0',\n\t\tPragma: 'no-cache',\n\t}\n\n\tgetUrl = (base, route, query) => {\n\t\tlet url = base + '/'\n\t\tif (route) {\n\t\t\troute = route.replace(/^\\//, '')\n\t\t\turl += route\n\t\t}\n\n\t\turl += query\n\n\t\treturn url\n\t}\n\n\tfetch = ({\n\t\troute = '',\n\t\tqueryParams = {},\n\t\tmethod = 'GET',\n\t\tbody,\n\t\theaders = {},\n\t\tuserAddr,\n\t\tauthSig = '',\n\t\tauthToken,\n\t\tnoCache = false,\n\t}) => {\n\t\tconst qp = { ...queryParams }\n\t\tif (isDemoMode()) {\n\t\t\tqp.demo = true\n\t\t}\n\n\t\tconst query = Helper.getQuery(qp)\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\n\n\t\tconst hdrs = {\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\n\t\t\t...this.getAuthHeaders({ authSig }),\n\t\t\t...headers,\n\t\t}\n\t\treturn fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: hdrs,\n\t\t\tbody: body,\n\t\t})\n\t}\n}\n\nexport default AdexNodeRequester\n","import requester from './requester'\n\nexport default requester\nexport * from './requester'\n","import Loop from './loop'\nimport {\n\texecute,\n\tupdateAccountAnalytics,\n\tupdateAccountCampaignsAnalytics,\n} from 'actions'\n\nconst LOOP_TIMEOUT = 120 * 1000\n\nconst analyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountAnalytics()),\n\tloopName: '_ANALYTICS',\n})\n\nconst analyticsCampaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountCampaignsAnalytics()),\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\n})\n\nexport { analyticsLoop, analyticsCampaignsLoop }\n","export default class Looper {\n\tconstructor({ timeout, syncAction, loopName = '' }) {\n\t\tif (!timeout) {\n\t\t\tthrow new Error('LOOPER timeout prop is required')\n\t\t}\n\n\t\tif (typeof syncAction !== 'function') {\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\n\t\t}\n\n\t\tthis.loopTimeout = null\n\t\tthis.timeout = timeout\n\t\tthis.syncAction = syncAction\n\t}\n\n\tclearLoopTimeout = () => {\n\t\tif (this.loopTimeout) {\n\t\t\tclearTimeout(this.loopTimeout)\n\t\t\tthis.loopTimeout = null\n\t\t}\n\t}\n\n\tsyncData = async opts => {\n\t\tawait this.syncAction()\n\t}\n\n\tstartLoop = async opts => {\n\t\ttry {\n\t\t\tawait this.syncData(opts)\n\t\t\tthis.checkLoop()\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\n\t\t\tthis.checkLoop()\n\t\t}\n\t}\n\n\tcheckLoop = () => {\n\t\tthis.clearLoopTimeout()\n\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\n\t}\n\n\tstart = () => {\n\t\tthis.clearLoopTimeout()\n\t\tthis.startLoop()\n\t}\n\n\tstop = () => {\n\t\tthis.clearLoopTimeout()\n\t}\n}\n","import { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\n\nconst autocompleteLocationsSingleSelect = () => {\n\treturn constants.AllCountries.map(country => {\n\t\treturn {\n\t\t\tlabel: country.name,\n\t\t\tvalue: country.value,\n\t\t}\n\t})\n}\n\nconst autocompleteGendersSingleSelect = () => {\n\treturn constants.Genders.map(gender => {\n\t\treturn {\n\t\t\tlabel: translate(gender.split('_')[1]),\n\t\t\tvalue: gender,\n\t\t}\n\t})\n}\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nexport const AcLocations = autocompleteLocationsSingleSelect()\nexport const AcGenders = autocompleteGendersSingleSelect()\nexport const AcTags = autocompleteTagsSingleSelect()\n\nexport const SOURCES = {\n\tlocations: { src: AcLocations, collection: 'targeting' },\n\tgenders: { src: AcGenders, collection: 'targeting' },\n\ttags: { src: AcTags, collection: 'targeting' },\n\tcustom: { src: [], collection: 'targeting' },\n}\n","import { formatUnits, commify } from 'ethers/utils'\nimport MomentUtils from '@date-io/moment'\nconst moment = new MomentUtils()\n\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\n\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\n\tif (!timestamp) {\n\t\treturn 'no date'\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatTokenAmount = (\n\tamountString,\n\tdecimals = 18,\n\tpretty,\n\ttoFixed\n) => {\n\tconst formatted = formatUnits(amountString, decimals)\n\tif (pretty) {\n\t\treturn commify(formatted)\n\t} else if (typeof toFixed === 'number') {\n\t\treturn parseFloat(formatted).toFixed(toFixed)\n\t} else {\n\t\treturn formatted\n\t}\n}\n\nexport const formatAddress = (address = '') => {\n\treturn `${address.substring(0, 8)}...${address.substring(36, 42)}`\n}\n\nexport const formatNumberWithCommas = x => {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\nexport const formatNumberWithoutCommas = x => {\n\treturn x\n\t\t.toString()\n\t\t.split(',')\n\t\t.join('')\n}\n\nexport const formatAbbrNum = (number, decPlaces) => {\n\t// 2 decimal places => 100, 3 => 1000, etc\n\tdecPlaces = Math.pow(10, decPlaces)\n\n\t// Enumerate number abbreviations\n\tvar abbrev = ['k', 'm', 'b', 't']\n\n\t// Go through the array backwards, so we do the largest first\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\n\t\t// Convert array index to \"1000\", \"1000000\", etc\n\t\tvar size = Math.pow(10, (i + 1) * 3)\n\n\t\t// If the number is bigger or equal do the abbreviation\n\t\tif (size <= number) {\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\n\t\t\t// This gives us nice rounding to a particular decimal place.\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\n\n\t\t\t// Handle special case where we round up to the next abbreviation\n\t\t\tif (number == 1000 && i < abbrev.length - 1) {\n\t\t\t\tnumber = 1\n\t\t\t\ti++\n\t\t\t}\n\n\t\t\t// Add the letter for the abbreviation\n\t\t\tnumber += abbrev[i]\n\n\t\t\t// We are done... stop\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn number\n}\n\nexport const truncateString = (string, maxLength = 50) => {\n\tif (!string) return ''\n\tif (string.length <= maxLength) return string\n\treturn `${string.substring(0, maxLength).trim()}...`\n}\n","// Nodejs encryption with CTR\nconst crypto = require('crypto')\n\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\nconst CIPHER_ALG = 'aes-256-cbc'\nconst IV_LENGTH = 16\nconst HASH_ALG = 'sha256'\n\nconst getKeyHash = key => {\n\tconst hash = crypto.createHash(HASH_ALG)\n\thash.update(key)\n\tconst hashed = hash.digest()\n\treturn hashed\n}\n\nexport const encrypt = async (text, key) => {\n\tif (!text) return ''\n\tif (!key) {\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\n\t}\n\tconst iv = crypto.randomBytes(IV_LENGTH)\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst encr = cipher.update(text)\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\n\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\n}\n\nexport const decrypt = async (text, key) => {\n\tconst textParts = text.split(':')\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst decr = decipher.update(encryptedText)\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\n\n\treturn decrypted.toString()\n}\n\nexport const encryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\n\tcrypted += cipher.final('hex')\n\treturn crypted\n}\n\nexport const decryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\n\tlet dec = decipher.update(text, 'hex', 'utf8')\n\tdec += decipher.final('utf8')\n\treturn dec\n}\n","import { exchange as ExchangeConstants } from 'adex-constants'\nimport { constants } from 'adex-models'\n\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\nconst { SignatureModes } = constants\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nexport const AVATAR_MAX_WIDTH = 600\nexport const AVATAR_MAX_HEIGHT = 400\n\nexport const SORT_PROPERTIES_BIDS = [\n\t{ value: '_state', label: '' },\n\t{ value: '_target', label: '' },\n\t{ value: '_amount', label: '' },\n\t{ value: '_timeout', label: '' },\n]\n\nexport const FILTER_PROPERTIES_BIDS = {\n\t_state: {\n\t\tlabel: '_state',\n\t\tlabelIsProp: true,\n\t\tvalues: Object.keys(BID_STATES).map(key => {\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\n\t\t}),\n\t},\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\n}\n\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\n}\n\nexport const SORT_PROPERTIES_ITEMS = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n\t{ value: 'type' },\n]\n\nexport const SORT_PROPERTIES_COLLECTION = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n]\n\nexport const FILTER_PROPERTIES_ITEMS = {\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\n}\n\nexport const AUTH_TYPES = {\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\n}\n\nexport const NETWORK_STATUS = {\n\t0: 'pending',\n\t1: 'success',\n\t2: 'failed',\n}\n\nexport const ETHEREUM_NETWORKS = {\n\t1: { name: 'Mainnet', for: 'production' },\n\t5: { name: 'Goerli', for: 'development' },\n\tproduction: { name: 'Mainnet', for: 'production' },\n\tdevelopment: { name: 'Goerli', for: 'development' },\n}\n\nexport const SORT_PROPERTIES_CAMPAIGN = [\n\t{ value: 'created', label: 'Created' },\n\t{ value: 'status.name', label: 'Status' },\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\n\t{ value: 'activeFrom', label: 'Starts' },\n\t{ value: 'depositAmount', label: 'depositAmount' },\n\t{ value: 'maxPerImpression', label: 'cpm' },\n]\n\nexport const FILTER_PROPERTIES_CAMPAIGN = {\n\t'status.name': {\n\t\tlabel: 'ststus',\n\t\tlabelIsProp: true,\n\t\tvalues: [\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\n\t\t\t{ value: 'Offline', label: 'Offline' },\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\n\t\t\t{ value: 'Ready', label: 'Ready' },\n\t\t\t{ value: 'Active', label: 'Active' },\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\n\t\t\t{ value: 'Expired', label: 'Expired' },\n\t\t],\n\t},\n}\n\nexport const UTM_PARAMS = {\n\tutm_source: 'ADEX',\n\tutm_medium: 'CPM',\n\tutm_campaign: 'none',\n\tutm_content: 'none',\n}\n\nexport const VALIDATOR_ANALYTICS_METRICS = [\n\t'eventPayouts', //\n\t'eventCounts',\n]\nexport const VALIDATOR_ANALYTICS_SIDES = [\n\t'advertiser',\n\t'publisher', //\n]\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\n\t'IMPRESSION', //\n\t'CLICK',\n]\n\n// TEMP: disable long periods\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\n\t{ label: 'LABEL_HOUR', value: 'hour' },\n\t{ label: 'LABEL_DAY', value: 'day' },\n\t{ label: 'LABEL_WEEK', value: 'week' },\n\t// { label: 'LABEL_MONTH', value: 'month' },\n\t// { label: 'LABEL_YEAR', value: 'year' },\n]\n\nexport const MOON_GRAVITY_ACCELERATION = 1.625\nexport const MOON_TO_EARTH_WEIGHT = 0.166\n\nexport const WALLET_ACTIONS_MSGS = {\n\t[AUTH_TYPES.METAMASK.name]: [\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\n\t],\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\n\t[AUTH_TYPES.LEDGER.name]: [{ message: 'LEDGER_WAITING_ACTION' }],\n\t[AUTH_TYPES.QUICK.name]: [\n\t\t{ message: 'QUICK_WAITING_MSG' },\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\n\t],\n\t[AUTH_TYPES.GRANT.name]: [\n\t\t{ message: 'GRANT_WAITING_MSG' },\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\n\t],\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\n}\n","import adexTranslations from 'adex-translations'\nimport { renderToString } from 'react-dom/server'\n\nconst translations = adexTranslations()\n\nlet lang = 'en-US'\n\n// TODO: sanitization\nconst interpolate = (tpl, args) => {\n\tif (typeof tpl !== 'string') {\n\t\treturn ''\n\t}\n\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\n\t\tlet arg = args[v]\n\t\tif (typeof arg === 'object' && !!arg && arg.component) {\n\t\t\treturn renderToString(arg.component)\n\t\t} else {\n\t\t\treturn arg || ''\n\t\t}\n\t})\n}\n\nexport const translate = (\n\tval = '',\n\t{ isProp = false, args = [''] } = {},\n\tlanguage = lang\n) => {\n\tlet key = val + ''\n\tif (isProp) {\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\n\t}\n\n\tkey = key.toUpperCase()\n\n\tlet translation = translations[language][key] || val\n\n\tif (args.length && Array.isArray(args)) {\n\t\tconst translatedArgs = args.map(a => {\n\t\t\tif (typeof a === 'string') {\n\t\t\t\treturn translations[language][a] || a\n\t\t\t} else {\n\t\t\t\treturn a\n\t\t\t}\n\t\t})\n\n\t\ttranslation = interpolate(translation, translatedArgs)\n\t}\n\n\treturn translation\n}\n\n// TODO: fix that\nexport const setLang = lng => {\n\tlang = lng\n}\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\n\nlet initialState = {\n\taccount: new Account(),\n\tsignin: {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassConfirm: '',\n\t\tseed: '',\n\t\tpublicKey: '',\n\t\tseedCheck: [],\n\t\tauthenticated: false,\n\t},\n\tnewItem: {\n\t\tCampaign: new Campaign().plainObj(),\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\n\t\tAdSlot: new AdSlot().plainObj(),\n\t},\n\tcurrentItem: {},\n\titems: {\n\t\tCampaign: {},\n\t\tAdUnit: {},\n\t\tAdSlot: {},\n\t},\n\tspinners: {},\n\tui: {},\n\ttoasts: [],\n\tconfirm: {\n\t\tdata: {},\n\t},\n\tnav: {\n\t\tside: '',\n\t},\n\tlanguage: 'en-US',\n\tvalidations: {},\n\tnewTransactions: {\n\t\tdefault: {},\n\t},\n\tweb3Transactions: {},\n\ttags: {},\n\tidentity: {},\n\tethNetwork: {\n\t\tnetworkId: null,\n\t\tgasData: {},\n\t},\n\twallet: {},\n\tconfig: {\n\t\trelayer: {},\n\t\tmarket: {},\n\t\tvalidators: {},\n\t},\n\tanalytics: { timeframe: 'day' },\n\tchannels: {\n\t\twithBalance: [],\n\t},\n\tensAddresses: {},\n}\n\nexport default initialState\n","import { createHashHistory } from 'history'\n\nconst history = createHashHistory()\n\nexport default history\n","import Loop from './loop'\nimport { updateUserCampaigns, execute } from 'actions'\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\n\n// 30 seconds = market statusLoopTick\nconst LOOP_TIMEOUT =\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\n\nlet updates = 0\nconst syncCampaigns = () => {\n\t//TEMP\n\tconst updateStats = updates % 3 === 0\n\tupdates++\n\texecute(updateUserCampaigns(updateStats))\n}\n\nconst campaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => syncCampaigns(),\n\tloopName: '_CAMPAIGNS',\n})\n\nexport { campaignsLoop }\n","import Loop from './loop'\nimport { execute, updateAccountStats } from 'actions'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst accountStatsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountStats()),\n\tloopName: '_ACCOUNTS_STATS',\n})\n\nexport default accountStatsLoop\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","export const CREATING_SESSION = 'CREATING_SESSION'\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\n","import { ethers, utils, Contract } from 'ethers'\nimport { contracts } from './contractsCfg'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { selectRelayerConfig } from 'selectors'\n\nethers.errors.setLogLevel('error')\n\nconst { AdExCore, Identity, IdentityFactory } = contracts\n\nconst getAdexCore = provider => {\n\tconst { coreAddr } = selectRelayerConfig()\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\n}\n\nconst getMainToken = provider => {\n\tconst { mainToken = {} } = selectRelayerConfig()\n\treturn new Contract(\n\t\tmainToken.address,\n\t\tcontracts[mainToken.standard].abi,\n\t\tprovider\n\t)\n}\n\nconst getToken = ({ provider, standard, address }) => {\n\treturn new Contract(address, contracts[standard].abi, provider)\n}\n\nconst getIdentity = ({ provider, address }) => {\n\tconst identityContract = new Contract(address, Identity.abi, provider)\n\n\treturn identityContract\n}\n\nconst getIdentityFactory = provider => {\n\tconst { identityFactoryAddr } = selectRelayerConfig()\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\n}\n\nconst getEthersResult = provider => {\n\tconst adexCore = getAdexCore(provider)\n\tconst mainToken = getMainToken(provider)\n\tconst identityFactory = getIdentityFactory(provider)\n\n\tconst results = {\n\t\tprovider,\n\t\tAdExCore: adexCore,\n\t\tIdentity: Identity,\n\t\tDai: mainToken,\n\t\tMainToken: mainToken,\n\t\tIdentityFactory: identityFactory,\n\t\tgetToken: ({ standard, address }) =>\n\t\t\tgetToken({ provider, standard, address }),\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\n\t}\n\n\treturn results\n}\n\nconst localWeb3 = () => {\n\tconst provider = new ethers.providers.JsonRpcProvider(\n\t\tprocess.env.WEB3_NODE_ADDR\n\t)\n\treturn getEthersResult(provider)\n}\n\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\n\twindow.addEventListener('load', () => {\n\t\tconst ethereum = window.ethereum\n\t\tconst web3 = window.web3\n\t\treturn resolve({\n\t\t\tethereum,\n\t\t\tweb3,\n\t\t})\n\t})\n})\n\nconst injectedWeb3 = async () => {\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\n\tlet provider = null\n\n\tif (ethereum) {\n\t\ttry {\n\t\t\tawait ethereum.enable()\n\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\n\n\t\t\treturn getEthersResult(provider)\n\t\t} catch (err) {\n\t\t\tconsole.error('Err getting injected ethereum.', err)\n\t\t\tthrow new Error(err.message)\n\t\t}\n\t}\n\t// Legacy dapp browsers...\n\t// TODO: we just have to throw or show notification\n\t// At the moment if it throws it will show error toast but not always.\n\telse if (web3) {\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t} else {\n\t\tconsole.error('Non-Ethereum browser detected.')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t}\n}\n\nconst getLocalWeb3 = async () => {\n\t// console.log('getLocalWeb3')\n\treturn localWeb3()\n}\n\nconst getEthers = mode => {\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\n\t *   and this results in Trezor popup block by the browser\n\t */\n\tif (mode === AUTH_TYPES.METAMASK.name) {\n\t\treturn injectedWeb3()\n\t} else {\n\t\treturn getLocalWeb3()\n\t}\n}\n\nconst ethereumSelectedAddress = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum && ethereum.selectedAddress) {\n\t\treturn utils.getAddress(ethereum.selectedAddress)\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst ethereumNetworkId = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum) {\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\n\t\treturn id\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst getEthereumProvider = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (!ethereum) {\n\t\treturn null\n\t}\n\n\tif (ethereum.isMetaMask) {\n\t\treturn AUTH_TYPES.METAMASK.name\n\t}\n\n\treturn null\n}\n\nexport {\n\tgetEthers,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n\tgetEthereumProvider,\n}\n","import { store } from 'store'\n\nexport const execute = store.dispatch\n\nexport const dispatch = store.dispatch\n\nexport const getState = store.getState\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport * as types from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\nimport { translate } from 'services/translations/translations'\n\nexport function updateSpinner(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SPINNER,\n\t\t\tspinner: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateUi(item, value, category) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function addToast({\n\ttype,\n\taction,\n\tlabel = '',\n\ttimeout = false,\n\tunclosable,\n\tanchorOrigin,\n\ttop,\n}) {\n\treturn function(dispatch) {\n\t\tconst id = Helper.getGuid()\n\t\tdispatch({\n\t\t\ttype: types.ADD_TOAST,\n\t\t\ttoast: {\n\t\t\t\ttype,\n\t\t\t\taction,\n\t\t\t\tlabel,\n\t\t\t\ttimeout,\n\t\t\t\tunclosable,\n\t\t\t\tanchorOrigin,\n\t\t\t\ttop,\n\t\t\t\tid,\n\t\t\t},\n\t\t})\n\n\t\treturn id\n\t}\n}\n\nexport function removeToast(toastId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.REMOVE_TOAST,\n\t\t\ttoast: toastId,\n\t\t})\n\t}\n}\n\nexport function confirmAction(\n\tonConfirm,\n\tonCancel,\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\n\tnoActionBtns,\n\tactive\n) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CONFIRM_ACTION,\n\t\t\tconfirm: {\n\t\t\t\tonConfirm: onConfirm,\n\t\t\t\tonCancel: onCancel,\n\t\t\t\tdata: {\n\t\t\t\t\tconfirmLabel: confirmLabel,\n\t\t\t\t\tcancelLabel: cancelLabel,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttext: text,\n\t\t\t\t},\n\t\t\t\tnoActionBtns,\n\t\t\t\tactive,\n\t\t\t},\n\t\t})\n\t}\n}\n\nexport function updateNav(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NAV,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function changeLanguage(lang) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CHANGE_LANGUAGE,\n\t\t\tlang: lang,\n\t\t})\n\t}\n}\n\nexport function updateRegistrationAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\n\t\t\tupdateUi('allowRegistration', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function refreshCacheAndReload({ version, notification = false }) {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\tif (notification) {\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'accept',\n\t\t\t\t\taction: (\n\t\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (caches) {\n\t\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\n\t\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\n\t\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{translate('REFRESH')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t),\n\t\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\n\t\t\t\t\t\targs: [version],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function handleRedirectParams(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('confirm-email')\n\t\tconst identity = searchParams.get('confirm-identity')\n\t\tconst grant = searchParams.get('confirm-grant')\n\n\t\tif (email && identity && !grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL', {\n\t\t\t\t\targs: [email, identity],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} else if (email && identity && grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL_GRANT', {\n\t\t\t\t\targs: [email, identity, grant],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateEasterEggsAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\n\t\t\tprocess.env.EASTER_EGGS_VALUE\n\t\t) {\n\t\t\tupdateUi('allowEasterEggs', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updatePrivilegesWarningAccepted(accepted) {\n\treturn function(dispatch) {\n\t\tupdateUi('privilegesWarningAccepted', accepted)(dispatch)\n\t}\n}\n","export const getErrorMsg = err => {\n\tif (!err) {\n\t\treturn ''\n\t} else if (typeof err === 'object') {\n\t\treturn err.msg || err.message || err.errMsg || err.error\n\t} else if (Array.isArray(err)) {\n\t\treturn err.join(', ')\n\t} else {\n\t\treturn err\n\t}\n}\n","import { parseUnits, bigNumberify } from 'ethers/utils'\n\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\n\tif (numStr === null || numStr === undefined) {\n\t\treturn numStr\n\t}\n\n\treturn parseUnits(numStr, decimals)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tuploadImage,\n\tpostAdUnit,\n\tpostAdSlot,\n\tupdateAdSlot,\n\tupdateAdUnit,\n\tupdateCampaign,\n} from 'services/adex-market/actions'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\n\nimport { translate } from 'services/translations/translations'\nimport { getAdUnits, getAdSlots } from 'services/adex-market/actions'\n\nimport initialState from 'store/initialState'\nimport { getMediaSize } from 'helpers/mediaHelpers'\nimport { getErrorMsg } from 'helpers/errors'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { SOURCES } from 'constants/targeting'\nimport { selectRelayerConfig, selectAuthSig, selectMainToken } from 'selectors'\n\nconst addToast = ({ type, toastStr, args, dispatch }) => {\n\treturn AddToastUi({\n\t\tdispatch: dispatch,\n\t\ttype: type,\n\t\tlabel: translate(toastStr, { args: args }),\n\t\ttimeout: 5000,\n\t})(dispatch)\n}\n\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\n\treturn fetch(tempUrl)\n\t\t.then(resp => {\n\t\t\treturn resp.blob()\n\t\t})\n\t\t.then(imgBlob => {\n\t\t\tURL.revokeObjectURL(tempUrl)\n\t\t\treturn uploadImage({\n\t\t\t\timageBlob: imgBlob,\n\t\t\t\timageName: 'image.jpeg',\n\t\t\t\tauthSig: authSig,\n\t\t\t})\n\t\t})\n}\n\nexport function updateNewItem(item, newValues, itemType, objModel) {\n\titem = Base.updateObject({ item, newValues, objModel })\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\titem,\n\t\t\titemType,\n\t\t})\n\t}\n}\n\nexport function resetNewItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function resetAllNewItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\n\t\t})\n\t}\n}\n\n// register item\nexport function addUnit(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\tauthSig,\n\t\t\t})).ipfs\n\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\n\t\t\tnewItem.mediaMime = newItem.temp.mime\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst resItem = await postAdUnit({\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\n\t\t\t\titemType: 'AdUnit',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function addSlot(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tlet fallbackUnit = null\n\t\t\tif (newItem.temp.useFallback) {\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\t\tauthSig,\n\t\t\t\t})).ipfs\n\n\t\t\t\tconst unit = new AdUnit({\n\t\t\t\t\ttype: newItem.type,\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\n\t\t\t\t\tmediaMime: newItem.temp.mime,\n\t\t\t\t\tcreated: Date.now(),\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t\tdescription: newItem.description,\n\t\t\t\t\ttargeting: [],\n\t\t\t\t\ttags: [],\n\t\t\t\t\tpassback: true,\n\t\t\t\t})\n\n\t\t\t\tconst resUnit = await postAdUnit({\n\t\t\t\t\tunit: unit.marketAdd,\n\t\t\t\t\tauthSig,\n\t\t\t\t})\n\n\t\t\t\tfallbackUnit = resUnit.ipfs\n\t\t\t}\n\n\t\t\tnewItem.fallbackUnit = fallbackUnit\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tif (newItem.minPerImpression) {\n\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: newItem.minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst resItem = await postAdSlot({\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\n\t\t\t\titemType: 'AdSlot',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function getAllItems() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { address } = account.identity\n\t\t\tconst units = getAdUnits({ identity: address })\n\t\t\tconst slots = getAdSlots({ identity: address })\n\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\n\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\n// Accepts the entire new item and replace so be careful!\nexport function updateItem({ item, itemType } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('update' + item.id, true)(dispatch)\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { authSig } = account.wallet\n\t\t\tconst { mainToken } = selectRelayerConfig()\n\n\t\t\tlet updatedItem = null\n\t\t\tlet objModel = null\n\n\t\t\tconst { id } = item\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tif (item.temp.minPerImpression) {\n\t\t\t\t\t\titem.minPerImpression = {\n\t\t\t\t\t\t\t[mainToken.address]: parseUnits(\n\t\t\t\t\t\t\t\titem.temp.minPerImpression,\n\t\t\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.div(bigNumberify(1000))\n\t\t\t\t\t\t\t\t.toString(),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst slot = new AdSlot(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\n\t\t\t\t\tobjModel = AdSlot\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tconst unit = new AdUnit(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\n\t\t\t\t\tobjModel = AdUnit\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tconst campaign = new Campaign(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\n\t\t\t\t\t\t.campaign\n\t\t\t\t\tobjModel = Campaign\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\n\t\t\t}\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\n\t\t\t\titemType,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\n\t\t\t\targs: [itemType, item.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\n\t}\n}\n\nexport function deleteItem({ item, objModel, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = true\n\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\n}\n\nexport function restoreItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\n\t\terrMsg: 'ERR_RESTORING_ITEM',\n\t})\n}\n\nconst findSourceByTag = tag => {\n\treturn Object.keys(SOURCES).find(\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\n\t)\n}\n\nexport function cloneItem({ item, itemType, objModel } = {}) {\n\treturn async function(dispatch) {\n\t\ttry {\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\n\t\t\tnewItem.id = ''\n\t\t\tnewItem.temp = {\n\t\t\t\t...initialState.newItem[itemType].temp,\n\t\t\t\ttargets: item.targeting.map((t, index) => {\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\tcollection: 'targeting',\n\t\t\t\t\t\tsource: key,\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\ttarget: { ...t },\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\n\t\t\t\tnewItem.mediaUrl,\n\t\t\t\tprocess.env.IPFS_GATEWAY\n\t\t\t)\n\n\t\t\tconst response = await fetch(tempUrl)\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\n\t\t\tconst mediaSize = await getMediaSize({\n\t\t\t\tmime: newItem.mediaMime,\n\t\t\t\tsrc: mediaURL,\n\t\t\t})\n\n\t\t\tconst temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t\tmime: item.mediaMime,\n\t\t\t\ttempUrl: mediaURL,\n\t\t\t\twidth: mediaSize.width,\n\t\t\t\theight: mediaSize.height,\n\t\t\t}\n\n\t\t\tnewItem.temp = temp\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\t\titem: newItem,\n\t\t\t\titemType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error(err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function archiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = true\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\n\t})\n}\n\nexport function unarchiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\n\t})\n}\n\nexport function setCurrentItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.SET_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function updateCurrentItem(item, newMeta) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t\tmeta: newMeta,\n\t\t})\n\t}\n}\n\nexport function updateItems({ items, itemType }) {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\n\t\t\titems: items,\n\t\t\titemType: itemType,\n\t\t})\n\t}\n}\n\nexport const resetAllItems = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_ITEMS,\n\t\t})\n\t}\n}\n\nexport const updateTags = ({ tags }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_TAGS,\n\t\t\ttags: tags,\n\t\t})\n\t}\n}\n\nexport const addNewTag = ({ tag }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_NEW_TAG,\n\t\t\ttag: tag,\n\t\t})\n\t}\n}\n","export const addSig = ({\n\taddr = '',\n\tsig,\n\tmode,\n\texpiryTime,\n\tidentity = 'notset',\n}) => {\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\n\t\tthrow new Error('addSig - all args are required')\n\t}\n\n\tlocalStorage.setItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\n\t\tsig + '-' + expiryTime\n\t)\n}\n\nexport const getSig = ({ addr = '', identity = '', mode }) => {\n\tlet sigAndTIme = localStorage.getItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\n\t)\n\n\tif (!sigAndTIme) {\n\t\treturn null\n\t}\n\n\tsigAndTIme = sigAndTIme.split('-')\n\tlet sig = sigAndTIme[0]\n\tlet time = sigAndTIme[1]\n\n\tif (!time || parseInt(time, 10) <= Date.now()) {\n\t\treturn null\n\t} else {\n\t\treturn sig\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { addSig, getSig } from 'services/auth/auth'\nimport { getSession, checkSession } from 'services/adex-market/actions'\nimport {\n\tgetRelayerConfigData,\n\tgetQuickWallet,\n\tbackupWallet,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { updateSpinner } from './uiActions'\nimport { translate } from 'services/translations/translations'\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\nimport {\n\tremoveLegacyKey,\n\tgetWalletHash,\n\tgenerateSalt,\n\tgetRecoveryWalletData,\n} from 'services/wallet/wallet'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport {\n\tgetAccountStats,\n\tgetOutstandingBalance,\n} from 'services/smart-contracts/actions/stats'\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\nimport { addToast, confirmAction } from './uiActions'\nimport {\n\tgetEthers,\n\tgetEthereumProvider,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n} from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\nimport {\n\tselectAccount,\n\tselectIdentity,\n\tselectAuth,\n\tselectWallet,\n\tselectSearchParams,\n\tselectAuthType,\n\tselectAccountIdentity,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { getErrorMsg } from 'helpers/errors'\nimport { push } from 'connected-react-router'\nimport {\n\tCREATING_SESSION,\n\tQUICK_WALLET_BACKUP,\n\tUPDATING_ACCOUNT_IDENTITY,\n} from 'constants/spinners'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\n// MEMORY STORAGE\nexport function updateSignin(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SIGNIN,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetSignin() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SIGNIN,\n\t\t})\n\t}\n}\n\n// PERSISTENT STORAGE\nexport function createAccount(acc) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CREATE_ACCOUNT,\n\t\t\taccount: acc,\n\t\t})\n\t}\n}\n\n// LOGOUT\nexport function resetAccount() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ACCOUNT,\n\t\t})\n\t}\n}\n\nexport function updateAccount({ meta, newValues }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ACCOUNT,\n\t\t\tmeta: meta,\n\t\t\tnewValues: newValues,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithBalance({ withBalance }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE,\n\t\t\twithBalance,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithBalance() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE,\n\t\t})\n\t}\n}\n\nexport function updateGasData({ gasData }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GAS_DATA,\n\t\t\tgasData: gasData,\n\t\t})\n\t}\n}\n\nexport function updateAccountStats() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst { identity, wallet } = account\n\t\t\tconst { address } = identity\n\t\t\tconst withBalance = await getChannelsWithOutstanding({\n\t\t\t\tidentityAddr: address,\n\t\t\t\twallet,\n\t\t\t})\n\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\n\t\t\t\twallet,\n\t\t\t\taddress,\n\t\t\t\twithBalance,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\n\t\t\t})\n\n\t\t\tconst { formatted, raw } = await getAccountStats({\n\t\t\t\taccount,\n\t\t\t\toutstandingBalanceMainToken,\n\t\t\t})\n\t\t\tupdateChannelsWithBalance({ withBalance })(dispatch)\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { stats: { formatted, raw } },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_STATS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountIdentityData() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t\tconst identity = selectAccountIdentity(getState())\n\n\t\ttry {\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identity.address,\n\t\t\t\t})) || {}\n\n\t\t\tconst updatedIdentity = { ...identity }\n\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\n\t\t\tupdatedIdentity.relayerData = relayerData\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { identity: updatedIdentity },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t}\n}\n\nexport function updateValidatorAuthTokens({ newAuth }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { identity } = getState().persist.account\n\n\t\tconst newIdentity = { ...identity }\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\n\n\t\t// We don't want to update account if there is no actual change\n\t\tif (\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\n\t\t\tJSON.stringify(newTokens)\n\t\t) {\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\n\t\t}\n\t}\n}\n\nexport function createSession({\n\twallet,\n\tidentity = {},\n\temail,\n\tdeleteLegacyKey,\n}) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\n\t\ttry {\n\t\t\tconst newWallet = { ...wallet }\n\t\t\tconst sessionSignature =\n\t\t\t\tgetSig({\n\t\t\t\t\taddr: newWallet.address,\n\t\t\t\t\tmode: newWallet.authType,\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t}) || null\n\n\t\t\tconst hasSession =\n\t\t\t\t!!sessionSignature &&\n\t\t\t\t(await checkSession({\n\t\t\t\t\tauthSig: sessionSignature,\n\t\t\t\t\tskipErrToast: true,\n\t\t\t\t}))\n\n\t\t\tif (hasSession) {\n\t\t\t\tnewWallet.authSig = sessionSignature\n\t\t\t} else {\n\t\t\t\tconst {\n\t\t\t\t\tsignature,\n\t\t\t\t\tmode,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\n\n\t\t\t\tconst { status, expiryTime } = await getSession({\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tsignature,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t\tsignerAddress: newWallet.address,\n\t\t\t\t})\n\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\taddSig({\n\t\t\t\t\t\taddr: wallet.address,\n\t\t\t\t\t\tsig: signature,\n\t\t\t\t\t\tmode: wallet.authType,\n\t\t\t\t\t\texpiryTime: expiryTime,\n\t\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\t})\n\t\t\t\t\tnewWallet.authSig = signature\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst account = {\n\t\t\t\temail: email,\n\t\t\t\twallet: newWallet,\n\t\t\t\tidentity: { ...identity },\n\t\t\t}\n\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taccount.identity.validatorAuthTokens = {\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\n\t\t\t}\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { ...account },\n\t\t\t})(dispatch)\n\n\t\t\tif (deleteLegacyKey) {\n\t\t\t\tawait removeLegacyKey({\n\t\t\t\t\temail: wallet.email,\n\t\t\t\t\tpassword: wallet.password,\n\t\t\t\t})\n\t\t\t}\n\t\t\tdispatch(push('/side-select'))\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\n\t}\n}\n\nexport function getRelayerConfig() {\n\treturn async function(dispatch) {\n\t\tconst cfg = await getRelayerConfigData()\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\n\t\t\tcfg,\n\t\t})\n\t}\n}\n\nasync function getNetworkId() {\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\n\tconst networkId = (await provider.getNetwork()).chainId\n\n\treturn networkId\n}\n\nasync function getNetworkData({ id }) {\n\tconst networkId = id || (await getNetworkId())\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\n\n\treturn network\n}\n\nexport function onMetamaskNetworkChange({ id } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst searchParams = selectSearchParams(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst isMetamaskMatters =\n\t\t\t(authType === AUTH_TYPES.METAMASK.name ||\n\t\t\t\t(!authType && searchParams.get('external') === 'metamask')) &&\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name\n\n\t\tif (\n\t\t\tisMetamaskMatters &&\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\n\t\t) {\n\t\t\tconfirmAction(\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\ttitle: translate('WARNING'),\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)(dispatch)\n\t\t} else {\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\n\t\t}\n\t}\n}\n\nexport const onMetamaskAccountChange = accountAddress => {\n\treturn async function(_, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst account = selectAccount(state)\n\t\tconst { authType, address } = account.wallet\n\n\t\tif (\n\t\t\thasAuth &&\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\n\t\t\t(!accountAddress || address !== accountAddress)\n\t\t) {\n\t\t\tlogOut()\n\t\t} else if (!hasAuth) {\n\t\t\tconst identity = selectIdentity(state)\n\t\t\tconst { identityContractOwner } = identity\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\n\t\t}\n\t}\n}\n\nexport function metamaskAccountCheck() {\n\treturn async function(_, getState) {\n\t\tconst address = await ethereumSelectedAddress()\n\t\tonMetamaskAccountChange(address)(_, getState)\n\t}\n}\n\nexport function metamaskNetworkCheck() {\n\treturn async function(_, getState) {\n\t\tconst id = await ethereumNetworkId()\n\t\tonMetamaskNetworkChange({ id })(_, getState)\n\t}\n}\n\nexport function metamaskChecks() {\n\treturn async function(_, getState) {\n\t\tmetamaskNetworkCheck()(_, getState)\n\t\tmetamaskAccountCheck()(_, getState)\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\n\t\t\t\tconsole.log('acc changed', accounts[0])\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\n\t\t\t})\n\t\t\twindow.ethereum.on('networkChanged', network => {\n\t\t\t\tconsole.log('networkChanged', network)\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\n\t\t\t})\n\t\t}\n\t}\n}\n\nasync function hasBackup({ email, password }) {\n\tconst salt = generateSalt(email)\n\tconst hash = await getWalletHash({ salt, password })\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\n\n\treturn !!encryptedWallet && encryptedWallet.wallet\n}\n\nasync function makeBackup({ email, password, authType }) {\n\tconst walletSalt = generateSalt(email)\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\n\tconst encryptedWallet = await getRecoveryWalletData({\n\t\temail,\n\t\tpassword,\n\t\tauthType,\n\t})\n\n\tawait backupWallet({\n\t\temail,\n\t\tsalt: walletSalt,\n\t\thash: walletHash,\n\t\tencryptedWallet,\n\t})\n}\n\nexport function ensureQuickWalletBackup() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\n\t\ttry {\n\t\t\tconst { email, password, authType } = selectWallet(getState())\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\n\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\n\t\t\t\tawait makeBackup({ email, password, authType })\n\t\t\t}\n\t\t} catch (err) {}\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { updateSpinner } from './uiActions'\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\nimport { translate } from 'services/translations/translations'\nimport { addToast } from './uiActions'\nimport { bigNumberify, parseUnits } from 'ethers/utils'\nimport { validations, Joi, schemas, constants } from 'adex-models'\nimport { validEmail, validPassword } from 'helpers/validators'\nimport { t, selectAuthType } from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nconst { IdentityPrivilegeLevel } = constants\n\nconst { campaignPut } = schemas\nconst { isNumberString } = validations\n\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\n\treturn async function(dispatch, getState) {\n\t\tconst authType = selectAuthType(getState())\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await validEthAddress({\n\t\t\t\taddr,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tnonERC20,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\n\t\t\tif (validate) {\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(name, false)(dispatch)\n\t}\n}\n\nexport function updateValidationErrors(item, newErrors) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\terrors: newErrors,\n\t\t})\n\t}\n}\n\nexport function resetValidationErrors(item, key) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\tkey,\n\t\t})\n\t}\n}\n\nexport function validate(\n\tvalidateId,\n\tkey,\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n) {\n\treturn async function(dispatch, getState) {\n\t\tif (!isValid) {\n\t\t\tlet errors = {}\n\t\t\terrors[key] = {\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\n\t\t\t\tdirty: dirty,\n\t\t\t}\n\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\n\t\t} else if (removeAll) {\n\t\t\tresetValidationErrors(validateId)(dispatch)\n\t\t} else {\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\n\t\t}\n\t}\n}\n\nexport const handleAfterValidation = async ({\n\tisValid,\n\tonValid,\n\tonInvalid,\n}) => {\n\tif (isValid && typeof onValid === 'function') {\n\t\tawait onValid()\n\t}\n\tif (!isValid && typeof onInvalid === 'function') {\n\t\tawait onInvalid()\n\t}\n}\n\nexport function validateEmail(validateId, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validEmail(email)\n\t\tvalidate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\n\t\tvalidate(validateId, 'emailCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePassword(validateId, password, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validPassword(password)\n\t\tvalidate(validateId, 'password', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePasswordCheck(\n\tvalidateId,\n\tpasswordCheck,\n\tpassword,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\n\t\tvalidate(validateId, 'passwordCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateTOS(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'tosCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateENS({ ens, dirty, validate, name }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { authType } = getState().persist.account.wallet\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await freeAdExENS({\n\t\t\t\tens,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\t\t\tupdateSpinner(name, false)(dispatch)\n\t\t\tif (validate)\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t} catch (error) {\n\t\t\tconsole.error('ERR_VALIDATING_ENS_ADDRESS', error)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ENS_ADDRESS', { args: [error] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\nexport function validateWallet(validateId, wallet, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!wallet && !!wallet.address\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateIdentityContractOwner(\n\tvalidateId,\n\tidentityContractOwner,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!identityContractOwner\n\t\tvalidate(validateId, 'identityContractOwner', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateAccessWarning(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'accessWarningCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignUnits(validateId, adUnits, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!adUnits && adUnits.length\n\t\tvalidate(validateId, 'adUnits', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\t!!validators &&\n\t\t\tvalidators.length === 2 &&\n\t\t\t!!validators[0] &&\n\t\t\t!!validators[1] &&\n\t\t\t!!validators[0].id &&\n\t\t\t!!validators[0].url &&\n\t\t\tvalidators[0].feeNum !== undefined &&\n\t\t\tvalidators[0].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined &&\n\t\t\t!!validators[1].id &&\n\t\t\t!!validators[1].url &&\n\t\t\tvalidators[1].feeNum !== undefined &&\n\t\t\tvalidators[1].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined\n\n\t\tvalidate(validateId, 'validators', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst validateAmounts = ({\n\tmaxDeposit = bigNumberify(0),\n\tdepositAmount,\n\tminPerImpression,\n}) => {\n\tlet error = null\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\n\t\terror = {\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\n\t\t\tprop: 'depositAmount',\n\t\t}\n\t}\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\n\t}\n\tif (depositAmount.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\n\t}\n\tif (minPerImpression.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateNumberString({ validateId, prop, value, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = isNumberString(value)\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_INVALID_AMOUNT' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignAmount({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\terrMsg,\n\tdepositAmount,\n\tminPerImpression,\n\tmaxDeposit,\n\tdecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValidNumber = isNumberString(value)\n\t\tlet isValid = isValidNumber && parseUnits(value, decimals)\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\n\n\t\tif (isValid) {\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\n\t\t\tconst min = prop === 'minPerImpression' ? value : minPerImpression\n\n\t\t\tconst isValidDeposit = isNumberString(deposit)\n\t\t\tconst isValidMin = isNumberString(min)\n\n\t\t\tif (isValidDeposit && isValidMin) {\n\t\t\t\tconst result = validateAmounts({\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\n\t\t\t\t})\n\n\t\t\t\tisValid = !result.error\n\t\t\t\tmsg = result.error ? result.error.message : ''\n\t\t\t}\n\t\t}\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\n\nconst getCampaignDatesValidation = ({\n\tcreated = Date.now(),\n\twithdrawPeriodStart,\n\tactiveFrom,\n}) => {\n\tlet error = null\n\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\n\t} else if (\n\t\twithdrawPeriodStart &&\n\t\tactiveFrom &&\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\n\t) {\n\t\terror = {\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\n\t\t\targs: ['1', 'HOUR'],\n\t\t\tprop: 'withdrawPeriodStart',\n\t\t}\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\n\t} else if (activeFrom && activeFrom < created) {\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\n\t} else if (activeFrom && !withdrawPeriodStart) {\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateCampaignDates({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\twithdrawPeriodStart,\n\tactiveFrom,\n\tcreated,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst withdraw =\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\n\n\t\tconst result = getCampaignDatesValidation({\n\t\t\twithdrawPeriodStart: withdraw,\n\t\t\tactiveFrom: from,\n\t\t\tcreated,\n\t\t})\n\n\t\tvalidate(validateId, 'activeFrom', {\n\t\t\tisValid: !!from,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\n\t\t\terr: {\n\t\t\t\tmsg: result.error ? result.error.message : '',\n\t\t\t\targs: result.error && (result.error.args || []),\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tconst isValid = !result.error\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignTitle({ validateId, title, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(title, campaignPut.title)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, 'title', {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEthAddress({\n\tvalidateId,\n\tprop,\n\taddr,\n\tnonZeroAddr = true,\n\tnonERC20 = true,\n\tdirty,\n\tauthType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { msg } = await validEthAddress({\n\t\t\taddr,\n\t\t\tnonZeroAddr,\n\t\t\tnonERC20,\n\t\t\tauthType,\n\t\t})\n\n\t\tconst isValid = !msg\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePrivilegesAddress({\n\tvalidateId,\n\tsetAddr = '',\n\twalletAddr = '',\n\tprivLevel,\n\tauthType,\n\twarningAccepted,\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isCurrentAddress =\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\n\t\tlet isValid = warningAccepted || !isCurrentAddress\n\n\t\tlet msg = ''\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\n\t\tif (isCurrentAddress && privLevel === 0) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\n\t\t} else if (isCurrentAddress && privLevel === 1) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\n\t\t\tisValid = true\n\t\t} else if (!isCurrentAddress) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tawait validate(validateId, 'setAddrWarning', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn { isValid, msg }\n\t}\n}\n\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\n\t\tawait validate(validateId, 'privLevel', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(value, schema)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { getQuickWallet } from 'services/adex-relayer/actions'\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\nimport {\n\tgetOwnerIdentities,\n\tregAccount,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { translate } from 'services/translations/translations'\nimport { createSession } from './accountActions'\n\nimport {\n\tgetIdentityDeployData,\n\twithdrawFromIdentity,\n\taddIdentityENS,\n\tsetIdentityPrivilege,\n\twithdrawOtherTokensFromIdentity,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddDataToWallet,\n\tgetWalletHash,\n\tgetLocalWallet,\n\tmigrateLegacyWallet,\n\twalletInfo,\n\tcreateLocalWallet,\n\tgenerateSalt,\n} from 'services/wallet/wallet'\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\nimport { selectAccount, selectIdentity, selectAuthType } from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\nimport {\n\tvalidate,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n\tvalidateWallet,\n\tvalidateIdentityContractOwner,\n\tvalidateAccessWarning,\n} from './validationActions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tGETTING_OWNER_IDENTITIES,\n\tUPLOADING_ACCOUNT_DATA,\n} from 'constants/spinners'\nimport { getEthers } from 'services/smart-contracts/ethers'\n\n// MEMORY STORAGE\nexport function updateIdentity(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetIdentity() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\t}\n}\n\nexport function initIdentity({ email, authType }) {\n\treturn function(dispatch) {\n\t\tdispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\n\t\tdispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'email',\n\t\t\tvalue: email,\n\t\t})\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'authType',\n\t\t\tvalue: authType,\n\t\t})\n\t}\n}\n\n// MEMORY STORAGE\nexport function updateWallet(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WALLET,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetWallet() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WALLET,\n\t\t})\n\t}\n}\n\nexport function onUploadLocalWallet(event) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = ev => {\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\n\t\t\t\tif (\n\t\t\t\t\t!obj ||\n\t\t\t\t\t!obj.key ||\n\t\t\t\t\t!obj.wallet ||\n\t\t\t\t\t!obj.wallet.data ||\n\t\t\t\t\t!obj.wallet.identity ||\n\t\t\t\t\t!obj.wallet.privileges\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\n\t\t\t\t} else {\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\n\t\t\t\t\taddToast({\n\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\n\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t})(dispatch)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\t\targs: [err.message],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\t}\n\n\t\tconst onError = err => {\n\t\t\tconsole.error('Error uploading account data.', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\n\t\t}\n\n\t\treader.onerror = ev => {\n\t\t\treader.abort()\n\t\t\tonError(translate())\n\t\t}\n\n\t\treader.onabort = ev => {\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\n\t\t}\n\n\t\treader.readAsText(file)\n\t}\n}\n\nexport function setIdentityENS({ username }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await addIdentityENS({\n\t\t\t\tusername,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('ENS_SETUP_NOTIFICATION', { args: [username] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SETTING_ENS', {\n\t\t\t\t\targs: [err],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdraw({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdrawAny({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n\ttokenDecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t\ttokenDecimals,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function ownerIdentities({ owner, authType }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\n\t\t\tconst data = Object.entries(identityData).map(\n\t\t\t\tasync ([identityAddr, privLevel]) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tidentity: identityAddr,\n\t\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\t\tens,\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\n\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\n\t}\n}\n\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await setIdentityPrivilege({\n\t\t\t\taccount,\n\t\t\t\tsetAddr,\n\t\t\t\tprivLevel,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function login() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tidentityData,\n\t\t\t\tidentityTxData,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t\tregisterAccount,\n\t\t\t} = selectIdentity(getState())\n\n\t\t\tif (registerAccount) {\n\t\t\t\tawait regAccount({\n\t\t\t\t\towner: wallet.address,\n\t\t\t\t\temail: email.toLowerCase(),\n\t\t\t\t\t...identityTxData,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identityData.address,\n\t\t\t\t})) || {}\n\n\t\t\tconst identity = {\n\t\t\t\t...identityData,\n\t\t\t\taddress: relayerData.deployData._id,\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\n\t\t\t\trelayerData,\n\t\t\t}\n\n\t\t\tawait createSession({\n\t\t\t\tidentity,\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateQuickLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { password, email, authType } = identity\n\n\t\tlet wallet = {}\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\n\t\tlet actualAuthType = authType\n\n\t\ttry {\n\t\t\tif (email && password) {\n\t\t\t\tlet walletData = await getLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t})\n\n\t\t\t\tif (!walletData) {\n\t\t\t\t\tconst salt = generateSalt(email)\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\n\t\t\t\t\tconst { encryptedWallet } =\n\t\t\t\t\t\t(await getQuickWallet({\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t})) || {}\n\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbackupWallet.wallet &&\n\t\t\t\t\t\tbackupWallet.key &&\n\t\t\t\t\t\tbackupWallet.wallet.data &&\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\n\t\t\t\t\t\tbackupWallet.wallet.privileges\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\n\t\t\t\t\t\tactualAuthType = info.authType\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\n\n\t\t\t\t\t\twalletData = await getLocalWallet({\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword,\n\t\t\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\n\t\t\t\t\twallet = { ...walletData.data }\n\t\t\t\t\twallet.email = email\n\t\t\t\t\twallet.password = password\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\n\t\t\t\t\twallet.identity = {\n\t\t\t\t\t\taddress: walletData.identity,\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!authType) {\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\n\t\t\terror = err\n\t\t}\n\n\t\tconst isValid = !!wallet.address\n\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait login()(dispatch, getState)\n\t\t}\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateStandardLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst identity = selectIdentity(getState())\n\t\t\tconst { wallet, identityContractAddress } = identity\n\t\t\tconst { address } = wallet\n\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\n\t\t\tconst identityData = {\n\t\t\t\taddress: identityDataSplit[0],\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\n\t\t\t}\n\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\tconst isValid = !!identityData.address\n\n\t\t\tvalidate(validateId, 'identityContractAddress', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\n\t\t\t\tdirty: dirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\n\treturn async function(dispatch, getState) {\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, wallet } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\n\t\t\tif (!identityAddr && wallet && !!email) {\n\t\t\t\tconst walletAddr = wallet.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: txData.identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_FULL_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickDeploy({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, password } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && email && password\n\n\t\t\tif (!identityAddr && email && password) {\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\n\n\t\t\t\tconst walletData = await createLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t})\n\n\t\t\t\twalletData.email = email\n\t\t\t\twalletData.password = password\n\n\t\t\t\tconst walletAddr = walletData.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\n\t\t\t\tconst identityAddr = txData.identityAddr\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'identity',\n\t\t\t\t\tdataValue: identityAddr,\n\t\t\t\t})\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'privileges',\n\t\t\t\t\tdataValue: identityData.privileges,\n\t\t\t\t})\n\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = !!identityAddr\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\tpassword,\n\t\t\tpasswordCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t}\n\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\twallet,\n\t\t\tidentityContractOwner,\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\t// validate wallet again in case of step skip\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\n\t\t\t// validate step fields\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateFullDeploy({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tskipSpinnerUpdate: true,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateContractOwner({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityContractOwner, wallet } = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityWallet({\n\taddress,\n\tauthType,\n\thdWalletAddrPath,\n\thdWalletAddrIdx,\n\tpath,\n\tchainId,\n\tsignType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst wallet = {\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}\n\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\n\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t}\n}\n\nexport function handleSignupLink(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('signup-email')\n\n\t\tif (email) {\n\t\t\tupdateIdentity('email', email)(dispatch)\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\n\t\t}\n\t}\n}\n\nexport function resolveEnsAddress({ address }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst authType = selectAuthType(state)\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst name = await provider.lookupAddress(address)\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\n\t\t\t\titem: address,\n\t\t\t\tvalue: name,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_RESOLVING_ENS_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewBid({ bidId, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewBid({ bidId }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\n\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_BIDS,\n\t\t\tadvBids: advBids,\n\t\t\tpubBids: pubBids,\n\t\t\tbidsById: bidsById,\n\t\t})\n\t}\n}\nexport const resetAllBids = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_BIDS,\n\t\t})\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tupdateSpinner,\n\taddToast,\n\thandleAfterValidation,\n\tvalidate,\n\tupdateAccountIdentityData,\n\tvalidateEthAddress,\n\tvalidatePrivilegesAddress,\n\tvalidatePrivLevel,\n} from 'actions'\nimport {\n\tselectNewTransactionById,\n\tselectWalletAddress,\n\tselectAuthType,\n} from 'selectors'\n\n// MEMORY STORAGE\nexport function updateNewTransaction({ tx, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewTransaction({ tx }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\nexport function addWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\tif (!tx || !tx.hash || !addr) return\n\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\n\t\t\tvalue: tx,\n\t\t\ttx: tx.hash,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\n// TODO: make update multiple\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function resetWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function validatePrivilegesChange({\n\tstepsId,\n\tvalidateId,\n\ttxId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateAccountIdentityData()(dispatch, getState)\n\n\t\tconst state = getState()\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: setAddr,\n\t\t\t\tprop: 'setAddr',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidatePrivLevel({\n\t\t\t\tvalidateId,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst validation = await validatePrivilegesAddress({\n\t\t\t\tvalidateId,\n\t\t\t\tsetAddr,\n\t\t\t\twalletAddr,\n\t\t\t\twarningAccepted,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t\tauthType,\n\t\t\t})(dispatch)\n\n\t\t\tisValid = validation.isValid\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'warningMsg',\n\t\t\t\tvalue: validation.msg,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import moment from 'moment'\n\nexport const intervalsMs = () => {\n\tconst nowUTC = moment.utc()\n\n\t// TODO: Make it dynamic\n\tconst lastSixHoursPeriod = Math.floor(\n\t\t(nowUTC.clone().valueOf() - nowUTC.clone().startOf('day')) /\n\t\t\t(6 * 60 * 60 * 1000)\n\t)\n\treturn {\n\t\tlastHour: {\n\t\t\tstart: moment()\n\t\t\t\t.startOf('minute')\n\t\t\t\t.subtract(1, 'hours'),\n\t\t\tend: moment().startOf('minute'),\n\t\t},\n\t\tlast24Hours: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'day')\n\t\t\t\t.startOf('hour')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.startOf('hour')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlast7Days: {\n\t\t\tstart: nowUTC\n\t\t\t\t.clone()\n\t\t\t\t.startOf('day')\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\n\t\t\t\t.subtract(7, 'days')\n\t\t\t\t.valueOf(),\n\t\t\tend: nowUTC\n\t\t\t\t.clone()\n\t\t\t\t.startOf('day')\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\n\t\t\t\t.add(2, 'hours')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tthisWeek: {\n\t\t\tstart: moment()\n\t\t\t\t.utc()\n\t\t\t\t.startOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.utc()\n\t\t\t\t.endOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlastWeek: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'week')\n\t\t\t\t.startOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.subtract(1, 'week')\n\t\t\t\t.endOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tthisMonth: {\n\t\t\tstart: moment()\n\t\t\t\t.startOf('month')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.endOf('month')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlastMonth: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'month')\n\t\t\t\t.startOf('month')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.subtract(1, 'month')\n\t\t\t\t.endOf('month')\n\t\t\t\t.valueOf(),\n\t\t},\n\t}\n}\n\nexport const fillEmptyTime = (prevAggr, timeframe) => {\n\tconst intervals = intervalsMs()\n\tconst time = {\n\t\tinterval: intervals.lastHour,\n\t\tstep: { ammount: 1, unit: 'minute' },\n\t}\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\ttime.interval = intervals.lastHour\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\ttime.interval = intervals.last24Hours\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\ttime.interval = intervals.last7Days\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn prevAggr\n\t}\n\tconst newAggr = []\n\tfor (\n\t\tvar m = moment(time.interval.start);\n\t\tm.diff(time.interval.end, time.step.unit) <= 0;\n\t\tm.add(time.step.ammount, time.step.unit)\n\t) {\n\t\tnewAggr.push({ value: '0', time: m.unix() * 1000 })\n\t}\n\n\tconst data = [...prevAggr, ...newAggr].reduce((data, a) => {\n\t\tconst newData = { ...data }\n\t\tconst value = (+data[a.time] || +a.value || 0).toString()\n\t\tnewData[a.time] = value\n\n\t\treturn newData\n\t}, {})\n\n\tconst result = Object.entries(data)\n\t\t.map(([key, value]) => ({\n\t\t\tvalue,\n\t\t\ttime: +key,\n\t\t}))\n\t\t.sort((a, b) => a.time - b.time)\n\n\treturn result\n}\n\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\n","import { bigNumberify } from 'ethers/utils'\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\nimport { formatTokenAmount } from 'helpers/formatters'\n\nimport { getAllCampaigns } from './actions'\n\nexport async function getUnitsStatsByType() {\n\tconst { decimals } = selectMainToken()\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst allChannels = await getAllCampaigns()\n\n\tconst channels = allChannels.filter(\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\n\t)\n\n\tconst unitsByType = channels.reduce((units, channel) => {\n\t\tconst byType = { ...units }\n\t\tchannel.spec.adUnits.forEach(unit => {\n\t\t\tbyType[unit.type] = byType[unit.type] || []\n\t\t\tbyType[unit.type].push(channel)\n\t\t})\n\n\t\treturn byType\n\t}, {})\n\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\n\t\tasync (prevStats, key) => {\n\t\t\tconst stats = await prevStats\n\t\t\tconst channelsByType = unitsByType[key]\n\n\t\t\tlet totalPerImpression = bigNumberify('0')\n\t\t\tlet totalVolume = bigNumberify('0')\n\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\n\t\t\t\tconst channel = channelsByType[index]\n\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\n\t\t\t\t})\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\n\t\t\t\t})\n\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\n\t\t\t}\n\n\t\t\tconst avgPerImpression = totalPerImpression.div(\n\t\t\t\tbigNumberify(channelsByType.length)\n\t\t\t)\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\n\n\t\t\tconst statsByType = { ...stats }\n\t\t\tstatsByType[key] = {}\n\t\t\tstatsByType[key].raw = {\n\t\t\t\ttotalVolume,\n\t\t\t\tavgPerImpression,\n\t\t\t\tavgCPM,\n\t\t\t}\n\n\t\t\tstatsByType[key].formatted = {\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\n\t\t\t\tavgPerImpression: formatTokenAmount(\n\t\t\t\t\tavgPerImpression,\n\t\t\t\t\tdecimals,\n\t\t\t\t\tfalse,\n\t\t\t\t\t2\n\t\t\t\t),\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\n\t\t\t}\n\n\t\t\treturn statsByType\n\t\t},\n\t\tPromise.resolve({})\n\t)\n\n\treturn unitsByTypeStats\n}\n","import * as types from 'constants/actionTypes'\nimport throttle from 'lodash.throttle'\nimport { addToast, removeToast, updateSpinner } from 'actions'\nimport { translate } from 'services/translations/translations'\nimport {\n\tgetValidatorAuthToken,\n\tidentityAnalytics,\n\tidentityCampaignsAnalytics,\n} from 'services/adex-validator/actions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport {\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n} from 'constants/misc'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport { getErrorMsg } from 'helpers/errors'\nimport { fillEmptyTime } from 'helpers/timeHelpers'\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\nconst analyticsParams = (timeframe, side) => {\n\tconst callsParams = []\n\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\n\t\t\tcallsParams.push({\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tside,\n\t\t\t\teventType,\n\t\t\t})\n\t\t)\n\t)\n\n\treturn callsParams\n}\n\nconst analyticsCampaignsParams = () => {\n\tconst callsParams = []\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tcallsParams.push({ eventType })\n\t)\n\treturn callsParams\n}\n\n// getIdentityStatistics tooks to long some times\n// if the account is change we do not update the account\n// TODO: we can use something for abortable tasks\nfunction checkAccountChanged(getState, account) {\n\tconst accountCheck = getState().persist.account\n\tconst accountChanged =\n\t\t!accountCheck.wallet.address ||\n\t\taccountCheck.wallet.address !== account.wallet.address ||\n\t\t!accountCheck.identity.address ||\n\t\t!accountCheck.identity.address !== !account.identity.address\n\n\treturn accountChanged\n}\n\nexport function updateAccountAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account, analytics } = getState().persist\n\t\tconst { side } = getState().memory.nav\n\t\tconst { timeframe } = analytics\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsParams(timeframe, side)\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tidentityAnalytics({\n\t\t\t\t\t...opts,\n\t\t\t\t\tleaderAuth,\n\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tres.aggr = fillEmptyTime(res.aggr, timeframe)\n\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\n\n\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\n\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\tvalue: { ...res },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountCampaignsAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsCampaignsParams()\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tidentityCampaignsAnalytics({\n\t\t\t\t\t...opts,\n\t\t\t\t\tleaderAuth,\n\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\n\n\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_CAMPAIGN_ANALYTICS,\n\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\tvalue: { ...res },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAnalyticsTimeframe(timeframe) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\n\t\t\t\tvalue: timeframe,\n\t\t\t})\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function resetAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ANALYTICS,\n\t\t})\n\t}\n}\n\nexport const updateSlotsDemand = throttle(\n\tasync function(dispatch) {\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\n\t\ttry {\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\n\t\t\t\tvalue: demandAnalytics,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\n\t},\n\t5 * 60 * 1000,\n\t{ leading: true, trailing: false }\n)\n\nexport const updateSlotsDemandThrottled = () => dispatch => {\n\treturn updateSlotsDemand(dispatch)\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\texecute,\n\taddToast,\n\tupdateSpinner,\n\tupdateItems,\n\tupdateValidatorAuthTokens,\n\tupdateNewItem,\n\thandleAfterValidation,\n\tvalidateCampaignValidators,\n\tvalidateCampaignAmount,\n\tvalidateCampaignTitle,\n\tvalidateCampaignDates,\n\tvalidateCampaignUnits,\n} from 'actions'\nimport { push } from 'connected-react-router'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\nimport { getCampaigns } from 'services/adex-market/actions'\nimport {\n\topenChannel,\n\tcloseChannel,\n} from 'services/smart-contracts/actions/core'\nimport {\n\tlastApprovedState,\n\tcampaignAnalytics,\n} from 'services/adex-validator/actions'\nimport { closeCampaignMarket } from 'services/adex-market/actions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectAccount,\n\tselectRelayerConfig,\n\tselectCampaigns,\n\tselectNewCampaign,\n\tselectAuthSig,\n\tselectAuth,\n\tselectMainToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { Campaign } from 'adex-models'\nimport { OPENING_CAMPAIGN, GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\n\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\n\nexport function openCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tawait getAllValidatorsAuthForIdentity({\n\t\t\t\twithBalance: [{ channel: campaign }],\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tconst { storeCampaign } = await openChannel({\n\t\t\t\tcampaign,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: storeCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\n\t\t\t\t\targs: [storeCampaign.id],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\n\t\treturn true\n\t}\n}\n\nexport const updateCampaignState = ({ campaign }) => {\n\treturn async dispatch => {\n\t\ttry {\n\t\t\tconst state = await lastApprovedState({ campaign })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.state = state\n\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\n// TEMP for testing in production until 4.1 is deployed\nfunction getHumanFriendlyName(campaign) {\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\n\t\treturn 'Closed'\n\tswitch ((campaign.status || {}).name) {\n\t\tcase 'Active':\n\t\tcase 'Ready':\n\t\tcase 'Pending':\n\t\tcase 'Initializing':\n\t\tcase 'Waiting':\n\t\tcase 'Offline':\n\t\tcase 'Disconnected':\n\t\tcase 'Unhealthy':\n\t\tcase 'Invalid':\n\t\t\treturn 'Active'\n\t\tcase 'Expired':\n\t\tcase 'Exhausted':\n\t\tcase 'Withdraw':\n\t\t\treturn 'Completed'\n\t\tdefault:\n\t\t\treturn 'N/A'\n\t}\n}\n\nexport function updateUserCampaigns(doUpdate) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst { wallet, identity } = selectAccount(state)\n\t\tconst { authSig } = wallet\n\t\tconst { address } = identity\n\t\tconst campaignsFromStore = selectCampaigns(state)\n\t\tconst updateStats = doUpdate || !Object.keys(campaignsFromStore).length\n\t\tconst campaignPromises = []\n\t\tif (hasAuth && authSig && address) {\n\t\t\ttry {\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\n\t\t\t\tlet campaignsMapped = campaigns\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => {\n\t\t\t\t\t\tif (updateStats) {\n\t\t\t\t\t\t\tconst impressions = campaignAnalytics({\n\t\t\t\t\t\t\t\tcampaign: c,\n\t\t\t\t\t\t\t\teventType: 'IMPRESSION',\n\t\t\t\t\t\t\t\tmetric: 'eventCounts',\n\t\t\t\t\t\t\t\ttimeframe: 'year',\n\t\t\t\t\t\t\t\tlimit: 200,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconst clicks = campaignAnalytics({\n\t\t\t\t\t\t\t\tcampaign: c,\n\t\t\t\t\t\t\t\teventType: 'CLICK',\n\t\t\t\t\t\t\t\tmetric: 'eventCounts',\n\t\t\t\t\t\t\t\ttimeframe: 'year',\n\t\t\t\t\t\t\t\tlimit: 200,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tcampaignPromises.push(impressions)\n\t\t\t\t\t\t\tcampaignPromises.push(clicks)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\n\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!updateStats) {\n\t\t\t\t\t\t\t//when not updating the stats keep the previous\n\t\t\t\t\t\t\tconst { impressions, clicks } = campaignsFromStore[c.id] || {\n\t\t\t\t\t\t\t\timpressions: 0,\n\t\t\t\t\t\t\t\tclicks: 0,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcampaign.impressions = impressions\n\t\t\t\t\t\t\tcampaign.clicks = clicks\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn campaign\n\t\t\t\t\t})\n\t\t\t\tif (updateStats) {\n\t\t\t\t\tcampaignsMapped = await Promise.all(campaignPromises).then(function(\n\t\t\t\t\t\tresults\n\t\t\t\t\t) {\n\t\t\t\t\t\t// replace promises with their resolved values\n\t\t\t\t\t\tlet index = 0\n\t\t\t\t\t\tfor (let i = 0; i < results.length; i += 2) {\n\t\t\t\t\t\t\tcampaignsMapped[index].impressions = results[i].aggr.reduce(\n\t\t\t\t\t\t\t\t(a, b) => a + (Number(b.value) || 0),\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tcampaignsMapped[index].clicks = results[i + 1].aggr.reduce(\n\t\t\t\t\t\t\t\t(a, b) => a + (Number(b.value) || 0),\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t++index\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn campaignsMapped\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: campaignsMapped,\n\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t})(dispatch)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\n\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\n\t\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function closeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CLOSING_CAMPAIGN',\n\t\t\t\targs: [campaign.id],\n\t\t\t})\n\t\t\tupdateUserCampaigns(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\n\t}\n}\n\nexport function updateNewCampaign(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tconst currentCampaign = selectNewCampaign(getState())\n\t\tawait updateNewItem(\n\t\t\tcurrentCampaign,\n\t\t\tnewValues || { [prop]: value },\n\t\t\t'Campaign',\n\t\t\tCampaign\n\t\t)(dispatch)\n\t}\n}\n\nconst tempValidators = [\n\t{\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\n\t},\n\t{\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\n\t},\n]\n\nexport function validateNewCampaignAdUnits({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst campaign = selectNewCampaign(state)\n\t\tconst { adUnits } = campaign\n\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewCampaignFinance({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst {\n\t\t\t\tvalidators,\n\t\t\t\tdepositAmount,\n\t\t\t\tminPerImpression,\n\t\t\t\ttitle,\n\t\t\t\tactiveFrom,\n\t\t\t\twithdrawPeriodStart,\n\t\t\t\tcreated,\n\t\t\t\ttemp = {},\n\t\t\t} = campaign\n\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\n\n\t\t\tconst newCampaign = { ...campaign }\n\n\t\t\tif (!validators || !validators.length) {\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\n\t\t\t\tnewCampaign.validators = tempValidators\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\tvalue: depositAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tminPerImpression,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\tvalue: minPerImpression,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tminPerImpression,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'activeFrom',\n\t\t\t\t\tvalue: activeFrom,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'withdrawPeriodStart',\n\t\t\t\t\tvalue: withdrawPeriodStart,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (typeof maxChannelFees !== 'string') {\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\n\t\t\t\tconst account = selectAccount(state)\n\n\t\t\t\tconst {\n\t\t\t\t\tfeesFormatted,\n\t\t\t\t\tmaxAvailable,\n\t\t\t\t\tmaxAvailableFormatted,\n\t\t\t\t} = await openChannel({\n\t\t\t\t\tcampaign: { ...newCampaign },\n\t\t\t\t\taccount,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\tgetMaxFees: true,\n\t\t\t\t})\n\n\t\t\t\tconst newTemp = { ...temp }\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\n\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function getCampaignActualFees() {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst mainToken = selectMainToken(state)\n\t\t\tconst { temp = {}, depositAmount } = campaign\n\n\t\t\tconst account = selectAccount(state)\n\n\t\t\tconst { feesFormatted, fees } = await openChannel({\n\t\t\t\tcampaign: { ...campaign },\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\n\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\n\t\t\t\ttotalSpend.toString(),\n\t\t\t\tmainToken.decimals || 18,\n\t\t\t\tfalse,\n\t\t\t\ttrue\n\t\t\t)\n\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.feesFormatted = feesFormatted\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\n\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t}\n}\n","import {\n\tupdateSpinner,\n\tupdateNewItem,\n\thandleAfterValidation,\n\tvalidateSchemaProp,\n\tvalidateNumberString,\n} from 'actions'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { selectMainToken, selectNewAdSlot } from 'selectors'\nimport { AdSlot, schemas } from 'adex-models'\n\nconst { adSlotPost } = schemas\n\nexport function updateNewSlot(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst currentSlot = selectNewAdSlot(state)\n\t\tawait updateNewItem(\n\t\t\tcurrentSlot,\n\t\t\tnewValues || { [prop]: value },\n\t\t\t'AdSlot',\n\t\t\tAdSlot\n\t\t)(dispatch)\n\t}\n}\n\nexport function validateNewSlotBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst mainToken = selectMainToken()\n\t\tconst state = getState()\n\t\tconst slot = selectNewAdSlot(state)\n\t\tconst { title, description, type, minPerImpression = null } = slot\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: title,\n\t\t\t\tprop: 'title',\n\t\t\t\tschema: adSlotPost.title,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: description,\n\t\t\t\tprop: 'description',\n\t\t\t\tschema: adSlotPost.description,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: type,\n\t\t\t\tprop: 'type',\n\t\t\t\tschema: adSlotPost.type,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: 'minPerImpression',\n\t\t\t\tvalue: minPerImpression || '0',\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tisValid = await validateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\tprop: 'minPerImpression',\n\t\t\t\tschema: adSlotPost.minPerImpression,\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import * as common from './common'\nimport * as itemActions from './itemActions'\nimport * as uiActions from './uiActions'\nimport * as accountActions from './accountActions'\nimport * as identityActions from './identityActions'\nimport * as bidActions from './bidActions'\nimport * as transactionActions from './transactionActions'\nimport * as validationActions from './validationActions'\nimport * as analyticsActions from './analyticsActions'\nimport * as campaignActions from './campaignActions'\nimport * as newItemsActions from './newItemsActions'\n\n// keep it for class components that use connect and actions prop\n// without needing to change the code\nexport default {\n\t...common,\n\t...itemActions,\n\t...uiActions,\n\t...accountActions,\n\t...identityActions,\n\t...bidActions,\n\t...transactionActions,\n\t...validationActions,\n\t...analyticsActions,\n\t...campaignActions,\n\t...newItemsActions,\n}\n\n// used for minimal deps in hook components\n// import { execute, addTost } from 'actions'\n// execute(addTost())\nexport * from './common'\nexport * from './itemActions'\nexport * from './uiActions'\nexport * from './accountActions'\nexport * from './identityActions'\nexport * from './bidActions'\nexport * from './transactionActions'\nexport * from './validationActions'\nexport * from './analyticsActions'\nexport * from './campaignActions'\nexport * from './newItemsActions'\n","import { ethers, utils } from 'ethers'\nimport pbkdf2 from 'pbkdf2'\nimport {\n\tencrypt,\n\tdecrypt,\n\tencryptLegacy,\n\tdecryptLegacy,\n} from 'services/crypto/crypto'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n\tgetKeys,\n\tremoveFromLocalStorage,\n} from 'helpers/localStorageHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\n\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\n\treturn new Promise((resolve, reject) => {\n\t\tpbkdf2.pbkdf2(\n\t\t\tpass,\n\t\t\tsalt,\n\t\t\titerations,\n\t\t\tkeylen,\n\t\t\tdigiset,\n\t\t\t(err, derivedKey) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err)\n\t\t\t\t}\n\n\t\t\t\tconst res = derivedKey.toString(encoding)\n\n\t\t\t\treturn resolve(res)\n\t\t\t}\n\t\t)\n\t})\n}\n\nasync function getCipherKey({ email, password }) {\n\tconst pass = generateSalt(password)\n\tconst salt = generateSalt(email)\n\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn key\n}\n\nfunction isLegacyCrypto(authType) {\n\treturn !authType || authType === 'legacy' || authType === 'grant'\n}\n\n// Returns 12 random words\nexport function getRandomMnemonic() {\n\tconst randomEntropy = utils.randomBytes(16)\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\n\n\treturn mnemonic\n}\n\nexport async function generateWallet(mnemonic) {\n\tconst seed = mnemonic || getRandomMnemonic()\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\n\n\treturn {\n\t\tmnemonic,\n\t\tprivateKey: wallet.privateKey,\n\t\taddress: wallet.address,\n\t\tpath: wallet.path,\n\t}\n}\n\nasync function encrKey({ email, password, authType }) {\n\tif (!authType) {\n\t\treturn await encryptLegacy(email, password)\n\t} else if (typeof authType === 'string') {\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\n\t} else {\n\t\tthrow new Error('INVALID_TYPE')\n\t}\n}\n\nexport async function encrData({ email = '', password, data, authType }) {\n\tconst isLegacy = isLegacyCrypto(authType)\n\tconst jsonData = JSON.stringify(data)\n\tif (isLegacy) {\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\n\t\treturn legacyEncrypted\n\t} else {\n\t\tconst encrypted = await encrypt(\n\t\t\tjsonData,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t\treturn encrypted\n\t}\n}\n\nexport async function decrData({ email = '', password, data, authType }) {\n\tlet decryptedStr = ''\n\tconst isLegacy = isLegacyCrypto(authType)\n\n\tif (isLegacy) {\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\n\t} else {\n\t\tdecryptedStr = await decrypt(\n\t\t\tdata,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n\n\ttry {\n\t\tconst decr = JSON.parse(decryptedStr)\n\t\treturn decr\n\t} catch (err) {\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\n\t}\n}\n\nexport async function createLocalWallet({\n\temail = '',\n\tpassword = '',\n\tmnemonic,\n\tauthType = '',\n}) {\n\tconst walletData = await generateWallet(mnemonic)\n\tconst key = await encrKey({ email, password, authType })\n\tconst data = await encrData({ data: walletData, email, password, authType })\n\tawait saveToLocalStorage({ data }, key)\n\n\twalletData.authType = authType\n\treturn walletData\n}\n\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\n\tconst wallet = await getLocalWallet({\n\t\temail,\n\t\tpassword,\n\t\tgetEncrypted: true,\n\t})\n\n\tif (wallet && wallet.data) {\n\t\tconst newKey = await encrKey({\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\n\t\t})\n\t\tsaveToLocalStorage(wallet, newKey)\n\t}\n}\n\nexport async function removeLegacyKey({ email = '', password = '' }) {\n\tconst key = await encrKey({ email, password })\n\tremoveFromLocalStorage(key)\n}\n\nexport async function addDataToWallet({\n\temail = '',\n\tpassword = '',\n\tdataKey = '',\n\tdataValue = '',\n\tauthType,\n}) {\n\tif (dataKey === 'data') {\n\t\tthrow new Error('INVALID_DATA_KEY')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (!wallet) {\n\t\tthrow new Error('WALLET_NOT_FOUND')\n\t}\n\n\tconst data = await encrData({ data: dataValue, email, password, authType })\n\twallet[dataKey] = data\n\tsaveToLocalStorage(wallet, key)\n}\n\nexport async function getRecoveryWalletData({ email, password, authType }) {\n\tif (!email || !password) {\n\t\treturn null\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\treturn {\n\t\tkey,\n\t\twallet,\n\t}\n}\n\nexport async function getLocalWallet({\n\temail,\n\tpassword,\n\tauthType,\n\tgetEncrypted,\n}) {\n\tif (!email || !password) {\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (wallet) {\n\t\tif (getEncrypted) {\n\t\t\treturn wallet\n\t\t}\n\n\t\tconst walletKeys = Object.keys(wallet)\n\n\t\tconst decrypts = walletKeys.map(async key => {\n\t\t\t// props[key] = await decrData({\n\t\t\t// \tdata: wallet[key],\n\t\t\t// \temail,\n\t\t\t// \tpassword,\n\t\t\t// \tauthType,\n\t\t\t// })\n\n\t\t\tconst decryptedData = await decrData({\n\t\t\t\tdata: wallet[key],\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\treturn decryptedData\n\t\t})\n\n\t\tconst decryptedData = await Promise.all(decrypts)\n\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\n\t\t\tprops[key] = decryptedData[index]\n\t\t\treturn props\n\t\t}, {})\n\n\t\treturn decryptedWallet\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction isWallet(item) {\n\treturn item && item.data && item.identity && item.privileges\n}\n\nexport function walletInfo(key, index, wallet) {\n\tconst split = key.split('-')\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\n\tconst authType = split[1] || 'legacy'\n\tconst name = mail || `Grant account # ${index + 1}`\n\n\tconst info = {\n\t\tkey,\n\t\twallet,\n\t\tname,\n\t\tauthType,\n\t}\n\n\treturn info\n}\n\nexport function getAllWallets() {\n\tconst walletKeys = getKeys()\n\t\t.map(key => {\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\titem: loadFromLocalStorage(key),\n\t\t\t}\n\t\t})\n\t\t.filter(({ item }) => isWallet(item))\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\n\n\treturn walletKeys\n}\n\nexport async function getWalletHash({ salt, password }) {\n\tconst passwordId = utils.id(password)\n\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn hash\n}\n\nexport function generateSalt(dataStr) {\n\tif (typeof dataStr !== 'string') {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\n\t} else if (!dataStr.length) {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\n\t}\n\n\tconst id = utils.id(dataStr)\n\tconst salt = utils.keccak256(id)\n\treturn salt\n}\n","import { Signer } from 'ethers'\nimport { ethers, utils } from 'ethers'\nimport LedgerEth from '@ledgerhq/hw-app-eth'\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\nimport HDKey from 'hdkey'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\n\nexport default class LedgerSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t\tthis._transport = TransportU2F\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\taddrsFromPubKey = async (\n\t\tpublicKey = '',\n\t\tchainCode = '',\n\t\t{ from = 0, to = 19 } = {}\n\t) => {\n\t\tconst hdKey = new HDKey()\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\n\n\t\tconst addrs = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\n\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\n\n\t\t\taddrs.push({\n\t\t\t\taddress: addr,\n\t\t\t\tpath: `${this.path}/${index}`,\n\t\t\t})\n\t\t}\n\n\t\treturn addrs\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\n\t\t\tthis.path,\n\t\t\tfalse,\n\t\t\ttrue\n\t\t)\n\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\n\t\t\tfrom,\n\t\t\tto,\n\t\t})\n\n\t\treturn addresses\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\n\n\t\tconst signature = {\n\t\t\tr: '0x' + r,\n\t\t\ts: '0x' + s,\n\t\t\tv,\n\t\t}\n\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\treturn txSigned\n\t}\n\n\t/*\n\t * TODO: may not work.\n\t * The ledger device or u2f seems to broken\n\t * Can list the addresses\n\t * Can sign messages\n\t * Signs transactions\n\t * Actually it show the tx but does not return value after\n\t * confirmation on the device\n\t */\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (!opts.hex) {\n\t\t\tif (typeof message === 'string') {\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\n\t\t\t}\n\n\t\t\tmessage = ethers.utils.hexlify(message)\n\t\t}\n\n\t\tmessage = message.substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\n\t\tsignature.r = '0x' + signature.r\n\t\tsignature.s = '0x' + signature.s\n\n\t\tconst { address } = await eth.getAddress(this.path)\n\n\t\tconst res = {\n\t\t\tsignature: ethers.utils.joinSignature(signature),\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LedgerSigner(provider, { path: this.path })\n\t}\n}\n","import base64 from 'base64url'\nimport ethers from 'ethers'\n\n// see https://github.com/ethereum/EIPs/issues/1341\n// Implements EIP 1341: Ethereum Web Tokens\n\nconst HEADER = base64.encode(\n\tJSON.stringify({\n\t\ttype: 'JWT',\n\t\talg: 'ETH',\n\t})\n)\n\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\n// .address is always checksummed\nfunction sign(signer, payload) {\n\tconst payloadEncoded = base64.encode(\n\t\tJSON.stringify({\n\t\t\t...payload,\n\t\t\taddress: signer.address,\n\t\t})\n\t)\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\n\t})\n}\n\nfunction verify(token) {\n\tconst parts = token.split('.')\n\tif (parts.length !== 3) {\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\n\t}\n\tconst msg = parts.slice(0, 2).join('.')\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\n\ttry {\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\n\t\treturn Promise.resolve({ from, payload })\n\t} catch (e) {\n\t\treturn Promise.reject(e)\n\t}\n}\n\nexport default { sign, verify }\n","module.exports = Module;","import moment from 'moment'\n\n// TODO: separate exports - not class\nclass Helper {\n\tgetGuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t}\n\n\tgetRndHash32(prefix) {\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t\tif (prefix) {\n\t\t\th = prefix + h.substring(prefix.length)\n\t\t}\n\t\treturn h\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tgetRandomBool() {\n\t\treturn !!this.getRandomInt(0, 1)\n\t}\n\n\tgetRandomPropFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\n\t}\n\n\tgetRandomKeyFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn keys[(keys.length * Math.random()) << 0]\n\t}\n\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\n\t\t// TODO: fix +/- 1 day bug\n\t\tlet initial = moment.isMoment(initialMoment)\n\t\t\t? initialMoment.valueOf()\n\t\t\t: undefined\n\n\t\treturn moment(initial)\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\n\t}\n\n\thexToRgbaColorString = (hex, alpha) => {\n\t\tif (!hex || typeof hex !== 'string') {\n\t\t\tthrow new Error('Invalid color')\n\t\t} else if (hex.length === 4) {\n\t\t\thex = hex + hex.substr(1, 4)\n\t\t}\n\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\n\t\t\talpha = 1\n\t\t}\n\n\t\tconst hexToDec = h => {\n\t\t\treturn parseInt('0x' + h, 16)\n\t\t}\n\n\t\tlet r = hexToDec(hex.substr(1, 2))\n\t\tlet g = hexToDec(hex.substr(3, 2))\n\t\tlet b = hexToDec(hex.substr(5, 2))\n\n\t\treturn `rgba(${r},${g},${b},${alpha})`\n\t}\n\n\tgetQuery(queryParams) {\n\t\tif (\n\t\t\t!queryParams ||\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\n\t\t) {\n\t\t\treturn ''\n\t\t}\n\t\treturn (\n\t\t\t'?' +\n\t\t\t\tObject.keys(queryParams)\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\n\t\t\t\t\t.map(key => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\n\t\t\t\t\t\t)\n\t\t\t\t\t}, '')\n\t\t\t\t\t.join('&') || ''\n\t\t)\n\t}\n\n\tgetErrMsg = err => {\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\n\n\t\tif (stack.length > 1) {\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\n\t\t} else {\n\t\t\treturn (err.error || err || '').toString()\n\t\t}\n\t}\n\n\tisInt = int => {\n\t\treturn typeof int === 'number' && int % 1 === 0\n\t}\n\n\tshuffleArray = array => {\n\t\treturn [...array].sort(() => Math.random() - 0.5)\n\t}\n}\n\nexport default new Helper()\n","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { logOut } from 'services/store-data/auth'\nimport moment from 'moment'\n\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\n\nconst processResponse = (res, dontThrow, skipRedirect) => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\tif (res.status === 401 || res.status === 403) {\n\t\t\tlogOut(skipRedirect)\n\t\t}\n\t\tif (!dontThrow) {\n\t\t\thandleRequesterErrorRes({ res, text })\n\t\t}\n\t})\n}\n\nexport const getSession = ({\n\tidentity,\n\tmode,\n\tsignature,\n\tauthToken,\n\thash,\n\ttypedData,\n\tsignerAddress,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'auth/',\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tidentity,\n\t\t\t\tmode,\n\t\t\t\tsignature,\n\t\t\t\tauthToken,\n\t\t\t\thash,\n\t\t\t\ttypedData,\n\t\t\t\tsignerAddress,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const checkSession = ({ authSig, skipErrToast }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'session',\n\t\t\tmethod: 'GET',\n\t\t\tauthSig,\n\t\t\tskipErrToast,\n\t\t})\n\t\t.then(res => processResponse(res, true, true))\n}\n\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\n\tconst formData = new FormData()\n\tformData.append('media', imageBlob, imageName)\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'media',\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nconst convertItemToJSON = item => {\n\tconst itemToConvert = { ...item }\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\n\t}\n\n\treturn JSON.stringify(itemToConvert)\n}\n\nexport const getAdUnits = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdUnit = ({ unit, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdUnit = ({ unit, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdSlots = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdSlot = ({ slot, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdSlot = ({ slot, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `slots/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getCampaigns = ({ authSig, creator }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns/by-owner',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t\tqueryParams: {\n\t\t\t\tbyCreator: creator, //\n\t\t\t\tt: Date.now(),\n\t\t\t},\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${campaign.id}/close`,\n\t\t\tmethod: 'PUT',\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAllCampaigns = ({ all, statuses } = {}) => {\n\tconst queryParams = {\n\t\t...(all && { all: true }),\n\t\t...(statuses && { status: statuses.join(',') }),\n\t}\n\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateCampaign = ({ campaign, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(campaign),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute } from 'actions'\r\nglobal.appVersion = packageJson.version\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA, versionB) => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst latestVersion = meta.version\r\n\t\t\t\tconst currentVersion = global.appVersion\r\n\t\t\t\tconst shouldForceRefresh = semverGreaterThan(\r\n\t\t\t\t\tlatestVersion,\r\n\t\t\t\t\tcurrentVersion\r\n\t\t\t\t)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nconst updateCfg = (current, type, cfg) => {\n\tconst newCfg = { ...current }\n\tnewCfg[type] = { ...cfg }\n\treturn newCfg\n}\n\nexport default function uiReducer(state = initialState.config, action) {\n\tswitch (action.type) {\n\t\tcase UPDATE_RELAYER_CFG:\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import account from './accountReducer'\nimport signin from './signinReducer'\nimport identity from './identityReducer'\nimport wallet from './walletReducer'\nimport items from './itemsReducer'\nimport newItem from './newItemsReducer'\n// import currentItem from './currentItemsReducer'\nimport spinners from './spinnersReducer'\nimport ui from './uiReducer'\nimport toasts from './toastsReducer'\nimport confirm from './confirmReducer'\nimport nav from './navReducer'\nimport language from './languageReducer'\nimport validations from './validateItemsReducer'\nimport newTransactions from './newTransactionsReducer'\nimport web3Transactions from './web3TransactionsReducer'\nimport tags from './tagsReducer'\nimport ethNetwork from './ethNetworkReducer'\nimport config from './configReducer'\nimport analytics from './analyticsReducer'\nimport channels from './channelsReducer'\nimport ensAddresses from './ensReducer'\nimport { filterActions } from 'redux-ignore'\nimport * as types from 'constants/actionTypes'\n\nexport const persistReducers = {\n\taccount,\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\n\tui: filterActions(ui, [types.UPDATE_UI]),\n\tlanguage,\n\tweb3Transactions,\n\ttags,\n\tethNetwork,\n\tconfig,\n\tanalytics,\n\tchannels,\n\tensAddresses,\n}\n\nexport const memoryReducers = {\n\tsignin,\n\tidentity,\n\twallet,\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\n\ttoasts,\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\n\tvalidations,\n\tnewTransactions,\n}\n","import {\n\tCREATE_ACCOUNT,\n\tRESET_ACCOUNT,\n\tUPDATE_ACCOUNT,\n} from '../constants/actionTypes'\nimport initialState from 'store/initialState'\nimport { Base, Account } from 'adex-models'\n\nexport default function accountReducer(state = initialState.account, action) {\n\tlet newState\n\tlet newAccount\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase CREATE_ACCOUNT:\n\t\t\tnewAccount = { ...action.account }\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase RESET_ACCOUNT:\n\t\t\tnewAccount = initialState.account\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase UPDATE_ACCOUNT:\n\t\t\tnewAccount = Base.updateObject({\n\t\t\t\titem: newState,\n\t\t\t\tnewValues: { ...action.newValues },\n\t\t\t\tobjModel: Account,\n\t\t\t})\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_ITEM,\n\tDELETE_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM_FROM_ITEM,\n\tADD_ITEM_TO_ITEM,\n\tUPDATE_ALL_ITEMS,\n\tRESET_ALL_ITEMS,\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\nimport initialState from 'store/initialState'\nimport { Item } from 'adex-models'\n\nexport default function itemsReducer(state = initialState.items, action) {\n\tlet newState\n\tlet newCollection\n\tlet newItem\n\tlet collectionId\n\tlet item\n\n\tconst collection = (state = {}, action) => {\n\t\tif (!action.item) return state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[action.item.id]: action.item,\n\t\t}\n\t}\n\n\tconst removeCollectionProp = (collection = {}, prop) => {\n\t\tlet newCol = { ...collection }\n\t\tdelete newCol[prop]\n\t\treturn newCol\n\t}\n\n\tif (action.item && action.itemType) {\n\t\tnewState = { ...state }\n\t\titem = { ...action.item }\n\t\tcollectionId = action.itemType\n\t}\n\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\n\t\t\t// id is going to be set when it comes here\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase ADD_ITEM_TO_ITEM:\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase DELETE_ITEM:\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase REMOVE_ITEM_FROM_ITEM:\n\t\t\tnewItem = Item.removeItem(\n\t\t\t\tnewState[collectionId][item._id],\n\t\t\t\taction.toRemove\n\t\t\t)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ITEM:\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ALL_ITEMS:\n\t\t\tnewState = { ...state }\n\t\t\tconst newItems = action.items.reduce((items, item, index) => {\n\t\t\t\tconst currentItems = { ...items }\n\t\t\t\tconst newItem = { ...item }\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\n\t\t\t\treturn currentItems\n\t\t\t}, newState[action.itemType])\n\n\t\t\tnewState[action.itemType] = newItems\n\t\t\treturn newState\n\t\tcase RESET_ALL_ITEMS:\n\t\t\tnewState = { ...initialState.items }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_UI } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiReducer(state = initialState.ui, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_UI:\n\t\t\tnewState = { ...state }\n\t\t\tif (action.category) {\n\t\t\t\tnewState[action.category] = { ...newState[action.category] }\n\t\t\t\tnewState[action.category][action.item] = action.value\n\t\t\t} else {\n\t\t\t\tnewState[action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import initialState from 'store/initialState'\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\nimport { setLang } from 'services/translations/translations'\n\nexport default function languageReducer(state = initialState.language, action) {\n\tswitch (action.type) {\n\t\tcase CHANGE_LANGUAGE:\n\t\t\tlet newLang = action.lang || state\n\t\t\tsetLang(newLang)\n\t\t\treturn newLang\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_WEB3_TRANSACTION,\n\tUPDATE_WEB3_TRANSACTION,\n\tRESET_WEB3_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function web3TransactionsReducer(\n\tstate = initialState.web3Transactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\tlet newAddrTxs\n\tlet pendingTxs\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateObj = ({ obj, key, val }) => {\n\t\tobj = obj || {}\n\t\tobj[key] = val\n\n\t\treturn obj\n\t}\n\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\n\t\t\tpTxs.push(newTx.hash)\n\t\t} else {\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\n\t\t}\n\n\t\treturn pTxs\n\t}\n\n\tif (!action.addr) {\n\t\treturn state\n\t}\n\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\n\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\n\t// If we keep the transactions on the node we can clean them from local storage on address change\n\tswitch (action.type) {\n\t\tcase ADD_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...action.value }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase UPDATE_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase RESET_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: { txHash: action.tx },\n\t\t\t})\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_TAGS:\n\t\t\tnewState = { ...state, ...action.tags }\n\t\t\treturn newState\n\t\tcase ADD_NEW_TAG:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.tag] = action.tag\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_GAS_DATA:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.gasData = { ...action.gasData }\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ANALYTICS,\n\tRESET_ANALYTICS,\n\tUPDATE_ANALYTICS_TIMEFRAME,\n\tUPDATE_ADVANCED_CAMPAIGN_ANALYTICS,\n\tUPDATE_DEMAND_ANALYTICS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function analyticsReducer(\n\tstate = initialState.analytics,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.timeframe = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.side] = { ...newState[action.side] }\n\t\t\tnewState[action.side][action.eventType] = {\n\t\t\t\t...newState[action.side][action.eventType],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][\n\t\t\t\taction.timeframe\n\t\t\t] = { ...action.value }\n\t\t\treturn newState\n\t\tcase UPDATE_ADVANCED_CAMPAIGN_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.campaigns = { ...newState.campaigns }\n\t\t\tnewState.campaigns[action.eventType] = {\n\t\t\t\t...action.value,\n\t\t\t}\n\t\t\treturn newState\n\t\tcase UPDATE_DEMAND_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.demand = action.value\n\t\t\treturn newState\n\t\tcase RESET_ANALYTICS:\n\t\t\tnewState = { ...initialState.analytics }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_CHANNELS_WITH_BALANCE,\n\tRESET_CHANNELS_WITH_BALANCE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function channelsReducer(state = initialState.channels, action) {\n\tlet newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE:\n\t\t\tnewState.withBalance = [...action.withBalance]\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_BALANCE:\n\t\t\tnewState.withBalance = initialState.channels.withBalance\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function ensReducer(state = initialState.ensAddresses, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function signinReducer(state = initialState.signin, action) {\n\tlet newState\n\tlet newSignin\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SIGNIN:\n\t\t\tnewSignin = { ...newState }\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\n\t\t\t\tnewSignin[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewSignin[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newSignin\n\n\t\t\treturn newState\n\n\t\tcase RESET_SIGNIN:\n\t\t\tnewSignin = { ...initialState.signin }\n\t\t\tnewState = newSignin\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function identityReducer(state = initialState.identity, action) {\n\tlet newState\n\tlet newIdentity\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_IDENTITY:\n\t\t\tnewIdentity = newState\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewIdentity[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newIdentity\n\n\t\t\treturn newState\n\n\t\tcase RESET_IDENTITY:\n\t\t\tnewIdentity = { ...initialState.identity }\n\t\t\tnewState = newIdentity\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function walletReducer(state = initialState.wallet, action) {\n\tlet newState\n\tlet newWallet\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_WALLET:\n\t\t\tnewWallet = newState\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\n\t\t\t\tnewWallet[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewWallet[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newWallet\n\n\t\t\treturn newState\n\n\t\tcase RESET_WALLET:\n\t\t\tnewWallet = { ...initialState.wallet }\n\t\t\tnewState = newWallet\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newItemsReducer(state = initialState.newItem, action) {\n\tlet newState\n\tlet newItem\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...action.item }\n\t\t\tnewState[action.itemType] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\n\t\t\tnewState[action.item] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_ALL_NEW_ITEMS:\n\t\t\tnewState = { ...initialState.newItem }\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function spinnersReducer(state = initialState.spinners, action) {\n\tconst newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SPINNER:\n\t\t\tnewState[action.spinner] = action.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_ITEM:\n\t\t\tnewState['update' + action.item._id] = false\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function toastsReducer(state = initialState.toasts, action) {\n\tlet newState\n\tlet newToast\n\n\tswitch (action.type) {\n\t\tcase ADD_TOAST:\n\t\t\tnewToast = { ...action.toast }\n\t\t\tnewToast.added = Date.now()\n\t\t\tnewState = [newToast, ...state]\n\t\t\treturn newState\n\n\t\tcase REMOVE_TOAST:\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n// import Helper from './../helpers/miscHelpers'\n\nexport default function confirmReducer(state = initialState.confirm, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase CONFIRM_ACTION:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.data = { ...action.confirm.data }\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\n\t\t\tnewState.onCancel = action.confirm.onCancel\n\t\t\tnewState.active =\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\n\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\n\t\t\tnewState.calledOn = Date.now()\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_NAV } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function navReducer(state = initialState.nav, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NAV:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ITEM_VALIDATION,\n\tRESET_ITEM_VALIDATION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function validateItemsReducer(\n\tstate = initialState.validations,\n\taction\n) {\n\tlet newState\n\tlet newErrors\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tcase RESET_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item] }\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\n\t\t\t\tdelete newErrors[action.key]\n\t\t\t} else if (newErrors && !action.key) {\n\t\t\t\tnewErrors = {}\n\t\t\t}\n\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_TRANSACTION,\n\tRESET_NEW_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newTransactionsReducer(\n\tstate = initialState.newTransactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateTx = ({ tx, key, val }) => {\n\t\ttx = tx || {}\n\t\ttx[key] = val\n\n\t\treturn tx\n\t}\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_TRANSACTION:\n\t\t\tnewTx = {\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\n\t\t\t}\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\n\n\t\t\t// console.log('newTx', newTx)\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_NEW_TRANSACTION:\n\t\t\tnewTx = { ...initialState.newTransactions.default }\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\nimport thunk from 'redux-thunk'\nimport { persistReducers, memoryReducers } from 'reducers'\nimport history from './history'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { persistStore, persistCombineReducers } from 'redux-persist'\nimport localStorage from 'redux-persist/lib/storage'\n// import session from 'redux-persist/lib/storage/session'\n\nconst reduxRouterMiddleware = routerMiddleware(history)\n\nconst persistConfig = {\n\tkey: 'persist',\n\tstorage: localStorage,\n}\n\n// const configSession = {\n//   key: 'session',\n//   storage: session,\n// }\n\n// const rootReducer = combineReducers(reducers)\n\n// TODO: make session reducer(signin) - RAM reducer (no persist)\nconst rootReducer = combineReducers({\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\n\trouter: connectRouter(history),\n})\n\nconst logger = store => next => action => {\n\t// if (action.type === 'UPDATE_NEWITEM') {\n\t//   return next(action)\n\t// }\n\n\tconsole.groupCollapsed(action.type)\n\tconsole.info('dispatching', action)\n\tlet result = next(action)\n\tconsole.log('next state', store.getState())\n\tconsole.groupEnd(action.type)\n\treturn result\n}\n\nfunction configureStoreProd(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t]\n\n\tif (process.env.BUILD_TYPE === 'staging') {\n\t\tmiddlewares.push(logger)\n\t}\n\n\tlet store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcompose(applyMiddleware(...middlewares))\n\t)\n\n\tlet persistor = persistStore(store)\n\n\treturn { persistor, store }\n}\n\nfunction configureStoreDev(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n\t\treduxImmutableStateInvariant(),\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t)\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\n\t\t\tstore.replaceReducer(nextReducer)\n\t\t})\n\t}\n\n\tlet persistor = persistStore(store)\n\treturn { persistor, store }\n}\n\nconst configureStore =\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\n\nexport default configureStore()\n","import configureStore from './configureStore'\n\nexport default configureStore\n\nexport const store = configureStore.store\nexport const persistor = configureStore.persistor\nexport const dispatch = store.dispatch\nexport const getState = store.getState\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetSigner,\n\tgetMultipleTxSignatures,\n} from 'services/smart-contracts/actions/ethers'\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\nimport { Contract } from 'ethers'\nimport {\n\tbigNumberify,\n\tparseUnits,\n\tgetAddress,\n\tInterface,\n\tkeccak256,\n\tid,\n} from 'ethers/utils'\nimport { generateAddress2 } from 'ethereumjs-util'\nimport { executeTx } from 'services/adex-relayer'\nimport {\n\tselectRelayerConfig,\n\tselectFeeTokenWhitelist,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\nimport solc from 'solcBrowser'\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\nimport { contracts } from 'services/smart-contracts/contractsCfg'\nconst { AdExENSManager, ReverseRegistrar } = contracts\n\nconst ERC20 = new Interface(ERC20TokenABI)\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\n\nexport async function getIdentityDeployData({\n\towner,\n\trelayerRoutineAuthValidUntil = 10648454444,\n}) {\n\tconst {\n\t\tidentityFactoryAddr,\n\t\trelayerAddr,\n\t\tbaseIdentityAddr,\n\t\tidentityRecoveryAddr,\n\t\tcoreAddr,\n\t\tmainToken,\n\t} = selectRelayerConfig()\n\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\n\n\tconst routineAuthorizationsRaw = [\n\t\t{\n\t\t\trelayer: relayerAddr,\n\t\t\toutpace: coreAddr,\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tfeeTokenAmount: '0x00',\n\t\t},\n\t]\n\n\tconst bytecode = getProxyDeployBytecode(\n\t\tbaseIdentityAddr,\n\t\tprivileges,\n\t\t{\n\t\t\tprivSlot: 0,\n\t\t\troutineAuthsSlot: 1,\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\n\t\t\t\tnew RoutineAuthorization(x).hash()\n\t\t\t),\n\t\t},\n\t\tsolc\n\t)\n\n\tconst salt = keccak256(owner)\n\n\tconst identityAddr = getAddress(\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\n\t)\n\n\treturn {\n\t\tidentityFactoryAddr,\n\t\tbaseIdentityAddr,\n\t\tbytecode,\n\t\tsalt,\n\t\tidentityAddr,\n\t\tprivileges,\n\t\troutineAuthorizationsRaw,\n\t}\n}\n\nexport async function withdrawFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity, stats } = account\n\tconst { authType } = wallet\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, mainToken.decimals)\n\n\tconst tokenAddr = mainToken.address\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: tokenAddr,\n\t\tto: tokenAddr,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t\twithdrawTx: true,\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: toWithdraw,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\n\n\tlet actualWithdrawAmount = toWithdraw\n\n\tif (toWithdraw.gt(maxWithdraw)) {\n\t\tactualWithdrawAmount = maxWithdraw\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\n\t\t\tif (tx.withdrawTx) {\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tactualWithdrawAmount.toString(),\n\t\t\t\t])\n\t\t\t}\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, mainToken.decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function setIdentityPrivilege({\n\taccount,\n\tsetAddr,\n\tprivLevel,\n\tgetFeesOnly,\n}) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst identityInterface = new Interface(Identity.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: identityAddr,\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t]),\n\t}\n\n\tconst txns = [tx1]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\ttxnsByFeeToken,\n\t\tidentityAddr,\n\t\twallet,\n\t\tprovider,\n\t\textraData: {\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t},\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\nfunction txnsByTokenWithSaiToDaiSwap({\n\ttxns,\n\tmainToken,\n\tdaiAddr,\n\tsaiAddr,\n\tidentityAddr,\n}) {\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\n\t\t(current, tx, i) => {\n\t\t\tconst { withdrawAmountByToken } = tx\n\n\t\t\tconst needSaiToDaiSwap =\n\t\t\t\t!!withdrawAmountByToken &&\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\n\t\t\t\tmainToken.address === daiAddr &&\n\t\t\t\tsaiAddr !== daiAddr\n\n\t\t\tlet feeTokenAddr = ''\n\n\t\t\tif (needSaiToDaiSwap) {\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\n\t\t\t\t)\n\t\t\t\tfeeTokenAddr = daiAddr\n\t\t\t}\n\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\n\t\t\t// normalize tx\n\t\t\ttx.feeTokenAddr = feeTokenAddr\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\n\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\n\t\t\t\ttx,\n\t\t\t]\n\n\t\t\treturn current\n\t\t},\n\t\t{\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\n\t\t\ttxnsByFeeToken: {},\n\t\t}\n\t)\n\n\treturn { txnsByFeeToken, saiWithdrawAmount }\n}\n\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: AdExENSManager.address,\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\n\t\t\tAdExENSManager.publicResolver,\n\t\t\tid(username),\n\t\t\tidentityAddr,\n\t\t]),\n\t}\n\n\tconst tx2 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: ReverseRegistrar.address,\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\n\t\t]),\n\t}\n\n\tconst txns = [tx1, tx2]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { total } = await getIdentityTxnsTotalFees({\n\t\ttxnsByFeeToken,\n\t\tmainToken,\n\t})\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function getIdentityTxnsWithNoncesAndFees({\n\tamountInMainTokenNeeded = '0',\n\ttxns = [],\n\tidentityAddr,\n\tprovider,\n\tIdentity,\n\taccount,\n\tgetToken,\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst saiToken = selectSaiToken()\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\n\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\n\tlet identityContract = null\n\n\tif (isDeployed) {\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\n\t}\n\n\tconst initialNonce = isDeployed\n\t\t? (await identityContract.nonce()).toNumber()\n\t\t: 0\n\n\tconst feesForMainTxns = txns.length\n\t\t? bigNumberify(\n\t\t\t\t!initialNonce ? mainTokenWithFees.minDeploy : mainTokenWithFees.min\n\t\t  ).add(\n\t\t\t\tbigNumberify(mainTokenWithFees.min).mul(bigNumberify(txns.length - 1))\n\t\t  )\n\t\t: bigNumberify(0)\n\n\tconst {\n\t\tsweepTxns = [],\n\t\tswapAmountsByToken = {},\n\t} = await getSweepingTxnsIfNeeded({\n\t\tamountInMainTokenNeeded: feesForMainTxns.add(\n\t\t\tbigNumberify(amountInMainTokenNeeded)\n\t\t),\n\t\taccount,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns: sweepTxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// 1st - always get sweeping txns (channelWithdraw)\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\n\t// 3rd - make other txns with the main token only\n\n\t// TODO: make it work with other tokens\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\n\n\tif (!saiSwapAmount.isZero()) {\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\n\t\t\t...(await swapSaiToDaiTxns({\n\t\t\t\tgetToken,\n\t\t\t\tidentityAddr,\n\t\t\t\tdaiAddr,\n\t\t\t\tsaiToken,\n\t\t\t\tswapAmount: saiSwapAmount,\n\t\t\t})),\n\t\t]\n\t}\n\n\tconst allFeeTokens = [\n\t\t...new Set([\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\n\t\t]),\n\t]\n\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\n\t\ttxns[token] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\n\t\t]\n\n\t\treturn txns\n\t}, {})\n\n\tlet currentNonce = initialNonce\n\n\tObject.keys(txnsByFeeToken).forEach(key => {\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\n\t\t\tconst txFeeAmount = isSweepTx ? feeToken.min : feeToken.minRecommended\n\n\t\t\tconst minFeeAmount = bigNumberify(\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : txFeeAmount\n\t\t\t)\n\n\t\t\tconst sweepRoutinesFeeAmount = bigNumberify(routinesSweepTxCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\n\t\t\t\tbigNumberify(feeToken.minRecommended)\n\t\t\t)\n\n\t\t\t// Total relayer fees for the transaction\n\t\t\tconst feeAmount = minFeeAmount\n\t\t\t\t.add(sweepRoutinesFeeAmount)\n\t\t\t\t.add(extraFeesAmount)\n\t\t\t\t.toString()\n\n\t\t\t// fees that are not pre calculated with in the total identity balance\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\n\t\t\t\t.toString()\n\n\t\t\tconst txWithNonce = {\n\t\t\t\t...tx,\n\t\t\t\tfeeTokenAddr: feeToken.address,\n\t\t\t\tfeeAmount,\n\t\t\t\tnonce: currentNonce,\n\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t}\n\n\t\t\tcurrentNonce += 1\n\n\t\t\treturn txWithNonce\n\t\t})\n\t})\n\n\treturn txnsByFeeToken\n}\n\nexport async function getApproveTxns({\n\tgetToken,\n\ttoken,\n\tidentityAddr,\n\tfeeTokenAddr,\n\tapproveForAddress,\n\tapproveAmount,\n}) {\n\tconst tokenContract = getToken(token)\n\n\tconst allowance = await tokenContract.allowance(\n\t\tidentityAddr,\n\t\tapproveForAddress\n\t)\n\n\tconst approveTxns = []\n\n\tif (!allowance.isZero()) {\n\t\tapproveTxns.push({\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: token.address,\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\n\t\t})\n\t}\n\n\tapproveTxns.push({\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: token.address,\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\n\t})\n\n\treturn approveTxns\n}\n\nasync function swapSaiToDaiTxns({\n\tidentityAddr,\n\tdaiAddr,\n\tsaiToken,\n\tswapAmount,\n\tgetToken,\n}) {\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: saiToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\n\t\tapproveAmount: swapAmount,\n\t})\n\n\tconst swapTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tto: SCD_MCD_MIGRATION_ADDR,\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\n\t}\n\n\treturn [...approveTxns, swapTx]\n}\n\n// TODO: use byToken where needed\n// currently works because only using SAI and DAI only\nexport async function getIdentityTxnsTotalFees({\n\ttxnsByFeeToken,\n\tmainToken = {},\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst bigZero = bigNumberify('0')\n\tconst feesData = Object.values(txnsByFeeToken)\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\n\t\t.reduce(\n\t\t\t(result, tx) => {\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\n\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\n\t\t\t\t).add(txFeeAmount)\n\n\t\t\t\treturn result\n\t\t\t},\n\t\t\t{ total: bigZero, byToken: {} }\n\t\t)\n\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\n\t\treturn {\n\t\t\taddress: key,\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\n\t\t\tsymbol,\n\t\t\tfeeFormatted: `${formatTokenAmount(\n\t\t\t\tvalue.toString(),\n\t\t\t\tdecimals,\n\t\t\t\tfalse,\n\t\t\t\t4\n\t\t\t)} ${symbol}`,\n\t\t}\n\t})\n\n\tconst fees = {\n\t\t// TODO: change to return total as BN and add totalFormatted\n\t\ttotal: formatTokenAmount(\n\t\t\tfeesData.total.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalBN: feesData.total,\n\t\tbyToken,\n\t}\n\n\treturn fees\n}\n\nexport async function processExecuteByFeeTokens({\n\ttxnsByFeeToken,\n\twallet,\n\tprovider,\n\tidentityAddr,\n\textraData = {},\n}) {\n\tconst signer = await getSigner({ wallet, provider })\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\n\t\tconst data = {\n\t\t\ttxnsRaw,\n\t\t\tsignatures,\n\t\t\tidentityAddr,\n\t\t\t...extraData,\n\t\t}\n\n\t\tif (process.env.BUILD_TYPE === 'staging') {\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\n\t\t}\n\n\t\tconst result = await executeTx(data)\n\n\t\treturn {\n\t\t\tresult,\n\t\t}\n\t})\n\n\tconst results = await Promise.all(all)\n\n\treturn results\n}\n\nexport async function withdrawOtherTokensFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\ttokenAddress,\n\ttokenDecimals,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\tconst decimals = parseInt(tokenDecimals, 10)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: mainToken.address,\n\t\tto: tokenAddress,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n","import { ethers, constants } from 'ethers'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { isEthAddress } from 'helpers/validators'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\n\nexport const isEthAddressERC20 = async (addr = '', authType) => {\n\ttry {\n\t\tif (isEthAddress(addr)) {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\t\tawait Promise.all([\n\t\t\t\tcontract.totalSupply(),\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\n\t\t\t])\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getERC20Balance = async ({\n\taddr = '',\n\tbalanceFor = '',\n\tauthType,\n}) => {\n\ttry {\n\t\tconst { provider } = await getEthers(authType)\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\tconst balance = await contract.balanceOf(balanceFor)\n\n\t\treturn balance\n\t} catch (error) {\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\n\t\treturn null\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\n\nexport const isConnectionLost = async authType => {\n\ttry {\n\t\t// When we remove Metamask\n\t\t// if in 5 sec doesn't connect will\n\t\t// return that connection is lost\n\t\tconst eth = await Promise.race([\n\t\t\tgetEthers(authType),\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treject('Timed out')\n\t\t\t\t}, 5000)\n\t\t\t}),\n\t\t])\n\t\tawait eth.provider.getBlockNumber()\n\t\treturn false\n\t} catch (error) {\n\t\treturn true\n\t}\n}\n","import { utils } from 'ethers'\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { ethers } from 'ethers'\n/*eslint-disable */\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\n/*eslint-enable */\n\nexport const validUrl = url => {\n\turl = url || ''\n\tconst isValid = urlRegex.test(url)\n\treturn isValid\n}\n\nexport const validEmail = email => {\n\temail = email || ''\n\tconst isValid = emailRegex.test(email)\n\treturn isValid\n}\n\nexport const validateNumber = numberStr => {\n\tnumberStr = numberStr || ''\n\tconst isValid =\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\n\treturn isValid\n}\n\n// > 0\nexport const validPositiveInt = intStr => {\n\tintStr = intStr || ''\n\tconst isValid = onlyDigitsRegex.test(intStr)\n\treturn isValid\n}\n\nexport const validName = name => {\n\tlet msg = ''\n\tconst errMsgArgs = []\n\tif (!name) {\n\t\tmsg = 'ERR_REQUIRED_FIELD'\n\t} else if (name.length < 4) {\n\t\tmsg = 'ERR_MIN_LENGTH'\n\t\terrMsgArgs.push(4)\n\t} else if (name.length > 128) {\n\t\tmsg = 'ERR_MAX_LENGTH'\n\t\terrMsgArgs.push(128)\n\t}\n\n\treturn {\n\t\tmsg,\n\t\terrMsgArgs,\n\t}\n}\n\nexport const validPassword = password => {\n\tpassword = password || ''\n\tconst isValid = passwordRegex.test(password)\n\treturn isValid\n}\n\nexport const isEthAddress = (addr = '') => {\n\ttry {\n\t\tutils.getAddress(addr)\n\t} catch (e) {\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const isEthAddressZero = (addr = '') => {\n\treturn isEthAddress(addr)\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\n\t\t: false\n}\n\nexport const validEthAddress = async ({\n\taddr = '',\n\tnonZeroAddr,\n\tnonERC20,\n\tauthType,\n}) => {\n\tlet msg = ''\n\ttry {\n\t\tconst ethAddressZero = isEthAddressZero(addr)\n\t\tconst notEthAddress = !isEthAddress(addr)\n\t\tif (notEthAddress) {\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\n\t\t} else {\n\t\t\tif (nonZeroAddr && ethAddressZero) {\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\n\t\t\t} else {\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\n\t\t\t\tif (connectionLost) {\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t\t\t\t} else {\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (error === 'Non-Ethereum browser detected.')\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t}\n\treturn { msg }\n}\n\nexport const freeAdExENS = async ({ ens = '', authType }) => {\n\tlet msg = ''\n\ttry {\n\t\tif (ens === '') {\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\n\t\t} else {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst ensAddress = await provider.resolveName(\n\t\t\t\t`${ens}.${process.env.REVERSE_REGISTRAR_PARENT}`\n\t\t\t)\n\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\n\t\t}\n\t} catch (error) {\n\t\tif (error.code === 'INVALID_ARGUMENT') {\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\n\t\t} else {\n\t\t\tmsg = 'ERR_ENS_CHECK'\n\t\t}\n\t}\n\treturn { msg }\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport ewt from './ewt'\n\nconst BEARER_PREFIX = 'Bearer '\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\n\nconst getValidatorRequester = ({ baseUrl }) => {\n\treturn new Requester({ baseUrl })\n}\n\nconst getRequesters = ({ campaign }) => {\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\n\tconst followerRequester = getValidatorRequester({\n\t\tbaseUrl: follower.url,\n\t})\n\n\treturn {\n\t\tleader: { requester: leaderRequester, validator: leader },\n\t\tfollower: { requester: followerRequester, validator: follower },\n\t}\n}\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\n\tconst { identity, wallet } = account\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\n\tif (existingAuth) {\n\t\treturn existingAuth\n\t}\n\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst payload = {\n\t\tid: validatorId,\n\t\tidentity: identity.address,\n\t\tera: Math.floor(Date.now() / 60000),\n\t}\n\n\tconst token = ewt.sign(signer, payload)\n\n\treturn token\n}\n\nconst sendMessage = async ({ campaign, options, account }) => {\n\tconst { follower, leader } = getRequesters({ campaign })\n\n\tconst followerAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: follower.validator.id,\n\t\taccount,\n\t})\n\tconst leaderAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: leader.validator.id,\n\t\taccount,\n\t})\n\tconst followerResult = await follower.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\tconst leaderResult = await leader.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn {\n\t\tresults: {\n\t\t\tfollowerResult,\n\t\t\tleaderResult,\n\t\t},\n\t\tauthTokens: {\n\t\t\t[follower.id]: followerAuthToken,\n\t\t\t[leader.id]: leaderAuthToken,\n\t\t},\n\t}\n}\n\nexport const lastApprovedState = ({ campaign }) => {\n\tconst { leader } = getRequesters({ campaign })\n\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `channel/${campaign.id}/last-approved`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaign = ({ campaign, account }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const identityAnalytics = async ({\n\tidenityAddr,\n\tcampaign,\n\tcampaignId,\n\tleaderAuth,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n\tside,\n}) => {\n\tconst baseUrl = VALIDATOR_LEADER_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/for-${side}${campaignId || ''}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const identityCampaignsAnalytics = async ({ leaderAuth, eventType }) => {\n\tconst baseUrl = VALIDATOR_LEADER_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/advanced`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const campaignAnalytics = ({\n\tcampaign,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n}) => {\n\tconst { leader } = getRequesters({ campaign })\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${campaign.id}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t})\n\t\t.then(processResponse)\n}\n"],"sourceRoot":""}