{"version":3,"sources":["resources/home-wallpaper.png","constants/actionTypes.js","store/initialState.js","services/translations/translations.js","helpers/sanitizer.js","reducers/configReducer.js","store/history.js","reducers/index.js","reducers/accountReducer.js","reducers/uiReducer.js","reducers/itemsReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/targetingReducer.js","reducers/ensReducer.js","reducers/tablesStateReducer.js","reducers/uiMemoryReducer.js","reducers/channelsReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","selectors/selectors.js","selectors/configSelectors.js","helpers/dateUtils.js","selectors/accountSelectors.js","selectors/identitySelectors.js","constants/spinners.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/itemsSelectors.js","selectors/newItemsSelectors.js","helpers/formatters.js","helpers/analyticsTimeHelpers.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","components/common/anchor/anchor.js","selectors/targetingSelectors.js","selectors/newTransactionSelectors.js","components/App/themeMUi.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","constants/misc.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/locationSelectors.js","selectors/combinedSelectors.js","actions/common.js","helpers/miscHelpers.js","helpers/errors.js","actions/uiActions.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/ethers.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/store-data/loop.js","services/store-data/campaigns.js","services/store-data/account.js","services/store-data/analytics.js","services/store-data/auth.js","services/requester/requester.js","services/requester/index.js","services/adex-relayer/actions.js","constants/targeting.js","actions/validationActions.js","helpers/mediaHelpers.js","actions/mediaValidations.js","services/adex-market/actions.js","actions/itemActions.js","services/auth/auth.js","services/smart-contracts/signers/trezor.js","helpers/localStorageHelpers.js","services/wallet/wallet.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","services/smart-contracts/actions/identity.js","services/smart-contracts/actions/core.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/identityActions.js","actions/bidActions.js","services/gas/actions.js","actions/transactionActions.js","constants/tables.js","actions/newItemsActions.js","actions/audienceActions.js","helpers/utmHelpers.js","actions/campaignActions.js","helpers/numbers.js","helpers/itemsHelpers.js","helpers/ipfsHelpers.js","services/images/blob.js","actions/slotActions.js","actions/unitActions.js","actions/index.js","components/toast/Toast.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/icons/AdexIconTxtDark.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","components/translate/Translate.js","helpers/logosHelpers.js","components/App/MultiThemeProvider.js","components/App/ThemeSwitch.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/TopBar.js","components/common/media/index.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/dirtyErrors.js","components/dashboard/containers/ItemCommon/SaveBtn.js","components/dashboard/containers/ItemCommon/itemCommonNew.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/itemHooks.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/common/stepper/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/common/dropdown/Dropdown.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","services/images/crop.js","components/common/OutlinedPropView/OutlinedPropView.js","components/dashboard/forms/MediaForm/MediaForm.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/FormsCommon.js","components/dashboard/containers/AudiencePreview/AudiencePreview.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/common/autocomplete/Autocomplete.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/Audience/AudienceBasic.js","components/dashboard/forms/items/Audience/NewAudiencePreview.js","components/dashboard/forms/items/NewTargetingRules.js","components/dashboard/containers/Slot/WebsiteIssues.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/Website/WebsiteBasic.js","components/dashboard/forms/items/Website/WebsitePreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/Tables/AudiencesTable.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/styles.js","components/dashboard/containers/Receipt/PublisherReceiptTpl.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/Receipt/CampaignReceiptTpl.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Tables/StatsByCountryTable.js","components/dashboard/charts/map/MapChart.js","components/dashboard/containers/Campaign/CampaignEdits.js","components/dashboard/containers/Campaign/CampaignBasic.js","components/dashboard/containers/Campaign/CampaignAudience.js","components/dashboard/charts/simplified.js","hooks/useWindowSize.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/common/DatePicker/styles.js","components/common/DatePicker/DatePicker.js","hooks/useKeyPress.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/Campaign/CampaignStatsByTimeframe.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/DashboardStats/AdvertiserStats.js","components/dashboard/containers/Tables/BestEarnersTable.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/SlotEdits.js","components/dashboard/containers/Slot/SlotBasic.js","components/dashboard/containers/Slot/IntegrationCode.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Audience/Audience.js","components/dashboard/containers/Websites/Websites.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/deposit/styles.js","helpers/popupHelper.js","services/onramp/index.js","components/dashboard/deposit/Ramp.js","components/dashboard/deposit/TopUp.js","components/dashboard/deposit/TopUpChangelly.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/ImportantNotifications.js","components/App/Root.js","components/App/CacheBuster.js","components/App/Loading.js","components/App/NetworkErrorDetector.js","components/App/App.js","serviceWorker.js","index.js","services/crypto/crypto.js","resources/trezor-logo-h.png","resources/getting-started/GS-email-ic_80x80.png","resources/getting-started/GS-create-ic_80x80.png","resources/getting-started/GS-launch-ic_80x80.png","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/no-image-box-eddie.jpg","resources/video-placeholder.jpg","resources/404-no.png","resources/404-yes.png","resources/ramp.svg","resources/wyre.svg","resources/paytrie.svg","resources/transak.svg","resources/changelly.svg","resources/getting-started/GS-fund-ic_80x80.png","resources/getting-started/GS-place-ic_80x80.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png"],"names":["module","exports","__webpack_require__","p","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","UPDATE_UI_BY_IDENTITY_AND_SIDE","UPDATE_MEMORY_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","UPDATE_ANALYTICS_PERIOD","UPDATE_PUBLISHER_RECEIPTS","RESET_SELECTED_ITEMS","UPDATE_ANALYTICS_LAST_CHECKED","UPDATE_TARGETING_ANALYTICS","UPDATE_TABLE_STATE","RESET_ALL_TABLES_STATE","RESET_TABLE_STATE_BY_ID","initialState","account","Account","signin","name","email","password","passConfirm","seed","publicKey","seedCheck","authenticated","newItem","Campaign","audienceInput","version","inputs","devices","apply","temp","useUtmTags","useUtmSrcWithPub","plainObj","AdUnit","addUtmLink","AdSlot","rulesInput","autoSetMinCPM","Audience","Website","currentItem","selectedItems","campaigns","adUnits","slots","items","spinners","ui","global","byIdentity","tablesState","uiMemory","toasts","confirm","data","nav","side","language","validations","newTransactions","default","web3Transactions","targeting","targetingData","minByCategory","countryTiersCoefficients","identity","ethNetwork","networkId","gasData","wallet","config","relayer","market","validators","analytics","channels","withBalanceAll","withOutstandingBalance","ensAddresses","translations","adexTranslations","lang","translate","val","arguments","length","undefined","_ref","_ref$isProp","isProp","_ref$args","args","_ref$toUpperCase","toUpperCase","key","replace","dirty","translation","Array","isArray","tpl","pattern","RegExp","interpolated","split","map","i","element","isValidElement","cloneElement","every","join","interpolate","a","setLang","lng","updateCfg","current","type","cfg","newCfg","Object","objectSpread","history","persistReducers","newState","state","action","Base","updateObject","item","newValues","objModel","category","value","filterActions","newCollection","collectionId","collection","defineProperty","id","itemType","prop","newCol","removeCollectionProp","_id","Item","removeItem","toRemove","newItems","reduce","currentItems","ipfs","match","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","_ref2","pTxs","status","indexOf","hash","push","filter","tx","addr","toConsumableArray","obj","updateObj","txHash","tableId","memoryReducers","timeframe","lastChecked","eventType","metric","timestamp","advanced","demand","receipts","period","newSignin","newIdentity","newWallet","itemId","spinner","types","newToast","toast","added","Date","now","concat","t","onConfirm","onCancel","active","noActionBtns","calledOn","newErrors","errors","hasOwnProperty","updateTx","trackPageView","location","ReactGA","set","page","pathname","search","pageview","createHashHistory","initialize","process","listen","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","localStorage","debug","throttle","rootReducer","combineReducers","persist","persistCombineReducers","memory","router","connectRouter","configureStore","middlewares","thunk","store","createStore","compose","applyMiddleware","persistor","persistStore","getState","dispatch","createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","selectRelayerConfig","selectFeeTokenWhitelist","createSelector","feeTokenWhitelist","all","tokens","address","selectRoutineWithdrawTokens","routineWithdrawTokens","selectRoutineWithdrawTokenByAddress","createCachedSelector","_","_ref3","find","token","_state","selectRoutineWithdrawTokensAddresses","_ref4","selectMainToken","relayerConfig","_ref5","mainToken","selectIdentityRecoveryAddr","_ref6","identityRecoveryAddr","selectGasPriceCap","_ref7","gasPriceCap","selectSaiToken","_ref8","saiAddr","selectMainFeeToken","_ref9","DateUtils","_MomentUtils","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","inherits","createClass","date","clone","startOf","endOf","start","end","isBetween","ammount","unit","add","minutes","hours","weeks","months","years","moment","utcOffset","offset","sign","Math","abs","floor","toString","window","Intl","DateTimeFormat","resolvedOptions","timeZone","unix","locale","localeData","_ref2$locale","dow","doy","defaultLocaleData","getLocaleDate","updateLocale","week","firstDayOfWeek","firstDayOfYear","span","dateUtils","hour","getHours","spanStartHour","withSpanStartHour","setHours","startOfHour","formatString","format","MomentUtils","makeJSDateObject","isMoment","getTime","navigator","toLowerCase","selectAccount","selectChannels","selectAuth","authSig","authType","selectWallet","selectEmail","selectAuthSig","selectWalletAddress","selectAuthType","selectAccountIdentity","selectAccountIdentityAddr","selectAccountStats","stats","selectAccountStatsRaw","_ref10","settings","_ref11","raw","selectAccountStatsFormatted","_ref12","formatted","selectAccountIdentityDeployData","_ref13","relayerData","routineAuthorizationsData","_ref14","_ref14$relayerData","deployData","selectChannelsWithUserBalancesEligible","_ref15","selectChannelsWithUserBalancesAll","_ref16","selectAccountIdentityCurrentPrivileges","_ref17","_ref17$relayerData","currentPrivileges","selectWalletPrivileges","selectAccountIdentityCreatedDate","_ref18","created","selectIdentity","selectEnsAddressByAddr","CREATING_SESSION","QUICK_WALLET_BACKUP","GETTING_OWNER_IDENTITIES","UPLOADING_ACCOUNT_DATA","OPENING_CAMPAIGN","GETTING_CAMPAIGNS_FEES","UPDATING_ACCOUNT_IDENTITY","UPDATING_SLOTS_DEMAND","PRINTING_CAMPAIGNS_RECEIPTS","FETCHING_PUBLISHER_RECEIPTS","CHECKING_METAMASK_AUTH","AUTH_WAITING_TREZOR_ACTION","AUTH_WAITING_ADDRESS_DATA","SYNC_WEB3_DATA","selectSide","selectMemoryUi","selectGlobalUi","selectConfirm","selectToasts","selectSpinners","selectIdentityUi","identityAddr","identitiesUi","selectIdentitySideUi","identityUi","selectCompanyData","companyData","selectUserLastSide","userLastSide","selectSpinnerById","selectWeb3SyncSpinnerByValidateId","validateId","selectRegistrationAllowed","ids","allowRegistration","selectEasterEggsAllowed","allowEasterEggs","selectNewVersionAvailable","newVersionAvailable","selectNewVersionAvailableId","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectSideSpecificUI","selectHideGettingStarted","hideGettingStarted","selectGettingStartedExpanded","gettingStartedExpanded","selectSelectedCampaigns","selectLoginDirectSide","goToSide","selectInitialDataLoadedByData","dataType","initialDataLoaded","selectInitialDataLoaded","_ref13$initialDataLoa","selectCampaignIdInDetails","campaignId","selectLoginSelectedIdentity","loginSelectedIdentity","selectAnalyticsDataSide","selectIdentitySideAnalyticsTimeframe","_ref16$sideAnalyticsT","sideAnalyticsTimeframe","selectIdentitySideAnalyticsPeriod","_ref17$sideAnalyticsP","sideAnalyticsPeriod","startOfDay","endOfDay","selectWindowReloading","windowReloading","selectTableState","tablesStates","identityId","selectTableStateSelectedRows","memoryUI","selectLang","selectTranslations","opts","_opts$isProp","_opts$args","_opts$components","components","selectItemsByType","selectItemsArrayByType","values","selectItemByTypeAndId","_itemType","selectCampaigns","selectCampaignsArray","selectCampaignById","selectCampaignUnitsById","selectCampaignInDetails","selectAdUnits","selectAdUnitsArray","selectAdSlotsArray","selectAdSlotById","selectWebsitesArray","selectWebsiteByWebsite","ws","url","parse","hostname","selectAudiencesArray","selectAudienceById","selectAudienceByCampaignId","campaign","categories","publishers","x","selectSavedAudiences","title","selectWebsitesList","websites","sort","b","updated","selectCampaignDisplayStatus","humanFriendlyName","selectNewItems","selectNewItemByTypeAndId","selectNewCampaign","CampaignModel","selectNewAdUnit","AdUnitModel","selectNewAdSlot","AdSlotModel","selectNewAudience","AudienceModel","selectNewWebsite","_ref6$Website","DEFAULT_DATETIME_FORMAT","formatDateTime","noDateLabel","formatDate","formatTokenAmount","amountString","decimals","pretty","toFixed","utils","formatUnits","commify","parseFloat","slice","formatAddress","joinSymbol","substring","formatNumberWithCommas","formatFloatNumberWithCommas","parts","toFixedFloat","number","formatAbbrNum","decPlaces","pow","abbrev","size","round","truncateString","string","maxLength","trim","timeSinceEpoch","epochDivider","epoch","periodDays","days","MONTH","YEAR","fillEmptyTime","prevAggr","defaultValue","fillAfterLast","time","interval","step","amount","newAggr","initialTime","endTime","min","m","prevAggrInInterval","lastWithValueTime","newData","isNullValue","entries","slicedToArray","getTimePeriods","callEnd","startCopy","startOfMinute","addMinutes","addHours","getHourSpanStart","addDays","addMonths","getBorderPeriodStart","borderStart","_ref4$next","next","_ref4$startIsLive","startIsLive","minDate","maxDate","direction","limitedStart","isAfter","isBefore","day","startOfWeek","addWeeks","month","startOfMonth","year","startOfYear","addYears","Error","getMinStartDateTimeByTimeframe","TIME_INTERVALS","label","ms","timeAgo","since","intervalTimes","getPeriodLabel","getPeriodDataPointLabel","periodEnd","selectAnalytics","selectTargeting","selectAdvancedAnalytics","selectAnalyticsLastChecked","selectAnalyticsLiveTimestamp","currentDate","withdrawPeriodStart","hourStart","dayStart","weekStart","monthStart","yearStart","selectDemandAnalytics","selectDemandAnalyticsByType","selectTargetingAnalytics","_ref4$targetingData","selectTargetingAnalyticsMinByCategories","_ref5$minByCategory","selectTargetingAnalyticsCountryTiersCoefficients","_ref6$countryTiersCoe","selectVerifiedActiveTargetingAnalytics","targetingAnalytics","bySlotCount","byType","forEach","campaignsEarnedFrom","selectTargetingAnalyticsCurrentlyUsedTypes","u","selectTargetingAnalyticsByType","filterByType","some","includes","selectAdvancedAnalyticsByType","from","c","Set","owner","alexaRank","Map","campaignAnalytics","mapTotalChanelToAdUnitData","advancedAnalytics","byChannelStats","byUnit","curr","reportChannelToAdUnit","selectAdUnitsTotalStats","IMPRESSION","CLICK","selectPublisherStatsByType","publisherStats","selectPublisherStatsByCountry","reportPublisherToCountry","selectPublisherPayStatsByCountry","reportPublisherToCountryPay","selectPublisherStatsAdUnit","reportPublisherToAdUnit","selectPublisherStatsAdUnitPay","reportPublisherToAdUnitPay","selectPublisherStatsAdSlot","reportPublisherToAdSlot","selectPublisherStatsAdSlotPay","reportPublisherToAdSlotPay","selectPublisherAggrStatsByCountry","byCountry","max","total","Number","selectAllAdUnitsInChannels","units","_ref12$adUnits","selectPublisherAdvanceStatsToAdUnit","impressionsByAdUnit","clicksByAdUnit","impressionsPayByAdUnit","clicksPayByAdUnit","impressions","clicks","impressionsPay","clicksPay","selectPublisherAdvanceStatsToAdSlot","impressionsByAdSlot","clicksByAdSlot","impressionsPayByAdSlot","clicksPayByAdSlot","selectPublisherTotalImpressions","selectCampaignAnalyticsByChannelStats","_selectAdvancedAnalyt2","selectCampaignAnalyticsByChannelToCountry","reportChannelToCountry","selectCampaignAnalyticsByChannelToCountryPay","_ref19","reportChannelToCountryPay","selectCampaignAggrStatsByCountry","selectCampaignAnalyticsByChannelToAdUnit","_ref20","selectAnalyticsDataAggr","_ref21","liveTimestamp","_ref23","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","_ref24","_ref24$side","_ref24$eventType","_ref24$metric","_ref24$timeframe","mapEventCounts","getChannelToAdUnitData","_ref25$byChannelStats","_ref26$reportChannelT","selectCampaignsEventCountsStats","_ref27$byChannelStats","keys","selectCampaignsEventCountsStatsById","eventCounts","selectTotalImpressions","_ref28","_ref29","_ref30","_ref30$side","_ref30$timeframe","selectTotalClicks","_ref31","_ref32","_ref33","_ref33$side","_ref33$timeframe","selectTotalMoney","_ref34","eventPayouts","_ref35","_ref36","_ref36$side","_ref36$timeframe","selectTotalImpressionsWithPayouts","_ref37","_ref38","e","_ref39","_ref40","_ref40$side","_ref40$timeframe","selectAverageCPM","_ref41","_ref42","totalMoney","totalImpressions","_ref43","_ref43$side","_ref43$timeframe","selectStatsChartData","_ref45","rest","noLastOne","objectWithoutProperties","_ref46","_ref47","memo","labels","datasets","_ref44","parseInt","parseValueByMetric","_ref48","_ref48$noLastOne","_ref48$metric","_ref48$timeframe","selectChartDatapointsImpressions","_ref49","_ref50","_ref50$side","_ref50$timeframe","selectChartDatapointsClicks","_ref51","_ref52","_ref52$side","_ref52$timeframe","selectChartDatapointsPayouts","_ref53","payouts","_ref54","_ref54$side","_ref54$timeframe","selectChartDatapointsCPM","_ref55","_ref56","result","n","_ref57","_ref57$side","_ref57$timeframe","selectPublisherReceipts","_ref58","selectPublisherReceiptsPresentMonths","r","selectAnalyticsMinAndMaxDates","setMinutes","dateCreated","activeFrom","_campaign$status","closedDate","selectValidations","selectValidationsById","useStyles","makeStyles","theme","externalIcon","marginLeft","spacing","fontSize","link","display","alignItems","fullWidth","width","Anchor","href","target","children","underline","color","component","className","classes","isExternal","getUrl","linkProps","draggable","rel","style","wordBreak","react_default","createElement","Link","assign","clsx","OpenInNew","ExternalAnchor","anchor_Anchor","fontWeight","CountryTiers","constants","AllCountries","OsGroups","_ref$targetingData","_ref2$minByCategory","_ref3$countryTiersCoe","selectMinTargetingCpm","coefficients","selectTargetingCategoriesByType","mapTargetingDataToPublishers","reachPerMillion","selectTargetingPublishersByType","selectTargetingCategories","selectAllTargetingPublishers","autocompleteLocationsSingleSelect","tiers","ruleValue","countries","extraLabel","group","autocompleteCategoriesMultiSelectIn","cat","IabCategories","wrbshrinkerWebsiteApiV3Categories","autocompleteCategoriesMultiSelectNin","getPublisherExtraDataLabel","publisher","autocompletePublishersMultiSelectIn","pub","JSON","stringify","extraData","autocompletePublishersMultiSelectNin","audienceSources","parameter","applyType","actions","minSelected","extraInfo","anchor_ExternalAnchor","disabledValues","helper","oss","selectAutocompleteAudienceSources","locations","catIn","catNin","pubIn","pubNin","singleValuesSrc","multipleValuesSrc","in","nin","selectAudienceSourcesWithOptions","sourcesData","s","source","selectAudienceValidations","__","___","selectAudienceInputsDataByItem","____","advancedOnly","allSrcsWithOptions","selectedItem","isCampaignAudienceItem","errorParameters","errFields","SOURCES","allSrcs","disabled","selectedPublishersCategories","has","getDisabledValues","selectNewTransactionById","txns","WHITE","BLACK","ACCENT_TWO","primary","main","dark","light","lightest","contrastText","secondary","darkPrimary","darkSecondary","paletteCommon","grey","lightGrey","warning","success","info","error","first","lime","common","white","black","paletteDark","accentOne","accentTwo","divider","fade","background","paper","hover","hoverOpacity","selected","selectedOpacity","disabledOpacity","focus","focusOpacity","activatedOpacity","appBar","text","icon","hint","solid","paletteLight","contrastThreshold","tonalOffset","disabledBackground","tooltipBgColor","palette","typography","fontFamily","defaultTheme","createMuiTheme","darkShadows","shadows","lightShadows","commonTheme","overrides","MuiButton","root","borderRadius","outlined","borderColor","contained","backgroundColor","boxShadow","&:hover","@media (hover: none)","&$focusVisible","&:active","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","tooltip","pxToRem","arrow","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","MuiTableFooter","flex","padding","MuiAppBar","colorDefault","MUIDataTablePagination","toolbar","MUIDataTableFilter","maxWidth","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","breakpoints","down","height","borderBottom","MUIDataTable","border","MUIDataTableBody","emptyTitle","defaultThemeWithOverrides","responsiveFontSizes","factor","darkTheme","lightTheme","CountryNames","numericToAlpha2","pricingBondsToUserInputPerMile","helpers","selectCampaignsTableData","archived","_ref$decimals","depositAsset","_item$spec","spec","_item$adUnits","pricingBoundsCPMUserInput","specPricingBounds","firstUnit","to","toReceipt","cpm","pricingBounds","minPerImpression","maxPerImpression","_ref2$impressions","_ref2$clicks","media","mediaUrl","mediaMime","depositAmount","fundsDistributedRatio","ctr","receiptReady","receiptAvailable","selectCampaignsMaxImpressions","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref3$decimals","selectAdSlotsTableData","earnings","getTabledData","selectOnImage","selectAllAdUnitsTableData","adUnitsTotalStats","selectAdUnitsByCampaignTableData","selectAdUnitsByItemsTableData","adUnitsToatalStats","selectAdUnitsTableData","selectAudiencesTableData","audiences","mapByCountryTableData","impressionsByCountry","clicksByCountry","impressionsAggrByCountry","impressionsPayByCountry","clicksPayByCountry","addEarnings","countryName","percentImpressions","averageCPM","selectPublisherStatsByCountryData","selectCampaignAnalyticsToCountryData","selectPublisherStatsByCountryTableData","selectCampaignAnalyticsToCountryTableData","mapByCountryMapChartData","colorScale","scaleLinear","domain","range","chartData","chartCountriesData","objects","geometries","tooltipElements","properties","fillColor","hoverColor","pressedColor","selectPublisherStatsByCountryMapChartData","selectCampaignAnalyticsToCountryMapChartData","selectBestEarnersTableData","selectCampaignStatsTableData","_advanced","campaignAudienceInput","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","rules","isBlacklisted","website","selectCampaignStatsMaxValues","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectAdUnitsStatsMaxValues","selectPublisherReceiptsStatsByMonthTableData","_ref15$decimals","_i","_Object$entries","selectPublisherReceiptsStatsByMonthTotalValues","totalPayouts","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","impressionsData","clicksData","hoverBackgroundColor","borderWidth","_ref3$campaignId","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","AUTH_TYPES","AdUnitsTypes","READONLY","METAMASK","signType","GETH","limit","TREZOR","DEMO","GRANT","QUICK","SEED","ETHEREUM_NETWORKS","1","for","5","production","development","UTM_PARAMS","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","WHERE_YOU_KNOW_US","USER_SIDES","extraLabels","WALLET_ACTIONS_MSGS","_WALLET_ACTIONS_MSGS","message","strong","EXECUTE_ACTIONS","withdraw","privilegesChange","ensChange","openCampaign","selectSlotTypesSourceWithDemands","symbol","dA","BigNumber","avgCPM","dB","gt","index","hasPopularGroup","hasNoDemandGroup","demandIfo","totalVolume","selectVerifiedActiveTypes","verified","typeData","get","byOwner","minSlotCount","revenue","totalEarned","totalRevenue","selectUnitTypesSourceWithRecommendations","verifiedTypes","totoShare","_ref4$revenue","typeRest","share","hasLessPopularGroup","selectMonthsRange","startDate","endDate","diff","selectReceiptMonths","monthsEnd","monthTimestamp","selectFromSource","labelValueMapping","translated","l","selectKnowUsFromSource","selectUserSides","websitesAutocompleteSrc","issues","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","_ref$meta","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","adSlotsArray","hasVerifiedSites","selectHasAdSlotImpressions","selectHas5000Impressions","selectStepsData","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","selectLocation","selectLocationQuery","query","selectSearchParams","URLSearchParams","ITEMS_SELECTORS","receipt","SIDES","advertiser","selectDashboardBreadcrumbs","_ref4$pathname","paths","sideDashboard","sideDashboardBC","restBC","prev","selector","bc","restCopy","receiptAt","selectCampaignWithAnalyticsById","execute","miscHelpers","hexToRgbaColorString","hex","alpha","substr","hexToDec","h","g","getErrMsg","err","stack","isInt","int","shuffleArray","array","random","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","initial","valueOf","queryParams","encodeURIComponent","getErrorMsg","msg","errMsg","updateSpinner","updateGlobalUi","updateMemoryUi","updateInitialDataLoaded","loaded","updateUiByIdentity","updateIdentitySideUi","addToast","_ref$label","_ref$timeout","timeout","unclosable","anchorOrigin","top","Helper","getGuid","removeToast","toastId","confirmAction","_ref2$confirmLabel","confirmLabel","_ref2$cancelLabel","cancelLabel","_ref2$title","_ref2$text","_ref2$noCancel","noCancel","_ref2$noConfirm","noConfirm","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","abrupt","sent","stop","_x","updateNav","changeLanguage","updateRegistrationAllowed","updateCompanyData","_callee2","_context2","console","_x2","_x3","updateSelectedItems","resetSelectedItems","updateSelectedCampaigns","updateNewVersion","shouldForceRefresh","_callee3","_context3","_x4","_x5","refreshCacheAndReload","_callee5","_context5","caches","then","_callee4","names","_context4","Promise","delete","_x8","reload","_x6","_x7","notifyNewTOS","Button","variant","onClick","open","handleRedirectParams","searchParams","grant","selectedIdentity","updateEasterEggsAllowed","updatePrivilegesWarningAccepted","accepted","setGettingStartedExpanded","expanded","updateIdSideAnalyticsChartPeriod","periodStart","_getTimePeriods","updateAnalyticsPeriodPrevNextLive","_ref10$next","_ref10$live","live","_callee6","_selectAnalyticsMinAn","_selectIdentitySideAn","_context6","_x9","_x10","updateIdSideAnalyticsChartTimeframe","updateWindowReloading","isReloading","updateTableState","tableState","filteredState","rowsPerPage","activeColumn","filterList","searchProps","searchText","sortOrder","viewColumnsState","updateTableStateSelectedRows","selectedRows","resetAllTableState","_getState","resetTableStateById","contracts","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","LocalProvider","startsWith","providers","WebSocketProvider","JsonRpcProvider","getEthersResult","provider","adexCore","coreAddr","Contract","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","getToken","getIdentity","localWeb3","localProvider","relayerCfg","getEthers","currentProviderCfg","isProviderRelayerConfigChanged","loadInjectedWeb3","resolve","reject","detectEthereumProvider","ethereum","getMetamaskSelectedAddress","accounts","isMetaMask","request","method","t0","log","connectMetaMask","code","injectedWeb3Provider","Web3Provider","getLocalWeb3Provider","mode","ethereumNetworkId","chainId","getEthereumProviderName","_callee7","_context7","getMetamaskEthereum","_callee8","_context8","isEthAddressERC20","contract","_args","isEthAddress","ethers","ERC20TokenABI","totalSupply","balanceOf","AddressZero","allowance","isConnectionLost","eth","race","setTimeout","getBlockNumber","passwordRegex","validPassword","test","getAddress","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","_ref$quickCheck","quickCheck","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$username","username","ensAddress","resolveName","Looper","_this","syncAction","_ref$loopName","loopName","stopOn","clearLoopTimeout","loopTimeout","clearTimeout","syncData","makeStopCheck","startLoop","checkLoop","onSync","LOOP_TIMEOUT","campaignsLoop","Loop","_syncAction","updateUserCampaigns","accountStatsLoop","updateAccountStats","analyticsLoop","updateAccountAnalytics","analyticsLoopCustom","_syncAction3","advancedAnalyticsLoop","_syncAction4","updateAccountAdvancedAnalytics","logOut","skipRedirect","dimension1","dimension2","resetAccount","statsLoop","resetIdentity","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","handleRequesterErrorRes","res","textObj","_unused","statusText","requester","AdexNodeRequester","baseUrl","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","route","fetch","_ref4$route","_ref4$queryParams","_ref4$method","body","_ref4$headers","headers","_ref4$authSig","userAddr","_ref4$noCache","authToken","noCache","qp","_authType","demo","getQuery","hdrs","Requester","processResponse","json","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","txnsRaw","signatures","channel","Content-Type","regAccount","knowFrom","userSide","moreInfo","bytecode","baseIdentityAddr","salt","privileges","routineAuthorizationsRaw","getQuickWallet","backupWallet","encryptedWallet","getEmail","src","country","genders","Genders","gender","tags","PredefinedTags","tag","custom","DAY","MAX_CAMPAIGN_WITHDRAW_START_DAYS","MAX_CAMPAIGN_WITHDRAW_START","IdentityPrivilegeLevel","bondPerActionToUserInputPerMileValue","campaignPut","schemas","isNumberString","validateAddress","validate","isValid","updateValidationErrors","resetValidationErrors","_ref4$err","fields","_ref4$dirty","_ref4$removeAll","removeAll","handleAfterValidation","onValid","onInvalid","validateEmailCheck","emailCheck","validatePassword","validatePasswordCheck","passwordCheck","_x11","validateTOS","_x12","_x13","validateENS","_x14","validateWallet","_callee9","_context9","_x15","_x16","validateIdentityContractOwner","identityContractOwner","_callee10","_context10","_x17","_x18","validateKnowFrom","_callee11","_context11","_x19","_x20","validateUserSide","_callee12","_context12","_x21","_x22","validateMoreInfo","_callee13","_context13","_x23","_x24","validateAccessWarning","_callee14","_context14","_x25","_x26","validateCampaignUnits","_callee15","_context15","_x27","_x28","validateCampaignValidators","_ref22","_callee16","_context16","feeNum","feeDen","feeAddr","_x29","_x30","validateFees","feesAmountBN","amountToSpendBN","_ref24$errorMsg","errorMsg","_ref25","_callee17","_selectAccountStatsRa","availableIdentityBalanceMainTokenRaw","_selectAccountStatsFo","availableIdentityBalanceMainTokenFormatted","amountNeeded","_selectMainToken","amountNeededFormatted","_context17","availableIdentityBalanceMainToken","_x31","_x32","validateWithdrawAmount","_ref26","amountToWithdraw","_ref27","_callee18","_context18","parseUnits","_x33","validateNumberString","integerOnly","_callee19","_context19","_x34","_x35","validateCampaignAmount","_ref30$pricingBounds","maxDeposit","_callee20","isValidNumberDeposit","isValidNumberMin","isValidNumberMax","checkSpeckBounds","isValidDeposit","isValidMin","isValidMax","msgDeposit","msgMin","msgMax","argsMin","argsMax","argsDeposit","depositBn","minBn","maxBn","_context20","lt","lte","div","_x36","_x37","getCampaignDatesValidation","_ref32$created","errActiveFrom","errWithdrawPeriodStart","validateCampaignDates","_callee21","_getCampaignDatesVali","_context21","_x38","_x39","validateCampaignTitle","_callee22","_context22","Joi","_x40","_x41","validateEthAddress","_ref37$nonZeroAddr","_ref37$nonERC","_callee23","_context23","_x42","_x43","validatePrivilegesAddress","_ref40$setAddr","setAddr","_ref40$walletAddr","walletAddr","privLevel","warningAccepted","_callee24","isCurrentAddress","_context24","_x44","_x45","validatePrivLevel","_callee25","_context25","_x46","_x47","validateSchemaProp","schema","_callee26","_context26","_x48","validateEmail","validateNotExisting","_callee27","existing","_context27","_x49","locationAudienceInputError","publishersAudienceInputError","categoriesAudienceInputError","_ref50$apply","devicesAudienceInputError","validateAudience","propName","_callee28","errArgs","_context28","_x50","isVideoMedia","getMediaSize","mime","video","document","onloadedmetadata","videoWidth","videoHeight","getVideoSize","image","Image","onload","getImageSize","checkExactishAspect","widthTarget","heightTarget","maxPercentTolerance","targetAspect","aspect","aspectDiff","validateMediaSize","exact","required","tempUrl","mediaWidth","mediaHeight","dontThrow","getSession","signature","typedData","signerAddress","checkSession","skipErrToast","convertItemToJSON","itemToConvert","getAdUnits","postAdUnit","updateAdUnit","getAdSlots","postAdSlot","slot","updateAdSlot","closeCampaignMarket","getCampaigns","statuses","byEarner","byCreator","cacheBrake","statusOnly","updateCampaign","verifyWebsite","websiteUrl","getUserAudiences","putAudience","audience","postAudience","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","URL","revokeObjectURL","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","getAllItems","onDataUpdated","resAudiences","resUnits","resSlots","userSlots","userPassbackUnits","slotsWithUnits","slotWithUnitsRes","passbackUnits","passbacks","targetUrl","fallbackUnit","updateItems","updateItem","_ref7$action","_ref7$goToTableOnSucc","onSuccess","goToTableOnSuccess","updatedItem","path","marketUpdate","t1","findSourceByTag","cloneItem","response","mediaURL","mediaSize","targets","placeholder","getMediaUrlWithProvider","createObjectURL","call","t2","archiveItem","setCurrentItem","updateCurrentItem","newMeta","addNewTag","addSig","sig","expiryTime","_ref$identity","setItem","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getItem","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","getAddsParams","_ref$from","_ref$to","bundle","showOnTrezor","getAddresses","_ref3$from","_ref3$to","payload","ethereumGetAddress","signTx","params","txProps","txSigned","resolveProperties","hexlify","ethereumSignTransaction","transaction","v","serializeTransaction","sendTransaction","txData","signMessage","_args4","ethereumSignMessage","connect","_provider","_path","Signer","loadFromLocalStorage","saveToLocalStorage","serialized","warn","removeFromLocalStorage","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","generateSalt","isLegacyCrypto","getRandomMnemonic","randomEntropy","randomBytes","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","walletData","Wallet","fromMnemonic","phrase","privateKey","encrKey","encryptLegacy","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","encrypted","encrypt","decrData","_decrData","_ref4$email","decryptedStr","decr","decryptLegacy","decrypt","t3","createLocalWallet","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","migrateLegacyWallet","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getLocalWallet","getEncrypted","removeLegacyKey","_removeLegacyKey","_ref7$email","_ref7$password","addDataToWallet","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","dataKey","_ref8$dataValue","dataValue","getRecoveryWalletData","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","props","walletInfo","mail","getAllWallets","isWallet","getWalletHash","_getWalletHash","passwordId","dataStr","keccak256","LocalSigner","getWallet","_this$_opts","_wallet","_opts","signetTx","_args5","arrayify","MetaMaskSigner","_signer","_args3","getSigner","_getSigner","signer","_signer2","getTypedDataHash","entry","toUtf8Bytes","valuesHash","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","MAX_SAFE_INTEGER","_signTx","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getValidatorRequester","getRequesters","leader","follower","validator","getValidatorAuthToken","validatorId","existingAuth","validatorAuthTokens","era","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","results","authTokens","lastApprovedState","closeCampaign","events","updateTargeting","targetingRules","identityAnalytics","leaderAuth","segmentByChannel","weekHoursSpan","aggregates","timezone","getCurrentTimezone","identityAdvancedAnalytics","timeBasedAnalytics","privilegesNames","valueToKey","tokenAvailableBalance","balance","feeToken","mul","getTotalAccountRevenue","withdrawTokens","revenuePr","balanceMainToken","tokenInMainTokenValue","getWithdrawTokensBalances","getFullBalances","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","tokenContract","available","balanceData","getAddressBalances","_getAddressBalances","calls","getBalance","serializedPath","balanceEth","formatEther","tokensBalances","getAccountStats","_getAccountStats","_ref11$outstandingBal","outstandingBalanceMainToken","_ref11$outstandingBal2","outstandingBalanceAllMainToken","_identity$status","identityContract","privilegesAction","_ref22$","identityWithdrawTokensBalancesBalances","walletPrivileges","deployed","catch","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","totalOutstandingBalanceAllMainToken","availableIdentityBalanceAllMainToken","totalIdentityBalanceAllMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_getOutstandingBalance","withBalance","bigZero","allOutstanding","amounts","ch","outstanding","outstandingAvailable","getAllValidatorsAuthForIdentity","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","_objectSpread2","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_tokenInMainTokenValue","_selectMainToken2","valueInMainToken","Interface","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","getIdentityDeployData","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","outpace","validUntil","feeTokenAddr","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","withdrawFromIdentity","_withdrawFromIdentity","withdrawTo","getFeesOnly","tokenAddr","toWithdraw","withdrawTx","txnsByFeeToken","fees","mtBalance","maxWithdraw","actualWithdrawAmount","encodeFunctionData","getIdentityTxnsWithNoncesAndFees","amountInMainTokenNeeded","executeAction","getIdentityTxnsTotalFees","totalBN","sub","toGet","breakdownFormatted","processExecuteByFeeTokens","setIdentityPrivilege","_setIdentityPrivilege","identityInterface","tx1","txnsByTokenWithSaiToDaiSwap","daiAddr","_txns$reduce","withdrawAmountByToken","saiWithdrawAmount","addIdentityENS","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$executeAction","_ref6$txns","saiToken","mainTokenWithFees","isDeployed","initialNonce","baseFee","mainTxnsFees","feesForMainTxns","totalAmountInMainTokenNeeded","_ref17$sweepTxns","sweepTxns","_ref17$swapAmountsByT","swapAmountsByToken","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","nonce","toNumber","executeBaseFee","minRecommended","minDeploy","getSweepingTxnsIfNeeded","t4","swapSaiToDaiTxns","swapAmount","t5","t6","_tx$routinesSweepTxCo","routinesSweepTxCount","_tx$extraTxFeesCount","extraTxFeesCount","isSweepTx","isDeployTx","txFeeAmount","addBaseFee","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","feesBreakdown","txWithNonce","getApproveTxns","_getApproveTxns","approveForAddress","approveAmount","approveTxns","swapTx","_getIdentityTxnsTotalFees","_ref9$mainToken","_Object$values$reduce","byToken","totalBreakdown","byTokenFormatted","byFeeToken","txnsCount","sweepTxnsCount","sweepTxnsFeeAmount","deployFee","_feeTokenWhitelist$ke","fee","feeFormatted","txnsFee","_processExecuteByFeeTokens","_ref10$extraData","withdrawOtherTokensFromIdentity","_withdrawOtherTokensFromIdentity","tokenAddress","tokenDecimals","_selectRelayerConfig4","userInputPricingBoundsPerMileToRulesValue","Core","IdentityInterface","IdentityABI","VALID_UNTIL_FROM_CREATION","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","GLOBAL_MIN_CPM","GLOBAL_MAX_CPM","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","crypto","createHash","update","digest","Channel","creator","tokenAmount","getReadyCampaign","newCampaign","input","_ref$divider","userInputToTokenValue","eventSubmission","allow","uids","rateLimit","getWithdrawnPerUserOutstanding","withdrawnPerUser","functions","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","withOutstandingBalanceAll","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_channel$status","bTree","BalanceTree","balanceNum","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref6$withBalance","_withBalance$sort$red","eligible","c1","c2","sum","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","routineOpts","RoutineOps","channelWithdraw","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","getSwapAmountsByToken","swaps","swapsSumInMainToken","swapsByToken","_getSweepingTxnsIfNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","channelOpenTx","maxAvailable","maxAvailableFormatted","storeCampaign","feesFormatted","closeChannel","_closeChannel","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","VALIDATOR_LEADER_ID","analyticsParams","callsParams","analyticsCampaignsParams","aggrByChannelsSegments","_aggr$sort$reduce","aggregations","channelId","currentAggr","currentChannelValue","currentTimeValue","updateAccountAnalyticsThrottled","feeTokens","accountChanged","timeframeIsLive","allAnalytics","updateAnalyticsLastChecked","updateValidatorAuthTokens","newAuth","_selectStatsChartData","aggrByChannelSegments","isAccountChanged","leading","trailing","getReceiptData","presentMonths","monthsWanted","monthsNeeded","promises","startDateNeeded","endDateNeeded","resolvedPromises","getMonthTimeStamp","updateSlotsDemand","demandAnalytics","updateTargetingData","updateSlotsDemandThrottled","updateTargetingDataThrottled","updateSignin","resetSignin","createAccount","acc","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","hasAuth","accountCheck","updateAccountIdentityData","updatedIdentity","isLimitedVolume","newTokens","createSession","_ref8$identity","deleteLegacyKey","sessionSignature","leaderValidatorAuth","redirectSide","persistUserSide","goTo","getRelayerConfig","isMetamaskMatters","doesItMatter","onMetamaskNetworkChange","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","metamaskAccountCheck","selectedAddress","metamaskNetworkCheck","metamaskChecks","on","hasBackup","makeBackup","walletSalt","walletHash","ensureQuickWalletBackup","_selectWallet","isLocal","loadAccountData","stopAccountDataUpdate","beforeWeb3","updateIdentity","initIdentity","updateWallet","resetWallet","onUploadLocalWallet","event","file","reader","onError","files","FileReader","ev","onerror","abort","onabort","readAsText","updateOwnerIdentities","identityData","ens","lookupAddress","login","_selectIdentity","identityTxData","registerAccount","validateQuickLogin","actualAuthType","identityPrivileges","validateStandardLogin","identityContractAddress","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","validateQuickDeploy","_identityAddr","validateQuickInfo","tosCheck","validateFullInfo","accessWarningCheck","validateContractOwner","updateIdentityWallet","hdWalletAddrPath","hdWalletAddrIdx","handleSignupLink","resolveEnsAddress","checkAuthMetamask","metamaskSigner","connectTrezor","trezorSigner","allAddressesData","addrData","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","getGasPrice","gasPrice","updateNewTransaction","resetNewTransaction","checkNetworkCongestion","showToast","gasPriceCapGwei","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","handleFeesData","stepsId","actionName","feeDataAction","feesData","validatePrivilegesChange","txId","_selectNewTransaction","inputValidations","validation","updateIdentityPrivilege","validateIdentityWithdraw","_selectNewTransaction2","validateIdentityWithdrawAny","_selectNewTransaction3","identityWithdrawAny","identityWithdraw","validateENSChange","_selectNewTransaction4","setIdentityENS","completeTx","competeAction","NEW_CAMPAIGN_UNITS","updateNewItem","resetNewItem","updateNewItemAction","Models","itemClassByName","updateNewSlot","updateNewUnit","updateNewCampaign","updateNewAudience","updateNewWebsite","updateNewItemTarget","_ref8$target","remove","_newValues","_selectNewItemByTypeA","hasIndex","filtered","isInteger","splice","updateTargetRuleInput","_ref10$target","isAudience","newInputs","completeItem","audiencePost","audiencePut","updateAudienceInput","updateField","validateAndUpdateAudience","onUpdateSuccess","updatedAudience","mapCurrentToNewAudience","dirtyProps","saveAudience","newAudience","resItem","marketAdd","validateAudienceBasics","validateAudienceInput","_selectNewAudience","_selectNewAudience$in","addUrlUtmTracking","content","protocol","host","audienceInputToTargetingRules","getSuggestedPricingBounds","updateCampaignOnMarket","toastLabel","toastArgs","toastType","updatedCampaign","updateAllData","selectedCampaign","updateCampaignState","getHumanFriendlyName","isPaused","onlyShowIf","updateCampaignAudienceInput","fieldName","mapCurrentToNewCampaignAudienceInput","initialAudienceInput","itemAudienceInput","_ref11$updateAllData","_selectAccount","stateCampaigns","pauseOrResumeCampaign","currentTargetingRules","newRules","shift","unshift","excludeOrIncludeWebsites","hostnames","exclude","newAudienceInput","_newAudienceInput$inp","_inputs$publishers","newIn","_newIn","newNin","_newNin","_newNin2","roastArgs","tempValidators","validateNewCampaignAdUnits","validateCampaignAudienceInput","_selectNewCampaign","_selectNewCampaign$au","suggestedPricingBounds","validateNewCampaignFinance","_selectMainToken3","_campaign$temp","maxChannelFees","newTemp","rulesPricingBounds","maxDepositFormatted","getCampaignActualFees","_campaign$temp2","totalSpend","totalSpendFormatted","handlePrintSelectedReceiptsAdvertiser","validateAndUpdateCampaign","itemPlain","_selectRoutineWithdra","isMinUpdated","isMaxUpdated","isAudienceUpdated","depositAmountInputString","pricingBoundsCPMUserInputString","pricingBoundsImpressionBnString","_selectMainToken4","_decimals","numStringCPMtoImpression","numStr","getWidAndHightFromType","ItemsConstants","ItemsTypes","AdTypesByValue","AdSizesByValue","sizes","ipfsSrc","Regexes","ipfsRegex","getImgObjectUrlFromExternalUrl","imgUrl","objectUrl","adSlotPost","adUnitPost","adSlotPut","slotRulesInputToTargetingRules","VALIDATOR_FOLLOWER_FEE_NUM","VALIDATOR_FOLLOWER_FEE_DEN","getRuleMinCPMWithValidatorFeeAdded","cpmInput","getFallbackUnit","description","imageIpfs","resUnit","passback","validateNewSlotBasics","_slot$minPerImpressio","_ref4$inputs","suggestedMinCPM","rulesCPMWithValidatorFee","validateNewSlotPassback","_selectNewItemByTypeA2","useFallback","_getWidAndHightFromTy","saveSlot","updateWebsiteVerification","mapCurrentToNewPassback","isDirty","updateSlotPasback","updateMultipleFields","onValidProp","_selectNewItemByTypeA3","validateAndUpdateSlot","slotRulesInput","newSlot","updateMinPerImpression","updateRules","minCPM","rulesCPM","isPassbackUpdated","fallbackData","newUnit","finalValidations","updatedSlot","validateAndSaveNewWebsiteBasics","adUnitPut","validateNewUnitBasics","_selectNewAdUnit","validateNewUnitMedia","_selectNewAdUnit2","_selectNewAdUnit2$tem","saveUnit","validateAndUpdateUnit","updatedUnit","uiActions","validationActions","mediaValidations","itemActions","accountActions","identityActions","bidActions","transactionActions","analyticsActions","newItemsActions","audienceActions","campaignActions","slotActions","unitActions","typeToSeverity","accept","cancel","Toast","_useState","useState","_useState2","setActive","_useState3","_useState4","setToast","useSelector","useEffect","nextToast","vertical","horizontal","close","Snackbar","autoHideDuration","onClose","Alert","severity","react","IconButton","aria-label","Close","Confirm","setOpen","_useSelector","_useSelector$data","_useSelector$data$tit","_useSelector$data$tex","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","withReactRouterLink","Component","Decorated","_React$Component","_getPrototypeOf2","_len","_key","resolveToLocation","createHref","handleClick","_this$props","preventDefault","stopPropagation","_this$props2","forwardedRef","staticContext","toLocation","ref","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","Icon","SvgIcon","pure","muiName","d","sideIndex","0","handleChange","useTabsStyles","indicator","useTabStyles","activeColor","minWidth","&$selected","SideSwitch","tabsClasses","tabClasses","Box","bgcolor","Divider","Tabs","onChange","textColor","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","RRAdexIconTxt","AdexIconTxt","RRAdexIconTxtDark","AdexIconTxtDark","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","sntPadding","paddingTop","navListRoot","flexDirection","justifyContent","navList","position","left","right","bottom","overflowY","overflowX","sideNavToolbar","paddingLeft","borderTopWidth","borderTopColor","borderTopStyle","&:focus","& .MuiListItemIcon-root","adxLink","sideSwitch","marginBottom","cursor","SideNav","useTheme","routerLocation","AdxIcon","flexGrow","spinners_LoadingSection","Typography","button","dashboard_SideSwitch","List","classnames","ListItemIcon","Dashboard_default","ListItemText","List_default","Fragment","CampaignIcon","Group_default","WebSharp_default","Receipt","MonetizationOn_default","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","alt","marginRight","ButtonMenu","btnStyle","rightIcon","leftIconSrc","anchorEl","setAnchorEl","handleClose","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-haspopup","aria-controls","overflow","textOverflow","Menu","Boolean","getContentAnchorEl","transformOrigin","Children","child","Translate","getAuthLogo","metamaskLogo","trezorLogo","demoLogo","THEMES","MultiThemeContext","createContext","MultiThemeProvider","themeType","setThemeType","setTheme","lastTheme","contextValue","switchTheme","Provider","ThemeProvider","ThemeSwitch","_useContext","useContext","Brightness7Sharp","Brightness6Sharp","styles","_drawerPaper","_content","marginTop","up","paddingRight","flexRow","flexBasis","paddingBottom","&:last-child","toolbarControls","toolbarTitle","flexFlow","drawerPaper","contentInner","margin","breadcrumbElement","RRMenuItem","MenuItem","RRLink","handleDrawerToggle","imgSrc","breadcrumbs","btnMenuLabel","AppBar","Toolbar","Hidden","mdUp","pl","Menu_default","smDown","Breadcrumbs","noWrap","pr","react_jazzicon_lib_default","diameter","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","ExitToApp_default","imgLoading","circular","fullscreenIcon","minHeight","dialog","@media(max-width:744px)","@media(max-height:823px)","dialogImageParent","@media(max-width:1080px)","maxHeight","dialogImage","img","objectFit","wrapper","cellImg","Media","fallbackSrc","allowVideo","allowFullscreen","classNameImg","fullScreenOnClick","isCellImg","controls","loadTimeout","useRef","displayImage","displayVideo","isVideo","setMedia","handleToggle","clearLoadTimeout","clearEvents","onFail","useCallback","fallback","VIDEO_IMAGE","NO_IMAGE","mediaSrc","renderMedia","onclick","imgClasses","videoClasses","autoPlay","muted","loop","onDragStart","renderFullscreenDialog","Fab","Fullscreen_default","generalTableOptions","rowsPerPageOptions","setTableProps","align","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","deleteAria","customFilterDialogFooter","_currentFilterList","applyNewFilters","downloadOptions","filterOptions","useDisplayedColumnsOnly","useDisplayedRowsOnly","progress","MUIDataTableEnhanced","columns","handleRowSelectionChange","columnOrder","rowsSelected","columnsWithFilters","col","mui_datatables_dist_default","elevation","confirmFilters","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","selectToolbarPlacement","toolbarEnabled","responsive","onTableChange","newTableState","onFilterConfirm","onFilterChipClose","onRowSelectionChange","_currentRowsSelected","allRowsSelected","selectedIndexes","row","dataIndex","selectedItemsIds","onViewColumnsChange","changedColumn","_tableState$viewColum","newVewColumns","IconTooltip","Tooltip","mapStatusIcons","xs","md","ls","_status$name","_status$humanFriendly","Wait","tableHelpers_IconTooltip","HourglassFullSharp","Done","DoneAllSharp","Warning","WarningSharp","Cash","MonetizationOnSharp","Pause","PauseSharp","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","steps","precision","getSliderStep","filterType","customFilterListOptions","render","filterPos","logic","rowNumber","filters","formated","gutterBottom","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","buttonProgress","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","startIcon","Print","RRIconButton","RRMedia","getCols","customBodyRender","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","customToolbarSelect","displayData","_setSelectedRows","CampaignsTable","campaignsLoaded","setOptions","_useTableData","Tables_MUIDataTableEnhanced","errColor","errChip","& svg","DirtyErrors","_ref$chipsProps","chipsProps","_ref$boxProps","boxProps","dirtyErrors","dirtyErrs","field","getDirtyValidationErrors","Chip","esm_Error","buttonSuccess","fabProgress","zIndex","@keyframes pulse","0%","opacity","transform","50%","100%","pulse","&::before","transition","animation","SaveBtn","_ref$dirtyProps","save","isDisabled","Check","Save","card","mediaRoot","basicInfo","flexWrap","buttonRight","buttonLeft","textField","changesLine","changeChip","editIcon","mediaPropChip","changeControls","changeControlsPaper","itemTabsBar","itemTabsContainer","borderTop","DirtyProps","returnPropToInitialState","react_router","when","Info","onDelete","deleteIcon","UndoOutlined","ChangeControls","hookProps","Collapse","itemCommonNew_DirtyProps","SaveBtn_SaveBtn","dirtyErrors_DirtyErrors","mt","ItemTabsContainer","noBackground","Paper","ItemTabsBar","ItemSpecProp","_ref4$value","helperText","InputProps","TextField","readOnly","ItemTitle","errTitle","setActiveFields","_ref5$activeFields","activeFields","showError","errMsgArgs","endAdornment","InputAdornment","Edit","ItemDescription","errDescription","_ref6$activeFields","multiline","rows","ItemAdType","OpenInNewIconBtn","IconButtonWithRef","itemCommonNew_OpenInNewIconBtn","ItemTargetURL","_ref9$targetUrl","ItemFallbackMediaURL","_ref10$targetUrl","MediaCard","_ref11$mediaUrl","_ref11$mediaMime","_ref11$label","Card","raised","CardMedia","common_media","ItemWebsite","_ref12$item","_ref12$initialItemSta","initialItemState","_ref12$activeFields","dangerouslySetInnerHTML","__html","ArchiveItemBtn","_ref13$itemType","isIconBtn","labelArgs","ArchiveSharp","useItem","validateAndUpdateFn","seItemPlain","_useState5","_useState6","setInitialItemState","_useState7","_useState8","setFields","_useState9","_useState10","setDirtyProps","_useState11","_useState12","setValidateId","_useState13","_useState14","validateAfterReset","setValidateAfterReset","storeItem","dirtyIndex","findIndex","newDirtyProps","dpValue","dp","dirtyFields","&$active","stepperWrapper","pagePaper","textAlign","@media(max-width:475px)","mobileStepper","buttonProgressWrapper","StepperNav","currentPage","innerWidth","MobileStepper","activeStep","Stepper","alternativeLabel","Step","StepLabel","MaterialStepper","_props$initialPage","initialPage","_props$steps","closeDialog","setCurrentPage","isBack","setIsBack","canReverse","pageProps","Comp","validationFn","completeFn","_page$completeBtnTitl","completeBtnTitle","_page$nextBtnTitle","nextBtnTitle","validationSpinner","stepsSpinner","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","handleComplete","onKeyPressed","onKeyPress","mb","stepperNav","MaterialUiStepper_StepperNav","cancelFunction","FormSteps","stepperSteps","setSteps","_useSelector$step","updatedSteps","MaterialUiStepper","dialogTitle","wordWrap","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","textTransform","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","withStyles","Transition","Slide","eventMap","NEW_UNIT","NEW_CAMPAIGN","NEW_AUDIENCE","NEW_CAMPAIGN_FROM_AUDIENCE","NEW_SLOT","NEW_WEBSITE","ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN","WithDialogHoc","WithDialog","_props$disableBackdro","disableBackdropClick","iconButton","textButton","fabButton","btnLabelArgs","mini","btnLabel","dialogActions","onBeforeOpen","btnProps","locationWithDash","eventMapFound","ButtonComponent","btnLabelTranslated","second","TransitionComponent","disableTypography","Cancel_default","formControl","groupHeader","menuItem","select","ExtraLabel","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","_props$fullWidth","noSrcLabel","IconComponent","FormControl","InputLabel","htmlFor","Select","selectMenu","ListSubheader","Dropdown_ExtraLabel","InfoSharp","FormHelperText","spinners_InputLoading","AdUnitBasic","typesSources","_useSelector2","errTargetUrl","errType","Grid","container","dropdown_Dropdown","getCroppedImgUrl","crop","fileName","canvas","scaleX","naturalWidth","scaleY","naturalHeight","sourceWidth","sourceHeight","getContext","drawImage","y","finalCanvas","bl","bctx","blur","toBlob","PropBaseComponent","inputRef","OutlinedPropView","py","shrink","disableAnimation","OutlinedInput","notched","inputComponent","inputProps","dropzone","isDragActive","isDragAccept","isDragReject","cropzone","imgDropzonePreview","dropzoneBtn","uploadActions","MediaForm","additionalInfo","propsMime","_useDropzone","useDropzone","maxSize","maxFiles","multiple","noDragEventsBubbling","acceptedFiles","fileRejections","getRootProps","getInputProps","imgRef","setImgRef","setCrop","cropMode","setCropMode","mediaName","setMediaName","setMime","setMediaSrc","isVideoSrc","setIsVideoSrc","onLoad","clearMedia","saveCropped","croppedBlob","common_OutlinedPropView_OutlinedPropView","alignContent","sm","ReactCrop_min_default","imageStyle","onImageLoaded","Clear","CloudUpload","Crop","AlertTitle","AdUnitMedia","errImg","MediaForm_MediaForm","mediaProps","PropRow","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","imgPreview","imgPreviewWrapper","AdUnitPreview","content_PropRow","CampaignUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedUnits","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange","iconColor","onIconClick","onLiveClick","onNextClick","NavigateNextRounded","Update","DateTimePicker","calendarIcon","onBackClick","_ref2$InputProps","roundHour","DateTimePicker_CalendarIconAdor","startAdornment","NavigateBeforeRounded","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","_ref3$InputProps","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","getTotalImpressions","dep","minBound","maxBound","CampaignFinance","invalidFields","_temp$suggestedPricin","errDepAmnt","errMin","errMax","errFrom","errTo","updatePricingBoundsImpression","inputValue","newPricingBounds","impression","itemCommonNew_ItemSpecProp","common_DateTimePicker_DateTimePicker","emptyLabel","inputVariant","disablePast","FormGroup","FormControlLabel","control","Checkbox","checked","NewItems_CampaignTargetingRules","WalletAction","FeesBreakdown","_ref2$breakdownFormat","Accordion","square","AccordionSummary","expandIcon","ExpandMoreSharp","disablePadding","dense","subheader","AudiencePreview","_ref$audienceInput","_audienceInput$locati","subHeader","_audienceInput$catego","_audienceInput$publis","_audienceInput$device","CampaignFormPreview","feesSpinner","openingSpinner","networkCongested","setNetworkCongested","_useSelector$targetin","_useSelector$audience","_useSelector$temp","_ref$IMPRESSION","_audienceInput$inputs","_checkNetwork","checkNetwork","FormsCommon_WalletAction","FormsCommon_FeesBreakdown","includeIncentivized","disableFrequencyCapping","limitDailyAverageSpending","containers_AudiencePreview_AudiencePreview","StatusIcon","CheckSharp","ErrorSharp","createFilterOptions","AutocompleteWithCreate","initialValue","changeOnInputUpdate","setValue","Autocomplete","onInputChange","selectOnFocus","getLimitTagsText","more","limitTags","groupBy","option","getOptionLabel","renderOption","freeSolo","renderInput","errorText","onInit","hideSelectedOnDisable","disableCloseOnSelect","_ref2$disabledSrcValu","disabledSrcValues","enableCreate","srcValue","getOptionDisabled","getOptionSelected","opt","Autocomplete_ExtraLabel","renderTags","getCustomizedTagProps","AdSlotBasic","websitesSrc","adTypesSource","_newItem$title","_newItem$description","_newItem$website","_newItem$type","_rulesInput$inputs","allowAdultContent","errWebsite","Autocomplete_AutocompleteWithCreate","AdSlotMedia","_temp$useFallback","errFallbackUrl","Switch","AudienceBasic","slider","markLabel","parameterIcon","PublicSharp","LocalOfferSharp","WebAssetSharp","os","ComputerSharp","browsers","esm_WebSharp","DevicesOtherSharp","MoreHorizSharp","Sources","_ref$source","_ref$target","actionType","currentApply","getApply","autocomplete_Autocomplete","openOnClick","_objectSpread3","getMultipleActionsUsedValues","currentAction","Targets","_ref3$source","_ref3$extraInfo","_ref3$target","applyValue","RadioGroup","_clsx","Radio","NewTargetingRules_Sources","_clsx3","NewTargetingRules","tabIndex","setTabIndex","scrollButtons","indicatorColor","NewTargetingRules_Targets","getIssue","issue","issueChip","copyBtn","RenderIssue","ALL_ISSUES","SLOT_ISSUE_BLACKLISTED","LooksOneSharp","shortLabel","SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED","LooksTwoSharp","SLOT_ISSUE_SOMEONE_ELSE_VERIFIED","Looks3Sharp","WebsiteVerifyBtn","lastUpdated","canUpdate","my","RefreshSharp","WebsiteIssues","asKeyWords","tryAgainBtn","site","defaultIssues","WebsiteIssues_WebsiteVerifyBtn","_getIssue","interactive","WebsiteIssuesLegend","WebsiteDSNRecord","dnsRecord","subtitle","copy","FileCopySharp","SlotFallback","AdSlotPreview","typeDemand","_temp$categories","hasIssues","showDnsRecord","AdSlotPreview_SlotFallback","WebsitePreview","CampaignTargetingRules","items_NewTargetingRules","AudienceRules","NewUnitStepsWithDialog","stepper_FormSteps","validateIdBase","AdUnitFormPreview","imgLabel","noDefaultImg","itemModel","NewUnitDialog","copyProps","darkerBackground","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","imgAdditionalInfo","NewCampaignDialog","NewCampaignFromAudience","NewSlotStepsWithDialog","descriptionHelperTxt","NewSlotDialog","NewAudienceWithDialog","skipRules","NewAudiencePreview","NewAudienceDialog","NewWebsiteWithDialog","WebsiteBasic","NewWebsiteDialog","RRIMedia","ImgComponent","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","itemCommonNew_ArchiveItemBtn","AdUnitsTable","itemsLoaded","setSelectorArgs","AdSlotsTable_RRMedia","AdSlotsTable_RRIconButton","AdSlotsTable","RRTypography","setCellProps","setCellHeaderProps","AudiencesTable_RRIconButton","VisibilitySharp","NewItems_NewCampaignFromAudience","AudiencesTable","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","tooltips","cornerRadius","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","callbacks","datasetIndex","tableMeta","rowData","IncludeOrExcludeWebsitesBtn","_ref2$hostnames","endIcon","WebsitesActions","_ref3$hostnames","lg","CampaignStatsBreakdownTable_IncludeOrExcludeWebsitesBtn","BlockSharp","setSelectedRows","actionData","CampaignStatsBreakdownTable_WebsitesActions","CampaignStatsBreakdownTable","isActive","canSendMsgs","allowActions","dottedDivider","solidDevider","breakdownTable","breakAll","pageBreak","pageBreakAfter","a4","PublisherReceiptTpl","monthBreakdown","_useSelector3","companyName","firstLastName","toHexString","isFinite","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","RRButton","G404","PageNotFound","goToTxt","goToPath","skipGoToButton","justify","PageNotFound_G404","IMG_404_1","IMG_404_2","CampaignReceiptTpl","campaignBreakdown","page_not_found_PageNotFound","CompanyDetails","invoice","useParams","selectedCampaigns","selectedByPropsOrParams","receiptsAdvertiser","setStartDate","setEndDate","setDirty","dates","validateStartDate","validateEndDate","startDateError","endDateError","monthMappingStartPeriod","setDate","monthMappingEndPeriod","fetchingPublisherReceiptsSpinner","setReceipts","Receipt_CompanyDetails","react_to_print_lib_default","pageStyle","trigger","DateRangeSharp","GetApp","showEarnings","StatsByCountryTable","noViewColumns","MapChart","chartId","setContent","index_umd","data-tip","projection","projectionConfig","scale","maxZoom","geography","_ref2$geographies","geographies","geo","_geo$properties","rsmKey","onMouseEnter","onMouseLeave","stroke","outline","pressed","index_es","TargetingRulesEdit","stepTitle","EditCPM","actionValue","valuePerAction","updatedValue","_ref2$activeFields","CampaignBasic","_ref4$advanced","displayStatus","pauseAction","campaignPricingBounds","cpmMin","cpmMax","closeSpinner","pauseSpinner","itemCommonNew_MediaCard","_getCloseCampaignsFee","deposit","totalFees","feesPercent","nonDistributedFunds","feesToPay","percent","toPay","nonDistributed","getCloseCampaignsFees","StopSharp","StarSharp","itemCommonNew_ItemTitle","CampaignEdits_EditCPM","& > *","CampaignAudience","NewItems_NewAudienceDialog","commonDsProps","lineTension","pointRadius","pointHitRadius","FONT","DefaultLabel","SimpleStatistics","data1","data2","data3","data4","_ref2$data1Active","data1Active","_ref2$data2Active","data2Active","_ref2$data3Active","data3Active","_ref2$data4Active","data4Active","dataSynced","_ref2$defaultLabels","defaultLabels","_ref2$options","_ref2$xLabel","xLabel","_ref2$y1Label","y1Label","_ref2$y2Label","y2Label","_ref2$y3Label","y3Label","_ref2$y4Label","y4Label","_ref2$y1Color","y1Color","_ref2$y2Color","y2Color","_ref2$y3Color","y3Color","_ref2$y4Color","y4Color","windowSize","hasWindow","getWindowSize","innerHeight","setWindowSize","onResize","addEventListener","removeEventListener","useWindowSize","chartHeight","Chart","pluginService","register","beforeDraw","chart","ctx","_active","controller","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","restore","yAxisID","hidden","pointBackgroundColor","linesOptions","layout","maintainAspectRatio","intersect","titleFontSize","bodyFontSize","bodyFontFamily","titleFontFamily","xPadding","yPadding","bodySpacing","caretSize","displayColors","yLabel","xAxes","gridLines","drawBorder","drawTicks","scaleLabel","labelString","ticks","autoSkip","maxTicksLimit","maxRotation","callback","yAxes","beginAtZero","stepSize","px","simplified_DefaultLabel","useStylesArrow","popper","&[x-placement*=\"bottom\"] $arrow","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","borderStyle","ArrowTooltip","_useStylesArrow","_React$useState","_React$useState2","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","visibilityIcon","StatsCard","explain","dataVisible","VIcon","VisibilityOff","dayWrapper","customDayHighlight","nonCurrentMonthDay","highlightNonCurrentMonthDay","highlight","firstHighlight","extend","borderTopLeftRadius","borderBottomLeftRadius","endHighlight","borderTopRightRadius","borderBottomRightRadius","dayDisabled","pointerEvents","DatePicker","_Component","_this$props$InputProp","esm_DatePicker","DatePicker_CalendarIconAdor","dayIsFuture","DatePicker_DatePicker","PeriodDatePicker","renderDay","selectedDate","dayInCurrentMonth","_clsx2","dateClone","selectedDateClone","dayIsBetween","isWithinInterval","isFirstDay","isSameDay","isLastDay","wrapperClassName","dayClassName","shouldDisableDate","views","useKeyPress","targetKey","keyPressed","setKeyPressed","downHandler","upHandler","timeoutMap","timeFrames","tf","getMetrics","getDefaultLabels","DatePickerSwitch","_ref2$period","labelFunc","minutesStep","infoStatsContainer","dashboardCardBody","cardIcon","datePicker","BasicStats","SPACE","ARROW_LEFT","ARROW_RIGHT","isAuth","uiSide","setLoop","metrics","setMetrics","allChannelsLoaded","advAnalyticsLoaded","setData1Active","setData2Active","setData3Active","setData4Active","goNext","goPrev","goLive","BasicStats_DatePickerSwitch","disableFuture","maxDateMessage","minDateMessage","strictCompareDates","DashboardStats_StatsCard","Mouse","esm_MonetizationOn","Equalizer","simplified_SimpleStatistics","CampaignStatsByTimeframe","_useItem","_item$status","itemCommonNew_ItemTabsBar","itemCommonNew_ChangeControls","itemCommonNew_ItemTabsContainer","CampaignBasic_CampaignBasic","CampaignAudience_CampaignAudience","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","map_MapChart","Tables_StatsByCountryTable","CampaignStatsByTimeframe_CampaignStatsByTimeframe","Receipt_Receipt","AdvertiserStats","imgProps","BestEarnersTable","_props$selector","_props$title","dataLoaded","PublisherStats","Tables_BestEarnersTable","Unit","itemCommonNew_ItemDescription","itemCommonNew_ItemAdType","itemCommonNew_ItemTargetURL","PassbackEdit","SlotAdvancedRules","_ref2$item","SlotEdits","SlotBasic","_hookProps$validation","itemCommonNew_ItemFallbackMediaURL","SlotEdits_SlotEdits","SlotEdits_SlotAdvancedRules","itemCommonNew_ItemWebsite","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","integrationCode","alignSelf","IntegrationCode","_ref$slot","isEmailConfirmed","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","iframeStr","onCopy","Slot","SlotBasic_SlotBasic","IntegrationCode_IntegrationCode","_useItem$item","Audience_TargetingRulesEdit","list","inline","Websites","disableSticky","secondaryTypographyProps","ListItemSecondaryAction","WithdrawFromIdentity","syncSpinner","_useSelector4","errAmount","errAddr","errFees","WithdrawAnyTokenFromIdentity","errTokenAddress","errTokenDecimals","PRIV_LEVELS_SRC","SeAddressPrivilege","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPage","errUsername","IdentityWithdrawPreview","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreview","previewWarnMsgs","waitingForWalletAction","_useSelector2$feesDat","_useSelector2$errors","classNameLeft","classNameRight","Error_default","Warning_default","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","WithdrawTokenFromIdentity","saveBtnLabel","SetIdentityPrivilege","WithdrawAnyTokenFromIdentityPage","SetAccountENS","VALIDATOR_LEADER_URL","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","infoLabel","AccountPrivilageItem","currUserPrivileges","canMakeTx","privColors","AccountInfo_AccountItem","VpnKey","Lock","transactions_SetIdentityPrivilege","identityAvailable","AccountInfo","_useSelector$authType","identityEnsName","setExpanded","transactions_SetAccountENS","AccountInfo_RRButton","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","heading","transactions_WithdrawAnyTokenFromIdentity","userSelect","infoGrid","infoTitle","popupCenter","w","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","documentElement","clientWidth","screen","clientHeight","systemZoom","availWidth","newWindow","RAMP_HOST_API_KEY","TRANSAK_API_KEY","TRANSAK_ENV","commonGAEventProps","fiatProvidersDetails","accountId","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","hostApiKey","domNodes","overlay","show","openOnRampNetwork","RAMP_LOGO","imgAlt","feeInfo","limitInfo","currencies","dest","referenceId","destCurrency","openWyre","WYRE_LOGO","rightSideLabel","openPayTrie","PAYTRIE_LOGO","transak","transakSDK","apiKey","environment","cryptoCurrencyList","defaultCryptoCurrency","disableWalletAddressForm","themeColor","redirectURL","hostURL","widgetHeight","widgetWidth","init","ALL_EVENTS","EVENTS","TRANSAK_ORDER_SUCCESSFUL","orderData","openTransak","TRANSAK_LOGO","cryptoProvidersDetails","CHANGELLY_LOGO","ProviderListItem","disableElevation","Providers","providersDetails","disableGutters","Ramp_ProviderListItem","FiatProviders","Ramp_Providers","CryptoProviders","TopUp","esm_FileCopy","WarningRounded","verticalAlign","pb","Ramp_FiatProviders","Ramp_CryptoProviders","getChangellyIframe","TopUpChangelly","widgetIframeHtml","useColorlibStepIconStyles","completed","star","ColorlibConnector","DEFAULT_SIZE","line","backgroundSize","LINES_WIDTH","StepConnector","ColorlibStepIcon","backgroundImage","CheckCircle","createAdUnitTutorial","fundAccountTutorial","launchFirstCampaign","placeAdSlot","stepsPlace","stepsIntegrate","mobile","stepper","instructions","accordion","checkmark","getSteps","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","GettingStarted","stepsData","isGettingStartedHidden","setActiveStep","sideSteps","currentStep","indexOfFirstIncompleteStep","advertiserStep","publisherStep","esm_ExpandMore","CheckCircleOutline","AccordionDetails","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","Campaigns","NewItems_NewCampaignDialog","Add","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Audiences","Tables_AudiencesTable","NewItems_NewWebsiteDialog","Websites_Websites","Dashboard","mobileOpen","setMobileOpen","showTxPrivLevelWarning","_updateInitialData","updateInitialData","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","dialogPaper","noBg","backdrop","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","confirmLogout","toExecute","AuthSelect_RRButton","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","&:first-child","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AddressSelect","addresses","waitingAction","actionWaitingLabel","selectLabel","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","isOpera","opr","opera","userAgent","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","waitingAddrsData","ethereumProvider","setEth","onfocus","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","AuthTrezor","_useSelector$addresse","waitingTrezorAction","AuthCommon_AddressSelect","TREZOR_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","knowFromSource","userSides","QuickInfo","sessionSpinner","walletMsgs","FulInfo","_identity$wallet","QuickLogin","getIdentitiesForDropdown","FullLogin","ownerIdentities","finalValidationQuick","finalValidationStandard","validateOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","esm_extends","ImportantNotifications","_ref$severity","_ref$message","_ref$title","_ref$action","ConnectedCreateQuickIdentity","JustDialog","final","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","ConnectedRoot","LogoDark","Logo","PrivateRoute","other","handleLegacyWallet","showNotification","_initialChecks","initialChecks","Root_PrivateRoute","buildMeta","currentVersion","currentTOS","tosVersion","CacheBuster","cache","latestVersion","latestTOS","Loading","DetectNetworkError","problemDetected","setProblemDetected","testAdBlock","SignalCellularConnectedNoInternet0BarSharp","onBeforeLift","App","onReload","App_MultiThemeProvider","CssBaseline","NetworkErrorDetector","useUtils_cfb96ac9","es","integration_react","connected_react_router_esm","App_Root","toast_Toast","confirm_Confirm","ReactDOM","components_App_App","getElementById","serviceWorker","ready","registration","unregister","getKeyHash","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","iv","cipher","encr","createCipheriv","Buffer","textParts","encryptedText","decipher","decrypted","createDecipheriv","crypted","createCipher","dec","createDecipher","HEADER","base64","encode","alg","__webpack_exports__","payloadEncoded","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module"],"mappings":"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","file":"static/js/main.c9d63d32.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.fb95f74b.png\";","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\r\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\r\nexport const UPDATE_UI_BY_IDENTITY_AND_SIDE = 'UPDATE_UI_BY_IDENTITY_AND_SIDE'\r\nexport const UPDATE_MEMORY_UI = 'UPDATE_MEMORY_UI'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\r\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\r\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\r\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\r\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\r\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\r\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\r\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\r\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\r\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\r\nexport const UPDATE_ANALYTICS_PERIOD = 'UPDATE_ANALYTICS_PERIOD'\r\nexport const UPDATE_PUBLISHER_RECEIPTS = 'UPDATE_PUBLISHER_RECEIPTS'\r\nexport const RESET_SELECTED_ITEMS = 'RESET_SELECTED_ITEMS'\r\nexport const UPDATE_ANALYTICS_LAST_CHECKED = 'UPDATE_ANALYTICS_LAST_CHECKED'\r\nexport const UPDATE_TARGETING_ANALYTICS = 'UPDATE_TARGETING_ANALYTICS'\r\nexport const UPDATE_TABLE_STATE = 'UPDATE_TABLE_STATE'\r\nexport const RESET_ALL_TABLES_STATE = 'RESET_ALL_TABLES_STATE'\r\nexport const RESET_TABLE_STATE_BY_ID = 'RESET_TABLE_STATE_BY_ID'\r\n","import { AdUnit, AdSlot, Campaign, Account, Audience } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign({\r\n\t\t\taudienceInput: { version: '1', inputs: { devices: { apply: 'allin' } } },\r\n\t\t\ttemp: { useUtmTags: true, useUtmSrcWithPub: true },\r\n\t\t}).plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot({\r\n\t\t\trulesInput: { version: '1', inputs: { autoSetMinCPM: false } },\r\n\t\t}).plainObj(),\r\n\t\tAudience: new Audience({\r\n\t\t\tinputs: { version: '1', devices: { apply: 'allin' } },\r\n\t\t}).plainObj(),\r\n\t\tWebsite: {},\r\n\t},\r\n\tcurrentItem: {},\r\n\tselectedItems: {\r\n\t\tcampaigns: [],\r\n\t\tadUnits: [],\r\n\t\tslots: [],\r\n\t},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t\tWebsite: {},\r\n\t\tAudience: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {\r\n\t\tglobal: {},\r\n\t\tbyIdentity: {},\r\n\t},\r\n\ttablesState: {},\r\n\tuiMemory: {},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttargeting: {\r\n\t\ttargetingData: [],\r\n\t\tminByCategory: {},\r\n\t\tcountryTiersCoefficients: {},\r\n\t},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n\tanalytics: {},\r\n\tchannels: {\r\n\t\twithBalanceAll: {},\r\n\t\twithOutstandingBalance: [],\r\n\t},\r\n\tensAddresses: {},\r\n}\r\n\r\nexport default initialState\r\n","import adexTranslations from 'adex-translations'\r\nimport { removeTags } from 'helpers/sanitizer'\r\nimport { isValidElement, cloneElement } from 'react'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\r\n\tconst parts = tpl.split(pattern)\r\n\r\n\tconst interpolated = parts.map((p, i) => {\r\n\t\tconst element = args[p] || p\r\n\t\tif (isValidElement(element) && !element.key) {\r\n\t\t\tconst withKey = cloneElement(element, { key: i })\r\n\r\n\t\t\treturn withKey\r\n\t\t}\r\n\r\n\t\treturn element\r\n\t})\r\n\r\n\tif (interpolated.every(i => typeof i === 'string' || typeof i === 'number')) {\r\n\t\treturn interpolated.join('')\r\n\t}\r\n\r\n\treturn interpolated\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''], toUpperCase = false } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\tif (toUpperCase) {\r\n\t\tkey = key.toUpperCase()\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = removeTags(translations[language][key] || val)\r\n\r\n\tif (Array.isArray(args)) {\r\n\t\tif (args.length) {\r\n\t\t\tconst translatedArgs = args.map(a => {\r\n\t\t\t\tif (typeof a === 'string') {\r\n\t\t\t\t\treturn translations[language][a] || a\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn a\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\ttranslation = interpolate(translation, translatedArgs)\r\n\t\t} else {\r\n\t\t\ttranslation = translation.replace(/\\${(\\w+)}/, ' ')\r\n\t\t}\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","export const removeTags = dirty => {\r\n\tif (!dirty || typeof dirty !== 'string') return ''\r\n\r\n\treturn (\r\n\t\tdirty\r\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\r\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\r\n\t\t\t// Strip any remaining HTML tags\r\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\r\n\t\t\t// Replace {strong} ... with <strong> ...\r\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\r\n\t)\r\n}\r\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nconst updateCfg = (current, type, cfg) => {\r\n\tconst newCfg = { ...current }\r\n\tnewCfg[type] = { ...cfg }\r\n\treturn newCfg\r\n}\r\n\r\nexport default function uiReducer(state = initialState.config, action) {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RELAYER_CFG:\r\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createHashHistory } from 'history'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst trackPageView = location => {\r\n\tReactGA.set({ page: location.pathname + location.search })\r\n\tReactGA.pageview(location.pathname + location.search)\r\n}\r\n\r\nconst initGa = history => {\r\n\tReactGA.initialize(process.env.GA_CODE, {\r\n\t\t// debug: true,\r\n\t})\r\n\ttrackPageView(history.location)\r\n\thistory.listen(trackPageView)\r\n}\r\nconst history = createHashHistory()\r\ninitGa(history)\r\n\r\nexport default history\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport uiMemory from './uiMemoryReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport targeting from './targetingReducer'\r\nimport config from './configReducer'\r\nimport analytics from './analyticsReducer'\r\nimport channels from './channelsReducer'\r\nimport selectedItems from './selectedItemsReducer'\r\nimport ensAddresses from './ensReducer'\r\nimport tablesState from './tablesStateReducer'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\taccount,\r\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\tlanguage,\r\n\tweb3Transactions,\r\n\ttargeting,\r\n\tconfig,\r\n\tensAddresses,\r\n\ttablesState,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tuiMemory,\r\n\tchannels,\r\n\tanalytics,\r\n\tsignin,\r\n\tidentity,\r\n\twallet,\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\ttoasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\tvalidations,\r\n\tselectedItems,\r\n\tnewTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_GLOBAL_UI,\r\n\tUPDATE_UI_BY_IDENTITY,\r\n\tUPDATE_UI_BY_IDENTITY_AND_SIDE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI_BY_IDENTITY:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...newState.byIdentity[action.identity],\r\n\t\t\t}\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\r\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\r\n\t\t\t\t}\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\r\n\t\t\t\t\taction.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_UI_BY_IDENTITY_AND_SIDE:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...(newState.byIdentity || {}) }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...(newState.byIdentity[action.identity] || {}),\r\n\t\t\t}\r\n\t\t\tnewState.byIdentity[action.identity][action.side] = {\r\n\t\t\t\t...(newState.byIdentity[action.identity][action.side] || {}),\r\n\t\t\t}\r\n\t\t\tnewState.byIdentity[action.identity][action.side][action.item] =\r\n\t\t\t\taction.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_GLOBAL_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.global = { ...newState.global }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState.global[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.global[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: { ...action.item },\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tif (item.id || item.ipfs) {\r\n\t\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\t}\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, {})\r\n\r\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TARGETING_ANALYTICS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function targetingReducer(\r\n\tstate = initialState.targeting,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TARGETING_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function ensReducer(state = initialState.ensAddresses, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_TABLE_STATE,\r\n\tRESET_ALL_TABLES_STATE,\r\n\tRESET_TABLE_STATE_BY_ID,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tableStateReducer(\r\n\tstate = initialState.tablesState,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TABLE_STATE:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.identity] = { ...(newState[action.identity] || {}) }\r\n\t\t\tnewState[action.identity][action.tableId] = action.value || {}\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_TABLE_STATE_BY_ID:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.identity] = { ...(newState[action.identity] || {}) }\r\n\t\t\tnewState[action.identity][action.tableId] = undefined\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_TABLES_STATE:\r\n\t\t\treturn initialState.tablesState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_MEMORY_UI } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiMemoryReducer(state = initialState.uiMemory, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_MEMORY_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\r\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function channelsReducer(state = initialState.channels, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = { ...action.channels }\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance =\r\n\t\t\t\tinitialState.channels.withOutstandingBalance\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ANALYTICS,\r\n\tRESET_ANALYTICS,\r\n\tUPDATE_ANALYTICS_TIMEFRAME,\r\n\tUPDATE_ANALYTICS_PERIOD,\r\n\tUPDATE_ANALYTICS_LAST_CHECKED,\r\n\tUPDATE_PUBLISHER_RECEIPTS,\r\n\tUPDATE_ADVANCED_ANALYTICS,\r\n\tUPDATE_DEMAND_ANALYTICS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function analyticsReducer(\r\n\tstate = initialState.analytics,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.timeframe = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS_LAST_CHECKED:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.lastChecked = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.side] = { ...newState[action.side] }\r\n\t\t\tnewState[action.side][action.eventType] = {\r\n\t\t\t\t...newState[action.side][action.eventType],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][\r\n\t\t\t\taction.timeframe\r\n\t\t\t] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric][\r\n\t\t\t\t\taction.timeframe\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][action.timeframe][\r\n\t\t\t\taction.timestamp\r\n\t\t\t] = { ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.advanced = { ...newState.advanced }\r\n\t\t\tnewState.advanced[action.eventType] = {\r\n\t\t\t\t...action.value,\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_DEMAND_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.demand = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_PUBLISHER_RECEIPTS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.receipts = { ...newState.receipts, ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ANALYTICS:\r\n\t\t\tnewState = { ...initialState.analytics }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS_PERIOD:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.period = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newIdentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewIdentity = newState\r\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\r\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewIdentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newIdentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewIdentity = { ...initialState.identity }\r\n\t\t\tnewState = newIdentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tif (action.itemId) {\r\n\t\t\t\tnewState[action.itemId] = newItem\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.itemType] = newItem\r\n\t\t\t}\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.itemType] }\r\n\t\t\tif (action.itemId) {\r\n\t\t\t\tnewState[action.itemId] = newItem\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.itemType] = newItem\r\n\t\t\t}\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_NEW_ITEMS:\r\n\t\t\tnewState = { ...initialState.newItem }\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tconst newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_SELECTED_ITEMS,\r\n\tRESET_SELECTED_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...initialState.selectedItems }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n\tRESET_ALL_NEW_TRANSACTIONS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\r\n\t\t\tnewState = initialState.newTransactions\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/lib/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst persistConfig = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n\tversion: 2,\r\n\tdebug: process.env.NODE_ENV === 'production' ? false : true,\r\n\tthrottle: 1000,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n\trouter: connectRouter(history),\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t]\r\n\r\n\tif (process.env.BUILD_TYPE === 'staging') {\r\n\t\tmiddlewares.push(logger)\r\n\t}\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from './configureStore'\r\n\r\nexport default configureStore\r\n\r\nexport const store = configureStore.store\r\nexport const persistor = configureStore.persistor\r\nexport const dispatch = store.dispatch\r\nexport const getState = store.getState\r\n","import { createSelectorCreator, defaultMemoize } from 'reselect'\r\nimport isEqual from 'lodash.isequal'\r\n\r\n// deep equal memoization instad reference check\r\nexport const createDeepEqualSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\tisEqual\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\n// can be used outside  components\r\nexport const selectRelayerConfig = state => {\r\n\treturn (state || getState()).persist.config.relayer\r\n}\r\n\r\n// - relayer cfg\r\n// network,\r\n// feeTokenWhitelist:\r\n// [\r\n// \t{\r\n// \t\taddress,\r\n// \t\tsymbol,\r\n// \t\tdecimals,\r\n// \t\tstandard,\r\n// \t\tmin,\r\n// \t\tminDeploy,\r\n// \t\tminRecommended,\r\n// \t\texecuteBaseFee: {\r\n// \t\t\tWITHDRAW: '4200000000000000000',\r\n// \t\t\tPRIVILEGES_CHANGE: '1000000000000000000',\r\n// \t\t\tENS_CHANGE: '1000000000000000000',\r\n// \t\t\tDEFAULT: '1000000000000000000',\r\n// \t\t},\r\n// \t},\r\n// ],\r\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\r\n// coreAddr,\r\n// baseIdentityAddr,\r\n// identityFactoryAddr,\r\n// registryAddr,\r\n// daiAddr,\r\n// marketUrl,\r\n// identityRecoveryAddr,\r\n// weeklyFeeAmount,\r\n// mainToken, // { address, symbol, decimals, standard },\r\n// advertiserMinGrantAmount\r\n// relayerAddr\r\n// gasPriceCap\r\n\r\nexport const selectFeeTokenWhitelist = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ feeTokenWhitelist }) => {\r\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokens = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokenByAddress = createCachedSelector(\r\n\tselectRelayerConfig,\r\n\t(_, address) => address,\r\n\t({ routineWithdrawTokens }, address) => {\r\n\t\treturn routineWithdrawTokens.find(token => token.address === address)\r\n\t}\r\n)((_state, address = '-') => address)\r\n\r\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.map(t => t.address)\r\n\t}\r\n)\r\n\r\nexport const selectConfig = createSelector(\r\n\t[selectRelayerConfig],\r\n\trelayerConfig => {\r\n\t\tconst cfg = { ...relayerConfig }\r\n\t\treturn cfg\r\n\t}\r\n)\r\n\r\nexport const selectMainToken = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ mainToken }) => mainToken || {}\r\n)\r\n\r\nexport const selectIdentityRecoveryAddr = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ identityRecoveryAddr }) => identityRecoveryAddr\r\n)\r\n\r\nexport const selectGasPriceCap = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ gasPriceCap }) => gasPriceCap\r\n)\r\n\r\nexport const selectSaiToken = createSelector(\r\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\r\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\r\n)\r\n\r\nexport const selectMainFeeToken = createSelector(\r\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\r\n\t({ mainToken }, feeTokenWhitelist) => {\r\n\t\treturn feeTokenWhitelist[mainToken.address]\r\n\t}\r\n)\r\n","import MomentUtils from '@date-io/moment'\r\nimport moment from 'moment'\r\nimport 'moment/min/locales'\r\n\r\n// We can't use the new version of @date-io/moment or @date-io/date-fns\r\n// because the datepickers will crash, but we need some more functionality\r\n// as adding hours and start / end of weeks. This is why I have created an\r\n// extention class. We use this as MuiPickersUtilsProvider as well\r\nexport class DateUtils extends MomentUtils {\r\n\tstartOfMinute(date) {\r\n\t\treturn date.clone().startOf('minute')\r\n\t}\r\n\r\n\tstartOfHour(date) {\r\n\t\treturn date.clone().startOf('hour')\r\n\t}\r\n\r\n\tstartOfWeek(date) {\r\n\t\treturn date.clone().startOf('week')\r\n\t}\r\n\r\n\tstartOfYear(date) {\r\n\t\treturn date.clone().startOf('year')\r\n\t}\r\n\r\n\tendOfWeek(date) {\r\n\t\treturn date.clone().endOf('week')\r\n\t}\r\n\r\n\tisWithinInterval(date, { start, end }) {\r\n\t\treturn date.clone().isBetween(start, end, null, '[]')\r\n\t}\r\n\r\n\tadd(date, ammount, unit) {\r\n\t\treturn date.add(ammount, unit)\r\n\t}\r\n\r\n\taddMinutes(date, minutes) {\r\n\t\treturn date.clone().add(minutes, 'minute')\r\n\t}\r\n\r\n\taddHours(date, hours) {\r\n\t\treturn date.clone().add(hours, 'hour')\r\n\t}\r\n\r\n\tstartOf(date, period) {\r\n\t\treturn date.clone().startOf(period)\r\n\t}\r\n\r\n\tendOf(date, period) {\r\n\t\treturn date.clone().endOf(period)\r\n\t}\r\n\r\n\taddWeeks(date, weeks) {\r\n\t\treturn date.clone().add(weeks, 'week')\r\n\t}\r\n\r\n\taddMonths(date, months) {\r\n\t\treturn date.clone().add(months, 'month')\r\n\t}\r\n\r\n\taddYears(date, years) {\r\n\t\treturn date.clone().add(years, 'year')\r\n\t}\r\n\r\n\tgetUTCOffset(date = this.moment()) {\r\n\t\treturn this.moment(date).utcOffset() / 60\r\n\t}\r\n\r\n\tgetUTCOffsetFormatted(date = this.moment()) {\r\n\t\tconst offset = this.moment(date).utcOffset()\r\n\t\tconst sign = offset >= 0 ? '+' : '-'\r\n\t\tconst hours = Math.abs(Math.floor(offset / 60)).toString()\r\n\t\tconst minutes = (offset % 60).toString()\r\n\r\n\t\treturn `${sign}${hours.length === 1 ? '0' + hours : hours}:${\r\n\t\t\tminutes.length === 1 ? '0' + minutes : minutes\r\n\t\t}`\r\n\t}\r\n\r\n\tgetCurrentTimezone(date) {\r\n\t\treturn new window.Intl.DateTimeFormat(date).resolvedOptions().timeZone\r\n\t}\r\n\r\n\tgetUnix(date) {\r\n\t\treturn date.unix()\r\n\t}\r\n\tgetLocaleDate(locale) {\r\n\t\treturn this.moment.localeData(locale)\r\n\t}\r\n\r\n\tupdateLocale({ locale = 'en', dow, doy }) {\r\n\t\tconst defaultLocaleData = this.getLocaleDate(locale)\r\n\t\tthis.moment.updateLocale(locale, {\r\n\t\t\tweek: {\r\n\t\t\t\tdow: dow || defaultLocaleData.firstDayOfWeek(),\r\n\t\t\t\tdoy: doy || defaultLocaleData.firstDayOfYear(),\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tgetHourSpanStart(date, span) {\r\n\t\tconst current = dateUtils.date(date)\r\n\t\tconst hour = dateUtils.getHours(current)\r\n\t\tconst spanStartHour = Math.floor(hour - (hour % span))\r\n\t\tconst withSpanStartHour = dateUtils.setHours(current, spanStartHour)\r\n\r\n\t\treturn dateUtils.startOfHour(withSpanStartHour)\r\n\t}\r\n\r\n\tformat(date, formatString) {\r\n\t\treturn this.moment(date).format(formatString)\r\n\t}\r\n}\r\n\r\nexport function makeJSDateObject(date) {\r\n\tif (moment.isMoment(date)) {\r\n\t\treturn date.clone()\r\n\t}\r\n\r\n\tif (date instanceof Date) {\r\n\t\treturn new Date(date.getTime())\r\n\t}\r\n\r\n\treturn date\r\n}\r\n\r\nconst dateUtils = new DateUtils()\r\ndateUtils.updateLocale({\r\n\tdow: dateUtils\r\n\t\t.getLocaleDate(window.navigator.language.toLowerCase())\r\n\t\t.firstDayOfWeek(),\r\n})\r\n\r\nexport default dateUtils\r\n","import dateUtils from 'helpers/dateUtils'\r\nimport { createSelector } from 'reselect'\r\nimport { createDeepEqualSelector } from 'selectors'\r\n\r\nexport const selectAccount = state => state.persist.account || {}\r\nexport const selectChannels = state => state.memory.channels\r\n\r\nexport const selectAuth = createSelector(\r\n\tselectAccount,\r\n\t({ wallet, identity }) =>\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n)\r\n\r\nexport const selectWallet = createDeepEqualSelector(\r\n\tselectAccount,\r\n\t({ wallet }) => wallet || {}\r\n)\r\n\r\nexport const selectEmail = createSelector(\r\n\tselectAccount,\r\n\t({ email }) => email\r\n)\r\n\r\nexport const selectEmailProvider = createSelector(\r\n\tselectEmail,\r\n\temail => (!!email ? email.split('@')[1] : null)\r\n)\r\n\r\nexport const selectAuthSig = createSelector(\r\n\tselectWallet,\r\n\t({ authSig }) => authSig\r\n)\r\n\r\nexport const selectWalletAddress = createSelector(\r\n\tselectWallet,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAuthType = createSelector(\r\n\tselectWallet,\r\n\t({ authType }) => authType\r\n)\r\n\r\nexport const selectAccountIdentity = createSelector(\r\n\tselectAccount,\r\n\t({ identity }) => identity || {}\r\n)\r\n\r\nexport const selectAccountIdentityAddr = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAccountStats = createSelector(\r\n\tselectAccount,\r\n\t({ stats }) => stats || {}\r\n)\r\n\r\nexport const selectAccountSettings = createSelector(\r\n\tselectAccount,\r\n\t({ settings }) => settings || {}\r\n)\r\n\r\nexport const selectAccountStatsRaw = createSelector(\r\n\tselectAccountStats,\r\n\t({ raw }) => raw || {}\r\n)\r\n\r\nexport const selectAccountStatsFormatted = createSelector(\r\n\tselectAccountStats,\r\n\t({ formatted }) => formatted || {}\r\n)\r\n\r\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) =>\r\n\t\trelayerData &&\r\n\t\trelayerData.routineAuthorizationsData &&\r\n\t\trelayerData.routineAuthorizationsData[0]\r\n\t\t\t? relayerData.routineAuthorizationsData[0]\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAccountIdentityDeployData = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData = {} }) => relayerData.deployData || {}\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesEligible = createSelector(\r\n\tselectChannels,\r\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesAll = createSelector(\r\n\tselectChannels,\r\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\r\n)\r\n\r\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\r\n)\r\n\r\nexport const selectWalletPrivileges = createSelector(\r\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\r\n\t(privileges = {}, address) => privileges[address] || 0\r\n)\r\n\r\nexport const selectAccountIdentityCreatedDate = createSelector(\r\n\tselectAccountIdentityDeployData,\r\n\t({ created }) => dateUtils.date(created || '2018-10-01')\r\n)\r\n","import { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectIdentity = state => state.memory.identity\r\n\r\nexport const selectEnsAddresses = state => state.persist.ensAddresses\r\n\r\nexport const selectEnsAddressByAddr = createCachedSelector(\r\n\tselectEnsAddresses,\r\n\t(_, address) => address,\r\n\t(ensAddresses, address) => ensAddresses[address] || ''\r\n)((_state, address = '-') => address)\r\n","export const CREATING_SESSION = 'CREATING_SESSION'\r\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\r\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\r\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\r\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\r\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\r\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\r\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\r\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\r\nexport const FETCHING_PUBLISHER_RECEIPTS = 'FETCHING_PUBLISHER_RECEIPTS'\r\nexport const CHECKING_METAMASK_AUTH = 'CHECKING_METAMASK_AUTH'\r\nexport const AUTH_WAITING_TREZOR_ACTION = 'AUTH_WAITING_TREZOR_ACTION'\r\nexport const AUTH_WAITING_ADDRESS_DATA = 'AUTH_WAITING_ADDRESS_DATA'\r\nexport const UPDATING_TARGETING_DATA = 'UPDATING_TARGETING_DATA'\r\nexport const SYNC_WEB3_DATA = 'UPDATING_WEB3_DATA'\r\n","import { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { selectAccountIdentityAddr } from './accountSelectors'\r\nimport { SYNC_WEB3_DATA } from 'constants/spinners'\r\n\r\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\r\n\r\nexport const selectNavTitle = state => state.memory.nav.navTitle\r\nexport const selectSide = state => state.memory.nav.side\r\nexport const selectMemoryUi = state => state.memory.uiMemory\r\nexport const selectGlobalUi = state => state.persist.ui.global\r\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\r\nexport const selectSelectedItems = state => state.memory.selectedItems\r\nexport const selectConfirm = state => state.memory.confirm\r\nexport const selectToasts = state => state.memory.toasts\r\nexport const selectTablesState = state => state.persist.tablesState\r\n\r\nexport const selectSpinners = state => state.memory.spinners\r\n\r\nexport const selectIdentityUi = createSelector(\r\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\r\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\r\n)\r\n\r\nexport const selectIdentitySideUi = createSelector(\r\n\t[selectIdentityUi, selectSide],\r\n\t(identityUi, side) => identityUi[side] || {}\r\n)\r\n\r\nexport const selectCompanyData = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ companyData }) => companyData || {}\r\n)\r\n\r\nexport const selectUserLastSide = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ userLastSide }) => userLastSide || ''\r\n)\r\n\r\nexport const selectSpinnerById = createCachedSelector(\r\n\tselectSpinners,\r\n\t(_, id) => id,\r\n\t(spinners, id) => spinners[id]\r\n)((_state, id = '-') => id)\r\n\r\nexport const selectWeb3SyncSpinnerByValidateId = createCachedSelector(\r\n\tselectSpinners,\r\n\t(_, validateId) => validateId,\r\n\t(spinners, validateId) => spinners[SYNC_WEB3_DATA + validateId]\r\n)((_state, validateId = '-') => validateId)\r\n\r\nexport const selectMultipleSpinnersByIds = createCachedSelector(\r\n\tselectSpinners,\r\n\t(_, ids) => ids,\r\n\t(spinners, ids) => ids.map(id => spinners[id])\r\n)((_state, ids = '-') => ids.join(':'))\r\n\r\nexport const selectRegistrationAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\r\n)\r\n\r\nexport const selectEasterEggsAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowEasterEggs }) => allowEasterEggs\r\n)\r\n\r\nexport const selectNewVersionAvailable = createSelector(\r\n\tselectGlobalUi,\r\n\t({ newVersionAvailable }) => newVersionAvailable\r\n)\r\n\r\nexport const selectNewVersionAvailableId = createSelector(\r\n\tselectGlobalUi,\r\n\t({ selectNewVersionAvailableId }) => selectNewVersionAvailableId\r\n)\r\n\r\nexport const selectPrivilegesWarningAccepted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\r\n)\r\n\r\nexport const selectSideSpecificUI = createSelector(\r\n\t[selectIdentityUi, selectSide],\r\n\t(ui, side) => ui[side] || {}\r\n)\r\n\r\nexport const selectHideGettingStarted = createSelector(\r\n\t[selectSideSpecificUI],\r\n\t({ hideGettingStarted }) => hideGettingStarted\r\n)\r\n\r\nexport const selectGettingStartedExpanded = createSelector(\r\n\tselectIdentityUi,\r\n\t({ gettingStartedExpanded }) =>\r\n\t\t// NOTE: default is open but cant set initial state\r\n\t\tgettingStartedExpanded === undefined ? true : !!gettingStartedExpanded\r\n)\r\n\r\nexport const selectSelectedCampaigns = createSelector(\r\n\tselectSelectedItems,\r\n\t({ campaigns }) => campaigns || []\r\n)\r\n\r\nexport const selectLoginDirectSide = createSelector(\r\n\tselectGlobalUi,\r\n\t({ goToSide }) => goToSide || ''\r\n)\r\n\r\nexport const selectInitialDataLoadedByData = createCachedSelector(\r\n\tselectMemoryUi,\r\n\t(_, dataType) => dataType,\r\n\t({ initialDataLoaded }, dataType) =>\r\n\t\tinitialDataLoaded === true ||\r\n\t\t(typeof initialDataLoaded === 'object' && initialDataLoaded[dataType])\r\n)((_state, dataType = '-') => dataType)\r\n\r\nexport const selectInitialDataLoaded = createSelector(\r\n\tselectMemoryUi,\r\n\t({ initialDataLoaded = false }) =>\r\n\t\tinitialDataLoaded === true ||\r\n\t\t(typeof initialDataLoaded === 'object' &&\r\n\t\t\t[\r\n\t\t\t\t'accountIdentityData',\r\n\t\t\t\t'allItems',\r\n\t\t\t\t'stats',\r\n\t\t\t\t'campaigns',\r\n\t\t\t\t'advancedAnalytics',\r\n\t\t\t].every(type => !!initialDataLoaded[type]))\r\n)\r\n\r\nexport const selectCampaignIdInDetails = createSelector(\r\n\tselectMemoryUi,\r\n\t({ campaignId }) => campaignId\r\n)\r\n\r\nexport const selectLoginSelectedIdentity = createSelector(\r\n\tselectMemoryUi,\r\n\t({ loginSelectedIdentity }) => loginSelectedIdentity\r\n)\r\n\r\nexport const selectAnalyticsDataSide = createSelector(\r\n\t[selectSide, selectCampaignIdInDetails],\r\n\t(side, campaignId) => (campaignId ? campaignId : side ? `for-${side}` : '')\r\n)\r\n\r\nexport const selectIdentitySideAnalyticsTimeframe = createSelector(\r\n\t[selectIdentitySideUi],\r\n\t({ sideAnalyticsTimeframe = 'day' } = {}) => sideAnalyticsTimeframe\r\n)\r\n\r\nexport const selectIdentitySideAnalyticsPeriod = createSelector(\r\n\t[selectIdentitySideUi],\r\n\t({\r\n\t\tsideAnalyticsPeriod = {\r\n\t\t\tstart: dateUtils.startOfDay(dateUtils.date()),\r\n\t\t\tend: dateUtils.endOfDay(dateUtils.date()),\r\n\t\t},\r\n\t} = {}) => sideAnalyticsPeriod\r\n)\r\n\r\nexport const selectWindowReloading = createSelector(\r\n\tselectMemoryUi,\r\n\t({ windowReloading }) => windowReloading\r\n)\r\n\r\nexport const selectTableState = createCachedSelector(\r\n\tselectTablesState,\r\n\tselectAccountIdentityAddr,\r\n\t(_state, tableId) => tableId,\r\n\t(tablesStates, identityId, tableId) =>\r\n\t\t((tablesStates || {})[identityId] || {})[tableId] || {}\r\n)((_state, tableId = '-') => tableId)\r\n\r\n//memory\r\nexport const selectTableStateSelectedRows = createCachedSelector(\r\n\tselectMemoryUi,\r\n\t(_state, tableId) => tableId,\r\n\t(memoryUI, tableId) => memoryUI[`selectedRows${tableId}`]\r\n)((_state, tableId = '-') => tableId)\r\n","import { createCachedSelector } from 're-reselect'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getState } from 'store'\r\n\r\nexport const selectLang = state => state.persist.language\r\n\r\nexport const selectTranslations = createCachedSelector(\r\n\tselectLang,\r\n\t(_, val, opts = {}) => {\r\n\t\treturn { val, opts }\r\n\t},\r\n\r\n\t(lang, { val, opts }) => {\r\n\t\tconst { isProp = false, args = [''], components = [] } = opts\r\n\t\treturn translate(val, { isProp, args, components }, lang)\r\n\t}\r\n)((_state, val = '-') => val)\r\n\r\n// Need to useSelector for language in top component where this will be used\r\n// Now this is don by using Translate Hoc on Root\r\n// It will work in actions too as the state isg get when they are called and don't need update\r\nexport const t = (val, opts) => {\r\n\treturn selectTranslations(getState(), val, opts)\r\n}\r\n","import { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nimport { selectCampaignIdInDetails } from 'selectors'\r\n\r\nimport url from 'url'\r\nexport const selectItems = state => state.persist.items\r\n\r\nexport const selectItemsByType = createCachedSelector(\r\n\tselectItems,\r\n\t(_state, itemType) => itemType,\r\n\t(items, itemType) => items[itemType] || {}\r\n)((_state, itemType = '-') => itemType)\r\n\r\nexport const selectItemsArrayByType = createCachedSelector(\r\n\tselectItemsByType,\r\n\titems => Object.values(items || {})\r\n)((_state, itemType = '-') => itemType)\r\n\r\nexport const selectItemByTypeAndId = createCachedSelector(\r\n\tselectItemsByType,\r\n\t(_state, _itemType, id) => id,\r\n\t(items, id) => items[id] || {}\r\n)((_state, _itemType, id = '-') => id) // all items has unique id so they are good for cache\r\n\r\nexport const selectCampaigns = state => selectItemsByType(state, 'Campaign')\r\nexport const selectCampaignsArray = state =>\r\n\tselectItemsArrayByType(state, 'Campaign')\r\n\r\nexport const selectCampaignById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'Campaign', id)\r\n\r\nexport const selectCampaignUnitsById = createSelector(\r\n\tselectCampaignById,\r\n\t({ adUnits } = {}) => adUnits || []\r\n)\r\n\r\nexport const selectCampaignInDetails = createSelector(\r\n\t[selectCampaignIdInDetails, state => state],\r\n\t(campaignId, state) =>\r\n\t\tcampaignId ? selectCampaignById(state, campaignId) : undefined\r\n)\r\n\r\nexport const selectAdUnits = state => selectItemsByType(state, 'AdUnit')\r\n\r\nexport const selectAdUnitsArray = state =>\r\n\tselectItemsArrayByType(state, 'AdUnit')\r\n\r\nexport const selectAdUnitById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'AdUnit', id)\r\n\r\nexport const selectAdSlots = state => selectItemsByType(state, 'AdSlot')\r\n\r\nexport const selectAdSlotsArray = state =>\r\n\tselectItemsArrayByType(state, 'AdSlot')\r\n\r\nexport const selectAdSlotById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'AdSlot', id)\r\n\r\nexport const selectWebsites = state => selectItemsByType(state, 'Website')\r\n\r\nexport const selectWebsitesArray = state =>\r\n\tselectItemsArrayByType(state, 'Website')\r\n\r\nexport const selectWebsiteById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'Website', id)\r\n\r\nexport const selectWebsiteByWebsite = createCachedSelector(\r\n\tselectWebsites,\r\n\t(_, ws) => ws,\r\n\t(items, ws) => (ws ? items[url.parse(ws).hostname] || {} : {})\r\n)((_state, ws = 'all') => ws)\r\n\r\nexport const selectAudiences = state => selectItemsByType(state, 'Audience')\r\n\r\nexport const selectAudiencesArray = state =>\r\n\tselectItemsArrayByType(state, 'Audience')\r\n\r\nexport const selectAudienceById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'Audience', id)\r\n\r\nexport const selectAudienceByCampaignId = createCachedSelector(\r\n\tselectCampaignById,\r\n\tselectAudiencesArray,\r\n\t(_, id) => id,\r\n\t(campaign, items, id) => {\r\n\t\tconst hasCampaignAudienceUpdated =\r\n\t\t\tcampaign &&\r\n\t\t\tcampaign.audienceInput &&\r\n\t\t\tcampaign.audienceInput.inputs &&\r\n\t\t\t(campaign.audienceInput.inputs.location ||\r\n\t\t\t\tcampaign.audienceInput.inputs.categories ||\r\n\t\t\t\tcampaign.audienceInput.inputs.publishers ||\r\n\t\t\t\tcampaign.audienceInput.inputs.advanced)\r\n\r\n\t\treturn hasCampaignAudienceUpdated\r\n\t\t\t? campaign.audienceInput\r\n\t\t\t: items.find(x => x && x.campaignId === id)\r\n\t}\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectSavedAudiences = createSelector(\r\n\t[selectAudiencesArray],\r\n\titems => items.filter(x => x && !x.campaignId && x.title)\r\n)\r\n\r\nexport const selectWebsitesList = createSelector(\r\n\t[selectWebsitesArray],\r\n\twebsites =>\r\n\t\twebsites.sort(\r\n\t\t\t(a, b) => new Date(b.updated).getTime() - new Date(a.updated).getTime()\r\n\t\t)\r\n)\r\n\r\nexport const selectCampaignDisplayStatus = (status = {}) => {\r\n\tif (status.name === 'Waiting') {\r\n\t\treturn 'SCHEDULED'\r\n\t} else {\r\n\t\treturn (status.humanFriendlyName || '').toUpperCase()\r\n\t}\r\n}\r\n","import {\r\n\tCampaign as CampaignModel,\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n\tAudience as AudienceModel,\r\n} from 'adex-models'\r\nimport initialState from 'store/initialState'\r\n\r\nimport { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectNewItems = state => state.memory.newItem\r\n\r\nexport const selectNewItemByType = createCachedSelector(\r\n\tselectNewItems,\r\n\t(_, type) => type,\r\n\t(items, type) => items[type]\r\n)((_state, type) => type)\r\n\r\n// NOTE: currently used only for existing items update\r\nexport const selectNewItemByTypeAndId = createCachedSelector(\r\n\tselectNewItems,\r\n\t(_, type, itemId) => ({ type, itemId }),\r\n\t(items, { type, itemId }) =>\r\n\t\t(itemId ? items[itemId] : items[type]) || { ...initialState.newItem[type] }\r\n)((_state, type = '-', itemId = '-') => `${type}:${itemId}`)\r\n\r\nexport const selectNewCampaign = createSelector(\r\n\tselectNewItems,\r\n\t({ Campaign }) => new CampaignModel(Campaign)\r\n)\r\n\r\nexport const selectNewAdUnit = createSelector(\r\n\tselectNewItems,\r\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\r\n)\r\n\r\nexport const selectNewAdSlot = createSelector(\r\n\tselectNewItems,\r\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\r\n)\r\n\r\nexport const selectNewAudience = createSelector(\r\n\tselectNewItems,\r\n\t({ Audience }) => new AudienceModel(Audience)\r\n)\r\n\r\nexport const selectNewWebsite = createSelector(\r\n\tselectNewItems,\r\n\t({ Website = {} }) => ({ ...Website })\r\n)\r\n","import { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\n\r\nconst HOUR = 60 * 60 * 1000\r\nconst DAY = 24 * HOUR\r\n\r\nconst moment = new MomentUtils()\r\n//TODO: use dateUtils\r\n\r\nexport const DEFAULT_DATETIME_FORMAT = 'YYYY/MM/DD HH:mm'\r\nexport const DEFAULT_DATE_FORMAT = 'YYYY/MM/DD'\r\n\r\nexport const formatDateTime = (\r\n\ttimestamp,\r\n\tformat = DEFAULT_DATETIME_FORMAT,\r\n\tnoDateLabel = 'no date'\r\n) => {\r\n\tif (!timestamp) {\r\n\t\treturn noDateLabel\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatDate = (\r\n\ttimestamp,\r\n\tformat = DEFAULT_DATE_FORMAT,\r\n\tnoDateLabel = 'no date'\r\n) => {\r\n\tif (!timestamp) {\r\n\t\treturn noDateLabel\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (\r\n\tamountString = '0',\r\n\tdecimals = 18,\r\n\tpretty,\r\n\ttoFixed\r\n) => {\r\n\tconst formatted = utils.formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn utils.commify(formatted)\r\n\t} else if (typeof toFixed === 'number') {\r\n\t\t// We want truncated not rounded\r\n\t\treturn parseFloat(formatted)\r\n\t\t\t.toFixed(toFixed + 4)\r\n\t\t\t.slice(0, -4)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n\r\nexport const formatAddress = (address = '', joinSymbol = '...') => {\r\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\r\n}\r\n\r\nexport const formatNumberWithCommas = x => {\r\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n}\r\n\r\nexport const formatFloatNumberWithCommas = x => {\r\n\tconst parts = x.toString().split('.')\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n\treturn parts.join('.')\r\n}\r\n\r\nexport const formatNumberWithoutCommas = x => {\r\n\treturn x\r\n\t\t.toString()\r\n\t\t.split(',')\r\n\t\t.join('')\r\n}\r\n\r\nexport const toFixedFloat = (number, decimals = 2) => {\r\n\tconst num = parseFloat(parseFloat(number).toFixed(decimals))\r\n\r\n\treturn num\r\n}\r\n\r\nexport const formatAbbrNum = (number, decPlaces) => {\r\n\t// 2 decimal places => 100, 3 => 1000, etc\r\n\tdecPlaces = Math.pow(10, decPlaces)\r\n\r\n\t// Enumerate number abbreviations\r\n\tvar abbrev = ['k', 'm', 'b', 't']\r\n\r\n\t// Go through the array backwards, so we do the largest first\r\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\r\n\t\t// Convert array index to \"1000\", \"1000000\", etc\r\n\t\tvar size = Math.pow(10, (i + 1) * 3)\r\n\r\n\t\t// If the number is bigger or equal do the abbreviation\r\n\t\tif (size <= number) {\r\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\r\n\t\t\t// This gives us nice rounding to a particular decimal place.\r\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\r\n\r\n\t\t\t// Handle special case where we round up to the next abbreviation\r\n\t\t\tif (number === 1000 && i < abbrev.length - 1) {\r\n\t\t\t\tnumber = 1\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\r\n\t\t\t// Add the letter for the abbreviation\r\n\t\t\tnumber += abbrev[i]\r\n\r\n\t\t\t// We are done... stop\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\treturn number\r\n}\r\n\r\nexport const truncateString = (string, maxLength = 50) => {\r\n\tif (!string) return ''\r\n\tif (string.length <= maxLength) return string\r\n\treturn `${string.substring(0, maxLength).trim()}...`\r\n}\r\n\r\nexport const timeSinceEpoch = (\r\n\tepochDivider = 2628000000,\r\n\tstart = Date.now(),\r\n\tend = Date.now()\r\n) => {\r\n\tconst epoch = Math.floor(start / epochDivider)\r\n\tconst epochStart = Math.floor(epoch * epochDivider)\r\n\r\n\tconst period = end - epochStart\r\n\r\n\tconst periodDays = period / DAY\r\n\r\n\tif (periodDays < 1) {\r\n\t\tconst hours = Math.floor(periodDays * 24)\r\n\t\treturn [hours, hours > 1 ? 'HOURS' : 'HOUR']\r\n\t} else {\r\n\t\tconst days = Math.floor(periodDays)\r\n\t\treturn [days, days > 1 ? 'DAYS' : 'DAY']\r\n\t}\r\n}\r\n","import dateUtils from 'helpers/dateUtils'\r\nimport { t } from 'selectors'\r\n\r\nconst SECOND = 1000\r\nconst MINUTE = 60 * SECOND\r\nconst HOUR = 60 * MINUTE\r\nconst DAY = 24 * HOUR\r\nconst WEEK = 7 * DAY\r\nconst YEAR = 365 * DAY\r\nconst MONTH = Math.floor(YEAR / 12)\r\n\r\nexport const DEFAULT_WEEK_HOURS_SPAN = 3\r\n\r\nexport const fillEmptyTime = (\r\n\tprevAggr,\r\n\ttimeframe,\r\n\tdefaultValue = 0,\r\n\tfillAfterLast = 0,\r\n\tperiod\r\n) => {\r\n\tconst now = Date.now()\r\n\tconst time = {\r\n\t\tinterval: period,\r\n\t\tstep: { period: 1, span: 'minute' },\r\n\t}\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\ttime.step = {\r\n\t\t\t\tunit: 'minute',\r\n\t\t\t\tamount: 1,\r\n\t\t\t}\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\ttime.step = { unit: 'hour', amount: 1 }\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\ttime.step = { unit: 'hour', amount: DEFAULT_WEEK_HOURS_SPAN }\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\ttime.step = { unit: 'day', amount: 1 }\r\n\t\t\tbreak\r\n\t\tcase 'year':\r\n\t\t\ttime.step = { unit: 'month', amount: 1 }\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\treturn prevAggr\r\n\t}\r\n\tconst newAggr = []\r\n\r\n\tlet initialTime = +dateUtils.date(time.interval.start)\r\n\tlet endTime = Math.min(time.interval.end, +dateUtils.date())\r\n\tfor (\r\n\t\tlet m = +dateUtils.date(initialTime);\r\n\t\tm <= endTime;\r\n\t\tm = +dateUtils.add(dateUtils.date(m), time.step.amount, time.step.unit)\r\n\t) {\r\n\t\tnewAggr.push({ value: defaultValue, time: m })\r\n\t}\r\n\tconst prevAggrInInterval = prevAggr\r\n\t\t.filter(a => {\r\n\t\t\tconst m = a.time\r\n\t\t\treturn m - initialTime >= 0 && m - endTime <= 0\r\n\t\t})\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\r\n\tconst lastWithValueTime = (prevAggrInInterval[0] || {}).time || now\r\n\r\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\r\n\t\tconst newData = { ...data }\r\n\t\tconst isNullValue = a.value === null || data[a.time] === null\r\n\t\tconst value =\r\n\t\t\ta.time <= lastWithValueTime\r\n\t\t\t\t? isNullValue\r\n\t\t\t\t\t? null\r\n\t\t\t\t\t: data[a.time] || a.value || defaultValue\r\n\t\t\t\t: fillAfterLast\r\n\r\n\t\tnewData[a.time] = a.time <= now ? value : null\r\n\r\n\t\treturn newData\r\n\t}, {})\r\n\r\n\tconst result = Object.entries(data)\r\n\t\t.map(([key, value]) => ({\r\n\t\t\tvalue,\r\n\t\t\ttime: +key,\r\n\t\t}))\r\n\t\t.sort((a, b) => a.time - b.time)\r\n\r\n\treturn result\r\n}\r\n\r\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\r\n\r\nexport const getTimePeriods = ({ timeframe, start }) => {\r\n\tlet end = null\r\n\tlet callEnd = null\r\n\tconst startCopy = dateUtils.date(start)\r\n\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\tstart = dateUtils.startOfMinute(startCopy)\r\n\t\t\tend = dateUtils.addMinutes(start, 59)\r\n\t\t\tcallEnd = dateUtils.addMinutes(end, 1)\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\tstart = dateUtils.startOfHour(startCopy)\r\n\t\t\tend = dateUtils.addHours(start, 23)\r\n\t\t\tcallEnd = dateUtils.addHours(end, 1)\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\tstart = dateUtils.getHourSpanStart(startCopy, DEFAULT_WEEK_HOURS_SPAN)\r\n\t\t\tend = dateUtils.addDays(start, 6)\r\n\t\t\tcallEnd = dateUtils.addHours(end, 6)\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\tstart = dateUtils.startOfDay(startCopy)\r\n\t\t\tend = dateUtils.addDays(dateUtils.addMonths(start, 1), -1)\r\n\t\t\tcallEnd = dateUtils.addDays(end, 1)\r\n\t\t\tbreak\r\n\t\tcase 'year':\r\n\t\t\tstart = dateUtils.date(startCopy).startOf('month')\r\n\t\t\tend = dateUtils.addMonths(start, 11)\r\n\t\t\tcallEnd = dateUtils.addMonths(end, 1)\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tbreak\r\n\t}\r\n\r\n\tstart = +start\r\n\tend = Math.min(+end, +dateUtils.date())\r\n\tcallEnd = +callEnd\r\n\r\n\treturn { start, end, callEnd }\r\n}\r\n\r\nexport const getBorderPeriodStart = ({\r\n\ttimeframe,\r\n\tstart,\r\n\tnext = false,\r\n\tstartIsLive = false,\r\n\tminDate,\r\n\tmaxDate,\r\n}) => {\r\n\tconst startCopy = dateUtils.date(start)\r\n\tconst direction = next ? 1 : -1\r\n\tlet borderStart\r\n\tlet limitedStart = startCopy\r\n\r\n\tif (\r\n\t\tnext &&\r\n\t\tmaxDate &&\r\n\t\tdateUtils.isAfter(startCopy, dateUtils.date(maxDate))\r\n\t) {\r\n\t\tlimitedStart = dateUtils.date(maxDate)\r\n\t}\r\n\r\n\tif (\r\n\t\t!next &&\r\n\t\tminDate &&\r\n\t\tdateUtils.isBefore(startCopy, dateUtils.date(minDate))\r\n\t) {\r\n\t\tlimitedStart = dateUtils.date(minDate)\r\n\t}\r\n\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\tborderStart =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfHour(limitedStart)\r\n\t\t\t\t\t: dateUtils.addHours(limitedStart, direction)\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\tconst day =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfDay(limitedStart)\r\n\t\t\t\t\t: dateUtils.addDays(limitedStart, direction)\r\n\t\t\tborderStart = dateUtils.startOfDay(day)\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\tconst week =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfWeek(startCopy)\r\n\t\t\t\t\t: dateUtils.addWeeks(startCopy, direction)\r\n\t\t\tborderStart = dateUtils.startOfDay(week)\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\tconst month =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfMonth(limitedStart)\r\n\t\t\t\t\t: dateUtils.addMonths(limitedStart, direction)\r\n\t\t\tborderStart = dateUtils.startOfMonth(month)\r\n\t\t\tbreak\r\n\t\tcase 'year':\r\n\t\t\tconst year =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfYear(limitedStart)\r\n\t\t\t\t\t: dateUtils.addYears(limitedStart, direction)\r\n\t\t\tborderStart = dateUtils.startOfMonth(year)\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\r\n\t}\r\n\tif (dateUtils.isAfter(borderStart, dateUtils.date())) {\r\n\t\tborderStart = startCopy\r\n\t}\r\n\r\n\treturn +borderStart\r\n}\r\n\r\nexport const getMinStartDateTimeByTimeframe = ({ timeframe, time }) => {\r\n\tconst min = dateUtils.date(time)\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\treturn dateUtils.addMinutes(min, -59)\r\n\t\tcase 'day':\r\n\t\t\treturn dateUtils.addHours(min, -23)\r\n\t\tcase 'week':\r\n\t\t\treturn dateUtils.addDays(min, -6)\r\n\t\tcase 'month':\r\n\t\t\treturn dateUtils.addDays(dateUtils.addMonths(min, -1), 1)\r\n\t\tcase 'year':\r\n\t\t\treturn dateUtils.addMonths(min, -11)\r\n\t\tdefault:\r\n\t\t\treturn min\r\n\t}\r\n}\r\n\r\nconst TIME_INTERVALS = [\r\n\t{ label: 'YEAR', ms: YEAR },\r\n\t{ label: 'MONTH', ms: MONTH },\r\n\t{ label: 'WEEK', ms: WEEK },\r\n\t{ label: 'DAY', ms: DAY },\r\n\t{ label: 'HOUR', ms: HOUR },\r\n\t{ label: 'MINUTE', ms: MINUTE },\r\n\t{ label: 'SECOND', ms: SECOND },\r\n]\r\n\r\nexport const timeAgo = (time, since = Date.now()) => {\r\n\tconst ms = Math.floor(since - time)\r\n\tconst interval = TIME_INTERVALS.find(i => i.ms < ms)\r\n\tif (!interval) {\r\n\t\treturn t('JUST_NOW')\r\n\t}\r\n\r\n\tconst intervalTimes = Math.floor(ms / interval.ms)\r\n\treturn t('TIME_AGO', {\r\n\t\targs: [intervalTimes, interval.label + (intervalTimes > 1 ? 'S' : '')],\r\n\t})\r\n}\r\n\r\nexport const DATE_TIME_FORMATS_BY_TIMEFRAME = {\r\n\tyear: { long: 'YYYY-MM', short: 'YYYY-MM' },\r\n\tmonth: { long: 'YYYY-MM-DD', short: 'YYYY-MM-DD' },\r\n\tweek: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\r\n\tday: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\r\n\thour: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\r\n}\r\n\r\nexport const getPeriodLabel = ({ timeframe, start, end }) => {\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\tcase 'day':\r\n\t\tcase 'week':\r\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM/DD HH:mm')} - \r\n${dateUtils.format(end, 'YYYY/MM/DD HH:mm')}`\r\n\t\tcase 'month':\r\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM/DD')} - \r\n${dateUtils.format(end, 'YYYY/MM/DD')}`\r\n\t\tcase 'year':\r\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM')} - \r\n${dateUtils.format(end, 'YYYY/MM')}`\r\n\t\tdefault:\r\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\r\n\t}\r\n}\r\n\r\nexport const getPeriodDataPointLabel = ({ timeframe, time }) => {\r\n\tif (timeframe && time) {\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\tcase 'day':\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD HH:mm')}`\r\n\t\t\tcase 'week':\r\n\t\t\t\tconst periodEnd = +dateUtils.addMinutes(\r\n\t\t\t\t\tdateUtils.addHours(dateUtils.date(time), 3),\r\n\t\t\t\t\t-1\r\n\t\t\t\t)\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD HH:mm')} - \r\n${dateUtils.format(periodEnd, 'YYYY/MM/DD HH:mm')}`\r\n\t\t\tcase 'month':\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD')}`\r\n\t\t\tcase 'year':\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM')}`\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('INVALID_TIMEFRAME')\r\n\t\t}\r\n\t}\r\n\treturn ''\r\n}\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectAccountIdentityCreatedDate,\r\n\tselectNewItemByTypeAndId,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectCampaignInDetails,\r\n} from 'selectors'\r\nimport { selectAdUnits } from './itemsSelectors'\r\n\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tgetPeriodDataPointLabel,\r\n\tgetMinStartDateTimeByTimeframe,\r\n} from 'helpers/analyticsTimeHelpers'\r\n\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\r\n\r\nexport const selectAnalytics = state => state.memory.analytics\r\nexport const selectTargeting = state => state.persist.targeting\r\n\r\nconst MIN_SLOTS_FOR_AD_TYPE = 2\r\n\r\nexport const selectAdvancedAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\tanalytics => analytics.advanced || {}\r\n)\r\n\r\nexport const selectAnalyticsLastChecked = createSelector(\r\n\tselectAnalytics,\r\n\t({ lastChecked }) => {\r\n\t\treturn lastChecked || new Date()\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsLiveTimestamp = createSelector(\r\n\t[\r\n\t\tselectIdentitySideAnalyticsTimeframe,\r\n\t\tselectAnalyticsLastChecked,\r\n\t\tselectCampaignInDetails,\r\n\t],\r\n\t(timeframe, lastChecked, campaign) => {\r\n\t\tconst currentDate = campaign\r\n\t\t\t? dateUtils.date(\r\n\t\t\t\t\tMath.min(campaign.withdrawPeriodStart, +dateUtils.date())\r\n\t\t\t  )\r\n\t\t\t: dateUtils.date(lastChecked)\r\n\t\tlet start = dateUtils.date(currentDate)\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\t\tconst hourStart = dateUtils.addMinutes(currentDate, -59)\r\n\t\t\t\tstart = dateUtils.startOfMinute(hourStart)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'day':\r\n\t\t\t\tconst dayStart = dateUtils.addHours(currentDate, -23)\r\n\t\t\t\tstart = dateUtils.startOfHour(dayStart)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'week':\r\n\t\t\t\tconst weekStart = dateUtils.addDays(currentDate, -6)\r\n\t\t\t\tstart = dateUtils.getHourSpanStart(weekStart, 3)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'month':\r\n\t\t\t\tconst monthStart = dateUtils.addDays(\r\n\t\t\t\t\tdateUtils.addMonths(currentDate, -1),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t\tstart = dateUtils.startOfDay(monthStart)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'year':\r\n\t\t\t\tconst yearStart = dateUtils.addMonths(currentDate, -11)\r\n\t\t\t\tstart = dateUtils.startOfMonth(yearStart)\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tstart = dateUtils.startOfHour(start)\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\treturn +start\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ campaigns }) => campaigns || {}\r\n)\r\n\r\nexport const selectDemandAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ demand }) => demand || {}\r\n)\r\n\r\nexport const selectDemandAnalyticsByType = createCachedSelector(\r\n\tselectDemandAnalytics,\r\n\t(_, type) => type,\r\n\t(demand, type) => demand[type] || {}\r\n)((_state, type = '-') => type)\r\n\r\nexport const selectTargetingAnalytics = createSelector(\r\n\t[selectTargeting],\r\n\t({ targetingData = [] }) => targetingData\r\n)\r\n\r\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\r\n\t[selectTargeting],\r\n\t({ minByCategory = {} }) => minByCategory\r\n)\r\n\r\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\r\n\t[selectTargeting],\r\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\r\n)\r\n\r\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargetingAnalytics => {\r\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\r\n\t\t\tx.types.forEach(t => {\r\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\r\n\t\t\t})\r\n\r\n\t\t\treturn byType\r\n\t\t}, {})\r\n\r\n\t\treturn targetingAnalytics\r\n\t\t\t.filter(\r\n\t\t\t\tx =>\r\n\t\t\t\t\t!!x.categories &&\r\n\t\t\t\t\tx.categories.length &&\r\n\t\t\t\t\tx.types &&\r\n\t\t\t\t\tx.types.length &&\r\n\t\t\t\t\t!!x.campaignsEarnedFrom\r\n\t\t\t)\r\n\t\t\t.map(t => ({\r\n\t\t\t\t...t,\r\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\r\n\t\t\t}))\r\n\t\t\t.filter(x => x.types.length)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\r\n\t[selectNewItemByTypeAndId],\r\n\titem => {\r\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsByType = createSelector(\r\n\t[\r\n\t\tselectVerifiedActiveTargetingAnalytics,\r\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\r\n\t],\r\n\t(targetingAnalytics, types) => {\r\n\t\tconst filterByType = types && types.length\r\n\r\n\t\treturn targetingAnalytics.filter(\r\n\t\t\tx =>\r\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategoriesByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\nexport const selectTargetingPublishersByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting => {\r\n\t\treturn Array.from(\r\n\t\t\ttargeting\r\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\r\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\r\n\t\t\t\t\treturn publishers\r\n\t\t\t\t}, new Map())\r\n\t\t\t\t.values()\r\n\t\t).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else {\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategories = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\n// It is used for exclusion so they are not filtered and are sorted from worst to best\r\nexport const selectAllTargetingPublishers = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting => {\r\n\t\treturn Array.from(\r\n\t\t\ttargeting\r\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\r\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\r\n\t\t\t\t\treturn publishers\r\n\t\t\t\t}, new Map())\r\n\t\t\t\t.values()\r\n\t\t).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else {\r\n\t\t\t\treturn -1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectAdvancedAnalyticsByType = createCachedSelector(\r\n\tselectAdvancedAnalytics,\r\n\t(_, type) => type,\r\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\r\n)((_state, type = '-') => type)\r\n\r\nconst mapTotalChanelToAdUnitData = (adUnits, advancedAnalytics) => {\r\n\tconst totalByAdUnit = Object.values(\r\n\t\tadvancedAnalytics.byChannelStats || {}\r\n\t).reduce((byUnit, curr) => {\r\n\t\tObject.entries(curr.reportChannelToAdUnit || {}).forEach(([key, value]) => {\r\n\t\t\tif (adUnits[key]) {\r\n\t\t\t\tbyUnit[key] = (byUnit[key] || 0) + value\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn byUnit\r\n\t}, {})\r\n\r\n\treturn totalByAdUnit\r\n}\r\n\r\nexport const selectAdUnitsTotalStats = createSelector(\r\n\t[selectAdUnits, selectAdvancedAnalytics],\r\n\t(adUnits, advancedAnalytics) => {\r\n\t\tconst stats = {\r\n\t\t\tIMPRESSION: mapTotalChanelToAdUnitData(\r\n\t\t\t\tadUnits,\r\n\t\t\t\tadvancedAnalytics.IMPRESSION || {}\r\n\t\t\t),\r\n\t\t\tCLICK: mapTotalChanelToAdUnitData(adUnits, advancedAnalytics.CLICK || {}),\r\n\t\t}\r\n\r\n\t\treturn stats\r\n\t}\r\n)\r\n\r\nexport const selectPublisherStatsByType = createCachedSelector(\r\n\tselectAdvancedAnalyticsByType,\r\n\t({ publisherStats }) => publisherStats || {}\r\n)((_state, type = '-') => type)\r\n\r\nexport const selectPublisherStatsByCountry = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToCountry || {}\r\n\r\nexport const selectPublisherPayStatsByCountry = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToCountryPay || {}\r\n\r\nexport const selectPublisherStatsAdUnit = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdUnit || {}\r\n\r\nexport const selectPublisherStatsAdUnitPay = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdUnitPay || {}\r\n\r\nexport const selectPublisherStatsAdSlot = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdSlot || {}\r\n\r\nexport const selectPublisherStatsAdSlotPay = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdSlotPay || {}\r\n\r\nexport const selectPublisherAggrStatsByCountry = createCachedSelector(\r\n\tselectPublisherStatsByCountry,\r\n\t(byCountry = {}) => ({\r\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\r\n\t\ttotal: Object.values(byCountry).reduce(\r\n\t\t\t(a, value) => a + (Number(value) || 0),\r\n\t\t\t0\r\n\t\t),\r\n\t})\r\n)((_state, type = '-') => type)\r\n\r\nexport const selectAllAdUnitsInChannels = createSelector(\r\n\t[selectChannelsWithUserBalancesAll],\r\n\twithBalanceAll =>\r\n\t\tObject.values(withBalanceAll).reduce((units, { adUnits = [] } = {}) => {\r\n\t\t\tadUnits.forEach(u => {\r\n\t\t\t\tconst id = u.id || u.ipfs\r\n\t\t\t\tif (id && !units[id]) {\r\n\t\t\t\t\tunits[id] = { ...u, id }\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn units\r\n\t\t}, {})\r\n)\r\n\r\nexport const selectPublisherAdvanceStatsToAdUnit = createSelector(\r\n\tstate => [\r\n\t\tselectAllAdUnitsInChannels(state),\r\n\t\tselectPublisherStatsAdUnit(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdUnit(state, 'CLICK'),\r\n\t\tselectPublisherStatsAdUnitPay(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdUnitPay(state, 'CLICK'),\r\n\t],\r\n\t([\r\n\t\tadUnits,\r\n\t\timpressionsByAdUnit,\r\n\t\tclicksByAdUnit,\r\n\t\timpressionsPayByAdUnit,\r\n\t\tclicksPayByAdUnit,\r\n\t]) =>\r\n\t\tObject.values(adUnits)\r\n\t\t\t.filter(i => impressionsByAdUnit[i.id] !== undefined)\r\n\t\t\t.map(item => ({\r\n\t\t\t\t...item,\r\n\t\t\t\timpressions: impressionsByAdUnit[item.id],\r\n\t\t\t\tclicks: clicksByAdUnit[item.id],\r\n\t\t\t\timpressionsPay: Number(impressionsPayByAdUnit[item.id] || 0),\r\n\t\t\t\tclicksPay: Number(clicksPayByAdUnit[item.id] || 0),\r\n\t\t\t}))\r\n)\r\n\r\nexport const selectPublisherAdvanceStatsToAdSlot = createSelector(\r\n\tstate => [\r\n\t\tselectPublisherStatsAdSlot(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdSlot(state, 'CLICK'),\r\n\t\tselectPublisherStatsAdSlotPay(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdSlotPay(state, 'CLICK'),\r\n\t],\r\n\t([\r\n\t\timpressionsByAdSlot,\r\n\t\tclicksByAdSlot,\r\n\t\timpressionsPayByAdSlot,\r\n\t\tclicksPayByAdSlot,\r\n\t]) => ({\r\n\t\timpressionsByAdSlot,\r\n\t\tclicksByAdSlot,\r\n\t\timpressionsPayByAdSlot,\r\n\t\tclicksPayByAdSlot,\r\n\t})\r\n)\r\n\r\nexport const selectPublisherTotalImpressions = createCachedSelector(\r\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\r\n\t({ reportPublisherToAdUnit }) => {\r\n\t\tconst totalImpressions = reportPublisherToAdUnit\r\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\r\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: 0\r\n\r\n\t\treturn totalImpressions\r\n\t}\r\n)(_state => 'IMPRESSION')\r\n\r\nexport const selectCampaignAnalyticsByChannelStats = (\r\n\tstate,\r\n\ttype,\r\n\tcampaignId\r\n) => {\r\n\tconst { byChannelStats = {} } = selectAdvancedAnalyticsByType(state, type)\r\n\r\n\treturn byChannelStats[campaignId] || {}\r\n}\r\n\r\nexport const selectCampaignAnalyticsByChannelToCountry = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\t({ reportChannelToCountry }) => reportChannelToCountry || {}\r\n)((_state, type, campaignId) => `${type}:${campaignId}`)\r\n\r\nexport const selectCampaignAnalyticsByChannelToCountryPay = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\t({ reportChannelToCountryPay }) => reportChannelToCountryPay || {}\r\n)((_state, type = '-', campaignId = '-') => `${type}:${campaignId}`)\r\n\r\nexport const selectCampaignAggrStatsByCountry = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelToCountry,\r\n\t(byCountry = {}) => ({\r\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\r\n\t\ttotal: Object.values(byCountry).reduce(\r\n\t\t\t(a, value) => a + (Number(value) || 0),\r\n\t\t\t0\r\n\t\t),\r\n\t})\r\n)((_state, type = '-', campaignId = '-') => `${type}:${campaignId}`)\r\n\r\nexport const selectCampaignAnalyticsByChannelToAdUnit = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\r\n\t({ reportChannelToAdUnit }) => reportChannelToAdUnit || {}\r\n)((_state, type, campaignId) => `${type}:${campaignId}`)\r\n\r\nexport const selectMaxAdUnitStatByChannel = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\t({ reportChannelToAdUnit }) =>\r\n\t\treportChannelToAdUnit\r\n\t\t\t? Math.max.apply(null, [0, ...Object.values(reportChannelToAdUnit)])\r\n\t\t\t: 0\r\n)((_state, type = '-', campaignId = '-') => `${type}:${campaignId}`)\r\n\r\nexport const selectAnalyticsDataAggr = createCachedSelector(\r\n\tselectAnalytics,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectAnalyticsLiveTimestamp,\r\n\t(_, opts = {}) => opts,\r\n\t(\r\n\t\tanalytics = {},\r\n\t\t{ start },\r\n\t\tliveTimestamp,\r\n\t\t{ side, eventType, metric, timeframe }\r\n\t) => {\r\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\r\n\t\t// NOTE: It was working fine with default initial state but\r\n\t\t// when eventType CLICK was added if you were logged and had\r\n\t\t// old analytics the initialState is not applied === boom.\r\n\r\n\t\tconst {\r\n\t\t\t[side]: {\r\n\t\t\t\t[eventType]: {\r\n\t\t\t\t\t[metric]: {\r\n\t\t\t\t\t\t[timeframe]: {\r\n\t\t\t\t\t\t\t[liveTimestamp === start ? 'live' : start]: { aggr } = {},\r\n\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t} = {},\r\n\t\t\t\t} = {},\r\n\t\t\t} = {},\r\n\t\t} = analytics\r\n\r\n\t\treturn aggr\r\n\t}\r\n)(\r\n\t(_state, { side = '-', eventType = '-', metric = '-', timeframe = '-' }) =>\r\n\t\t`${side}:${eventType}:${metric}:${timeframe}`\r\n)\r\n\r\nexport function selectCampaignEventsCount(type, campaignId) {\r\n\treturn Object.values(\r\n\t\t// TODO: fix this selector w/o using getState\r\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), type, campaignId)\r\n\t).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nconst mapEventCounts = (data = {}) => {\r\n\treturn Object.values(data).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nconst getChannelToAdUnitData = (advancedAnalytics, campaignId, eventType) => {\r\n\tconst { byChannelStats = {} } = advancedAnalytics[eventType] || {}\r\n\tconst { reportChannelToAdUnit = {} } = byChannelStats[campaignId] || {}\r\n\treturn reportChannelToAdUnit\r\n}\r\n\r\nexport const selectCampaignsEventCountsStats = createSelector(\r\n\tselectAdvancedAnalytics,\r\n\tadvancedAnalytics => {\r\n\t\tconst { byChannelStats = {} } = advancedAnalytics.IMPRESSION || {}\r\n\t\treturn Object.keys(byChannelStats).reduce((stats, key) => {\r\n\t\t\tstats[key] = {\r\n\t\t\t\timpressions: mapEventCounts(\r\n\t\t\t\t\tgetChannelToAdUnitData(advancedAnalytics, key, 'IMPRESSION')\r\n\t\t\t\t),\r\n\t\t\t\tclicks: mapEventCounts(\r\n\t\t\t\t\tgetChannelToAdUnitData(advancedAnalytics, key, 'CLICK')\r\n\t\t\t\t),\r\n\t\t\t}\r\n\r\n\t\t\treturn stats\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsEventCountsStatsById = createCachedSelector(\r\n\tselectCampaignsEventCountsStats,\r\n\t(_state, id) => id,\r\n\t(eventCounts, id) => eventCounts[id] || { impressions: 0, clicks: 0 }\r\n)((_state, id) => id)\r\n\r\nexport const selectTotalImpressions = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectTotalClicks = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectTotalMoney = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\teventPayouts =>\r\n\t\teventPayouts\r\n\t\t\t? eventPayouts.reduce(\r\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectTotalImpressionsWithPayouts = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\t(eventCounts, eventPayouts) =>\r\n\t\teventCounts && eventPayouts\r\n\t\t\t? eventCounts\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\r\n\t\t\t\t\t\t\t\t.value !== null\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectAverageCPM = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectTotalMoney(state, { side, timeframe }),\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\r\n\t(totalMoney, totalImpressions) =>\r\n\t\ttotalMoney !== null && totalImpressions !== null\r\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nconst parseValueByMetric = ({ value, metric }) => {\r\n\tswitch (metric) {\r\n\t\tcase 'eventPayouts':\r\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\r\n\t\tcase 'eventCounts':\r\n\t\t\treturn parseInt(value, 10)\r\n\t\tdefault:\r\n\t\t\treturn value\r\n\t}\r\n}\r\n\r\nexport const selectStatsChartData = createCachedSelector(\r\n\t(state, { noLastOne, ...rest } = {}) => selectAnalyticsDataAggr(state, rest),\r\n\t(_state, { noLastOne, metric, timeframe } = {}) => ({\r\n\t\tnoLastOne,\r\n\t\tmetric,\r\n\t\ttimeframe,\r\n\t}),\r\n\t(data = [], { noLastOne, metric, timeframe }) => {\r\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\r\n\t\treturn aggr.reduce(\r\n\t\t\t(memo, item) => {\r\n\t\t\t\tconst { time, value } = item\r\n\t\t\t\tlet label = getPeriodDataPointLabel({ timeframe, time })\r\n\r\n\t\t\t\tmemo.labels.push(label)\r\n\t\t\t\tmemo.datasets.push(\r\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\r\n\t\t\t\t)\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [],\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n)(\r\n\t(_state, { noLastOne = '-', metric = '-', timeframe = '-' }) =>\r\n\t\t`${metric}:${timeframe}:${noLastOne}`\r\n)\r\n\r\nexport const selectChartDatapointsImpressions = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\r\n\timpressions => impressions\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectChartDatapointsClicks = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\r\n\tclicks => clicks\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectChartDatapointsPayouts = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\tpayouts => payouts\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectChartDatapointsCPM = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\r\n\r\n\t(payouts, impressions) => {\r\n\t\tconst result = {\r\n\t\t\tlabels: [],\r\n\t\t\tdatasets: [],\r\n\t\t}\r\n\t\tresult.labels = payouts.labels\r\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\r\n\t\t\treturn impressions.datasets[i] !== 0\r\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\r\n\t\t\t\t: n\r\n\t\t})\r\n\t\treturn result\r\n\t}\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectPublisherReceipts = createSelector(\r\n\t[selectAnalytics],\r\n\t({ receipts }) => receipts || {}\r\n)\r\n\r\nexport const selectPublisherReceiptsPresentMonths = createSelector(\r\n\t[selectPublisherReceipts],\r\n\treceipts => Object.keys(receipts).map(r => +r)\r\n)\r\n\r\nexport const selectAnalyticsNowLabel = createSelector(\r\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\r\n\t(timeframe, lastChecked) => {\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.date(lastChecked),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tcase 'day':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(lastChecked), 0),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tcase 'week':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.getHourSpanStart(lastChecked, 3),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tdefault:\r\n\t\t\t\treturn dateUtils.format(dateUtils.date(), DEFAULT_DATETIME_FORMAT)\r\n\t\t}\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsMinAndMaxDates = createSelector(\r\n\t[\r\n\t\tselectCampaignInDetails,\r\n\t\tselectAccountIdentityCreatedDate,\r\n\t\tselectIdentitySideAnalyticsTimeframe,\r\n\t],\r\n\t(campaign = {}, dateCreated, timeframe) => {\r\n\t\tconst { activeFrom, withdrawPeriodStart, status = {} } = campaign\r\n\r\n\t\tconst minDate = getMinStartDateTimeByTimeframe({\r\n\t\t\ttimeframe,\r\n\t\t\ttime: dateUtils.date(activeFrom || dateCreated),\r\n\t\t})\r\n\t\tconst maxDate = getMinStartDateTimeByTimeframe({\r\n\t\t\ttimeframe,\r\n\t\t\ttime: status.closedDate || withdrawPeriodStart || dateUtils.date(),\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tminDate: +minDate,\r\n\t\t\tmaxDate: +maxDate,\r\n\t\t}\r\n\t}\r\n)\r\n","import { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectValidations = state => state.memory.validations\r\n\r\nexport const selectValidationsById = createCachedSelector(\r\n\tselectValidations,\r\n\t(_, id) => id,\r\n\t(validations, id) => validations[id]\r\n)((_state, id = '-') => id)\r\n\r\nexport const selectMultipleValidationsByIds = createCachedSelector(\r\n\tselectValidations,\r\n\t(_, ids) => ids,\r\n\t(validations, ids) => ids.map(id => validations[id])\r\n)((_state, id = '-') => id)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Link } from '@material-ui/core'\r\nimport { OpenInNew } from '@material-ui/icons'\r\nimport clsx from 'clsx'\r\n\r\nexport const styles = theme => ({\r\n\texternalIcon: {\r\n\t\tmarginLeft: theme.spacing(0.5),\r\n\t\tfontSize: 'small',\r\n\t},\r\n\tlink: {\r\n\t\tdisplay: 'inline-flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tfullWidth: {\r\n\t\twidth: '100%',\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({\r\n\thref,\r\n\ttarget,\r\n\tchildren,\r\n\tlabel,\r\n\tunderline,\r\n\texternalIcon,\r\n\tcolor,\r\n\tcomponent,\r\n\tclassName,\r\n\tfullWidth,\r\n\t...rest\r\n}) => {\r\n\tconst classes = useStyles()\r\n\r\n\tconst isExternal = target && target === '_blank'\r\n\tconst url = isExternal ? getUrl(href) : href\r\n\r\n\tconst linkProps = {\r\n\t\tunderline: underline || 'none',\r\n\t\tcolor: color || 'inherit',\r\n\t\tdraggable: 'false',\r\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\r\n\t\ttarget,\r\n\t\thref: url,\r\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\r\n\t\t...(component ? { component } : {}),\r\n\t\t...rest,\r\n\t}\r\n\treturn (\r\n\t\t<Link\r\n\t\t\t{...linkProps}\r\n\t\t\tclassName={clsx(className, classes.link, {\r\n\t\t\t\t[classes.fullWidth]: !!fullWidth,\r\n\t\t\t})}\r\n\t\t>\r\n\t\t\t{!component && (children || label)}\r\n\t\t\t{!component && externalIcon && (\r\n\t\t\t\t<OpenInNew className={classes.externalIcon} />\r\n\t\t\t)}\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport const ExternalAnchor = ({ href, children, style, ...rest }) => (\r\n\t<Anchor\r\n\t\tstyle={{ fontWeight: 'bold' }}\r\n\t\tunderline='always'\r\n\t\ttarget='_blank'\r\n\t\tcolor='primary'\r\n\t\texternalIcon\r\n\t\thref={href}\r\n\t\t{...rest}\r\n\t>\r\n\t\t{children}\r\n\t</Anchor>\r\n)\r\n\r\nexport default Anchor\r\n","import React from 'react'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport { createSelector } from 'reselect'\r\nimport { selectNewItemByTypeAndId, selectValidations } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { constants, IabCategories } from 'adex-models'\r\nimport { t } from './translationsSelectors'\r\n\r\nconst { CountryTiers, AllCountries, OsGroups } = constants\r\n\r\nexport const selectTargeting = state => state.persist.targeting\r\n\r\nconst MIN_SLOTS_FOR_AD_TYPE = 2\r\nconst GLOBAL_MIN_CPM_MULTIPLIER = 0.7\r\n\r\nexport const selectTargetingAnalytics = createSelector(\r\n\t[selectTargeting],\r\n\t({ targetingData = [] }) => targetingData\r\n)\r\n\r\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\r\n\t[selectTargeting],\r\n\t({ minByCategory = {} }) => minByCategory\r\n)\r\n\r\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\r\n\t[selectTargeting],\r\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\r\n)\r\n\r\nexport const selectMinTargetingCpm = createSelector(\r\n\t[\r\n\t\tselectTargetingAnalyticsMinByCategories,\r\n\t\tselectTargetingAnalyticsCountryTiersCoefficients,\r\n\t],\r\n\t(minByCategory, coefficients) => {\r\n\t\tconst minCat = Object.values(minByCategory).sort((a, b) => a - b)[0] || 0\r\n\t\tconst minCof = Object.values(coefficients).sort((a, b) => a - b)[0] || 0\r\n\t\tconst minCPM = minCat * minCof * GLOBAL_MIN_CPM_MULTIPLIER\r\n\r\n\t\treturn minCPM\r\n\t}\r\n)\r\n\r\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargetingAnalytics => {\r\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\r\n\t\t\tx.types.forEach(t => {\r\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\r\n\t\t\t})\r\n\r\n\t\t\treturn byType\r\n\t\t}, {})\r\n\r\n\t\treturn targetingAnalytics\r\n\t\t\t.filter(\r\n\t\t\t\tx =>\r\n\t\t\t\t\t!!x.categories &&\r\n\t\t\t\t\tx.categories.length &&\r\n\t\t\t\t\tx.types &&\r\n\t\t\t\t\tx.types.length &&\r\n\t\t\t\t\t!!x.campaignsEarnedFrom\r\n\t\t\t)\r\n\t\t\t.map(t => ({\r\n\t\t\t\t...t,\r\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\r\n\t\t\t}))\r\n\t\t\t.filter(x => x.types.length)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\r\n\t[selectNewItemByTypeAndId],\r\n\titem => {\r\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsByType = createSelector(\r\n\t[\r\n\t\tselectVerifiedActiveTargetingAnalytics,\r\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\r\n\t],\r\n\t(targetingAnalytics, types) => {\r\n\t\tconst filterByType = types && types.length\r\n\r\n\t\treturn targetingAnalytics.filter(\r\n\t\t\tx =>\r\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategoriesByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\nconst mapTargetingDataToPublishers = targetingData =>\r\n\tArray.from(\r\n\t\ttargetingData\r\n\t\t\t.reduce(\r\n\t\t\t\t(\r\n\t\t\t\t\tpublishers,\r\n\t\t\t\t\t{ owner, hostname, alexaRank, categories, reachPerMillion }\r\n\t\t\t\t) => {\r\n\t\t\t\t\tpublishers.set(hostname, {\r\n\t\t\t\t\t\towner,\r\n\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\talexaRank,\r\n\t\t\t\t\t\tcategories,\r\n\t\t\t\t\t\treachPerMillion,\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn publishers\r\n\t\t\t\t},\r\n\t\t\t\tnew Map()\r\n\t\t\t)\r\n\t\t\t.values()\r\n\t)\r\n\r\nexport const selectTargetingPublishersByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting => {\r\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else {\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategories = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\n// It is used for exclusion so they are not filtered and are sorted from worst to best\r\nexport const selectAllTargetingPublishers = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting => {\r\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else {\r\n\t\t\t\treturn -1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\n// NOTE: it can be constant but we may need some dynamic data\r\nconst autocompleteLocationsSingleSelect = createSelector(\r\n\t[],\r\n\t() => {\r\n\t\tconst tiers = Object.values(CountryTiers).map(\r\n\t\t\t({ name, ruleValue, countries } = {}) => ({\r\n\t\t\t\tlabel: t(name),\r\n\t\t\t\textraLabel: countries.join(', '),\r\n\t\t\t\tvalue: ruleValue,\r\n\t\t\t\tgroup: t('BY_TIER'),\r\n\t\t\t})\r\n\t\t)\r\n\t\tconst all = AllCountries.map(({ name, ruleValue } = {}) => ({\r\n\t\t\tlabel: t(name),\r\n\t\t\tvalue: ruleValue,\r\n\t\t\tgroup: name[0].toUpperCase(),\r\n\t\t}))\r\n\r\n\t\treturn [...tiers, ...all]\r\n\t}\r\n)\r\n\r\nconst autocompleteCategoriesMultiSelectIn = createSelector(\r\n\t[selectTargetingCategoriesByType],\r\n\tcategories =>\r\n\t\t[{ label: t('ALL_CATEGORIES'), value: 'ALL' }].concat(\r\n\t\t\tcategories.map(cat => ({\r\n\t\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\r\n\t\t\t\tvalue: cat,\r\n\t\t\t}))\r\n\t\t)\r\n)\r\n\r\nconst autocompleteCategoriesMultiSelectNin = createSelector(\r\n\t[selectTargetingCategories],\r\n\tcategories =>\r\n\t\tcategories.map(cat => ({\r\n\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\r\n\t\t\tvalue: cat,\r\n\t\t}))\r\n)\r\n\r\nconst getPublisherExtraDataLabel = publisher => [\r\n\t`${t('HOSTNAME')}: ${publisher.hostname}`,\r\n\t`${t('ALEXA_RANK')}: ${publisher.alexaRank || '-'}`,\r\n\t`${t('REACH_PER_MILLION')}: ${publisher.reachPerMillion || '-'}`,\r\n\t`${t('CATEGORIES')}: ${(publisher.categories || [])\r\n\t\t.map(\r\n\t\t\tcat => `\"${IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat}\"`\r\n\t\t)\r\n\t\t.join(', ')}`,\r\n]\r\n\r\nconst autocompletePublishersMultiSelectIn = createSelector(\r\n\t[selectTargetingPublishersByType],\r\n\tpublishers =>\r\n\t\tpublishers.map(pub => ({\r\n\t\t\tlabel: pub.hostname,\r\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\r\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\r\n\t\t\textraData: pub,\r\n\t\t}))\r\n)\r\n\r\nconst autocompletePublishersMultiSelectNin = createSelector(\r\n\t[selectAllTargetingPublishers],\r\n\tpublishers =>\r\n\t\tpublishers.map(pub => ({\r\n\t\t\tlabel: pub.hostname,\r\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\r\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\r\n\t\t\textraData: pub,\r\n\t\t}))\r\n)\r\n\r\nexport const audienceSources = [\r\n\t{\r\n\t\tparameter: 'location',\r\n\t\tapplyType: 'single',\r\n\t\tactions: [\r\n\t\t\t{ type: 'in', label: t('TARGET_COUNTRIES'), minSelected: 1 },\r\n\t\t\t{ type: 'nin', label: t('EXCLUDED_COUNTRIES'), minSelected: 1 },\r\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\r\n\t\t],\r\n\t\textraInfo: t('LOCATION_TIERS_INFO', {\r\n\t\t\targs: [\r\n\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\thref={'https://help.adex.network/hc/en-us/articles/360014629020'}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t</ExternalAnchor>,\r\n\t\t\t],\r\n\t\t}),\r\n\t},\r\n\t{\r\n\t\tparameter: 'categories',\r\n\t\tapplyType: 'multiple',\r\n\t\tactions: [\r\n\t\t\t{ type: 'in', label: t('SHOW_SELECTED'), minSelected: 1 },\r\n\t\t\t{\r\n\t\t\t\ttype: 'nin',\r\n\t\t\t\tlabel: t('DONT_SHOW_SELECTED'),\r\n\t\t\t\tminSelected: 1,\r\n\t\t\t\tdisabledValues: ['ALL'],\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tparameter: 'publishers',\r\n\t\tapplyType: 'single',\r\n\t\tactions: [\r\n\t\t\t{ type: 'in', label: t('SHOW_ONLY_IN_SELECTED'), minSelected: 1 },\r\n\t\t\t{ type: 'nin', label: t('DONT_SHOW_IN_SELECTED'), minSelected: 1 },\r\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tparameter: 'devices',\r\n\t\tapplyType: 'single',\r\n\t\tactions: [\r\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\r\n\t\t\t{ type: 'in', label: t('SHOW_ONLY_IN_SELECTED'), minSelected: 1 },\r\n\t\t\t{ type: 'nin', label: t('DONT_SHOW_IN_SELECTED'), minSelected: 1 },\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tparameter: 'advanced',\r\n\t\tapplyType: 'multiple-checkbox',\r\n\t\tactions: [\r\n\t\t\t{\r\n\t\t\t\tvalue: 'includeIncentivized',\r\n\t\t\t\tlabel: t('INCLUDE_INCENTIVIZED_TRAFFIC'),\r\n\t\t\t\thelper: (\r\n\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014543380-What-is-incentivized-traffic-'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LEARN_MORE')}\r\n\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalue: 'disableFrequencyCapping',\r\n\t\t\t\tlabel: t('DISABLE_FREQUENCY_CAPPING'),\r\n\t\t\t\thelper: (\r\n\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597299-What-is-frequency-capping-'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LEARN_MORE')}\r\n\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalue: 'limitDailyAverageSpending',\r\n\t\t\t\tlabel: t('LIMIT_AVERAGE_DAILY_SPENDING'),\r\n\t\t\t\thelper: (\r\n\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597319-How-to-limit-your-average-daily-spend'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LEARN_MORE')}\r\n\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n]\r\n\r\nconst devices = Object.values(OsGroups).map(\r\n\t({ name, ruleValue, oss } = {}) => ({\r\n\t\tlabel: t(name),\r\n\t\textraLabel: oss.join(', '),\r\n\t\tvalue: ruleValue,\r\n\t\tgroup: t('POPULAR'),\r\n\t})\r\n)\r\n\r\nconst selectAutocompleteAudienceSources = createSelector(\r\n\t[\r\n\t\tautocompleteLocationsSingleSelect,\r\n\t\tautocompleteCategoriesMultiSelectIn,\r\n\t\tautocompleteCategoriesMultiSelectNin,\r\n\t\tautocompletePublishersMultiSelectIn,\r\n\t\tautocompletePublishersMultiSelectNin,\r\n\t],\r\n\t(locations, catIn, catNin, pubIn, pubNin) => ({\r\n\t\tlocation: {\r\n\t\t\tsingleValuesSrc: locations,\r\n\t\t},\r\n\t\tcategories: {\r\n\t\t\tmultipleValuesSrc: {\r\n\t\t\t\tin: catIn,\r\n\t\t\t\tnin: catNin,\r\n\t\t\t},\r\n\t\t},\r\n\t\tpublishers: {\r\n\t\t\tmultipleValuesSrc: {\r\n\t\t\t\tin: pubIn,\r\n\t\t\t\tnin: pubNin,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdevices: {\r\n\t\t\tsingleValuesSrc: devices,\r\n\t\t},\r\n\t})\r\n)\r\n\r\nexport const selectAudienceInputItemOptions = createSelector(\r\n\t[selectNewItemByTypeAndId],\r\n\titem => {\r\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\r\n\t}\r\n)\r\n\r\nconst getDisabledValues = (data, source, inputs, allSrcs) => {\r\n\tconst disabled = []\r\n\r\n\tif (\r\n\t\tdata.parameter === 'publishers' &&\r\n\t\tinputs.categories &&\r\n\t\tinputs.categories.apply &&\r\n\t\tinputs.categories.apply.includes('in') &&\r\n\t\tinputs.categories.in &&\r\n\t\tinputs.categories.in.length\r\n\t) {\r\n\t\tdisabled.in = inputs.categories.in.includes('ALL')\r\n\t\t\t? []\r\n\t\t\t: source\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tx =>\r\n\t\t\t\t\t\t\t!x.extraData.categories.some(c =>\r\n\t\t\t\t\t\t\t\tinputs.categories.in.includes(c)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => c.value)\r\n\t} else if (\r\n\t\tdata.parameter === 'categories' &&\r\n\t\tinputs.publishers &&\r\n\t\tinputs.publishers.apply &&\r\n\t\tinputs.publishers.apply === 'in' &&\r\n\t\tinputs.publishers.in &&\r\n\t\tinputs.publishers.in.length\r\n\t) {\r\n\t\tconst selectedPublishersCategories = new Set()\r\n\t\tallSrcs\r\n\t\t\t.find(s => s.parameter === 'publishers')\r\n\t\t\t.source.in.forEach(p => {\r\n\t\t\t\tif (inputs.publishers.in.includes(p.value)) {\r\n\t\t\t\t\tp.extraData.categories.forEach(c =>\r\n\t\t\t\t\t\tselectedPublishersCategories.add(c)\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tdisabled.in = source\r\n\t\t\t.filter(\r\n\t\t\t\tc => c.value !== 'ALL' && !selectedPublishersCategories.has(c.value)\r\n\t\t\t)\r\n\t\t\t.map(c => c.value)\r\n\t}\r\n\r\n\treturn disabled\r\n}\r\n\r\nexport const selectAudienceSourcesWithOptions = createSelector(\r\n\t[selectAutocompleteAudienceSources],\r\n\tsourcesData =>\r\n\t\taudienceSources.map(s => {\r\n\t\t\tconst source = (sourcesData[s.parameter] || {}).multipleValuesSrc\r\n\t\t\t\t? sourcesData[s.parameter].multipleValuesSrc\r\n\t\t\t\t: {}\r\n\r\n\t\t\tif ((sourcesData[s.parameter] || {}).singleValuesSrc) {\r\n\t\t\t\ts.actions.forEach(a => {\r\n\t\t\t\t\tsource[a.type] = a.value || sourcesData[s.parameter].singleValuesSrc\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...s,\r\n\t\t\t\tsource,\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectAudienceValidations = createCachedSelector(\r\n\tselectValidations,\r\n\t(_, __, ___, validateId) => validateId,\r\n\t(validations, id) => validations[id]\r\n)((_, __, ___, validateId = '-') => validateId)\r\n\r\nexport const selectAudienceInputsDataByItem = createCachedSelector(\r\n\tselectAudienceSourcesWithOptions,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAudienceValidations,\r\n\t(_, __, ___, ____, advancedOnly) => advancedOnly,\r\n\r\n\t(allSrcsWithOptions, selectedItem, validations = {}, advancedOnly) => {\r\n\t\tconst isCampaignAudienceItem = selectedItem && !!selectedItem.audienceInput\r\n\r\n\t\tconst errors =\r\n\t\t\tvalidations[isCampaignAudienceItem ? 'audienceInput' : 'inputs'] || {}\r\n\r\n\t\tconst errorParameters = errors.dirty ? errors.errFields || {} : {}\r\n\r\n\t\tconst inputs =\r\n\t\t\t(isCampaignAudienceItem\r\n\t\t\t\t? selectedItem.audienceInput.inputs\r\n\t\t\t\t: selectedItem.inputs) || {}\r\n\r\n\t\tconst SOURCES = allSrcsWithOptions\r\n\t\t\t.filter(s =>\r\n\t\t\t\t!!advancedOnly ? s.parameter === 'advanced' : s.parameter !== 'advanced'\r\n\t\t\t)\r\n\t\t\t.map(s => {\r\n\t\t\t\tconst disabledValues = getDisabledValues(\r\n\t\t\t\t\ts,\r\n\t\t\t\t\t//TODO: temp only used for in, so there is no point making it to work with other action types\r\n\t\t\t\t\ts.source.in,\r\n\t\t\t\t\tinputs,\r\n\t\t\t\t\tallSrcsWithOptions\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst source = { ...s.source }\r\n\t\t\t\tif (\r\n\t\t\t\t\t!!source.in &&\r\n\t\t\t\t\tsource.in.length &&\r\n\t\t\t\t\t!!disabledValues.in &&\r\n\t\t\t\t\tdisabledValues.in.length\r\n\t\t\t\t) {\r\n\t\t\t\t\tsource.in = [...source.in].sort((a, b) => {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tdisabledValues.in.includes(a.value) &&\r\n\t\t\t\t\t\t\t!disabledValues.in.includes(b.value)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t!disabledValues.in.includes(a.value) &&\r\n\t\t\t\t\t\t\tdisabledValues.in.includes(b.value)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn -1\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn 0\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...s,\r\n\t\t\t\t\tsource,\r\n\t\t\t\t\tdisabledValues,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tconst audienceInputData = { SOURCES, inputs, errorParameters }\r\n\r\n\t\treturn audienceInputData\r\n\t}\r\n)((_, __, ___, ____, advancedOnly = '-') => (!!advancedOnly).toString())\r\n","import { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectNewTransactions = state => state.memory.newTransactions\r\n\r\nexport const selectNewTransactionById = createCachedSelector(\r\n\tselectNewTransactions,\r\n\t(_, id) => id,\r\n\t(txns, id) => txns[id] || {}\r\n)((_state, id = '-') => id)\r\n","import {\r\n\tcreateMuiTheme,\r\n\tresponsiveFontSizes,\r\n\tfade,\r\n} from '@material-ui/core/styles'\r\nimport { lime, grey } from '@material-ui/core/colors'\r\n\r\nconst WHITE = '#fafafa'\r\nconst BLACK = '#0f0f0f'\r\n\r\nexport const ERROR_COLOR = '#FF4269'\r\nexport const ERROR_LIGHT = '#ff7a97'\r\nexport const ERROR_DARK = '#c6003f'\r\n\r\nexport const WARNING = '#FEB006'\r\nexport const SUCCESS = '#14dc9c'\r\nexport const INFO = '#1b75bc'\r\nexport const ERROR = '#ff6969'\r\n\r\n// Light theme\r\nexport const PRIMARY = '#1B75BC'\r\nexport const PRIMARY_LIGHT = '#5fa3ef'\r\nexport const PRIMARY_LIGHTEST = '#96d4ff'\r\nexport const PRIMARY_DARK = '#004a8b'\r\nexport const PRIMARY_DARKEST = '#00235d'\r\n\r\nexport const SECONDARY = '#1BC69F'\r\nexport const SECONDARY_LIGHT = '#65fad0'\r\nexport const SECONDARY_DARK = '#009471'\r\n\r\nexport const ALEX_GREY = '#3C3C3C'\r\nexport const ALEX_GREY_LIGHT = '#666'\r\nexport const ALEX_GREY_DARK = '#161616'\r\nexport const ALEX_GREY_LIGHTEST = '#ebebeb'\r\n\r\nexport const GANDALF_GREY = '#C4C4C4'\r\n\r\nexport const ACCENT_ONE = '#FF6942'\r\nexport const ACCENT_ONE_LIGHT = '#FF9B6F'\r\nexport const ACCENT_ONE_DARK = '#c53616'\r\n\r\nexport const ACCENT_TWO = '#FFAC00'\r\nexport const ACCENT_TWO_LIGHT = '#ffde4b'\r\nexport const ACCENT_TWO_DARK = '#c67d00'\r\n\r\nexport const PAPER = WHITE\r\nexport const BG_DEFAULT = '#efefef'\r\n\r\nconst primary = {\r\n\tmain: PRIMARY,\r\n\tdark: PRIMARY_DARK,\r\n\tlight: PRIMARY_LIGHT,\r\n\tlightest: PRIMARY_LIGHTEST,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\nconst secondary = {\r\n\tmain: SECONDARY,\r\n\tdark: SECONDARY_DARK,\r\n\tlight: SECONDARY_LIGHT,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\n// Dark theme\r\nexport const DARK_PRIMARY = '#0ca597'\r\nexport const DARK_PRIMARY_LIGHT = '#59d7c8'\r\nexport const DARK_PRIMARY_LIGHTEST = '#90fffb'\r\nexport const DARK_PRIMARY_DARK = '#007569'\r\nexport const DARK_PRIMARY_DARKEST = '#00493f'\r\n\r\nexport const DARK_SECONDARY = '#d4ff00'\r\nexport const DARK_SECONDARY_LIGHT = '#ffff58'\r\nexport const DARK_SECONDARY_DARK = '#9ecc00'\r\n\r\nexport const DARK_PAPER = '#333'\r\nexport const DARK_BG_DEFAULT = '#0f1316'\r\nexport const DARK_APPBAR = '#1f1f1f'\r\n\r\nexport const DARK_ACCENT_ONE = '#ff7000'\r\nexport const DARK_ACCENT_ONE_LIGHT = '#ffa140'\r\nexport const DARK_ACCENT_ONE_DARK = '#c43f00'\r\n\r\nexport const DARK_ACCENT_TWO = '#0090dd'\r\nexport const DARK_ACCENT_TWO_LIGHT = '#60c0ff'\r\nexport const DARK_ACCENT_TWO_DARK = '#0063ab'\r\n\r\nconst darkPrimary = {\r\n\tmain: DARK_PRIMARY,\r\n\tdark: DARK_PRIMARY_DARK,\r\n\tlight: DARK_PRIMARY_LIGHT,\r\n\tlightest: DARK_PRIMARY_DARKEST,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\nconst darkSecondary = {\r\n\tmain: DARK_SECONDARY,\r\n\tdark: DARK_SECONDARY_DARK,\r\n\tlight: DARK_SECONDARY_LIGHT,\r\n\tcontrastText: BLACK,\r\n}\r\n\r\nconst paletteCommon = {\r\n\tprimary: { main: PRIMARY, contrastText: WHITE },\r\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\r\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\r\n\tlightGrey: { main: ALEX_GREY_LIGHTEST, contrastText: BLACK },\r\n\twarning: {\r\n\t\tmain: WARNING,\r\n\t\tcontrastText: BLACK,\r\n\t},\r\n\tsuccess: {\r\n\t\tmain: SUCCESS,\r\n\t\tcontrastText: BLACK,\r\n\t},\r\n\tinfo: {\r\n\t\tmain: INFO,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\terror: {\r\n\t\tmain: ERROR,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\tfirst: lime,\r\n\tcommon: {\r\n\t\twhite: WHITE,\r\n\t\tblack: BLACK,\r\n\t},\r\n}\r\n\r\nconst paletteDark = {\r\n\ttype: 'dark',\r\n\t...paletteCommon,\r\n\tprimary: darkPrimary,\r\n\tsecondary: darkSecondary,\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\t// accentOne: {\r\n\t// \tmain: DARK_ACCENT_ONE,\r\n\t// \tlight: ACCENT_ONE_LIGHT,\r\n\t// \tcontrastText: WHITE,\r\n\t// },\r\n\t// accentTwo: {\r\n\t// \tmain: DARK_ACCENT_TWO,\r\n\t// \tlight: ACCENT_TWO_LIGHT,\r\n\t// \tcontrastText: BLACK,\r\n\t// },\r\n\t// special: { main: WARNING, contrastText: BLACK },\r\n\t// text: {\r\n\t// \tmain: TEXT_MAIN,\r\n\t// \tprimary: fade(WHITE, 0.69),\r\n\t// \tsecondary: fade(WHITE, 0.42),\r\n\t// \tdisabled: fade(WHITE, 0.1948),\r\n\t// \thint: fade(WHITE, 0.13),\r\n\t// },\r\n\tdivider: fade(WHITE, 0.13),\r\n\tbackground: {\r\n\t\tpaper: DARK_PAPER,\r\n\t\tdefault: DARK_BG_DEFAULT,\r\n\t},\r\n\taction: {\r\n\t\taction: fade(WHITE, 0.46),\r\n\t\thover: fade(WHITE, 0.069),\r\n\t\thoverOpacity: 0.069,\r\n\t\tselected: fade(WHITE, 0.1914),\r\n\t\tselectedOpacity: 0.1914,\r\n\t\tdisabled: fade(WHITE, 0.1948),\r\n\t\tdisabledOpacity: 0.48,\r\n\t\tfocus: fade(WHITE, 0.18),\r\n\t\tfocusOpacity: 0.18,\r\n\t\tactivatedOpacity: 0.18,\r\n\t},\r\n\tappBar: { main: DARK_APPBAR, contrastText: grey[200] },\r\n\ttext: {\r\n\t\ticon: fade(WHITE, 0.42),\r\n\t\tprimary: fade(WHITE, 0.9),\r\n\t\tsecondary: fade(WHITE, 0.42),\r\n\t\tdisabled: fade(WHITE, 0.1948),\r\n\t\thint: fade(WHITE, 0.13),\r\n\t\tsolid: grey[200],\r\n\t},\r\n}\r\n\r\nconst paletteLight = {\r\n\ttype: 'light',\r\n\t...paletteCommon,\r\n\tprimary,\r\n\tsecondary,\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: {\r\n\t\tmain: ALEX_GREY,\r\n\t\tcontrastText: WHITE,\r\n\t\tlight: ALEX_GREY_LIGHT,\r\n\t\tdark: ALEX_GREY_DARK,\r\n\t},\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: {\r\n\t\tmain: ERROR_COLOR,\r\n\t\tlight: ACCENT_TWO_LIGHT,\r\n\t\tdark: ACCENT_TWO_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\twarning: {\r\n\t\tmain: ACCENT_TWO,\r\n\t\tlight: ERROR_LIGHT,\r\n\t\tdark: ERROR_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\tbackground: {\r\n\t\tdefault: BG_DEFAULT,\r\n\t\tpaper: WHITE,\r\n\t},\r\n\tinfo: primary,\r\n\tsuccess: secondary,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\taction: {\r\n\t\tdisabledBackground: grey[200],\r\n\t\tdisabled: grey[500],\r\n\t},\r\n\ttooltipBgColor: fade(ALEX_GREY, 0.98),\r\n\ttext: {\r\n\t\ticon: fade(BLACK, 0.69),\r\n\t\tprimary: fade(BLACK, 0.9),\r\n\t\tsecondary: fade(BLACK, 0.69),\r\n\t\tdisabled: fade(BLACK, 0.42),\r\n\t\thint: fade(BLACK, 0.13),\r\n\t\tsolid: grey[500],\r\n\t},\r\n}\r\n\r\nexport const palette = {\r\n\tprimary,\r\n\tsecondary,\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: {\r\n\t\tmain: ALEX_GREY,\r\n\t\tcontrastText: WHITE,\r\n\t\tlight: ALEX_GREY_LIGHT,\r\n\t\tdark: ALEX_GREY_DARK,\r\n\t},\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: {\r\n\t\tmain: ERROR_COLOR,\r\n\t\tlight: ACCENT_TWO_LIGHT,\r\n\t\tdark: ACCENT_TWO_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\twarning: {\r\n\t\tmain: ACCENT_TWO,\r\n\t\tlight: ERROR_LIGHT,\r\n\t\tdark: ERROR_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\tinfo: primary,\r\n\tsuccess: secondary,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n\taction: {\r\n\t\tdisabledBackground: grey[200],\r\n\t\tdisabled: grey[500],\r\n\t},\r\n\ttooltipBgColor: fade(ALEX_GREY, 0.98),\r\n}\r\n\r\nconst typography = {\r\n\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\tfontSize: 13.42,\r\n}\r\n\r\nconst defaultTheme = createMuiTheme({\r\n\ttypography,\r\n\tpalette: { ...paletteCommon },\r\n})\r\n\r\nconst darkShadows = [...defaultTheme.shadows, '3px 4px 15px 0px rgba(0,0,0,1)']\r\n\r\nconst lightShadows = [\r\n\t...defaultTheme.shadows,\r\n\t'2px 2px 13px 0px rgba(69,69,69,0.420)',\r\n]\r\n\r\nconst commonTheme = createMuiTheme({\r\n\t...defaultTheme,\r\n\ttypography,\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t\tborderColor: ALEX_GREY,\r\n\t\t\t},\r\n\t\t\tcontained: {\r\n\t\t\t\tbackgroundColor: ALEX_GREY,\r\n\t\t\t\tcolor: WHITE,\r\n\t\t\t\tboxShadow: 0,\r\n\t\t\t\t'&:hover': {\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\t'@media (hover: none)': {\r\n\t\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t'&$focusVisible': {\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\t\t\t\t},\r\n\t\t\t\t'&:active': {\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTooltip: {\r\n\t\t\ttooltip: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t\tfontSize: defaultTheme.typography.pxToRem(13),\r\n\t\t\t\tbackgroundColor: palette.tooltipBgColor,\r\n\t\t\t},\r\n\t\t\tarrow: {\r\n\t\t\t\tcolor: palette.tooltipBgColor,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiSelect: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiInputLabel: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiOutlinedInput: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAlert: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlinedSuccess: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedInfo: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedWarning: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedError: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// },\r\n\t\tMuiTableFooter: {\r\n\t\t\troot: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflex: 0,\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAppBar: {\r\n\t\t\tcolorDefault: {\r\n\t\t\t\tbackgroundColor: palette.appBar.main,\r\n\t\t\t\tcolor: palette.appBar.contrastText,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTablePagination: {\r\n\t\t\ttoolbar: {\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableFilter: {\r\n\t\t\troot: {\r\n\t\t\t\tmaxWidth: '400px',\r\n\t\t\t},\r\n\t\t},\r\n\t\t// Think of accessing an element not a class\r\n\t\tMuiGridListTile: {\r\n\t\t\troot: {\r\n\t\t\t\twidth: '100% !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBodyCell: {\r\n\t\t\tstackedCommon: {\r\n\t\t\t\t[defaultTheme.breakpoints.down('sm')]: {\r\n\t\t\t\t\tdisplay: 'inline-flex',\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\tborderBottom: 'none',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTable: {\r\n\t\t\troot: {\r\n\t\t\t\tborder: '1px solid black',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBody: {\r\n\t\t\temptyTitle: {\r\n\t\t\t\tpadding: defaultTheme.spacing(2),\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst defaultThemeWithOverrides = responsiveFontSizes(commonTheme, {\r\n\tbreakpoints: ['xs', 'sm', 'md', 'lg', 'xl'],\r\n\tfactor: 3,\r\n})\r\n\r\nexport const darkTheme = createMuiTheme({\r\n\t...defaultThemeWithOverrides,\r\n\tpalette: paletteDark,\r\n\tshadows: darkShadows,\r\n\ttype: 'dark',\r\n})\r\n\r\nexport const lightTheme = createMuiTheme({\r\n\t...defaultThemeWithOverrides,\r\n\tpalette: paletteLight,\r\n\tshadows: lightShadows,\r\n\ttype: 'light',\r\n})\r\n","import { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport {\r\n\tt,\r\n\tselectCampaignsArray,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAdSlotsArray,\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\tselectCampaignAnalyticsByChannelToAdUnit,\r\n\tselectCampaignUnitsById,\r\n\tselectMainToken,\r\n\tselectAnalytics,\r\n\tselectPublisherAdvanceStatsToAdUnit,\r\n\tselectPublisherStatsByCountry,\r\n\tselectCampaignAnalyticsByChannelToCountry,\r\n\tselectCampaignAnalyticsByChannelToCountryPay,\r\n\tselectPublisherAggrStatsByCountry,\r\n\tselectCampaignAggrStatsByCountry,\r\n\tselectPublisherPayStatsByCountry,\r\n\tselectPublisherAdvanceStatsToAdSlot,\r\n\tselectSavedAudiences,\r\n\tselectAudienceByCampaignId,\r\n\tselectSide,\r\n\tselectAdUnitsTotalStats,\r\n\tselectCampaignsEventCountsStats,\r\n} from 'selectors'\r\nimport { utils } from 'ethers'\r\nimport chartCountriesData from 'world-atlas/countries-50m.json'\r\nimport { scaleLinear } from 'd3-scale'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\nimport {\r\n\tPRIMARY_DARKEST,\r\n\tPRIMARY_LIGHTEST,\r\n\tSECONDARY,\r\n\tSECONDARY_LIGHT,\r\n} from 'components/App/themeMUi'\r\nimport { grey } from '@material-ui/core/colors'\r\nimport { constants, helpers } from 'adex-models'\r\nimport { selectAdUnitsArray } from './itemsSelectors'\r\nconst { CountryNames, numericToAlpha2 } = constants\r\nconst { pricingBondsToUserInputPerMile } = helpers\r\n\r\nexport const selectCampaignsTableData = createSelector(\r\n\t[\r\n\t\tselectCampaignsEventCountsStats,\r\n\t\tselectCampaignsArray,\r\n\t\tselectRoutineWithdrawTokens,\r\n\t\tselectSide,\r\n\t],\r\n\t(eventCounts, campaigns, tokens, side) => {\r\n\t\treturn campaigns\r\n\t\t\t.filter(x => !x.archived)\r\n\t\t\t.map(item => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\r\n\t\t\t\tconst {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tspec = {},\r\n\t\t\t\t\tadUnits = [],\r\n\t\t\t\t\tstatus,\r\n\t\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\t\tspecPricingBounds,\r\n\t\t\t\t} = item\r\n\r\n\t\t\t\tconst firstUnit = adUnits[0] || {}\r\n\r\n\t\t\t\tconst to = `/dashboard/${side}/campaigns/${id}`\r\n\t\t\t\tconst toReceipt = `/dashboard/${side}/receipt/${id}`\r\n\r\n\t\t\t\tconst cpm =\r\n\t\t\t\t\tpricingBoundsCPMUserInput ||\r\n\t\t\t\t\tpricingBondsToUserInputPerMile({\r\n\t\t\t\t\t\tpricingBounds: specPricingBounds.IMPRESSION\r\n\t\t\t\t\t\t\t? specPricingBounds\r\n\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\tIMPRESSION: {\r\n\t\t\t\t\t\t\t\t\t\tmin: item.minPerImpression || spec.minPerImpression,\r\n\t\t\t\t\t\t\t\t\t\tmax: item.maxPerImpression || spec.maxPerImpression,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tconst { impressions = 0, clicks = 0 } = eventCounts[id] || {}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\tside,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\r\n\t\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\tstatus: {\r\n\t\t\t\t\t\tstatus,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdepositAmount: Number(\r\n\t\t\t\t\t\tutils.formatUnits(item.depositAmount || '0', decimals)\r\n\t\t\t\t\t),\r\n\t\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\r\n\t\t\t\t\timpressions,\r\n\t\t\t\t\tclicks,\r\n\r\n\t\t\t\t\tctr: (clicks / impressions) * 100 || 0,\r\n\t\t\t\t\tminPerImpression: Number(cpm.IMPRESSION.min),\r\n\r\n\t\t\t\t\tmaxPerImpression: Number(cpm.IMPRESSION.max),\r\n\t\t\t\t\tcreated: item.created,\r\n\t\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\r\n\t\t\t\t\twithdrawPeriodStart:\r\n\t\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\r\n\t\t\t\t\tactions: {\r\n\t\t\t\t\t\tside,\r\n\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t\ttoReceipt,\r\n\t\t\t\t\t\treceiptReady:\r\n\t\t\t\t\t\t\t(item.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed') &&\r\n\t\t\t\t\t\t\t(item.status.name === 'Exhausted' ||\r\n\t\t\t\t\t\t\t\titem.status.name === 'Expired'),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid,\r\n\t\t\t\t\treceiptAvailable:\r\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsMaxImpressions = createSelector(\r\n\tselectCampaignsTableData,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxClicks = createSelector(\r\n\tselectCampaignsTableData,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxDeposit = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\r\n\t(campaigns, tokens) =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\r\n\t\t\t\treturn Number(utils.formatUnits(i.depositAmount, decimals) || 0)\r\n\t\t\t})\r\n\t\t)\r\n)\r\n\r\nexport const selectAdSlotsTableData = createSelector(\r\n\t[selectAdSlotsArray, selectPublisherAdvanceStatsToAdSlot, selectSide],\r\n\t(\r\n\t\tslots,\r\n\t\t{\r\n\t\t\timpressionsByAdSlot,\r\n\t\t\tclicksByAdSlot,\r\n\t\t\timpressionsPayByAdSlot,\r\n\t\t\tclicksPayByAdSlot,\r\n\t\t},\r\n\t\tside\r\n\t) =>\r\n\t\tslots\r\n\t\t\t.filter(x => !x.archived)\r\n\t\t\t.map(item => {\r\n\t\t\t\tconst id = item.id || item.ipfs\r\n\t\t\t\tconst to = `/dashboard/${side}/slots/${id}`\r\n\r\n\t\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\r\n\r\n\t\t\t\tconst clicks = clicksByAdSlot[id]\r\n\t\t\t\tconst impressions = impressionsByAdSlot[id]\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\t\tmediaMime,\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttype: type.replace('legacy_', ''),\r\n\t\t\t\t\tcreated: created,\r\n\t\t\t\t\timpressions,\r\n\t\t\t\t\tclicks,\r\n\t\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\r\n\t\t\t\t\tearnings:\r\n\t\t\t\t\t\tNumber(impressionsPayByAdSlot[id] || 0) +\r\n\t\t\t\t\t\tNumber(clicksPayByAdSlot[id] || 0),\r\n\t\t\t\t\tactions: {\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t\titem,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n)\r\n\r\nconst getTabledData = ({\r\n\tselectOnImage,\r\n\tside,\r\n\titems,\r\n\timpressionsByAdUnit,\r\n\tclicksByAdUnit,\r\n}) => {\r\n\treturn [...items]\r\n\t\t.filter(x => !x.archived)\r\n\t\t.map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/units/${id}`\r\n\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\r\n\r\n\t\t\tconst impressions = impressionsByAdUnit(id)\r\n\t\t\tconst clicks = clicksByAdUnit(id) || 0\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tselectOnImage,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\tmediaMime,\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\tctr: (clicks / (impressions || 1)) * 100 || 0,\r\n\t\t\t\ttitle,\r\n\t\t\t\ttype,\r\n\t\t\t\tcreated,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const selectAllAdUnitsTableData = createSelector(\r\n\t[selectAdUnitsArray, selectSide, selectAdUnitsTotalStats],\r\n\t(items, side, adUnitsTotalStats) =>\r\n\t\tgetTabledData({\r\n\t\t\titems,\r\n\t\t\tside,\r\n\t\t\timpressionsByAdUnit: id => adUnitsTotalStats.IMPRESSION[id],\r\n\t\t\tclicksByAdUnit: id => adUnitsTotalStats.CLICK[id],\r\n\t\t})\r\n)\r\n\r\nexport const selectAdUnitsByCampaignTableData = createCachedSelector(\r\n\tselectCampaignUnitsById,\r\n\tselectSide,\r\n\t(state, campaignId) => id => {\r\n\t\treturn selectCampaignAnalyticsByChannelToAdUnit(\r\n\t\t\tstate,\r\n\t\t\t'IMPRESSION',\r\n\t\t\tcampaignId\r\n\t\t)[id]\r\n\t},\r\n\t(state, campaignId) => id => {\r\n\t\treturn selectCampaignAnalyticsByChannelToAdUnit(state, 'CLICK', campaignId)[\r\n\t\t\tid\r\n\t\t]\r\n\t},\r\n\t(items, side, impressionsByAdUnit, clicksByAdUnit) =>\r\n\t\tgetTabledData({\r\n\t\t\titems,\r\n\t\t\tside,\r\n\t\t\timpressionsByAdUnit,\r\n\t\t\tclicksByAdUnit,\r\n\t\t})\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectAdUnitsByItemsTableData = createCachedSelector(\r\n\t(_state, items) => items,\r\n\tselectSide,\r\n\tselectAdUnitsTotalStats,\r\n\t(items, side, adUnitsToatalStats) =>\r\n\t\tgetTabledData({\r\n\t\t\tselectOnImage: true,\r\n\t\t\titems,\r\n\t\t\tside,\r\n\t\t\timpressionsByAdUnit: id => adUnitsToatalStats.IMPRESSION[id],\r\n\t\t\tclicksByAdUnit: id => adUnitsToatalStats.CLICK[id],\r\n\t\t})\r\n)((_state, items = []) => items.map(x => x.id).join(':') || '-')\r\n\r\nexport const selectAdUnitsTableData = createCachedSelector(\r\n\t(state, { campaignId, items }) =>\r\n\t\t!!items\r\n\t\t\t? selectAdUnitsByItemsTableData(state, items)\r\n\t\t\t: campaignId\r\n\t\t\t? selectAdUnitsByCampaignTableData(state, campaignId)\r\n\t\t\t: selectAllAdUnitsTableData(state),\r\n\r\n\tdata => data\r\n)(\r\n\t(_state, { campaignId, items }) =>\r\n\t\tcampaignId || (items || []).map(x => x.id).join(':') || 'all'\r\n)\r\n\r\nexport const selectAudiencesTableData = createSelector(\r\n\t[selectSavedAudiences],\r\n\taudiences =>\r\n\t\taudiences\r\n\t\t\t.filter(x => !x.archived)\r\n\t\t\t.map(item => {\r\n\t\t\t\tconst { id, title, inputs, version, created, updated } = item\r\n\r\n\t\t\t\tconst to = `/dashboard/advertiser/audiences/${id}`\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\ttitle: title || id,\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t\tactions: {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\taudienceInput: { inputs, version },\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tto: `/dashboard/advertiser/audiences/${id}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n)\r\n\r\nconst mapByCountryTableData = ({\r\n\timpressionsByCountry,\r\n\tclicksByCountry,\r\n\timpressionsAggrByCountry,\r\n\timpressionsPayByCountry,\r\n\tclicksPayByCountry,\r\n} = {}) => {\r\n\tconst addEarnings = impressionsPayByCountry && clicksPayByCountry\r\n\t// NOTE: assume that there are no click without impressions\r\n\treturn Object.keys(impressionsByCountry).map(key => {\r\n\t\treturn {\r\n\t\t\tcountryName: CountryNames[key],\r\n\t\t\timpressions: impressionsByCountry[key] || 0,\r\n\t\t\tpercentImpressions:\r\n\t\t\t\t((impressionsByCountry[key] || 0) /\r\n\t\t\t\t\t(impressionsAggrByCountry.total || 1)) *\r\n\t\t\t\t100,\r\n\t\t\tclicks: clicksByCountry[key] || 0,\r\n\r\n\t\t\tctr:\r\n\t\t\t\t((clicksByCountry[key] || 0) / (impressionsByCountry[key] || 1)) * 100,\r\n\t\t\t...(addEarnings && {\r\n\t\t\t\tearnings:\r\n\t\t\t\t\t(impressionsPayByCountry[key] || 0) + (clicksPayByCountry[key] || 0),\r\n\t\t\t\taverageCPM:\r\n\t\t\t\t\t(Number(impressionsPayByCountry[key] || 0) /\r\n\t\t\t\t\t\tNumber(impressionsByCountry[key] || 1)) *\r\n\t\t\t\t\t1000,\r\n\t\t\t}),\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const selectPublisherStatsByCountryData = createSelector(\r\n\t[\r\n\t\tstate => selectPublisherStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherStatsByCountry(state, 'CLICK'),\r\n\t\tstate => selectPublisherAggrStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherPayStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherPayStatsByCountry(state, 'CLICK'),\r\n\t],\r\n\t(\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry\r\n\t) => ({\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry,\r\n\t})\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryData = createCachedSelector(\r\n\t(state, campaignId) => {\r\n\t\treturn [\r\n\t\t\tselectCampaignAnalyticsByChannelToCountry(\r\n\t\t\t\tstate,\r\n\t\t\t\t'IMPRESSION',\r\n\t\t\t\tcampaignId\r\n\t\t\t),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, 'CLICK', campaignId),\r\n\t\t\tselectCampaignAggrStatsByCountry(state, 'IMPRESSION', campaignId),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(\r\n\t\t\t\tstate,\r\n\t\t\t\t'IMPRESSION',\r\n\t\t\t\tcampaignId\r\n\t\t\t),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, 'CLICK', campaignId),\r\n\t\t]\r\n\t},\r\n\t([\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry,\r\n\t]) => {\r\n\t\treturn {\r\n\t\t\timpressionsByCountry,\r\n\t\t\tclicksByCountry,\r\n\t\t\timpressionsAggrByCountry,\r\n\t\t\timpressionsPayByCountry,\r\n\t\t\tclicksPayByCountry,\r\n\t\t}\r\n\t}\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectPublisherStatsByCountryTableData = createSelector(\r\n\tselectPublisherStatsByCountryData,\r\n\tdata => mapByCountryTableData(data)\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryTableData = createCachedSelector(\r\n\tselectCampaignAnalyticsToCountryData,\r\n\tdata => mapByCountryTableData(data)\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nconst mapByCountryMapChartData = ({\r\n\timpressionsByCountry,\r\n\tclicksByCountry,\r\n\timpressionsAggrByCountry,\r\n} = {}) => {\r\n\tconst colorScale = scaleLinear()\r\n\t\t.domain([0, impressionsAggrByCountry.max])\r\n\t\t.range([PRIMARY_LIGHTEST, PRIMARY_DARKEST])\r\n\r\n\tconst hoverColor = SECONDARY\r\n\tconst pressedColor = SECONDARY_LIGHT\r\n\tconst chartData = { ...chartCountriesData }\r\n\r\n\tchartData.objects.countries.geometries = chartCountriesData.objects.countries.geometries.map(\r\n\t\tdata => {\r\n\t\t\tconst id = numericToAlpha2(data.id)\r\n\t\t\tconst impressions = impressionsByCountry[id] || 0\r\n\t\t\tconst clicks = clicksByCountry[id] || 0\r\n\t\t\tconst name = CountryNames[id] || data.name\r\n\t\t\tconst percentImpressions =\r\n\t\t\t\t((impressions || 0) / impressionsAggrByCountry.total) * 100 || 0\r\n\t\t\tconst ctr = ((clicks || 0) / (impressions || 1)) * 100 || 0\r\n\t\t\tconst tooltipElements = [\r\n\t\t\t\t`${name}:`,\r\n\t\t\t\t`${t('LABEL_IMPRESSIONS')}: ${formatAbbrNum(impressions, 2)}`,\r\n\t\t\t\t`${t('LABEL_CLICKS')}: ${formatAbbrNum(clicks, 2)}`,\r\n\t\t\t\t`${t('LABEL_PERC')}: ${percentImpressions.toFixed(2)} %`,\r\n\t\t\t\t`${t('LABEL_CTR')}: ${ctr.toFixed(4)} %`,\r\n\t\t\t]\r\n\r\n\t\t\tconst fillColor = impressions > 0 ? colorScale(impressions) : grey[400]\r\n\r\n\t\t\tconst properties = {\r\n\t\t\t\tname,\r\n\t\t\t\tfillColor,\r\n\t\t\t\ttooltipElements,\r\n\t\t\t}\r\n\r\n\t\t\treturn { ...data, properties }\r\n\t\t}\r\n\t)\r\n\r\n\treturn { chartData, hoverColor, pressedColor }\r\n}\r\n\r\nexport const selectPublisherStatsByCountryMapChartData = createSelector(\r\n\t[selectPublisherStatsByCountryData],\r\n\tdata => mapByCountryMapChartData(data)\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryMapChartData = createCachedSelector(\r\n\tselectCampaignAnalyticsToCountryData,\r\n\tdata => mapByCountryMapChartData(data)\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectBestEarnersTableData = createSelector(\r\n\tselectPublisherAdvanceStatsToAdUnit,\r\n\titems =>\r\n\t\titems.map(item => {\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\tmediaMime,\r\n\t\t\t\ttype,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\timpressionsPay,\r\n\t\t\t\tclicksPay,\r\n\t\t\t} = item\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\tmediaMime,\r\n\t\t\t\t},\r\n\t\t\t\ttype,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\r\n\t\t\t\tearnings: impressionsPay + clicksPay,\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignStatsTableData = createCachedSelector(\r\n\tselectAnalytics, // temp fix to update campaign analytics daat\r\n\tselectAudienceByCampaignId,\r\n\t(state, campaignId) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, 'IMPRESSION', campaignId),\r\n\t(state, campaignId) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, 'CLICK', campaignId),\r\n\t(_advanced, campaignAudienceInput, impressions, clicks) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\r\n\r\n\t\tconst rules = campaignAudienceInput\r\n\t\t\t? campaignAudienceInput.inputs.publishers\r\n\t\t\t: null\r\n\r\n\t\treturn Object.keys(imprStats).map(key => ({\r\n\t\t\tisBlacklisted:\r\n\t\t\t\trules &&\r\n\t\t\t\t((rules.apply === 'nin' &&\r\n\t\t\t\t\t(rules.nin || []).some(x => x.includes(key))) ||\r\n\t\t\t\t\t(rules.apply === 'ni' &&\r\n\t\t\t\t\t\t!(rules.in || []).some(x => x.includes(key)))),\r\n\r\n\t\t\twebsite: key,\r\n\t\t\timpressions: imprStats[key] || 0,\r\n\t\t\tctr: ((clickStats[key] || 0) / (imprStats[key] || 1)) * 100,\r\n\t\t\tearnings: Number(earnStats[key] || 0),\r\n\t\t\taverageCPM:\r\n\t\t\t\t(Number(earnStats[key] || 0) / Number(imprStats[key] || 1)) * 1000,\r\n\t\t\tclicks: clickStats[key] || 0,\r\n\t\t}))\r\n\t}\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectCampaignTotalValues = createCachedSelector(\r\n\tselectCampaignStatsTableData,\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalClicks += current.clicks\r\n\t\t\t\tnewResult.totalImpressions += current.impressions\r\n\t\t\t\tnewResult.totalEarnings += current.earnings\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\r\n\t\t)\r\n)((_state, { campaignId }) => campaignId)\r\n\r\nexport const selectCampaignStatsMaxValues = createCachedSelector(\r\n\tselectCampaignStatsTableData,\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks || 0, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr || 0, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions || 0,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\tnewResult.maxEarnings = Math.max(\r\n\t\t\t\t\tcurrent.earnings || 0,\r\n\t\t\t\t\tnewResult.maxEarnings\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\r\n\t\t)\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectAdUnitsStatsMaxValues = createCachedSelector(\r\n\tselectAdUnitsTableData,\r\n\tdata => {\r\n\t\treturn data.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks || 0, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr || 0, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions || 0,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxCTR: 0 }\r\n\t\t)\r\n\t}\r\n)(\r\n\t(_state, { campaignId, items }) =>\r\n\t\tcampaignId || (items || []).map(x => x.id).join(':') || 'all'\r\n)\r\n\r\nexport const selectPublisherReceiptsStatsByMonthTableData = createCachedSelector(\r\n\tselectAnalytics,\r\n\tselectMainToken,\r\n\t(_state, date) => date,\r\n\t({ receipts }, token, date) => {\r\n\t\tconst result = []\r\n\t\tif (receipts && receipts[date]) {\r\n\t\t\tconst { decimals = 18 } = token || {}\r\n\t\t\tfor (let [key, value] of Object.entries(receipts[date])) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\timpressions: value.impressions,\r\n\t\t\t\t\tpayouts: Number(utils.formatUnits(value.payouts || '0', decimals)),\r\n\t\t\t\t\tdate: +key,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n)((_state, date = '-') => date)\r\n\r\nexport const selectPublisherReceiptsStatsByMonthTotalValues = createSelector(\r\n\t[selectPublisherReceiptsStatsByMonthTableData],\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalPayouts += +current.payouts\r\n\t\t\t\tnewResult.totalImpressions += +current.impressions\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalPayouts: 0, totalImpressions: 0 }\r\n\t\t)\r\n)\r\n","import { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectCampaignDoughnutStats = createCachedSelector(\r\n\t(state, { campaignId, chartColors, maxDataSets } = {}) => {\r\n\t\tconst analytics = {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(\r\n\t\t\t\tstate,\r\n\t\t\t\t'IMPRESSION',\r\n\t\t\t\tcampaignId\r\n\t\t\t),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, 'CLICK', campaignId),\r\n\t\t}\r\n\r\n\t\treturn { ...analytics, chartColors, maxDataSets }\r\n\t},\r\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\r\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\r\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, key, i) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tif (i < maxDataSets) {\r\n\t\t\t\t\t\tnewData.labels.push(key)\r\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\r\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\r\n\r\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\r\n\r\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\r\n\t\t\t)\r\n\r\n\t\tconst data = {\r\n\t\t\tlabels,\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: impressionsData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: clicksData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\r\n\t\treturn data\r\n\t}\r\n)((_state, { campaignId = '-' } = {}) => campaignId)\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tREADONLY: { name: 'readonly' },\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const ETHEREUM_NETWORKS = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Goerli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Goerli', for: 'development' },\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n\r\nexport const VALIDATOR_ANALYTICS_METRICS = [\r\n\t'eventPayouts', //\r\n\t'eventCounts',\r\n]\r\nexport const VALIDATOR_ANALYTICS_SIDES = [\r\n\t'advertiser',\r\n\t'publisher', //\r\n]\r\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\r\n\t'IMPRESSION', //\r\n\t'CLICK',\r\n]\r\n\r\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\r\n\t{ label: 'LABEL_HOUR', value: 'hour' },\r\n\t{ label: 'LABEL_DAY', value: 'day' },\r\n\t{ label: 'LABEL_WEEK', value: 'week' },\r\n\t{ label: 'LABEL_MONTH', value: 'month' },\r\n\t{ label: 'LABEL_YEAR', value: 'year' },\r\n]\r\n\r\nexport const WHERE_YOU_KNOW_US = [\r\n\t{ label: 'LABEL_GOOGLE', value: 'search_engine' },\r\n\t{ label: 'LABEL_TWITTER', value: 'twitter' },\r\n\t{ label: 'LABEL_FACEBOOK', value: 'facebook' },\r\n\t{ label: 'LABEL_REDDIT', value: 'reddit' },\r\n\t{ label: 'LABEL_EVENT', value: 'event' },\r\n\t{ label: 'LABEL_FRIEND', value: 'friend' },\r\n\t{ label: 'LABEL_OTHER', value: 'other' },\r\n]\r\n\r\nexport const USER_SIDES = [\r\n\t{\r\n\t\tlabel: 'LABEL_PUBLISHER',\r\n\t\tvalue: 'publisher',\r\n\t\textraLabels: ['SALE_POINT_PUB_1', 'SALE_POINT_PUB_2', 'SALE_POINT_PUB_3'],\r\n\t},\r\n\t{\r\n\t\tlabel: 'LABEL_ADVERTISER',\r\n\t\tvalue: 'advertiser',\r\n\t\textraLabels: ['SALE_POINT_ADV_1', 'SALE_POINT_ADV_2', 'SALE_POINT_ADV_3'],\r\n\t},\r\n]\r\n\r\nexport const MOON_GRAVITY_ACCELERATION = 1.625\r\nexport const MOON_TO_EARTH_WEIGHT = 0.166\r\n\r\nexport const WALLET_ACTIONS_MSGS = {\r\n\t[AUTH_TYPES.METAMASK.name]: [\r\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\r\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\r\n\t],\r\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.QUICK.name]: [\r\n\t\t{ message: 'QUICK_WAITING_MSG' },\r\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\r\n\t],\r\n\t[AUTH_TYPES.GRANT.name]: [\r\n\t\t{ message: 'GRANT_WAITING_MSG' },\r\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\r\n\t],\r\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\r\n}\r\n\r\nexport const EXECUTE_ACTIONS = {\r\n\twithdraw: 'WITHDRAW',\r\n\tprivilegesChange: 'PRIVILEGES_CHANGE',\r\n\tensChange: 'ENS_CHANGE',\r\n\topenCampaign: 'OPEN_CAMPAIGN',\r\n\tdefault: 'DEFAULT',\r\n}\r\n","import { BigNumber, utils } from 'ethers'\r\nimport {\r\n\tt,\r\n\tselectDemandAnalytics,\r\n\tselectMainToken,\r\n\tselectWebsitesArray,\r\n\tselectVerifiedActiveTargetingAnalytics,\r\n} from 'selectors'\r\nimport { createSelector } from 'reselect'\r\nimport { constants } from 'adex-models'\r\nimport { WHERE_YOU_KNOW_US, USER_SIDES } from 'constants/misc'\r\nimport moment from 'moment'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectSlotTypesSourceWithDemands = createSelector(\r\n\t[selectDemandAnalytics, selectMainToken],\r\n\t(demand, { symbol }) => {\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: type,\r\n\t\t\t\tlabel: type.split('_')[1],\r\n\t\t\t\tdemand: demand[type],\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\tconst dA = BigNumber.from(a.demand ? a.demand.raw.avgCPM : 0)\r\n\t\t\t\tconst dB = BigNumber.from(b.demand ? b.demand.raw.avgCPM : 0)\r\n\r\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst current = type\r\n\t\t\t\t\tif (index === 0 && type.demand) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\t!type.demand\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (current.demand) {\r\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\r\n\t\t\t)\r\n\t\treturn source\r\n\t}\r\n)\r\n\r\nexport const selectVerifiedActiveTypes = createSelector(\r\n\t[selectVerifiedActiveTargetingAnalytics, selectMainToken],\r\n\t(targetingAnalytics, { decimals }) => {\r\n\t\tconst verified = targetingAnalytics.reduce((types, data) => {\r\n\t\t\tdata.types.forEach(t => {\r\n\t\t\t\tconst typeData = types.get(t) || {\r\n\t\t\t\t\tbyOwner: {},\r\n\t\t\t\t\tminSlotCount: 1,\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttypeData.byOwner[data.owner] = typeData.byOwner[data.owner] || {}\r\n\t\t\t\t// As totalEarned is by owner we need it once\r\n\t\t\t\ttypeData.byOwner[data.owner].revenue =\r\n\t\t\t\t\ttypeData.byOwner[data.owner].revenue || data.totalEarned || '0'\r\n\r\n\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom =\r\n\t\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom ||\r\n\t\t\t\t\tdata.campaignsEarnedFrom ||\r\n\t\t\t\t\t1\r\n\t\t\t\ttypes.set(t, typeData)\r\n\t\t\t})\r\n\r\n\t\t\treturn types\r\n\t\t}, new Map())\r\n\r\n\t\tverified.forEach((value, key) => {\r\n\t\t\tconst totalRevenue = Object.values(value.byOwner).reduce(\r\n\t\t\t\t(total, r = {}) => total.add(BigNumber.from(r.revenue || '0')),\r\n\t\t\t\tBigNumber.from('0')\r\n\t\t\t)\r\n\r\n\t\t\tverified.set(key, {\r\n\t\t\t\trevenue: parseFloat(\r\n\t\t\t\t\tutils.formatUnits(totalRevenue.toString(), decimals)\r\n\t\t\t\t),\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\treturn verified\r\n\t}\r\n)\r\n\r\nexport const selectUnitTypesSourceWithRecommendations = createSelector(\r\n\t[selectVerifiedActiveTypes, selectMainToken],\r\n\t(verifiedTypes, { symbol } = {}) => {\r\n\t\tconst totoShare = Array.from(verifiedTypes.values()).reduce(\r\n\t\t\t(total, { revenue = 0 }) => total + revenue,\r\n\t\t\t1\r\n\t\t)\r\n\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => ({\r\n\t\t\tvalue: type,\r\n\r\n\t\t\trevenue: (verifiedTypes.get(type) || {}).revenue || 0,\r\n\t\t}))\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\treturn b.revenue - a.revenue\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst { revenue, ...typeRest } = type\r\n\t\t\t\t\tconst current = { ...typeRest }\r\n\t\t\t\t\tcurrent.label = current.value.split('_')[1]\r\n\t\t\t\t\tif (index === 0 && revenue > 0) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('MOST_POPULAR_UNITS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst share = revenue / totoShare\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasLessPopularGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\tshare <= 0.01 // less than 1%\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasLessPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('LESS_POPULAR_UNITS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsource: [],\r\n\t\t\t\t\thasPopularGroup: false,\r\n\t\t\t\t\thasLessPopularGroup: false,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\treturn source\r\n\t}\r\n)\r\n\r\nexport const selectMonthsRange = createCachedSelector(\r\n\t(startDate, endDate) => ({\r\n\t\tstartDate,\r\n\t\tendDate,\r\n\t}),\r\n\t({ startDate, endDate }) => {\r\n\t\tconst months = []\r\n\t\tfor (\r\n\t\t\tvar m = moment(startDate).startOf('month');\r\n\t\t\tm.diff(moment(endDate).startOf('month')) <= 0;\r\n\t\t\tm.add(1, 'month')\r\n\t\t) {\r\n\t\t\tmonths.push(+m)\r\n\t\t}\r\n\t\treturn months\r\n\t}\r\n)((startDate = '-', endDate = '-') => `${startDate}:${endDate}`)\r\n\r\nexport const selectReceiptMonths = createCachedSelector(\r\n\tselectMonthsRange,\r\n\t(_, __, monthsEnd) => monthsEnd,\r\n\t(months, monthsEnd) =>\r\n\t\tmonths.map(monthTimestamp => ({\r\n\t\t\tvalue: monthTimestamp,\r\n\t\t\tlabel: !!monthsEnd\r\n\t\t\t\t? moment(monthTimestamp)\r\n\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t.format('Do MMMM, YYYY')\r\n\t\t\t\t: moment(monthTimestamp).format('Do MMMM, YYYY'),\r\n\t\t}))\r\n)(\r\n\t(startDate = '-', endDate = '-', monthsEnd = '-') =>\r\n\t\t`${startDate}:${endDate}:${monthsEnd}`\r\n)\r\n\r\nexport const selectFromSource = createSelector(\r\n\tlabelValueMapping => labelValueMapping,\r\n\tsource =>\r\n\t\tsource.map(data => {\r\n\t\t\tconst translated = { ...data }\r\n\t\t\ttranslated.label = t(data.label)\r\n\t\t\tconst extraLabel = data.extraLabel\r\n\t\t\t\t? t(data.extraLabel)\r\n\t\t\t\t: data.extraLabels && data.extraLabels.length\r\n\t\t\t\t? data.extraLabels.map(l => t(l))\r\n\t\t\t\t: undefined\r\n\t\t\ttranslated.extraLabel = extraLabel\r\n\t\t\treturn translated\r\n\t\t})\r\n)\r\n\r\nexport const selectKnowUsFromSource = createSelector(\r\n\t() => selectFromSource(WHERE_YOU_KNOW_US),\r\n\tsource => source\r\n)\r\n\r\nexport const selectUserSides = createSelector(\r\n\t() => selectFromSource(USER_SIDES),\r\n\tsource => source\r\n)\r\n\r\nexport const websitesAutocompleteSrc = createSelector(\r\n\tselectWebsitesArray,\r\n\twebsites =>\r\n\t\twebsites.map(ws => {\r\n\t\t\tconst website = `https://${ws.id}`\r\n\t\t\treturn {\r\n\t\t\t\tlabel: website,\r\n\t\t\t\tvalue: website,\r\n\t\t\t\tstatus: ws.issues && ws.issues.length ? 'error' : 'success',\r\n\t\t\t}\r\n\t\t})\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n\tselectWebsitesList,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta = {} }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const hasVerifiedSites = createSelector(\r\n\tselectWebsitesList,\r\n\twebsites => websites.some(({ issues }) => !issues || !issues.length)\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n\r\nexport const selectStepsData = createSelector(\r\n\t[\r\n\t\tselectHasCreatedAdUnit,\r\n\t\tselectHasCreatedCampaign,\r\n\t\tselectHasCreatedAdSlot,\r\n\t\tselectHasConfirmedEmail,\r\n\t\tselectHasFundedAccount,\r\n\t\tselectHasAdSlotImpressions,\r\n\t\tselectHas5000Impressions,\r\n\t\thasVerifiedSites,\r\n\t],\r\n\t(\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t\thasVerifiedSites\r\n\t) => ({\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t\thasVerifiedSites,\r\n\t})\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectCampaignById,\r\n\tselectAdUnitById,\r\n\tselectAdSlotById,\r\n\tselectSide,\r\n\tt,\r\n} from 'selectors'\r\n\r\nexport const selectLocation = state => state.router.location\r\n\r\nexport const selectSearch = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => search\r\n)\r\n\r\nexport const selectLocationQuery = createSelector(\r\n\tselectLocation,\r\n\t({ query }) => query || {}\r\n)\r\n\r\nexport const selectSearchParams = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => new URLSearchParams(search)\r\n)\r\n\r\nconst ITEMS_SELECTORS = {\r\n\tcampaigns: selectCampaignById,\r\n\treceipt: selectCampaignById,\r\n\tunits: selectAdUnitById,\r\n\tslots: selectAdSlotById,\r\n}\r\n\r\nconst SIDES = {\r\n\tadvertiser: true,\r\n\tpublisher: true,\r\n}\r\n\r\nexport const selectDashboardBreadcrumbs = createSelector(\r\n\t[selectLocation, state => state, selectSide],\r\n\t({ pathname = '' }, state, side) => {\r\n\t\tconst paths = pathname.split('/').filter(x => !!x)\r\n\t\tconst sideDashboard = paths.slice(0, 2)\r\n\r\n\t\t// NOTE: no breadcrumbs if no side dashboard\r\n\t\tif (sideDashboard[0] !== 'dashboard' || !SIDES[sideDashboard[1]]) {\r\n\t\t\treturn []\r\n\t\t}\r\n\r\n\t\tconst sideDashboardBC = {\r\n\t\t\tto: `/${sideDashboard.join('/')}`,\r\n\t\t\tlabel: 'dashboard',\r\n\t\t}\r\n\r\n\t\tconst rest = paths.slice(2)\r\n\r\n\t\tconst restBC = rest.map((x, index) => {\r\n\t\t\tconst prev = rest[index - 1]\r\n\t\t\tconst selector = ITEMS_SELECTORS[prev]\r\n\r\n\t\t\tlet label = x\r\n\r\n\t\t\tif (selector) {\r\n\t\t\t\tconst { title } = selector(state, x) || {}\r\n\t\t\t\tlabel = title || label\r\n\t\t\t}\r\n\r\n\t\t\tconst bc = {\r\n\t\t\t\tlabel,\r\n\t\t\t}\r\n\r\n\t\t\tif (index < rest.length - 1) {\r\n\t\t\t\tconst restCopy = [...rest]\r\n\r\n\t\t\t\tconst receiptAt = restCopy.indexOf('receipt')\r\n\t\t\t\t// NOTE: go to campaign on receipt breadcrumb\r\n\t\t\t\t// We need a better way\r\n\t\t\t\tif (receiptAt >= 0) {\r\n\t\t\t\t\trestCopy[receiptAt] = side === 'advertiser' ? 'campaigns' : 'receipts'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbc.to = `${sideDashboardBC.to}/${restCopy\r\n\t\t\t\t\t.slice(0, index + 1)\r\n\t\t\t\t\t.join('/')}`\r\n\t\t\t}\r\n\r\n\t\t\treturn bc\r\n\t\t})\r\n\r\n\t\tconst breadcrumbs = [sideDashboardBC, ...restBC].map(b => ({\r\n\t\t\t...b,\r\n\t\t\tlabel:\r\n\t\t\t\tt(b.label.toUpperCase()) !== b.label.toUpperCase()\r\n\t\t\t\t\t? t(b.label.toUpperCase())\r\n\t\t\t\t\t: b.label,\r\n\t\t}))\r\n\r\n\t\treturn breadcrumbs || []\r\n\t}\r\n)\r\n","import { createCachedSelector } from 're-reselect'\r\nimport {\r\n\tselectCampaignById,\r\n\tselectCampaignsEventCountsStatsById,\r\n} from 'selectors'\r\n\r\nexport const selectCampaignWithAnalyticsById = createCachedSelector(\r\n\tselectCampaignById,\r\n\tselectCampaignsEventCountsStatsById,\r\n\t(campaign, eventCounts, id) => {\r\n\t\tconst withAnalytics = {\r\n\t\t\t...campaign,\r\n\t\t\t...eventCounts,\r\n\t\t}\r\n\r\n\t\treturn withAnalytics\r\n\t}\r\n)((_state, id = '-') => id)\r\n","import { store } from 'store'\r\n\r\nexport const execute = store.dispatch\r\n\r\nexport const dispatch = store.dispatch\r\n\r\nexport const getState = store.getState\r\n","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","export const getErrorMsg = err => {\r\n\tif (!err) {\r\n\t\treturn ''\r\n\t} else if (typeof err === 'object') {\r\n\t\treturn err.msg || err.message || err.errMsg || err.error\r\n\t} else if (Array.isArray(err)) {\r\n\t\treturn err.join(', ')\r\n\t} else {\r\n\t\treturn err\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport * as types from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport {\r\n\tselectCompanyData,\r\n\tselectAccountIdentityAddr,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectSide,\r\n\tselectMemoryUi,\r\n\tselectAnalyticsLiveTimestamp,\r\n\tselectAnalyticsMinAndMaxDates,\r\n\tt,\r\n} from 'selectors'\r\nimport {\r\n\tgetTimePeriods,\r\n\tgetBorderPeriodStart,\r\n} from 'helpers/analyticsTimeHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGlobalUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateMemoryUi(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_MEMORY_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateInitialDataLoaded(dataType, loaded) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst { initialDataLoaded } = selectMemoryUi(getState())\r\n\t\tif (initialDataLoaded !== true) {\r\n\t\t\tconst newData = { ...(initialDataLoaded || {}) }\r\n\t\t\tnewData[dataType] = loaded\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_MEMORY_UI,\r\n\t\t\t\titem: 'initialDataLoaded',\r\n\t\t\t\tvalue: newData,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateUiByIdentity(item, value, category) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\r\n\t\t\tidentity,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateIdentitySideUi(item, value) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst identity = selectAccountIdentityAddr(state)\r\n\t\tconst side = selectSide(state)\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY_AND_SIDE,\r\n\t\t\tidentity,\r\n\t\t\titem,\r\n\t\t\tvalue,\r\n\t\t\tside,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\tconst id = Helper.getGuid()\r\n\t\tdispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: {\r\n\t\t\t\ttype,\r\n\t\t\t\taction,\r\n\t\t\t\tlabel,\r\n\t\t\t\ttimeout,\r\n\t\t\t\tunclosable,\r\n\t\t\t\tanchorOrigin,\r\n\t\t\t\ttop,\r\n\t\t\t\tid,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn id\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{\r\n\t\tconfirmLabel = '',\r\n\t\tcancelLabel = '',\r\n\t\ttitle = '',\r\n\t\ttext = '',\r\n\t\tnoCancel = false,\r\n\t\tnoConfirm = false,\r\n\t} = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn async function(dispatch) {\r\n\t\treturn await dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t\tnoCancel: noCancel,\r\n\t\t\t\t\tnoConfirm: noConfirm,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateRegistrationAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\r\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateCompanyData(newData) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst companyData = selectCompanyData(getState())\r\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\r\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_COMPANY_DATA'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateSelectedItems(collection, selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\r\n\t\t\tselectedItems,\r\n\t\t\tcollection,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSelectedItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SELECTED_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateSelectedCampaigns(selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewVersion({ shouldForceRefresh, version }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateGlobalUi('newVersionAvailable', shouldForceRefresh)(dispatch)\r\n\t\tawait updateGlobalUi('selectNewVersionAvailableId', version)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function refreshCacheAndReload({ version }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (caches) {\r\n\t\t\t// Service worker cache should be cleared with caches.delete()\r\n\t\t\tcaches.keys().then(async function(names) {\r\n\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tawait updateNewVersion({ shouldForceRefresh: false, version })(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t\twindow.location.reload(true)\r\n\t}\r\n}\r\n\r\nexport function notifyNewTOS() {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: t('NOTIFICATION_NEW_TOS', {\r\n\t\t\t\t\targs: [t('TOS_CHECK')],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function handleRedirectParams(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('confirm-email')\r\n\t\tconst identity = searchParams.get('confirm-identity')\r\n\t\tconst grant = searchParams.get('confirm-grant')\r\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\r\n\t\tconst selectedIdentity = searchParams.get('login-select-identity')\r\n\r\n\t\tif (email && identity && !grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL', {\r\n\t\t\t\t\targs: [email, identity],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} else if (email && identity && grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL_GRANT', {\r\n\t\t\t\t\targs: [email, identity, grant],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\r\n\t\t}\r\n\r\n\t\tif (!!selectedIdentity) {\r\n\t\t\tupdateMemoryUi('loginSelectedIdentity', selectedIdentity)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateEasterEggsAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tif (\r\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\r\n\t\t\tprocess.env.EASTER_EGGS_VALUE\r\n\t\t) {\r\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updatePrivilegesWarningAccepted(accepted) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function hideGettingStarted(side) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('hideGettingStarted', true, side)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function setGettingStartedExpanded(expanded) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('gettingStartedExpanded', expanded)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateIdSideAnalyticsChartPeriod(periodStart) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\tconst { start, end, callEnd } = getTimePeriods({\r\n\t\t\ttimeframe,\r\n\t\t\tstart: periodStart,\r\n\t\t})\r\n\t\tupdateIdentitySideUi('sideAnalyticsPeriod', { start, end, callEnd })(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsPeriodPrevNextLive({\r\n\tnext = false,\r\n\tlive = false,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { minDate, maxDate } = selectAnalyticsMinAndMaxDates(state)\r\n\t\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\t\tlet { start } = selectIdentitySideAnalyticsPeriod(state)\r\n\r\n\t\t\tif (live) {\r\n\t\t\t\tstart = selectAnalyticsLiveTimestamp(state)\r\n\t\t\t} else {\r\n\t\t\t\tconst startIsLive = start === selectAnalyticsLiveTimestamp(state)\r\n\t\t\t\tstart = getBorderPeriodStart({\r\n\t\t\t\t\ttimeframe,\r\n\t\t\t\t\tstart,\r\n\t\t\t\t\tnext,\r\n\t\t\t\t\tstartIsLive,\r\n\t\t\t\t\tminDate,\r\n\t\t\t\t\tmaxDate,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdSideAnalyticsChartPeriod(start)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS_PREV_PERIOD', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_ANALYTICS_PREV_PERIOD', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateIdSideAnalyticsChartTimeframe(timeframe) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateIdentitySideUi('sideAnalyticsTimeframe', timeframe)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t\tupdateAnalyticsPeriodPrevNextLive({ live: true })(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateWindowReloading(isReloading) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateMemoryUi('windowReloading', isReloading)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateTableState(tableId, tableState) {\r\n\treturn function(dispatch, getState) {\r\n\t\t// TODO: filter state - only essential stuff\r\n\t\tconst filteredState = (({\r\n\t\t\trowsPerPage,\r\n\t\t\tpage,\r\n\t\t\tactiveColumn,\r\n\t\t\tfilterList,\r\n\t\t\tsearchProps,\r\n\t\t\tsearchText,\r\n\t\t\t// rowsSelected, -\r\n\t\t\tsortOrder,\r\n\t\t\tviewColumnsState,\r\n\t\t}) => ({\r\n\t\t\trowsPerPage,\r\n\t\t\tpage,\r\n\t\t\tactiveColumn,\r\n\t\t\tfilterList,\r\n\t\t\tsearchProps,\r\n\t\t\tsearchText,\r\n\t\t\t// rowsSelected,\r\n\t\t\tsortOrder,\r\n\t\t\tviewColumnsState,\r\n\t\t}))(tableState)\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TABLE_STATE,\r\n\t\t\tidentity,\r\n\t\t\ttableId: tableId,\r\n\t\t\tvalue: filteredState,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateTableStateSelectedRows(tableId, selectedRows) {\r\n\treturn function(dispatch, getState) {\r\n\t\treturn updateMemoryUi(`selectedRows${tableId}`, selectedRows)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function resetAllTableState() {\r\n\treturn function(dispatch, _getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_TABLES_STATE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetTableStateById(tableId) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_TABLE_STATE_BY_ID,\r\n\t\t\tidentity,\r\n\t\t\ttableId,\r\n\t\t})\r\n\t\tupdateMemoryUi(`selectedRows${tableId}`, undefined)(dispatch, getState)\r\n\t}\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\nimport AdExENSManager from './abi/AdExENSManager.json'\r\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\r\nimport ERC20 from './abi/ERC20Token.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExENSManager: {\r\n\t\taddress: process.env.ADEX_ENS_ADDR,\r\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\r\n\t\tabi: AdExENSManager,\r\n\t},\r\n\tReverseRegistrar: {\r\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\r\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\r\n\t\tabi: ReverseRegistrar,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n\tERC20: {\r\n\t\tabi: ERC20,\r\n\t},\r\n}\r\n","import { providers, Contract } from 'ethers'\r\nimport detectEthereumProvider from '@metamask/detect-provider'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { selectRelayerConfig } from 'selectors'\r\n\r\n// ethers.errors.setLogLevel('error')\r\n\r\nconst { AdExCore, Identity, IdentityFactory } = contracts\r\n\r\nconst LocalProvider = process.env.WEB3_NODE_ADDR.startsWith('wss://')\r\n\t? providers.WebSocketProvider\r\n\t: providers.JsonRpcProvider\r\n\r\nconst getAdexCore = provider => {\r\n\tconst { coreAddr } = selectRelayerConfig()\r\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\r\n}\r\n\r\nconst getMainToken = provider => {\r\n\tconst { mainToken = {} } = selectRelayerConfig()\r\n\treturn new Contract(\r\n\t\tmainToken.address,\r\n\t\tcontracts[mainToken.standard].abi,\r\n\t\tprovider\r\n\t)\r\n}\r\n\r\nconst getToken = ({ provider, standard, address }) => {\r\n\treturn new Contract(address, contracts[standard].abi, provider)\r\n}\r\n\r\nconst getIdentity = ({ provider, address }) => {\r\n\tconst identityContract = new Contract(address, Identity.abi, provider)\r\n\r\n\treturn identityContract\r\n}\r\n\r\nconst getIdentityFactory = provider => {\r\n\tconst { identityFactoryAddr } = selectRelayerConfig()\r\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\r\n}\r\n\r\nconst getEthersResult = provider => {\r\n\tconst adexCore = getAdexCore(provider)\r\n\tconst mainToken = getMainToken(provider)\r\n\tconst identityFactory = getIdentityFactory(provider)\r\n\r\n\tconst results = {\r\n\t\tprovider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: mainToken,\r\n\t\tMainToken: mainToken,\r\n\t\tIdentityFactory: identityFactory,\r\n\t\tgetToken: ({ standard, address }) =>\r\n\t\t\tgetToken({ provider, standard, address }),\r\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nfunction isProviderRelayerConfigChanged(currentProviderCfg) {\r\n\tconst cfg = selectRelayerConfig()\r\n\r\n\tconst isChanged =\r\n\t\tcurrentProviderCfg.coreAddr !== cfg.coreAddr ||\r\n\t\tJSON.stringify(currentProviderCfg.mainToken) !==\r\n\t\t\tJSON.stringify(cfg.mainToken) ||\r\n\t\tcurrentProviderCfg.identityFactoryAddr !== cfg.identityFactoryAddr\r\n\r\n\treturn isChanged\r\n}\r\n\r\n// NOTE; We need one instance of local provider\r\n// but it need result to be updated when some relayer cfg props are changed\r\nconst localWeb3 = new (function() {\r\n\tlet localProvider\r\n\tlet relayerCfg\r\n\tlet result\r\n\r\n\tthis.getEthers = () => {\r\n\t\tif (!localProvider) {\r\n\t\t\tlocalProvider = new LocalProvider(process.env.WEB3_NODE_ADDR)\r\n\t\t\trelayerCfg = selectRelayerConfig()\r\n\t\t\tresult = getEthersResult(localProvider)\r\n\t\t} else if (relayerCfg && isProviderRelayerConfigChanged(relayerCfg)) {\r\n\t\t\trelayerCfg = selectRelayerConfig()\r\n\t\t\tresult = getEthersResult(localProvider)\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n})()\r\n\r\nconst loadInjectedWeb3 = new Promise(async (resolve, reject) => {\r\n\tconst provider = await detectEthereumProvider()\r\n\r\n\tif (!!window.ethereum && provider !== window.ethereum) {\r\n\t\tconsole.error('Do you have multiple wallets installed?')\r\n\t\treject(new Error('Do you have multiple wallets installed?'))\r\n\r\n\t\t// TODO: error or toast\r\n\t}\r\n\r\n\tresolve({\r\n\t\tethereum: window.ethereum,\r\n\t})\r\n})\r\n\r\nconst getMetamaskSelectedAddress = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (ethereum && ethereum.isMetaMask) {\r\n\t\ttry {\r\n\t\t\tconst accounts = await ethereum.request({ method: 'eth_accounts' })\r\n\t\t\treturn accounts[0]\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('(getMetamaskSelectedAddress): Please connect to MetaMask.')\r\n\t\t\tthrow new Error(err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst connectMetaMask = async ethereum => {\r\n\ttry {\r\n\t\tconst selectedAccount = await getMetamaskSelectedAddress()\r\n\r\n\t\tif (!selectedAccount) {\r\n\t\t\t// const requestedAddresses =\r\n\t\t\tawait ethereum.request({\r\n\t\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t\t})\r\n\t\t\t// console.log('requestedAddresses', requestedAddresses)\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tif (err.code === 4001) {\r\n\t\t\t// EIP-1193 userRejectedRequest error\r\n\t\t\t// If this happens, the user rejected the connection request.\r\n\t\t\tconsole.log('Please connect to MetaMask.')\r\n\t\t} else {\r\n\t\t\tconsole.error(err)\r\n\t\t}\r\n\t\t// TODO: error or toast\r\n\t}\r\n}\r\n\r\nconst injectedWeb3Provider = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tawait connectMetaMask(ethereum)\r\n\r\n\t\t\tconst provider = new providers.Web3Provider(ethereum)\r\n\r\n\t\t\treturn getEthersResult(provider)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Err getting injected ethereum.', err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3Provider = async () => {\r\n\treturn localWeb3.getEthers()\r\n}\r\n\r\nconst getEthers = mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\treturn injectedWeb3Provider()\r\n\t} else {\r\n\t\treturn getLocalWeb3Provider()\r\n\t}\r\n}\r\n\r\nconst ethereumNetworkId = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (ethereum) {\r\n\t\tconst chainId = await ethereum.request({ method: 'net_version' })\r\n\r\n\t\tconst id = parseInt(chainId, 10)\r\n\t\treturn id\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst getEthereumProviderName = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (!ethereum) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tif (ethereum.isMetaMask) {\r\n\t\treturn AUTH_TYPES.METAMASK.name\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nconst getMetamaskEthereum = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (ethereum && ethereum.isMetaMask) {\r\n\t\treturn ethereum\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nexport {\r\n\tgetEthers,\r\n\tethereumNetworkId,\r\n\tgetEthereumProviderName,\r\n\tgetMetamaskEthereum,\r\n\tgetMetamaskSelectedAddress,\r\n}\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nexport const isEthAddressERC20 = async (addr = '') => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const getERC20Balance = async ({ addr = '', balanceFor = '' }) => {\r\n\ttry {\r\n\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\tconst balance = await contract.balanceOf(balanceFor)\r\n\r\n\t\treturn balance\r\n\t} catch (error) {\r\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\r\n\t\treturn null\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.BigNumber.from(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n\tquickCheck = false,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst notEthAddress = !addr || !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else if (!quickCheck) {\r\n\t\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n\r\nexport const freeAdExENS = async ({ username = '' }) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tif (username === '') {\r\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\r\n\t\t} else {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst ensAddress = await provider.resolveName(\r\n\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`\r\n\t\t\t)\r\n\r\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error.code === 'INVALID_ARGUMENT') {\r\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\r\n\t\t} else {\r\n\t\t\tmsg = 'ERR_ENS_CHECK'\r\n\t\t}\r\n\t}\r\n\treturn { msg }\r\n}\r\n","export default class Looper {\r\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\r\n\t\tif (!timeout) {\r\n\t\t\tthrow new Error('LOOPER timeout prop is required')\r\n\t\t}\r\n\r\n\t\tif (typeof syncAction !== 'function') {\r\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\r\n\t\t}\r\n\r\n\t\tthis.loopTimeout = null\r\n\t\tthis.timeout = timeout\r\n\t\tthis.syncAction = syncAction\r\n\t\tthis.loopName = loopName\r\n\t\tthis.stopOn = stopOn\r\n\t}\r\n\r\n\tclearLoopTimeout = () => {\r\n\t\tif (this.loopTimeout) {\r\n\t\t\tclearTimeout(this.loopTimeout)\r\n\t\t\tthis.loopTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tsyncData = async opts => {\r\n\t\tthis.makeStopCheck()\r\n\t\tawait this.syncAction()\r\n\t\tthis.makeStopCheck()\r\n\t}\r\n\r\n\tstartLoop = async opts => {\r\n\t\ttry {\r\n\t\t\tawait this.syncData(opts)\r\n\t\t\tthis.checkLoop()\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\r\n\t\t\tthis.checkLoop()\r\n\t\t}\r\n\t}\r\n\r\n\tcheckLoop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\r\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\r\n\t}\r\n\r\n\tmakeStopCheck = () => {\r\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\r\n\t\t\tthis.stop()\r\n\t\t}\r\n\t}\r\n\r\n\tstart = async onSync => {\r\n\t\tthis.clearLoopTimeout()\r\n\t\tawait this.startLoop()\r\n\t\tthis.makeStopCheck()\r\n\t\tif (typeof onSync === 'function') {\r\n\t\t\tonSync()\r\n\t\t}\r\n\t}\r\n\r\n\tstop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t}\r\n}\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { updateUserCampaigns, execute } from 'actions'\r\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\r\n\r\n// 30 seconds = market statusLoopTick\r\nconst LOOP_TIMEOUT =\r\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\r\n\r\nconst campaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\r\n\tloopName: '_CAMPAIGNS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { campaignsLoop }\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { execute, updateAccountStats } from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst accountStatsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\r\n\tloopName: '_ACCOUNTS_STATS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport default accountStatsLoop\r\n","import Loop from './loop'\r\nimport {\r\n\texecute,\r\n\tupdateAccountAnalytics,\r\n\tupdateAccountAdvancedAnalytics,\r\n} from 'actions'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst analyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\r\n\tloopName: '_ANALYTICS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nconst analyticsLoopCustom = ({ timeout, syncAction, stopOn }) =>\r\n\tnew Loop({\r\n\t\ttimeout: timeout,\r\n\t\tsyncAction: async () => syncAction(),\r\n\t\tloopName: '_ANALYTICS_CUSTOM',\r\n\t\tstopOn: () => !selectAuth(getState()) || stopOn,\r\n\t})\r\n\r\nconst advancedAnalyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAdvancedAnalytics())),\r\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { analyticsLoop, advancedAnalyticsLoop, analyticsLoopCustom }\r\n","import {\r\n\tgetState,\r\n\texecute,\r\n\tresetAllNewItems,\r\n\tresetAllItems,\r\n\tresetAllBids,\r\n\tresetIdentity,\r\n\tresetAccount,\r\n\tresetAnalytics,\r\n\tresetChannelsWithBalanceAll,\r\n\tresetChannelsWithOutstandingBalance,\r\n\tresetAllNewTransaction,\r\n\tupdateMemoryUi,\r\n\tresetAllTableState,\r\n} from 'actions'\r\nimport ReactGA from 'react-ga'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport { advancedAnalyticsLoop } from 'services/store-data/analytics'\r\n\r\nimport { push } from 'connected-react-router'\r\nconst DIMENSIONS_NOT_SET_OR_LOADING = null\r\nexport const logOut = skipRedirect => {\r\n\texecute(updateMemoryUi('initialDataLoaded', false))\r\n\tReactGA.set({\r\n\t\tdimension1: DIMENSIONS_NOT_SET_OR_LOADING,\r\n\t\tdimension2: DIMENSIONS_NOT_SET_OR_LOADING,\r\n\t}) //reset dimensions after logout\r\n\texecute(resetAccount())\r\n\tadvancedAnalyticsLoop.stop()\r\n\tcampaignsLoop.stop()\r\n\tstatsLoop.stop()\r\n\tif (!skipRedirect) {\r\n\t\texecute(push('/'))\r\n\t}\r\n\texecute(resetIdentity())\r\n\texecute(resetAllItems())\r\n\texecute(resetAllNewItems())\r\n\texecute(resetAllBids())\r\n\texecute(resetAnalytics())\r\n\texecute(resetChannelsWithBalanceAll())\r\n\texecute(resetChannelsWithOutstandingBalance())\r\n\texecute(resetAllNewTransaction())\r\n\texecute(resetAllTableState())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn getState().persist.account\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { getState } from 'actions'\r\nimport { selectAuthSig } from 'selectors'\r\nimport { isDemoMode } from 'services/store-data/auth'\r\nimport { t } from 'selectors'\r\n\r\nexport const handleRequesterErrorRes = ({ res, text }) => {\r\n\tlet message = text\r\n\ttry {\r\n\t\tconst textObj = JSON.parse(text)\r\n\t\tmessage =\r\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\r\n\t} catch {}\r\n\r\n\tthrow new Error(\r\n\t\tt('SERVICE_ERROR_MSG', {\r\n\t\t\targs: [res.url, res.status, res.statusText, message],\r\n\t\t})\r\n\t)\r\n}\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst authSignature = selectAuthSig(getState())\r\n\t\treturn {\r\n\t\t\t'X-User-Signature': authSig || authSignature,\r\n\t\t}\r\n\t}\r\n\r\n\tnoCacheHeaders = {\r\n\t\t'Cache-Control': 'no-cache',\r\n\t\tExpires: '0',\r\n\t\tPragma: 'no-cache',\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t\tnoCache = false,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tconst query = Helper.getQuery(qp)\r\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tconst hdrs = {\r\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import requester from './requester'\r\n\r\nexport default requester\r\nexport * from './requester'\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/by-owner/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getIdentityData = ({ identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getRelayerConfigData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}/execute`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tchannel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const regAccount = ({\r\n\towner,\r\n\temail,\r\n\tknowFrom,\r\n\tuserSide,\r\n\tmoreInfo,\r\n\tbytecode,\r\n\tidentityFactoryAddr,\r\n\tbaseIdentityAddr,\r\n\tsalt,\r\n\tidentityAddr,\r\n\tprivileges,\r\n\troutineAuthorizationsRaw,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\temail,\r\n\t\t\t\tknowFrom,\r\n\t\t\t\tuserSide,\r\n\t\t\t\tmoreInfo,\r\n\t\t\t\tbytecode,\r\n\t\t\t\tidentityFactoryAddr,\r\n\t\t\t\tbaseIdentityAddr,\r\n\t\t\t\tsalt,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tprivileges,\r\n\t\t\t\troutineAuthorizationsRaw,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getQuickWallet = ({ hash }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail,\r\n\t\t\t\tsalt,\r\n\t\t\t\thash,\r\n\t\t\t\tencryptedWallet,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getEmail = ({ email }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const AcLocations = autocompleteLocationsSingleSelect()\r\nexport const AcGenders = autocompleteGendersSingleSelect()\r\nexport const AcTags = autocompleteTagsSingleSelect()\r\n\r\nexport const SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n\r\nexport const HOUR = 60 * 60 * 1000\r\nexport const DAY = 24 * HOUR\r\nexport const MAX_CAMPAIGN_WITHDRAW_START_DAYS = 90\r\nexport const MAX_CAMPAIGN_WITHDRAW_START =\r\n\tDAY * MAX_CAMPAIGN_WITHDRAW_START_DAYS\r\n","import * as types from 'constants/actionTypes'\r\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast, updateSpinner } from './uiActions'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport { validations, Joi, schemas, constants, helpers } from 'adex-models'\r\nimport { validPassword } from 'helpers/validators'\r\nimport {\r\n\tt,\r\n\tselectAuthType,\r\n\tselectAccountStatsRaw,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getEmail } from 'services/adex-relayer/actions'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tMAX_CAMPAIGN_WITHDRAW_START_DAYS,\r\n\tMAX_CAMPAIGN_WITHDRAW_START,\r\n} from 'constants/targeting'\r\nconst { IdentityPrivilegeLevel, CountryTiers, OsGroups } = constants\r\nconst { bondPerActionToUserInputPerMileValue } = helpers\r\n\r\nconst { campaignPut, account } = schemas\r\nconst { isNumberString } = validations\r\n\r\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst authType = selectAuthType(getState())\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\r\n\t\t\tif (validate) {\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(name, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\tkey,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validate(\r\n\tvalidateId,\r\n\tkey,\r\n\t{\r\n\t\tisValid,\r\n\t\terr = { msg: '', args: [], fields: {} },\r\n\t\tdirty = false,\r\n\t\tremoveAll = false,\r\n\t}\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (!isValid) {\r\n\t\t\tlet errors = {}\r\n\t\t\terrors[key] = {\r\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\r\n\t\t\t\terrFields: err.fields,\r\n\t\t\t\tdirty,\r\n\t\t\t}\r\n\r\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\r\n\t\t} else if (removeAll) {\r\n\t\t\tresetValidationErrors(validateId)(dispatch)\r\n\t\t} else {\r\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport const handleAfterValidation = async ({\r\n\tisValid,\r\n\tonValid,\r\n\tonInvalid,\r\n}) => {\r\n\tif (isValid && typeof onValid === 'function') {\r\n\t\tawait onValid()\r\n\t}\r\n\tif (!isValid && typeof onInvalid === 'function') {\r\n\t\tawait onInvalid()\r\n\t}\r\n}\r\n\r\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tvalidate(validateId, 'emailCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePassword(validateId, password, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tvalidate(validateId, 'password', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePasswordCheck(\r\n\tvalidateId,\r\n\tpasswordCheck,\r\n\tpassword,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tvalidate(validateId, 'passwordCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateTOS(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'tosCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateENS({ username, dirty, validateId }) {\r\n\treturn async function(dispatch) {\r\n\t\tlet msg = !username\r\n\t\t\t? 'ERR_NO_ENS_USERNAME_PROVIDED'\r\n\t\t\t: /^([a-z0-9]+)$/.test(username)\r\n\t\t\t? null\r\n\t\t\t: 'ERR_INVALID_ENS_USER_NAME'\r\n\r\n\t\tif (!msg) {\r\n\t\t\tmsg = (await freeAdExENS({\r\n\t\t\t\tusername,\r\n\t\t\t})).msg\r\n\t\t}\r\n\r\n\t\tconst isValid = !msg\r\n\t\tvalidate(validateId, 'username', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateWallet(validateId, wallet, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!wallet && !!wallet.address\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateIdentityContractOwner(\r\n\tvalidateId,\r\n\tidentityContractOwner,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!identityContractOwner\r\n\t\tvalidate(validateId, 'identityContractOwner', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateKnowFrom(validateId, knowFrom, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!knowFrom\r\n\t\tvalidate(validateId, 'knowFrom', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_DROPDOWN_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateUserSide(validateId, userSide, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!userSide\r\n\t\tvalidate(validateId, 'userSide', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_USER_SIDE_SELECT_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateMoreInfo(validateId, knowFrom, moreInfo, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tknowFrom === 'other' || knowFrom === 'event' ? !!moreInfo : true\r\n\t\tvalidate(validateId, 'moreInfo', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_MOREINFO_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateAccessWarning(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'accessWarningCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignUnits({ validateId, adUnits, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!adUnits && adUnits.length\r\n\t\tvalidate(validateId, 'adUnits', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\t!!validators &&\r\n\t\t\tvalidators.length === 2 &&\r\n\t\t\t!!validators[0] &&\r\n\t\t\t!!validators[1] &&\r\n\t\t\t!!validators[0].id &&\r\n\t\t\t!!validators[0].url &&\r\n\t\t\tvalidators[0].feeNum !== undefined &&\r\n\t\t\tvalidators[0].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined &&\r\n\t\t\t!!validators[1].id &&\r\n\t\t\t!!validators[1].url &&\r\n\t\t\tvalidators[1].feeNum !== undefined &&\r\n\t\t\tvalidators[1].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined\r\n\r\n\t\tvalidate(validateId, 'validators', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateFees({\r\n\tvalidateId,\r\n\tfeesAmountBN,\r\n\tamountToSpendBN,\r\n\terrorMsg = '',\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = true\r\n\t\tlet msg = errorMsg\r\n\t\tlet args = []\r\n\t\tconst state = getState()\r\n\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\t\tconst amountNeeded = BigNumber.from(feesAmountBN).add(\r\n\t\t\tBigNumber.from(amountToSpendBN)\r\n\t\t)\r\n\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\r\n\t\tif (amountNeeded.gt(BigNumber.from(availableIdentityBalanceMainTokenRaw))) {\r\n\t\t\tconst amountNeededFormatted = formatTokenAmount(\r\n\t\t\t\tamountNeeded,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tnull,\r\n\t\t\t\t2\r\n\t\t\t)\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_TX_INSUFFICIENT_BALANCE'\r\n\t\t\targs = [\r\n\t\t\t\tamountNeededFormatted,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tsymbol,\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'fees', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateWithdrawAmount({\r\n\tvalidateId,\r\n\tamountToWithdraw,\r\n\tavailableIdentityBalanceMainTokenRaw,\r\n\tavailableIdentityBalanceMainTokenFormatted,\r\n\tdecimals,\r\n\tsymbol,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch) {\r\n\t\tlet isValid = isNumberString(amountToWithdraw)\r\n\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet args = []\r\n\t\tconst amount = isValid ? utils.parseUnits(amountToWithdraw, decimals) : null\r\n\t\tif (isValid && amount.isZero()) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\r\n\t\t} else if (\r\n\t\t\tisValid &&\r\n\t\t\tamount.gt(BigNumber.from(availableIdentityBalanceMainTokenRaw))\r\n\t\t) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'amountToWithdraw', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateNumberString({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\tintegerOnly,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = isNumberString(value)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT'\r\n\r\n\t\tif (isValid && integerOnly) {\r\n\t\t\tconst int = parseInt(value, 10)\r\n\t\t\tif (int.toString() !== value.toString()) {\r\n\t\t\t\tisValid = false\r\n\t\t\t\tmsg = 'ERR_INVALID_INTEGER_NUMBER'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args: [value] },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAmount({\r\n\tvalidateId,\r\n\tdirty,\r\n\terrMsg,\r\n\tdepositAmount,\r\n\tpricingBounds = { IMPRESSION: {} },\r\n\tspecPricingBounds,\r\n\tmaxDeposit,\r\n\tdecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst min = pricingBounds.IMPRESSION.min || ''\r\n\t\tconst max = pricingBounds.IMPRESSION.max || ''\r\n\t\tconst isValidNumberDeposit = isNumberString(depositAmount)\r\n\t\tconst isValidNumberMin = isNumberString(min)\r\n\t\tconst isValidNumberMax = isNumberString(max)\r\n\r\n\t\tconst checkSpeckBounds = !!specPricingBounds && specPricingBounds.IMPRESSION\r\n\r\n\t\tlet isValidDeposit = isValidNumberDeposit\r\n\t\tlet isValidMin = isValidNumberMin\r\n\t\tlet isValidMax = isValidNumberMax\r\n\r\n\t\tlet msgDeposit = errMsg || 'ERR_INVALID_AMOUNT'\r\n\t\tlet msgMin = errMsg || 'ERR_INVALID_AMOUNT'\r\n\t\tlet msgMax = errMsg || 'ERR_INVALID_AMOUNT'\r\n\t\tlet argsMin = []\r\n\t\tlet argsMax = []\r\n\t\tlet argsDeposit = []\r\n\r\n\t\tif (isValidDeposit && isValidMin && isValidMax) {\r\n\t\t\tconst depositBn = utils.parseUnits(depositAmount, decimals)\r\n\t\t\tconst minBn = utils.parseUnits(min, decimals)\r\n\t\t\tconst maxBn = utils.parseUnits(max, decimals)\r\n\r\n\t\t\tif (!depositBn.isZero() && depositBn.gt(maxDeposit)) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_INSUFFICIENT_IDENTITY_BALANCE'\r\n\t\t\t}\r\n\r\n\t\t\tif (!depositBn.isZero() && depositBn.lt(minBn)) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_DEPOSIT_UNDER_CPM'\r\n\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_CPM_OVER_DEPOSIT'\r\n\t\t\t}\r\n\r\n\t\t\tif (!depositBn.isZero() && depositBn.lt(maxBn)) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_DEPOSIT_UNDER_MAX_CPM'\r\n\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_OVER_DEPOSIT'\r\n\t\t\t}\r\n\r\n\t\t\tif (depositBn.lte(BigNumber.from(0))) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_ZERO_DEPOSIT'\r\n\t\t\t}\r\n\r\n\t\t\tif (minBn.lte(BigNumber.from(0))) {\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_ZERO_MIN_CPM'\r\n\t\t\t}\r\n\r\n\t\t\tif (maxBn.lte(BigNumber.from(0))) {\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_ZERO_MAX_CPM'\r\n\t\t\t}\r\n\r\n\t\t\tif (maxBn.lt(minBn)) {\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_LT_MIN_CPM'\r\n\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_MIN_CPM_GT_MAX_CPM'\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tcheckSpeckBounds &&\r\n\t\t\t\tminBn.div(1000).lt(BigNumber.from(specPricingBounds.IMPRESSION.min))\r\n\t\t\t) {\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_MIN_CPM_LESS_THAN_SPEC'\r\n\t\t\t\targsMin = [\r\n\t\t\t\t\tbondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\t\tspecPricingBounds.IMPRESSION.min,\r\n\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t),\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tcheckSpeckBounds &&\r\n\t\t\t\tmaxBn.div(1000).gt(BigNumber.from(specPricingBounds.IMPRESSION.max))\r\n\t\t\t) {\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_HIGHER_THAN_SPEC'\r\n\t\t\t\targsMax = [\r\n\t\t\t\t\tbondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\t\tspecPricingBounds.IMPRESSION.max,\r\n\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t),\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'depositAmount', {\r\n\t\t\tisValid: isValidDeposit,\r\n\t\t\terr: { msg: msgDeposit, args: argsDeposit },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tawait validate(validateId, 'minPerImpression', {\r\n\t\t\tisValid: isValidMin,\r\n\t\t\terr: { msg: msgMin, args: argsMin },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tawait validate(validateId, 'maxPerImpression', {\r\n\t\t\tisValid: isValidMax,\r\n\t\t\terr: { msg: msgMax, args: argsMax },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValidDeposit && isValidMin && isValidMax\r\n\t}\r\n}\r\n\r\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\r\n\r\nconst getCampaignDatesValidation = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet errActiveFrom = null\r\n\tlet errWithdrawPeriodStart = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_END_BEFORE_START' }\r\n\t} else if (\r\n\t\twithdrawPeriodStart &&\r\n\t\tactiveFrom &&\r\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\r\n\t) {\r\n\t\terrWithdrawPeriodStart = {\r\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\r\n\t\t\targs: ['1', 'HOUR'],\r\n\t\t}\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_END_BEFORE_NOW' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terrActiveFrom = { message: 'ERR_START_BEFORE_NOW' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_NO_END' }\r\n\t}\r\n\r\n\tif (!withdrawPeriodStart) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_NO_DATE_SET' }\r\n\t}\r\n\r\n\tif (withdrawPeriodStart > created + MAX_CAMPAIGN_WITHDRAW_START) {\r\n\t\terrWithdrawPeriodStart = {\r\n\t\t\tmessage: 'ERR_CAMPAIGN_END_DATE_OVER_MAX',\r\n\t\t\targs: [MAX_CAMPAIGN_WITHDRAW_START_DAYS],\r\n\t\t}\r\n\t}\r\n\r\n\tif (!activeFrom) {\r\n\t\terrActiveFrom = { message: 'ERR_NO_DATE_SET' }\r\n\t}\r\n\r\n\treturn { errActiveFrom, errWithdrawPeriodStart }\r\n}\r\n\r\nexport function validateCampaignDates({\r\n\tvalidateId,\r\n\tactiveFrom,\r\n\twithdrawPeriodStart,\r\n\tdirty,\r\n\tcreated,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst {\r\n\t\t\terrActiveFrom,\r\n\t\t\terrWithdrawPeriodStart,\r\n\t\t} = getCampaignDatesValidation({\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tcreated,\r\n\t\t})\r\n\r\n\t\tvalidate(validateId, 'activeFrom', {\r\n\t\t\tisValid: !errActiveFrom,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: (errActiveFrom || {}).message,\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\r\n\t\t\tisValid: !errWithdrawPeriodStart,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: errWithdrawPeriodStart ? errWithdrawPeriodStart.message : '',\r\n\t\t\t\targs: errWithdrawPeriodStart && (errWithdrawPeriodStart.args || []),\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tconst isValid = !errWithdrawPeriodStart && !errActiveFrom\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignTitle({ validateId, title, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst result = Joi.validate(title, campaignPut.title)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tvalidate(validateId, 'title', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEthAddress({\r\n\tvalidateId,\r\n\tprop,\r\n\taddr,\r\n\tnonZeroAddr = true,\r\n\tnonERC20 = true,\r\n\tdirty,\r\n\tauthType,\r\n\tquickCheck,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { msg } = await validEthAddress({\r\n\t\t\taddr,\r\n\t\t\tnonZeroAddr,\r\n\t\t\tnonERC20,\r\n\t\t\tauthType,\r\n\t\t\tquickCheck,\r\n\t\t})\r\n\r\n\t\tconst isValid = !msg\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesAddress({\r\n\tvalidateId,\r\n\tsetAddr = '',\r\n\twalletAddr = '',\r\n\tprivLevel,\r\n\tauthType,\r\n\twarningAccepted,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isCurrentAddress =\r\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\r\n\t\tlet isValid = warningAccepted || !isCurrentAddress\r\n\r\n\t\tlet msg = ''\r\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\r\n\t\tif (isCurrentAddress && privLevel === 0) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\r\n\t\t} else if (isCurrentAddress && privLevel === 1) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\r\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\r\n\t\t\tisValid = true\r\n\t\t} else if (!isCurrentAddress) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'setAddrWarning', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn { isValid, msg }\r\n\t}\r\n}\r\n\r\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\r\n\t\tawait validate(validateId, 'privLevel', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(value, schema)\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(email, account.email)\r\n\t\tlet isValid = !result.error\r\n\t\tlet msg = result.error ? result.error.message : ''\r\n\r\n\t\tif (validateNotExisting && isValid) {\r\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\r\n\t\t\tisValid = existing === false\r\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'email', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport const locationAudienceInputError = ({ apply, ...values } = {}) => {\r\n\tif (!apply) {\r\n\t\treturn 'ERR_LOCATION_AUDIENCE_NOT_SELECTED'\r\n\t} else if (apply === 'in' && !values.in.length) {\r\n\t\treturn 'ERR_LOCATION_AUDIENCE_IN_NOT_SELECTED'\r\n\t} else if (apply === 'nin' && !values.nin.length) {\r\n\t\treturn 'ERR_LOCATION_AUDIENCE_NIN_NOT_SELECTED'\r\n\t} else if (\r\n\t\tapply === 'nin' &&\r\n\t\tObject.keys(CountryTiers).every(x => values.nin.includes(x))\r\n\t) {\r\n\t\treturn 'ERR_LOCATION_CAN_NOT_EXCLUDE_ALL_COUNTRIES'\r\n\t}\r\n}\r\n\r\nexport const publishersAudienceInputError = ({ apply, ...values } = {}) => {\r\n\tif (!apply) {\r\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NOT_SELECTED'\r\n\t} else if (apply === 'in' && (!values.in || !values.in.length)) {\r\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_IN_NOT_SELECTED'\r\n\t} else if (apply === 'nin' && (!values.nin || !values.nin.length)) {\r\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NIN_NOT_SELECTED'\r\n\t}\r\n}\r\n\r\nexport const categoriesAudienceInputError = ({\r\n\tapply = [],\r\n\t...values\r\n} = {}) => {\r\n\tif (!apply.includes('in')) {\r\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_NOT_SELECTED'\r\n\t} else if (apply.includes('in') && (!values.in || !values.in.length)) {\r\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_IN_NOT_SELECTED'\r\n\t}\r\n}\r\n\r\nexport const devicesAudienceInputError = ({ apply, ...values } = {}) => {\r\n\tif (\r\n\t\tapply === 'nin' &&\r\n\t\tObject.keys(OsGroups).every(x => values.nin.includes(x))\r\n\t) {\r\n\t\treturn 'ERR_DEVICES_CAN_NOT_EXCLUDE_ALL_DEVICES'\r\n\t}\r\n}\r\n\r\nexport function validateAudience({ validateId, propName, inputs, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst { location, categories, publishers, devices } = inputs\r\n\r\n\t\tconst errors = [\r\n\t\t\tlocationAudienceInputError(location),\r\n\t\t\tpublishersAudienceInputError(publishers),\r\n\t\t\tcategoriesAudienceInputError(categories),\r\n\t\t\tdevicesAudienceInputError(devices),\r\n\t\t]\r\n\r\n\t\tconst isValid = errors.every(e => !e)\r\n\t\tconst errArgs = errors\r\n\t\t\t.filter(e => !!e)\r\n\t\t\t.map(e => t(e))\r\n\t\t\t.join(', ')\r\n\r\n\t\tawait validate(validateId, propName, {\r\n\t\t\tisValid,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_AUDIENCE_INPUT',\r\n\t\t\t\targs: [errArgs],\r\n\t\t\t\tfields: {\r\n\t\t\t\t\tlocation: !!errors[0],\r\n\t\t\t\t\tpublishers: !!errors[1],\r\n\t\t\t\t\tcategories: !!errors[2],\r\n\t\t\t\t\tdevices: !!errors[3],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","const MAX_ASPECT_TOLERANCE = 5\r\n\r\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n\r\nexport const checkExactishAspect = (\r\n\twidthTarget,\r\n\twidth,\r\n\theightTarget,\r\n\theight,\r\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\r\n) => {\r\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\r\n\t\treturn false\r\n\t}\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\r\n\tconst aspect = parseFloat(width / height)\r\n\r\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width &&\r\n\t\theightTarget <= height &&\r\n\t\taspectDiff <= maxPercentTolerance\r\n\r\n\treturn isValid\r\n}\r\n","import { validate } from 'actions'\r\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\r\n\r\nexport function validateMediaSize({\r\n\tvalidateId,\r\n\tmedia,\r\n\tpropName,\r\n\tdirty,\r\n\twidthTarget,\r\n\theightTarget,\r\n\tmsg,\r\n\texact,\r\n\trequired,\r\n} = {}) {\r\n\treturn async function(dispatch) {\r\n\t\tconst { mime, tempUrl } = media\r\n\t\tlet isValid = mime && tempUrl\r\n\t\tlet args = [widthTarget, heightTarget, 'px']\r\n\r\n\t\tif (!required && !media.tempUrl) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tif (required && isValid) {\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\t\t\tconst mediaWidth = size.width\r\n\t\t\tconst mediaHeight = size.height\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactishAspect(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, propName, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow, skipRedirect) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut(skipRedirect)\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\thandleRequesterErrorRes({ res, text })\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdUnitById = ({ unitId }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${unitId}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getTargetingData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots/targeting-data',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `slots/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getUserCampaigns = ({ authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${campaign.id}/close`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({\r\n\tall,\r\n\tstatuses,\r\n\tbyEarner,\r\n\tbyCreator,\r\n\tcacheBrake,\r\n\tstatusOnly,\r\n} = {}) => {\r\n\tconst queryParams = {\r\n\t\t...(all && { all: true }),\r\n\t\t...(statusOnly && { statusOnly: true }),\r\n\t\t...(statuses && { status: statuses.join(',') }),\r\n\t\tbyEarner,\r\n\t\tbyCreator,\r\n\t\t...(cacheBrake && { cacheBrake: Date.now() }),\r\n\t}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateCampaign = ({ campaign, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(campaign),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const verifyWebsite = ({ websiteUrl }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots/verify-website',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON({ websiteUrl }),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getUserAudiences = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'audiences',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getUserAudienceByCampaign = ({ campaignId }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `audiences/${campaignId}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const putAudience = ({ audience, id }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `audiences/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(audience),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAudience = ({ audience }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `audiences`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(audience),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tgetAdUnits,\r\n\tgetAdSlots,\r\n\tgetUserAudiences,\r\n\tuploadImage,\r\n\tupdateAdSlot,\r\n\tupdateAdUnit,\r\n\tupdateCampaign,\r\n\tputAudience,\r\n} from 'services/adex-market/actions'\r\nimport { execute, addToast as AddToastUi, updateSpinner } from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { Base, AdSlot, AdUnit, helpers, Campaign, Audience } from 'adex-models'\r\n\r\nimport { translate } from 'services/translations/translations'\r\n\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { SOURCES } from 'constants/targeting'\r\nimport { selectAccount, selectAuth, selectItemByTypeAndId } from 'selectors'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nexport const getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\nexport function getAllItems(onDataUpdated) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\t\t\tconst audiences = getUserAudiences()\r\n\r\n\t\t\tconst [resAudiences, resUnits, resSlots] = await Promise.all([\r\n\t\t\t\taudiences,\r\n\t\t\t\tunits,\r\n\t\t\t\tslots,\r\n\t\t\t])\r\n\t\t\tconst userSlots = resSlots.slots || []\r\n\t\t\tconst userPassbackUnits = (resSlots.passbackUnits || []).reduce(\r\n\t\t\t\t(passbacks, u) => {\r\n\t\t\t\t\tconst { id, mediaMime, mediaUrl, targetUrl } = u\r\n\t\t\t\t\tpassbacks[id] = { mediaMime, mediaUrl, targetUrl }\r\n\r\n\t\t\t\t\treturn passbacks\r\n\t\t\t\t},\r\n\t\t\t\t{}\r\n\t\t\t)\r\n\r\n\t\t\tconst slotsWithUnits = userSlots.map(async s => ({\r\n\t\t\t\t...s,\r\n\t\t\t\t...(s.fallbackUnit ? userPassbackUnits[s.fallbackUnit] : {}),\r\n\t\t\t}))\r\n\r\n\t\t\tconst slotWithUnitsRes = await Promise.all(slotsWithUnits)\r\n\t\t\tif (selectAuth(getState())) {\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: resAudiences.audiences,\r\n\t\t\t\t\titemType: 'Audience',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: slotWithUnitsRes,\r\n\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tupdateItems({ items: resSlots.websites || [], itemType: 'Website' })(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tif (typeof onDataUpdated === 'function') {\r\n\t\t\t\t\tonDataUpdated()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({\r\n\titem,\r\n\titemType,\r\n\taction = 'UPDATING',\r\n\tonSuccess,\r\n\tgoToTableOnSuccess = false,\r\n} = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { id } = item\r\n\t\tupdateSpinner(action + id, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tlet updatedItem = null\r\n\t\t\tlet objModel = null\r\n\t\t\tlet path = ''\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot': // In case newItem.website is null (very few slots)\r\n\t\t\t\t\tnewItem.website = newItem.website || ''\r\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id })).slot\r\n\t\t\t\t\tobjModel = AdSlot\r\n\t\t\t\t\tpath = '/dashboard/publisher/slots'\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id })).unit\r\n\t\t\t\t\tobjModel = AdUnit\r\n\t\t\t\t\tpath = '/dashboard/advertiser/units'\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id })).campaign\r\n\t\t\t\t\tobjModel = Campaign\r\n\t\t\t\t\tpath = '/dashboard/advertiser/campaigns'\r\n\t\t\t\t\tbreak\r\n\r\n\t\t\t\tcase 'Audience':\r\n\t\t\t\t\tconst audience = new Audience(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await putAudience({ audience, id })).audience\r\n\t\t\t\t\tobjModel = Audience\r\n\t\t\t\t\tpath = '/dashboard/advertiser/audiences'\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: `SUCCESS_${action}_ITEM`,\r\n\t\t\t\targs: [itemType, item.title],\r\n\t\t\t})\r\n\r\n\t\t\tif (goToTableOnSuccess) {\r\n\t\t\t\texecute(push(path))\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_${action}_ITEM`, err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: `ERR_${action}_ITEM`,\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner(action + item.id, false)(dispatch)\r\n\t}\r\n}\r\n\r\nconst findSourceByTag = tag => {\r\n\treturn Object.keys(SOURCES).find(\r\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\r\n\t)\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: key,\r\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ itemId, itemType, goToTableOnSuccess } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst selectedItem = selectItemByTypeAndId(getState(), itemType, itemId)\r\n\t\tconst item = { ...selectedItem }\r\n\t\titem.archived = true\r\n\r\n\t\tawait updateItem({\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t\taction: 'ARCHIVING',\r\n\t\t\tgoToTableOnSuccess,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","export function loadFromLocalStorage(key) {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n\r\nexport function removeFromLocalStorage(key) {\r\n\tlocalStorage.removeItem(key)\r\n}\r\n\r\nexport function getKeys() {\r\n\treturn Object.keys(localStorage)\r\n}\r\n","import { ethers, utils } from 'ethers'\r\nimport pbkdf2 from 'pbkdf2'\r\nimport {\r\n\tencrypt,\r\n\tdecrypt,\r\n\tencryptLegacy,\r\n\tdecryptLegacy,\r\n} from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n\tgetKeys,\r\n\tremoveFromLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tpbkdf2.pbkdf2(\r\n\t\t\tpass,\r\n\t\t\tsalt,\r\n\t\t\titerations,\r\n\t\t\tkeylen,\r\n\t\t\tdigiset,\r\n\t\t\t(err, derivedKey) => {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn reject(err)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst res = derivedKey.toString(encoding)\r\n\r\n\t\t\t\treturn resolve(res)\r\n\t\t\t}\r\n\t\t)\r\n\t})\r\n}\r\n\r\nasync function getCipherKey({ email, password }) {\r\n\tconst pass = generateSalt(password)\r\n\tconst salt = generateSalt(email)\r\n\r\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn key\r\n}\r\n\r\nfunction isLegacyCrypto(authType) {\r\n\treturn !authType || authType === 'legacy' || authType === 'grant'\r\n}\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport async function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\tconst walletData = {\r\n\t\tmnemonic: wallet.mnemonic.phrase,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.mnemonic.path,\r\n\t}\r\n\r\n\treturn walletData\r\n}\r\n\r\nasync function encrKey({ email, password, authType }) {\r\n\tif (!authType) {\r\n\t\treturn await encryptLegacy(email, password)\r\n\t} else if (typeof authType === 'string') {\r\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\r\n\t} else {\r\n\t\tthrow new Error('INVALID_TYPE')\r\n\t}\r\n}\r\n\r\nexport async function encrData({ email = '', password, data, authType }) {\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\tconst jsonData = JSON.stringify(data)\r\n\tif (isLegacy) {\r\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\r\n\t\treturn legacyEncrypted\r\n\t} else {\r\n\t\tconst encrypted = await encrypt(\r\n\t\t\tjsonData,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t\treturn encrypted\r\n\t}\r\n}\r\n\r\nexport async function decrData({ email = '', password, data, authType }) {\r\n\tlet decryptedStr = ''\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\r\n\tif (isLegacy) {\r\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\r\n\t} else {\r\n\t\tdecryptedStr = await decrypt(\r\n\t\t\tdata,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst decr = JSON.parse(decryptedStr)\r\n\t\treturn decr\r\n\t} catch (err) {\r\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\r\n\t}\r\n}\r\n\r\nexport async function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic,\r\n\tauthType = '',\r\n}) {\r\n\tconst walletData = await generateWallet(mnemonic)\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst data = await encrData({ data: walletData, email, password, authType })\r\n\tawait saveToLocalStorage({ data }, key)\r\n\r\n\twalletData.authType = authType\r\n\treturn walletData\r\n}\r\n\r\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\r\n\tconst wallet = await getLocalWallet({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tgetEncrypted: true,\r\n\t})\r\n\r\n\tif (wallet && wallet.data) {\r\n\t\tconst newKey = await encrKey({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\r\n\t\t})\r\n\t\tsaveToLocalStorage(wallet, newKey)\r\n\t}\r\n}\r\n\r\nexport async function removeLegacyKey({ email = '', password = '' }) {\r\n\tconst key = await encrKey({ email, password })\r\n\tremoveFromLocalStorage(key)\r\n}\r\n\r\nexport async function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n\tauthType,\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('INVALID_DATA_KEY')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('WALLET_NOT_FOUND')\r\n\t}\r\n\r\n\tconst data = await encrData({ data: dataValue, email, password, authType })\r\n\twallet[dataKey] = data\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport async function getRecoveryWalletData({ email, password, authType }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport async function getLocalWallet({\r\n\temail,\r\n\tpassword,\r\n\tauthType,\r\n\tgetEncrypted,\r\n}) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tif (getEncrypted) {\r\n\t\t\treturn wallet\r\n\t\t}\r\n\r\n\t\tconst walletKeys = Object.keys(wallet)\r\n\r\n\t\tconst decrypts = walletKeys.map(async key => {\r\n\t\t\t// props[key] = await decrData({\r\n\t\t\t// \tdata: wallet[key],\r\n\t\t\t// \temail,\r\n\t\t\t// \tpassword,\r\n\t\t\t// \tauthType,\r\n\t\t\t// })\r\n\r\n\t\t\tconst decryptedData = await decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\treturn decryptedData\r\n\t\t})\r\n\r\n\t\tconst decryptedData = await Promise.all(decrypts)\r\n\r\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\r\n\t\t\tprops[key] = decryptedData[index]\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn decryptedWallet\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nfunction isWallet(item) {\r\n\treturn item && item.data && item.identity && item.privileges\r\n}\r\n\r\nexport function walletInfo(key, index, wallet) {\r\n\tconst split = key.split('-')\r\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\r\n\tconst authType = split[1] || 'legacy'\r\n\tconst name = mail || `Grant account # ${index + 1}`\r\n\r\n\tconst info = {\r\n\t\tkey,\r\n\t\twallet,\r\n\t\tname,\r\n\t\tauthType,\r\n\t}\r\n\r\n\treturn info\r\n}\r\n\r\nexport function getAllWallets() {\r\n\tconst walletKeys = getKeys()\r\n\t\t.map(key => {\r\n\t\t\treturn {\r\n\t\t\t\tkey,\r\n\t\t\t\titem: loadFromLocalStorage(key),\r\n\t\t\t}\r\n\t\t})\r\n\t\t.filter(({ item }) => isWallet(item))\r\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\r\n\r\n\treturn walletKeys\r\n}\r\n\r\nexport async function getWalletHash({ salt, password }) {\r\n\tconst passwordId = utils.id(password)\r\n\r\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn hash\r\n}\r\n\r\nexport function generateSalt(dataStr) {\r\n\tif (typeof dataStr !== 'string') {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\r\n\t} else if (!dataStr.length) {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\r\n\t}\r\n\r\n\tconst id = utils.id(dataStr)\r\n\tconst salt = utils.keccak256(id)\r\n\treturn salt\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\r\n\t\tthis._provider = provider\r\n\t\tthis._opts = opts\r\n\t}\r\n\r\n\tgetWallet = async () => {\r\n\t\tif (this._wallet) {\r\n\t\t\treturn this._wallet\r\n\t\t} else {\r\n\t\t\tconst { email, password, authType } = this._opts\r\n\t\t\tconst walletData = await getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\r\n\t\t\treturn this._wallet\r\n\t\t}\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn await this.getWallet().address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = await this.getWallet().sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst wallet = await this.getWallet()\r\n\r\n\t\tconst signature = await wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (\r\n\t\tauthType === AUTH_TYPES.GRANT.name ||\r\n\t\tauthType === AUTH_TYPES.QUICK.name\r\n\t) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\tconst hash = utils.solidityKeccak256(\r\n\t\t['bytes32', 'bytes32'],\r\n\t\t[schemaHash, valuesHash]\r\n\t)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\r\n\r\nconst getValidatorRequester = ({ baseUrl }) => {\r\n\treturn new Requester({ baseUrl })\r\n}\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\r\n\tconst followerRequester = getValidatorRequester({\r\n\t\tbaseUrl: follower.url,\r\n\t})\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validatorId,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ campaign, options, account }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: follower.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst leaderAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: leader.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t\tauthTokens: {\r\n\t\t\t[follower.id]: followerAuthToken,\r\n\t\t\t[leader.id]: leaderAuthToken,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ campaign, account }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const updateTargeting = ({ campaign, account, targetingRules }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tevents: [{ type: 'UPDATE_TARGETING', targetingRules }],\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const identityAnalytics = async ({\r\n\tleaderAuth,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n\tside,\r\n\tsegmentByChannel,\r\n\tstart,\r\n\tend,\r\n\tweekHoursSpan,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tlimit,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\teventType,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t\tweekHoursSpan,\r\n\t\t\t\ttimezone: dateUtils.getCurrentTimezone(),\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn { aggregates, metric }\r\n}\r\n\r\nexport const identityAdvancedAnalytics = async ({ leaderAuth, eventType }) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/advanced`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType },\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn aggregates\r\n}\r\n\r\nexport const campaignAnalytics = ({\r\n\tcampaign,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n}) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${campaign.id}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const timeBasedAnalytics = async ({\r\n\tleaderAuth,\r\n\tlimit,\r\n\ttimeframe,\r\n\teventType,\r\n\tmetric,\r\n\tside,\r\n\tstart,\r\n\tend,\r\n\tsegmentByChannel,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst result = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tlimit,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\teventType,\r\n\t\t\t\tmetric,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\treturn result\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectFeeTokenWhitelist,\r\n} from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\r\n\tif (token.address === mainToken.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\r\n\r\n\t// approve + swap txns\r\n\tconst swapFees = BigNumber.from(feeToken.min).mul(BigNumber.from(2))\r\n\r\n\tconst isAvailable = swapFees.mul(BigNumber.from(2)).lte(balance)\r\n\treturn isAvailable ? balance : BigNumber.from(0)\r\n}\r\n\r\nexport const getTotalAccountRevenue = async ({ all }) => {\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst totalRevenue = await Object.values(all).reduce(\r\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\r\n\t\t\tconst revenue = await revenuePr\r\n\r\n\t\t\tconst token = withdrawTokens[depositAsset]\r\n\r\n\t\t\t// const hasMinBalance = BigNumber.from(balance).gt(\r\n\t\t\t// \tBigNumber.from(token.minFinal)\r\n\t\t\t// )\r\n\r\n\t\t\t// NOTE: Show everything\r\n\t\t\tconst hasMinBalance = BigNumber.from(balance).gt(BigNumber.from(0))\r\n\r\n\t\t\tconst balanceMainToken = hasMinBalance\r\n\t\t\t\t? await tokenInMainTokenValue({\r\n\t\t\t\t\t\ttoken,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t  })\r\n\t\t\t\t: BigNumber.from(0)\r\n\r\n\t\t\treturn revenue.add(balanceMainToken)\r\n\t\t},\r\n\t\tPromise.resolve(BigNumber.from(0))\r\n\t)\r\n\r\n\treturn totalRevenue\r\n}\r\n\r\nexport const getWithdrawTokensBalances = async ({\r\n\taddress,\r\n\tgetFullBalances,\r\n}) => {\r\n\tconst { getToken } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\r\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\r\n\t\tconst tokenContract = getToken(token)\r\n\r\n\t\tconst balance = await tokenContract.balanceOf(address)\r\n\r\n\t\tconst available = getFullBalances\r\n\t\t\t? balance\r\n\t\t\t: tokenAvailableBalance({\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tmainToken,\r\n\t\t\t\t\tbalance,\r\n\t\t\t  })\r\n\r\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: available,\r\n\t\t})\r\n\r\n\t\treturn { token, balance: available, balanceMainToken }\r\n\t})\r\n\r\n\tconst balances = await Promise.all(balancesCalls)\r\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\r\n\t\t(data, balanceData) => {\r\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\r\n\t\t\t\tbalanceData.balanceMainToken\r\n\t\t\t)\r\n\r\n\t\t\tif (balanceData.token.address === mainToken.address) {\r\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\r\n\t\t\t}\r\n\r\n\t\t\treturn data\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotalBalanceInMainToken: BigNumber.from(0),\r\n\t\t\tmainTokenBalance: BigNumber.from(0),\r\n\t\t}\r\n\t)\r\n\r\n\treturn {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t\ttotalBalanceInMainToken,\r\n\t}\r\n}\r\n\r\nexport async function getAddressBalances({ address, getFullBalances }) {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tgetWithdrawTokensBalances({\r\n\t\t\taddress: address.address,\r\n\t\t\tgetFullBalances,\r\n\t\t}),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: utils.formatEther(balances[0].toString()),\r\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\r\n\t\t\treturn {\r\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\r\n\t\t\t\tsymbol: token.symbol,\r\n\t\t\t}\r\n\t\t}),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({\r\n\taccount,\r\n\toutstandingBalanceMainToken = {\r\n\t\ttotal: BigNumber.from('0'),\r\n\t\tavailable: BigNumber.from('0'),\r\n\t},\r\n\toutstandingBalanceAllMainToken = {\r\n\t\ttotal: BigNumber.from('0'),\r\n\t\tavailable: BigNumber.from('0'),\r\n\t},\r\n\tall,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { address } = identity\r\n\tconst { getIdentity } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst { decimals } = selectMainToken()\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = getIdentity({ address })\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tgetWithdrawTokensBalances({ address }),\r\n\t\tprivilegesAction,\r\n\t\tgetTotalAccountRevenue({ all }),\r\n\t]\r\n\r\n\tconst [\r\n\t\tidentityWithdrawTokensBalancesBalances = {},\r\n\t\twalletPrivileges,\r\n\t\ttotalRevenue,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn undefined\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\tconst identityBalanceMainToken =\r\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken ||\r\n\t\tBigNumber.from(0)\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\tidentityWithdrawTokensBalancesBalances,\r\n\t\twalletPrivileges,\r\n\t\tidentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\r\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\r\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.total\r\n\t\t),\r\n\t\toutstandingBalanceAllMainToken: outstandingBalanceAllMainToken.available,\r\n\t\ttotalOutstandingBalanceAllMainToken: outstandingBalanceAllMainToken.total,\r\n\t\tavailableIdentityBalanceAllMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceAllMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceAllMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceAllMainToken.total\r\n\t\t),\r\n\t\ttotalRevenue,\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceMainToken: formatTokenAmount(\r\n\t\t\tidentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalRevenue: formatTokenAmount(\r\n\t\t\traw.totalRevenue || '0',\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\n// NOTE: currently working because DAI and SAI has the same price and decimals\r\n// We should use getOutstandingBalanceMainToken if changed\r\nexport async function getOutstandingBalance({ withBalance }) {\r\n\tconst bigZero = BigNumber.from(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable } = ch\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstanding)\r\n\t\tcurrent.available = current.available.add(\r\n\t\t\tBigNumber.from(outstandingAvailable)\r\n\t\t)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\r\n\tconst tokens = selectRoutineWithdrawTokens()\r\n\tconst bigZero = BigNumber.from(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\r\n\t\tconst { depositAsset } = channel\r\n\t\tconst token = tokens[depositAsset]\r\n\r\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\r\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: outstandingAvailable,\r\n\t\t})\r\n\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstandingMT)\r\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getAllValidatorsAuthForIdentity({\r\n\twithBalance,\r\n\taccount,\r\n}) {\r\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\r\n\r\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\r\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\r\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\r\n\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\r\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\tconst keys = Object.keys(allValidators)\r\n\r\n\tconst tokenCalls = keys.map(async key => {\r\n\t\tif (allValidators[key]) {\r\n\t\t\treturn allValidators[key]\r\n\t\t} else {\r\n\t\t\tconst token = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: key,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\treturn token\r\n\t\t}\r\n\t})\r\n\r\n\tconst allTokens = await Promise.all(tokenCalls)\r\n\r\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[key]: allTokens[index],\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\treturn validatorsAuth\r\n}\r\n\r\nconst saiDaiConversion = async ({ token, balance }) => balance\r\n\r\nconst valueInMainTokenConversions = {\r\n\t// SAI\r\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\r\n\t\t// DAI\r\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\r\n\t},\r\n\t// DAI\r\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\r\n\t\t// SAI\r\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\r\n\t},\r\n}\r\n\r\nexport async function tokenInMainTokenValue({ token, balance }) {\r\n\tconst { address } = selectMainToken()\r\n\r\n\tif (address === token.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst valueInMainToken = await valueInMainTokenConversions[\r\n\t\taddress.toLowerCase()\r\n\t][token.address.toLowerCase()]({\r\n\t\ttoken,\r\n\t\tbalance,\r\n\t})\r\n\r\n\treturn valueInMainToken\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\r\nimport { Contract, BigNumber, utils } from 'ethers'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport { executeTx } from 'services/adex-relayer'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectFeeTokenWhitelist,\r\n\tselectSaiToken,\r\n\tt,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\nimport solc from 'solcBrowser'\r\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\r\nimport { EXECUTE_ACTIONS } from 'constants/misc'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nconst { AdExENSManager, ReverseRegistrar } = contracts\r\nconst { Interface, getAddress, parseUnits, id, keccak256 } = utils\r\n\r\nconst ERC20 = new Interface(ERC20TokenABI)\r\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\r\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\r\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\r\n\r\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\r\n\r\nexport async function getIdentityDeployData({\r\n\towner,\r\n\trelayerRoutineAuthValidUntil = 10648454444,\r\n}) {\r\n\tconst {\r\n\t\tidentityFactoryAddr,\r\n\t\trelayerAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tidentityRecoveryAddr,\r\n\t\tcoreAddr,\r\n\t\tmainToken,\r\n\t} = selectRelayerConfig()\r\n\r\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\r\n\r\n\tconst routineAuthorizationsRaw = [\r\n\t\t{\r\n\t\t\trelayer: relayerAddr,\r\n\t\t\toutpace: coreAddr,\r\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tfeeTokenAmount: '0x00',\r\n\t\t},\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tbaseIdentityAddr,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t\troutineAuthsSlot: 1,\r\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\r\n\t\t\t\tnew RoutineAuthorization(x).hash()\r\n\t\t\t),\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst identityAddr = getAddress(\r\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tidentityFactoryAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tidentityAddr,\r\n\t\tprivileges,\r\n\t\troutineAuthorizationsRaw,\r\n\t}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { authType } = wallet\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: tokenAddr,\r\n\t\tto: tokenAddr,\r\n\t\tdata: ERC20.encodeFunctionData('transfer', [withdrawTo, toWithdraw]),\r\n\t\twithdrawTx: true,\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: toWithdraw,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.withdraw,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\tconst mtBalance = BigNumber.from(availableIdentityBalanceMainToken)\r\n\r\n\tif (fees.totalBN.gt(mtBalance)) {\r\n\t\tthrow new Error(\r\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\t`${formatTokenAmount(\r\n\t\t\t\t\t\tmtBalance.toString(),\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t2\r\n\t\t\t\t\t)} ${symbol}`,\r\n\t\t\t\t\t`${fees.total} ${symbol}`,\r\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\r\n\r\n\tlet actualWithdrawAmount = toWithdraw\r\n\r\n\tif (toWithdraw.gt(maxWithdraw)) {\r\n\t\tactualWithdrawAmount = maxWithdraw\r\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\r\n\t\t\tif (tx.withdrawTx) {\r\n\t\t\t\ttx.data = ERC20.encodeFunctionData('transfer', [\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tactualWithdrawAmount.toString(),\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttotalBN: fees.totalBN,\r\n\t\t\tactualWithdrawAmount,\r\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals, null, 2),\r\n\t\t\tbreakdownFormatted: fees.breakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.encodeFunctionData('setAddrPrivilege', [\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.privilegesChange,\r\n\t})\r\n\r\n\tif (getFeesOnly) {\r\n\t\tconst {\r\n\t\t\ttotal,\r\n\t\t\ttotalBN,\r\n\t\t\tbreakdownFormatted,\r\n\t\t} = await getIdentityTxnsTotalFees({\r\n\t\t\ttxnsByFeeToken,\r\n\t\t})\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t\ttotalBN,\r\n\t\t\tbreakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\ttxnsByFeeToken,\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: {\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t},\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\nfunction txnsByTokenWithSaiToDaiSwap({\r\n\ttxns,\r\n\tmainToken,\r\n\tdaiAddr,\r\n\tsaiAddr,\r\n\tidentityAddr,\r\n}) {\r\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\r\n\t\t(current, tx, i) => {\r\n\t\t\tconst { withdrawAmountByToken } = tx\r\n\r\n\t\t\tconst needSaiToDaiSwap =\r\n\t\t\t\t!!saiAddr &&\r\n\t\t\t\t!!withdrawAmountByToken &&\r\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\r\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\r\n\t\t\t\tmainToken.address === daiAddr &&\r\n\t\t\t\tsaiAddr !== daiAddr\r\n\r\n\t\t\tlet feeTokenAddr = ''\r\n\r\n\t\t\tif (needSaiToDaiSwap) {\r\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\r\n\t\t\t\t\tBigNumber.from(withdrawAmountByToken[saiAddr])\r\n\t\t\t\t)\r\n\t\t\t\tfeeTokenAddr = daiAddr\r\n\t\t\t}\r\n\r\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\r\n\t\t\t// normalize tx\r\n\t\t\ttx.feeTokenAddr = feeTokenAddr\r\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\r\n\r\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\r\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\r\n\t\t\t\ttx,\r\n\t\t\t]\r\n\r\n\t\t\treturn current\r\n\t\t},\r\n\t\t{\r\n\t\t\tsaiWithdrawAmount: BigNumber.from('0'),\r\n\t\t\ttxnsByFeeToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { txnsByFeeToken, saiWithdrawAmount }\r\n}\r\n\r\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: AdExENSManager.address,\r\n\t\tdata: AdExENSManagerInterface.encodeFunctionData('registerAndSetup', [\r\n\t\t\tAdExENSManager.publicResolver,\r\n\t\t\tid(username),\r\n\t\t\tidentityAddr,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: ReverseRegistrar.address,\r\n\t\tdata: ReverseRegistrarInterface.encodeFunctionData('setName', [\r\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.ensChange,\r\n\t})\r\n\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { total, totalBN, breakdownFormatted } = await getIdentityTxnsTotalFees(\r\n\t\t{\r\n\t\t\ttxnsByFeeToken,\r\n\t\t\tmainToken,\r\n\t\t}\r\n\t)\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t\ttotalBN,\r\n\t\t\tbreakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function getIdentityTxnsWithNoncesAndFees({\r\n\tamountInMainTokenNeeded = '0',\r\n\texecuteAction = 'DEFAULT',\r\n\ttxns = [],\r\n\tidentityAddr,\r\n\tprovider,\r\n\tIdentity,\r\n\taccount,\r\n\tgetToken,\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\r\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\r\n\r\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\r\n\tlet identityContract = null\r\n\r\n\tif (isDeployed) {\r\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\t}\r\n\r\n\tconst initialNonce = isDeployed\r\n\t\t? (await identityContract.nonce()).toNumber()\r\n\t\t: 0\r\n\r\n\tconst baseFee = BigNumber.from(\r\n\t\t(mainTokenWithFees.executeBaseFee || {})[executeAction] || '0'\r\n\t)\r\n\r\n\tconst mainTxnsFees = txns.length\r\n\t\t? BigNumber.from(\r\n\t\t\t\t!initialNonce\r\n\t\t\t\t\t? mainTokenWithFees.minDeploy\r\n\t\t\t\t\t: mainTokenWithFees.minRecommended\r\n\t\t  ).add(\r\n\t\t\t\tBigNumber.from(mainTokenWithFees.minRecommended).mul(\r\n\t\t\t\t\tBigNumber.from(txns.length - 1)\r\n\t\t\t\t)\r\n\t\t  )\r\n\t\t: BigNumber.from(0)\r\n\r\n\tconst feesForMainTxns = baseFee.add(mainTxnsFees)\r\n\r\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\r\n\t\tBigNumber.from(amountInMainTokenNeeded)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsweepTxns = [],\r\n\t\tswapAmountsByToken = {},\r\n\t} = await getSweepingTxnsIfNeeded({\r\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\r\n\r\n\t\taccount,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns: sweepTxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// 1st - always get sweeping txns (channelWithdraw)\r\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\r\n\t// 3rd - make other txns with the main token only\r\n\r\n\t// TODO: make it work with other tokens\r\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\r\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\r\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\r\n\t\t.add(BigNumber.from(swapAmountsByToken[saiAddr] || 0))\r\n\r\n\tif (!saiSwapAmount.isZero()) {\r\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\r\n\t\t\t...(await swapSaiToDaiTxns({\r\n\t\t\t\tgetToken,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tdaiAddr,\r\n\t\t\t\tsaiToken,\r\n\t\t\t\tswapAmount: saiSwapAmount,\r\n\t\t\t})),\r\n\t\t]\r\n\t}\r\n\r\n\tconst allFeeTokens = [\r\n\t\t...new Set([\r\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\r\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\r\n\t\t]),\r\n\t]\r\n\r\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\r\n\t\ttxns[token] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t]\r\n\r\n\t\treturn txns\r\n\t}, {})\r\n\r\n\tlet currentNonce = initialNonce\r\n\tlet baseFeeAdded = false\r\n\r\n\tObject.keys(txnsByFeeToken).forEach(key => {\r\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\r\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\r\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\r\n\t\t\tconst isDeployTx = currentNonce === 0\r\n\r\n\t\t\tconst txFeeAmount = isDeployTx\r\n\t\t\t\t? feeToken.minDeploy\r\n\t\t\t\t: isSweepTx\r\n\t\t\t\t? feeToken.min\r\n\t\t\t\t: feeToken.minRecommended\r\n\r\n\t\t\tconst addBaseFee =\r\n\t\t\t\t!baseFeeAdded && !isSweepTx && tx.feeTokenAddr === mainToken.address\r\n\r\n\t\t\tconst sweepRoutinesFeeAmount = BigNumber.from(routinesSweepTxCount).mul(\r\n\t\t\t\tBigNumber.from(feeToken.min)\r\n\t\t\t)\r\n\r\n\t\t\tconst extraFeesAmount = BigNumber.from(extraTxFeesCount).mul(\r\n\t\t\t\tBigNumber.from(feeToken.minRecommended)\r\n\t\t\t)\r\n\r\n\t\t\t// Total relayer fees for the transaction\r\n\t\t\tconst feeAmount = BigNumber.from(txFeeAmount)\r\n\t\t\t\t.add(sweepRoutinesFeeAmount)\r\n\t\t\t\t.add(extraFeesAmount)\r\n\t\t\t\t.add(addBaseFee ? baseFee : BigNumber.from(0))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\t// fees that are not pre calculated with in the total identity balance\r\n\t\t\t// There are no pre calculated fees in the balance\r\n\t\t\tconst nonIdentityBalanceFeeAmount = BigNumber.from(feeAmount)\r\n\t\t\t// .sub(BigNumber.from(isSweepTx ? feeToken.min : 0))\r\n\t\t\t// .sub(BigNumber.from(routinesSweepTxCount).mul(BigNumber.from(feeToken.min)))\r\n\t\t\t// .toString()\r\n\r\n\t\t\tconst feesBreakdown = {\r\n\t\t\t\t...(addBaseFee ? { baseFee } : {}),\r\n\t\t\t\troutinesSweepTxCount,\r\n\t\t\t\tsweepRoutinesFeeAmount,\r\n\t\t\t\textraTxFeesCount,\r\n\t\t\t\textraFeesAmount,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\ttxFeeAmount,\r\n\t\t\t\tisDeployTx,\r\n\t\t\t\tisSweepTx,\r\n\t\t\t}\r\n\r\n\t\t\tconst txWithNonce = {\r\n\t\t\t\t...tx,\r\n\t\t\t\tfeeTokenAddr: feeToken.address,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\tnonce: currentNonce,\r\n\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t\tfeesBreakdown,\r\n\t\t\t\texecuteAction,\r\n\t\t\t}\r\n\r\n\t\t\tcurrentNonce += 1\r\n\r\n\t\t\treturn txWithNonce\r\n\t\t})\r\n\t})\r\n\r\n\treturn txnsByFeeToken\r\n}\r\n\r\nexport async function getApproveTxns({\r\n\tgetToken,\r\n\ttoken,\r\n\tidentityAddr,\r\n\tfeeTokenAddr,\r\n\tapproveForAddress,\r\n\tapproveAmount,\r\n}) {\r\n\tconst tokenContract = getToken(token)\r\n\r\n\tconst allowance = await tokenContract.allowance(\r\n\t\tidentityAddr,\r\n\t\tapproveForAddress\r\n\t)\r\n\r\n\tconst approveTxns = []\r\n\r\n\tif (!allowance.isZero()) {\r\n\t\tapproveTxns.push({\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: token.address,\r\n\t\t\tdata: ERC20.encodeFunctionData('approve', [approveForAddress, 0]),\r\n\t\t})\r\n\t}\r\n\r\n\tapproveTxns.push({\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tto: token.address,\r\n\t\tdata: ERC20.encodeFunctionData('approve', [\r\n\t\t\tapproveForAddress,\r\n\t\t\tapproveAmount,\r\n\t\t]),\r\n\t})\r\n\r\n\treturn approveTxns\r\n}\r\n\r\nasync function swapSaiToDaiTxns({\r\n\tidentityAddr,\r\n\tdaiAddr,\r\n\tsaiToken,\r\n\tswapAmount,\r\n\tgetToken,\r\n}) {\r\n\tconst approveTxns = await getApproveTxns({\r\n\t\tgetToken,\r\n\t\ttoken: saiToken,\r\n\t\tidentityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\r\n\t\tapproveAmount: swapAmount,\r\n\t})\r\n\r\n\tconst swapTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tto: SCD_MCD_MIGRATION_ADDR,\r\n\t\tdata: ScdMcdMigration.encodeFunctionData('swapSaiToDai', [swapAmount]),\r\n\t}\r\n\r\n\treturn [...approveTxns, swapTx]\r\n}\r\n\r\n// TODO: use byToken where needed\r\n// currently works because only using SAI and DAI only\r\nexport async function getIdentityTxnsTotalFees({\r\n\ttxnsByFeeToken,\r\n\tmainToken = {},\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst bigZero = BigNumber.from('0')\r\n\tconst { total, byToken, totalBreakdown } = Object.values(txnsByFeeToken)\r\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\r\n\t\t.reduce(\r\n\t\t\t(result, tx) => {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesBreakdown,\r\n\t\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t\t\tfeeTokenAddr,\r\n\t\t\t\t\texecuteAction,\r\n\t\t\t\t} = tx\r\n\t\t\t\tconst { total, byToken, totalBreakdown } = result\r\n\t\t\t\tconst txFeeAmount = BigNumber.from(nonIdentityBalanceFeeAmount)\r\n\r\n\t\t\t\tresult.total = total.add(txFeeAmount)\r\n\t\t\t\tresult.byToken[feeTokenAddr] = (byToken[feeTokenAddr] || bigZero).add(\r\n\t\t\t\t\ttxFeeAmount\r\n\t\t\t\t)\r\n\r\n\t\t\t\tresult.totalBreakdown = {\r\n\t\t\t\t\tbaseFee: BigNumber.from(totalBreakdown.baseFee || '0').add(\r\n\t\t\t\t\t\tBigNumber.from(feesBreakdown.baseFee || '0')\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsweepRoutinesFeeAmount: BigNumber.from(\r\n\t\t\t\t\t\ttotalBreakdown.sweepRoutinesFeeAmount || '0'\r\n\t\t\t\t\t).add(BigNumber.from(feesBreakdown.sweepRoutinesFeeAmount)),\r\n\t\t\t\t\textraFeesAmount: BigNumber.from(\r\n\t\t\t\t\t\ttotalBreakdown.extraFeesAmount || '0'\r\n\t\t\t\t\t).add(BigNumber.from(feesBreakdown.extraFeesAmount)),\r\n\t\t\t\t\tfeeAmount: BigNumber.from(totalBreakdown.feeAmount || '0').add(\r\n\t\t\t\t\t\tBigNumber.from(feesBreakdown.feeAmount)\r\n\t\t\t\t\t),\r\n\t\t\t\t\troutinesSweepTxCount:\r\n\t\t\t\t\t\t(totalBreakdown.routinesSweepTxCount || 0) +\r\n\t\t\t\t\t\t(feesBreakdown.routinesSweepTxCount || 0),\r\n\t\t\t\t\textraTxFeesCount:\r\n\t\t\t\t\t\t(totalBreakdown.extraTxFeesCount || 0) +\r\n\t\t\t\t\t\t(feesBreakdown.extraTxFeesCount || 0),\r\n\t\t\t\t\ttxnsCount:\r\n\t\t\t\t\t\ttotalBreakdown.txnsCount + (feesBreakdown.isSweepTx ? 0 : 1),\r\n\t\t\t\t\tsweepTxnsCount:\r\n\t\t\t\t\t\ttotalBreakdown.sweepTxnsCount +\r\n\t\t\t\t\t\t(totalBreakdown.routinesSweepTxCount || 0) +\r\n\t\t\t\t\t\t(feesBreakdown.isSweepTx ? 1 : 0),\r\n\t\t\t\t\tsweepTxnsFeeAmount: BigNumber.from(\r\n\t\t\t\t\t\ttotalBreakdown.sweepTxnsFeeAmount || '0'\r\n\t\t\t\t\t).add(\r\n\t\t\t\t\t\tBigNumber.from(\r\n\t\t\t\t\t\t\tfeesBreakdown.isSweepTx\r\n\t\t\t\t\t\t\t\t? feesBreakdown.txFeeAmount\r\n\t\t\t\t\t\t\t\t: feesBreakdown.sweepRoutinesFeeAmount\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t),\r\n\t\t\t\t\tdeployFee: feesBreakdown.isDeployTx\r\n\t\t\t\t\t\t? BigNumber.from(feesBreakdown.txFeeAmount)\r\n\t\t\t\t\t\t: null,\r\n\t\t\t\t\texecuteAction,\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttotal: bigZero,\r\n\t\t\t\tbyToken: {},\r\n\t\t\t\ttotalBreakdown: { txnsCount: 0, sweepTxnsCount: 0 },\r\n\t\t\t}\r\n\t\t)\r\n\r\n\tconst byTokenFormatted = Object.entries(byToken).map(([key, value]) => {\r\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\r\n\t\treturn {\r\n\t\t\taddress: key,\r\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\r\n\t\t\tsymbol,\r\n\t\t\tfeeFormatted: `${formatTokenAmount(\r\n\t\t\t\tvalue.toString(),\r\n\t\t\t\tdecimals,\r\n\t\t\t\tfalse,\r\n\t\t\t\t4\r\n\t\t\t)} ${symbol}`,\r\n\t\t}\r\n\t})\r\n\r\n\tconst breakdownFormatted = {\r\n\t\t...totalBreakdown,\r\n\t\tbaseFee: formatTokenAmount(\r\n\t\t\ttotalBreakdown.baseFee.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tfeeAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.feeAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tsweepRoutinesFeeAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.sweepRoutinesFeeAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\textraFeesAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.extraFeesAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttxnsFee: formatTokenAmount(\r\n\t\t\ttotalBreakdown.feeAmount\r\n\t\t\t\t.sub(totalBreakdown.sweepTxnsFeeAmount)\r\n\t\t\t\t.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tsweepTxnsFeeAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.sweepTxnsFeeAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tdeployFee: totalBreakdown.deployFee\r\n\t\t\t? formatTokenAmount(\r\n\t\t\t\t\ttotalBreakdown.deployFee.toString(),\r\n\t\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t  )\r\n\t\t\t: null,\r\n\t}\r\n\r\n\tconst fees = {\r\n\t\t// TODO: change to return total as BN and add totalFormatted\r\n\t\ttotal: formatTokenAmount(\r\n\t\t\ttotal.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tbreakdownFormatted,\r\n\t\ttotalBN: total,\r\n\t\tbyToken: byTokenFormatted,\r\n\t}\r\n\r\n\treturn fees\r\n}\r\n\r\nexport async function processExecuteByFeeTokens({\r\n\ttxnsByFeeToken,\r\n\twallet,\r\n\tprovider,\r\n\tidentityAddr,\r\n\textraData = {},\r\n}) {\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\r\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\r\n\t\tconst data = {\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\t...extraData,\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\r\n\t\t\tprocess.env.NODE_ENV === 'development'\r\n\t\t) {\r\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\r\n\t\t}\r\n\r\n\t\tconst result = await executeTx(data)\r\n\r\n\t\treturn {\r\n\t\t\tresult,\r\n\t\t}\r\n\t})\r\n\r\n\tconst results = await Promise.all(all)\r\n\r\n\treturn results\r\n}\r\n\r\nexport async function withdrawOtherTokensFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\tconst decimals = parseInt(tokenDecimals, 10)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: mainToken.address,\r\n\t\tto: tokenAddress,\r\n\t\tdata: ERC20.encodeFunctionData('transfer', [withdrawTo, toWithdraw]),\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.withdraw,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttotalBN: fees.totalBN,\r\n\t\t\ttoWithdraw,\r\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals, null, 2),\r\n\t\t\tbreakdownFormatted: fees.breakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n","import crypto from 'crypto'\r\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\r\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetIdentityTxnsWithNoncesAndFees,\r\n\tgetIdentityTxnsTotalFees,\r\n\tprocessExecuteByFeeTokens,\r\n\tgetApproveTxns,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { contracts } from '../contractsCfg'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit, helpers } from 'adex-models'\r\nimport { getCampaigns } from 'services/adex-market/actions'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport {\r\n\t// selectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectMainFeeToken,\r\n\tselectMainToken,\r\n\tselectSaiToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\r\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\r\nimport { getState } from 'store'\r\nimport { AUTH_TYPES, EXECUTE_ACTIONS } from 'constants/misc'\r\nconst { parseUnits, Interface, randomBytes, getAddress } = utils\r\n\r\nconst { userInputPricingBoundsPerMileToRulesValue } = helpers\r\n\r\nconst { AdExCore } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst IdentityInterface = new Interface(IdentityABI)\r\n\r\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\r\nconst DAY = 24 * 60 * 60 * 1000\r\nconst VALID_UNTIL_FROM_CREATION = 360 * DAY\r\n\r\nconst OUTSTANDING_STATUSES = {\r\n\tActive: true,\r\n\tReady: true,\r\n\tExhausted: true,\r\n\tOffline: true,\r\n\tUnhealthy: true,\r\n\tWithdraw: true,\r\n}\r\n\r\n// TODO: get it from the market\r\nconst GLOBAL_MIN_CPM = '0.01' // per 1000 user input\r\nconst GLOBAL_MAX_CPM = '15.00' // per 1000 user input\r\n\r\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\ttitle: channel.title,\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(created) {\r\n\treturn Math.floor((created + VALID_UNTIL_FROM_CREATION) / 1000)\r\n}\r\n\r\nfunction userInputToTokenValue({ input, decimals, divider = 1 }) {\r\n\treturn parseUnits(input || '0', decimals)\r\n\t\t.div(BigNumber.from(divider))\r\n\t\t.toString()\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, mainToken) {\r\n\tconst { decimals } = mainToken\r\n\tconst newCampaign = new Campaign(campaign)\r\n\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(newCampaign.created)\r\n\tnewCampaign.nonce = BigNumber.from(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = userInputToTokenValue({\r\n\t\tinput: newCampaign.depositAmount,\r\n\t\tdecimals,\r\n\t})\r\n\r\n\tconst validators = newCampaign.validators.map(v => {\r\n\t\tconst deposit = BigNumber.from(newCampaign.depositAmount || 0)\r\n\t\tconst fee = deposit\r\n\t\t\t.mul(BigNumber.from(v.feeNum || 1))\r\n\t\t\t.div(BigNumber.from(v.feeDen || 1))\r\n\t\t\t.toString()\r\n\r\n\t\tconst validator = {\r\n\t\t\tid: v.id,\r\n\t\t\turl: v.url,\r\n\t\t\tfee,\r\n\t\t}\r\n\r\n\t\tif (v.feeAddr) {\r\n\t\t\tvalidator.feeAddr = v.feeAddr\r\n\t\t}\r\n\r\n\t\treturn validator\r\n\t})\r\n\r\n\tnewCampaign.validators = validators\r\n\r\n\t// spec pricing bounds\r\n\tconst pricingBounds = userInputPricingBoundsPerMileToRulesValue({\r\n\t\tpricingBounds: {\r\n\t\t\tIMPRESSION: {\r\n\t\t\t\tmin: GLOBAL_MIN_CPM,\r\n\t\t\t\tmax: GLOBAL_MAX_CPM,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdecimals,\r\n\t})\r\n\r\n\t// TODO: CLICK when available\r\n\tnewCampaign.pricingBounds = pricingBounds\r\n\r\n\t// TEMP: legacy compatibility\r\n\tnewCampaign.minPerImpression = pricingBounds.IMPRESSION.min\r\n\tnewCampaign.maxPerImpression = pricingBounds.IMPRESSION.max\r\n\r\n\tnewCampaign.depositAsset = mainToken.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = {\r\n\t\tname: 'Pending',\r\n\t\thumanFriendlyName: 'Pending',\r\n\t\tlastChecked: Date.now(),\r\n\t}\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nconst getWithdrawnPerUserOutstanding = async ({\r\n\tchannel,\r\n\tbalance,\r\n\tidentityAddr,\r\n}) => {\r\n\tconst { AdExCore } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst withdrawnPerUser = await AdExCore.functions.withdrawnPerUser(\r\n\t\tchannel.id,\r\n\t\tidentityAddr\r\n\t)\r\n\r\n\tconst outstanding = BigNumber.from(balance.toString()).sub(\r\n\t\tBigNumber.from(withdrawnPerUser[0])\r\n\t)\r\n\r\n\treturn outstanding\r\n}\r\n\r\nexport async function getChannelsWithOutstanding({ identityAddr }) {\r\n\tconst channels = await getCampaigns({ all: true, byEarner: identityAddr })\r\n\r\n\t// const feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\r\n\r\n\tconst allChannels = await Promise.all(\r\n\t\tchannels\r\n\t\t\t.filter(\r\n\t\t\t\tchannel =>\r\n\t\t\t\t\tchannel &&\r\n\t\t\t\t\tchannel.status &&\r\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\r\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\r\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\r\n\t\t\t)\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\r\n\t\t\t\t\t(balances, e) => {\r\n\t\t\t\t\t\tconst [address, balance] = e\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (getAddress(address)) {\r\n\t\t\t\t\t\t\t\tbalances[address] = balance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch {}\r\n\t\t\t\t\t\treturn balances\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\r\n\r\n\t\t\t\treturn channel\r\n\t\t\t})\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\tbTree,\r\n\t\t\t\t\tchannel,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter(({ bTree }) => {\r\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\r\n\t\t\t})\r\n\t\t\t.map(\r\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\r\n\t\t\t\t\t//  mTree,\r\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\r\n\r\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tidentityAddr,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// const outstandingAvailable = outstanding.sub(\r\n\t\t\t\t\t// \tBigNumber.from(feeTokenWhitelist[channel.depositAsset].min)\r\n\t\t\t\t\t// )\r\n\r\n\t\t\t\t\t// NOTE: We will show everything - will add this to withdraw fees\r\n\t\t\t\t\tconst outstandingAvailable = outstanding\r\n\r\n\t\t\t\t\tconst balanceNum = BigNumber.from(channel.depositAmount)\r\n\t\t\t\t\t\t.sub(BigNumber.from(channel.spec.validators[0].fee || 0))\r\n\t\t\t\t\t\t.sub(BigNumber.from(channel.spec.validators[1].fee || 0))\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\t\toutstanding,\r\n\t\t\t\t\t\toutstandingAvailable,\r\n\t\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t)\r\n\r\n\tconst all = Object.assign(\r\n\t\t{},\r\n\t\t...allChannels.map(c => {\r\n\t\t\tconst { channel, balance } = c\r\n\t\t\tconst { id, depositAmount, depositAsset, status, spec } = channel\r\n\t\t\tconst balanceNum = BigNumber.from(depositAmount)\r\n\t\t\t\t.sub(BigNumber.from(c.channel.spec.validators[0].fee))\r\n\t\t\t\t.sub(BigNumber.from(c.channel.spec.validators[1].fee))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\treturn {\r\n\t\t\t\t[c.channel.id.toLowerCase()]: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tbalance,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tdepositAsset,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\tstatus: status.name,\r\n\t\t\t\t\tadUnits: spec.adUnits, //TODO: add only what needed\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n\t)\r\n\r\n\tconst withOutstandingBalanceAll = allChannels.filter(x => {\r\n\t\treturn (\r\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\r\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\r\n\t\t\t\tDate.now() &&\r\n\t\t\tx.outstandingAvailable.gt(BigNumber.from('0'))\r\n\t\t)\r\n\t})\r\n\r\n\tconst withOutstandingBalance = [...withOutstandingBalanceAll].filter(x =>\r\n\t\t// Used for withdraw and all functions requiring sweeps\r\n\t\tx.outstanding.gt(\r\n\t\t\tBigNumber.from(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\r\n\t\t)\r\n\t)\r\n\r\n\treturn { all, withOutstandingBalanceAll, withOutstandingBalance }\r\n}\r\n\r\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\r\n\tconst { eligible } = withBalance\r\n\t\t.sort((c1, c2) => {\r\n\t\t\treturn BigNumber.from(c2.outstandingAvailable).gt(\r\n\t\t\t\tBigNumber.from(c1.outstandingAvailable)\r\n\t\t\t)\r\n\t\t})\r\n\t\t.reduce(\r\n\t\t\t(data, c) => {\r\n\t\t\t\tconst current = { ...data }\r\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\r\n\t\t\t\t\tcurrent.eligible.push(c)\r\n\t\t\t\t\tcurrent.sum = current.sum.add(BigNumber.from(c.outstandingAvailable))\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn current\r\n\t\t\t},\r\n\t\t\t{ sum: BigNumber.from(0), eligible: [] }\r\n\t\t)\r\n\r\n\treturn eligible\r\n}\r\n\r\nconst getChannelWithdrawData = ({\r\n\tidentityAddr,\r\n\tbalance,\r\n\tlastApprovedBalances,\r\n\tlastApprovedSigs,\r\n\tethChannelTuple,\r\n}) => {\r\n\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\tconst proof = bTree.getProof(identityAddr)\r\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\r\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\r\n\tconst root = bTree.mTree.getRoot()\r\n\r\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\r\n}\r\n\r\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\r\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\r\n\t\t(data, tx) => {\r\n\t\t\tconst updated = { ...data }\r\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\r\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\r\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || BigNumber.from(0)\r\n\t\t\t).add(BigNumber.from(tx.withdrawAmountByToken[tx.feeTokenAddr]))\r\n\r\n\t\t\treturn updated\r\n\t\t},\r\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\r\n\t)\r\n\r\n\tconst data = IdentityInterface.encodeFunctionData('executeRoutines', [\r\n\t\troutineAuthTuple,\r\n\t\troutineOpts,\r\n\t])\r\n\r\n\tconst routinesTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tto: identityAddr,\r\n\t\tdata,\r\n\t\twithdrawAmountByToken,\r\n\t\troutinesSweepTxCount: routineOpts.length,\r\n\t}\r\n\r\n\treturn routinesTx\r\n}\r\n\r\nfunction getIdentityRoutineAuthTuple(identity) {\r\n\treturn identity &&\r\n\t\tidentity.relayerData &&\r\n\t\tidentity.relayerData.deployData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t: null\r\n}\r\n\r\nfunction is41identity(routineAuthTuple) {\r\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\r\n\r\n\treturn is41\r\n}\r\n\r\nfunction hasValidExecuteRoutines(routineAuthTuple) {\r\n\tconst hasValidRoutines =\r\n\t\tis41identity(routineAuthTuple) &&\r\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\r\n\r\n\treturn hasValidRoutines\r\n}\r\n\r\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\r\n\tconst { identity } = account\r\n\t// TODO: pass withBalance as prop\r\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\r\n\r\n\tconst { AdExCore } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst identityAddr = identity.address\r\n\tconst channelsToSweep = await getChannelsToSweepFrom({\r\n\t\tamountToSweep,\r\n\t\tidentityAddr,\r\n\t\twithBalance,\r\n\t})\r\n\r\n\tconst txns = channelsToSweep.map((c, i) => {\r\n\t\tconst {\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tchannel,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\toutstanding,\r\n\t\t\t// outstandingAvailable,\r\n\t\t\tbalance,\r\n\t\t} = c\r\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\r\n\r\n\t\tconst data = getChannelWithdrawData({\r\n\t\t\tidentityAddr,\r\n\t\t\tbalance,\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\tethChannelTuple,\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tfeeTokenAddr: channel.depositAsset,\r\n\t\t\tdata,\r\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\r\n\t\t}\r\n\t})\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\r\n\tlet encodedTxns = null\r\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\r\n\t\tencodedTxns = [\r\n\t\t\tgetSweepExecuteRoutineTx({\r\n\t\t\t\ttxns,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\troutineAuthTuple,\r\n\t\t\t}),\r\n\t\t]\r\n\t} else {\r\n\t\tencodedTxns = txns.map(tx => {\r\n\t\t\ttx.data = Core.encodeFunctionData('channelWithdraw', tx.data)\r\n\t\t\ttx.isSweepTx = true\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\treturn encodedTxns\r\n}\r\n\r\nfunction getSwapAmountsByToken({ balances }) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\r\n\t\t(swaps, balance) => {\r\n\t\t\t// TODO: currently work only for SAI to DAI swap\r\n\t\t\tif (\r\n\t\t\t\tsaiToken &&\r\n\t\t\t\tsaiToken.address &&\r\n\t\t\t\tbalance.token.address !== mainToken.address &&\r\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\r\n\t\t\t\tbalance.token.address === saiToken.address\r\n\t\t\t) {\r\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\r\n\t\t\t\t\tbalance.balanceMainToken\r\n\t\t\t\t)\r\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\r\n\t\t\t}\r\n\t\t\treturn swaps\r\n\t\t},\r\n\t\t{\r\n\t\t\tswapsSumInMainToken: BigNumber.from(0),\r\n\t\t\tswapsByToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { swapsByToken, swapsSumInMainToken }\r\n}\r\n\r\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\r\n// amountNeeded must be in MainToken\r\nexport async function getSweepingTxnsIfNeeded({\r\n\tamountInMainTokenNeeded,\r\n\taccount,\r\n}) {\r\n\tconst needed = BigNumber.from(amountInMainTokenNeeded)\r\n\tconst {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\r\n\r\n\tlet currentBalanceInUse = BigNumber.from(mainTokenBalance)\r\n\r\n\tconst sweepData = {\r\n\t\tsweepTxns: [],\r\n\t\tswapAmountsByToken: {},\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\t// Swaps\r\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\r\n\t\t\tbalances,\r\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\r\n\t\tsweepData.swapAmountsByToken = swapsByToken\r\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\r\n\t\t\taccount,\r\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\t}\r\n\r\n\treturn sweepData\r\n}\r\n\r\nexport function getChannelId({ campaign, account }) {\r\n\tconst { identity } = account\r\n\tconst mainToken = selectMainFeeToken()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst id = ethChannel.hashHex(AdExCore.address)\r\n\r\n\treturn id\r\n}\r\n\r\nexport async function openChannel({\r\n\tcampaign,\r\n\taccount,\r\n\tgetFeesOnly,\r\n\tgetMaxFees,\r\n}) {\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\r\n\tconst mainToken = selectMainFeeToken()\r\n\tconst depositAmount = getMaxFees\r\n\t\t? availableIdentityBalanceMainToken\r\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst feeTokenAddr = mainToken.address\r\n\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\r\n\r\n\tconst txns = []\r\n\r\n\tif (hasIdentityChannelOpen) {\r\n\t\tconst identityChannelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: identityAddr,\r\n\t\t\tdata: IdentityInterface.encodeFunctionData('channelOpen', [\r\n\t\t\t\tAdExCore.address,\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t\textraTxFeesCount: 1,\r\n\t\t}\r\n\t\ttxns.push(identityChannelOpenTx)\r\n\t} else {\r\n\t\tconst approveTxns = await getApproveTxns({\r\n\t\t\tgetToken,\r\n\t\t\ttoken: mainToken,\r\n\t\t\tidentityAddr,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tapproveForAddress: AdExCore.address,\r\n\t\t\tapproveAmount: depositAmount,\r\n\t\t})\r\n\r\n\t\tconst channelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tdata: Core.encodeFunctionData('channelOpen', [\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t}\r\n\t\ttxns.push(...approveTxns, channelOpenTx)\r\n\t}\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: depositAmount,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.openCampaign,\r\n\t})\r\n\r\n\tconst { total, totalBN, breakdownFormatted } = await getIdentityTxnsTotalFees(\r\n\t\t{ txnsByFeeToken }\r\n\t)\r\n\tconst bigZero = BigNumber.from(0)\r\n\tconst mtBalance = BigNumber.from(availableIdentityBalanceMainToken)\r\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\r\n\t\t? bigZero\r\n\t\t: mtBalance.sub(totalBN)\r\n\tconst maxAvailableFormatted = formatTokenAmount(\r\n\t\tmaxAvailable.toString(),\r\n\t\tmainToken.decimals || 18,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfeesFormatted: total,\r\n\t\t\tfees: totalBN,\r\n\t\t\tmaxAvailable,\r\n\t\t\tmaxAvailableFormatted,\r\n\t\t\tbreakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: { channel },\r\n\t})\r\n\r\n\treadyCampaign.id = channel.id\r\n\tconst storeCampaign = { ...readyCampaign }\r\n\tstoreCampaign.spec = { ...openReady.spec }\r\n\treturn {\r\n\t\tresult,\r\n\t\tstoreCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import { BigNumber } from 'ethers'\r\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\r\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n\r\nimport { getCampaigns } from './actions'\r\n\r\nexport async function getUnitsStatsByType() {\r\n\tconst { decimals } = selectMainToken()\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst allChannels = await getCampaigns({ statuses: ['Active'] })\r\n\r\n\tconst channels = allChannels.filter(\r\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\r\n\t)\r\n\r\n\tconst unitsByType = channels.reduce((units, channel) => {\r\n\t\tconst byType = { ...units }\r\n\t\tchannel.spec.adUnits.forEach(unit => {\r\n\t\t\tbyType[unit.type] = byType[unit.type] || []\r\n\t\t\tbyType[unit.type].push(channel)\r\n\t\t})\r\n\r\n\t\treturn byType\r\n\t}, {})\r\n\r\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\r\n\t\tasync (prevStats, key) => {\r\n\t\t\tconst stats = await prevStats\r\n\t\t\tconst channelsByType = unitsByType[key]\r\n\r\n\t\t\tlet totalPerImpression = BigNumber.from('0')\r\n\t\t\tlet totalVolume = BigNumber.from('0')\r\n\r\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\r\n\t\t\t\tconst channel = channelsByType[index]\r\n\r\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: BigNumber.from(channel.spec.minPerImpression),\r\n\t\t\t\t})\r\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: BigNumber.from(channel.depositAmount),\r\n\t\t\t\t})\r\n\r\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\r\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\r\n\t\t\t}\r\n\r\n\t\t\tconst avgPerImpression = totalPerImpression.div(\r\n\t\t\t\tBigNumber.from(channelsByType.length)\r\n\t\t\t)\r\n\t\t\tconst avgCPM = avgPerImpression.mul(BigNumber.from('1000'))\r\n\r\n\t\t\tconst statsByType = { ...stats }\r\n\t\t\tstatsByType[key] = {}\r\n\t\t\tstatsByType[key].raw = {\r\n\t\t\t\ttotalVolume,\r\n\t\t\t\tavgPerImpression,\r\n\t\t\t\tavgCPM,\r\n\t\t\t}\r\n\r\n\t\t\tstatsByType[key].formatted = {\r\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\r\n\t\t\t\tavgPerImpression: formatTokenAmount(\r\n\t\t\t\t\tavgPerImpression,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\r\n\t\t\t}\r\n\r\n\t\t\treturn statsByType\r\n\t\t},\r\n\t\tPromise.resolve({})\r\n\t)\r\n\r\n\treturn unitsByTypeStats\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport throttle from 'lodash.throttle'\r\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetValidatorAuthToken,\r\n\tidentityAnalytics,\r\n\tidentityAdvancedAnalytics,\r\n\ttimeBasedAnalytics,\r\n} from 'services/adex-validator/actions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n} from 'constants/misc'\r\nimport {\r\n\tUPDATING_SLOTS_DEMAND,\r\n\tUPDATING_TARGETING_DATA,\r\n} from 'constants/spinners'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { fillEmptyTime } from 'helpers/analyticsTimeHelpers'\r\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\r\nimport { getTargetingData } from 'services/adex-market/actions'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAnalyticsDataSide,\r\n\tselectAccount,\r\n\tselectStatsChartData,\r\n\tselectAnalyticsLiveTimestamp,\r\n\tselectPublisherReceiptsPresentMonths,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectMonthsRange,\r\n} from 'selectors'\r\nimport { BigNumber } from 'ethers'\r\nimport moment from 'moment'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { DEFAULT_WEEK_HOURS_SPAN } from 'helpers/analyticsTimeHelpers'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\nconst analyticsParams = ({ timeframe, side }) => {\r\n\tconst callsParams = []\r\n\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric => {\r\n\t\t\tconst segmentByChannel =\r\n\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts' ? true : undefined\r\n\t\t\tconst limit = segmentByChannel ? 100 * 25 : 100\r\n\t\t\tcallsParams.push({\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tside,\r\n\t\t\t\teventType,\r\n\t\t\t\tweekHoursSpan: DEFAULT_WEEK_HOURS_SPAN,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\tlimit,\r\n\t\t\t})\r\n\t\t})\r\n\t)\r\n\r\n\treturn callsParams\r\n}\r\n\r\nconst analyticsCampaignsParams = () => {\r\n\tconst callsParams = []\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tcallsParams.push({ eventType })\r\n\t)\r\n\treturn callsParams\r\n}\r\n\r\nfunction aggrByChannelsSegments({ aggr, allChannels, withdrawTokens }) {\r\n\tif (!Object.keys(allChannels).length) {\r\n\t\treturn []\r\n\t}\r\n\t// NOTE: No need to sort them again because fillEmptyTime\r\n\t// is sorting by time after adding the empty time values\r\n\tconst { aggregations, all } = aggr\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\t\t.reduce(\r\n\t\t\t(data, a) => {\r\n\t\t\t\tconst { time } = a\r\n\t\t\t\tconst { aggregations, channels, all } = data\r\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t//  depositAsset,\r\n\t\t\t\t\t//  status,\r\n\t\t\t\t\t// \tbalance\r\n\t\t\t\t} = allChannels[channelId] || {}\r\n\r\n\t\t\t\t// NOTE: check if the channel has lifetime min balance e.g. it is in the total balance\r\n\t\t\t\t// - need to be synced with relayer way for auto sweep - only when campaign is complete\r\n\r\n\t\t\t\t// const { minPlatform, minFinal } = withdrawTokens[depositAsset]\r\n\t\t\t\t// const isExpired = status === 'Expired'\r\n\t\t\t\t// const minBalance = isExpired ? minFinal : minPlatform\r\n\t\t\t\t// const hasMinBalance = BigNumber.from(balance).gt(BigNumber.from(minBalance))\r\n\r\n\t\t\t\t// if (hasMinBalance) {\r\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\r\n\r\n\t\t\t\tconst value = BigNumber.from(a.value || 0)\r\n\t\t\t\t\t.mul(BigNumber.from(balanceNum || 1))\r\n\t\t\t\t\t.div(BigNumber.from(depositAmount || 1))\r\n\r\n\t\t\t\tcurrent.aggr.push({ value, time })\r\n\r\n\t\t\t\tconst currentAggr = aggregations[time] || {\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\tvalue: BigNumber.from(0),\r\n\t\t\t\t}\r\n\t\t\t\tconst currentChannelValue = BigNumber.from(current.value || 0).add(\r\n\t\t\t\t\tvalue\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst currentTimeValue = currentAggr.value\r\n\r\n\t\t\t\tcurrent.value = currentChannelValue\r\n\r\n\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\r\n\r\n\t\t\t\tchannels[channelId] = current\r\n\t\t\t\taggregations[time] = currentAggr\r\n\t\t\t\tall[time] = a.value || all[time]\r\n\t\t\t\t// }\r\n\r\n\t\t\t\treturn { aggregations, channels, all }\r\n\t\t\t},\r\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\r\n\t\t)\r\n\r\n\t// NOTE: force to null values when value under limits but not naturally 0\r\n\tconst aggrWithNullValues = Object.values(aggregations).map(\r\n\t\t({ time, value }) => {\r\n\t\t\tconst isNull =\r\n\t\t\t\tall[time] === undefined ||\r\n\t\t\t\t(BigNumber.from(value).isZero() && all[time] !== '0')\r\n\t\t\treturn { time, value: isNull ? null : value }\r\n\t\t}\r\n\t)\r\n\r\n\treturn aggrWithNullValues\r\n}\r\n\r\nexport const updateAccountAnalyticsThrottled = () => (dispatch, getState) => {\r\n\treturn updateAccountAnalytics(dispatch, getState)\r\n}\r\n\r\nexport const updateAccountAnalytics = throttle(\r\n\tasync function(dispatch, getState) {\r\n\t\tupdateAnalyticsLastChecked()(dispatch)\r\n\t\tconst state = getState()\r\n\t\tconst { start, end, callEnd } = selectIdentitySideAnalyticsPeriod(state)\r\n\r\n\t\tif (!start || !end || !callEnd) {\r\n\t\t\tconsole.warn('updateAccountAnalytics - periods no selected')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst side = selectAnalyticsDataSide(state)\r\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\r\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\r\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsParams({ timeframe, side })\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst liveTimestamp = selectAnalyticsLiveTimestamp(state)\r\n\t\t\tconst timeframeIsLive = liveTimestamp === start\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\tconst { datasets, labels } = selectStatsChartData(state, {\r\n\t\t\t\t\t...opts,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (timeframeIsLive || datasets.length === 0 || labels.length === 0) {\r\n\t\t\t\t\tidentityAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\tend: callEnd || end,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(({ aggregates, metric }) => {\r\n\t\t\t\t\t\t\tconst aggrByChannelSegments =\r\n\t\t\t\t\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts'\r\n\r\n\t\t\t\t\t\t\tlet aggr = aggrByChannelSegments\r\n\t\t\t\t\t\t\t\t? aggrByChannelsSegments({\r\n\t\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\r\n\t\t\t\t\t\t\t\t\t\tallChannels,\r\n\t\t\t\t\t\t\t\t\t\tfeeTokens,\r\n\t\t\t\t\t\t\t\t\t\twithdrawTokens,\r\n\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t: aggregates.aggr\r\n\t\t\t\t\t\t\tconst fillAfterLast = aggrByChannelSegments ? null : 0\r\n\r\n\t\t\t\t\t\t\taggregates.aggr = fillEmptyTime(\r\n\t\t\t\t\t\t\t\taggr,\r\n\t\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\tfillAfterLast,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\t\tend,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\t\t\tif (!accountChanged) {\r\n\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\r\n\t\t\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\t\t\ttimestamp: liveTimestamp === start ? 'live' : start,\r\n\t\t\t\t\t\t\t\t\tvalue: { ...aggregates }, // ADD TIME as well\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tawait Promise.all(allAnalytics)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t},\r\n\t1000,\r\n\t{ leading: false, trailing: true }\r\n)\r\n\r\nexport function updateAccountAdvancedAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsCampaignsParams()\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst value = await identityAdvancedAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\treturn { opts, value }\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tconst data = await Promise.all(allAnalytics)\r\n\r\n\t\t\tif (!accountChanged) {\r\n\t\t\t\tdata\r\n\t\t\t\t\t.filter(x => !!x)\r\n\t\t\t\t\t.forEach(({ opts, value }) =>\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\r\n\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getReceiptData(startDate, endDate) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { account } = state.persist\r\n\t\ttry {\r\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, true)(dispatch)\r\n\t\t\tconst presentMonths = selectPublisherReceiptsPresentMonths(state)\r\n\t\t\tconst monthsWanted = selectMonthsRange(startDate, endDate)\r\n\t\t\tconst monthsNeeded = monthsWanted\r\n\t\t\t\t.filter(val => !presentMonths.includes(val))\r\n\t\t\t\t.sort()\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tif (monthsNeeded.length > 0) {\r\n\t\t\t\tconst timeframe = 'month'\r\n\t\t\t\tconst limit = 500\r\n\t\t\t\tconst promises = []\r\n\t\t\t\tconst startDateNeeded = monthsNeeded[0]\r\n\t\t\t\tconst endDateNeeded = monthsNeeded[monthsNeeded.length - 1]\r\n\t\t\t\t//limit of request is 500 days\r\n\t\t\t\tfor (\r\n\t\t\t\t\tvar m = moment(startDateNeeded);\r\n\t\t\t\t\tm.diff(endDateNeeded) <= 0;\r\n\t\t\t\t\tm.add(limit, 'day')\r\n\t\t\t\t) {\r\n\t\t\t\t\tpromises.push(\r\n\t\t\t\t\t\ttimeBasedAnalytics({\r\n\t\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\tside: 'for-publisher',\r\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\r\n\t\t\t\t\t\t\tmetric: 'eventCounts',\r\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\r\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\ttimeBasedAnalytics({\r\n\t\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\tside: 'for-publisher',\r\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\r\n\t\t\t\t\t\t\tmetric: 'eventPayouts',\r\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\r\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst resolvedPromises = await Promise.all(promises)\r\n\t\t\t\tlet impressions = []\r\n\t\t\t\tlet payouts = []\r\n\t\t\t\tfor (let i = 0; i < resolvedPromises.length; i += 2) {\r\n\t\t\t\t\timpressions = [...impressions, ...resolvedPromises[i].aggr]\r\n\t\t\t\t\tpayouts = [...payouts, ...resolvedPromises[i + 1].aggr]\r\n\t\t\t\t}\r\n\t\t\t\tconst result = {}\r\n\t\t\t\t// add wanted dates\r\n\t\t\t\tconst getMonthTimeStamp = date => +moment(date).startOf('month')\r\n\t\t\t\tmonthsNeeded.forEach(date => {\r\n\t\t\t\t\tconst month = getMonthTimeStamp(date)\r\n\t\t\t\t\tif (!result[month]) {\r\n\t\t\t\t\t\tresult[month] = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\timpressions.forEach((item, i) => {\r\n\t\t\t\t\tconst month = getMonthTimeStamp(item.time)\r\n\t\t\t\t\tif (result[month]) {\r\n\t\t\t\t\t\tresult[month][item.time] = {\r\n\t\t\t\t\t\t\timpressions: item.value,\r\n\t\t\t\t\t\t\tpayouts: payouts[i].value,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: types.UPDATE_PUBLISHER_RECEIPTS,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t...result,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, false)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ANALYTICS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsLastChecked() {\r\n\treturn async function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ANALYTICS_LAST_CHECKED,\r\n\t\t\tvalue: new Date(),\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateSlotsDemand = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\r\n\t\t\t\tvalue: demandAnalytics,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateTargetingData = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\ttargetingData,\r\n\t\t\t\tminByCategory,\r\n\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t} = await getTargetingData()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_TARGETING_ANALYTICS,\r\n\t\t\t\tvalue: { targetingData, minByCategory, countryTiersCoefficients },\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_TARGETING_DATA_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_TARGETING_DATA_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateSlotsDemandThrottled = () => dispatch => {\r\n\treturn updateSlotsDemand(dispatch)\r\n}\r\n\r\nexport const updateTargetingDataThrottled = () => dispatch => {\r\n\treturn updateTargetingData(dispatch)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport {\r\n\tgetRelayerConfigData,\r\n\tgetQuickWallet,\r\n\tbackupWallet,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { updateSpinner, updateGlobalUi } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tremoveLegacyKey,\r\n\tgetWalletHash,\r\n\tgenerateSalt,\r\n\tgetRecoveryWalletData,\r\n} from 'services/wallet/wallet'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport {\r\n\tgetAccountStats,\r\n\tgetOutstandingBalance,\r\n} from 'services/smart-contracts/actions/stats'\r\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\r\nimport {\r\n\taddToast,\r\n\tconfirmAction,\r\n\tupdateMemoryUi,\r\n\tupdateInitialDataLoaded,\r\n} from './uiActions'\r\nimport { getAllItems } from './itemActions'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tupdateTargetingDataThrottled,\r\n} from './analyticsActions'\r\nimport {\r\n\tgetEthereumProviderName,\r\n\tethereumNetworkId,\r\n\tgetMetamaskSelectedAddress,\r\n} from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\r\nimport {\r\n\tselectAccount,\r\n\tselectIdentity,\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectSearchParams,\r\n\tselectAuthType,\r\n\tselectAccountIdentity,\r\n\tselectLoginDirectSide,\r\n\tselectUserLastSide,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { push } from 'connected-react-router'\r\nimport {\r\n\tCREATING_SESSION,\r\n\tQUICK_WALLET_BACKUP,\r\n\tUPDATING_ACCOUNT_IDENTITY,\r\n\tSYNC_WEB3_DATA,\r\n} from 'constants/spinners'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tadvancedAnalyticsLoop,\r\n} from 'services/store-data/analytics'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta,\r\n\t\t\tnewValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithBalanceAll(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithBalanceAll() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithOutstandingBalance(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithOutstandingBalance() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// getIdentityStatistics tooks to long some times\r\n// if the account is change we do not update the account\r\n// TODO: we can use something for abortable tasks\r\nexport function isAccountChanged(getState, account) {\r\n\tconst hasAuth = selectAuth(getState())\r\n\tconst accountCheck = selectAccount(getState())\r\n\tconst accountChanged =\r\n\t\t!hasAuth ||\r\n\t\t!accountCheck.wallet.address ||\r\n\t\taccountCheck.wallet.address !== account.wallet.address ||\r\n\t\t!accountCheck.identity.address ||\r\n\t\t!accountCheck.identity.address !== !account.identity.address\r\n\r\n\treturn accountChanged\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tconst { identity } = account\r\n\t\t\tconst { address } = identity\r\n\t\t\tconst {\r\n\t\t\t\tall,\r\n\t\t\t\twithOutstandingBalance,\r\n\t\t\t\twithOutstandingBalanceAll,\r\n\t\t\t} = await getChannelsWithOutstanding({\r\n\t\t\t\tidentityAddr: address,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tupdateChannelsWithBalanceAll(all)(dispatch)\r\n\t\t\t\tupdateInitialDataLoaded('allChannels', true)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\r\n\t\t\t\twithBalance: withOutstandingBalance,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst outstandingBalanceAllMainToken = await getOutstandingBalance({\r\n\t\t\t\twithBalance: withOutstandingBalanceAll,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES_ALL', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst { formatted, raw } = await getAccountStats({\r\n\t\t\t\taccount,\r\n\t\t\t\toutstandingBalanceMainToken,\r\n\t\t\t\toutstandingBalanceAllMainToken,\r\n\t\t\t\tall,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tawait updateAccount({\r\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountIdentityData(onDataUpdated) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t\tconst identity = selectAccountIdentity(getState())\r\n\r\n\t\ttry {\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identity.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst updatedIdentity = { ...identity }\r\n\r\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\r\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\r\n\t\t\tupdatedIdentity.relayerData = relayerData\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { identity: updatedIdentity },\r\n\t\t\t})(dispatch)\r\n\t\t\tif (typeof onDataUpdated === 'function') {\r\n\t\t\t\tonDataUpdated()\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidatorAuthTokens({ newAuth }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\r\n\t\tconst newIdentity = { ...identity }\r\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\r\n\r\n\t\t// We don't want to update account if there is no actual change\r\n\t\tif (\r\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\r\n\t\t\tJSON.stringify(newTokens)\r\n\t\t) {\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({\r\n\twallet,\r\n\tidentity = {},\r\n\temail,\r\n\tdeleteLegacyKey,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst account = {\r\n\t\t\t\temail: email,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\tidentity: { ...identity },\r\n\t\t\t}\r\n\r\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taccount.identity.validatorAuthTokens = {\r\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\r\n\t\t\t}\r\n\r\n\t\t\tawait updateAccount({\r\n\t\t\t\tnewValues: { ...account },\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (deleteLegacyKey) {\r\n\t\t\t\tawait removeLegacyKey({\r\n\t\t\t\t\temail: wallet.email,\r\n\t\t\t\t\tpassword: wallet.password,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst redirectSide = selectLoginDirectSide(getState())\r\n\t\t\tawait updateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\r\n\t\t\t// getState() - after account is updated\r\n\t\t\tconst persistUserSide = selectUserLastSide(getState())\r\n\r\n\t\t\tconst { userSide } = (identity.relayerData || {}).meta || {}\r\n\r\n\t\t\tconst side = persistUserSide || userSide || redirectSide\r\n\r\n\t\t\tconst goTo = ['advertiser', 'publisher'].includes(side)\r\n\t\t\t\t? side\r\n\t\t\t\t: 'advertiser'\r\n\r\n\t\t\tdispatch(push(`/dashboard/${goTo}`))\r\n\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\r\n\r\n\t\t\t// dispatch(push('/side-select'))\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await getRelayerConfigData()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function isMetamaskMatters(getState) {\r\n\tconst state = getState()\r\n\tconst searchParams = selectSearchParams(state)\r\n\tconst authType = selectAuthType(state)\r\n\r\n\tconst doesItMatter =\r\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\r\n\t\t(!authType &&\r\n\t\t\tsearchParams.get('external') === 'metamask' &&\r\n\t\t\t(await getEthereumProviderName()) === AUTH_TYPES.METAMASK.name)\r\n\r\n\treturn doesItMatter\r\n}\r\n\r\nexport function onMetamaskNetworkChange({ id } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (\r\n\t\t\t(await isMetamaskMatters(getState)) &&\r\n\t\t\tprocess.env.NODE_ENV !== (ETHEREUM_NETWORKS[id] || {}).for\r\n\t\t) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const onMetamaskAccountChange = (accountAddress = '') => {\r\n\treturn async function(_, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { authType, address = '' } = account.wallet\r\n\r\n\t\tif (\r\n\t\t\thasAuth &&\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\r\n\t\t\t(!accountAddress ||\r\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\r\n\t\t) {\r\n\t\t\tlogOut()\r\n\t\t} else if (!hasAuth) {\r\n\t\t\tconst identity = selectIdentity(state)\r\n\t\t\tconst { identityContractOwner } = identity\r\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskAccountCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst isMatters = await isMetamaskMatters(getState)\r\n\t\tif (isMatters) {\r\n\t\t\tconst selectedAddress = await getMetamaskSelectedAddress()\r\n\t\t\tonMetamaskAccountChange(selectedAddress)(_, getState)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskNetworkCheck() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst id = await ethereumNetworkId()\r\n\t\tonMetamaskNetworkChange({ id })(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskChecks() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tmetamaskNetworkCheck()(dispatch, getState)\r\n\t\tmetamaskAccountCheck()(dispatch, getState)\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tonMetamaskAccountChange(accounts[0])(dispatch, getState)\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('chainChanged', chainId => {\r\n\t\t\t\tconsole.log('chainChanged', chainId)\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nasync function hasBackup({ email, password }) {\r\n\tconst salt = generateSalt(email)\r\n\tconst hash = await getWalletHash({ salt, password })\r\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\r\n\r\n\treturn !!encryptedWallet && encryptedWallet.wallet\r\n}\r\n\r\nasync function makeBackup({ email, password, authType }) {\r\n\tconst walletSalt = generateSalt(email)\r\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\r\n\tconst encryptedWallet = await getRecoveryWalletData({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tauthType,\r\n\t})\r\n\r\n\tawait backupWallet({\r\n\t\temail,\r\n\t\tsalt: walletSalt,\r\n\t\thash: walletHash,\r\n\t\tencryptedWallet,\r\n\t})\r\n}\r\n\r\nexport function ensureQuickWalletBackup() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { email, password, authType } = selectWallet(getState())\r\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\r\n\r\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\r\n\t\t\t\tawait makeBackup({ email, password, authType })\r\n\t\t\t}\r\n\t\t} catch (err) {}\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function loadAccountData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\t\tconst account = selectAccount(getState())\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await updateAccountIdentityData(() =>\r\n\t\t\t\tupdateInitialDataLoaded('accountIdentityData', true)(dispatch, getState)\r\n\t\t\t)(dispatch, getState))\r\n\r\n\t\tconst items = await getAllItems(() =>\r\n\t\t\tupdateInitialDataLoaded('allItems', true)(dispatch, getState)\r\n\t\t)(dispatch, getState)\r\n\r\n\t\tconst advancedAnalytics = advancedAnalyticsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('advancedAnalytics', true)(dispatch, getState)\r\n\t\t)\r\n\t\tconst campaigns = campaignsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('campaigns', true)(dispatch, getState)\r\n\t\t)\r\n\t\tconst demand = updateSlotsDemandThrottled()(dispatch, getState)\r\n\t\tconst targetingData = updateTargetingDataThrottled()(dispatch, getState)\r\n\r\n\t\tawait Promise.all[\r\n\t\t\t(items, advancedAnalytics, campaigns, demand, targetingData)\r\n\t\t]\r\n\r\n\t\tawait statsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('stats', true)(dispatch, getState)\r\n\t\t)\r\n\r\n\t\tupdateMemoryUi('initialDataLoaded', true)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function stopAccountDataUpdate() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\t\tanalyticsLoop.stop()\r\n\t\tadvancedAnalyticsLoop.stop()\r\n\t\tcampaignsLoop.stop()\r\n\t\tstatsLoop.stop()\r\n\t}\r\n}\r\n\r\n// NOTE: Need to be executed before each provider write action\r\nexport function beforeWeb3(validateId = '') {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(SYNC_WEB3_DATA + validateId, true)(dispatch)\r\n\t\tawait getRelayerConfig()(dispatch, getState)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\t\t// NOTE: the stats are updated on 60 seconds and there is no need to update them\r\n\t\t// as it took too long time\r\n\t\t// await updateAccountStats()(dispatch, getState)\r\n\r\n\t\tawait new Promise(resolve => setTimeout(resolve, 300))\r\n\t\tawait updateSpinner(SYNC_WEB3_DATA + validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { getQuickWallet } from 'services/adex-relayer/actions'\r\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\r\nimport {\r\n\tgetOwnerIdentities,\r\n\tregAccount,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { createSession } from './accountActions'\r\nimport { getIdentityDeployData } from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddDataToWallet,\r\n\tgetWalletHash,\r\n\tgetLocalWallet,\r\n\tmigrateLegacyWallet,\r\n\twalletInfo,\r\n\tcreateLocalWallet,\r\n\tgenerateSalt,\r\n} from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\nimport {\r\n\tselectLoginSelectedIdentity,\r\n\tselectIdentity,\r\n\tselectAuthType,\r\n\tt,\r\n} from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport {\r\n\tvalidate,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tvalidateTOS,\r\n\tvalidateWallet,\r\n\tvalidateIdentityContractOwner,\r\n\tvalidateAccessWarning,\r\n\tvalidateKnowFrom,\r\n\tvalidateUserSide,\r\n\tvalidateMoreInfo,\r\n} from './validationActions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tGETTING_OWNER_IDENTITIES,\r\n\tUPLOADING_ACCOUNT_DATA,\r\n\tCHECKING_METAMASK_AUTH,\r\n\tAUTH_WAITING_TREZOR_ACTION,\r\n\tAUTH_WAITING_ADDRESS_DATA,\r\n} from 'constants/spinners'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function initIdentity({ email, authType }) {\r\n\treturn function(dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'email',\r\n\t\t\tvalue: email,\r\n\t\t})\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'authType',\r\n\t\t\tvalue: authType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(t('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: t('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = err => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(err)\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(t('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function updateOwnerIdentities({ owner }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tconst loginSelectedIdentity = selectLoginSelectedIdentity(getState())\r\n\t\t\tconst data = Object.entries(identityData)\r\n\t\t\t\t.filter(\r\n\t\t\t\t\tx =>\r\n\t\t\t\t\t\t!!x &&\r\n\t\t\t\t\t\t!!x[0] &&\r\n\t\t\t\t\t\t(!!loginSelectedIdentity\r\n\t\t\t\t\t\t\t? x[0].toLowerCase() === loginSelectedIdentity.toLowerCase()\r\n\t\t\t\t\t\t\t: true)\r\n\t\t\t\t)\r\n\t\t\t\t.map(async ([identityAddr, privLevel]) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tidentity: identityAddr,\r\n\t\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\t\tens,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\r\n\r\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_OWNER_IDENTITIES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function login() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tknowFrom,\r\n\t\t\t\tuserSide,\r\n\t\t\t\tmoreInfo,\r\n\t\t\t\tidentityData,\r\n\t\t\t\tidentityTxData,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\tregisterAccount,\r\n\t\t\t} = selectIdentity(getState())\r\n\r\n\t\t\tif (registerAccount) {\r\n\t\t\t\tawait regAccount({\r\n\t\t\t\t\towner: wallet.address,\r\n\t\t\t\t\temail: email.toLowerCase(),\r\n\t\t\t\t\tknowFrom,\r\n\t\t\t\t\tuserSide,\r\n\t\t\t\t\tmoreInfo,\r\n\t\t\t\t\t...identityTxData,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identityData.address,\r\n\t\t\t\t})) || {}\r\n\t\t\tconst identity = {\r\n\t\t\t\t...identityData,\r\n\t\t\t\taddress: relayerData.deployData._id,\r\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\r\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\r\n\t\t\t\trelayerData,\r\n\t\t\t}\r\n\t\t\tif (identity.currentPrivileges[wallet.address] > 0) {\r\n\t\t\t\tawait createSession({\r\n\t\t\t\t\tidentity,\r\n\t\t\t\t\twallet,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\t})(dispatch, getState)\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ACCOUNT_NONE_PRIVILEGES'),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_LOGIN', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateQuickLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { password, email, authType } = identity\r\n\r\n\t\tlet wallet = {}\r\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\r\n\t\tlet actualAuthType = authType\r\n\r\n\t\ttry {\r\n\t\t\tif (email && password) {\r\n\t\t\t\tlet walletData = await getLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (!walletData) {\r\n\t\t\t\t\tconst salt = generateSalt(email)\r\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\r\n\t\t\t\t\tconst { encryptedWallet } =\r\n\t\t\t\t\t\t(await getQuickWallet({\r\n\t\t\t\t\t\t\thash,\r\n\t\t\t\t\t\t})) || {}\r\n\r\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tbackupWallet.wallet &&\r\n\t\t\t\t\t\tbackupWallet.key &&\r\n\t\t\t\t\t\tbackupWallet.wallet.data &&\r\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\r\n\t\t\t\t\t\tbackupWallet.wallet.privileges\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\r\n\t\t\t\t\t\tactualAuthType = info.authType\r\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\r\n\r\n\t\t\t\t\t\twalletData = await getLocalWallet({\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\r\n\t\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\t\twallet.email = email\r\n\t\t\t\t\twallet.password = password\r\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\r\n\t\t\t\t\twallet.identity = {\r\n\t\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!authType) {\r\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\r\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\r\n\t\t\terror = err\r\n\t\t}\r\n\r\n\t\tconst isValid = !!wallet.address\r\n\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait login()(dispatch, getState)\r\n\t\t}\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateStandardLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identity = selectIdentity(getState())\r\n\t\t\tconst { wallet, identityContractAddress } = identity\r\n\t\t\tconst { address } = wallet\r\n\r\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\t\tconst identityData = {\r\n\t\t\t\taddress: identityDataSplit[0],\r\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\tconst isValid = !!identityData.address\r\n\r\n\t\t\tvalidate(validateId, 'identityContractAddress', {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_STANDARD_LOGIN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, wallet } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\r\n\t\t\tif (!identityAddr && wallet && !!email) {\r\n\t\t\t\tconst walletAddr = wallet.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: txData.identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_FULL_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickDeploy({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, password } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && email && password\r\n\r\n\t\t\tif (!identityAddr && email && password) {\r\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\r\n\r\n\t\t\t\tconst walletData = await createLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\twalletData.email = email\r\n\t\t\t\twalletData.password = password\r\n\r\n\t\t\t\tconst walletAddr = walletData.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\r\n\t\t\t\tconst identityAddr = txData.identityAddr\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityAddr,\r\n\t\t\t\t})\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = !!identityAddr\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_QUICK_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\ttosCheck,\r\n\t\t\tknowFrom,\r\n\t\t\tuserSide,\r\n\t\t\tmoreInfo,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\r\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\r\n\t\t\tvalidateUserSide(validateId, userSide, dirty)(dispatch),\r\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\twallet,\r\n\t\t\tidentityContractOwner,\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\ttosCheck,\r\n\t\t\tknowFrom,\r\n\t\t\tuserSide,\r\n\t\t\tmoreInfo,\r\n\t\t\taccessWarningCheck,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t// validate wallet again in case of step skip\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\r\n\t\t\t// validate step fields\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\r\n\t\t\tvalidateUserSide(validateId, userSide, dirty)(dispatch),\r\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateFullDeploy({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tskipSpinnerUpdate: true,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateContractOwner({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityContractOwner, wallet } = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityWallet({\r\n\taddress,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\thdWalletAddrIdx,\r\n\tpath,\r\n\tchainId,\r\n\tsignType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst wallet = {\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}\r\n\r\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\r\n\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handleSignupLink(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('signup-email')\r\n\r\n\t\tif (email) {\r\n\t\t\tupdateIdentity('email', email)(dispatch)\r\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resolveEnsAddress({ address }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst name = await provider.lookupAddress(address)\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\r\n\t\t\t\titem: address,\r\n\t\t\t\tvalue: name,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_RESOLVING_ENS_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function checkAuthMetamask() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType,\r\n\t\t\t}\r\n\r\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\taddress: { address },\r\n\t\t\t\tgetFullBalances: true,\r\n\t\t\t})\r\n\r\n\t\t\tupdateIdentity('stats', stats)(dispatch, getState)\r\n\r\n\t\t\tupdateIdentityWallet({\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_AUTH_METAMASK', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function connectTrezor() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t}\r\n\r\n\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\tconst { payload, success } = await trezorSigner.getAddresses({\r\n\t\t\t\tfrom: 0,\r\n\t\t\t\tto: 19,\r\n\t\t\t})\r\n\r\n\t\t\tif (success && !payload.error) {\r\n\t\t\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\r\n\r\n\t\t\t\tconst allAddressesData = payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\tupdateIdentity('addresses', results)(dispatch, getState)\r\n\t\t\t\tupdateIdentity('hdWalletAddrPath', trezorSigner.path)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t} else throw new Error(payload.error || 'TREZOR_ERR')\r\n\r\n\t\t\tupdateSpinner('AUTH_WAITING_ADDRESS_DATA', false)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_AUTH_TREZOR', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\r\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function selectWalletAddress({\r\n\taddrData,\r\n\thdWalletAddrIdx,\r\n\thdWalletAddrPath,\r\n\tsignType,\r\n\tauthType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { address, path } = addrData\r\n\r\n\t\tupdateIdentityWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\tsignType,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nexport const getGasPrice = async (format = 'wei') => {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst gasPrice = await provider.getGasPrice()\r\n\treturn utils.formatUnits(gasPrice.toNumber(), format)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateEthAddress,\r\n\tvalidatePrivilegesAddress,\r\n\tvalidatePrivLevel,\r\n\tvalidateWithdrawAmount,\r\n\taddToast,\r\n\tvalidateFees,\r\n\tvalidateENS,\r\n\tvalidateNumberString,\r\n\tbeforeWeb3,\r\n} from 'actions'\r\nimport {\r\n\tselectNewTransactionById,\r\n\tselectWalletAddress,\r\n\tselectAuthType,\r\n\tselectAccount,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountStatsRaw,\r\n\tselectMainToken,\r\n\tselectGasPriceCap,\r\n\tt,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getGasPrice } from 'services/gas/actions'\r\nimport { utils } from 'ethers'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n\taddIdentityENS,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { validate } from './validationActions'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewTransaction() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function checkNetworkCongestion(showToast) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst gasPriceCap = selectGasPriceCap(state)\r\n\t\tconst gasPriceCapGwei = utils.formatUnits(gasPriceCap, 'gwei')\r\n\t\tconst gasPrice = await getGasPrice('gwei')\r\n\t\tif (+gasPriceCapGwei < +gasPrice) {\r\n\t\t\tif (showToast) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tlabel: t('WARNING_NETWORK_CONGESTED'),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\treturn t('WARNING_NETWORK_CONGESTED')\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction handleFeesData({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tactionName,\r\n\tfeeDataAction,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst feesData = await feeDataAction()\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'feesData',\r\n\t\t\t\tvalue: feesData,\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tisValid = await validateFees({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount || '0',\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(actionName, err)\r\n\r\n\t\t\tisValid = false\r\n\t\t\tawait validate(validateId, 'fees', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: getErrorMsg(err) },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\ttxId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: setAddr,\r\n\t\t\t\tprop: 'setAddr',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidatePrivLevel({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst validation = await validatePrivilegesAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\twalletAddr,\r\n\t\t\t\twarningAccepted,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t\tauthType,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tisValid = validation.isValid\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'warningMsg',\r\n\t\t\t\tvalue: validation.msg,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validatePrivilegesChange',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\tsetIdentityPrivilege({\r\n\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\tsetAddr,\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdraw({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\r\n\t\t// const walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateWithdrawAmount({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validateIdentityWithdraw',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\twithdrawFromIdentity({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdrawAny({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst {\r\n\t\t\tamountToWithdraw,\r\n\t\t\twithdrawTo,\r\n\t\t\ttokenAddress,\r\n\t\t\ttokenDecimals,\r\n\t\t} = selectNewTransactionById(state, stepsId)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: tokenAddress,\r\n\t\t\t\tprop: 'tokenAddress',\r\n\t\t\t\tnonERC20: false,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'amountToWithdraw',\r\n\t\t\t\tvalue: amountToWithdraw,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'tokenDecimals',\r\n\t\t\t\tvalue: tokenDecimals,\r\n\t\t\t\tintegerOnly: true,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validateIdentityWithdrawAny',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\twithdrawOtherTokensFromIdentity({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\t\ttokenDecimals,\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function identityWithdrawAny({\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t\ttokenAddress,\r\n\t\t\t\ttokenDecimals,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateENSChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst { username } = selectNewTransactionById(state, stepsId)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateENS({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tusername,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validateENSChange',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\taddIdentityENS({\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function setIdentityENS({ username }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tawait addIdentityENS({\r\n\t\t\t\tusername,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('ENS_SETUP_NOTIFICATION', { args: [username] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_SETTING_ENS', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function completeTx({\r\n\tstepsId,\r\n\tcompeteAction,\r\n\tvalidateId,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateNewTransaction({\r\n\t\t\ttx: stepsId,\r\n\t\t\tkey: 'waitingForWalletAction',\r\n\t\t\tvalue: true,\r\n\t\t})(dispatch)\r\n\r\n\t\tlet isValid = false\r\n\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\r\n\t\t\tconst transaction = selectNewTransactionById(state, stepsId)\r\n\r\n\t\t\tawait competeAction({ ...transaction })(dispatch, getState)\r\n\t\t\tisValid = true\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_TRANSACTION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t\tawait updateNewTransaction({\r\n\t\t\ttx: stepsId,\r\n\t\t\tkey: 'waitingForWalletAction',\r\n\t\t\tvalue: false,\r\n\t\t})(dispatch)\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t// TODO: reset tx if OK\r\n\t}\r\n}\r\n","export const NEW_CAMPAIGN_UNITS = 'NEW_CAMPAIGN_UNITS'\r\nexport const NEW_CAMPAIGN_PREVIEW_UNITS = 'NEW_CAMPAIGN_PREVIEW_UNITS'\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport { selectNewItemByTypeAndId } from 'selectors'\r\nimport { Base, Models } from 'adex-models'\r\nimport {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tresetTableStateById,\r\n} from 'actions'\r\n\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel, itemId) {\r\n\tif (objModel) {\r\n\t\titem = Base.updateObject({ item, newValues, objModel })\r\n\t} else {\r\n\t\titem = {\r\n\t\t\t...item,\r\n\t\t\t...newValues,\r\n\t\t}\r\n\t}\r\n\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(itemType, itemId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: RESET_NEW_ITEM,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: RESET_ALL_NEW_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNewItemAction(type, prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst currentItem = selectNewItemByTypeAndId(state, type, itemId)\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentItem,\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\ttype,\r\n\t\t\tModels.itemClassByName[type],\r\n\t\t\titemId\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewSlot(prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('AdSlot', prop, value, newValues, itemId)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewUnit(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('AdUnit', prop, value, newValues)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewCampaign(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('Campaign', prop, value, newValues)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewAudience(prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('Audience', prop, value, newValues, itemId)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewWebsite(prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction('Website', prop, value, newValues, itemId)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateNewItemTarget({\r\n\tcollection,\r\n\titemType,\r\n\titemId,\r\n\ttarget = {},\r\n\tindex,\r\n\tremove,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { temp } = selectNewItemByTypeAndId(state, itemType, itemId)\r\n\t\t// We are keeping the state in temp because it dirty with extra data\r\n\t\tconst targets = [...(temp.targets || [])]\r\n\t\tconst hasIndex = Number.isInteger(index)\r\n\r\n\t\tif (hasIndex && !remove) {\r\n\t\t\t// NOTE: when updated with index target has only { target: { tag, score }}\r\n\t\t\ttargets[index] = { ...(targets[index] || {}), ...target }\r\n\t\t} else if (hasIndex && remove) {\r\n\t\t\ttargets.splice(index, 1)\r\n\t\t} else {\r\n\t\t\t// NOTE: when updated w/o index target has no key\r\n\t\t\ttargets.push({ ...target, key: targets.length })\r\n\t\t}\r\n\r\n\t\t// The actual targets added to the spec\r\n\t\tconst filtered = targets.filter(x => x.target.tag).map(x => x.target)\r\n\r\n\t\tconst newValues = {\r\n\t\t\t[collection]: filtered,\r\n\t\t\ttemp: { ...temp, targets },\r\n\t\t}\r\n\r\n\t\tawait updateNewItemAction(itemType, null, null, newValues, itemId)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateTargetRuleInput({\r\n\tparameter,\r\n\titemType,\r\n\titemId,\r\n\ttarget = {},\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectNewItemByTypeAndId(state, itemType, itemId)\r\n\t\tconst isAudience = itemType === 'Audience'\r\n\r\n\t\tconst newValues = { ...item }\r\n\r\n\t\tconst newInputs = {\r\n\t\t\t...(isAudience ? newValues.inputs : newValues.audienceInput.inputs),\r\n\t\t}\r\n\r\n\t\tnewInputs[parameter] = { ...target }\r\n\r\n\t\tif (isAudience) {\r\n\t\t\tnewValues.inputs = newInputs\r\n\t\t} else {\r\n\t\t\tnewValues.audienceInput = {\r\n\t\t\t\tversion: newValues.audienceInput.version || '1',\r\n\t\t\t\t...newValues.audienceInput,\r\n\t\t\t\tinputs: newInputs,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait updateNewItemAction(itemType, null, null, newValues, itemId)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function completeItem({\r\n\titemType,\r\n\tcompeteAction,\r\n\tvalidateId,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tif (competeAction) {\r\n\t\t\t\tawait competeAction()(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tisValid = true\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ITEM', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tif (isValid) {\r\n\t\t\tresetNewItem(itemType)(dispatch)\r\n\t\t\tif (itemType === 'Campaign') {\r\n\t\t\t\tresetTableStateById(NEW_CAMPAIGN_UNITS)(dispatch, getState)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport { addToast, updateSpinner } from 'actions'\r\nimport { postAudience, putAudience } from 'services/adex-market/actions'\r\n\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectNewAudience,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAudienceById,\r\n} from 'selectors'\r\nimport {\r\n\tvalidateSchemaProp,\r\n\thandleAfterValidation,\r\n\tvalidateAudience,\r\n\tupdateNewItem,\r\n} from 'actions'\r\nimport { Audience, schemas } from 'adex-models'\r\n\r\nconst { audiencePost, audiencePut } = schemas\r\n\r\nexport function updateAudienceInput({\r\n\tupdateField,\r\n\titemId,\r\n\tonValid,\r\n\tvalidateId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { inputs } = selectNewItemByTypeAndId(state, 'Audience', itemId)\r\n\r\n\t\tconst isValid = await validateAudience({\r\n\t\t\tvalidateId,\r\n\t\t\tinputs,\r\n\t\t\tdirty: true,\r\n\t\t\tpropName: 'inputs',\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait updateField('inputs', inputs)\r\n\t\t\tonValid()\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateAudience({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\tupdate,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { id, title, version, inputs } = item\r\n\r\n\t\t\tconst audience = new Audience(item).marketUpdate\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: audiencePut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: version,\r\n\t\t\t\t\tprop: 'version',\r\n\t\t\t\t\tschema: audiencePut.version,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateAudience({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tinputs,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tpropName: 'inputs',\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: audience,\r\n\t\t\t\t\tprop: 'audience',\r\n\t\t\t\t\tschema: audiencePut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedAudience = (await putAudience({\r\n\t\t\t\t\taudience,\r\n\t\t\t\t\tid,\r\n\t\t\t\t})).audience\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new Audience(updatedAudience).plainObj(),\r\n\t\t\t\t\titemType: 'Audience',\r\n\t\t\t\t})\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['AUDIENCE', updatedAudience.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t} else if (!isValid && update) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['AUDIENCE', getErrorMsg('INVALID_DATA')],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewAudience({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectAudienceById(state, itemId)\r\n\t\tconst audience = selectNewItemByTypeAndId(state, 'Audience', itemId)\r\n\r\n\t\tconst inputs = dirtyProps.includes('inputs') ? audience.inputs : item.inputs\r\n\r\n\t\tupdateNewItem(\r\n\t\t\titem,\r\n\t\t\t{ inputs: { ...inputs } },\r\n\t\t\t'Audience',\r\n\t\t\tAudience,\r\n\t\t\titem.id\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function saveAudience({ audienceInput, campaignId } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst newAudience = { ...(audienceInput || selectNewAudience(state)) }\r\n\t\t\tnewAudience.campaignId = campaignId || null\r\n\t\t\tif (campaignId) {\r\n\t\t\t\tnewAudience.title = null\r\n\t\t\t}\r\n\r\n\t\t\tconst audience = new Audience({\r\n\t\t\t\t...newAudience,\r\n\t\t\t}).marketAdd\r\n\r\n\t\t\tconst resItem = await postAudience({\r\n\t\t\t\taudience,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: resItem,\r\n\t\t\t\titemType: 'Audience',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\tlabel: t('AUDIENCE_SAVED', {\r\n\t\t\t\t\targs: [newAudience.title || campaignId],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_AUDIENCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tlabel: t('ERR_CREATING_AUDIENCE', {\r\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAudienceBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst audience = selectNewAudience(state)\r\n\t\t\tconst { title, version } = audience\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: audiencePost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: version,\r\n\t\t\t\t\tprop: 'version',\r\n\t\t\t\t\tschema: audiencePost.version,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tisValid = validations.every(v => v === true)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateAudienceInput({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { inputs = {} } = selectNewAudience(state)\r\n\r\n\t\t\tconst isValid = await validateAudience({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tinputs,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'inputs',\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('err', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({ targetUrl, campaign, content, src }) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\t\t\tif (campaign) {\r\n\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t}\r\n\t\t\tif (content) {\r\n\t\t\t\tquery['utm_content'] = content\r\n\t\t\t}\r\n\t\t\tif (src) {\r\n\t\t\t\tquery['utm_source'] = src\r\n\t\t\t}\r\n\t\t\tURL.query = query\r\n\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport {\r\n\texecute,\r\n\taddToast,\r\n\tupdateSpinner,\r\n\tupdateItems,\r\n\tupdateValidatorAuthTokens,\r\n\tupdateNewCampaign,\r\n\thandleAfterValidation,\r\n\tvalidateCampaignValidators,\r\n\tvalidateCampaignAmount,\r\n\tvalidateCampaignTitle,\r\n\tvalidateCampaignDates,\r\n\tvalidateCampaignUnits,\r\n\tvalidateSchemaProp,\r\n\tvalidateAudience,\r\n\tconfirmAction,\r\n\tupdateSelectedItems,\r\n\tsaveAudience,\r\n\tupdateNewItem,\r\n\tbeforeWeb3,\r\n} from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { schemas, Campaign, helpers } from 'adex-models'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport {\r\n\tlastApprovedState,\r\n\tupdateTargeting,\r\n} from 'services/adex-validator/actions'\r\nimport {\r\n\tcloseCampaignMarket,\r\n\tupdateCampaign,\r\n\tgetCampaigns,\r\n} from 'services/adex-market/actions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectAccount,\r\n\tselectNewCampaign,\r\n\tselectCampaignById,\r\n\tselectAuthSig,\r\n\tselectAuth,\r\n\tselectMainToken,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAudienceByCampaignId,\r\n\tselectTargetingAnalytics,\r\n\tselectTargetingAnalyticsMinByCategories,\r\n\tselectTargetingAnalyticsCountryTiersCoefficients,\r\n\tselectInitialDataLoadedByData,\r\n\tselectCampaigns,\r\n\tselectRoutineWithdrawTokenByAddress,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tOPENING_CAMPAIGN,\r\n\tGETTING_CAMPAIGNS_FEES,\r\n\tPRINTING_CAMPAIGNS_RECEIPTS,\r\n} from 'constants/spinners'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\n\r\nconst {\r\n\taudienceInputToTargetingRules,\r\n\tgetSuggestedPricingBounds,\r\n\tuserInputPricingBoundsPerMileToRulesValue,\r\n\tpricingBondsToUserInputPerMile,\r\n\tbondPerActionToUserInputPerMileValue,\r\n} = helpers\r\n\r\nconst { campaignPut } = schemas\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\r\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\r\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\r\n\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\r\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\r\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\r\n\r\n// updatedCampaign updated campaign class instance\r\nfunction updateCampaignOnMarket({ updated, toastLabel, toastArgs, toastType }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst updatedCampaign = (await updateCampaign({\r\n\t\t\tcampaign: updated.marketUpdate,\r\n\t\t\tid: updated.id,\r\n\t\t})).campaign\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_ITEM,\r\n\t\t\titem: new Campaign({\r\n\t\t\t\t...updatedCampaign.spec,\r\n\t\t\t\t...updatedCampaign,\r\n\t\t\t}).plainObj(),\r\n\t\t\titemType: 'Campaign',\r\n\t\t})\r\n\t\taddToast({\r\n\t\t\ttype: toastType || 'success',\r\n\t\t\tlabel: t(toastLabel, {\r\n\t\t\t\targs: toastArgs || ['CAMPAIGN', updatedCampaign.title],\r\n\t\t\t}),\r\n\t\t\ttimeout: 50000,\r\n\t\t})(dispatch)\r\n\r\n\t\t// Make sure to update tables\r\n\t\tawait updateUserCampaigns({ updateAllData: true })(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function openCampaign() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst selectedCampaign = selectNewCampaign(state)\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t// save it in audienceInput as it is not spec prop\r\n\t\t\t// and saving/parsinf form targeting rules is harder\r\n\t\t\tconst campaign = {\r\n\t\t\t\t...selectedCampaign,\r\n\t\t\t\taudienceInput: {\r\n\t\t\t\t\t...selectedCampaign.audienceInput,\r\n\t\t\t\t\tpricingBoundsCPMUserInput: {\r\n\t\t\t\t\t\t...selectedCampaign.pricingBoundsCPMUserInput,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\tif (campaign.temp.useUtmTags) {\r\n\t\t\t\tcampaign.adUnits = [...campaign.adUnits].map((unit, index) => ({\r\n\t\t\t\t\t...unit,\r\n\t\t\t\t\ttargetUrl: addUrlUtmTracking({\r\n\t\t\t\t\t\ttargetUrl: unit.targetUrl,\r\n\t\t\t\t\t\tcampaign: campaign.title,\r\n\t\t\t\t\t\tcontent: `${index + 1}_${unit.type}`,\r\n\t\t\t\t\t\t...(campaign.temp.useUtmSrcWithPub\r\n\t\t\t\t\t\t\t? { src: 'adex_PUBHOSTNAME' }\r\n\t\t\t\t\t\t\t: {}),\r\n\t\t\t\t\t}),\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\r\n\t\t\tawait getAllValidatorsAuthForIdentity({\r\n\t\t\t\twithBalance: [{ channel: campaign }],\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tconst { storeCampaign } = await openChannel({\r\n\t\t\t\tcampaign,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tawait saveAudience({\r\n\t\t\t\tcampaignId: storeCampaign.id,\r\n\t\t\t\taudienceInput: campaign.audienceInput,\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new Campaign({\r\n\t\t\t\t\t...storeCampaign.spec,\r\n\t\t\t\t\t...storeCampaign,\r\n\t\t\t\t}).plainObj(),\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\r\n\t\t\t\t\targs: [storeCampaign.id],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t\t// TODO: Reset units tables states\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\r\n\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t}\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// TEMP for testing in production until 4.1 is deployed\r\nfunction getHumanFriendlyName(campaign) {\r\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\r\n\t\treturn 'Closed'\r\n\r\n\tconst isPaused =\r\n\t\t((campaign.targetingRules || [])[0] || {}).onlyShowIf === false\r\n\r\n\tlet status = 'N/A'\r\n\tswitch ((campaign.status || {}).name) {\r\n\t\tcase 'Pending':\r\n\t\t\tstatus = 'Pending'\r\n\t\t\tbreak\r\n\t\tcase 'Active':\r\n\t\tcase 'Ready':\r\n\t\tcase 'Initializing':\r\n\t\tcase 'Waiting':\r\n\t\tcase 'Offline':\r\n\t\tcase 'Disconnected':\r\n\t\tcase 'Unhealthy':\r\n\t\tcase 'Invalid':\r\n\t\t\tstatus = 'Active'\r\n\t\t\tbreak\r\n\t\tcase 'Expired':\r\n\t\tcase 'Exhausted':\r\n\t\tcase 'Withdraw':\r\n\t\t\tstatus = 'Completed'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tstatus = 'N/A'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\tif (status === 'Active' && isPaused) {\r\n\t\tstatus = 'Paused'\r\n\t}\r\n\r\n\treturn status\r\n}\r\n\r\nexport function updateCampaignAudienceInput({\r\n\tupdateField,\r\n\tfieldName,\r\n\titemId,\r\n\tvalidateId,\r\n\tonValid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { audienceInput } = selectNewItemByTypeAndId(\r\n\t\t\tstate,\r\n\t\t\t'Campaign',\r\n\t\t\titemId\r\n\t\t)\r\n\r\n\t\tconst isValid = await validateAudience({\r\n\t\t\tvalidateId,\r\n\t\t\tinputs: audienceInput.inputs,\r\n\t\t\tdirty: true,\r\n\t\t\tpropName: 'audienceInput',\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait updateField(\r\n\t\t\t\t'audienceInput',\r\n\t\t\t\taudienceInput,\r\n\t\t\t\tfieldName\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\tname: fieldName,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: null\r\n\t\t\t)\r\n\t\t\tonValid()\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewCampaignAudienceInput({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectCampaignById(state, itemId)\r\n\t\tconst campaign = selectNewItemByTypeAndId(state, 'Campaign', itemId)\r\n\t\tconst initialAudienceInput = selectAudienceByCampaignId(state, itemId)\r\n\t\tconst itemAudienceInput =\r\n\t\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\r\n\t\t\t\t? item.audienceInput\r\n\t\t\t\t: initialAudienceInput\r\n\r\n\t\tconst audienceInput = dirtyProps.some(p =>\r\n\t\t\t['audienceInput', 'campaignAdvanced'].includes(p.name || p)\r\n\t\t)\r\n\t\t\t? campaign.audienceInput\r\n\t\t\t: item.audienceInput || itemAudienceInput\r\n\r\n\t\tupdateNewItem(\r\n\t\t\titem,\r\n\t\t\t{ audienceInput: { ...audienceInput } },\r\n\t\t\t'Campaign',\r\n\t\t\tCampaign,\r\n\t\t\titem.id\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateUserCampaigns({ updateAllData = false } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst statusOnly =\r\n\t\t\t!!selectInitialDataLoadedByData(state, 'campaigns') && !updateAllData\r\n\t\tconst { identity } = selectAccount(state)\r\n\t\tconst { address } = identity\r\n\t\tconst stateCampaigns = selectCampaigns(state)\r\n\t\tconst { decimals } = selectMainToken(state)\r\n\r\n\t\tif (hasAuth && address) {\r\n\t\t\ttry {\r\n\t\t\t\tconst campaigns = await getCampaigns({\r\n\t\t\t\t\tall: true,\r\n\t\t\t\t\tstatusOnly,\r\n\t\t\t\t\tbyCreator: address,\r\n\t\t\t\t\tcacheBrake: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst campaignsMapped = campaigns\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\tc.id &&\r\n\t\t\t\t\t\t\tc.creator &&\r\n\t\t\t\t\t\t\tc.creator.toLowerCase() === address.toLowerCase() &&\r\n\t\t\t\t\t\t\t(statusOnly || c.spec)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => {\r\n\t\t\t\t\t\tconst campaign = statusOnly\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t...stateCampaigns[c.id],\r\n\t\t\t\t\t\t\t\t\t...{ status: c.status },\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t...c.spec,\r\n\t\t\t\t\t\t\t\t\t...c,\r\n\t\t\t\t\t\t\t\t\ttargetingRules: c.targetingRules || c.spec.targetingRules,\r\n\t\t\t\t\t\t\t\t\tspecPricingBounds: {\r\n\t\t\t\t\t\t\t\t\t\t...(c.spec.pricingBounds || {\r\n\t\t\t\t\t\t\t\t\t\t\tIMPRESSION: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin: c.spec.minPerImpression || c.minPerImpression,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax: c.spec.maxPerImpression || c.maxPerImpression,\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t  }\r\n\r\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\r\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!campaign.audienceInput) {\r\n\t\t\t\t\t\t\tcampaign.audienceInput = selectAudienceByCampaignId(state, c.id)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!campaign.pricingBoundsCPMUserInput) {\r\n\t\t\t\t\t\t\tcampaign.pricingBoundsCPMUserInput =\r\n\t\t\t\t\t\t\t\t(campaign.audienceInput || {}).pricingBoundsCPMUserInput ||\r\n\t\t\t\t\t\t\t\t(campaign.pricingBounds\r\n\t\t\t\t\t\t\t\t\t? pricingBondsToUserInputPerMile({\r\n\t\t\t\t\t\t\t\t\t\t\tpricingBounds: campaign.pricingBounds,\r\n\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t: null)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn campaign\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: campaignsMapped,\r\n\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\r\n\t\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.status = {\r\n\t\t\t\t...newCampaign.status,\r\n\t\t\t\thumanFriendlyName: 'Closed',\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t\tawait updateUserCampaigns({ updateAllData: true })(dispatch, getState)\r\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CLOSING_CAMPAIGN'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function pauseOrResumeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, true)(dispatch)\r\n\t\tlet action = 'PAUSING'\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst updated = new Campaign(campaign)\r\n\r\n\t\t\tconst currentTargetingRules = updated.targetingRules || []\r\n\t\t\tconst newRules = [...currentTargetingRules]\r\n\r\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\r\n\t\t\tif (isPaused) {\r\n\t\t\t\taction = 'RESUMING'\r\n\t\t\t\tnewRules.shift()\r\n\t\t\t} else {\r\n\t\t\t\tnewRules.unshift({ onlyShowIf: false })\r\n\t\t\t}\r\n\r\n\t\t\tupdated.targetingRules = newRules\r\n\r\n\t\t\tconst { authTokens } = await updateTargeting({\r\n\t\t\t\taccount,\r\n\t\t\t\tcampaign: updated,\r\n\t\t\t\ttargetingRules: newRules,\r\n\t\t\t})\r\n\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\r\n\t\t\tawait updateCampaignOnMarket({\r\n\t\t\t\tupdated,\r\n\t\t\t\ttoastLabel: `SUCCESS_${action}_CAMPAIGN`,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_${action}_CAMPAIGN`, err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t(`ERR_${action}_CAMPAIGN`, {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function excludeOrIncludeWebsites({\r\n\tcampaignId,\r\n\thostnames,\r\n\texclude,\r\n\taction,\r\n\tonSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectCampaignById(state, campaignId)\r\n\t\t\tconst targetingData = selectTargetingAnalytics(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst updated = new Campaign(campaign)\r\n\r\n\t\t\tconst currentTargetingRules = campaign.targetingRules || []\r\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\r\n\r\n\t\t\tconst campaignAudienceInput = selectAudienceByCampaignId(\r\n\t\t\t\tstate,\r\n\t\t\t\tcampaignId\r\n\t\t\t)\r\n\r\n\t\t\t// Add default value for legacy campaigns\r\n\t\t\tconst newAudienceInput = {\r\n\t\t\t\tversion: '1',\r\n\t\t\t\tinputs: { publishers: {} },\r\n\t\t\t\t...campaignAudienceInput,\r\n\t\t\t}\r\n\t\t\tnewAudienceInput.inputs = { ...newAudienceInput.inputs }\r\n\t\t\tnewAudienceInput.inputs.publishers = {\r\n\t\t\t\t...newAudienceInput.inputs.publishers,\r\n\t\t\t}\r\n\r\n\t\t\tconst { inputs = {} } = newAudienceInput\r\n\t\t\tconst { publishers = {} } = inputs\r\n\r\n\t\t\t// exclude\r\n\t\t\tif (exclude && publishers.apply && publishers.apply === 'in') {\r\n\t\t\t\tconst newIn = [...(publishers.in || [])].filter(value => {\r\n\t\t\t\t\tconst { hostname } = JSON.parse(value)\r\n\t\t\t\t\treturn !hostnames.includes(hostname)\r\n\t\t\t\t})\r\n\t\t\t\tnewAudienceInput.inputs.publishers.in = newIn\r\n\t\t\t}\r\n\t\t\t// include\r\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'in') {\r\n\t\t\t\tconst newIn = [...hostnames]\r\n\t\t\t\t\t// Filter already included\r\n\t\t\t\t\t.filter(h => [...(publishers.in || [])].some(x => x.includes(h)))\r\n\t\t\t\t\t.map(hostname =>\r\n\t\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\t\tpublisher: (\r\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\r\n\t\t\t\t\t\t\t).owner,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\tnewAudienceInput.inputs.publishers.in = (publishers.in || []).concat(\r\n\t\t\t\t\tnewIn\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t// exclude\r\n\t\t\telse if (exclude && publishers.apply && publishers.apply === 'nin') {\r\n\t\t\t\tconst newNin = hostnames\r\n\t\t\t\t\t// Filter already excluded\r\n\t\t\t\t\t.filter(h => ![...(publishers.nin || [])].some(x => x.includes(h)))\r\n\t\t\t\t\t.map(hostname =>\r\n\t\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\t\tpublisher: (\r\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\r\n\t\t\t\t\t\t\t).owner,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = (publishers.nin || []).concat(\r\n\t\t\t\t\tnewNin\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t// include\r\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'nin') {\r\n\t\t\t\tconst newNin = [...(publishers.nin || [])]\r\n\t\t\t\t\t// Filter selected\r\n\t\t\t\t\t.filter(value => {\r\n\t\t\t\t\t\tconst { hostname } = JSON.parse(value)\r\n\t\t\t\t\t\treturn !hostnames.includes(hostname)\r\n\t\t\t\t\t})\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\r\n\t\t\t}\r\n\t\t\t// exclude\r\n\t\t\telse if (\r\n\t\t\t\texclude &&\r\n\t\t\t\t(!publishers.apply ||\r\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\r\n\t\t\t) {\r\n\t\t\t\tconst newNin = [...hostnames].map(hostname =>\r\n\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\tpublisher: (targetingData.find(x => x.hostname === hostname) || {})\r\n\t\t\t\t\t\t\t.owner,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'nin'\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\r\n\t\t\t}\r\n\t\t\t// include\r\n\t\t\telse if (\r\n\t\t\t\t!exclude &&\r\n\t\t\t\t(!publishers.apply ||\r\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\r\n\t\t\t) {\r\n\t\t\t\t// There is nothing to do\r\n\t\t\t\treturn addToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t(`SUCCESS_${action}_WEBSITE`, {\r\n\t\t\t\t\t\targs: [hostnames.length, updated.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'nin' &&\r\n\t\t\t\t!newAudienceInput.inputs.publishers.nin.length\r\n\t\t\t) {\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'allin'\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = null\r\n\t\t\t}\r\n\r\n\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\tstate\r\n\t\t\t)\r\n\r\n\t\t\tconst { decimals } = selectMainToken(state)\r\n\t\t\tconst { pricingBounds, minPerImpression, maxPerImpression } = campaign\r\n\r\n\t\t\t// Legacy campaigns shim\r\n\t\t\tconst campaignPricingBounds = pricingBounds || {\r\n\t\t\t\tIMPRESSION: {\r\n\t\t\t\t\tmin: minPerImpression,\r\n\t\t\t\t\tmax: maxPerImpression,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\tconst newRules = audienceInputToTargetingRules({\r\n\t\t\t\taudienceInput: newAudienceInput,\r\n\t\t\t\tminByCategory,\r\n\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\tpricingBounds: campaignPricingBounds,\r\n\t\t\t\tdecimals,\r\n\t\t\t})\r\n\r\n\t\t\tif (isPaused) {\r\n\t\t\t\tnewRules.unshift({ onlyShowIf: false })\r\n\t\t\t}\r\n\r\n\t\t\tupdated.targetingRules = newRules\r\n\t\t\tupdated.audienceInput = newAudienceInput\r\n\r\n\t\t\tconst { authTokens } = await updateTargeting({\r\n\t\t\t\taccount,\r\n\t\t\t\tcampaign: updated,\r\n\t\t\t\ttargetingRules: newRules,\r\n\t\t\t})\r\n\r\n\t\t\tconst updatedCampaign = (await updateCampaign({\r\n\t\t\t\tcampaign: updated.marketUpdate,\r\n\t\t\t\tid: updated.id,\r\n\t\t\t})).campaign\r\n\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\r\n\t\t\tlet toastType = 'success'\r\n\t\t\tlet toastLabel = `SUCCESS_${action}_WEBSITE`\r\n\r\n\t\t\tif (\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'in' &&\r\n\t\t\t\t!newAudienceInput.inputs.publishers.in.length\r\n\t\t\t) {\r\n\t\t\t\ttoastType = 'warning'\r\n\t\t\t\ttoastLabel = `WARNING_NO_PUBLISHERS_${action}_WEBSITE`\r\n\t\t\t}\r\n\r\n\t\t\tawait updateCampaignOnMarket({\r\n\t\t\t\tupdated,\r\n\t\t\t\ttoastType,\r\n\t\t\t\ttoastLabel,\r\n\t\t\t\troastArgs: [hostnames.length, updatedCampaign.title],\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tif (typeof onSuccess === 'function') {\r\n\t\t\t\tonSuccess()\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_${action}_WEBSITE`, err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t(`ERR_${action}_WEBSITE`, {\r\n\t\t\t\t\targs: [hostnames.length, getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\r\n\t}\r\n}\r\n\r\nconst tempValidators = [\r\n\t{\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\r\n\t},\r\n\t{\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\r\n\t},\r\n]\r\n\r\nexport function validateNewCampaignAdUnits({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tconst state = getState()\r\n\t\tconst campaign = selectNewCampaign(state)\r\n\t\tconst { adUnits } = campaign\r\n\r\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })(\r\n\t\t\tdispatch\r\n\t\t)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAudienceInput({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst {\r\n\t\t\t\taudienceInput = {},\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\ttemp,\r\n\t\t\t} = selectNewCampaign(state)\r\n\t\t\tconst { inputs } = audienceInput\r\n\r\n\t\t\tconst isValid = await validateAudience({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tinputs,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'audienceInput',\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\t\tstate\r\n\t\t\t\t)\r\n\t\t\t\tconst suggestedPricingBounds = getSuggestedPricingBounds({\r\n\t\t\t\t\tminByCategory,\r\n\t\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\t\taudienceInput,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', {\r\n\t\t\t\t\t...temp,\r\n\t\t\t\t\tsuggestedPricingBounds,\r\n\t\t\t\t})(dispatch, getState)\r\n\r\n\t\t\t\t// Update pricingBounds here in order to avoid value check at next steps\r\n\t\t\t\t// Only if the bounds are not updated (step back or soft closed modal)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!pricingBoundsCPMUserInput ||\r\n\t\t\t\t\t!(\r\n\t\t\t\t\t\tpricingBoundsCPMUserInput['IMPRESSION'] ||\r\n\t\t\t\t\t\tpricingBoundsCPMUserInput['CLICK']\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tawait updateNewCampaign(\r\n\t\t\t\t\t\t'pricingBoundsCPMUserInput',\r\n\t\t\t\t\t\tsuggestedPricingBounds\r\n\t\t\t\t\t)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('err', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewCampaignFinance({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { decimals } = selectMainToken(state)\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst {\r\n\t\t\t\tvalidators,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\ttitle,\r\n\t\t\t\tactiveFrom,\r\n\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t// pricingBounds,\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\taudienceInput,\r\n\t\t\t\t// minTargetingScore,\r\n\t\t\t\t// adUnits,\r\n\t\t\t\ttemp = {},\r\n\t\t\t} = campaign\r\n\r\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\r\n\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\r\n\t\t\tif (!validators || !validators.length) {\r\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\r\n\t\t\t\tnewCampaign.validators = tempValidators\r\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInput,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (typeof maxChannelFees !== 'string') {\r\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\r\n\t\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesFormatted,\r\n\t\t\t\t\tmaxAvailable,\r\n\t\t\t\t\tmaxAvailableFormatted,\r\n\t\t\t\t} = await openChannel({\r\n\t\t\t\t\tcampaign: { ...newCampaign },\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\tgetMaxFees: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst newTemp = { ...temp }\r\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\r\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\r\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\t\tstate\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst rulesPricingBounds = userInputPricingBoundsPerMileToRulesValue({\r\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInput,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst targetingRules = audienceInputToTargetingRules({\r\n\t\t\t\t\taudienceInput,\r\n\t\t\t\t\tminByCategory,\r\n\t\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\t\tpricingBounds: rulesPricingBounds,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})\r\n\t\t\t\tawait updateNewCampaign('targetingRules', targetingRules)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getCampaignActualFees() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst mainToken = selectMainToken(state)\r\n\t\t\tconst { temp = {}, depositAmount } = campaign\r\n\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\tconst { feesFormatted, fees, breakdownFormatted } = await openChannel({\r\n\t\t\t\tcampaign: { ...campaign },\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst totalSpend = utils\r\n\t\t\t\t.parseUnits(depositAmount, mainToken.decimals)\r\n\t\t\t\t.add(fees)\r\n\r\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\r\n\t\t\t\ttotalSpend.toString(),\r\n\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\tfalse,\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.feesFormatted = feesFormatted\r\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\r\n\t\t\tnewTemp.breakdownFormatted = breakdownFormatted\r\n\r\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handlePrintSelectedReceiptsAdvertiser(selected) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\r\n\t\tconfirmAction(\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSelectedItems('campaigns', selected)(dispatch)\r\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\tconfirmLabel: t('OK'),\r\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\r\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\r\n\t\t\t}\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateCampaign({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\titemPlain,\r\n\tupdate,\r\n\tdirtyProps,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\ttitle,\r\n\t\t\t\taudienceInput,\r\n\t\t\t\tpricingBounds,\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\tmaxPerImpression,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tdepositAsset,\r\n\t\t\t\ttargetingRules,\r\n\t\t\t} = item\r\n\r\n\t\t\tconst { decimals } = selectRoutineWithdrawTokenByAddress(\r\n\t\t\t\tstate,\r\n\t\t\t\tdepositAsset\r\n\t\t\t)\r\n\r\n\t\t\tconst updated = new Campaign(item)\r\n\r\n\t\t\tconst currentTargetingRules = targetingRules || []\r\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\r\n\r\n\t\t\tconst isMinUpdated = dirtyProps.includes('minPerImpression')\r\n\t\t\tconst isMaxUpdated = dirtyProps.includes('maxPerImpression')\r\n\r\n\t\t\tconst isAudienceUpdated =\r\n\t\t\t\tdirtyProps.some(p =>\r\n\t\t\t\t\t['audienceInput', 'campaignAdvanced'].includes(p.name || p)\r\n\t\t\t\t) ||\r\n\t\t\t\tisMinUpdated ||\r\n\t\t\t\tisMaxUpdated\r\n\r\n\t\t\tconst depositAmountInputString = formatTokenAmount(\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tdecimals\r\n\t\t\t)\r\n\r\n\t\t\tconst pricingBoundsCPMUserInputString = {\r\n\t\t\t\t...(pricingBoundsCPMUserInput || { IMPRESSION: {} }),\r\n\t\t\t}\r\n\r\n\t\t\tif (isMinUpdated) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION = {\r\n\t\t\t\t\t...pricingBoundsCPMUserInputString.IMPRESSION,\r\n\t\t\t\t\tmin: minPerImpression,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (isMaxUpdated) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION = {\r\n\t\t\t\t\t...pricingBoundsCPMUserInputString.IMPRESSION,\r\n\t\t\t\t\tmax: maxPerImpression,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!pricingBoundsCPMUserInputString.IMPRESSION.min) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION.min = bondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\tpricingBounds && pricingBounds.IMPRESSION\r\n\t\t\t\t\t\t? pricingBounds.IMPRESSION.min\r\n\t\t\t\t\t\t: minPerImpression,\r\n\t\t\t\t\tdecimals\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!pricingBoundsCPMUserInputString.IMPRESSION.max) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION.max = bondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\tpricingBounds && pricingBounds.IMPRESSION\r\n\t\t\t\t\t\t? pricingBounds.IMPRESSION.max\r\n\t\t\t\t\t\t: maxPerImpression,\r\n\t\t\t\t\tdecimals\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\t// Per impression\r\n\t\t\tconst pricingBoundsImpressionBnString = userInputPricingBoundsPerMileToRulesValue(\r\n\t\t\t\t{\r\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInputString,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tupdated.pricingBoundsCPMUserInput = pricingBoundsCPMUserInputString\r\n\t\t\tupdated.audienceInput = {\r\n\t\t\t\t...audienceInput,\r\n\t\t\t\t...{ pricingBoundsCPMUserInput: updated.pricingBoundsCPMUserInput },\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount: depositAmountInputString,\r\n\t\t\t\t\tpricingBounds: updated.audienceInput.pricingBoundsCPMUserInput,\r\n\t\t\t\t\tspecPricingBounds: itemPlain.specPricingBounds,\r\n\t\t\t\t\terrMsg: !dirty,\r\n\t\t\t\t\tmaxDeposit: BigNumber.from(depositAmount),\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: updated.marketUpdate,\r\n\t\t\t\t\tprop: 'campaign',\r\n\t\t\t\t\tschema: campaignPut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tif (isAudienceUpdated) {\r\n\t\t\t\tconst state = getState()\r\n\t\t\t\tconst { decimals } = selectMainToken(state)\r\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\t\tstate\r\n\t\t\t\t)\r\n\r\n\t\t\t\tupdated.targetingRules = audienceInputToTargetingRules({\r\n\t\t\t\t\taudienceInput: updated.audienceInput,\r\n\t\t\t\t\tminByCategory,\r\n\t\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\t\tpricingBounds: pricingBoundsImpressionBnString,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tif (isAudienceUpdated) {\r\n\t\t\t\t\tconst account = selectAccount(state)\r\n\t\t\t\t\tif (isPaused) {\r\n\t\t\t\t\t\tupdated.targetingRules.unshift({ onlyShowIf: false })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst { authTokens } = await updateTargeting({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tcampaign: updated,\r\n\t\t\t\t\t\ttargetingRules: updated.targetingRules,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\t\t\tdispatch,\r\n\t\t\t\t\t\tgetState\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait updateCampaignOnMarket({\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t\ttoastLabel: 'SUCCESS_UPDATING_ITEM',\r\n\t\t\t\t})(dispatch, getState)\r\n\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t} else if (!isValid && update) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['CAMPAIGN', getErrorMsg('INVALID_INPUT_PARAMETERS')],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['CAMPAIGN', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import { utils, BigNumber } from 'ethers'\r\nconst { parseUnits } = utils\r\n\r\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\r\n\tif (numStr === null || numStr === undefined) {\r\n\t\treturn numStr\r\n\t}\r\n\r\n\treturn parseUnits(numStr, decimals)\r\n\t\t.div(BigNumber.from(1000))\r\n\t\t.toString()\r\n}\r\n","import { items as ItemsConstants } from 'adex-constants'\r\n\r\nconst { ItemsTypes, AdTypesByValue, AdSizesByValue } = ItemsConstants\r\n\r\nexport const sortCollections = items => {\r\n\tlet collections = {\r\n\t\tcampaigns: [],\r\n\t\tadUnits: [],\r\n\t\tchannels: [],\r\n\t\tadSlots: [],\r\n\t}\r\n\r\n\tfor (let i = 0; i < items.length; i++) {\r\n\t\tlet item = items[i]\r\n\t\tif (item._type === ItemsTypes.Campaign) collections.campaigns.push(item)\r\n\t\tif (item._type === ItemsTypes.AdUnit) collections.adUnits.push(item)\r\n\t\tif (item._type === ItemsTypes.Channel) collections.channel.push(item)\r\n\t\tif (item._type === ItemsTypes.AdSlot) collections.adSlots.push(item)\r\n\t}\r\n\r\n\treturn collections\r\n}\r\n\r\nexport const cloneObject = obj => {\r\n\treturn Object.assign(Object.create(obj), obj)\r\n}\r\n\r\nexport const getTypeName = id => {\r\n\tfor (var key in ItemsTypes) {\r\n\t\tif (ItemsTypes.hasOwnProperty(key)) {\r\n\t\t\tif (ItemsTypes[key].id === id) {\r\n\t\t\t\treturn ItemsTypes[key].name\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const groupItemsForCollection = ({ collectionId, allItems = {} }) => {\r\n\tlet grouped = Object.values(allItems).reduce(\r\n\t\t(memo, item, index) => {\r\n\t\t\tif (item._items.indexOf(collectionId) > -1) {\r\n\t\t\t\tmemo.items.push(item)\r\n\t\t\t} else {\r\n\t\t\t\tmemo.otherItems.push(item)\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t},\r\n\t\t{ items: [], otherItems: [] }\r\n\t)\r\n\r\n\treturn grouped\r\n}\r\n\r\nexport const itemAdTypeLabel = ({ adType }) => {\r\n\treturn (AdTypesByValue[adType] || {}).label\r\n}\r\n\r\nexport const itemAdSizeLabel = ({ size, t }) => {\r\n\tconst adSize = AdSizesByValue[size] || {}\r\n\treturn t(adSize.label, { args: adSize.labelArgs || [] })\r\n}\r\n\r\nexport const getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n","import { validations, helpers } from 'adex-models'\r\n\r\nexport const ipfsSrc = src => {\r\n\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t}\r\n\r\n\treturn src\r\n}\r\n","export const getImgObjectUrlFromExternalUrl = async imgUrl => {\r\n\tconst res = await fetch(imgUrl)\r\n\tconst blob = await res.blob()\r\n\tconst objectUrl = URL.createObjectURL(blob)\r\n\r\n\treturn objectUrl\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateNumberString,\r\n\tvalidateMediaSize,\r\n\tupdateNewSlot,\r\n\taddToast,\r\n\tvalidate,\r\n\tgetImgsIpfsFromBlob,\r\n\tupdateNewItem,\r\n\tupdateNewWebsite,\r\n} from 'actions'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectAuthSig,\r\n\tselectNewWebsite,\r\n\tt,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAdSlotById,\r\n\tselectWebsiteByWebsite,\r\n} from 'selectors'\r\nimport { schemas, AdSlot, AdUnit, helpers } from 'adex-models'\r\nimport {\r\n\tverifyWebsite,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n\tupdateAdSlot,\r\n} from 'services/adex-market/actions'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\n\r\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\r\nimport { getImgObjectUrlFromExternalUrl } from 'services/images/blob'\r\nimport { BigNumber, utils } from 'ethers'\r\n\r\nconst { adSlotPost, adUnitPost, adSlotPut } = schemas\r\nconst { slotRulesInputToTargetingRules } = helpers\r\n\r\nconst { VALIDATOR_FOLLOWER_FEE_NUM, VALIDATOR_FOLLOWER_FEE_DEN } = process.env\r\n\r\n// in float - CPM\r\n// NOTE:  `minPerImpression` is used as the value user sees and modifies\r\n// `minPerImpression` is obsolete in the protocol but this way we can easily\r\n// manage the user input w/o multiple conversion of the CPM value\r\nfunction getRuleMinCPMWithValidatorFeeAdded(cpmInput) {\r\n\tconst withFee =\r\n\t\t+cpmInput / (1 - +VALIDATOR_FOLLOWER_FEE_NUM / +VALIDATOR_FOLLOWER_FEE_DEN)\r\n\treturn withFee.toString()\r\n}\r\n\r\nasync function getFallbackUnit({\r\n\tmediaMime,\r\n\ttempUrl,\r\n\ttargetUrl,\r\n\ttype,\r\n\tauthSig,\r\n\ttitle,\r\n\tdescription,\r\n}) {\r\n\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\ttempUrl,\r\n\t\tauthSig,\r\n\t})).ipfs\r\n\r\n\tconst unit = new AdUnit({\r\n\t\ttype,\r\n\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\ttargetUrl,\r\n\t\tmediaMime,\r\n\t\tcreated: Date.now(),\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\ttargeting: [],\r\n\t\ttags: [],\r\n\t\tpassback: true,\r\n\t})\r\n\r\n\tconst resUnit = await postAdUnit({\r\n\t\tunit: unit.marketAdd,\r\n\t\tauthSig,\r\n\t})\r\n\r\n\treturn resUnit\r\n}\r\n\r\nexport function validateNewSlotBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst state = getState()\r\n\t\t\tconst slot = selectNewAdSlot(state)\r\n\t\t\tconst {\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\ttype,\r\n\t\t\t\twebsite,\r\n\t\t\t\tminPerImpression = null,\r\n\t\t\t\trulesInput,\r\n\t\t\t\ttemp,\r\n\t\t\t} = slot\r\n\r\n\t\t\tconst { inputs = {} } = rulesInput || {}\r\n\t\t\tconst { autoSetMinCPM } = inputs\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adSlotPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tisValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && !autoSetMinCPM && minPerImpression !== null) {\r\n\t\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\tnumStr: minPerImpression || null,\r\n\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tschema: adSlotPost.minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tconst { hostname, issues, categories, suggestedMinCPM } = isValid\r\n\t\t\t\t? await verifyWebsite({ websiteUrl: website })\r\n\t\t\t\t: {}\r\n\t\t\tconst newTemp = { ...temp, hostname, issues, categories, suggestedMinCPM }\r\n\r\n\t\t\tconst ruleCPM = !!autoSetMinCPM ? suggestedMinCPM : minPerImpression\r\n\r\n\t\t\tconst rulesCPMWithValidatorFee = getRuleMinCPMWithValidatorFeeAdded(\r\n\t\t\t\truleCPM\r\n\t\t\t)\r\n\r\n\t\t\tconst rules = slotRulesInputToTargetingRules({\r\n\t\t\t\trulesInput,\r\n\t\t\t\tsuggestedMinCPM: rulesCPMWithValidatorFee,\r\n\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t})\r\n\r\n\t\t\tupdateNewSlot('temp', newTemp)(dispatch, getState)\r\n\t\t\tupdateNewSlot('rules', rules)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\r\n\t\t\t// bet this doesn't matter at that point\r\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewSlotPassback({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n\titemId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttargetUrl,\r\n\t\t\ttemp: { useFallback, tempUrl, mime },\r\n\t\t} = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t...(useFallback\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tvalidateMediaSize({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tpropName: 'temp',\r\n\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\t\t\ttempUrl,\r\n\t\t\t\t\t\t\t\tmime,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [\r\n\t\t\t\t\t\tvalidate(validateId, 'temp', {\r\n\t\t\t\t\t\t\tisValid: true,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]),\r\n\t\t\t...(useFallback\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tvalue: targetUrl,\r\n\t\t\t\t\t\t\tprop: 'targetUrl',\r\n\t\t\t\t\t\t\tschema: adUnitPost.targetUrl,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [\r\n\t\t\t\t\t\tvalidate(validateId, 'targetUrl', {\r\n\t\t\t\t\t\t\tisValid: true,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function saveSlot() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst item = selectNewAdSlot(state)\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tfallbackUnit = (await getFallbackUnit({\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t})).ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst minPerImpression = newItem.rulesInput.inputs.autoSetMinCPM\r\n\t\t\t\t? newItem.temp.suggestedMinCPM\r\n\t\t\t\t: newItem.minPerImpression\r\n\r\n\t\t\tif (minPerImpression) {\r\n\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: minPerImpression,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', { args: ['ADSLOT', newItem.title] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\r\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateWebsiteVerification({ id, website }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst websiteUrl = website || 'https://' + id\r\n\t\tupdateSpinner('vilifying' + websiteUrl, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { issues, updated, hostname } = await verifyWebsite({\r\n\t\t\t\twebsiteUrl,\r\n\t\t\t})\r\n\t\t\tconst item = { id: hostname, issues, updated }\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem,\r\n\t\t\t\titemType: 'Website',\r\n\t\t\t})\r\n\r\n\t\t\tif (issues && issues.length) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tlabel: t('UPDATING_WS_VERIFICATION_WITH_ISSUES', {\r\n\t\t\t\t\t\targs: [websiteUrl],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_WS_VERIFICATION', {\r\n\t\t\t\t\t\targs: [websiteUrl],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\targs: [websiteUrl],\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_WS_VERIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\r\n\t\t\t\tlabel: t('ERR_UPDATING_WS_VERIFICATION', {\r\n\t\t\t\t\targs: [id, err],\r\n\t\t\t\t}),\r\n\t\t\t\targs: [id, err],\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('vilifying' + websiteUrl, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewPassback({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectAdSlotById(state, itemId)\r\n\t\tconst newItem = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\r\n\t\tconst isDirty = ['mediaUrl', 'mediaMime', 'targetUrl'].some(prop =>\r\n\t\t\tdirtyProps.includes(prop)\r\n\t\t)\r\n\r\n\t\tconst { mediaUrl, mediaMime, targetUrl } = item\r\n\t\tconst newValues = {}\r\n\t\tif (isDirty) {\r\n\t\t\tnewValues.temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t}\r\n\t\t\tnewValues.targetUrl = newItem.targetUrl\r\n\t\t} else {\r\n\t\t\tconst tempUrl = mediaUrl\r\n\t\t\t\t? await getImgObjectUrlFromExternalUrl(ipfsSrc(mediaUrl))\r\n\t\t\t\t: mediaUrl\r\n\r\n\t\t\tnewValues.temp = {\r\n\t\t\t\t...item.temp,\r\n\t\t\t\ttempUrl,\r\n\t\t\t\tmime: mediaMime,\r\n\t\t\t\tuseFallback: !!(mediaUrl || mediaMime || targetUrl),\r\n\t\t\t}\r\n\t\t\tnewValues.targetUrl = targetUrl\r\n\t\t}\r\n\r\n\t\tupdateNewItem(item, newValues, 'AdSlot', AdSlot, item.id)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateSlotPasback({\r\n\tupdateMultipleFields,\r\n\titemId,\r\n\tonValid: onValidProp,\r\n\tvalidateId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { temp, targetUrl } = selectNewItemByTypeAndId(\r\n\t\t\tstate,\r\n\t\t\t'AdSlot',\r\n\t\t\titemId\r\n\t\t)\r\n\t\tconst { tempUrl, mime, useFallback } = temp\r\n\r\n\t\tconst newValues = {\r\n\t\t\ttargetUrl: useFallback ? targetUrl : '',\r\n\t\t\tmediaUrl: useFallback ? tempUrl : '',\r\n\t\t\tmediaMime: useFallback ? mime : '',\r\n\t\t}\r\n\r\n\t\tconst onValid = () => {\r\n\t\t\tupdateMultipleFields(newValues, [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'passbackData',\r\n\t\t\t\t\tfields: ['targetUrl', 'mediaUrl', 'mediaMime'],\r\n\t\t\t\t},\r\n\t\t\t])\r\n\t\t\tonValidProp()\r\n\t\t}\r\n\r\n\t\tawait validateNewSlotPassback({\r\n\t\t\tvalidateId,\r\n\t\t\tdirty: true,\r\n\t\t\tonValid,\r\n\t\t\titemId,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateSlot({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\tupdate,\r\n\tdirtyProps,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\ttype,\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\twebsite,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\tmediaMime,\r\n\t\t\t\ttargetUrl,\r\n\t\t\t\trulesInput: slotRulesInput,\r\n\t\t\t} = item\r\n\r\n\t\t\t// Because of old slot and default value null\r\n\t\t\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\r\n\r\n\t\t\tconst { autoSetMinCPM } = rulesInput.inputs\r\n\r\n\t\t\tconst newSlot = new AdSlot(item)\r\n\t\t\tconst updateMinPerImpression =\r\n\t\t\t\ttypeof minPerImpression === 'string' && !autoSetMinCPM\r\n\r\n\t\t\tconst updateRules = dirtyProps.some(\r\n\t\t\t\tprop =>\r\n\t\t\t\t\tprop &&\r\n\t\t\t\t\t(prop.name === 'rulesInput' ||\r\n\t\t\t\t\t\t(prop.fields || []).includes('rulesInput'))\r\n\t\t\t)\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPut.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPut.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tupdateMinPerImpression\r\n\t\t\t\t\t? validateNumberString({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\tvalue: minPerImpression,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t  })(dispatch)\r\n\t\t\t\t\t: true,\r\n\t\t\t\tupdateRules\r\n\t\t\t\t\t? validateSchemaProp({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tprop: 'rulesInput',\r\n\t\t\t\t\t\t\tvalue: rulesInput,\r\n\t\t\t\t\t\t\tschema: adSlotPut.rulesInput,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t  })(dispatch)\r\n\t\t\t\t\t: true,\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tlet minCPM = null\r\n\t\t\tlet newRules = null\r\n\t\t\tlet rulesCPM = null\r\n\r\n\t\t\tif (isValid && !autoSetMinCPM && updateMinPerImpression) {\r\n\t\t\t\tif (!minPerImpression || parseFloat(minPerImpression) <= 0) {\r\n\t\t\t\t\tthrow new Error('INVALID_MANUAL_MIN_CPM_VALUE')\r\n\t\t\t\t}\r\n\r\n\t\t\t\trulesCPM = minPerImpression\r\n\t\t\t} else if (isValid && autoSetMinCPM) {\r\n\t\t\t\trulesCPM = (await verifyWebsite({ websiteUrl: website }))\r\n\t\t\t\t\t.suggestedMinCPM\r\n\r\n\t\t\t\tif (!rulesCPM) {\r\n\t\t\t\t\tthrow new Error('INVALID_AUTO_CPM_VALUE')\r\n\t\t\t\t}\r\n\t\t\t} else if (isValid) {\r\n\t\t\t\trulesCPM =\r\n\t\t\t\t\t!!minPerImpression && typeof minPerImpression === 'object'\r\n\t\t\t\t\t\t? utils.formatUnits(\r\n\t\t\t\t\t\t\t\tBigNumber.from(Object.values(minPerImpression)[0]).mul(1000),\r\n\t\t\t\t\t\t\t\tmainToken.decimals\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: minPerImpression\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && (updateMinPerImpression || updateRules)) {\r\n\t\t\t\tnewRules = slotRulesInputToTargetingRules({\r\n\t\t\t\t\trulesInput,\r\n\t\t\t\t\tsuggestedMinCPM: getRuleMinCPMWithValidatorFeeAdded(rulesCPM),\r\n\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tminCPM = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: rulesCPM || null,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnewSlot.minPerImpression = minCPM\r\n\t\t\t\tnewSlot.rules = newRules\r\n\t\t\t}\r\n\r\n\t\t\tconst isPassbackUpdated = dirtyProps.some(\r\n\t\t\t\tprop => prop && prop.name === 'passbackData'\r\n\t\t\t)\r\n\r\n\t\t\tconst fallbackData = {\r\n\t\t\t\tmediaMime,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\ttargetUrl,\r\n\t\t\t}\r\n\r\n\t\t\tlet newUnit = null\r\n\t\t\tif (isValid && isPassbackUpdated && update) {\r\n\t\t\t\tif (mediaUrl && mediaMime && targetUrl) {\r\n\t\t\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\t\t\tnewUnit = await getFallbackUnit({\r\n\t\t\t\t\t\tmediaMime,\r\n\t\t\t\t\t\ttempUrl: mediaUrl,\r\n\t\t\t\t\t\ttargetUrl,\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tauthSig,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tnewSlot.fallbackUnit = newUnit.ipfs\r\n\t\t\t\t\tfallbackData.mediaMime = newUnit.mediaMime\r\n\t\t\t\t\tfallbackData.mediaUrl = newUnit.mediaUrl\r\n\t\t\t\t\tfallbackData.targetUrl = newUnit.targetUrl\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewSlot.fallbackUnit = null\r\n\t\t\t\t\tfallbackData.mediaMime = ''\r\n\t\t\t\t\tfallbackData.mediaUrl = ''\r\n\t\t\t\t\tfallbackData.targetUrl = ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst slot = newSlot.marketUpdate\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst finalValidations = await Promise.all([\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: newSlot.minPerImpression,\r\n\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\tschema: adSlotPut.minPerImpression,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: newSlot.rules,\r\n\t\t\t\t\t\tprop: 'rules',\r\n\t\t\t\t\t\tschema: adSlotPut.rules,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: slot,\r\n\t\t\t\t\t\tprop: 'slot',\r\n\t\t\t\t\t\tschema: adSlotPut,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t])\r\n\r\n\t\t\t\tisValid = finalValidations.every(v => v === true)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedSlot = (await updateAdSlot({ slot, id })).slot\r\n\r\n\t\t\t\tif (dirtyProps.includes('website')) {\r\n\t\t\t\t\tawait updateWebsiteVerification({ website })(dispatch)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (newUnit) {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\t\t\titem: new AdUnit(newUnit).plainObj(),\r\n\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new AdSlot({ ...updatedSlot, ...fallbackData }).plainObj(),\r\n\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t})\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['ADSLOT', updatedSlot.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t} else if (!isValid && update) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['ADSLOT', getErrorMsg('INVALID_DATA')],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateAndSaveNewWebsiteBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst slot = selectNewWebsite(state)\r\n\t\t\tconst { website, temp } = slot\r\n\r\n\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: website,\r\n\t\t\t\tprop: 'website',\r\n\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tisValid = !Object.keys(selectWebsiteByWebsite(state, website)).length\r\n\r\n\t\t\t\tawait validate(validateId, 'website', {\r\n\t\t\t\t\tisValid,\r\n\t\t\t\t\terr: { msg: 'ERR_WEBSITE_EXISTS' },\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && dirty) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\thostname,\r\n\t\t\t\t\tissues,\r\n\t\t\t\t\tcategories,\r\n\t\t\t\t\tsuggestedMinCPM,\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t} = isValid ? await verifyWebsite({ websiteUrl: website }) : {}\r\n\t\t\t\tconst newTemp = {\r\n\t\t\t\t\t...temp,\r\n\t\t\t\t\thostname,\r\n\t\t\t\t\tissues,\r\n\t\t\t\t\tcategories,\r\n\t\t\t\t\tsuggestedMinCPM,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst newWebsite = {\r\n\t\t\t\t\tid: hostname,\r\n\t\t\t\t\tissues,\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\t\titem: newWebsite,\r\n\t\t\t\t\titemType: 'Website',\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateNewWebsite('temp', newTemp)(dispatch, getState)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', {\r\n\t\t\t\t\t\targs: ['WEBSITE', hostname],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\r\n\t\t\t// bet this doesn't matter at that point\r\n\t\t\tconsole.error('ERR_VALIDATING_WEBSITE_BASIC', err)\r\n\t\t\tisValid = false\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateMediaSize,\r\n\tvalidate,\r\n\taddToast,\r\n\tgetImgsIpfsFromBlob,\r\n} from 'actions'\r\nimport { selectNewAdUnit, selectAuthSig, t } from 'selectors'\r\nimport { schemas, AdUnit } from 'adex-models'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\n\r\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\nimport { postAdUnit, updateAdUnit } from 'services/adex-market/actions'\r\n\r\nconst { adUnitPost, adUnitPut } = schemas\r\n\r\nexport function validateNewUnitBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { title, description, type, targetUrl } = selectNewAdUnit(state)\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adUnitPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adUnitPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adUnitPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: targetUrl,\r\n\t\t\t\t\tprop: 'targetUrl',\r\n\t\t\t\t\tschema: adUnitPost.targetUrl,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewUnitMedia({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttemp: { tempUrl, mime },\r\n\t\t} = selectNewAdUnit(state)\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateMediaSize({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'temp',\r\n\t\t\t\twidthTarget: width,\r\n\t\t\t\theightTarget: height,\r\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\texact: true,\r\n\t\t\t\trequired: true,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t},\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function saveUnit() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst item = selectNewAdUnit(state)\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig,\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\r\n\t\t\t\t\targs: ['AdUnit', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateUnit({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\tupdate,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { id, title, description } = item\r\n\r\n\t\t\tconst unit = new AdUnit(item).marketUpdate\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adUnitPut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adUnitPut.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: unit,\r\n\t\t\t\t\tprop: 'unit',\r\n\t\t\t\t\tschema: adUnitPut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedUnit = (await updateAdUnit({ unit, id })).unit\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new AdUnit(updatedUnit).plainObj(),\r\n\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t})\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['ADUNIT', updatedUnit.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['ADUNIT', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as uiActions from './uiActions'\r\nimport * as validationActions from './validationActions'\r\nimport * as mediaValidations from './mediaValidations'\r\nimport * as itemActions from './itemActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as analyticsActions from './analyticsActions'\r\nimport * as newItemsActions from './newItemsActions'\r\nimport * as audienceActions from './audienceActions'\r\nimport * as campaignActions from './campaignActions'\r\nimport * as slotActions from './slotActions'\r\nimport * as unitActions from './unitActions'\r\n\r\n// keep it for class components that use connect and actions prop\r\n// without needing to change the code\r\nexport default {\r\n\t...common,\r\n\t...uiActions,\r\n\t...validationActions,\r\n\t...mediaValidations,\r\n\t...itemActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...analyticsActions,\r\n\t...newItemsActions,\r\n\t...audienceActions,\r\n\t...campaignActions,\r\n\t...slotActions,\r\n\t...unitActions,\r\n}\r\n\r\n// used for minimal deps in hook components\r\n// import { execute, addTost } from 'actions'\r\n// execute(addTost())\r\nexport * from './common'\r\nexport * from './validationActions'\r\nexport * from './mediaValidations'\r\nexport * from './uiActions'\r\nexport * from './itemActions'\r\nexport * from './accountActions'\r\nexport * from './identityActions'\r\nexport * from './bidActions'\r\nexport * from './transactionActions'\r\nexport * from './analyticsActions'\r\nexport * from './newItemsActions'\r\nexport * from './audienceActions'\r\nexport * from './campaignActions'\r\nexport * from './slotActions'\r\nexport * from './unitActions'\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Snackbar, IconButton } from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { selectToasts, selectWindowReloading } from 'selectors'\r\nimport { execute, removeToast } from 'actions'\r\n\r\nconst typeToSeverity = {\r\n\taccept: 'success',\r\n\tsuccess: 'success',\r\n\twarning: 'warning',\r\n\tinfo: 'info',\r\n\tcancel: 'error',\r\n\terror: 'error',\r\n}\r\n\r\nexport const Toast = props => {\r\n\tconst [active, setActive] = useState(false)\r\n\tconst [toast, setToast] = useState({})\r\n\r\n\tconst toasts = useSelector(selectToasts)\r\n\tconst isReloading = useSelector(selectWindowReloading)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst nextToast = toasts[0]\r\n\r\n\t\tif (!nextToast || isReloading) {\r\n\t\t\tsetActive(false)\r\n\t\t\tsetToast({})\r\n\t\t} else if (nextToast.id !== toast.id) {\r\n\t\t\tsetActive(true)\r\n\t\t\tsetToast(nextToast)\r\n\t\t}\r\n\t}, [isReloading, toast.id, toasts])\r\n\r\n\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\tvertical: 'bottom',\r\n\t\thorizontal: 'center',\r\n\t}\r\n\r\n\tif (toast.top) {\r\n\t\tanchorOrigin.horizontal = 'center'\r\n\t\tanchorOrigin.vertical = 'top'\r\n\t}\r\n\r\n\tconst close = id => {\r\n\t\tsetActive(false)\r\n\t\tsetTimeout(() => execute(removeToast(id)), 100)\r\n\t}\r\n\r\n\treturn toast ? (\r\n\t\t<Snackbar\r\n\t\t\topen={active}\r\n\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\tonClose={() => !toast.unclosable && close(toast.id)}\r\n\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t>\r\n\t\t\t<Alert\r\n\t\t\t\tseverity={typeToSeverity[toast.type]}\r\n\t\t\t\tvariant='filled'\r\n\t\t\t\taction={\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{toast.action && toast.action}\r\n\t\t\t\t\t\t{!toast.unclosable && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey={`close-${toast.id}`}\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && close(toast.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Close />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t</Alert>\r\n\t\t</Snackbar>\r\n\t) : null\r\n}\r\n\r\nexport default Toast\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectConfirm } from 'selectors'\r\n\r\nimport {\r\n\tDialog,\r\n\tButton,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n} from '@material-ui/core'\r\n\r\nexport function Confirm({ children }) {\r\n\tconst [open, setOpen] = useState(false)\r\n\r\n\tconst {\r\n\t\tonConfirm,\r\n\t\tonCancel,\r\n\t\tactive,\r\n\t\tcalledOn,\r\n\t\tnoActionBtns,\r\n\t\tdata: { title = '', text = '', confirmLabel, cancelLabel },\r\n\t} = useSelector(selectConfirm)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpen(!!active)\r\n\t}, [active, calledOn])\r\n\r\n\tconst confirm = () => {\r\n\t\tif (typeof onConfirm === 'function') {\r\n\t\t\tonConfirm()\r\n\t\t}\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\tconst cancel = () => {\r\n\t\tif (typeof onCancel === 'function') {\r\n\t\t\tonCancel()\r\n\t\t}\r\n\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Dialog open={open}>\r\n\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</DialogContentText>\r\n\t\t\t\t{children}\r\n\t\t\t</DialogContent>\r\n\t\t\t{!noActionBtns && (\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{cancelLabel && (\r\n\t\t\t\t\t\t<Button onClick={cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{confirmLabel && (\r\n\t\t\t\t\t\t<Button onClick={confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogActions>\r\n\t\t\t)}\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default Confirm\r\n","import React, { forwardRef } from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\r\n\t\t\tconst href = this.props.history.createHref(path)\r\n\t\t\treturn href\r\n\t\t}\r\n\r\n\t\thandleClick = async event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tevent.stopPropagation()\r\n\t\t\tconst { to, onClick } = this.props\r\n\r\n\t\t\tif (onClick && typeof onClick === 'function') {\r\n\t\t\t\tawait onClick()\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tforwardedRef,\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Component\r\n\t\t\t\t\tref={forwardedRef}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\thref={toLocation}\r\n\t\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst WithRouter = withRouter(Decorated)\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithRouter {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Tabs, Tab, Divider } from '@material-ui/core'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nconst sideIndex = {\r\n\tadvertiser: 0,\r\n\tpublisher: 1,\r\n\t'0': 'advertiser',\r\n\t'1': 'publisher',\r\n}\r\n\r\nconst handleChange = (ev, index) => {\r\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\r\n}\r\n\r\nconst useTabsStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tindicator: {\r\n\t\t\t// NOTE: we use Tab background color as indicator\r\n\t\t\t// There is an animation for the Tabs indicator that looks out of\r\n\t\t\t// sync with Tab background change\r\n\t\t\tbackground: '0',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useTabStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.main\r\n\t\t\t: theme.palette.primary.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tminWidth: 30,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t'&$selected': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t\tbackgroundColor: activeColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: theme.palette.action.hover,\r\n\t\t\t},\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tbackgroundColor: activeColor,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst SideSwitch = ({ side, className }) => {\r\n\tconst tabsClasses = useTabsStyles({ side })\r\n\tconst tabClasses = useTabStyles({ side })\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<Box bgcolor='background.paper'>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tclasses={tabsClasses}\r\n\t\t\t\t\tvalue={sideIndex[side]}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t\taria-label='side select'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('ADVERTISER')} />\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('PUBLISHER')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t<Divider />\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideSwitch\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(27, 117, 188)'\r\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\r\n\t\t/>\r\n\t</g>,\r\n\t'AdexIcon',\r\n\t'0 0 185 72'\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path\r\n\t\t\tfill='#fafafa'\r\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(27, 117, 188)'\r\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='#fafafa'\r\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\r\n\t\t/>\r\n\t</g>,\r\n\t'AdexIcon',\r\n\t'0 0 185 72'\r\n)\r\n","import React from 'react'\r\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ className, color = 'primary' }) => (\r\n\t<LinearProgress className={className} color={color} />\r\n)\r\n\r\nexport const LoadingSection = ({ loading, children }) => (\r\n\t<Box display='flex' flex='1' alignItems='center'>\r\n\t\t<Box>{children}</Box>\r\n\t\t<Box ml={2} mr={2}>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t</Box>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SideSwitch from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport AdexIconTxtDark from 'components/common/icons/AdexIconTxtDark'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\nimport { Receipt } from '@material-ui/icons'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport Box from '@material-ui/core/Box'\r\nimport ListIcon from '@material-ui/icons/List'\r\nimport AudienceIcon from '@material-ui/icons/Group'\r\nimport WebsitesIcon from '@material-ui/icons/WebSharp'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectLocation,\r\n\tselectAccountIdentityAddr,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst RRAdexIconTxt = withReactRouterLink(AdexIconTxt)\r\nconst RRAdexIconTxtDark = withReactRouterLink(AdexIconTxtDark)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.contrastText\r\n\t\t\t: theme.palette.primary.contrastText\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.main\r\n\t\t\t: theme.palette.primary.main\r\n\r\n\treturn {\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 100,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t\tcolor: activeColor,\r\n\t\t\t\t'& .MuiListItemIcon-root': {\r\n\t\t\t\t\tcolor: activeColor,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t'& .MuiListItemIcon-root': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsideSwitch: {\r\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 32,\r\n\t\t\twidth: 'auto',\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tamount: {\r\n\t\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction SideNav(props) {\r\n\tconst theme = useTheme()\r\n\r\n\tconst side = useSelector(selectSide)\r\n\tconst identity = useSelector(selectAccountIdentityAddr)\r\n\tconst classes = useStyles({ side })\r\n\tconst routerLocation = useSelector(selectLocation)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// TODO: test location\r\n\tconst location = routerLocation.pathname.split('/')[3]\r\n\tconst isAdvertiser = side === 'advertiser'\r\n\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\tconst { availableIdentityBalanceAllMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? RRAdexIconTxtDark : RRAdexIconTxt\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\tflexGrow='1'\r\n\t\t>\r\n\t\t\t<Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<AdxIcon\r\n\t\t\t\t\t\t\t\t// @cryptofan\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t\t\tclassName={classes.icon}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceAllMainToken &&\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceAllMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant='button'\r\n\t\t\t\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\tclasses={{ button: classes.amount }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceAllMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant='button' component='div' display='block'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\tflex='1'\r\n\t\t\t>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === items,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/audiences' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'audiences',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<AudienceIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('AUDIENCES')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/websites' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'websites',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<WebsitesIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('WEBSITES')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/receipts' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'receipts',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<Receipt />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('RECEIPTS')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/topup' }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === 'topup',\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<MonetizationOnIcon color='secondary' />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TOP_UP')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${ETH_SCAN_ADDR_HOST + identity}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t\t\t<Anchor target='_blank' href={process.env.ADEX_SITE_HOST}>\r\n\t\t\t\t\t\t\t\t\tAdEx Network O\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_SITE_HOST}/tos`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('TOS')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref='https://github.com/AdExNetwork/adex-platform/blob/development/CHANGELOG.md'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</ListItem>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default SideNav\r\n","import React, { useState, Children, cloneElement } from 'react'\r\nimport { Menu, Button } from '@material-ui/core'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\r\n\tconst [anchorEl, setAnchorEl] = useState(null)\r\n\r\n\tconst handleMenu = event => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tstyle={btnStyle}\r\n\t\t\t\tonClick={handleMenu}\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t\taria-controls={id}\r\n\t\t\t>\r\n\t\t\t\t{leftIcon}\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</span>\r\n\t\t\t\t{rightIcon}\r\n\t\t\t</Button>\r\n\t\t\t<Menu\r\n\t\t\t\tid={id}\r\n\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tgetContentAnchorEl={null}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={handleClose}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t{Children.map(children, child =>\r\n\t\t\t\t\tcloneElement(child, {\r\n\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\ttypeof child.props.onClick === 'function' && child.props.onClick()\r\n\t\t\t\t\t\t\thandleClose()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ButtonMenu\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\nimport { selectLang } from 'selectors'\r\n\r\nexport default function Translate(Decorated) {\r\n\tfunction Translated(props) {\r\n\t\tconst language = useSelector(selectLang)\r\n\r\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\r\n\t\t\tconst translation = translate(val, { isProp, args }, language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\treturn <Decorated {...props} t={t} />\r\n\t}\r\n\r\n\treturn Translated\r\n}\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { darkTheme, lightTheme } from './themeMUi'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\n\r\nconst THEMES = {\r\n\tlight: lightTheme,\r\n\tdark: darkTheme,\r\n}\r\n\r\nexport const MultiThemeContext = React.createContext()\r\n\r\nconst MultiThemeProvider = ({ children }) => {\r\n\tconst [themeType, setThemeType] = useState('light')\r\n\tconst [theme, setTheme] = useState(darkTheme)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst lastTheme = loadFromLocalStorage('themeType') || 'light'\r\n\t\tsetThemeType(lastTheme)\r\n\t\tsetTheme(THEMES[lastTheme])\r\n\t}, [])\r\n\r\n\tconst switchTheme = () => {\r\n\t\tif (themeType === 'light') {\r\n\t\t\tsaveToLocalStorage('dark', 'themeType')\r\n\t\t\tsetThemeType('dark')\r\n\t\t\tsetTheme(THEMES['dark'])\r\n\t\t} else {\r\n\t\t\tsaveToLocalStorage('light', 'themeType')\r\n\t\t\tsetThemeType('light')\r\n\t\t\tsetTheme(THEMES['light'])\r\n\t\t}\r\n\t}\r\n\r\n\tconst contextValue = {\r\n\t\tthemeType,\r\n\t\tswitchTheme,\r\n\t}\r\n\r\n\treturn (\r\n\t\t<MultiThemeContext.Provider value={contextValue}>\r\n\t\t\t<MuiThemeProvider theme={theme}>{children}</MuiThemeProvider>\r\n\t\t</MultiThemeContext.Provider>\r\n\t)\r\n}\r\n\r\nexport default MultiThemeProvider\r\n","import React, { useContext } from 'react'\r\nimport { IconButton } from '@material-ui/core'\r\nimport {\r\n\tBrightness7Sharp as LightIcon,\r\n\tBrightness6Sharp as DarkIcon,\r\n} from '@material-ui/icons'\r\nimport { MultiThemeContext } from './MultiThemeProvider'\r\n\r\nexport default function ThemeSwitch() {\r\n\tconst { themeType, switchTheme } = useContext(MultiThemeContext)\r\n\r\n\treturn (\r\n\t\t<IconButton\r\n\t\t\tid={`theme-switch-go-to-${themeType === 'dark' ? 'light' : 'dark'}`}\r\n\t\t\tonClick={switchTheme}\r\n\t\t>\r\n\t\t\t{themeType === 'dark' ? <LightIcon /> : <DarkIcon />}\r\n\t\t</IconButton>\r\n\t)\r\n}\r\n","import { fade } from '@material-ui/core/styles/colorManipulator'\r\n\r\nconst drawerWidth = 250\r\nconst lastRowRightReserved = 169\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tmarginTop: 69,\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\theight: 'calc(100vh - 69px)',\r\n\t\t\twidth: '100vw',\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\t// backgroundImage:\r\n\t\t\t// \ttheme.type === 'dark'\r\n\t\t\t// \t\t? `linear-gradient(\r\n\t\t\t// \t335deg,\r\n\t\t\t// \t${fade(theme.palette.primary.main, 1)} -46%,\r\n\t\t\t// \t${fade(theme.palette.background.default, 1)} 44%\r\n\t\t\t// )`\r\n\t\t\t// \t\t: 0,\r\n\t\t\t// backgroundRepeat: 'no-repeat',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tpaddingRight: theme.spacing(2),\r\n\t\t\tpaddingLeft: theme.spacing(2),\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: lastRowRightReserved,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 69,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingLeft: 0,\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t\tpaddingTop: theme.spacing(2),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t\tpadding: theme.spacing(2),\r\n\t\t\t\tpaddingTop: theme.spacing(2),\r\n\t\t\t},\r\n\r\n\t\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1420,\r\n\t\t\tmargin: 'auto',\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t\t// Because of the floating button and table paging\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tpaddingBottom: 146 + theme.spacing(2),\r\n\t\t\t},\r\n\t\t},\r\n\t\tbreadcrumbElement: {\r\n\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5)}px)`,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5) +\r\n\t\t\t\t\tdrawerWidth +\r\n\t\t\t\t\tlastRowRightReserved}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport ThemeSwitch from 'components/App/ThemeSwitch'\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tBreadcrumbs,\r\n\tIconButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tLink,\r\n\tMenuItem,\r\n\tBox,\r\n\tHidden,\r\n\tLinearProgress,\r\n} from '@material-ui/core'\r\n\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport {\r\n\tselectAccount,\r\n\tselectDashboardBreadcrumbs,\r\n\tselectInitialDataLoaded,\r\n} from 'selectors'\r\nimport { styles } from './styles'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\nconst RRLink = withReactRouterLink(Link)\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TopNav({ handleDrawerToggle, side, t }) {\r\n\tconst classes = useStyles()\r\n\tconst account = useSelector(selectAccount)\r\n\tconst loaded = useSelector(selectInitialDataLoaded)\r\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\r\n\tconst breadcrumbs = useSelector(selectDashboardBreadcrumbs)\r\n\tconst btnMenuLabel =\r\n\t\taccount.wallet.authType === 'demo'\r\n\t\t\t? t('DEMO_MODE')\r\n\t\t\t: account.email ||\r\n\t\t\t  formatAddress(account.wallet.address) ||\r\n\t\t\t  t('NOT_LOGGED')\r\n\r\n\treturn (\r\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\r\n\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tflexGrow='1'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t<Box pl={1}>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t<Box display='flex' flexGrow='1' pl={2}>\r\n\t\t\t\t\t\t\t<Breadcrumbs aria-label='breadcrumb'>\r\n\t\t\t\t\t\t\t\t{breadcrumbs.map(({ to, label }, index) =>\r\n\t\t\t\t\t\t\t\t\tto && index < breadcrumbs.length - 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t<RRLink key={`${index}-${to}`} to={to}>\r\n\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t</RRLink>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.breadcrumbElement }}\r\n\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-${label}`}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Breadcrumbs>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center' pr={1}>\r\n\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t<ThemeSwitch />\r\n\t\t\t\t\t\t<Jazzicon\r\n\t\t\t\t\t\t\tdiameter={30}\r\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Toolbar>\r\n\t\t\t<Box>{!loaded && <LinearProgress />}</Box>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n\r\nexport default Translate(TopNav)\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers'\r\nimport { t } from 'selectors'\r\n\r\nconst MAX_IMG_LOAD_TIME = 7000\r\n\r\nconst styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t\twidth: '30px',\r\n\t\theight: '30px',\r\n\t\tminHeight: '24px',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\tobjectFit: 'contain',\r\n\t},\r\n\twrapper: {\r\n\t\theight: '100%',\r\n\t\twidth: '100%',\r\n\t},\r\n\tcellImg: {\r\n\t\t// Fixed width to avoid col resizing while loading\r\n\t\theight: 46,\r\n\t\twidth: 69,\r\n\t\tcursor: 'pointer',\r\n\t\tdisplay: 'flex',\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst Media = ({\r\n\ttype,\r\n\tsrc,\r\n\tfallbackSrc,\r\n\tmediaMime,\r\n\tallowVideo,\r\n\talt,\r\n\tallowFullscreen,\r\n\tclassName,\r\n\tclassNameImg,\r\n\tfullScreenOnClick,\r\n\tonClick,\r\n\tisCellImg,\r\n\tcontrols,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst loadTimeout = useRef(null)\r\n\tconst displayImage = useRef(null)\r\n\tconst displayVideo = useRef(null)\r\n\tconst [active, setActive] = useState(false)\r\n\r\n\tconst [media, setMedia] = useState({\r\n\t\tsrc: null,\r\n\t\tisVideo: !!mediaMime && isVideoMedia(mediaMime),\r\n\t})\r\n\r\n\tconst handleToggle = ev => {\r\n\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\tsetActive(!active)\r\n\t}\r\n\r\n\tconst clearLoadTimeout = () => {\r\n\t\tif (loadTimeout && loadTimeout.current) {\r\n\t\t\tclearTimeout(loadTimeout.current)\r\n\t\t\tloadTimeout.current = null\r\n\t\t}\r\n\t}\r\n\r\n\tconst clearEvents = () => {\r\n\t\tif (displayImage.current) {\r\n\t\t\tdisplayImage.current.onerror = null\r\n\t\t\tdisplayImage.current.onload = null\r\n\t\t\tdisplayImage.current.onabort = null\r\n\t\t}\r\n\r\n\t\tif (displayVideo.current) {\r\n\t\t\tdisplayVideo.current.onloadedmetadata = null\r\n\t\t}\r\n\t}\r\n\r\n\tconst onFail = useCallback(fallback => {\r\n\t\tclearLoadTimeout()\r\n\t\tclearEvents()\r\n\t\tsetMedia({\r\n\t\t\tsrc: fallback,\r\n\t\t\tisVideo: false,\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\tsetMedia({\r\n\t\t\t\tsrc: VIDEO_IMAGE,\r\n\t\t\t\tisVideo: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tclearLoadTimeout()\r\n\t\tclearEvents()\r\n\r\n\t\tconst fallback = ipfsSrc(fallbackSrc) || NO_IMAGE\r\n\t\tconst mediaSrc = ipfsSrc(src)\r\n\r\n\t\tloadTimeout.current = setTimeout(() => {\r\n\t\t\tonFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tif (!displayVideo.current) {\r\n\t\t\t\tconst video = document.createElement('video')\r\n\t\t\t\tdisplayVideo.current = video\r\n\t\t\t}\r\n\r\n\t\t\tdisplayVideo.current.src = mediaSrc\r\n\r\n\t\t\tdisplayVideo.current.onloadedmetadata = () => {\r\n\t\t\t\tclearLoadTimeout()\r\n\t\t\t\tsetMedia({\r\n\t\t\t\t\tsrc: mediaSrc,\r\n\t\t\t\t\tisVideo: true,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!displayImage.current) {\r\n\t\t\t\tdisplayImage.current = new Image()\r\n\t\t\t}\r\n\r\n\t\t\tdisplayImage.current.src = mediaSrc\r\n\r\n\t\t\tdisplayImage.current.onerror = displayImage.current.onabort = () =>\r\n\t\t\t\tonFail(fallback)\r\n\r\n\t\t\tdisplayImage.current.onload = () => {\r\n\t\t\t\tclearLoadTimeout()\r\n\t\t\t\tsetMedia({\r\n\t\t\t\t\tsrc: mediaSrc,\r\n\t\t\t\t\tisVideo: false,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tclearLoadTimeout()\r\n\t\t\tclearEvents()\r\n\t\t}\r\n\t}, [allowVideo, fallbackSrc, mediaMime, onFail, src])\r\n\r\n\tconst renderMedia = ({ onclick, imgClasses, videoClasses, controls }) => {\r\n\t\tif (!media.isVideo) {\r\n\t\t\treturn (\r\n\t\t\t\t<img\r\n\t\t\t\t\talt={alt}\r\n\t\t\t\t\tsrc={media.src}\r\n\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\tclassName={imgClasses}\r\n\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\tonClick={onclick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<video\r\n\t\t\t\t\tsrc={media.src}\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tmuted\r\n\t\t\t\t\tloop\r\n\t\t\t\t\tclassName={videoClasses}\r\n\t\t\t\t\tonClick={onclick}\r\n\t\t\t\t\tcontrols={controls}\r\n\t\t\t\t></video>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst renderFullscreenDialog = () => {\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{renderMedia({\r\n\t\t\t\t\t\timgClasses: classnames(classes.dialogImage, classes.imgLoading),\r\n\t\t\t\t\t\tvideoClasses: classnames(classes.dialogImage, classes.imgLoading),\r\n\t\t\t\t\t})}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\tconst fullScreenBtn = () => {\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thandleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\treturn media && media.src ? (\r\n\t\t<div\r\n\t\t\tclassName={classnames(className, classes.wrapper, {\r\n\t\t\t\t[classes.cellImg]: !!isCellImg,\r\n\t\t\t})}\r\n\t\t>\r\n\t\t\t{renderMedia({\r\n\t\t\t\tonclick: onClick || (fullScreenOnClick && handleToggle),\r\n\t\t\t\timgClasses: classnames(classes.imgLoading, classes.img, classNameImg),\r\n\t\t\t\tvideoClasses: classnames(classes.imgLoading, classes.img),\r\n\t\t\t\tcontrols: !!controls,\r\n\t\t\t})}\r\n\t\t\t{allowFullscreen && fullScreenBtn()}\r\n\t\t\t{fullScreenOnClick && renderFullscreenDialog()}\r\n\t\t</div>\r\n\t) : (\r\n\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t<span className={classes.circular}>\r\n\t\t\t\t<CircularProgress />\r\n\t\t\t</span>\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nMedia.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Media\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport MUIDataTable from 'mui-datatables'\r\nimport {\r\n\t//  LinearProgress,\r\n\tBox,\r\n\tButton,\r\n} from '@material-ui/core'\r\nimport { t, selectTableState, selectTableStateSelectedRows } from 'selectors'\r\nimport {\r\n\tupdateTableState,\r\n\tupdateTableStateSelectedRows,\r\n\texecute,\r\n} from 'actions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst generalTableOptions = {\r\n\trowsPerPage: 5,\r\n\trowsPerPageOptions: [5, 10, 25, 50],\r\n\tsetTableProps: () => {\r\n\t\treturn {\r\n\t\t\tpadding: 'default',\r\n\t\t\tsize: 'small',\r\n\t\t\twidth: '100%',\r\n\t\t\talign: 'center',\r\n\t\t}\r\n\t},\r\n\ttextLabels: {\r\n\t\tbody: {\r\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\r\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\r\n\t\t\tcolumnHeaderTooltip: column =>\r\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\r\n\t\t\t\t\targs: [column.label || column],\r\n\t\t\t\t})}`,\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tnext: t('TABLE_NEXT'),\r\n\t\t\tprevious: t('TABLE_PREV'),\r\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\r\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tsearch: t('TABLE_SEARCH'),\r\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\r\n\t\t\tprint: t('TABLE_PRINT'),\r\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\r\n\t\t\tfilterTable: t('TABLE_FILTER'),\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tall: t('TABLE_FILTER_ALL'),\r\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\r\n\t\t\treset: t('TABLE_FILTER_RESET'),\r\n\t\t},\r\n\t\tviewColumns: {\r\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\r\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\r\n\t\t},\r\n\t\tselectedRows: {\r\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\r\n\t\t\tdelete: t('TABLE_DELETE'),\r\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\r\n\t\t},\r\n\t},\r\n\tcustomFilterDialogFooter: (_currentFilterList, applyNewFilters) => {\r\n\t\treturn (\r\n\t\t\t<div style={{ marginTop: '40px' }}>\r\n\t\t\t\t<Button variant='contained' color='secondary' onClick={applyNewFilters}>\r\n\t\t\t\t\t{t('APPLY_FILTERS')}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t},\r\n\tdownloadOptions: {\r\n\t\tfilterOptions: {\r\n\t\t\tuseDisplayedColumnsOnly: true,\r\n\t\t\tuseDisplayedRowsOnly: true,\r\n\t\t},\r\n\t},\r\n}\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction MUIDataTableEnhanced(props) {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tdata,\r\n\t\tcolumns,\r\n\t\toptions,\r\n\t\thandleRowSelectionChange,\r\n\t\t// loading,\r\n\t\ttableId,\r\n\t} = props\r\n\t// const classes = useStyles()\r\n\tconst { filterList, columnOrder, ...tableState } = useSelector(state =>\r\n\t\tselectTableState(state, tableId)\r\n\t)\r\n\r\n\tconst rowsSelected = useSelector(state =>\r\n\t\tselectTableStateSelectedRows(state, tableId)\r\n\t)\r\n\r\n\tconst columnsWithFilters = columns.map(({ options, ...col }, i) => {\r\n\t\treturn {\r\n\t\t\t...col,\r\n\t\t\t...{\r\n\t\t\t\toptions: {\r\n\t\t\t\t\t...options,\r\n\t\t\t\t\t...(filterList && filterList[i] && filterList[i].length\r\n\t\t\t\t\t\t? { filterList: filterList[i] }\r\n\t\t\t\t\t\t: {}),\r\n\t\t\t\t\t...(!!tableState.viewColumnsState &&\r\n\t\t\t\t\ttableState.viewColumnsState.hasOwnProperty(col.name)\r\n\t\t\t\t\t\t? { display: tableState.viewColumnsState[col.name] }\r\n\t\t\t\t\t\t: {}),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t{/* {loading && <LinearProgress className={classes.progress} />} */}\r\n\t\t\t<MUIDataTable\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcolumns={columnsWithFilters}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\t...generalTableOptions,\r\n\t\t\t\t\t...options,\r\n\t\t\t\t\televation: 0,\r\n\t\t\t\t\tvariant: 'outlined',\r\n\t\t\t\t\tconfirmFilters: true,\r\n\t\t\t\t\tsearch: !props.noSearch,\r\n\t\t\t\t\tdownload: !props.noDownload,\r\n\t\t\t\t\tprint: !props.noPrint,\r\n\t\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\r\n\t\t\t\t\tselectToolbarPlacement: props.toolbarEnabled ? 'above' : 'none',\r\n\t\t\t\t\tresponsive: 'vertical',\r\n\t\t\t\t\t...tableState,\r\n\t\t\t\t\trowsSelected,\r\n\t\t\t\t\tonTableChange: (action, newTableState) => {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t![\r\n\t\t\t\t\t\t\t\t'onFilterDialogOpen',\r\n\t\t\t\t\t\t\t\t'onFilterDialogClose',\r\n\t\t\t\t\t\t\t\t'propsUpdate',\r\n\t\t\t\t\t\t\t\t'filterChange',\r\n\t\t\t\t\t\t\t\t'rowSelectionChange',\r\n\t\t\t\t\t\t\t].includes(action)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateTableState(tableId, { ...newTableState, filterList })\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonFilterConfirm: filterList => {\r\n\t\t\t\t\t\texecute(updateTableState(tableId, { ...tableState, filterList }))\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonFilterChipClose: filterList => {\r\n\t\t\t\t\t\texecute(updateTableState(tableId, { ...tableState, filterList }))\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonRowSelectionChange: (\r\n\t\t\t\t\t\t_currentRowsSelected,\r\n\t\t\t\t\t\tallRowsSelected,\r\n\t\t\t\t\t\tselected\r\n\t\t\t\t\t) => {\r\n\t\t\t\t\t\texecute(updateTableStateSelectedRows(tableId, selected))\r\n\r\n\t\t\t\t\t\tif (handleRowSelectionChange) {\r\n\t\t\t\t\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\t\t\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\t\t\t\t\t\t\thandleRowSelectionChange({ selectedIndexes, selectedItemsIds })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonViewColumnsChange: (changedColumn, action) => {\r\n\t\t\t\t\t\tconst { viewColumnsState = {} } = tableState\r\n\t\t\t\t\t\tconst newVewColumns = { ...viewColumnsState }\r\n\t\t\t\t\t\tnewVewColumns[changedColumn] = action === 'add' ? true : false\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateTableState(tableId, {\r\n\t\t\t\t\t\t\t\t...tableState,\r\n\t\t\t\t\t\t\t\tviewColumnsState: newVewColumns,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMUIDataTableEnhanced.propTypes = {\r\n\ttableId: PropTypes.string.isRequired,\r\n\tdata: PropTypes.array.isRequired,\r\n\tcolumns: PropTypes.array.isRequired,\r\n\ttitle: PropTypes.string,\r\n\toptions: PropTypes.object,\r\n\thandleRowSelectionChange: PropTypes.func,\r\n}\r\n\r\nexport default MUIDataTableEnhanced\r\n","import React from 'react'\r\nimport { Tooltip } from '@material-ui/core'\r\nimport {\r\n\tDoneAllSharp as DoneAllIcon,\r\n\tWarningSharp as WarningIcon,\r\n\tHourglassFullSharp as HourglassFullIcon,\r\n\tMonetizationOnSharp as MonetizationOnIcon,\r\n\tPauseSharp as PauseIcon,\r\n} from '@material-ui/icons'\r\nimport { t } from 'selectors'\r\n\r\nconst IconTooltip = ({ children, name }) => (\r\n\t<Tooltip title={t(name, { toUpperCase: true })} aria-label={name}>\r\n\t\t{children}\r\n\t</Tooltip>\r\n)\r\n\r\nconst mapStatusIcons = (status = {}, size) => {\r\n\tconst icon = {\r\n\t\txs: { fontSize: 10 },\r\n\t\tmd: { fontSize: 15 },\r\n\t\tls: { fontSize: 20 },\r\n\t}\r\n\r\n\tconst { name = '', humanFriendlyName = '' } = status\r\n\r\n\tconst Wait = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<HourglassFullIcon style={icon[size]} color={'secondary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\tconst Done = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<DoneAllIcon style={icon[size]} color={'primary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\tconst Warning = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<WarningIcon style={icon[size]} color={'error'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\tconst Cash = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<MonetizationOnIcon style={icon[size]} color={'secondary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\r\n\tconst Pause = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<PauseIcon style={icon[size]} color={'secondary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\r\n\tif (humanFriendlyName === 'Closed' && name.toLowerCase() !== 'exhausted')\r\n\t\treturn Wait\r\n\tif (humanFriendlyName === 'Paused') return Pause\r\n\r\n\tswitch (name.toLowerCase()) {\r\n\t\tcase 'active':\r\n\t\tcase 'ready':\r\n\t\t\treturn Done\r\n\t\tcase 'pending':\r\n\t\tcase 'initializing':\r\n\t\tcase 'waiting':\r\n\t\t\treturn Wait\r\n\t\tcase 'offline':\r\n\t\tcase 'disconnected':\r\n\t\tcase 'unhealthy':\r\n\t\tcase 'invalid':\r\n\t\t\treturn Warning\r\n\t\tcase 'withdraw':\r\n\t\t\treturn Cash\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n\r\nexport { mapStatusIcons }\r\n","import React from 'react'\r\nimport { Typography, Slider, Box } from '@material-ui/core'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\n\r\nconst getSliderStep = (min, max, steps, precision = 2) => {\r\n\tconst diff = max - min\r\n\tconst step = diff / steps\r\n\tconst fixed = parseFloat(step.toFixed(precision))\r\n\r\n\treturn fixed\r\n}\r\n\r\nexport const sliderFilterOptions = ({\r\n\tinitial = [],\r\n\tfilterTitle = '',\r\n\tstepsCount = 20,\r\n\tstepsPrecision = 2,\r\n}) => {\r\n\tconst min = initial[0] || 0\r\n\tconst max = initial[1] || 100\r\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\r\n\treturn {\r\n\t\tfilter: true,\r\n\t\tdisplay: 'true',\r\n\t\tfilterType: 'custom',\r\n\t\tcustomFilterListOptions: {\r\n\t\t\trender: v =>\r\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\r\n\t\t\tupdate: (filterList, filterPos, index) => {\r\n\t\t\t\tfilterList[index] = []\r\n\t\t\t\treturn filterList\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tfilterOptions: {\r\n\t\t\tnames: [],\r\n\t\t\tlogic: (rowNumber, filters) => {\r\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\r\n\t\t\t\tif (filters.length > 0) {\r\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\t\t\tdisplay: (filterList, onChange, index, column) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\r\n\t\t\t\t\t\t\t{filterTitle}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\r\n\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\tmin={min}\r\n\t\t\t\t\t\t\t\tmax={max}\r\n\t\t\t\t\t\t\t\tmarks={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: min,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\r\n\t\t\t\t\t\t\t\tstep={step}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\r\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\r\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport function useTableData({ selector, selectorArgs, getColumns }) {\r\n\tconst [data, setData] = useState([])\r\n\tconst [columns, setColumns] = useState([])\r\n\r\n\tconst selectedData = useSelector(state => {\r\n\t\treturn selector && typeof selector === 'function'\r\n\t\t\t? selector(state, selectorArgs)\r\n\t\t\t: []\r\n\t})\r\n\r\n\tconst reloadData = useCallback(() => {\r\n\t\tsetData(selectedData)\r\n\t\tsetColumns(getColumns())\r\n\t}, [getColumns, selectedData])\r\n\r\n\tuseEffect(() => {\r\n\t\treloadData()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [selectedData, selector, selectorArgs])\r\n\r\n\treturn { data, columns, reloadData }\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tIconButton,\r\n\tTooltip,\r\n\tBox,\r\n\tButton,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\r\nimport { t, selectSpinnerById } from 'selectors'\r\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport function ReloadData({ handleReload }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip arrow title={t('RELOAD_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleReload}>\r\n\t\t\t\t\t<Refresh />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip arrow title={t('VIEW_ALL_RECEIPTS_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\r\n\t\t\t\t\t<Receipt />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\r\n\tconst classes = useStyles()\r\n\tconst receiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip arrow title={t('RECEIPTS_PRINT_ALL')}>\r\n\t\t\t\t<Box ml={2} mr={2}>\r\n\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{receiptsSpinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { Fragment, useCallback, useEffect, useState } from 'react'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility, Receipt } from '@material-ui/icons'\r\nimport Media from 'components/common/media'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectCampaignsTableData,\r\n\tselectMainToken,\r\n\tselectCampaignsMaxImpressions,\r\n\tselectCampaignsMaxClicks,\r\n\tselectCampaignsMaxDeposit,\r\n\tselectInitialDataLoadedByData,\r\n\tselectCampaignDisplayStatus,\r\n} from 'selectors'\r\nimport { utils } from 'ethers'\r\nimport { execute, handlePrintSelectedReceiptsAdvertiser } from 'actions'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString, formatDate } from 'helpers/formatters'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { useTableData } from './tableHooks'\r\nimport { PrintAllReceipts } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ symbol, maxImpressions, maxDeposit, maxClicks }) => [\r\n\t{\r\n\t\tname: 'id',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'receiptAvailable',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tdownload: false,\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRMedia\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'status',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tfilterOptions: {\r\n\t\t\t\tnames: ['ACTIVE', 'SCHEDULED', 'CLOSED', 'COMPLETED', 'PAUSED'],\r\n\t\t\t\tlogic: ({ status }, filters) => {\r\n\t\t\t\t\tif (filters.length)\r\n\t\t\t\t\t\treturn !filters.includes(selectCampaignDisplayStatus(status))\r\n\t\t\t\t\treturn false\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcustomBodyRender: ({ status, id }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t{t(selectCampaignDisplayStatus(status))}{' '}\r\n\t\t\t\t\t{mapStatusIcons(status, 'xs')}\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t\t// TODO: Sorting issue\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'depositAmount',\r\n\t\tlabel: t('PROP_DEPOSIT'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: depositAmount => (\r\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxDeposit],\r\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'fundsDistributedRatio',\r\n\t\tlabel: t('PROP_SERVED'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\r\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${(ctr || 0).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'minPerImpression',\r\n\t\tlabel: t('CPM_MIN'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: minPerImpression =>\r\n\t\t\t\t`${minPerImpression.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t// {\r\n\t// \tname: 'maxPerImpression',\r\n\t// \tlabel: t('CPM_MAX'),\r\n\t// \toptions: {\r\n\t// \t\tfilter: false,\r\n\t// \t\tsort: true,\r\n\t// \t\tcustomBodyRender: maxPerImpression =>\r\n\t// \t\t\t`${maxPerImpression.toFixed(2)} ${symbol}`,\r\n\t// \t},\r\n\t// },\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'activeFrom',\r\n\t\tlabel: t('PROP_STARTS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'withdrawPeriodStart',\r\n\t\tlabel: t('PROP_ENDS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\r\n\t\t\t\tformatDateTime(withdrawPeriodStart),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, receiptReady, to, toReceipt }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\treceiptReady\r\n\t\t\t\t\t\t\t\t? t('RECEIPT_VIEW')\r\n\t\t\t\t\t\t\t\t: 'Report not available until the campaign is completed'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* SPAN needed to enable tooltip on hover of disabled element\r\n\t\t\t\t\t\t https://material-ui.com/components/tooltips/#disabled-elements\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<RRIconButton\r\n\t\t\t\t\t\t\t\tto={toReceipt}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\taria-label='receip'\r\n\t\t\t\t\t\t\t\tdisabled={!receiptReady}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Receipt color={receiptReady ? 'primary' : 'disabled'} />\r\n\t\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0],\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2],\r\n\t\t\ti.data[3].humanFriendlyName,\r\n\t\t\t`${i.data[4]} ${symbol}`,\r\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)} %`,\r\n\t\t\ti.data[6],\r\n\t\t\ti.data[7],\r\n\t\t\ti.data[8],\r\n\t\t\tformatDateTime(i.data[9]),\r\n\t\t\tformatDateTime(i.data[10]),\r\n\t\t\tformatDateTime(i.data[11]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ decimals, symbol }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\r\n\tcustomToolbarSelect: (selectedRows, displayData, _setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst selectedItems = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[0])\r\n\t\treturn (\r\n\t\t\t<PrintAllReceipts\r\n\t\t\t\thandlePrintAllReceipts={() =>\r\n\t\t\t\t\texecute(handlePrintSelectedReceiptsAdvertiser(selectedItems))\r\n\t\t\t\t}\r\n\t\t\t\tdisabled={selectedItems.length === 0}\r\n\t\t\t/>\r\n\t\t)\r\n\t},\r\n})\r\n\r\nfunction CampaignsTable(props) {\r\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\r\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\r\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst campaignsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'campaigns')\r\n\t)\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(() => {\r\n\t\treturn () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxDeposit,\r\n\t\t\t})\r\n\t}, [decimals, maxClicks, maxDeposit, maxImpressions, symbol])\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectCampaignsTableData,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions({ decimals, symbol }))\r\n\t}, [decimals, symbol])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\t{...props}\r\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable\r\n\t\t\ttoolbarEnabled\r\n\t\t\tloading={!campaignsLoaded}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default CampaignsTable\r\n","import React from 'react'\r\nimport { Box, Chip } from '@material-ui/core'\r\nimport { Error as ErrorIcon } from '@material-ui/icons'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\nconst getDirtyValidationErrors = (validations = {}) => {\r\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\r\n\t\tconst err = validations[key]\r\n\t\tif (err.dirty) {\r\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\r\n\t\t}\r\n\t\treturn dirtyErrs\r\n\t}, [])\r\n\r\n\treturn errors\r\n}\r\n\r\nexport const styles = theme => {\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\terrChip: {\r\n\t\t\tcolor: errColor,\r\n\t\t\tborderColor: errColor,\r\n\t\t\t'& svg': {\r\n\t\t\t\tcolor: 'inherit',\r\n\t\t\t},\r\n\t\t\tmargin: theme.spacing(0.5),\r\n\t\t\tbackgroundColor: theme.palette.lightGrey.main,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const DirtyErrors = ({\r\n\tvalidations,\r\n\tchipsProps = {},\r\n\tboxProps = {},\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\r\n\treturn (\r\n\t\t!!dirtyErrors.length && (\r\n\t\t\t<Box bgcolor='error.main' p={0.5} {...boxProps}>\r\n\t\t\t\t{dirtyErrors.map(err => (\r\n\t\t\t\t\t<Chip\r\n\t\t\t\t\t\tkey={err.field}\r\n\t\t\t\t\t\tclasses={{ root: classes.errChip }}\r\n\t\t\t\t\t\ticon={<ErrorIcon />}\r\n\t\t\t\t\t\tvariant='default'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t{...chipsProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { CircularProgress, Fab } from '@material-ui/core'\r\nimport { Check, Save } from '@material-ui/icons'\r\nimport clsx from 'clsx'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: theme.palette.success.main,\r\n\t\tcolor: theme.palette.success.contrastText,\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: theme.palette.success.dark,\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: -5,\r\n\t\tleft: -5,\r\n\t\tzIndex: 1,\r\n\t\tcolor: theme.palette.grey.main,\r\n\t},\r\n\t'@keyframes pulse': {\r\n\t\t'0%': {\r\n\t\t\topacity: 1,\r\n\t\t\ttransform: 'scale(1)',\r\n\t\t},\r\n\t\t'50%': {\r\n\t\t\topacity: 0,\r\n\t\t\ttransform: 'scale(1.420)',\r\n\t\t},\r\n\t\t'100%': {\r\n\t\t\topacity: 0,\r\n\t\t\ttransform: 'scale(1.420)',\r\n\t\t},\r\n\t},\r\n\tpulse: {\r\n\t\toverflow: 'visible',\r\n\t\tposition: 'relative',\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tbackgroundColor: 'inherit',\r\n\t\t\tborderRadius: 'inherit',\r\n\t\t\ttransition: 'opacity .3s, transform .3s',\r\n\t\t\tanimation: '$pulse 1.69s cubic-bezier(0.23, 0, 0.420, 1) infinite',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const SaveBtn = ({\r\n\tspinner,\r\n\tsuccess,\r\n\tdirtyProps = [],\r\n\tvalidations,\r\n\tsave,\r\n\tdisabled,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\t// const hasErrors = !!Object.keys(validations).length\r\n\tconst isDisabled = disabled || spinner || !dirtyProps.length\r\n\treturn (\r\n\t\t!!dirtyProps.length && (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tclassName={clsx(classes.wrapper, {\r\n\t\t\t\t\t\t[classes.pulse]: !isDisabled,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tsize='medium'\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\tonClick={save}\r\n\t\t\t\t\tdisabled={isDisabled}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t{success ? <Check /> : <Save />}\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\tsize={58}\r\n\t\t\t\t\t\tclassName={classes.fabProgress}\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { Fragment, forwardRef } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Prompt } from 'react-router'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tChip,\r\n\tInputAdornment,\r\n\tIconButton,\r\n\tTooltip,\r\n\tCard,\r\n\tCardMedia,\r\n\tTextField,\r\n\tBox,\r\n\tPaper,\r\n\tCollapse,\r\n\tButton,\r\n} from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport {\r\n\tInfo,\r\n\tEdit,\r\n\tUndoOutlined,\r\n\tOpenInNew,\r\n\tArchiveSharp as ArchiveIcon,\r\n} from '@material-ui/icons'\r\nimport Media from 'components/common/media'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { DirtyErrors } from 'components/common/dirtyErrors'\r\nimport { t, selectAuthType } from 'selectors'\r\nimport { execute, confirmAction, archiveItem } from 'actions'\r\nimport { styles } from './styles'\r\nimport { SaveBtn } from './SaveBtn'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const DirtyProps = ({ dirtyProps = [], returnPropToInitialState }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Prompt when={!!dirtyProps.length} message={t('UNSAVED_CHANGES_ALERT')} />\r\n\t\t\t{!!dirtyProps.length && (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexGrow={1}\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='flex-start'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\tmr={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Info color='inherit' className={classes.changeChip} />\r\n\t\t\t\t\t<span className={classes.changeChip}>{t('UNSAVED_CHANGES')}:</span>\r\n\t\t\t\t\t{dirtyProps.map(p => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tvariant='default'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\tkey={p.name || p}\r\n\t\t\t\t\t\t\t\tlabel={t(p.name || p, { isProp: true })}\r\n\t\t\t\t\t\t\t\tonDelete={() => {\r\n\t\t\t\t\t\t\t\t\treturnPropToInitialState(p)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdeleteIcon={<UndoOutlined />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport const ChangeControls = hookProps => {\r\n\tconst classes = useStyles()\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst { dirtyProps, spinner, validations } = hookProps\r\n\r\n\treturn (\r\n\t\t<div className={classes.changeControls}>\r\n\t\t\t<Collapse timeout={69} in={!!dirtyProps.length}>\r\n\t\t\t\t<Box className={classes.changeControlsPaper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tbgcolor='primary.main'\r\n\t\t\t\t\t\tcolor='primary.contrastText'\r\n\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DirtyProps {...hookProps} />\r\n\t\t\t\t\t\t<SaveBtn {...hookProps} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<DirtyErrors\r\n\t\t\t\t\t\tvalidations={validations}\r\n\t\t\t\t\t\tchipsProps={{ color: 'default', variant: 'default' }}\r\n\t\t\t\t\t\tboxProps={{ mt: 1 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{spinner &&\r\n\t\t\t\t\t(dirtyProps.includes('audienceInput') ||\r\n\t\t\t\t\t\tdirtyProps.includes('pricingBoundsCPMUserInput')) && (\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t{WALLET_ACTIONS_MSGS[authType || 'default'].map((msg, i) => (\r\n\t\t\t\t\t\t\t\t<Box mt={1} key={msg.message + i}>\r\n\t\t\t\t\t\t\t\t\t<Alert key={i} severity='info' variant='filled'>\r\n\t\t\t\t\t\t\t\t\t\t{t(msg.message)}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t</Collapse>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const ItemTabsContainer = ({ children, noBackground }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Paper\r\n\t\t\tclassName={classes.itemTabsContainer}\r\n\t\t\tstyle={noBackground ? { background: 0 } : {}}\r\n\t\t\tvariant='outlined'\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport const ItemTabsBar = ({ children }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Paper className={classes.itemTabsBar} variant='outlined'>\r\n\t\t\t{children}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport const ItemSpecProp = ({\r\n\tprop,\r\n\tlabel,\r\n\tvalue = '',\r\n\thelperText,\r\n\tInputProps,\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid={prop}\r\n\t\t\tlabel={label}\r\n\t\t\ttype='text'\r\n\t\t\tmargin='dense'\r\n\t\t\tname={prop}\r\n\t\t\tvalue={value || ''}\r\n\t\t\t// disabled\r\n\t\t\treadOnly\r\n\t\t\thelperText={helperText}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={InputProps}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemTitle = ({\r\n\ttitle,\r\n\terrTitle,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst active = !!activeFields.title\r\n\tconst showError = !!errTitle && errTitle.dirty\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-title'\r\n\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='title'\r\n\t\t\tvalue={title || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('title', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError ? t(errTitle.errMsg, { args: errTitle.errMsgArgs }) : ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('title')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('title', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemDescription = ({\r\n\tdescription,\r\n\terrDescription,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst active = !!activeFields.description\r\n\tconst showError = !!errDescription && errDescription.dirty\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-description'\r\n\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='description'\r\n\t\t\tvalue={description || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('description', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tmaxLength={1024}\r\n\t\t\tmultiline\r\n\t\t\trows={2}\r\n\t\t\tdisabled={!activeFields.description}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError\r\n\t\t\t\t\t? t(errDescription.errMsg, {\r\n\t\t\t\t\t\t\targs: errDescription.errMsgArgs,\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('description')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('description', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemAdType = ({ type }) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-type'\r\n\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='type'\r\n\t\t\tvalue={type || ''}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst OpenInNewIconBtn = ({ forwardedRef, ...props }) => {\r\n\treturn (\r\n\t\t<IconButton {...props}>\r\n\t\t\t<OpenInNew />\r\n\t\t</IconButton>\r\n\t)\r\n}\r\n\r\nconst IconButtonWithRef = forwardRef((props, ref) => (\r\n\t<OpenInNewIconBtn {...props} forwardedRef={ref} />\r\n))\r\n\r\nexport const ItemTargetURL = ({ targetUrl = '', label }) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-targetUrl'\r\n\t\t\tlabel={t(label || 'PROP_TARGETURL')}\r\n\t\t\ttype='text'\r\n\t\t\tname='targetUrl'\r\n\t\t\tvalue={targetUrl}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\thref={targetUrl}\r\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemFallbackMediaURL = ({ targetUrl = '' }) => {\r\n\t// TODO: need to take it from fallbackUnit\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-targetUrl'\r\n\t\t\tlabel={t('PROP_FALLBACKADURL')}\r\n\t\t\ttype='text'\r\n\t\t\tname='targetUrl'\r\n\t\t\tvalue={targetUrl}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\thref={targetUrl}\r\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const MediaCard = ({ mediaUrl = '', mediaMime = '', label = '' }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false} variant='outlined'>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t\t<Media\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\talt={label || t('MEDIA')}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\tallowVideo\r\n\t\t\t\t/>\r\n\t\t\t\t{label && (\r\n\t\t\t\t\t<Chip size='small' className={classes.mediaPropChip} label={label} />\r\n\t\t\t\t)}\r\n\t\t\t</CardMedia>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nexport const ItemWebsite = ({\r\n\titem = {},\r\n\tinitialItemState = {},\r\n\tvalidations,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst { website } = item\r\n\tconst active = !!activeFields.website\r\n\tconst { website: error } = validations\r\n\tconst showError = !!error && error.dirty\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-website'\r\n\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\ttype='text'\r\n\t\t\tname='website'\r\n\t\t\tvalue={website || ' '}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('website', (ev.target.value || '').trim())\r\n\t\t\t}}\r\n\t\t\tdisabled={!!initialItemState.website || !active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError ? (\r\n\t\t\t\t\tt(error.errMsg, { args: error.errMsgArgs })\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{activeFields.website && (\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: !initialItemState.website && (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('website')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('website', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ArchiveItemBtn = ({\r\n\titemId,\r\n\titemType = '',\r\n\ttitle,\r\n\tisIconBtn,\r\n\tonSuccess,\r\n\tgoToTableOnSuccess,\r\n\tfullWidth,\r\n}) => {\r\n\tconst labelArgs = itemType.toUpperCase()\r\n\r\n\tconst onClick = () => {\r\n\t\texecute(\r\n\t\t\tconfirmAction(\r\n\t\t\t\t() =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tarchiveItem({ itemId, itemType, onSuccess, goToTableOnSuccess })\r\n\t\t\t\t\t),\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\tconfirmLabel: t(`ARCHIVE_CONFIRM_LABEL`, {\r\n\t\t\t\t\t\targs: [labelArgs],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\ttitle: t(`ARCHIVE_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\targs: [labelArgs, title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttext: t(`ARCHIVE_CONFIRM_INFO`, {\r\n\t\t\t\t\t\targs: [labelArgs, title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\ttitle={t('LABEL_ARCHIVE', { args: [labelArgs] })}\r\n\t\t\taria-label='archive'\r\n\t\t>\r\n\t\t\t{isIconBtn ? (\r\n\t\t\t\t<IconButton onClick={onClick} aria-label={`archive-${itemId}`}>\r\n\t\t\t\t\t<ArchiveIcon color='action' />\r\n\t\t\t\t</IconButton>\r\n\t\t\t) : (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tonClick={onClick}\r\n\t\t\t\t\taria-label={`archive-${itemId}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('ARCHIVE')}\r\n\t\t\t\t</Button>\r\n\t\t\t)}\r\n\t\t</Tooltip>\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tbackgroundColor: theme.palette.grey.main,\r\n\t\t\twidth: '100%',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing / 2,\r\n\t\t\tmarginTop: spacing / 2,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t\tmediaPropChip: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: spacing,\r\n\t\t\tleft: spacing,\r\n\t\t},\r\n\t\tchangeControls: {\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tchangeControlsPaper: {\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tmarginBottom: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\titemTabsBar: {\r\n\t\t\t// borderBottom: 0,\r\n\t\t},\r\n\t\titemTabsContainer: {\r\n\t\t\tborderTop: 0,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tselectItemByTypeAndId,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { execute } from 'actions'\r\nimport { Base } from 'adex-models'\r\n\r\nexport function useItem({ itemType, match, objModel, validateAndUpdateFn }) {\r\n\tconst [item, setItem] = useState({})\r\n\tconst [itemPlain, seItemPlain] = useState({})\r\n\tconst [initialItemState, setInitialItemState] = useState({})\r\n\tconst [activeFields, setFields] = useState({})\r\n\tconst [dirtyProps, setDirtyProps] = useState([])\r\n\tconst [validateId, setValidateId] = useState('update-default')\r\n\tconst [validateAfterReset, setValidateAfterReset] = useState(0)\r\n\r\n\tconst storeItem = useSelector(state =>\r\n\t\tselectItemByTypeAndId(state, itemType, match.params.itemId)\r\n\t)\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!Object.keys(activeFields).length && !dirtyProps.length) {\r\n\t\t\tconst initial = new objModel(storeItem)\r\n\t\t\tsetItem(initial)\r\n\t\t\tseItemPlain(JSON.parse(JSON.stringify(storeItem)))\r\n\t\t\tsetInitialItemState(initial)\r\n\t\t\tsetValidateId(`update-${item.id}`)\r\n\t\t}\r\n\t}, [item.id, objModel, storeItem, dirtyProps, activeFields])\r\n\r\n\tconst setActiveFields = useCallback(\r\n\t\t(field, value) => {\r\n\t\t\tsetFields({ ...activeFields, [field]: value })\r\n\t\t},\r\n\t\t[activeFields]\r\n\t)\r\n\r\n\tconst onUpdateSuccess = () => {\r\n\t\tsetDirtyProps([])\r\n\t\tsetFields({})\r\n\t}\r\n\r\n\tconst validate = useCallback(\r\n\t\tdirty =>\r\n\t\t\texecute(\r\n\t\t\t\tvalidateAndUpdateFn({ item, itemPlain, validateId, dirty, dirtyProps })\r\n\t\t\t),\r\n\t\t[dirtyProps, item, itemPlain, validateAndUpdateFn, validateId]\r\n\t)\r\n\r\n\tconst save = useCallback(async () => {\r\n\t\texecute(\r\n\t\t\tvalidateAndUpdateFn({\r\n\t\t\t\titem,\r\n\t\t\t\titemPlain,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tupdate: true,\r\n\t\t\t\tdirtyProps,\r\n\t\t\t\tonUpdateSuccess,\r\n\t\t\t})\r\n\t\t)\r\n\t}, [dirtyProps, item, itemPlain, validateAndUpdateFn, validateId])\r\n\r\n\tconst returnPropToInitialState = useCallback(\r\n\t\tprop => {\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tconst dirtyIndex = dirtyProps.findIndex(\r\n\t\t\t\tp => (p.name || p) === (prop.name || prop)\r\n\t\t\t)\r\n\r\n\t\t\tif (dirtyIndex > -1) {\r\n\t\t\t\tconst newDirtyProps = [...dirtyProps]\r\n\t\t\t\tconst dpValue = newDirtyProps[dirtyIndex]\r\n\t\t\t\tnewDirtyProps.splice(dirtyIndex, 1)\r\n\r\n\t\t\t\tif (dpValue.fields) {\r\n\t\t\t\t\tdpValue.fields.forEach(\r\n\t\t\t\t\t\tprop => (newItem[prop] = initialItemState[prop])\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewItem[dpValue] = initialItemState[prop]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetItem(newItem)\r\n\t\t\t\tsetDirtyProps(newDirtyProps)\r\n\t\t\t\tsetActiveFields(prop.name || prop, false)\r\n\t\t\t\tsetValidateAfterReset(true)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[dirtyProps, initialItemState, item, objModel, setActiveFields]\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (validateAfterReset) {\r\n\t\t\tvalidate(false)\r\n\t\t}\r\n\t\tsetValidateAfterReset(false)\r\n\t}, [validateAfterReset, validate])\r\n\r\n\tconst updateField = useCallback(\r\n\t\t(field, value, dpValue) => {\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[field] = value\r\n\r\n\t\t\tsetItem(newItem)\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (!dp.some(p => (p.name || p) === (dpValue ? dpValue.name : field))) {\r\n\t\t\t\tdp.push(dpValue || field)\r\n\t\t\t}\r\n\t\t\tsetDirtyProps(dp)\r\n\t\t},\r\n\t\t[dirtyProps, item, objModel]\r\n\t)\r\n\r\n\tconst updateMultipleFields = useCallback(\r\n\t\t(newValues, dirtyFields = []) => {\r\n\t\t\tconst updated = Base.updateObject({ item, newValues, objModel })\r\n\r\n\t\t\tsetItem(new objModel(updated))\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\t\t\tdirtyFields.forEach(field => {\r\n\t\t\t\tif (!dp.some(p => (p.name || p) === (field.name || field))) {\r\n\t\t\t\t\tdp.push(field)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tsetDirtyProps(dp)\r\n\t\t},\r\n\t\t[dirtyProps, item, objModel]\r\n\t)\r\n\r\n\treturn {\r\n\t\titem,\r\n\t\titemPlain,\r\n\t\tinitialItemState,\r\n\t\tactiveFields,\r\n\t\tsetActiveFields,\r\n\t\tdirtyProps,\r\n\t\treturnPropToInitialState,\r\n\t\tvalidate,\r\n\t\tvalidateId,\r\n\t\tvalidations,\r\n\t\tupdateField,\r\n\t\tupdateMultipleFields,\r\n\t\tspinner,\r\n\t\tsave,\r\n\t}\r\n}\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tStepper as StepperMUI,\r\n\tMobileStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tPaper,\r\n\tBox,\r\n\tCircularProgress,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { styles } from './styles'\r\nimport { DirtyErrors } from 'components/common/dirtyErrors'\r\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ steps, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<Box\r\n\t\t\t\tflex\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Typography align='center'>\r\n\t\t\t\t\t\t\t{(steps[currentPage] || {}).title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\t\tsteps={steps.length}\r\n\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\tvariant='text'\r\n\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t\t></MobileStepper>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{steps.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nconst MaterialStepper = props => {\r\n\tconst {\r\n\t\tinitialPage = 0,\r\n\t\tsteps = [],\r\n\t\tcloseDialog,\r\n\t\t// ...rest\r\n\t} = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\r\n\tconst [isBack, setIsBack] = useState(false)\r\n\tconst canReverse = steps.length > currentPage && currentPage > 0\r\n\r\n\tconst page = steps[currentPage] || {}\r\n\tconst pageProps = page.props || {}\r\n\tconst { validateId } = pageProps\r\n\tconst Comp = page.component || null\r\n\tconst {\r\n\t\tvalidationFn,\r\n\t\tonValid,\r\n\t\tstepsId,\r\n\t\tcompleteFn,\r\n\t\tcompleteBtnTitle = '',\r\n\t\tnextBtnTitle = '',\r\n\t} = page\r\n\r\n\tconst validations = useSelector(state =>\r\n\t\tselectValidationsById(state, validateId)\r\n\t)\r\n\r\n\tconst validationSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, validateId)\r\n\t)\r\n\r\n\tconst stepsSpinner = useSelector(state => selectSpinnerById(state, stepsId))\r\n\r\n\tconst spinner = validationSpinner || stepsSpinner\r\n\r\n\tconst isValidPage = useCallback(() => {\r\n\t\treturn !Object.keys(validations || {}).length\r\n\t}, [validations])\r\n\r\n\t// const canAdvance = isValidPage() && !page.completeBtn\r\n\r\n\tconst goToPage = useCallback(\r\n\t\tasync nextStep => {\r\n\t\t\tconst canAdvance = nextStep > currentPage\r\n\t\t\tconst canGoBack = nextStep < currentPage\r\n\r\n\t\t\tif (canAdvance || canGoBack) {\r\n\t\t\t\tsetCurrentPage(nextStep)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[currentPage]\r\n\t)\r\n\r\n\tconst goToPreviousPage = useCallback(async () => {\r\n\t\tif (canReverse) {\r\n\t\t\tgoToPage(currentPage - 1)\r\n\t\t\tsetIsBack(true)\r\n\t\t}\r\n\t}, [canReverse, currentPage, goToPage])\r\n\r\n\tconst goToNextPage = useCallback(async () => {\r\n\t\tsetIsBack(false)\r\n\t\tif (validationFn) {\r\n\t\t\tvalidationFn({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\r\n\t\t\t})\r\n\t\t} else if (isValidPage()) {\r\n\t\t\tgoToPage(currentPage + 1)\r\n\t\t}\r\n\t}, [\r\n\t\tvalidationFn,\r\n\t\tisValidPage,\r\n\t\tstepsId,\r\n\t\tvalidateId,\r\n\t\tonValid,\r\n\t\tgoToPage,\r\n\t\tcurrentPage,\r\n\t])\r\n\r\n\tconst handleComplete = useCallback(async () => {\r\n\t\tawait completeFn({\r\n\t\t\tstepsId,\r\n\t\t\tvalidateId,\r\n\t\t\tonValid: () => typeof closeDialog === 'function' && closeDialog(),\r\n\t\t})\r\n\t}, [closeDialog, completeFn, stepsId, validateId])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isBack && validationFn) {\r\n\t\t\tvalidationFn({ stepsId, validateId, dirty: false })\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [currentPage, validationFn, stepsId, validateId])\r\n\r\n\tconst onKeyPressed = useCallback(\r\n\t\tasync ev => {\r\n\t\t\tif (ev.key === 'Enter') {\r\n\t\t\t\tev.preventDefault()\r\n\t\t\t\tgoToNextPage()\r\n\t\t\t}\r\n\t\t},\r\n\t\t[goToNextPage]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={classes.stepperWrapper}\r\n\t\t\tonKeyPress={onKeyPressed}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='space-between'\r\n\t\t>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\televation={0}\r\n\t\t\t\t>\r\n\t\t\t\t\t<StepperNav\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tsteps={steps}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\tgoToPage={goToPage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t}}\r\n\t\t\t\televation={0}\r\n\t\t\t>\r\n\t\t\t\t{!!Comp && <Comp {...pageProps} />}\r\n\t\t\t</Paper>\r\n\r\n\t\t\t<DirtyErrors validations={validations} />\r\n\r\n\t\t\t<Box mt={1}>\r\n\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t{canReverse && (\r\n\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t{typeof page.cancelFunction === 'function' && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\ttypeof closeDialog === 'function' && closeDialog()\r\n\t\t\t\t\t\t\t\tpage.cancelFunction(stepsId)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CANCEL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t{typeof completeFn === 'function' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={handleComplete}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(completeBtnTitle || 'DO_IT_NOW')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(nextBtnTitle || 'CONTINUE')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{spinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMaterialStepper.propTypes = {\r\n\tsteps: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default MaterialStepper\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcolor: 'purple',\r\n\t\t\t'&$active': {\r\n\t\t\t\tcolor: 'green',\r\n\t\t\t},\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: 'yellow',\r\n\t\t},\r\n\t\tstepperWrapper: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t},\r\n\t\tpagePaper: {\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\theight: 0,\r\n\t\t\tpadding: spacing,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '86%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\ttextAlign: 'left',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '14%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepper: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { forwardRef, useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport { t, selectLocationQuery } from 'selectors'\r\n\r\nfunction FormSteps({ cancelFunction, stepsId, steps, closeDialog, ...rest }) {\r\n\tconst [stepperSteps, setSteps] = useState([])\r\n\tconst { step = 0 } = useSelector(selectLocationQuery)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst updatedSteps = steps.map((s, index) => ({\r\n\t\t\t...s,\r\n\t\t\tstepsId,\r\n\t\t\ttitle: t(s.title),\r\n\t\t\tcancelFunction,\r\n\t\t\tprops: { ...rest, stepsId, validateId: stepsId + '-' + index },\r\n\t\t}))\r\n\r\n\t\tsetSteps(updatedSteps)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [stepsId])\r\n\r\n\treturn (\r\n\t\t<MaterialStepper\r\n\t\t\tinitialPage={step}\r\n\t\t\tsteps={stepperSteps}\r\n\t\t\tcloseDialog={closeDialog}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tsteps: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n\t<FormSteps {...props} forwardedRef={ref} />\r\n))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\theight: `calc(100vh - ${spacing}px)`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${spacing}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: theme.spacing(2),\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tpadding: 0,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: spacing,\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t\t'& svg': {\r\n\t\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\t},\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tmarginBottom: 0,\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: 'auto',\r\n\t\t\t\tleft: 'auto',\r\n\t\t\t\tbottom: spacing,\r\n\t\t\t\tright: spacing,\r\n\t\t\t},\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontentStickyTop: {\r\n\t\t\tmarginBottom: '2rem',\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t},\r\n\t\tfullContentMessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { t } from 'selectors'\r\nimport { selectLocation } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction='up' ref={ref} {...props} />\r\n})\r\n\r\nconst eventMap = location => ({\r\n\tNEW_UNIT: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'add_unit',\r\n\t\tlabel: `units${location}`,\r\n\t},\r\n\tNEW_CAMPAIGN: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'add_campaign',\r\n\t\tlabel: `campaigns${location}`,\r\n\t},\r\n\tNEW_AUDIENCE: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'save_audience',\r\n\t\tlabel: `audiences${location}`,\r\n\t},\r\n\tNEW_CAMPAIGN_FROM_AUDIENCE: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'add_campaign',\r\n\t\tlabel: `audiences${location}`,\r\n\t},\r\n\tNEW_SLOT: {\r\n\t\taction: 'publisher',\r\n\t\tcategory: 'add_slot',\r\n\t\tlabel: `slots${location}`,\r\n\t},\r\n\tNEW_WEBSITE: {\r\n\t\taction: 'publisher',\r\n\t\tcategory: 'add_website',\r\n\t\tlabel: `websites${location}`,\r\n\t},\r\n\tACCOUNT_WITHDRAW_FROM_IDENTITY_BTN: {\r\n\t\taction: 'account',\r\n\t\tcategory: 'withdraw',\r\n\t\tlabel: `account`,\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function WithDialogHoc(Decorated) {\r\n\tfunction WithDialog(props) {\r\n\t\tconst {\r\n\t\t\tdisableBackdropClick = false,\r\n\t\t\tforwardedRef,\r\n\t\t\ticonButton,\r\n\t\t\ttextButton,\r\n\t\t\tfabButton,\r\n\t\t\tvariant,\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tbtnLabelArgs,\r\n\t\t\tbtnLabel,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tdialogActions,\r\n\t\t\tonClick,\r\n\t\t\tfullWidth,\r\n\t\t\tonBeforeOpen,\r\n\t\t\t...rest\r\n\t\t} = props\r\n\r\n\t\tconst btnProps = {\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tvariant,\r\n\t\t}\r\n\r\n\t\tconst classes = useStyles()\r\n\t\tconst [open, setOpen] = useState(false)\r\n\t\tconst location = useSelector(selectLocation)\r\n\r\n\t\tconst handleToggle = async () => {\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tsetOpen(!open)\r\n\t\t}\r\n\r\n\t\tconst handleClick = async ev => {\r\n\t\t\tconst locationWithDash = location.pathname.split('/').join('-')\r\n\t\t\tconst eventMapFound = eventMap(locationWithDash)[btnLabel]\r\n\t\t\tif (eventMapFound) {\r\n\t\t\t\tReactGA.event(eventMapFound)\r\n\t\t\t}\r\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\t\tawait handleToggle()\r\n\t\t\tif (onClick) await onClick()\r\n\t\t}\r\n\r\n\t\tconst closeDialog = () => {\r\n\t\t\tsetOpen(false)\r\n\t\t}\r\n\r\n\t\tlet ButtonComponent = null\r\n\r\n\t\tif (iconButton) {\r\n\t\t\tButtonComponent = IconButton\r\n\t\t} else if (textButton) {\r\n\t\t\tButtonComponent = TextBtn\r\n\t\t} else if (fabButton) {\r\n\t\t\tButtonComponent = Fab\r\n\t\t} else {\r\n\t\t\tButtonComponent = Button\r\n\t\t\tbtnProps.fullWidth = fullWidth\r\n\t\t}\r\n\r\n\t\tconst btnLabelTranslated = btnLabel\r\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<ButtonComponent\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={btnLabelTranslated}\r\n\t\t\t\t\tlabel={btnLabelTranslated}\r\n\t\t\t\t\tonClick={ev => handleClick(ev)}\r\n\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\r\n\t\t\t\t</ButtonComponent>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\tdisableBackdropClick={disableBackdropClick}\r\n\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t// fullScreen\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={handleToggle}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={handleToggle}\r\n\t\t\t\t\t// onOverlayClick={handleToggle}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle\r\n\t\t\t\t\t\tdisableTypography\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography variant='subtitle1'>{t(title)}</Typography>\r\n\t\t\t\t\t\t<IconButton onClick={handleToggle} size='small'>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithDialog {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tTextField,\r\n\tListSubheader,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tFormHelperText,\r\n\tFormControl,\r\n\tTooltip,\r\n\tTypography,\r\n\tSelect,\r\n} from '@material-ui/core'\r\nimport { InfoSharp } from '@material-ui/icons'\r\n\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport classnames from 'classnames'\r\nimport { t } from 'selectors'\r\n\r\nexport const styles = theme => ({\r\n\tformControl: {\r\n\t\tminWidth: 120,\r\n\t},\r\n\tgroupHeader: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tmenuItem: {\r\n\t\twhiteSpace: 'break-spaces',\r\n\t\twordBreak: 'break-word',\r\n\t},\r\n\textraInfo: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t},\r\n\tselect: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst ExtraLabel = ({ label }) =>\r\n\tArray.isArray(label) ? (\r\n\t\t<Fragment>\r\n\t\t\t{label.map((x, index) => (\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t>\r\n\t\t\t\t\t{x}\r\n\t\t\t\t</Typography>\r\n\t\t\t))}\r\n\t\t</Fragment>\r\n\t) : (\r\n\t\tlabel\r\n\t)\r\n\r\nfunction Dropdown(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst {\r\n\t\tonChange,\r\n\t\tlabel = '',\r\n\t\tvalue,\r\n\t\tsource = [],\r\n\t\thtmlId = 'some-id',\r\n\t\tdisabled = false,\r\n\t\terror = false,\r\n\t\thelperText,\r\n\t\tfullWidth = false,\r\n\t\tclassName,\r\n\t\trequired,\r\n\t\tloading,\r\n\t\tnoSrcLabel,\r\n\t\tvariant,\r\n\t\tIconComponent,\r\n\t} = props\r\n\r\n\tconst handleChange = event => {\r\n\t\tonChange(event.target.value)\r\n\t}\r\n\r\n\t// TODO: add native renderer for mobile devices when supported\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{!!source.length && !loading ? (\r\n\t\t\t\t<FormControl\r\n\t\t\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tvariant={variant}\r\n\t\t\t\t>\r\n\t\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tIconComponent={IconComponent}\r\n\t\t\t\t\t\tclasses={{ selectMenu: classes.select }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\t\treturn src.group ? (\r\n\t\t\t\t\t\t\t\t<ListSubheader\r\n\t\t\t\t\t\t\t\t\tclassName={classes.groupHeader}\r\n\t\t\t\t\t\t\t\t\tkey={src.group.name || src.group}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{src.group.name || src.group}\r\n\t\t\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t\tclasses={{ selected: classes.menuItem }}\r\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t\t\t{!!src.extraLabel && (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={<ExtraLabel label={src.extraLabel} />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InfoSharp\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t\t\t</FormControl>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\tvalue={loading ? t('LOADING_DATA') : noSrcLabel}\r\n\t\t\t\t\t\thelperText={loading ? null : helperText}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{loading && <InputLoading />}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n\tIconComponent: PropTypes.elementType,\r\n}\r\n\r\nexport default Dropdown\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField } from '@material-ui/core'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { execute, updateNewUnit } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewAdUnit,\r\n\tselectUnitTypesSourceWithRecommendations,\r\n} from 'selectors'\r\n\r\nfunction AdUnitBasic({ validateId }) {\r\n\tconst { title, description, targetUrl, type } = useSelector(selectNewAdUnit)\r\n\tconst typesSources = useSelector(selectUnitTypesSourceWithRecommendations)\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\ttargetUrl: errTargetUrl,\r\n\t\ttype: errType,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={ev => execute(updateNewUnit('title', ev.target.value))}\r\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateNewUnit('description', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewUnit('targetUrl', (ev.target.value || '').trim())\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty\r\n\t\t\t\t\t\t\t\t? errTargetUrl.errMsg\r\n\t\t\t\t\t\t\t\t: t('TARGETURL_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={value => execute(updateNewUnit('type', value))}\r\n\t\t\t\t\t\tsource={typesSources}\r\n\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t: t('UNIT_TYPE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdUnitBasic\r\n","/**\r\n * @param {HTMLImageElement} image - Image File Object\r\n * @param {Object} crop - crop Object from react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n * @param {Object} size - { width, height } - for image scale\r\n */\r\nexport const getCroppedImgUrl = (image, crop, fileName, size) => {\r\n\tconst canvas = document.createElement('canvas')\r\n\tconst scaleX = image.naturalWidth / image.width\r\n\tconst scaleY = image.naturalHeight / image.height\r\n\r\n\tconst sourceWidth = crop.width * scaleX\r\n\tconst sourceHeight = crop.height * scaleY\r\n\tcanvas.width = sourceWidth\r\n\tcanvas.height = sourceHeight\r\n\tconst ctx = canvas.getContext('2d')\r\n\r\n\tctx.drawImage(\r\n\t\timage,\r\n\t\tcrop.x * scaleX,\r\n\t\tcrop.y * scaleY,\r\n\t\tsourceWidth,\r\n\t\tsourceHeight,\r\n\t\t0,\r\n\t\t0,\r\n\t\tsourceWidth,\r\n\t\tsourceHeight\r\n\t)\r\n\r\n\tlet finalCanvas = canvas\r\n\r\n\tif (size && size.width && size.height) {\r\n\t\t// Pre blurred img\r\n\t\tconst bl = document.createElement('canvas')\r\n\t\tbl.width = sourceWidth\r\n\t\tbl.height = sourceHeight\r\n\t\tconst bctx = bl.getContext('2d')\r\n\t\tconst blur = Math.floor(sourceWidth / size.width / 3)\r\n\t\tbctx.filter = `blur(${blur}px)`\r\n\t\tbctx.drawImage(canvas, 0, 0, sourceWidth, sourceHeight)\r\n\r\n\t\tfinalCanvas = document.createElement('canvas')\r\n\t\tfinalCanvas.width = size.width\r\n\t\tfinalCanvas.height = size.height\r\n\r\n\t\tconst sctx = finalCanvas.getContext('2d')\r\n\r\n\t\tsctx.drawImage(\r\n\t\t\tbl,\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tsourceWidth,\r\n\t\t\tsourceHeight,\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tsize.width,\r\n\t\t\tsize.height\r\n\t\t)\r\n\t}\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tfinalCanvas.toBlob(\r\n\t\t\tfile => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t},\r\n\t\t\t'image/jpeg',\r\n\t\t\t1\r\n\t\t)\r\n\t})\r\n}\r\n","import React from 'react'\r\n\r\nimport { OutlinedInput, InputLabel, FormControl, Box } from '@material-ui/core'\r\n\r\nconst PropBaseComponent = ({ value, inputRef, ...rest }) => (\r\n\t<Box {...rest}>{value}</Box>\r\n)\r\n\r\nconst OutlinedPropView = ({ label, value, margin }) => (\r\n\t<Box py={1}>\r\n\t\t<FormControl variant='outlined' fullWidth>\r\n\t\t\t<InputLabel shrink disableAnimation>\r\n\t\t\t\t{label}\r\n\t\t\t</InputLabel>\r\n\r\n\t\t\t<OutlinedInput\r\n\t\t\t\tmargin={margin}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tnotched\r\n\t\t\t\treadOnly\r\n\t\t\t\tname={label}\r\n\t\t\t\tlabel={label}\r\n\t\t\t\tinputComponent={PropBaseComponent}\r\n\t\t\t\tinputProps={{ style: { height: 'auto', wordWrap: 'break-word' } }}\r\n\t\t\t\tvalue={value}\r\n\t\t\t/>\r\n\t\t</FormControl>\r\n\t</Box>\r\n)\r\n\r\nexport default OutlinedPropView\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Media from 'components/common/media'\r\nimport { Button, Typography, Grid, Box } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport {\r\n\tCrop as CropIcon,\r\n\tClear as ClearIcon,\r\n\tSave as SaveIcon,\r\n\tCloudUpload as FileUploadIcon,\r\n} from '@material-ui/icons'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { t } from 'selectors'\r\nimport { useDropzone } from 'react-dropzone'\r\n\r\nconst styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tdropzone: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: ({ isDragActive, isDragAccept, isDragReject }) =>\r\n\t\t\t\t`1px dashed ${\r\n\t\t\t\t\tisDragActive\r\n\t\t\t\t\t\t? theme.palette.secondary.main\r\n\t\t\t\t\t\t: isDragAccept\r\n\t\t\t\t\t\t? theme.palette.success.main\r\n\t\t\t\t\t\t: isDragReject\r\n\t\t\t\t\t\t? theme.palette.error.main\r\n\t\t\t\t\t\t: theme.palette.grey.main\r\n\t\t\t\t}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t\ttransition: 'border .24s ease-in-out',\r\n\t\t},\r\n\t\tcropzone: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tbackground: theme.palette.primary.main,\r\n\t\t\tpadding: 10,\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\theight: 320,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: '30vh',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction MediaForm({\r\n\tsize,\r\n\tonChange,\r\n\tlabel,\r\n\tadditionalInfo,\r\n\terrMsg,\r\n\tsrc,\r\n\tmime: propsMime,\r\n}) {\r\n\tconst {\r\n\t\tacceptedFiles,\r\n\t\tfileRejections,\r\n\t\tgetRootProps,\r\n\t\tgetInputProps,\r\n\t\tisDragActive,\r\n\t\tisDragAccept,\r\n\t\tisDragReject,\r\n\t} = useDropzone({\r\n\t\taccept: 'image/jpeg, image/jpg, image/png, video/mp4',\r\n\t\tmaxSize: 1042069,\r\n\t\tmaxFiles: 1,\r\n\t\tmultiple: false,\r\n\t\tnoDragEventsBubbling: true,\r\n\t})\r\n\r\n\tconst classes = useStyles({\r\n\t\tisDragActive,\r\n\t\tisDragAccept,\r\n\t\tisDragReject,\r\n\t})\r\n\r\n\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\tconst [imgRef, setImgRef] = useState(null)\r\n\tconst [crop, setCrop] = useState({ aspect })\r\n\tconst [cropMode, setCropMode] = useState(false)\r\n\tconst [mediaName, setMediaName] = useState('')\r\n\tconst [mime, setMime] = useState(propsMime)\r\n\tconst [mediaSrc, setMediaSrc] = useState(src)\r\n\tconst [isVideoSrc, setIsVideoSrc] = useState(isVideoMedia(propsMime))\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCrop({ aspect })\r\n\t}, [aspect])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMime(propsMime)\r\n\t\tsetMediaSrc(src)\r\n\t\tsetIsVideoSrc(isVideoMedia(propsMime))\r\n\t}, [propsMime, src])\r\n\r\n\tconst onLoad = useCallback(img => {\r\n\t\tsetImgRef(img)\r\n\t}, [])\r\n\r\n\tconst clearMedia = useCallback(() => {\r\n\t\tif (mediaSrc) {\r\n\t\t\tURL.revokeObjectURL(mediaSrc)\r\n\t\t\tsetMediaSrc('')\r\n\t\t\tsetMediaName('')\r\n\t\t\tonChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [mediaSrc])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (fileRejections && fileRejections.length) {\r\n\t\t\tclearMedia()\r\n\t\t}\r\n\t}, [clearMedia, fileRejections])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\t\tsetMime(file.type)\r\n\t\tsetMediaName(file.name)\r\n\t\tsetIsVideoSrc(isVideoMedia(file.mime))\r\n\t\tsetMediaSrc(objectUrl)\r\n\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tonChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [acceptedFiles])\r\n\r\n\tconst saveCropped = async () => {\r\n\t\tif (imgRef && crop.width > 1 && crop.height > 1) {\r\n\t\t\tconst croppedBlob = await getCroppedImgUrl(\r\n\t\t\t\timgRef,\r\n\t\t\t\tcrop,\r\n\t\t\t\t`cropped-${mediaName}`,\r\n\t\t\t\tsize\r\n\t\t\t)\r\n\t\t\tURL.revokeObjectURL(mediaSrc)\r\n\t\t\tsetIsVideoSrc(false)\r\n\t\t\tsetMediaSrc(croppedBlob)\r\n\t\t\tsetCropMode(false)\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// TODO: Error\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<OutlinedPropView\r\n\t\t\t\tautoFocus={false}\r\n\t\t\t\tlabel={\r\n\t\t\t\t\tmediaSrc && mediaName\r\n\t\t\t\t\t\t? `${label || 'Media'}: ${mediaName}`\r\n\t\t\t\t\t\t: label || 'Upload media'\r\n\t\t\t\t}\r\n\t\t\t\tvalue={\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t<Box className={classes.cropzone}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '30vh',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonImageLoaded={onLoad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={mediaSrc || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={c => setCrop(c)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={saveCropped}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setCropMode(false)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t<Box {...getRootProps({ className: classes.dropzone })}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{mediaSrc ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Media\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={mediaSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={mediaName || 'media'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmediaMime={mime}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// controls={isVideoSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowVideo={isVideoSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('DRAG_AND_DROP_TO_UPLOAD')}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(max 1MB; .jpeg, .jpg, .png, .mp4){' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<input {...getInputProps()} />\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t{mediaSrc && !isVideoMedia(mime) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.uploadActions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCropMode(true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={clearMedia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fileRejections.map(({ file, errors }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert key={file.path} severity='error'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AlertTitle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{file.path} - {file.size} bytes\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</AlertTitle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{errors.map(e => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// TODO: translate errors\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box key={e.code}>{e.message}</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='caption'> {additionalInfo} </Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMediaForm.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default MediaForm\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport MediaForm from 'components/dashboard/forms/MediaForm'\r\nimport { Grid } from '@material-ui/core'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\nimport { updateNewUnit, execute } from 'actions'\r\nimport { t, selectNewAdUnit, selectValidationsById } from 'selectors'\r\n\r\nfunction AdUnitMedia({ validateId }) {\r\n\tconst { type, temp } = useSelector(selectNewAdUnit)\r\n\tconst { temp: errImg } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst { width, height } = getWidAndHightFromType(type)\r\n\tconst { tempUrl, mime } = temp\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<MediaForm\r\n\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\tsrc={tempUrl || ''}\r\n\t\t\t\t\t\tmime={mime || ''}\r\n\t\t\t\t\t\tonChange={mediaProps =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewUnit('temp', {\r\n\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t...mediaProps,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdUnitMedia\r\n","import React from 'react'\r\n\r\nimport { CircularProgress, Typography, Box } from '@material-ui/core'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\n// TODO: Use it with Grid in previews - we can have more than one in row\r\nexport const PropRow = ({ left, right }) => (\r\n\t<Box p={1}>\r\n\t\t<OutlinedPropView label={left} value={right} />\r\n\t</Box>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\tclassName={className}\r\n\t>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<Box flexGrow={1} className={className}>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, subMsg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div>\r\n\t\t\t<Typography component='div'> {msg} </Typography>\r\n\t\t\t{subMsg && (\r\n\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t<strong>{subMsg}</strong>\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nconst fullContentMessage = ({\r\n\tchildren,\r\n\tmsgs = [],\r\n\tspinner,\r\n\tcolor = 'primary',\r\n}) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\talignItems='center'\r\n\t\tjustifyContent='center'\r\n\t\tbgcolor={`${color}.main`}\r\n\t\tcolor={`${color}.contrastText`}\r\n\t>\r\n\t\t{spinner && (\r\n\t\t\t<Box p={4}>\r\n\t\t\t\t<CircularProgress\r\n\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\r\n\t\t\t\t\tsize={69}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t)}\r\n\t\t{children}\r\n\t\t{msgs\r\n\t\t\t.filter(x => !!x && x.message)\r\n\t\t\t.map((msg, index) => {\r\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Typography key={index} component='div'>\r\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t</Box>\r\n)\r\n\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 225,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Media from 'components/common/media'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { Grid } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { t, selectNewAdUnit, selectAccountIdentityAddr } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AdUnitPreview() {\r\n\tconst classes = useStyles()\r\n\tconst { type, title, description, temp, targeting, targetUrl } = useSelector(\r\n\t\tselectNewAdUnit\r\n\t)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tright={targetUrl}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<Media\r\n\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdUnitPreview\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsArray,\r\n\tselectAdUnits,\r\n\tselectNewCampaign,\r\n} from 'selectors'\r\nimport { updateNewCampaign, execute } from 'actions'\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nfunction CampaignUnits(props) {\r\n\tconst { temp } = useSelector(selectNewCampaign)\r\n\tconst allAdUnits = useSelector(selectAdUnits)\r\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\r\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\r\n\r\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\r\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\r\n\t\t\treturn allAdUnits[value]\r\n\t\t})\r\n\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.selectedUnits = selectedIndexes\r\n\r\n\t\texecute(updateNewCampaign('adUnits', units))\r\n\t\texecute(updateNewCampaign('temp', newTemp))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\r\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\r\n\t\t\t\t\t\t\t\tvalidate={props.validate}\r\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\r\n\t\t\t\t\t\t\t\ttableId={NEW_CAMPAIGN_UNITS}\r\n\t\t\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\trowSelectable\r\n\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CampaignUnits\r\n","import React from 'react'\r\nimport { DateTimePicker as MuiDateTimePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {\r\n\tDateRange,\r\n\tNavigateNextRounded,\r\n\tNavigateBeforeRounded,\r\n\tUpdate,\r\n} from '@material-ui/icons'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport utils from 'helpers/dateUtils'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <DateRange />,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonLiveClick,\r\n\tonNextClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t{onNextClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\r\n\t\t\t\t<NavigateNextRounded />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t\t{onLiveClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\r\n\t\t\t\t<Update />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t</InputAdornment>\r\n)\r\n\r\nexport function DateTimePicker({\r\n\tcalendarIcon,\r\n\ticon,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonNextClick,\r\n\tonLiveClick,\r\n\tonBackClick,\r\n\tInputProps = {},\r\n\troundHour,\r\n\t...rest\r\n}) {\r\n\tconst now = utils.date(Date.now())\r\n\tconst date = roundHour ? utils.setMinutes(now, 0) : now\r\n\treturn (\r\n\t\t<MuiDateTimePicker\r\n\t\t\tvalue={date}\r\n\t\t\tInputProps={{\r\n\t\t\t\t...InputProps,\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\tonNextClick={onNextClick}\r\n\t\t\t\t\t\tonLiveClick={onLiveClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null,\r\n\t\t\t\tstartAdornment: onBackClick ? (\r\n\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\r\n\t\t\t\t\t\t\t<NavigateBeforeRounded />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t) : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({\r\n\tclasses,\r\n\tcalendarIcon,\r\n\ticon,\r\n\tInputProps = {},\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\t...InputProps,\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tFormGroup,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tCheckbox,\r\n\tTextField,\r\n} from '@material-ui/core'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\r\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectMainToken,\r\n\tselectNewCampaign,\r\n\tselectValidationsById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\nimport { validations } from 'adex-models'\r\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\r\nimport {\r\n\tMAX_CAMPAIGN_WITHDRAW_START,\r\n\tMAX_CAMPAIGN_WITHDRAW_START_DAYS,\r\n\tDAY,\r\n} from 'constants/targeting'\r\nconst { isNumberString } = validations\r\n\r\nconst moment = new MomentUtils()\r\n\r\nconst getTotalImpressions = ({ depositAmount, min, max }) => {\r\n\ttry {\r\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\r\n\t\tconst minBound = isNumberString(min) && parseFloat(min)\r\n\t\tconst maxBound = isNumberString(max) && parseFloat(max)\r\n\t\tif (!dep) {\r\n\t\t\treturn t('DEPOSIT_NOT_SET')\r\n\t\t} else if (!minBound || !maxBound) {\r\n\t\t\treturn ''\r\n\t\t\t// return t('BOUNDS_NOT_NOT_SET')\r\n\t\t} else {\r\n\t\t\tconst impressions = utils.commify(Math.floor((dep / minBound) * 1000))\r\n\t\t\treturn t('TOTAL_IMPRESSIONS_UP_TO', { args: [impressions] })\r\n\t\t}\r\n\t} catch (err) {\r\n\t\treturn ''\r\n\t}\r\n}\r\n\r\nfunction CampaignFinance({ validateId, ...rest }) {\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst campaign = useSelector(selectNewCampaign)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\t// pricingBounds: campaignPricingBounds,\r\n\t\tpricingBoundsCPMUserInput,\r\n\t\t// depositAsset,\r\n\t\tactiveFrom,\r\n\t\twithdrawPeriodStart,\r\n\t\t// minTargetingScore,\r\n\t\ttemp = {},\r\n\t} = campaign\r\n\r\n\tconst {\r\n\t\tmaxChannelFees,\r\n\t\tmaxDepositFormatted,\r\n\t\tuseUtmTags,\r\n\t\tsuggestedPricingBounds = { IMPRESSION: {} },\r\n\t\tuseUtmSrcWithPub,\r\n\t} = temp\r\n\r\n\t// if pricingBounds is null\r\n\tconst pricingBounds = pricingBoundsCPMUserInput || { IMPRESSION: {} } //campaignPricingBounds || { IMPRESSION: {} }\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst from = activeFrom || undefined\r\n\tconst to = withdrawPeriodStart || undefined\r\n\tconst now = moment.date().valueOf()\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdepositAmount: errDepAmnt,\r\n\t\tminPerImpression: errMin,\r\n\t\tmaxPerImpression: errMax,\r\n\t\tactiveFrom: errFrom,\r\n\t\twithdrawPeriodStart: errTo,\r\n\t} = invalidFields\r\n\r\n\tconst leader = validators[0] || {}\r\n\tconst follower = validators[1] || {}\r\n\r\n\tconst impressions = getTotalImpressions({\r\n\t\tdepositAmount,\r\n\t\tmin: pricingBounds.IMPRESSION.min,\r\n\t\tmax: pricingBounds.IMPRESSION.max,\r\n\t})\r\n\r\n\tconst updatePricingBoundsImpression = (type, inputValue) => {\r\n\t\tconst value = (inputValue || '').trim()\r\n\t\tconst newPricingBounds = { ...pricingBounds }\r\n\t\tconst impression = { ...pricingBounds.IMPRESSION }\r\n\t\timpression[type] = value\r\n\t\tnewPricingBounds.IMPRESSION = impression\r\n\t\texecute(updateNewCampaign('pricingBoundsCPMUserInput', newPricingBounds))\r\n\t\texecute(\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: `pricingBounds_${type}`,\r\n\t\t\t\tvalue,\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\tprop='leader-validator'\r\n\t\t\t\t\t\t\tvalue={leader.url || ''}\r\n\t\t\t\t\t\t\thelperText={leader.id}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\tprop='follower-validator'\r\n\t\t\t\t\t\t\tvalue={follower.url || ''}\r\n\t\t\t\t\t\t\thelperText={follower.id}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = (ev.target.value || '').trim()\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\r\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\r\n\t\t\t\t\t\t\t\t\t: impressions\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_MIN_LABEL')}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.min}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('min', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CPM_MIN_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.min, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_MAX_LABEL')}\r\n\t\t\t\t\t\t\tname='maxPerImpression'\r\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.max}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('max', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMax && !!errMax.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMax && !!errMax.dirty\r\n\t\t\t\t\t\t\t\t\t? errMax.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CPM_MAX_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.max, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now + 3 * 60 * 60 * 1000}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tformat={DEFAULT_DATETIME_FORMAT}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tmaxDate={now + MAX_CAMPAIGN_WITHDRAW_START - DAY}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [MAX_CAMPAIGN_WITHDRAW_START_DAYS],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tformat={DEFAULT_DATETIME_FORMAT}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmTags}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmTags: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmTags'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_AUTO_UTM_TAGS')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_AUTO_UTM_TAGS_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\r\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl disabled={!useUtmTags}>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmSrcWithPub}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmSrcWithPub: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmSrcWithPub'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_UTM_SRC_WITH_PUB')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_UTM_SRC_WITH_PUB_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t// TODO: link to help\r\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\r\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<CampaignTargetingRules\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t\tadvancedOnly\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignFinance\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport {\r\n\tBox,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tListSubheader,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\nimport { t } from 'selectors'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\tlet subMsg\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\r\n}\r\n\r\nexport const FeesBreakdown = ({ breakdownFormatted = {}, symbol }) => (\r\n\t<Box p={1}>\r\n\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t<AccordionSummary\r\n\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\taria-controls='fees-breakdown'\r\n\t\t\t\tid='fees-breakdown'\r\n\t\t\t>\r\n\t\t\t\t<Typography>\r\n\t\t\t\t\t{t('FEES_BREAKDOWN_ADVANCED_LABEL', {\r\n\t\t\t\t\t\targs: [breakdownFormatted.feeAmount, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Typography>\r\n\t\t\t</AccordionSummary>\r\n\t\t\t<List\r\n\t\t\t\tdisablePadding\r\n\t\t\t\tdense\r\n\t\t\t\tsubheader={\r\n\t\t\t\t\t<ListSubheader component='div'>\r\n\t\t\t\t\t\t{t('BD_TOTAL_FEE', {\r\n\t\t\t\t\t\t\targs: [breakdownFormatted.feeAmount, symbol],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{/* {!!breakdownFormatted.deployFee && (\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('BD_DEPLOY_FEE', {\r\n\t\t\t\t\t\t\t\targs: [breakdownFormatted.deployFee, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t)} */}\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t('BD_TXNS_FEE', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tbreakdownFormatted.executeAction,\r\n\t\t\t\t\t\t\t\tbreakdownFormatted.txnsFee,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t{!!breakdownFormatted.sweepTxnsCount && (\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('BD_SWEEP_FEE', {\r\n\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\tbreakdownFormatted.sweepTxnsCount,\r\n\t\t\t\t\t\t\t\t\tbreakdownFormatted.sweepTxnsFeeAmount,\r\n\t\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t)}\r\n\t\t\t</List>\r\n\t\t</Accordion>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { constants, IabCategories } from 'adex-models'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\n\r\nimport { t } from 'selectors'\r\nimport { Box, Chip, Tooltip } from '@material-ui/core'\r\n\r\nconst { CountryNames, CountryTiers, OsGroups } = constants\r\n\r\nconst AudiencePreview = ({ audienceInput = {}, title, subHeader }) => {\r\n\tconst {\r\n\t\tlocation = {},\r\n\t\tcategories = {},\r\n\t\tpublishers = {},\r\n\t\t// advanced = {},\r\n\t\tdevices = {},\r\n\t} = audienceInput\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t{title && <OutlinedPropView label={t('TITLE')} value={title} />}\r\n\r\n\t\t\t{!!location.apply ? (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`LOCATION_${location.apply.toUpperCase()}`)}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tlocation.apply === 'allin' ? (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tlabel={t('ALL_COUNTRIES')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t(location[location.apply] || []).map(x => (\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tkey={x}\r\n\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\tCountryTiers[x]\r\n\t\t\t\t\t\t\t\t\t\t\t? CountryTiers[x].countries.join(', ')\r\n\t\t\t\t\t\t\t\t\t\t\t: t(CountryNames[x] || x || '')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t(x || '')} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`LOCATION`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{!!categories.apply ? (\r\n\t\t\t\tcategories.apply.map(apply => (\r\n\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\tkey={apply}\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tlabel={t(`CATEGORIES_${(apply || '').toUpperCase()}`)}\r\n\t\t\t\t\t\tvalue={(categories[apply] || []).map(cat => (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tkey={cat}\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tlabel={t(\r\n\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`CATEGORIES`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{publishers.apply ? (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`PUBLISHERS_${publishers.apply.toUpperCase()}`)}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tpublishers.apply === 'allin' ? (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tlabel={t('ALL_PUBLISHERS')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t(publishers[publishers.apply] || []).map((x, index) => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={(JSON.parse(x) || {}).hostname}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`PUBLISHERS`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{!!devices.apply ? (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`DEVICES_${devices.apply.toUpperCase()}`)}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tdevices.apply === 'allin' ? (\r\n\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t('ALL_DEVICES')} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t(devices[devices.apply] || []).map(x => (\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tkey={x}\r\n\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\tOsGroups[x]\r\n\t\t\t\t\t\t\t\t\t\t\t? OsGroups[x].oss.join(', ')\r\n\t\t\t\t\t\t\t\t\t\t\t: t(OsGroups[x] || x || '')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t(x || '')} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`DEVICES`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nAudiencePreview.propTypes = {\r\n\taudienceInput: PropTypes.object,\r\n\tsubHeader: PropTypes.string,\r\n}\r\n\r\nexport default AudiencePreview\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tCircularProgress,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport {\r\n\tWalletAction,\r\n\tFeesBreakdown,\r\n} from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectAccountIdentityAddr,\r\n\tselectAuthType,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectNewCampaign,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, getCampaignActualFees, checkNetworkCongestion } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES, OPENING_CAMPAIGN } from 'constants/spinners'\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nfunction CampaignFormPreview() {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst mainToken = useSelector(selectMainToken)\r\n\tconst { symbol } = mainToken\r\n\tconst feesSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst openingSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, OPENING_CAMPAIGN)\r\n\t)\r\n\tconst [networkCongested, setNetworkCongested] = useState(false)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\t// targeting,\r\n\t\tadUnits,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\t// pricingBounds,\r\n\t\tpricingBoundsCPMUserInput,\r\n\t\t// maxPerImpression,\r\n\t\t// depositAsset,\r\n\t\twithdrawPeriodStart,\r\n\t\tactiveFrom,\r\n\t\t// minTargetingScore,\r\n\t\ttargetingRules = {},\r\n\t\taudienceInput = {},\r\n\t\t// nonce\r\n\t\ttemp = {},\r\n\t} = useSelector(selectNewCampaign)\r\n\r\n\tconst { feesFormatted, totalSpendFormatted, breakdownFormatted } = temp\r\n\tconst { IMPRESSION = {} } = pricingBoundsCPMUserInput || {}\r\n\tconst { advanced = {} } = audienceInput.inputs\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function checkNetwork() {\r\n\t\t\tconst msg = await execute(checkNetworkCongestion())\r\n\r\n\t\t\tif (msg) {\r\n\t\t\t\tsetNetworkCongested(msg)\r\n\t\t\t}\r\n\t\t}\r\n\t\texecute(getCampaignActualFees())\r\n\t\tcheckNetwork()\r\n\t}, [])\r\n\r\n\treturn feesSpinner ? (\r\n\t\t<FullContentSpinner />\r\n\t) : (\r\n\t\t<ContentBox>\r\n\t\t\t{openingSpinner || networkCongested ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{openingSpinner && (\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<WalletAction t={t} authType={authType} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{networkCongested && (\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<Alert severity='warning' variant='filled' square>\r\n\t\t\t\t\t\t\t\t<AlertTitle>{t('NETWORK_WARNING')}</AlertTitle>\r\n\t\t\t\t\t\t\t\t{networkCongested}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CPM_MIN_LABEL')}\r\n\t\t\t\t\t\t\tright={`${IMPRESSION.min} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CPM_MAX_LABEL')}\r\n\t\t\t\t\t\t\tright={`${IMPRESSION.max} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('FEES')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\tfeesFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t`${feesFormatted} ${symbol}`\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FeesBreakdown\r\n\t\t\t\t\t\t\tbreakdownFormatted={breakdownFormatted}\r\n\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{/* <Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\tright={t(minTargetingScore ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid> */}\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_AUTO_UTM_TAGS`)}\r\n\t\t\t\t\t\t\tright={t(temp.useUtmTags ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_UTM_SRC_WITH_PUB`)}\r\n\t\t\t\t\t\t\tright={t(temp.useUtmSrcWithPub ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`INCLUDE_INCENTIVIZED_TRAFFIC_LABEL`)}\r\n\t\t\t\t\t\t\tright={t(advanced.includeIncentivized ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`DISABLE_FREQUENCY_CAPPING_LABEL`)}\r\n\t\t\t\t\t\t\tright={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`LIMIT_AVERAGE_DAILY_SPENDING_LABEL`)}\r\n\t\t\t\t\t\t\tright={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('AUDIENCE')}\r\n\t\t\t\t\t\t\tright={<AudiencePreview audienceInput={audienceInput.inputs} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\t\ttableId={NEW_CAMPAIGN_UNITS}\r\n\t\t\t\t\t\t\t\t\titems={adUnits}\r\n\t\t\t\t\t\t\t\t\tnoSearch\r\n\t\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\taria-controls='targeting-rules-content'\r\n\t\t\t\t\t\t\t\tid='targeting-rules-header'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\r\n\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t\t\t<pre>{JSON.stringify(targetingRules || [], null, 2)}</pre>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default CampaignFormPreview\r\n","import React, { useEffect, Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tFormHelperText,\r\n\tTextField,\r\n\tBox,\r\n\tTooltip,\r\n\tTypography,\r\n\tChip,\r\n} from '@material-ui/core'\r\nimport AutocompleteMUI, {\r\n\tcreateFilterOptions,\r\n} from '@material-ui/lab/Autocomplete'\r\nimport { CheckSharp, ErrorSharp, InfoSharp } from '@material-ui/icons'\r\n\r\nconst StatusIcon = {\r\n\tsuccess: <CheckSharp color='secondary' />,\r\n\terror: <ErrorSharp color='error' />,\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\textraInfo: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nconst ExtraLabel = ({ label }) =>\r\n\tArray.isArray(label) ? (\r\n\t\t<Fragment>\r\n\t\t\t{label.map((x, index) => (\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t>\r\n\t\t\t\t\t{x}\r\n\t\t\t\t</Typography>\r\n\t\t\t))}\r\n\t\t</Fragment>\r\n\t) : (\r\n\t\tlabel\r\n\t)\r\n\r\nfunction Autocomplete({\r\n\tsource,\r\n\tmultiple,\r\n\tlabel,\r\n\tvariant,\r\n\terror,\r\n\terrorText,\r\n\tonInit,\r\n\tvalue,\r\n\tonChange,\r\n\tfullWidth,\r\n\tdisabled,\r\n\thideSelectedOnDisable,\r\n\tdisableCloseOnSelect,\r\n\tdisabledSrcValues = [],\r\n\tenableCreate,\r\n}) {\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\ttypeof onInit === 'function' && onInit()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst handleChange = item => {\r\n\t\tif (multiple) {\r\n\t\t\tonChange(item.map(i => i.value || i.label || i))\r\n\t\t} else {\r\n\t\t\tonChange(item ? item.value || item.label || item : item)\r\n\t\t}\r\n\t}\r\n\r\n\tconst srcValue = multiple\r\n\t\t? Array.isArray(value)\r\n\t\t\t? value.map(v => source.find(s => s.value === v) || '')\r\n\t\t\t: []\r\n\t\t: source.find(s => s.value === value) || value\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<AutocompleteMUI\r\n\t\t\t\tmultiple={multiple}\r\n\t\t\t\tdisableCloseOnSelect={disableCloseOnSelect}\r\n\t\t\t\toptions={source}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tgroupBy={option => option.group}\r\n\t\t\t\tvalue={srcValue}\r\n\t\t\t\tgetOptionLabel={option => option.label || option.name || option}\r\n\t\t\t\tgetLimitTagsText={more => `${more} more`}\r\n\t\t\t\tlimitTags={10}\r\n\t\t\t\tgetOptionDisabled={option =>\r\n\t\t\t\t\tdisabledSrcValues.some(x => (option.value || option) === x)\r\n\t\t\t\t}\r\n\t\t\t\tgetOptionSelected={(opt, val = '') => {\r\n\t\t\t\t\tconst isSelected =\r\n\t\t\t\t\t\t!!opt &&\r\n\t\t\t\t\t\t!!val &&\r\n\t\t\t\t\t\t[JSON.stringify(val), val, val.value].includes(opt.value)\r\n\t\t\t\t\treturn isSelected\r\n\t\t\t\t}}\r\n\t\t\t\t// freeSolo\r\n\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\r\n\t\t\t\trenderInput={params => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\trenderOption={option => (\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tkey={option.label}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography display='inline'>{option.label}</Typography>\r\n\t\t\t\t\t\t{!!option.extraLabel && (\r\n\t\t\t\t\t\t\t<Tooltip arrow title={<ExtraLabel label={option.extraLabel} />}>\r\n\t\t\t\t\t\t\t\t<InfoSharp\r\n\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\r\n\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\trenderTags={(value, getCustomizedTagProps) =>\r\n\t\t\t\t\tvalue.map(\r\n\t\t\t\t\t\t(option, index) =>\r\n\t\t\t\t\t\t\t!(disabled && hideSelectedOnDisable) &&\r\n\t\t\t\t\t\t\t(!!option.extraLabel ? (\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\t\tkey={option.value + '' + index}\r\n\t\t\t\t\t\t\t\t\ttitle={<ExtraLabel label={option.extraLabel || ''} />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tlabel={option.label || option}\r\n\t\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tlabel={option.label || option}\r\n\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{error && (\r\n\t\t\t\t<FormHelperText error id='component-error-text'>\r\n\t\t\t\t\t{errorText}\r\n\t\t\t\t</FormHelperText>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst filter = createFilterOptions()\r\n\r\nexport const AutocompleteWithCreate = ({\r\n\tsource,\r\n\tlabel,\r\n\tvariant,\r\n\terror,\r\n\thelperText,\r\n\tfullWidth,\r\n\tinitialValue,\r\n\tdisabled,\r\n\tonChange,\r\n\tchangeOnInputUpdate,\r\n}) => {\r\n\tconst [value, setValue] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValue({ label: initialValue, value: initialValue })\r\n\t}, [initialValue])\r\n\r\n\treturn (\r\n\t\t<AutocompleteMUI\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={(event, newValue) => {\r\n\t\t\t\t// Create a new value from the user input\r\n\t\t\t\tif (newValue && (newValue.inputValue || newValue.value)) {\r\n\t\t\t\t\tconst value = newValue.inputValue || newValue.value\r\n\t\t\t\t\tsetValue({\r\n\t\t\t\t\t\tlabel: newValue.label || value,\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tonChange(value)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValue(newValue)\r\n\t\t\t\t\tonChange('')\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonInputChange={(ev, value) => {\r\n\t\t\t\tif (changeOnInputUpdate) {\r\n\t\t\t\t\tonChange(value)\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tfilterOptions={(options, params) => {\r\n\t\t\t\tconst filtered = filter(options, params)\r\n\r\n\t\t\t\t// Suggest the creation of a new value\r\n\t\t\t\tif (!changeOnInputUpdate && params.inputValue !== '') {\r\n\t\t\t\t\tfiltered.push({\r\n\t\t\t\t\t\tinputValue: params.inputValue,\r\n\t\t\t\t\t\tlabel: `Add \"${params.inputValue}\"`,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn filtered\r\n\t\t\t}}\r\n\t\t\tselectOnFocus\r\n\t\t\t// clearOnBlur\r\n\t\t\t// handleHomeEndKeys\r\n\t\t\tdisabled={disabled}\r\n\t\t\toptions={source}\r\n\t\t\tgetLimitTagsText={more => `${more} more`}\r\n\t\t\tlimitTags={2}\r\n\t\t\tgroupBy={option => option.group}\r\n\t\t\tgetOptionLabel={option => {\r\n\t\t\t\t// Value selected with enter, right from the input\r\n\t\t\t\tif (typeof option === 'string') {\r\n\t\t\t\t\treturn option\r\n\t\t\t\t}\r\n\t\t\t\t// Add \"xxx\" option created dynamically\r\n\t\t\t\tif (option.inputValue) {\r\n\t\t\t\t\treturn option.inputValue\r\n\t\t\t\t}\r\n\t\t\t\t// Regular option\r\n\t\t\t\treturn option.label\r\n\t\t\t}}\r\n\t\t\trenderOption={option =>\r\n\t\t\t\toption.status ? (\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{option.label}\r\n\r\n\t\t\t\t\t\t{StatusIcon[option.status] || option.status}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t) : (\r\n\t\t\t\t\toption.label\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tfreeSolo={!changeOnInputUpdate}\r\n\t\t\trenderInput={params => (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\t{...params}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tlabel={label}\r\n\t\t\t\t\thelperText={helperText}\r\n\t\t\t\t\tvariant={variant}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tsource: PropTypes.array.isRequired,\r\n\tlabel: PropTypes.string.isRequired,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tmultiple: PropTypes.bool,\r\n\tvariant: PropTypes.string,\r\n}\r\n\r\nexport default Autocomplete\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tFormGroup,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tCheckbox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { AutocompleteWithCreate } from 'components/common/autocomplete'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport {\r\n\tt,\r\n\tselectNewAdSlot,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectSlotTypesSourceWithDemands,\r\n\twebsitesAutocompleteSrc,\r\n\tselectMainToken,\r\n\tselectMinTargetingCpm,\r\n} from 'selectors'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tupdateNewSlot,\r\n\tvalidateNumberString,\r\n\texecute,\r\n} from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst newItem = useSelector(selectNewAdSlot)\r\n\tconst websitesSrc = useSelector(websitesAutocompleteSrc)\r\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\r\n\tconst minCPM = useSelector(selectMinTargetingCpm)\r\n\tconst {\r\n\t\ttitle = '',\r\n\t\tdescription = '',\r\n\t\twebsite = '',\r\n\t\ttype = '',\r\n\t\trulesInput: slotRulesInput,\r\n\t\tminPerImpression,\r\n\t} = newItem\r\n\r\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\r\n\r\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\r\n\t)\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\twebsite: errWebsite,\r\n\t\ttype: errType,\r\n\t\tminPerImpression: errMin,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateSlotsDemandThrottled())\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\r\n\t\tif (!autoSetMinCPM && minPerImpression === null) {\r\n\t\t\texecute(updateNewSlot('minPerImpression', minCPM.toFixed(2)))\r\n\t\t}\r\n\t}, [autoSetMinCPM, minCPM, minPerImpression])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<AutocompleteWithCreate\r\n\t\t\t\t\t\t\tchangeOnInputUpdate\r\n\t\t\t\t\t\t\tinitialValue={website}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tsource={websitesSrc}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\r\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonChange={value => {\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', (value || '').trim()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\r\n\t\t\t\t\t\t\tsource={adTypesSource}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\r\n\t\t\t\t\t\t\t\tid='slot-rules-advanced'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\r\n\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\t\t\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!!autoSetMinCPM}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = (ev.target.value || '').trim()\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_CPM_MIN_HELPER')\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport MediaForm from 'components/dashboard/forms/MediaForm'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tCollapse,\r\n\tFormControlLabel,\r\n\tSwitch,\r\n} from '@material-ui/core'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { t, selectNewItemByTypeAndId, selectValidationsById } from 'selectors'\r\nimport { updateNewSlot, execute } from 'actions'\r\n\r\nfunction AdSlotMedia({ validateId, itemId }) {\r\n\tconst { type, targetUrl, temp } = useSelector(state =>\r\n\t\tselectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\t)\r\n\r\n\tconst { useFallback = false, tempUrl, mime } = temp\r\n\r\n\tconst { temp: errImg, targetUrl: errFallbackUrl } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseFallback: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titemId\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA_INFO')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('targetUrl', ev.target.value, null, itemId)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<MediaForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\tsrc={tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tmime={mime || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={mediaProps =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...mediaProps,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemId\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\t\t\t\theight,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotMedia\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField } from '@material-ui/core'\r\n\r\nimport { execute, updateNewAudience } from 'actions'\r\nimport { t, selectValidationsById, selectNewAudience } from 'selectors'\r\n\r\nfunction AudienceBasic({ validateId }) {\r\n\tconst { title } = useSelector(selectNewAudience)\r\n\r\n\tconst { title: errTitle } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateNewAudience('title', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAudienceBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AudienceBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { ContentBox, ContentBody } from 'components/common/dialog/content'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport { selectNewAudience } from 'selectors'\r\n\r\nfunction AdUnitPreview() {\r\n\tconst { title, inputs, version } = useSelector(selectNewAudience)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<AudiencePreview audienceInput={inputs} title={title} />\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdUnitPreview\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tTextField,\r\n\tPaper,\r\n\tTab,\r\n\tTabs,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tRadioGroup,\r\n\tRadio,\r\n\tTypography,\r\n\tCheckbox,\r\n} from '@material-ui/core'\r\nimport {\r\n\tPublicSharp as LocationIcon,\r\n\tLocalOfferSharp as CategoryIcon,\r\n\tWebAssetSharp as PublisherIcon,\r\n\tMoreHorizSharp as AdvIcon,\r\n\tErrorSharp as ErrIcon,\r\n\tWebSharp as BrowserIcon,\r\n\tComputerSharp as OsIcon,\r\n\tDevicesOtherSharp as DevicesIcon,\r\n} from '@material-ui/icons'\r\nimport Autocomplete from 'components/common/autocomplete'\r\n\r\nimport { t, selectAudienceInputsDataByItem } from 'selectors'\r\nimport { execute, updateTargetRuleInput } from 'actions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n\tdisabled: {\r\n\t\topacity: 0.5,\r\n\t},\r\n\tin: {\r\n\t\tcolor: theme.palette.success.main,\r\n\t},\r\n\tnin: {\r\n\t\tcolor: theme.palette.error.main,\r\n\t},\r\n}))\r\n\r\nconst parameterIcon = {\r\n\tlocation: <LocationIcon />,\r\n\tcategories: <CategoryIcon />,\r\n\tpublishers: <PublisherIcon />,\r\n\tos: <OsIcon />,\r\n\tbrowsers: <BrowserIcon />,\r\n\tdevices: <DevicesIcon />,\r\n\tadvanced: <AdvIcon />,\r\n}\r\n\r\nconst getApply = (applyType, currentApply = [], actionType) =>\r\n\tapplyType === 'single'\r\n\t\t? actionType\r\n\t\t: [...currentApply, actionType].filter((t, i, all) => all.indexOf(t) === i)\r\n\r\nconst Sources = ({\r\n\tid,\r\n\tsource = [],\r\n\tcollection,\r\n\tplaceholder,\r\n\tlabel,\r\n\tindex,\r\n\ttarget = {},\r\n\tparameter,\r\n\titemId,\r\n\titemType,\r\n\tactionType,\r\n\tapplyType,\r\n\tdisabled,\r\n\tdisabledSrcValues,\r\n}) => {\r\n\tconst apply = getApply(applyType, target.apply, actionType)\r\n\r\n\treturn source.length ? (\r\n\t\t<Autocomplete\r\n\t\t\tmultiple\r\n\t\t\tid={id}\r\n\t\t\tfullWidth\r\n\t\t\tdirection='auto'\r\n\t\t\topenOnClick\r\n\t\t\trequired={true}\r\n\t\t\tdisabled={disabled}\r\n\t\t\thideSelectedOnDisable\r\n\t\t\tdisabledSrcValues={disabledSrcValues}\r\n\t\t\tdisableCloseOnSelect\r\n\t\t\t// error={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t// errorText={\r\n\t\t\t// \tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t// \t\t? invalidFields[id].errMsg\r\n\t\t\t// \t\t: null\r\n\t\t\t// }\r\n\t\t\tonChange={value => {\r\n\t\t\t\texecute(\r\n\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\t...target,\r\n\t\t\t\t\t\t\t...{ [actionType]: value, apply },\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}}\r\n\t\t\tlabel={label}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\tsource={source}\r\n\t\t\tvalue={target[actionType] || []}\r\n\t\t\tvariant='outlined'\r\n\t\t/>\r\n\t) : (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tvariant='outlined'\r\n\t\t\ttype='text'\r\n\t\t\trequired\r\n\t\t\tdisabled={disabled}\r\n\t\t\tname='name'\r\n\t\t\tvalue={target.value}\r\n\t\t\tlabel={label}\r\n\t\t\tonChange={ev =>\r\n\t\t\t\texecute(\r\n\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\ttarget: { ...target, ...{ [actionType]: ev.target.value, apply } },\r\n\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tmaxLength={120}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst getMultipleActionsUsedValues = ({ actions, currentAction, target }) => {\r\n\tconst currentSelectedValues = actions\r\n\t\t.filter(a => a.type !== currentAction.type)\r\n\t\t.reduce((all, a) => {\r\n\t\t\treturn [\r\n\t\t\t\t...all,\r\n\t\t\t\t...(target[a.type] || []),\r\n\t\t\t\t...(currentAction.disabledValues || []),\r\n\t\t\t]\r\n\t\t}, [])\r\n\t\t.filter((x, i, all) => all.indexOf(x) === i)\r\n\r\n\treturn currentSelectedValues\r\n}\r\n\r\nconst Targets = ({\r\n\tinputs,\r\n\tsource = {},\r\n\textraInfo = null,\r\n\tcollection,\r\n\tplaceholder,\r\n\tlabel,\r\n\tindex,\r\n\ttarget = {},\r\n\tparameter,\r\n\t// classes,\r\n\t// invalidFields,\r\n\tactions,\r\n\tapplyType,\r\n\titemId,\r\n\titemType,\r\n\tdisabledValues,\r\n\tSOURCES,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst id = `target-${index}`\r\n\tconst applyValue = target.apply || actions[0].type\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tjustifyContent='space-between'\r\n\t\t>\r\n\t\t\t<Box>\r\n\t\t\t\t{applyType === 'single' && (\r\n\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\taria-label={parameter}\r\n\t\t\t\t\t\tname={parameter}\r\n\t\t\t\t\t\tvalue={applyValue}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\t\t\t\ttarget: { ...target, apply: ev.target.value },\r\n\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{actions.map(a => (\r\n\t\t\t\t\t\t\t<Box key={parameter + a.type}>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Radio\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={clsx({\r\n\t\t\t\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\r\n\t\t\t\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={a.type}\r\n\t\t\t\t\t\t\t\t\tlabel={a.label}\r\n\t\t\t\t\t\t\t\t\tclassName={clsx({\r\n\t\t\t\t\t\t\t\t\t\t[classes.disabled]: a.type !== applyValue,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t{!!a.value ? (\r\n\t\t\t\t\t\t\t\t\ta.value\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Sources\r\n\t\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\t\tsource={source[a.type]}\r\n\t\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={a.type !== applyValue}\r\n\t\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\t\tparameter={parameter}\r\n\t\t\t\t\t\t\t\t\t\titemId={itemId}\r\n\t\t\t\t\t\t\t\t\t\tactionType={a.type}\r\n\t\t\t\t\t\t\t\t\t\tapplyType={applyType}\r\n\t\t\t\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\t\t\t\tdisabledSrcValues={disabledValues[a.type]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t)}\r\n\t\t\t\t{applyType === 'multiple' &&\r\n\t\t\t\t\tactions.map(a => (\r\n\t\t\t\t\t\t<Box key={parameter + a.type}>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tclassName={clsx({\r\n\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\r\n\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{a.label}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t{!!a.value ? (\r\n\t\t\t\t\t\t\t\ta.value\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Sources\r\n\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\tsource={source[a.type]}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tparameter={parameter}\r\n\t\t\t\t\t\t\t\t\titemId={itemId}\r\n\t\t\t\t\t\t\t\t\tactionType={a.type}\r\n\t\t\t\t\t\t\t\t\tapplyType={applyType}\r\n\t\t\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\t\t\tdisabledSrcValues={getMultipleActionsUsedValues({\r\n\t\t\t\t\t\t\t\t\t\tactions,\r\n\t\t\t\t\t\t\t\t\t\tcurrentAction: a,\r\n\t\t\t\t\t\t\t\t\t\ttarget,\r\n\t\t\t\t\t\t\t\t\t}).concat(disabledValues[a.type] || [])}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t))}\r\n\t\t\t\t{applyType === 'multiple-checkbox' &&\r\n\t\t\t\t\tactions.map(a => (\r\n\t\t\t\t\t\t<Box key={parameter + a.value}>\r\n\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!target[a.value]}\r\n\t\t\t\t\t\t\t\t\t\t\tname={a.value}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...target,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[a.value]: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={a.label}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<FormHelperText>{a.helper}</FormHelperText>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t))}\r\n\t\t\t</Box>\r\n\t\t\t<Box>{extraInfo}</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nconst NewTargetingRules = ({ itemType, itemId, validateId, advancedOnly }) => {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst classes = useStyles()\r\n\r\n\tconst { SOURCES, inputs, errorParameters } = useSelector(state =>\r\n\t\tselectAudienceInputsDataByItem(\r\n\t\t\tstate,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t\tvalidateId,\r\n\t\t\tadvancedOnly\r\n\t\t)\r\n\t)\r\n\r\n\tconst { parameter, source, actions, applyType, disabledValues, extraInfo } =\r\n\t\tSOURCES[tabIndex] || {}\r\n\r\n\treturn (\r\n\t\t<Box display='flex' flexDirection='column' width={1} height={1}>\r\n\t\t\t{!advancedOnly && (\r\n\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t<Paper position='static' variant='outlined'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{SOURCES.map(({ parameter }, index) => (\r\n\t\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\t\tkey={parameter}\r\n\t\t\t\t\t\t\t\t\tlabel={parameter}\r\n\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\terrorParameters[parameter] ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<ErrIcon color='error' />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tparameterIcon[parameter]\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box display='flex' flexGrow='1'>\r\n\t\t\t\t<Targets\r\n\t\t\t\t\tinputs={inputs}\r\n\t\t\t\t\ttarget={inputs[parameter]}\r\n\t\t\t\t\tkey={parameter}\r\n\t\t\t\t\tparameter={parameter}\r\n\t\t\t\t\tlabel={t(parameter)}\r\n\t\t\t\t\tplaceholder={t(parameter)}\r\n\t\t\t\t\tsource={source || {}}\r\n\t\t\t\t\textraInfo={extraInfo}\r\n\t\t\t\t\tdisabledValues={disabledValues || {}}\r\n\t\t\t\t\tSOURCES={SOURCES}\r\n\t\t\t\t\tactions={actions}\r\n\t\t\t\t\tapplyType={applyType}\r\n\t\t\t\t\titemId={itemId}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\tclasses={classes}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nNewTargetingRules.propTypes = {\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nexport default NewTargetingRules\r\n","import React, { Fragment } from 'react'\r\nimport {\r\n\tBox,\r\n\tTooltip,\r\n\tList,\r\n\tListItemText,\r\n\tListItemIcon,\r\n\tListItem,\r\n\tIconButton,\r\n\tButton,\r\n\tChip,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { Alert } from '@material-ui/lab'\r\nimport {\r\n\tLooksOneSharp,\r\n\tLooksTwoSharp,\r\n\tLooks3Sharp,\r\n\tRefreshSharp,\r\n\tInfoSharp,\r\n\tFileCopySharp,\r\n} from '@material-ui/icons'\r\nimport { useSelector } from 'react-redux'\r\nimport { timeAgo } from 'helpers/analyticsTimeHelpers'\r\nimport { selectWebsiteByWebsite, t, selectAccountIdentityAddr } from 'selectors'\r\nimport { execute, updateWebsiteVerification, addToast } from 'actions'\r\nimport copy from 'copy-to-clipboard'\r\n\r\nconst UPDATE_AGAIN_AFTER = 2 * 60 * 60 * 1000 // 2 h\r\n\r\nexport const getIssue = issue => {\r\n\tconst data = {\r\n\t\tlabel: issue,\r\n\t\targs: [],\r\n\t}\r\n\tswitch (issue) {\r\n\t\tcase 'SLOT_ISSUE_INTEGRATION_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\t\tcase 'SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\r\n\t\tdefault:\r\n\t\t\treturn data\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmessage: {\r\n\t\tdisplay: 'block',\r\n\t},\r\n\tissueChip: {\r\n\t\tmarginRight: theme.spacing(0.5),\r\n\t\tmarginTop: theme.spacing(0.5),\r\n\t\tmarginBottom: theme.spacing(0.5),\r\n\t},\r\n\tcopyBtn: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nexport function RenderIssue({ label, args }) {\r\n\treturn args.some(a => a.type === 'anchor') ? (\r\n\t\tt(label, {\r\n\t\t\targs: args.map((a, index) =>\r\n\t\t\t\ta.type === 'anchor' ? (\r\n\t\t\t\t\t<ExternalAnchor key={index} href={a.href}>\r\n\t\t\t\t\t\t{` ${t(a.label)}`}\r\n\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tt(a)\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t})\r\n\t) : (\r\n\t\t<div\r\n\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t__html: t(label, { args }),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ALL_ISSUES = {\r\n\tSLOT_ISSUE_BLACKLISTED: { icon: LooksOneSharp, shortLabel: t('BLACKLISTED') },\r\n\tSLOT_ISSUE_OWNERSHIP_NOT_VERIFIED: {\r\n\t\ticon: LooksTwoSharp,\r\n\t\tshortLabel: t('NOT_VERIFIED'),\r\n\t},\r\n\tSLOT_ISSUE_SOMEONE_ELSE_VERIFIED: {\r\n\t\ticon: Looks3Sharp,\r\n\t\tshortLabel: t('VERIFIED_BY_SOMEONE_ELSE'),\r\n\t},\r\n}\r\n\r\nexport const WebsiteVerifyBtn = ({ id, website, issues, updated }) => {\r\n\tconst lastUpdated = updated ? Date.now() - new Date(updated).valueOf() : null\r\n\tconst canUpdate = !updated || lastUpdated > UPDATE_AGAIN_AFTER\r\n\treturn (\r\n\t\t!!issues.length && (\r\n\t\t\t<Box my={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdisabled={!canUpdate}\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tstartIcon={<RefreshSharp />}\r\n\t\t\t\t\tonClick={() => execute(updateWebsiteVerification({ id, website }))}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('TRY_VERIFY')}\r\n\t\t\t\t</Button>\r\n\t\t\t\t{!canUpdate && (\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\talign='right'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('VERIFICATION_UPDATED_AGO', {\r\n\t\t\t\t\t\t\targs: [timeAgo(new Date(updated).valueOf())],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n\r\nexport function WebsiteIssues({ issues, website, asKeyWords, tryAgainBtn }) {\r\n\tconst classes = useStyles()\r\n\tconst site = useSelector(state => selectWebsiteByWebsite(state, website))\r\n\tconst defaultIssues = !website ? ['SLOT_ISSUE_NO_WEBSITE'] : []\r\n\tconst data = issues || site.issues || defaultIssues\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{!!data.length ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{site.id && tryAgainBtn && <WebsiteVerifyBtn {...site} />}\r\n\t\t\t\t\t{data.map((id, index) => {\r\n\t\t\t\t\t\tconst { label, args } = getIssue(id)\r\n\t\t\t\t\t\treturn !!asKeyWords ? (\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\tinteractive\r\n\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\ttitle={<RenderIssue label={label} args={args} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={ALL_ISSUES[label].shortLabel}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.issueChip}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Box key={id} my={index !== 0 && index < data.length ? 1 : 0}>\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tseverity='warning'\r\n\t\t\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\t\t\tclasses={{ message: classes.message }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<RenderIssue label={label} args={args} />\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : !!asKeyWords ? (\r\n\t\t\t\t<Typography component='div' variant='caption' color='secondary'>\r\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\r\n\t\t\t\t</Typography>\r\n\t\t\t) : (\r\n\t\t\t\t<Alert severity='success' variant='filled' classes={classes}>\r\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function WebsiteIssuesLegend() {\r\n\treturn (\r\n\t\t<List dense disablePadding>\r\n\t\t\t<ListItem>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t<InfoSharp />\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<ListItemText primary={t('NEW_WEBSITE_CREATE_FROM_SLOT_INFO')} />\r\n\t\t\t</ListItem>\r\n\t\t\t<ListItem>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t<InfoSharp />\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={t('VERIFICATION_INFO_TEXT', {\r\n\t\t\t\t\t\targs: [24, 'HOURS', 2, 'HOURS'],\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t</List>\r\n\t)\r\n}\r\n\r\nexport function WebsiteDSNRecord({ website }) {\r\n\tconst classes = useStyles()\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst dnsRecord = `adex-publisher=${identityAddr}`\r\n\r\n\treturn (\r\n\t\t<Box display='flex' flexDirection='column' height={1} width={1}>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Typography className={classes.subtitle} component='div' gutterBottom>\r\n\t\t\t\t\t{t('DNS_RECORD_INFO', { args: [website] })}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tcomponent='div'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t\twidth={1}\r\n\t\t\t\tmb={1}\r\n\t\t\t>\r\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t<pre>{dnsRecord}</pre>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classes.copyBtn}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(dnsRecord)\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FileCopySharp />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Typography className={classes.subtitle} component='div' gutterBottom>\r\n\t\t\t\t\t{t('WEBSITE_DNS_RECORD_MORE_INFO', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\tkey={1}\r\n\t\t\t\t\t\t\t\thref='https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{` ${t('THIS_TUTORIAL')}`}\r\n\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tTypography,\r\n\tGrid,\r\n\tBox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tChip,\r\n} from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { IabCategories } from 'adex-models'\r\nimport Media from 'components/common/media'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tWebsiteIssues,\r\n\tWebsiteDSNRecord,\r\n\tALL_ISSUES,\r\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { styles } from '../styles'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectAccountIdentityAddr,\r\n\tselectDemandAnalyticsByType,\r\n} from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst SlotFallback = ({ img, targetUrl }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Media\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst AdSlotPreview = () => {\r\n\tconst {\r\n\t\ttype,\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\twebsite,\r\n\t\ttemp,\r\n\t\ttargetUrl,\r\n\t\trules,\r\n\t\trulesInput,\r\n\t\tminPerImpression,\r\n\t} = useSelector(selectNewAdSlot)\r\n\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst typeDemand = useSelector(state =>\r\n\t\tselectDemandAnalyticsByType(state, type)\r\n\t)\r\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\r\n\tconst { categories = [], suggestedMinCPM, hostname, issues } = temp\r\n\r\n\tconst hasIssues = hostname && issues && issues.length\r\n\tconst showDnsRecord =\r\n\t\thasIssues &&\r\n\t\tissues.some(i => i === ALL_ISSUES.SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('SLOT_MIN_CPM', { args: [symbol] })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\tautoSetMinCPM\r\n\t\t\t\t\t\t\t\t\t? t('SLOT_AUTO_MIN_CPM_PREVIEW_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedMinCPM, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_MIN_CPM_PREVIEW_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [minPerImpression, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('SLOT_ALLOW_ADULT_CONTENT')}\r\n\t\t\t\t\t\t\tright={allowAdultContent ? t('YES') : t('NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('WEBSITE_CATEGORIES')}\r\n\t\t\t\t\t\t\tright={categories.map(cat => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={cat}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={t(\r\n\t\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{(!typeDemand || !typeDemand.raw) && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('DEMAND_WARNINGS')}\r\n\t\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t\t{t('SLOT_NO_CURRENT_DEMAND', { args: [type] })}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{showDnsRecord && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_DNS_RECORD_LABEL')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteDSNRecord website={website} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{hasIssues && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_ISSUES')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteIssues issues={issues} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t{temp.useFallback ? (\r\n\t\t\t\t\t\t\t<SlotFallback img={temp} targetUrl={targetUrl} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<PropRow left={t('FALLBACK_DATA')} right={t('NO')} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\r\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\r\n\t\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdSlotPreview\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField } from '@material-ui/core'\r\nimport { t, selectValidationsById, selectNewWebsite } from 'selectors'\r\nimport { updateNewWebsite, execute } from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst newItem = useSelector(selectNewWebsite)\r\n\r\n\tconst { website = '' } = newItem\r\n\r\n\tconst { website: errWebsite } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tvalue={website}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('WEBSITE_LABEL')}\r\n\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty\r\n\t\t\t\t\t\t\t\t? errWebsite.errMsg\r\n\t\t\t\t\t\t\t\t: t('NEW_WEBSITE_HELPER_TEXT')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewWebsite('website', (ev.target.value || '').trim())\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Grid, Chip } from '@material-ui/core'\r\nimport { IabCategories } from 'adex-models'\r\n\r\nimport {\r\n\tWebsiteIssues,\r\n\tALL_ISSUES,\r\n\tWebsiteDSNRecord,\r\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { t, selectNewWebsite } from 'selectors'\r\n\r\nconst WebsitePreview = () => {\r\n\tconst { website, temp = {} } = useSelector(selectNewWebsite)\r\n\r\n\tconst { categories = [], hostname, issues } = temp\r\n\tconst hasIssues = hostname && issues && issues.length\r\n\tconst showDnsRecord =\r\n\t\thasIssues &&\r\n\t\tissues.some(i => i === ALL_ISSUES.SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('WEBSITE_CATEGORIES')}\r\n\t\t\t\t\t\t\tright={categories.map(cat => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={cat}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={t(\r\n\t\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{showDnsRecord && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_DNS_RECORD_LABEL')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteDSNRecord website={website} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{hasIssues && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_ISSUES')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteIssues issues={issues} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default WebsitePreview\r\n","import React from 'react'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign, Audience } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AudienceBasic from './Audience/AudienceBasic'\r\nimport NewAudiencePreview from './Audience/NewAudiencePreview'\r\nimport NewTargetingRules from './NewTargetingRules'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport WebsiteBasic from './Website/WebsiteBasic'\r\nimport WebsitePreview from './Website/WebsitePreview'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateNewUnitBasics,\r\n\tvalidateNewCampaignFinance,\r\n\tvalidateNewCampaignAdUnits,\r\n\tvalidateNewSlotBasics,\r\n\tvalidateNewSlotPassback,\r\n\tvalidateNewUnitMedia,\r\n\tvalidateCampaignAudienceInput,\r\n\tvalidateAudienceBasics,\r\n\tvalidateAudienceInput,\r\n\tvalidateAndSaveNewWebsiteBasics,\r\n\tcompleteItem,\r\n\tresetNewItem,\r\n\tsaveUnit,\r\n\tsaveSlot,\r\n\tsaveAudience,\r\n\topenCampaign,\r\n\tresetTableStateById,\r\n} from 'actions'\r\n\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nexport const CampaignTargetingRules = props => (\r\n\t<NewTargetingRules {...props} itemType='Campaign' />\r\n)\r\n\r\nexport const AudienceRules = props => (\r\n\t<NewTargetingRules {...props} itemType='Audience' />\r\n)\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('AdUnit'))}\r\n\t\tvalidateIdBase='new-AdUnit-'\r\n\t\titemType='AdUnit'\r\n\t\tstepsId='new-adunit-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_BASIC_STEP',\r\n\t\t\t\tcomponent: AdUnitBasic,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitBasics(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_MEDIA_STEP',\r\n\t\t\t\tcomponent: AdUnitMedia,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitMedia(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: AdUnitFormPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\tcompeteAction: saveUnit,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon color='primary' />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => {\r\n\t\t\texecute(resetNewItem('Campaign'))\r\n\t\t\texecute(resetTableStateById(NEW_CAMPAIGN_UNITS))\r\n\t\t}}\r\n\t\tvalidateIdBase='new-Campaign-'\r\n\t\titemType='Campaign'\r\n\t\tstepsId='new-campaign-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\r\n\t\t\t\tcomponent: CampaignUnits,\r\n\t\t\t\tvalidationFn: props => execute(validateNewCampaignAdUnits(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_AUDIENCE_STEP',\r\n\t\t\t\tcomponent: CampaignTargetingRules,\r\n\t\t\t\tvalidationFn: props => execute(validateCampaignAudienceInput(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\r\n\t\t\t\tcomponent: CampaignFinance,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignFinance({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'OPEN_CAMPAIGN',\r\n\t\t\t\tcomponent: CampaignFormPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t\t\t\tcompeteAction: openCampaign,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t\t{...props}\r\n\t/>\r\n)\r\n\r\nexport const NewCampaignFromAudience = props => (\r\n\t<NewCampaignStepsWithDialog {...props} title='NEW_CAMPAIGN_FROM_AUDIENCE' />\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('AdSlot'))}\r\n\t\tvalidateIdBase='new-AdUnit-'\r\n\t\titemType='AdSlot'\r\n\t\tstepsId='new-slot-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\r\n\t\t\t\tcomponent: AdSlotBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewSlotBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\r\n\t\t\t\tcomponent: AdSlotMedia,\r\n\t\t\t\tvalidationFn: props => execute(validateNewSlotPassback(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: AdSlotPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t\t\t\tcompeteAction: saveSlot,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n\r\n// Audience\r\n\r\nexport const AudienceSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('Audience'))}\r\n\t\tvalidateIdBase='new-Audience-'\r\n\t\titemType='Audience'\r\n\t\tstepsId='new-audience-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'AUDIENCE_BASIC_STEP',\r\n\t\t\t\tcomponent: AudienceBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateAudienceBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t...(props.skipRules\r\n\t\t\t\t? []\r\n\t\t\t\t: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: 'AUDIENCE_STEP',\r\n\t\t\t\t\t\t\tcomponent: AudienceRules,\r\n\t\t\t\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateAudienceInput({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  ]),\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: NewAudiencePreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Audience',\r\n\t\t\t\t\t\t\tcompeteAction: saveAudience,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Audience}\r\n\t/>\r\n)\r\n\r\nexport const NewAudienceWithDialog = WithDialog(AudienceSteps)\r\n\r\nexport const NewAudienceDialog = props => (\r\n\t<NewAudienceWithDialog\r\n\t\tbtnLabel='NEW_AUDIENCE'\r\n\t\ttitle='CREATE_NEW_AUDIENCE'\r\n\t\t{...props}\r\n\t/>\r\n)\r\n\r\n// Website\r\n\r\nexport const WebsiteSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('Website'))}\r\n\t\tvalidateIdBase='new-Website-'\r\n\t\titemType='Website'\r\n\t\tstepsId='new-website-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'WEBSITE_BASIC_STEP',\r\n\t\t\t\tnextBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: WebsiteBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateAndSaveNewWebsiteBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'WEBSITE_INFO_AND_PREVIEW_STEP',\r\n\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\tcomponent: WebsitePreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Website',\r\n\t\t\t\t\t\t\t// Just to close the dialog\r\n\t\t\t\t\t\t\tcompeteAction: null,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Audience}\r\n\t/>\r\n)\r\n\r\nexport const NewWebsiteWithDialog = WithDialog(WebsiteSteps)\r\n\r\nexport const NewWebsiteDialog = props => (\r\n\t<NewWebsiteWithDialog\r\n\t\tbtnLabel='NEW_WEBSITE'\r\n\t\ttitle='CREATE_NEW_WEBSITE'\r\n\t\t{...props}\r\n\t/>\r\n)\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { Tooltip, IconButton, Box } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport { utils } from 'ethers'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport Media from 'components/common/media'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsTableData,\r\n\tselectAdUnitsStatsMaxValues,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRIMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ noActions, noClone, maxImpressions, maxClicks, maxCTR }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ selectOnImage, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\tconst ImgComponent = selectOnImage ? Media : RRIMedia\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImgComponent\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t{...(!selectOnImage ? { to } : {})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${Number(ctr).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, Number(maxCTR.toFixed(2))],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignId,\r\n\t\thandleSelect,\r\n\t\t// selected,\r\n\t\titems,\r\n\t} = props\r\n\r\n\tconst selector = selectAdUnitsTableData\r\n\r\n\tconst { maxClicks, maxImpressions, maxCTR } = useSelector(state =>\r\n\t\tselectAdUnitsStatsMaxValues(state, { campaignId, items })\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxCTR,\r\n\t\t\t}),\r\n\t\t[maxCTR, maxClicks, maxImpressions, noActions, noClone]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector,\r\n\t\tselectorArgs,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tif (campaignId) {\r\n\t\t\tsetSelectorArgs({ campaignId })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (items) {\r\n\t\t\tsetSelectorArgs({ campaignId, items })\r\n\t\t}\r\n\t}, [campaignId, items])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\t{...props}\r\n\t\t\ttitle={campaignId ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\thandleRowSelectionChange={handleSelect}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport { Box, IconButton, Tooltip } from '@material-ui/core'\r\nimport { utils } from 'ethers'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Media from 'components/common/media'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport {\r\n\tt,\r\n\tselectAdSlotsTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRMedia\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: title => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\taria-label='view'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdSlot'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tselectableRows: 'none',\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t\t[symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport { Tooltip, IconButton, Typography, Box } from '@material-ui/core'\r\nimport { VisibilitySharp as Visibility } from '@material-ui/icons'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tt,\r\n\tselectAudiencesTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport { useSelector } from 'react-redux'\r\nimport { useTableData } from './tableHooks'\r\nimport { execute, updateNewCampaign } from 'actions'\r\nimport { formatDate } from 'helpers/formatters'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRTypography = withReactRouterLink(Typography)\r\n\r\nconst getCols = () => [\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellProps: () => ({ style: { cursor: 'pointer' } }),\r\n\t\t\tcustomBodyRender: ({ title, to }) => (\r\n\t\t\t\t<RRTypography key={title} to={to}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</RRTypography>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'updated',\r\n\t\tlabel: t('PROP_UPDATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created, undefined, t('-')),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellHeaderProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tsetCellProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tcustomBodyRender: ({ id, audienceInput, to, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip arrow title={t('LABEL_VIEW')} aria-label='view'>\r\n\t\t\t\t\t\t<RRIconButton to={to} aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_NEW_CAMPAIGN_FROM_AUDIENCE')}\r\n\t\t\t\t\t\taria-label='new-campaign'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ticon={<CampaignIcon color='secondary' />}\r\n\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='Audience'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tselectableRows: 'none',\r\n})\r\n\r\nfunction AudiencesTable(props) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t\t[symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectAudiencesTableData,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('SAVED_AUDIENCES')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AudiencesTable\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={420}\r\n\t\t\theight={420}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Grid, Button, CircularProgress, Box, Tooltip } from '@material-ui/core'\r\nimport { BlockSharp, CheckSharp } from '@material-ui/icons'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas, toFixedFloat } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { execute, excludeOrIncludeWebsites, confirmAction } from 'actions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'isBlacklisted',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\t// NOTE: hidden - used for selected items\r\n\t\tname: 'website',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (key, tableMeta) => {\r\n\t\t\t\treturn tableMeta.rowData[0] ? (\r\n\t\t\t\t\t<Tooltip arrow key={key} title={t('WEBSITE_IS_EXCLUDED')}>\r\n\t\t\t\t\t\t<Box color='error.main'>{key}</Box>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Box>{key}</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas((earnings || 0).toFixed(2))} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, toFixedFloat(maxEarnings, 2)],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'averageCPM',\r\n\t\tlabel: t('LABEL_AVERAGE_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tcustomBodyRender: averageCPM =>\r\n\t\t\t\t`${formatNumberWithCommas((averageCPM || 0).toFixed(2))} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, toFixedFloat(maxCTR, 4)],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst IncludeOrExcludeWebsitesBtn = ({\r\n\taction,\r\n\texclude,\r\n\thostnames = [],\r\n\tcampaignId,\r\n\ticon,\r\n\tcolor,\r\n\tonSuccess,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `${action}-campaign-${campaignId}`)\r\n\t)\r\n\treturn (\r\n\t\t<div className={classes.wrapper}>\r\n\t\t\t<Button\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor={color}\r\n\t\t\t\tsize='medium'\r\n\t\t\t\tfullWidth\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\texcludeOrIncludeWebsites({\r\n\t\t\t\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t\t\t\t\t\thostnames,\r\n\t\t\t\t\t\t\t\t\t\texclude,\r\n\t\t\t\t\t\t\t\t\t\taction,\r\n\t\t\t\t\t\t\t\t\t\tonSuccess,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconfirmLabel: t(`${action}_WEBSITES_ACTION_LABEL`),\r\n\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\ttitle: t(`${action}_WEBSITES_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttext: t(`${action}_WEBSITES_CONFIRM_INFO`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\tendIcon={icon}\r\n\t\t\t>\r\n\t\t\t\t{t(`BTN_${action}_WEBSITES`)}\r\n\t\t\t</Button>\r\n\t\t\t{spinner && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst WebsitesActions = ({ campaignId, hostnames = [], onSuccess }) => {\r\n\treturn (\r\n\t\t<Grid container spacing={1} alignItems='center'>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\taction='EXCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\texclude={true}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<BlockSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\taction='INCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<CheckSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst getOptions = ({ reloadData, campaignId }) => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'impressions',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tselectableRows: 'none',\r\n\trowsPerPage: 25,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst hostnames = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[1])\r\n\r\n\t\tconst actionData = {\r\n\t\t\tcampaignId,\r\n\t\t\thostnames,\r\n\t\t\tonSuccess: reloadData,\r\n\t\t}\r\n\r\n\t\treturn <WebsitesActions {...actionData} />\r\n\t},\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({\r\n\tcampaignId,\r\n\tisActive,\r\n\tcanSendMsgs,\r\n\ttableId,\r\n}) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() => getCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t\t[maxCTR, maxClicks, maxEarnings, maxImpressions, symbol]\r\n\t)\r\n\r\n\tconst allowActions = isActive && canSendMsgs\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions({ campaignId, isActive, canSendMsgs }))\r\n\t}, [campaignId, canSendMsgs, isActive])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttableId={tableId}\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable={allowActions}\r\n\t\t\ttoolbarEnabled\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCompanyData,\r\n\tselectPublisherReceiptsStatsByMonthTableData,\r\n\tselectPublisherReceiptsStatsByMonthTotalValues,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatDate,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { BigNumber } from 'ethers'\r\nimport moment from 'moment'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function PublisherReceiptTpl({ date } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\tconst monthBreakdown = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTableData(state, date)\r\n\t)\r\n\r\n\tconst { totalPayouts, totalImpressions } = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTotalValues(state, date)\r\n\t)\r\n\tconst cpm = ((totalPayouts / totalImpressions) * 1000).toFixed(2)\r\n\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t//Unique receipt number made from identity address and the month of the receipt\r\n\t\t\t\t\t\t\tformatAddress(\r\n\t\t\t\t\t\t\t\t`${BigNumber.from(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.unix() * 1000\r\n\t\t\t\t\t\t\t\t).toHexString()}${identityAddr.substr(5)}`,\r\n\t\t\t\t\t\t\t\t'-'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t{formatDate(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD')\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_EARNED')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(totalImpressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_AVG_CPM')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${isFinite(cpm) ? cpm : Number(0).toFixed(2)}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t{monthBreakdown.length > 0 ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_DATE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{`${t('RECEIPT_EARNED')} (${symbol})`}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{monthBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => a.date - b.date)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatDateTime(stats.date, 'YYYY-MM-DD')}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.payouts.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tmt={2}\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\t\talignContent='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography>{t('NO_REVENUE_THIS_MONTH')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nPublisherReceiptTpl.propTypes = {\r\n\tdate: PropTypes.any.isRequired,\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404_1 from 'resources/404-no.png'\r\nimport IMG_404_2 from 'resources/404-yes.png'\r\nimport Media from 'components/common/media'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst G404 = ({ size }) => (\r\n\t<Grid item xs={size}>\r\n\t\t<Typography variant={`h${6 - size}`} style={{ textTransform: 'uppercase' }}>\r\n\t\t\t{t('404')}\r\n\t\t</Typography>\r\n\t</Grid>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst PageNotFound = ({\r\n\ttitle,\r\n\tsubtitle,\r\n\tgoToTxt,\r\n\tgoToPath,\r\n\tskipGoToButton,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<div className={classes.wrapper}>\r\n\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\r\n\t\t\t\t\t\t{t(title || '404')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<G404 size={3} />\r\n\t\t\t\t<G404 size={4} />\r\n\t\t\t\t<G404 size={2} />\r\n\t\t\t\t<G404 size={1} />\r\n\t\t\t\t<G404 size={5} />\r\n\t\t\t\t<G404 size={3} />\r\n\t\t\t\t<G404 size={2} />\r\n\r\n\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t<Media src={IMG_404_1} alt={'no'} className={classes.img} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t<Media src={IMG_404_2} alt={'yes'} className={classes.img} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default PageNotFound\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { utils } from 'ethers'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function CampaignReceiptTpl({ campaignId } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = (campaign.status || {}).humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!campaign.spec || !campaign.creator) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\targs: ['CAMPAIGN', campaignId],\r\n\t\t\t\t})}\r\n\t\t\t\tgoToPath={`/dashboard/advertiser`}\r\n\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_PAID')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\tutils.formatUnits(campaign.depositAmount || '0', decimals)\r\n\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${\r\n\t\t\t\t\t\t\tcampaign.status.fundsDistributedRatio && campaign.depositAmount\r\n\t\t\t\t\t\t\t\t? utils.commify(\r\n\t\t\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\t\t\tutils.formatUnits(campaign.depositAmount || '\t0', decimals)\r\n\t\t\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: Number(0).toFixed(2)\r\n\t\t\t\t\t\t} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${t('WEBSITE_EARNINGS')} (${symbol})`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talign='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.breakAll)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{stats.website}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nCampaignReceiptTpl.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Paper, Typography, TextField, Grid } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={1}>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom variant='h5'>\r\n\t\t\t\t\t\t\t\t{t('COMPANY_DETAIL_HEADING')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Button, Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport { Print, DateRangeSharp, GetApp } from '@material-ui/icons'\r\nimport { PublisherReceiptTpl } from './PublisherReceiptTpl'\r\nimport { CampaignReceiptTpl } from './CampaignReceiptTpl'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tt,\r\n\tselectSelectedCampaigns,\r\n\tselectSide,\r\n\tselectSpinnerById,\r\n\tselectAccountIdentityDeployData,\r\n\tselectReceiptMonths,\r\n} from 'selectors'\r\nimport { execute, resetSelectedItems, getReceiptData } from 'actions'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport { styles } from './styles'\r\nimport ReactGA from 'react-ga'\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst side = useSelector(selectSide)\r\n\t// Advertiser Receipt variables\r\n\tconst { itemId } = useParams()\r\n\tconst selectedCampaigns = useSelector(state => selectSelectedCampaigns(state))\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receiptsAdvertiser = selectedByPropsOrParams\r\n\t\t? [selectedByPropsOrParams]\r\n\t\t: selectedCampaigns\r\n\r\n\t// Publisher Receipt variables\r\n\tconst { created } = useSelector(selectAccountIdentityDeployData)\r\n\tconst [startDate, setStartDate] = useState('')\r\n\tconst [endDate, setEndDate] = useState('')\r\n\tconst [dirty, setDirty] = useState(false)\r\n\tconst dates = useSelector(() => selectReceiptMonths(startDate, endDate))\r\n\tconst validateStartDate =\r\n\t\tstartDate <= endDate && startDate !== '' && endDate !== ''\r\n\tconst validateEndDate =\r\n\t\tendDate >= startDate && startDate !== '' && endDate !== ''\r\n\tconst startDateError = !validateStartDate && dirty\r\n\tconst endDateError = !validateEndDate && dirty\r\n\tconst monthMappingStartPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), false)\r\n\t)\r\n\tconst monthMappingEndPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), true)\r\n\t)\r\n\r\n\tconst fetchingPublisherReceiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, FETCHING_PUBLISHER_RECEIPTS)\r\n\t)\r\n\r\n\t// Receipts\r\n\tconst [receipts, setReceipts] = useState(receiptsAdvertiser || [])\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\texecute(resetSelectedItems())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst getReceipts = () => {\r\n\t\tReactGA.event({\r\n\t\t\taction: 'publisher',\r\n\t\t\tcategory: 'get_receipts',\r\n\t\t\tlabel: 'receipts',\r\n\t\t})\r\n\t\tsetDirty(true)\r\n\t\tif (validateStartDate && validateEndDate) {\r\n\t\t\texecute(getReceiptData(startDate, endDate))\r\n\t\t\tsetReceipts(dates.map(item => item.value))\r\n\t\t}\r\n\t}\r\n\r\n\tif (side === 'advertiser' && receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\toverflow='hidden'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\tpageStyle={\r\n\t\t\t\t\t\t\t'@page { size: A4 portrait; marks: none; } @media print { body { -webkit-print-color-adjust: exact; } }'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' &&\r\n\t\t\t\t\t\t\t\t\t(receipts.length === 0 || fetchingPublisherReceiptsSpinner)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\talignItems='flex-start'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingStartPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetStartDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={startDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tstartDateError && startDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('START_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_START_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={startDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('START_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='startDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='start-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingEndPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetEndDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={endDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tendDateError && endDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('END_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_END_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={endDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('END_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='endDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='end-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstyle={{ minHeight: 54.63 }}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tstartIcon={<GetApp />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={() => getReceipts()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GET_RECEIPTS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{fetchingPublisherReceiptsSpinner && (\r\n\t\t\t\t\t\t\t<LinearProgress className={classes.progress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box mt={2} display='flex' alignItems='center' justifyContent='center'>\r\n\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t<Box ref={invoice}>\r\n\t\t\t\t\t\t\t\t\t{receipts.map(item =>\r\n\t\t\t\t\t\t\t\t\t\tside === 'advertiser' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<CampaignReceiptTpl campaignId={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tfetchingPublisherReceiptsSpinner === false && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PublisherReceiptTpl date={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { Receipt }\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { utils } from 'ethers'\r\nimport PropTypes from 'prop-types'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { Box } from '@material-ui/core'\r\nimport { t, selectMainToken } from 'selectors'\r\nimport { useTableData } from './tableHooks'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst getCols = ({ showEarnings, symbol }) => [\r\n\t{\r\n\t\tname: 'countryName',\r\n\t\tlabel: t('PROP_COUNTRY'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'percentImpressions',\r\n\t\tlabel: t('LABEL_PERC'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: percentImpressions =>\r\n\t\t\t\t`${percentImpressions.toFixed(2)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t...(showEarnings\r\n\t\t? [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'averageCPM',\r\n\t\t\t\t\tlabel: t('LABEL_AVERAGE_CPM'),\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tfilter: false,\r\n\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\tcustomBodyRender: averageCPM =>\r\n\t\t\t\t\t\t\t`${utils.commify(averageCPM.toFixed(2))} ${symbol}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'earnings',\r\n\t\t\t\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tfilter: false,\r\n\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t\t\t\t`${utils.commify(earnings.toFixed(2))} ${symbol}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t  ]\r\n\t\t: []),\r\n]\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'impressions',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\trowsPerPage: 10,\r\n})\r\n\r\nfunction StatsByCountryTable(props) {\r\n\tconst { selector, selectorArgs, showEarnings } = props\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t\tshowEarnings,\r\n\t\t\t}),\r\n\t\t[showEarnings, symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector,\r\n\t\tselectorArgs,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<MUIDataTableEnhanced\r\n\t\t\t\t{...props}\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tnoSearch\r\n\t\t\t\tnoPrint\r\n\t\t\t\tnoViewColumns\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nStatsByCountryTable.propTypes = {\r\n\tselector: PropTypes.func.isRequired,\r\n\tshowEarnings: PropTypes.bool,\r\n}\r\n\r\nexport default StatsByCountryTable\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tZoomableGroup,\r\n\tComposableMap,\r\n\tGeographies,\r\n\tGeography,\r\n} from 'react-simple-maps'\r\nimport { Paper } from '@material-ui/core'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { ALEX_GREY } from 'components/App/themeMUi'\r\n\r\nconst MapChart = ({ selector, chartId }) => {\r\n\tconst { chartData, hoverColor, pressedColor } = useSelector(selector)\r\n\r\n\tconst [content, setContent] = useState('')\r\n\r\n\treturn (\r\n\t\t<Paper elevation={2} variant='outlined' square>\r\n\t\t\t<ComposableMap\r\n\t\t\t\tid={chartId}\r\n\t\t\t\tdata-tip='chart-map'\r\n\t\t\t\tprojection='geoMercator'\r\n\t\t\t\tprojectionConfig={{\r\n\t\t\t\t\tscale: 100,\r\n\t\t\t\t}}\r\n\t\t\t\twidth={666}\r\n\t\t\t\theight={420}\r\n\t\t\t>\r\n\t\t\t\t<ZoomableGroup maxZoom={3}>\r\n\t\t\t\t\t<Geographies geography={chartData}>\r\n\t\t\t\t\t\t{({ geographies = [] }) => {\r\n\t\t\t\t\t\t\treturn geographies.map(geo => {\r\n\t\t\t\t\t\t\t\tconst { tooltipElements, fillColor } = geo.properties\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Geography\r\n\t\t\t\t\t\t\t\t\t\tkey={geo.rsmKey}\r\n\t\t\t\t\t\t\t\t\t\tgeography={geo}\r\n\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent(tooltipElements)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent('')\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tfill={fillColor}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tstroke: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\thover: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill: hoverColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tpressed: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill: pressedColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t</Geographies>\r\n\t\t\t\t</ZoomableGroup>\r\n\t\t\t</ComposableMap>\r\n\t\t\t{/* TODO: use material-ui tooltip ot popover */}\r\n\t\t\t{!!content && (\r\n\t\t\t\t<ReactTooltip border={false} backgroundColor={ALEX_GREY}>\r\n\t\t\t\t\t{Array.isArray(content)\r\n\t\t\t\t\t\t? content.map((x, i) => <div key={i}>{x}</div>)\r\n\t\t\t\t\t\t: content}\r\n\t\t\t\t</ReactTooltip>\r\n\t\t\t)}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default MapChart\r\n","import React from 'react'\r\nimport { InputAdornment, IconButton, TextField } from '@material-ui/core'\r\nimport { Edit, UndoOutlined } from '@material-ui/icons'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\texecute,\r\n\tresetNewItem,\r\n\tupdateCampaignAudienceInput,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport { t } from 'selectors'\r\nimport { Campaign, helpers } from 'adex-models'\r\nimport { BigNumber } from 'ethers'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nconst { bondPerActionToUserInputPerMileValue } = helpers\r\n\r\nconst TargetingSteps = ({\r\n\tupdateField,\r\n\tfieldName,\r\n\tstepTitle,\r\n\titemId,\r\n\t...props\r\n}) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('Campaign', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase={`update-campaign-${itemId}-`}\r\n\t\t\titemType='Campaign'\r\n\t\t\tstepsId={`update-campaign-${itemId}`}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: stepTitle || 'CAMPAIGN_AUDIENCE',\r\n\t\t\t\t\tcomponent: CampaignTargetingRules,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateCampaignAudienceInput({\r\n\t\t\t\t\t\t\t\tupdateField,\r\n\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\tfieldName,\r\n\t\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={Campaign}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const TargetingRulesEdit = WithDialog(TargetingSteps)\r\n\r\nexport const EditCPM = ({\r\n\tprop,\r\n\tlabel,\r\n\tpricingBoundsCPMUserInput,\r\n\taction,\r\n\tactionValue,\r\n\tvaluePerAction,\r\n\tupdatedValue,\r\n\tdecimals,\r\n\tsymbol,\r\n\tvalidations,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n\tdirtyProps,\r\n\tvalidateId,\r\n\tcanSendMsgs,\r\n\tspecPricingBounds,\r\n}) => {\r\n\tconst err = validations[prop]\r\n\tconst active = !!activeFields[prop]\r\n\tconst showError = !!err && err.dirty\r\n\tconst isDirty = dirtyProps && dirtyProps.includes(prop)\r\n\r\n\tconst value = isDirty\r\n\t\t? updatedValue\r\n\t\t: pricingBoundsCPMUserInput &&\r\n\t\t  pricingBoundsCPMUserInput[action] &&\r\n\t\t  !!pricingBoundsCPMUserInput[action][actionValue]\r\n\t\t? pricingBoundsCPMUserInput[action][actionValue]\r\n\t\t: formatTokenAmount(\r\n\t\t\t\tBigNumber.from(valuePerAction || 0).mul(1000),\r\n\t\t\t\tdecimals,\r\n\t\t\t\ttrue\r\n\t\t  )\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tmargin='dense'\r\n\t\t\tfullWidth\r\n\t\t\tid={prop}\r\n\t\t\tlabel={t(label)}\r\n\t\t\ttype='text'\r\n\t\t\tname={prop}\r\n\t\t\tvalue={value + (active ? '' : ' ' + symbol)}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tconst value = (ev.target.value || '').trim()\r\n\t\t\t\tupdateField(prop, value)\r\n\t\t\t\texecute(\r\n\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tprop,\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError\r\n\t\t\t\t\t? t(err.errMsg, { args: err.errMsgArgs })\r\n\t\t\t\t\t: active && specPricingBounds && specPricingBounds[action]\r\n\t\t\t\t\t? t(\r\n\t\t\t\t\t\t\t`BOUNDS_${actionValue.toUpperCase()}_EDIT`,\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\tbondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\t\t\t\t\t\tspecPricingBounds[action][actionValue],\r\n\t\t\t\t\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: canSendMsgs ? (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState(prop)\r\n\t\t\t\t\t\t\t\t\t: setActiveFields(prop, true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t) : null,\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tInputAdornment,\r\n\tButton,\r\n\tDivider,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { StopSharp, PauseSharp, StarSharp } from '@material-ui/icons'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { BigNumber } from 'ethers'\r\nimport {\r\n\tItemTitle,\r\n\tMediaCard,\r\n\tItemSpecProp,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport {\r\n\tTargetingRulesEdit,\r\n\tEditCPM,\r\n} from 'components/dashboard/containers/Campaign/CampaignEdits'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectCampaignDisplayStatus,\r\n} from 'selectors'\r\nimport {\r\n\texecute,\r\n\tcloseCampaign,\r\n\tpauseOrResumeCampaign,\r\n\tconfirmAction,\r\n\tmapCurrentToNewCampaignAudienceInput,\r\n} from 'actions'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst getCloseCampaignsFees = ({\r\n\tdepositAmount,\r\n\tvalidators,\r\n\tfundsDistributedRatio,\r\n\tdecimals,\r\n}) => {\r\n\tconst deposit = BigNumber.from(depositAmount)\r\n\tconst totalFees = validators.reduce(\r\n\t\t(sum, { fee }) => sum.add(BigNumber.from(fee)),\r\n\t\tBigNumber.from(0)\r\n\t)\r\n\r\n\tconst feesPercent =\r\n\t\ttotalFees\r\n\t\t\t.mul(BigNumber.from(10000))\r\n\t\t\t.div(deposit)\r\n\t\t\t.toNumber() / 100\r\n\r\n\tconst nonDistributedFunds = deposit.sub(\r\n\t\tdeposit\r\n\t\t\t.mul(fundsDistributedRatio)\r\n\t\t\t.div(BigNumber.from(1000))\r\n\t\t\t.toString()\r\n\t)\r\n\r\n\tconst feesToPay = totalFees.sub(\r\n\t\ttotalFees\r\n\t\t\t.mul(fundsDistributedRatio)\r\n\t\t\t.div(BigNumber.from(1000))\r\n\t\t\t.toString()\r\n\t)\r\n\r\n\tconst percent = feesPercent.toFixed(2) + '%'\r\n\tconst toPay = formatTokenAmount(feesToPay, decimals, false, 2)\r\n\tconst nonDistributed = formatTokenAmount(\r\n\t\tnonDistributedFunds,\r\n\t\tdecimals,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\treturn { percent, toPay, nonDistributed }\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport const CampaignBasic = ({\r\n\titem,\r\n\titemPlain,\r\n\tcanSendMsgs,\r\n\tisActive,\r\n\t...hookProps\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst {\r\n\t\ttitle,\r\n\t\tadUnits = [],\r\n\t\tpricingBounds,\r\n\t\tpricingBoundsCPMUserInput,\r\n\t\tdepositAmount,\r\n\t\tvalidators,\r\n\t\tminPerImpression,\r\n\t\tmaxPerImpression,\r\n\t\taudienceInput,\r\n\t} = item\r\n\r\n\tconst { advanced = {} } = (audienceInput || {}).inputs || {}\r\n\tconst { decimals, symbol } = selectMainToken()\r\n\tconst { title: errTitle } = hookProps.validations\r\n\r\n\tconst { mediaUrl, mediaMime } = adUnits[0] || {}\r\n\tconst status = item.status || {}\r\n\tconst { fundsDistributedRatio } = status\r\n\tconst displayStatus = selectCampaignDisplayStatus(status)\r\n\tconst isPaused = ((item.targetingRules || [])[0] || {}).onlyShowIf === false\r\n\tconst pauseAction = isPaused ? 'RESUME' : 'PAUSE'\r\n\r\n\tconst campaignPricingBounds = pricingBounds || { IMPRESSION: {} }\r\n\tconst cpmMin = campaignPricingBounds.IMPRESSION.min || minPerImpression || 0\r\n\tconst cpmMax = campaignPricingBounds.IMPRESSION.max || maxPerImpression || 0\r\n\r\n\tconst closeSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `closing-campaign-${item.id}`)\r\n\t)\r\n\r\n\tconst pauseSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `pausing-campaign-${item.id}`)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t<MediaCard mediaUrl={mediaUrl} mediaMime={mediaMime} />\r\n\t\t\t\t</Box>\r\n\t\t\t\t{isActive && (\r\n\t\t\t\t\t<Grid container spacing={1} alignItems='center'>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\t\t\tpercent,\r\n\t\t\t\t\t\t\t\t\t\t\ttoPay,\r\n\t\t\t\t\t\t\t\t\t\t\tnonDistributed,\r\n\t\t\t\t\t\t\t\t\t\t} = getCloseCampaignsFees({\r\n\t\t\t\t\t\t\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\t\t\t\t\t\t\tvalidators,\r\n\t\t\t\t\t\t\t\t\t\t\tfundsDistributedRatio,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t\t\t\t\t\t() => execute(closeCampaign({ campaign: item })),\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CLOSE_CAMPAIGN_CONFIRM_LABEL'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t('CLOSE_CAMPAIGN_CONFIRM_TITLE', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t('CLOSE_CAMPAIGN_CONFIRM_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [percent, toPay, nonDistributed, symbol],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={closeSpinner || !canSendMsgs}\r\n\t\t\t\t\t\t\t\t\tendIcon={<StopSharp />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{closeSpinner && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\texecute(pauseOrResumeCampaign({ campaign: item })),\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${pauseAction}_CAMPAIGN_CONFIRM_LABEL`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t(`${pauseAction}_CAMPAIGN_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t(`${pauseAction}_CAMPAIGN_CONFIRM_INFO`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={pauseSpinner || !canSendMsgs}\r\n\t\t\t\t\t\t\t\t\tendIcon={isPaused ? <StarSharp /> : <PauseSharp />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t(`BTN_${pauseAction}_CAMPAIGN`)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{pauseSpinner && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\tprop={'id'}\r\n\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'displayStatus'}\r\n\t\t\t\t\t\t\t\tvalue={displayStatus}\r\n\t\t\t\t\t\t\t\tlabel={t(displayStatus)}\r\n\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end' disableTypography>\r\n\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(status, 'md')}\r\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'created'}\r\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'activeFrom'}\r\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\r\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{/* <Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'CAMPAIGN_MIN_TARGETING'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0 ? t('YES') : t('NO')}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box> */}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'fundsDistributedRatio'}\r\n\t\t\t\t\t\t\t\tvalue={((fundsDistributedRatio || 0) / 10).toFixed(2)}\r\n\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'depositAmount'}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount || 0, decimals) +\r\n\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<EditCPM\r\n\t\t\t\t\t\t\t\tpricingBoundsCPMUserInput={pricingBoundsCPMUserInput}\r\n\t\t\t\t\t\t\t\taction='IMPRESSION'\r\n\t\t\t\t\t\t\t\tactionValue={'min'}\r\n\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\t\tprop='minPerImpression'\r\n\t\t\t\t\t\t\t\tlabel='CPM_MIN'\r\n\t\t\t\t\t\t\t\tvaluePerAction={cpmMin}\r\n\t\t\t\t\t\t\t\tupdatedValue={minPerImpression}\r\n\t\t\t\t\t\t\t\tdecimals={decimals}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\t// errProp={'pricingBounds_min'}\r\n\t\t\t\t\t\t\t\tspecPricingBounds={itemPlain.specPricingBounds}\r\n\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<EditCPM\r\n\t\t\t\t\t\t\t\tpricingBoundsCPMUserInput={pricingBoundsCPMUserInput}\r\n\t\t\t\t\t\t\t\taction='IMPRESSION'\r\n\t\t\t\t\t\t\t\tactionValue={'max'}\r\n\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\t\tprop='maxPerImpression'\r\n\t\t\t\t\t\t\t\tlabel='CPM_MAX'\r\n\t\t\t\t\t\t\t\tvaluePerAction={cpmMax}\r\n\t\t\t\t\t\t\t\tupdatedValue={maxPerImpression}\r\n\t\t\t\t\t\t\t\tdecimals={decimals}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\t// errProp={'pricingBounds_max'}\r\n\t\t\t\t\t\t\t\tspecPricingBounds={itemPlain.specPricingBounds}\r\n\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Box mt={3} mb={1}>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Grid container spacing={2} pt={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'INCLUDE_INCENTIVIZED_TRAFFIC_LABEL'}\r\n\t\t\t\t\t\t\t\tvalue={t(advanced.includeIncentivized ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t\t\tlabel={t('INCLUDE_INCENTIVIZED_TRAFFIC_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'DISABLE_FREQUENCY_CAPPING_LABEL'}\r\n\t\t\t\t\t\t\t\tvalue={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t\t\tlabel={t('DISABLE_FREQUENCY_CAPPING_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'LIMIT_AVERAGE_DAILY_SPENDING_LABEL'}\r\n\t\t\t\t\t\t\t\tvalue={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t\t\tlabel={t('LIMIT_AVERAGE_DAILY_SPENDING_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t{isActive && (\r\n\t\t\t\t\t\t\t\t<TargetingRulesEdit\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tadvancedOnly\r\n\t\t\t\t\t\t\t\t\tfieldName='campaignAdvanced'\r\n\t\t\t\t\t\t\t\t\tstepTitle='PROP_CAMPAIGN_ADVANCED'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='EDIT_CAMPAIGN_ADVANCED'\r\n\t\t\t\t\t\t\t\t\ttitle='EDIT_CAMPAIGN_ADVANCED_TITLE'\r\n\t\t\t\t\t\t\t\t\titemId={item.id}\r\n\t\t\t\t\t\t\t\t\tdisabled={!canSendMsgs}\r\n\t\t\t\t\t\t\t\t\tdisableBackdropClick\r\n\t\t\t\t\t\t\t\t\tupdateField={hookProps.updateField}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\r\n\t\t\t\t\t\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Accordion, AccordionSummary, Typography } from '@material-ui/core'\r\nimport { t, selectAudienceByCampaignId } from 'selectors'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\texecute,\r\n\tupdateNewCampaign,\r\n\tupdateNewAudience,\r\n\tmapCurrentToNewCampaignAudienceInput,\r\n} from 'actions'\r\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport { TargetingRulesEdit } from 'components/dashboard/containers/Campaign/CampaignEdits'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tactions: {\r\n\t\t'& > *': {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport const CampaignAudience = ({\r\n\titem,\r\n\tisActive,\r\n\tcanSendMsgs,\r\n\t...hookProps\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst campaignAudienceInput =\r\n\t\tuseSelector(state => selectAudienceByCampaignId(state, item.id)) || {}\r\n\r\n\tconst audienceInput =\r\n\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\r\n\t\t\t? item.audienceInput\r\n\t\t\t: campaignAudienceInput\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AudiencePreview audienceInput={audienceInput.inputs} />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box className={classes.actions}>\r\n\t\t\t\t\t{isActive && (\r\n\t\t\t\t\t\t<TargetingRulesEdit\r\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\r\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\r\n\t\t\t\t\t\t\titemId={item.id}\r\n\t\t\t\t\t\t\tdisabled={!canSendMsgs}\r\n\t\t\t\t\t\t\tdisableBackdropClick\r\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\r\n\t\t\t\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<NewAudienceDialog\r\n\t\t\t\t\t\tbtnLabel='SAVE_AUDIENCE'\r\n\t\t\t\t\t\ttitle='CREATE_NEW_AUDIENCE'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\r\n\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='targeting-rules-content'\r\n\t\t\t\t\t\tid='targeting-rules-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\r\n\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t<pre>\r\n\t\t\t\t\t\t\t{JSON.stringify(\r\n\t\t\t\t\t\t\t\titem.targetingRules || item.spec.targetingRules || [],\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</pre>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Accordion>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Line, Chart } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport { GANDALF_GREY, ALEX_GREY_LIGHT } from 'components/App/themeMUi'\r\nimport { Box, Typography } from '@material-ui/core'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectMainToken } from 'selectors'\r\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\r\nimport { t } from 'selectors'\r\nimport { useWindowSize } from 'hooks/useWindowSize'\r\n\r\nconst commonDsProps = {\r\n\tfill: false,\r\n\tlineTension: 0,\r\n\tborderWidth: 2,\r\n\tpointRadius: 2,\r\n\tpointHitRadius: 10,\r\n}\r\n\r\nconst DEFAULT_FONT_SIZE = 14.2\r\nconst FONT = 'Roboto'\r\nconst DASH_SIZE = 4\r\nconst DASH_WIDTH = 2\r\n\r\nconst DefaultLabel = ({ label = '', align }) =>\r\n\tlabel.split('-').map((x, index, all) => (\r\n\t\t<Typography key={x + index} component='div' variant='caption' align={align}>\r\n\t\t\t{x}\r\n\t\t</Typography>\r\n\t))\r\n\r\nexport const SimpleStatistics = ({\r\n\tdata1,\r\n\tdata2,\r\n\tdata3,\r\n\tdata4,\r\n\tdata1Active = true,\r\n\tdata2Active = true,\r\n\tdata3Active = true,\r\n\tdata4Active = true,\r\n\tdataSynced,\r\n\tdefaultLabels = [],\r\n\toptions = {},\r\n\txLabel = 'TIMEFRAME',\r\n\ty1Label = 'DATA1',\r\n\ty2Label = 'DATA2',\r\n\ty3Label = 'DATA3',\r\n\ty4Label = 'DATA4',\r\n\ty1Color = CHARTS_COLORS[1],\r\n\ty2Color = CHARTS_COLORS[2],\r\n\ty3Color = CHARTS_COLORS[3],\r\n\ty4Color = CHARTS_COLORS[4],\r\n}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst windowSize = useWindowSize()\r\n\tconst chartHeight = Math.min(\r\n\t\tMath.max(Math.floor((windowSize.height || 0) / 2.2), 240),\r\n\t\t420\r\n\t)\r\n\t// Vertical line / crosshair\r\n\tuseEffect(() => {\r\n\t\tChart.pluginService.register({\r\n\t\t\tbeforeDraw: function(chart) {\r\n\t\t\t\tconst ctx = chart.ctx\r\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\r\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\r\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\r\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\r\n\t\t\t\t\tif (chartScalesy1) {\r\n\t\t\t\t\t\tconst topY = chartScalesy1.top\r\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\r\n\t\t\t\t\t\tctx.save()\r\n\t\t\t\t\t\tctx.beginPath()\r\n\t\t\t\t\t\tctx.moveTo(x, topY)\r\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\r\n\t\t\t\t\t\tctx.lineWidth = DASH_WIDTH\r\n\t\t\t\t\t\tctx.setLineDash([DASH_SIZE, DASH_SIZE])\r\n\t\t\t\t\t\tctx.strokeStyle = GANDALF_GREY // color of the vertical line\r\n\t\t\t\t\t\tctx.stroke()\r\n\t\t\t\t\t\tctx.restore()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t})\r\n\r\n\tconst chartData = {\r\n\t\tlabels: dataSynced ? data1.labels : defaultLabels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tlabel: y1Label,\r\n\t\t\t\tdata: dataSynced ? data1.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t\thidden: !data1Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tlabel: y2Label,\r\n\t\t\t\tdata: dataSynced ? data2.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-2',\r\n\t\t\t\thidden: !data2Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tlabel: y3Label,\r\n\t\t\t\tdata: dataSynced ? data3.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-3',\r\n\t\t\t\thidden: !data3Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tpointBackgroundColor: y4Color,\r\n\t\t\t\tlabel: y4Label,\r\n\t\t\t\tdata: dataSynced ? data4.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-4',\r\n\t\t\t\thidden: !data4Active,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\r\n\tconst linesOptions = {\r\n\t\tanimation: false,\r\n\t\tresponsive: true,\r\n\t\tlayout: {\r\n\t\t\tpadding: {\r\n\t\t\t\ttop: 16,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// This and fixed height are used for proper mobile display of the chart\r\n\t\tmaintainAspectRatio: false,\r\n\t\ttitle: {\r\n\t\t\tdisplay: false,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\tlegend: {\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t\ttitleFontSize: DEFAULT_FONT_SIZE,\r\n\t\t\tbodyFontSize: DEFAULT_FONT_SIZE,\r\n\t\t\tbodyFontFamily: FONT,\r\n\t\t\ttitleFontFamily: FONT,\r\n\t\t\txPadding: 8,\r\n\t\t\tyPadding: 8,\r\n\t\t\tcornerRadius: 0,\r\n\t\t\tbodySpacing: 4,\r\n\t\t\tcaretSize: 8,\r\n\t\t\tdisplayColors: true,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function(t, d) {\r\n\t\t\t\t\t// This adds currency MainToken (DAI) to y3Label in the tooltips\r\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\r\n\t\t\t\t\tvar yLabel =\r\n\t\t\t\t\t\txLabel === y3Label\r\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\r\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\r\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\thover: {\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t},\r\n\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tdrawBorder: true,\r\n\t\t\t\t\t\tdrawTicks: true,\r\n\t\t\t\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tautoSkip: true,\r\n\t\t\t\t\t\tmaxTicksLimit: 2,\r\n\t\t\t\t\t\tmaxRotation: 0,\r\n\t\t\t\t\t\tpadding: -24,\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t\tcallback: () => '',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t// NOTE: this one is just to show constant size grid lines\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t// color: ALEX_GREY_LIGHT,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tdrawBorder: false,\r\n\t\t\t\t\t\tdrawTicks: false,\r\n\t\t\t\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tmaxTicksLimit: 11,\r\n\t\t\t\t\t\tstepSize: 1,\r\n\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\tmax: 10,\r\n\t\t\t\t\t\tcallback: () => '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tid: 'y-axis-dummy-grid-lines',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-2',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-3',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t// Hax - force to shift the data veridically\r\n\t\t\t\t\t\t// because chance for overlapping with -1 is very big\r\n\t\t\t\t\t\t// At same CPM impressions are the same curve as the sped one\r\n\t\t\t\t\t\tmaxTicksLimit: 3,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-4',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Box height={chartHeight}>\r\n\t\t\t\t<Line height={chartHeight} data={chartData} options={linesOptions} />\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tpx={1}\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t<DefaultLabel label={defaultLabels[0]} align='left' />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t<Typography component='div' variant='caption' align='center'>\r\n\t\t\t\t\t\t{t(xLabel || 'TIMEFRAME')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t<DefaultLabel label={defaultLabels[1]} align='right' />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useWindowSize() {\r\n\tconst hasWindow = typeof window === 'object'\r\n\r\n\tfunction getWindowSize() {\r\n\t\treturn {\r\n\t\t\twidth: hasWindow ? window.innerWidth : 0,\r\n\t\t\theight: hasWindow ? window.innerHeight : 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst [windowSize, setWindowSize] = useState(getWindowSize)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!hasWindow) {\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tfunction onResize() {\r\n\t\t\tsetWindowSize(getWindowSize())\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', onResize)\r\n\r\n\t\treturn () => window.removeEventListener('resize', onResize)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [hasWindow])\r\n\r\n\treturn windowSize\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Typography } from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { ArrowTooltip } from 'components/common/tooltips'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport { Info, Visibility, VisibilityOff } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t\tposition: 'relative',\r\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\r\n\t\t\tcolor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\r\n\t\t\t\ttheme.palette.text.primary,\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tvisibilityIcon: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: theme.spacing(0.3),\r\n\t\t\tright: theme.spacing(0.5),\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst StatsCard = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tsubtitle,\r\n\t\tlinkCard,\r\n\t\tchildren,\r\n\t\tonClick,\r\n\t\tbgColor,\r\n\t\tloading,\r\n\t\texplain,\r\n\t\tdataVisible,\r\n\t} = props\r\n\r\n\tconst classes = useStyles({ bgColor, dataVisible })\r\n\r\n\tconst VIcon = dataVisible ? Visibility : VisibilityOff\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\toverflow='hidden'\r\n\t\t\tp={1}\r\n\t\t\tvariant='outlined'\r\n\t\t\tclassName={classnames(classes.root, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\tjustifyContent='center'\r\n\t\t\talignContent='stretch'\r\n\t\t\tflexWrap='wrap'\r\n\t\t\tflexGrow={1}\r\n\t\t>\r\n\t\t\t<Box>\r\n\t\t\t\t{children}\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tjustifyContent='flex-start'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tpr={3}\r\n\t\t\t\t>\r\n\t\t\t\t\t{onClick && <VIcon className={classes.visibilityIcon} size='large' />}\r\n\t\t\t\t\t{title && (\r\n\t\t\t\t\t\t<Typography variant='h6' noWrap>\r\n\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{subtitle &&\r\n\t\t\t\t\t(explain ? (\r\n\t\t\t\t\t\t<ArrowTooltip\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t<Typography component='div' variant='caption'>\r\n\t\t\t\t\t\t\t\t\t{explain}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t\t\t\t{subtitle} <Info style={{ fontSize: 12 }} />\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</ArrowTooltip>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Typography component='div'>{subtitle}</Typography>\r\n\t\t\t\t\t))}\r\n\t\t\t</Box>\r\n\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default StatsCard\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdayWrapper: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tday: {\r\n\t\t\twidth: 36,\r\n\t\t\theight: 36,\r\n\t\t\tfontSize: theme.typography.caption.fontSize,\r\n\t\t\tmargin: '0 2px',\r\n\t\t\tcolor: 'inherit',\r\n\t\t},\r\n\t\tcustomDayHighlight: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: '2px',\r\n\t\t\tright: '2px',\r\n\t\t\tborder: `1px solid ${theme.palette.secondary.main}`,\r\n\t\t\tborderRadius: '50%',\r\n\t\t},\r\n\t\tnonCurrentMonthDay: {\r\n\t\t\tcolor: theme.palette.text.disabled,\r\n\t\t},\r\n\t\thighlightNonCurrentMonthDay: {\r\n\t\t\tcolor: '#676767',\r\n\t\t},\r\n\t\thighlight: {\r\n\t\t\tbackground: theme.palette.primary.main,\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tfirstHighlight: {\r\n\t\t\textend: 'highlight',\r\n\t\t\tborderTopLeftRadius: '50%',\r\n\t\t\tborderBottomLeftRadius: '50%',\r\n\t\t},\r\n\t\tendHighlight: {\r\n\t\t\textend: 'highlight',\r\n\t\t\tborderTopRightRadius: '50%',\r\n\t\t\tborderBottomRightRadius: '50%',\r\n\t\t},\r\n\t\tdayDisabled: {\r\n\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\r\n\t\t\tpointerEvents: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport { DatePicker as MuiDatePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {\r\n\tDateRangeSharp,\r\n\tNavigateNextRounded,\r\n\tNavigateBeforeRounded,\r\n\tUpdate,\r\n} from '@material-ui/icons'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport dateUtils, { makeJSDateObject } from 'helpers/dateUtils'\r\nimport clsx from 'clsx'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <DateRangeSharp />,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonNextClick,\r\n\tonLiveClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t{onNextClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\r\n\t\t\t\t<NavigateNextRounded />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t\t{onLiveClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\r\n\t\t\t\t<Update />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DatePicker extends Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tcalendarIcon,\r\n\t\t\ticon,\r\n\t\t\ticonColor,\r\n\t\t\tInputProps = {},\r\n\t\t\tonIconClick,\r\n\t\t\tonNextClick,\r\n\t\t\tonLiveClick,\r\n\t\t\tonBackClick,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDatePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\t...InputProps,\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t\tonNextClick={onNextClick}\r\n\t\t\t\t\t\t\tonLiveClick={onLiveClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t\tstartAdornment: onBackClick ? (\r\n\t\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\r\n\t\t\t\t\t\t\t\t<NavigateBeforeRounded />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DatePicker\r\n\r\nconst datePickerStyled = ({\r\n\tclasses,\r\n\tcalendarIcon,\r\n\ticon,\r\n\tInputProps = {},\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<DatePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\t...InputProps,\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DatePickerContrast = withStyles(styles)(datePickerStyled)\r\n\r\nconst dayIsFuture = date => dateUtils.isAfter(date, dateUtils.date())\r\n\r\nfunction PeriodSelectDatePicker({ classes, period, ...rest }) {\r\n\tconst renderWrappedWeekDay = (date, selectedDate, dayInCurrentMonth) => {\r\n\t\tlet dateClone = makeJSDateObject(date)\r\n\t\tlet selectedDateClone = makeJSDateObject(selectedDate)\r\n\r\n\t\tconst start = dateUtils.startOfDay(selectedDateClone)\r\n\t\tlet end = dateUtils.date(start)\r\n\r\n\t\tswitch (period) {\r\n\t\t\tcase 'week':\r\n\t\t\t\tend = dateUtils.startOfDay(dateUtils.addDays(start, 6))\r\n\t\t\t\tmaxDate = dateUtils.addDays(dateUtils.date(), -6)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'month':\r\n\t\t\t\tend = dateUtils.startOfDay(\r\n\t\t\t\t\tdateUtils.addDays(dateUtils.addMonths(start, 1), -1)\r\n\t\t\t\t)\r\n\t\t\t\tmaxDate = dateUtils.addDays(dateUtils.addMonths(dateUtils.date(), 1), 1)\r\n\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\tconst dayIsBetween = dateUtils.isWithinInterval(dateClone, { start, end })\r\n\t\tconst isFirstDay = dateUtils.isSameDay(dateClone, start)\r\n\t\tconst isLastDay = dateUtils.isSameDay(dateClone, end)\r\n\r\n\t\tconst wrapperClassName = clsx({\r\n\t\t\t[classes.highlight]: dayIsBetween,\r\n\t\t\t[classes.firstHighlight]: isFirstDay,\r\n\t\t\t[classes.endHighlight]: isLastDay,\r\n\t\t})\r\n\r\n\t\tconst dayClassName = clsx(classes.day, {\r\n\t\t\t[classes.nonCurrentMonthDay]: !dayInCurrentMonth,\r\n\t\t\t[classes.highlightNonCurrentMonthDay]: !dayInCurrentMonth && dayIsBetween,\r\n\t\t\t[classes.dayDisabled]: dayIsFuture(dateClone),\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t<div className={wrapperClassName}>\r\n\t\t\t\t<IconButton className={dayClassName}>\r\n\t\t\t\t\t<span> {dateUtils.format(dateClone, 'D')} </span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tlet maxDate = dateUtils.date()\r\n\r\n\tswitch (period) {\r\n\t\tcase 'week':\r\n\t\t\tmaxDate = dateUtils.addDays(dateUtils.date(), -6)\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\tmaxDate = dateUtils.addDays(dateUtils.addMonths(dateUtils.date(), -1), 1)\r\n\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn (\r\n\t\t<DatePicker\r\n\t\t\tlabel='Week Picker'\r\n\t\t\trenderDay={renderWrappedWeekDay}\r\n\t\t\tshouldDisableDate={date => dayIsFuture(date)}\r\n\t\t\tviews={['year', 'month', 'date']}\r\n\t\t\tmaxDate={maxDate}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const PeriodDatePicker = withStyles(styles)(PeriodSelectDatePicker)\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useKeyPress(targetKey) {\r\n\tconst [keyPressed, setKeyPressed] = useState(false)\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst downHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(true)\r\n\t\t}\r\n\t}\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst upHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('keydown', downHandler)\r\n\t\twindow.addEventListener('keyup', upHandler)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', downHandler)\r\n\t\t\twindow.removeEventListener('keyup', upHandler)\r\n\t\t}\r\n\t}, [downHandler, upHandler])\r\n\r\n\treturn keyPressed\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tVisibility,\r\n\tMonetizationOn,\r\n\tMouse,\r\n\tEqualizer,\r\n} from '@material-ui/icons'\r\nimport { Box } from '@material-ui/core'\r\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\r\nimport StatsCard from './StatsCard'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { PeriodDatePicker, DatePicker } from 'components/common/DatePicker'\r\nimport { ALEX_GREY_LIGHT } from 'components/App/themeMUi'\r\nimport { styles } from './styles'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport {\r\n\texecute,\r\n\tupdateIdSideAnalyticsChartTimeframe,\r\n\tupdateIdSideAnalyticsChartPeriod,\r\n\tupdateAnalyticsPeriodPrevNextLive,\r\n\tupdateAccountAnalyticsThrottled,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectTotalImpressions,\r\n\tselectTotalMoney,\r\n\tselectAverageCPM,\r\n\tselectMainToken,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectTotalClicks,\r\n\tselectChartDatapointsCPM,\r\n\tselectChartDatapointsImpressions,\r\n\tselectChartDatapointsClicks,\r\n\tselectChartDatapointsPayouts,\r\n\tselectSide,\r\n\tselectAnalyticsDataSide,\r\n\tselectAuth,\r\n\tselectInitialDataLoadedByData,\r\n\t// selectMissingRevenueDataPointsAccepted,\r\n\tselectAnalyticsMinAndMaxDates,\r\n} from 'selectors'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { useKeyPress } from 'hooks/useKeyPress'\r\nimport { analyticsLoopCustom } from 'services/store-data/analytics'\r\nimport {\r\n\tgetPeriodLabel,\r\n\tgetPeriodDataPointLabel,\r\n} from 'helpers/analyticsTimeHelpers'\r\n\r\nconst min = 60 * 1000\r\n\r\nconst timeoutMap = {\r\n\thour: min,\r\n\tday: 10 * min,\r\n\tweek: 30 * min,\r\n\tmonth: 60 * 2 * min,\r\n\tyear: 60 * 24 * min,\r\n}\r\n\r\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\r\n\tconst translated = { ...tf }\r\n\ttranslated.label = t(tf.label)\r\n\treturn translated\r\n})\r\n\r\nconst getMetrics = theme => ({\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_REVENUE'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: theme.palette.accentTwo.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t},\r\n\t],\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_SPEND'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: theme.palette.accentOne.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t},\r\n\t],\r\n})\r\n\r\nconst getDefaultLabels = ({ timeframe, start, end }) => [\r\n\tgetPeriodDataPointLabel({ timeframe, time: start }),\r\n\tgetPeriodDataPointLabel({ timeframe, time: end }),\r\n]\r\n\r\nconst DatePickerSwitch = ({ timeframe, period: { start, end }, ...rest }) => {\r\n\tswitch (timeframe) {\r\n\t\tcase 'week':\r\n\t\t\treturn (\r\n\t\t\t\t<PeriodDatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tperiod='week'\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'day':\r\n\t\t\treturn (\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'hour':\r\n\t\t\treturn (\r\n\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tviews={['date', 'hours']}\r\n\t\t\t\t\troundHour\r\n\t\t\t\t\tminutesStep={60}\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'month':\r\n\t\t\treturn (\r\n\t\t\t\t<PeriodDatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tperiod='month'\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'year':\r\n\t\t\treturn (\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tviews={['year', 'month']}\r\n\t\t\t\t\tmaxDate={dateUtils.addMonths(dateUtils.date(), -11)}\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tdefault:\r\n\t\t\treturn <DatePicker {...rest} />\r\n\t}\r\n}\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function BasicStats() {\r\n\tconst theme = useTheme()\r\n\tconst classes = useStyles()\r\n\tconst SPACE = useKeyPress(' ')\r\n\tconst ARROW_LEFT = useKeyPress('ArrowLeft')\r\n\tconst ARROW_RIGHT = useKeyPress('ArrowRight')\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst isAuth = useSelector(state => selectAuth(state))\r\n\tconst { start, end } = useSelector(selectIdentitySideAnalyticsPeriod)\r\n\tconst timeframe = useSelector(selectIdentitySideAnalyticsTimeframe)\r\n\tconst uiSide = useSelector(selectSide)\r\n\t// NOTE: side can be: for-publisher, for-advertiser or current campaign in details Id\r\n\tconst side = useSelector(selectAnalyticsDataSide)\r\n\tconst { minDate, maxDate } = useSelector(selectAnalyticsMinAndMaxDates)\r\n\tconst [loop, setLoop] = useState()\r\n\tconst [metrics, setMetrics] = useState(null)\r\n\tconst allChannelsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allChannels')\r\n\t)\r\n\tconst advAnalyticsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\tconst initialDataLoaded =\r\n\t\tallChannelsLoaded && advAnalyticsLoaded && itemsLoaded\r\n\tconst [data1Active, setData1Active] = useState(true)\r\n\tconst [data2Active, setData2Active] = useState(true)\r\n\tconst [data3Active, setData3Active] = useState(true)\r\n\tconst [data4Active, setData4Active] = useState(true)\r\n\r\n\tconst defaultLabels = getDefaultLabels({ timeframe, start, end })\r\n\r\n\tconst totalImpressions = useSelector(state =>\r\n\t\tselectTotalImpressions(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalClicks = useSelector(state =>\r\n\t\tselectTotalClicks(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalMoney = useSelector(state =>\r\n\t\tselectTotalMoney(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst averageCPM = useSelector(state =>\r\n\t\tselectAverageCPM(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst payouts = useSelector(state =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst impressions = useSelector(state =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst clicks = useSelector(state =>\r\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst cpm = useSelector(state =>\r\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst goNext = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: true }))\r\n\t}\r\n\r\n\tconst goPrev = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: false }))\r\n\t}\r\n\r\n\tconst goLive = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ live: true }))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMetrics(getMetrics(theme))\r\n\t}, [theme])\r\n\r\n\tuseEffect(() => {\r\n\t\tSPACE && goLive()\r\n\t\tARROW_RIGHT && goNext()\r\n\t\tARROW_LEFT && goPrev()\r\n\t}, [ARROW_LEFT, ARROW_RIGHT, SPACE])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialDataLoaded && side && timeframe && start) {\r\n\t\t\texecute(updateAccountAnalyticsThrottled())\r\n\t\t}\r\n\t}, [initialDataLoaded, side, timeframe, start])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialDataLoaded && side) {\r\n\t\t\tgoLive()\r\n\t\t}\r\n\t}, [initialDataLoaded, side])\r\n\r\n\tuseEffect(() => {\r\n\t\tinitialDataLoaded && loop && loop.start()\r\n\t\treturn () => {\r\n\t\t\tloop && loop.stop()\r\n\t\t}\r\n\t}, [initialDataLoaded, loop])\r\n\r\n\tuseEffect(() => {\r\n\t\tloop && loop.stop()\r\n\t\tsetLoop(\r\n\t\t\tanalyticsLoopCustom({\r\n\t\t\t\ttimeout: timeoutMap[timeframe],\r\n\t\t\t\tsyncAction: async () => {\r\n\t\t\t\t\tsetTimeout(\r\n\t\t\t\t\t\tasync () =>\r\n\t\t\t\t\t\t\tisAuth && (await execute(updateAccountAnalyticsThrottled())),\r\n\t\t\t\t\t\ttimeoutMap[timeframe] -\r\n\t\t\t\t\t\t\t(Date.now() % timeoutMap[timeframe]) +\r\n\t\t\t\t\t\t\t5 * 1000\r\n\t\t\t\t\t)\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [timeframe, isAuth])\r\n\r\n\tconst dataSynced =\r\n\t\t!!initialDataLoaded &&\r\n\t\t[\r\n\t\t\timpressions.labels[impressions.labels.length - 1],\r\n\t\t\tpayouts.labels[payouts.labels.length - 1],\r\n\t\t].every(x => !!x && x === clicks.labels[clicks.labels.length - 1]) &&\r\n\t\t[totalImpressions, totalMoney, averageCPM, totalClicks].every(\r\n\t\t\tx => x !== null\r\n\t\t)\r\n\r\n\treturn (\r\n\t\tuiSide &&\r\n\t\tmetrics && (\r\n\t\t\t<Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\tflexGrow={1}\r\n\t\t\t\t\t\talignItems='start'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\r\n\t\t\t\t\t\t\t\t// helperText={t(timeHints[timeframe])}\r\n\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t//TODO: fix change of timeframe, set default period as well\r\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartTimeframe(val))\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tsource={timeFrames}\r\n\t\t\t\t\t\t\t\tvalue={timeframe}\r\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\r\n\t\t\t\t\t\t\t<DatePickerSwitch\r\n\t\t\t\t\t\t\t\tperiod={{ start, end }}\r\n\t\t\t\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\t\t\t\tvalue={start}\r\n\t\t\t\t\t\t\t\tminutesStep={60}\r\n\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartPeriod(val))\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tInputProps={{ multiline: true, className: classes.datePicker }}\r\n\t\t\t\t\t\t\t\tdisableFuture\r\n\t\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\t\tlabel={t('ANALYTICS_PERIOD')}\r\n\t\t\t\t\t\t\t\tmaxDate={maxDate}\r\n\t\t\t\t\t\t\t\tminDate={minDate}\r\n\t\t\t\t\t\t\t\t// Only when picking future hours as they can't be disabled\r\n\t\t\t\t\t\t\t\tmaxDateMessage='' //{t('MAX_DATE_ERROR')}\r\n\t\t\t\t\t\t\t\tminDateMessage='' // we do not need error msgs e.g. for new accounts\r\n\t\t\t\t\t\t\t\tstrictCompareDates\r\n\t\t\t\t\t\t\t\tonBackClick={e => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\tgoPrev()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonLiveClick={e => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\tgoLive()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonNextClick={e => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\tgoNext()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='primary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tonClick={() => setData1Active(!data1Active)}\r\n\t\t\t\t\t\tdataVisible={data1Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Visibility className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='secondary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\r\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\r\n\t\t\t\t\t\t).toFixed(2)} % ${t('LABEL_CTR')})`}\r\n\t\t\t\t\t\tonClick={() => setData2Active(!data2Active)}\r\n\t\t\t\t\t\tdataVisible={data2Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Mouse className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t{uiSide === 'advertiser' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentOne'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\r\n\t\t\t\t\t\t\tdataVisible={data3Active}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\r\n\t\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{uiSide === 'publisher' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentTwo'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\r\n\t\t\t\t\t\t\tdataVisible={data3Active}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\r\n\t\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='grey'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol} / CPM`}\r\n\t\t\t\t\t\tonClick={() => setData4Active(!data4Active)}\r\n\t\t\t\t\t\tdataVisible={data4Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Equalizer className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t<SimpleStatistics\r\n\t\t\t\t\t\tstart={start}\r\n\t\t\t\t\t\tend={end}\r\n\t\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\ttitle:\r\n\t\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdefaultLabels={defaultLabels}\r\n\t\t\t\t\t\tdata1={impressions}\r\n\t\t\t\t\t\tdata2={clicks}\r\n\t\t\t\t\t\tdata3={payouts}\r\n\t\t\t\t\t\tdata4={cpm}\r\n\t\t\t\t\t\tdata1Active={data1Active}\r\n\t\t\t\t\t\tdata2Active={data2Active}\r\n\t\t\t\t\t\tdata3Active={data3Active}\r\n\t\t\t\t\t\tdata4Active={data4Active}\r\n\t\t\t\t\t\tdataSynced={dataSynced}\r\n\t\t\t\t\t\ty1Label={metrics[uiSide][0].label}\r\n\t\t\t\t\t\ty1Color={metrics[uiSide][0].color}\r\n\t\t\t\t\t\ty2Label={metrics[uiSide][1].label}\r\n\t\t\t\t\t\ty2Color={metrics[uiSide][1].color}\r\n\t\t\t\t\t\ty3Label={metrics[uiSide][2].label}\r\n\t\t\t\t\t\ty3Color={metrics[uiSide][2].color}\r\n\t\t\t\t\t\ty4Label={metrics[uiSide][3].label}\r\n\t\t\t\t\t\ty4Color={metrics[uiSide][3].color}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t\tcardIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: '-33px',\r\n\t\t\tright: '-33px',\r\n\t\t\tfontSize: '120px',\r\n\t\t\topacity: '0.13',\r\n\t\t\ttransform: 'rotate(-45deg)',\r\n\t\t\tpointerEvents: 'none',\r\n\t\t},\r\n\t\t// NOTE: need this to match multilenie datepicker and dropdown heights\r\n\t\tdatePicker: {\r\n\t\t\tpaddingTop: 9.108,\r\n\t\t\tpaddingBottom: 9.108,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { Grid, Box } from '@material-ui/core'\r\n\r\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\r\nimport { BasicStats } from 'components/dashboard/containers/DashboardStats/BasicStats'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { t } from 'selectors'\r\n\r\nexport const CampaignStatsByTimeframe = ({ item }) => {\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tprop={'created'}\r\n\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tprop={'activeFrom'}\r\n\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\r\n\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<BasicStats />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useState, Fragment, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tPaper,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tTabs,\r\n\tTab,\r\n} from '@material-ui/core'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { Campaign as CampaignModel } from 'adex-models'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\r\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\r\nimport { Receipt } from 'components/dashboard/containers/Receipt'\r\nimport {\r\n\tselectCampaignAnalyticsToCountryTableData,\r\n\tselectCampaignAnalyticsToCountryMapChartData,\r\n\tt,\r\n} from 'selectors'\r\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\r\nimport MapChart from 'components/dashboard/charts/map/MapChart'\r\nimport { CampaignBasic } from './CampaignBasic'\r\nimport { CampaignAudience } from './CampaignAudience'\r\nimport { validateAndUpdateCampaign, updateMemoryUi, execute } from 'actions'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { CampaignStatsByTimeframe } from './CampaignStatsByTimeframe'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\n\r\nfunction Campaign({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'Campaign',\r\n\t\tmatch,\r\n\t\tobjModel: CampaignModel,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateCampaign,\r\n\t})\r\n\r\n\tconst campaign = new CampaignModel(item)\r\n\tconst { humanFriendlyName } = campaign.status || {}\r\n\tconst leader = campaign.spec.validators[0]\r\n\tconst follower = campaign.spec.validators[1]\r\n\tconst campaignId = campaign.id\r\n\tconst { status = {} } = item\r\n\tconst canSendMsgs =\r\n\t\tstatus.name &&\r\n\t\t['Ready', 'Waiting', 'Active', 'Unhealthy'].includes(status.name) &&\r\n\t\tstatus.humanFriendlyName !== 'Closed'\r\n\r\n\tconst isActive =\r\n\t\tstatus.humanFriendlyName === 'Active' ||\r\n\t\tstatus.humanFriendlyName === 'Paused'\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateMemoryUi('campaignId', campaignId))\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(updateMemoryUi('campaignId', undefined))\r\n\t\t}\r\n\t}, [campaignId])\r\n\r\n\tif (!campaignId) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND', {\r\n\t\t\t\t\targs: ['CAMPAIGN', match.params.itemId || ''],\r\n\t\t\t\t})}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_MAIN')} />\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_AUDIENCE')} />\r\n\t\t\t\t\t<Tab label={t('WEBSITE_STATS')} />\r\n\t\t\t\t\t<Tab label={t('COUNTRY_STATS')} />\r\n\t\t\t\t\t<Tab label={t('TIMEFRAME_STATS')} />\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t<Tab label={t('VALIDATORS')} />\r\n\t\t\t\t\t{['Closed', 'Completed'].includes(humanFriendlyName) && (\r\n\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<CampaignBasic\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\tisActive={isActive}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<CampaignAudience\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\tisActive={isActive}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\tflexGrow='1'\r\n\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box flexGrow='1' order={{ xs: 2, md: 2, lg: 1 }}>\r\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable\r\n\t\t\t\t\t\t\t\t\t\ttableId={`campaignStatsBreakdown${campaignId}`}\r\n\t\t\t\t\t\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\t\t\t\tisActive={isActive}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2} order={{ xs: 1, md: 1, lg: 2 }}>\r\n\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={campaignId} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 3 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Grid container spacing={1} alignItems='flex-start'>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<MapChart\r\n\t\t\t\t\t\t\t\t\tchartId={`campaign-${campaignId}`}\r\n\t\t\t\t\t\t\t\t\tselector={state =>\r\n\t\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryMapChartData(\r\n\t\t\t\t\t\t\t\t\t\t\tstate,\r\n\t\t\t\t\t\t\t\t\t\t\tcampaignId\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\r\n\t\t\t\t\t\t\t\t\t\tselector={selectCampaignAnalyticsToCountryTableData}\r\n\t\t\t\t\t\t\t\t\t\tselectorArgs={campaignId}\r\n\t\t\t\t\t\t\t\t\t\ttableId={`CampaignStatsByCountry${campaignId}`}\r\n\t\t\t\t\t\t\t\t\t\tshowEarnings\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{tabIndex === 4 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<CampaignStatsByTimeframe item={item} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 5 && (\r\n\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\ttableId={`campaignUnits-${campaignId}`}\r\n\t\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 6 && (\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/status`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/status`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 7 && <Receipt itemId={campaignId} />}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Campaign\r\n","import React, { Fragment, useState } from 'react'\r\nimport { Box, Tabs, Tab } from '@material-ui/core'\r\nimport { BasicStats } from './BasicStats'\r\nimport {\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { t } from 'selectors'\r\n\r\nexport function AdvertiserStats() {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CHARTS')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<BasicStats side='advertiser' />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { utils } from 'ethers'\r\nimport Media from 'components/common/media'\r\nimport { useSelector } from 'react-redux'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tt,\r\n\tselectBestEarnersTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { useTableData } from './tableHooks'\r\nconst RRMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: true,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\tconst ImgComponent = to ? RRMedia : Media\r\n\t\t\t\tconst imgProps = to ? { to } : { fullScreenOnClick: true }\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImgComponent\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t{...imgProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [i.data[0].id, i.data[1].replace('legacy_', ''), i.data[2]],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'ctr',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\trowsPerPage: 5,\r\n})\r\n\r\nfunction BestEarnersTable(props) {\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\thandleSelect,\r\n\t\tselector = selectBestEarnersTableData,\r\n\t\ttitle = '',\r\n\t} = props\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst dataLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\r\n\t)\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t\t[noActions, noClone, symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\t{...props}\r\n\t\t\ttitle={t(title)}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\thandleRowSelectionChange={handleSelect}\r\n\t\t\tloading={!dataLoaded}\r\n\t\t\tnoSearch\r\n\t\t\tnoDownload\r\n\t\t\tnoPrint\r\n\t\t\tnoViewColumns\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default BestEarnersTable\r\n","import React, { Fragment, useState } from 'react'\r\nimport { Box, Grid, Paper, Typography, Tab, Tabs } from '@material-ui/core'\r\nimport {\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport BestEarnersTable from 'components/dashboard/containers/Tables/BestEarnersTable'\r\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\r\nimport MapChart from 'components/dashboard/charts/map/MapChart'\r\nimport { BasicStats } from './BasicStats'\r\nimport {\r\n\tt,\r\n\tselectPublisherStatsByCountryTableData,\r\n\tselectPublisherStatsByCountryMapChartData,\r\n} from 'selectors'\r\nimport { timeSinceEpoch } from 'helpers/formatters'\r\n\r\nexport function PublisherStats() {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CHARTS')} />\r\n\t\t\t\t\t<Tab label={t('COUNTRY_DATA')} />\r\n\t\t\t\t\t<Tab label={t('TABLE_BEST_EARNERS_UNITS_TITLE')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ItemTabsContainer noBackground>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<BasicStats side='publisher' />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\r\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: timeSinceEpoch() })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<MapChart\r\n\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryMapChartData}\r\n\t\t\t\t\t\t\t\t\tchartId='publisher-stats'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\r\n\t\t\t\t\t\t\t\t\t\ttableId='publisherStatsByCountry'\r\n\t\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryTableData}\r\n\t\t\t\t\t\t\t\t\t\t// TODO: uncomment after 26.04.2020\r\n\t\t\t\t\t\t\t\t\t\tshowEarnings\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t// <Box p={1}>\r\n\t\t\t\t\t<BestEarnersTable\r\n\t\t\t\t\t\ttableId='publisherBestEarnersStats'\r\n\t\t\t\t\t\ttitle='TABLE_BEST_EARNERS_UNITS_TITLE'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t// </Box>\r\n\t\t\t\t)}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport default PublisherStats\r\n","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, Tabs, Tab, Box } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTitle,\r\n\tItemDescription,\r\n\tItemAdType,\r\n\tItemTargetURL,\r\n\tMediaCard,\r\n\tArchiveItemBtn,\r\n\tItemTabsContainer,\r\n\tItemTabsBar,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { AdUnit } from 'adex-models'\r\nimport { validateAndUpdateUnit } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nfunction Unit({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'AdUnit',\r\n\t\tmatch,\r\n\t\tobjModel: AdUnit,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateUnit,\r\n\t})\r\n\r\n\tconst { validations } = hookProps\r\n\r\n\tconst {\r\n\t\tid,\r\n\t\ttitle,\r\n\t\tarchived,\r\n\t\tdescription,\r\n\t\tmediaUrl,\r\n\t\tmediaMime,\r\n\t\ttype,\r\n\t\ttargetUrl,\r\n\t} = item\r\n\tconst { title: errTitle, description: errDescription } = validations\r\n\r\n\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('AD_UNIT')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\t\tlabel={t('UNIT_MEDIA_IMG_LABEL')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t{!archived && (\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemDescription\r\n\t\t\t\t\t\t\t\t\tdescription={description}\r\n\t\t\t\t\t\t\t\t\terrDescription={errDescription}\r\n\t\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemAdType type={type} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTargetURL targetUrl={targetUrl} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nUnit.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Unit\r\n","import React from 'react'\r\nimport {\r\n\tInputAdornment,\r\n\tIconButton,\r\n\tTextField,\r\n\tBox,\r\n\tFormControl,\r\n\tFormControlLabel,\r\n\tFormGroup,\r\n\tCheckbox,\r\n\tGrid,\r\n} from '@material-ui/core'\r\nimport { Edit, UndoOutlined } from '@material-ui/icons'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport AdSlotMedia from 'components/dashboard/forms/items/AdSlot/AdSlotMedia'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { BigNumber } from 'ethers'\r\n\r\nimport {\r\n\texecute,\r\n\tresetNewItem,\r\n\tupdateSlotPasback,\r\n\tmapCurrentToNewPassback,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport { t, selectMainToken } from 'selectors'\r\n\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport const PassbackSteps = ({ updateMultipleFields, itemId, ...props }) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('AdSlot', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase='new-AdUnit-'\r\n\t\t\titemType='AdSlot'\r\n\t\t\tstepsId='new-slot-'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\r\n\t\t\t\t\tcomponent: AdSlotMedia,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateSlotPasback({ updateMultipleFields, itemId, ...props })\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={AdSlot}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst PassbackEdit = WithDialog(PassbackSteps)\r\n\r\nexport const SlotAdvancedRules = ({\r\n\titem = {},\r\n\tupdateMultipleFields,\r\n\tvalidations,\r\n\tvalidateId,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst { address, decimals, symbol } = selectMainToken()\r\n\tconst { minPerImpression, rulesInput: slotRulesInput } = item\r\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\r\n\tconst { autoSetMinCPM, allowAdultContent } = rulesInput.inputs\r\n\tconst active = !!activeFields.minPerImpression\r\n\tconst { minPerImpression: errMin } = validations\r\n\tconst showError = !!errMin && errMin.dirty\r\n\tconst minCPM =\r\n\t\ttypeof minPerImpression === 'object'\r\n\t\t\t? formatTokenAmount(\r\n\t\t\t\t\tBigNumber.from((item.minPerImpression || {})[address] || '0').mul(\r\n\t\t\t\t\t\t1000\r\n\t\t\t\t\t),\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\ttrue\r\n\t\t\t  )\r\n\t\t\t: minPerImpression\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL_MANUAL', { args: [symbol] })}\r\n\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\tvalue={minCPM || ''}\r\n\t\t\t\t\tdisabled={!!autoSetMinCPM || !active}\r\n\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\tupdateField('minPerImpression', value, {\r\n\t\t\t\t\t\t\tname: 'slotAdvanced',\r\n\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t\terror={showError}\r\n\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\tshowError ? errMin.errMsg : t('SLOT_MANUAL_CPM_MIN_HELPER')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tInputProps={\r\n\t\t\t\t\t\t!autoSetMinCPM\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? returnPropToInitialState('minPerImpression')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: setActiveFields('minPerImpression', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst checked = ev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport const SlotEdits = ({ item, ...hookProps }) => {\r\n\treturn (\r\n\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t<PassbackEdit\r\n\t\t\t\tfullWidth\r\n\t\t\t\tsize='large'\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='UPDATE_PASSBACK'\r\n\t\t\t\ttitle='UPDATE_SLOT_PASSBACK'\r\n\t\t\t\titemId={item.id}\r\n\t\t\t\tdisableBackdropClick\r\n\t\t\t\tupdateMultipleFields={hookProps.updateMultipleFields}\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tmapCurrentToNewPassback({\r\n\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\n\r\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { SlotEdits, SlotAdvancedRules } from './SlotEdits'\r\nimport {\r\n\tItemTitle,\r\n\tItemDescription,\r\n\tItemAdType,\r\n\tItemFallbackMediaURL,\r\n\tMediaCard,\r\n\tItemWebsite,\r\n\tArchiveItemBtn,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { t } from 'selectors'\r\n\r\nexport const SlotBasic = ({ item, ...hookProps }) => {\r\n\tconst {\r\n\t\tid,\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\tmediaUrl,\r\n\t\tmediaMime,\r\n\t\ttype,\r\n\t\ttargetUrl,\r\n\t\twebsite,\r\n\t\tarchived,\r\n\t\trules,\r\n\t} = item\r\n\tconst { title: errTitle, description: errDescription } = hookProps.validations\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Box p={2}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemFallbackMediaURL targetUrl={targetUrl} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<SlotEdits item={item} {...hookProps} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{!archived && (\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\titemType='AdSlot'\r\n\t\t\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\r\n\t\t\t\t\t\t\t\t\tid='slot-rules-advanced'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\r\n\t\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t\t<SlotAdvancedRules item={item} {...hookProps} />\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\r\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\r\n\t\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemDescription\r\n\t\t\t\t\t\t\t\tdescription={description}\r\n\t\t\t\t\t\t\t\terrDescription={errDescription}\r\n\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemAdType type={type} />\r\n\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemWebsite item={item} {...hookProps} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\t\t\tlabel={t('WEBSITE_VERIFICATION')}\r\n\t\t\t\t\t\t\t\tvalue={<WebsiteIssues website={website} tryAgainBtn />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport copy from 'copy-to-clipboard'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { Paper, IconButton, Box, Typography } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\n\r\nimport { execute, addToast } from 'actions'\r\n\r\nimport url from 'url'\r\nimport {\r\n\tselectRoutineWithdrawTokensAddresses,\r\n\tselectHasConfirmedEmail,\r\n\tselectAccountIdentityAddr,\r\n\tt,\r\n} from 'selectors'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const IntegrationCode = ({ slot = {} }) => {\r\n\tconst classes = useStyles()\r\n\tconst { id, type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst isEmailConfirmed = useSelector(selectHasConfirmedEmail)\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\t// minTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t\tmarketSlot: id,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\r\n\t// \t<Alert severity='warning' variant='filled'>\r\n\t// \t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\r\n\t// \t<div\r\n\t// \t\tdangerouslySetInnerHTML={{\r\n\t// \t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\r\n\t// \t\t}}\r\n\t// \t/>\r\n\t// </Alert>\r\n\treturn isEmailConfirmed ? (\r\n\t\t<Box overflow='hidden'>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tpx={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography>{t('INTEGRATION_CODE')}</Typography>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t) : (\r\n\t\t<Alert severity='warning' variant='filled'>\r\n\t\t\t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\r\n\t\t\t<div\r\n\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Alert>\r\n\t)\r\n}\r\n\r\nIntegrationCode.propTypes = {\r\n\tslot: PropTypes.object.isRequired,\r\n}\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { AdSlot } from 'adex-models'\r\nimport { Tabs, Tab } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { SlotBasic } from './SlotBasic'\r\nimport { IntegrationCode } from './IntegrationCode'\r\nimport { validateAndUpdateSlot } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nfunction Slot({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'AdSlot',\r\n\t\tmatch,\r\n\t\tobjModel: AdSlot,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateSlot,\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('SLOT_MAIN')} />\r\n\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\r\n\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t{tabIndex === 0 && <SlotBasic item={item} {...hookProps} />}\r\n\t\t\t\t{tabIndex === 1 && <IntegrationCode slot={item} />}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nSlot.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Slot\r\n","import React, { Fragment, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport { Audience as AudienceModel } from 'adex-models'\r\nimport { Tabs, Tab, Box } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTitle,\r\n\tArchiveItemBtn,\r\n\tItemTabsContainer,\r\n\tItemTabsBar,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport {\r\n\tNewCampaignFromAudience,\r\n\tAudienceRules,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\texecute,\r\n\tupdateNewCampaign,\r\n\tupdateNewAudience,\r\n\tresetNewItem,\r\n\tupdateAudienceInput,\r\n\tmapCurrentToNewAudience,\r\n} from 'actions'\r\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport { validateAndUpdateAudience as validateAndUpdateFn } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tactions: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\t'& > *': {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport const TargetingSteps = ({ updateField, itemId, ...props }) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('Audience', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase={`update-audience-${itemId}-`}\r\n\t\t\titemType='Audience'\r\n\t\t\tstepsId={`update-campaign-${itemId}`}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SAVED_AUDIENCE',\r\n\t\t\t\t\tcomponent: AudienceRules,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(updateAudienceInput({ updateField, itemId, ...props })),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={AudienceModel}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst TargetingRulesEdit = WithDialog(TargetingSteps)\r\n\r\nfunction Audience({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tconst { item = {}, ...hookProps } = useItem({\r\n\t\titemType: 'Audience',\r\n\t\tmatch,\r\n\t\tobjModel: AudienceModel,\r\n\t\tvalidateAndUpdateFn,\r\n\t})\r\n\r\n\tconst { validations } = hookProps\r\n\tconst { inputs, title, id, archived } = item\r\n\tconst { title: errTitle } = validations\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('AUDIENCE_MAIN')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t<Box p={1} pt={2}>\r\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\r\n\t\t\t\t\t<AudiencePreview audienceInput={inputs} />\r\n\r\n\t\t\t\t\t<Box className={classes.actions}>\r\n\t\t\t\t\t\t<TargetingRulesEdit\r\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\r\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\r\n\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\tdisableBackdropClick\r\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tmapCurrentToNewAudience({\r\n\t\t\t\t\t\t\t\t\t\titemId: id,\r\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<NewAudienceDialog\r\n\t\t\t\t\t\t\tbtnLabel='NEW_AUDIENCE_FROM_THIS'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\r\n\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t\ttitle: title + ' (2)',\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t{!archived && (\r\n\t\t\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\t\t\titemType='Audience'\r\n\t\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\tgoToTableOnSuccess\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nAudience.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Audience\r\n","import React, { Fragment } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tList,\r\n\tListItem,\r\n\tDivider,\r\n\tListItemText,\r\n\tListItemIcon,\r\n\tListItemSecondaryAction,\r\n\tListSubheader,\r\n\tPaper,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { CheckSharp, WarningSharp } from '@material-ui/icons'\r\nimport {\r\n\tWebsiteIssues,\r\n\tWebsiteIssuesLegend,\r\n\tWebsiteVerifyBtn,\r\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport { t, selectWebsitesList } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tlist: {\r\n\t\twidth: '100%',\r\n\t},\r\n\tinline: {\r\n\t\tdisplay: 'inline',\r\n\t\twordBreak: 'break-all',\r\n\t},\r\n\twarning: {\r\n\t\tcolor: theme.palette.warning.main,\r\n\t},\r\n\tsuccess: {\r\n\t\tcolor: theme.palette.success.main,\r\n\t},\r\n}))\r\n\r\nexport default function Websites() {\r\n\tconst classes = useStyles()\r\n\tconst websites = useSelector(selectWebsitesList)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<WebsiteIssuesLegend />\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<List className={classes.list} dense disablePadding>\r\n\t\t\t\t\t\t<ListSubheader disableSticky>\r\n\t\t\t\t\t\t\t{t('REGISTERED_WEBSITES')}\r\n\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t{websites.map(({ id, issues, updated }, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t{issues.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<WarningSharp className={classes.warning} />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckSharp className={classes.success} />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={id}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondaryTypographyProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent: 'div',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondary={<WebsiteIssues issues={issues} asKeyWords />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t\t\t<WebsiteVerifyBtn\r\n\t\t\t\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tissues={issues}\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdated={updated}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t{index < websites.length - 1 && <Divider />}\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tTextField,\r\n\tButton,\r\n\tBox,\r\n\tListItemText,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectAccountStatsFormatted,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\n\r\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\tavailableIdentityBalanceMainToken: max,\r\n\t\tavailableIdentityBalanceAllMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tamountToWithdraw: errAmount,\r\n\t\twithdrawTo: errAddr,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t{availableIdentityBalanceAllMainToken !== max ? (\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tprimary={`${max || 0} ${symbol}`}\r\n\t\t\t\t\t\t\t\tsecondary={t(\r\n\t\t\t\t\t\t\t\t\t'IDENTITY_MAIN_TOKEN_BALANCE_WITHDRAW_AVAILABLE_INFO',\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360016097580-Why-can-t-I-withdraw-my-entire-balance-'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('FIND_MORE')}\r\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t\t\t\t{t(\r\n\t\t\t\t\t\t\t\t\t'EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY',\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Alert variant='filled' severity='warning'>\r\n\t\t\t\t\t\t\t{t('WITHDRAW_ADDRESS_WARNING')}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t!spinner && errAddr && !!errAddr.dirty ? errAddr.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{spinner && <InputLoading />}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\r\n\t\t\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawFromIdentity\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectSpinnerById,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst WithdrawAnyTokenFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst {\r\n\t\tamountToWithdraw,\r\n\t\twithdrawTo,\r\n\t\ttokenAddress,\r\n\t\ttokenDecimals,\r\n\t} = useSelector(state => selectNewTransactionById(state, stepsId))\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tamountToWithdraw: errAmount,\r\n\t\twithdrawTo: errAddr,\r\n\t\ttokenAddress: errTokenAddress,\r\n\t\ttokenDecimals: errTokenDecimals,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\r\n\t\t\t\t\t\tname='tokenAddress'\r\n\t\t\t\t\t\tvalue={tokenAddress || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'tokenAddress',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTokenAddress && !!errTokenAddress.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTokenAddress && !!errTokenAddress.dirty\r\n\t\t\t\t\t\t\t\t? errTokenAddress.errMsg\r\n\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\r\n\t\t\t\t\t\tname='tokenDecimals'\r\n\t\t\t\t\t\tvalue={tokenDecimals || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'tokenDecimals',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTokenDecimals && !!errTokenDecimals.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTokenDecimals && !!errTokenDecimals.dirty\r\n\t\t\t\t\t\t\t\t? errTokenDecimals.errMsg\r\n\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{spinner ? <InputLoading /> : null}\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\r\n\t\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\t\thelperText={errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nWithdrawAnyTokenFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawAnyTokenFromIdentity\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTextField,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tCheckbox,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { constants } from 'adex-models'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\r\n\treturn {\r\n\t\tvalue,\r\n\t\tlabel: t(`PRIV_${value}_LABEL`),\r\n\t\tinfo: t(`PRIV_${value}_INFO`),\r\n\t}\r\n})\r\n\r\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\r\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\r\n\t\tstate => selectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsetAddr: errAddr,\r\n\t\tsetAddrWarning: warning,\r\n\t\tprivLevel: errPrivLvl,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}:\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\t\t\t\tname='setAddr'\r\n\t\t\t\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'privLevel',\r\n\t\t\t\t\t\t\t\t\t\tvalue: val,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\r\n\t\t\t\t\t\t\t\t\t? errPrivLvl.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tkey={x.value}\r\n\t\t\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{(warning || warningAccepted || warningMsg) && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\terror={warning && warning.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='warningAccepted'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SeAddressPrivilege\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { TextField, InputAdornment, Box, Typography } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\n\r\nfunction SetAccountENSPage({ stepsId, validateId } = {}) {\r\n\tconst { username } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst { username: errUsername, fees: errFees } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t\t\t{t('SET_ENS_MAIN_INFO')}:\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\r\n\t\t\t\t\t\t\tname='username'\r\n\t\t\t\t\t\t\tvalue={username || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'username',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errUsername && !!errUsername.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrUsername && !!errUsername.dirty ? errUsername.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nSetAccountENSPage.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SetAccountENSPage\r\n","import React from 'react'\r\nimport { Box, ListItemText } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { t } from 'selectors'\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n\tsymbol,\r\n}) => (\r\n\t<Box>\r\n\t\t<Box p={1}>\r\n\t\t\t<Alert variant='filled' severity='warning'>\r\n\t\t\t\t{t('WITHDRAW_ADDRESS_WARNING')}\r\n\t\t\t</Alert>\r\n\t\t</Box>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tsetAddr,\r\n\tclasses,\r\n\tfeesData,\r\n\tprivLevel,\r\n\tsymbol,\r\n}) => (\r\n\t<Box>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n\r\nexport const SetENSPreview = ({\r\n\tusername,\r\n\taddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tsymbol,\r\n}) => (\r\n\t<Box>\r\n\t\t<PropRow\r\n\t\t\tkey='addr'\r\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\r\n\t\t\tright={(address || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='username'\r\n\t\t\tleft={t('username', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tfeesData.fees,\r\n\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n\r\nexport const IdentityWithdrawAnyPreview = ({\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n}) => (\r\n\t<Box>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='tokenAddress'\r\n\t\t\tleft={t('tokenAddress', { isProp: true })}\r\n\t\t\tright={(tokenAddress || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport { Box } from '@material-ui/core'\r\nimport {\r\n\tWalletAction,\r\n\tFeesBreakdown,\r\n} from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview,\r\n\tSetENSPreview,\r\n\tIdentityWithdrawAnyPreview,\r\n} from './previews'\r\n\r\nimport {\r\n\tselectMainToken,\r\n\tt,\r\n\tselectSpinnerById,\r\n\tselectAccount,\r\n\tselectNewTransactionById,\r\n} from 'selectors'\r\nimport { execute, checkNetworkCongestion } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TransactionPreview(props) {\r\n\tconst classes = useStyles()\r\n\tconst { previewWarnMsgs, stepsId } = props\r\n\tconst txId = stepsId\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { address } = account.identity\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, stepsId))\r\n\tconst {\r\n\t\twithdrawTo,\r\n\t\tamountToWithdraw,\r\n\t\twaitingForWalletAction,\r\n\t\tsetAddr,\r\n\t\tusername,\r\n\t\tprivLevel,\r\n\t\ttokenAddress,\r\n\t\tfeesData = {},\r\n\t\terrors = [],\r\n\t} = useSelector(state => selectNewTransactionById(state, txId))\r\n\tconst [networkCongested, setNetworkCongested] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function checkNetwork() {\r\n\t\t\tconst msg = await execute(checkNetworkCongestion())\r\n\r\n\t\t\tif (msg) {\r\n\t\t\t\tsetNetworkCongested(msg)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcheckNetwork()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t{waitingForWalletAction || networkCongested ? (\r\n\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t{waitingForWalletAction && (\r\n\t\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{networkCongested && (\r\n\t\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='filled' square>\r\n\t\t\t\t\t\t\t\t\t\t<AlertTitle>{t('NETWORK_WARNING')}</AlertTitle>\r\n\t\t\t\t\t\t\t\t\t\t{networkCongested}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setENS' && (\r\n\t\t\t\t\t\t\t<SetENSPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\tusername={username}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<FeesBreakdown\r\n\t\t\t\t\t\t\tbreakdownFormatted={feesData.breakdownFormatted}\r\n\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n}\r\n\r\nexport default TransactionPreview\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\r\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport SetAccountENSPage from './SetAccountENSPage'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport {\r\n\tidentityWithdraw,\r\n\tsetIdentityENS,\r\n\tvalidatePrivilegesChange,\r\n\tidentityWithdrawAny,\r\n\tvalidateIdentityWithdraw,\r\n\tcompleteTx,\r\n\texecute,\r\n\tresetNewTransaction,\r\n\tupdateIdentityPrivilege,\r\n\tvalidateENSChange,\r\n\tvalidateIdentityWithdrawAny,\r\n} from 'actions'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst cancelFunction = stepsId => {\r\n\texecute(resetNewTransaction({ tx: stepsId }))\r\n}\r\n\r\nconst txCommon = {\r\n\tcancelFunction,\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tcomponent: WithdrawFromIdentity,\r\n\t\t\t\tvalidationFn: props => {\r\n\t\t\t\t\texecute(validateIdentityWithdraw(props))\r\n\t\t\t\t\tReactGA.event({\r\n\t\t\t\t\t\taction: 'account',\r\n\t\t\t\t\t\tcategory: 'withdraw',\r\n\t\t\t\t\t\tlabel: 'continue',\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: identityWithdraw,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = ({ SaveBtn, label, ...props }) => {\r\n\treturn (\r\n\t\t<FormStepsWithDialog\r\n\t\t\t{...props}\r\n\t\t\tbtnLabel={label || 'ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'}\r\n\t\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\t\tstepsId='setIdentityPrivilege'\r\n\t\t\t{...txCommon}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\t\tcomponent: SeAddressPrivilege,\r\n\t\t\t\t\tvalidationFn: props => execute(validatePrivilegesChange(props)),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\t\tcompeteAction: updateIdentityPrivilege,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const WithdrawAnyTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawAnyFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tcomponent: WithdrawAnyTokenFromIdentityPage,\r\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdrawAny(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: identityWithdrawAny,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const SetAccountENS = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\r\n\t\tstepsId='setENS'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\r\n\t\t\t\tcomponent: SetAccountENSPage,\r\n\t\t\t\tvalidationFn: props => execute(validateENSChange(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: setIdentityENS,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n","import React, { useState, Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tWithdrawAnyTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n\tSetAccountENS,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tDivider as ListDivider,\r\n\tListSubheader,\r\n\tButton,\r\n\tBox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n\tIconButton,\r\n\tPaper,\r\n\tGrid,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport { InfoSharp } from '@material-ui/icons'\r\nimport { VpnKey, Lock } from '@material-ui/icons'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { styles } from './styles.js'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport copy from 'copy-to-clipboard'\r\nimport {\r\n\tt,\r\n\tselectWallet,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectMainToken,\r\n\tselectEasterEggsAllowed,\r\n\tselectEnsAddressByAddr,\r\n\tselectAccountIdentityCurrentPrivileges,\r\n\tselectIdentityRecoveryAddr,\r\n\tselectSide,\r\n} from 'selectors'\r\nimport { execute, addToast, updateNewTransaction } from 'actions'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\n\r\nconst AccountItem = ({ left, right }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<ListItem>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tclassName={classes.root}\r\n\t\t\t\tspacing={1}\r\n\t\t\t\tjustify='center'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12} sm={6} md={9}>\r\n\t\t\t\t\t{left}\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={6} md={3}>\r\n\t\t\t\t\t{right}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</ListItem>\r\n\t)\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AccountInfo() {\r\n\tconst { authType = '' } = useSelector(selectWallet)\r\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst side = useSelector(selectSide)\r\n\tconst canMakeTx = privileges > 1\r\n\tconst currentPrivileges = useSelector(selectAccountIdentityCurrentPrivileges)\r\n\tconst identityRecoveryAddr = useSelector(selectIdentityRecoveryAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\tidentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceAllMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst identityEnsName = useSelector(state =>\r\n\t\tselectEnsAddressByAddr(state, identityAddress)\r\n\t)\r\n\r\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\r\n\r\n\tconst [expanded, setExpanded] = useState(false)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tconst handleExpandChange = () => {\r\n\t\tsetExpanded(!expanded)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<List className={classes.root} disablePadding>\r\n\t\t\t\t\t<ListSubheader disableSticky>{t('ADEX_ACCOUNT')}</ListSubheader>\r\n\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t{...(identityEnsName && {\r\n\t\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\r\n\t\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{...(!identityEnsName && {\r\n\t\t\t\t\t\t\t\t\t\tprimary: identityAddress,\r\n\t\t\t\t\t\t\t\t\t\tsecondary: (\r\n\t\t\t\t\t\t\t\t\t\t\t<span className={classes.infoLabel}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('ENS_NOT_SET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinteractive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={t('ENS_NOT_SET_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360017777100-What-is-an-Account-Username-and-how-to-set-it-'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InfoSharp\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t!!identityAddress && (\r\n\t\t\t\t\t\t\t\t<SetAccountENS\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceAllMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_INFO')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{availableIdentityBalanceAllMainToken !==\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken && (\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={t(\r\n\t\t\t\t\t\t\t\t\t\t\t'IDENTITY_MAIN_TOKEN_BALANCE_WITHDRAW_AVAILABLE_INFO',\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360016097580-Why-can-t-I-withdraw-my-entire-balance-'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('FIND_MORE')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\t\t\tto={`/dashboard/${side}/topup`}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t\t{t('TOP_UP')}\r\n\t\t\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t\ttoken={symbol}\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</List>\r\n\t\t\t</Paper>\r\n\t\t\t<Box mt={1}>\r\n\t\t\t\t<Accordion\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={handleExpandChange}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t>\r\n\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<ListSubheader disableSticky>\r\n\t\t\t\t\t\t\t{t('WALLETS_WITH_PRIVILEGES')}\r\n\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t<List disablePadding>\r\n\t\t\t\t\t\t\t<AccountPrivilageItem\r\n\t\t\t\t\t\t\t\taddress={walletAddress}\r\n\t\t\t\t\t\t\t\tprivileges={privileges}\r\n\t\t\t\t\t\t\t\tauthType={authType}\r\n\t\t\t\t\t\t\t\tcurrent\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{Object.keys(currentPrivileges)\r\n\t\t\t\t\t\t\t\t.filter(a => a !== identityRecoveryAddr && a !== walletAddress)\r\n\t\t\t\t\t\t\t\t.map((address, key) => (\r\n\t\t\t\t\t\t\t\t\t<Fragment key={key}>\r\n\t\t\t\t\t\t\t\t\t\t<AccountPrivilageItem\r\n\t\t\t\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\t\t\t\tprivileges={currentPrivileges[address]}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_LEADER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_FOLLOWER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t{allowEasterEggs && (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Accordion>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nfunction AccountPrivilageItem(props) {\r\n\tconst classes = useStyles()\r\n\tconst currUserPrivileges = useSelector(selectWalletPrivileges)\r\n\tconst canMakeTx = currUserPrivileges > 1\r\n\tconst { address, privileges, current, authType } = props\r\n\tconst privColors = ['disabled', 'secondary', 'primary']\r\n\tconst { availableIdentityBalanceMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\treturn (\r\n\t\t<AccountItem\r\n\t\t\tleft={\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tdirection='row'\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustify='flex-start'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<VpnKey color={privColors[privileges]} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\tprimary={<Typography>{formatAddress(address)}</Typography>}\r\n\t\t\t\t\t\t\tsecondary={t('WALLET_PRIV_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t\tright={\r\n\t\t\t\t<Grid container direction='row' justify='center' alignItems='center'>\r\n\t\t\t\t\t{current ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\tstartIcon={<Lock />}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor={privColors[currUserPrivileges]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{`${t('CURRENT_AUTH')} : ${authType}`}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tlabel='CHANGE_PRIVILEGE'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: 'setIdentityPrivilege',\r\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\t\t\t\tvalue: address,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AccountInfo\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tactionBtn: {\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t\tflexGrow: 0,\r\n\t\t},\r\n\t\tadvancedList: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\ticonBtnLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tinfoLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t\textraInfo: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tcopyBtn: {\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\toverflowWrap: 'anywhere',\r\n\t\t\tuserSelect: 'text',\r\n\t\t\ttextTransform: 'none',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tfontSize: '2rem',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t},\r\n\t\tsubtitle: {\r\n\t\t\tfontSize: '1rem',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t},\r\n\t\tpaper: {\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfo: {\r\n\t\t\tfontSize: '10px',\r\n\t\t},\r\n\t\tinfoGrid: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t},\r\n\t\tinfoTitle: {\r\n\t\t\tfontSize: '12px',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","export const popupCenter = ({ url, title, w, h }) => {\r\n\t// Fixes dual-screen position                             Most browsers      Firefox\r\n\tconst dualScreenLeft =\r\n\t\twindow.screenLeft !== undefined ? window.screenLeft : window.screenX\r\n\tconst dualScreenTop =\r\n\t\twindow.screenTop !== undefined ? window.screenTop : window.screenY\r\n\r\n\tconst width = window.innerWidth\r\n\t\t? window.innerWidth\r\n\t\t: document.documentElement.clientWidth\r\n\t\t? document.documentElement.clientWidth\r\n\t\t: window.screen.width\r\n\tconst height = window.innerHeight\r\n\t\t? window.innerHeight\r\n\t\t: document.documentElement.clientHeight\r\n\t\t? document.documentElement.clientHeight\r\n\t\t: window.screen.height\r\n\r\n\tconst systemZoom = width / window.screen.availWidth\r\n\tconst left = (width - w) / 2 / systemZoom + dualScreenLeft\r\n\tconst top = (height - h) / 2 / systemZoom + dualScreenTop\r\n\tconst newWindow = window.open(\r\n\t\turl,\r\n\t\ttitle,\r\n\t\t`\r\n\t\ttoolbar=no,scrollbars=no,resizable=no\r\n\t\twidth=${w / systemZoom}, \r\n\t\theight=${h / systemZoom}, \r\n\t\ttop=${top}, \r\n\t\tleft=${left},\r\n\t\t`\r\n\t)\r\n\r\n\tif (window.focus) newWindow.focus()\r\n}\r\n","import { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport { popupCenter } from 'helpers/popupHelper'\r\nimport transakSDK from '@transak/transak-sdk'\r\nimport url from 'url'\r\nimport { t } from 'selectors'\r\n\r\nconst PAYTRIE_PARTNER_URL = 'https://partner.paytrie.com/?app=876454'\r\nconst WYRE_URL = 'https://pay.sendwyre.com/purchase?'\r\nconst { RAMP_HOST_API_KEY, TRANSAK_API_KEY, TRANSAK_ENV } = process.env\r\n\r\n//https://docs.sendwyre.com/docs/wyre-widget-v2\r\nexport const openWyre = ({ accountId, symbol, ...rest }) => {\r\n\tconst URL = url.parse(WYRE_URL, true)\r\n\tURL.search = null\r\n\tif (accountId) {\r\n\t\tURL.query = {\r\n\t\t\t...URL.query,\r\n\t\t\tdest: accountId ? `ethereum:${accountId}` : null,\r\n\t\t\treferenceId: accountId,\r\n\t\t\tdestCurrency: symbol,\r\n\t\t\t...rest,\r\n\t\t}\r\n\t\tpopupCenter({\r\n\t\t\turl: url.format(URL),\r\n\t\t\ttitle: t('WYRE_DEPOSIT'),\r\n\t\t\tw: 450,\r\n\t\t\th: 700,\r\n\t\t})\r\n\t} else {\r\n\t\tconsole.error('WYRE_DEPOSIT_MISSING_DEST_PARAM')\r\n\t}\r\n}\r\n\r\n//https://paytrie.com/developer\r\nexport const openPayTrie = ({ accountId, email, symbol, ...rest }) => {\r\n\tconst URL = url.parse(PAYTRIE_PARTNER_URL, true)\r\n\tURL.search = null\r\n\tURL.query = {\r\n\t\t...URL.query,\r\n\t\taddr: accountId,\r\n\t\temail,\r\n\t\trightSideLabel: symbol,\r\n\t\t...rest,\r\n\t}\r\n\tpopupCenter({\r\n\t\t//TODO: Change testwyre to production\r\n\t\turl: url.format(URL),\r\n\t\ttitle: t('PAYTRIE_DEPOSIT'),\r\n\t\tw: 450,\r\n\t\th: 700,\r\n\t})\r\n}\r\n\r\nexport const openOnRampNetwork = ({ accountId, symbol }) => {\r\n\tconst widget = new RampInstantSDK({\r\n\t\thostAppName: 'AdExNetwork',\r\n\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\tvariant: 'auto',\r\n\t\tswapAsset: symbol,\r\n\t\tuserAddress: accountId,\r\n\t\thostApiKey: RAMP_HOST_API_KEY,\r\n\t})\r\n\twidget.domNodes.overlay.style.zIndex = 1300\r\n\twidget.show()\r\n}\r\n\r\nexport const openTransak = ({ accountId, symbol }) => {\r\n\tconst transak = new transakSDK({\r\n\t\tapiKey: TRANSAK_API_KEY, // Your API Key\r\n\t\tenvironment: TRANSAK_ENV, // STAGING/PRODUCTION\r\n\t\tcryptoCurrencyList: symbol,\r\n\t\tdefaultCryptoCurrency: symbol,\r\n\t\tdisableWalletAddressForm: true,\r\n\t\twalletAddress: accountId, // Your customer's wallet address\r\n\t\tthemeColor: '000000', // App theme color\r\n\t\t// fiatCurrency: 'GBP', // INR/GBP\r\n\t\temail: '', // Your customer's email address\r\n\t\tredirectURL: '',\r\n\t\thostURL: window.location.origin,\r\n\t\twidgetHeight: 'calc(100% - 60px)',\r\n\t\twidgetWidth: '100%',\r\n\t})\r\n\r\n\ttransak.init()\r\n\r\n\t// To get all the events\r\n\ttransak.on(transak.ALL_EVENTS, data => {\r\n\t\tconsole.log(data)\r\n\t})\r\n\r\n\t// This will trigger when the user marks payment is made.\r\n\ttransak.on(transak.EVENTS.TRANSAK_ORDER_SUCCESSFUL, orderData => {\r\n\t\tconsole.log(orderData)\r\n\t\ttransak.close()\r\n\t})\r\n}\r\n","import React from 'react'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tButton,\r\n\tList,\r\n\tListItem,\r\n\tGrid,\r\n} from '@material-ui/core'\r\nimport { t } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Media from 'components/common/media'\r\nimport {\r\n\topenWyre,\r\n\topenPayTrie,\r\n\topenOnRampNetwork,\r\n\topenTransak,\r\n} from 'services/onramp'\r\nimport RAMP_LOGO from 'resources/ramp.svg'\r\nimport WYRE_LOGO from 'resources/wyre.svg'\r\nimport PAYTRIE_LOGO from 'resources/paytrie.svg'\r\nimport TRANSAK_LOGO from 'resources/transak.svg'\r\nimport CHANGELLY_LOGO from 'resources/changelly.svg'\r\nimport { styles } from './styles'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst useStyles = makeStyles(styles)\r\nconst commonGAEventProps = {\r\n\taction: 'account',\r\n\tcategory: 'top_up',\r\n}\r\nconst fiatProvidersDetails = [\r\n\t{\r\n\t\ttitle: t('RAMP_PAYMENT_METHODS'),\r\n\t\tonClick: props => openOnRampNetwork(props),\r\n\t\timgSrc: RAMP_LOGO,\r\n\t\timgAlt: t('RAMP'),\r\n\t\tfeeInfo: t('RAMP_FEES'),\r\n\t\tlimitInfo: t('RAMP_LIMITS'),\r\n\t\tcurrencies: t('RAMP_CURRENCIES'),\r\n\t},\r\n\t{\r\n\t\ttitle: t('CREDIT_CARD'),\r\n\t\tonClick: props => openWyre(props),\r\n\t\timgSrc: WYRE_LOGO,\r\n\t\timgAlt: t('WYRE'),\r\n\t\tfeeInfo: t('WYRE_FEES'),\r\n\t\tlimitInfo: t('WYRE_LIMITS'),\r\n\t\tcurrencies: t('WYRE_CURRENCIES'),\r\n\t},\r\n\t{\r\n\t\ttitle: t('BANK_TRANSFER'),\r\n\t\tonClick: props => openPayTrie(props),\r\n\t\timgSrc: PAYTRIE_LOGO,\r\n\t\timgAlt: t('PAYTRIE'),\r\n\t\tfeeInfo: t('PAYTRIE_FEES'),\r\n\t\tlimitInfo: t('PAYTRIE_LIMITS'),\r\n\t\tcurrencies: t('PAYTRIE_CURRENCIES'),\r\n\t},\r\n\t{\r\n\t\ttitle: t('BANK_TRANSFER_AND_CARD_PAYMENTS'),\r\n\t\tonClick: props => openTransak(props),\r\n\t\timgSrc: TRANSAK_LOGO,\r\n\t\timgAlt: t('TRANSAK'),\r\n\t\tfeeInfo: t('TRANSAK_FEES'),\r\n\t\tlimitInfo: t('TRANSAK_LIMITS'),\r\n\t\tcurrencies: t('TRANSAK_CURRENCIES'),\r\n\t},\r\n]\r\n\r\nconst cryptoProvidersDetails = [\r\n\t{\r\n\t\ttitle: t('CHANGELLY_TRANSFER'),\r\n\t\tonClick: ({ side }) => execute(push(`/dashboard/${side}/topup/changelly`)),\r\n\t\timgSrc: CHANGELLY_LOGO,\r\n\t\timgAlt: t('CHANGELLY'),\r\n\t\tfeeInfo: t('CHANGELLY_FEES'),\r\n\t\tlimitInfo: t('CHANGELLY_TIME'),\r\n\t\tcurrencies: t('CHANGELLY_CURRENCIES', { args: ['BTC, ETH, XRP'] }),\r\n\t},\r\n]\r\n\r\nconst ProviderListItem = ({\r\n\timgSrc,\r\n\timgAlt,\r\n\ttitle,\r\n\tfeeInfo,\r\n\tlimitInfo,\r\n\tcurrencies,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Button size='large' fullWidth disableElevation className={classes.copyBtn}>\r\n\t\t\t<Box width='100%'>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tdirection='row'\r\n\t\t\t\t\tjustify='space-between'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tspacing={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={5} sm={4} md={4}>\r\n\t\t\t\t\t\t<Media className={classes.img} alt={imgAlt} src={imgSrc} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={8} md={8} className={classes.infoGrid}>\r\n\t\t\t\t\t\t<Typography className={classes.infoTitle}>{title}</Typography>\r\n\t\t\t\t\t\t{[feeInfo, limitInfo, currencies].map((item, key) => (\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tkey={`info-${key}`}\r\n\t\t\t\t\t\t\t\tclassName={classes.info}\r\n\t\t\t\t\t\t\t\tcomponent='p'\r\n\t\t\t\t\t\t\t\tcolor='textSecondary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst Providers = ({ providersDetails, accountId, symbol, email, side }) => (\r\n\t<List disablePadding>\r\n\t\t{providersDetails.map((item, key) => (\r\n\t\t\t<ListItem\r\n\t\t\t\tdisableGutters\r\n\t\t\t\tkey={key}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\titem.onClick({ accountId, symbol, email, side })\r\n\t\t\t\t\tReactGA.event({\r\n\t\t\t\t\t\t...commonGAEventProps,\r\n\t\t\t\t\t\tlabel: item.imgAlt,\r\n\t\t\t\t\t})\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ProviderListItem\r\n\t\t\t\t\tkey={key}\r\n\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\timgSrc={item.imgSrc}\r\n\t\t\t\t\timgAlt={item.imgAlt}\r\n\t\t\t\t\tfeeInfo={item.feeInfo}\r\n\t\t\t\t\tlimitInfo={item.limitInfo}\r\n\t\t\t\t\tcurrencies={item.currencies}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t))}\r\n\t</List>\r\n)\r\n\r\nexport const FiatProviders = ({ accountId, symbol, email }) => (\r\n\t<Providers\r\n\t\tprovidersDetails={fiatProvidersDetails}\r\n\t\taccountId={accountId}\r\n\t\tsymbol={symbol}\r\n\t\temail={email}\r\n\t/>\r\n)\r\n\r\nexport const CryptoProviders = ({ accountId, symbol, email, side }) => (\r\n\t<Providers\r\n\t\tprovidersDetails={cryptoProvidersDetails}\r\n\t\taccountId={accountId}\r\n\t\tsymbol={symbol}\r\n\t\temail={email}\r\n\t\tside={side}\r\n\t/>\r\n)\r\n","import React from 'react'\r\nimport { Box, Paper, Typography, Button, Grid } from '@material-ui/core'\r\nimport { FileCopy, WarningRounded } from '@material-ui/icons'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectMainToken,\r\n\tselectEmail,\r\n\tselectSide,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport copy from 'copy-to-clipboard'\r\nimport { styles } from './styles'\r\nimport { execute, addToast } from 'actions'\r\nimport { FiatProviders, CryptoProviders } from './Ramp'\r\nimport ReactGA from 'react-ga'\r\nimport { useTheme } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function TopUp() {\r\n\tconst classes = useStyles()\r\n\tconst theme = useTheme()\r\n\tconst accountId = useSelector(selectAccountIdentityAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst email = useSelector(selectEmail)\r\n\tconst side = useSelector(selectSide)\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t// justifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>{t('DAI')}</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('DIRECT_DEPOSIT')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('DAI_DIRECT_DEPOSIT_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcopy(accountId)\r\n\t\t\t\t\t\t\t\t\tReactGA.event({\r\n\t\t\t\t\t\t\t\t\t\taction: 'account',\r\n\t\t\t\t\t\t\t\t\t\tcategory: 'top_up',\r\n\t\t\t\t\t\t\t\t\t\tlabel: 'direct',\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.copyBtn}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tendIcon={<FileCopy fontSize='small' color='disabled' />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{accountId}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box mt={2} px={2} textAlign='center' justifyContent='center'>\r\n\t\t\t\t\t\t\t<Box pr={1} display='inline'>\r\n\t\t\t\t\t\t\t\t<WarningRounded\r\n\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor: theme.palette.warning.main,\r\n\t\t\t\t\t\t\t\t\t\tverticalAlign: 'text-bottom',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\t\t\tcomponent='span'\r\n\t\t\t\t\t\t\t\tcolor='danger'\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('DAI_DIRECT_DEPOSIT_WARNING_1'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\t\t\tcomponent='span'\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tcolor: theme.palette.warning.dark,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{` ${t('DAI_DIRECT_DEPOSIT_WARNING_2')}`}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tpb={1}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t// justifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>\r\n\t\t\t\t\t\t\t\t{t('FIAT_CURRENCY')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('CREDIT_CARD_BANK_TRANSFER')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('ONRAMP_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<FiatProviders\r\n\t\t\t\t\t\t\t\taccountId={accountId}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\temail={email}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tpb={1}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t// justifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>\r\n\t\t\t\t\t\t\t\t{t('CRYPTO_CURRENCY_DEPOSIT')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('CRYPTO_EXCHANGE')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('CRYPTO_CURRENCY_DEPOSIT_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<CryptoProviders\r\n\t\t\t\t\t\t\t\taccountId={accountId}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\temail={email}\r\n\t\t\t\t\t\t\t\tside={side}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Paper, Box } from '@material-ui/core'\r\nimport { selectAccountIdentityAddr } from 'selectors'\r\n\r\nconst onloadFunction = `\r\nfunction at(t) {\r\n\tvar e = t.target,\r\n\t\ti = e.parentNode,\r\n\t\tn = e.contentWindow,\r\n\t\tr = function() {\r\n\t\t\treturn n.postMessage({ width: i.offsetWidth }, 'https://widget.changelly.com');\r\n\t\t};\r\n\twindow.addEventListener('resize', r), r();\r\n};\r\nat.apply(this, arguments);\r\n`\r\nconst getChangellyIframe = identityAddress =>\r\n\t`\r\n\t<iframe \r\n\tsrc=\"https://widget.changelly.com?from=btc,eth,xrp&to=dai&amount=0.007&address=${identityAddress}&fromDefault=btc&toDefault=dai&theme=aqua&merchant_id=unl7fil0on3x48m1&payment_id=&v=3\" \r\n\twidth=\"100%\" height=\"600\" class=\"changelly\" scrolling=\"no\" \r\n\tonLoad=\"${onloadFunction}\" \r\n\tstyle=\"min-width: 100%; width: 100px; overflow-y: hidden; border: none\">Can't load widget</iframe>\r\n`\r\n\r\nfunction TopUpChangelly(props) {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst widgetIframeHtml = getChangellyIframe(identityAddr)\r\n\r\n\treturn (\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<Box p={2}>\r\n\t\t\t\t{!!identityAddr && (\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: widgetIframeHtml }} />\r\n\t\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default TopUpChangelly\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { CheckCircle } from '@material-ui/icons'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst LINES_WIDTH = 3\r\nconst DEFAULT_SIZE = 80\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tzIndex: 1,\r\n\t\twidth: props => DEFAULT_SIZE,\r\n\t\theight: props => DEFAULT_SIZE,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.text.solid}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.primary.main} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.accentTwo.main}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.accentTwo.contrastText,\r\n\t\tcolor: theme.palette.accentTwo.main,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: DEFAULT_SIZE / 2,\r\n\t\tleft: `calc(-50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t\tright: `calc(50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t},\r\n\tline: {\r\n\t\theight: LINES_WIDTH,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, ${theme.palette.background.paper} 50%), ${theme.palette.text.solid}`,\r\n\t\tbackgroundSize: `${LINES_WIDTH * 5}px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <CheckCircle className={clsx(classes.star)} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { confirmAction, execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/'\r\n\r\nexport const createAdUnitTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 8; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const fundAccountTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const launchFirstCampaign = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 5; i++) {\r\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const createAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 7; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const verifyWebsite = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 2; i++) {\r\n\t\tsteps.push(`TUTORIAL_VERIFY_WEBSITE_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_VERIFY_WEBSITE_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t,\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const placeAdSlot = () => {\r\n\tconst stepsPlace = []\r\n\tconst stepsIntegrate = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tstepsPlace.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\r\n\tfor (let i = 5; i <= 6; i++) {\r\n\t\tstepsIntegrate.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_PLACE')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{stepsPlace.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INTEGRATE')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{stepsPlace.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360011670479-How-to-Create-Publisher-Ad-Slots'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012022820-How-to-implement-an-ad-slot-to-your-website'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_3')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013148720-How-to-integrate-AdEx-ads-on-a-WordPress-site'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_4')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { ACCENT_TWO } from 'components/App/themeMUi'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tBox,\r\n\tStepButton,\r\n\tMobileStepper,\r\n\tStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tTypography,\r\n\tHidden,\r\n\tLink,\r\n\tAccordion,\r\n\tAccordionDetails,\r\n\tAccordionSummary,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport {\r\n\tKeyboardArrowLeft,\r\n\tKeyboardArrowRight,\r\n\tExpandMore,\r\n\tClose,\r\n\tCheckCircleOutline,\r\n\tCheckCircle,\r\n} from '@material-ui/icons'\r\nimport EmailEddie from 'resources/getting-started/GS-email-ic_80x80.png'\r\nimport FundEddie from 'resources/getting-started/GS-fund-ic_80x80.png'\r\nimport CreateEddie from 'resources/getting-started/GS-create-ic_80x80.png'\r\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic_80x80.png'\r\nimport PlaceEddie from 'resources/getting-started/GS-place-ic_80x80.png'\r\n// import BonusEddie from 'resources/getting-started/GS-bonus-ic_80x80.png'\r\nimport {\r\n\tt,\r\n\tselectStepsData,\r\n\tselectHideGettingStarted,\r\n\tselectGettingStartedExpanded,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\r\nimport { hideGettingStarted, setGettingStartedExpanded, execute } from 'actions'\r\nimport {\r\n\tcreateAdUnitTutorial,\r\n\tfundAccountTutorial,\r\n\tlaunchFirstCampaign,\r\n\t// createAdSlot,\r\n\tverifyWebsite,\r\n\tplaceAdSlot,\r\n} from './Tutorials'\r\n// import { useEffectDebugger } from 'hooks/useEffectDebugger'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst stepperBackgroundColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.background.paper\r\n\t\t\t: theme.palette.background.paper\r\n\r\n\treturn {\r\n\t\tmobile: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tstepper: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tinstructions: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t\taccordion: {\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t\tbackgroundColor: stepperBackgroundColor,\r\n\t\t},\r\n\t\texpandIcon: {\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t},\r\n\t\tcheckmark: {\r\n\t\t\tcolor: theme.palette.accentTwo.main,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst getSteps = ({\r\n\thasCreatedAdUnit,\r\n\thasCreatedCampaign,\r\n\thasCreatedAdSlot,\r\n\thasConfirmedEmail,\r\n\thasFundedAccount,\r\n\thasImpressions,\r\n\t// has5000Impressions,\r\n\thasVerifiedSites,\r\n}) => ({\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: (\r\n\t\t\t\t<span\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasCreatedAdUnit,\r\n\t\t\ttutorial: createAdUnitTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\r\n\t\t\ticon: FundEddie,\r\n\t\t\tcheck: hasFundedAccount,\r\n\t\t\ttutorial: fundAccountTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: hasCreatedCampaign,\r\n\t\t\ttutorial: launchFirstCampaign,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: (\r\n\t\t\t\t<span\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\r\n\t\t// \tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t// \tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\r\n\t\t// \ticon: CreateEddie,\r\n\t\t// \tcheck: hasCreatedAdSlot,\r\n\t\t// \ttutorial: createAdSlot,\r\n\t\t// },\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_VERIFY_WEBSITE_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_VERIFY_WEBSITE_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_VERIFY_WEBSITE_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasVerifiedSites,\r\n\t\t\ttutorial: verifyWebsite,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_PLACE_AD_SLOT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\r\n\t\t\ticon: PlaceEddie,\r\n\t\t\tcheck: hasCreatedAdSlot && hasImpressions,\r\n\t\t\ttutorial: placeAdSlot,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: hasImpressions,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n})\r\n\r\nexport default function GettingStarted(props) {\r\n\tconst { side } = props\r\n\tconst classes = useStyles({ side })\r\n\tconst stepsData = useSelector(selectStepsData)\r\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\r\n\tconst expanded = useSelector(selectGettingStartedExpanded)\r\n\tconst [steps, setSteps] = useState({})\r\n\r\n\tconst [activeStep, setActiveStep] = React.useState(0)\r\n\r\n\tconst sideSteps = steps[side] || []\r\n\tconst currentStep = sideSteps[activeStep] || {}\r\n\r\n\tconst indexOfFirstIncompleteStep = sideSteps.findIndex(step => !step.check)\r\n\r\n\tconst handleStep = step => () => {\r\n\t\tsetActiveStep(step)\r\n\t}\r\n\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep(activeStep + 1)\r\n\t}\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep(activeStep - 1)\r\n\t}\r\n\r\n\tconst handleDismiss = () => {\r\n\t\tsetActiveStep(0)\r\n\t\texecute(hideGettingStarted(side))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSteps(getSteps(stepsData))\r\n\t}, [stepsData])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst advertiserStep = getSteps(stepsData).advertiser.findIndex(\r\n\t\t\tstep => !step.check\r\n\t\t)\r\n\t\tconst publisherStep = getSteps(stepsData).publisher.findIndex(\r\n\t\t\tstep => !step.check\r\n\t\t)\r\n\t\tReactGA.set({\r\n\t\t\tdimension1:\r\n\t\t\t\tadvertiserStep === -1 ? 'completed' : `step${advertiserStep + 1}`,\r\n\t\t\tdimension2:\r\n\t\t\t\tpublisherStep === -1 ? 'completed' : `step${publisherStep + 1}`,\r\n\t\t})\r\n\t}, [stepsData])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetActiveStep(\r\n\t\t\tindexOfFirstIncompleteStep !== -1\r\n\t\t\t\t? indexOfFirstIncompleteStep\r\n\t\t\t\t: sideSteps.length - 1\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [steps, indexOfFirstIncompleteStep])\r\n\t// TODO: wait for the data to be loaded before displaying the getting started\r\n\treturn (\r\n\t\t!isGettingStartedHidden &&\r\n\t\t!!sideSteps.length && (\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Accordion\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={() => execute(setGettingStartedExpanded(!expanded))}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t>\r\n\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\troot: classes.accordion,\r\n\t\t\t\t\t\t\texpandIcon: classes.expandIcon,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\taria-controls='expand-getting-started'\r\n\t\t\t\t\t\tid='getting-started-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\r\n\t\t\t\t\t\t\t\t{`${t('GETTING_STARTED_HEADING')} (${\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' ? t('PUBLISHER') : t('ADVERTISER')\r\n\t\t\t\t\t\t\t\t})`}\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center'>\r\n\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => {\r\n\t\t\t\t\t\t\t\t\tconst Icon = check ? CheckCircle : CheckCircleOutline\r\n\t\t\t\t\t\t\t\t\tconst color = ACCENT_TWO\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip arrow title={label} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon className={classes.checkmark} />\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</AccordionSummary>\r\n\r\n\t\t\t\t\t<AccordionDetails>\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\r\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\r\n\t\t\t\t\t\t\t\t\t\ticon={currentStep.icon}\r\n\t\t\t\t\t\t\t\t\t\tcompleted={currentStep.check}\r\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\t\t\t\tclassName={classes.mobile}\r\n\t\t\t\t\t\t\t\t\tsteps={sideSteps.length}\r\n\t\t\t\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tnextButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === sideSteps.length - 1}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbackButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t\t\t<Stepper\r\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.stepper }}\r\n\t\t\t\t\t\t\t\t\tnonLinear\r\n\t\t\t\t\t\t\t\t\talternativeLabel\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\r\n\t\t\t\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\r\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [activeStep + 1, currentStep.label || ''],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.check ? t('COMPLETED') : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{currentStep.check ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.contentCompleted}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.content}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.tutorial &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentStep.tutorial()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</AccordionDetails>\r\n\t\t\t\t</Accordion>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router'\r\nimport Campaign from 'components/dashboard/containers/Campaign'\r\nimport { Receipt } from 'components/dashboard/containers/Receipt'\r\nimport {\r\n\tPublisherStats,\r\n\tAdvertiserStats,\r\n} from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Audience from 'components/dashboard/containers/Audience'\r\nimport WebsitesPage from 'components/dashboard/containers/Websites'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport TopUp from 'components/dashboard/deposit/TopUp'\r\nimport TopUpChangelly from 'components/dashboard/deposit/TopUpChangelly'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n\tNewAudienceDialog,\r\n\tNewWebsiteDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tCampaignsTable,\r\n\tAdSlotsTable,\r\n\tAdUnitsTable,\r\n\tAudiencesTable,\r\n} from 'components/dashboard/containers/Tables'\r\nimport { Drawer, Box, Hidden, Paper } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Add } from '@material-ui/icons'\r\nimport { styles } from './styles'\r\nimport {\r\n\texecute,\r\n\tresolveEnsAddress,\r\n\tupdatePrivilegesWarningAccepted,\r\n\tloadAccountData,\r\n\tstopAccountDataUpdate,\r\n\tupdateNav,\r\n\tupdateUiByIdentity,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectPrivilegesWarningAccepted,\r\n\tselectInitialDataLoaded,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport GettingStarted from '../getting-started/GettingStarted'\r\n\r\nconst Campaigns = () => {\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst disabled = privileges <= 1\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<NewCampaignDialog\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tfabButton\r\n\t\t\t\tvariant='extended'\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t\tsize='medium'\r\n\t\t\t\ticon={<Add />}\r\n\t\t\t/>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<CampaignsTable tableId='dashboardCampaigns' />\r\n\t\t\t</Paper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nconst AdUnits = () => (\r\n\t<Box>\r\n\t\t<NewUnitDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<AdUnitsTable tableId='DashboardAdUnits' />\r\n\t\t</Paper>\r\n\t</Box>\r\n)\r\n\r\nconst AdSlots = () => (\r\n\t<Box>\r\n\t\t<NewSlotDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<AdSlotsTable tableId='dashboardSlots' />\r\n\t\t</Paper>\r\n\t</Box>\r\n)\r\n\r\nconst Audiences = () => (\r\n\t<Box>\r\n\t\t<NewAudienceDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_AUDIENCE'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<AudiencesTable tableId='dashboardAudiences' />\r\n\t\t</Paper>\r\n\t</Box>\r\n)\r\n\r\nconst Websites = () => (\r\n\t<Box>\r\n\t\t<NewWebsiteDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_WEBSITE'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<WebsitesPage />\r\n\t</Box>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dashboard(props) {\r\n\tconst [mobileOpen, setMobileOpen] = useState(false)\r\n\tconst address = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\r\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\r\n\r\n\tconst { match } = props\r\n\tconst { side } = match.params\r\n\tconst classes = useStyles()\r\n\r\n\tconst dataLoaded = useSelector(selectInitialDataLoaded)\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function updateInitialData() {\r\n\t\t\texecute(loadAccountData())\r\n\t\t}\r\n\r\n\t\tupdateInitialData()\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(stopAccountDataUpdate())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(resolveEnsAddress({ address }))\r\n\t}, [address])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('side', side))\r\n\t\texecute(updateUiByIdentity('userLastSide', side))\r\n\t}, [side])\r\n\r\n\tconst handleDrawerToggle = () => {\r\n\t\tsetMobileOpen(!mobileOpen)\r\n\t}\r\n\r\n\tconst drawer = <SideNav side={side} />\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<TopBar\r\n\t\t\t\tside={side}\r\n\t\t\t\topen={mobileOpen}\r\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\r\n\t\t\t/>\r\n\t\t\t<Hidden mdUp>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\tanchor='left'\r\n\t\t\t\t\topen={mobileOpen}\r\n\t\t\t\t\tonClose={handleDrawerToggle}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\topen\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\r\n\t\t\t<main className={classes.content}>\r\n\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t{showTxPrivLevelWarning && (\r\n\t\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\t\t\tseverity='info'\r\n\t\t\t\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\r\n\t\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\t\tcomponent={Campaigns}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\t\tcomponent={AdUnits}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences'\r\n\t\t\t\t\t\t\t\tcomponent={Audiences}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Audience}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Campaign}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipt/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Unit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\t\tcomponent={AdSlots}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Slot}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/websites'\r\n\t\t\t\t\t\t\t\tcomponent={Websites}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/receipts'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/topup/changelly'}\r\n\t\t\t\t\t\t\t\tcomponent={TopUpChangelly}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route exact path={'/dashboard/:side/topup'} component={TopUp} />\r\n\t\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser'\r\n\t\t\t\t\t\t\t\tcomponent={AdvertiserStats}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher'\r\n\t\t\t\t\t\t\t\tcomponent={PublisherStats}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dashboard\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.png')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\t// marginTop: '1.5vh',\r\n\t\t\t// width: '17.92vh',\r\n\t\t\t// height: '6vh',\r\n\t\t\theight: '2rem',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport { Box, Divider } from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport classnames from 'classnames'\r\nimport { getAllWallets } from 'services/wallet/wallet'\r\nimport { execute, initIdentity, confirmAction } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAuth,\r\n\tselectAccount,\r\n\tselectRegistrationAllowed,\r\n\tselectUserLastSide,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { formatAddress } from 'helpers/formatters'\r\nimport { push } from 'connected-react-router'\r\nimport { removeFromLocalStorage } from 'helpers/localStorageHelpers'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst AuthSelect = () => {\r\n\tconst classes = useStyles()\r\n\tconst [wallets, setWallets] = useState([])\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst userSide = useSelector(selectUserLastSide) || 'publisher'\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { wallet, identity } = account || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst allWallets = getAllWallets()\r\n\t\tconst wallets = allWallets.filter(\r\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\r\n\t\t)\r\n\t\tsetWallets(wallets)\r\n\t}, [wallet])\r\n\r\n\tconst goTo = (to, confirmLogout, onConfirm) => {\r\n\t\tconst toExecute = () => {\r\n\t\t\t// skip redirect as you are going to be redirected on next line\r\n\t\t\t// this resolves an issue of \"Same web property ID is tracked twice.\"\r\n\t\t\t// with the google analytics pixel\r\n\t\t\tlogOut(true)\r\n\t\t\texecute(push(to))\r\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\r\n\t\t\t\tonConfirm()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (auth && confirmLogout) {\r\n\t\t\texecute(\r\n\t\t\t\tconfirmAction(toExecute, null, {\r\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\r\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\r\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\r\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\r\n\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}),\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\ttoExecute()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='stretch'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t>\r\n\t\t\t<Box p={2} alignItems='center'>\r\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{auth && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tto={`/dashboard/${userSide}`}\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CONTINUE_AS', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\r\n\t\t\t\t\t\t\t\twallet.authType,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{wallets.map(w => (\r\n\t\t\t\t<Box key={w.name} m={1} display='flex'>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\r\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\t\t\tremoveFromLocalStorage(w.key)\r\n\t\t\t\t\t\t\t\t\t\tsetWallets(wallets.filter(i => i.key !== w.key))\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TITLE'),\r\n\t\t\t\t\t\t\t\t\t\ttext: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TEXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Close />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t))}\r\n\t\t\t{(wallets.length > 0 || auth) && <Divider />}\r\n\t\t\t{showRegistration && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\r\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default AuthSelect\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tlimitedWidthBtn: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t\tcolor: theme.palette.common.black,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t\tcolor: theme.palette.common.black,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\nimport { t } from 'selectors'\r\nimport { Typography } from '@material-ui/core'\r\nimport ThemeSwitch from 'components/App/ThemeSwitch'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tfunction Connect({ classes, ...rest }) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\r\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\r\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\r\n\t\t\t\t\t\t\t\t<ThemeSwitch />\r\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\r\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HELP')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn withStyles(styles)(Connect)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { List, ListItem, ListItemText } from '@material-ui/core'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { selectWalletAddress, execute } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function AddrItem({ stats }) {\r\n\tconst { balanceEth, tokensBalances, address } = stats\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<span> {symbol} </span>\r\n\t\t\t\t\t\t\t<strong> {balance} </strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const AddressSelect = ({\r\n\taddresses,\r\n\taddress,\r\n\twaitingAction,\r\n\tactionWaitingLabel,\r\n\tselectLabel,\r\n\tsignType,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\tclasses,\r\n}) => {\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentStickyTop>\r\n\t\t\t\t{waitingAction ? <TopLoading msg={actionWaitingLabel} /> : selectLabel}\r\n\t\t\t</ContentStickyTop>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t{addresses.map((addrData, hdWalletAddrIdx) => (\r\n\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\tkey={addrData.address}\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tselectWalletAddress({\r\n\t\t\t\t\t\t\t\t\t\taddrData,\r\n\t\t\t\t\t\t\t\t\t\thdWalletAddrPath,\r\n\t\t\t\t\t\t\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\t\t\t\t\t\t\tsignType,\r\n\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tselected={address === addrData.address}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AddrItem stats={addrData} address={addrData.address} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</List>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport METAMASK_IMG from 'resources/metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport { checkAuthMetamask, execute } from 'actions'\r\nimport { getEthereumProviderName } from 'services/smart-contracts/ethers'\r\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\r\nimport { CHECKING_METAMASK_AUTH } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthMetamask() {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\r\n\tconst { address } = wallet\r\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\r\n\tconst isOpera =\r\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\r\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\r\n\t\tfalse\r\n\t)\r\n\r\n\tconst waitingAddrsData = useSelector(state =>\r\n\t\tselectSpinnerById(state, CHECKING_METAMASK_AUTH)\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst setEth = async () => {\r\n\t\t\tconst ethereumProvider = await getEthereumProviderName()\r\n\t\t\tsetIsMetamaskEthereumProvider(\r\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tsetEth()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (installingMetamask) {\r\n\t\t\t// Refreshes page after user comes back\r\n\t\t\t// from installing Metamask\r\n\t\t\twindow.onfocus = () => {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\tsetInstallingMetamask(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [installingMetamask])\r\n\r\n\treturn (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingAddrsData ? (\r\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\r\n\t\t\t\t\t\t\t\talt={'metamask logo'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => execute(checkAuthMetamask())}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthMetamask\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { AddressSelect } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport {\r\n\tAUTH_WAITING_ADDRESS_DATA,\r\n\tAUTH_WAITING_TREZOR_ACTION,\r\n} from 'constants/spinners'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\r\nimport { connectTrezor, execute } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthTrezor() {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, addresses = [], hdWalletAddrPath } = useSelector(\r\n\t\tselectIdentity\r\n\t)\r\n\tconst { address } = wallet\r\n\r\n\tconst waitingTrezorAction = useSelector(state =>\r\n\t\tselectSpinnerById(state, AUTH_WAITING_TREZOR_ACTION)\r\n\t)\r\n\r\n\tconst waitingAddrsData = useSelector(state =>\r\n\t\tselectSpinnerById(state, AUTH_WAITING_ADDRESS_DATA)\r\n\t)\r\n\r\n\treturn addresses.length ? (\r\n\t\t<AddressSelect\r\n\t\t\twaitingAction={waitingTrezorAction}\r\n\t\t\tactionWaitingLabel={t('TREZOR_WAITING_ACTION')}\r\n\t\t\tselectLabel={t('SELECT_ADDR_TREZOR')}\r\n\t\t\taddress={address}\r\n\t\t\taddresses={addresses}\r\n\t\t\tsignType={AUTH_TYPES.TREZOR.signType}\r\n\t\t\tauthType={AUTH_TYPES.TREZOR.name}\r\n\t\t\thdWalletAddrPath={hdWalletAddrPath}\r\n\t\t\tclasses={classes}\r\n\t\t/>\r\n\t) : (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingAddrsData ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : waitingTrezorAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\r\n\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\r\n\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\r\n\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{!waitingAddrsData && !waitingTrezorAction && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => execute(connectTrezor())}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthTrezor\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocationQuery } from 'selectors'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction AuthMethod(props) {\r\n\tconst classes = useStyles()\r\n\tconst query = useSelector(selectLocationQuery)\r\n\tconst method = query['external']\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t{method === 'metamask' && <AuthMetamask {...props} />}\r\n\t\t\t\t{method === 'trezor' && <AuthTrezor {...props} />}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default AuthMethod\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tCheckbox,\r\n\tFormControlLabel,\r\n\tFormHelperText,\r\n\tFormControl,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { ExternalAnchor } from 'components/common/anchor'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectKnowUsFromSource,\r\n\tselectUserSides,\r\n} from 'selectors'\r\nimport { execute, updateIdentity } from 'actions'\r\n\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst knowFromSource = selectKnowUsFromSource()\r\nconst userSides = selectUserSides()\r\n\r\nconst QuickInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\r\n\t]\r\n\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\tpassword,\r\n\t\tpasswordCheck,\r\n\t\ttosCheck,\r\n\t\tknowFrom,\r\n\t\tmoreInfo,\r\n\t\tuserSide,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner || sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t{password && !!password.dirty ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Box> {password.errMsg} </Box>\r\n\t\t\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Box>{t('PASSWORD_RULES')} </Box>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='knowFrom'\r\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\r\n\t\t\t\t\t\t\t\tsource={knowFromSource}\r\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-know-from'\r\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\r\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tname='moreInfo'\r\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\r\n\t\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='userSide'\r\n\t\t\t\t\t\t\t\tlabel={t('USER_SIDE_SELECT_LABEL')}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('userSide', val))}\r\n\t\t\t\t\t\t\t\tsource={userSides}\r\n\t\t\t\t\t\t\t\tvalue={identity.userSide || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-user-side'\r\n\t\t\t\t\t\t\t\terror={userSide && !!userSide.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tuserSide && !!userSide.dirty\r\n\t\t\t\t\t\t\t\t\t\t? userSide.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('USER_SIDE_INFO')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href={`${process.env.ADEX_TOS_URL}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('TOS')}\r\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectKnowUsFromSource,\r\n\tselectUserSides,\r\n} from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst knowFromSource = selectKnowUsFromSource()\r\nconst userSides = selectUserSides()\r\n\r\nconst FulInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst { wallet = {} } = identity\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\ttosCheck,\r\n\t\taccessWarningCheck,\r\n\t\tknowFrom,\r\n\t\tuserSide,\r\n\t\tmoreInfo,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{walletAddress}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='knowFrom'\r\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\r\n\t\t\t\t\t\t\t\tsource={knowFromSource}\r\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-know-from'\r\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\r\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tname='moreInfo'\r\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\r\n\t\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='userSide'\r\n\t\t\t\t\t\t\t\tlabel={t('USER_SIDE_SELECT_LABEL')}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('userSide', val))}\r\n\t\t\t\t\t\t\t\tsource={userSides}\r\n\t\t\t\t\t\t\t\tvalue={identity.userSide || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-user-side'\r\n\t\t\t\t\t\t\t\terror={userSide && !!userSide.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tuserSide && !!userSide.dirty\r\n\t\t\t\t\t\t\t\t\t\t? userSide.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('USER_SIDE_INFO')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\r\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('TOS')}\r\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FulInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickLogin = props => {\r\n\tconst { validateId } = props\r\n\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\r\n\t]\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { wallet } = validations\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickLogin\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport { push } from 'connected-react-router'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { execute, updateIdentity, updateOwnerIdentities } from 'actions'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectIdentity,\r\n\tt,\r\n\tselectSearchParams,\r\n\tselectRegistrationAllowed,\r\n} from 'selectors'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: id.ens\r\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\r\n\t\t\t\t  })\r\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\r\n\t\t\t\t  }),\r\n\t\t}\r\n\t})\r\n\r\nfunction FullLogin(props) {\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst {\r\n\t\twalletAddr,\r\n\t\twallet = {},\r\n\t\townerIdentities,\r\n\t\tidentityContractAddress,\r\n\t} = identity\r\n\tconst walletAddress = wallet.address || walletAddr\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\r\n\t)\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\r\n\tconst searchParams = useSelector(selectSearchParams)\r\n\tsearchParams.set('step', '1')\r\n\r\n\tconst search = searchParams.toString()\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateOwnerIdentities({ owner: walletAddress }))\r\n\t\t// We need it just once on mount\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\r\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{showRegistration && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FullLogin\r\n","import React from 'react'\r\nimport AuthMethod from './ownerAuth/AuthMethod'\r\nimport QuickInfo from './QuickInfo'\r\nimport FullInfo from './FullInfo'\r\nimport QuickLogin from './QuickLogin'\r\nimport FullLogin from './FullLogin'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport { push } from 'connected-react-router'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateQuickLogin,\r\n\tvalidateStandardLogin,\r\n\tvalidateQuickInfo,\r\n\tvalidateFullInfo,\r\n\tvalidateContractOwner,\r\n\tresetIdentity,\r\n} from 'actions'\r\n\r\nconst cancelFunction = () => {\r\n\texecute(resetIdentity())\r\n\texecute(push('/'))\r\n}\r\n\r\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst common = {\r\n\tcancelFunction,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const LoginStandardIdentity = props => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-login'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tcomponent: AuthMethod,\r\n\t\t\t\t\tvalidationFn: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\t\tcomponent: FullLogin,\r\n\t\t\t\t\tvalidationFn: finalValidationStandard,\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateStandardIdentity = props => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-create'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tcomponent: AuthMethod,\r\n\t\t\t\t\tvalidationFn: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'FULL_INFO',\r\n\t\t\t\t\tcomponent: FullInfo,\r\n\t\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\r\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateQuickIdentity = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-create'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_INFO',\r\n\t\t\t\tcomponent: QuickInfo,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\r\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginQuickIdentity = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-login'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_LOGIN',\r\n\t\t\t\tcomponent: QuickLogin,\r\n\t\t\t\tvalidationFn: finalValidationQuick,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const DemoIdentity = props => (\r\n\t<FormSteps {...props} {...common} steps={[]} />\r\n)\r\n","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport LogoDark from 'components/common/icons/AdexIconTxtDark'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n\tlogo: {\r\n\t\theight: '5rem',\r\n\t\twidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\tconst theme = useTheme()\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? LogoDark : Logo\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tclassName={classes.root}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-evenly'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<AdxIcon className={classes.logo} />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{/* <Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t{/* <Box p={1}>\r\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React from 'react'\r\nimport { Box } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\n\r\nexport function ImportantNotifications({\r\n\tseverity = 'info',\r\n\tmessage = null,\r\n\ttitle = null,\r\n\taction = null,\r\n}) {\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tstyle={{ position: 'fixed', top: 0, left: 0, right: 0, zIndex: 10000 }}\r\n\t\t>\r\n\t\t\t<Alert\r\n\t\t\t\tvariant='filled'\r\n\t\t\t\tseverity={severity}\r\n\t\t\t\tstyle={{ flex: 1 }}\r\n\t\t\t\taction={action}\r\n\t\t\t>\r\n\t\t\t\t{title && <AlertTitle>{title}</AlertTitle>}\r\n\t\t\t\t{message}\r\n\t\t\t</Alert>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tmetamaskChecks,\r\n\tmetamaskNetworkCheck,\r\n\tgetRelayerConfig,\r\n\texecute,\r\n\tensureQuickWalletBackup,\r\n\tupdateRegistrationAllowed,\r\n\tupdateEasterEggsAllowed,\r\n\thandleRedirectParams,\r\n\thandleSignupLink,\r\n\trefreshCacheAndReload,\r\n} from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateQuickIdentity,\r\n\tLoginStandardIdentity,\r\n\tCreateStandardIdentity,\r\n\tLoginQuickIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\r\nimport Translate from 'components/translate/Translate'\r\nimport { Button } from '@material-ui/core'\r\nimport {\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectLocation,\r\n\tt,\r\n\tselectNewVersionAvailable,\r\n\tselectNewVersionAvailableId,\r\n} from 'selectors'\r\nimport { getMetamaskEthereum } from 'services/smart-contracts/ethers'\r\nimport { ImportantNotifications } from './ImportantNotifications'\r\n\r\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\r\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedCreateStandardIdentity = ConnectHoc(\r\n\tJustDialog(CreateStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst handleLegacyWallet = async wallet => {\r\n\tconst { type, email, password, authType } = wallet || {}\r\n\r\n\tif (!type && email && password && authType === 'grant') {\r\n\t\tawait migrateLegacyWallet({ email, password })\r\n\t\tawait removeLegacyKey({ email, password })\r\n\t}\r\n\r\n\tif (email && password && authType) {\r\n\t\texecute(ensureQuickWalletBackup())\r\n\t}\r\n}\r\n\r\nconst Root = () => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst wallet = useSelector(selectWallet)\r\n\tconst location = useSelector(selectLocation)\r\n\tconst showNotification = useSelector(selectNewVersionAvailable)\r\n\tconst version = useSelector(selectNewVersionAvailableId)\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function initialChecks() {\r\n\t\t\tawait getMetamaskEthereum()\r\n\t\t\texecute(metamaskChecks())\r\n\r\n\t\t\texecute(getRelayerConfig())\r\n\t\t\texecute(handleRedirectParams(location.search))\r\n\t\t\texecute(handleSignupLink(location.search))\r\n\t\t}\r\n\r\n\t\tinitialChecks()\r\n\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\thandleLegacyWallet(wallet)\r\n\t}, [wallet])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskNetworkCheck())\r\n\t\texecute(updateRegistrationAllowed(location.search))\r\n\t\texecute(updateEasterEggsAllowed(location.search))\r\n\t}, [location])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showNotification && (\r\n\t\t\t\t<ImportantNotifications\r\n\t\t\t\t\ttitle={t('RELOAD_REQUIRED')}\r\n\t\t\t\t\tmessage={t('SUCCESS_UPDATING_NEW_APP_VERSION', {\r\n\t\t\t\t\t\targs: [version],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tseverity='success'\r\n\t\t\t\t\taction={\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\texecute(refreshCacheAndReload({ version }))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RELOAD_NOW')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<Switch>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tauth={auth}\r\n\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/quick'\r\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/login/full'\r\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/full'\r\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\r\n\t\t\t\t<Route>\r\n\t\t\t\t\t<PageNotFound />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Translate(Root)\r\n","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { updateNewVersion, execute, notifyNewTOS } from 'actions'\r\n\r\nconst buildMeta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(2)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = buildMeta\r\n\t\t\t\tconst shouldForceRefresh = latestVersion !== currentVersion\r\n\r\n\t\t\t\texecute(\r\n\t\t\t\t\tupdateNewVersion({\r\n\t\t\t\t\t\tshouldForceRefresh,\r\n\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst shouldNotifyNewTOS = latestTOS !== currentTOS\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import React from 'react'\r\nimport { useTheme } from '@material-ui/core/styles'\r\nimport { LinearProgress, Box } from '@material-ui/core'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport AdexIconTxtDark from 'components/common/icons/AdexIconTxtDark'\r\n\r\nexport default function Loading() {\r\n\tconst theme = useTheme()\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? AdexIconTxt : AdexIconTxtDark\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\twidth='100vw'\r\n\t\t\theight='100vh'\r\n\t\t\tflexDirection='column'\r\n\t\t\tjustifyContent='center'\r\n\t\t\talignItems='center'\r\n\t\t\tposition='absolute'\r\n\t\t>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<AdxIcon style={{ width: 200, height: 'auto' }} />\r\n\t\t\t</Box>\r\n\t\t\t<Box width={200}>\r\n\t\t\t\t<LinearProgress color='secondary' />\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n\tDialog,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tListItemIcon,\r\n} from '@material-ui/core'\r\n\r\nimport {\r\n\tBlockSharp as AdBlockIcon,\r\n\tSignalCellularConnectedNoInternet0BarSharp as NoNetworkIcon,\r\n\tErrorSharp as NoValidatorIcon,\r\n} from '@material-ui/icons'\r\nimport { t } from 'selectors'\r\n\r\nconst DetectNetworkError = () => {\r\n\tconst [problemDetected, setProblemDetected] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst testAdBlock = async () => {\r\n\t\t\ttry {\r\n\t\t\t\t// Just detect for moonicorn which is currently blocked by the adblockers\r\n\t\t\t\tfetch(`https://tom.moonicorn.network/channel/list`, {\r\n\t\t\t\t\tmethod: 'HEAD',\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tsetProblemDetected(false)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tsetProblemDetected(true)\r\n\t\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetProblemDetected(true)\r\n\t\t\t\tconsole.error(err)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttestAdBlock()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Dialog open={problemDetected}>\r\n\t\t\t<DialogTitle id='adblock-and-network-dialog-title'>\r\n\t\t\t\t{t('PROBLEM_DETECTED_TITLE')}\r\n\t\t\t</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<List subheader={t('PROBLEM_DETECTED_SUBHEADER')}>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AdBlockIcon color='error' />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('PR_ADBLOCKER_PRIMARY')}\r\n\t\t\t\t\t\t\tsecondary={t('PR_ADBLOCKER_SECONDARY')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<NoNetworkIcon color='error' />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tcolor='error'\r\n\t\t\t\t\t\t\tprimary={t('PR_NO_CONNECTION_PRIMARY')}\r\n\t\t\t\t\t\t\tsecondary={t('PR_NO_CONNECTION_SECONDARY')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<NoValidatorIcon color='error' />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('PR_NO_VALIDATOR_PRIMARY')}\r\n\t\t\t\t\t\t\tsecondary={t('PR_NO_VALIDATOR_SECONDARY')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</List>\r\n\t\t\t</DialogContent>\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default DetectNetworkError\r\n","import React, { useEffect } from 'react'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport { persistor, store } from 'store'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport Root from './Root'\r\nimport { DateUtils } from 'helpers/dateUtils'\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport CacheBuster from './CacheBuster'\r\nimport { updateWindowReloading, execute } from 'actions'\r\nimport MultiThemeProvider from './MultiThemeProvider'\r\nimport Loading from './Loading'\r\nimport NetworkErrorDetector from './NetworkErrorDetector'\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nconst App = () => {\r\n\tuseEffect(() => {\r\n\t\texecute(updateWindowReloading(false))\r\n\r\n\t\tfunction onReload() {\r\n\t\t\texecute(updateWindowReloading(true))\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('beforeunload', onReload)\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('beforeunload', onReload)\r\n\t\t}\r\n\t})\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<MultiThemeProvider>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<NetworkErrorDetector />\r\n\t\t\t\t<MuiPickersUtilsProvider utils={DateUtils}>\r\n\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t<PersistGate\r\n\t\t\t\t\t\t\tloading={<Loading />}\r\n\t\t\t\t\t\t\tonBeforeLift={onBeforeLift}\r\n\t\t\t\t\t\t\tpersistor={persistor}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t<CacheBuster>\r\n\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</CacheBuster>\r\n\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t</Provider>\r\n\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t</MultiThemeProvider>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { unregister } from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nunregister()\r\n","// Nodejs encryption with CTR\r\nconst crypto = require('crypto')\r\n\r\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\r\nconst CIPHER_ALG = 'aes-256-cbc'\r\nconst IV_LENGTH = 16\r\nconst HASH_ALG = 'sha256'\r\n\r\nconst getKeyHash = key => {\r\n\tconst hash = crypto.createHash(HASH_ALG)\r\n\thash.update(key)\r\n\tconst hashed = hash.digest()\r\n\treturn hashed\r\n}\r\n\r\nexport const encrypt = async (text, key) => {\r\n\tif (!text) return ''\r\n\tif (!key) {\r\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\r\n\t}\r\n\tconst iv = crypto.randomBytes(IV_LENGTH)\r\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst encr = cipher.update(text)\r\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\r\n\r\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\r\n}\r\n\r\nexport const decrypt = async (text, key) => {\r\n\tconst textParts = text.split(':')\r\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\r\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\r\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst decr = decipher.update(encryptedText)\r\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\r\n\r\n\treturn decrypted.toString()\r\n}\r\n\r\nexport const encryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\r\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\r\n\tlet dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg0OWZlMjc1LWQzZGEtZjI0Zi1hZjY1LWM2ZjAwZjk0MmZmMyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg0YmMzZjJjLTE4NDEtZTk0ZC1iZjg4LTdiNmJhMzkxOGQ0YiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjExNmFhMzE5LTJhNGUtNTU0My1hMDFjLTU0OGZhZWU4Y2U5YSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTE2YWEzMTktMmE0ZS01NTQzLWEwMWMtNTQ4ZmFlZThjZTlhIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODQ5ZmUyNzUtZDNkYS1mMjRmLWFmNjUtYzZmMDBmOTQyZmYzIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+CelIuwAAGaZJREFUeF7tnAdcFGfawJ9lC7vssvS6sFTpCGoEsaFiQ2yJxEvUXBK/2GNy+U5TjS0XPRPz8/RiLpp4uRhrvBgLgmDDCopYAOlI721p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\"","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic_80x80.d41e2bbc.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmMwYTM2YWNkLTI0MWQtMWM0ZC04YTBjLWZmZGZjZWE1YTk1NyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjExN2ZkN2FiLTdlMTQtNjk0ZS1iNGYzLTcyNTA0YjI1MTU4MSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmIxMWJhYTU3LWYzMDctOTI0NC05MTVmLTRlZTQ4YjE4M2M4NyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjExYmFhNTctZjMwNy05MjQ0LTkxNWYtNGVlNDhiMTgzYzg3IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzBhMzZhY2QtMjQxZC0xYzRkLThhMGMtZmZkZmNlYTVhOTU3IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zfLLjwAAF5NJREFUeF7tXAl0FFW6/m/1lu7sSZOkyQIJaQgQiKwCsiqBsA3IEkbUAUUeouKMT87MOOogLuhhjs6bxfGND3BgmMFBBxnEsK+CLBEI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\"","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/ramp.1b4e7993.svg\";","module.exports = __webpack_public_path__ + \"static/media/wyre.88a9c74f.svg\";","module.exports = __webpack_public_path__ + \"static/media/paytrie.d5796d80.svg\";","module.exports = __webpack_public_path__ + \"static/media/transak.877f635a.svg\";","module.exports = __webpack_public_path__ + \"static/media/changelly.959934f6.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmIwNDIwZDczLWQ3YzQtNGM0NC04MTE1LTYwZGRmZjcwYTEyMiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY3Yjg5NTQxLWUxMWUtZjg0Mi1hODMwLTY3Mjc5OTlhYjg5MCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjBlZmIzM2Q2LTcxOTMtYjQ0MS1iN2E1LTRhYzU1OTI0YTdkMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGVmYjMzZDYtNzE5My1iNDQxLWI3YTUtNGFjNTU5MjRhN2QwIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjA0MjBkNzMtZDdjNC00YzQ0LTgxMTUtNjBkZGZmNzBhMTIyIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+lvIY5AAAGQlJREFUeF7tnAlYVOe5x9/ZZ5hh9mEbtmGRRZBNxGgNGIMaAc2i2ZvcJO1tb5o8vWnvbdPe3pvaPulN29veNK3N3rRZmifR1LgAGjUu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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjBmMDI5MDBjLWZhZDEtNmQ0Ny1iYzJmLTBkODRlODkwODNkNSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODU5NmIwYTItNjliYy01YzRlLTkyMWUtYTY3MDBjY2YyM2I0IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NjFhOWI2YWUtM2I4Ny1mZTQwLWI3NmYtOWVkMGRmNjNiMzljIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+rSUE+gAABchJREFUeF7tmn1MlVUcx3/3uc995/1KyZsMUYgEzFzpbJJrUwqGkpLZxmYvo3JSsUJcM61lf+WWRVvly1rlwFjUVnC5GfiChToqFEbMFhYCAoJX3naB+/p0zsNpozHl3nvQw+Wez/bdPc95nmd77pdzvs/vnAtwOBwOh8PhcDgcDofD4XA4/oOCfHpFdnb2dpVa/YbBEKwhXX6Jy+VwjQwPX3Q4HC/W1tZaSbdXeG1gTk5OQuyi+KaSfft1okrl1wZi6k/+NFD2+ZFDZrN5L+nyCoF8eozb7Y6/P215qD+Zh54Zfm+8CL09ffKx8q9mEPquyu1l6Q8sEARhoXzgA14biFEgSNMvaG1pgz3F78Dbu98DobcDdKXFSLuQsy40Bem+i08G+huxcdGQnJIEazJWgxQWCa7ENHCmr0HfXkmu8J2AMDDCGAEfHToAzxbkg6QzwHjRB2DbVkTO0hEQBt5JvJ7/qIRZ98TGJ09vemqbfPyH8yaY7B1y219Yr46DFWKk3LYMDMCe1wuPmkymArnDS6gNrLJ1wF7rBbntL7ypXwlPa5fKbVoD+RSmhBtICTeQEp8NtNkmAC2BoO3nBgCJdAYgPhlot9vh+OFPIVehgty2G7D2UCPorw2Ts4GFLwaGNP9yFjbrQ0EUBGgftMBbxvtgQ1krGomBNxQ9NjAzMzPq8ZxN70eFhFUcXJcJETo9nOvuhHCtDlr6+6A1RocXyeTqwOG2Bubl5emysrKyN2zcXNGbmnml4ZkPd1U/+qr2m7+vwDDKwBH7BKjRevLbwS74Z0s6uSuwUDyWl39ZAe4mtXWwU5KkMUEQtHZNUPR4aFTKqDFuuSVuhaZ/8cPg0ASRWwCCbnZBdtNxeEHvhDM9V6F8ayKMJhjJ2bnPbBbSiujS01JvUgYoHRNINnCLanCqdSDJ0/F2U1KCpRfKYcdiFxjXryJ9/kGyGAYxwuSAoDYwuLxDGjXGk0PPuafjNyiynof87c/h/UHS639QGyiYHZJbEMmhZxi7W+D5zirYWfgK6DVq0Kro99V8Ab/zR8btcvtS1wg0tA/J7ZnISAqHtJhguU1tIJzwrvaIRCNva/t3UFxcAqJKBcFaFYTq1OTs3QVlNlwbGpPb5Y09UHpycpt+JnZlJsCWByd38WkN9LwORA8b13oCVv7w7p8pSxJl8zBu1O9ysxNrPDJQ6bTBsjOfuVNPffyJqJB2km4Zq80JvcNjTNQ3Mk6egh0zGmgY7IZVlbsnFjVXvWw2mQrRtHGRUzIaUQlhaAqzEKvomMotDcQlTeKvFfBI+WuXwvvbV5vN5iOoe9qcUYsCBKEcZCKNdy+/O8E0A/F0jW2rg7XHdliSz31VYhu2PIQCtpmcngbPQITC7QbDUA8safwaMr4ouJ5ae3C/aOlKrKmpOVBfX++Ur7wFAZ+B6bUH8WjrzvjypbKk88dyjdJ4wo81Nfvq6uo82p9SKQUwqEWPhPPyv3vC9CjHKDUnMnDR5VORZ8sPx5lrqvPRiPu+srLSqz8rLqLDDRqPhHMLoxQUKL9whtFqDmRgdXX1DdK+a+DS3YnyazbEGo/qwNnG5nRBH84wSl33hzrwToCzcGGIjlr3IrGGiYF480ZELxJqoSxlDRMDcf02ZnfSy/G/RRETmBjocLnhptVGrUEk1jAxENeBEaisoVW4nv0/yTIxENeBelRY04vNRu5UqA30rhKbvBrXgXga02se1IHWCQf0DI15JJxbGFwH4hqOVv2j86AO1OClHFqXeqIIlFlGlF2zJZyDrKE2EL8QdCiPmIjRj1lToTYQ13R2lEesxBpqA3FB24/ziIEGRifIU7CD2kA8jYxBWiaaFxmI16TYRFZizexkoBPlEQvNmwxE9RgLzZsMXIDyiIWMQfMkA/HvIkxEfqRiCbWBgQ43kBJuICXcQEq4gZRwAynhBlLCDaSEG0gJN5ASbiAl3EBKuIGUcAMp4QZSAfAv9zIDHEKL3x4AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";"],"sourceRoot":""}