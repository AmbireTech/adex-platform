{"version":3,"sources":["resources/wyre.svg","resources/home-wallpaper.png","constants/actionTypes.js","store/initialState.js","services/translations/translations.js","helpers/sanitizer.js","reducers/configReducer.js","store/history.js","reducers/index.js","reducers/accountReducer.js","reducers/uiReducer.js","reducers/itemsReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/targetingReducer.js","reducers/ensReducer.js","reducers/tablesStateReducer.js","reducers/uiMemoryReducer.js","reducers/channelsReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","selectors/selectors.js","selectors/configSelectors.js","helpers/dateUtils.js","selectors/accountSelectors.js","selectors/identitySelectors.js","constants/spinners.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/itemsSelectors.js","selectors/newItemsSelectors.js","helpers/formatters.js","helpers/analyticsTimeHelpers.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","components/common/anchor/anchor.js","selectors/targetingSelectors.js","selectors/newTransactionSelectors.js","components/App/themeMUi.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","constants/misc.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/locationSelectors.js","selectors/combinedSelectors.js","actions/common.js","helpers/miscHelpers.js","helpers/errors.js","actions/uiActions.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/ethers.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/store-data/loop.js","services/store-data/campaigns.js","services/store-data/account.js","services/store-data/analytics.js","services/store-data/auth.js","services/requester/requester.js","services/requester/index.js","services/adex-relayer/actions.js","constants/targeting.js","actions/validationActions.js","helpers/mediaHelpers.js","actions/mediaValidations.js","services/adex-market/actions.js","actions/itemActions.js","services/auth/auth.js","services/smart-contracts/signers/trezor.js","helpers/localStorageHelpers.js","services/wallet/wallet.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","services/smart-contracts/actions/identity.js","services/smart-contracts/actions/core.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/identityActions.js","actions/bidActions.js","services/gas/actions.js","actions/transactionActions.js","constants/tables.js","actions/newItemsActions.js","actions/audienceActions.js","helpers/utmHelpers.js","actions/campaignActions.js","helpers/numbers.js","helpers/itemsHelpers.js","helpers/ipfsHelpers.js","services/images/blob.js","actions/slotActions.js","actions/unitActions.js","actions/index.js","components/toast/Toast.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/CampaignIcon.js","components/common/icons/createSvgIconCustom.js","components/dashboard/dashboard/SideSwitch.js","components/common/spinners/index.js","components/common/media/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","components/translate/Translate.js","helpers/logosHelpers.js","components/App/MultiThemeProvider.js","components/App/ThemeSwitch.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/TopBar.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/dirtyErrors.js","components/dashboard/containers/ItemCommon/SaveBtn.js","components/dashboard/containers/ItemCommon/itemCommonNew.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/itemHooks.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/common/stepper/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/common/dropdown/Dropdown.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","services/images/crop.js","components/common/OutlinedPropView/OutlinedPropView.js","components/dashboard/forms/MediaForm/CanvaButton.js","components/dashboard/forms/MediaForm/MediaForm.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/FormsCommon.js","components/dashboard/containers/AudiencePreview/AudiencePreview.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/common/autocomplete/Autocomplete.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/Audience/AudienceBasic.js","components/dashboard/forms/items/Audience/NewAudiencePreview.js","components/dashboard/forms/items/NewTargetingRules.js","components/dashboard/containers/Slot/WebsiteIssues.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/Website/WebsiteBasic.js","components/dashboard/forms/items/Website/WebsitePreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/Tables/AudiencesTable.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/styles.js","components/dashboard/containers/Receipt/PublisherReceiptTpl.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/Receipt/CampaignReceiptTpl.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Tables/StatsByCountryTable.js","components/dashboard/charts/map/MapChart.js","components/dashboard/containers/Campaign/CampaignEdits.js","components/dashboard/containers/Campaign/CampaignBasic.js","components/dashboard/containers/Campaign/CampaignAudience.js","components/dashboard/charts/simplified.js","hooks/useWindowSize.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/common/DatePicker/styles.js","components/common/DatePicker/DatePicker.js","hooks/useKeyPress.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/Campaign/CampaignStatsByTimeframe.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/DashboardStats/AdvertiserStats.js","components/dashboard/containers/Tables/BestEarnersTable.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/SlotEdits.js","components/dashboard/containers/Slot/SlotBasic.js","components/dashboard/containers/Slot/IntegrationCode.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Audience/Audience.js","components/dashboard/containers/Websites/Websites.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/deposit/styles.js","helpers/popupHelper.js","services/onramp/index.js","components/dashboard/deposit/Ramp.js","components/dashboard/deposit/TopUp.js","components/dashboard/deposit/TopUpChangelly.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/ResendConfirm.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/ImportantNotifications.js","components/App/Root.js","components/App/CacheBuster.js","components/App/Loading.js","components/App/NetworkErrorDetector.js","components/App/App.js","serviceWorker.js","index.js","resources/adex-logo-txt-sm.svg","resources/adex-logo-txt-dark-theme.svg","services/crypto/crypto.js","resources/trezor-logo-h.png","resources/getting-started/GS-email-ic_80x80.png","resources/getting-started/GS-create-ic_80x80.png","resources/getting-started/GS-launch-ic_80x80.png","services/adex-validator/ewt.js","../external \"Module\"","resources/no-image-box-eddie.jpg","resources/video-placeholder.jpg","resources/metamask-logo.png","resources/demo-logo.png","resources/404-no.png","resources/404-yes.png","resources/ramp.svg","resources/paytrie.svg","resources/transak.svg","resources/changelly.svg","resources/getting-started/GS-fund-ic_80x80.png","resources/getting-started/GS-place-ic_80x80.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png"],"names":["module","exports","__webpack_require__","p","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","UPDATE_UI_BY_IDENTITY_AND_SIDE","UPDATE_MEMORY_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","UPDATE_ANALYTICS_PERIOD","UPDATE_PUBLISHER_RECEIPTS","RESET_SELECTED_ITEMS","UPDATE_ANALYTICS_LAST_CHECKED","UPDATE_TARGETING_ANALYTICS","UPDATE_TABLE_STATE","RESET_ALL_TABLES_STATE","RESET_TABLE_STATE_BY_ID","initialState","account","Account","signin","name","email","password","passConfirm","seed","publicKey","seedCheck","authenticated","newItem","Campaign","audienceInput","version","inputs","devices","apply","temp","useUtmTags","useUtmSrcWithPub","plainObj","AdUnit","addUtmLink","AdSlot","rulesInput","autoSetMinCPM","Audience","Website","currentItem","selectedItems","campaigns","adUnits","slots","items","spinners","ui","global","byIdentity","tablesState","uiMemory","toasts","confirm","data","nav","side","language","validations","newTransactions","default","web3Transactions","targeting","targetingData","minByCategory","countryTiersCoefficients","identity","ethNetwork","networkId","gasData","wallet","config","relayer","market","validators","analytics","channels","withBalanceAll","withOutstandingBalance","ensAddresses","translations","adexTranslations","lang","translate","val","arguments","length","undefined","_ref","_ref$isProp","isProp","_ref$args","args","_ref$toUpperCase","toUpperCase","key","replace","dirty","translation","Array","isArray","tpl","pattern","RegExp","interpolated","split","map","i","element","isValidElement","cloneElement","every","join","interpolate","a","setLang","lng","updateCfg","current","type","cfg","newCfg","Object","objectSpread2","history","persistReducers","newState","state","action","Base","updateObject","item","newValues","objModel","category","value","filterActions","newCollection","collectionId","collection","defineProperty","id","itemType","prop","newCol","removeCollectionProp","_id","Item","removeItem","toRemove","newItems","reduce","currentItems","ipfs","match","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","_ref2","pTxs","status","indexOf","hash","push","filter","tx","addr","toConsumableArray","obj","updateObj","txHash","tableId","memoryReducers","timeframe","lastChecked","eventType","metric","timestamp","advanced","demand","receipts","period","newSignin","newIdentity","newWallet","itemId","spinner","types","newToast","toast","added","Date","now","concat","t","onConfirm","onCancel","active","noActionBtns","calledOn","newErrors","errors","hasOwnProperty","updateTx","trackPageView","location","ReactGA","set","page","pathname","search","pageview","createHashHistory","initialize","process","listen","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","localStorage","debug","throttle","rootReducer","combineReducers","persist","persistCombineReducers","memory","router","connectRouter","configureStore","middlewares","thunk","store","createStore","compose","applyMiddleware","persistor","persistStore","getState","dispatch","createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","selectRelayerConfig","selectFeeTokenWhitelist","createSelector","feeTokenWhitelist","all","tokens","address","selectRoutineWithdrawTokens","routineWithdrawTokens","selectRoutineWithdrawTokenByAddress","createCachedSelector","_","_ref3","find","token","_state","selectRoutineWithdrawTokensAddresses","_ref4","selectMainToken","relayerConfig","_ref5","mainToken","selectIdentityRecoveryAddr","_ref6","identityRecoveryAddr","selectGasPriceCap","_ref7","gasPriceCap","selectSaiToken","_ref8","saiAddr","selectMainFeeToken","_ref9","DateUtils","_MomentUtils","inherits","_super","createSuper","classCallCheck","this","createClass","date","clone","startOf","endOf","start","end","isBetween","ammount","unit","add","minutes","hours","weeks","months","years","moment","utcOffset","offset","sign","Math","abs","floor","toString","window","Intl","DateTimeFormat","resolvedOptions","timeZone","unix","locale","localeData","_ref2$locale","dow","doy","defaultLocaleData","getLocaleDate","updateLocale","week","firstDayOfWeek","firstDayOfYear","span","dateUtils","hour","getHours","spanStartHour","withSpanStartHour","setHours","startOfHour","formatString","format","MomentUtils","makeJSDateObject","isMoment","getTime","navigator","toLowerCase","selectChannels","selectMemoryUi","selectDebugIdentity","debugIdentityAddr","debuggerAddr","selectDebugAccount","_currentPrivileges","utils","getAddress","debuggerPrivAddr","currentPrivileges","selectAccount","debugData","relayerData","selectAuth","authSig","authType","selectWallet","selectEmail","selectAuthSig","selectWalletAddress","selectAuthType","selectAccountIdentity","selectAccountIdentityAddr","_ref10","selectAccountStats","_ref11","stats","selectAccountStatsRaw","_ref12","settings","_ref13","raw","selectAccountStatsFormatted","_ref14","formatted","selectAccountIdentityDeployData","_ref15","routineAuthorizationsData","_ref16","_ref16$relayerData","deployData","selectChannelsWithUserBalancesEligible","_ref17","selectChannelsWithUserBalancesAll","_ref18","selectAccountIdentityCurrentPrivileges","_ref19","_ref19$relayerData","selectWalletPrivileges","selectAccountIdentityCreatedDate","_ref20","created","selectIdentity","selectEnsAddressByAddr","CREATING_SESSION","QUICK_WALLET_BACKUP","GETTING_OWNER_IDENTITIES","UPLOADING_ACCOUNT_DATA","OPENING_CAMPAIGN","GETTING_CAMPAIGNS_FEES","UPDATING_ACCOUNT_IDENTITY","UPDATING_SLOTS_DEMAND","PRINTING_CAMPAIGNS_RECEIPTS","FETCHING_PUBLISHER_RECEIPTS","CHECKING_METAMASK_AUTH","AUTH_WAITING_TREZOR_ACTION","AUTH_WAITING_ADDRESS_DATA","SYNC_WEB3_DATA","selectSide","selectGlobalUi","selectConfirm","selectToasts","selectSpinners","selectIdentityUi","identityAddr","identitiesUi","selectIdentitySideUi","identityUi","selectCompanyData","companyData","selectUserLastSide","userLastSide","selectSpinnerById","selectWeb3SyncSpinnerByValidateId","validateId","selectRegistrationAllowed","ids","allowRegistration","selectEasterEggsAllowed","allowEasterEggs","selectNewVersionAvailable","newVersionAvailable","selectNewVersionAvailableId","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectSideSpecificUI","selectHideGettingStarted","hideGettingStarted","selectGettingStartedExpanded","gettingStartedExpanded","selectSelectedCampaigns","selectLoginDirectSide","goToSide","selectInitialDataLoadedByData","dataType","initialDataLoaded","selectInitialDataLoaded","_ref13$initialDataLoa","selectCampaignIdInDetails","campaignId","selectLoginSelectedIdentity","loginSelectedIdentity","selectAnalyticsDataSide","selectIdentitySideAnalyticsTimeframe","_ref16$sideAnalyticsT","sideAnalyticsTimeframe","selectIdentitySideAnalyticsPeriod","_ref17$sideAnalyticsP","sideAnalyticsPeriod","startOfDay","endOfDay","selectWindowReloading","windowReloading","selectResendConfirmation","resendConfirmation","selectTableState","tablesStates","identityId","selectTableStateSelectedRows","memoryUI","selectLang","selectTranslations","opts","_opts$isProp","_opts$args","_opts$components","components","selectItemsByType","selectItemsArrayByType","values","selectItemByTypeAndId","_itemType","selectCampaigns","selectCampaignsArray","selectCampaignById","selectCampaignUnitsById","selectCampaignInDetails","selectAdUnits","selectAdUnitsArray","selectAdSlotsArray","selectAdSlotById","selectWebsitesArray","selectWebsiteByWebsite","ws","url","parse","hostname","selectAudiencesArray","selectAudienceById","selectAudienceByCampaignId","campaign","categories","publishers","x","selectSavedAudiences","title","selectWebsitesList","websites","sort","b","updated","selectCampaignDisplayStatus","impressions","humanFriendlyName","selectNewItems","selectNewItemByTypeAndId","selectNewCampaign","CampaignModel","selectNewAdUnit","AdUnitModel","selectNewAdSlot","AdSlotModel","selectNewAudience","AudienceModel","selectNewWebsite","_ref6$Website","DEFAULT_DATETIME_FORMAT","formatDateTime","noDateLabel","formatDate","formatTokenAmount","amountString","decimals","pretty","toFixed","formatUnits","commify","parseFloat","slice","formatAddress","joinSymbol","substring","formatNumberWithCommas","formatFloatNumberWithCommas","parts","toFixedFloat","number","formatAbbrNum","decPlaces","pow","abbrev","size","round","truncateString","string","maxLength","trim","timeSinceEpoch","epochDivider","epoch","periodDays","days","MONTH","YEAR","fillEmptyTime","prevAggr","defaultValue","fillAfterLast","time","interval","step","amount","newAggr","initialTime","endTime","min","m","prevAggrInInterval","lastWithValueTime","newData","isNullValue","entries","slicedToArray","getTimePeriods","callEnd","startCopy","startOfMinute","addMinutes","addHours","getHourSpanStart","addDays","addMonths","getBorderPeriodStart","borderStart","_ref4$next","next","_ref4$startIsLive","startIsLive","minDate","maxDate","direction","limitedStart","isAfter","isBefore","day","startOfWeek","addWeeks","month","startOfMonth","year","startOfYear","addYears","Error","getMinStartDateTimeByTimeframe","TIME_INTERVALS","label","ms","timeAgo","since","intervalTimes","getPeriodLabel","getPeriodDataPointLabel","periodEnd","selectAnalytics","selectTargeting","selectAdvancedAnalytics","selectAnalyticsLastChecked","selectAnalyticsLiveTimestamp","currentDate","withdrawPeriodStart","hourStart","dayStart","weekStart","monthStart","yearStart","selectDemandAnalytics","selectDemandAnalyticsByType","selectTargetingAnalytics","_ref4$targetingData","selectTargetingAnalyticsMinByCategories","_ref5$minByCategory","selectTargetingAnalyticsCountryTiersCoefficients","_ref6$countryTiersCoe","selectVerifiedActiveTargetingAnalytics","targetingAnalytics","bySlotCount","byType","forEach","campaignsEarnedFrom","selectTargetingAnalyticsCurrentlyUsedTypes","u","selectTargetingAnalyticsByType","filterByType","some","includes","selectAdvancedAnalyticsByType","from","c","Set","owner","alexaRank","Map","campaignAnalytics","mapTotalChanelToAdUnitData","advancedAnalytics","byChannelStats","byUnit","curr","reportChannelToAdUnit","selectAdUnitsTotalStats","IMPRESSION","CLICK","selectPublisherStatsByType","publisherStats","selectPublisherStatsByCountry","reportPublisherToCountry","selectPublisherPayStatsByCountry","reportPublisherToCountryPay","selectPublisherStatsAdUnit","reportPublisherToAdUnit","selectPublisherStatsAdUnitPay","reportPublisherToAdUnitPay","selectPublisherStatsAdSlot","reportPublisherToAdSlot","selectPublisherStatsAdSlotPay","reportPublisherToAdSlotPay","selectPublisherAggrStatsByCountry","byCountry","max","total","Number","selectAllAdUnitsInChannels","units","_ref12$adUnits","selectPublisherAdvanceStatsToAdUnit","impressionsByAdUnit","clicksByAdUnit","impressionsPayByAdUnit","clicksPayByAdUnit","clicks","impressionsPay","clicksPay","selectPublisherAdvanceStatsToAdSlot","impressionsByAdSlot","clicksByAdSlot","impressionsPayByAdSlot","clicksPayByAdSlot","selectPublisherTotalImpressions","selectCampaignAnalyticsByChannelStats","_selectAdvancedAnalyt2","selectCampaignAnalyticsByChannelToCountry","reportChannelToCountry","selectCampaignAnalyticsByChannelToCountryPay","reportChannelToCountryPay","selectCampaignAggrStatsByCountry","selectCampaignAnalyticsByChannelToAdUnit","selectAnalyticsDataAggr","_ref21","liveTimestamp","_ref23","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","_ref24","_ref24$side","_ref24$eventType","_ref24$metric","_ref24$timeframe","mapEventCounts","getChannelToAdUnitData","_ref25$byChannelStats","_ref26$reportChannelT","selectCampaignsEventCountsStats","_ref27$byChannelStats","keys","selectCampaignsEventCountsStatsById","eventCounts","selectTotalImpressions","_ref28","_ref29","_ref30","_ref30$side","_ref30$timeframe","selectTotalClicks","_ref31","_ref32","_ref33","_ref33$side","_ref33$timeframe","selectTotalMoney","_ref34","eventPayouts","_ref35","_ref36","_ref36$side","_ref36$timeframe","selectTotalImpressionsWithPayouts","_ref37","_ref38","e","_ref39","_ref40","_ref40$side","_ref40$timeframe","selectAverageCPM","_ref41","_ref42","totalMoney","totalImpressions","_ref43","_ref43$side","_ref43$timeframe","selectStatsChartData","_ref45","rest","noLastOne","objectWithoutProperties","_ref46","_ref47","memo","labels","datasets","_ref44","parseInt","parseValueByMetric","_ref48","_ref48$noLastOne","_ref48$metric","_ref48$timeframe","selectChartDatapointsImpressions","_ref49","_ref50","_ref50$side","_ref50$timeframe","selectChartDatapointsClicks","_ref51","_ref52","_ref52$side","_ref52$timeframe","selectChartDatapointsPayouts","_ref53","payouts","_ref54","_ref54$side","_ref54$timeframe","selectPublisherHasAdSlotsButNoImpressionsLastHour","_ref55","_ref56","allChannelsLoaded","advAnalyticsLoaded","itemsLoaded","_ref58","_ref59","adSlotsArray","hasAdSlots","noImpressions","selectChartDatapointsCPM","_ref60","_ref61","result","n","_ref62","_ref62$side","_ref62$timeframe","selectPublisherReceipts","_ref63","selectPublisherReceiptsPresentMonths","r","selectAnalyticsMinAndMaxDates","setMinutes","dateCreated","activeFrom","_campaign$status","closedDate","selectValidations","selectValidationsById","useStyles","makeStyles","theme","externalIcon","marginLeft","spacing","fontSize","link","display","alignItems","fullWidth","width","Anchor","href","target","children","underline","color","component","className","classes","isExternal","getUrl","linkProps","draggable","rel","style","wordBreak","react_default","createElement","Link","assign","clsx","OpenInNew","ExternalAnchor","anchor_Anchor","fontWeight","CountryTiers","constants","AllCountries","OsGroups","_ref$targetingData","_ref2$minByCategory","_ref3$countryTiersCoe","selectMinTargetingCpm","coefficients","selectTargetingCategoriesByType","mapTargetingDataToPublishers","reachPerMillion","selectTargetingPublishersByType","selectTargetingCategories","selectAllTargetingPublishers","autocompleteLocationsSingleSelect","tiers","ruleValue","countries","extraLabel","group","autocompleteCategoriesMultiSelectIn","cat","IabCategories","wrbshrinkerWebsiteApiV3Categories","autocompleteCategoriesMultiSelectNin","getPublisherExtraDataLabel","publisher","autocompletePublishersMultiSelectIn","pub","JSON","stringify","extraData","autocompletePublishersMultiSelectNin","audienceSources","parameter","applyType","actions","minSelected","extraInfo","anchor_ExternalAnchor","message","disabledValues","helper","oss","selectAutocompleteAudienceSources","locations","catIn","catNin","pubIn","pubNin","singleValuesSrc","multipleValuesSrc","in","nin","selectAudienceSourcesWithOptions","sourcesData","s","source","selectAudienceValidations","__","___","selectAudienceInputsDataByItem","____","advancedOnly","allSrcsWithOptions","selectedItem","isCampaignAudienceItem","errorParameters","errFields","SOURCES","allSrcs","disabled","selectedPublishersCategories","has","getDisabledValues","selectNewTransactionById","txns","WHITE","BLACK","ACCENT_TWO","primary","main","dark","light","lightest","contrastText","secondary","darkPrimary","darkSecondary","paletteCommon","grey","lightGrey","warning","success","info","error","first","lime","common","white","black","paletteDark","accentOne","accentTwo","divider","fade","background","paper","hover","hoverOpacity","selected","selectedOpacity","disabledOpacity","focus","focusOpacity","activatedOpacity","appBar","text","icon","hint","solid","paletteLight","contrastThreshold","tonalOffset","disabledBackground","tooltipBgColor","palette","typography","fontFamily","defaultTheme","createMuiTheme","darkShadows","shadows","lightShadows","commonTheme","overrides","MuiButton","root","borderRadius","outlined","borderColor","contained","backgroundColor","boxShadow","&:hover","@media (hover: none)","&$focusVisible","&:active","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","tooltip","pxToRem","arrow","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","MuiExpansionPanel","MuiTableFooter","flex","padding","MuiAppBar","colorDefault","MUIDataTablePagination","toolbar","MUIDataTableFilter","maxWidth","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","breakpoints","down","height","borderBottom","MUIDataTable","border","MUIDataTableBody","emptyTitle","defaultThemeWithOverrides","responsiveFontSizes","factor","darkTheme","lightTheme","CountryNames","numericToAlpha2","pricingBondsToUserInputPerMile","helpers","selectCampaignsTableData","archived","_ref$decimals","depositAsset","_item$spec","spec","_item$adUnits","pricingBoundsCPMUserInput","specPricingBounds","firstUnit","to","toReceipt","cpm","pricingBounds","minPerImpression","maxPerImpression","_ref2$impressions","_ref2$clicks","media","mediaUrl","mediaMime","depositAmount","fundsDistributedRatio","ctr","receiptReady","receiptAvailable","selectCampaignsMaxImpressions","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref3$decimals","selectAdSlotsTableData","earnings","getTabledData","selectOnImage","selectAllAdUnitsTableData","adUnitsTotalStats","selectAdUnitsByCampaignTableData","selectAdUnitsByItemsTableData","adUnitsToatalStats","selectAdUnitsTableData","selectAudiencesTableData","audiences","mapByCountryTableData","impressionsByCountry","clicksByCountry","impressionsAggrByCountry","impressionsPayByCountry","clicksPayByCountry","addEarnings","countryName","percentImpressions","averageCPM","selectPublisherStatsByCountryData","selectCampaignAnalyticsToCountryData","selectPublisherStatsByCountryTableData","selectCampaignAnalyticsToCountryTableData","mapByCountryMapChartData","colorScale","scaleLinear","domain","range","chartData","chartCountriesData","objects","geometries","tooltipElements","properties","fillColor","hoverColor","pressedColor","selectPublisherStatsByCountryMapChartData","selectCampaignAnalyticsToCountryMapChartData","selectBestEarnersTableData","selectCampaignStatsTableData","_advanced","campaignAudienceInput","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","rules","isBlacklisted","website","selectCampaignStatsMaxValues","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectAdUnitsStatsMaxValues","selectPublisherReceiptsStatsByMonthTableData","_ref15$decimals","_i","_Object$entries","_Object$entries$_i","selectPublisherReceiptsStatsByMonthTotalValues","totalPayouts","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","impressionsData","clicksData","hoverBackgroundColor","borderWidth","_ref3$campaignId","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","AUTH_TYPES","AdUnitsTypes","READONLY","METAMASK","signType","GETH","limit","TREZOR","DEMO","GRANT","QUICK","SEED","ETHEREUM_NETWORKS","1","for","5","production","development","UTM_PARAMS","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","WHERE_YOU_KNOW_US","USER_SIDES","extraLabels","WALLET_ACTIONS_MSGS","_WALLET_ACTIONS_MSGS","strong","EXECUTE_ACTIONS","withdraw","privilegesChange","ensChange","openCampaign","selectSlotTypesSourceWithDemands","symbol","dA","BigNumber","avgCPM","dB","gt","index","hasPopularGroup","hasNoDemandGroup","demandIfo","totalVolume","selectVerifiedActiveTypes","verified","typeData","get","byOwner","minSlotCount","revenue","totalEarned","totalRevenue","selectUnitTypesSourceWithRecommendations","verifiedTypes","totoShare","_ref4$revenue","typeRest","share","hasLessPopularGroup","selectMonthsRange","startDate","endDate","diff","selectReceiptMonths","monthsEnd","monthTimestamp","selectFromSource","labelValueMapping","translated","l","selectKnowUsFromSource","selectUserSides","websitesAutocompleteSrc","issues","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","_ref$meta","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","hasVerifiedSites","selectHasAdSlotImpressions","selectHas5000Impressions","selectStepsData","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","selectLocation","selectLocationQuery","query","selectSearchParams","URLSearchParams","ITEMS_SELECTORS","receipt","SIDES","advertiser","selectDashboardBreadcrumbs","_ref4$pathname","paths","sideDashboard","sideDashboardBC","restBC","prev","selector","bc","restCopy","receiptAt","selectCampaignWithAnalyticsById","execute","miscHelpers","hexToRgbaColorString","hex","alpha","substr","hexToDec","h","g","getErrMsg","err","stack","isInt","int","shuffleArray","array","random","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","initial","valueOf","queryParams","encodeURIComponent","getErrorMsg","msg","errMsg","updateSpinner","updateGlobalUi","updateMemoryUi","updateInitialDataLoaded","loaded","updateUiByIdentity","updateIdentitySideUi","addToast","_ref$label","_ref$timeout","timeout","unclosable","anchorOrigin","top","Helper","getGuid","removeToast","toastId","confirmAction","_ref2$confirmLabel","confirmLabel","_ref2$cancelLabel","cancelLabel","_ref2$title","_ref2$text","_ref2$noCancel","noCancel","_ref2$noConfirm","noConfirm","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","abrupt","sent","stop","_x","updateNav","changeLanguage","updateRegistrationAllowed","updateCompanyData","_callee2","_context2","console","_x2","_x3","updateSelectedItems","resetSelectedItems","updateSelectedCampaigns","updateNewVersion","shouldForceRefresh","_callee3","_context3","_x4","_x5","refreshCacheAndReload","_callee5","_context5","caches","then","_callee4","names","_context4","Promise","delete","_x8","reload","_x6","_x7","notifyNewTOS","Button","variant","onClick","open","handleRedirectParams","searchParams","grant","selectedIdentity","updateEasterEggsAllowed","updatePrivilegesWarningAccepted","accepted","setGettingStartedExpanded","expanded","updateIdSideAnalyticsChartPeriod","periodStart","_getTimePeriods","updateAnalyticsPeriodPrevNextLive","_ref10$next","_ref10$live","live","_callee6","_selectAnalyticsMinAn","_selectIdentitySideAn","_context6","_x9","_x10","updateIdSideAnalyticsChartTimeframe","updateWindowReloading","isReloading","updateTableState","tableState","filteredState","rowsPerPage","activeColumn","filterList","searchProps","searchText","sortOrder","viewColumnsState","updateTableStateSelectedRows","selectedRows","resetAllTableState","_getState","resetTableStateById","updateDebuggingAddresses","contracts","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","LocalProvider","startsWith","providers","WebSocketProvider","JsonRpcProvider","getEthersResult","provider","adexCore","coreAddr","Contract","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","getToken","getIdentity","localWeb3","localProvider","relayerCfg","getEthers","currentProviderCfg","isProviderRelayerConfigChanged","loadInjectedWeb3","resolve","reject","detectEthereumProvider","ethereum","getMetamaskSelectedAddress","_yield$loadInjectedWe","accounts","isMetaMask","request","method","t0","log","connectMetaMask","code","injectedWeb3Provider","_yield$loadInjectedWe2","Web3Provider","getLocalWeb3Provider","mode","ethereumNetworkId","_yield$loadInjectedWe3","chainId","getEthereumProviderName","_callee7","_yield$loadInjectedWe4","_context7","getMetamaskEthereum","_callee8","_yield$loadInjectedWe5","_context8","isEthAddressERC20","_yield$getEthers","contract","_args","isEthAddress","ethers","ERC20TokenABI","totalSupply","balanceOf","AddressZero","allowance","isConnectionLost","eth","race","setTimeout","getBlockNumber","passwordRegex","validPassword","test","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","_ref$quickCheck","quickCheck","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$username","username","ensAddress","resolveName","Looper","_this","syncAction","_ref$loopName","loopName","stopOn","clearLoopTimeout","loopTimeout","clearTimeout","syncData","makeStopCheck","startLoop","checkLoop","onSync","LOOP_TIMEOUT","campaignsLoop","Loop","_syncAction","updateUserCampaigns","accountStatsLoop","updateAccountStats","analyticsLoop","updateAccountAnalytics","analyticsLoopCustom","_syncAction3","advancedAnalyticsLoop","_syncAction4","updateAccountAdvancedAnalytics","logOut","skipRedirect","dimension1","dimension2","resetAccount","statsLoop","resetIdentity","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","handleRequesterErrorRes","res","textObj","_unused","statusText","requester","AdexNodeRequester","baseUrl","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","route","fetch","_ref4$route","_ref4$queryParams","_ref4$method","body","_ref4$headers","headers","_ref4$authSig","userAddr","_ref4$noCache","authToken","noCache","qp","_authType","demo","getQuery","hdrs","Requester","processResponse","json","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","txnsRaw","signatures","channel","Content-Type","regAccount","knowFrom","userSide","moreInfo","bytecode","baseIdentityAddr","salt","privileges","routineAuthorizationsRaw","getQuickWallet","backupWallet","encryptedWallet","getEmail","resendEmail","src","country","genders","Genders","gender","tags","PredefinedTags","tag","custom","DAY","MAX_CAMPAIGN_WITHDRAW_START_DAYS","MAX_CAMPAIGN_WITHDRAW_START","IdentityPrivilegeLevel","bondPerActionToUserInputPerMileValue","campaignPut","schemas","isNumberString","validateAddress","validate","_yield$validEthAddres","isValid","updateValidationErrors","resetValidationErrors","_ref3$err","fields","_ref3$dirty","_ref3$removeAll","removeAll","handleAfterValidation","onValid","onInvalid","validateEmailCheck","emailCheck","validatePassword","validatePasswordCheck","passwordCheck","_x11","validateTOS","_x12","_x13","validateENS","_x14","validateWallet","_callee9","_context9","_x15","_x16","validateIdentityContractOwner","identityContractOwner","_callee10","_context10","_x17","_x18","validateKnowFrom","_callee11","_context11","_x19","_x20","validateUserSide","_callee12","_context12","_x21","_x22","validateMoreInfo","_callee13","_context13","_x23","_x24","validateAccessWarning","_callee14","_context14","_x25","_x26","validateCampaignUnits","_callee15","_context15","_x27","_x28","validateCampaignValidators","_ref22","_callee16","_context16","feeNum","feeDen","feeAddr","_x29","_x30","validateFees","feesAmountBN","amountToSpendBN","_ref23$errorMsg","errorMsg","_callee17","_selectAccountStatsRa","availableIdentityBalanceMainTokenRaw","_selectAccountStatsFo","availableIdentityBalanceMainTokenFormatted","amountNeeded","_selectMainToken","amountNeededFormatted","_context17","availableIdentityBalanceMainToken","_x31","_x32","validateWithdrawAmount","_ref25","amountToWithdraw","_ref26","_callee18","_context18","parseUnits","_x33","validateNumberString","_ref27","integerOnly","_callee19","_context19","_x34","_x35","validateCampaignAmount","_ref29$pricingBounds","maxDeposit","_callee20","isValidNumberDeposit","isValidNumberMin","isValidNumberMax","checkSpeckBounds","isValidDeposit","isValidMin","isValidMax","msgDeposit","msgMin","msgMax","argsMin","argsMax","argsDeposit","depositBn","minBn","maxBn","_context20","lt","lte","div","_x36","_x37","getCampaignDatesValidation","_ref31$created","errActiveFrom","errWithdrawPeriodStart","validateCampaignDates","_callee21","_getCampaignDatesVali","_context21","_x38","_x39","validateCampaignTitle","_callee22","_context22","Joi","_x40","_x41","validateEthAddress","_ref36$nonZeroAddr","_ref36$nonERC","_callee23","_yield$validEthAddres2","_context23","_x42","_x43","validatePrivilegesAddress","_ref38$setAddr","setAddr","_ref38$walletAddr","walletAddr","privLevel","warningAccepted","_callee24","isCurrentAddress","_context24","_x44","_x45","validatePrivLevel","_callee25","_context25","_x46","_x47","validateSchemaProp","schema","_callee26","_context26","_x48","validateEmail","validateNotExisting","_callee27","existing","_context27","_x49","locationAudienceInputError","publishersAudienceInputError","categoriesAudienceInputError","_ref48$apply","devicesAudienceInputError","validateAudience","propName","_callee28","errArgs","_context28","_x50","isVideoMedia","getMediaSize","mime","video","document","onloadedmetadata","videoWidth","videoHeight","getVideoSize","image","Image","onload","getImageSize","checkExactishAspect","widthTarget","heightTarget","maxPercentTolerance","targetAspect","aspect","aspectDiff","validateMediaSize","exact","required","tempUrl","mediaWidth","mediaHeight","dontThrow","getSession","signature","typedData","signerAddress","checkSession","skipErrToast","convertItemToJSON","itemToConvert","getAdUnits","postAdUnit","updateAdUnit","getAdSlots","postAdSlot","slot","updateAdSlot","closeCampaignMarket","getCampaigns","statuses","byEarner","byCreator","cacheBrake","statusOnly","updateCampaign","verifyWebsite","websiteUrl","getUserAudiences","putAudience","audience","postAudience","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","URL","revokeObjectURL","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","getAllItems","onDataUpdated","_yield$Promise$all","_yield$Promise$all2","resAudiences","resUnits","resSlots","userSlots","userPassbackUnits","slotsWithUnits","slotWithUnitsRes","passbackUnits","passbacks","targetUrl","fallbackUnit","updateItems","updateItem","_ref5$action","_ref5$goToTableOnSucc","onSuccess","goToTableOnSuccess","updatedItem","path","marketUpdate","t1","findSourceByTag","cloneItem","response","mediaURL","mediaSize","targets","placeholder","getMediaUrlWithProvider","createObjectURL","call","t2","archiveItem","setCurrentItem","updateCurrentItem","newMeta","addNewTag","addSig","sig","expiryTime","_ref$identity","setItem","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getItem","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","getAddsParams","_ref$from","_ref$to","bundle","showOnTrezor","getAddresses","_ref3$from","_ref3$to","_yield$TrezorConnect$","payload","ethereumGetAddress","signTx","params","txProps","_yield$TrezorConnect$2","txSigned","resolveProperties","hexlify","ethereumSignTransaction","transaction","v","serializeTransaction","sendTransaction","txData","signMessage","_yield$TrezorConnect$3","_args4","ethereumSignMessage","connect","_provider","_path","Signer","loadFromLocalStorage","saveToLocalStorage","serialized","warn","removeFromLocalStorage","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","generateSalt","isLegacyCrypto","getRandomMnemonic","randomEntropy","randomBytes","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","walletData","Wallet","fromMnemonic","phrase","privateKey","encrKey","encryptLegacy","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","encrypted","encrypt","decrData","_decrData","_ref4$email","decryptedStr","decr","decryptLegacy","decrypt","t3","createLocalWallet","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","migrateLegacyWallet","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getLocalWallet","getEncrypted","removeLegacyKey","_removeLegacyKey","_ref7$email","_ref7$password","addDataToWallet","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","dataKey","_ref8$dataValue","dataValue","getRecoveryWalletData","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","props","walletInfo","mail","getAllWallets","isWallet","getWalletHash","_getWalletHash","passwordId","dataStr","keccak256","LocalSigner","getWallet","_this$_opts","_wallet","_opts","signetTx","_args5","arrayify","MetaMaskSigner","_signer","_args3","getSigner","_getSigner","signer","_signer2","getTypedDataHash","entry","toUtf8Bytes","valuesHash","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","MAX_SAFE_INTEGER","_signTx","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","_iterator","_step","createForOfIteratorHelper","done","f","finish","getValidatorRequester","getRequesters","leader","follower","validator","getValidatorAuthToken","validatorId","existingAuth","validatorAuthTokens","era","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","results","authTokens","lastApprovedState","closeCampaign","events","updateTargeting","targetingRules","identityAnalytics","leaderAuth","segmentByChannel","weekHoursSpan","aggregates","timezone","getCurrentTimezone","identityAdvancedAnalytics","timeBasedAnalytics","privilegesNames","valueToKey","tokenAvailableBalance","balance","feeToken","mul","getTotalAccountRevenue","withdrawTokens","revenuePr","balanceMainToken","tokenInMainTokenValue","getWithdrawTokensBalances","getFullBalances","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","tokenContract","available","balanceData","getAddressBalances","_getAddressBalances","_yield$getEthers2","calls","getBalance","serializedPath","balanceEth","formatEther","tokensBalances","getAccountStats","_getAccountStats","_ref10$outstandingBal","outstandingBalanceMainToken","_ref10$outstandingBal2","outstandingBalanceAllMainToken","_yield$getEthers3","_identity$status","identityContract","privilegesAction","_yield$Promise$all2$","identityWithdrawTokensBalancesBalances","walletPrivileges","deployed","catch","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","totalOutstandingBalanceAllMainToken","availableIdentityBalanceAllMainToken","totalIdentityBalanceAllMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_getOutstandingBalance","withBalance","bigZero","allOutstanding","amounts","ch","outstanding","outstandingAvailable","getAllValidatorsAuthForIdentity","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","_objectSpread2","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_tokenInMainTokenValue","_selectMainToken2","valueInMainToken","Interface","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","getIdentityDeployData","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","outpace","validUntil","feeTokenAddr","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","withdrawFromIdentity","_withdrawFromIdentity","withdrawTo","getFeesOnly","tokenAddr","toWithdraw","withdrawTx","txnsByFeeToken","fees","mtBalance","maxWithdraw","actualWithdrawAmount","encodeFunctionData","getIdentityTxnsWithNoncesAndFees","amountInMainTokenNeeded","executeAction","getIdentityTxnsTotalFees","totalBN","sub","toGet","breakdownFormatted","processExecuteByFeeTokens","setIdentityPrivilege","_setIdentityPrivilege","identityInterface","tx1","_yield$getIdentityTxn","txnsByTokenWithSaiToDaiSwap","daiAddr","_txns$reduce","withdrawAmountByToken","saiWithdrawAmount","addIdentityENS","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","_yield$getIdentityTxn2","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$executeAction","_ref6$txns","saiToken","mainTokenWithFees","isDeployed","initialNonce","baseFee","mainTxnsFees","feesForMainTxns","totalAmountInMainTokenNeeded","_yield$getSweepingTxn","_yield$getSweepingTxn2","sweepTxns","_yield$getSweepingTxn3","swapAmountsByToken","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","nonce","toNumber","executeBaseFee","minRecommended","minDeploy","getSweepingTxnsIfNeeded","t4","swapSaiToDaiTxns","swapAmount","t5","t6","_tx$routinesSweepTxCo","routinesSweepTxCount","_tx$extraTxFeesCount","extraTxFeesCount","isSweepTx","isDeployTx","txFeeAmount","addBaseFee","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","feesBreakdown","txWithNonce","getApproveTxns","_getApproveTxns","approveForAddress","approveAmount","approveTxns","swapTx","_getIdentityTxnsTotalFees","_ref9$mainToken","_Object$values$reduce","byToken","totalBreakdown","byTokenFormatted","byFeeToken","txnsCount","sweepTxnsCount","sweepTxnsFeeAmount","deployFee","_feeTokenWhitelist$ke","fee","feeFormatted","txnsFee","_processExecuteByFeeTokens","_ref10$extraData","withdrawOtherTokensFromIdentity","_withdrawOtherTokensFromIdentity","tokenAddress","tokenDecimals","_selectRelayerConfig4","_yield$getEthers4","userInputPricingBoundsPerMileToRulesValue","Core","IdentityInterface","IdentityABI","VALID_UNTIL_FROM_CREATION","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","GLOBAL_MIN_CPM","GLOBAL_MAX_CPM","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","crypto","createHash","update","digest","Channel","creator","tokenAmount","getReadyCampaign","newCampaign","input","_ref$divider","userInputToTokenValue","eventSubmission","allow","uids","rateLimit","getWithdrawnPerUserOutstanding","withdrawnPerUser","functions","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","withOutstandingBalanceAll","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_channel$status","bTree","BalanceTree","balanceNum","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref5$withBalance","_withBalance$sort$red","eligible","c1","c2","sum","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","routineOpts","RoutineOps","channelWithdraw","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","getSwapAmountsByToken","swaps","swapsSumInMainToken","swapsByToken","_getSweepingTxnsIfNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","channelOpenTx","maxAvailable","maxAvailableFormatted","storeCampaign","feesFormatted","closeChannel","_closeChannel","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","VALIDATOR_LEADER_ID","analyticsParams","callsParams","analyticsCampaignsParams","aggrByChannelsSegments","_aggr$sort$reduce","aggregations","channelId","currentAggr","currentChannelValue","currentTimeValue","updateAccountAnalyticsThrottled","feeTokens","accountChanged","timeframeIsLive","allAnalytics","updateAnalyticsLastChecked","updateValidatorAuthTokens","newAuth","_selectStatsChartData","aggrByChannelSegments","isAccountChanged","leading","trailing","getReceiptData","presentMonths","monthsWanted","monthsNeeded","promises","startDateNeeded","endDateNeeded","resolvedPromises","getMonthTimeStamp","updateSlotsDemand","demandAnalytics","updateTargetingData","_yield$getTargetingDa","updateSlotsDemandThrottled","updateTargetingDataThrottled","updateSignin","resetSignin","createAccount","acc","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","hasAuth","accountCheck","_yield$getChannelsWit","_yield$getAccountStat","updateAccountIdentityData","updatedIdentity","isLimitedVolume","newTokens","createSession","_ref6$identity","deleteLegacyKey","sessionSignature","_yield$getAuthSig","_yield$getSession","leaderValidatorAuth","redirectSide","persistUserSide","goTo","getRelayerConfig","isMetamaskMatters","doesItMatter","onMetamaskNetworkChange","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","metamaskAccountCheck","selectedAddress","metamaskNetworkCheck","metamaskChecks","on","hasBackup","_yield$getQuickWallet","makeBackup","walletSalt","walletHash","ensureQuickWalletBackup","_selectWallet","isLocal","loadAccountData","stopAccountDataUpdate","resendConfirmationEmail","beforeWeb3","updateIdentity","initIdentity","updateWallet","resetWallet","onUploadLocalWallet","event","file","reader","onError","files","FileReader","ev","onerror","abort","onabort","readAsText","updateOwnerIdentities","identityData","ens","lookupAddress","login","_selectIdentity","identityTxData","registerAccount","validateQuickLogin","actualAuthType","identityPrivileges","validateStandardLogin","identityContractAddress","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","validateQuickDeploy","_identityAddr","validateQuickInfo","tosCheck","validateFullInfo","accessWarningCheck","validateContractOwner","updateIdentityWallet","hdWalletAddrPath","hdWalletAddrIdx","handleSignupLink","resolveEnsAddress","checkAuthMetamask","metamaskSigner","connectTrezor","trezorSigner","_yield$trezorSigner$g","allAddressesData","addrData","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","getGasPrice","gasPrice","updateNewTransaction","resetNewTransaction","checkNetworkCongestion","showToast","gasPriceCapGwei","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","handleFeesData","stepsId","actionName","feeDataAction","feesData","validatePrivilegesChange","txId","_selectNewTransaction","inputValidations","validation","updateIdentityPrivilege","validateIdentityWithdraw","_selectNewTransaction2","validateIdentityWithdrawAny","_selectNewTransaction3","identityWithdrawAny","identityWithdraw","validateENSChange","_selectNewTransaction4","setIdentityENS","completeTx","competeAction","NEW_CAMPAIGN_UNITS","updateNewItem","resetNewItem","updateNewItemAction","Models","itemClassByName","updateNewSlot","updateNewUnit","updateNewCampaign","updateNewAudience","updateNewWebsite","updateNewItemTarget","_ref8$target","remove","_newValues","_selectNewItemByTypeA","hasIndex","filtered","isInteger","splice","updateTargetRuleInput","_ref10$target","isAudience","newInputs","completeItem","audiencePost","audiencePut","updateAudienceInput","updateField","validateAndUpdateAudience","onUpdateSuccess","updatedAudience","mapCurrentToNewAudience","dirtyProps","saveAudience","newAudience","resItem","marketAdd","validateAudienceBasics","validateAudienceInput","_selectNewAudience","_selectNewAudience$in","addUrlUtmTracking","content","protocol","host","audienceInputToTargetingRules","getSuggestedPricingBounds","updateCampaignOnMarket","toastLabel","toastArgs","toastType","updatedCampaign","updateAllData","selectedCampaign","_yield$openChannel","updateCampaignState","getHumanFriendlyName","isPaused","onlyShowIf","updateCampaignAudienceInput","fieldName","mapCurrentToNewCampaignAudienceInput","initialAudienceInput","itemAudienceInput","_ref10$updateAllData","_selectAccount","stateCampaigns","_yield$closeChannel","pauseOrResumeCampaign","currentTargetingRules","newRules","_yield$updateTargetin","shift","unshift","excludeOrIncludeWebsites","hostnames","exclude","newAudienceInput","_newAudienceInput$inp","_inputs$publishers","newIn","_newIn","newNin","_newNin","_newNin2","rulesPricingBounds","_yield$updateTargetin2","tempValidators","validateNewCampaignAdUnits","validateCampaignAudienceInput","_selectNewCampaign","_selectNewCampaign$au","suggestedPricingBounds","validateNewCampaignFinance","_selectMainToken3","_campaign$temp","maxChannelFees","_yield$openChannel2","newTemp","maxDepositFormatted","getCampaignActualFees","_campaign$temp2","_yield$openChannel3","totalSpend","totalSpendFormatted","handlePrintSelectedReceiptsAdvertiser","validateAndUpdateCampaign","itemPlain","_selectRoutineWithdra","isMinUpdated","isMaxUpdated","isAudienceUpdated","depositAmountInputString","pricingBoundsCPMUserInputString","pricingBoundsImpressionBnString","_selectMainToken4","_decimals","_yield$updateTargetin3","numStringCPMtoImpression","numStr","getWidAndHightFromType","ItemsConstants","ItemsTypes","AdTypesByValue","AdSizesByValue","sizes","ipfsSrc","Regexes","ipfsRegex","getImgObjectUrlFromExternalUrl","imgUrl","objectUrl","adSlotPost","adUnitPost","adSlotPut","slotRulesInputToTargetingRules","_process$env","VALIDATOR_FOLLOWER_FEE_NUM","VALIDATOR_FOLLOWER_FEE_DEN","getRuleMinCPMWithValidatorFeeAdded","cpmInput","getFallbackUnit","description","imageIpfs","resUnit","passback","validateNewSlotBasics","_slot$minPerImpressio","_ref4$inputs","suggestedMinCPM","rulesCPMWithValidatorFee","validateNewSlotPassback","_selectNewItemByTypeA2","useFallback","_getWidAndHightFromTy","saveSlot","updateWebsiteVerification","_yield$verifyWebsite","mapCurrentToNewPassback","isDirty","updateSlotPasback","updateMultipleFields","onValidProp","_selectNewItemByTypeA3","validateAndUpdateSlot","slotRulesInput","newSlot","updateMinPerImpression","updateRules","minCPM","rulesCPM","isPassbackUpdated","fallbackData","newUnit","finalValidations","updatedSlot","validateAndSaveNewWebsiteBasics","adUnitPut","validateNewUnitBasics","_selectNewAdUnit","validateNewUnitMedia","_selectNewAdUnit2","_selectNewAdUnit2$tem","saveUnit","validateAndUpdateUnit","updatedUnit","uiActions","validationActions","mediaValidations","itemActions","accountActions","identityActions","bidActions","transactionActions","analyticsActions","newItemsActions","audienceActions","campaignActions","slotActions","unitActions","typeToSeverity","accept","cancel","Toast","_useState","useState","_useState2","setActive","_useState3","_useState4","setToast","useSelector","useEffect","nextToast","vertical","horizontal","close","Snackbar","autoHideDuration","onClose","Alert","severity","react","IconButton","aria-label","Close","Confirm","setOpen","_useSelector","_useSelector$data","_useSelector$data$tit","_useSelector$data$tex","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","withReactRouterLink","Component","Decorated","_React$Component","_len","_key","resolveToLocation","createHref","handleClick","_this$props","preventDefault","stopPropagation","_this$props2","forwardedRef","staticContext","toLocation","ref","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","Icon","SvgIcon","pure","muiName","d","sideIndex","0","handleChange","useTabsStyles","indicator","useTabStyles","activeColor","minWidth","&$selected","SideSwitch","tabsClasses","tabClasses","Box","bgcolor","Divider","Tabs","onChange","textColor","Tab","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","imgLoading","left","position","circular","fullscreenIcon","right","cursor","minHeight","dialog","@media(max-width:744px)","@media(max-height:823px)","dialogImageParent","@media(max-width:1080px)","maxHeight","margin","paddingLeft","paddingRight","dialogImage","img","objectFit","wrapper","cellImg","Media","fallbackSrc","allowVideo","alt","allowFullscreen","classNameImg","fullScreenOnClick","isCellImg","controls","loadTimeout","useRef","displayImage","displayVideo","isVideo","setMedia","handleToggle","clearLoadTimeout","clearEvents","onFail","useCallback","fallback","VIDEO_IMAGE","NO_IMAGE","mediaSrc","renderMedia","onclick","imgClasses","videoClasses","autoPlay","muted","loop","onDragStart","renderFullscreenDialog","classnames","Fab","Fullscreen_default","RRListItem","ListItem","RRAdexIconTxt","common_media","AdexIconTxt","RRAdexIconTxtDark","AdexIconTxtDark","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","sntPadding","paddingTop","navListRoot","flexDirection","justifyContent","navList","bottom","overflowY","overflowX","sideNavToolbar","borderTopWidth","borderTopColor","borderTopStyle","&:focus","& .MuiListItemIcon-root","adxLink","sideSwitch","marginBottom","SideNav","useTheme","routerLocation","AdxIcon","flexGrow","spinners_LoadingSection","Typography","button","dashboard_SideSwitch","List","ListItemIcon","Dashboard_default","ListItemText","List_default","Fragment","CampaignIcon","Group_default","WebSharp_default","Receipt","MonetizationOn_default","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","marginRight","ButtonMenu","btnStyle","rightIcon","leftIconSrc","anchorEl","setAnchorEl","handleClose","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-haspopup","aria-controls","overflow","textOverflow","Menu","Boolean","getContentAnchorEl","transformOrigin","Children","child","Translate","getAuthLogo","metamaskLogo","trezorLogo","demoLogo","THEMES","MultiThemeContext","createContext","MultiThemeProvider","themeType","setThemeType","setTheme","lastTheme","contextValue","switchTheme","Provider","ThemeProvider","ThemeSwitch","_useContext","useContext","Brightness7Sharp","Brightness6Sharp","styles","_drawerPaper","_content","marginTop","up","flexRow","flexBasis","paddingBottom","&:last-child","toolbarControls","toolbarTitle","flexFlow","drawerPaper","contentInner","breadcrumbElement","RRMenuItem","MenuItem","RRLink","handleDrawerToggle","imgSrc","breadcrumbs","btnMenuLabel","AppBar","Toolbar","Hidden","mdUp","pl","Menu_default","smDown","Breadcrumbs","noWrap","pr","react_jazzicon_lib_default","diameter","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","ExitToApp_default","generalTableOptions","rowsPerPageOptions","setTableProps","align","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","deleteAria","customFilterDialogFooter","_currentFilterList","applyNewFilters","downloadOptions","filterOptions","useDisplayedColumnsOnly","useDisplayedRowsOnly","progress","MUIDataTableEnhanced","columns","handleRowSelectionChange","columnOrder","rowsSelected","columnsWithFilters","col","mui_datatables_dist_default","elevation","confirmFilters","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","selectToolbarPlacement","toolbarEnabled","responsive","onTableChange","newTableState","onFilterConfirm","onFilterChipClose","onRowSelectionChange","_currentRowsSelected","allRowsSelected","selectedIndexes","row","dataIndex","selectedItemsIds","onViewColumnsChange","changedColumn","_tableState$viewColum","newVewColumns","IconTooltip","Tooltip","xs","md","ls","mapStatusIcons","_status$name","_status$humanFriendly","Wait","tableHelpers_IconTooltip","HourglassFullSharp","Done","DoneAllSharp","Warning","WarningSharp","Cash","MonetizationOnSharp","Pause","PauseSharp","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","steps","precision","getSliderStep","filterType","customFilterListOptions","render","filterPos","logic","rowNumber","filters","formated","gutterBottom","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","buttonProgress","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","startIcon","Print","RRIconButton","RRMedia","getCols","customBodyRender","InfoReadyNoImpressions","interactive","HelpSharp","mapHelpTooltips","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","customToolbarSelect","displayData","_setSelectedRows","CampaignsTable","campaignsLoaded","setOptions","_useTableData","Tables_MUIDataTableEnhanced","errColor","errChip","& svg","DirtyErrors","_ref$chipsProps","chipsProps","_ref$boxProps","boxProps","dirtyErrors","dirtyErrs","field","getDirtyValidationErrors","Chip","esm_Error","buttonSuccess","fabProgress","zIndex","@keyframes pulse","0%","opacity","transform","50%","100%","pulse","&::before","transition","animation","SaveBtn","_ref$dirtyProps","save","isDisabled","Check","Save","card","mediaRoot","basicInfo","flexWrap","buttonRight","buttonLeft","textField","changesLine","changeChip","editIcon","mediaPropChip","changeControls","changeControlsPaper","itemTabsBar","itemTabsContainer","borderTop","DirtyProps","returnPropToInitialState","react_router","when","Info","onDelete","deleteIcon","UndoOutlined","ChangeControls","hookProps","Collapse","itemCommonNew_DirtyProps","SaveBtn_SaveBtn","dirtyErrors_DirtyErrors","mt","ItemTabsContainer","noBackground","Paper","ItemTabsBar","ItemSpecProp","_ref4$value","helperText","InputProps","TextField","readOnly","ItemTitle","errTitle","setActiveFields","_ref5$activeFields","activeFields","showError","errMsgArgs","endAdornment","InputAdornment","Edit","ItemDescription","errDescription","_ref6$activeFields","multiline","rows","ItemAdType","OpenInNewIconBtn","IconButtonWithRef","itemCommonNew_OpenInNewIconBtn","ItemTargetURL","_ref9$targetUrl","ItemFallbackMediaURL","_ref10$targetUrl","MediaCard","_ref11$mediaUrl","_ref11$mediaMime","_ref11$label","Card","raised","CardMedia","ItemWebsite","_ref12$item","_ref12$initialItemSta","initialItemState","_ref12$activeFields","dangerouslySetInnerHTML","__html","ArchiveItemBtn","_ref13$itemType","isIconBtn","labelArgs","ArchiveSharp","useItem","validateAndUpdateFn","seItemPlain","_useState5","_useState6","setInitialItemState","_useState7","_useState8","setFields","_useState9","_useState10","setDirtyProps","_useState11","_useState12","setValidateId","_useState13","_useState14","validateAfterReset","setValidateAfterReset","storeItem","dirtyIndex","findIndex","newDirtyProps","dpValue","dp","dirtyFields","&$active","stepperWrapper","pagePaper","textAlign","@media(max-width:475px)","mobileStepper","buttonProgressWrapper","StepperNav","currentPage","innerWidth","MobileStepper","activeStep","Stepper","alternativeLabel","Step","StepLabel","MaterialStepper","_props$initialPage","initialPage","_props$steps","closeDialog","setCurrentPage","isBack","setIsBack","canReverse","pageProps","Comp","validationFn","completeFn","_page$completeBtnTitl","completeBtnTitle","_page$nextBtnTitle","nextBtnTitle","validationSpinner","stepsSpinner","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","handleComplete","onKeyPressed","onKeyPress","mb","stepperNav","MaterialUiStepper_StepperNav","cancelFunction","FormSteps","stepperSteps","setSteps","_useSelector$step","updatedSteps","MaterialUiStepper","dialogTitle","wordWrap","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","textTransform","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","withStyles","Transition","Slide","eventMap","NEW_UNIT","NEW_CAMPAIGN","NEW_AUDIENCE","NEW_CAMPAIGN_FROM_AUDIENCE","NEW_SLOT","NEW_WEBSITE","ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN","WithDialogHoc","WithDialog","_props$disableBackdro","disableBackdropClick","iconButton","textButton","fabButton","btnLabelArgs","mini","btnLabel","dialogActions","onBeforeOpen","btnProps","locationWithDash","eventMapFound","ButtonComponent","btnLabelTranslated","second","disableAutoFocus","disableEnforceFocus","TransitionComponent","disableTypography","Cancel_default","formControl","groupHeader","menuItem","select","ExtraLabel","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","_props$fullWidth","noSrcLabel","IconComponent","FormControl","InputLabel","htmlFor","Select","selectMenu","ListSubheader","Dropdown_ExtraLabel","InfoSharp","FormHelperText","spinners_InputLoading","AdUnitBasic","typesSources","_useSelector2","errTargetUrl","errType","Grid","container","dropdown_Dropdown","getCroppedImgUrl","crop","fileName","canvas","scaleX","naturalWidth","scaleY","naturalHeight","sourceWidth","sourceHeight","getContext","drawImage","y","finalCanvas","bl","bctx","blur","toBlob","PropBaseComponent","inputRef","OutlinedPropView","py","shrink","disableAnimation","OutlinedInput","notched","inputComponent","inputProps","CanvaButton","saveFileObjectToState","canvaApi","setCanvaApi","script","Canva","DesignButton","apiKey","api","appendChild","initCanva","createDesign","design","dimensions","onDesignOpen","designId","onDesignPublish","_onDesignPublish","exportUrl","File","onDesignClose","dropzone","isDragActive","isDragAccept","isDragReject","cropzone","imgDropzonePreview","dropzoneBtn","uploadActions","MediaForm","additionalInfo","propsMime","_useDropzone","useDropzone","maxSize","maxFiles","multiple","noDragEventsBubbling","acceptedFiles","fileRejections","getRootProps","getInputProps","imgRef","setImgRef","setCrop","cropMode","setCropMode","mediaName","setMediaName","setMime","setMediaSrc","isVideoSrc","setIsVideoSrc","onLoad","clearMedia","saveCropped","croppedBlob","common_OutlinedPropView_OutlinedPropView","alignContent","sm","ReactCrop_min_default","imageStyle","onImageLoaded","Clear","mdDown","MediaForm_CanvaButton","CloudUpload","Crop","AlertTitle","AdUnitMedia","errImg","MediaForm_MediaForm","mediaProps","PropRow","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","imgPreview","imgPreviewWrapper","AdUnitPreview","content_PropRow","CampaignUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedUnits","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange","iconColor","onIconClick","onLiveClick","onNextClick","NavigateNextRounded","Update","DateTimePicker","calendarIcon","onBackClick","_ref2$InputProps","roundHour","DateTimePicker_CalendarIconAdor","startAdornment","NavigateBeforeRounded","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","_ref3$InputProps","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","getTotalImpressions","dep","minBound","maxBound","CampaignFinance","invalidFields","_temp$suggestedPricin","errDepAmnt","errMin","errMax","errFrom","errTo","updatePricingBoundsImpression","inputValue","newPricingBounds","impression","itemCommonNew_ItemSpecProp","common_DateTimePicker_DateTimePicker","emptyLabel","inputVariant","disablePast","FormGroup","FormControlLabel","control","Checkbox","checked","NewItems_CampaignTargetingRules","WalletAction","FeesBreakdown","_ref2$breakdownFormat","Accordion","square","AccordionSummary","expandIcon","ExpandMoreSharp","justify","dominantBaseline","disablePadding","dense","subheader","AudiencePreview","_ref$audienceInput","_audienceInput$locati","subHeader","_audienceInput$catego","_audienceInput$publis","_audienceInput$device","CampaignFormPreview","feesSpinner","openingSpinner","networkCongested","setNetworkCongested","_useSelector$targetin","_useSelector$audience","_useSelector$temp","_ref$IMPRESSION","_audienceInput$inputs","_checkNetwork","checkNetwork","FormsCommon_WalletAction","FormsCommon_FeesBreakdown","includeIncentivized","disableFrequencyCapping","limitDailyAverageSpending","containers_AudiencePreview_AudiencePreview","StatusIcon","CheckSharp","ErrorSharp","createFilterOptions","AutocompleteWithCreate","initialValue","changeOnInputUpdate","setValue","Autocomplete","onInputChange","selectOnFocus","getLimitTagsText","more","limitTags","groupBy","option","getOptionLabel","renderOption","freeSolo","renderInput","errorText","onInit","hideSelectedOnDisable","disableCloseOnSelect","_ref2$disabledSrcValu","disabledSrcValues","enableCreate","srcValue","getOptionDisabled","getOptionSelected","opt","Autocomplete_ExtraLabel","renderTags","getCustomizedTagProps","AdSlotBasic","websitesSrc","adTypesSource","_newItem$title","_newItem$description","_newItem$website","_newItem$type","_rulesInput$inputs","allowAdultContent","errWebsite","Autocomplete_AutocompleteWithCreate","AdSlotMedia","_temp$useFallback","errFallbackUrl","Switch","AudienceBasic","slider","markLabel","parameterIcon","PublicSharp","LocalOfferSharp","WebAssetSharp","os","ComputerSharp","browsers","esm_WebSharp","DevicesOtherSharp","MoreHorizSharp","Sources","_ref$source","_ref$target","actionType","currentApply","getApply","autocomplete_Autocomplete","openOnClick","_objectSpread3","getMultipleActionsUsedValues","currentAction","Targets","_ref3$source","_ref3$extraInfo","_ref3$message","_ref3$target","applyValue","pb","RadioGroup","_clsx","Radio","NewTargetingRules_Sources","_clsx3","NewTargetingRules","tabIndex","setTabIndex","scrollButtons","indicatorColor","NewTargetingRules_Targets","getIssue","issue","issueChip","copyBtn","RenderIssue","ALL_ISSUES","SLOT_ISSUE_BLACKLISTED","LooksOneSharp","shortLabel","SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED","LooksTwoSharp","SLOT_ISSUE_SOMEONE_ELSE_VERIFIED","Looks3Sharp","WebsiteVerifyBtn","lastUpdated","canUpdate","my","RefreshSharp","WebsiteIssues","asKeyWords","tryAgainBtn","site","defaultIssues","WebsiteIssues_WebsiteVerifyBtn","_getIssue","WebsiteIssuesLegend","WebsiteDSNRecord","dnsRecord","subtitle","copy","FileCopySharp","SlotFallback","AdSlotPreview","typeDemand","_temp$categories","hasIssues","showDnsRecord","AdSlotPreview_SlotFallback","WebsitePreview","CampaignTargetingRules","items_NewTargetingRules","AudienceRules","NewUnitStepsWithDialog","stepper_FormSteps","validateIdBase","AdUnitFormPreview","imgLabel","noDefaultImg","itemModel","NewUnitDialog","copyProps","darkerBackground","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","imgAdditionalInfo","NewCampaignDialog","NewCampaignFromAudience","NewSlotStepsWithDialog","descriptionHelperTxt","NewSlotDialog","NewAudienceWithDialog","skipRules","NewAudiencePreview","NewAudienceDialog","NewWebsiteWithDialog","WebsiteBasic","NewWebsiteDialog","RRIMedia","ImgComponent","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","itemCommonNew_ArchiveItemBtn","AdUnitsTable","setSelectorArgs","AdSlotsTable_RRMedia","AdSlotsTable_RRIconButton","AdSlotsTable","RRTypography","setCellProps","setCellHeaderProps","AudiencesTable_RRIconButton","VisibilitySharp","NewItems_NewCampaignFromAudience","AudiencesTable","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","tooltips","cornerRadius","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","callbacks","datasetIndex","tableMeta","rowData","IncludeOrExcludeWebsitesBtn","_ref2$hostnames","endIcon","WebsitesActions","_ref3$hostnames","lg","CampaignStatsBreakdownTable_IncludeOrExcludeWebsitesBtn","BlockSharp","setSelectedRows","actionData","CampaignStatsBreakdownTable_WebsitesActions","CampaignStatsBreakdownTable","isActive","canSendMsgs","allowActions","dottedDivider","solidDevider","breakdownTable","breakAll","pageBreak","pageBreakAfter","a4","PublisherReceiptTpl","monthBreakdown","_useSelector3","companyName","firstLastName","toHexString","isFinite","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","RRButton","G404","PageNotFound","goToTxt","goToPath","skipGoToButton","PageNotFound_G404","IMG_404_1","IMG_404_2","CampaignReceiptTpl","campaignBreakdown","page_not_found_PageNotFound","CompanyDetails","invoice","useParams","selectedCampaigns","selectedByPropsOrParams","receiptsAdvertiser","setStartDate","setEndDate","setDirty","dates","validateStartDate","validateEndDate","startDateError","endDateError","monthMappingStartPeriod","setDate","monthMappingEndPeriod","fetchingPublisherReceiptsSpinner","setReceipts","Receipt_CompanyDetails","react_to_print_lib_default","pageStyle","trigger","DateRangeSharp","GetApp","showEarnings","StatsByCountryTable","noViewColumns","MapChart","chartId","setContent","index_umd","data-tip","projection","projectionConfig","scale","maxZoom","geography","_ref2$geographies","geographies","geo","_geo$properties","rsmKey","onMouseEnter","onMouseLeave","fill","stroke","outline","pressed","index_es","TargetingRulesEdit","stepTitle","EditCPM","actionValue","valuePerAction","updatedValue","_ref2$activeFields","CampaignBasic","_ref4$advanced","displayStatus","pauseAction","campaignPricingBounds","cpmMin","cpmMax","closeSpinner","pauseSpinner","itemCommonNew_MediaCard","_getCloseCampaignsFee","deposit","totalFees","feesPercent","nonDistributedFunds","feesToPay","percent","toPay","nonDistributed","getCloseCampaignsFees","StopSharp","StarSharp","itemCommonNew_ItemTitle","CampaignEdits_EditCPM","& > *","CampaignAudience","NewItems_NewAudienceDialog","commonDsProps","lineTension","pointRadius","pointHitRadius","FONT","DefaultLabel","SimpleStatistics","data1","data2","data3","data4","_ref2$data1Active","data1Active","_ref2$data2Active","data2Active","_ref2$data3Active","data3Active","_ref2$data4Active","data4Active","dataSynced","_ref2$defaultLabels","defaultLabels","_ref2$options","_ref2$xLabel","xLabel","_ref2$y1Label","y1Label","_ref2$y2Label","y2Label","_ref2$y3Label","y3Label","_ref2$y4Label","y4Label","_ref2$y1Color","y1Color","_ref2$y2Color","y2Color","_ref2$y3Color","y3Color","_ref2$y4Color","y4Color","windowSize","hasWindow","getWindowSize","innerHeight","setWindowSize","onResize","addEventListener","removeEventListener","useWindowSize","chartHeight","Chart","pluginService","register","beforeDraw","chart","ctx","_active","controller","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","restore","yAxisID","hidden","pointBackgroundColor","linesOptions","layout","maintainAspectRatio","intersect","titleFontSize","bodyFontSize","bodyFontFamily","titleFontFamily","xPadding","yPadding","bodySpacing","caretSize","displayColors","yLabel","xAxes","gridLines","drawBorder","drawTicks","scaleLabel","labelString","ticks","autoSkip","maxTicksLimit","maxRotation","callback","yAxes","beginAtZero","stepSize","px","simplified_DefaultLabel","useStylesArrow","popper","&[x-placement*=\"bottom\"] $arrow","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","borderStyle","ArrowTooltip","_useStylesArrow","_React$useState","_React$useState2","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","visibilityIcon","StatsCard","explain","dataVisible","VIcon","VisibilityOff","dayWrapper","customDayHighlight","nonCurrentMonthDay","highlightNonCurrentMonthDay","highlight","firstHighlight","extend","borderTopLeftRadius","borderBottomLeftRadius","endHighlight","borderTopRightRadius","borderBottomRightRadius","dayDisabled","pointerEvents","DatePicker","_Component","_this$props$InputProp","esm_DatePicker","DatePicker_CalendarIconAdor","dayIsFuture","DatePicker_DatePicker","PeriodDatePicker","renderDay","selectedDate","dayInCurrentMonth","_clsx2","dateClone","selectedDateClone","dayIsBetween","isWithinInterval","isFirstDay","isSameDay","isLastDay","wrapperClassName","dayClassName","shouldDisableDate","views","useKeyPress","targetKey","keyPressed","setKeyPressed","downHandler","upHandler","timeoutMap","timeFrames","tf","getMetrics","getDefaultLabels","DatePickerSwitch","_ref2$period","labelFunc","minutesStep","infoStatsContainer","dashboardCardBody","cardIcon","datePicker","BasicStats","SPACE","ARROW_LEFT","ARROW_RIGHT","isAuth","uiSide","setLoop","metrics","setMetrics","setData1Active","setData2Active","setData3Active","setData4Active","goNext","goPrev","goLive","showTooltip","BasicStats_DatePickerSwitch","disableFuture","maxDateMessage","minDateMessage","strictCompareDates","DashboardStats_StatsCard","Mouse","esm_MonetizationOn","Equalizer","simplified_SimpleStatistics","CampaignStatsByTimeframe","_useItem","_item$status","itemCommonNew_ItemTabsBar","itemCommonNew_ChangeControls","itemCommonNew_ItemTabsContainer","CampaignBasic_CampaignBasic","CampaignAudience_CampaignAudience","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","map_MapChart","Tables_StatsByCountryTable","CampaignStatsByTimeframe_CampaignStatsByTimeframe","Receipt_Receipt","AdvertiserStats","imgProps","BestEarnersTable","_props$selector","_props$title","dataLoaded","PublisherStats","Tables_BestEarnersTable","Unit","itemCommonNew_ItemDescription","itemCommonNew_ItemAdType","itemCommonNew_ItemTargetURL","PassbackEdit","SlotAdvancedRules","_ref2$item","SlotEdits","SlotBasic","_hookProps$validation","itemCommonNew_ItemFallbackMediaURL","SlotEdits_SlotEdits","SlotEdits_SlotAdvancedRules","itemCommonNew_ItemWebsite","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","integrationCode","alignSelf","IntegrationCode","_ref$slot","isEmailConfirmed","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","iframeStr","onCopy","Slot","SlotBasic_SlotBasic","IntegrationCode_IntegrationCode","_useItem$item","Audience_TargetingRulesEdit","list","inline","Websites","disableSticky","secondaryTypographyProps","ListItemSecondaryAction","WithdrawFromIdentity","syncSpinner","_useSelector4","errAmount","errAddr","errFees","WithdrawAnyTokenFromIdentity","errTokenAddress","errTokenDecimals","PRIV_LEVELS_SRC","SeAddressPrivilege","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPage","errUsername","IdentityWithdrawPreview","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreview","previewWarnMsgs","waitingForWalletAction","_useSelector2$feesDat","_useSelector2$errors","classNameLeft","classNameRight","Error_default","Warning_default","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","WithdrawTokenFromIdentity","saveBtnLabel","SetIdentityPrivilege","WithdrawAnyTokenFromIdentityPage","SetAccountENS","VALIDATOR_LEADER_URL","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","infoLabel","AccountPrivilageItem","currUserPrivileges","canMakeTx","privColors","AccountInfo_AccountItem","VpnKey","Lock","transactions_SetIdentityPrivilege","identityAvailable","AccountInfo","_useSelector$authType","identityEnsName","setExpanded","transactions_SetAccountENS","AccountInfo_RRButton","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","heading","transactions_WithdrawAnyTokenFromIdentity","userSelect","infoGrid","infoTitle","popupCenter","w","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","documentElement","clientWidth","screen","clientHeight","systemZoom","availWidth","newWindow","onramp_process$env","RAMP_HOST_API_KEY","TRANSAK_API_KEY","TRANSAK_ENV","commonGAEventProps","fiatProvidersDetails","accountId","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","hostApiKey","domNodes","overlay","show","openOnRampNetwork","RAMP_LOGO","imgAlt","feeInfo","limitInfo","currencies","rightSideLabel","openPayTrie","PAYTRIE_LOGO","transak","transakSDK","environment","cryptoCurrencyList","defaultCryptoCurrency","disableWalletAddressForm","themeColor","redirectURL","hostURL","widgetHeight","widgetWidth","init","ALL_EVENTS","EVENTS","TRANSAK_ORDER_SUCCESSFUL","orderData","openTransak","TRANSAK_LOGO","cryptoProvidersDetails","CHANGELLY_LOGO","ProviderListItem","disableElevation","Providers","providersDetails","disableGutters","Ramp_ProviderListItem","FiatProviders","Ramp_Providers","CryptoProviders","TopUp","esm_FileCopy","WarningRounded","verticalAlign","Ramp_FiatProviders","Ramp_CryptoProviders","getChangellyIframe","TopUpChangelly","widgetIframeHtml","useColorlibStepIconStyles","completed","star","ColorlibConnector","DEFAULT_SIZE","line","backgroundSize","LINES_WIDTH","StepConnector","ColorlibStepIcon","backgroundImage","CheckCircle","createAdUnitTutorial","fundAccountTutorial","launchFirstCampaign","placeAdSlot","stepsPlace","stepsIntegrate","ResendConfirm","lastEmailResent","lastEmailResentTs","waitInSeconds","ceil","timeLeft","setTimeLeft","intervalId","setInterval","clearInterval","SendSharp","mobile","stepper","instructions","accordion","checkmark","getSteps","getting_started_ResendConfirm","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","GettingStarted","stepsData","isGettingStartedHidden","setActiveStep","sideSteps","currentStep","indexOfFirstIncompleteStep","advertiserStep","publisherStep","esm_ExpandMore","CheckCircleOutline","AccordionDetails","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","Campaigns","NewItems_NewCampaignDialog","Add","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Audiences","Tables_AudiencesTable","NewItems_NewWebsiteDialog","Websites_Websites","Dashboard","mobileOpen","setMobileOpen","showTxPrivLevelWarning","_updateInitialData","updateInitialData","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","dialogPaper","noBg","backdrop","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","confirmLogout","toExecute","AuthSelect_RRButton","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","&:first-child","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AddressSelect","addresses","waitingAction","actionWaitingLabel","selectLabel","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","isOpera","opr","opera","userAgent","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","waitingAddrsData","ethereumProvider","setEth","onfocus","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","AuthTrezor","_useSelector$addresse","waitingTrezorAction","AuthCommon_AddressSelect","TREZOR_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","knowFromSource","userSides","QuickInfo","sessionSpinner","walletMsgs","FulInfo","_identity$wallet","QuickLogin","getIdentitiesForDropdown","FullLogin","ownerIdentities","finalValidationQuick","finalValidationStandard","validateOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ImportantNotifications","_ref$severity","_ref$message","_ref$title","_ref$action","ConnectedCreateQuickIdentity","JustDialog","final","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","ConnectedRoot","LogoDark","Logo","PrivateRoute","other","handleLegacyWallet","showNotification","_initialChecks","initialChecks","Root_PrivateRoute","buildMeta","currentVersion","currentTOS","tosVersion","CacheBuster","cache","latestVersion","latestTOS","Loading","DetectNetworkError","problemDetected","setProblemDetected","testAdBlock","SignalCellularConnectedNoInternet0BarSharp","onBeforeLift","App","onReload","App_MultiThemeProvider","CssBaseline","NetworkErrorDetector","useUtils_cfb96ac9","es","integration_react","connected_react_router_esm","App_Root","toast_Toast","confirm_Confirm","ReactDOM","components_App_App","getElementById","serviceWorker","ready","registration","unregister","getKeyHash","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","iv","cipher","encr","createCipheriv","Buffer","textParts","encryptedText","decipher","decrypted","createDecipheriv","crypted","createCipher","dec","createDecipher","HEADER","base64","encode","alg","__webpack_exports__","payloadEncoded","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module"],"mappings":"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","file":"static/js/main.a7d76ba3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/wyre.88a9c74f.svg\";","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.fb95f74b.png\";","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\r\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\r\nexport const UPDATE_UI_BY_IDENTITY_AND_SIDE = 'UPDATE_UI_BY_IDENTITY_AND_SIDE'\r\nexport const UPDATE_MEMORY_UI = 'UPDATE_MEMORY_UI'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\r\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\r\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\r\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\r\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\r\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\r\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\r\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\r\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\r\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\r\nexport const UPDATE_ANALYTICS_PERIOD = 'UPDATE_ANALYTICS_PERIOD'\r\nexport const UPDATE_PUBLISHER_RECEIPTS = 'UPDATE_PUBLISHER_RECEIPTS'\r\nexport const RESET_SELECTED_ITEMS = 'RESET_SELECTED_ITEMS'\r\nexport const UPDATE_ANALYTICS_LAST_CHECKED = 'UPDATE_ANALYTICS_LAST_CHECKED'\r\nexport const UPDATE_TARGETING_ANALYTICS = 'UPDATE_TARGETING_ANALYTICS'\r\nexport const UPDATE_TABLE_STATE = 'UPDATE_TABLE_STATE'\r\nexport const RESET_ALL_TABLES_STATE = 'RESET_ALL_TABLES_STATE'\r\nexport const RESET_TABLE_STATE_BY_ID = 'RESET_TABLE_STATE_BY_ID'\r\n","import { AdUnit, AdSlot, Campaign, Account, Audience } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign({\r\n\t\t\taudienceInput: { version: '1', inputs: { devices: { apply: 'allin' } } },\r\n\t\t\ttemp: { useUtmTags: true, useUtmSrcWithPub: true },\r\n\t\t}).plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot({\r\n\t\t\trulesInput: { version: '1', inputs: { autoSetMinCPM: false } },\r\n\t\t}).plainObj(),\r\n\t\tAudience: new Audience({\r\n\t\t\tinputs: { version: '1', devices: { apply: 'allin' } },\r\n\t\t}).plainObj(),\r\n\t\tWebsite: {},\r\n\t},\r\n\tcurrentItem: {},\r\n\tselectedItems: {\r\n\t\tcampaigns: [],\r\n\t\tadUnits: [],\r\n\t\tslots: [],\r\n\t},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t\tWebsite: {},\r\n\t\tAudience: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {\r\n\t\tglobal: {},\r\n\t\tbyIdentity: {},\r\n\t},\r\n\ttablesState: {},\r\n\tuiMemory: {},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttargeting: {\r\n\t\ttargetingData: [],\r\n\t\tminByCategory: {},\r\n\t\tcountryTiersCoefficients: {},\r\n\t},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n\tanalytics: {},\r\n\tchannels: {\r\n\t\twithBalanceAll: {},\r\n\t\twithOutstandingBalance: [],\r\n\t},\r\n\tensAddresses: {},\r\n}\r\n\r\nexport default initialState\r\n","import adexTranslations from 'adex-translations'\r\nimport { removeTags } from 'helpers/sanitizer'\r\nimport { isValidElement, cloneElement } from 'react'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\r\n\tconst parts = tpl.split(pattern)\r\n\r\n\tconst interpolated = parts.map((p, i) => {\r\n\t\tconst element = args[p] || p\r\n\t\tif (isValidElement(element) && !element.key) {\r\n\t\t\tconst withKey = cloneElement(element, { key: i })\r\n\r\n\t\t\treturn withKey\r\n\t\t}\r\n\r\n\t\treturn element\r\n\t})\r\n\r\n\tif (interpolated.every(i => typeof i === 'string' || typeof i === 'number')) {\r\n\t\treturn interpolated.join('')\r\n\t}\r\n\r\n\treturn interpolated\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''], toUpperCase = false } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\tif (toUpperCase) {\r\n\t\tkey = key.toUpperCase()\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = removeTags(translations[language][key] || val)\r\n\r\n\tif (Array.isArray(args)) {\r\n\t\tif (args.length) {\r\n\t\t\tconst translatedArgs = args.map(a => {\r\n\t\t\t\tif (typeof a === 'string') {\r\n\t\t\t\t\treturn translations[language][a] || a\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn a\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\ttranslation = interpolate(translation, translatedArgs)\r\n\t\t} else {\r\n\t\t\ttranslation = translation.replace(/\\${(\\w+)}/, ' ')\r\n\t\t}\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","export const removeTags = dirty => {\r\n\tif (!dirty || typeof dirty !== 'string') return ''\r\n\r\n\treturn (\r\n\t\tdirty\r\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\r\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\r\n\t\t\t// Strip any remaining HTML tags\r\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\r\n\t\t\t// Replace {strong} ... with <strong> ...\r\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\r\n\t)\r\n}\r\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nconst updateCfg = (current, type, cfg) => {\r\n\tconst newCfg = { ...current }\r\n\tnewCfg[type] = { ...cfg }\r\n\treturn newCfg\r\n}\r\n\r\nexport default function uiReducer(state = initialState.config, action) {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RELAYER_CFG:\r\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createHashHistory } from 'history'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst trackPageView = location => {\r\n\tReactGA.set({ page: location.pathname + location.search })\r\n\tReactGA.pageview(location.pathname + location.search)\r\n}\r\n\r\nconst initGa = history => {\r\n\tReactGA.initialize(process.env.GA_CODE, {\r\n\t\t// debug: true,\r\n\t})\r\n\ttrackPageView(history.location)\r\n\thistory.listen(trackPageView)\r\n}\r\nconst history = createHashHistory()\r\ninitGa(history)\r\n\r\nexport default history\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport uiMemory from './uiMemoryReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport targeting from './targetingReducer'\r\nimport config from './configReducer'\r\nimport analytics from './analyticsReducer'\r\nimport channels from './channelsReducer'\r\nimport selectedItems from './selectedItemsReducer'\r\nimport ensAddresses from './ensReducer'\r\nimport tablesState from './tablesStateReducer'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\taccount,\r\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\tlanguage,\r\n\tweb3Transactions,\r\n\ttargeting,\r\n\tconfig,\r\n\tensAddresses,\r\n\ttablesState,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tuiMemory,\r\n\tchannels,\r\n\tanalytics,\r\n\tsignin,\r\n\tidentity,\r\n\twallet,\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\ttoasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\tvalidations,\r\n\tselectedItems,\r\n\tnewTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_GLOBAL_UI,\r\n\tUPDATE_UI_BY_IDENTITY,\r\n\tUPDATE_UI_BY_IDENTITY_AND_SIDE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI_BY_IDENTITY:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...newState.byIdentity[action.identity],\r\n\t\t\t}\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\r\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\r\n\t\t\t\t}\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\r\n\t\t\t\t\taction.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_UI_BY_IDENTITY_AND_SIDE:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...(newState.byIdentity || {}) }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...(newState.byIdentity[action.identity] || {}),\r\n\t\t\t}\r\n\t\t\tnewState.byIdentity[action.identity][action.side] = {\r\n\t\t\t\t...(newState.byIdentity[action.identity][action.side] || {}),\r\n\t\t\t}\r\n\t\t\tnewState.byIdentity[action.identity][action.side][action.item] =\r\n\t\t\t\taction.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_GLOBAL_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.global = { ...newState.global }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState.global[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.global[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: { ...action.item },\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tif (item.id || item.ipfs) {\r\n\t\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\t}\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, {})\r\n\r\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TARGETING_ANALYTICS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function targetingReducer(\r\n\tstate = initialState.targeting,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TARGETING_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function ensReducer(state = initialState.ensAddresses, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_TABLE_STATE,\r\n\tRESET_ALL_TABLES_STATE,\r\n\tRESET_TABLE_STATE_BY_ID,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tableStateReducer(\r\n\tstate = initialState.tablesState,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TABLE_STATE:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.identity] = { ...(newState[action.identity] || {}) }\r\n\t\t\tnewState[action.identity][action.tableId] = action.value || {}\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_TABLE_STATE_BY_ID:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.identity] = { ...(newState[action.identity] || {}) }\r\n\t\t\tnewState[action.identity][action.tableId] = undefined\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_TABLES_STATE:\r\n\t\t\treturn initialState.tablesState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_MEMORY_UI } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiMemoryReducer(state = initialState.uiMemory, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_MEMORY_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\r\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function channelsReducer(state = initialState.channels, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = { ...action.channels }\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance =\r\n\t\t\t\tinitialState.channels.withOutstandingBalance\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ANALYTICS,\r\n\tRESET_ANALYTICS,\r\n\tUPDATE_ANALYTICS_TIMEFRAME,\r\n\tUPDATE_ANALYTICS_PERIOD,\r\n\tUPDATE_ANALYTICS_LAST_CHECKED,\r\n\tUPDATE_PUBLISHER_RECEIPTS,\r\n\tUPDATE_ADVANCED_ANALYTICS,\r\n\tUPDATE_DEMAND_ANALYTICS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function analyticsReducer(\r\n\tstate = initialState.analytics,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.timeframe = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS_LAST_CHECKED:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.lastChecked = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.side] = { ...newState[action.side] }\r\n\t\t\tnewState[action.side][action.eventType] = {\r\n\t\t\t\t...newState[action.side][action.eventType],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][\r\n\t\t\t\taction.timeframe\r\n\t\t\t] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric][\r\n\t\t\t\t\taction.timeframe\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][action.timeframe][\r\n\t\t\t\taction.timestamp\r\n\t\t\t] = { ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.advanced = { ...newState.advanced }\r\n\t\t\tnewState.advanced[action.eventType] = {\r\n\t\t\t\t...action.value,\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_DEMAND_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.demand = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_PUBLISHER_RECEIPTS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.receipts = { ...newState.receipts, ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ANALYTICS:\r\n\t\t\tnewState = { ...initialState.analytics }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS_PERIOD:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.period = action.value\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newIdentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewIdentity = newState\r\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\r\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewIdentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newIdentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewIdentity = { ...initialState.identity }\r\n\t\t\tnewState = newIdentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tif (action.itemId) {\r\n\t\t\t\tnewState[action.itemId] = newItem\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.itemType] = newItem\r\n\t\t\t}\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.itemType] }\r\n\t\t\tif (action.itemId) {\r\n\t\t\t\tnewState[action.itemId] = newItem\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.itemType] = newItem\r\n\t\t\t}\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_NEW_ITEMS:\r\n\t\t\tnewState = { ...initialState.newItem }\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tconst newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_SELECTED_ITEMS,\r\n\tRESET_SELECTED_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...initialState.selectedItems }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n\tRESET_ALL_NEW_TRANSACTIONS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\r\n\t\t\tnewState = initialState.newTransactions\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/lib/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst persistConfig = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n\tversion: 2,\r\n\tdebug: process.env.NODE_ENV === 'production' ? false : true,\r\n\tthrottle: 1000,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n\trouter: connectRouter(history),\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t]\r\n\r\n\tif (process.env.BUILD_TYPE === 'staging') {\r\n\t\tmiddlewares.push(logger)\r\n\t}\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from './configureStore'\r\n\r\nexport default configureStore\r\n\r\nexport const store = configureStore.store\r\nexport const persistor = configureStore.persistor\r\nexport const dispatch = store.dispatch\r\nexport const getState = store.getState\r\n","import { createSelectorCreator, defaultMemoize } from 'reselect'\r\nimport isEqual from 'lodash.isequal'\r\n\r\n// deep equal memoization instad reference check\r\nexport const createDeepEqualSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\tisEqual\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\n// can be used outside  components\r\nexport const selectRelayerConfig = state => {\r\n\treturn (state || getState()).persist.config.relayer\r\n}\r\n\r\n// - relayer cfg\r\n// network,\r\n// feeTokenWhitelist:\r\n// [\r\n// \t{\r\n// \t\taddress,\r\n// \t\tsymbol,\r\n// \t\tdecimals,\r\n// \t\tstandard,\r\n// \t\tmin,\r\n// \t\tminDeploy,\r\n// \t\tminRecommended,\r\n// \t\texecuteBaseFee: {\r\n// \t\t\tWITHDRAW: '4200000000000000000',\r\n// \t\t\tPRIVILEGES_CHANGE: '1000000000000000000',\r\n// \t\t\tENS_CHANGE: '1000000000000000000',\r\n// \t\t\tDEFAULT: '1000000000000000000',\r\n// \t\t},\r\n// \t},\r\n// ],\r\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\r\n// coreAddr,\r\n// baseIdentityAddr,\r\n// identityFactoryAddr,\r\n// registryAddr,\r\n// daiAddr,\r\n// marketUrl,\r\n// identityRecoveryAddr,\r\n// weeklyFeeAmount,\r\n// mainToken, // { address, symbol, decimals, standard },\r\n// advertiserMinGrantAmount\r\n// relayerAddr\r\n// gasPriceCap\r\n\r\nexport const selectFeeTokenWhitelist = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ feeTokenWhitelist }) => {\r\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokens = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokenByAddress = createCachedSelector(\r\n\tselectRelayerConfig,\r\n\t(_, address) => address,\r\n\t({ routineWithdrawTokens }, address) => {\r\n\t\treturn routineWithdrawTokens.find(token => token.address === address)\r\n\t}\r\n)((_state, address = '-') => address)\r\n\r\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.map(t => t.address)\r\n\t}\r\n)\r\n\r\nexport const selectConfig = createSelector(\r\n\t[selectRelayerConfig],\r\n\trelayerConfig => {\r\n\t\tconst cfg = { ...relayerConfig }\r\n\t\treturn cfg\r\n\t}\r\n)\r\n\r\nexport const selectMainToken = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ mainToken }) => mainToken || {}\r\n)\r\n\r\nexport const selectIdentityRecoveryAddr = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ identityRecoveryAddr }) => identityRecoveryAddr\r\n)\r\n\r\nexport const selectGasPriceCap = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ gasPriceCap }) => gasPriceCap\r\n)\r\n\r\nexport const selectSaiToken = createSelector(\r\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\r\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\r\n)\r\n\r\nexport const selectMainFeeToken = createSelector(\r\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\r\n\t({ mainToken }, feeTokenWhitelist) => {\r\n\t\treturn feeTokenWhitelist[mainToken.address]\r\n\t}\r\n)\r\n","import MomentUtils from '@date-io/moment'\r\nimport moment from 'moment'\r\nimport 'moment/min/locales'\r\n\r\n// We can't use the new version of @date-io/moment or @date-io/date-fns\r\n// because the datepickers will crash, but we need some more functionality\r\n// as adding hours and start / end of weeks. This is why I have created an\r\n// extention class. We use this as MuiPickersUtilsProvider as well\r\nexport class DateUtils extends MomentUtils {\r\n\tstartOfMinute(date) {\r\n\t\treturn date.clone().startOf('minute')\r\n\t}\r\n\r\n\tstartOfHour(date) {\r\n\t\treturn date.clone().startOf('hour')\r\n\t}\r\n\r\n\tstartOfWeek(date) {\r\n\t\treturn date.clone().startOf('week')\r\n\t}\r\n\r\n\tstartOfYear(date) {\r\n\t\treturn date.clone().startOf('year')\r\n\t}\r\n\r\n\tendOfWeek(date) {\r\n\t\treturn date.clone().endOf('week')\r\n\t}\r\n\r\n\tisWithinInterval(date, { start, end }) {\r\n\t\treturn date.clone().isBetween(start, end, null, '[]')\r\n\t}\r\n\r\n\tadd(date, ammount, unit) {\r\n\t\treturn date.add(ammount, unit)\r\n\t}\r\n\r\n\taddMinutes(date, minutes) {\r\n\t\treturn date.clone().add(minutes, 'minute')\r\n\t}\r\n\r\n\taddHours(date, hours) {\r\n\t\treturn date.clone().add(hours, 'hour')\r\n\t}\r\n\r\n\tstartOf(date, period) {\r\n\t\treturn date.clone().startOf(period)\r\n\t}\r\n\r\n\tendOf(date, period) {\r\n\t\treturn date.clone().endOf(period)\r\n\t}\r\n\r\n\taddWeeks(date, weeks) {\r\n\t\treturn date.clone().add(weeks, 'week')\r\n\t}\r\n\r\n\taddMonths(date, months) {\r\n\t\treturn date.clone().add(months, 'month')\r\n\t}\r\n\r\n\taddYears(date, years) {\r\n\t\treturn date.clone().add(years, 'year')\r\n\t}\r\n\r\n\tgetUTCOffset(date = this.moment()) {\r\n\t\treturn this.moment(date).utcOffset() / 60\r\n\t}\r\n\r\n\tgetUTCOffsetFormatted(date = this.moment()) {\r\n\t\tconst offset = this.moment(date).utcOffset()\r\n\t\tconst sign = offset >= 0 ? '+' : '-'\r\n\t\tconst hours = Math.abs(Math.floor(offset / 60)).toString()\r\n\t\tconst minutes = (offset % 60).toString()\r\n\r\n\t\treturn `${sign}${hours.length === 1 ? '0' + hours : hours}:${\r\n\t\t\tminutes.length === 1 ? '0' + minutes : minutes\r\n\t\t}`\r\n\t}\r\n\r\n\tgetCurrentTimezone(date) {\r\n\t\treturn new window.Intl.DateTimeFormat(date).resolvedOptions().timeZone\r\n\t}\r\n\r\n\tgetUnix(date) {\r\n\t\treturn date.unix()\r\n\t}\r\n\tgetLocaleDate(locale) {\r\n\t\treturn this.moment.localeData(locale)\r\n\t}\r\n\r\n\tupdateLocale({ locale = 'en', dow, doy }) {\r\n\t\tconst defaultLocaleData = this.getLocaleDate(locale)\r\n\t\tthis.moment.updateLocale(locale, {\r\n\t\t\tweek: {\r\n\t\t\t\tdow: dow || defaultLocaleData.firstDayOfWeek(),\r\n\t\t\t\tdoy: doy || defaultLocaleData.firstDayOfYear(),\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tgetHourSpanStart(date, span) {\r\n\t\tconst current = dateUtils.date(date)\r\n\t\tconst hour = dateUtils.getHours(current)\r\n\t\tconst spanStartHour = Math.floor(hour - (hour % span))\r\n\t\tconst withSpanStartHour = dateUtils.setHours(current, spanStartHour)\r\n\r\n\t\treturn dateUtils.startOfHour(withSpanStartHour)\r\n\t}\r\n\r\n\tformat(date, formatString) {\r\n\t\treturn this.moment(date).format(formatString)\r\n\t}\r\n}\r\n\r\nexport function makeJSDateObject(date) {\r\n\tif (moment.isMoment(date)) {\r\n\t\treturn date.clone()\r\n\t}\r\n\r\n\tif (date instanceof Date) {\r\n\t\treturn new Date(date.getTime())\r\n\t}\r\n\r\n\treturn date\r\n}\r\n\r\nconst dateUtils = new DateUtils()\r\ndateUtils.updateLocale({\r\n\tdow: dateUtils\r\n\t\t.getLocaleDate(window.navigator.language.toLowerCase())\r\n\t\t.firstDayOfWeek(),\r\n})\r\n\r\nexport default dateUtils\r\n","import dateUtils from 'helpers/dateUtils'\r\nimport { createSelector } from 'reselect'\r\nimport { createDeepEqualSelector } from 'selectors'\r\nimport { utils } from 'ethers'\r\n\r\nexport const selectAccountRaw = state => state.persist.account || {}\r\nexport const selectChannels = state => state.memory.channels\r\n\r\nexport const selectMemoryUi = state => state.memory.uiMemory\r\n\r\nexport const selectDebugIdentity = createSelector(\r\n\tselectMemoryUi,\r\n\t({ debugIdentityAddr, debuggerAddr }) => ({\r\n\t\tdebugIdentityAddr,\r\n\t\tdebuggerAddr,\r\n\t})\r\n)\r\n\r\nexport const selectDebugAccount = createSelector(\r\n\tselectDebugIdentity,\r\n\t({ debugIdentityAddr, debuggerAddr }) => {\r\n\t\t// TODO: utils.address\r\n\t\tif (debugIdentityAddr) {\r\n\t\t\tconst address = utils.getAddress(debugIdentityAddr)\r\n\t\t\tconst debuggerPrivAddr = utils.getAddress(\r\n\t\t\t\tdebuggerAddr || debugIdentityAddr\r\n\t\t\t)\r\n\t\t\treturn {\r\n\t\t\t\taddress,\r\n\t\t\t\tcurrentPrivileges: {\r\n\t\t\t\t\t[debuggerPrivAddr]: 2,\r\n\t\t\t\t\t[debuggerPrivAddr.toLowerCase()]: 2,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\t}\r\n)\r\n\r\nexport const selectAccount = createSelector(\r\n\t[selectAccountRaw, selectDebugAccount],\r\n\t(account, debugData) => {\r\n\t\tif (debugData) {\r\n\t\t\tconst debugAccount = {\r\n\t\t\t\t...account,\r\n\t\t\t\tidentity: {\r\n\t\t\t\t\t...(account.identity || {}),\r\n\t\t\t\t\t...debugData,\r\n\t\t\t\t\trelayerData: {\r\n\t\t\t\t\t\t...((account.identity || {}).relayerData || {}),\r\n\t\t\t\t\t\tcurrentPrivileges: debugData.currentPrivileges,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\treturn debugAccount\r\n\t\t}\r\n\r\n\t\treturn account\r\n\t}\r\n)\r\n\r\nexport const selectAuth = createSelector(\r\n\tselectAccount,\r\n\t({ wallet, identity }) =>\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n)\r\n\r\nexport const selectWallet = createDeepEqualSelector(\r\n\tselectAccount,\r\n\t({ wallet }) => wallet || {}\r\n)\r\n\r\nexport const selectEmail = createSelector(selectAccount, ({ email }) => email)\r\n\r\nexport const selectEmailProvider = createSelector(selectEmail, email =>\r\n\t!!email ? email.split('@')[1] : null\r\n)\r\n\r\nexport const selectAuthSig = createSelector(\r\n\tselectWallet,\r\n\t({ authSig }) => authSig\r\n)\r\n\r\nexport const selectWalletAddress = createSelector(\r\n\tselectWallet,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAuthType = createSelector(\r\n\tselectWallet,\r\n\t({ authType }) => authType\r\n)\r\n\r\nexport const selectAccountIdentity = createSelector(\r\n\tselectAccount,\r\n\t({ identity }) => identity || {}\r\n)\r\n\r\nexport const selectAccountIdentityAddr = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAccountStats = createSelector(\r\n\tselectAccount,\r\n\t({ stats }) => stats || {}\r\n)\r\n\r\nexport const selectAccountSettings = createSelector(\r\n\tselectAccount,\r\n\t({ settings }) => settings || {}\r\n)\r\n\r\nexport const selectAccountStatsRaw = createSelector(\r\n\tselectAccountStats,\r\n\t({ raw }) => raw || {}\r\n)\r\n\r\nexport const selectAccountStatsFormatted = createSelector(\r\n\tselectAccountStats,\r\n\t({ formatted }) => formatted || {}\r\n)\r\n\r\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) =>\r\n\t\trelayerData &&\r\n\t\trelayerData.routineAuthorizationsData &&\r\n\t\trelayerData.routineAuthorizationsData[0]\r\n\t\t\t? relayerData.routineAuthorizationsData[0]\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAccountIdentityDeployData = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData = {} }) => relayerData.deployData || {}\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesEligible = createSelector(\r\n\tselectChannels,\r\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesAll = createSelector(\r\n\tselectChannels,\r\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\r\n)\r\n\r\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\r\n)\r\n\r\nexport const selectWalletPrivileges = createSelector(\r\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\r\n\t(privileges = {}, address) => privileges[address] || 0\r\n)\r\n\r\nexport const selectAccountIdentityCreatedDate = createSelector(\r\n\tselectAccountIdentityDeployData,\r\n\t({ created }) => dateUtils.date(created || '2018-10-01')\r\n)\r\n","import { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectIdentity = state => state.memory.identity\r\n\r\nexport const selectEnsAddresses = state => state.persist.ensAddresses\r\n\r\nexport const selectEnsAddressByAddr = createCachedSelector(\r\n\tselectEnsAddresses,\r\n\t(_, address) => address,\r\n\t(ensAddresses, address) => ensAddresses[address] || ''\r\n)((_state, address = '-') => address)\r\n","export const CREATING_SESSION = 'CREATING_SESSION'\r\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\r\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\r\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\r\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\r\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\r\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\r\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\r\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\r\nexport const FETCHING_PUBLISHER_RECEIPTS = 'FETCHING_PUBLISHER_RECEIPTS'\r\nexport const CHECKING_METAMASK_AUTH = 'CHECKING_METAMASK_AUTH'\r\nexport const AUTH_WAITING_TREZOR_ACTION = 'AUTH_WAITING_TREZOR_ACTION'\r\nexport const AUTH_WAITING_ADDRESS_DATA = 'AUTH_WAITING_ADDRESS_DATA'\r\nexport const UPDATING_TARGETING_DATA = 'UPDATING_TARGETING_DATA'\r\nexport const SYNC_WEB3_DATA = 'UPDATING_WEB3_DATA'\r\n","import { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { selectAccountIdentityAddr } from './accountSelectors'\r\nimport { SYNC_WEB3_DATA } from 'constants/spinners'\r\n\r\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\r\n\r\nexport const selectNavTitle = state => state.memory.nav.navTitle\r\nexport const selectSide = state => state.memory.nav.side\r\nexport const selectMemoryUi = state => state.memory.uiMemory\r\nexport const selectGlobalUi = state => state.persist.ui.global\r\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\r\nexport const selectSelectedItems = state => state.memory.selectedItems\r\nexport const selectConfirm = state => state.memory.confirm\r\nexport const selectToasts = state => state.memory.toasts\r\nexport const selectTablesState = state => state.persist.tablesState\r\n\r\nexport const selectSpinners = state => state.memory.spinners\r\n\r\nexport const selectIdentityUi = createSelector(\r\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\r\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\r\n)\r\n\r\nexport const selectIdentitySideUi = createSelector(\r\n\t[selectIdentityUi, selectSide],\r\n\t(identityUi, side) => identityUi[side] || {}\r\n)\r\n\r\nexport const selectCompanyData = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ companyData }) => companyData || {}\r\n)\r\n\r\nexport const selectUserLastSide = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ userLastSide }) => userLastSide || ''\r\n)\r\n\r\nexport const selectSpinnerById = createCachedSelector(\r\n\tselectSpinners,\r\n\t(_, id) => id,\r\n\t(spinners, id) => spinners[id]\r\n)((_state, id = '-') => id)\r\n\r\nexport const selectWeb3SyncSpinnerByValidateId = createCachedSelector(\r\n\tselectSpinners,\r\n\t(_, validateId) => validateId,\r\n\t(spinners, validateId) => spinners[SYNC_WEB3_DATA + validateId]\r\n)((_state, validateId = '-') => validateId)\r\n\r\nexport const selectMultipleSpinnersByIds = createCachedSelector(\r\n\tselectSpinners,\r\n\t(_, ids) => ids,\r\n\t(spinners, ids) => ids.map(id => spinners[id])\r\n)((_state, ids = '-') => ids.join(':'))\r\n\r\nexport const selectRegistrationAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\r\n)\r\n\r\nexport const selectEasterEggsAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowEasterEggs }) => allowEasterEggs\r\n)\r\n\r\nexport const selectNewVersionAvailable = createSelector(\r\n\tselectGlobalUi,\r\n\t({ newVersionAvailable }) => newVersionAvailable\r\n)\r\n\r\nexport const selectNewVersionAvailableId = createSelector(\r\n\tselectGlobalUi,\r\n\t({ selectNewVersionAvailableId }) => selectNewVersionAvailableId\r\n)\r\n\r\nexport const selectPrivilegesWarningAccepted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\r\n)\r\n\r\nexport const selectSideSpecificUI = createSelector(\r\n\t[selectIdentityUi, selectSide],\r\n\t(ui, side) => ui[side] || {}\r\n)\r\n\r\nexport const selectHideGettingStarted = createSelector(\r\n\t[selectSideSpecificUI],\r\n\t({ hideGettingStarted }) => hideGettingStarted\r\n)\r\n\r\nexport const selectGettingStartedExpanded = createSelector(\r\n\tselectIdentityUi,\r\n\t({ gettingStartedExpanded }) =>\r\n\t\t// NOTE: default is open but cant set initial state\r\n\t\tgettingStartedExpanded === undefined ? true : !!gettingStartedExpanded\r\n)\r\n\r\nexport const selectSelectedCampaigns = createSelector(\r\n\tselectSelectedItems,\r\n\t({ campaigns }) => campaigns || []\r\n)\r\n\r\nexport const selectLoginDirectSide = createSelector(\r\n\tselectGlobalUi,\r\n\t({ goToSide }) => goToSide || ''\r\n)\r\n\r\nexport const selectInitialDataLoadedByData = createCachedSelector(\r\n\tselectMemoryUi,\r\n\t(_, dataType) => dataType,\r\n\t({ initialDataLoaded }, dataType) =>\r\n\t\tinitialDataLoaded === true ||\r\n\t\t(typeof initialDataLoaded === 'object' && initialDataLoaded[dataType])\r\n)((_state, dataType = '-') => dataType)\r\n\r\nexport const selectInitialDataLoaded = createSelector(\r\n\tselectMemoryUi,\r\n\t({ initialDataLoaded = false }) =>\r\n\t\tinitialDataLoaded === true ||\r\n\t\t(typeof initialDataLoaded === 'object' &&\r\n\t\t\t[\r\n\t\t\t\t'accountIdentityData',\r\n\t\t\t\t'allItems',\r\n\t\t\t\t'stats',\r\n\t\t\t\t'campaigns',\r\n\t\t\t\t'advancedAnalytics',\r\n\t\t\t].every(type => !!initialDataLoaded[type]))\r\n)\r\n\r\nexport const selectCampaignIdInDetails = createSelector(\r\n\tselectMemoryUi,\r\n\t({ campaignId }) => campaignId\r\n)\r\n\r\nexport const selectLoginSelectedIdentity = createSelector(\r\n\tselectMemoryUi,\r\n\t({ loginSelectedIdentity }) => loginSelectedIdentity\r\n)\r\n\r\nexport const selectAnalyticsDataSide = createSelector(\r\n\t[selectSide, selectCampaignIdInDetails],\r\n\t(side, campaignId) => (campaignId ? campaignId : side ? `for-${side}` : '')\r\n)\r\n\r\nexport const selectIdentitySideAnalyticsTimeframe = createSelector(\r\n\t[selectIdentitySideUi],\r\n\t({ sideAnalyticsTimeframe = 'day' } = {}) => sideAnalyticsTimeframe\r\n)\r\n\r\nexport const selectIdentitySideAnalyticsPeriod = createSelector(\r\n\t[selectIdentitySideUi],\r\n\t({\r\n\t\tsideAnalyticsPeriod = {\r\n\t\t\tstart: dateUtils.startOfDay(dateUtils.date()),\r\n\t\t\tend: dateUtils.endOfDay(dateUtils.date()),\r\n\t\t},\r\n\t} = {}) => sideAnalyticsPeriod\r\n)\r\n\r\nexport const selectWindowReloading = createSelector(\r\n\tselectMemoryUi,\r\n\t({ windowReloading }) => windowReloading\r\n)\r\n\r\nexport const selectResendConfirmation = createSelector(\r\n\tselectGlobalUi,\r\n\t({ resendConfirmation }) => resendConfirmation || {}\r\n)\r\nexport const selectTableState = createCachedSelector(\r\n\tselectTablesState,\r\n\tselectAccountIdentityAddr,\r\n\t(_state, tableId) => tableId,\r\n\t(tablesStates, identityId, tableId) =>\r\n\t\t((tablesStates || {})[identityId] || {})[tableId] || {}\r\n)((_state, tableId = '-') => tableId)\r\n\r\n//memory\r\nexport const selectTableStateSelectedRows = createCachedSelector(\r\n\tselectMemoryUi,\r\n\t(_state, tableId) => tableId,\r\n\t(memoryUI, tableId) => memoryUI[`selectedRows${tableId}`]\r\n)((_state, tableId = '-') => tableId)\r\n","import { createCachedSelector } from 're-reselect'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getState } from 'store'\r\n\r\nexport const selectLang = state => state.persist.language\r\n\r\nexport const selectTranslations = createCachedSelector(\r\n\tselectLang,\r\n\t(_, val, opts = {}) => {\r\n\t\treturn { val, opts }\r\n\t},\r\n\r\n\t(lang, { val, opts }) => {\r\n\t\tconst { isProp = false, args = [''], components = [] } = opts\r\n\t\treturn translate(val, { isProp, args, components }, lang)\r\n\t}\r\n)((_state, val = '-') => val)\r\n\r\n// Need to useSelector for language in top component where this will be used\r\n// Now this is don by using Translate Hoc on Root\r\n// It will work in actions too as the state isg get when they are called and don't need update\r\nexport const t = (val, opts) => {\r\n\treturn selectTranslations(getState(), val, opts)\r\n}\r\n","import { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nimport { selectCampaignIdInDetails } from 'selectors'\r\n\r\nimport url from 'url'\r\nexport const selectItems = state => state.persist.items\r\n\r\nexport const selectItemsByType = createCachedSelector(\r\n\tselectItems,\r\n\t(_state, itemType) => itemType,\r\n\t(items, itemType) => items[itemType] || {}\r\n)((_state, itemType = '-') => itemType)\r\n\r\nexport const selectItemsArrayByType = createCachedSelector(\r\n\tselectItemsByType,\r\n\titems => Object.values(items || {})\r\n)((_state, itemType = '-') => itemType)\r\n\r\nexport const selectItemByTypeAndId = createCachedSelector(\r\n\tselectItemsByType,\r\n\t(_state, _itemType, id) => id,\r\n\t(items, id) => items[id] || {}\r\n)((_state, _itemType, id = '-') => id) // all items has unique id so they are good for cache\r\n\r\nexport const selectCampaigns = state => selectItemsByType(state, 'Campaign')\r\nexport const selectCampaignsArray = state =>\r\n\tselectItemsArrayByType(state, 'Campaign')\r\n\r\nexport const selectCampaignById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'Campaign', id)\r\n\r\nexport const selectCampaignUnitsById = createSelector(\r\n\tselectCampaignById,\r\n\t({ adUnits } = {}) => adUnits || []\r\n)\r\n\r\nexport const selectCampaignInDetails = createSelector(\r\n\t[selectCampaignIdInDetails, state => state],\r\n\t(campaignId, state) =>\r\n\t\tcampaignId ? selectCampaignById(state, campaignId) : undefined\r\n)\r\n\r\nexport const selectAdUnits = state => selectItemsByType(state, 'AdUnit')\r\n\r\nexport const selectAdUnitsArray = state =>\r\n\tselectItemsArrayByType(state, 'AdUnit')\r\n\r\nexport const selectAdUnitById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'AdUnit', id)\r\n\r\nexport const selectAdSlots = state => selectItemsByType(state, 'AdSlot')\r\n\r\nexport const selectAdSlotsArray = state =>\r\n\tselectItemsArrayByType(state, 'AdSlot')\r\n\r\nexport const selectAdSlotById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'AdSlot', id)\r\n\r\nexport const selectWebsites = state => selectItemsByType(state, 'Website')\r\n\r\nexport const selectWebsitesArray = state =>\r\n\tselectItemsArrayByType(state, 'Website')\r\n\r\nexport const selectWebsiteById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'Website', id)\r\n\r\nexport const selectWebsiteByWebsite = createCachedSelector(\r\n\tselectWebsites,\r\n\t(_, ws) => ws,\r\n\t(items, ws) => (ws ? items[url.parse(ws).hostname] || {} : {})\r\n)((_state, ws = 'all') => ws)\r\n\r\nexport const selectAudiences = state => selectItemsByType(state, 'Audience')\r\n\r\nexport const selectAudiencesArray = state =>\r\n\tselectItemsArrayByType(state, 'Audience')\r\n\r\nexport const selectAudienceById = (state, id) =>\r\n\tselectItemByTypeAndId(state, 'Audience', id)\r\n\r\nexport const selectAudienceByCampaignId = createCachedSelector(\r\n\tselectCampaignById,\r\n\tselectAudiencesArray,\r\n\t(_, id) => id,\r\n\t(campaign, items, id) => {\r\n\t\tconst hasCampaignAudienceUpdated =\r\n\t\t\tcampaign &&\r\n\t\t\tcampaign.audienceInput &&\r\n\t\t\tcampaign.audienceInput.inputs &&\r\n\t\t\t(campaign.audienceInput.inputs.location ||\r\n\t\t\t\tcampaign.audienceInput.inputs.categories ||\r\n\t\t\t\tcampaign.audienceInput.inputs.publishers ||\r\n\t\t\t\tcampaign.audienceInput.inputs.advanced)\r\n\r\n\t\treturn hasCampaignAudienceUpdated\r\n\t\t\t? campaign.audienceInput\r\n\t\t\t: items.find(x => x && x.campaignId === id)\r\n\t}\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectSavedAudiences = createSelector(\r\n\t[selectAudiencesArray],\r\n\titems => items.filter(x => x && !x.campaignId && x.title)\r\n)\r\n\r\nexport const selectWebsitesList = createSelector(\r\n\t[selectWebsitesArray],\r\n\twebsites =>\r\n\t\twebsites.sort(\r\n\t\t\t(a, b) => new Date(b.updated).getTime() - new Date(a.updated).getTime()\r\n\t\t)\r\n)\r\n\r\nexport const selectCampaignDisplayStatus = (status = {}, impressions) => {\r\n\tswitch (status.name) {\r\n\t\tcase 'Waiting':\r\n\t\t\treturn 'SCHEDULED'\r\n\t\tcase 'Active':\r\n\t\t\treturn impressions > 0 ? 'ACTIVE' : 'READY'\r\n\t\tdefault:\r\n\t\t\treturn (status.humanFriendlyName || '').toUpperCase()\r\n\t}\r\n}\r\n","import {\r\n\tCampaign as CampaignModel,\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n\tAudience as AudienceModel,\r\n} from 'adex-models'\r\nimport initialState from 'store/initialState'\r\n\r\nimport { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectNewItems = state => state.memory.newItem\r\n\r\nexport const selectNewItemByType = createCachedSelector(\r\n\tselectNewItems,\r\n\t(_, type) => type,\r\n\t(items, type) => items[type]\r\n)((_state, type) => type)\r\n\r\n// NOTE: currently used only for existing items update\r\nexport const selectNewItemByTypeAndId = createCachedSelector(\r\n\tselectNewItems,\r\n\t(_, type, itemId) => ({ type, itemId }),\r\n\t(items, { type, itemId }) =>\r\n\t\t(itemId ? items[itemId] : items[type]) || { ...initialState.newItem[type] }\r\n)((_state, type = '-', itemId = '-') => `${type}:${itemId}`)\r\n\r\nexport const selectNewCampaign = createSelector(\r\n\tselectNewItems,\r\n\t({ Campaign }) => new CampaignModel(Campaign)\r\n)\r\n\r\nexport const selectNewAdUnit = createSelector(\r\n\tselectNewItems,\r\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\r\n)\r\n\r\nexport const selectNewAdSlot = createSelector(\r\n\tselectNewItems,\r\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\r\n)\r\n\r\nexport const selectNewAudience = createSelector(\r\n\tselectNewItems,\r\n\t({ Audience }) => new AudienceModel(Audience)\r\n)\r\n\r\nexport const selectNewWebsite = createSelector(\r\n\tselectNewItems,\r\n\t({ Website = {} }) => ({ ...Website })\r\n)\r\n","import { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\n\r\nconst HOUR = 60 * 60 * 1000\r\nconst DAY = 24 * HOUR\r\n\r\nconst moment = new MomentUtils()\r\n//TODO: use dateUtils\r\n\r\nexport const DEFAULT_DATETIME_FORMAT = 'YYYY/MM/DD HH:mm'\r\nexport const DEFAULT_DATE_FORMAT = 'YYYY/MM/DD'\r\n\r\nexport const formatDateTime = (\r\n\ttimestamp,\r\n\tformat = DEFAULT_DATETIME_FORMAT,\r\n\tnoDateLabel = 'no date'\r\n) => {\r\n\tif (!timestamp) {\r\n\t\treturn noDateLabel\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatDate = (\r\n\ttimestamp,\r\n\tformat = DEFAULT_DATE_FORMAT,\r\n\tnoDateLabel = 'no date'\r\n) => {\r\n\tif (!timestamp) {\r\n\t\treturn noDateLabel\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (\r\n\tamountString = '0',\r\n\tdecimals = 18,\r\n\tpretty,\r\n\ttoFixed\r\n) => {\r\n\tconst formatted = utils.formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn utils.commify(formatted)\r\n\t} else if (typeof toFixed === 'number') {\r\n\t\t// We want truncated not rounded\r\n\t\treturn parseFloat(formatted)\r\n\t\t\t.toFixed(toFixed + 4)\r\n\t\t\t.slice(0, -4)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n\r\nexport const formatAddress = (address = '', joinSymbol = '...') => {\r\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\r\n}\r\n\r\nexport const formatNumberWithCommas = x => {\r\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n}\r\n\r\nexport const formatFloatNumberWithCommas = x => {\r\n\tconst parts = x.toString().split('.')\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n\treturn parts.join('.')\r\n}\r\n\r\nexport const formatNumberWithoutCommas = x => {\r\n\treturn x\r\n\t\t.toString()\r\n\t\t.split(',')\r\n\t\t.join('')\r\n}\r\n\r\nexport const toFixedFloat = (number, decimals = 2) => {\r\n\tconst num = parseFloat(parseFloat(number).toFixed(decimals))\r\n\r\n\treturn num\r\n}\r\n\r\nexport const formatAbbrNum = (number, decPlaces) => {\r\n\t// 2 decimal places => 100, 3 => 1000, etc\r\n\tdecPlaces = Math.pow(10, decPlaces)\r\n\r\n\t// Enumerate number abbreviations\r\n\tvar abbrev = ['k', 'm', 'b', 't']\r\n\r\n\t// Go through the array backwards, so we do the largest first\r\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\r\n\t\t// Convert array index to \"1000\", \"1000000\", etc\r\n\t\tvar size = Math.pow(10, (i + 1) * 3)\r\n\r\n\t\t// If the number is bigger or equal do the abbreviation\r\n\t\tif (size <= number) {\r\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\r\n\t\t\t// This gives us nice rounding to a particular decimal place.\r\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\r\n\r\n\t\t\t// Handle special case where we round up to the next abbreviation\r\n\t\t\tif (number === 1000 && i < abbrev.length - 1) {\r\n\t\t\t\tnumber = 1\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\r\n\t\t\t// Add the letter for the abbreviation\r\n\t\t\tnumber += abbrev[i]\r\n\r\n\t\t\t// We are done... stop\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\treturn number\r\n}\r\n\r\nexport const truncateString = (string, maxLength = 50) => {\r\n\tif (!string) return ''\r\n\tif (string.length <= maxLength) return string\r\n\treturn `${string.substring(0, maxLength).trim()}...`\r\n}\r\n\r\nexport const timeSinceEpoch = (\r\n\tepochDivider = 2628000000,\r\n\tstart = Date.now(),\r\n\tend = Date.now()\r\n) => {\r\n\tconst epoch = Math.floor(start / epochDivider)\r\n\tconst epochStart = Math.floor(epoch * epochDivider)\r\n\r\n\tconst period = end - epochStart\r\n\r\n\tconst periodDays = period / DAY\r\n\r\n\tif (periodDays < 1) {\r\n\t\tconst hours = Math.floor(periodDays * 24)\r\n\t\treturn [hours, hours > 1 ? 'HOURS' : 'HOUR']\r\n\t} else {\r\n\t\tconst days = Math.floor(periodDays)\r\n\t\treturn [days, days > 1 ? 'DAYS' : 'DAY']\r\n\t}\r\n}\r\n","import dateUtils from 'helpers/dateUtils'\r\nimport { t } from 'selectors'\r\n\r\nconst SECOND = 1000\r\nconst MINUTE = 60 * SECOND\r\nconst HOUR = 60 * MINUTE\r\nconst DAY = 24 * HOUR\r\nconst WEEK = 7 * DAY\r\nconst YEAR = 365 * DAY\r\nconst MONTH = Math.floor(YEAR / 12)\r\n\r\nexport const DEFAULT_WEEK_HOURS_SPAN = 3\r\n\r\nexport const fillEmptyTime = (\r\n\tprevAggr,\r\n\ttimeframe,\r\n\tdefaultValue = 0,\r\n\tfillAfterLast = 0,\r\n\tperiod\r\n) => {\r\n\tconst now = Date.now()\r\n\tconst time = {\r\n\t\tinterval: period,\r\n\t\tstep: { period: 1, span: 'minute' },\r\n\t}\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\ttime.step = {\r\n\t\t\t\tunit: 'minute',\r\n\t\t\t\tamount: 1,\r\n\t\t\t}\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\ttime.step = { unit: 'hour', amount: 1 }\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\ttime.step = { unit: 'hour', amount: DEFAULT_WEEK_HOURS_SPAN }\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\ttime.step = { unit: 'day', amount: 1 }\r\n\t\t\tbreak\r\n\t\tcase 'year':\r\n\t\t\ttime.step = { unit: 'month', amount: 1 }\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\treturn prevAggr\r\n\t}\r\n\tconst newAggr = []\r\n\r\n\tlet initialTime = +dateUtils.date(time.interval.start)\r\n\tlet endTime = Math.min(time.interval.end, +dateUtils.date())\r\n\tfor (\r\n\t\tlet m = +dateUtils.date(initialTime);\r\n\t\tm <= endTime;\r\n\t\tm = +dateUtils.add(dateUtils.date(m), time.step.amount, time.step.unit)\r\n\t) {\r\n\t\tnewAggr.push({ value: defaultValue, time: m })\r\n\t}\r\n\tconst prevAggrInInterval = prevAggr\r\n\t\t.filter(a => {\r\n\t\t\tconst m = a.time\r\n\t\t\treturn m - initialTime >= 0 && m - endTime <= 0\r\n\t\t})\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\r\n\tconst lastWithValueTime = (prevAggrInInterval[0] || {}).time || now\r\n\r\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\r\n\t\tconst newData = { ...data }\r\n\t\tconst isNullValue = a.value === null || data[a.time] === null\r\n\t\tconst value =\r\n\t\t\ta.time <= lastWithValueTime\r\n\t\t\t\t? isNullValue\r\n\t\t\t\t\t? null\r\n\t\t\t\t\t: data[a.time] || a.value || defaultValue\r\n\t\t\t\t: fillAfterLast\r\n\r\n\t\tnewData[a.time] = a.time <= now ? value : null\r\n\r\n\t\treturn newData\r\n\t}, {})\r\n\r\n\tconst result = Object.entries(data)\r\n\t\t.map(([key, value]) => ({\r\n\t\t\tvalue,\r\n\t\t\ttime: +key,\r\n\t\t}))\r\n\t\t.sort((a, b) => a.time - b.time)\r\n\r\n\treturn result\r\n}\r\n\r\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\r\n\r\nexport const getTimePeriods = ({ timeframe, start }) => {\r\n\tlet end = null\r\n\tlet callEnd = null\r\n\tconst startCopy = dateUtils.date(start)\r\n\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\tstart = dateUtils.startOfMinute(startCopy)\r\n\t\t\tend = dateUtils.addMinutes(start, 59)\r\n\t\t\tcallEnd = dateUtils.addMinutes(end, 1)\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\tstart = dateUtils.startOfHour(startCopy)\r\n\t\t\tend = dateUtils.addHours(start, 23)\r\n\t\t\tcallEnd = dateUtils.addHours(end, 1)\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\tstart = dateUtils.getHourSpanStart(startCopy, DEFAULT_WEEK_HOURS_SPAN)\r\n\t\t\tend = dateUtils.addDays(start, 6)\r\n\t\t\tcallEnd = dateUtils.addHours(end, 6)\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\tstart = dateUtils.startOfDay(startCopy)\r\n\t\t\tend = dateUtils.addDays(dateUtils.addMonths(start, 1), -1)\r\n\t\t\tcallEnd = dateUtils.addDays(end, 1)\r\n\t\t\tbreak\r\n\t\tcase 'year':\r\n\t\t\tstart = dateUtils.date(startCopy).startOf('month')\r\n\t\t\tend = dateUtils.addMonths(start, 11)\r\n\t\t\tcallEnd = dateUtils.addMonths(end, 1)\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tbreak\r\n\t}\r\n\r\n\tstart = +start\r\n\tend = Math.min(+end, +dateUtils.date())\r\n\tcallEnd = +callEnd\r\n\r\n\treturn { start, end, callEnd }\r\n}\r\n\r\nexport const getBorderPeriodStart = ({\r\n\ttimeframe,\r\n\tstart,\r\n\tnext = false,\r\n\tstartIsLive = false,\r\n\tminDate,\r\n\tmaxDate,\r\n}) => {\r\n\tconst startCopy = dateUtils.date(start)\r\n\tconst direction = next ? 1 : -1\r\n\tlet borderStart\r\n\tlet limitedStart = startCopy\r\n\r\n\tif (\r\n\t\tnext &&\r\n\t\tmaxDate &&\r\n\t\tdateUtils.isAfter(startCopy, dateUtils.date(maxDate))\r\n\t) {\r\n\t\tlimitedStart = dateUtils.date(maxDate)\r\n\t}\r\n\r\n\tif (\r\n\t\t!next &&\r\n\t\tminDate &&\r\n\t\tdateUtils.isBefore(startCopy, dateUtils.date(minDate))\r\n\t) {\r\n\t\tlimitedStart = dateUtils.date(minDate)\r\n\t}\r\n\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\tborderStart =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfHour(limitedStart)\r\n\t\t\t\t\t: dateUtils.addHours(limitedStart, direction)\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\tconst day =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfDay(limitedStart)\r\n\t\t\t\t\t: dateUtils.addDays(limitedStart, direction)\r\n\t\t\tborderStart = dateUtils.startOfDay(day)\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\tconst week =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfWeek(startCopy)\r\n\t\t\t\t\t: dateUtils.addWeeks(startCopy, direction)\r\n\t\t\tborderStart = dateUtils.startOfDay(week)\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\tconst month =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfMonth(limitedStart)\r\n\t\t\t\t\t: dateUtils.addMonths(limitedStart, direction)\r\n\t\t\tborderStart = dateUtils.startOfMonth(month)\r\n\t\t\tbreak\r\n\t\tcase 'year':\r\n\t\t\tconst year =\r\n\t\t\t\tstartIsLive && !next\r\n\t\t\t\t\t? dateUtils.startOfYear(limitedStart)\r\n\t\t\t\t\t: dateUtils.addYears(limitedStart, direction)\r\n\t\t\tborderStart = dateUtils.startOfMonth(year)\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\r\n\t}\r\n\tif (dateUtils.isAfter(borderStart, dateUtils.date())) {\r\n\t\tborderStart = startCopy\r\n\t}\r\n\r\n\treturn +borderStart\r\n}\r\n\r\nexport const getMinStartDateTimeByTimeframe = ({ timeframe, time }) => {\r\n\tconst min = dateUtils.date(time)\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\treturn dateUtils.addMinutes(min, -59)\r\n\t\tcase 'day':\r\n\t\t\treturn dateUtils.addHours(min, -23)\r\n\t\tcase 'week':\r\n\t\t\treturn dateUtils.addDays(min, -6)\r\n\t\tcase 'month':\r\n\t\t\treturn dateUtils.addDays(dateUtils.addMonths(min, -1), 1)\r\n\t\tcase 'year':\r\n\t\t\treturn dateUtils.addMonths(min, -11)\r\n\t\tdefault:\r\n\t\t\treturn min\r\n\t}\r\n}\r\n\r\nconst TIME_INTERVALS = [\r\n\t{ label: 'YEAR', ms: YEAR },\r\n\t{ label: 'MONTH', ms: MONTH },\r\n\t{ label: 'WEEK', ms: WEEK },\r\n\t{ label: 'DAY', ms: DAY },\r\n\t{ label: 'HOUR', ms: HOUR },\r\n\t{ label: 'MINUTE', ms: MINUTE },\r\n\t{ label: 'SECOND', ms: SECOND },\r\n]\r\n\r\nexport const timeAgo = (time, since = Date.now()) => {\r\n\tconst ms = Math.floor(since - time)\r\n\tconst interval = TIME_INTERVALS.find(i => i.ms < ms)\r\n\tif (!interval) {\r\n\t\treturn t('JUST_NOW')\r\n\t}\r\n\r\n\tconst intervalTimes = Math.floor(ms / interval.ms)\r\n\treturn t('TIME_AGO', {\r\n\t\targs: [intervalTimes, interval.label + (intervalTimes > 1 ? 'S' : '')],\r\n\t})\r\n}\r\n\r\nexport const DATE_TIME_FORMATS_BY_TIMEFRAME = {\r\n\tyear: { long: 'YYYY-MM', short: 'YYYY-MM' },\r\n\tmonth: { long: 'YYYY-MM-DD', short: 'YYYY-MM-DD' },\r\n\tweek: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\r\n\tday: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\r\n\thour: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\r\n}\r\n\r\nexport const getPeriodLabel = ({ timeframe, start, end }) => {\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\tcase 'day':\r\n\t\tcase 'week':\r\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM/DD HH:mm')} - \r\n${dateUtils.format(end, 'YYYY/MM/DD HH:mm')}`\r\n\t\tcase 'month':\r\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM/DD')} - \r\n${dateUtils.format(end, 'YYYY/MM/DD')}`\r\n\t\tcase 'year':\r\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM')} - \r\n${dateUtils.format(end, 'YYYY/MM')}`\r\n\t\tdefault:\r\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\r\n\t}\r\n}\r\n\r\nexport const getPeriodDataPointLabel = ({ timeframe, time }) => {\r\n\tif (timeframe && time) {\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\tcase 'day':\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD HH:mm')}`\r\n\t\t\tcase 'week':\r\n\t\t\t\tconst periodEnd = +dateUtils.addMinutes(\r\n\t\t\t\t\tdateUtils.addHours(dateUtils.date(time), 3),\r\n\t\t\t\t\t-1\r\n\t\t\t\t)\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD HH:mm')} - \r\n${dateUtils.format(periodEnd, 'YYYY/MM/DD HH:mm')}`\r\n\t\t\tcase 'month':\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD')}`\r\n\t\t\tcase 'year':\r\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM')}`\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('INVALID_TIMEFRAME')\r\n\t\t}\r\n\t}\r\n\treturn ''\r\n}\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectAccountIdentityCreatedDate,\r\n\tselectNewItemByTypeAndId,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectCampaignInDetails,\r\n} from 'selectors'\r\nimport { selectAdUnits } from './itemsSelectors'\r\n\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tgetPeriodDataPointLabel,\r\n\tgetMinStartDateTimeByTimeframe,\r\n} from 'helpers/analyticsTimeHelpers'\r\n\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\r\nimport { t } from './translationsSelectors'\r\nimport { selectAdSlotsArray } from './itemsSelectors'\r\nimport { selectInitialDataLoadedByData } from './uiSelectors'\r\n\r\nexport const selectAnalytics = state => state.memory.analytics\r\nexport const selectTargeting = state => state.persist.targeting\r\n\r\nconst MIN_SLOTS_FOR_AD_TYPE = 2\r\n\r\nexport const selectAdvancedAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\tanalytics => analytics.advanced || {}\r\n)\r\n\r\nexport const selectAnalyticsLastChecked = createSelector(\r\n\tselectAnalytics,\r\n\t({ lastChecked }) => {\r\n\t\treturn lastChecked || new Date()\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsLiveTimestamp = createSelector(\r\n\t[\r\n\t\tselectIdentitySideAnalyticsTimeframe,\r\n\t\tselectAnalyticsLastChecked,\r\n\t\tselectCampaignInDetails,\r\n\t],\r\n\t(timeframe, lastChecked, campaign) => {\r\n\t\tconst currentDate = campaign\r\n\t\t\t? dateUtils.date(\r\n\t\t\t\t\tMath.min(campaign.withdrawPeriodStart, +dateUtils.date())\r\n\t\t\t  )\r\n\t\t\t: dateUtils.date(lastChecked)\r\n\t\tlet start = dateUtils.date(currentDate)\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\t\tconst hourStart = dateUtils.addMinutes(currentDate, -59)\r\n\t\t\t\tstart = dateUtils.startOfMinute(hourStart)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'day':\r\n\t\t\t\tconst dayStart = dateUtils.addHours(currentDate, -23)\r\n\t\t\t\tstart = dateUtils.startOfHour(dayStart)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'week':\r\n\t\t\t\tconst weekStart = dateUtils.addDays(currentDate, -6)\r\n\t\t\t\tstart = dateUtils.getHourSpanStart(weekStart, 3)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'month':\r\n\t\t\t\tconst monthStart = dateUtils.addDays(\r\n\t\t\t\t\tdateUtils.addMonths(currentDate, -1),\r\n\t\t\t\t\t1\r\n\t\t\t\t)\r\n\t\t\t\tstart = dateUtils.startOfDay(monthStart)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'year':\r\n\t\t\t\tconst yearStart = dateUtils.addMonths(currentDate, -11)\r\n\t\t\t\tstart = dateUtils.startOfMonth(yearStart)\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tstart = dateUtils.startOfHour(start)\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\treturn +start\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ campaigns }) => campaigns || {}\r\n)\r\n\r\nexport const selectDemandAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ demand }) => demand || {}\r\n)\r\n\r\nexport const selectDemandAnalyticsByType = createCachedSelector(\r\n\tselectDemandAnalytics,\r\n\t(_, type) => type,\r\n\t(demand, type) => demand[type] || {}\r\n)((_state, type = '-') => type)\r\n\r\nexport const selectTargetingAnalytics = createSelector(\r\n\t[selectTargeting],\r\n\t({ targetingData = [] }) => targetingData\r\n)\r\n\r\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\r\n\t[selectTargeting],\r\n\t({ minByCategory = {} }) => minByCategory\r\n)\r\n\r\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\r\n\t[selectTargeting],\r\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\r\n)\r\n\r\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargetingAnalytics => {\r\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\r\n\t\t\tx.types.forEach(t => {\r\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\r\n\t\t\t})\r\n\r\n\t\t\treturn byType\r\n\t\t}, {})\r\n\r\n\t\treturn targetingAnalytics\r\n\t\t\t.filter(\r\n\t\t\t\tx =>\r\n\t\t\t\t\t!!x.categories &&\r\n\t\t\t\t\tx.categories.length &&\r\n\t\t\t\t\tx.types &&\r\n\t\t\t\t\tx.types.length &&\r\n\t\t\t\t\t!!x.campaignsEarnedFrom\r\n\t\t\t)\r\n\t\t\t.map(t => ({\r\n\t\t\t\t...t,\r\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\r\n\t\t\t}))\r\n\t\t\t.filter(x => x.types.length)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\r\n\t[selectNewItemByTypeAndId],\r\n\titem => {\r\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsByType = createSelector(\r\n\t[\r\n\t\tselectVerifiedActiveTargetingAnalytics,\r\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\r\n\t],\r\n\t(targetingAnalytics, types) => {\r\n\t\tconst filterByType = types && types.length\r\n\r\n\t\treturn targetingAnalytics.filter(\r\n\t\t\tx =>\r\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategoriesByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\nexport const selectTargetingPublishersByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting => {\r\n\t\treturn Array.from(\r\n\t\t\ttargeting\r\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\r\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\r\n\t\t\t\t\treturn publishers\r\n\t\t\t\t}, new Map())\r\n\t\t\t\t.values()\r\n\t\t).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else {\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategories = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\n// It is used for exclusion so they are not filtered and are sorted from worst to best\r\nexport const selectAllTargetingPublishers = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting => {\r\n\t\treturn Array.from(\r\n\t\t\ttargeting\r\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\r\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\r\n\t\t\t\t\treturn publishers\r\n\t\t\t\t}, new Map())\r\n\t\t\t\t.values()\r\n\t\t).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else {\r\n\t\t\t\treturn -1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectAdvancedAnalyticsByType = createCachedSelector(\r\n\tselectAdvancedAnalytics,\r\n\t(_, type) => type,\r\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\r\n)((_state, type = '-') => type)\r\n\r\nconst mapTotalChanelToAdUnitData = (adUnits, advancedAnalytics) => {\r\n\tconst totalByAdUnit = Object.values(\r\n\t\tadvancedAnalytics.byChannelStats || {}\r\n\t).reduce((byUnit, curr) => {\r\n\t\tObject.entries(curr.reportChannelToAdUnit || {}).forEach(([key, value]) => {\r\n\t\t\tif (adUnits[key]) {\r\n\t\t\t\tbyUnit[key] = (byUnit[key] || 0) + value\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn byUnit\r\n\t}, {})\r\n\r\n\treturn totalByAdUnit\r\n}\r\n\r\nexport const selectAdUnitsTotalStats = createSelector(\r\n\t[selectAdUnits, selectAdvancedAnalytics],\r\n\t(adUnits, advancedAnalytics) => {\r\n\t\tconst stats = {\r\n\t\t\tIMPRESSION: mapTotalChanelToAdUnitData(\r\n\t\t\t\tadUnits,\r\n\t\t\t\tadvancedAnalytics.IMPRESSION || {}\r\n\t\t\t),\r\n\t\t\tCLICK: mapTotalChanelToAdUnitData(adUnits, advancedAnalytics.CLICK || {}),\r\n\t\t}\r\n\r\n\t\treturn stats\r\n\t}\r\n)\r\n\r\nexport const selectPublisherStatsByType = createCachedSelector(\r\n\tselectAdvancedAnalyticsByType,\r\n\t({ publisherStats }) => publisherStats || {}\r\n)((_state, type = '-') => type)\r\n\r\nexport const selectPublisherStatsByCountry = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToCountry || {}\r\n\r\nexport const selectPublisherPayStatsByCountry = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToCountryPay || {}\r\n\r\nexport const selectPublisherStatsAdUnit = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdUnit || {}\r\n\r\nexport const selectPublisherStatsAdUnitPay = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdUnitPay || {}\r\n\r\nexport const selectPublisherStatsAdSlot = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdSlot || {}\r\n\r\nexport const selectPublisherStatsAdSlotPay = (state, type) =>\r\n\tselectPublisherStatsByType(state, type).reportPublisherToAdSlotPay || {}\r\n\r\nexport const selectPublisherAggrStatsByCountry = createCachedSelector(\r\n\tselectPublisherStatsByCountry,\r\n\t(byCountry = {}) => ({\r\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\r\n\t\ttotal: Object.values(byCountry).reduce(\r\n\t\t\t(a, value) => a + (Number(value) || 0),\r\n\t\t\t0\r\n\t\t),\r\n\t})\r\n)((_state, type = '-') => type)\r\n\r\nexport const selectAllAdUnitsInChannels = createSelector(\r\n\t[selectChannelsWithUserBalancesAll],\r\n\twithBalanceAll =>\r\n\t\tObject.values(withBalanceAll).reduce((units, { adUnits = [] } = {}) => {\r\n\t\t\tadUnits.forEach(u => {\r\n\t\t\t\tconst id = u.id || u.ipfs\r\n\t\t\t\tif (id && !units[id]) {\r\n\t\t\t\t\tunits[id] = { ...u, id }\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn units\r\n\t\t}, {})\r\n)\r\n\r\nexport const selectPublisherAdvanceStatsToAdUnit = createSelector(\r\n\tstate => [\r\n\t\tselectAllAdUnitsInChannels(state),\r\n\t\tselectPublisherStatsAdUnit(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdUnit(state, 'CLICK'),\r\n\t\tselectPublisherStatsAdUnitPay(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdUnitPay(state, 'CLICK'),\r\n\t],\r\n\t([\r\n\t\tadUnits,\r\n\t\timpressionsByAdUnit,\r\n\t\tclicksByAdUnit,\r\n\t\timpressionsPayByAdUnit,\r\n\t\tclicksPayByAdUnit,\r\n\t]) =>\r\n\t\tObject.values(adUnits)\r\n\t\t\t.filter(i => impressionsByAdUnit[i.id] !== undefined)\r\n\t\t\t.map(item => ({\r\n\t\t\t\t...item,\r\n\t\t\t\timpressions: impressionsByAdUnit[item.id],\r\n\t\t\t\tclicks: clicksByAdUnit[item.id],\r\n\t\t\t\timpressionsPay: Number(impressionsPayByAdUnit[item.id] || 0),\r\n\t\t\t\tclicksPay: Number(clicksPayByAdUnit[item.id] || 0),\r\n\t\t\t}))\r\n)\r\n\r\nexport const selectPublisherAdvanceStatsToAdSlot = createSelector(\r\n\tstate => [\r\n\t\tselectPublisherStatsAdSlot(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdSlot(state, 'CLICK'),\r\n\t\tselectPublisherStatsAdSlotPay(state, 'IMPRESSION'),\r\n\t\tselectPublisherStatsAdSlotPay(state, 'CLICK'),\r\n\t],\r\n\t([\r\n\t\timpressionsByAdSlot,\r\n\t\tclicksByAdSlot,\r\n\t\timpressionsPayByAdSlot,\r\n\t\tclicksPayByAdSlot,\r\n\t]) => ({\r\n\t\timpressionsByAdSlot,\r\n\t\tclicksByAdSlot,\r\n\t\timpressionsPayByAdSlot,\r\n\t\tclicksPayByAdSlot,\r\n\t})\r\n)\r\n\r\nexport const selectPublisherTotalImpressions = createCachedSelector(\r\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\r\n\t({ reportPublisherToAdUnit }) => {\r\n\t\tconst totalImpressions = reportPublisherToAdUnit\r\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\r\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: 0\r\n\r\n\t\treturn totalImpressions\r\n\t}\r\n)(_state => 'IMPRESSION')\r\n\r\nexport const selectCampaignAnalyticsByChannelStats = (\r\n\tstate,\r\n\ttype,\r\n\tcampaignId\r\n) => {\r\n\tconst { byChannelStats = {} } = selectAdvancedAnalyticsByType(state, type)\r\n\r\n\treturn byChannelStats[campaignId] || {}\r\n}\r\n\r\nexport const selectCampaignAnalyticsByChannelToCountry = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\t({ reportChannelToCountry }) => reportChannelToCountry || {}\r\n)((_state, type, campaignId) => `${type}:${campaignId}`)\r\n\r\nexport const selectCampaignAnalyticsByChannelToCountryPay = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\t({ reportChannelToCountryPay }) => reportChannelToCountryPay || {}\r\n)((_state, type = '-', campaignId = '-') => `${type}:${campaignId}`)\r\n\r\nexport const selectCampaignAggrStatsByCountry = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelToCountry,\r\n\t(byCountry = {}) => ({\r\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\r\n\t\ttotal: Object.values(byCountry).reduce(\r\n\t\t\t(a, value) => a + (Number(value) || 0),\r\n\t\t\t0\r\n\t\t),\r\n\t})\r\n)((_state, type = '-', campaignId = '-') => `${type}:${campaignId}`)\r\n\r\nexport const selectCampaignAnalyticsByChannelToAdUnit = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\r\n\t({ reportChannelToAdUnit }) => reportChannelToAdUnit || {}\r\n)((_state, type, campaignId) => `${type}:${campaignId}`)\r\n\r\nexport const selectMaxAdUnitStatByChannel = createCachedSelector(\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\t({ reportChannelToAdUnit }) =>\r\n\t\treportChannelToAdUnit\r\n\t\t\t? Math.max.apply(null, [0, ...Object.values(reportChannelToAdUnit)])\r\n\t\t\t: 0\r\n)((_state, type = '-', campaignId = '-') => `${type}:${campaignId}`)\r\n\r\nexport const selectAnalyticsDataAggr = createCachedSelector(\r\n\tselectAnalytics,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectAnalyticsLiveTimestamp,\r\n\t(_, opts = {}) => opts,\r\n\t(\r\n\t\tanalytics = {},\r\n\t\t{ start },\r\n\t\tliveTimestamp,\r\n\t\t{ side, eventType, metric, timeframe }\r\n\t) => {\r\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\r\n\t\t// NOTE: It was working fine with default initial state but\r\n\t\t// when eventType CLICK was added if you were logged and had\r\n\t\t// old analytics the initialState is not applied === boom.\r\n\r\n\t\tconst {\r\n\t\t\t[side]: {\r\n\t\t\t\t[eventType]: {\r\n\t\t\t\t\t[metric]: {\r\n\t\t\t\t\t\t[timeframe]: {\r\n\t\t\t\t\t\t\t[liveTimestamp === start ? 'live' : start]: { aggr } = {},\r\n\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t} = {},\r\n\t\t\t\t} = {},\r\n\t\t\t} = {},\r\n\t\t} = analytics\r\n\r\n\t\treturn aggr\r\n\t}\r\n)(\r\n\t(_state, { side = '-', eventType = '-', metric = '-', timeframe = '-' }) =>\r\n\t\t`${side}:${eventType}:${metric}:${timeframe}`\r\n)\r\n\r\nexport function selectCampaignEventsCount(type, campaignId) {\r\n\treturn Object.values(\r\n\t\t// TODO: fix this selector w/o using getState\r\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), type, campaignId)\r\n\t).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nconst mapEventCounts = (data = {}) => {\r\n\treturn Object.values(data).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nconst getChannelToAdUnitData = (advancedAnalytics, campaignId, eventType) => {\r\n\tconst { byChannelStats = {} } = advancedAnalytics[eventType] || {}\r\n\tconst { reportChannelToAdUnit = {} } = byChannelStats[campaignId] || {}\r\n\treturn reportChannelToAdUnit\r\n}\r\n\r\nexport const selectCampaignsEventCountsStats = createSelector(\r\n\tselectAdvancedAnalytics,\r\n\tadvancedAnalytics => {\r\n\t\tconst { byChannelStats = {} } = advancedAnalytics.IMPRESSION || {}\r\n\t\treturn Object.keys(byChannelStats).reduce((stats, key) => {\r\n\t\t\tstats[key] = {\r\n\t\t\t\timpressions: mapEventCounts(\r\n\t\t\t\t\tgetChannelToAdUnitData(advancedAnalytics, key, 'IMPRESSION')\r\n\t\t\t\t),\r\n\t\t\t\tclicks: mapEventCounts(\r\n\t\t\t\t\tgetChannelToAdUnitData(advancedAnalytics, key, 'CLICK')\r\n\t\t\t\t),\r\n\t\t\t}\r\n\r\n\t\t\treturn stats\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsEventCountsStatsById = createCachedSelector(\r\n\tselectCampaignsEventCountsStats,\r\n\t(_state, id) => id,\r\n\t(eventCounts, id) => eventCounts[id] || { impressions: 0, clicks: 0 }\r\n)((_state, id) => id)\r\n\r\nexport const selectTotalImpressions = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectTotalClicks = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectTotalMoney = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\teventPayouts =>\r\n\t\teventPayouts\r\n\t\t\t? eventPayouts.reduce(\r\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectTotalImpressionsWithPayouts = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\t(eventCounts, eventPayouts) =>\r\n\t\teventCounts && eventPayouts\r\n\t\t\t? eventCounts\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\r\n\t\t\t\t\t\t\t\t.value !== null\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectAverageCPM = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectTotalMoney(state, { side, timeframe }),\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\r\n\t(totalMoney, totalImpressions) =>\r\n\t\ttotalMoney !== null && totalImpressions !== null\r\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\r\n\t\t\t: null\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nconst parseValueByMetric = ({ value, metric }) => {\r\n\tswitch (metric) {\r\n\t\tcase 'eventPayouts':\r\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\r\n\t\tcase 'eventCounts':\r\n\t\t\treturn parseInt(value, 10)\r\n\t\tdefault:\r\n\t\t\treturn value\r\n\t}\r\n}\r\n\r\nexport const selectStatsChartData = createCachedSelector(\r\n\t(state, { noLastOne, ...rest } = {}) => selectAnalyticsDataAggr(state, rest),\r\n\t(_state, { noLastOne, metric, timeframe } = {}) => ({\r\n\t\tnoLastOne,\r\n\t\tmetric,\r\n\t\ttimeframe,\r\n\t}),\r\n\t(data = [], { noLastOne, metric, timeframe }) => {\r\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\r\n\t\treturn aggr.reduce(\r\n\t\t\t(memo, item) => {\r\n\t\t\t\tconst { time, value } = item\r\n\t\t\t\tlet label = getPeriodDataPointLabel({ timeframe, time })\r\n\r\n\t\t\t\tmemo.labels.push(label)\r\n\t\t\t\tmemo.datasets.push(\r\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\r\n\t\t\t\t)\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [],\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n)(\r\n\t(_state, { noLastOne = '-', metric = '-', timeframe = '-' }) =>\r\n\t\t`${metric}:${timeframe}:${noLastOne}`\r\n)\r\n\r\nexport const selectChartDatapointsImpressions = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\r\n\timpressions => impressions\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectChartDatapointsClicks = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\r\n\tclicks => clicks\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectChartDatapointsPayouts = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t\tnoLastOne: false,\r\n\t\t}),\r\n\tpayouts => payouts\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectInitialDataLoaded = createSelector(\r\n\tstate => [\r\n\t\tselectInitialDataLoadedByData(state, 'allChannels'),\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics'),\r\n\t\tselectInitialDataLoadedByData(state, 'allItems'),\r\n\t],\r\n\t([allChannelsLoaded, advAnalyticsLoaded, itemsLoaded]) =>\r\n\t\tallChannelsLoaded && advAnalyticsLoaded && itemsLoaded\r\n)\r\n\r\nexport const selectPublisherHasAdSlotsButNoImpressionsLastHour = createSelector(\r\n\t(state, { timeframe } = {}) => [\r\n\t\tselectChartDatapointsImpressions(state, {\r\n\t\t\tside: 'for-publisher',\r\n\t\t\ttimeframe,\r\n\t\t}),\r\n\t\tselectAdSlotsArray(state),\r\n\t],\r\n\t([data, adSlotsArray]) => {\r\n\t\tconst { datasets } = data\r\n\t\tconst hasAdSlots = adSlotsArray.length > 0\r\n\t\tconst noImpressions =\r\n\t\t\tdatasets.length > 0 ? Math.max(...datasets) === 0 : false\r\n\t\treturn hasAdSlots && noImpressions\r\n\t}\r\n)\r\n\r\nexport const selectChartDatapointsCPM = createCachedSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\r\n\r\n\t(payouts, impressions) => {\r\n\t\tconst result = {\r\n\t\t\tlabels: [],\r\n\t\t\tdatasets: [],\r\n\t\t}\r\n\t\tresult.labels = payouts.labels\r\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\r\n\t\t\treturn impressions.datasets[i] !== 0\r\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\r\n\t\t\t\t: n\r\n\t\t})\r\n\t\treturn result\r\n\t}\r\n)((_state, { side = '-', timeframe = '-' }) => `${side}:${timeframe}`)\r\n\r\nexport const selectPublisherReceipts = createSelector(\r\n\t[selectAnalytics],\r\n\t({ receipts }) => receipts || {}\r\n)\r\n\r\nexport const selectPublisherReceiptsPresentMonths = createSelector(\r\n\t[selectPublisherReceipts],\r\n\treceipts => Object.keys(receipts).map(r => +r)\r\n)\r\n\r\nexport const selectAnalyticsNowLabel = createSelector(\r\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\r\n\t(timeframe, lastChecked) => {\r\n\t\tswitch (timeframe) {\r\n\t\t\tcase 'hour':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.date(lastChecked),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tcase 'day':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(lastChecked), 0),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tcase 'week':\r\n\t\t\t\treturn dateUtils.format(\r\n\t\t\t\t\tdateUtils.getHourSpanStart(lastChecked, 3),\r\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\r\n\t\t\t\t)\r\n\t\t\tdefault:\r\n\t\t\t\treturn dateUtils.format(dateUtils.date(), DEFAULT_DATETIME_FORMAT)\r\n\t\t}\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsMinAndMaxDates = createSelector(\r\n\t[\r\n\t\tselectCampaignInDetails,\r\n\t\tselectAccountIdentityCreatedDate,\r\n\t\tselectIdentitySideAnalyticsTimeframe,\r\n\t],\r\n\t(campaign = {}, dateCreated, timeframe) => {\r\n\t\tconst { activeFrom, withdrawPeriodStart, status = {} } = campaign\r\n\r\n\t\tconst minDate = getMinStartDateTimeByTimeframe({\r\n\t\t\ttimeframe,\r\n\t\t\ttime: dateUtils.date(activeFrom || dateCreated),\r\n\t\t})\r\n\t\tconst maxDate = getMinStartDateTimeByTimeframe({\r\n\t\t\ttimeframe,\r\n\t\t\ttime: status.closedDate || withdrawPeriodStart || dateUtils.date(),\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tminDate: +minDate,\r\n\t\t\tmaxDate: +maxDate,\r\n\t\t}\r\n\t}\r\n)\r\n","import { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectValidations = state => state.memory.validations\r\n\r\nexport const selectValidationsById = createCachedSelector(\r\n\tselectValidations,\r\n\t(_, id) => id,\r\n\t(validations, id) => validations[id]\r\n)((_state, id = '-') => id)\r\n\r\nexport const selectMultipleValidationsByIds = createCachedSelector(\r\n\tselectValidations,\r\n\t(_, ids) => ids,\r\n\t(validations, ids) => ids.map(id => validations[id])\r\n)((_state, id = '-') => id)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Link } from '@material-ui/core'\r\nimport { OpenInNew } from '@material-ui/icons'\r\nimport clsx from 'clsx'\r\n\r\nexport const styles = theme => ({\r\n\texternalIcon: {\r\n\t\tmarginLeft: theme.spacing(0.5),\r\n\t\tfontSize: 'small',\r\n\t},\r\n\tlink: {\r\n\t\tdisplay: 'inline-flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tfullWidth: {\r\n\t\twidth: '100%',\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({\r\n\thref,\r\n\ttarget,\r\n\tchildren,\r\n\tlabel,\r\n\tunderline,\r\n\texternalIcon,\r\n\tcolor,\r\n\tcomponent,\r\n\tclassName,\r\n\tfullWidth,\r\n\t...rest\r\n}) => {\r\n\tconst classes = useStyles()\r\n\r\n\tconst isExternal = target && target === '_blank'\r\n\tconst url = isExternal ? getUrl(href) : href\r\n\r\n\tconst linkProps = {\r\n\t\tunderline: underline || 'none',\r\n\t\tcolor: color || 'inherit',\r\n\t\tdraggable: 'false',\r\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\r\n\t\ttarget,\r\n\t\thref: url,\r\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\r\n\t\t...(component ? { component } : {}),\r\n\t\t...rest,\r\n\t}\r\n\treturn (\r\n\t\t<Link\r\n\t\t\t{...linkProps}\r\n\t\t\tclassName={clsx(className, classes.link, {\r\n\t\t\t\t[classes.fullWidth]: !!fullWidth,\r\n\t\t\t})}\r\n\t\t>\r\n\t\t\t{!component && (children || label)}\r\n\t\t\t{!component && externalIcon && (\r\n\t\t\t\t<OpenInNew className={classes.externalIcon} />\r\n\t\t\t)}\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport const ExternalAnchor = ({ href, children, style, ...rest }) => (\r\n\t<Anchor\r\n\t\tstyle={{ fontWeight: 'bold' }}\r\n\t\tunderline='always'\r\n\t\ttarget='_blank'\r\n\t\tcolor='primary'\r\n\t\texternalIcon\r\n\t\thref={href}\r\n\t\t{...rest}\r\n\t>\r\n\t\t{children}\r\n\t</Anchor>\r\n)\r\n\r\nexport default Anchor\r\n","import React from 'react'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport { createSelector } from 'reselect'\r\nimport { selectNewItemByTypeAndId, selectValidations } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { constants, IabCategories } from 'adex-models'\r\nimport { t } from './translationsSelectors'\r\n\r\nconst { CountryTiers, AllCountries, OsGroups } = constants\r\n\r\nexport const selectTargeting = state => state.persist.targeting\r\n\r\nconst MIN_SLOTS_FOR_AD_TYPE = 2\r\nconst GLOBAL_MIN_CPM_MULTIPLIER = 0.7\r\n\r\nexport const selectTargetingAnalytics = createSelector(\r\n\t[selectTargeting],\r\n\t({ targetingData = [] }) => targetingData\r\n)\r\n\r\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\r\n\t[selectTargeting],\r\n\t({ minByCategory = {} }) => minByCategory\r\n)\r\n\r\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\r\n\t[selectTargeting],\r\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\r\n)\r\n\r\nexport const selectMinTargetingCpm = createSelector(\r\n\t[\r\n\t\tselectTargetingAnalyticsMinByCategories,\r\n\t\tselectTargetingAnalyticsCountryTiersCoefficients,\r\n\t],\r\n\t(minByCategory, coefficients) => {\r\n\t\tconst minCat = Object.values(minByCategory).sort((a, b) => a - b)[0] || 0\r\n\t\tconst minCof = Object.values(coefficients).sort((a, b) => a - b)[0] || 0\r\n\t\tconst minCPM = minCat * minCof * GLOBAL_MIN_CPM_MULTIPLIER\r\n\r\n\t\treturn minCPM\r\n\t}\r\n)\r\n\r\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargetingAnalytics => {\r\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\r\n\t\t\tx.types.forEach(t => {\r\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\r\n\t\t\t})\r\n\r\n\t\t\treturn byType\r\n\t\t}, {})\r\n\r\n\t\treturn targetingAnalytics\r\n\t\t\t.filter(\r\n\t\t\t\tx =>\r\n\t\t\t\t\t!!x.categories &&\r\n\t\t\t\t\tx.categories.length &&\r\n\t\t\t\t\tx.types &&\r\n\t\t\t\t\tx.types.length &&\r\n\t\t\t\t\t!!x.campaignsEarnedFrom\r\n\t\t\t)\r\n\t\t\t.map(t => ({\r\n\t\t\t\t...t,\r\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\r\n\t\t\t}))\r\n\t\t\t.filter(x => x.types.length)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\r\n\t[selectNewItemByTypeAndId],\r\n\titem => {\r\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\r\n\t}\r\n)\r\n\r\nexport const selectTargetingAnalyticsByType = createSelector(\r\n\t[\r\n\t\tselectVerifiedActiveTargetingAnalytics,\r\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\r\n\t],\r\n\t(targetingAnalytics, types) => {\r\n\t\tconst filterByType = types && types.length\r\n\r\n\t\treturn targetingAnalytics.filter(\r\n\t\t\tx =>\r\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategoriesByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\nconst mapTargetingDataToPublishers = targetingData =>\r\n\tArray.from(\r\n\t\ttargetingData\r\n\t\t\t.reduce(\r\n\t\t\t\t(\r\n\t\t\t\t\tpublishers,\r\n\t\t\t\t\t{ owner, hostname, alexaRank, categories, reachPerMillion }\r\n\t\t\t\t) => {\r\n\t\t\t\t\tpublishers.set(hostname, {\r\n\t\t\t\t\t\towner,\r\n\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\talexaRank,\r\n\t\t\t\t\t\tcategories,\r\n\t\t\t\t\t\treachPerMillion,\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn publishers\r\n\t\t\t\t},\r\n\t\t\t\tnew Map()\r\n\t\t\t)\r\n\t\t\t.values()\r\n\t)\r\n\r\nexport const selectTargetingPublishersByType = createSelector(\r\n\t[selectTargetingAnalyticsByType],\r\n\ttargeting => {\r\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else {\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectTargetingCategories = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting =>\r\n\t\tArray.from(\r\n\t\t\ttargeting.reduce((categories, x) => {\r\n\t\t\t\tx.categories.forEach(c => categories.add(c))\r\n\t\t\t\treturn categories\r\n\t\t\t}, new Set())\r\n\t\t)\r\n)\r\n\r\n// It is used for exclusion so they are not filtered and are sorted from worst to best\r\nexport const selectAllTargetingPublishers = createSelector(\r\n\t[selectTargetingAnalytics],\r\n\ttargeting => {\r\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\r\n\t\t\tif (a.alexaRank && !b.alexaRank) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn a.alexaRank - b.alexaRank\r\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\r\n\t\t\t\treturn -1\r\n\t\t\t} else {\r\n\t\t\t\treturn -1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n)\r\n\r\n// NOTE: it can be constant but we may need some dynamic data\r\nconst autocompleteLocationsSingleSelect = createSelector([], () => {\r\n\tconst tiers = Object.values(CountryTiers).map(\r\n\t\t({ name, ruleValue, countries } = {}) => ({\r\n\t\t\tlabel: t(name),\r\n\t\t\textraLabel: countries.join(', '),\r\n\t\t\tvalue: ruleValue,\r\n\t\t\tgroup: t('BY_TIER'),\r\n\t\t})\r\n\t)\r\n\tconst all = AllCountries.map(({ name, ruleValue } = {}) => ({\r\n\t\tlabel: t(name),\r\n\t\tvalue: ruleValue,\r\n\t\tgroup: name[0].toUpperCase(),\r\n\t}))\r\n\r\n\treturn [...tiers, ...all]\r\n})\r\n\r\nconst autocompleteCategoriesMultiSelectIn = createSelector(\r\n\t[selectTargetingCategoriesByType],\r\n\tcategories =>\r\n\t\t[{ label: t('ALL_CATEGORIES'), value: 'ALL' }].concat(\r\n\t\t\tcategories.map(cat => ({\r\n\t\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\r\n\t\t\t\tvalue: cat,\r\n\t\t\t}))\r\n\t\t)\r\n)\r\n\r\nconst autocompleteCategoriesMultiSelectNin = createSelector(\r\n\t[selectTargetingCategories],\r\n\tcategories =>\r\n\t\tcategories.map(cat => ({\r\n\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\r\n\t\t\tvalue: cat,\r\n\t\t}))\r\n)\r\n\r\nconst getPublisherExtraDataLabel = publisher => [\r\n\t`${t('HOSTNAME')}: ${publisher.hostname}`,\r\n\t`${t('ALEXA_RANK')}: ${publisher.alexaRank || '-'}`,\r\n\t`${t('REACH_PER_MILLION')}: ${publisher.reachPerMillion || '-'}`,\r\n\t`${t('CATEGORIES')}: ${(publisher.categories || [])\r\n\t\t.map(\r\n\t\t\tcat => `\"${IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat}\"`\r\n\t\t)\r\n\t\t.join(', ')}`,\r\n]\r\n\r\nconst autocompletePublishersMultiSelectIn = createSelector(\r\n\t[selectTargetingPublishersByType],\r\n\tpublishers =>\r\n\t\tpublishers.map(pub => ({\r\n\t\t\tlabel: pub.hostname,\r\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\r\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\r\n\t\t\textraData: pub,\r\n\t\t}))\r\n)\r\n\r\nconst autocompletePublishersMultiSelectNin = createSelector(\r\n\t[selectAllTargetingPublishers],\r\n\tpublishers =>\r\n\t\tpublishers.map(pub => ({\r\n\t\t\tlabel: pub.hostname,\r\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\r\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\r\n\t\t\textraData: pub,\r\n\t\t}))\r\n)\r\n\r\nexport const audienceSources = [\r\n\t{\r\n\t\tparameter: 'location',\r\n\t\tapplyType: 'single',\r\n\t\tactions: [\r\n\t\t\t{ type: 'in', label: t('TARGET_COUNTRIES'), minSelected: 1 },\r\n\t\t\t{ type: 'nin', label: t('EXCLUDED_COUNTRIES'), minSelected: 1 },\r\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\r\n\t\t],\r\n\t\textraInfo: t('LOCATION_TIERS_INFO', {\r\n\t\t\targs: [\r\n\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\thref={'https://help.adex.network/hc/en-us/articles/360014629020'}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t</ExternalAnchor>,\r\n\t\t\t],\r\n\t\t}),\r\n\t},\r\n\t{\r\n\t\tparameter: 'categories',\r\n\t\tapplyType: 'multiple',\r\n\t\tmessage: t('CATEGORIES_RECOMMENDATION_MESSAGE'),\r\n\t\tactions: [\r\n\t\t\t{ type: 'in', label: t('SHOW_SELECTED'), minSelected: 1 },\r\n\t\t\t{\r\n\t\t\t\ttype: 'nin',\r\n\t\t\t\tlabel: t('DONT_SHOW_SELECTED'),\r\n\t\t\t\tminSelected: 1,\r\n\t\t\t\tdisabledValues: ['ALL'],\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tparameter: 'publishers',\r\n\t\tapplyType: 'single',\r\n\t\tmessage: t('PUBLISHERS_RECOMMENDATION_MESSAGE'),\r\n\t\tactions: [\r\n\t\t\t{ type: 'in', label: t('SHOW_ONLY_IN_SELECTED'), minSelected: 1 },\r\n\t\t\t{ type: 'nin', label: t('DONT_SHOW_IN_SELECTED'), minSelected: 1 },\r\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tparameter: 'devices',\r\n\t\tapplyType: 'single',\r\n\t\tactions: [\r\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\r\n\t\t\t{ type: 'in', label: t('SHOW_ONLY_IN_SELECTED'), minSelected: 1 },\r\n\t\t\t{ type: 'nin', label: t('DONT_SHOW_IN_SELECTED'), minSelected: 1 },\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tparameter: 'advanced',\r\n\t\tapplyType: 'multiple-checkbox',\r\n\t\tactions: [\r\n\t\t\t{\r\n\t\t\t\tvalue: 'includeIncentivized',\r\n\t\t\t\tlabel: t('INCLUDE_INCENTIVIZED_TRAFFIC'),\r\n\t\t\t\thelper: (\r\n\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014543380-What-is-incentivized-traffic-'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LEARN_MORE')}\r\n\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalue: 'disableFrequencyCapping',\r\n\t\t\t\tlabel: t('DISABLE_FREQUENCY_CAPPING'),\r\n\t\t\t\thelper: (\r\n\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597299-What-is-frequency-capping-'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LEARN_MORE')}\r\n\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tvalue: 'limitDailyAverageSpending',\r\n\t\t\t\tlabel: t('LIMIT_AVERAGE_DAILY_SPENDING'),\r\n\t\t\t\thelper: (\r\n\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597319-How-to-limit-your-average-daily-spend'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LEARN_MORE')}\r\n\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n]\r\n\r\nconst devices = Object.values(OsGroups).map(\r\n\t({ name, ruleValue, oss } = {}) => ({\r\n\t\tlabel: t(name),\r\n\t\textraLabel: oss.join(', '),\r\n\t\tvalue: ruleValue,\r\n\t\tgroup: t('POPULAR'),\r\n\t})\r\n)\r\n\r\nconst selectAutocompleteAudienceSources = createSelector(\r\n\t[\r\n\t\tautocompleteLocationsSingleSelect,\r\n\t\tautocompleteCategoriesMultiSelectIn,\r\n\t\tautocompleteCategoriesMultiSelectNin,\r\n\t\tautocompletePublishersMultiSelectIn,\r\n\t\tautocompletePublishersMultiSelectNin,\r\n\t],\r\n\t(locations, catIn, catNin, pubIn, pubNin) => ({\r\n\t\tlocation: {\r\n\t\t\tsingleValuesSrc: locations,\r\n\t\t},\r\n\t\tcategories: {\r\n\t\t\tmultipleValuesSrc: {\r\n\t\t\t\tin: catIn,\r\n\t\t\t\tnin: catNin,\r\n\t\t\t},\r\n\t\t},\r\n\t\tpublishers: {\r\n\t\t\tmultipleValuesSrc: {\r\n\t\t\t\tin: pubIn,\r\n\t\t\t\tnin: pubNin,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdevices: {\r\n\t\t\tsingleValuesSrc: devices,\r\n\t\t},\r\n\t})\r\n)\r\n\r\nexport const selectAudienceInputItemOptions = createSelector(\r\n\t[selectNewItemByTypeAndId],\r\n\titem => {\r\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\r\n\t}\r\n)\r\n\r\nconst getDisabledValues = (data, source, inputs, allSrcs) => {\r\n\tconst disabled = []\r\n\r\n\tif (\r\n\t\tdata.parameter === 'publishers' &&\r\n\t\tinputs.categories &&\r\n\t\tinputs.categories.apply &&\r\n\t\tinputs.categories.apply.includes('in') &&\r\n\t\tinputs.categories.in &&\r\n\t\tinputs.categories.in.length\r\n\t) {\r\n\t\tdisabled.in = inputs.categories.in.includes('ALL')\r\n\t\t\t? []\r\n\t\t\t: source\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tx =>\r\n\t\t\t\t\t\t\t!x.extraData.categories.some(c =>\r\n\t\t\t\t\t\t\t\tinputs.categories.in.includes(c)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => c.value)\r\n\t} else if (\r\n\t\tdata.parameter === 'categories' &&\r\n\t\tinputs.publishers &&\r\n\t\tinputs.publishers.apply &&\r\n\t\tinputs.publishers.apply === 'in' &&\r\n\t\tinputs.publishers.in &&\r\n\t\tinputs.publishers.in.length\r\n\t) {\r\n\t\tconst selectedPublishersCategories = new Set()\r\n\t\tallSrcs\r\n\t\t\t.find(s => s.parameter === 'publishers')\r\n\t\t\t.source.in.forEach(p => {\r\n\t\t\t\tif (inputs.publishers.in.includes(p.value)) {\r\n\t\t\t\t\tp.extraData.categories.forEach(c =>\r\n\t\t\t\t\t\tselectedPublishersCategories.add(c)\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tdisabled.in = source\r\n\t\t\t.filter(\r\n\t\t\t\tc => c.value !== 'ALL' && !selectedPublishersCategories.has(c.value)\r\n\t\t\t)\r\n\t\t\t.map(c => c.value)\r\n\t}\r\n\r\n\treturn disabled\r\n}\r\n\r\nexport const selectAudienceSourcesWithOptions = createSelector(\r\n\t[selectAutocompleteAudienceSources],\r\n\tsourcesData =>\r\n\t\taudienceSources.map(s => {\r\n\t\t\tconst source = (sourcesData[s.parameter] || {}).multipleValuesSrc\r\n\t\t\t\t? sourcesData[s.parameter].multipleValuesSrc\r\n\t\t\t\t: {}\r\n\r\n\t\t\tif ((sourcesData[s.parameter] || {}).singleValuesSrc) {\r\n\t\t\t\ts.actions.forEach(a => {\r\n\t\t\t\t\tsource[a.type] = a.value || sourcesData[s.parameter].singleValuesSrc\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...s,\r\n\t\t\t\tsource,\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectAudienceValidations = createCachedSelector(\r\n\tselectValidations,\r\n\t(_, __, ___, validateId) => validateId,\r\n\t(validations, id) => validations[id]\r\n)((_, __, ___, validateId = '-') => validateId)\r\n\r\nexport const selectAudienceInputsDataByItem = createCachedSelector(\r\n\tselectAudienceSourcesWithOptions,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAudienceValidations,\r\n\t(_, __, ___, ____, advancedOnly) => advancedOnly,\r\n\r\n\t(allSrcsWithOptions, selectedItem, validations = {}, advancedOnly) => {\r\n\t\tconst isCampaignAudienceItem = selectedItem && !!selectedItem.audienceInput\r\n\r\n\t\tconst errors =\r\n\t\t\tvalidations[isCampaignAudienceItem ? 'audienceInput' : 'inputs'] || {}\r\n\r\n\t\tconst errorParameters = errors.dirty ? errors.errFields || {} : {}\r\n\r\n\t\tconst inputs =\r\n\t\t\t(isCampaignAudienceItem\r\n\t\t\t\t? selectedItem.audienceInput.inputs\r\n\t\t\t\t: selectedItem.inputs) || {}\r\n\r\n\t\tconst SOURCES = allSrcsWithOptions\r\n\t\t\t.filter(s =>\r\n\t\t\t\t!!advancedOnly ? s.parameter === 'advanced' : s.parameter !== 'advanced'\r\n\t\t\t)\r\n\t\t\t.map(s => {\r\n\t\t\t\tconst disabledValues = getDisabledValues(\r\n\t\t\t\t\ts,\r\n\t\t\t\t\t//TODO: temp only used for in, so there is no point making it to work with other action types\r\n\t\t\t\t\ts.source.in,\r\n\t\t\t\t\tinputs,\r\n\t\t\t\t\tallSrcsWithOptions\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst source = { ...s.source }\r\n\t\t\t\tif (\r\n\t\t\t\t\t!!source.in &&\r\n\t\t\t\t\tsource.in.length &&\r\n\t\t\t\t\t!!disabledValues.in &&\r\n\t\t\t\t\tdisabledValues.in.length\r\n\t\t\t\t) {\r\n\t\t\t\t\tsource.in = [...source.in].sort((a, b) => {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tdisabledValues.in.includes(a.value) &&\r\n\t\t\t\t\t\t\t!disabledValues.in.includes(b.value)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t!disabledValues.in.includes(a.value) &&\r\n\t\t\t\t\t\t\tdisabledValues.in.includes(b.value)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn -1\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn 0\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...s,\r\n\t\t\t\t\tsource,\r\n\t\t\t\t\tdisabledValues,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tconst audienceInputData = { SOURCES, inputs, errorParameters }\r\n\r\n\t\treturn audienceInputData\r\n\t}\r\n)((_, __, ___, ____, advancedOnly = '-') => (!!advancedOnly).toString())\r\n","import { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectNewTransactions = state => state.memory.newTransactions\r\n\r\nexport const selectNewTransactionById = createCachedSelector(\r\n\tselectNewTransactions,\r\n\t(_, id) => id,\r\n\t(txns, id) => txns[id] || {}\r\n)((_state, id = '-') => id)\r\n","import {\r\n\tcreateMuiTheme,\r\n\tresponsiveFontSizes,\r\n\tfade,\r\n} from '@material-ui/core/styles'\r\nimport { lime, grey } from '@material-ui/core/colors'\r\n\r\nconst WHITE = '#fafafa'\r\nconst BLACK = '#0f0f0f'\r\n\r\nexport const ERROR_COLOR = '#FF4269'\r\nexport const ERROR_LIGHT = '#ff7a97'\r\nexport const ERROR_DARK = '#c6003f'\r\n\r\nexport const WARNING = '#FEB006'\r\nexport const SUCCESS = '#14dc9c'\r\nexport const INFO = '#1b75bc'\r\nexport const ERROR = '#ff6969'\r\n\r\n// Light theme\r\nexport const PRIMARY = '#1B75BC'\r\nexport const PRIMARY_LIGHT = '#5fa3ef'\r\nexport const PRIMARY_LIGHTEST = '#96d4ff'\r\nexport const PRIMARY_DARK = '#004a8b'\r\nexport const PRIMARY_DARKEST = '#00235d'\r\n\r\nexport const SECONDARY = '#1BC69F'\r\nexport const SECONDARY_LIGHT = '#65fad0'\r\nexport const SECONDARY_DARK = '#009471'\r\n\r\nexport const ALEX_GREY = '#3C3C3C'\r\nexport const ALEX_GREY_LIGHT = '#666'\r\nexport const ALEX_GREY_DARK = '#161616'\r\nexport const ALEX_GREY_LIGHTEST = '#ebebeb'\r\n\r\nexport const GANDALF_GREY = '#C4C4C4'\r\n\r\nexport const ACCENT_ONE = '#FF6942'\r\nexport const ACCENT_ONE_LIGHT = '#FF9B6F'\r\nexport const ACCENT_ONE_DARK = '#c53616'\r\n\r\nexport const ACCENT_TWO = '#FFAC00'\r\nexport const ACCENT_TWO_LIGHT = '#ffde4b'\r\nexport const ACCENT_TWO_DARK = '#c67d00'\r\n\r\nexport const PAPER = WHITE\r\nexport const BG_DEFAULT = '#efefef'\r\n\r\nconst primary = {\r\n\tmain: PRIMARY,\r\n\tdark: PRIMARY_DARK,\r\n\tlight: PRIMARY_LIGHT,\r\n\tlightest: PRIMARY_LIGHTEST,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\nconst secondary = {\r\n\tmain: SECONDARY,\r\n\tdark: SECONDARY_DARK,\r\n\tlight: SECONDARY_LIGHT,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\n// Dark theme\r\nexport const DARK_PRIMARY = '#0ca597'\r\nexport const DARK_PRIMARY_LIGHT = '#59d7c8'\r\nexport const DARK_PRIMARY_LIGHTEST = '#90fffb'\r\nexport const DARK_PRIMARY_DARK = '#007569'\r\nexport const DARK_PRIMARY_DARKEST = '#00493f'\r\n\r\nexport const DARK_SECONDARY = '#d4ff00'\r\nexport const DARK_SECONDARY_LIGHT = '#ffff58'\r\nexport const DARK_SECONDARY_DARK = '#9ecc00'\r\n\r\nexport const DARK_PAPER = '#333'\r\nexport const DARK_BG_DEFAULT = '#0f1316'\r\nexport const DARK_APPBAR = '#1f1f1f'\r\n\r\nexport const DARK_ACCENT_ONE = '#ff7000'\r\nexport const DARK_ACCENT_ONE_LIGHT = '#ffa140'\r\nexport const DARK_ACCENT_ONE_DARK = '#c43f00'\r\n\r\nexport const DARK_ACCENT_TWO = '#0090dd'\r\nexport const DARK_ACCENT_TWO_LIGHT = '#60c0ff'\r\nexport const DARK_ACCENT_TWO_DARK = '#0063ab'\r\n\r\nconst darkPrimary = {\r\n\tmain: DARK_PRIMARY,\r\n\tdark: DARK_PRIMARY_DARK,\r\n\tlight: DARK_PRIMARY_LIGHT,\r\n\tlightest: DARK_PRIMARY_DARKEST,\r\n\tcontrastText: WHITE,\r\n}\r\n\r\nconst darkSecondary = {\r\n\tmain: DARK_SECONDARY,\r\n\tdark: DARK_SECONDARY_DARK,\r\n\tlight: DARK_SECONDARY_LIGHT,\r\n\tcontrastText: BLACK,\r\n}\r\n\r\nconst paletteCommon = {\r\n\tprimary: { main: PRIMARY, contrastText: WHITE },\r\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\r\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\r\n\tlightGrey: { main: ALEX_GREY_LIGHTEST, contrastText: BLACK },\r\n\twarning: {\r\n\t\tmain: WARNING,\r\n\t\tcontrastText: BLACK,\r\n\t},\r\n\tsuccess: {\r\n\t\tmain: SUCCESS,\r\n\t\tcontrastText: BLACK,\r\n\t},\r\n\tinfo: {\r\n\t\tmain: INFO,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\terror: {\r\n\t\tmain: ERROR,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\tfirst: lime,\r\n\tcommon: {\r\n\t\twhite: WHITE,\r\n\t\tblack: BLACK,\r\n\t},\r\n}\r\n\r\nconst paletteDark = {\r\n\ttype: 'dark',\r\n\t...paletteCommon,\r\n\tprimary: darkPrimary,\r\n\tsecondary: darkSecondary,\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\t// accentOne: {\r\n\t// \tmain: DARK_ACCENT_ONE,\r\n\t// \tlight: ACCENT_ONE_LIGHT,\r\n\t// \tcontrastText: WHITE,\r\n\t// },\r\n\t// accentTwo: {\r\n\t// \tmain: DARK_ACCENT_TWO,\r\n\t// \tlight: ACCENT_TWO_LIGHT,\r\n\t// \tcontrastText: BLACK,\r\n\t// },\r\n\t// special: { main: WARNING, contrastText: BLACK },\r\n\t// text: {\r\n\t// \tmain: TEXT_MAIN,\r\n\t// \tprimary: fade(WHITE, 0.69),\r\n\t// \tsecondary: fade(WHITE, 0.42),\r\n\t// \tdisabled: fade(WHITE, 0.1948),\r\n\t// \thint: fade(WHITE, 0.13),\r\n\t// },\r\n\tdivider: fade(WHITE, 0.13),\r\n\tbackground: {\r\n\t\tpaper: DARK_PAPER,\r\n\t\tdefault: DARK_BG_DEFAULT,\r\n\t},\r\n\taction: {\r\n\t\taction: fade(WHITE, 0.46),\r\n\t\thover: fade(WHITE, 0.069),\r\n\t\thoverOpacity: 0.069,\r\n\t\tselected: fade(WHITE, 0.1914),\r\n\t\tselectedOpacity: 0.1914,\r\n\t\tdisabled: fade(WHITE, 0.1948),\r\n\t\tdisabledOpacity: 0.48,\r\n\t\tfocus: fade(WHITE, 0.18),\r\n\t\tfocusOpacity: 0.18,\r\n\t\tactivatedOpacity: 0.18,\r\n\t},\r\n\tappBar: { main: DARK_APPBAR, contrastText: grey[200] },\r\n\ttext: {\r\n\t\ticon: fade(WHITE, 0.42),\r\n\t\tprimary: fade(WHITE, 0.9),\r\n\t\tsecondary: fade(WHITE, 0.42),\r\n\t\tdisabled: fade(WHITE, 0.1948),\r\n\t\thint: fade(WHITE, 0.13),\r\n\t\tsolid: grey[200],\r\n\t},\r\n}\r\n\r\nconst paletteLight = {\r\n\ttype: 'light',\r\n\t...paletteCommon,\r\n\tprimary,\r\n\tsecondary,\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: {\r\n\t\tmain: ALEX_GREY,\r\n\t\tcontrastText: WHITE,\r\n\t\tlight: ALEX_GREY_LIGHT,\r\n\t\tdark: ALEX_GREY_DARK,\r\n\t},\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: {\r\n\t\tmain: ERROR_COLOR,\r\n\t\tlight: ACCENT_TWO_LIGHT,\r\n\t\tdark: ACCENT_TWO_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\twarning: {\r\n\t\tmain: ACCENT_TWO,\r\n\t\tlight: ERROR_LIGHT,\r\n\t\tdark: ERROR_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\tbackground: {\r\n\t\tdefault: BG_DEFAULT,\r\n\t\tpaper: WHITE,\r\n\t},\r\n\tinfo: primary,\r\n\tsuccess: secondary,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\taction: {\r\n\t\tdisabledBackground: grey[200],\r\n\t\tdisabled: grey[500],\r\n\t},\r\n\ttooltipBgColor: fade(ALEX_GREY, 0.98),\r\n\ttext: {\r\n\t\ticon: fade(BLACK, 0.69),\r\n\t\tprimary: fade(BLACK, 0.9),\r\n\t\tsecondary: fade(BLACK, 0.69),\r\n\t\tdisabled: fade(BLACK, 0.42),\r\n\t\thint: fade(BLACK, 0.13),\r\n\t\tsolid: grey[500],\r\n\t},\r\n}\r\n\r\nexport const palette = {\r\n\tprimary,\r\n\tsecondary,\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: {\r\n\t\tmain: ALEX_GREY,\r\n\t\tcontrastText: WHITE,\r\n\t\tlight: ALEX_GREY_LIGHT,\r\n\t\tdark: ALEX_GREY_DARK,\r\n\t},\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: {\r\n\t\tmain: ERROR_COLOR,\r\n\t\tlight: ACCENT_TWO_LIGHT,\r\n\t\tdark: ACCENT_TWO_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\twarning: {\r\n\t\tmain: ACCENT_TWO,\r\n\t\tlight: ERROR_LIGHT,\r\n\t\tdark: ERROR_DARK,\r\n\t\tcontrastText: WHITE,\r\n\t},\r\n\tinfo: primary,\r\n\tsuccess: secondary,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n\taction: {\r\n\t\tdisabledBackground: grey[200],\r\n\t\tdisabled: grey[500],\r\n\t},\r\n\ttooltipBgColor: fade(ALEX_GREY, 0.98),\r\n}\r\n\r\nconst typography = {\r\n\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\tfontSize: 13.42,\r\n}\r\n\r\nconst defaultTheme = createMuiTheme({\r\n\ttypography,\r\n\tpalette: { ...paletteCommon },\r\n})\r\n\r\nconst darkShadows = [...defaultTheme.shadows, '3px 4px 15px 0px rgba(0,0,0,1)']\r\n\r\nconst lightShadows = [\r\n\t...defaultTheme.shadows,\r\n\t'2px 2px 13px 0px rgba(69,69,69,0.420)',\r\n]\r\n\r\nconst commonTheme = createMuiTheme({\r\n\t...defaultTheme,\r\n\ttypography,\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t\tborderColor: ALEX_GREY,\r\n\t\t\t},\r\n\t\t\tcontained: {\r\n\t\t\t\tbackgroundColor: ALEX_GREY,\r\n\t\t\t\tcolor: WHITE,\r\n\t\t\t\tboxShadow: 0,\r\n\t\t\t\t'&:hover': {\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\t'@media (hover: none)': {\r\n\t\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t'&$focusVisible': {\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\t\t\t\t},\r\n\t\t\t\t'&:active': {\r\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\r\n\r\n\t\t\t\t\tboxShadow: 0,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTooltip: {\r\n\t\t\ttooltip: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t\tfontSize: defaultTheme.typography.pxToRem(13),\r\n\t\t\t\tbackgroundColor: palette.tooltipBgColor,\r\n\t\t\t},\r\n\t\t\tarrow: {\r\n\t\t\t\tcolor: palette.tooltipBgColor,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiSelect: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiInputLabel: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiOutlinedInput: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAlert: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlinedSuccess: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedInfo: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedWarning: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t\toutlinedError: {\r\n\t\t\t\tbackgroundColor: WHITE,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// },\r\n\t\tMuiExpansionPanel: {\r\n\t\t\troot: {\r\n\t\t\t\tborderColor: 'threedface',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableFooter: {\r\n\t\t\troot: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflex: 0,\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAppBar: {\r\n\t\t\tcolorDefault: {\r\n\t\t\t\tbackgroundColor: palette.appBar.main,\r\n\t\t\t\tcolor: palette.appBar.contrastText,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTablePagination: {\r\n\t\t\ttoolbar: {\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableFilter: {\r\n\t\t\troot: {\r\n\t\t\t\tmaxWidth: '400px',\r\n\t\t\t},\r\n\t\t},\r\n\t\t// Think of accessing an element not a class\r\n\t\tMuiGridListTile: {\r\n\t\t\troot: {\r\n\t\t\t\twidth: '100% !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBodyCell: {\r\n\t\t\tstackedCommon: {\r\n\t\t\t\t[defaultTheme.breakpoints.down('sm')]: {\r\n\t\t\t\t\tdisplay: 'inline-flex',\r\n\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\tborderBottom: 'none',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTable: {\r\n\t\t\troot: {\r\n\t\t\t\tborder: '1px solid black',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBody: {\r\n\t\t\temptyTitle: {\r\n\t\t\t\tpadding: defaultTheme.spacing(2),\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst defaultThemeWithOverrides = responsiveFontSizes(commonTheme, {\r\n\tbreakpoints: ['xs', 'sm', 'md', 'lg', 'xl'],\r\n\tfactor: 3,\r\n})\r\n\r\nexport const darkTheme = createMuiTheme({\r\n\t...defaultThemeWithOverrides,\r\n\tpalette: paletteDark,\r\n\tshadows: darkShadows,\r\n\ttype: 'dark',\r\n})\r\n\r\nexport const lightTheme = createMuiTheme({\r\n\t...defaultThemeWithOverrides,\r\n\tpalette: paletteLight,\r\n\tshadows: lightShadows,\r\n\ttype: 'light',\r\n})\r\n","import { createSelector } from 'reselect'\r\nimport { createCachedSelector } from 're-reselect'\r\nimport {\r\n\tt,\r\n\tselectCampaignsArray,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAdSlotsArray,\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\tselectCampaignAnalyticsByChannelToAdUnit,\r\n\tselectCampaignUnitsById,\r\n\tselectMainToken,\r\n\tselectAnalytics,\r\n\tselectPublisherAdvanceStatsToAdUnit,\r\n\tselectPublisherStatsByCountry,\r\n\tselectCampaignAnalyticsByChannelToCountry,\r\n\tselectCampaignAnalyticsByChannelToCountryPay,\r\n\tselectPublisherAggrStatsByCountry,\r\n\tselectCampaignAggrStatsByCountry,\r\n\tselectPublisherPayStatsByCountry,\r\n\tselectPublisherAdvanceStatsToAdSlot,\r\n\tselectSavedAudiences,\r\n\tselectAudienceByCampaignId,\r\n\tselectSide,\r\n\tselectAdUnitsTotalStats,\r\n\tselectCampaignsEventCountsStats,\r\n} from 'selectors'\r\nimport { utils } from 'ethers'\r\nimport chartCountriesData from 'world-atlas/countries-50m.json'\r\nimport { scaleLinear } from 'd3-scale'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\nimport {\r\n\tPRIMARY_DARKEST,\r\n\tPRIMARY_LIGHTEST,\r\n\tSECONDARY,\r\n\tSECONDARY_LIGHT,\r\n} from 'components/App/themeMUi'\r\nimport { grey } from '@material-ui/core/colors'\r\nimport { constants, helpers } from 'adex-models'\r\nimport { selectAdUnitsArray } from './itemsSelectors'\r\nconst { CountryNames, numericToAlpha2 } = constants\r\nconst { pricingBondsToUserInputPerMile } = helpers\r\n\r\nexport const selectCampaignsTableData = createSelector(\r\n\t[\r\n\t\tselectCampaignsEventCountsStats,\r\n\t\tselectCampaignsArray,\r\n\t\tselectRoutineWithdrawTokens,\r\n\t\tselectSide,\r\n\t],\r\n\t(eventCounts, campaigns, tokens, side) => {\r\n\t\treturn campaigns\r\n\t\t\t.filter(x => !x.archived)\r\n\t\t\t.map(item => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\r\n\t\t\t\tconst {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tspec = {},\r\n\t\t\t\t\tadUnits = [],\r\n\t\t\t\t\tstatus,\r\n\t\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\t\tspecPricingBounds,\r\n\t\t\t\t} = item\r\n\r\n\t\t\t\tconst firstUnit = adUnits[0] || {}\r\n\r\n\t\t\t\tconst to = `/dashboard/${side}/campaigns/${id}`\r\n\t\t\t\tconst toReceipt = `/dashboard/${side}/receipt/${id}`\r\n\r\n\t\t\t\tconst cpm =\r\n\t\t\t\t\tpricingBoundsCPMUserInput ||\r\n\t\t\t\t\tpricingBondsToUserInputPerMile({\r\n\t\t\t\t\t\tpricingBounds: specPricingBounds.IMPRESSION\r\n\t\t\t\t\t\t\t? specPricingBounds\r\n\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\tIMPRESSION: {\r\n\t\t\t\t\t\t\t\t\t\tmin: item.minPerImpression || spec.minPerImpression,\r\n\t\t\t\t\t\t\t\t\t\tmax: item.maxPerImpression || spec.maxPerImpression,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tconst { impressions = 0, clicks = 0 } = eventCounts[id] || {}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\tside,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\r\n\t\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\tstatus: {\r\n\t\t\t\t\t\tstatus,\r\n\t\t\t\t\t\timpressions,\r\n\t\t\t\t\t\tcreated: item.created,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdepositAmount: Number(\r\n\t\t\t\t\t\tutils.formatUnits(item.depositAmount || '0', decimals)\r\n\t\t\t\t\t),\r\n\t\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\r\n\t\t\t\t\timpressions,\r\n\t\t\t\t\tclicks,\r\n\r\n\t\t\t\t\tctr: (clicks / impressions) * 100 || 0,\r\n\t\t\t\t\tminPerImpression: Number(cpm.IMPRESSION.min),\r\n\r\n\t\t\t\t\tmaxPerImpression: Number(cpm.IMPRESSION.max),\r\n\t\t\t\t\tcreated: item.created,\r\n\t\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\r\n\t\t\t\t\twithdrawPeriodStart:\r\n\t\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\r\n\t\t\t\t\tactions: {\r\n\t\t\t\t\t\tside,\r\n\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t\ttoReceipt,\r\n\t\t\t\t\t\treceiptReady:\r\n\t\t\t\t\t\t\t(item.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed') &&\r\n\t\t\t\t\t\t\t(item.status.name === 'Exhausted' ||\r\n\t\t\t\t\t\t\t\titem.status.name === 'Expired'),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid,\r\n\t\t\t\t\treceiptAvailable:\r\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsMaxImpressions = createSelector(\r\n\tselectCampaignsTableData,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => Number(i.impressions || 0))\r\n\t\t) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxClicks = createSelector(\r\n\tselectCampaignsTableData,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => Number(i.clicks || 0))\r\n\t\t) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxDeposit = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\r\n\t(campaigns, tokens) =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\r\n\t\t\t\treturn Number(utils.formatUnits(i.depositAmount, decimals) || 0)\r\n\t\t\t})\r\n\t\t)\r\n)\r\n\r\nexport const selectAdSlotsTableData = createSelector(\r\n\t[selectAdSlotsArray, selectPublisherAdvanceStatsToAdSlot, selectSide],\r\n\t(\r\n\t\tslots,\r\n\t\t{\r\n\t\t\timpressionsByAdSlot,\r\n\t\t\tclicksByAdSlot,\r\n\t\t\timpressionsPayByAdSlot,\r\n\t\t\tclicksPayByAdSlot,\r\n\t\t},\r\n\t\tside\r\n\t) =>\r\n\t\tslots\r\n\t\t\t.filter(x => !x.archived)\r\n\t\t\t.map(item => {\r\n\t\t\t\tconst id = item.id || item.ipfs\r\n\t\t\t\tconst to = `/dashboard/${side}/slots/${id}`\r\n\r\n\t\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\r\n\r\n\t\t\t\tconst clicks = clicksByAdSlot[id]\r\n\t\t\t\tconst impressions = impressionsByAdSlot[id]\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\t\tmediaMime,\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttype: type.replace('legacy_', ''),\r\n\t\t\t\t\tcreated: created,\r\n\t\t\t\t\timpressions,\r\n\t\t\t\t\tclicks,\r\n\t\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\r\n\t\t\t\t\tearnings:\r\n\t\t\t\t\t\tNumber(impressionsPayByAdSlot[id] || 0) +\r\n\t\t\t\t\t\tNumber(clicksPayByAdSlot[id] || 0),\r\n\t\t\t\t\tactions: {\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t\titem,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n)\r\n\r\nconst getTabledData = ({\r\n\tselectOnImage,\r\n\tside,\r\n\titems,\r\n\timpressionsByAdUnit,\r\n\tclicksByAdUnit,\r\n}) => {\r\n\treturn [...items]\r\n\t\t.filter(x => !x.archived)\r\n\t\t.map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/units/${id}`\r\n\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\r\n\r\n\t\t\tconst impressions = impressionsByAdUnit(id)\r\n\t\t\tconst clicks = clicksByAdUnit(id) || 0\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tselectOnImage,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\tmediaMime,\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\tctr: (clicks / (impressions || 1)) * 100 || 0,\r\n\t\t\t\ttitle,\r\n\t\t\t\ttype,\r\n\t\t\t\tcreated,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n}\r\n\r\nexport const selectAllAdUnitsTableData = createSelector(\r\n\t[selectAdUnitsArray, selectSide, selectAdUnitsTotalStats],\r\n\t(items, side, adUnitsTotalStats) =>\r\n\t\tgetTabledData({\r\n\t\t\titems,\r\n\t\t\tside,\r\n\t\t\timpressionsByAdUnit: id => adUnitsTotalStats.IMPRESSION[id],\r\n\t\t\tclicksByAdUnit: id => adUnitsTotalStats.CLICK[id],\r\n\t\t})\r\n)\r\n\r\nexport const selectAdUnitsByCampaignTableData = createCachedSelector(\r\n\tselectCampaignUnitsById,\r\n\tselectSide,\r\n\t(state, campaignId) => id => {\r\n\t\treturn selectCampaignAnalyticsByChannelToAdUnit(\r\n\t\t\tstate,\r\n\t\t\t'IMPRESSION',\r\n\t\t\tcampaignId\r\n\t\t)[id]\r\n\t},\r\n\t(state, campaignId) => id => {\r\n\t\treturn selectCampaignAnalyticsByChannelToAdUnit(state, 'CLICK', campaignId)[\r\n\t\t\tid\r\n\t\t]\r\n\t},\r\n\t(items, side, impressionsByAdUnit, clicksByAdUnit) =>\r\n\t\tgetTabledData({\r\n\t\t\titems,\r\n\t\t\tside,\r\n\t\t\timpressionsByAdUnit,\r\n\t\t\tclicksByAdUnit,\r\n\t\t})\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectAdUnitsByItemsTableData = createCachedSelector(\r\n\t(_state, items) => items,\r\n\tselectSide,\r\n\tselectAdUnitsTotalStats,\r\n\t(items, side, adUnitsToatalStats) =>\r\n\t\tgetTabledData({\r\n\t\t\tselectOnImage: true,\r\n\t\t\titems,\r\n\t\t\tside,\r\n\t\t\timpressionsByAdUnit: id => adUnitsToatalStats.IMPRESSION[id],\r\n\t\t\tclicksByAdUnit: id => adUnitsToatalStats.CLICK[id],\r\n\t\t})\r\n)((_state, items = []) => items.map(x => x.id).join(':') || '-')\r\n\r\nexport const selectAdUnitsTableData = createCachedSelector(\r\n\t(state, { campaignId, items }) =>\r\n\t\t!!items\r\n\t\t\t? selectAdUnitsByItemsTableData(state, items)\r\n\t\t\t: campaignId\r\n\t\t\t? selectAdUnitsByCampaignTableData(state, campaignId)\r\n\t\t\t: selectAllAdUnitsTableData(state),\r\n\r\n\tdata => data\r\n)(\r\n\t(_state, { campaignId, items }) =>\r\n\t\tcampaignId || (items || []).map(x => x.id).join(':') || 'all'\r\n)\r\n\r\nexport const selectAudiencesTableData = createSelector(\r\n\t[selectSavedAudiences],\r\n\taudiences =>\r\n\t\taudiences\r\n\t\t\t.filter(x => !x.archived)\r\n\t\t\t.map(item => {\r\n\t\t\t\tconst { id, title, inputs, version, created, updated } = item\r\n\r\n\t\t\t\tconst to = `/dashboard/advertiser/audiences/${id}`\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttitle: {\r\n\t\t\t\t\t\ttitle: title || id,\r\n\t\t\t\t\t\tto,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t\tactions: {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\taudienceInput: { inputs, version },\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tto: `/dashboard/advertiser/audiences/${id}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n)\r\n\r\nconst mapByCountryTableData = ({\r\n\timpressionsByCountry,\r\n\tclicksByCountry,\r\n\timpressionsAggrByCountry,\r\n\timpressionsPayByCountry,\r\n\tclicksPayByCountry,\r\n} = {}) => {\r\n\tconst addEarnings = impressionsPayByCountry && clicksPayByCountry\r\n\t// NOTE: assume that there are no click without impressions\r\n\treturn Object.keys(impressionsByCountry).map(key => {\r\n\t\treturn {\r\n\t\t\tcountryName: CountryNames[key],\r\n\t\t\timpressions: impressionsByCountry[key] || 0,\r\n\t\t\tpercentImpressions:\r\n\t\t\t\t((impressionsByCountry[key] || 0) /\r\n\t\t\t\t\t(impressionsAggrByCountry.total || 1)) *\r\n\t\t\t\t100,\r\n\t\t\tclicks: clicksByCountry[key] || 0,\r\n\r\n\t\t\tctr:\r\n\t\t\t\t((clicksByCountry[key] || 0) / (impressionsByCountry[key] || 1)) * 100,\r\n\t\t\t...(addEarnings && {\r\n\t\t\t\tearnings:\r\n\t\t\t\t\t(impressionsPayByCountry[key] || 0) + (clicksPayByCountry[key] || 0),\r\n\t\t\t\taverageCPM:\r\n\t\t\t\t\t(Number(impressionsPayByCountry[key] || 0) /\r\n\t\t\t\t\t\tNumber(impressionsByCountry[key] || 1)) *\r\n\t\t\t\t\t1000,\r\n\t\t\t}),\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const selectPublisherStatsByCountryData = createSelector(\r\n\t[\r\n\t\tstate => selectPublisherStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherStatsByCountry(state, 'CLICK'),\r\n\t\tstate => selectPublisherAggrStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherPayStatsByCountry(state, 'IMPRESSION'),\r\n\t\tstate => selectPublisherPayStatsByCountry(state, 'CLICK'),\r\n\t],\r\n\t(\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry\r\n\t) => ({\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry,\r\n\t})\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryData = createCachedSelector(\r\n\t(state, campaignId) => {\r\n\t\treturn [\r\n\t\t\tselectCampaignAnalyticsByChannelToCountry(\r\n\t\t\t\tstate,\r\n\t\t\t\t'IMPRESSION',\r\n\t\t\t\tcampaignId\r\n\t\t\t),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, 'CLICK', campaignId),\r\n\t\t\tselectCampaignAggrStatsByCountry(state, 'IMPRESSION', campaignId),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(\r\n\t\t\t\tstate,\r\n\t\t\t\t'IMPRESSION',\r\n\t\t\t\tcampaignId\r\n\t\t\t),\r\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, 'CLICK', campaignId),\r\n\t\t]\r\n\t},\r\n\t([\r\n\t\timpressionsByCountry,\r\n\t\tclicksByCountry,\r\n\t\timpressionsAggrByCountry,\r\n\t\timpressionsPayByCountry,\r\n\t\tclicksPayByCountry,\r\n\t]) => {\r\n\t\treturn {\r\n\t\t\timpressionsByCountry,\r\n\t\t\tclicksByCountry,\r\n\t\t\timpressionsAggrByCountry,\r\n\t\t\timpressionsPayByCountry,\r\n\t\t\tclicksPayByCountry,\r\n\t\t}\r\n\t}\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectPublisherStatsByCountryTableData = createSelector(\r\n\tselectPublisherStatsByCountryData,\r\n\tdata => mapByCountryTableData(data)\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryTableData = createCachedSelector(\r\n\tselectCampaignAnalyticsToCountryData,\r\n\tdata => mapByCountryTableData(data)\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nconst mapByCountryMapChartData = ({\r\n\timpressionsByCountry,\r\n\tclicksByCountry,\r\n\timpressionsAggrByCountry,\r\n} = {}) => {\r\n\tconst colorScale = scaleLinear()\r\n\t\t.domain([0, impressionsAggrByCountry.max])\r\n\t\t.range([PRIMARY_LIGHTEST, PRIMARY_DARKEST])\r\n\r\n\tconst hoverColor = SECONDARY\r\n\tconst pressedColor = SECONDARY_LIGHT\r\n\tconst chartData = { ...chartCountriesData }\r\n\r\n\tchartData.objects.countries.geometries = chartCountriesData.objects.countries.geometries.map(\r\n\t\tdata => {\r\n\t\t\tconst id = numericToAlpha2(data.id)\r\n\t\t\tconst impressions = impressionsByCountry[id] || 0\r\n\t\t\tconst clicks = clicksByCountry[id] || 0\r\n\t\t\tconst name = CountryNames[id] || data.name\r\n\t\t\tconst percentImpressions =\r\n\t\t\t\t((impressions || 0) / impressionsAggrByCountry.total) * 100 || 0\r\n\t\t\tconst ctr = ((clicks || 0) / (impressions || 1)) * 100 || 0\r\n\t\t\tconst tooltipElements = [\r\n\t\t\t\t`${name}:`,\r\n\t\t\t\t`${t('LABEL_IMPRESSIONS')}: ${formatAbbrNum(impressions, 2)}`,\r\n\t\t\t\t`${t('LABEL_CLICKS')}: ${formatAbbrNum(clicks, 2)}`,\r\n\t\t\t\t`${t('LABEL_PERC')}: ${percentImpressions.toFixed(2)} %`,\r\n\t\t\t\t`${t('LABEL_CTR')}: ${ctr.toFixed(4)} %`,\r\n\t\t\t]\r\n\r\n\t\t\tconst fillColor = impressions > 0 ? colorScale(impressions) : grey[400]\r\n\r\n\t\t\tconst properties = {\r\n\t\t\t\tname,\r\n\t\t\t\tfillColor,\r\n\t\t\t\ttooltipElements,\r\n\t\t\t}\r\n\r\n\t\t\treturn { ...data, properties }\r\n\t\t}\r\n\t)\r\n\r\n\treturn { chartData, hoverColor, pressedColor }\r\n}\r\n\r\nexport const selectPublisherStatsByCountryMapChartData = createSelector(\r\n\t[selectPublisherStatsByCountryData],\r\n\tdata => mapByCountryMapChartData(data)\r\n)\r\n\r\nexport const selectCampaignAnalyticsToCountryMapChartData = createCachedSelector(\r\n\tselectCampaignAnalyticsToCountryData,\r\n\tdata => mapByCountryMapChartData(data)\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectBestEarnersTableData = createSelector(\r\n\tselectPublisherAdvanceStatsToAdUnit,\r\n\titems =>\r\n\t\titems.map(item => {\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\tmediaMime,\r\n\t\t\t\ttype,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\timpressionsPay,\r\n\t\t\t\tclicksPay,\r\n\t\t\t} = item\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\tmediaMime,\r\n\t\t\t\t},\r\n\t\t\t\ttype,\r\n\t\t\t\timpressions,\r\n\t\t\t\tclicks,\r\n\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\r\n\t\t\t\tearnings: impressionsPay + clicksPay,\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignStatsTableData = createCachedSelector(\r\n\tselectAnalytics, // temp fix to update campaign analytics daat\r\n\tselectAudienceByCampaignId,\r\n\t(state, campaignId) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, 'IMPRESSION', campaignId),\r\n\t(state, campaignId) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, 'CLICK', campaignId),\r\n\t(_advanced, campaignAudienceInput, impressions, clicks) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\r\n\r\n\t\tconst rules = campaignAudienceInput\r\n\t\t\t? campaignAudienceInput.inputs.publishers\r\n\t\t\t: null\r\n\r\n\t\treturn Object.keys(imprStats).map(key => ({\r\n\t\t\tisBlacklisted:\r\n\t\t\t\trules &&\r\n\t\t\t\t((rules.apply === 'nin' &&\r\n\t\t\t\t\t(rules.nin || []).some(x => x.includes(key))) ||\r\n\t\t\t\t\t(rules.apply === 'in' &&\r\n\t\t\t\t\t\t!(rules.in || []).some(x => x.includes(key)))),\r\n\r\n\t\t\twebsite: key,\r\n\t\t\timpressions: imprStats[key] || 0,\r\n\t\t\tctr: ((clickStats[key] || 0) / (imprStats[key] || 1)) * 100,\r\n\t\t\tearnings: Number(earnStats[key] || 0),\r\n\t\t\taverageCPM:\r\n\t\t\t\t(Number(earnStats[key] || 0) / Number(imprStats[key] || 1)) * 1000,\r\n\t\t\tclicks: clickStats[key] || 0,\r\n\t\t}))\r\n\t}\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectCampaignTotalValues = createCachedSelector(\r\n\tselectCampaignStatsTableData,\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalClicks += current.clicks\r\n\t\t\t\tnewResult.totalImpressions += current.impressions\r\n\t\t\t\tnewResult.totalEarnings += current.earnings\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\r\n\t\t)\r\n)((_state, { campaignId }) => campaignId)\r\n\r\nexport const selectCampaignStatsMaxValues = createCachedSelector(\r\n\tselectCampaignStatsTableData,\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks || 0, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr || 0, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions || 0,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\tnewResult.maxEarnings = Math.max(\r\n\t\t\t\t\tcurrent.earnings || 0,\r\n\t\t\t\t\tnewResult.maxEarnings\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\r\n\t\t)\r\n)((_state, campaignId = '-') => campaignId)\r\n\r\nexport const selectAdUnitsStatsMaxValues = createCachedSelector(\r\n\tselectAdUnitsTableData,\r\n\tdata => {\r\n\t\treturn data.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks || 0, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr || 0, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions || 0,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxCTR: 0 }\r\n\t\t)\r\n\t}\r\n)(\r\n\t(_state, { campaignId, items }) =>\r\n\t\tcampaignId || (items || []).map(x => x.id).join(':') || 'all'\r\n)\r\n\r\nexport const selectPublisherReceiptsStatsByMonthTableData = createCachedSelector(\r\n\tselectAnalytics,\r\n\tselectMainToken,\r\n\t(_state, date) => date,\r\n\t({ receipts }, token, date) => {\r\n\t\tconst result = []\r\n\t\tif (receipts && receipts[date]) {\r\n\t\t\tconst { decimals = 18 } = token || {}\r\n\t\t\tfor (let [key, value] of Object.entries(receipts[date])) {\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\timpressions: value.impressions,\r\n\t\t\t\t\tpayouts:\r\n\t\t\t\t\t\t// TODO: temp solution until v5 - sun 7% validator fees\r\n\t\t\t\t\t\tNumber(utils.formatUnits(value.payouts || '0', decimals)) * 0.93,\r\n\t\t\t\t\tdate: +key,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n)((_state, date = '-') => date)\r\n\r\nexport const selectPublisherReceiptsStatsByMonthTotalValues = createSelector(\r\n\t[selectPublisherReceiptsStatsByMonthTableData],\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalPayouts += +current.payouts\r\n\t\t\t\tnewResult.totalImpressions += +current.impressions\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalPayouts: 0, totalImpressions: 0 }\r\n\t\t)\r\n)\r\n","import { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectCampaignDoughnutStats = createCachedSelector(\r\n\t(state, { campaignId, chartColors, maxDataSets } = {}) => {\r\n\t\tconst analytics = {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(\r\n\t\t\t\tstate,\r\n\t\t\t\t'IMPRESSION',\r\n\t\t\t\tcampaignId\r\n\t\t\t),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, 'CLICK', campaignId),\r\n\t\t}\r\n\r\n\t\treturn { ...analytics, chartColors, maxDataSets }\r\n\t},\r\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\r\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\r\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, key, i) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tif (i < maxDataSets) {\r\n\t\t\t\t\t\tnewData.labels.push(key)\r\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\r\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\r\n\r\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\r\n\r\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\r\n\t\t\t)\r\n\r\n\t\tconst data = {\r\n\t\t\tlabels,\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: impressionsData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: clicksData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\r\n\t\treturn data\r\n\t}\r\n)((_state, { campaignId = '-' } = {}) => campaignId)\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tREADONLY: { name: 'readonly' },\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const ETHEREUM_NETWORKS = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Goerli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Goerli', for: 'development' },\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n\r\nexport const VALIDATOR_ANALYTICS_METRICS = [\r\n\t'eventPayouts', //\r\n\t'eventCounts',\r\n]\r\nexport const VALIDATOR_ANALYTICS_SIDES = [\r\n\t'advertiser',\r\n\t'publisher', //\r\n]\r\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\r\n\t'IMPRESSION', //\r\n\t'CLICK',\r\n]\r\n\r\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\r\n\t{ label: 'LABEL_HOUR', value: 'hour' },\r\n\t{ label: 'LABEL_DAY', value: 'day' },\r\n\t{ label: 'LABEL_WEEK', value: 'week' },\r\n\t{ label: 'LABEL_MONTH', value: 'month' },\r\n\t{ label: 'LABEL_YEAR', value: 'year' },\r\n]\r\n\r\nexport const WHERE_YOU_KNOW_US = [\r\n\t{ label: 'LABEL_GOOGLE', value: 'search_engine' },\r\n\t{ label: 'LABEL_TWITTER', value: 'twitter' },\r\n\t{ label: 'LABEL_FACEBOOK', value: 'facebook' },\r\n\t{ label: 'LABEL_REDDIT', value: 'reddit' },\r\n\t{ label: 'LABEL_EVENT', value: 'event' },\r\n\t{ label: 'LABEL_FRIEND', value: 'friend' },\r\n\t{ label: 'LABEL_OTHER', value: 'other' },\r\n]\r\n\r\nexport const USER_SIDES = [\r\n\t{\r\n\t\tlabel: 'LABEL_PUBLISHER',\r\n\t\tvalue: 'publisher',\r\n\t\textraLabels: ['SALE_POINT_PUB_1', 'SALE_POINT_PUB_2', 'SALE_POINT_PUB_3'],\r\n\t},\r\n\t{\r\n\t\tlabel: 'LABEL_ADVERTISER',\r\n\t\tvalue: 'advertiser',\r\n\t\textraLabels: ['SALE_POINT_ADV_1', 'SALE_POINT_ADV_2', 'SALE_POINT_ADV_3'],\r\n\t},\r\n]\r\n\r\nexport const MOON_GRAVITY_ACCELERATION = 1.625\r\nexport const MOON_TO_EARTH_WEIGHT = 0.166\r\n\r\nexport const WALLET_ACTIONS_MSGS = {\r\n\t[AUTH_TYPES.METAMASK.name]: [\r\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\r\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\r\n\t],\r\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.QUICK.name]: [\r\n\t\t{ message: 'QUICK_WAITING_MSG' },\r\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\r\n\t],\r\n\t[AUTH_TYPES.GRANT.name]: [\r\n\t\t{ message: 'GRANT_WAITING_MSG' },\r\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\r\n\t],\r\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\r\n}\r\n\r\nexport const EXECUTE_ACTIONS = {\r\n\twithdraw: 'WITHDRAW',\r\n\tprivilegesChange: 'PRIVILEGES_CHANGE',\r\n\tensChange: 'ENS_CHANGE',\r\n\topenCampaign: 'OPEN_CAMPAIGN',\r\n\tdefault: 'DEFAULT',\r\n}\r\n","import { BigNumber, utils } from 'ethers'\r\nimport {\r\n\tt,\r\n\tselectDemandAnalytics,\r\n\tselectMainToken,\r\n\tselectWebsitesArray,\r\n\tselectVerifiedActiveTargetingAnalytics,\r\n} from 'selectors'\r\nimport { createSelector } from 'reselect'\r\nimport { constants } from 'adex-models'\r\nimport { WHERE_YOU_KNOW_US, USER_SIDES } from 'constants/misc'\r\nimport moment from 'moment'\r\nimport { createCachedSelector } from 're-reselect'\r\n\r\nexport const selectSlotTypesSourceWithDemands = createSelector(\r\n\t[selectDemandAnalytics, selectMainToken],\r\n\t(demand, { symbol }) => {\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: type,\r\n\t\t\t\tlabel: type.split('_')[1],\r\n\t\t\t\tdemand: demand[type],\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\tconst dA = BigNumber.from(a.demand ? a.demand.raw.avgCPM : 0)\r\n\t\t\t\tconst dB = BigNumber.from(b.demand ? b.demand.raw.avgCPM : 0)\r\n\r\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst current = type\r\n\t\t\t\t\tif (index === 0 && type.demand) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\t!type.demand\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (current.demand) {\r\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\r\n\t\t\t)\r\n\t\treturn source\r\n\t}\r\n)\r\n\r\nexport const selectVerifiedActiveTypes = createSelector(\r\n\t[selectVerifiedActiveTargetingAnalytics, selectMainToken],\r\n\t(targetingAnalytics, { decimals }) => {\r\n\t\tconst verified = targetingAnalytics.reduce((types, data) => {\r\n\t\t\tdata.types.forEach(t => {\r\n\t\t\t\tconst typeData = types.get(t) || {\r\n\t\t\t\t\tbyOwner: {},\r\n\t\t\t\t\tminSlotCount: 1,\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttypeData.byOwner[data.owner] = typeData.byOwner[data.owner] || {}\r\n\t\t\t\t// As totalEarned is by owner we need it once\r\n\t\t\t\ttypeData.byOwner[data.owner].revenue =\r\n\t\t\t\t\ttypeData.byOwner[data.owner].revenue || data.totalEarned || '0'\r\n\r\n\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom =\r\n\t\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom ||\r\n\t\t\t\t\tdata.campaignsEarnedFrom ||\r\n\t\t\t\t\t1\r\n\t\t\t\ttypes.set(t, typeData)\r\n\t\t\t})\r\n\r\n\t\t\treturn types\r\n\t\t}, new Map())\r\n\r\n\t\tverified.forEach((value, key) => {\r\n\t\t\tconst totalRevenue = Object.values(value.byOwner).reduce(\r\n\t\t\t\t(total, r = {}) => total.add(BigNumber.from(r.revenue || '0')),\r\n\t\t\t\tBigNumber.from('0')\r\n\t\t\t)\r\n\r\n\t\t\tverified.set(key, {\r\n\t\t\t\trevenue: parseFloat(\r\n\t\t\t\t\tutils.formatUnits(totalRevenue.toString(), decimals)\r\n\t\t\t\t),\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\treturn verified\r\n\t}\r\n)\r\n\r\nexport const selectUnitTypesSourceWithRecommendations = createSelector(\r\n\t[selectVerifiedActiveTypes, selectMainToken],\r\n\t(verifiedTypes, { symbol } = {}) => {\r\n\t\tconst totoShare = Array.from(verifiedTypes.values()).reduce(\r\n\t\t\t(total, { revenue = 0 }) => total + revenue,\r\n\t\t\t1\r\n\t\t)\r\n\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => ({\r\n\t\t\tvalue: type,\r\n\r\n\t\t\trevenue: (verifiedTypes.get(type) || {}).revenue || 0,\r\n\t\t}))\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\treturn b.revenue - a.revenue\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst { revenue, ...typeRest } = type\r\n\t\t\t\t\tconst current = { ...typeRest }\r\n\t\t\t\t\tcurrent.label = current.value.split('_')[1]\r\n\t\t\t\t\tif (index === 0 && revenue > 0) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('MOST_POPULAR_UNITS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst share = revenue / totoShare\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasLessPopularGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\tshare <= 0.01 // less than 1%\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasLessPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('LESS_POPULAR_UNITS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsource: [],\r\n\t\t\t\t\thasPopularGroup: false,\r\n\t\t\t\t\thasLessPopularGroup: false,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\treturn source\r\n\t}\r\n)\r\n\r\nexport const selectMonthsRange = createCachedSelector(\r\n\t(startDate, endDate) => ({\r\n\t\tstartDate,\r\n\t\tendDate,\r\n\t}),\r\n\t({ startDate, endDate }) => {\r\n\t\tconst months = []\r\n\t\tfor (\r\n\t\t\tvar m = moment(startDate).startOf('month');\r\n\t\t\tm.diff(moment(endDate).startOf('month')) <= 0;\r\n\t\t\tm.add(1, 'month')\r\n\t\t) {\r\n\t\t\tmonths.push(+m)\r\n\t\t}\r\n\t\treturn months\r\n\t}\r\n)((startDate = '-', endDate = '-') => `${startDate}:${endDate}`)\r\n\r\nexport const selectReceiptMonths = createCachedSelector(\r\n\tselectMonthsRange,\r\n\t(_, __, monthsEnd) => monthsEnd,\r\n\t(months, monthsEnd) =>\r\n\t\tmonths.map(monthTimestamp => ({\r\n\t\t\tvalue: monthTimestamp,\r\n\t\t\tlabel: !!monthsEnd\r\n\t\t\t\t? moment(monthTimestamp)\r\n\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t.format('Do MMMM, YYYY')\r\n\t\t\t\t: moment(monthTimestamp).format('Do MMMM, YYYY'),\r\n\t\t}))\r\n)(\r\n\t(startDate = '-', endDate = '-', monthsEnd = '-') =>\r\n\t\t`${startDate}:${endDate}:${monthsEnd}`\r\n)\r\n\r\nexport const selectFromSource = createSelector(\r\n\tlabelValueMapping => labelValueMapping,\r\n\tsource =>\r\n\t\tsource.map(data => {\r\n\t\t\tconst translated = { ...data }\r\n\t\t\ttranslated.label = t(data.label)\r\n\t\t\tconst extraLabel = data.extraLabel\r\n\t\t\t\t? t(data.extraLabel)\r\n\t\t\t\t: data.extraLabels && data.extraLabels.length\r\n\t\t\t\t? data.extraLabels.map(l => t(l))\r\n\t\t\t\t: undefined\r\n\t\t\ttranslated.extraLabel = extraLabel\r\n\t\t\treturn translated\r\n\t\t})\r\n)\r\n\r\nexport const selectKnowUsFromSource = createSelector(\r\n\t() => selectFromSource(WHERE_YOU_KNOW_US),\r\n\tsource => source\r\n)\r\n\r\nexport const selectUserSides = createSelector(\r\n\t() => selectFromSource(USER_SIDES),\r\n\tsource => source\r\n)\r\n\r\nexport const websitesAutocompleteSrc = createSelector(\r\n\tselectWebsitesArray,\r\n\twebsites =>\r\n\t\twebsites.map(ws => {\r\n\t\t\tconst website = `https://${ws.id}`\r\n\t\t\treturn {\r\n\t\t\t\tlabel: website,\r\n\t\t\t\tvalue: website,\r\n\t\t\t\tstatus: ws.issues && ws.issues.length ? 'error' : 'success',\r\n\t\t\t}\r\n\t\t})\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n\tselectWebsitesList,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta = {} }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const hasVerifiedSites = createSelector(selectWebsitesList, websites =>\r\n\twebsites.some(({ issues }) => !issues || !issues.length)\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n\r\nexport const selectStepsData = createSelector(\r\n\t[\r\n\t\tselectHasCreatedAdUnit,\r\n\t\tselectHasCreatedCampaign,\r\n\t\tselectHasCreatedAdSlot,\r\n\t\tselectHasConfirmedEmail,\r\n\t\tselectHasFundedAccount,\r\n\t\tselectHasAdSlotImpressions,\r\n\t\tselectHas5000Impressions,\r\n\t\thasVerifiedSites,\r\n\t],\r\n\t(\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t\thasVerifiedSites\r\n\t) => ({\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t\thasVerifiedSites,\r\n\t})\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectCampaignById,\r\n\tselectAdUnitById,\r\n\tselectAdSlotById,\r\n\tselectSide,\r\n\tt,\r\n} from 'selectors'\r\n\r\nexport const selectLocation = state => state.router.location\r\n\r\nexport const selectSearch = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => search\r\n)\r\n\r\nexport const selectLocationQuery = createSelector(\r\n\tselectLocation,\r\n\t({ query }) => query || {}\r\n)\r\n\r\nexport const selectSearchParams = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => new URLSearchParams(search)\r\n)\r\n\r\nconst ITEMS_SELECTORS = {\r\n\tcampaigns: selectCampaignById,\r\n\treceipt: selectCampaignById,\r\n\tunits: selectAdUnitById,\r\n\tslots: selectAdSlotById,\r\n}\r\n\r\nconst SIDES = {\r\n\tadvertiser: true,\r\n\tpublisher: true,\r\n}\r\n\r\nexport const selectDashboardBreadcrumbs = createSelector(\r\n\t[selectLocation, state => state, selectSide],\r\n\t({ pathname = '' }, state, side) => {\r\n\t\tconst paths = pathname.split('/').filter(x => !!x)\r\n\t\tconst sideDashboard = paths.slice(0, 2)\r\n\r\n\t\t// NOTE: no breadcrumbs if no side dashboard\r\n\t\tif (sideDashboard[0] !== 'dashboard' || !SIDES[sideDashboard[1]]) {\r\n\t\t\treturn []\r\n\t\t}\r\n\r\n\t\tconst sideDashboardBC = {\r\n\t\t\tto: `/${sideDashboard.join('/')}`,\r\n\t\t\tlabel: 'dashboard',\r\n\t\t}\r\n\r\n\t\tconst rest = paths.slice(2)\r\n\r\n\t\tconst restBC = rest.map((x, index) => {\r\n\t\t\tconst prev = rest[index - 1]\r\n\t\t\tconst selector = ITEMS_SELECTORS[prev]\r\n\r\n\t\t\tlet label = x\r\n\r\n\t\t\tif (selector) {\r\n\t\t\t\tconst { title } = selector(state, x) || {}\r\n\t\t\t\tlabel = title || label\r\n\t\t\t}\r\n\r\n\t\t\tconst bc = {\r\n\t\t\t\tlabel,\r\n\t\t\t}\r\n\r\n\t\t\tif (index < rest.length - 1) {\r\n\t\t\t\tconst restCopy = [...rest]\r\n\r\n\t\t\t\tconst receiptAt = restCopy.indexOf('receipt')\r\n\t\t\t\t// NOTE: go to campaign on receipt breadcrumb\r\n\t\t\t\t// We need a better way\r\n\t\t\t\tif (receiptAt >= 0) {\r\n\t\t\t\t\trestCopy[receiptAt] = side === 'advertiser' ? 'campaigns' : 'receipts'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbc.to = `${sideDashboardBC.to}/${restCopy\r\n\t\t\t\t\t.slice(0, index + 1)\r\n\t\t\t\t\t.join('/')}`\r\n\t\t\t}\r\n\r\n\t\t\treturn bc\r\n\t\t})\r\n\r\n\t\tconst breadcrumbs = [sideDashboardBC, ...restBC].map(b => ({\r\n\t\t\t...b,\r\n\t\t\tlabel:\r\n\t\t\t\tt(b.label.toUpperCase()) !== b.label.toUpperCase()\r\n\t\t\t\t\t? t(b.label.toUpperCase())\r\n\t\t\t\t\t: b.label,\r\n\t\t}))\r\n\r\n\t\treturn breadcrumbs || []\r\n\t}\r\n)\r\n","import { createCachedSelector } from 're-reselect'\r\nimport {\r\n\tselectCampaignById,\r\n\tselectCampaignsEventCountsStatsById,\r\n} from 'selectors'\r\n\r\nexport const selectCampaignWithAnalyticsById = createCachedSelector(\r\n\tselectCampaignById,\r\n\tselectCampaignsEventCountsStatsById,\r\n\t(campaign, eventCounts, id) => {\r\n\t\tconst withAnalytics = {\r\n\t\t\t...campaign,\r\n\t\t\t...eventCounts,\r\n\t\t}\r\n\r\n\t\treturn withAnalytics\r\n\t}\r\n)((_state, id = '-') => id)\r\n","import { store } from 'store'\r\n\r\nexport const execute = store.dispatch\r\n\r\nexport const dispatch = store.dispatch\r\n\r\nexport const getState = store.getState\r\n","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","export const getErrorMsg = err => {\r\n\tif (!err) {\r\n\t\treturn ''\r\n\t} else if (typeof err === 'object') {\r\n\t\treturn err.msg || err.message || err.errMsg || err.error\r\n\t} else if (Array.isArray(err)) {\r\n\t\treturn err.join(', ')\r\n\t} else {\r\n\t\treturn err\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport * as types from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport {\r\n\tselectCompanyData,\r\n\tselectAccountIdentityAddr,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectSide,\r\n\tselectMemoryUi,\r\n\tselectAnalyticsLiveTimestamp,\r\n\tselectAnalyticsMinAndMaxDates,\r\n\tt,\r\n} from 'selectors'\r\nimport {\r\n\tgetTimePeriods,\r\n\tgetBorderPeriodStart,\r\n} from 'helpers/analyticsTimeHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGlobalUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateMemoryUi(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_MEMORY_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateInitialDataLoaded(dataType, loaded) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst { initialDataLoaded } = selectMemoryUi(getState())\r\n\t\tif (initialDataLoaded !== true) {\r\n\t\t\tconst newData = { ...(initialDataLoaded || {}) }\r\n\t\t\tnewData[dataType] = loaded\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_MEMORY_UI,\r\n\t\t\t\titem: 'initialDataLoaded',\r\n\t\t\t\tvalue: newData,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateUiByIdentity(item, value, category) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\r\n\t\t\tidentity,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateIdentitySideUi(item, value) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst identity = selectAccountIdentityAddr(state)\r\n\t\tconst side = selectSide(state)\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY_AND_SIDE,\r\n\t\t\tidentity,\r\n\t\t\titem,\r\n\t\t\tvalue,\r\n\t\t\tside,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\tconst id = Helper.getGuid()\r\n\t\tdispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: {\r\n\t\t\t\ttype,\r\n\t\t\t\taction,\r\n\t\t\t\tlabel,\r\n\t\t\t\ttimeout,\r\n\t\t\t\tunclosable,\r\n\t\t\t\tanchorOrigin,\r\n\t\t\t\ttop,\r\n\t\t\t\tid,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn id\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{\r\n\t\tconfirmLabel = '',\r\n\t\tcancelLabel = '',\r\n\t\ttitle = '',\r\n\t\ttext = '',\r\n\t\tnoCancel = false,\r\n\t\tnoConfirm = false,\r\n\t} = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn async function(dispatch) {\r\n\t\treturn await dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t\tnoCancel: noCancel,\r\n\t\t\t\t\tnoConfirm: noConfirm,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateRegistrationAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\r\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateCompanyData(newData) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst companyData = selectCompanyData(getState())\r\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\r\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_COMPANY_DATA'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateSelectedItems(collection, selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\r\n\t\t\tselectedItems,\r\n\t\t\tcollection,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSelectedItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SELECTED_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateSelectedCampaigns(selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewVersion({ shouldForceRefresh, version }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateGlobalUi('newVersionAvailable', shouldForceRefresh)(dispatch)\r\n\t\tawait updateGlobalUi('selectNewVersionAvailableId', version)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function refreshCacheAndReload({ version }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (caches) {\r\n\t\t\t// Service worker cache should be cleared with caches.delete()\r\n\t\t\tcaches.keys().then(async function(names) {\r\n\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tawait updateNewVersion({ shouldForceRefresh: false, version })(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t\twindow.location.reload(true)\r\n\t}\r\n}\r\n\r\nexport function notifyNewTOS() {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: t('NOTIFICATION_NEW_TOS', {\r\n\t\t\t\t\targs: [t('TOS_CHECK')],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function handleRedirectParams(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('confirm-email')\r\n\t\tconst identity = searchParams.get('confirm-identity')\r\n\t\tconst grant = searchParams.get('confirm-grant')\r\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\r\n\t\tconst selectedIdentity = searchParams.get('login-select-identity')\r\n\r\n\t\tif (email && identity && !grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL', {\r\n\t\t\t\t\targs: [email, identity],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} else if (email && identity && grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL_GRANT', {\r\n\t\t\t\t\targs: [email, identity, grant],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\r\n\t\t}\r\n\r\n\t\tif (!!selectedIdentity) {\r\n\t\t\tupdateMemoryUi('loginSelectedIdentity', selectedIdentity)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateEasterEggsAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tif (\r\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\r\n\t\t\tprocess.env.EASTER_EGGS_VALUE\r\n\t\t) {\r\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updatePrivilegesWarningAccepted(accepted) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function hideGettingStarted(side) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('hideGettingStarted', true, side)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function setGettingStartedExpanded(expanded) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('gettingStartedExpanded', expanded)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateIdSideAnalyticsChartPeriod(periodStart) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\tconst { start, end, callEnd } = getTimePeriods({\r\n\t\t\ttimeframe,\r\n\t\t\tstart: periodStart,\r\n\t\t})\r\n\t\tupdateIdentitySideUi('sideAnalyticsPeriod', { start, end, callEnd })(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsPeriodPrevNextLive({\r\n\tnext = false,\r\n\tlive = false,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { minDate, maxDate } = selectAnalyticsMinAndMaxDates(state)\r\n\t\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\t\tlet { start } = selectIdentitySideAnalyticsPeriod(state)\r\n\r\n\t\t\tif (live) {\r\n\t\t\t\tstart = selectAnalyticsLiveTimestamp(state)\r\n\t\t\t} else {\r\n\t\t\t\tconst startIsLive = start === selectAnalyticsLiveTimestamp(state)\r\n\t\t\t\tstart = getBorderPeriodStart({\r\n\t\t\t\t\ttimeframe,\r\n\t\t\t\t\tstart,\r\n\t\t\t\t\tnext,\r\n\t\t\t\t\tstartIsLive,\r\n\t\t\t\t\tminDate,\r\n\t\t\t\t\tmaxDate,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdSideAnalyticsChartPeriod(start)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS_PREV_PERIOD', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_ANALYTICS_PREV_PERIOD', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateIdSideAnalyticsChartTimeframe(timeframe) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateIdentitySideUi('sideAnalyticsTimeframe', timeframe)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t\tupdateAnalyticsPeriodPrevNextLive({ live: true })(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateWindowReloading(isReloading) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateMemoryUi('windowReloading', isReloading)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateTableState(tableId, tableState) {\r\n\treturn function(dispatch, getState) {\r\n\t\t// TODO: filter state - only essential stuff\r\n\t\tconst filteredState = (({\r\n\t\t\trowsPerPage,\r\n\t\t\tpage,\r\n\t\t\tactiveColumn,\r\n\t\t\tfilterList,\r\n\t\t\tsearchProps,\r\n\t\t\tsearchText,\r\n\t\t\t// rowsSelected, -\r\n\t\t\tsortOrder,\r\n\t\t\tviewColumnsState,\r\n\t\t}) => ({\r\n\t\t\trowsPerPage,\r\n\t\t\tpage,\r\n\t\t\tactiveColumn,\r\n\t\t\tfilterList,\r\n\t\t\tsearchProps,\r\n\t\t\tsearchText,\r\n\t\t\t// rowsSelected,\r\n\t\t\tsortOrder,\r\n\t\t\tviewColumnsState,\r\n\t\t}))(tableState)\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TABLE_STATE,\r\n\t\t\tidentity,\r\n\t\t\ttableId: tableId,\r\n\t\t\tvalue: filteredState,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateTableStateSelectedRows(tableId, selectedRows) {\r\n\treturn function(dispatch, getState) {\r\n\t\treturn updateMemoryUi(`selectedRows${tableId}`, selectedRows)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function resetAllTableState() {\r\n\treturn function(dispatch, _getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_TABLES_STATE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetTableStateById(tableId) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_TABLE_STATE_BY_ID,\r\n\t\t\tidentity,\r\n\t\t\ttableId,\r\n\t\t})\r\n\t\tupdateMemoryUi(`selectedRows${tableId}`, undefined)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateDebuggingAddresses(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst debugIdentityAddr = searchParams.get('debug-identity-addr')\r\n\t\tconst debuggerAddr = searchParams.get('debugger-addr')\r\n\r\n\t\tif (debugIdentityAddr) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t\t})\r\n\t\t\tupdateMemoryUi('debugIdentityAddr', debugIdentityAddr)(dispatch)\r\n\t\t\tupdateMemoryUi('debuggerAddr', debuggerAddr)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\nimport AdExENSManager from './abi/AdExENSManager.json'\r\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\r\nimport ERC20 from './abi/ERC20Token.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExENSManager: {\r\n\t\taddress: process.env.ADEX_ENS_ADDR,\r\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\r\n\t\tabi: AdExENSManager,\r\n\t},\r\n\tReverseRegistrar: {\r\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\r\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\r\n\t\tabi: ReverseRegistrar,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n\tERC20: {\r\n\t\tabi: ERC20,\r\n\t},\r\n}\r\n","import { providers, Contract } from 'ethers'\r\nimport detectEthereumProvider from '@metamask/detect-provider'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { selectRelayerConfig } from 'selectors'\r\n\r\n// ethers.errors.setLogLevel('error')\r\n\r\nconst { AdExCore, Identity, IdentityFactory } = contracts\r\n\r\nconst LocalProvider = process.env.WEB3_NODE_ADDR.startsWith('wss://')\r\n\t? providers.WebSocketProvider\r\n\t: providers.JsonRpcProvider\r\n\r\nconst getAdexCore = provider => {\r\n\tconst { coreAddr } = selectRelayerConfig()\r\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\r\n}\r\n\r\nconst getMainToken = provider => {\r\n\tconst { mainToken = {} } = selectRelayerConfig()\r\n\treturn new Contract(\r\n\t\tmainToken.address,\r\n\t\tcontracts[mainToken.standard].abi,\r\n\t\tprovider\r\n\t)\r\n}\r\n\r\nconst getToken = ({ provider, standard, address }) => {\r\n\treturn new Contract(address, contracts[standard].abi, provider)\r\n}\r\n\r\nconst getIdentity = ({ provider, address }) => {\r\n\tconst identityContract = new Contract(address, Identity.abi, provider)\r\n\r\n\treturn identityContract\r\n}\r\n\r\nconst getIdentityFactory = provider => {\r\n\tconst { identityFactoryAddr } = selectRelayerConfig()\r\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\r\n}\r\n\r\nconst getEthersResult = provider => {\r\n\tconst adexCore = getAdexCore(provider)\r\n\tconst mainToken = getMainToken(provider)\r\n\tconst identityFactory = getIdentityFactory(provider)\r\n\r\n\tconst results = {\r\n\t\tprovider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: mainToken,\r\n\t\tMainToken: mainToken,\r\n\t\tIdentityFactory: identityFactory,\r\n\t\tgetToken: ({ standard, address }) =>\r\n\t\t\tgetToken({ provider, standard, address }),\r\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nfunction isProviderRelayerConfigChanged(currentProviderCfg) {\r\n\tconst cfg = selectRelayerConfig()\r\n\r\n\tconst isChanged =\r\n\t\tcurrentProviderCfg.coreAddr !== cfg.coreAddr ||\r\n\t\tJSON.stringify(currentProviderCfg.mainToken) !==\r\n\t\t\tJSON.stringify(cfg.mainToken) ||\r\n\t\tcurrentProviderCfg.identityFactoryAddr !== cfg.identityFactoryAddr\r\n\r\n\treturn isChanged\r\n}\r\n\r\n// NOTE; We need one instance of local provider\r\n// but it need result to be updated when some relayer cfg props are changed\r\nconst localWeb3 = new (function() {\r\n\tlet localProvider\r\n\tlet relayerCfg\r\n\tlet result\r\n\r\n\tthis.getEthers = () => {\r\n\t\tif (!localProvider) {\r\n\t\t\tlocalProvider = new LocalProvider(process.env.WEB3_NODE_ADDR)\r\n\t\t\trelayerCfg = selectRelayerConfig()\r\n\t\t\tresult = getEthersResult(localProvider)\r\n\t\t} else if (relayerCfg && isProviderRelayerConfigChanged(relayerCfg)) {\r\n\t\t\trelayerCfg = selectRelayerConfig()\r\n\t\t\tresult = getEthersResult(localProvider)\r\n\t\t}\r\n\t\treturn result\r\n\t}\r\n})()\r\n\r\nconst loadInjectedWeb3 = new Promise(async (resolve, reject) => {\r\n\tconst provider = await detectEthereumProvider()\r\n\r\n\tif (!!window.ethereum && provider !== window.ethereum) {\r\n\t\tconsole.error('Do you have multiple wallets installed?')\r\n\t\treject(new Error('Do you have multiple wallets installed?'))\r\n\r\n\t\t// TODO: error or toast\r\n\t}\r\n\r\n\tresolve({\r\n\t\tethereum: window.ethereum,\r\n\t})\r\n})\r\n\r\nconst getMetamaskSelectedAddress = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (ethereum && ethereum.isMetaMask) {\r\n\t\ttry {\r\n\t\t\tconst accounts = await ethereum.request({ method: 'eth_accounts' })\r\n\t\t\treturn accounts[0]\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('(getMetamaskSelectedAddress): Please connect to MetaMask.')\r\n\t\t\tthrow new Error(err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst connectMetaMask = async ethereum => {\r\n\ttry {\r\n\t\tconst selectedAccount = await getMetamaskSelectedAddress()\r\n\r\n\t\tif (!selectedAccount) {\r\n\t\t\t// const requestedAddresses =\r\n\t\t\tawait ethereum.request({\r\n\t\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t\t})\r\n\t\t\t// console.log('requestedAddresses', requestedAddresses)\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tif (err.code === 4001) {\r\n\t\t\t// EIP-1193 userRejectedRequest error\r\n\t\t\t// If this happens, the user rejected the connection request.\r\n\t\t\tconsole.log('Please connect to MetaMask.')\r\n\t\t} else {\r\n\t\t\tconsole.error(err)\r\n\t\t}\r\n\t\t// TODO: error or toast\r\n\t}\r\n}\r\n\r\nconst injectedWeb3Provider = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tawait connectMetaMask(ethereum)\r\n\r\n\t\t\tconst provider = new providers.Web3Provider(ethereum)\r\n\r\n\t\t\treturn getEthersResult(provider)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Err getting injected ethereum.', err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3Provider = async () => {\r\n\treturn localWeb3.getEthers()\r\n}\r\n\r\nconst getEthers = mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\treturn injectedWeb3Provider()\r\n\t} else {\r\n\t\treturn getLocalWeb3Provider()\r\n\t}\r\n}\r\n\r\nconst ethereumNetworkId = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (ethereum) {\r\n\t\tconst chainId = await ethereum.request({ method: 'net_version' })\r\n\r\n\t\tconst id = parseInt(chainId, 10)\r\n\t\treturn id\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst getEthereumProviderName = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (!ethereum) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tif (ethereum.isMetaMask) {\r\n\t\treturn AUTH_TYPES.METAMASK.name\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nconst getMetamaskEthereum = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\r\n\tif (ethereum && ethereum.isMetaMask) {\r\n\t\treturn ethereum\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nexport {\r\n\tgetEthers,\r\n\tethereumNetworkId,\r\n\tgetEthereumProviderName,\r\n\tgetMetamaskEthereum,\r\n\tgetMetamaskSelectedAddress,\r\n}\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nexport const isEthAddressERC20 = async (addr = '') => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const getERC20Balance = async ({ addr = '', balanceFor = '' }) => {\r\n\ttry {\r\n\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\tconst balance = await contract.balanceOf(balanceFor)\r\n\r\n\t\treturn balance\r\n\t} catch (error) {\r\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\r\n\t\treturn null\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.BigNumber.from(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n\tquickCheck = false,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst notEthAddress = !addr || !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else if (!quickCheck) {\r\n\t\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n\r\nexport const freeAdExENS = async ({ username = '' }) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tif (username === '') {\r\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\r\n\t\t} else {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst ensAddress = await provider.resolveName(\r\n\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`\r\n\t\t\t)\r\n\r\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error.code === 'INVALID_ARGUMENT') {\r\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\r\n\t\t} else {\r\n\t\t\tmsg = 'ERR_ENS_CHECK'\r\n\t\t}\r\n\t}\r\n\treturn { msg }\r\n}\r\n","export default class Looper {\r\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\r\n\t\tif (!timeout) {\r\n\t\t\tthrow new Error('LOOPER timeout prop is required')\r\n\t\t}\r\n\r\n\t\tif (typeof syncAction !== 'function') {\r\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\r\n\t\t}\r\n\r\n\t\tthis.loopTimeout = null\r\n\t\tthis.timeout = timeout\r\n\t\tthis.syncAction = syncAction\r\n\t\tthis.loopName = loopName\r\n\t\tthis.stopOn = stopOn\r\n\t}\r\n\r\n\tclearLoopTimeout = () => {\r\n\t\tif (this.loopTimeout) {\r\n\t\t\tclearTimeout(this.loopTimeout)\r\n\t\t\tthis.loopTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tsyncData = async opts => {\r\n\t\tthis.makeStopCheck()\r\n\t\tawait this.syncAction()\r\n\t\tthis.makeStopCheck()\r\n\t}\r\n\r\n\tstartLoop = async opts => {\r\n\t\ttry {\r\n\t\t\tawait this.syncData(opts)\r\n\t\t\tthis.checkLoop()\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\r\n\t\t\tthis.checkLoop()\r\n\t\t}\r\n\t}\r\n\r\n\tcheckLoop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\r\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\r\n\t}\r\n\r\n\tmakeStopCheck = () => {\r\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\r\n\t\t\tthis.stop()\r\n\t\t}\r\n\t}\r\n\r\n\tstart = async onSync => {\r\n\t\tthis.clearLoopTimeout()\r\n\t\tawait this.startLoop()\r\n\t\tthis.makeStopCheck()\r\n\t\tif (typeof onSync === 'function') {\r\n\t\t\tonSync()\r\n\t\t}\r\n\t}\r\n\r\n\tstop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t}\r\n}\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { updateUserCampaigns, execute } from 'actions'\r\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\r\n\r\n// 30 seconds = market statusLoopTick\r\nconst LOOP_TIMEOUT =\r\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\r\n\r\nconst campaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\r\n\tloopName: '_CAMPAIGNS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { campaignsLoop }\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { execute, updateAccountStats } from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst accountStatsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\r\n\tloopName: '_ACCOUNTS_STATS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport default accountStatsLoop\r\n","import Loop from './loop'\r\nimport {\r\n\texecute,\r\n\tupdateAccountAnalytics,\r\n\tupdateAccountAdvancedAnalytics,\r\n} from 'actions'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst analyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\r\n\tloopName: '_ANALYTICS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nconst analyticsLoopCustom = ({ timeout, syncAction, stopOn }) =>\r\n\tnew Loop({\r\n\t\ttimeout: timeout,\r\n\t\tsyncAction: async () => syncAction(),\r\n\t\tloopName: '_ANALYTICS_CUSTOM',\r\n\t\tstopOn: () => !selectAuth(getState()) || stopOn,\r\n\t})\r\n\r\nconst advancedAnalyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAdvancedAnalytics())),\r\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { analyticsLoop, advancedAnalyticsLoop, analyticsLoopCustom }\r\n","import {\r\n\tgetState,\r\n\texecute,\r\n\tresetAllNewItems,\r\n\tresetAllItems,\r\n\tresetAllBids,\r\n\tresetIdentity,\r\n\tresetAccount,\r\n\tresetAnalytics,\r\n\tresetChannelsWithBalanceAll,\r\n\tresetChannelsWithOutstandingBalance,\r\n\tresetAllNewTransaction,\r\n\tupdateMemoryUi,\r\n\tresetAllTableState,\r\n} from 'actions'\r\nimport ReactGA from 'react-ga'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport { advancedAnalyticsLoop } from 'services/store-data/analytics'\r\n\r\nimport { push } from 'connected-react-router'\r\nconst DIMENSIONS_NOT_SET_OR_LOADING = null\r\nexport const logOut = skipRedirect => {\r\n\texecute(updateMemoryUi('initialDataLoaded', false))\r\n\tReactGA.set({\r\n\t\tdimension1: DIMENSIONS_NOT_SET_OR_LOADING,\r\n\t\tdimension2: DIMENSIONS_NOT_SET_OR_LOADING,\r\n\t}) //reset dimensions after logout\r\n\texecute(resetAccount())\r\n\tadvancedAnalyticsLoop.stop()\r\n\tcampaignsLoop.stop()\r\n\tstatsLoop.stop()\r\n\tif (!skipRedirect) {\r\n\t\texecute(push('/'))\r\n\t}\r\n\texecute(resetIdentity())\r\n\texecute(resetAllItems())\r\n\texecute(resetAllNewItems())\r\n\texecute(resetAllBids())\r\n\texecute(resetAnalytics())\r\n\texecute(resetChannelsWithBalanceAll())\r\n\texecute(resetChannelsWithOutstandingBalance())\r\n\texecute(resetAllNewTransaction())\r\n\texecute(resetAllTableState())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn getState().persist.account\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { getState } from 'actions'\r\nimport { selectAuthSig } from 'selectors'\r\nimport { isDemoMode } from 'services/store-data/auth'\r\nimport { t } from 'selectors'\r\n\r\nexport const handleRequesterErrorRes = ({ res, text }) => {\r\n\tlet message = text\r\n\ttry {\r\n\t\tconst textObj = JSON.parse(text)\r\n\t\tmessage =\r\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\r\n\t} catch {}\r\n\r\n\tthrow new Error(\r\n\t\tt('SERVICE_ERROR_MSG', {\r\n\t\t\targs: [res.url, res.status, res.statusText, message],\r\n\t\t})\r\n\t)\r\n}\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst authSignature = selectAuthSig(getState())\r\n\t\treturn {\r\n\t\t\t'X-User-Signature': authSig || authSignature,\r\n\t\t}\r\n\t}\r\n\r\n\tnoCacheHeaders = {\r\n\t\t'Cache-Control': 'no-cache',\r\n\t\tExpires: '0',\r\n\t\tPragma: 'no-cache',\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t\tnoCache = false,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tconst query = Helper.getQuery(qp)\r\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tconst hdrs = {\r\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import requester from './requester'\r\n\r\nexport default requester\r\nexport * from './requester'\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/by-owner/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getIdentityData = ({ identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getRelayerConfigData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}/execute`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tchannel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const regAccount = ({\r\n\towner,\r\n\temail,\r\n\tknowFrom,\r\n\tuserSide,\r\n\tmoreInfo,\r\n\tbytecode,\r\n\tidentityFactoryAddr,\r\n\tbaseIdentityAddr,\r\n\tsalt,\r\n\tidentityAddr,\r\n\tprivileges,\r\n\troutineAuthorizationsRaw,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\temail,\r\n\t\t\t\tknowFrom,\r\n\t\t\t\tuserSide,\r\n\t\t\t\tmoreInfo,\r\n\t\t\t\tbytecode,\r\n\t\t\t\tidentityFactoryAddr,\r\n\t\t\t\tbaseIdentityAddr,\r\n\t\t\t\tsalt,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tprivileges,\r\n\t\t\t\troutineAuthorizationsRaw,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getQuickWallet = ({ hash }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail,\r\n\t\t\t\tsalt,\r\n\t\t\t\thash,\r\n\t\t\t\tencryptedWallet,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getEmail = ({ email }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const resendEmail = ({ email }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/email/${encodeURIComponent(email)}/resend`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const AcLocations = autocompleteLocationsSingleSelect()\r\nexport const AcGenders = autocompleteGendersSingleSelect()\r\nexport const AcTags = autocompleteTagsSingleSelect()\r\n\r\nexport const SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n\r\nexport const HOUR = 60 * 60 * 1000\r\nexport const DAY = 24 * HOUR\r\nexport const MAX_CAMPAIGN_WITHDRAW_START_DAYS = 90\r\nexport const MAX_CAMPAIGN_WITHDRAW_START =\r\n\tDAY * MAX_CAMPAIGN_WITHDRAW_START_DAYS\r\n","import * as types from 'constants/actionTypes'\r\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast, updateSpinner } from './uiActions'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport { validations, Joi, schemas, constants, helpers } from 'adex-models'\r\nimport { validPassword } from 'helpers/validators'\r\nimport {\r\n\tt,\r\n\tselectAuthType,\r\n\tselectAccountStatsRaw,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getEmail } from 'services/adex-relayer/actions'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tMAX_CAMPAIGN_WITHDRAW_START_DAYS,\r\n\tMAX_CAMPAIGN_WITHDRAW_START,\r\n} from 'constants/targeting'\r\nconst { IdentityPrivilegeLevel, CountryTiers, OsGroups } = constants\r\nconst { bondPerActionToUserInputPerMileValue } = helpers\r\n\r\nconst { campaignPut, account } = schemas\r\nconst { isNumberString } = validations\r\n\r\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst authType = selectAuthType(getState())\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\r\n\t\t\tif (validate) {\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(name, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\tkey,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validate(\r\n\tvalidateId,\r\n\tkey,\r\n\t{\r\n\t\tisValid,\r\n\t\terr = { msg: '', args: [], fields: {} },\r\n\t\tdirty = false,\r\n\t\tremoveAll = false,\r\n\t}\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (!isValid) {\r\n\t\t\tlet errors = {}\r\n\t\t\terrors[key] = {\r\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\r\n\t\t\t\terrFields: err.fields,\r\n\t\t\t\tdirty,\r\n\t\t\t}\r\n\r\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\r\n\t\t} else if (removeAll) {\r\n\t\t\tresetValidationErrors(validateId)(dispatch)\r\n\t\t} else {\r\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport const handleAfterValidation = async ({\r\n\tisValid,\r\n\tonValid,\r\n\tonInvalid,\r\n}) => {\r\n\tif (isValid && typeof onValid === 'function') {\r\n\t\tawait onValid()\r\n\t}\r\n\tif (!isValid && typeof onInvalid === 'function') {\r\n\t\tawait onInvalid()\r\n\t}\r\n}\r\n\r\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tvalidate(validateId, 'emailCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePassword(validateId, password, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tvalidate(validateId, 'password', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePasswordCheck(\r\n\tvalidateId,\r\n\tpasswordCheck,\r\n\tpassword,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tvalidate(validateId, 'passwordCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateTOS(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'tosCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateENS({ username, dirty, validateId }) {\r\n\treturn async function(dispatch) {\r\n\t\tlet msg = !username\r\n\t\t\t? 'ERR_NO_ENS_USERNAME_PROVIDED'\r\n\t\t\t: /^([a-z0-9]+)$/.test(username)\r\n\t\t\t? null\r\n\t\t\t: 'ERR_INVALID_ENS_USER_NAME'\r\n\r\n\t\tif (!msg) {\r\n\t\t\tmsg = (\r\n\t\t\t\tawait freeAdExENS({\r\n\t\t\t\t\tusername,\r\n\t\t\t\t})\r\n\t\t\t).msg\r\n\t\t}\r\n\r\n\t\tconst isValid = !msg\r\n\t\tvalidate(validateId, 'username', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateWallet(validateId, wallet, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!wallet && !!wallet.address\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateIdentityContractOwner(\r\n\tvalidateId,\r\n\tidentityContractOwner,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!identityContractOwner\r\n\t\tvalidate(validateId, 'identityContractOwner', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateKnowFrom(validateId, knowFrom, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!knowFrom\r\n\t\tvalidate(validateId, 'knowFrom', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_DROPDOWN_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateUserSide(validateId, userSide, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!userSide\r\n\t\tvalidate(validateId, 'userSide', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_USER_SIDE_SELECT_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateMoreInfo(validateId, knowFrom, moreInfo, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tknowFrom === 'other' || knowFrom === 'event' ? !!moreInfo : true\r\n\t\tvalidate(validateId, 'moreInfo', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_MOREINFO_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateAccessWarning(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'accessWarningCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignUnits({ validateId, adUnits, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!adUnits && adUnits.length\r\n\t\tvalidate(validateId, 'adUnits', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\t!!validators &&\r\n\t\t\tvalidators.length === 2 &&\r\n\t\t\t!!validators[0] &&\r\n\t\t\t!!validators[1] &&\r\n\t\t\t!!validators[0].id &&\r\n\t\t\t!!validators[0].url &&\r\n\t\t\tvalidators[0].feeNum !== undefined &&\r\n\t\t\tvalidators[0].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined &&\r\n\t\t\t!!validators[1].id &&\r\n\t\t\t!!validators[1].url &&\r\n\t\t\tvalidators[1].feeNum !== undefined &&\r\n\t\t\tvalidators[1].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined\r\n\r\n\t\tvalidate(validateId, 'validators', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateFees({\r\n\tvalidateId,\r\n\tfeesAmountBN,\r\n\tamountToSpendBN,\r\n\terrorMsg = '',\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = true\r\n\t\tlet msg = errorMsg\r\n\t\tlet args = []\r\n\t\tconst state = getState()\r\n\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\t\tconst amountNeeded = BigNumber.from(feesAmountBN).add(\r\n\t\t\tBigNumber.from(amountToSpendBN)\r\n\t\t)\r\n\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\r\n\t\tif (amountNeeded.gt(BigNumber.from(availableIdentityBalanceMainTokenRaw))) {\r\n\t\t\tconst amountNeededFormatted = formatTokenAmount(\r\n\t\t\t\tamountNeeded,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tnull,\r\n\t\t\t\t2\r\n\t\t\t)\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_TX_INSUFFICIENT_BALANCE'\r\n\t\t\targs = [\r\n\t\t\t\tamountNeededFormatted,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tsymbol,\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'fees', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateWithdrawAmount({\r\n\tvalidateId,\r\n\tamountToWithdraw,\r\n\tavailableIdentityBalanceMainTokenRaw,\r\n\tavailableIdentityBalanceMainTokenFormatted,\r\n\tdecimals,\r\n\tsymbol,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch) {\r\n\t\tlet isValid = isNumberString(amountToWithdraw)\r\n\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet args = []\r\n\t\tconst amount = isValid ? utils.parseUnits(amountToWithdraw, decimals) : null\r\n\t\tif (isValid && amount.isZero()) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\r\n\t\t} else if (\r\n\t\t\tisValid &&\r\n\t\t\tamount.gt(BigNumber.from(availableIdentityBalanceMainTokenRaw))\r\n\t\t) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'amountToWithdraw', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateNumberString({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\tintegerOnly,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = isNumberString(value)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT'\r\n\r\n\t\tif (isValid && integerOnly) {\r\n\t\t\tconst int = parseInt(value, 10)\r\n\t\t\tif (int.toString() !== value.toString()) {\r\n\t\t\t\tisValid = false\r\n\t\t\t\tmsg = 'ERR_INVALID_INTEGER_NUMBER'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args: [value] },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAmount({\r\n\tvalidateId,\r\n\tdirty,\r\n\terrMsg,\r\n\tdepositAmount,\r\n\tpricingBounds = { IMPRESSION: {} },\r\n\tspecPricingBounds,\r\n\tmaxDeposit,\r\n\tdecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst min = pricingBounds.IMPRESSION.min || ''\r\n\t\tconst max = pricingBounds.IMPRESSION.max || ''\r\n\t\tconst isValidNumberDeposit = isNumberString(depositAmount)\r\n\t\tconst isValidNumberMin = isNumberString(min)\r\n\t\tconst isValidNumberMax = isNumberString(max)\r\n\r\n\t\tconst checkSpeckBounds = !!specPricingBounds && specPricingBounds.IMPRESSION\r\n\r\n\t\tlet isValidDeposit = isValidNumberDeposit\r\n\t\tlet isValidMin = isValidNumberMin\r\n\t\tlet isValidMax = isValidNumberMax\r\n\r\n\t\tlet msgDeposit = errMsg || 'ERR_INVALID_AMOUNT'\r\n\t\tlet msgMin = errMsg || 'ERR_INVALID_AMOUNT'\r\n\t\tlet msgMax = errMsg || 'ERR_INVALID_AMOUNT'\r\n\t\tlet argsMin = []\r\n\t\tlet argsMax = []\r\n\t\tlet argsDeposit = []\r\n\r\n\t\tif (isValidDeposit && isValidMin && isValidMax) {\r\n\t\t\tconst depositBn = utils.parseUnits(depositAmount, decimals)\r\n\t\t\tconst minBn = utils.parseUnits(min, decimals)\r\n\t\t\tconst maxBn = utils.parseUnits(max, decimals)\r\n\r\n\t\t\tif (!depositBn.isZero() && depositBn.gt(maxDeposit)) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_INSUFFICIENT_IDENTITY_BALANCE'\r\n\t\t\t}\r\n\r\n\t\t\tif (!depositBn.isZero() && depositBn.lt(minBn)) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_DEPOSIT_UNDER_CPM'\r\n\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_CPM_OVER_DEPOSIT'\r\n\t\t\t}\r\n\r\n\t\t\tif (!depositBn.isZero() && depositBn.lt(maxBn)) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_DEPOSIT_UNDER_MAX_CPM'\r\n\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_OVER_DEPOSIT'\r\n\t\t\t}\r\n\r\n\t\t\tif (depositBn.lte(BigNumber.from(0))) {\r\n\t\t\t\tisValidDeposit = false\r\n\t\t\t\tmsgDeposit = 'ERR_ZERO_DEPOSIT'\r\n\t\t\t}\r\n\r\n\t\t\tif (minBn.lte(BigNumber.from(0))) {\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_ZERO_MIN_CPM'\r\n\t\t\t}\r\n\r\n\t\t\tif (maxBn.lte(BigNumber.from(0))) {\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_ZERO_MAX_CPM'\r\n\t\t\t}\r\n\r\n\t\t\tif (maxBn.lt(minBn)) {\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_LT_MIN_CPM'\r\n\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_MIN_CPM_GT_MAX_CPM'\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tcheckSpeckBounds &&\r\n\t\t\t\tminBn.div(1000).lt(BigNumber.from(specPricingBounds.IMPRESSION.min))\r\n\t\t\t) {\r\n\t\t\t\tisValidMin = false\r\n\t\t\t\tmsgMin = 'ERR_MIN_CPM_LESS_THAN_SPEC'\r\n\t\t\t\targsMin = [\r\n\t\t\t\t\tbondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\t\tspecPricingBounds.IMPRESSION.min,\r\n\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t),\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tcheckSpeckBounds &&\r\n\t\t\t\tmaxBn.div(1000).gt(BigNumber.from(specPricingBounds.IMPRESSION.max))\r\n\t\t\t) {\r\n\t\t\t\tisValidMax = false\r\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_HIGHER_THAN_SPEC'\r\n\t\t\t\targsMax = [\r\n\t\t\t\t\tbondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\t\tspecPricingBounds.IMPRESSION.max,\r\n\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t),\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'depositAmount', {\r\n\t\t\tisValid: isValidDeposit,\r\n\t\t\terr: { msg: msgDeposit, args: argsDeposit },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tawait validate(validateId, 'minPerImpression', {\r\n\t\t\tisValid: isValidMin,\r\n\t\t\terr: { msg: msgMin, args: argsMin },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tawait validate(validateId, 'maxPerImpression', {\r\n\t\t\tisValid: isValidMax,\r\n\t\t\terr: { msg: msgMax, args: argsMax },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValidDeposit && isValidMin && isValidMax\r\n\t}\r\n}\r\n\r\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\r\n\r\nconst getCampaignDatesValidation = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet errActiveFrom = null\r\n\tlet errWithdrawPeriodStart = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_END_BEFORE_START' }\r\n\t} else if (\r\n\t\twithdrawPeriodStart &&\r\n\t\tactiveFrom &&\r\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\r\n\t) {\r\n\t\terrWithdrawPeriodStart = {\r\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\r\n\t\t\targs: ['1', 'HOUR'],\r\n\t\t}\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_END_BEFORE_NOW' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terrActiveFrom = { message: 'ERR_START_BEFORE_NOW' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_NO_END' }\r\n\t}\r\n\r\n\tif (!withdrawPeriodStart) {\r\n\t\terrWithdrawPeriodStart = { message: 'ERR_NO_DATE_SET' }\r\n\t}\r\n\r\n\tif (withdrawPeriodStart > created + MAX_CAMPAIGN_WITHDRAW_START) {\r\n\t\terrWithdrawPeriodStart = {\r\n\t\t\tmessage: 'ERR_CAMPAIGN_END_DATE_OVER_MAX',\r\n\t\t\targs: [MAX_CAMPAIGN_WITHDRAW_START_DAYS],\r\n\t\t}\r\n\t}\r\n\r\n\tif (!activeFrom) {\r\n\t\terrActiveFrom = { message: 'ERR_NO_DATE_SET' }\r\n\t}\r\n\r\n\treturn { errActiveFrom, errWithdrawPeriodStart }\r\n}\r\n\r\nexport function validateCampaignDates({\r\n\tvalidateId,\r\n\tactiveFrom,\r\n\twithdrawPeriodStart,\r\n\tdirty,\r\n\tcreated,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst {\r\n\t\t\terrActiveFrom,\r\n\t\t\terrWithdrawPeriodStart,\r\n\t\t} = getCampaignDatesValidation({\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tcreated,\r\n\t\t})\r\n\r\n\t\tvalidate(validateId, 'activeFrom', {\r\n\t\t\tisValid: !errActiveFrom,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: (errActiveFrom || {}).message,\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\r\n\t\t\tisValid: !errWithdrawPeriodStart,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: errWithdrawPeriodStart ? errWithdrawPeriodStart.message : '',\r\n\t\t\t\targs: errWithdrawPeriodStart && (errWithdrawPeriodStart.args || []),\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tconst isValid = !errWithdrawPeriodStart && !errActiveFrom\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignTitle({ validateId, title, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst result = Joi.validate(title, campaignPut.title)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tvalidate(validateId, 'title', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEthAddress({\r\n\tvalidateId,\r\n\tprop,\r\n\taddr,\r\n\tnonZeroAddr = true,\r\n\tnonERC20 = true,\r\n\tdirty,\r\n\tauthType,\r\n\tquickCheck,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { msg } = await validEthAddress({\r\n\t\t\taddr,\r\n\t\t\tnonZeroAddr,\r\n\t\t\tnonERC20,\r\n\t\t\tauthType,\r\n\t\t\tquickCheck,\r\n\t\t})\r\n\r\n\t\tconst isValid = !msg\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesAddress({\r\n\tvalidateId,\r\n\tsetAddr = '',\r\n\twalletAddr = '',\r\n\tprivLevel,\r\n\tauthType,\r\n\twarningAccepted,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isCurrentAddress =\r\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\r\n\t\tlet isValid = warningAccepted || !isCurrentAddress\r\n\r\n\t\tlet msg = ''\r\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\r\n\t\tif (isCurrentAddress && privLevel === 0) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\r\n\t\t} else if (isCurrentAddress && privLevel === 1) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\r\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\r\n\t\t\tisValid = true\r\n\t\t} else if (!isCurrentAddress) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'setAddrWarning', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn { isValid, msg }\r\n\t}\r\n}\r\n\r\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\r\n\t\tawait validate(validateId, 'privLevel', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(value, schema)\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(email, account.email)\r\n\t\tlet isValid = !result.error\r\n\t\tlet msg = result.error ? result.error.message : ''\r\n\r\n\t\tif (validateNotExisting && isValid) {\r\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\r\n\t\t\tisValid = existing === false\r\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'email', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport const locationAudienceInputError = ({ apply, ...values } = {}) => {\r\n\tif (!apply) {\r\n\t\treturn 'ERR_LOCATION_AUDIENCE_NOT_SELECTED'\r\n\t} else if (apply === 'in' && !values.in.length) {\r\n\t\treturn 'ERR_LOCATION_AUDIENCE_IN_NOT_SELECTED'\r\n\t} else if (apply === 'nin' && !values.nin.length) {\r\n\t\treturn 'ERR_LOCATION_AUDIENCE_NIN_NOT_SELECTED'\r\n\t} else if (\r\n\t\tapply === 'nin' &&\r\n\t\tObject.keys(CountryTiers).every(x => values.nin.includes(x))\r\n\t) {\r\n\t\treturn 'ERR_LOCATION_CAN_NOT_EXCLUDE_ALL_COUNTRIES'\r\n\t}\r\n}\r\n\r\nexport const publishersAudienceInputError = ({ apply, ...values } = {}) => {\r\n\tif (!apply) {\r\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NOT_SELECTED'\r\n\t} else if (apply === 'in' && (!values.in || !values.in.length)) {\r\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_IN_NOT_SELECTED'\r\n\t} else if (apply === 'nin' && (!values.nin || !values.nin.length)) {\r\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NIN_NOT_SELECTED'\r\n\t}\r\n}\r\n\r\nexport const categoriesAudienceInputError = ({\r\n\tapply = [],\r\n\t...values\r\n} = {}) => {\r\n\tif (!apply.includes('in')) {\r\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_NOT_SELECTED'\r\n\t} else if (apply.includes('in') && (!values.in || !values.in.length)) {\r\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_IN_NOT_SELECTED'\r\n\t}\r\n}\r\n\r\nexport const devicesAudienceInputError = ({ apply, ...values } = {}) => {\r\n\tif (\r\n\t\tapply === 'nin' &&\r\n\t\tObject.keys(OsGroups).every(x => values.nin.includes(x))\r\n\t) {\r\n\t\treturn 'ERR_DEVICES_CAN_NOT_EXCLUDE_ALL_DEVICES'\r\n\t}\r\n}\r\n\r\nexport function validateAudience({ validateId, propName, inputs, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst { location, categories, publishers, devices } = inputs\r\n\r\n\t\tconst errors = [\r\n\t\t\tlocationAudienceInputError(location),\r\n\t\t\tpublishersAudienceInputError(publishers),\r\n\t\t\tcategoriesAudienceInputError(categories),\r\n\t\t\tdevicesAudienceInputError(devices),\r\n\t\t]\r\n\r\n\t\tconst isValid = errors.every(e => !e)\r\n\t\tconst errArgs = errors\r\n\t\t\t.filter(e => !!e)\r\n\t\t\t.map(e => t(e))\r\n\t\t\t.join(', ')\r\n\r\n\t\tawait validate(validateId, propName, {\r\n\t\t\tisValid,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_AUDIENCE_INPUT',\r\n\t\t\t\targs: [errArgs],\r\n\t\t\t\tfields: {\r\n\t\t\t\t\tlocation: !!errors[0],\r\n\t\t\t\t\tpublishers: !!errors[1],\r\n\t\t\t\t\tcategories: !!errors[2],\r\n\t\t\t\t\tdevices: !!errors[3],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","const MAX_ASPECT_TOLERANCE = 5\r\n\r\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n\r\nexport const checkExactishAspect = (\r\n\twidthTarget,\r\n\twidth,\r\n\theightTarget,\r\n\theight,\r\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\r\n) => {\r\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\r\n\t\treturn false\r\n\t}\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\r\n\tconst aspect = parseFloat(width / height)\r\n\r\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width &&\r\n\t\theightTarget <= height &&\r\n\t\taspectDiff <= maxPercentTolerance\r\n\r\n\treturn isValid\r\n}\r\n","import { validate } from 'actions'\r\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\r\n\r\nexport function validateMediaSize({\r\n\tvalidateId,\r\n\tmedia,\r\n\tpropName,\r\n\tdirty,\r\n\twidthTarget,\r\n\theightTarget,\r\n\tmsg,\r\n\texact,\r\n\trequired,\r\n} = {}) {\r\n\treturn async function(dispatch) {\r\n\t\tconst { mime, tempUrl } = media\r\n\t\tlet isValid = mime && tempUrl\r\n\t\tlet args = [widthTarget, heightTarget, 'px']\r\n\r\n\t\tif (!required && !media.tempUrl) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tif (required && isValid) {\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\t\t\tconst mediaWidth = size.width\r\n\t\t\tconst mediaHeight = size.height\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactishAspect(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, propName, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow, skipRedirect) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut(skipRedirect)\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\thandleRequesterErrorRes({ res, text })\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdUnitById = ({ unitId }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${unitId}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getTargetingData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots/targeting-data',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `slots/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getUserCampaigns = ({ authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${campaign.id}/close`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({\r\n\tall,\r\n\tstatuses,\r\n\tbyEarner,\r\n\tbyCreator,\r\n\tcacheBrake,\r\n\tstatusOnly,\r\n} = {}) => {\r\n\tconst queryParams = {\r\n\t\t...(all && { all: true }),\r\n\t\t...(statusOnly && { statusOnly: true }),\r\n\t\t...(statuses && { status: statuses.join(',') }),\r\n\t\tbyEarner,\r\n\t\tbyCreator,\r\n\t\t...(cacheBrake && { cacheBrake: Date.now() }),\r\n\t}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateCampaign = ({ campaign, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(campaign),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const verifyWebsite = ({ websiteUrl }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots/verify-website',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON({ websiteUrl }),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getUserAudiences = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'audiences',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getUserAudienceByCampaign = ({ campaignId }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `audiences/${campaignId}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const putAudience = ({ audience, id }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `audiences/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(audience),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAudience = ({ audience }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `audiences`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(audience),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tgetAdUnits,\r\n\tgetAdSlots,\r\n\tgetUserAudiences,\r\n\tuploadImage,\r\n\tupdateAdSlot,\r\n\tupdateAdUnit,\r\n\tupdateCampaign,\r\n\tputAudience,\r\n} from 'services/adex-market/actions'\r\nimport { execute, addToast as AddToastUi, updateSpinner } from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { Base, AdSlot, AdUnit, helpers, Campaign, Audience } from 'adex-models'\r\n\r\nimport { translate } from 'services/translations/translations'\r\n\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { SOURCES } from 'constants/targeting'\r\nimport { selectAccount, selectAuth, selectItemByTypeAndId } from 'selectors'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nexport const getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\nexport function getAllItems(onDataUpdated) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\t\t\tconst audiences = getUserAudiences()\r\n\r\n\t\t\tconst [resAudiences, resUnits, resSlots] = await Promise.all([\r\n\t\t\t\taudiences,\r\n\t\t\t\tunits,\r\n\t\t\t\tslots,\r\n\t\t\t])\r\n\t\t\tconst userSlots = resSlots.slots || []\r\n\t\t\tconst userPassbackUnits = (resSlots.passbackUnits || []).reduce(\r\n\t\t\t\t(passbacks, u) => {\r\n\t\t\t\t\tconst { id, mediaMime, mediaUrl, targetUrl } = u\r\n\t\t\t\t\tpassbacks[id] = { mediaMime, mediaUrl, targetUrl }\r\n\r\n\t\t\t\t\treturn passbacks\r\n\t\t\t\t},\r\n\t\t\t\t{}\r\n\t\t\t)\r\n\r\n\t\t\tconst slotsWithUnits = userSlots.map(async s => ({\r\n\t\t\t\t...s,\r\n\t\t\t\t...(s.fallbackUnit ? userPassbackUnits[s.fallbackUnit] : {}),\r\n\t\t\t}))\r\n\r\n\t\t\tconst slotWithUnitsRes = await Promise.all(slotsWithUnits)\r\n\t\t\tif (selectAuth(getState())) {\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: resAudiences.audiences,\r\n\t\t\t\t\titemType: 'Audience',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: slotWithUnitsRes,\r\n\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tupdateItems({ items: resSlots.websites || [], itemType: 'Website' })(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tif (typeof onDataUpdated === 'function') {\r\n\t\t\t\t\tonDataUpdated()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({\r\n\titem,\r\n\titemType,\r\n\taction = 'UPDATING',\r\n\tonSuccess,\r\n\tgoToTableOnSuccess = false,\r\n} = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { id } = item\r\n\t\tupdateSpinner(action + id, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tlet updatedItem = null\r\n\t\t\tlet objModel = null\r\n\t\t\tlet path = ''\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot': // In case newItem.website is null (very few slots)\r\n\t\t\t\t\tnewItem.website = newItem.website || ''\r\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id })).slot\r\n\t\t\t\t\tobjModel = AdSlot\r\n\t\t\t\t\tpath = '/dashboard/publisher/slots'\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id })).unit\r\n\t\t\t\t\tobjModel = AdUnit\r\n\t\t\t\t\tpath = '/dashboard/advertiser/units'\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id })).campaign\r\n\t\t\t\t\tobjModel = Campaign\r\n\t\t\t\t\tpath = '/dashboard/advertiser/campaigns'\r\n\t\t\t\t\tbreak\r\n\r\n\t\t\t\tcase 'Audience':\r\n\t\t\t\t\tconst audience = new Audience(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await putAudience({ audience, id })).audience\r\n\t\t\t\t\tobjModel = Audience\r\n\t\t\t\t\tpath = '/dashboard/advertiser/audiences'\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: `SUCCESS_${action}_ITEM`,\r\n\t\t\t\targs: [itemType, item.title],\r\n\t\t\t})\r\n\r\n\t\t\tif (goToTableOnSuccess) {\r\n\t\t\t\texecute(push(path))\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_${action}_ITEM`, err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: `ERR_${action}_ITEM`,\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner(action + item.id, false)(dispatch)\r\n\t}\r\n}\r\n\r\nconst findSourceByTag = tag => {\r\n\treturn Object.keys(SOURCES).find(\r\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\r\n\t)\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: key,\r\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ itemId, itemType, goToTableOnSuccess } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst selectedItem = selectItemByTypeAndId(getState(), itemType, itemId)\r\n\t\tconst item = { ...selectedItem }\r\n\t\titem.archived = true\r\n\r\n\t\tawait updateItem({\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t\taction: 'ARCHIVING',\r\n\t\t\tgoToTableOnSuccess,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","export function loadFromLocalStorage(key) {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n\r\nexport function removeFromLocalStorage(key) {\r\n\tlocalStorage.removeItem(key)\r\n}\r\n\r\nexport function getKeys() {\r\n\treturn Object.keys(localStorage)\r\n}\r\n","import { ethers, utils } from 'ethers'\r\nimport pbkdf2 from 'pbkdf2'\r\nimport {\r\n\tencrypt,\r\n\tdecrypt,\r\n\tencryptLegacy,\r\n\tdecryptLegacy,\r\n} from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n\tgetKeys,\r\n\tremoveFromLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tpbkdf2.pbkdf2(\r\n\t\t\tpass,\r\n\t\t\tsalt,\r\n\t\t\titerations,\r\n\t\t\tkeylen,\r\n\t\t\tdigiset,\r\n\t\t\t(err, derivedKey) => {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn reject(err)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst res = derivedKey.toString(encoding)\r\n\r\n\t\t\t\treturn resolve(res)\r\n\t\t\t}\r\n\t\t)\r\n\t})\r\n}\r\n\r\nasync function getCipherKey({ email, password }) {\r\n\tconst pass = generateSalt(password)\r\n\tconst salt = generateSalt(email)\r\n\r\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn key\r\n}\r\n\r\nfunction isLegacyCrypto(authType) {\r\n\treturn !authType || authType === 'legacy' || authType === 'grant'\r\n}\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport async function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\tconst walletData = {\r\n\t\tmnemonic: wallet.mnemonic.phrase,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.mnemonic.path,\r\n\t}\r\n\r\n\treturn walletData\r\n}\r\n\r\nasync function encrKey({ email, password, authType }) {\r\n\tif (!authType) {\r\n\t\treturn await encryptLegacy(email, password)\r\n\t} else if (typeof authType === 'string') {\r\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\r\n\t} else {\r\n\t\tthrow new Error('INVALID_TYPE')\r\n\t}\r\n}\r\n\r\nexport async function encrData({ email = '', password, data, authType }) {\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\tconst jsonData = JSON.stringify(data)\r\n\tif (isLegacy) {\r\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\r\n\t\treturn legacyEncrypted\r\n\t} else {\r\n\t\tconst encrypted = await encrypt(\r\n\t\t\tjsonData,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t\treturn encrypted\r\n\t}\r\n}\r\n\r\nexport async function decrData({ email = '', password, data, authType }) {\r\n\tlet decryptedStr = ''\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\r\n\tif (isLegacy) {\r\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\r\n\t} else {\r\n\t\tdecryptedStr = await decrypt(\r\n\t\t\tdata,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst decr = JSON.parse(decryptedStr)\r\n\t\treturn decr\r\n\t} catch (err) {\r\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\r\n\t}\r\n}\r\n\r\nexport async function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic,\r\n\tauthType = '',\r\n}) {\r\n\tconst walletData = await generateWallet(mnemonic)\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst data = await encrData({ data: walletData, email, password, authType })\r\n\tawait saveToLocalStorage({ data }, key)\r\n\r\n\twalletData.authType = authType\r\n\treturn walletData\r\n}\r\n\r\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\r\n\tconst wallet = await getLocalWallet({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tgetEncrypted: true,\r\n\t})\r\n\r\n\tif (wallet && wallet.data) {\r\n\t\tconst newKey = await encrKey({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\r\n\t\t})\r\n\t\tsaveToLocalStorage(wallet, newKey)\r\n\t}\r\n}\r\n\r\nexport async function removeLegacyKey({ email = '', password = '' }) {\r\n\tconst key = await encrKey({ email, password })\r\n\tremoveFromLocalStorage(key)\r\n}\r\n\r\nexport async function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n\tauthType,\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('INVALID_DATA_KEY')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('WALLET_NOT_FOUND')\r\n\t}\r\n\r\n\tconst data = await encrData({ data: dataValue, email, password, authType })\r\n\twallet[dataKey] = data\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport async function getRecoveryWalletData({ email, password, authType }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport async function getLocalWallet({\r\n\temail,\r\n\tpassword,\r\n\tauthType,\r\n\tgetEncrypted,\r\n}) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tif (getEncrypted) {\r\n\t\t\treturn wallet\r\n\t\t}\r\n\r\n\t\tconst walletKeys = Object.keys(wallet)\r\n\r\n\t\tconst decrypts = walletKeys.map(async key => {\r\n\t\t\t// props[key] = await decrData({\r\n\t\t\t// \tdata: wallet[key],\r\n\t\t\t// \temail,\r\n\t\t\t// \tpassword,\r\n\t\t\t// \tauthType,\r\n\t\t\t// })\r\n\r\n\t\t\tconst decryptedData = await decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\treturn decryptedData\r\n\t\t})\r\n\r\n\t\tconst decryptedData = await Promise.all(decrypts)\r\n\r\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\r\n\t\t\tprops[key] = decryptedData[index]\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn decryptedWallet\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nfunction isWallet(item) {\r\n\treturn item && item.data && item.identity && item.privileges\r\n}\r\n\r\nexport function walletInfo(key, index, wallet) {\r\n\tconst split = key.split('-')\r\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\r\n\tconst authType = split[1] || 'legacy'\r\n\tconst name = mail || `Grant account # ${index + 1}`\r\n\r\n\tconst info = {\r\n\t\tkey,\r\n\t\twallet,\r\n\t\tname,\r\n\t\tauthType,\r\n\t}\r\n\r\n\treturn info\r\n}\r\n\r\nexport function getAllWallets() {\r\n\tconst walletKeys = getKeys()\r\n\t\t.map(key => {\r\n\t\t\treturn {\r\n\t\t\t\tkey,\r\n\t\t\t\titem: loadFromLocalStorage(key),\r\n\t\t\t}\r\n\t\t})\r\n\t\t.filter(({ item }) => isWallet(item))\r\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\r\n\r\n\treturn walletKeys\r\n}\r\n\r\nexport async function getWalletHash({ salt, password }) {\r\n\tconst passwordId = utils.id(password)\r\n\r\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn hash\r\n}\r\n\r\nexport function generateSalt(dataStr) {\r\n\tif (typeof dataStr !== 'string') {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\r\n\t} else if (!dataStr.length) {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\r\n\t}\r\n\r\n\tconst id = utils.id(dataStr)\r\n\tconst salt = utils.keccak256(id)\r\n\treturn salt\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\r\n\t\tthis._provider = provider\r\n\t\tthis._opts = opts\r\n\t}\r\n\r\n\tgetWallet = async () => {\r\n\t\tif (this._wallet) {\r\n\t\t\treturn this._wallet\r\n\t\t} else {\r\n\t\t\tconst { email, password, authType } = this._opts\r\n\t\t\tconst walletData = await getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\r\n\t\t\treturn this._wallet\r\n\t\t}\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn await this.getWallet().address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = await this.getWallet().sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst wallet = await this.getWallet()\r\n\r\n\t\tconst signature = await wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (\r\n\t\tauthType === AUTH_TYPES.GRANT.name ||\r\n\t\tauthType === AUTH_TYPES.QUICK.name\r\n\t) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\tconst hash = utils.solidityKeccak256(\r\n\t\t['bytes32', 'bytes32'],\r\n\t\t[schemaHash, valuesHash]\r\n\t)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\r\n\r\nconst getValidatorRequester = ({ baseUrl }) => {\r\n\treturn new Requester({ baseUrl })\r\n}\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\r\n\tconst followerRequester = getValidatorRequester({\r\n\t\tbaseUrl: follower.url,\r\n\t})\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validatorId,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ campaign, options, account }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: follower.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst leaderAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: leader.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t\tauthTokens: {\r\n\t\t\t[follower.id]: followerAuthToken,\r\n\t\t\t[leader.id]: leaderAuthToken,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ campaign, account }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const updateTargeting = ({ campaign, account, targetingRules }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({\r\n\t\t\tevents: [{ type: 'UPDATE_TARGETING', targetingRules }],\r\n\t\t}),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const identityAnalytics = async ({\r\n\tleaderAuth,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n\tside,\r\n\tsegmentByChannel,\r\n\tstart,\r\n\tend,\r\n\tweekHoursSpan,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tlimit,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\teventType,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t\tweekHoursSpan,\r\n\t\t\t\ttimezone: dateUtils.getCurrentTimezone(),\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn { aggregates, metric }\r\n}\r\n\r\nexport const identityAdvancedAnalytics = async ({ leaderAuth, eventType }) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/advanced`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType },\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn aggregates\r\n}\r\n\r\nexport const campaignAnalytics = ({\r\n\tcampaign,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n}) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${campaign.id}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const timeBasedAnalytics = async ({\r\n\tleaderAuth,\r\n\tlimit,\r\n\ttimeframe,\r\n\teventType,\r\n\tmetric,\r\n\tside,\r\n\tstart,\r\n\tend,\r\n\tsegmentByChannel,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst result = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tlimit,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\teventType,\r\n\t\t\t\tmetric,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\treturn result\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectFeeTokenWhitelist,\r\n} from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\r\n\tif (token.address === mainToken.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\r\n\r\n\t// approve + swap txns\r\n\tconst swapFees = BigNumber.from(feeToken.min).mul(BigNumber.from(2))\r\n\r\n\tconst isAvailable = swapFees.mul(BigNumber.from(2)).lte(balance)\r\n\treturn isAvailable ? balance : BigNumber.from(0)\r\n}\r\n\r\nexport const getTotalAccountRevenue = async ({ all }) => {\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst totalRevenue = await Object.values(all).reduce(\r\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\r\n\t\t\tconst revenue = await revenuePr\r\n\r\n\t\t\tconst token = withdrawTokens[depositAsset]\r\n\r\n\t\t\t// const hasMinBalance = BigNumber.from(balance).gt(\r\n\t\t\t// \tBigNumber.from(token.minFinal)\r\n\t\t\t// )\r\n\r\n\t\t\t// NOTE: Show everything\r\n\t\t\tconst hasMinBalance = BigNumber.from(balance).gt(BigNumber.from(0))\r\n\r\n\t\t\tconst balanceMainToken = hasMinBalance\r\n\t\t\t\t? await tokenInMainTokenValue({\r\n\t\t\t\t\t\ttoken,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t  })\r\n\t\t\t\t: BigNumber.from(0)\r\n\r\n\t\t\treturn revenue.add(balanceMainToken)\r\n\t\t},\r\n\t\tPromise.resolve(BigNumber.from(0))\r\n\t)\r\n\r\n\treturn totalRevenue\r\n}\r\n\r\nexport const getWithdrawTokensBalances = async ({\r\n\taddress,\r\n\tgetFullBalances,\r\n}) => {\r\n\tconst { getToken } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\r\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\r\n\t\tconst tokenContract = getToken(token)\r\n\r\n\t\tconst balance = await tokenContract.balanceOf(address)\r\n\r\n\t\tconst available = getFullBalances\r\n\t\t\t? balance\r\n\t\t\t: tokenAvailableBalance({\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tmainToken,\r\n\t\t\t\t\tbalance,\r\n\t\t\t  })\r\n\r\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: available,\r\n\t\t})\r\n\r\n\t\treturn { token, balance: available, balanceMainToken }\r\n\t})\r\n\r\n\tconst balances = await Promise.all(balancesCalls)\r\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\r\n\t\t(data, balanceData) => {\r\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\r\n\t\t\t\tbalanceData.balanceMainToken\r\n\t\t\t)\r\n\r\n\t\t\tif (balanceData.token.address === mainToken.address) {\r\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\r\n\t\t\t}\r\n\r\n\t\t\treturn data\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotalBalanceInMainToken: BigNumber.from(0),\r\n\t\t\tmainTokenBalance: BigNumber.from(0),\r\n\t\t}\r\n\t)\r\n\r\n\treturn {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t\ttotalBalanceInMainToken,\r\n\t}\r\n}\r\n\r\nexport async function getAddressBalances({ address, getFullBalances }) {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tgetWithdrawTokensBalances({\r\n\t\t\taddress: address.address,\r\n\t\t\tgetFullBalances,\r\n\t\t}),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: utils.formatEther(balances[0].toString()),\r\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\r\n\t\t\treturn {\r\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\r\n\t\t\t\tsymbol: token.symbol,\r\n\t\t\t}\r\n\t\t}),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({\r\n\taccount,\r\n\toutstandingBalanceMainToken = {\r\n\t\ttotal: BigNumber.from('0'),\r\n\t\tavailable: BigNumber.from('0'),\r\n\t},\r\n\toutstandingBalanceAllMainToken = {\r\n\t\ttotal: BigNumber.from('0'),\r\n\t\tavailable: BigNumber.from('0'),\r\n\t},\r\n\tall,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { address } = identity\r\n\tconst { getIdentity } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst { decimals } = selectMainToken()\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = getIdentity({ address })\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tgetWithdrawTokensBalances({ address }),\r\n\t\tprivilegesAction,\r\n\t\tgetTotalAccountRevenue({ all }),\r\n\t]\r\n\r\n\tconst [\r\n\t\tidentityWithdrawTokensBalancesBalances = {},\r\n\t\twalletPrivileges,\r\n\t\ttotalRevenue,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn undefined\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\tconst identityBalanceMainToken =\r\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken ||\r\n\t\tBigNumber.from(0)\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\tidentityWithdrawTokensBalancesBalances,\r\n\t\twalletPrivileges,\r\n\t\tidentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\r\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\r\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.total\r\n\t\t),\r\n\t\toutstandingBalanceAllMainToken: outstandingBalanceAllMainToken.available,\r\n\t\ttotalOutstandingBalanceAllMainToken: outstandingBalanceAllMainToken.total,\r\n\t\tavailableIdentityBalanceAllMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceAllMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceAllMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceAllMainToken.total\r\n\t\t),\r\n\t\ttotalRevenue,\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceMainToken: formatTokenAmount(\r\n\t\t\tidentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceAllMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceAllMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalRevenue: formatTokenAmount(\r\n\t\t\traw.totalRevenue || '0',\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\n// NOTE: currently working because DAI and SAI has the same price and decimals\r\n// We should use getOutstandingBalanceMainToken if changed\r\nexport async function getOutstandingBalance({ withBalance }) {\r\n\tconst bigZero = BigNumber.from(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable } = ch\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstanding)\r\n\t\tcurrent.available = current.available.add(\r\n\t\t\tBigNumber.from(outstandingAvailable)\r\n\t\t)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\r\n\tconst tokens = selectRoutineWithdrawTokens()\r\n\tconst bigZero = BigNumber.from(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\r\n\t\tconst { depositAsset } = channel\r\n\t\tconst token = tokens[depositAsset]\r\n\r\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\r\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: outstandingAvailable,\r\n\t\t})\r\n\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstandingMT)\r\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getAllValidatorsAuthForIdentity({\r\n\twithBalance,\r\n\taccount,\r\n}) {\r\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\r\n\r\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\r\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\r\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\r\n\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\r\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\tconst keys = Object.keys(allValidators)\r\n\r\n\tconst tokenCalls = keys.map(async key => {\r\n\t\tif (allValidators[key]) {\r\n\t\t\treturn allValidators[key]\r\n\t\t} else {\r\n\t\t\tconst token = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: key,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\treturn token\r\n\t\t}\r\n\t})\r\n\r\n\tconst allTokens = await Promise.all(tokenCalls)\r\n\r\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[key]: allTokens[index],\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\treturn validatorsAuth\r\n}\r\n\r\nconst saiDaiConversion = async ({ token, balance }) => balance\r\n\r\nconst valueInMainTokenConversions = {\r\n\t// SAI\r\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\r\n\t\t// DAI\r\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\r\n\t},\r\n\t// DAI\r\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\r\n\t\t// SAI\r\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\r\n\t},\r\n}\r\n\r\nexport async function tokenInMainTokenValue({ token, balance }) {\r\n\tconst { address } = selectMainToken()\r\n\r\n\tif (address === token.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst valueInMainToken = await valueInMainTokenConversions[\r\n\t\taddress.toLowerCase()\r\n\t][token.address.toLowerCase()]({\r\n\t\ttoken,\r\n\t\tbalance,\r\n\t})\r\n\r\n\treturn valueInMainToken\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\r\nimport { Contract, BigNumber, utils } from 'ethers'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport { executeTx } from 'services/adex-relayer'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectFeeTokenWhitelist,\r\n\tselectSaiToken,\r\n\tt,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\nimport solc from 'solcBrowser'\r\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\r\nimport { EXECUTE_ACTIONS } from 'constants/misc'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nconst { AdExENSManager, ReverseRegistrar } = contracts\r\nconst { Interface, getAddress, parseUnits, id, keccak256 } = utils\r\n\r\nconst ERC20 = new Interface(ERC20TokenABI)\r\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\r\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\r\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\r\n\r\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\r\n\r\nexport async function getIdentityDeployData({\r\n\towner,\r\n\trelayerRoutineAuthValidUntil = 10648454444,\r\n}) {\r\n\tconst {\r\n\t\tidentityFactoryAddr,\r\n\t\trelayerAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tidentityRecoveryAddr,\r\n\t\tcoreAddr,\r\n\t\tmainToken,\r\n\t} = selectRelayerConfig()\r\n\r\n\tconst privileges = [\r\n\t\t[owner, 2],\r\n\t\t[identityRecoveryAddr, 2],\r\n\t]\r\n\r\n\tconst routineAuthorizationsRaw = [\r\n\t\t{\r\n\t\t\trelayer: relayerAddr,\r\n\t\t\toutpace: coreAddr,\r\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tfeeTokenAmount: '0x00',\r\n\t\t},\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tbaseIdentityAddr,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t\troutineAuthsSlot: 1,\r\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\r\n\t\t\t\tnew RoutineAuthorization(x).hash()\r\n\t\t\t),\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst identityAddr = getAddress(\r\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tidentityFactoryAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tidentityAddr,\r\n\t\tprivileges,\r\n\t\troutineAuthorizationsRaw,\r\n\t}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { authType } = wallet\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: tokenAddr,\r\n\t\tto: tokenAddr,\r\n\t\tdata: ERC20.encodeFunctionData('transfer', [withdrawTo, toWithdraw]),\r\n\t\twithdrawTx: true,\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: toWithdraw,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.withdraw,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\tconst mtBalance = BigNumber.from(availableIdentityBalanceMainToken)\r\n\r\n\tif (fees.totalBN.gt(mtBalance)) {\r\n\t\tthrow new Error(\r\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\t`${formatTokenAmount(\r\n\t\t\t\t\t\tmtBalance.toString(),\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t2\r\n\t\t\t\t\t)} ${symbol}`,\r\n\t\t\t\t\t`${fees.total} ${symbol}`,\r\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\r\n\r\n\tlet actualWithdrawAmount = toWithdraw\r\n\r\n\tif (toWithdraw.gt(maxWithdraw)) {\r\n\t\tactualWithdrawAmount = maxWithdraw\r\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\r\n\t\t\tif (tx.withdrawTx) {\r\n\t\t\t\ttx.data = ERC20.encodeFunctionData('transfer', [\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tactualWithdrawAmount.toString(),\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttotalBN: fees.totalBN,\r\n\t\t\tactualWithdrawAmount,\r\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals, null, 2),\r\n\t\t\tbreakdownFormatted: fees.breakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.encodeFunctionData('setAddrPrivilege', [\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.privilegesChange,\r\n\t})\r\n\r\n\tif (getFeesOnly) {\r\n\t\tconst {\r\n\t\t\ttotal,\r\n\t\t\ttotalBN,\r\n\t\t\tbreakdownFormatted,\r\n\t\t} = await getIdentityTxnsTotalFees({\r\n\t\t\ttxnsByFeeToken,\r\n\t\t})\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t\ttotalBN,\r\n\t\t\tbreakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\ttxnsByFeeToken,\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: {\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t},\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\nfunction txnsByTokenWithSaiToDaiSwap({\r\n\ttxns,\r\n\tmainToken,\r\n\tdaiAddr,\r\n\tsaiAddr,\r\n\tidentityAddr,\r\n}) {\r\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\r\n\t\t(current, tx, i) => {\r\n\t\t\tconst { withdrawAmountByToken } = tx\r\n\r\n\t\t\tconst needSaiToDaiSwap =\r\n\t\t\t\t!!saiAddr &&\r\n\t\t\t\t!!withdrawAmountByToken &&\r\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\r\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\r\n\t\t\t\tmainToken.address === daiAddr &&\r\n\t\t\t\tsaiAddr !== daiAddr\r\n\r\n\t\t\tlet feeTokenAddr = ''\r\n\r\n\t\t\tif (needSaiToDaiSwap) {\r\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\r\n\t\t\t\t\tBigNumber.from(withdrawAmountByToken[saiAddr])\r\n\t\t\t\t)\r\n\t\t\t\tfeeTokenAddr = daiAddr\r\n\t\t\t}\r\n\r\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\r\n\t\t\t// normalize tx\r\n\t\t\ttx.feeTokenAddr = feeTokenAddr\r\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\r\n\r\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\r\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\r\n\t\t\t\ttx,\r\n\t\t\t]\r\n\r\n\t\t\treturn current\r\n\t\t},\r\n\t\t{\r\n\t\t\tsaiWithdrawAmount: BigNumber.from('0'),\r\n\t\t\ttxnsByFeeToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { txnsByFeeToken, saiWithdrawAmount }\r\n}\r\n\r\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: AdExENSManager.address,\r\n\t\tdata: AdExENSManagerInterface.encodeFunctionData('registerAndSetup', [\r\n\t\t\tAdExENSManager.publicResolver,\r\n\t\t\tid(username),\r\n\t\t\tidentityAddr,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: ReverseRegistrar.address,\r\n\t\tdata: ReverseRegistrarInterface.encodeFunctionData('setName', [\r\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.ensChange,\r\n\t})\r\n\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { total, totalBN, breakdownFormatted } = await getIdentityTxnsTotalFees(\r\n\t\t{\r\n\t\t\ttxnsByFeeToken,\r\n\t\t\tmainToken,\r\n\t\t}\r\n\t)\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t\ttotalBN,\r\n\t\t\tbreakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function getIdentityTxnsWithNoncesAndFees({\r\n\tamountInMainTokenNeeded = '0',\r\n\texecuteAction = 'DEFAULT',\r\n\ttxns = [],\r\n\tidentityAddr,\r\n\tprovider,\r\n\tIdentity,\r\n\taccount,\r\n\tgetToken,\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\r\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\r\n\r\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\r\n\tlet identityContract = null\r\n\r\n\tif (isDeployed) {\r\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\t}\r\n\r\n\tconst initialNonce = isDeployed\r\n\t\t? (await identityContract.nonce()).toNumber()\r\n\t\t: 0\r\n\r\n\tconst baseFee = BigNumber.from(\r\n\t\t(mainTokenWithFees.executeBaseFee || {})[executeAction] || '0'\r\n\t)\r\n\r\n\tconst mainTxnsFees = txns.length\r\n\t\t? BigNumber.from(\r\n\t\t\t\t!initialNonce\r\n\t\t\t\t\t? mainTokenWithFees.minDeploy\r\n\t\t\t\t\t: mainTokenWithFees.minRecommended\r\n\t\t  ).add(\r\n\t\t\t\tBigNumber.from(mainTokenWithFees.minRecommended).mul(\r\n\t\t\t\t\tBigNumber.from(txns.length - 1)\r\n\t\t\t\t)\r\n\t\t  )\r\n\t\t: BigNumber.from(0)\r\n\r\n\tconst feesForMainTxns = baseFee.add(mainTxnsFees)\r\n\r\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\r\n\t\tBigNumber.from(amountInMainTokenNeeded)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsweepTxns = [],\r\n\t\tswapAmountsByToken = {},\r\n\t} = await getSweepingTxnsIfNeeded({\r\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\r\n\r\n\t\taccount,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns: sweepTxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// 1st - always get sweeping txns (channelWithdraw)\r\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\r\n\t// 3rd - make other txns with the main token only\r\n\r\n\t// TODO: make it work with other tokens\r\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\r\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\r\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\r\n\t\t.add(BigNumber.from(swapAmountsByToken[saiAddr] || 0))\r\n\r\n\tif (!saiSwapAmount.isZero()) {\r\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\r\n\t\t\t...(await swapSaiToDaiTxns({\r\n\t\t\t\tgetToken,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tdaiAddr,\r\n\t\t\t\tsaiToken,\r\n\t\t\t\tswapAmount: saiSwapAmount,\r\n\t\t\t})),\r\n\t\t]\r\n\t}\r\n\r\n\tconst allFeeTokens = [\r\n\t\t...new Set([\r\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\r\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\r\n\t\t]),\r\n\t]\r\n\r\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\r\n\t\ttxns[token] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t]\r\n\r\n\t\treturn txns\r\n\t}, {})\r\n\r\n\tlet currentNonce = initialNonce\r\n\tlet baseFeeAdded = false\r\n\r\n\tObject.keys(txnsByFeeToken).forEach(key => {\r\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\r\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\r\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\r\n\t\t\tconst isDeployTx = currentNonce === 0\r\n\r\n\t\t\tconst txFeeAmount = isDeployTx\r\n\t\t\t\t? feeToken.minDeploy\r\n\t\t\t\t: isSweepTx\r\n\t\t\t\t? feeToken.min\r\n\t\t\t\t: feeToken.minRecommended\r\n\r\n\t\t\tconst addBaseFee =\r\n\t\t\t\t!baseFeeAdded && !isSweepTx && tx.feeTokenAddr === mainToken.address\r\n\r\n\t\t\tconst sweepRoutinesFeeAmount = BigNumber.from(routinesSweepTxCount).mul(\r\n\t\t\t\tBigNumber.from(feeToken.min)\r\n\t\t\t)\r\n\r\n\t\t\tconst extraFeesAmount = BigNumber.from(extraTxFeesCount).mul(\r\n\t\t\t\tBigNumber.from(feeToken.minRecommended)\r\n\t\t\t)\r\n\r\n\t\t\t// Total relayer fees for the transaction\r\n\t\t\tconst feeAmount = BigNumber.from(txFeeAmount)\r\n\t\t\t\t.add(sweepRoutinesFeeAmount)\r\n\t\t\t\t.add(extraFeesAmount)\r\n\t\t\t\t.add(addBaseFee ? baseFee : BigNumber.from(0))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\t// fees that are not pre calculated with in the total identity balance\r\n\t\t\t// There are no pre calculated fees in the balance\r\n\t\t\tconst nonIdentityBalanceFeeAmount = BigNumber.from(feeAmount)\r\n\t\t\t// .sub(BigNumber.from(isSweepTx ? feeToken.min : 0))\r\n\t\t\t// .sub(BigNumber.from(routinesSweepTxCount).mul(BigNumber.from(feeToken.min)))\r\n\t\t\t// .toString()\r\n\r\n\t\t\tconst feesBreakdown = {\r\n\t\t\t\t...(addBaseFee ? { baseFee } : {}),\r\n\t\t\t\troutinesSweepTxCount,\r\n\t\t\t\tsweepRoutinesFeeAmount,\r\n\t\t\t\textraTxFeesCount,\r\n\t\t\t\textraFeesAmount,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\ttxFeeAmount,\r\n\t\t\t\tisDeployTx,\r\n\t\t\t\tisSweepTx,\r\n\t\t\t}\r\n\r\n\t\t\tconst txWithNonce = {\r\n\t\t\t\t...tx,\r\n\t\t\t\tfeeTokenAddr: feeToken.address,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\tnonce: currentNonce,\r\n\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t\tfeesBreakdown,\r\n\t\t\t\texecuteAction,\r\n\t\t\t}\r\n\r\n\t\t\tcurrentNonce += 1\r\n\r\n\t\t\treturn txWithNonce\r\n\t\t})\r\n\t})\r\n\r\n\treturn txnsByFeeToken\r\n}\r\n\r\nexport async function getApproveTxns({\r\n\tgetToken,\r\n\ttoken,\r\n\tidentityAddr,\r\n\tfeeTokenAddr,\r\n\tapproveForAddress,\r\n\tapproveAmount,\r\n}) {\r\n\tconst tokenContract = getToken(token)\r\n\r\n\tconst allowance = await tokenContract.allowance(\r\n\t\tidentityAddr,\r\n\t\tapproveForAddress\r\n\t)\r\n\r\n\tconst approveTxns = []\r\n\r\n\tif (!allowance.isZero()) {\r\n\t\tapproveTxns.push({\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: token.address,\r\n\t\t\tdata: ERC20.encodeFunctionData('approve', [approveForAddress, 0]),\r\n\t\t})\r\n\t}\r\n\r\n\tapproveTxns.push({\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tto: token.address,\r\n\t\tdata: ERC20.encodeFunctionData('approve', [\r\n\t\t\tapproveForAddress,\r\n\t\t\tapproveAmount,\r\n\t\t]),\r\n\t})\r\n\r\n\treturn approveTxns\r\n}\r\n\r\nasync function swapSaiToDaiTxns({\r\n\tidentityAddr,\r\n\tdaiAddr,\r\n\tsaiToken,\r\n\tswapAmount,\r\n\tgetToken,\r\n}) {\r\n\tconst approveTxns = await getApproveTxns({\r\n\t\tgetToken,\r\n\t\ttoken: saiToken,\r\n\t\tidentityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\r\n\t\tapproveAmount: swapAmount,\r\n\t})\r\n\r\n\tconst swapTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tto: SCD_MCD_MIGRATION_ADDR,\r\n\t\tdata: ScdMcdMigration.encodeFunctionData('swapSaiToDai', [swapAmount]),\r\n\t}\r\n\r\n\treturn [...approveTxns, swapTx]\r\n}\r\n\r\n// TODO: use byToken where needed\r\n// currently works because only using SAI and DAI only\r\nexport async function getIdentityTxnsTotalFees({\r\n\ttxnsByFeeToken,\r\n\tmainToken = {},\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst bigZero = BigNumber.from('0')\r\n\tconst { total, byToken, totalBreakdown } = Object.values(txnsByFeeToken)\r\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\r\n\t\t.reduce(\r\n\t\t\t(result, tx) => {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesBreakdown,\r\n\t\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t\t\tfeeTokenAddr,\r\n\t\t\t\t\texecuteAction,\r\n\t\t\t\t} = tx\r\n\t\t\t\tconst { total, byToken, totalBreakdown } = result\r\n\t\t\t\tconst txFeeAmount = BigNumber.from(nonIdentityBalanceFeeAmount)\r\n\r\n\t\t\t\tresult.total = total.add(txFeeAmount)\r\n\t\t\t\tresult.byToken[feeTokenAddr] = (byToken[feeTokenAddr] || bigZero).add(\r\n\t\t\t\t\ttxFeeAmount\r\n\t\t\t\t)\r\n\r\n\t\t\t\tresult.totalBreakdown = {\r\n\t\t\t\t\tbaseFee: BigNumber.from(totalBreakdown.baseFee || '0').add(\r\n\t\t\t\t\t\tBigNumber.from(feesBreakdown.baseFee || '0')\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsweepRoutinesFeeAmount: BigNumber.from(\r\n\t\t\t\t\t\ttotalBreakdown.sweepRoutinesFeeAmount || '0'\r\n\t\t\t\t\t).add(BigNumber.from(feesBreakdown.sweepRoutinesFeeAmount)),\r\n\t\t\t\t\textraFeesAmount: BigNumber.from(\r\n\t\t\t\t\t\ttotalBreakdown.extraFeesAmount || '0'\r\n\t\t\t\t\t).add(BigNumber.from(feesBreakdown.extraFeesAmount)),\r\n\t\t\t\t\tfeeAmount: BigNumber.from(totalBreakdown.feeAmount || '0').add(\r\n\t\t\t\t\t\tBigNumber.from(feesBreakdown.feeAmount)\r\n\t\t\t\t\t),\r\n\t\t\t\t\troutinesSweepTxCount:\r\n\t\t\t\t\t\t(totalBreakdown.routinesSweepTxCount || 0) +\r\n\t\t\t\t\t\t(feesBreakdown.routinesSweepTxCount || 0),\r\n\t\t\t\t\textraTxFeesCount:\r\n\t\t\t\t\t\t(totalBreakdown.extraTxFeesCount || 0) +\r\n\t\t\t\t\t\t(feesBreakdown.extraTxFeesCount || 0),\r\n\t\t\t\t\ttxnsCount:\r\n\t\t\t\t\t\ttotalBreakdown.txnsCount + (feesBreakdown.isSweepTx ? 0 : 1),\r\n\t\t\t\t\tsweepTxnsCount:\r\n\t\t\t\t\t\ttotalBreakdown.sweepTxnsCount +\r\n\t\t\t\t\t\t(totalBreakdown.routinesSweepTxCount || 0) +\r\n\t\t\t\t\t\t(feesBreakdown.isSweepTx ? 1 : 0),\r\n\t\t\t\t\tsweepTxnsFeeAmount: BigNumber.from(\r\n\t\t\t\t\t\ttotalBreakdown.sweepTxnsFeeAmount || '0'\r\n\t\t\t\t\t).add(\r\n\t\t\t\t\t\tBigNumber.from(\r\n\t\t\t\t\t\t\tfeesBreakdown.isSweepTx\r\n\t\t\t\t\t\t\t\t? feesBreakdown.txFeeAmount\r\n\t\t\t\t\t\t\t\t: feesBreakdown.sweepRoutinesFeeAmount\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t),\r\n\t\t\t\t\tdeployFee: feesBreakdown.isDeployTx\r\n\t\t\t\t\t\t? BigNumber.from(feesBreakdown.txFeeAmount)\r\n\t\t\t\t\t\t: null,\r\n\t\t\t\t\texecuteAction,\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttotal: bigZero,\r\n\t\t\t\tbyToken: {},\r\n\t\t\t\ttotalBreakdown: { txnsCount: 0, sweepTxnsCount: 0 },\r\n\t\t\t}\r\n\t\t)\r\n\r\n\tconst byTokenFormatted = Object.entries(byToken).map(([key, value]) => {\r\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\r\n\t\treturn {\r\n\t\t\taddress: key,\r\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\r\n\t\t\tsymbol,\r\n\t\t\tfeeFormatted: `${formatTokenAmount(\r\n\t\t\t\tvalue.toString(),\r\n\t\t\t\tdecimals,\r\n\t\t\t\tfalse,\r\n\t\t\t\t4\r\n\t\t\t)} ${symbol}`,\r\n\t\t}\r\n\t})\r\n\r\n\tconst breakdownFormatted = {\r\n\t\t...totalBreakdown,\r\n\t\tbaseFee: formatTokenAmount(\r\n\t\t\ttotalBreakdown.baseFee.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tfeeAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.feeAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tsweepRoutinesFeeAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.sweepRoutinesFeeAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\textraFeesAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.extraFeesAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttxnsFee: formatTokenAmount(\r\n\t\t\ttotalBreakdown.feeAmount\r\n\t\t\t\t.sub(totalBreakdown.sweepTxnsFeeAmount)\r\n\t\t\t\t.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tsweepTxnsFeeAmount: formatTokenAmount(\r\n\t\t\ttotalBreakdown.sweepTxnsFeeAmount.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tdeployFee: totalBreakdown.deployFee\r\n\t\t\t? formatTokenAmount(\r\n\t\t\t\t\ttotalBreakdown.deployFee.toString(),\r\n\t\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t  )\r\n\t\t\t: null,\r\n\t}\r\n\r\n\tconst fees = {\r\n\t\t// TODO: change to return total as BN and add totalFormatted\r\n\t\ttotal: formatTokenAmount(\r\n\t\t\ttotal.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tbreakdownFormatted,\r\n\t\ttotalBN: total,\r\n\t\tbyToken: byTokenFormatted,\r\n\t}\r\n\r\n\treturn fees\r\n}\r\n\r\nexport async function processExecuteByFeeTokens({\r\n\ttxnsByFeeToken,\r\n\twallet,\r\n\tprovider,\r\n\tidentityAddr,\r\n\textraData = {},\r\n}) {\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\r\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\r\n\t\tconst data = {\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\t...extraData,\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\r\n\t\t\tprocess.env.NODE_ENV === 'development'\r\n\t\t) {\r\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\r\n\t\t}\r\n\r\n\t\tconst result = await executeTx(data)\r\n\r\n\t\treturn {\r\n\t\t\tresult,\r\n\t\t}\r\n\t})\r\n\r\n\tconst results = await Promise.all(all)\r\n\r\n\treturn results\r\n}\r\n\r\nexport async function withdrawOtherTokensFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\tconst decimals = parseInt(tokenDecimals, 10)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: mainToken.address,\r\n\t\tto: tokenAddress,\r\n\t\tdata: ERC20.encodeFunctionData('transfer', [withdrawTo, toWithdraw]),\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.withdraw,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttotalBN: fees.totalBN,\r\n\t\t\ttoWithdraw,\r\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals, null, 2),\r\n\t\t\tbreakdownFormatted: fees.breakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n","import crypto from 'crypto'\r\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\r\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetIdentityTxnsWithNoncesAndFees,\r\n\tgetIdentityTxnsTotalFees,\r\n\tprocessExecuteByFeeTokens,\r\n\tgetApproveTxns,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { contracts } from '../contractsCfg'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit, helpers } from 'adex-models'\r\nimport { getCampaigns } from 'services/adex-market/actions'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport {\r\n\t// selectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectMainFeeToken,\r\n\tselectMainToken,\r\n\tselectSaiToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\r\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\r\nimport { getState } from 'store'\r\nimport { AUTH_TYPES, EXECUTE_ACTIONS } from 'constants/misc'\r\nconst { parseUnits, Interface, randomBytes, getAddress } = utils\r\n\r\nconst { userInputPricingBoundsPerMileToRulesValue } = helpers\r\n\r\nconst { AdExCore } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst IdentityInterface = new Interface(IdentityABI)\r\n\r\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\r\nconst DAY = 24 * 60 * 60 * 1000\r\nconst VALID_UNTIL_FROM_CREATION = 360 * DAY\r\n\r\nconst OUTSTANDING_STATUSES = {\r\n\tActive: true,\r\n\tReady: true,\r\n\tExhausted: true,\r\n\tOffline: true,\r\n\tUnhealthy: true,\r\n\tWithdraw: true,\r\n}\r\n\r\n// TODO: get it from the market\r\nconst GLOBAL_MIN_CPM = '0.01' // per 1000 user input\r\nconst GLOBAL_MAX_CPM = '15.00' // per 1000 user input\r\n\r\nconst EXTRA_PROCESS_TIME = 48 * 60 * 60 // 48 hours in seconds\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\ttitle: channel.title,\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(created) {\r\n\treturn Math.floor((created + VALID_UNTIL_FROM_CREATION) / 1000)\r\n}\r\n\r\nfunction userInputToTokenValue({ input, decimals, divider = 1 }) {\r\n\treturn parseUnits(input || '0', decimals)\r\n\t\t.div(BigNumber.from(divider))\r\n\t\t.toString()\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, mainToken) {\r\n\tconst { decimals } = mainToken\r\n\tconst newCampaign = new Campaign(campaign)\r\n\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(newCampaign.created)\r\n\tnewCampaign.nonce = BigNumber.from(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = userInputToTokenValue({\r\n\t\tinput: newCampaign.depositAmount,\r\n\t\tdecimals,\r\n\t})\r\n\r\n\tconst validators = newCampaign.validators.map(v => {\r\n\t\tconst deposit = BigNumber.from(newCampaign.depositAmount || 0)\r\n\t\tconst fee = deposit\r\n\t\t\t.mul(BigNumber.from(v.feeNum || 1))\r\n\t\t\t.div(BigNumber.from(v.feeDen || 1))\r\n\t\t\t.toString()\r\n\r\n\t\tconst validator = {\r\n\t\t\tid: v.id,\r\n\t\t\turl: v.url,\r\n\t\t\tfee,\r\n\t\t}\r\n\r\n\t\tif (v.feeAddr) {\r\n\t\t\tvalidator.feeAddr = v.feeAddr\r\n\t\t}\r\n\r\n\t\treturn validator\r\n\t})\r\n\r\n\tnewCampaign.validators = validators\r\n\r\n\t// spec pricing bounds\r\n\tconst pricingBounds = userInputPricingBoundsPerMileToRulesValue({\r\n\t\tpricingBounds: {\r\n\t\t\tIMPRESSION: {\r\n\t\t\t\tmin: GLOBAL_MIN_CPM,\r\n\t\t\t\tmax: GLOBAL_MAX_CPM,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdecimals,\r\n\t})\r\n\r\n\t// TODO: CLICK when available\r\n\tnewCampaign.pricingBounds = pricingBounds\r\n\r\n\t// TEMP: legacy compatibility\r\n\tnewCampaign.minPerImpression = pricingBounds.IMPRESSION.min\r\n\tnewCampaign.maxPerImpression = pricingBounds.IMPRESSION.max\r\n\r\n\tnewCampaign.depositAsset = mainToken.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = {\r\n\t\tname: 'Pending',\r\n\t\thumanFriendlyName: 'Pending',\r\n\t\tlastChecked: Date.now(),\r\n\t}\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nconst getWithdrawnPerUserOutstanding = async ({\r\n\tchannel,\r\n\tbalance,\r\n\tidentityAddr,\r\n}) => {\r\n\tconst { AdExCore } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst withdrawnPerUser = await AdExCore.functions.withdrawnPerUser(\r\n\t\tchannel.id,\r\n\t\tidentityAddr\r\n\t)\r\n\r\n\tconst outstanding = BigNumber.from(balance.toString()).sub(\r\n\t\tBigNumber.from(withdrawnPerUser[0])\r\n\t)\r\n\r\n\treturn outstanding\r\n}\r\n\r\nexport async function getChannelsWithOutstanding({ identityAddr }) {\r\n\tconst channels = await getCampaigns({ all: true, byEarner: identityAddr })\r\n\r\n\t// const feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\r\n\r\n\tconst allChannels = await Promise.all(\r\n\t\tchannels\r\n\t\t\t.filter(\r\n\t\t\t\tchannel =>\r\n\t\t\t\t\tchannel &&\r\n\t\t\t\t\tchannel.status &&\r\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\r\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\r\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\r\n\t\t\t)\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\r\n\t\t\t\t\t(balances, e) => {\r\n\t\t\t\t\t\tconst [address, balance] = e\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (getAddress(address)) {\r\n\t\t\t\t\t\t\t\tbalances[address] = balance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch {}\r\n\t\t\t\t\t\treturn balances\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\r\n\r\n\t\t\t\treturn channel\r\n\t\t\t})\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\tbTree,\r\n\t\t\t\t\tchannel,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter(({ bTree }) => {\r\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\r\n\t\t\t})\r\n\t\t\t.map(\r\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\r\n\t\t\t\t\t//  mTree,\r\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\r\n\r\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tidentityAddr,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// const outstandingAvailable = outstanding.sub(\r\n\t\t\t\t\t// \tBigNumber.from(feeTokenWhitelist[channel.depositAsset].min)\r\n\t\t\t\t\t// )\r\n\r\n\t\t\t\t\t// NOTE: We will show everything - will add this to withdraw fees\r\n\t\t\t\t\tconst outstandingAvailable = outstanding\r\n\r\n\t\t\t\t\tconst balanceNum = BigNumber.from(channel.depositAmount)\r\n\t\t\t\t\t\t.sub(BigNumber.from(channel.spec.validators[0].fee || 0))\r\n\t\t\t\t\t\t.sub(BigNumber.from(channel.spec.validators[1].fee || 0))\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\t\toutstanding,\r\n\t\t\t\t\t\toutstandingAvailable,\r\n\t\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t)\r\n\r\n\tconst all = Object.assign(\r\n\t\t{},\r\n\t\t...allChannels.map(c => {\r\n\t\t\tconst { channel, balance } = c\r\n\t\t\tconst { id, depositAmount, depositAsset, status, spec } = channel\r\n\t\t\tconst balanceNum = BigNumber.from(depositAmount)\r\n\t\t\t\t.sub(BigNumber.from(c.channel.spec.validators[0].fee))\r\n\t\t\t\t.sub(BigNumber.from(c.channel.spec.validators[1].fee))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\treturn {\r\n\t\t\t\t[c.channel.id.toLowerCase()]: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tbalance,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tdepositAsset,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\tstatus: status.name,\r\n\t\t\t\t\tadUnits: spec.adUnits, //TODO: add only what needed\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n\t)\r\n\r\n\tconst withOutstandingBalanceAll = allChannels.filter(x => {\r\n\t\treturn (\r\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\r\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\r\n\t\t\t\tDate.now() &&\r\n\t\t\tx.outstandingAvailable.gt(BigNumber.from('0'))\r\n\t\t)\r\n\t})\r\n\r\n\tconst withOutstandingBalance = [...withOutstandingBalanceAll].filter(x =>\r\n\t\t// Used for withdraw and all functions requiring sweeps\r\n\t\tx.outstanding.gt(\r\n\t\t\tBigNumber.from(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\r\n\t\t)\r\n\t)\r\n\r\n\treturn { all, withOutstandingBalanceAll, withOutstandingBalance }\r\n}\r\n\r\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\r\n\tconst { eligible } = withBalance\r\n\t\t.sort((c1, c2) => {\r\n\t\t\treturn BigNumber.from(c2.outstandingAvailable).gt(\r\n\t\t\t\tBigNumber.from(c1.outstandingAvailable)\r\n\t\t\t)\r\n\t\t})\r\n\t\t.reduce(\r\n\t\t\t(data, c) => {\r\n\t\t\t\tconst current = { ...data }\r\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\r\n\t\t\t\t\tcurrent.eligible.push(c)\r\n\t\t\t\t\tcurrent.sum = current.sum.add(BigNumber.from(c.outstandingAvailable))\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn current\r\n\t\t\t},\r\n\t\t\t{ sum: BigNumber.from(0), eligible: [] }\r\n\t\t)\r\n\r\n\treturn eligible\r\n}\r\n\r\nconst getChannelWithdrawData = ({\r\n\tidentityAddr,\r\n\tbalance,\r\n\tlastApprovedBalances,\r\n\tlastApprovedSigs,\r\n\tethChannelTuple,\r\n}) => {\r\n\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\tconst proof = bTree.getProof(identityAddr)\r\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\r\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\r\n\tconst root = bTree.mTree.getRoot()\r\n\r\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\r\n}\r\n\r\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\r\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\r\n\t\t(data, tx) => {\r\n\t\t\tconst updated = { ...data }\r\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\r\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\r\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || BigNumber.from(0)\r\n\t\t\t).add(BigNumber.from(tx.withdrawAmountByToken[tx.feeTokenAddr]))\r\n\r\n\t\t\treturn updated\r\n\t\t},\r\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\r\n\t)\r\n\r\n\tconst data = IdentityInterface.encodeFunctionData('executeRoutines', [\r\n\t\troutineAuthTuple,\r\n\t\troutineOpts,\r\n\t])\r\n\r\n\tconst routinesTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tto: identityAddr,\r\n\t\tdata,\r\n\t\twithdrawAmountByToken,\r\n\t\troutinesSweepTxCount: routineOpts.length,\r\n\t}\r\n\r\n\treturn routinesTx\r\n}\r\n\r\nfunction getIdentityRoutineAuthTuple(identity) {\r\n\treturn identity &&\r\n\t\tidentity.relayerData &&\r\n\t\tidentity.relayerData.deployData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t: null\r\n}\r\n\r\nfunction is41identity(routineAuthTuple) {\r\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\r\n\r\n\treturn is41\r\n}\r\n\r\nfunction hasValidExecuteRoutines(routineAuthTuple) {\r\n\tconst hasValidRoutines =\r\n\t\tis41identity(routineAuthTuple) &&\r\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\r\n\r\n\treturn hasValidRoutines\r\n}\r\n\r\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\r\n\tconst { identity } = account\r\n\t// TODO: pass withBalance as prop\r\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\r\n\r\n\tconst { AdExCore } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst identityAddr = identity.address\r\n\tconst channelsToSweep = await getChannelsToSweepFrom({\r\n\t\tamountToSweep,\r\n\t\tidentityAddr,\r\n\t\twithBalance,\r\n\t})\r\n\r\n\tconst txns = channelsToSweep.map((c, i) => {\r\n\t\tconst {\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tchannel,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\toutstanding,\r\n\t\t\t// outstandingAvailable,\r\n\t\t\tbalance,\r\n\t\t} = c\r\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\r\n\r\n\t\tconst data = getChannelWithdrawData({\r\n\t\t\tidentityAddr,\r\n\t\t\tbalance,\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\tethChannelTuple,\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tfeeTokenAddr: channel.depositAsset,\r\n\t\t\tdata,\r\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\r\n\t\t}\r\n\t})\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\r\n\tlet encodedTxns = null\r\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\r\n\t\tencodedTxns = [\r\n\t\t\tgetSweepExecuteRoutineTx({\r\n\t\t\t\ttxns,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\troutineAuthTuple,\r\n\t\t\t}),\r\n\t\t]\r\n\t} else {\r\n\t\tencodedTxns = txns.map(tx => {\r\n\t\t\ttx.data = Core.encodeFunctionData('channelWithdraw', tx.data)\r\n\t\t\ttx.isSweepTx = true\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\treturn encodedTxns\r\n}\r\n\r\nfunction getSwapAmountsByToken({ balances }) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\r\n\t\t(swaps, balance) => {\r\n\t\t\t// TODO: currently work only for SAI to DAI swap\r\n\t\t\tif (\r\n\t\t\t\tsaiToken &&\r\n\t\t\t\tsaiToken.address &&\r\n\t\t\t\tbalance.token.address !== mainToken.address &&\r\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\r\n\t\t\t\tbalance.token.address === saiToken.address\r\n\t\t\t) {\r\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\r\n\t\t\t\t\tbalance.balanceMainToken\r\n\t\t\t\t)\r\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\r\n\t\t\t}\r\n\t\t\treturn swaps\r\n\t\t},\r\n\t\t{\r\n\t\t\tswapsSumInMainToken: BigNumber.from(0),\r\n\t\t\tswapsByToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { swapsByToken, swapsSumInMainToken }\r\n}\r\n\r\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\r\n// amountNeeded must be in MainToken\r\nexport async function getSweepingTxnsIfNeeded({\r\n\tamountInMainTokenNeeded,\r\n\taccount,\r\n}) {\r\n\tconst needed = BigNumber.from(amountInMainTokenNeeded)\r\n\tconst {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\r\n\r\n\tlet currentBalanceInUse = BigNumber.from(mainTokenBalance)\r\n\r\n\tconst sweepData = {\r\n\t\tsweepTxns: [],\r\n\t\tswapAmountsByToken: {},\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\t// Swaps\r\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\r\n\t\t\tbalances,\r\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\r\n\t\tsweepData.swapAmountsByToken = swapsByToken\r\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\r\n\t\t\taccount,\r\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\t}\r\n\r\n\treturn sweepData\r\n}\r\n\r\nexport function getChannelId({ campaign, account }) {\r\n\tconst { identity } = account\r\n\tconst mainToken = selectMainFeeToken()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst id = ethChannel.hashHex(AdExCore.address)\r\n\r\n\treturn id\r\n}\r\n\r\nexport async function openChannel({\r\n\tcampaign,\r\n\taccount,\r\n\tgetFeesOnly,\r\n\tgetMaxFees,\r\n}) {\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\r\n\tconst mainToken = selectMainFeeToken()\r\n\tconst depositAmount = getMaxFees\r\n\t\t? availableIdentityBalanceMainToken\r\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst feeTokenAddr = mainToken.address\r\n\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\r\n\r\n\tconst txns = []\r\n\r\n\tif (hasIdentityChannelOpen) {\r\n\t\tconst identityChannelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: identityAddr,\r\n\t\t\tdata: IdentityInterface.encodeFunctionData('channelOpen', [\r\n\t\t\t\tAdExCore.address,\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t\textraTxFeesCount: 1,\r\n\t\t}\r\n\t\ttxns.push(identityChannelOpenTx)\r\n\t} else {\r\n\t\tconst approveTxns = await getApproveTxns({\r\n\t\t\tgetToken,\r\n\t\t\ttoken: mainToken,\r\n\t\t\tidentityAddr,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tapproveForAddress: AdExCore.address,\r\n\t\t\tapproveAmount: depositAmount,\r\n\t\t})\r\n\r\n\t\tconst channelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tdata: Core.encodeFunctionData('channelOpen', [\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t}\r\n\t\ttxns.push(...approveTxns, channelOpenTx)\r\n\t}\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: depositAmount,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t\texecuteAction: EXECUTE_ACTIONS.openCampaign,\r\n\t})\r\n\r\n\tconst {\r\n\t\ttotal,\r\n\t\ttotalBN,\r\n\t\tbreakdownFormatted,\r\n\t} = await getIdentityTxnsTotalFees({ txnsByFeeToken })\r\n\tconst bigZero = BigNumber.from(0)\r\n\tconst mtBalance = BigNumber.from(availableIdentityBalanceMainToken)\r\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\r\n\t\t? bigZero\r\n\t\t: mtBalance.sub(totalBN)\r\n\tconst maxAvailableFormatted = formatTokenAmount(\r\n\t\tmaxAvailable.toString(),\r\n\t\tmainToken.decimals || 18,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfeesFormatted: total,\r\n\t\t\tfees: totalBN,\r\n\t\t\tmaxAvailable,\r\n\t\t\tmaxAvailableFormatted,\r\n\t\t\tbreakdownFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: { channel },\r\n\t})\r\n\r\n\treadyCampaign.id = channel.id\r\n\tconst storeCampaign = { ...readyCampaign }\r\n\tstoreCampaign.spec = { ...openReady.spec }\r\n\treturn {\r\n\t\tresult,\r\n\t\tstoreCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import { BigNumber } from 'ethers'\r\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\r\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n\r\nimport { getCampaigns } from './actions'\r\n\r\nexport async function getUnitsStatsByType() {\r\n\tconst { decimals } = selectMainToken()\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst allChannels = await getCampaigns({ statuses: ['Active'] })\r\n\r\n\tconst channels = allChannels.filter(\r\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\r\n\t)\r\n\r\n\tconst unitsByType = channels.reduce((units, channel) => {\r\n\t\tconst byType = { ...units }\r\n\t\tchannel.spec.adUnits.forEach(unit => {\r\n\t\t\tbyType[unit.type] = byType[unit.type] || []\r\n\t\t\tbyType[unit.type].push(channel)\r\n\t\t})\r\n\r\n\t\treturn byType\r\n\t}, {})\r\n\r\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\r\n\t\tasync (prevStats, key) => {\r\n\t\t\tconst stats = await prevStats\r\n\t\t\tconst channelsByType = unitsByType[key]\r\n\r\n\t\t\tlet totalPerImpression = BigNumber.from('0')\r\n\t\t\tlet totalVolume = BigNumber.from('0')\r\n\r\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\r\n\t\t\t\tconst channel = channelsByType[index]\r\n\r\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: BigNumber.from(channel.spec.minPerImpression),\r\n\t\t\t\t})\r\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: BigNumber.from(channel.depositAmount),\r\n\t\t\t\t})\r\n\r\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\r\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\r\n\t\t\t}\r\n\r\n\t\t\tconst avgPerImpression = totalPerImpression.div(\r\n\t\t\t\tBigNumber.from(channelsByType.length)\r\n\t\t\t)\r\n\t\t\tconst avgCPM = avgPerImpression.mul(BigNumber.from('1000'))\r\n\r\n\t\t\tconst statsByType = { ...stats }\r\n\t\t\tstatsByType[key] = {}\r\n\t\t\tstatsByType[key].raw = {\r\n\t\t\t\ttotalVolume,\r\n\t\t\t\tavgPerImpression,\r\n\t\t\t\tavgCPM,\r\n\t\t\t}\r\n\r\n\t\t\tstatsByType[key].formatted = {\r\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\r\n\t\t\t\tavgPerImpression: formatTokenAmount(\r\n\t\t\t\t\tavgPerImpression,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\r\n\t\t\t}\r\n\r\n\t\t\treturn statsByType\r\n\t\t},\r\n\t\tPromise.resolve({})\r\n\t)\r\n\r\n\treturn unitsByTypeStats\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport throttle from 'lodash.throttle'\r\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetValidatorAuthToken,\r\n\tidentityAnalytics,\r\n\tidentityAdvancedAnalytics,\r\n\ttimeBasedAnalytics,\r\n} from 'services/adex-validator/actions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n} from 'constants/misc'\r\nimport {\r\n\tUPDATING_SLOTS_DEMAND,\r\n\tUPDATING_TARGETING_DATA,\r\n} from 'constants/spinners'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { fillEmptyTime } from 'helpers/analyticsTimeHelpers'\r\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\r\nimport { getTargetingData } from 'services/adex-market/actions'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAnalyticsDataSide,\r\n\tselectAccount,\r\n\tselectStatsChartData,\r\n\tselectAnalyticsLiveTimestamp,\r\n\tselectPublisherReceiptsPresentMonths,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectMonthsRange,\r\n} from 'selectors'\r\nimport { BigNumber } from 'ethers'\r\nimport moment from 'moment'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { DEFAULT_WEEK_HOURS_SPAN } from 'helpers/analyticsTimeHelpers'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\nconst analyticsParams = ({ timeframe, side }) => {\r\n\tconst callsParams = []\r\n\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric => {\r\n\t\t\tconst segmentByChannel =\r\n\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts' ? true : undefined\r\n\t\t\tconst limit = segmentByChannel ? 100 * 25 : 100\r\n\t\t\tcallsParams.push({\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tside,\r\n\t\t\t\teventType,\r\n\t\t\t\tweekHoursSpan: DEFAULT_WEEK_HOURS_SPAN,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\tlimit,\r\n\t\t\t})\r\n\t\t})\r\n\t)\r\n\r\n\treturn callsParams\r\n}\r\n\r\nconst analyticsCampaignsParams = () => {\r\n\tconst callsParams = []\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tcallsParams.push({ eventType })\r\n\t)\r\n\treturn callsParams\r\n}\r\n\r\nfunction aggrByChannelsSegments({ aggr, allChannels, withdrawTokens }) {\r\n\tif (!Object.keys(allChannels).length) {\r\n\t\treturn []\r\n\t}\r\n\t// NOTE: No need to sort them again because fillEmptyTime\r\n\t// is sorting by time after adding the empty time values\r\n\tconst { aggregations, all } = aggr\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\t\t.reduce(\r\n\t\t\t(data, a) => {\r\n\t\t\t\tconst { time } = a\r\n\t\t\t\tconst { aggregations, channels, all } = data\r\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t//  depositAsset,\r\n\t\t\t\t\t//  status,\r\n\t\t\t\t\t// \tbalance\r\n\t\t\t\t} = allChannels[channelId] || {}\r\n\r\n\t\t\t\t// NOTE: check if the channel has lifetime min balance e.g. it is in the total balance\r\n\t\t\t\t// - need to be synced with relayer way for auto sweep - only when campaign is complete\r\n\r\n\t\t\t\t// const { minPlatform, minFinal } = withdrawTokens[depositAsset]\r\n\t\t\t\t// const isExpired = status === 'Expired'\r\n\t\t\t\t// const minBalance = isExpired ? minFinal : minPlatform\r\n\t\t\t\t// const hasMinBalance = BigNumber.from(balance).gt(BigNumber.from(minBalance))\r\n\r\n\t\t\t\t// if (hasMinBalance) {\r\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\r\n\r\n\t\t\t\tconst value = BigNumber.from(a.value || 0)\r\n\t\t\t\t\t.mul(BigNumber.from(balanceNum || 1))\r\n\t\t\t\t\t.div(BigNumber.from(depositAmount || 1))\r\n\r\n\t\t\t\tcurrent.aggr.push({ value, time })\r\n\r\n\t\t\t\tconst currentAggr = aggregations[time] || {\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\tvalue: BigNumber.from(0),\r\n\t\t\t\t}\r\n\t\t\t\tconst currentChannelValue = BigNumber.from(current.value || 0).add(\r\n\t\t\t\t\tvalue\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst currentTimeValue = currentAggr.value\r\n\r\n\t\t\t\tcurrent.value = currentChannelValue\r\n\r\n\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\r\n\r\n\t\t\t\tchannels[channelId] = current\r\n\t\t\t\taggregations[time] = currentAggr\r\n\t\t\t\tall[time] = a.value || all[time]\r\n\t\t\t\t// }\r\n\r\n\t\t\t\treturn { aggregations, channels, all }\r\n\t\t\t},\r\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\r\n\t\t)\r\n\r\n\t// NOTE: force to null values when value under limits but not naturally 0\r\n\tconst aggrWithNullValues = Object.values(aggregations).map(\r\n\t\t({ time, value }) => {\r\n\t\t\tconst isNull =\r\n\t\t\t\tall[time] === undefined ||\r\n\t\t\t\t(BigNumber.from(value).isZero() && all[time] !== '0')\r\n\t\t\treturn { time, value: isNull ? null : value }\r\n\t\t}\r\n\t)\r\n\r\n\treturn aggrWithNullValues\r\n}\r\n\r\nexport const updateAccountAnalyticsThrottled = () => (dispatch, getState) => {\r\n\treturn updateAccountAnalytics(dispatch, getState)\r\n}\r\n\r\nexport const updateAccountAnalytics = throttle(\r\n\tasync function(dispatch, getState) {\r\n\t\tupdateAnalyticsLastChecked()(dispatch)\r\n\t\tconst state = getState()\r\n\t\tconst { start, end, callEnd } = selectIdentitySideAnalyticsPeriod(state)\r\n\r\n\t\tif (!start || !end || !callEnd) {\r\n\t\t\tconsole.warn('updateAccountAnalytics - periods no selected')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst side = selectAnalyticsDataSide(state)\r\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\r\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\r\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\r\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsParams({ timeframe, side })\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst liveTimestamp = selectAnalyticsLiveTimestamp(state)\r\n\t\t\tconst timeframeIsLive = liveTimestamp === start\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\tconst { datasets, labels } = selectStatsChartData(state, {\r\n\t\t\t\t\t...opts,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (timeframeIsLive || datasets.length === 0 || labels.length === 0) {\r\n\t\t\t\t\tidentityAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\tend: callEnd || end,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(({ aggregates, metric }) => {\r\n\t\t\t\t\t\t\tconst aggrByChannelSegments =\r\n\t\t\t\t\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts'\r\n\r\n\t\t\t\t\t\t\tlet aggr = aggrByChannelSegments\r\n\t\t\t\t\t\t\t\t? aggrByChannelsSegments({\r\n\t\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\r\n\t\t\t\t\t\t\t\t\t\tallChannels,\r\n\t\t\t\t\t\t\t\t\t\tfeeTokens,\r\n\t\t\t\t\t\t\t\t\t\twithdrawTokens,\r\n\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t: aggregates.aggr\r\n\t\t\t\t\t\t\tconst fillAfterLast = aggrByChannelSegments ? null : 0\r\n\r\n\t\t\t\t\t\t\taggregates.aggr = fillEmptyTime(\r\n\t\t\t\t\t\t\t\taggr,\r\n\t\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\tfillAfterLast,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\t\tend,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\t\t\tif (!accountChanged) {\r\n\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\r\n\t\t\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\t\t\ttimestamp: liveTimestamp === start ? 'live' : start,\r\n\t\t\t\t\t\t\t\t\tvalue: { ...aggregates }, // ADD TIME as well\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tawait Promise.all(allAnalytics)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t},\r\n\t1000,\r\n\t{ leading: false, trailing: true }\r\n)\r\n\r\nexport function updateAccountAdvancedAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsCampaignsParams()\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst value = await identityAdvancedAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\treturn { opts, value }\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tconst data = await Promise.all(allAnalytics)\r\n\r\n\t\t\tif (!accountChanged) {\r\n\t\t\t\tdata\r\n\t\t\t\t\t.filter(x => !!x)\r\n\t\t\t\t\t.forEach(({ opts, value }) =>\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\r\n\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getReceiptData(startDate, endDate) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { account } = state.persist\r\n\t\ttry {\r\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, true)(dispatch)\r\n\t\t\tconst presentMonths = selectPublisherReceiptsPresentMonths(state)\r\n\t\t\tconst monthsWanted = selectMonthsRange(startDate, endDate)\r\n\t\t\tconst monthsNeeded = monthsWanted\r\n\t\t\t\t.filter(val => !presentMonths.includes(val))\r\n\t\t\t\t.sort()\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tif (monthsNeeded.length > 0) {\r\n\t\t\t\tconst timeframe = 'month'\r\n\t\t\t\tconst limit = 500\r\n\t\t\t\tconst promises = []\r\n\t\t\t\tconst startDateNeeded = monthsNeeded[0]\r\n\t\t\t\tconst endDateNeeded = monthsNeeded[monthsNeeded.length - 1]\r\n\t\t\t\t//limit of request is 500 days\r\n\t\t\t\tfor (\r\n\t\t\t\t\tvar m = moment(startDateNeeded);\r\n\t\t\t\t\tm.diff(endDateNeeded) <= 0;\r\n\t\t\t\t\tm.add(limit, 'day')\r\n\t\t\t\t) {\r\n\t\t\t\t\tpromises.push(\r\n\t\t\t\t\t\ttimeBasedAnalytics({\r\n\t\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\tside: 'for-publisher',\r\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\r\n\t\t\t\t\t\t\tmetric: 'eventCounts',\r\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\r\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\ttimeBasedAnalytics({\r\n\t\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t\t\ttimeframe,\r\n\t\t\t\t\t\t\tlimit,\r\n\t\t\t\t\t\t\tside: 'for-publisher',\r\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\r\n\t\t\t\t\t\t\tmetric: 'eventPayouts',\r\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\r\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst resolvedPromises = await Promise.all(promises)\r\n\t\t\t\tlet impressions = []\r\n\t\t\t\tlet payouts = []\r\n\t\t\t\tfor (let i = 0; i < resolvedPromises.length; i += 2) {\r\n\t\t\t\t\timpressions = [...impressions, ...resolvedPromises[i].aggr]\r\n\t\t\t\t\tpayouts = [...payouts, ...resolvedPromises[i + 1].aggr]\r\n\t\t\t\t}\r\n\t\t\t\tconst result = {}\r\n\t\t\t\t// add wanted dates\r\n\t\t\t\tconst getMonthTimeStamp = date => +moment(date).startOf('month')\r\n\t\t\t\tmonthsNeeded.forEach(date => {\r\n\t\t\t\t\tconst month = getMonthTimeStamp(date)\r\n\t\t\t\t\tif (!result[month]) {\r\n\t\t\t\t\t\tresult[month] = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\timpressions.forEach((item, i) => {\r\n\t\t\t\t\tconst month = getMonthTimeStamp(item.time)\r\n\t\t\t\t\tif (result[month]) {\r\n\t\t\t\t\t\tresult[month][item.time] = {\r\n\t\t\t\t\t\t\timpressions: item.value,\r\n\t\t\t\t\t\t\tpayouts: payouts[i].value,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: types.UPDATE_PUBLISHER_RECEIPTS,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t...result,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, false)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ANALYTICS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsLastChecked() {\r\n\treturn async function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ANALYTICS_LAST_CHECKED,\r\n\t\t\tvalue: new Date(),\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateSlotsDemand = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\r\n\t\t\t\tvalue: demandAnalytics,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateTargetingData = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\ttargetingData,\r\n\t\t\t\tminByCategory,\r\n\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t} = await getTargetingData()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_TARGETING_ANALYTICS,\r\n\t\t\t\tvalue: { targetingData, minByCategory, countryTiersCoefficients },\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_TARGETING_DATA_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_TARGETING_DATA_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateSlotsDemandThrottled = () => dispatch => {\r\n\treturn updateSlotsDemand(dispatch)\r\n}\r\n\r\nexport const updateTargetingDataThrottled = () => dispatch => {\r\n\treturn updateTargetingData(dispatch)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport {\r\n\tgetRelayerConfigData,\r\n\tgetQuickWallet,\r\n\tbackupWallet,\r\n\tgetIdentityData,\r\n\tresendEmail,\r\n} from 'services/adex-relayer/actions'\r\nimport { updateSpinner, updateGlobalUi } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tremoveLegacyKey,\r\n\tgetWalletHash,\r\n\tgenerateSalt,\r\n\tgetRecoveryWalletData,\r\n} from 'services/wallet/wallet'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport {\r\n\tgetAccountStats,\r\n\tgetOutstandingBalance,\r\n} from 'services/smart-contracts/actions/stats'\r\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\r\nimport {\r\n\taddToast,\r\n\tconfirmAction,\r\n\tupdateMemoryUi,\r\n\tupdateInitialDataLoaded,\r\n} from './uiActions'\r\nimport { getAllItems } from './itemActions'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tupdateTargetingDataThrottled,\r\n} from './analyticsActions'\r\nimport {\r\n\tgetEthereumProviderName,\r\n\tethereumNetworkId,\r\n\tgetMetamaskSelectedAddress,\r\n} from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\r\nimport {\r\n\tselectAccount,\r\n\tselectIdentity,\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectSearchParams,\r\n\tselectAuthType,\r\n\tselectAccountIdentity,\r\n\tselectLoginDirectSide,\r\n\tselectUserLastSide,\r\n\tselectEmail,\r\n\tselectResendConfirmation,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { push } from 'connected-react-router'\r\nimport {\r\n\tCREATING_SESSION,\r\n\tQUICK_WALLET_BACKUP,\r\n\tUPDATING_ACCOUNT_IDENTITY,\r\n\tSYNC_WEB3_DATA,\r\n} from 'constants/spinners'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tadvancedAnalyticsLoop,\r\n} from 'services/store-data/analytics'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta,\r\n\t\t\tnewValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithBalanceAll(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithBalanceAll() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithOutstandingBalance(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithOutstandingBalance() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// getIdentityStatistics tooks to long some times\r\n// if the account is change we do not update the account\r\n// TODO: we can use something for abortable tasks\r\nexport function isAccountChanged(getState, account) {\r\n\tconst hasAuth = selectAuth(getState())\r\n\tconst accountCheck = selectAccount(getState())\r\n\tconst accountChanged =\r\n\t\t!hasAuth ||\r\n\t\t!accountCheck.wallet.address ||\r\n\t\taccountCheck.wallet.address !== account.wallet.address ||\r\n\t\t!accountCheck.identity.address ||\r\n\t\t!accountCheck.identity.address !== !account.identity.address\r\n\r\n\treturn accountChanged\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tconst { identity } = account\r\n\t\t\tconst { address } = identity\r\n\t\t\tconst {\r\n\t\t\t\tall,\r\n\t\t\t\twithOutstandingBalance,\r\n\t\t\t\twithOutstandingBalanceAll,\r\n\t\t\t} = await getChannelsWithOutstanding({\r\n\t\t\t\tidentityAddr: address,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tupdateChannelsWithBalanceAll(all)(dispatch)\r\n\t\t\t\tupdateInitialDataLoaded('allChannels', true)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\r\n\t\t\t\twithBalance: withOutstandingBalance,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst outstandingBalanceAllMainToken = await getOutstandingBalance({\r\n\t\t\t\twithBalance: withOutstandingBalanceAll,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES_ALL', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst { formatted, raw } = await getAccountStats({\r\n\t\t\t\taccount,\r\n\t\t\t\toutstandingBalanceMainToken,\r\n\t\t\t\toutstandingBalanceAllMainToken,\r\n\t\t\t\tall,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tawait updateAccount({\r\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountIdentityData(onDataUpdated) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t\tconst identity = selectAccountIdentity(getState())\r\n\r\n\t\ttry {\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identity.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst updatedIdentity = { ...identity }\r\n\r\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\r\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\r\n\t\t\tupdatedIdentity.relayerData = relayerData\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { identity: updatedIdentity },\r\n\t\t\t})(dispatch)\r\n\t\t\tif (typeof onDataUpdated === 'function') {\r\n\t\t\t\tonDataUpdated()\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidatorAuthTokens({ newAuth }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\r\n\t\tconst newIdentity = { ...identity }\r\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\r\n\r\n\t\t// We don't want to update account if there is no actual change\r\n\t\tif (\r\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\r\n\t\t\tJSON.stringify(newTokens)\r\n\t\t) {\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({\r\n\twallet,\r\n\tidentity = {},\r\n\temail,\r\n\tdeleteLegacyKey,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst account = {\r\n\t\t\t\temail: email,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\tidentity: { ...identity },\r\n\t\t\t}\r\n\r\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taccount.identity.validatorAuthTokens = {\r\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\r\n\t\t\t}\r\n\r\n\t\t\tawait updateAccount({\r\n\t\t\t\tnewValues: { ...account },\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (deleteLegacyKey) {\r\n\t\t\t\tawait removeLegacyKey({\r\n\t\t\t\t\temail: wallet.email,\r\n\t\t\t\t\tpassword: wallet.password,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst redirectSide = selectLoginDirectSide(getState())\r\n\t\t\tawait updateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\r\n\t\t\t// getState() - after account is updated\r\n\t\t\tconst persistUserSide = selectUserLastSide(getState())\r\n\r\n\t\t\tconst { userSide } = (identity.relayerData || {}).meta || {}\r\n\r\n\t\t\tconst side = persistUserSide || userSide || redirectSide\r\n\r\n\t\t\tconst goTo = ['advertiser', 'publisher'].includes(side)\r\n\t\t\t\t? side\r\n\t\t\t\t: 'advertiser'\r\n\r\n\t\t\tdispatch(push(`/dashboard/${goTo}`))\r\n\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\r\n\r\n\t\t\t// dispatch(push('/side-select'))\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await getRelayerConfigData()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function isMetamaskMatters(getState) {\r\n\tconst state = getState()\r\n\tconst searchParams = selectSearchParams(state)\r\n\tconst authType = selectAuthType(state)\r\n\r\n\tconst doesItMatter =\r\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\r\n\t\t(!authType &&\r\n\t\t\tsearchParams.get('external') === 'metamask' &&\r\n\t\t\t(await getEthereumProviderName()) === AUTH_TYPES.METAMASK.name)\r\n\r\n\treturn doesItMatter\r\n}\r\n\r\nexport function onMetamaskNetworkChange({ id } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (\r\n\t\t\t(await isMetamaskMatters(getState)) &&\r\n\t\t\tprocess.env.NODE_ENV !== (ETHEREUM_NETWORKS[id] || {}).for\r\n\t\t) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const onMetamaskAccountChange = (accountAddress = '') => {\r\n\treturn async function(_, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { authType, address = '' } = account.wallet\r\n\r\n\t\tif (\r\n\t\t\thasAuth &&\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\r\n\t\t\t(!accountAddress ||\r\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\r\n\t\t) {\r\n\t\t\tlogOut()\r\n\t\t} else if (!hasAuth) {\r\n\t\t\tconst identity = selectIdentity(state)\r\n\t\t\tconst { identityContractOwner } = identity\r\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskAccountCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst isMatters = await isMetamaskMatters(getState)\r\n\t\tif (isMatters) {\r\n\t\t\tconst selectedAddress = await getMetamaskSelectedAddress()\r\n\t\t\tonMetamaskAccountChange(selectedAddress)(_, getState)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskNetworkCheck() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst id = await ethereumNetworkId()\r\n\t\tonMetamaskNetworkChange({ id })(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskChecks() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tmetamaskNetworkCheck()(dispatch, getState)\r\n\t\tmetamaskAccountCheck()(dispatch, getState)\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tonMetamaskAccountChange(accounts[0])(dispatch, getState)\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('chainChanged', chainId => {\r\n\t\t\t\tconsole.log('chainChanged', chainId)\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nasync function hasBackup({ email, password }) {\r\n\tconst salt = generateSalt(email)\r\n\tconst hash = await getWalletHash({ salt, password })\r\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\r\n\r\n\treturn !!encryptedWallet && encryptedWallet.wallet\r\n}\r\n\r\nasync function makeBackup({ email, password, authType }) {\r\n\tconst walletSalt = generateSalt(email)\r\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\r\n\tconst encryptedWallet = await getRecoveryWalletData({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tauthType,\r\n\t})\r\n\r\n\tawait backupWallet({\r\n\t\temail,\r\n\t\tsalt: walletSalt,\r\n\t\thash: walletHash,\r\n\t\tencryptedWallet,\r\n\t})\r\n}\r\n\r\nexport function ensureQuickWalletBackup() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { email, password, authType } = selectWallet(getState())\r\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\r\n\r\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\r\n\t\t\t\tawait makeBackup({ email, password, authType })\r\n\t\t\t}\r\n\t\t} catch (err) {}\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function loadAccountData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\t\tconst account = selectAccount(getState())\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await updateAccountIdentityData(() =>\r\n\t\t\t\tupdateInitialDataLoaded('accountIdentityData', true)(dispatch, getState)\r\n\t\t\t)(dispatch, getState))\r\n\r\n\t\tconst items = await getAllItems(() =>\r\n\t\t\tupdateInitialDataLoaded('allItems', true)(dispatch, getState)\r\n\t\t)(dispatch, getState)\r\n\r\n\t\tconst advancedAnalytics = advancedAnalyticsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('advancedAnalytics', true)(dispatch, getState)\r\n\t\t)\r\n\t\tconst campaigns = campaignsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('campaigns', true)(dispatch, getState)\r\n\t\t)\r\n\t\tconst demand = updateSlotsDemandThrottled()(dispatch, getState)\r\n\t\tconst targetingData = updateTargetingDataThrottled()(dispatch, getState)\r\n\r\n\t\tawait Promise.all[\r\n\t\t\t(items, advancedAnalytics, campaigns, demand, targetingData)\r\n\t\t]\r\n\r\n\t\tawait statsLoop.start(() =>\r\n\t\t\tupdateInitialDataLoaded('stats', true)(dispatch, getState)\r\n\t\t)\r\n\r\n\t\tupdateMemoryUi('initialDataLoaded', true)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function stopAccountDataUpdate() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\r\n\t\tanalyticsLoop.stop()\r\n\t\tadvancedAnalyticsLoop.stop()\r\n\t\tcampaignsLoop.stop()\r\n\t\tstatsLoop.stop()\r\n\t}\r\n}\r\n\r\nexport function resendConfirmationEmail() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst email = selectEmail(getState())\r\n\t\t\tconst result = (await resendEmail({ email })) || {}\r\n\t\t\tawait updateGlobalUi('resendConfirmation', result)(dispatch, getState)\r\n\t\t\tif (result.success) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: translate('SUCCESS_RESEND_EMAIL', { args: [email] }),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_RESEND_EMAIL', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_RESEND_EMAIL', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// NOTE: Need to be executed before each provider write action\r\nexport function beforeWeb3(validateId = '') {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(SYNC_WEB3_DATA + validateId, true)(dispatch)\r\n\t\tawait getRelayerConfig()(dispatch, getState)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\t\t// NOTE: the stats are updated on 60 seconds and there is no need to update them\r\n\t\t// as it took too long time\r\n\t\t// await updateAccountStats()(dispatch, getState)\r\n\r\n\t\tawait new Promise(resolve => setTimeout(resolve, 300))\r\n\t\tawait updateSpinner(SYNC_WEB3_DATA + validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { getQuickWallet } from 'services/adex-relayer/actions'\r\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\r\nimport {\r\n\tgetOwnerIdentities,\r\n\tregAccount,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { createSession } from './accountActions'\r\nimport { getIdentityDeployData } from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddDataToWallet,\r\n\tgetWalletHash,\r\n\tgetLocalWallet,\r\n\tmigrateLegacyWallet,\r\n\twalletInfo,\r\n\tcreateLocalWallet,\r\n\tgenerateSalt,\r\n} from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\nimport {\r\n\tselectLoginSelectedIdentity,\r\n\tselectIdentity,\r\n\tselectAuthType,\r\n\tt,\r\n} from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport {\r\n\tvalidate,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tvalidateTOS,\r\n\tvalidateWallet,\r\n\tvalidateIdentityContractOwner,\r\n\tvalidateAccessWarning,\r\n\tvalidateKnowFrom,\r\n\tvalidateUserSide,\r\n\tvalidateMoreInfo,\r\n} from './validationActions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tGETTING_OWNER_IDENTITIES,\r\n\tUPLOADING_ACCOUNT_DATA,\r\n\tCHECKING_METAMASK_AUTH,\r\n\tAUTH_WAITING_TREZOR_ACTION,\r\n\tAUTH_WAITING_ADDRESS_DATA,\r\n} from 'constants/spinners'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function initIdentity({ email, authType }) {\r\n\treturn function(dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'email',\r\n\t\t\tvalue: email,\r\n\t\t})\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'authType',\r\n\t\t\tvalue: authType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(t('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: t('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = err => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(err)\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(t('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function updateOwnerIdentities({ owner }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tconst loginSelectedIdentity = selectLoginSelectedIdentity(getState())\r\n\t\t\tconst data = Object.entries(identityData)\r\n\t\t\t\t.filter(\r\n\t\t\t\t\tx =>\r\n\t\t\t\t\t\t!!x &&\r\n\t\t\t\t\t\t!!x[0] &&\r\n\t\t\t\t\t\t(!!loginSelectedIdentity\r\n\t\t\t\t\t\t\t? x[0].toLowerCase() === loginSelectedIdentity.toLowerCase()\r\n\t\t\t\t\t\t\t: true)\r\n\t\t\t\t)\r\n\t\t\t\t.map(async ([identityAddr, privLevel]) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tidentity: identityAddr,\r\n\t\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\t\tens,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\r\n\r\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_OWNER_IDENTITIES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function login() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tknowFrom,\r\n\t\t\t\tuserSide,\r\n\t\t\t\tmoreInfo,\r\n\t\t\t\tidentityData,\r\n\t\t\t\tidentityTxData,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\tregisterAccount,\r\n\t\t\t} = selectIdentity(getState())\r\n\r\n\t\t\tif (registerAccount) {\r\n\t\t\t\tawait regAccount({\r\n\t\t\t\t\towner: wallet.address,\r\n\t\t\t\t\temail: email.toLowerCase(),\r\n\t\t\t\t\tknowFrom,\r\n\t\t\t\t\tuserSide,\r\n\t\t\t\t\tmoreInfo,\r\n\t\t\t\t\t...identityTxData,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identityData.address,\r\n\t\t\t\t})) || {}\r\n\t\t\tconst identity = {\r\n\t\t\t\t...identityData,\r\n\t\t\t\taddress: relayerData.deployData._id,\r\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\r\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\r\n\t\t\t\trelayerData,\r\n\t\t\t}\r\n\t\t\tif (identity.currentPrivileges[wallet.address] > 0) {\r\n\t\t\t\tawait createSession({\r\n\t\t\t\t\tidentity,\r\n\t\t\t\t\twallet,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\t})(dispatch, getState)\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ACCOUNT_NONE_PRIVILEGES'),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_LOGIN', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateQuickLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { password, email, authType } = identity\r\n\r\n\t\tlet wallet = {}\r\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\r\n\t\tlet actualAuthType = authType\r\n\r\n\t\ttry {\r\n\t\t\tif (email && password) {\r\n\t\t\t\tlet walletData = await getLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (!walletData) {\r\n\t\t\t\t\tconst salt = generateSalt(email)\r\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\r\n\t\t\t\t\tconst { encryptedWallet } =\r\n\t\t\t\t\t\t(await getQuickWallet({\r\n\t\t\t\t\t\t\thash,\r\n\t\t\t\t\t\t})) || {}\r\n\r\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tbackupWallet.wallet &&\r\n\t\t\t\t\t\tbackupWallet.key &&\r\n\t\t\t\t\t\tbackupWallet.wallet.data &&\r\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\r\n\t\t\t\t\t\tbackupWallet.wallet.privileges\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\r\n\t\t\t\t\t\tactualAuthType = info.authType\r\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\r\n\r\n\t\t\t\t\t\twalletData = await getLocalWallet({\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\r\n\t\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\t\twallet.email = email\r\n\t\t\t\t\twallet.password = password\r\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\r\n\t\t\t\t\twallet.identity = {\r\n\t\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!authType) {\r\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\r\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t'identityAddr',\r\n\t\t\t\t\twalletData ? walletData.identity : null\r\n\t\t\t\t)(dispatch)\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\r\n\t\t\terror = err\r\n\t\t}\r\n\r\n\t\tconst isValid = !!wallet.address\r\n\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait login()(dispatch, getState)\r\n\t\t}\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateStandardLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identity = selectIdentity(getState())\r\n\t\t\tconst { wallet, identityContractAddress } = identity\r\n\t\t\tconst { address } = wallet\r\n\r\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\t\tconst identityData = {\r\n\t\t\t\taddress: identityDataSplit[0],\r\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\tconst isValid = !!identityData.address\r\n\r\n\t\t\tvalidate(validateId, 'identityContractAddress', {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_STANDARD_LOGIN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, wallet } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\r\n\t\t\tif (!identityAddr && wallet && !!email) {\r\n\t\t\t\tconst walletAddr = wallet.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: txData.identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_FULL_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickDeploy({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, password } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && email && password\r\n\r\n\t\t\tif (!identityAddr && email && password) {\r\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\r\n\r\n\t\t\t\tconst walletData = await createLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\twalletData.email = email\r\n\t\t\t\twalletData.password = password\r\n\r\n\t\t\t\tconst walletAddr = walletData.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\r\n\t\t\t\tconst identityAddr = txData.identityAddr\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityAddr,\r\n\t\t\t\t})\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = !!identityAddr\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_QUICK_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\ttosCheck,\r\n\t\t\tknowFrom,\r\n\t\t\tuserSide,\r\n\t\t\tmoreInfo,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\r\n\t\t\tvalidatePasswordCheck(\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tpasswordCheck,\r\n\t\t\t\tpassword,\r\n\t\t\t\tdirty\r\n\t\t\t)(dispatch),\r\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\r\n\t\t\tvalidateUserSide(validateId, userSide, dirty)(dispatch),\r\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\twallet,\r\n\t\t\tidentityContractOwner,\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\ttosCheck,\r\n\t\t\tknowFrom,\r\n\t\t\tuserSide,\r\n\t\t\tmoreInfo,\r\n\t\t\taccessWarningCheck,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t// validate wallet again in case of step skip\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tidentityContractOwner,\r\n\t\t\t\tdirty\r\n\t\t\t)(dispatch),\r\n\r\n\t\t\t// validate step fields\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\r\n\t\t\tvalidateUserSide(validateId, userSide, dirty)(dispatch),\r\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateFullDeploy({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tskipSpinnerUpdate: true,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateContractOwner({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityContractOwner, wallet } = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tidentityContractOwner,\r\n\t\t\t\tdirty\r\n\t\t\t)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityWallet({\r\n\taddress,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\thdWalletAddrIdx,\r\n\tpath,\r\n\tchainId,\r\n\tsignType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst wallet = {\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}\r\n\r\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\r\n\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handleSignupLink(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('signup-email')\r\n\r\n\t\tif (email) {\r\n\t\t\tupdateIdentity('email', email)(dispatch)\r\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resolveEnsAddress({ address }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\t\t\tconst name = await provider.lookupAddress(address)\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\r\n\t\t\t\titem: address,\r\n\t\t\t\tvalue: name,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_RESOLVING_ENS_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function checkAuthMetamask() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType,\r\n\t\t\t}\r\n\r\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\taddress: { address },\r\n\t\t\t\tgetFullBalances: true,\r\n\t\t\t})\r\n\r\n\t\t\tupdateIdentity('stats', stats)(dispatch, getState)\r\n\r\n\t\t\tupdateIdentityWallet({\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_AUTH_METAMASK', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function connectTrezor() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t}\r\n\r\n\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\tconst { payload, success } = await trezorSigner.getAddresses({\r\n\t\t\t\tfrom: 0,\r\n\t\t\t\tto: 19,\r\n\t\t\t})\r\n\r\n\t\t\tif (success && !payload.error) {\r\n\t\t\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\r\n\r\n\t\t\t\tconst allAddressesData = payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\tupdateIdentity('addresses', results)(dispatch, getState)\r\n\t\t\t\tupdateIdentity('hdWalletAddrPath', trezorSigner.path)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t} else throw new Error(payload.error || 'TREZOR_ERR')\r\n\r\n\t\t\tupdateSpinner('AUTH_WAITING_ADDRESS_DATA', false)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_AUTH_TREZOR', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\r\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function selectWalletAddress({\r\n\taddrData,\r\n\thdWalletAddrIdx,\r\n\thdWalletAddrPath,\r\n\tsignType,\r\n\tauthType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { address, path } = addrData\r\n\r\n\t\tupdateIdentityWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\tsignType,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nexport const getGasPrice = async (format = 'wei') => {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst gasPrice = await provider.getGasPrice()\r\n\treturn utils.formatUnits(gasPrice.toNumber(), format)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateEthAddress,\r\n\tvalidatePrivilegesAddress,\r\n\tvalidatePrivLevel,\r\n\tvalidateWithdrawAmount,\r\n\taddToast,\r\n\tvalidateFees,\r\n\tvalidateENS,\r\n\tvalidateNumberString,\r\n\tbeforeWeb3,\r\n} from 'actions'\r\nimport {\r\n\tselectNewTransactionById,\r\n\tselectWalletAddress,\r\n\tselectAuthType,\r\n\tselectAccount,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountStatsRaw,\r\n\tselectMainToken,\r\n\tselectGasPriceCap,\r\n\tt,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getGasPrice } from 'services/gas/actions'\r\nimport { utils } from 'ethers'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n\taddIdentityENS,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { validate } from './validationActions'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewTransaction() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function checkNetworkCongestion(showToast) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst gasPriceCap = selectGasPriceCap(state)\r\n\t\tconst gasPriceCapGwei = utils.formatUnits(gasPriceCap, 'gwei')\r\n\t\tconst gasPrice = await getGasPrice('gwei')\r\n\t\tif (+gasPriceCapGwei < +gasPrice) {\r\n\t\t\tif (showToast) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tlabel: t('WARNING_NETWORK_CONGESTED'),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\treturn t('WARNING_NETWORK_CONGESTED')\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction handleFeesData({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tactionName,\r\n\tfeeDataAction,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst feesData = await feeDataAction()\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'feesData',\r\n\t\t\t\tvalue: feesData,\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tisValid = await validateFees({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tfeesAmountBN: feesData.totalBN,\r\n\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount || '0',\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(actionName, err)\r\n\r\n\t\t\tisValid = false\r\n\t\t\tawait validate(validateId, 'fees', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: getErrorMsg(err) },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\ttxId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: setAddr,\r\n\t\t\t\tprop: 'setAddr',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidatePrivLevel({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst validation = await validatePrivilegesAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\twalletAddr,\r\n\t\t\t\twarningAccepted,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t\tauthType,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tisValid = validation.isValid\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'warningMsg',\r\n\t\t\t\tvalue: validation.msg,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validatePrivilegesChange',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\tsetIdentityPrivilege({\r\n\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\tsetAddr,\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdraw({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\r\n\t\t// const walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateWithdrawAmount({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validateIdentityWithdraw',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\twithdrawFromIdentity({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdrawAny({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst {\r\n\t\t\tamountToWithdraw,\r\n\t\t\twithdrawTo,\r\n\t\t\ttokenAddress,\r\n\t\t\ttokenDecimals,\r\n\t\t} = selectNewTransactionById(state, stepsId)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: tokenAddress,\r\n\t\t\t\tprop: 'tokenAddress',\r\n\t\t\t\tnonERC20: false,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t\tquickCheck: !dirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'amountToWithdraw',\r\n\t\t\t\tvalue: amountToWithdraw,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: 'tokenDecimals',\r\n\t\t\t\tvalue: tokenDecimals,\r\n\t\t\t\tintegerOnly: true,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validateIdentityWithdrawAny',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\twithdrawOtherTokensFromIdentity({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\t\ttokenAddress,\r\n\t\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\t\ttokenDecimals,\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function identityWithdrawAny({\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t\ttokenAddress,\r\n\t\t\t\ttokenDecimals,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateENSChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\t\tconst state = getState()\r\n\t\tconst { username } = selectNewTransactionById(state, stepsId)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateENS({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tusername,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst account = selectAccount(state)\r\n\t\t\tisValid = await handleFeesData({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tactionName: 'validateENSChange',\r\n\t\t\t\tfeeDataAction: () =>\r\n\t\t\t\t\taddIdentityENS({\r\n\t\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t}),\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function setIdentityENS({ username }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tawait addIdentityENS({\r\n\t\t\t\tusername,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('ENS_SETUP_NOTIFICATION', { args: [username] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_SETTING_ENS', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function completeTx({\r\n\tstepsId,\r\n\tcompeteAction,\r\n\tvalidateId,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateNewTransaction({\r\n\t\t\ttx: stepsId,\r\n\t\t\tkey: 'waitingForWalletAction',\r\n\t\t\tvalue: true,\r\n\t\t})(dispatch)\r\n\r\n\t\tlet isValid = false\r\n\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\r\n\t\t\tconst transaction = selectNewTransactionById(state, stepsId)\r\n\r\n\t\t\tawait competeAction({ ...transaction })(dispatch, getState)\r\n\t\t\tisValid = true\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_TRANSACTION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t\tawait updateNewTransaction({\r\n\t\t\ttx: stepsId,\r\n\t\t\tkey: 'waitingForWalletAction',\r\n\t\t\tvalue: false,\r\n\t\t})(dispatch)\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t// TODO: reset tx if OK\r\n\t}\r\n}\r\n","export const NEW_CAMPAIGN_UNITS = 'NEW_CAMPAIGN_UNITS'\r\nexport const NEW_CAMPAIGN_PREVIEW_UNITS = 'NEW_CAMPAIGN_PREVIEW_UNITS'\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport { selectNewItemByTypeAndId } from 'selectors'\r\nimport { Base, Models } from 'adex-models'\r\nimport {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tresetTableStateById,\r\n} from 'actions'\r\n\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel, itemId) {\r\n\tif (objModel) {\r\n\t\titem = Base.updateObject({ item, newValues, objModel })\r\n\t} else {\r\n\t\titem = {\r\n\t\t\t...item,\r\n\t\t\t...newValues,\r\n\t\t}\r\n\t}\r\n\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(itemType, itemId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: RESET_NEW_ITEM,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: RESET_ALL_NEW_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNewItemAction(type, prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst currentItem = selectNewItemByTypeAndId(state, type, itemId)\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentItem,\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\ttype,\r\n\t\t\tModels.itemClassByName[type],\r\n\t\t\titemId\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewSlot(prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction(\r\n\t\t\t'AdSlot',\r\n\t\t\tprop,\r\n\t\t\tvalue,\r\n\t\t\tnewValues,\r\n\t\t\titemId\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateNewUnit(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction(\r\n\t\t\t'AdUnit',\r\n\t\t\tprop,\r\n\t\t\tvalue,\r\n\t\t\tnewValues\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateNewCampaign(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction(\r\n\t\t\t'Campaign',\r\n\t\t\tprop,\r\n\t\t\tvalue,\r\n\t\t\tnewValues\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateNewAudience(prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction(\r\n\t\t\t'Audience',\r\n\t\t\tprop,\r\n\t\t\tvalue,\r\n\t\t\tnewValues,\r\n\t\t\titemId\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateNewWebsite(prop, value, newValues, itemId) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateNewItemAction(\r\n\t\t\t'Website',\r\n\t\t\tprop,\r\n\t\t\tvalue,\r\n\t\t\tnewValues,\r\n\t\t\titemId\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateNewItemTarget({\r\n\tcollection,\r\n\titemType,\r\n\titemId,\r\n\ttarget = {},\r\n\tindex,\r\n\tremove,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { temp } = selectNewItemByTypeAndId(state, itemType, itemId)\r\n\t\t// We are keeping the state in temp because it dirty with extra data\r\n\t\tconst targets = [...(temp.targets || [])]\r\n\t\tconst hasIndex = Number.isInteger(index)\r\n\r\n\t\tif (hasIndex && !remove) {\r\n\t\t\t// NOTE: when updated with index target has only { target: { tag, score }}\r\n\t\t\ttargets[index] = { ...(targets[index] || {}), ...target }\r\n\t\t} else if (hasIndex && remove) {\r\n\t\t\ttargets.splice(index, 1)\r\n\t\t} else {\r\n\t\t\t// NOTE: when updated w/o index target has no key\r\n\t\t\ttargets.push({ ...target, key: targets.length })\r\n\t\t}\r\n\r\n\t\t// The actual targets added to the spec\r\n\t\tconst filtered = targets.filter(x => x.target.tag).map(x => x.target)\r\n\r\n\t\tconst newValues = {\r\n\t\t\t[collection]: filtered,\r\n\t\t\ttemp: { ...temp, targets },\r\n\t\t}\r\n\r\n\t\tawait updateNewItemAction(\r\n\t\t\titemType,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnewValues,\r\n\t\t\titemId\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateTargetRuleInput({\r\n\tparameter,\r\n\titemType,\r\n\titemId,\r\n\ttarget = {},\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectNewItemByTypeAndId(state, itemType, itemId)\r\n\t\tconst isAudience = itemType === 'Audience'\r\n\r\n\t\tconst newValues = { ...item }\r\n\r\n\t\tconst newInputs = {\r\n\t\t\t...(isAudience ? newValues.inputs : newValues.audienceInput.inputs),\r\n\t\t}\r\n\r\n\t\tnewInputs[parameter] = { ...target }\r\n\r\n\t\tif (isAudience) {\r\n\t\t\tnewValues.inputs = newInputs\r\n\t\t} else {\r\n\t\t\tnewValues.audienceInput = {\r\n\t\t\t\tversion: newValues.audienceInput.version || '1',\r\n\t\t\t\t...newValues.audienceInput,\r\n\t\t\t\tinputs: newInputs,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait updateNewItemAction(\r\n\t\t\titemType,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnewValues,\r\n\t\t\titemId\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function completeItem({\r\n\titemType,\r\n\tcompeteAction,\r\n\tvalidateId,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tif (competeAction) {\r\n\t\t\t\tawait competeAction()(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tisValid = true\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ITEM', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tif (isValid) {\r\n\t\t\tresetNewItem(itemType)(dispatch)\r\n\t\t\tif (itemType === 'Campaign') {\r\n\t\t\t\tresetTableStateById(NEW_CAMPAIGN_UNITS)(dispatch, getState)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport { addToast, updateSpinner } from 'actions'\r\nimport { postAudience, putAudience } from 'services/adex-market/actions'\r\n\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectNewAudience,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAudienceById,\r\n} from 'selectors'\r\nimport {\r\n\tvalidateSchemaProp,\r\n\thandleAfterValidation,\r\n\tvalidateAudience,\r\n\tupdateNewItem,\r\n} from 'actions'\r\nimport { Audience, schemas } from 'adex-models'\r\n\r\nconst { audiencePost, audiencePut } = schemas\r\n\r\nexport function updateAudienceInput({\r\n\tupdateField,\r\n\titemId,\r\n\tonValid,\r\n\tvalidateId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { inputs } = selectNewItemByTypeAndId(state, 'Audience', itemId)\r\n\r\n\t\tconst isValid = await validateAudience({\r\n\t\t\tvalidateId,\r\n\t\t\tinputs,\r\n\t\t\tdirty: true,\r\n\t\t\tpropName: 'inputs',\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait updateField('inputs', inputs)\r\n\t\t\tonValid()\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateAudience({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\tupdate,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { id, title, version, inputs } = item\r\n\r\n\t\t\tconst audience = new Audience(item).marketUpdate\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: audiencePut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: version,\r\n\t\t\t\t\tprop: 'version',\r\n\t\t\t\t\tschema: audiencePut.version,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateAudience({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tinputs,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tpropName: 'inputs',\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: audience,\r\n\t\t\t\t\tprop: 'audience',\r\n\t\t\t\t\tschema: audiencePut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedAudience = (\r\n\t\t\t\t\tawait putAudience({\r\n\t\t\t\t\t\taudience,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t})\r\n\t\t\t\t).audience\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new Audience(updatedAudience).plainObj(),\r\n\t\t\t\t\titemType: 'Audience',\r\n\t\t\t\t})\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['AUDIENCE', updatedAudience.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t} else if (!isValid && update) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['AUDIENCE', getErrorMsg('INVALID_DATA')],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewAudience({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectAudienceById(state, itemId)\r\n\t\tconst audience = selectNewItemByTypeAndId(state, 'Audience', itemId)\r\n\r\n\t\tconst inputs = dirtyProps.includes('inputs') ? audience.inputs : item.inputs\r\n\r\n\t\tupdateNewItem(\r\n\t\t\titem,\r\n\t\t\t{ inputs: { ...inputs } },\r\n\t\t\t'Audience',\r\n\t\t\tAudience,\r\n\t\t\titem.id\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function saveAudience({ audienceInput, campaignId } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst newAudience = { ...(audienceInput || selectNewAudience(state)) }\r\n\t\t\tnewAudience.campaignId = campaignId || null\r\n\t\t\tif (campaignId) {\r\n\t\t\t\tnewAudience.title = null\r\n\t\t\t}\r\n\r\n\t\t\tconst audience = new Audience({\r\n\t\t\t\t...newAudience,\r\n\t\t\t}).marketAdd\r\n\r\n\t\t\tconst resItem = await postAudience({\r\n\t\t\t\taudience,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: resItem,\r\n\t\t\t\titemType: 'Audience',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\tlabel: t('AUDIENCE_SAVED', {\r\n\t\t\t\t\targs: [newAudience.title || campaignId],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_AUDIENCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tlabel: t('ERR_CREATING_AUDIENCE', {\r\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAudienceBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst audience = selectNewAudience(state)\r\n\t\t\tconst { title, version } = audience\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: audiencePost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: version,\r\n\t\t\t\t\tprop: 'version',\r\n\t\t\t\t\tschema: audiencePost.version,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tisValid = validations.every(v => v === true)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateAudienceInput({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { inputs = {} } = selectNewAudience(state)\r\n\r\n\t\t\tconst isValid = await validateAudience({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tinputs,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'inputs',\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('err', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({ targetUrl, campaign, content, src }) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\t\t\tif (campaign) {\r\n\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t}\r\n\t\t\tif (content) {\r\n\t\t\t\tquery['utm_content'] = content\r\n\t\t\t}\r\n\t\t\tif (src) {\r\n\t\t\t\tquery['utm_source'] = src\r\n\t\t\t}\r\n\t\t\tURL.query = query\r\n\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport {\r\n\texecute,\r\n\taddToast,\r\n\tupdateSpinner,\r\n\tupdateItems,\r\n\tupdateValidatorAuthTokens,\r\n\tupdateNewCampaign,\r\n\thandleAfterValidation,\r\n\tvalidateCampaignValidators,\r\n\tvalidateCampaignAmount,\r\n\tvalidateCampaignTitle,\r\n\tvalidateCampaignDates,\r\n\tvalidateCampaignUnits,\r\n\tvalidateSchemaProp,\r\n\tvalidateAudience,\r\n\tconfirmAction,\r\n\tupdateSelectedItems,\r\n\tsaveAudience,\r\n\tupdateNewItem,\r\n\tbeforeWeb3,\r\n} from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { schemas, Campaign, helpers } from 'adex-models'\r\nimport { BigNumber, utils } from 'ethers'\r\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport {\r\n\tlastApprovedState,\r\n\tupdateTargeting,\r\n} from 'services/adex-validator/actions'\r\nimport {\r\n\tcloseCampaignMarket,\r\n\tupdateCampaign,\r\n\tgetCampaigns,\r\n} from 'services/adex-market/actions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectAccount,\r\n\tselectNewCampaign,\r\n\tselectCampaignById,\r\n\tselectAuthSig,\r\n\tselectAuth,\r\n\tselectMainToken,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAudienceByCampaignId,\r\n\tselectTargetingAnalytics,\r\n\tselectTargetingAnalyticsMinByCategories,\r\n\tselectTargetingAnalyticsCountryTiersCoefficients,\r\n\tselectInitialDataLoadedByData,\r\n\tselectCampaigns,\r\n\tselectRoutineWithdrawTokenByAddress,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tOPENING_CAMPAIGN,\r\n\tGETTING_CAMPAIGNS_FEES,\r\n\tPRINTING_CAMPAIGNS_RECEIPTS,\r\n} from 'constants/spinners'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\n\r\nconst {\r\n\taudienceInputToTargetingRules,\r\n\tgetSuggestedPricingBounds,\r\n\tuserInputPricingBoundsPerMileToRulesValue,\r\n\tpricingBondsToUserInputPerMile,\r\n\tbondPerActionToUserInputPerMileValue,\r\n} = helpers\r\n\r\nconst { campaignPut } = schemas\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\r\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\r\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\r\n\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\r\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\r\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\r\n\r\n// updatedCampaign updated campaign class instance\r\nfunction updateCampaignOnMarket({ updated, toastLabel, toastArgs, toastType }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst updatedCampaign = (\r\n\t\t\tawait updateCampaign({\r\n\t\t\t\tcampaign: updated.marketUpdate,\r\n\t\t\t\tid: updated.id,\r\n\t\t\t})\r\n\t\t).campaign\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: UPDATE_ITEM,\r\n\t\t\titem: new Campaign({\r\n\t\t\t\t...updatedCampaign.spec,\r\n\t\t\t\t...updatedCampaign,\r\n\t\t\t}).plainObj(),\r\n\t\t\titemType: 'Campaign',\r\n\t\t})\r\n\t\taddToast({\r\n\t\t\ttype: toastType || 'success',\r\n\t\t\tlabel: t(toastLabel, {\r\n\t\t\t\targs: toastArgs || ['CAMPAIGN', updatedCampaign.title],\r\n\t\t\t}),\r\n\t\t\ttimeout: 50000,\r\n\t\t})(dispatch)\r\n\r\n\t\t// Make sure to update tables\r\n\t\tawait updateUserCampaigns({ updateAllData: true })(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function openCampaign() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst selectedCampaign = selectNewCampaign(state)\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t// save it in audienceInput as it is not spec prop\r\n\t\t\t// and saving/parsinf form targeting rules is harder\r\n\t\t\tconst campaign = {\r\n\t\t\t\t...selectedCampaign,\r\n\t\t\t\taudienceInput: {\r\n\t\t\t\t\t...selectedCampaign.audienceInput,\r\n\t\t\t\t\tpricingBoundsCPMUserInput: {\r\n\t\t\t\t\t\t...selectedCampaign.pricingBoundsCPMUserInput,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\tif (campaign.temp.useUtmTags) {\r\n\t\t\t\tcampaign.adUnits = [...campaign.adUnits].map((unit, index) => ({\r\n\t\t\t\t\t...unit,\r\n\t\t\t\t\ttargetUrl: addUrlUtmTracking({\r\n\t\t\t\t\t\ttargetUrl: unit.targetUrl,\r\n\t\t\t\t\t\tcampaign: campaign.title,\r\n\t\t\t\t\t\tcontent: `${index + 1}_${unit.type}`,\r\n\t\t\t\t\t\t...(campaign.temp.useUtmSrcWithPub\r\n\t\t\t\t\t\t\t? { src: 'adex_PUBHOSTNAME' }\r\n\t\t\t\t\t\t\t: {}),\r\n\t\t\t\t\t}),\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\r\n\t\t\tawait getAllValidatorsAuthForIdentity({\r\n\t\t\t\twithBalance: [{ channel: campaign }],\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tconst { storeCampaign } = await openChannel({\r\n\t\t\t\tcampaign,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tawait saveAudience({\r\n\t\t\t\tcampaignId: storeCampaign.id,\r\n\t\t\t\taudienceInput: campaign.audienceInput,\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new Campaign({\r\n\t\t\t\t\t...storeCampaign.spec,\r\n\t\t\t\t\t...storeCampaign,\r\n\t\t\t\t}).plainObj(),\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\r\n\t\t\t\t\targs: [storeCampaign.id],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t\t// TODO: Reset units tables states\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\r\n\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t}\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// TEMP for testing in production until 4.1 is deployed\r\nfunction getHumanFriendlyName(campaign) {\r\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\r\n\t\treturn 'Closed'\r\n\r\n\tconst isPaused =\r\n\t\t((campaign.targetingRules || [])[0] || {}).onlyShowIf === false\r\n\r\n\tlet status = 'N/A'\r\n\tswitch ((campaign.status || {}).name) {\r\n\t\tcase 'Pending':\r\n\t\t\tstatus = 'Pending'\r\n\t\t\tbreak\r\n\t\tcase 'Active':\r\n\t\tcase 'Ready':\r\n\t\tcase 'Initializing':\r\n\t\tcase 'Waiting':\r\n\t\tcase 'Offline':\r\n\t\tcase 'Disconnected':\r\n\t\tcase 'Unhealthy':\r\n\t\tcase 'Invalid':\r\n\t\t\tstatus = 'Active'\r\n\t\t\tbreak\r\n\t\tcase 'Expired':\r\n\t\tcase 'Exhausted':\r\n\t\tcase 'Withdraw':\r\n\t\t\tstatus = 'Completed'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tstatus = 'N/A'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\tif (status === 'Active' && isPaused) {\r\n\t\tstatus = 'Paused'\r\n\t}\r\n\r\n\treturn status\r\n}\r\n\r\nexport function updateCampaignAudienceInput({\r\n\tupdateField,\r\n\tfieldName,\r\n\titemId,\r\n\tvalidateId,\r\n\tonValid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { audienceInput } = selectNewItemByTypeAndId(\r\n\t\t\tstate,\r\n\t\t\t'Campaign',\r\n\t\t\titemId\r\n\t\t)\r\n\r\n\t\tconst isValid = await validateAudience({\r\n\t\t\tvalidateId,\r\n\t\t\tinputs: audienceInput.inputs,\r\n\t\t\tdirty: true,\r\n\t\t\tpropName: 'audienceInput',\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait updateField(\r\n\t\t\t\t'audienceInput',\r\n\t\t\t\taudienceInput,\r\n\t\t\t\tfieldName\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\tname: fieldName,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: null\r\n\t\t\t)\r\n\t\t\tonValid()\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewCampaignAudienceInput({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectCampaignById(state, itemId)\r\n\t\tconst campaign = selectNewItemByTypeAndId(state, 'Campaign', itemId)\r\n\t\tconst initialAudienceInput = selectAudienceByCampaignId(state, itemId)\r\n\t\tconst itemAudienceInput =\r\n\t\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\r\n\t\t\t\t? item.audienceInput\r\n\t\t\t\t: initialAudienceInput\r\n\r\n\t\tconst audienceInput = dirtyProps.some(p =>\r\n\t\t\t['audienceInput', 'campaignAdvanced'].includes(p.name || p)\r\n\t\t)\r\n\t\t\t? campaign.audienceInput\r\n\t\t\t: item.audienceInput || itemAudienceInput\r\n\r\n\t\tupdateNewItem(\r\n\t\t\titem,\r\n\t\t\t{ audienceInput: { ...audienceInput } },\r\n\t\t\t'Campaign',\r\n\t\t\tCampaign,\r\n\t\t\titem.id\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateUserCampaigns({ updateAllData = false } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst statusOnly =\r\n\t\t\t!!selectInitialDataLoadedByData(state, 'campaigns') && !updateAllData\r\n\t\tconst { identity } = selectAccount(state)\r\n\t\tconst { address } = identity\r\n\t\tconst stateCampaigns = selectCampaigns(state)\r\n\t\tconst { decimals } = selectMainToken(state)\r\n\r\n\t\tif (hasAuth && address) {\r\n\t\t\ttry {\r\n\t\t\t\tconst campaigns = await getCampaigns({\r\n\t\t\t\t\tall: true,\r\n\t\t\t\t\tstatusOnly,\r\n\t\t\t\t\tbyCreator: address,\r\n\t\t\t\t\tcacheBrake: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst campaignsMapped = campaigns\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\tc.id &&\r\n\t\t\t\t\t\t\tc.creator &&\r\n\t\t\t\t\t\t\tc.creator.toLowerCase() === address.toLowerCase() &&\r\n\t\t\t\t\t\t\t(statusOnly || c.spec)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => {\r\n\t\t\t\t\t\tconst campaign = statusOnly\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t...stateCampaigns[c.id],\r\n\t\t\t\t\t\t\t\t\t...{ status: c.status },\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t...c.spec,\r\n\t\t\t\t\t\t\t\t\t...c,\r\n\t\t\t\t\t\t\t\t\ttargetingRules: c.targetingRules || c.spec.targetingRules,\r\n\t\t\t\t\t\t\t\t\tspecPricingBounds: {\r\n\t\t\t\t\t\t\t\t\t\t...(c.spec.pricingBounds || {\r\n\t\t\t\t\t\t\t\t\t\t\tIMPRESSION: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin: c.spec.minPerImpression || c.minPerImpression,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax: c.spec.maxPerImpression || c.maxPerImpression,\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t  }\r\n\r\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\r\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!campaign.audienceInput) {\r\n\t\t\t\t\t\t\tcampaign.audienceInput = selectAudienceByCampaignId(state, c.id)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!campaign.pricingBoundsCPMUserInput) {\r\n\t\t\t\t\t\t\tcampaign.pricingBoundsCPMUserInput =\r\n\t\t\t\t\t\t\t\t(campaign.audienceInput || {}).pricingBoundsCPMUserInput ||\r\n\t\t\t\t\t\t\t\t(campaign.pricingBounds\r\n\t\t\t\t\t\t\t\t\t? pricingBondsToUserInputPerMile({\r\n\t\t\t\t\t\t\t\t\t\t\tpricingBounds: campaign.pricingBounds,\r\n\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t: null)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn campaign\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: campaignsMapped,\r\n\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\r\n\t\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.status = {\r\n\t\t\t\t...newCampaign.status,\r\n\t\t\t\thumanFriendlyName: 'Closed',\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t\tawait updateUserCampaigns({ updateAllData: true })(dispatch, getState)\r\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CLOSING_CAMPAIGN'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function pauseOrResumeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, true)(dispatch)\r\n\t\tlet action = 'PAUSING'\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst updated = new Campaign(campaign)\r\n\r\n\t\t\tconst currentTargetingRules = updated.targetingRules || []\r\n\t\t\tconst newRules = [...currentTargetingRules]\r\n\r\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\r\n\t\t\tif (isPaused) {\r\n\t\t\t\taction = 'RESUMING'\r\n\t\t\t\tnewRules.shift()\r\n\t\t\t} else {\r\n\t\t\t\tnewRules.unshift({ onlyShowIf: false })\r\n\t\t\t}\r\n\r\n\t\t\tupdated.targetingRules = newRules\r\n\r\n\t\t\tconst { authTokens } = await updateTargeting({\r\n\t\t\t\taccount,\r\n\t\t\t\tcampaign: updated,\r\n\t\t\t\ttargetingRules: newRules,\r\n\t\t\t})\r\n\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\r\n\t\t\tawait updateCampaignOnMarket({\r\n\t\t\t\tupdated,\r\n\t\t\t\ttoastLabel: `SUCCESS_${action}_CAMPAIGN`,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_${action}_CAMPAIGN`, err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t(`ERR_${action}_CAMPAIGN`, {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function excludeOrIncludeWebsites({\r\n\tcampaignId,\r\n\thostnames,\r\n\texclude,\r\n\taction,\r\n\tonSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectCampaignById(state, campaignId)\r\n\t\t\tconst targetingData = selectTargetingAnalytics(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst updated = new Campaign(campaign)\r\n\r\n\t\t\tconst currentTargetingRules = campaign.targetingRules || []\r\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\r\n\r\n\t\t\tconst campaignAudienceInput = selectAudienceByCampaignId(\r\n\t\t\t\tstate,\r\n\t\t\t\tcampaignId\r\n\t\t\t)\r\n\r\n\t\t\t// Add default value for legacy campaigns\r\n\t\t\tconst newAudienceInput = {\r\n\t\t\t\tversion: '1',\r\n\t\t\t\tinputs: { publishers: {} },\r\n\t\t\t\t...campaignAudienceInput,\r\n\t\t\t}\r\n\t\t\tnewAudienceInput.inputs = { ...newAudienceInput.inputs }\r\n\t\t\tnewAudienceInput.inputs.publishers = {\r\n\t\t\t\t...newAudienceInput.inputs.publishers,\r\n\t\t\t}\r\n\r\n\t\t\tconst { inputs = {} } = newAudienceInput\r\n\t\t\tconst { publishers = {} } = inputs\r\n\r\n\t\t\t// exclude\r\n\t\t\tif (exclude && publishers.apply && publishers.apply === 'in') {\r\n\t\t\t\tconst newIn = [...(publishers.in || [])].filter(value => {\r\n\t\t\t\t\tconst { hostname } = JSON.parse(value)\r\n\t\t\t\t\treturn !hostnames.includes(hostname)\r\n\t\t\t\t})\r\n\t\t\t\tnewAudienceInput.inputs.publishers.in = newIn\r\n\t\t\t}\r\n\t\t\t// include\r\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'in') {\r\n\t\t\t\tconst newIn = [...hostnames]\r\n\t\t\t\t\t// Filter already included\r\n\t\t\t\t\t.filter(h => ![...(publishers.in || [])].some(x => x.includes(h)))\r\n\t\t\t\t\t.map(hostname =>\r\n\t\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\t\tpublisher: (\r\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\r\n\t\t\t\t\t\t\t).owner,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\tnewAudienceInput.inputs.publishers.in = (publishers.in || []).concat(\r\n\t\t\t\t\tnewIn\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t// exclude\r\n\t\t\telse if (exclude && publishers.apply && publishers.apply === 'nin') {\r\n\t\t\t\tconst newNin = hostnames\r\n\t\t\t\t\t// Filter already excluded\r\n\t\t\t\t\t.filter(h => ![...(publishers.nin || [])].some(x => x.includes(h)))\r\n\t\t\t\t\t.map(hostname =>\r\n\t\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\t\tpublisher: (\r\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\r\n\t\t\t\t\t\t\t).owner,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = (publishers.nin || []).concat(\r\n\t\t\t\t\tnewNin\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t// include\r\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'nin') {\r\n\t\t\t\tconst newNin = [...(publishers.nin || [])]\r\n\t\t\t\t\t// Filter selected\r\n\t\t\t\t\t.filter(value => {\r\n\t\t\t\t\t\tconst { hostname } = JSON.parse(value)\r\n\t\t\t\t\t\treturn !hostnames.includes(hostname)\r\n\t\t\t\t\t})\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\r\n\t\t\t}\r\n\t\t\t// exclude\r\n\t\t\telse if (\r\n\t\t\t\texclude &&\r\n\t\t\t\t(!publishers.apply ||\r\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\r\n\t\t\t) {\r\n\t\t\t\tconst newNin = [...hostnames].map(hostname =>\r\n\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\thostname,\r\n\t\t\t\t\t\tpublisher: (targetingData.find(x => x.hostname === hostname) || {})\r\n\t\t\t\t\t\t\t.owner,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'nin'\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\r\n\t\t\t}\r\n\t\t\t// include\r\n\t\t\telse if (\r\n\t\t\t\t!exclude &&\r\n\t\t\t\t(!publishers.apply ||\r\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\r\n\t\t\t) {\r\n\t\t\t\t// There is nothing to do\r\n\t\t\t\treturn addToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t(`SUCCESS_${action}_WEBSITE`, {\r\n\t\t\t\t\t\targs: [hostnames.length, updated.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'nin' &&\r\n\t\t\t\t!newAudienceInput.inputs.publishers.nin.length\r\n\t\t\t) {\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'allin'\r\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = null\r\n\t\t\t}\r\n\r\n\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\tstate\r\n\t\t\t)\r\n\r\n\t\t\tconst { decimals } = selectMainToken(state)\r\n\t\t\tconst {\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\tmaxPerImpression,\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t} = campaign\r\n\r\n\t\t\tconst rulesPricingBounds = userInputPricingBoundsPerMileToRulesValue({\r\n\t\t\t\tpricingBounds: pricingBoundsCPMUserInput,\r\n\t\t\t\tdecimals,\r\n\t\t\t})\r\n\r\n\t\t\t// Legacy campaigns shim\r\n\t\t\tconst campaignPricingBounds = rulesPricingBounds || {\r\n\t\t\t\tIMPRESSION: {\r\n\t\t\t\t\tmin: minPerImpression,\r\n\t\t\t\t\tmax: maxPerImpression,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\tconst newRules = audienceInputToTargetingRules({\r\n\t\t\t\taudienceInput: newAudienceInput,\r\n\t\t\t\tminByCategory,\r\n\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\tpricingBounds: campaignPricingBounds,\r\n\t\t\t\tdecimals,\r\n\t\t\t})\r\n\r\n\t\t\tif (isPaused) {\r\n\t\t\t\tnewRules.unshift({ onlyShowIf: false })\r\n\t\t\t}\r\n\r\n\t\t\tupdated.targetingRules = newRules\r\n\t\t\tupdated.audienceInput = newAudienceInput\r\n\r\n\t\t\tconst { authTokens } = await updateTargeting({\r\n\t\t\t\taccount,\r\n\t\t\t\tcampaign: updated,\r\n\t\t\t\ttargetingRules: newRules,\r\n\t\t\t})\r\n\r\n\t\t\tconst updatedCampaign = (\r\n\t\t\t\tawait updateCampaign({\r\n\t\t\t\t\tcampaign: updated.marketUpdate,\r\n\t\t\t\t\tid: updated.id,\r\n\t\t\t\t})\r\n\t\t\t).campaign\r\n\r\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\r\n\t\t\tlet toastType = 'success'\r\n\t\t\tlet toastLabel = `SUCCESS_${action}_WEBSITE`\r\n\r\n\t\t\tif (\r\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'in' &&\r\n\t\t\t\t!newAudienceInput.inputs.publishers.in.length\r\n\t\t\t) {\r\n\t\t\t\ttoastType = 'warning'\r\n\t\t\t\ttoastLabel = `WARNING_NO_PUBLISHERS_${action}_WEBSITE`\r\n\t\t\t}\r\n\r\n\t\t\tawait updateCampaignOnMarket({\r\n\t\t\t\tupdated,\r\n\t\t\t\ttoastType,\r\n\t\t\t\ttoastLabel,\r\n\t\t\t\ttoastArgs: [hostnames.length, updatedCampaign.title],\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tif (typeof onSuccess === 'function') {\r\n\t\t\t\tonSuccess()\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_${action}_WEBSITE`, err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t(`ERR_${action}_WEBSITE`, {\r\n\t\t\t\t\targs: [hostnames.length, getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\r\n\t}\r\n}\r\n\r\nconst tempValidators = [\r\n\t{\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\r\n\t},\r\n\t{\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\r\n\t},\r\n]\r\n\r\nexport function validateNewCampaignAdUnits({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tif (!dirty) {\r\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\r\n\t\t}\r\n\r\n\t\tconst state = getState()\r\n\t\tconst campaign = selectNewCampaign(state)\r\n\t\tconst { adUnits } = campaign\r\n\r\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })(\r\n\t\t\tdispatch\r\n\t\t)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAudienceInput({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst {\r\n\t\t\t\taudienceInput = {},\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\ttemp,\r\n\t\t\t} = selectNewCampaign(state)\r\n\t\t\tconst { inputs } = audienceInput\r\n\r\n\t\t\tconst isValid = await validateAudience({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tinputs,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'audienceInput',\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\t\tstate\r\n\t\t\t\t)\r\n\t\t\t\tconst suggestedPricingBounds = getSuggestedPricingBounds({\r\n\t\t\t\t\tminByCategory,\r\n\t\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\t\taudienceInput,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', {\r\n\t\t\t\t\t...temp,\r\n\t\t\t\t\tsuggestedPricingBounds,\r\n\t\t\t\t})(dispatch, getState)\r\n\r\n\t\t\t\t// Update pricingBounds here in order to avoid value check at next steps\r\n\t\t\t\t// Only if the bounds are not updated (step back or soft closed modal)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!pricingBoundsCPMUserInput ||\r\n\t\t\t\t\t!(\r\n\t\t\t\t\t\tpricingBoundsCPMUserInput['IMPRESSION'] ||\r\n\t\t\t\t\t\tpricingBoundsCPMUserInput['CLICK']\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tawait updateNewCampaign(\r\n\t\t\t\t\t\t'pricingBoundsCPMUserInput',\r\n\t\t\t\t\t\tsuggestedPricingBounds\r\n\t\t\t\t\t)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('err', err)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewCampaignFinance({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { decimals } = selectMainToken(state)\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst {\r\n\t\t\t\tvalidators,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\ttitle,\r\n\t\t\t\tactiveFrom,\r\n\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t// pricingBounds,\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\taudienceInput,\r\n\t\t\t\t// minTargetingScore,\r\n\t\t\t\t// adUnits,\r\n\t\t\t\ttemp = {},\r\n\t\t\t} = campaign\r\n\r\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\r\n\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\r\n\t\t\tif (!validators || !validators.length) {\r\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\r\n\t\t\t\tnewCampaign.validators = tempValidators\r\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInput,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (typeof maxChannelFees !== 'string') {\r\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\r\n\t\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesFormatted,\r\n\t\t\t\t\tmaxAvailable,\r\n\t\t\t\t\tmaxAvailableFormatted,\r\n\t\t\t\t} = await openChannel({\r\n\t\t\t\t\tcampaign: { ...newCampaign },\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\tgetMaxFees: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst newTemp = { ...temp }\r\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\r\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\r\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\t\tstate\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst rulesPricingBounds = userInputPricingBoundsPerMileToRulesValue({\r\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInput,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst targetingRules = audienceInputToTargetingRules({\r\n\t\t\t\t\taudienceInput,\r\n\t\t\t\t\tminByCategory,\r\n\t\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\t\tpricingBounds: rulesPricingBounds,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})\r\n\t\t\t\tawait updateNewCampaign('targetingRules', targetingRules)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getCampaignActualFees() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst mainToken = selectMainToken(state)\r\n\t\t\tconst { temp = {}, depositAmount } = campaign\r\n\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\tconst { feesFormatted, fees, breakdownFormatted } = await openChannel({\r\n\t\t\t\tcampaign: { ...campaign },\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst totalSpend = utils\r\n\t\t\t\t.parseUnits(depositAmount, mainToken.decimals)\r\n\t\t\t\t.add(fees)\r\n\r\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\r\n\t\t\t\ttotalSpend.toString(),\r\n\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\tfalse,\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.feesFormatted = feesFormatted\r\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\r\n\t\t\tnewTemp.breakdownFormatted = breakdownFormatted\r\n\r\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handlePrintSelectedReceiptsAdvertiser(selected) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\r\n\t\tconfirmAction(\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSelectedItems('campaigns', selected)(dispatch)\r\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\tconfirmLabel: t('OK'),\r\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\r\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\r\n\t\t\t}\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateCampaign({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\titemPlain,\r\n\tupdate,\r\n\tdirtyProps,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\ttitle,\r\n\t\t\t\taudienceInput,\r\n\t\t\t\tpricingBounds,\r\n\t\t\t\tpricingBoundsCPMUserInput,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\tmaxPerImpression,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tdepositAsset,\r\n\t\t\t\ttargetingRules,\r\n\t\t\t} = item\r\n\r\n\t\t\tconst { decimals } = selectRoutineWithdrawTokenByAddress(\r\n\t\t\t\tstate,\r\n\t\t\t\tdepositAsset\r\n\t\t\t)\r\n\r\n\t\t\tconst updated = new Campaign(item)\r\n\r\n\t\t\tconst currentTargetingRules = targetingRules || []\r\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\r\n\r\n\t\t\tconst isMinUpdated = dirtyProps.includes('minPerImpression')\r\n\t\t\tconst isMaxUpdated = dirtyProps.includes('maxPerImpression')\r\n\r\n\t\t\tconst isAudienceUpdated =\r\n\t\t\t\tdirtyProps.some(p =>\r\n\t\t\t\t\t['audienceInput', 'campaignAdvanced'].includes(p.name || p)\r\n\t\t\t\t) ||\r\n\t\t\t\tisMinUpdated ||\r\n\t\t\t\tisMaxUpdated\r\n\r\n\t\t\tconst depositAmountInputString = formatTokenAmount(\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tdecimals\r\n\t\t\t)\r\n\r\n\t\t\tconst pricingBoundsCPMUserInputString = {\r\n\t\t\t\t...(pricingBoundsCPMUserInput || { IMPRESSION: {} }),\r\n\t\t\t}\r\n\r\n\t\t\tif (isMinUpdated) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION = {\r\n\t\t\t\t\t...pricingBoundsCPMUserInputString.IMPRESSION,\r\n\t\t\t\t\tmin: minPerImpression,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (isMaxUpdated) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION = {\r\n\t\t\t\t\t...pricingBoundsCPMUserInputString.IMPRESSION,\r\n\t\t\t\t\tmax: maxPerImpression,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!pricingBoundsCPMUserInputString.IMPRESSION.min) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION.min = bondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\tpricingBounds && pricingBounds.IMPRESSION\r\n\t\t\t\t\t\t? pricingBounds.IMPRESSION.min\r\n\t\t\t\t\t\t: minPerImpression,\r\n\t\t\t\t\tdecimals\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!pricingBoundsCPMUserInputString.IMPRESSION.max) {\r\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION.max = bondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\tpricingBounds && pricingBounds.IMPRESSION\r\n\t\t\t\t\t\t? pricingBounds.IMPRESSION.max\r\n\t\t\t\t\t\t: maxPerImpression,\r\n\t\t\t\t\tdecimals\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\t// Per impression\r\n\t\t\tconst pricingBoundsImpressionBnString = userInputPricingBoundsPerMileToRulesValue(\r\n\t\t\t\t{\r\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInputString,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tupdated.pricingBoundsCPMUserInput = pricingBoundsCPMUserInputString\r\n\t\t\tupdated.audienceInput = {\r\n\t\t\t\t...audienceInput,\r\n\t\t\t\t...{ pricingBoundsCPMUserInput: updated.pricingBoundsCPMUserInput },\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount: depositAmountInputString,\r\n\t\t\t\t\tpricingBounds: updated.audienceInput.pricingBoundsCPMUserInput,\r\n\t\t\t\t\tspecPricingBounds: itemPlain.specPricingBounds,\r\n\t\t\t\t\terrMsg: !dirty,\r\n\t\t\t\t\tmaxDeposit: BigNumber.from(depositAmount),\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: updated.marketUpdate,\r\n\t\t\t\t\tprop: 'campaign',\r\n\t\t\t\t\tschema: campaignPut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tif (isAudienceUpdated) {\r\n\t\t\t\tconst state = getState()\r\n\t\t\t\tconst { decimals } = selectMainToken(state)\r\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\r\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\r\n\t\t\t\t\tstate\r\n\t\t\t\t)\r\n\r\n\t\t\t\tupdated.targetingRules = audienceInputToTargetingRules({\r\n\t\t\t\t\taudienceInput: updated.audienceInput,\r\n\t\t\t\t\tminByCategory,\r\n\t\t\t\t\tcountryTiersCoefficients,\r\n\t\t\t\t\tpricingBounds: pricingBoundsImpressionBnString,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tif (isAudienceUpdated) {\r\n\t\t\t\t\tconst account = selectAccount(state)\r\n\t\t\t\t\tif (isPaused) {\r\n\t\t\t\t\t\tupdated.targetingRules.unshift({ onlyShowIf: false })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst { authTokens } = await updateTargeting({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tcampaign: updated,\r\n\t\t\t\t\t\ttargetingRules: updated.targetingRules,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\r\n\t\t\t\t\t\tdispatch,\r\n\t\t\t\t\t\tgetState\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait updateCampaignOnMarket({\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t\ttoastLabel: 'SUCCESS_UPDATING_ITEM',\r\n\t\t\t\t})(dispatch, getState)\r\n\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t} else if (!isValid && update) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['CAMPAIGN', getErrorMsg('INVALID_INPUT_PARAMETERS')],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['CAMPAIGN', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import { utils, BigNumber } from 'ethers'\r\nconst { parseUnits } = utils\r\n\r\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\r\n\tif (numStr === null || numStr === undefined) {\r\n\t\treturn numStr\r\n\t}\r\n\r\n\treturn parseUnits(numStr, decimals)\r\n\t\t.div(BigNumber.from(1000))\r\n\t\t.toString()\r\n}\r\n","import { items as ItemsConstants } from 'adex-constants'\r\n\r\nconst { ItemsTypes, AdTypesByValue, AdSizesByValue } = ItemsConstants\r\n\r\nexport const sortCollections = items => {\r\n\tlet collections = {\r\n\t\tcampaigns: [],\r\n\t\tadUnits: [],\r\n\t\tchannels: [],\r\n\t\tadSlots: [],\r\n\t}\r\n\r\n\tfor (let i = 0; i < items.length; i++) {\r\n\t\tlet item = items[i]\r\n\t\tif (item._type === ItemsTypes.Campaign) collections.campaigns.push(item)\r\n\t\tif (item._type === ItemsTypes.AdUnit) collections.adUnits.push(item)\r\n\t\tif (item._type === ItemsTypes.Channel) collections.channel.push(item)\r\n\t\tif (item._type === ItemsTypes.AdSlot) collections.adSlots.push(item)\r\n\t}\r\n\r\n\treturn collections\r\n}\r\n\r\nexport const cloneObject = obj => {\r\n\treturn Object.assign(Object.create(obj), obj)\r\n}\r\n\r\nexport const getTypeName = id => {\r\n\tfor (var key in ItemsTypes) {\r\n\t\tif (ItemsTypes.hasOwnProperty(key)) {\r\n\t\t\tif (ItemsTypes[key].id === id) {\r\n\t\t\t\treturn ItemsTypes[key].name\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const groupItemsForCollection = ({ collectionId, allItems = {} }) => {\r\n\tlet grouped = Object.values(allItems).reduce(\r\n\t\t(memo, item, index) => {\r\n\t\t\tif (item._items.indexOf(collectionId) > -1) {\r\n\t\t\t\tmemo.items.push(item)\r\n\t\t\t} else {\r\n\t\t\t\tmemo.otherItems.push(item)\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t},\r\n\t\t{ items: [], otherItems: [] }\r\n\t)\r\n\r\n\treturn grouped\r\n}\r\n\r\nexport const itemAdTypeLabel = ({ adType }) => {\r\n\treturn (AdTypesByValue[adType] || {}).label\r\n}\r\n\r\nexport const itemAdSizeLabel = ({ size, t }) => {\r\n\tconst adSize = AdSizesByValue[size] || {}\r\n\treturn t(adSize.label, { args: adSize.labelArgs || [] })\r\n}\r\n\r\nexport const getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n","import { validations, helpers } from 'adex-models'\r\n\r\nexport const ipfsSrc = src => {\r\n\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t}\r\n\r\n\treturn src\r\n}\r\n","export const getImgObjectUrlFromExternalUrl = async imgUrl => {\r\n\tconst res = await fetch(imgUrl)\r\n\tconst blob = await res.blob()\r\n\tconst objectUrl = URL.createObjectURL(blob)\r\n\r\n\treturn objectUrl\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateNumberString,\r\n\tvalidateMediaSize,\r\n\tupdateNewSlot,\r\n\taddToast,\r\n\tvalidate,\r\n\tgetImgsIpfsFromBlob,\r\n\tupdateNewItem,\r\n\tupdateNewWebsite,\r\n} from 'actions'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectAuthSig,\r\n\tselectNewWebsite,\r\n\tt,\r\n\tselectNewItemByTypeAndId,\r\n\tselectAdSlotById,\r\n\tselectWebsiteByWebsite,\r\n} from 'selectors'\r\nimport { schemas, AdSlot, AdUnit, helpers } from 'adex-models'\r\nimport {\r\n\tverifyWebsite,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n\tupdateAdSlot,\r\n} from 'services/adex-market/actions'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\n\r\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\r\nimport { getImgObjectUrlFromExternalUrl } from 'services/images/blob'\r\nimport { BigNumber, utils } from 'ethers'\r\n\r\nconst { adSlotPost, adUnitPost, adSlotPut } = schemas\r\nconst { slotRulesInputToTargetingRules } = helpers\r\n\r\nconst { VALIDATOR_FOLLOWER_FEE_NUM, VALIDATOR_FOLLOWER_FEE_DEN } = process.env\r\n\r\n// in float - CPM\r\n// NOTE:  `minPerImpression` is used as the value user sees and modifies\r\n// `minPerImpression` is obsolete in the protocol but this way we can easily\r\n// manage the user input w/o multiple conversion of the CPM value\r\nfunction getRuleMinCPMWithValidatorFeeAdded(cpmInput) {\r\n\tconst withFee =\r\n\t\t+cpmInput / (1 - +VALIDATOR_FOLLOWER_FEE_NUM / +VALIDATOR_FOLLOWER_FEE_DEN)\r\n\treturn withFee.toString()\r\n}\r\n\r\nasync function getFallbackUnit({\r\n\tmediaMime,\r\n\ttempUrl,\r\n\ttargetUrl,\r\n\ttype,\r\n\tauthSig,\r\n\ttitle,\r\n\tdescription,\r\n}) {\r\n\tconst imageIpfs = (\r\n\t\tawait getImgsIpfsFromBlob({\r\n\t\t\ttempUrl,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t).ipfs\r\n\r\n\tconst unit = new AdUnit({\r\n\t\ttype,\r\n\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\ttargetUrl,\r\n\t\tmediaMime,\r\n\t\tcreated: Date.now(),\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\ttargeting: [],\r\n\t\ttags: [],\r\n\t\tpassback: true,\r\n\t})\r\n\r\n\tconst resUnit = await postAdUnit({\r\n\t\tunit: unit.marketAdd,\r\n\t\tauthSig,\r\n\t})\r\n\r\n\treturn resUnit\r\n}\r\n\r\nexport function validateNewSlotBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst state = getState()\r\n\t\t\tconst slot = selectNewAdSlot(state)\r\n\t\t\tconst {\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\ttype,\r\n\t\t\t\twebsite,\r\n\t\t\t\tminPerImpression = null,\r\n\t\t\t\trulesInput,\r\n\t\t\t\ttemp,\r\n\t\t\t} = slot\r\n\r\n\t\t\tconst { inputs = {} } = rulesInput || {}\r\n\t\t\tconst { autoSetMinCPM } = inputs\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adSlotPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tisValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && !autoSetMinCPM && minPerImpression !== null) {\r\n\t\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\tnumStr: minPerImpression || null,\r\n\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tschema: adSlotPost.minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tconst { hostname, issues, categories, suggestedMinCPM } = isValid\r\n\t\t\t\t? await verifyWebsite({ websiteUrl: website })\r\n\t\t\t\t: {}\r\n\t\t\tconst newTemp = { ...temp, hostname, issues, categories, suggestedMinCPM }\r\n\r\n\t\t\tconst ruleCPM = !!autoSetMinCPM ? suggestedMinCPM : minPerImpression\r\n\r\n\t\t\tconst rulesCPMWithValidatorFee = getRuleMinCPMWithValidatorFeeAdded(\r\n\t\t\t\truleCPM\r\n\t\t\t)\r\n\r\n\t\t\tconst rules = slotRulesInputToTargetingRules({\r\n\t\t\t\trulesInput,\r\n\t\t\t\tsuggestedMinCPM: rulesCPMWithValidatorFee,\r\n\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t})\r\n\r\n\t\t\tupdateNewSlot('temp', newTemp)(dispatch, getState)\r\n\t\t\tupdateNewSlot('rules', rules)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\r\n\t\t\t// bet this doesn't matter at that point\r\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewSlotPassback({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n\titemId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttargetUrl,\r\n\t\t\ttemp: { useFallback, tempUrl, mime },\r\n\t\t} = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t...(useFallback\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tvalidateMediaSize({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tpropName: 'temp',\r\n\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmedia: {\r\n\t\t\t\t\t\t\t\ttempUrl,\r\n\t\t\t\t\t\t\t\tmime,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [\r\n\t\t\t\t\t\tvalidate(validateId, 'temp', {\r\n\t\t\t\t\t\t\tisValid: true,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]),\r\n\t\t\t...(useFallback\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tvalue: targetUrl,\r\n\t\t\t\t\t\t\tprop: 'targetUrl',\r\n\t\t\t\t\t\t\tschema: adUnitPost.targetUrl,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [\r\n\t\t\t\t\t\tvalidate(validateId, 'targetUrl', {\r\n\t\t\t\t\t\t\tisValid: true,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t})(dispatch),\r\n\t\t\t\t  ]),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function saveSlot() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst item = selectNewAdSlot(state)\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tfallbackUnit = (\r\n\t\t\t\t\tawait getFallbackUnit({\r\n\t\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\t\tauthSig,\r\n\t\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\t})\r\n\t\t\t\t).ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst minPerImpression = newItem.rulesInput.inputs.autoSetMinCPM\r\n\t\t\t\t? newItem.temp.suggestedMinCPM\r\n\t\t\t\t: newItem.minPerImpression\r\n\r\n\t\t\tif (minPerImpression) {\r\n\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: minPerImpression,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', { args: ['ADSLOT', newItem.title] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\r\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateWebsiteVerification({ id, website }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst websiteUrl = website || 'https://' + id\r\n\t\tupdateSpinner('vilifying' + websiteUrl, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { issues, updated, hostname } = await verifyWebsite({\r\n\t\t\t\twebsiteUrl,\r\n\t\t\t})\r\n\t\t\tconst item = { id: hostname, issues, updated }\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\titem,\r\n\t\t\t\titemType: 'Website',\r\n\t\t\t})\r\n\r\n\t\t\tif (issues && issues.length) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tlabel: t('UPDATING_WS_VERIFICATION_WITH_ISSUES', {\r\n\t\t\t\t\t\targs: [websiteUrl],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_WS_VERIFICATION', {\r\n\t\t\t\t\t\targs: [websiteUrl],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\targs: [websiteUrl],\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_WS_VERIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\r\n\t\t\t\tlabel: t('ERR_UPDATING_WS_VERIFICATION', {\r\n\t\t\t\t\targs: [id, err],\r\n\t\t\t\t}),\r\n\t\t\t\targs: [id, err],\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('vilifying' + websiteUrl, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function mapCurrentToNewPassback({ itemId, dirtyProps }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst item = selectAdSlotById(state, itemId)\r\n\t\tconst newItem = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\r\n\t\tconst isDirty = ['mediaUrl', 'mediaMime', 'targetUrl'].some(prop =>\r\n\t\t\tdirtyProps.includes(prop)\r\n\t\t)\r\n\r\n\t\tconst { mediaUrl, mediaMime, targetUrl } = item\r\n\t\tconst newValues = {}\r\n\t\tif (isDirty) {\r\n\t\t\tnewValues.temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t}\r\n\t\t\tnewValues.targetUrl = newItem.targetUrl\r\n\t\t} else {\r\n\t\t\tconst tempUrl = mediaUrl\r\n\t\t\t\t? await getImgObjectUrlFromExternalUrl(ipfsSrc(mediaUrl))\r\n\t\t\t\t: mediaUrl\r\n\r\n\t\t\tnewValues.temp = {\r\n\t\t\t\t...item.temp,\r\n\t\t\t\ttempUrl,\r\n\t\t\t\tmime: mediaMime,\r\n\t\t\t\tuseFallback: !!(mediaUrl || mediaMime || targetUrl),\r\n\t\t\t}\r\n\t\t\tnewValues.targetUrl = targetUrl\r\n\t\t}\r\n\r\n\t\tupdateNewItem(\r\n\t\t\titem,\r\n\t\t\tnewValues,\r\n\t\t\t'AdSlot',\r\n\t\t\tAdSlot,\r\n\t\t\titem.id\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function updateSlotPasback({\r\n\tupdateMultipleFields,\r\n\titemId,\r\n\tonValid: onValidProp,\r\n\tvalidateId,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst { temp, targetUrl } = selectNewItemByTypeAndId(\r\n\t\t\tstate,\r\n\t\t\t'AdSlot',\r\n\t\t\titemId\r\n\t\t)\r\n\t\tconst { tempUrl, mime, useFallback } = temp\r\n\r\n\t\tconst newValues = {\r\n\t\t\ttargetUrl: useFallback ? targetUrl : '',\r\n\t\t\tmediaUrl: useFallback ? tempUrl : '',\r\n\t\t\tmediaMime: useFallback ? mime : '',\r\n\t\t}\r\n\r\n\t\tconst onValid = () => {\r\n\t\t\tupdateMultipleFields(newValues, [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'passbackData',\r\n\t\t\t\t\tfields: ['targetUrl', 'mediaUrl', 'mediaMime'],\r\n\t\t\t\t},\r\n\t\t\t])\r\n\t\t\tonValidProp()\r\n\t\t}\r\n\r\n\t\tawait validateNewSlotPassback({\r\n\t\t\tvalidateId,\r\n\t\t\tdirty: true,\r\n\t\t\tonValid,\r\n\t\t\titemId,\r\n\t\t})(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateSlot({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\tupdate,\r\n\tdirtyProps,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\ttype,\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\twebsite,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\tmediaMime,\r\n\t\t\t\ttargetUrl,\r\n\t\t\t\trulesInput: slotRulesInput,\r\n\t\t\t} = item\r\n\r\n\t\t\t// Because of old slot and default value null\r\n\t\t\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\r\n\r\n\t\t\tconst { autoSetMinCPM } = rulesInput.inputs\r\n\r\n\t\t\tconst newSlot = new AdSlot(item)\r\n\t\t\tconst updateMinPerImpression =\r\n\t\t\t\ttypeof minPerImpression === 'string' && !autoSetMinCPM\r\n\r\n\t\t\tconst updateRules = dirtyProps.some(\r\n\t\t\t\tprop =>\r\n\t\t\t\t\tprop &&\r\n\t\t\t\t\t(prop.name === 'rulesInput' ||\r\n\t\t\t\t\t\t(prop.fields || []).includes('rulesInput'))\r\n\t\t\t)\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPut.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPut.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tupdateMinPerImpression\r\n\t\t\t\t\t? validateNumberString({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\tvalue: minPerImpression,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t  })(dispatch)\r\n\t\t\t\t\t: true,\r\n\t\t\t\tupdateRules\r\n\t\t\t\t\t? validateSchemaProp({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tprop: 'rulesInput',\r\n\t\t\t\t\t\t\tvalue: rulesInput,\r\n\t\t\t\t\t\t\tschema: adSlotPut.rulesInput,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t  })(dispatch)\r\n\t\t\t\t\t: true,\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tlet minCPM = null\r\n\t\t\tlet newRules = null\r\n\t\t\tlet rulesCPM = null\r\n\r\n\t\t\tif (isValid && !autoSetMinCPM && updateMinPerImpression) {\r\n\t\t\t\tif (!minPerImpression || parseFloat(minPerImpression) <= 0) {\r\n\t\t\t\t\tthrow new Error('INVALID_MANUAL_MIN_CPM_VALUE')\r\n\t\t\t\t}\r\n\r\n\t\t\t\trulesCPM = minPerImpression\r\n\t\t\t} else if (isValid && autoSetMinCPM) {\r\n\t\t\t\trulesCPM = (await verifyWebsite({ websiteUrl: website }))\r\n\t\t\t\t\t.suggestedMinCPM\r\n\r\n\t\t\t\tif (!rulesCPM) {\r\n\t\t\t\t\tthrow new Error('INVALID_AUTO_CPM_VALUE')\r\n\t\t\t\t}\r\n\t\t\t} else if (isValid) {\r\n\t\t\t\trulesCPM =\r\n\t\t\t\t\t!!minPerImpression && typeof minPerImpression === 'object'\r\n\t\t\t\t\t\t? utils.formatUnits(\r\n\t\t\t\t\t\t\t\tBigNumber.from(Object.values(minPerImpression)[0]).mul(1000),\r\n\t\t\t\t\t\t\t\tmainToken.decimals\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: minPerImpression\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && (updateMinPerImpression || updateRules)) {\r\n\t\t\t\tnewRules = slotRulesInputToTargetingRules({\r\n\t\t\t\t\trulesInput,\r\n\t\t\t\t\tsuggestedMinCPM: getRuleMinCPMWithValidatorFeeAdded(rulesCPM),\r\n\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tminCPM = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: rulesCPM || null,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnewSlot.minPerImpression = minCPM\r\n\t\t\t\tnewSlot.rules = newRules\r\n\t\t\t}\r\n\r\n\t\t\tconst isPassbackUpdated = dirtyProps.some(\r\n\t\t\t\tprop => prop && prop.name === 'passbackData'\r\n\t\t\t)\r\n\r\n\t\t\tconst fallbackData = {\r\n\t\t\t\tmediaMime,\r\n\t\t\t\tmediaUrl,\r\n\t\t\t\ttargetUrl,\r\n\t\t\t}\r\n\r\n\t\t\tlet newUnit = null\r\n\t\t\tif (isValid && isPassbackUpdated && update) {\r\n\t\t\t\tif (mediaUrl && mediaMime && targetUrl) {\r\n\t\t\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\t\t\tnewUnit = await getFallbackUnit({\r\n\t\t\t\t\t\tmediaMime,\r\n\t\t\t\t\t\ttempUrl: mediaUrl,\r\n\t\t\t\t\t\ttargetUrl,\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tauthSig,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tnewSlot.fallbackUnit = newUnit.ipfs\r\n\t\t\t\t\tfallbackData.mediaMime = newUnit.mediaMime\r\n\t\t\t\t\tfallbackData.mediaUrl = newUnit.mediaUrl\r\n\t\t\t\t\tfallbackData.targetUrl = newUnit.targetUrl\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewSlot.fallbackUnit = null\r\n\t\t\t\t\tfallbackData.mediaMime = ''\r\n\t\t\t\t\tfallbackData.mediaUrl = ''\r\n\t\t\t\t\tfallbackData.targetUrl = ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst slot = newSlot.marketUpdate\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tconst finalValidations = await Promise.all([\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: newSlot.minPerImpression,\r\n\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\tschema: adSlotPut.minPerImpression,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: newSlot.rules,\r\n\t\t\t\t\t\tprop: 'rules',\r\n\t\t\t\t\t\tschema: adSlotPut.rules,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tvalue: slot,\r\n\t\t\t\t\t\tprop: 'slot',\r\n\t\t\t\t\t\tschema: adSlotPut,\r\n\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t})(dispatch),\r\n\t\t\t\t])\r\n\r\n\t\t\t\tisValid = finalValidations.every(v => v === true)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedSlot = (await updateAdSlot({ slot, id })).slot\r\n\r\n\t\t\t\tif (dirtyProps.includes('website')) {\r\n\t\t\t\t\tawait updateWebsiteVerification({ website })(dispatch)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (newUnit) {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\t\t\titem: new AdUnit(newUnit).plainObj(),\r\n\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new AdSlot({ ...updatedSlot, ...fallbackData }).plainObj(),\r\n\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t})\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['ADSLOT', updatedSlot.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t} else if (!isValid && update) {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['ADSLOT', getErrorMsg('INVALID_DATA')],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateAndSaveNewWebsiteBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tlet isValid = false\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst slot = selectNewWebsite(state)\r\n\t\t\tconst { website, temp } = slot\r\n\r\n\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tvalue: website,\r\n\t\t\t\tprop: 'website',\r\n\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tisValid = !Object.keys(selectWebsiteByWebsite(state, website)).length\r\n\r\n\t\t\t\tawait validate(validateId, 'website', {\r\n\t\t\t\t\tisValid,\r\n\t\t\t\t\terr: { msg: 'ERR_WEBSITE_EXISTS' },\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tif (isValid && dirty) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\thostname,\r\n\t\t\t\t\tissues,\r\n\t\t\t\t\tcategories,\r\n\t\t\t\t\tsuggestedMinCPM,\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t} = isValid ? await verifyWebsite({ websiteUrl: website }) : {}\r\n\t\t\t\tconst newTemp = {\r\n\t\t\t\t\t...temp,\r\n\t\t\t\t\thostname,\r\n\t\t\t\t\tissues,\r\n\t\t\t\t\tcategories,\r\n\t\t\t\t\tsuggestedMinCPM,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst newWebsite = {\r\n\t\t\t\t\tid: hostname,\r\n\t\t\t\t\tissues,\r\n\t\t\t\t\tupdated,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\t\titem: newWebsite,\r\n\t\t\t\t\titemType: 'Website',\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateNewWebsite('temp', newTemp)(dispatch, getState)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', {\r\n\t\t\t\t\t\targs: ['WEBSITE', hostname],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\r\n\t\t\t// bet this doesn't matter at that point\r\n\t\t\tconsole.error('ERR_VALIDATING_WEBSITE_BASIC', err)\r\n\t\t\tisValid = false\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateMediaSize,\r\n\tvalidate,\r\n\taddToast,\r\n\tgetImgsIpfsFromBlob,\r\n} from 'actions'\r\nimport { selectNewAdUnit, selectAuthSig, t } from 'selectors'\r\nimport { schemas, AdUnit } from 'adex-models'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\n\r\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\nimport { postAdUnit, updateAdUnit } from 'services/adex-market/actions'\r\n\r\nconst { adUnitPost, adUnitPut } = schemas\r\n\r\nexport function validateNewUnitBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst { title, description, type, targetUrl } = selectNewAdUnit(state)\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adUnitPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adUnitPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adUnitPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: targetUrl,\r\n\t\t\t\t\tprop: 'targetUrl',\r\n\t\t\t\t\tschema: adUnitPost.targetUrl,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewUnitMedia({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttemp: { tempUrl, mime },\r\n\t\t} = selectNewAdUnit(state)\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateMediaSize({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tpropName: 'temp',\r\n\t\t\t\twidthTarget: width,\r\n\t\t\t\theightTarget: height,\r\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\texact: true,\r\n\t\t\t\trequired: true,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t},\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function saveUnit() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst item = selectNewAdUnit(state)\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst imageIpfs = (\r\n\t\t\t\tawait getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})\r\n\t\t\t).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\r\n\t\t\t\t\targs: ['AdUnit', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateAndUpdateUnit({\r\n\tvalidateId,\r\n\tdirty,\r\n\titem,\r\n\tupdate,\r\n\tonUpdateSuccess,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { id, title, description } = item\r\n\r\n\t\t\tconst unit = new AdUnit(item).marketUpdate\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adUnitPut.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adUnitPut.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: unit,\r\n\t\t\t\t\tprop: 'unit',\r\n\t\t\t\t\tschema: adUnitPut,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid && update) {\r\n\t\t\t\tconst updatedUnit = (await updateAdUnit({ unit, id })).unit\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: UPDATE_ITEM,\r\n\t\t\t\t\titem: new AdUnit(updatedUnit).plainObj(),\r\n\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t})\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\r\n\t\t\t\t\t\targs: ['ADUNIT', updatedUnit.title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\r\n\t\t\t\t\targs: ['ADUNIT', Helper.getErrMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as uiActions from './uiActions'\r\nimport * as validationActions from './validationActions'\r\nimport * as mediaValidations from './mediaValidations'\r\nimport * as itemActions from './itemActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as analyticsActions from './analyticsActions'\r\nimport * as newItemsActions from './newItemsActions'\r\nimport * as audienceActions from './audienceActions'\r\nimport * as campaignActions from './campaignActions'\r\nimport * as slotActions from './slotActions'\r\nimport * as unitActions from './unitActions'\r\n\r\n// keep it for class components that use connect and actions prop\r\n// without needing to change the code\r\nexport default {\r\n\t...common,\r\n\t...uiActions,\r\n\t...validationActions,\r\n\t...mediaValidations,\r\n\t...itemActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...analyticsActions,\r\n\t...newItemsActions,\r\n\t...audienceActions,\r\n\t...campaignActions,\r\n\t...slotActions,\r\n\t...unitActions,\r\n}\r\n\r\n// used for minimal deps in hook components\r\n// import { execute, addTost } from 'actions'\r\n// execute(addTost())\r\nexport * from './common'\r\nexport * from './validationActions'\r\nexport * from './mediaValidations'\r\nexport * from './uiActions'\r\nexport * from './itemActions'\r\nexport * from './accountActions'\r\nexport * from './identityActions'\r\nexport * from './bidActions'\r\nexport * from './transactionActions'\r\nexport * from './analyticsActions'\r\nexport * from './newItemsActions'\r\nexport * from './audienceActions'\r\nexport * from './campaignActions'\r\nexport * from './slotActions'\r\nexport * from './unitActions'\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Snackbar, IconButton } from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { selectToasts, selectWindowReloading } from 'selectors'\r\nimport { execute, removeToast } from 'actions'\r\n\r\nconst typeToSeverity = {\r\n\taccept: 'success',\r\n\tsuccess: 'success',\r\n\twarning: 'warning',\r\n\tinfo: 'info',\r\n\tcancel: 'error',\r\n\terror: 'error',\r\n}\r\n\r\nexport const Toast = props => {\r\n\tconst [active, setActive] = useState(false)\r\n\tconst [toast, setToast] = useState({})\r\n\r\n\tconst toasts = useSelector(selectToasts)\r\n\tconst isReloading = useSelector(selectWindowReloading)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst nextToast = toasts[0]\r\n\r\n\t\tif (!nextToast || isReloading) {\r\n\t\t\tsetActive(false)\r\n\t\t\tsetToast({})\r\n\t\t} else if (nextToast.id !== toast.id) {\r\n\t\t\tsetActive(true)\r\n\t\t\tsetToast(nextToast)\r\n\t\t}\r\n\t}, [isReloading, toast.id, toasts])\r\n\r\n\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\tvertical: 'bottom',\r\n\t\thorizontal: 'center',\r\n\t}\r\n\r\n\tif (toast.top) {\r\n\t\tanchorOrigin.horizontal = 'center'\r\n\t\tanchorOrigin.vertical = 'top'\r\n\t}\r\n\r\n\tconst close = id => {\r\n\t\tsetActive(false)\r\n\t\tsetTimeout(() => execute(removeToast(id)), 100)\r\n\t}\r\n\r\n\treturn toast ? (\r\n\t\t<Snackbar\r\n\t\t\topen={active}\r\n\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\tonClose={() => !toast.unclosable && close(toast.id)}\r\n\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t>\r\n\t\t\t<Alert\r\n\t\t\t\tseverity={typeToSeverity[toast.type]}\r\n\t\t\t\tvariant='filled'\r\n\t\t\t\taction={\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{toast.action && toast.action}\r\n\t\t\t\t\t\t{!toast.unclosable && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey={`close-${toast.id}`}\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && close(toast.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Close />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t</Alert>\r\n\t\t</Snackbar>\r\n\t) : null\r\n}\r\n\r\nexport default Toast\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectConfirm } from 'selectors'\r\n\r\nimport {\r\n\tDialog,\r\n\tButton,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n} from '@material-ui/core'\r\n\r\nexport function Confirm({ children }) {\r\n\tconst [open, setOpen] = useState(false)\r\n\r\n\tconst {\r\n\t\tonConfirm,\r\n\t\tonCancel,\r\n\t\tactive,\r\n\t\tcalledOn,\r\n\t\tnoActionBtns,\r\n\t\tdata: { title = '', text = '', confirmLabel, cancelLabel },\r\n\t} = useSelector(selectConfirm)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpen(!!active)\r\n\t}, [active, calledOn])\r\n\r\n\tconst confirm = () => {\r\n\t\tif (typeof onConfirm === 'function') {\r\n\t\t\tonConfirm()\r\n\t\t}\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\tconst cancel = () => {\r\n\t\tif (typeof onCancel === 'function') {\r\n\t\t\tonCancel()\r\n\t\t}\r\n\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Dialog open={open}>\r\n\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</DialogContentText>\r\n\t\t\t\t{children}\r\n\t\t\t</DialogContent>\r\n\t\t\t{!noActionBtns && (\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{cancelLabel && (\r\n\t\t\t\t\t\t<Button onClick={cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{confirmLabel && (\r\n\t\t\t\t\t\t<Button onClick={confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogActions>\r\n\t\t\t)}\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default Confirm\r\n","import React, { forwardRef } from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\r\n\t\t\tconst href = this.props.history.createHref(path)\r\n\t\t\treturn href\r\n\t\t}\r\n\r\n\t\thandleClick = async event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tevent.stopPropagation()\r\n\t\t\tconst { to, onClick } = this.props\r\n\r\n\t\t\tif (onClick && typeof onClick === 'function') {\r\n\t\t\t\tawait onClick()\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tforwardedRef,\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Component\r\n\t\t\t\t\tref={forwardedRef}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\thref={toLocation}\r\n\t\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst WithRouter = withRouter(Decorated)\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithRouter {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Tabs, Tab, Divider } from '@material-ui/core'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nconst sideIndex = {\r\n\tadvertiser: 0,\r\n\tpublisher: 1,\r\n\t'0': 'advertiser',\r\n\t'1': 'publisher',\r\n}\r\n\r\nconst handleChange = (ev, index) => {\r\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\r\n}\r\n\r\nconst useTabsStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tindicator: {\r\n\t\t\t// NOTE: we use Tab background color as indicator\r\n\t\t\t// There is an animation for the Tabs indicator that looks out of\r\n\t\t\t// sync with Tab background change\r\n\t\t\tbackground: '0',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useTabStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.main\r\n\t\t\t: theme.palette.primary.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tminWidth: 30,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t'&$selected': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t\tbackgroundColor: activeColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: theme.palette.action.hover,\r\n\t\t\t},\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tbackgroundColor: activeColor,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst SideSwitch = ({ side, className }) => {\r\n\tconst tabsClasses = useTabsStyles({ side })\r\n\tconst tabClasses = useTabStyles({ side })\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<Box bgcolor='background.paper'>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tclasses={tabsClasses}\r\n\t\t\t\t\tvalue={sideIndex[side]}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t\taria-label='side select'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('ADVERTISER')} />\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('PUBLISHER')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t<Divider />\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideSwitch\r\n","import React from 'react'\r\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ className, color = 'primary' }) => (\r\n\t<LinearProgress className={className} color={color} />\r\n)\r\n\r\nexport const LoadingSection = ({ loading, children }) => (\r\n\t<Box display='flex' flex='1' alignItems='center'>\r\n\t\t<Box>{children}</Box>\r\n\t\t<Box ml={2} mr={2}>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t</Box>\r\n\t</Box>\r\n)\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers'\r\nimport { t } from 'selectors'\r\n\r\nconst MAX_IMG_LOAD_TIME = 7000\r\n\r\nconst styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t\twidth: '30px',\r\n\t\theight: '30px',\r\n\t\tminHeight: '24px',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\tobjectFit: 'contain',\r\n\t},\r\n\twrapper: {\r\n\t\theight: '100%',\r\n\t\twidth: '100%',\r\n\t},\r\n\tcellImg: {\r\n\t\t// Fixed width to avoid col resizing while loading\r\n\t\theight: 46,\r\n\t\twidth: 69,\r\n\t\tcursor: 'pointer',\r\n\t\tdisplay: 'flex',\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst Media = ({\r\n\ttype,\r\n\tsrc,\r\n\tfallbackSrc,\r\n\tmediaMime,\r\n\tallowVideo,\r\n\talt,\r\n\tallowFullscreen,\r\n\tclassName,\r\n\tclassNameImg,\r\n\tfullScreenOnClick,\r\n\tonClick,\r\n\tisCellImg,\r\n\tcontrols,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst loadTimeout = useRef(null)\r\n\tconst displayImage = useRef(null)\r\n\tconst displayVideo = useRef(null)\r\n\tconst [active, setActive] = useState(false)\r\n\r\n\tconst [media, setMedia] = useState({\r\n\t\tsrc: null,\r\n\t\tisVideo: !!mediaMime && isVideoMedia(mediaMime),\r\n\t})\r\n\r\n\tconst handleToggle = ev => {\r\n\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\tsetActive(!active)\r\n\t}\r\n\r\n\tconst clearLoadTimeout = () => {\r\n\t\tif (loadTimeout && loadTimeout.current) {\r\n\t\t\tclearTimeout(loadTimeout.current)\r\n\t\t\tloadTimeout.current = null\r\n\t\t}\r\n\t}\r\n\r\n\tconst clearEvents = () => {\r\n\t\tif (displayImage.current) {\r\n\t\t\tdisplayImage.current.onerror = null\r\n\t\t\tdisplayImage.current.onload = null\r\n\t\t\tdisplayImage.current.onabort = null\r\n\t\t}\r\n\r\n\t\tif (displayVideo.current) {\r\n\t\t\tdisplayVideo.current.onloadedmetadata = null\r\n\t\t}\r\n\t}\r\n\r\n\tconst onFail = useCallback(fallback => {\r\n\t\tclearLoadTimeout()\r\n\t\tclearEvents()\r\n\t\tsetMedia({\r\n\t\t\tsrc: fallback,\r\n\t\t\tisVideo: false,\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\tsetMedia({\r\n\t\t\t\tsrc: VIDEO_IMAGE,\r\n\t\t\t\tisVideo: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tclearLoadTimeout()\r\n\t\tclearEvents()\r\n\r\n\t\tconst fallback = ipfsSrc(fallbackSrc) || NO_IMAGE\r\n\t\tconst mediaSrc = ipfsSrc(src)\r\n\r\n\t\tloadTimeout.current = setTimeout(() => {\r\n\t\t\tonFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tif (!displayVideo.current) {\r\n\t\t\t\tconst video = document.createElement('video')\r\n\t\t\t\tdisplayVideo.current = video\r\n\t\t\t}\r\n\r\n\t\t\tdisplayVideo.current.src = mediaSrc\r\n\r\n\t\t\tdisplayVideo.current.onloadedmetadata = () => {\r\n\t\t\t\tclearLoadTimeout()\r\n\t\t\t\tsetMedia({\r\n\t\t\t\t\tsrc: mediaSrc,\r\n\t\t\t\t\tisVideo: true,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!displayImage.current) {\r\n\t\t\t\tdisplayImage.current = new Image()\r\n\t\t\t}\r\n\r\n\t\t\tdisplayImage.current.src = mediaSrc\r\n\r\n\t\t\tdisplayImage.current.onerror = displayImage.current.onabort = () =>\r\n\t\t\t\tonFail(fallback)\r\n\r\n\t\t\tdisplayImage.current.onload = () => {\r\n\t\t\t\tclearLoadTimeout()\r\n\t\t\t\tsetMedia({\r\n\t\t\t\t\tsrc: mediaSrc,\r\n\t\t\t\t\tisVideo: false,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tclearLoadTimeout()\r\n\t\t\tclearEvents()\r\n\t\t}\r\n\t}, [allowVideo, fallbackSrc, mediaMime, onFail, src])\r\n\r\n\tconst renderMedia = ({ onclick, imgClasses, videoClasses, controls }) => {\r\n\t\tif (!media.isVideo) {\r\n\t\t\treturn (\r\n\t\t\t\t<img\r\n\t\t\t\t\talt={alt}\r\n\t\t\t\t\tsrc={media.src}\r\n\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\tclassName={imgClasses}\r\n\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\tonClick={onclick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<video\r\n\t\t\t\t\tsrc={media.src}\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tmuted\r\n\t\t\t\t\tloop\r\n\t\t\t\t\tclassName={videoClasses}\r\n\t\t\t\t\tonClick={onclick}\r\n\t\t\t\t\tcontrols={controls}\r\n\t\t\t\t></video>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst renderFullscreenDialog = () => {\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{renderMedia({\r\n\t\t\t\t\t\timgClasses: classnames(classes.dialogImage, classes.imgLoading),\r\n\t\t\t\t\t\tvideoClasses: classnames(classes.dialogImage, classes.imgLoading),\r\n\t\t\t\t\t})}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\tconst fullScreenBtn = () => {\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thandleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\treturn media && media.src ? (\r\n\t\t<div\r\n\t\t\tclassName={classnames(className, classes.wrapper, {\r\n\t\t\t\t[classes.cellImg]: !!isCellImg,\r\n\t\t\t})}\r\n\t\t>\r\n\t\t\t{renderMedia({\r\n\t\t\t\tonclick: onClick || (fullScreenOnClick && handleToggle),\r\n\t\t\t\timgClasses: classnames(classes.imgLoading, classes.img, classNameImg),\r\n\t\t\t\tvideoClasses: classnames(classes.imgLoading, classes.img),\r\n\t\t\t\tcontrols: !!controls,\r\n\t\t\t})}\r\n\t\t\t{allowFullscreen && fullScreenBtn()}\r\n\t\t\t{fullScreenOnClick && renderFullscreenDialog()}\r\n\t\t</div>\r\n\t) : (\r\n\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t<span className={classes.circular}>\r\n\t\t\t\t<CircularProgress />\r\n\t\t\t</span>\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nMedia.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Media\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SideSwitch from './SideSwitch'\r\nimport AdexIconTxt from 'resources/adex-logo-txt-sm.svg'\r\nimport AdexIconTxtDark from 'resources/adex-logo-txt-dark-theme.svg'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\nimport { Receipt } from '@material-ui/icons'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport Box from '@material-ui/core/Box'\r\nimport ListIcon from '@material-ui/icons/List'\r\nimport AudienceIcon from '@material-ui/icons/Group'\r\nimport WebsitesIcon from '@material-ui/icons/WebSharp'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectLocation,\r\n\tselectAccountIdentityAddr,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport Media from 'components/common/media'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst RRAdexIconTxt = withReactRouterLink(props => (\r\n\t<Media {...props} src={AdexIconTxt} />\r\n))\r\nconst RRAdexIconTxtDark = withReactRouterLink(props => (\r\n\t<Media {...props} src={AdexIconTxtDark} />\r\n))\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.contrastText\r\n\t\t\t: theme.palette.primary.contrastText\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.primary.main\r\n\t\t\t: theme.palette.primary.main\r\n\r\n\treturn {\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 100,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t\tcolor: activeColor,\r\n\t\t\t\t'& .MuiListItemIcon-root': {\r\n\t\t\t\t\tcolor: activeColor,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t'& .MuiListItemIcon-root': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsideSwitch: {\r\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 42,\r\n\t\t\twidth: 'auto',\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tamount: {\r\n\t\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction SideNav(props) {\r\n\tconst theme = useTheme()\r\n\r\n\tconst side = useSelector(selectSide)\r\n\tconst identity = useSelector(selectAccountIdentityAddr)\r\n\tconst classes = useStyles({ side })\r\n\tconst routerLocation = useSelector(selectLocation)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// TODO: test location\r\n\tconst location = routerLocation.pathname.split('/')[3]\r\n\tconst isAdvertiser = side === 'advertiser'\r\n\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\tconst { availableIdentityBalanceAllMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? RRAdexIconTxtDark : RRAdexIconTxt\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\tflexGrow='1'\r\n\t\t>\r\n\t\t\t<Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<AdxIcon\r\n\t\t\t\t\t\t\t\t// @cryptofan\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t\t\tclassNameImg={classes.icon}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceAllMainToken &&\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceAllMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant='button'\r\n\t\t\t\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\tclasses={{ button: classes.amount }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceAllMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant='button' component='div' display='block'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\tflex='1'\r\n\t\t\t>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === items,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/audiences' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'audiences',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<AudienceIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('AUDIENCES')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/websites' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'websites',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<WebsitesIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('WEBSITES')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/receipts' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'receipts',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<Receipt />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('RECEIPTS')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/topup' }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === 'topup',\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<MonetizationOnIcon color='secondary' />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TOP_UP')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${ETH_SCAN_ADDR_HOST + identity}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t\t\t<Anchor target='_blank' href={process.env.ADEX_SITE_HOST}>\r\n\t\t\t\t\t\t\t\t\tAdEx Network O\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_SITE_HOST}/tos`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('TOS')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref='https://github.com/AdExNetwork/adex-platform/blob/development/CHANGELOG.md'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</ListItem>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default SideNav\r\n","import React, { useState, Children, cloneElement } from 'react'\r\nimport { Menu, Button } from '@material-ui/core'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\r\n\tconst [anchorEl, setAnchorEl] = useState(null)\r\n\r\n\tconst handleMenu = event => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tstyle={btnStyle}\r\n\t\t\t\tonClick={handleMenu}\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t\taria-controls={id}\r\n\t\t\t>\r\n\t\t\t\t{leftIcon}\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</span>\r\n\t\t\t\t{rightIcon}\r\n\t\t\t</Button>\r\n\t\t\t<Menu\r\n\t\t\t\tid={id}\r\n\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tgetContentAnchorEl={null}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={handleClose}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t{Children.map(children, child =>\r\n\t\t\t\t\tcloneElement(child, {\r\n\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\ttypeof child.props.onClick === 'function' && child.props.onClick()\r\n\t\t\t\t\t\t\thandleClose()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ButtonMenu\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\nimport { selectLang } from 'selectors'\r\n\r\nexport default function Translate(Decorated) {\r\n\tfunction Translated(props) {\r\n\t\tconst language = useSelector(selectLang)\r\n\r\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\r\n\t\t\tconst translation = translate(val, { isProp, args }, language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\treturn <Decorated {...props} t={t} />\r\n\t}\r\n\r\n\treturn Translated\r\n}\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { darkTheme, lightTheme } from './themeMUi'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\n\r\nconst THEMES = {\r\n\tlight: lightTheme,\r\n\tdark: darkTheme,\r\n}\r\n\r\nexport const MultiThemeContext = React.createContext()\r\n\r\nconst MultiThemeProvider = ({ children }) => {\r\n\tconst [themeType, setThemeType] = useState('light')\r\n\tconst [theme, setTheme] = useState(darkTheme)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst lastTheme = loadFromLocalStorage('themeType') || 'light'\r\n\t\tsetThemeType(lastTheme)\r\n\t\tsetTheme(THEMES[lastTheme])\r\n\t}, [])\r\n\r\n\tconst switchTheme = () => {\r\n\t\tif (themeType === 'light') {\r\n\t\t\tsaveToLocalStorage('dark', 'themeType')\r\n\t\t\tsetThemeType('dark')\r\n\t\t\tsetTheme(THEMES['dark'])\r\n\t\t} else {\r\n\t\t\tsaveToLocalStorage('light', 'themeType')\r\n\t\t\tsetThemeType('light')\r\n\t\t\tsetTheme(THEMES['light'])\r\n\t\t}\r\n\t}\r\n\r\n\tconst contextValue = {\r\n\t\tthemeType,\r\n\t\tswitchTheme,\r\n\t}\r\n\r\n\treturn (\r\n\t\t<MultiThemeContext.Provider value={contextValue}>\r\n\t\t\t<MuiThemeProvider theme={theme}>{children}</MuiThemeProvider>\r\n\t\t</MultiThemeContext.Provider>\r\n\t)\r\n}\r\n\r\nexport default MultiThemeProvider\r\n","import React, { useContext } from 'react'\r\nimport { IconButton } from '@material-ui/core'\r\nimport {\r\n\tBrightness7Sharp as LightIcon,\r\n\tBrightness6Sharp as DarkIcon,\r\n} from '@material-ui/icons'\r\nimport { MultiThemeContext } from './MultiThemeProvider'\r\n\r\nexport default function ThemeSwitch() {\r\n\tconst { themeType, switchTheme } = useContext(MultiThemeContext)\r\n\r\n\treturn (\r\n\t\t<IconButton\r\n\t\t\tid={`theme-switch-go-to-${themeType === 'dark' ? 'light' : 'dark'}`}\r\n\t\t\tonClick={switchTheme}\r\n\t\t>\r\n\t\t\t{themeType === 'dark' ? <LightIcon /> : <DarkIcon />}\r\n\t\t</IconButton>\r\n\t)\r\n}\r\n","import { fade } from '@material-ui/core/styles/colorManipulator'\r\n\r\nconst drawerWidth = 250\r\nconst lastRowRightReserved = 169\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tmarginTop: 69,\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\theight: 'calc(100vh - 69px)',\r\n\t\t\twidth: '100vw',\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\t// backgroundImage:\r\n\t\t\t// \ttheme.type === 'dark'\r\n\t\t\t// \t\t? `linear-gradient(\r\n\t\t\t// \t335deg,\r\n\t\t\t// \t${fade(theme.palette.primary.main, 1)} -46%,\r\n\t\t\t// \t${fade(theme.palette.background.default, 1)} 44%\r\n\t\t\t// )`\r\n\t\t\t// \t\t: 0,\r\n\t\t\t// backgroundRepeat: 'no-repeat',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tpaddingRight: theme.spacing(2),\r\n\t\t\tpaddingLeft: theme.spacing(2),\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: lastRowRightReserved,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 69,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingLeft: 0,\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t\tpaddingTop: theme.spacing(2),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t\tpadding: theme.spacing(2),\r\n\t\t\t\tpaddingTop: theme.spacing(2),\r\n\t\t\t},\r\n\r\n\t\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1420,\r\n\t\t\tmargin: 'auto',\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t\t// Because of the floating button and table paging\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tpaddingBottom: 146 + theme.spacing(2),\r\n\t\t\t},\r\n\t\t},\r\n\t\tbreadcrumbElement: {\r\n\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5)}px)`,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5) +\r\n\t\t\t\t\tdrawerWidth +\r\n\t\t\t\t\tlastRowRightReserved}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport ThemeSwitch from 'components/App/ThemeSwitch'\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tBreadcrumbs,\r\n\tIconButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tLink,\r\n\tMenuItem,\r\n\tBox,\r\n\tHidden,\r\n\tLinearProgress,\r\n} from '@material-ui/core'\r\n\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport {\r\n\tselectAccount,\r\n\tselectDashboardBreadcrumbs,\r\n\tselectInitialDataLoaded,\r\n} from 'selectors'\r\nimport { styles } from './styles'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\nconst RRLink = withReactRouterLink(Link)\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TopNav({ handleDrawerToggle, side, t }) {\r\n\tconst classes = useStyles()\r\n\tconst account = useSelector(selectAccount)\r\n\tconst loaded = useSelector(selectInitialDataLoaded)\r\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\r\n\tconst breadcrumbs = useSelector(selectDashboardBreadcrumbs)\r\n\tconst btnMenuLabel =\r\n\t\taccount.wallet.authType === 'demo'\r\n\t\t\t? t('DEMO_MODE')\r\n\t\t\t: account.email ||\r\n\t\t\t  formatAddress(account.wallet.address) ||\r\n\t\t\t  t('NOT_LOGGED')\r\n\r\n\treturn (\r\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\r\n\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tflexGrow='1'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t<Box pl={1}>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t<Box display='flex' flexGrow='1' pl={2}>\r\n\t\t\t\t\t\t\t<Breadcrumbs aria-label='breadcrumb'>\r\n\t\t\t\t\t\t\t\t{breadcrumbs.map(({ to, label }, index) =>\r\n\t\t\t\t\t\t\t\t\tto && index < breadcrumbs.length - 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t<RRLink key={`${index}-${to}`} to={to}>\r\n\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t</RRLink>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.breadcrumbElement }}\r\n\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-${label}`}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Breadcrumbs>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center' pr={1}>\r\n\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t<ThemeSwitch />\r\n\t\t\t\t\t\t<Jazzicon\r\n\t\t\t\t\t\t\tdiameter={30}\r\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</Toolbar>\r\n\t\t\t<Box>{!loaded && <LinearProgress />}</Box>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n\r\nexport default Translate(TopNav)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport MUIDataTable from 'mui-datatables'\r\nimport {\r\n\t//  LinearProgress,\r\n\tBox,\r\n\tButton,\r\n} from '@material-ui/core'\r\nimport { t, selectTableState, selectTableStateSelectedRows } from 'selectors'\r\nimport {\r\n\tupdateTableState,\r\n\tupdateTableStateSelectedRows,\r\n\texecute,\r\n} from 'actions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst generalTableOptions = {\r\n\trowsPerPage: 5,\r\n\trowsPerPageOptions: [5, 10, 25, 50],\r\n\tsetTableProps: () => {\r\n\t\treturn {\r\n\t\t\tpadding: 'default',\r\n\t\t\tsize: 'small',\r\n\t\t\twidth: '100%',\r\n\t\t\talign: 'center',\r\n\t\t}\r\n\t},\r\n\ttextLabels: {\r\n\t\tbody: {\r\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\r\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\r\n\t\t\tcolumnHeaderTooltip: column =>\r\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\r\n\t\t\t\t\targs: [column.label || column],\r\n\t\t\t\t})}`,\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tnext: t('TABLE_NEXT'),\r\n\t\t\tprevious: t('TABLE_PREV'),\r\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\r\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tsearch: t('TABLE_SEARCH'),\r\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\r\n\t\t\tprint: t('TABLE_PRINT'),\r\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\r\n\t\t\tfilterTable: t('TABLE_FILTER'),\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tall: t('TABLE_FILTER_ALL'),\r\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\r\n\t\t\treset: t('TABLE_FILTER_RESET'),\r\n\t\t},\r\n\t\tviewColumns: {\r\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\r\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\r\n\t\t},\r\n\t\tselectedRows: {\r\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\r\n\t\t\tdelete: t('TABLE_DELETE'),\r\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\r\n\t\t},\r\n\t},\r\n\tcustomFilterDialogFooter: (_currentFilterList, applyNewFilters) => {\r\n\t\treturn (\r\n\t\t\t<div style={{ marginTop: '40px' }}>\r\n\t\t\t\t<Button variant='contained' color='secondary' onClick={applyNewFilters}>\r\n\t\t\t\t\t{t('APPLY_FILTERS')}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t},\r\n\tdownloadOptions: {\r\n\t\tfilterOptions: {\r\n\t\t\tuseDisplayedColumnsOnly: true,\r\n\t\t\tuseDisplayedRowsOnly: true,\r\n\t\t},\r\n\t},\r\n}\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction MUIDataTableEnhanced(props) {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tdata,\r\n\t\tcolumns,\r\n\t\toptions,\r\n\t\thandleRowSelectionChange,\r\n\t\t// loading,\r\n\t\ttableId,\r\n\t} = props\r\n\t// const classes = useStyles()\r\n\tconst { filterList, columnOrder, ...tableState } = useSelector(state =>\r\n\t\tselectTableState(state, tableId)\r\n\t)\r\n\r\n\tconst rowsSelected = useSelector(state =>\r\n\t\tselectTableStateSelectedRows(state, tableId)\r\n\t)\r\n\r\n\tconst columnsWithFilters = columns.map(({ options, ...col }, i) => {\r\n\t\treturn {\r\n\t\t\t...col,\r\n\t\t\t...{\r\n\t\t\t\toptions: {\r\n\t\t\t\t\t...options,\r\n\t\t\t\t\t...(filterList && filterList[i] && filterList[i].length\r\n\t\t\t\t\t\t? { filterList: filterList[i] }\r\n\t\t\t\t\t\t: {}),\r\n\t\t\t\t\t...(!!tableState.viewColumnsState &&\r\n\t\t\t\t\ttableState.viewColumnsState.hasOwnProperty(col.name)\r\n\t\t\t\t\t\t? { display: tableState.viewColumnsState[col.name] }\r\n\t\t\t\t\t\t: {}),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t{/* {loading && <LinearProgress className={classes.progress} />} */}\r\n\t\t\t<MUIDataTable\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcolumns={columnsWithFilters}\r\n\t\t\t\toptions={{\r\n\t\t\t\t\t...generalTableOptions,\r\n\t\t\t\t\t...options,\r\n\t\t\t\t\televation: 0,\r\n\t\t\t\t\tvariant: 'outlined',\r\n\t\t\t\t\tconfirmFilters: true,\r\n\t\t\t\t\tsearch: !props.noSearch,\r\n\t\t\t\t\tdownload: !props.noDownload,\r\n\t\t\t\t\tprint: !props.noPrint,\r\n\t\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\r\n\t\t\t\t\tselectToolbarPlacement: props.toolbarEnabled ? 'above' : 'none',\r\n\t\t\t\t\tresponsive: 'vertical',\r\n\t\t\t\t\t...tableState,\r\n\t\t\t\t\trowsSelected,\r\n\t\t\t\t\tonTableChange: (action, newTableState) => {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t![\r\n\t\t\t\t\t\t\t\t'onFilterDialogOpen',\r\n\t\t\t\t\t\t\t\t'onFilterDialogClose',\r\n\t\t\t\t\t\t\t\t'propsUpdate',\r\n\t\t\t\t\t\t\t\t'filterChange',\r\n\t\t\t\t\t\t\t\t'rowSelectionChange',\r\n\t\t\t\t\t\t\t].includes(action)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateTableState(tableId, { ...newTableState, filterList })\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonFilterConfirm: filterList => {\r\n\t\t\t\t\t\texecute(updateTableState(tableId, { ...tableState, filterList }))\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonFilterChipClose: filterList => {\r\n\t\t\t\t\t\texecute(updateTableState(tableId, { ...tableState, filterList }))\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonRowSelectionChange: (\r\n\t\t\t\t\t\t_currentRowsSelected,\r\n\t\t\t\t\t\tallRowsSelected,\r\n\t\t\t\t\t\tselected\r\n\t\t\t\t\t) => {\r\n\t\t\t\t\t\texecute(updateTableStateSelectedRows(tableId, selected))\r\n\r\n\t\t\t\t\t\tif (handleRowSelectionChange) {\r\n\t\t\t\t\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\t\t\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\t\t\t\t\t\t\thandleRowSelectionChange({ selectedIndexes, selectedItemsIds })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonViewColumnsChange: (changedColumn, action) => {\r\n\t\t\t\t\t\tconst { viewColumnsState = {} } = tableState\r\n\t\t\t\t\t\tconst newVewColumns = { ...viewColumnsState }\r\n\t\t\t\t\t\tnewVewColumns[changedColumn] = action === 'add' ? true : false\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateTableState(tableId, {\r\n\t\t\t\t\t\t\t\t...tableState,\r\n\t\t\t\t\t\t\t\tviewColumnsState: newVewColumns,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMUIDataTableEnhanced.propTypes = {\r\n\ttableId: PropTypes.string.isRequired,\r\n\tdata: PropTypes.array.isRequired,\r\n\tcolumns: PropTypes.array.isRequired,\r\n\ttitle: PropTypes.string,\r\n\toptions: PropTypes.object,\r\n\thandleRowSelectionChange: PropTypes.func,\r\n}\r\n\r\nexport default MUIDataTableEnhanced\r\n","import React from 'react'\r\nimport { Tooltip } from '@material-ui/core'\r\nimport {\r\n\tDoneAllSharp as DoneAllIcon,\r\n\tWarningSharp as WarningIcon,\r\n\tHelpSharp as HelpIcon,\r\n\tHourglassFullSharp as HourglassFullIcon,\r\n\tMonetizationOnSharp as MonetizationOnIcon,\r\n\tPauseSharp as PauseIcon,\r\n} from '@material-ui/icons'\r\nimport { t } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor'\r\n\r\nconst IconTooltip = ({ children, name }) => (\r\n\t<Tooltip title={t(name, { toUpperCase: true })} aria-label={name}>\r\n\t\t{children}\r\n\t</Tooltip>\r\n)\r\n\r\nconst icon = {\r\n\txs: { fontSize: 10 },\r\n\tmd: { fontSize: 15 },\r\n\tls: { fontSize: 20 },\r\n}\r\n\r\nconst mapStatusIcons = (status = {}, size) => {\r\n\tconst { name = '', humanFriendlyName = '' } = status\r\n\tconst Wait = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<HourglassFullIcon style={icon[size]} color={'secondary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\tconst Done = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<DoneAllIcon style={icon[size]} color={'primary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\tconst Warning = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<WarningIcon style={icon[size]} color={'error'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\tconst Cash = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<MonetizationOnIcon style={icon[size]} color={'secondary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\r\n\tconst Pause = (\r\n\t\t<IconTooltip name={name}>\r\n\t\t\t<PauseIcon style={icon[size]} color={'secondary'} />\r\n\t\t</IconTooltip>\r\n\t)\r\n\r\n\tif (humanFriendlyName === 'Closed' && name.toLowerCase() !== 'exhausted')\r\n\t\treturn Wait\r\n\tif (humanFriendlyName === 'Paused') return Pause\r\n\r\n\tswitch (name.toLowerCase()) {\r\n\t\tcase 'active':\r\n\t\tcase 'ready':\r\n\t\t\treturn Done\r\n\t\tcase 'pending':\r\n\t\tcase 'initializing':\r\n\t\tcase 'waiting':\r\n\t\t\treturn Wait\r\n\t\tcase 'offline':\r\n\t\tcase 'disconnected':\r\n\t\tcase 'unhealthy':\r\n\t\tcase 'invalid':\r\n\t\t\treturn Warning\r\n\t\tcase 'withdraw':\r\n\t\t\treturn Cash\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n\r\nconst mapHelpTooltips = (statusText, size, created) => {\r\n\tconst InfoReadyNoImpressions = (\r\n\t\t<Tooltip\r\n\t\t\ttitle={t('TOOLTIP_READY_NO_IMPRESSIONS', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670699-Reasons-my-ads-are-not-running'>\r\n\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t'',\r\n\t\t\t\t],\r\n\t\t\t})}\r\n\t\t\tinteractive\r\n\t\t>\r\n\t\t\t<HelpIcon style={icon[size]} color={'primary'} />\r\n\t\t</Tooltip>\r\n\t)\r\n\r\n\tswitch (statusText) {\r\n\t\tcase 'READY':\r\n\t\t\t// 15 min have passed since created\r\n\t\t\treturn Date.now() - 1000 * 60 * 15 > created\r\n\t\t\t\t? InfoReadyNoImpressions\r\n\t\t\t\t: null\r\n\t\tdefault:\r\n\t\t\treturn null\r\n\t}\r\n}\r\n\r\nexport { mapStatusIcons, mapHelpTooltips }\r\n","import React from 'react'\r\nimport { Typography, Slider, Box } from '@material-ui/core'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\n\r\nconst getSliderStep = (min, max, steps, precision = 2) => {\r\n\tconst diff = max - min\r\n\tconst step = diff / steps\r\n\tconst fixed = parseFloat(step.toFixed(precision))\r\n\r\n\treturn fixed\r\n}\r\n\r\nexport const sliderFilterOptions = ({\r\n\tinitial = [],\r\n\tfilterTitle = '',\r\n\tstepsCount = 20,\r\n\tstepsPrecision = 2,\r\n}) => {\r\n\tconst min = initial[0] || 0\r\n\tconst max = initial[1] || 100\r\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\r\n\treturn {\r\n\t\tfilter: true,\r\n\t\tdisplay: 'true',\r\n\t\tfilterType: 'custom',\r\n\t\tcustomFilterListOptions: {\r\n\t\t\trender: v =>\r\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\r\n\t\t\tupdate: (filterList, filterPos, index) => {\r\n\t\t\t\tfilterList[index] = []\r\n\t\t\t\treturn filterList\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tfilterOptions: {\r\n\t\t\tnames: [],\r\n\t\t\tlogic: (rowNumber, filters) => {\r\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\r\n\t\t\t\tif (filters.length > 0) {\r\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\t\t\tdisplay: (filterList, onChange, index, column) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\r\n\t\t\t\t\t\t\t{filterTitle}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\r\n\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\tmin={min}\r\n\t\t\t\t\t\t\t\tmax={max}\r\n\t\t\t\t\t\t\t\tmarks={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: min,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\r\n\t\t\t\t\t\t\t\tstep={step}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\r\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\r\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport function useTableData({ selector, selectorArgs, getColumns }) {\r\n\tconst [data, setData] = useState([])\r\n\tconst [columns, setColumns] = useState([])\r\n\r\n\tconst selectedData = useSelector(state => {\r\n\t\treturn selector && typeof selector === 'function'\r\n\t\t\t? selector(state, selectorArgs)\r\n\t\t\t: []\r\n\t})\r\n\r\n\tconst reloadData = useCallback(() => {\r\n\t\tsetData(selectedData)\r\n\t\tsetColumns(getColumns())\r\n\t}, [getColumns, selectedData])\r\n\r\n\tuseEffect(() => {\r\n\t\treloadData()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [selectedData, selector, selectorArgs])\r\n\r\n\treturn { data, columns, reloadData }\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tIconButton,\r\n\tTooltip,\r\n\tBox,\r\n\tButton,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\r\nimport { t, selectSpinnerById } from 'selectors'\r\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport function ReloadData({ handleReload }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip arrow title={t('RELOAD_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleReload}>\r\n\t\t\t\t\t<Refresh />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip arrow title={t('VIEW_ALL_RECEIPTS_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\r\n\t\t\t\t\t<Receipt />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\r\n\tconst classes = useStyles()\r\n\tconst receiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip arrow title={t('RECEIPTS_PRINT_ALL')}>\r\n\t\t\t\t<Box ml={2} mr={2}>\r\n\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{receiptsSpinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { Fragment, useCallback, useEffect, useState } from 'react'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility, Receipt } from '@material-ui/icons'\r\nimport Media from 'components/common/media'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tmapStatusIcons,\r\n\tmapHelpTooltips,\r\n} from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectCampaignsTableData,\r\n\tselectMainToken,\r\n\tselectCampaignsMaxImpressions,\r\n\tselectCampaignsMaxClicks,\r\n\tselectCampaignsMaxDeposit,\r\n\tselectInitialDataLoadedByData,\r\n\tselectCampaignDisplayStatus,\r\n} from 'selectors'\r\nimport { utils } from 'ethers'\r\nimport { execute, handlePrintSelectedReceiptsAdvertiser } from 'actions'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString, formatDate } from 'helpers/formatters'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { useTableData } from './tableHooks'\r\nimport { PrintAllReceipts } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ symbol, maxImpressions, maxDeposit, maxClicks }) => [\r\n\t{\r\n\t\tname: 'id',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'receiptAvailable',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tdownload: false,\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRMedia\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'status',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tfilterOptions: {\r\n\t\t\t\tnames: [\r\n\t\t\t\t\t'ACTIVE',\r\n\t\t\t\t\t'READY',\r\n\t\t\t\t\t'SCHEDULED',\r\n\t\t\t\t\t'CLOSED',\r\n\t\t\t\t\t'COMPLETED',\r\n\t\t\t\t\t'PAUSED',\r\n\t\t\t\t],\r\n\t\t\t\tlogic: ({ status, impressions }, filters) => {\r\n\t\t\t\t\tif (filters.length)\r\n\t\t\t\t\t\treturn !filters.includes(\r\n\t\t\t\t\t\t\tselectCampaignDisplayStatus(status, impressions)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\treturn false\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcustomBodyRender: ({ status, impressions, created, id }) => {\r\n\t\t\t\tconst statusText = selectCampaignDisplayStatus(status, impressions)\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t\t{t(statusText)} {mapStatusIcons(status, 'xs')}{' '}\r\n\t\t\t\t\t\t{mapHelpTooltips(statusText, 'xs', created)}\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t// TODO: Sorting issue\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'depositAmount',\r\n\t\tlabel: t('PROP_DEPOSIT'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: depositAmount => (\r\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxDeposit],\r\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'fundsDistributedRatio',\r\n\t\tlabel: t('PROP_SERVED'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\r\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${(ctr || 0).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'minPerImpression',\r\n\t\tlabel: t('CPM_MIN'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: minPerImpression =>\r\n\t\t\t\t`${minPerImpression.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t// {\r\n\t// \tname: 'maxPerImpression',\r\n\t// \tlabel: t('CPM_MAX'),\r\n\t// \toptions: {\r\n\t// \t\tfilter: false,\r\n\t// \t\tsort: true,\r\n\t// \t\tcustomBodyRender: maxPerImpression =>\r\n\t// \t\t\t`${maxPerImpression.toFixed(2)} ${symbol}`,\r\n\t// \t},\r\n\t// },\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'activeFrom',\r\n\t\tlabel: t('PROP_STARTS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'withdrawPeriodStart',\r\n\t\tlabel: t('PROP_ENDS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\r\n\t\t\t\tformatDateTime(withdrawPeriodStart),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, receiptReady, to, toReceipt }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\treceiptReady\r\n\t\t\t\t\t\t\t\t? t('RECEIPT_VIEW')\r\n\t\t\t\t\t\t\t\t: 'Report not available until the campaign is completed'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* SPAN needed to enable tooltip on hover of disabled element\r\n\t\t\t\t\t\t https://material-ui.com/components/tooltips/#disabled-elements\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<RRIconButton\r\n\t\t\t\t\t\t\t\tto={toReceipt}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\taria-label='receip'\r\n\t\t\t\t\t\t\t\tdisabled={!receiptReady}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Receipt color={receiptReady ? 'primary' : 'disabled'} />\r\n\t\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0],\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2],\r\n\t\t\ti.data[3].humanFriendlyName,\r\n\t\t\t`${i.data[4]} ${symbol}`,\r\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)} %`,\r\n\t\t\ti.data[6],\r\n\t\t\ti.data[7],\r\n\t\t\ti.data[8],\r\n\t\t\tformatDateTime(i.data[9]),\r\n\t\t\tformatDateTime(i.data[10]),\r\n\t\t\tformatDateTime(i.data[11]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ decimals, symbol }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\r\n\tcustomToolbarSelect: (selectedRows, displayData, _setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst selectedItems = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[0])\r\n\t\treturn (\r\n\t\t\t<PrintAllReceipts\r\n\t\t\t\thandlePrintAllReceipts={() =>\r\n\t\t\t\t\texecute(handlePrintSelectedReceiptsAdvertiser(selectedItems))\r\n\t\t\t\t}\r\n\t\t\t\tdisabled={selectedItems.length === 0}\r\n\t\t\t/>\r\n\t\t)\r\n\t},\r\n})\r\n\r\nfunction CampaignsTable(props) {\r\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\r\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\r\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst campaignsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'campaigns')\r\n\t)\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(() => {\r\n\t\treturn () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxDeposit,\r\n\t\t\t})\r\n\t}, [decimals, maxClicks, maxDeposit, maxImpressions, symbol])\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectCampaignsTableData,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions({ decimals, symbol }))\r\n\t}, [decimals, symbol])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\t{...props}\r\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable\r\n\t\t\ttoolbarEnabled\r\n\t\t\tloading={!campaignsLoaded}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default CampaignsTable\r\n","import React from 'react'\r\nimport { Box, Chip } from '@material-ui/core'\r\nimport { Error as ErrorIcon } from '@material-ui/icons'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\nconst getDirtyValidationErrors = (validations = {}) => {\r\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\r\n\t\tconst err = validations[key]\r\n\t\tif (err.dirty) {\r\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\r\n\t\t}\r\n\t\treturn dirtyErrs\r\n\t}, [])\r\n\r\n\treturn errors\r\n}\r\n\r\nexport const styles = theme => {\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\terrChip: {\r\n\t\t\tcolor: errColor,\r\n\t\t\tborderColor: errColor,\r\n\t\t\t'& svg': {\r\n\t\t\t\tcolor: 'inherit',\r\n\t\t\t},\r\n\t\t\tmargin: theme.spacing(0.5),\r\n\t\t\tbackgroundColor: theme.palette.lightGrey.main,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const DirtyErrors = ({\r\n\tvalidations,\r\n\tchipsProps = {},\r\n\tboxProps = {},\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\r\n\treturn (\r\n\t\t!!dirtyErrors.length && (\r\n\t\t\t<Box bgcolor='error.main' p={0.5} {...boxProps}>\r\n\t\t\t\t{dirtyErrors.map(err => (\r\n\t\t\t\t\t<Chip\r\n\t\t\t\t\t\tkey={err.field}\r\n\t\t\t\t\t\tclasses={{ root: classes.errChip }}\r\n\t\t\t\t\t\ticon={<ErrorIcon />}\r\n\t\t\t\t\t\tvariant='default'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t{...chipsProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { CircularProgress, Fab } from '@material-ui/core'\r\nimport { Check, Save } from '@material-ui/icons'\r\nimport clsx from 'clsx'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: theme.palette.success.main,\r\n\t\tcolor: theme.palette.success.contrastText,\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: theme.palette.success.dark,\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: -5,\r\n\t\tleft: -5,\r\n\t\tzIndex: 1,\r\n\t\tcolor: theme.palette.grey.main,\r\n\t},\r\n\t'@keyframes pulse': {\r\n\t\t'0%': {\r\n\t\t\topacity: 1,\r\n\t\t\ttransform: 'scale(1)',\r\n\t\t},\r\n\t\t'50%': {\r\n\t\t\topacity: 0,\r\n\t\t\ttransform: 'scale(1.420)',\r\n\t\t},\r\n\t\t'100%': {\r\n\t\t\topacity: 0,\r\n\t\t\ttransform: 'scale(1.420)',\r\n\t\t},\r\n\t},\r\n\tpulse: {\r\n\t\toverflow: 'visible',\r\n\t\tposition: 'relative',\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tbackgroundColor: 'inherit',\r\n\t\t\tborderRadius: 'inherit',\r\n\t\t\ttransition: 'opacity .3s, transform .3s',\r\n\t\t\tanimation: '$pulse 1.69s cubic-bezier(0.23, 0, 0.420, 1) infinite',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const SaveBtn = ({\r\n\tspinner,\r\n\tsuccess,\r\n\tdirtyProps = [],\r\n\tvalidations,\r\n\tsave,\r\n\tdisabled,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\t// const hasErrors = !!Object.keys(validations).length\r\n\tconst isDisabled = disabled || spinner || !dirtyProps.length\r\n\treturn (\r\n\t\t!!dirtyProps.length && (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tclassName={clsx(classes.wrapper, {\r\n\t\t\t\t\t\t[classes.pulse]: !isDisabled,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tsize='medium'\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\tonClick={save}\r\n\t\t\t\t\tdisabled={isDisabled}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t{success ? <Check /> : <Save />}\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\tsize={58}\r\n\t\t\t\t\t\tclassName={classes.fabProgress}\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { Fragment, forwardRef } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Prompt } from 'react-router'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tChip,\r\n\tInputAdornment,\r\n\tIconButton,\r\n\tTooltip,\r\n\tCard,\r\n\tCardMedia,\r\n\tTextField,\r\n\tBox,\r\n\tPaper,\r\n\tCollapse,\r\n\tButton,\r\n} from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport {\r\n\tInfo,\r\n\tEdit,\r\n\tUndoOutlined,\r\n\tOpenInNew,\r\n\tArchiveSharp as ArchiveIcon,\r\n} from '@material-ui/icons'\r\nimport Media from 'components/common/media'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { DirtyErrors } from 'components/common/dirtyErrors'\r\nimport { t, selectAuthType } from 'selectors'\r\nimport { execute, confirmAction, archiveItem } from 'actions'\r\nimport { styles } from './styles'\r\nimport { SaveBtn } from './SaveBtn'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const DirtyProps = ({ dirtyProps = [], returnPropToInitialState }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Prompt when={!!dirtyProps.length} message={t('UNSAVED_CHANGES_ALERT')} />\r\n\t\t\t{!!dirtyProps.length && (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexGrow={1}\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='flex-start'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\tmr={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Info color='inherit' className={classes.changeChip} />\r\n\t\t\t\t\t<span className={classes.changeChip}>{t('UNSAVED_CHANGES')}:</span>\r\n\t\t\t\t\t{dirtyProps.map(p => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tvariant='default'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\tkey={p.name || p}\r\n\t\t\t\t\t\t\t\tlabel={t(p.name || p, { isProp: true })}\r\n\t\t\t\t\t\t\t\tonDelete={() => {\r\n\t\t\t\t\t\t\t\t\treturnPropToInitialState(p)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdeleteIcon={<UndoOutlined />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport const ChangeControls = hookProps => {\r\n\tconst classes = useStyles()\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst { dirtyProps, spinner, validations } = hookProps\r\n\r\n\treturn (\r\n\t\t<div className={classes.changeControls}>\r\n\t\t\t<Collapse timeout={69} in={!!dirtyProps.length}>\r\n\t\t\t\t<Box className={classes.changeControlsPaper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tbgcolor='primary.main'\r\n\t\t\t\t\t\tcolor='primary.contrastText'\r\n\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DirtyProps {...hookProps} />\r\n\t\t\t\t\t\t<SaveBtn {...hookProps} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<DirtyErrors\r\n\t\t\t\t\t\tvalidations={validations}\r\n\t\t\t\t\t\tchipsProps={{ color: 'default', variant: 'default' }}\r\n\t\t\t\t\t\tboxProps={{ mt: 1 }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{spinner &&\r\n\t\t\t\t\t(dirtyProps.includes('audienceInput') ||\r\n\t\t\t\t\t\tdirtyProps.includes('pricingBoundsCPMUserInput')) && (\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t{WALLET_ACTIONS_MSGS[authType || 'default'].map((msg, i) => (\r\n\t\t\t\t\t\t\t\t<Box mt={1} key={msg.message + i}>\r\n\t\t\t\t\t\t\t\t\t<Alert key={i} severity='info' variant='filled'>\r\n\t\t\t\t\t\t\t\t\t\t{t(msg.message)}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t</Collapse>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const ItemTabsContainer = ({ children, noBackground }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Paper\r\n\t\t\tclassName={classes.itemTabsContainer}\r\n\t\t\tstyle={noBackground ? { background: 0 } : {}}\r\n\t\t\tvariant='outlined'\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport const ItemTabsBar = ({ children }) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Paper className={classes.itemTabsBar} variant='outlined'>\r\n\t\t\t{children}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport const ItemSpecProp = ({\r\n\tprop,\r\n\tlabel,\r\n\tvalue = '',\r\n\thelperText,\r\n\tInputProps,\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid={prop}\r\n\t\t\tlabel={label}\r\n\t\t\ttype='text'\r\n\t\t\tmargin='dense'\r\n\t\t\tname={prop}\r\n\t\t\tvalue={value || ''}\r\n\t\t\t// disabled\r\n\t\t\treadOnly\r\n\t\t\thelperText={helperText}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={InputProps}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemTitle = ({\r\n\ttitle,\r\n\terrTitle,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst active = !!activeFields.title\r\n\tconst showError = !!errTitle && errTitle.dirty\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-title'\r\n\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='title'\r\n\t\t\tvalue={title || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('title', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError ? t(errTitle.errMsg, { args: errTitle.errMsgArgs }) : ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('title')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('title', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemDescription = ({\r\n\tdescription,\r\n\terrDescription,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst active = !!activeFields.description\r\n\tconst showError = !!errDescription && errDescription.dirty\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-description'\r\n\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='description'\r\n\t\t\tvalue={description || ''}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('description', ev.target.value)\r\n\t\t\t}}\r\n\t\t\tmaxLength={1024}\r\n\t\t\tmultiline\r\n\t\t\trows={2}\r\n\t\t\tdisabled={!activeFields.description}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError\r\n\t\t\t\t\t? t(errDescription.errMsg, {\r\n\t\t\t\t\t\t\targs: errDescription.errMsgArgs,\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('description')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('description', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemAdType = ({ type }) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-type'\r\n\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\ttype='text'\r\n\t\t\tname='type'\r\n\t\t\tvalue={type || ''}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst OpenInNewIconBtn = ({ forwardedRef, ...props }) => {\r\n\treturn (\r\n\t\t<IconButton {...props}>\r\n\t\t\t<OpenInNew />\r\n\t\t</IconButton>\r\n\t)\r\n}\r\n\r\nconst IconButtonWithRef = forwardRef((props, ref) => (\r\n\t<OpenInNewIconBtn {...props} forwardedRef={ref} />\r\n))\r\n\r\nexport const ItemTargetURL = ({ targetUrl = '', label }) => {\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-targetUrl'\r\n\t\t\tlabel={t(label || 'PROP_TARGETURL')}\r\n\t\t\ttype='text'\r\n\t\t\tname='targetUrl'\r\n\t\t\tvalue={targetUrl}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\thref={targetUrl}\r\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ItemFallbackMediaURL = ({ targetUrl = '' }) => {\r\n\t// TODO: need to take it from fallbackUnit\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-targetUrl'\r\n\t\t\tlabel={t('PROP_FALLBACKADURL')}\r\n\t\t\ttype='text'\r\n\t\t\tname='targetUrl'\r\n\t\t\tvalue={targetUrl}\r\n\t\t\tdisabled={true}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\thref={targetUrl}\r\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const MediaCard = ({ mediaUrl = '', mediaMime = '', label = '' }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false} variant='outlined'>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t\t<Media\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\talt={label || t('MEDIA')}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\tallowVideo\r\n\t\t\t\t/>\r\n\t\t\t\t{label && (\r\n\t\t\t\t\t<Chip size='small' className={classes.mediaPropChip} label={label} />\r\n\t\t\t\t)}\r\n\t\t\t</CardMedia>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nexport const ItemWebsite = ({\r\n\titem = {},\r\n\tinitialItemState = {},\r\n\tvalidations,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst { website } = item\r\n\tconst active = !!activeFields.website\r\n\tconst { website: error } = validations\r\n\tconst showError = !!error && error.dirty\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tid='item-website'\r\n\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\ttype='text'\r\n\t\t\tname='website'\r\n\t\t\tvalue={website || ' '}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tupdateField('website', (ev.target.value || '').trim())\r\n\t\t\t}}\r\n\t\t\tdisabled={!!initialItemState.website || !active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError ? (\r\n\t\t\t\t\tt(error.errMsg, { args: error.errMsgArgs })\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{activeFields.website && (\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: !initialItemState.website && (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('website')\r\n\t\t\t\t\t\t\t\t\t: setActiveFields('website', true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ArchiveItemBtn = ({\r\n\titemId,\r\n\titemType = '',\r\n\ttitle,\r\n\tisIconBtn,\r\n\tonSuccess,\r\n\tgoToTableOnSuccess,\r\n\tfullWidth,\r\n}) => {\r\n\tconst labelArgs = itemType.toUpperCase()\r\n\r\n\tconst onClick = () => {\r\n\t\texecute(\r\n\t\t\tconfirmAction(\r\n\t\t\t\t() =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tarchiveItem({ itemId, itemType, onSuccess, goToTableOnSuccess })\r\n\t\t\t\t\t),\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\tconfirmLabel: t(`ARCHIVE_CONFIRM_LABEL`, {\r\n\t\t\t\t\t\targs: [labelArgs],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\ttitle: t(`ARCHIVE_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\targs: [labelArgs, title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttext: t(`ARCHIVE_CONFIRM_INFO`, {\r\n\t\t\t\t\t\targs: [labelArgs, title],\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\ttitle={t('LABEL_ARCHIVE', { args: [labelArgs] })}\r\n\t\t\taria-label='archive'\r\n\t\t>\r\n\t\t\t{isIconBtn ? (\r\n\t\t\t\t<IconButton onClick={onClick} aria-label={`archive-${itemId}`}>\r\n\t\t\t\t\t<ArchiveIcon color='action' />\r\n\t\t\t\t</IconButton>\r\n\t\t\t) : (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tonClick={onClick}\r\n\t\t\t\t\taria-label={`archive-${itemId}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('ARCHIVE')}\r\n\t\t\t\t</Button>\r\n\t\t\t)}\r\n\t\t</Tooltip>\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tbackgroundColor: theme.palette.grey.main,\r\n\t\t\twidth: '100%',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing / 2,\r\n\t\t\tmarginTop: spacing / 2,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t\tmediaPropChip: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: spacing,\r\n\t\t\tleft: spacing,\r\n\t\t},\r\n\t\tchangeControls: {\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tchangeControlsPaper: {\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tmarginBottom: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\titemTabsBar: {\r\n\t\t\t// borderBottom: 0,\r\n\t\t},\r\n\t\titemTabsContainer: {\r\n\t\t\tborderTop: 0,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tselectItemByTypeAndId,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { execute } from 'actions'\r\nimport { Base } from 'adex-models'\r\n\r\nexport function useItem({ itemType, match, objModel, validateAndUpdateFn }) {\r\n\tconst [item, setItem] = useState({})\r\n\tconst [itemPlain, seItemPlain] = useState({})\r\n\tconst [initialItemState, setInitialItemState] = useState({})\r\n\tconst [activeFields, setFields] = useState({})\r\n\tconst [dirtyProps, setDirtyProps] = useState([])\r\n\tconst [validateId, setValidateId] = useState('update-default')\r\n\tconst [validateAfterReset, setValidateAfterReset] = useState(0)\r\n\r\n\tconst storeItem = useSelector(state =>\r\n\t\tselectItemByTypeAndId(state, itemType, match.params.itemId)\r\n\t)\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!Object.keys(activeFields).length && !dirtyProps.length) {\r\n\t\t\tconst initial = new objModel(storeItem)\r\n\t\t\tsetItem(initial)\r\n\t\t\tseItemPlain(JSON.parse(JSON.stringify(storeItem)))\r\n\t\t\tsetInitialItemState(initial)\r\n\t\t\tsetValidateId(`update-${item.id}`)\r\n\t\t}\r\n\t}, [item.id, objModel, storeItem, dirtyProps, activeFields])\r\n\r\n\tconst setActiveFields = useCallback(\r\n\t\t(field, value) => {\r\n\t\t\tsetFields({ ...activeFields, [field]: value })\r\n\t\t},\r\n\t\t[activeFields]\r\n\t)\r\n\r\n\tconst onUpdateSuccess = () => {\r\n\t\tsetDirtyProps([])\r\n\t\tsetFields({})\r\n\t}\r\n\r\n\tconst validate = useCallback(\r\n\t\tdirty =>\r\n\t\t\texecute(\r\n\t\t\t\tvalidateAndUpdateFn({ item, itemPlain, validateId, dirty, dirtyProps })\r\n\t\t\t),\r\n\t\t[dirtyProps, item, itemPlain, validateAndUpdateFn, validateId]\r\n\t)\r\n\r\n\tconst save = useCallback(async () => {\r\n\t\texecute(\r\n\t\t\tvalidateAndUpdateFn({\r\n\t\t\t\titem,\r\n\t\t\t\titemPlain,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tupdate: true,\r\n\t\t\t\tdirtyProps,\r\n\t\t\t\tonUpdateSuccess,\r\n\t\t\t})\r\n\t\t)\r\n\t}, [dirtyProps, item, itemPlain, validateAndUpdateFn, validateId])\r\n\r\n\tconst returnPropToInitialState = useCallback(\r\n\t\tprop => {\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tconst dirtyIndex = dirtyProps.findIndex(\r\n\t\t\t\tp => (p.name || p) === (prop.name || prop)\r\n\t\t\t)\r\n\r\n\t\t\tif (dirtyIndex > -1) {\r\n\t\t\t\tconst newDirtyProps = [...dirtyProps]\r\n\t\t\t\tconst dpValue = newDirtyProps[dirtyIndex]\r\n\t\t\t\tnewDirtyProps.splice(dirtyIndex, 1)\r\n\r\n\t\t\t\tif (dpValue.fields) {\r\n\t\t\t\t\tdpValue.fields.forEach(\r\n\t\t\t\t\t\tprop => (newItem[prop] = initialItemState[prop])\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewItem[dpValue] = initialItemState[prop]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetItem(newItem)\r\n\t\t\t\tsetDirtyProps(newDirtyProps)\r\n\t\t\t\tsetActiveFields(prop.name || prop, false)\r\n\t\t\t\tsetValidateAfterReset(true)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[dirtyProps, initialItemState, item, objModel, setActiveFields]\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (validateAfterReset) {\r\n\t\t\tvalidate(false)\r\n\t\t}\r\n\t\tsetValidateAfterReset(false)\r\n\t}, [validateAfterReset, validate])\r\n\r\n\tconst updateField = useCallback(\r\n\t\t(field, value, dpValue) => {\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[field] = value\r\n\r\n\t\t\tsetItem(newItem)\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (!dp.some(p => (p.name || p) === (dpValue ? dpValue.name : field))) {\r\n\t\t\t\tdp.push(dpValue || field)\r\n\t\t\t}\r\n\t\t\tsetDirtyProps(dp)\r\n\t\t},\r\n\t\t[dirtyProps, item, objModel]\r\n\t)\r\n\r\n\tconst updateMultipleFields = useCallback(\r\n\t\t(newValues, dirtyFields = []) => {\r\n\t\t\tconst updated = Base.updateObject({ item, newValues, objModel })\r\n\r\n\t\t\tsetItem(new objModel(updated))\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\t\t\tdirtyFields.forEach(field => {\r\n\t\t\t\tif (!dp.some(p => (p.name || p) === (field.name || field))) {\r\n\t\t\t\t\tdp.push(field)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tsetDirtyProps(dp)\r\n\t\t},\r\n\t\t[dirtyProps, item, objModel]\r\n\t)\r\n\r\n\treturn {\r\n\t\titem,\r\n\t\titemPlain,\r\n\t\tinitialItemState,\r\n\t\tactiveFields,\r\n\t\tsetActiveFields,\r\n\t\tdirtyProps,\r\n\t\treturnPropToInitialState,\r\n\t\tvalidate,\r\n\t\tvalidateId,\r\n\t\tvalidations,\r\n\t\tupdateField,\r\n\t\tupdateMultipleFields,\r\n\t\tspinner,\r\n\t\tsave,\r\n\t}\r\n}\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tStepper as StepperMUI,\r\n\tMobileStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tPaper,\r\n\tBox,\r\n\tCircularProgress,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { styles } from './styles'\r\nimport { DirtyErrors } from 'components/common/dirtyErrors'\r\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ steps, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<Box\r\n\t\t\t\tflex\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Typography align='center'>\r\n\t\t\t\t\t\t\t{(steps[currentPage] || {}).title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\t\tsteps={steps.length}\r\n\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\tvariant='text'\r\n\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t\t></MobileStepper>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{steps.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nconst MaterialStepper = props => {\r\n\tconst {\r\n\t\tinitialPage = 0,\r\n\t\tsteps = [],\r\n\t\tcloseDialog,\r\n\t\t// ...rest\r\n\t} = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\r\n\tconst [isBack, setIsBack] = useState(false)\r\n\tconst canReverse = steps.length > currentPage && currentPage > 0\r\n\r\n\tconst page = steps[currentPage] || {}\r\n\tconst pageProps = page.props || {}\r\n\tconst { validateId } = pageProps\r\n\tconst Comp = page.component || null\r\n\tconst {\r\n\t\tvalidationFn,\r\n\t\tonValid,\r\n\t\tstepsId,\r\n\t\tcompleteFn,\r\n\t\tcompleteBtnTitle = '',\r\n\t\tnextBtnTitle = '',\r\n\t} = page\r\n\r\n\tconst validations = useSelector(state =>\r\n\t\tselectValidationsById(state, validateId)\r\n\t)\r\n\r\n\tconst validationSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, validateId)\r\n\t)\r\n\r\n\tconst stepsSpinner = useSelector(state => selectSpinnerById(state, stepsId))\r\n\r\n\tconst spinner = validationSpinner || stepsSpinner\r\n\r\n\tconst isValidPage = useCallback(() => {\r\n\t\treturn !Object.keys(validations || {}).length\r\n\t}, [validations])\r\n\r\n\t// const canAdvance = isValidPage() && !page.completeBtn\r\n\r\n\tconst goToPage = useCallback(\r\n\t\tasync nextStep => {\r\n\t\t\tconst canAdvance = nextStep > currentPage\r\n\t\t\tconst canGoBack = nextStep < currentPage\r\n\r\n\t\t\tif (canAdvance || canGoBack) {\r\n\t\t\t\tsetCurrentPage(nextStep)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[currentPage]\r\n\t)\r\n\r\n\tconst goToPreviousPage = useCallback(async () => {\r\n\t\tif (canReverse) {\r\n\t\t\tgoToPage(currentPage - 1)\r\n\t\t\tsetIsBack(true)\r\n\t\t}\r\n\t}, [canReverse, currentPage, goToPage])\r\n\r\n\tconst goToNextPage = useCallback(async () => {\r\n\t\tsetIsBack(false)\r\n\t\tif (validationFn) {\r\n\t\t\tvalidationFn({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\r\n\t\t\t})\r\n\t\t} else if (isValidPage()) {\r\n\t\t\tgoToPage(currentPage + 1)\r\n\t\t}\r\n\t}, [\r\n\t\tvalidationFn,\r\n\t\tisValidPage,\r\n\t\tstepsId,\r\n\t\tvalidateId,\r\n\t\tonValid,\r\n\t\tgoToPage,\r\n\t\tcurrentPage,\r\n\t])\r\n\r\n\tconst handleComplete = useCallback(async () => {\r\n\t\tawait completeFn({\r\n\t\t\tstepsId,\r\n\t\t\tvalidateId,\r\n\t\t\tonValid: () => typeof closeDialog === 'function' && closeDialog(),\r\n\t\t})\r\n\t}, [closeDialog, completeFn, stepsId, validateId])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isBack && validationFn) {\r\n\t\t\tvalidationFn({ stepsId, validateId, dirty: false })\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [currentPage, validationFn, stepsId, validateId])\r\n\r\n\tconst onKeyPressed = useCallback(\r\n\t\tasync ev => {\r\n\t\t\tif (ev.key === 'Enter') {\r\n\t\t\t\tev.preventDefault()\r\n\t\t\t\tgoToNextPage()\r\n\t\t\t}\r\n\t\t},\r\n\t\t[goToNextPage]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={classes.stepperWrapper}\r\n\t\t\tonKeyPress={onKeyPressed}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='space-between'\r\n\t\t>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\televation={0}\r\n\t\t\t\t>\r\n\t\t\t\t\t<StepperNav\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tsteps={steps}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\tgoToPage={goToPage}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t}}\r\n\t\t\t\televation={0}\r\n\t\t\t>\r\n\t\t\t\t{!!Comp && <Comp {...pageProps} />}\r\n\t\t\t</Paper>\r\n\r\n\t\t\t<DirtyErrors validations={validations} />\r\n\r\n\t\t\t<Box mt={1}>\r\n\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t{canReverse && (\r\n\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t{typeof page.cancelFunction === 'function' && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\ttypeof closeDialog === 'function' && closeDialog()\r\n\t\t\t\t\t\t\t\tpage.cancelFunction(stepsId)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CANCEL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t{typeof completeFn === 'function' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={handleComplete}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(completeBtnTitle || 'DO_IT_NOW')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(nextBtnTitle || 'CONTINUE')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{spinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMaterialStepper.propTypes = {\r\n\tsteps: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default MaterialStepper\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcolor: 'purple',\r\n\t\t\t'&$active': {\r\n\t\t\t\tcolor: 'green',\r\n\t\t\t},\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: 'yellow',\r\n\t\t},\r\n\t\tstepperWrapper: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t},\r\n\t\tpagePaper: {\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\theight: 0,\r\n\t\t\tpadding: spacing,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '86%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\ttextAlign: 'left',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '14%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepper: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { forwardRef, useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport { t, selectLocationQuery } from 'selectors'\r\n\r\nfunction FormSteps({ cancelFunction, stepsId, steps, closeDialog, ...rest }) {\r\n\tconst [stepperSteps, setSteps] = useState([])\r\n\tconst { step = 0 } = useSelector(selectLocationQuery)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst updatedSteps = steps.map((s, index) => ({\r\n\t\t\t...s,\r\n\t\t\tstepsId,\r\n\t\t\ttitle: t(s.title),\r\n\t\t\tcancelFunction,\r\n\t\t\tprops: { ...rest, stepsId, validateId: stepsId + '-' + index },\r\n\t\t}))\r\n\r\n\t\tsetSteps(updatedSteps)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [stepsId])\r\n\r\n\treturn (\r\n\t\t<MaterialStepper\r\n\t\t\tinitialPage={step}\r\n\t\t\tsteps={stepperSteps}\r\n\t\t\tcloseDialog={closeDialog}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tsteps: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n\t<FormSteps {...props} forwardedRef={ref} />\r\n))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\theight: `calc(100vh - ${spacing}px)`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${spacing}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: theme.spacing(2),\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tpadding: 0,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: spacing,\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t\t'& svg': {\r\n\t\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\t},\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tmarginBottom: 0,\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: 'auto',\r\n\t\t\t\tleft: 'auto',\r\n\t\t\t\tbottom: spacing,\r\n\t\t\t\tright: spacing,\r\n\t\t\t},\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontentStickyTop: {\r\n\t\t\tmarginBottom: '2rem',\r\n\t\t\tposition: 'sticky',\r\n\t\t\ttop: 0,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t},\r\n\t\tfullContentMessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { t } from 'selectors'\r\nimport { selectLocation } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction='up' ref={ref} {...props} />\r\n})\r\n\r\nconst eventMap = location => ({\r\n\tNEW_UNIT: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'add_unit',\r\n\t\tlabel: `units${location}`,\r\n\t},\r\n\tNEW_CAMPAIGN: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'add_campaign',\r\n\t\tlabel: `campaigns${location}`,\r\n\t},\r\n\tNEW_AUDIENCE: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'save_audience',\r\n\t\tlabel: `audiences${location}`,\r\n\t},\r\n\tNEW_CAMPAIGN_FROM_AUDIENCE: {\r\n\t\taction: 'advertiser',\r\n\t\tcategory: 'add_campaign',\r\n\t\tlabel: `audiences${location}`,\r\n\t},\r\n\tNEW_SLOT: {\r\n\t\taction: 'publisher',\r\n\t\tcategory: 'add_slot',\r\n\t\tlabel: `slots${location}`,\r\n\t},\r\n\tNEW_WEBSITE: {\r\n\t\taction: 'publisher',\r\n\t\tcategory: 'add_website',\r\n\t\tlabel: `websites${location}`,\r\n\t},\r\n\tACCOUNT_WITHDRAW_FROM_IDENTITY_BTN: {\r\n\t\taction: 'account',\r\n\t\tcategory: 'withdraw',\r\n\t\tlabel: `account`,\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function WithDialogHoc(Decorated) {\r\n\tfunction WithDialog(props) {\r\n\t\tconst {\r\n\t\t\tdisableBackdropClick = false,\r\n\t\t\tforwardedRef,\r\n\t\t\ticonButton,\r\n\t\t\ttextButton,\r\n\t\t\tfabButton,\r\n\t\t\tvariant,\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tbtnLabelArgs,\r\n\t\t\tbtnLabel,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tdialogActions,\r\n\t\t\tonClick,\r\n\t\t\tfullWidth,\r\n\t\t\tonBeforeOpen,\r\n\t\t\t...rest\r\n\t\t} = props\r\n\r\n\t\tconst btnProps = {\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tvariant,\r\n\t\t}\r\n\r\n\t\tconst classes = useStyles()\r\n\t\tconst [open, setOpen] = useState(false)\r\n\t\tconst location = useSelector(selectLocation)\r\n\r\n\t\tconst handleToggle = async () => {\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tsetOpen(!open)\r\n\t\t}\r\n\r\n\t\tconst handleClick = async ev => {\r\n\t\t\tconst locationWithDash = location.pathname.split('/').join('-')\r\n\t\t\tconst eventMapFound = eventMap(locationWithDash)[btnLabel]\r\n\t\t\tif (eventMapFound) {\r\n\t\t\t\tReactGA.event(eventMapFound)\r\n\t\t\t}\r\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\t\tawait handleToggle()\r\n\t\t\tif (onClick) await onClick()\r\n\t\t}\r\n\r\n\t\tconst closeDialog = () => {\r\n\t\t\tsetOpen(false)\r\n\t\t}\r\n\r\n\t\tlet ButtonComponent = null\r\n\r\n\t\tif (iconButton) {\r\n\t\t\tButtonComponent = IconButton\r\n\t\t} else if (textButton) {\r\n\t\t\tButtonComponent = TextBtn\r\n\t\t} else if (fabButton) {\r\n\t\t\tButtonComponent = Fab\r\n\t\t} else {\r\n\t\t\tButtonComponent = Button\r\n\t\t\tbtnProps.fullWidth = fullWidth\r\n\t\t}\r\n\r\n\t\tconst btnLabelTranslated = btnLabel\r\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<ButtonComponent\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={btnLabelTranslated}\r\n\t\t\t\t\tlabel={btnLabelTranslated}\r\n\t\t\t\t\tonClick={ev => handleClick(ev)}\r\n\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\r\n\t\t\t\t</ButtonComponent>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\tdisableAutoFocus\r\n\t\t\t\t\tdisableEnforceFocus // must use both of those to prevent from autofocus away from canva iframe\r\n\t\t\t\t\tdisableBackdropClick={disableBackdropClick}\r\n\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t// fullScreen\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={handleToggle}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={handleToggle}\r\n\t\t\t\t\t// onOverlayClick={handleToggle}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle\r\n\t\t\t\t\t\tdisableTypography\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography variant='subtitle1'>{t(title)}</Typography>\r\n\t\t\t\t\t\t<IconButton onClick={handleToggle} size='small'>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithDialog {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tTextField,\r\n\tListSubheader,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tFormHelperText,\r\n\tFormControl,\r\n\tTooltip,\r\n\tTypography,\r\n\tSelect,\r\n} from '@material-ui/core'\r\nimport { InfoSharp } from '@material-ui/icons'\r\n\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport classnames from 'classnames'\r\nimport { t } from 'selectors'\r\n\r\nexport const styles = theme => ({\r\n\tformControl: {\r\n\t\tminWidth: 120,\r\n\t},\r\n\tgroupHeader: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tmenuItem: {\r\n\t\twhiteSpace: 'break-spaces',\r\n\t\twordBreak: 'break-word',\r\n\t},\r\n\textraInfo: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t},\r\n\tselect: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst ExtraLabel = ({ label }) =>\r\n\tArray.isArray(label) ? (\r\n\t\t<Fragment>\r\n\t\t\t{label.map((x, index) => (\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t>\r\n\t\t\t\t\t{x}\r\n\t\t\t\t</Typography>\r\n\t\t\t))}\r\n\t\t</Fragment>\r\n\t) : (\r\n\t\tlabel\r\n\t)\r\n\r\nfunction Dropdown(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst {\r\n\t\tonChange,\r\n\t\tlabel = '',\r\n\t\tvalue,\r\n\t\tsource = [],\r\n\t\thtmlId = 'some-id',\r\n\t\tdisabled = false,\r\n\t\terror = false,\r\n\t\thelperText,\r\n\t\tfullWidth = false,\r\n\t\tclassName,\r\n\t\trequired,\r\n\t\tloading,\r\n\t\tnoSrcLabel,\r\n\t\tvariant,\r\n\t\tIconComponent,\r\n\t} = props\r\n\r\n\tconst handleChange = event => {\r\n\t\tonChange(event.target.value)\r\n\t}\r\n\r\n\t// TODO: add native renderer for mobile devices when supported\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{!!source.length && !loading ? (\r\n\t\t\t\t<FormControl\r\n\t\t\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tvariant={variant}\r\n\t\t\t\t>\r\n\t\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tIconComponent={IconComponent}\r\n\t\t\t\t\t\tclasses={{ selectMenu: classes.select }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\t\treturn src.group ? (\r\n\t\t\t\t\t\t\t\t<ListSubheader\r\n\t\t\t\t\t\t\t\t\tclassName={classes.groupHeader}\r\n\t\t\t\t\t\t\t\t\tkey={src.group.name || src.group}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{src.group.name || src.group}\r\n\t\t\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t\tclasses={{ selected: classes.menuItem }}\r\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t\t\t{!!src.extraLabel && (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={<ExtraLabel label={src.extraLabel} />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InfoSharp\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t\t\t</FormControl>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\tvalue={loading ? t('LOADING_DATA') : noSrcLabel}\r\n\t\t\t\t\t\thelperText={loading ? null : helperText}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{loading && <InputLoading />}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n\tIconComponent: PropTypes.elementType,\r\n}\r\n\r\nexport default Dropdown\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField } from '@material-ui/core'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { execute, updateNewUnit } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewAdUnit,\r\n\tselectUnitTypesSourceWithRecommendations,\r\n} from 'selectors'\r\n\r\nfunction AdUnitBasic({ validateId }) {\r\n\tconst { title, description, targetUrl, type } = useSelector(selectNewAdUnit)\r\n\tconst typesSources = useSelector(selectUnitTypesSourceWithRecommendations)\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\ttargetUrl: errTargetUrl,\r\n\t\ttype: errType,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={ev => execute(updateNewUnit('title', ev.target.value))}\r\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateNewUnit('description', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewUnit('targetUrl', (ev.target.value || '').trim())\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty\r\n\t\t\t\t\t\t\t\t? errTargetUrl.errMsg\r\n\t\t\t\t\t\t\t\t: t('TARGETURL_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={value => execute(updateNewUnit('type', value))}\r\n\t\t\t\t\t\tsource={typesSources}\r\n\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t: t('UNIT_TYPE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdUnitBasic\r\n","/**\r\n * @param {HTMLImageElement} image - Image File Object\r\n * @param {Object} crop - crop Object from react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n * @param {Object} size - { width, height } - for image scale\r\n */\r\nexport const getCroppedImgUrl = (image, crop, fileName, size) => {\r\n\tconst canvas = document.createElement('canvas')\r\n\tconst scaleX = image.naturalWidth / image.width\r\n\tconst scaleY = image.naturalHeight / image.height\r\n\r\n\tconst sourceWidth = crop.width * scaleX\r\n\tconst sourceHeight = crop.height * scaleY\r\n\tcanvas.width = sourceWidth\r\n\tcanvas.height = sourceHeight\r\n\tconst ctx = canvas.getContext('2d')\r\n\r\n\tctx.drawImage(\r\n\t\timage,\r\n\t\tcrop.x * scaleX,\r\n\t\tcrop.y * scaleY,\r\n\t\tsourceWidth,\r\n\t\tsourceHeight,\r\n\t\t0,\r\n\t\t0,\r\n\t\tsourceWidth,\r\n\t\tsourceHeight\r\n\t)\r\n\r\n\tlet finalCanvas = canvas\r\n\r\n\tif (size && size.width && size.height) {\r\n\t\t// Pre blurred img\r\n\t\tconst bl = document.createElement('canvas')\r\n\t\tbl.width = sourceWidth\r\n\t\tbl.height = sourceHeight\r\n\t\tconst bctx = bl.getContext('2d')\r\n\t\tconst blur = Math.floor(sourceWidth / size.width / 3)\r\n\t\tbctx.filter = `blur(${blur}px)`\r\n\t\tbctx.drawImage(canvas, 0, 0, sourceWidth, sourceHeight)\r\n\r\n\t\tfinalCanvas = document.createElement('canvas')\r\n\t\tfinalCanvas.width = size.width\r\n\t\tfinalCanvas.height = size.height\r\n\r\n\t\tconst sctx = finalCanvas.getContext('2d')\r\n\r\n\t\tsctx.drawImage(\r\n\t\t\tbl,\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tsourceWidth,\r\n\t\t\tsourceHeight,\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\tsize.width,\r\n\t\t\tsize.height\r\n\t\t)\r\n\t}\r\n\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tfinalCanvas.toBlob(\r\n\t\t\tfile => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t},\r\n\t\t\t'image/jpeg',\r\n\t\t\t1\r\n\t\t)\r\n\t})\r\n}\r\n","import React from 'react'\r\n\r\nimport { OutlinedInput, InputLabel, FormControl, Box } from '@material-ui/core'\r\n\r\nconst PropBaseComponent = ({ value, inputRef, ...rest }) => (\r\n\t<Box {...rest}>{value}</Box>\r\n)\r\n\r\nconst OutlinedPropView = ({ label, value, margin }) => (\r\n\t<Box py={1}>\r\n\t\t<FormControl variant='outlined' fullWidth>\r\n\t\t\t<InputLabel shrink disableAnimation>\r\n\t\t\t\t{label}\r\n\t\t\t</InputLabel>\r\n\r\n\t\t\t<OutlinedInput\r\n\t\t\t\tmargin={margin}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tnotched\r\n\t\t\t\treadOnly\r\n\t\t\t\tname={label}\r\n\t\t\t\tlabel={label}\r\n\t\t\t\tinputComponent={PropBaseComponent}\r\n\t\t\t\tinputProps={{ style: { height: 'auto', wordWrap: 'break-word' } }}\r\n\t\t\t\tvalue={value}\r\n\t\t\t/>\r\n\t\t</FormControl>\r\n\t</Box>\r\n)\r\n\r\nexport default OutlinedPropView\r\n","import React, { useState, useEffect } from 'react'\r\nimport './CanvaButton.css'\r\n\r\nfunction CanvaButton({ saveFileObjectToState, size }) {\r\n\tconst [canvaApi, setCanvaApi] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tvar script\r\n\t\tfunction initCanva(document, url) {\r\n\t\t\tscript = document.createElement('script')\r\n\t\t\tscript.src = url\r\n\t\t\tscript.onload = function() {\r\n\t\t\t\tif (window.Canva && window.Canva.DesignButton) {\r\n\t\t\t\t\twindow.Canva.DesignButton.initialize({\r\n\t\t\t\t\t\tapiKey: process.env.CANVA_API, //test api key only for localhost and test\r\n\t\t\t\t\t}).then(api => {\r\n\t\t\t\t\t\tsetCanvaApi(api)\r\n\t\t\t\t\t\twindow.canvaApi = api\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocument.body.appendChild(script)\r\n\t\t}\r\n\t\tif (!window.canvaApi) {\r\n\t\t\t//perhaps download it and load it locally\r\n\t\t\tinitCanva(document, 'https://sdk.canva.com/designbutton/v2/api.js')\r\n\t\t} else {\r\n\t\t\tsetCanvaApi(window.canvaApi)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst handleCreateCanvaAd = () => {\r\n\t\tif (canvaApi) {\r\n\t\t\tcanvaApi.createDesign({\r\n\t\t\t\tdesign: {\r\n\t\t\t\t\ttype: 'WideSkyscraperAd',\r\n\t\t\t\t\tdimensions: {\r\n\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\theight: size.height,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tonDesignOpen: ({ designId }) => {\r\n\t\t\t\t\t// Triggered when editor finishes loading and opens a new design.\r\n\t\t\t\t\t// You can save designId for future use.\r\n\t\t\t\t},\r\n\t\t\t\tonDesignPublish: async ({ exportUrl, designId }) => {\r\n\t\t\t\t\t// Triggered when design is published to an image.\r\n\t\t\t\t\t// Save the image to your server as the exportUrl will expire shortly.\r\n\t\t\t\t\tconst res = await fetch(exportUrl)\r\n\t\t\t\t\tconst blob = await res.blob()\r\n\t\t\t\t\tconst file = new File([blob], `${designId}.png`, {\r\n\t\t\t\t\t\ttype: 'image/png',\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsaveFileObjectToState(file)\r\n\t\t\t\t},\r\n\t\t\t\tonDesignClose: () => {\r\n\t\t\t\t\t// Triggered when editor is closed.\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName='canva-btn canva-btn-theme-default canva-btn-size-m'\r\n\t\t\tonClick={() => handleCreateCanvaAd()}\r\n\t\t>\r\n\t\t\t<span className='canva-btn-i'></span>\r\n\t\t\tDesign on Canva\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nexport default CanvaButton\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Media from 'components/common/media'\r\nimport { Button, Typography, Grid, Box, Hidden } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport {\r\n\tCrop as CropIcon,\r\n\tClear as ClearIcon,\r\n\tSave as SaveIcon,\r\n\tCloudUpload as FileUploadIcon,\r\n} from '@material-ui/icons'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { t } from 'selectors'\r\nimport { useDropzone } from 'react-dropzone'\r\nimport CanvaButton from './CanvaButton'\r\n\r\nconst styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tdropzone: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: ({ isDragActive, isDragAccept, isDragReject }) =>\r\n\t\t\t\t`1px dashed ${\r\n\t\t\t\t\tisDragActive\r\n\t\t\t\t\t\t? theme.palette.secondary.main\r\n\t\t\t\t\t\t: isDragAccept\r\n\t\t\t\t\t\t? theme.palette.success.main\r\n\t\t\t\t\t\t: isDragReject\r\n\t\t\t\t\t\t? theme.palette.error.main\r\n\t\t\t\t\t\t: theme.palette.grey.main\r\n\t\t\t\t}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t\ttransition: 'border .24s ease-in-out',\r\n\t\t},\r\n\t\tcropzone: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tbackground: theme.palette.primary.main,\r\n\t\t\tpadding: 10,\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\theight: 320,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: '30vh',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction MediaForm({\r\n\tsize,\r\n\tonChange,\r\n\tlabel,\r\n\tadditionalInfo,\r\n\terrMsg,\r\n\tsrc,\r\n\tmime: propsMime,\r\n}) {\r\n\tconst {\r\n\t\tacceptedFiles,\r\n\t\tfileRejections,\r\n\t\tgetRootProps,\r\n\t\tgetInputProps,\r\n\t\tisDragActive,\r\n\t\tisDragAccept,\r\n\t\tisDragReject,\r\n\t} = useDropzone({\r\n\t\taccept: 'image/jpeg, image/jpg, image/png, video/mp4',\r\n\t\tmaxSize: 1042069,\r\n\t\tmaxFiles: 1,\r\n\t\tmultiple: false,\r\n\t\tnoDragEventsBubbling: true,\r\n\t})\r\n\r\n\tconst classes = useStyles({\r\n\t\tisDragActive,\r\n\t\tisDragAccept,\r\n\t\tisDragReject,\r\n\t})\r\n\r\n\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\tconst [imgRef, setImgRef] = useState(null)\r\n\tconst [crop, setCrop] = useState({ aspect })\r\n\tconst [cropMode, setCropMode] = useState(false)\r\n\tconst [mediaName, setMediaName] = useState('')\r\n\tconst [mime, setMime] = useState(propsMime)\r\n\tconst [mediaSrc, setMediaSrc] = useState(src)\r\n\tconst [isVideoSrc, setIsVideoSrc] = useState(isVideoMedia(propsMime))\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCrop({ aspect })\r\n\t}, [aspect])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMime(propsMime)\r\n\t\tsetMediaSrc(src)\r\n\t\tsetIsVideoSrc(isVideoMedia(propsMime))\r\n\t}, [propsMime, src])\r\n\r\n\tconst onLoad = useCallback(img => {\r\n\t\tsetImgRef(img)\r\n\t}, [])\r\n\r\n\tconst clearMedia = useCallback(() => {\r\n\t\tif (mediaSrc) {\r\n\t\t\tURL.revokeObjectURL(mediaSrc)\r\n\t\t\tsetMediaSrc('')\r\n\t\t\tsetMediaName('')\r\n\t\t\tonChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [mediaSrc])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (fileRejections && fileRejections.length) {\r\n\t\t\tclearMedia()\r\n\t\t}\r\n\t}, [clearMedia, fileRejections])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tsaveFileObjectToState(file)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [acceptedFiles])\r\n\r\n\tconst saveFileObjectToState = useCallback(file => {\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\t\tsetMime(file.type)\r\n\t\tsetMediaName(file.name)\r\n\t\tsetIsVideoSrc(isVideoMedia(file.mime))\r\n\t\tsetMediaSrc(objectUrl)\r\n\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\r\n\t\tonChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst saveCropped = useCallback(async () => {\r\n\t\tif (imgRef && crop.width > 1 && crop.height > 1) {\r\n\t\t\tconst croppedBlob = await getCroppedImgUrl(\r\n\t\t\t\timgRef,\r\n\t\t\t\tcrop,\r\n\t\t\t\t`cropped-${mediaName}`,\r\n\t\t\t\tsize\r\n\t\t\t)\r\n\t\t\tURL.revokeObjectURL(mediaSrc)\r\n\t\t\tsetIsVideoSrc(false)\r\n\t\t\tsetMediaSrc(croppedBlob)\r\n\t\t\tsetCropMode(false)\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// TODO: Error\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [crop, imgRef, mediaName, mediaSrc, mime, size])\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<OutlinedPropView\r\n\t\t\t\tautoFocus={false}\r\n\t\t\t\tlabel={\r\n\t\t\t\t\tmediaSrc && mediaName\r\n\t\t\t\t\t\t? `${label || 'Media'}: ${mediaName}`\r\n\t\t\t\t\t\t: label || 'Upload media'\r\n\t\t\t\t}\r\n\t\t\t\tvalue={\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t<Box className={classes.cropzone}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '30vh',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonImageLoaded={onLoad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={mediaSrc || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={c => setCrop(c)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={saveCropped}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setCropMode(false)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{/* Canva not working on mobile currently */}\r\n\t\t\t\t\t\t\t\t\t<Hidden mdDown>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CanvaButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsaveFileObjectToState={saveFileObjectToState}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize={size}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t<Box {...getRootProps({ className: classes.dropzone })}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{mediaSrc ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Media\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={mediaSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={mediaName || 'media'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmediaMime={mime}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// controls={isVideoSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowVideo={isVideoSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('DRAG_AND_DROP_TO_UPLOAD')}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(max 1MB; .jpeg, .jpg, .png, .mp4){' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t<input {...getInputProps()} />\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t{mediaSrc && !isVideoMedia(mime) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.uploadActions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCropMode(true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={clearMedia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fileRejections.map(({ file, errors }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert key={file.path} severity='error'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AlertTitle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{file.path} - {file.size} bytes\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</AlertTitle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{errors.map(e => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// TODO: translate errors\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Box key={e.code}>{e.message}</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='caption'> {additionalInfo} </Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nMediaForm.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default MediaForm\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport MediaForm from 'components/dashboard/forms/MediaForm'\r\nimport { Grid } from '@material-ui/core'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\nimport { updateNewUnit, execute } from 'actions'\r\nimport { t, selectNewAdUnit, selectValidationsById } from 'selectors'\r\n\r\nfunction AdUnitMedia({ validateId }) {\r\n\tconst { type, temp } = useSelector(selectNewAdUnit)\r\n\tconst { temp: errImg } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst { width, height } = getWidAndHightFromType(type)\r\n\tconst { tempUrl, mime } = temp\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<MediaForm\r\n\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\tsrc={tempUrl || ''}\r\n\t\t\t\t\t\tmime={mime || ''}\r\n\t\t\t\t\t\tonChange={mediaProps =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewUnit('temp', {\r\n\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t...mediaProps,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\r\n\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdUnitMedia\r\n","import React from 'react'\r\n\r\nimport { CircularProgress, Typography, Box } from '@material-ui/core'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\n// TODO: Use it with Grid in previews - we can have more than one in row\r\nexport const PropRow = ({ left, right }) => (\r\n\t<Box p={1}>\r\n\t\t<OutlinedPropView label={left} value={right} />\r\n\t</Box>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\tclassName={className}\r\n\t>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<Box flexGrow={1} className={className}>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, subMsg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div>\r\n\t\t\t<Typography component='div'> {msg} </Typography>\r\n\t\t\t{subMsg && (\r\n\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t<strong>{subMsg}</strong>\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nconst fullContentMessage = ({\r\n\tchildren,\r\n\tmsgs = [],\r\n\tspinner,\r\n\tcolor = 'primary',\r\n}) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\talignItems='center'\r\n\t\tjustifyContent='center'\r\n\t\tbgcolor={`${color}.main`}\r\n\t\tcolor={`${color}.contrastText`}\r\n\t>\r\n\t\t{spinner && (\r\n\t\t\t<Box p={4}>\r\n\t\t\t\t<CircularProgress\r\n\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\r\n\t\t\t\t\tsize={69}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t)}\r\n\t\t{children}\r\n\t\t{msgs\r\n\t\t\t.filter(x => !!x && x.message)\r\n\t\t\t.map((msg, index) => {\r\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Typography key={index} component='div'>\r\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t</Box>\r\n)\r\n\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 225,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Media from 'components/common/media'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { Grid } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { t, selectNewAdUnit, selectAccountIdentityAddr } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AdUnitPreview() {\r\n\tconst classes = useStyles()\r\n\tconst { type, title, description, temp, targeting, targetUrl } = useSelector(\r\n\t\tselectNewAdUnit\r\n\t)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tright={targetUrl}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<Media\r\n\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdUnitPreview\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsArray,\r\n\tselectAdUnits,\r\n\tselectNewCampaign,\r\n} from 'selectors'\r\nimport { updateNewCampaign, execute } from 'actions'\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nfunction CampaignUnits(props) {\r\n\tconst { temp } = useSelector(selectNewCampaign)\r\n\tconst allAdUnits = useSelector(selectAdUnits)\r\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\r\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\r\n\r\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\r\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\r\n\t\t\treturn allAdUnits[value]\r\n\t\t})\r\n\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.selectedUnits = selectedIndexes\r\n\r\n\t\texecute(updateNewCampaign('adUnits', units))\r\n\t\texecute(updateNewCampaign('temp', newTemp))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\r\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\r\n\t\t\t\t\t\t\t\tvalidate={props.validate}\r\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\r\n\t\t\t\t\t\t\t\ttableId={NEW_CAMPAIGN_UNITS}\r\n\t\t\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\trowSelectable\r\n\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CampaignUnits\r\n","import React from 'react'\r\nimport { DateTimePicker as MuiDateTimePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {\r\n\tDateRange,\r\n\tNavigateNextRounded,\r\n\tNavigateBeforeRounded,\r\n\tUpdate,\r\n} from '@material-ui/icons'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport utils from 'helpers/dateUtils'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <DateRange />,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonLiveClick,\r\n\tonNextClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t{onNextClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\r\n\t\t\t\t<NavigateNextRounded />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t\t{onLiveClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\r\n\t\t\t\t<Update />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t</InputAdornment>\r\n)\r\n\r\nexport function DateTimePicker({\r\n\tcalendarIcon,\r\n\ticon,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonNextClick,\r\n\tonLiveClick,\r\n\tonBackClick,\r\n\tInputProps = {},\r\n\troundHour,\r\n\t...rest\r\n}) {\r\n\tconst now = utils.date(Date.now())\r\n\tconst date = roundHour ? utils.setMinutes(now, 0) : now\r\n\treturn (\r\n\t\t<MuiDateTimePicker\r\n\t\t\tvalue={date}\r\n\t\t\tInputProps={{\r\n\t\t\t\t...InputProps,\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\tonNextClick={onNextClick}\r\n\t\t\t\t\t\tonLiveClick={onLiveClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null,\r\n\t\t\t\tstartAdornment: onBackClick ? (\r\n\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\r\n\t\t\t\t\t\t\t<NavigateBeforeRounded />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t) : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({\r\n\tclasses,\r\n\tcalendarIcon,\r\n\ticon,\r\n\tInputProps = {},\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\t...InputProps,\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tFormGroup,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tCheckbox,\r\n\tTextField,\r\n} from '@material-ui/core'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\r\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectMainToken,\r\n\tselectNewCampaign,\r\n\tselectValidationsById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\nimport { validations } from 'adex-models'\r\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\r\nimport {\r\n\tMAX_CAMPAIGN_WITHDRAW_START,\r\n\tMAX_CAMPAIGN_WITHDRAW_START_DAYS,\r\n\tDAY,\r\n} from 'constants/targeting'\r\nconst { isNumberString } = validations\r\n\r\nconst moment = new MomentUtils()\r\n\r\nconst getTotalImpressions = ({ depositAmount, min, max }) => {\r\n\ttry {\r\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\r\n\t\tconst minBound = isNumberString(min) && parseFloat(min)\r\n\t\tconst maxBound = isNumberString(max) && parseFloat(max)\r\n\t\tif (!dep) {\r\n\t\t\treturn t('DEPOSIT_NOT_SET')\r\n\t\t} else if (!minBound || !maxBound) {\r\n\t\t\treturn ''\r\n\t\t\t// return t('BOUNDS_NOT_NOT_SET')\r\n\t\t} else {\r\n\t\t\tconst impressions = utils.commify(Math.floor((dep / minBound) * 1000))\r\n\t\t\treturn t('TOTAL_IMPRESSIONS_UP_TO', { args: [impressions] })\r\n\t\t}\r\n\t} catch (err) {\r\n\t\treturn ''\r\n\t}\r\n}\r\n\r\nfunction CampaignFinance({ validateId, ...rest }) {\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst campaign = useSelector(selectNewCampaign)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\t// pricingBounds: campaignPricingBounds,\r\n\t\tpricingBoundsCPMUserInput,\r\n\t\t// depositAsset,\r\n\t\tactiveFrom,\r\n\t\twithdrawPeriodStart,\r\n\t\t// minTargetingScore,\r\n\t\ttemp = {},\r\n\t} = campaign\r\n\r\n\tconst {\r\n\t\tmaxChannelFees,\r\n\t\tmaxDepositFormatted,\r\n\t\tuseUtmTags,\r\n\t\tsuggestedPricingBounds = { IMPRESSION: {} },\r\n\t\tuseUtmSrcWithPub,\r\n\t} = temp\r\n\r\n\t// if pricingBounds is null\r\n\tconst pricingBounds = pricingBoundsCPMUserInput || { IMPRESSION: {} } //campaignPricingBounds || { IMPRESSION: {} }\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst from = activeFrom || undefined\r\n\tconst to = withdrawPeriodStart || undefined\r\n\tconst now = moment.date().valueOf()\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdepositAmount: errDepAmnt,\r\n\t\tminPerImpression: errMin,\r\n\t\tmaxPerImpression: errMax,\r\n\t\tactiveFrom: errFrom,\r\n\t\twithdrawPeriodStart: errTo,\r\n\t} = invalidFields\r\n\r\n\tconst leader = validators[0] || {}\r\n\tconst follower = validators[1] || {}\r\n\r\n\tconst impressions = getTotalImpressions({\r\n\t\tdepositAmount,\r\n\t\tmin: pricingBounds.IMPRESSION.min,\r\n\t\tmax: pricingBounds.IMPRESSION.max,\r\n\t})\r\n\r\n\tconst updatePricingBoundsImpression = (type, inputValue) => {\r\n\t\tconst value = (inputValue || '').trim()\r\n\t\tconst newPricingBounds = { ...pricingBounds }\r\n\t\tconst impression = { ...pricingBounds.IMPRESSION }\r\n\t\timpression[type] = value\r\n\t\tnewPricingBounds.IMPRESSION = impression\r\n\t\texecute(updateNewCampaign('pricingBoundsCPMUserInput', newPricingBounds))\r\n\t\texecute(\r\n\t\t\tvalidateNumberString({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprop: `pricingBounds_${type}`,\r\n\t\t\t\tvalue,\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\tprop='leader-validator'\r\n\t\t\t\t\t\t\tvalue={leader.url || ''}\r\n\t\t\t\t\t\t\thelperText={leader.id}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\tprop='follower-validator'\r\n\t\t\t\t\t\t\tvalue={follower.url || ''}\r\n\t\t\t\t\t\t\thelperText={follower.id}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = (ev.target.value || '').trim()\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\r\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\r\n\t\t\t\t\t\t\t\t\t: impressions\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_MIN_LABEL')}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.min}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('min', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CPM_MIN_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.min, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_MAX_LABEL')}\r\n\t\t\t\t\t\t\tname='maxPerImpression'\r\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.max}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('max', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMax && !!errMax.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMax && !!errMax.dirty\r\n\t\t\t\t\t\t\t\t\t? errMax.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CPM_MAX_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.max, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now + 3 * 60 * 60 * 1000}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tformat={DEFAULT_DATETIME_FORMAT}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tmaxDate={now + MAX_CAMPAIGN_WITHDRAW_START - DAY}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [MAX_CAMPAIGN_WITHDRAW_START_DAYS],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tformat={DEFAULT_DATETIME_FORMAT}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmTags}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmTags: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmTags'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_AUTO_UTM_TAGS')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_AUTO_UTM_TAGS_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\r\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl disabled={!useUtmTags}>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmSrcWithPub}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmSrcWithPub: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmSrcWithPub'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_UTM_SRC_WITH_PUB')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_UTM_SRC_WITH_PUB_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t// TODO: link to help\r\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\r\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<CampaignTargetingRules\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t\tadvancedOnly\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignFinance\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport {\r\n\tBox,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tListSubheader,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n\tTooltip,\r\n\tGrid,\r\n} from '@material-ui/core'\r\nimport { HelpSharp as HelpIcon } from '@material-ui/icons'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\nimport { t } from 'selectors'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\tlet subMsg\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\r\n}\r\n\r\nexport const FeesBreakdown = ({ breakdownFormatted = {}, symbol }) => (\r\n\t<Box p={1}>\r\n\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t<AccordionSummary\r\n\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\taria-controls='fees-breakdown'\r\n\t\t\t\tid='fees-breakdown'\r\n\t\t\t>\r\n\t\t\t\t<Typography>\r\n\t\t\t\t\t<Grid container direction='row' justify='center' alignItems='center'>\r\n\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t{t('FEES_BREAKDOWN_ADVANCED_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [breakdownFormatted.feeAmount, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t<Grid container justify='center' alignItems='center'>\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '1em', marginLeft: '0.5em' }}\r\n\t\t\t\t\t\t\t\t\ttitle={t('TOOLTIP_EXPLAIN_TRANSACTION_FEE')}\r\n\t\t\t\t\t\t\t\t\tinteractive\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<HelpIcon dominantBaseline color={'primary'} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Typography>\r\n\t\t\t</AccordionSummary>\r\n\t\t\t<List\r\n\t\t\t\tdisablePadding\r\n\t\t\t\tdense\r\n\t\t\t\tsubheader={\r\n\t\t\t\t\t<ListSubheader component='div'>\r\n\t\t\t\t\t\t{t('BD_TOTAL_FEE', {\r\n\t\t\t\t\t\t\targs: [breakdownFormatted.feeAmount, symbol],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{/* {!!breakdownFormatted.deployFee && (\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('BD_DEPLOY_FEE', {\r\n\t\t\t\t\t\t\t\targs: [breakdownFormatted.deployFee, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t)} */}\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t('BD_TXNS_FEE', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tbreakdownFormatted.executeAction,\r\n\t\t\t\t\t\t\t\tbreakdownFormatted.txnsFee,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t{!!breakdownFormatted.sweepTxnsCount && (\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('BD_SWEEP_FEE', {\r\n\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\tbreakdownFormatted.sweepTxnsCount,\r\n\t\t\t\t\t\t\t\t\tbreakdownFormatted.sweepTxnsFeeAmount,\r\n\t\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t)}\r\n\t\t\t</List>\r\n\t\t</Accordion>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { constants, IabCategories } from 'adex-models'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\n\r\nimport { t } from 'selectors'\r\nimport { Box, Chip, Tooltip } from '@material-ui/core'\r\n\r\nconst { CountryNames, CountryTiers, OsGroups } = constants\r\n\r\nconst AudiencePreview = ({ audienceInput = {}, title, subHeader }) => {\r\n\tconst {\r\n\t\tlocation = {},\r\n\t\tcategories = {},\r\n\t\tpublishers = {},\r\n\t\t// advanced = {},\r\n\t\tdevices = {},\r\n\t} = audienceInput\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t{title && <OutlinedPropView label={t('TITLE')} value={title} />}\r\n\r\n\t\t\t{!!location.apply ? (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`LOCATION_${location.apply.toUpperCase()}`)}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tlocation.apply === 'allin' ? (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tlabel={t('ALL_COUNTRIES')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t(location[location.apply] || []).map(x => (\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tkey={x}\r\n\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\tCountryTiers[x]\r\n\t\t\t\t\t\t\t\t\t\t\t? CountryTiers[x].countries.join(', ')\r\n\t\t\t\t\t\t\t\t\t\t\t: t(CountryNames[x] || x || '')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t(x || '')} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`LOCATION`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{!!categories.apply ? (\r\n\t\t\t\tcategories.apply.map(apply => (\r\n\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\tkey={apply}\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tlabel={t(`CATEGORIES_${(apply || '').toUpperCase()}`)}\r\n\t\t\t\t\t\tvalue={(categories[apply] || []).map(cat => (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tkey={cat}\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tlabel={t(\r\n\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`CATEGORIES`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{publishers.apply ? (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`PUBLISHERS_${publishers.apply.toUpperCase()}`)}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tpublishers.apply === 'allin' ? (\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tlabel={t('ALL_PUBLISHERS')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t(publishers[publishers.apply] || []).map((x, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tlabel={(JSON.parse(x || '{}') || {}).hostname}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`PUBLISHERS`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{!!devices.apply ? (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`DEVICES_${devices.apply.toUpperCase()}`)}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\tdevices.apply === 'allin' ? (\r\n\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t('ALL_DEVICES')} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t(devices[devices.apply] || []).map(x => (\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tkey={x}\r\n\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\tOsGroups[x]\r\n\t\t\t\t\t\t\t\t\t\t\t? OsGroups[x].oss.join(', ')\r\n\t\t\t\t\t\t\t\t\t\t\t: t(OsGroups[x] || x || '')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t(x || '')} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t(`DEVICES`)}\r\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nAudiencePreview.propTypes = {\r\n\taudienceInput: PropTypes.object,\r\n\tsubHeader: PropTypes.string,\r\n}\r\n\r\nexport default AudiencePreview\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tCircularProgress,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport {\r\n\tWalletAction,\r\n\tFeesBreakdown,\r\n} from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectAccountIdentityAddr,\r\n\tselectAuthType,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectNewCampaign,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, getCampaignActualFees, checkNetworkCongestion } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES, OPENING_CAMPAIGN } from 'constants/spinners'\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nfunction CampaignFormPreview() {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst mainToken = useSelector(selectMainToken)\r\n\tconst { symbol } = mainToken\r\n\tconst feesSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst openingSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, OPENING_CAMPAIGN)\r\n\t)\r\n\tconst [networkCongested, setNetworkCongested] = useState(false)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\t// targeting,\r\n\t\tadUnits,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\t// pricingBounds,\r\n\t\tpricingBoundsCPMUserInput,\r\n\t\t// maxPerImpression,\r\n\t\t// depositAsset,\r\n\t\twithdrawPeriodStart,\r\n\t\tactiveFrom,\r\n\t\t// minTargetingScore,\r\n\t\ttargetingRules = {},\r\n\t\taudienceInput = {},\r\n\t\t// nonce\r\n\t\ttemp = {},\r\n\t} = useSelector(selectNewCampaign)\r\n\r\n\tconst { feesFormatted, totalSpendFormatted, breakdownFormatted } = temp\r\n\tconst { IMPRESSION = {} } = pricingBoundsCPMUserInput || {}\r\n\tconst { advanced = {} } = audienceInput.inputs\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function checkNetwork() {\r\n\t\t\tconst msg = await execute(checkNetworkCongestion())\r\n\r\n\t\t\tif (msg) {\r\n\t\t\t\tsetNetworkCongested(msg)\r\n\t\t\t}\r\n\t\t}\r\n\t\texecute(getCampaignActualFees())\r\n\t\tcheckNetwork()\r\n\t}, [])\r\n\r\n\treturn feesSpinner ? (\r\n\t\t<FullContentSpinner />\r\n\t) : (\r\n\t\t<ContentBox>\r\n\t\t\t{openingSpinner || networkCongested ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{openingSpinner && (\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<WalletAction t={t} authType={authType} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{networkCongested && (\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<Alert severity='warning' variant='filled' square>\r\n\t\t\t\t\t\t\t\t<AlertTitle>{t('NETWORK_WARNING')}</AlertTitle>\r\n\t\t\t\t\t\t\t\t{networkCongested}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CPM_MIN_LABEL')}\r\n\t\t\t\t\t\t\tright={`${IMPRESSION.min} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CPM_MAX_LABEL')}\r\n\t\t\t\t\t\t\tright={`${IMPRESSION.max} ${symbol}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FeesBreakdown\r\n\t\t\t\t\t\t\tbreakdownFormatted={breakdownFormatted}\r\n\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{/* <Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\tright={t(minTargetingScore ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid> */}\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_AUTO_UTM_TAGS`)}\r\n\t\t\t\t\t\t\tright={t(temp.useUtmTags ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_UTM_SRC_WITH_PUB`)}\r\n\t\t\t\t\t\t\tright={t(temp.useUtmSrcWithPub ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`INCLUDE_INCENTIVIZED_TRAFFIC_LABEL`)}\r\n\t\t\t\t\t\t\tright={t(advanced.includeIncentivized ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`DISABLE_FREQUENCY_CAPPING_LABEL`)}\r\n\t\t\t\t\t\t\tright={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t(`LIMIT_AVERAGE_DAILY_SPENDING_LABEL`)}\r\n\t\t\t\t\t\t\tright={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('AUDIENCE')}\r\n\t\t\t\t\t\t\tright={<AudiencePreview audienceInput={audienceInput.inputs} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\t\ttableId={NEW_CAMPAIGN_UNITS}\r\n\t\t\t\t\t\t\t\t\titems={adUnits}\r\n\t\t\t\t\t\t\t\t\tnoSearch\r\n\t\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\taria-controls='targeting-rules-content'\r\n\t\t\t\t\t\t\t\tid='targeting-rules-header'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\r\n\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t\t\t<pre>{JSON.stringify(targetingRules || [], null, 2)}</pre>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default CampaignFormPreview\r\n","import React, { useEffect, Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tFormHelperText,\r\n\tTextField,\r\n\tBox,\r\n\tTooltip,\r\n\tTypography,\r\n\tChip,\r\n} from '@material-ui/core'\r\nimport AutocompleteMUI, {\r\n\tcreateFilterOptions,\r\n} from '@material-ui/lab/Autocomplete'\r\nimport { CheckSharp, ErrorSharp, InfoSharp } from '@material-ui/icons'\r\n\r\nconst StatusIcon = {\r\n\tsuccess: <CheckSharp color='secondary' />,\r\n\terror: <ErrorSharp color='error' />,\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\textraInfo: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nconst ExtraLabel = ({ label }) =>\r\n\tArray.isArray(label) ? (\r\n\t\t<Fragment>\r\n\t\t\t{label.map((x, index) => (\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t>\r\n\t\t\t\t\t{x}\r\n\t\t\t\t</Typography>\r\n\t\t\t))}\r\n\t\t</Fragment>\r\n\t) : (\r\n\t\tlabel\r\n\t)\r\n\r\nfunction Autocomplete({\r\n\tsource,\r\n\tmultiple,\r\n\tlabel,\r\n\tvariant,\r\n\terror,\r\n\terrorText,\r\n\tonInit,\r\n\tvalue,\r\n\tonChange,\r\n\tfullWidth,\r\n\tdisabled,\r\n\thideSelectedOnDisable,\r\n\tdisableCloseOnSelect,\r\n\tdisabledSrcValues = [],\r\n\tenableCreate,\r\n}) {\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\ttypeof onInit === 'function' && onInit()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst handleChange = item => {\r\n\t\tif (multiple) {\r\n\t\t\tonChange(item.map(i => i.value || i.label || i))\r\n\t\t} else {\r\n\t\t\tonChange(item ? item.value || item.label || item : item)\r\n\t\t}\r\n\t}\r\n\r\n\tconst srcValue = multiple\r\n\t\t? Array.isArray(value)\r\n\t\t\t? value.map(v => source.find(s => s.value === v) || '')\r\n\t\t\t: []\r\n\t\t: source.find(s => s.value === value) || value\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<AutocompleteMUI\r\n\t\t\t\tmultiple={multiple}\r\n\t\t\t\tdisableCloseOnSelect={disableCloseOnSelect}\r\n\t\t\t\toptions={source}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tgroupBy={option => option.group}\r\n\t\t\t\tvalue={srcValue}\r\n\t\t\t\tgetOptionLabel={option => option.label || option.name || option}\r\n\t\t\t\tgetLimitTagsText={more => `${more} more`}\r\n\t\t\t\tlimitTags={10}\r\n\t\t\t\tgetOptionDisabled={option =>\r\n\t\t\t\t\tdisabledSrcValues.some(x => (option.value || option) === x)\r\n\t\t\t\t}\r\n\t\t\t\tgetOptionSelected={(opt, val = '') => {\r\n\t\t\t\t\tconst isSelected =\r\n\t\t\t\t\t\t!!opt &&\r\n\t\t\t\t\t\t!!val &&\r\n\t\t\t\t\t\t[JSON.stringify(val), val, val.value].includes(opt.value)\r\n\t\t\t\t\treturn isSelected\r\n\t\t\t\t}}\r\n\t\t\t\t// freeSolo\r\n\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\r\n\t\t\t\trenderInput={params => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\trenderOption={option => (\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tkey={option.label}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography display='inline'>{option.label}</Typography>\r\n\t\t\t\t\t\t{!!option.extraLabel && (\r\n\t\t\t\t\t\t\t<Tooltip arrow title={<ExtraLabel label={option.extraLabel} />}>\r\n\t\t\t\t\t\t\t\t<InfoSharp\r\n\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\r\n\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\trenderTags={(value, getCustomizedTagProps) =>\r\n\t\t\t\t\tvalue.map(\r\n\t\t\t\t\t\t(option, index) =>\r\n\t\t\t\t\t\t\t!(disabled && hideSelectedOnDisable) &&\r\n\t\t\t\t\t\t\t(!!option.extraLabel ? (\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\t\tkey={option.value + '' + index}\r\n\t\t\t\t\t\t\t\t\ttitle={<ExtraLabel label={option.extraLabel || ''} />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tlabel={option.label || option}\r\n\t\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tlabel={option.label || option}\r\n\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{error && (\r\n\t\t\t\t<FormHelperText error id='component-error-text'>\r\n\t\t\t\t\t{errorText}\r\n\t\t\t\t</FormHelperText>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst filter = createFilterOptions()\r\n\r\nexport const AutocompleteWithCreate = ({\r\n\tsource,\r\n\tlabel,\r\n\tvariant,\r\n\terror,\r\n\thelperText,\r\n\tfullWidth,\r\n\tinitialValue,\r\n\tdisabled,\r\n\tonChange,\r\n\tchangeOnInputUpdate,\r\n}) => {\r\n\tconst [value, setValue] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValue({ label: initialValue, value: initialValue })\r\n\t}, [initialValue])\r\n\r\n\treturn (\r\n\t\t<AutocompleteMUI\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={(event, newValue) => {\r\n\t\t\t\t// Create a new value from the user input\r\n\t\t\t\tif (newValue && (newValue.inputValue || newValue.value)) {\r\n\t\t\t\t\tconst value = newValue.inputValue || newValue.value\r\n\t\t\t\t\tsetValue({\r\n\t\t\t\t\t\tlabel: newValue.label || value,\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tonChange(value)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetValue(newValue)\r\n\t\t\t\t\tonChange('')\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonInputChange={(ev, value) => {\r\n\t\t\t\tif (changeOnInputUpdate) {\r\n\t\t\t\t\tonChange(value)\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tfilterOptions={(options, params) => {\r\n\t\t\t\tconst filtered = filter(options, params)\r\n\r\n\t\t\t\t// Suggest the creation of a new value\r\n\t\t\t\tif (!changeOnInputUpdate && params.inputValue !== '') {\r\n\t\t\t\t\tfiltered.push({\r\n\t\t\t\t\t\tinputValue: params.inputValue,\r\n\t\t\t\t\t\tlabel: `Add \"${params.inputValue}\"`,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn filtered\r\n\t\t\t}}\r\n\t\t\tselectOnFocus\r\n\t\t\t// clearOnBlur\r\n\t\t\t// handleHomeEndKeys\r\n\t\t\tdisabled={disabled}\r\n\t\t\toptions={source}\r\n\t\t\tgetLimitTagsText={more => `${more} more`}\r\n\t\t\tlimitTags={2}\r\n\t\t\tgroupBy={option => option.group}\r\n\t\t\tgetOptionLabel={option => {\r\n\t\t\t\t// Value selected with enter, right from the input\r\n\t\t\t\tif (typeof option === 'string') {\r\n\t\t\t\t\treturn option\r\n\t\t\t\t}\r\n\t\t\t\t// Add \"xxx\" option created dynamically\r\n\t\t\t\tif (option.inputValue) {\r\n\t\t\t\t\treturn option.inputValue\r\n\t\t\t\t}\r\n\t\t\t\t// Regular option\r\n\t\t\t\treturn option.label\r\n\t\t\t}}\r\n\t\t\trenderOption={option =>\r\n\t\t\t\toption.status ? (\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{option.label}\r\n\r\n\t\t\t\t\t\t{StatusIcon[option.status] || option.status}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t) : (\r\n\t\t\t\t\toption.label\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tfreeSolo={!changeOnInputUpdate}\r\n\t\t\trenderInput={params => (\r\n\t\t\t\t<TextField\r\n\t\t\t\t\t{...params}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t\t\tlabel={label}\r\n\t\t\t\t\thelperText={helperText}\r\n\t\t\t\t\tvariant={variant}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tsource: PropTypes.array.isRequired,\r\n\tlabel: PropTypes.string.isRequired,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tmultiple: PropTypes.bool,\r\n\tvariant: PropTypes.string,\r\n}\r\n\r\nexport default Autocomplete\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tFormGroup,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tCheckbox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { AutocompleteWithCreate } from 'components/common/autocomplete'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport {\r\n\tt,\r\n\tselectNewAdSlot,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectSlotTypesSourceWithDemands,\r\n\twebsitesAutocompleteSrc,\r\n\tselectMainToken,\r\n\tselectMinTargetingCpm,\r\n} from 'selectors'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tupdateNewSlot,\r\n\tvalidateNumberString,\r\n\texecute,\r\n} from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst newItem = useSelector(selectNewAdSlot)\r\n\tconst websitesSrc = useSelector(websitesAutocompleteSrc)\r\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\r\n\tconst minCPM = useSelector(selectMinTargetingCpm)\r\n\tconst {\r\n\t\ttitle = '',\r\n\t\tdescription = '',\r\n\t\twebsite = '',\r\n\t\ttype = '',\r\n\t\trulesInput: slotRulesInput,\r\n\t\tminPerImpression,\r\n\t} = newItem\r\n\r\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\r\n\r\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\r\n\t)\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\twebsite: errWebsite,\r\n\t\ttype: errType,\r\n\t\tminPerImpression: errMin,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateSlotsDemandThrottled())\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\r\n\t\tif (!autoSetMinCPM && minPerImpression === null) {\r\n\t\t\texecute(updateNewSlot('minPerImpression', minCPM.toFixed(2)))\r\n\t\t}\r\n\t}, [autoSetMinCPM, minCPM, minPerImpression])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<AutocompleteWithCreate\r\n\t\t\t\t\t\t\tchangeOnInputUpdate\r\n\t\t\t\t\t\t\tinitialValue={website}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tsource={websitesSrc}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\r\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonChange={value => {\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', (value || '').trim()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\r\n\t\t\t\t\t\t\tsource={adTypesSource}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\r\n\t\t\t\t\t\t\t\tid='slot-rules-advanced'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\r\n\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\t\t\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!!autoSetMinCPM}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = (ev.target.value || '').trim()\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_CPM_MIN_HELPER')\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport MediaForm from 'components/dashboard/forms/MediaForm'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tCollapse,\r\n\tFormControlLabel,\r\n\tSwitch,\r\n} from '@material-ui/core'\r\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { t, selectNewItemByTypeAndId, selectValidationsById } from 'selectors'\r\nimport { updateNewSlot, execute } from 'actions'\r\n\r\nfunction AdSlotMedia({ validateId, itemId }) {\r\n\tconst { type, targetUrl, temp } = useSelector(state =>\r\n\t\tselectNewItemByTypeAndId(state, 'AdSlot', itemId)\r\n\t)\r\n\r\n\tconst { useFallback = false, tempUrl, mime } = temp\r\n\r\n\tconst { temp: errImg, targetUrl: errFallbackUrl } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseFallback: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titemId\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA_INFO')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('targetUrl', ev.target.value, null, itemId)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<MediaForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\tsrc={tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tmime={mime || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={mediaProps =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...mediaProps,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemId\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\t\t\t\theight,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotMedia\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField } from '@material-ui/core'\r\n\r\nimport { execute, updateNewAudience } from 'actions'\r\nimport { t, selectValidationsById, selectNewAudience } from 'selectors'\r\n\r\nfunction AudienceBasic({ validateId }) {\r\n\tconst { title } = useSelector(selectNewAudience)\r\n\r\n\tconst { title: errTitle } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateNewAudience('title', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAudienceBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AudienceBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { ContentBox, ContentBody } from 'components/common/dialog/content'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport { selectNewAudience } from 'selectors'\r\n\r\nfunction AdUnitPreview() {\r\n\tconst { title, inputs, version } = useSelector(selectNewAudience)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<AudiencePreview audienceInput={inputs} title={title} />\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdUnitPreview\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tBox,\r\n\tTextField,\r\n\tPaper,\r\n\tTab,\r\n\tTabs,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tRadioGroup,\r\n\tRadio,\r\n\tTypography,\r\n\tCheckbox,\r\n} from '@material-ui/core'\r\nimport {\r\n\tPublicSharp as LocationIcon,\r\n\tLocalOfferSharp as CategoryIcon,\r\n\tWebAssetSharp as PublisherIcon,\r\n\tMoreHorizSharp as AdvIcon,\r\n\tErrorSharp as ErrIcon,\r\n\tWebSharp as BrowserIcon,\r\n\tComputerSharp as OsIcon,\r\n\tDevicesOtherSharp as DevicesIcon,\r\n} from '@material-ui/icons'\r\nimport Autocomplete from 'components/common/autocomplete'\r\n\r\nimport { t, selectAudienceInputsDataByItem } from 'selectors'\r\nimport { execute, updateTargetRuleInput } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n\tdisabled: {\r\n\t\topacity: 0.5,\r\n\t},\r\n\tin: {\r\n\t\tcolor: theme.palette.success.main,\r\n\t},\r\n\tnin: {\r\n\t\tcolor: theme.palette.error.main,\r\n\t},\r\n}))\r\n\r\nconst parameterIcon = {\r\n\tlocation: <LocationIcon />,\r\n\tcategories: <CategoryIcon />,\r\n\tpublishers: <PublisherIcon />,\r\n\tos: <OsIcon />,\r\n\tbrowsers: <BrowserIcon />,\r\n\tdevices: <DevicesIcon />,\r\n\tadvanced: <AdvIcon />,\r\n}\r\n\r\nconst getApply = (applyType, currentApply = [], actionType) =>\r\n\tapplyType === 'single'\r\n\t\t? actionType\r\n\t\t: [...currentApply, actionType].filter((t, i, all) => all.indexOf(t) === i)\r\n\r\nconst Sources = ({\r\n\tid,\r\n\tsource = [],\r\n\tcollection,\r\n\tplaceholder,\r\n\tlabel,\r\n\tindex,\r\n\ttarget = {},\r\n\tparameter,\r\n\titemId,\r\n\titemType,\r\n\tactionType,\r\n\tapplyType,\r\n\tdisabled,\r\n\tdisabledSrcValues,\r\n}) => {\r\n\tconst apply = getApply(applyType, target.apply, actionType)\r\n\r\n\treturn source.length ? (\r\n\t\t<Autocomplete\r\n\t\t\tmultiple\r\n\t\t\tid={id}\r\n\t\t\tfullWidth\r\n\t\t\tdirection='auto'\r\n\t\t\topenOnClick\r\n\t\t\trequired={true}\r\n\t\t\tdisabled={disabled}\r\n\t\t\thideSelectedOnDisable\r\n\t\t\tdisabledSrcValues={disabledSrcValues}\r\n\t\t\tdisableCloseOnSelect\r\n\t\t\t// error={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t// errorText={\r\n\t\t\t// \tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t// \t\t? invalidFields[id].errMsg\r\n\t\t\t// \t\t: null\r\n\t\t\t// }\r\n\t\t\tonChange={value => {\r\n\t\t\t\texecute(\r\n\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\t...target,\r\n\t\t\t\t\t\t\t...{ [actionType]: value, apply },\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}}\r\n\t\t\tlabel={label}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\tsource={source}\r\n\t\t\tvalue={target[actionType] || []}\r\n\t\t\tvariant='outlined'\r\n\t\t/>\r\n\t) : (\r\n\t\t<TextField\r\n\t\t\tfullWidth\r\n\t\t\tvariant='outlined'\r\n\t\t\ttype='text'\r\n\t\t\trequired\r\n\t\t\tdisabled={disabled}\r\n\t\t\tname='name'\r\n\t\t\tvalue={target.value}\r\n\t\t\tlabel={label}\r\n\t\t\tonChange={ev =>\r\n\t\t\t\texecute(\r\n\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\ttarget: { ...target, ...{ [actionType]: ev.target.value, apply } },\r\n\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tmaxLength={120}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst getMultipleActionsUsedValues = ({ actions, currentAction, target }) => {\r\n\tconst currentSelectedValues = actions\r\n\t\t.filter(a => a.type !== currentAction.type)\r\n\t\t.reduce((all, a) => {\r\n\t\t\treturn [\r\n\t\t\t\t...all,\r\n\t\t\t\t...(target[a.type] || []),\r\n\t\t\t\t...(currentAction.disabledValues || []),\r\n\t\t\t]\r\n\t\t}, [])\r\n\t\t.filter((x, i, all) => all.indexOf(x) === i)\r\n\r\n\treturn currentSelectedValues\r\n}\r\n\r\nconst Targets = ({\r\n\tinputs,\r\n\tsource = {},\r\n\textraInfo = null,\r\n\tmessage = null,\r\n\tcollection,\r\n\tplaceholder,\r\n\tlabel,\r\n\tindex,\r\n\ttarget = {},\r\n\tparameter,\r\n\t// classes,\r\n\t// invalidFields,\r\n\tactions,\r\n\tapplyType,\r\n\titemId,\r\n\titemType,\r\n\tdisabledValues,\r\n\tSOURCES,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst id = `target-${index}`\r\n\tconst applyValue = target.apply || actions[0].type\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\tflexGrow='1'\r\n\t\t>\r\n\t\t\t<Box>\r\n\t\t\t\t{message && (\r\n\t\t\t\t\t<Box pb={2}>\r\n\t\t\t\t\t\t<Alert severity='info'>{message}</Alert>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t{applyType === 'single' && (\r\n\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\taria-label={parameter}\r\n\t\t\t\t\t\t\tname={parameter}\r\n\t\t\t\t\t\t\tvalue={applyValue}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\t\t\t\t\ttarget: { ...target, apply: ev.target.value },\r\n\t\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{actions.map(a => (\r\n\t\t\t\t\t\t\t\t<Box key={parameter + a.type}>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t<Radio\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue={a.type}\r\n\t\t\t\t\t\t\t\t\t\tlabel={a.label}\r\n\t\t\t\t\t\t\t\t\t\tclassName={clsx({\r\n\t\t\t\t\t\t\t\t\t\t\t[classes.disabled]: a.type !== applyValue,\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t{!!a.value ? (\r\n\t\t\t\t\t\t\t\t\t\ta.value\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Sources\r\n\t\t\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\t\t\tsource={source[a.type]}\r\n\t\t\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={a.type !== applyValue}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\t\t\tparameter={parameter}\r\n\t\t\t\t\t\t\t\t\t\t\titemId={itemId}\r\n\t\t\t\t\t\t\t\t\t\t\tactionType={a.type}\r\n\t\t\t\t\t\t\t\t\t\t\tapplyType={applyType}\r\n\t\t\t\t\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabledSrcValues={disabledValues[a.type]}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{applyType === 'multiple' &&\r\n\t\t\t\t\t\tactions.map(a => (\r\n\t\t\t\t\t\t\t<Box key={parameter + a.type}>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tclassName={clsx({\r\n\t\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\r\n\t\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{a.label}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t{!!a.value ? (\r\n\t\t\t\t\t\t\t\t\ta.value\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Sources\r\n\t\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\t\tsource={source[a.type]}\r\n\t\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\t\tparameter={parameter}\r\n\t\t\t\t\t\t\t\t\t\titemId={itemId}\r\n\t\t\t\t\t\t\t\t\t\tactionType={a.type}\r\n\t\t\t\t\t\t\t\t\t\tapplyType={applyType}\r\n\t\t\t\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\t\t\t\tdisabledSrcValues={getMultipleActionsUsedValues({\r\n\t\t\t\t\t\t\t\t\t\t\tactions,\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentAction: a,\r\n\t\t\t\t\t\t\t\t\t\t\ttarget,\r\n\t\t\t\t\t\t\t\t\t\t}).concat(disabledValues[a.type] || [])}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t{applyType === 'multiple-checkbox' &&\r\n\t\t\t\t\t\tactions.map(a => (\r\n\t\t\t\t\t\t\t<Box key={parameter + a.value}>\r\n\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!target[a.value]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={a.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateTargetRuleInput({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparameter,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...target,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[a.value]: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlabel={a.label}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{a.helper}</FormHelperText>\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box>{extraInfo}</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nconst NewTargetingRules = ({ itemType, itemId, validateId, advancedOnly }) => {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst classes = useStyles()\r\n\r\n\tconst { SOURCES, inputs, errorParameters } = useSelector(state =>\r\n\t\tselectAudienceInputsDataByItem(\r\n\t\t\tstate,\r\n\t\t\titemType,\r\n\t\t\titemId,\r\n\t\t\tvalidateId,\r\n\t\t\tadvancedOnly\r\n\t\t)\r\n\t)\r\n\r\n\tconst {\r\n\t\tparameter,\r\n\t\tsource,\r\n\t\tactions,\r\n\t\tapplyType,\r\n\t\tdisabledValues,\r\n\t\textraInfo,\r\n\t\tmessage,\r\n\t} = SOURCES[tabIndex] || {}\r\n\r\n\treturn (\r\n\t\t<Box display='flex' flexDirection='column' width={1} height={1}>\r\n\t\t\t{!advancedOnly && (\r\n\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t<Paper position='static' variant='outlined'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{SOURCES.map(({ parameter }, index) => (\r\n\t\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\t\tkey={parameter}\r\n\t\t\t\t\t\t\t\t\tlabel={parameter}\r\n\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\terrorParameters[parameter] ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<ErrIcon color='error' />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tparameterIcon[parameter]\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box display='flex' height={1}>\r\n\t\t\t\t<Targets\r\n\t\t\t\t\tinputs={inputs}\r\n\t\t\t\t\ttarget={inputs[parameter]}\r\n\t\t\t\t\tkey={parameter}\r\n\t\t\t\t\tparameter={parameter}\r\n\t\t\t\t\tmessage={message}\r\n\t\t\t\t\tlabel={t(parameter)}\r\n\t\t\t\t\tplaceholder={t(parameter)}\r\n\t\t\t\t\tsource={source || {}}\r\n\t\t\t\t\textraInfo={extraInfo}\r\n\t\t\t\t\tdisabledValues={disabledValues || {}}\r\n\t\t\t\t\tSOURCES={SOURCES}\r\n\t\t\t\t\tactions={actions}\r\n\t\t\t\t\tapplyType={applyType}\r\n\t\t\t\t\titemId={itemId}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\tclasses={classes}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nNewTargetingRules.propTypes = {\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nexport default NewTargetingRules\r\n","import React, { Fragment } from 'react'\r\nimport {\r\n\tBox,\r\n\tTooltip,\r\n\tList,\r\n\tListItemText,\r\n\tListItemIcon,\r\n\tListItem,\r\n\tIconButton,\r\n\tButton,\r\n\tChip,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { Alert } from '@material-ui/lab'\r\nimport {\r\n\tLooksOneSharp,\r\n\tLooksTwoSharp,\r\n\tLooks3Sharp,\r\n\tRefreshSharp,\r\n\tInfoSharp,\r\n\tFileCopySharp,\r\n} from '@material-ui/icons'\r\nimport { useSelector } from 'react-redux'\r\nimport { timeAgo } from 'helpers/analyticsTimeHelpers'\r\nimport { selectWebsiteByWebsite, t, selectAccountIdentityAddr } from 'selectors'\r\nimport { execute, updateWebsiteVerification, addToast } from 'actions'\r\nimport copy from 'copy-to-clipboard'\r\n\r\nconst UPDATE_AGAIN_AFTER = 2 * 60 * 60 * 1000 // 2 h\r\n\r\nexport const getIssue = issue => {\r\n\tconst data = {\r\n\t\tlabel: issue,\r\n\t\targs: [],\r\n\t}\r\n\tswitch (issue) {\r\n\t\tcase 'SLOT_ISSUE_BLACKLISTED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'break',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref: 'https://www.adex.network/tos/',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\t\tcase 'SLOT_ISSUE_INTEGRATION_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\t\tcase 'SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\r\n\t\tdefault:\r\n\t\t\treturn data\r\n\t}\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmessage: {\r\n\t\tdisplay: 'block',\r\n\t},\r\n\tissueChip: {\r\n\t\tmarginRight: theme.spacing(0.5),\r\n\t\tmarginTop: theme.spacing(0.5),\r\n\t\tmarginBottom: theme.spacing(0.5),\r\n\t},\r\n\tcopyBtn: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nexport function RenderIssue({ label, args }) {\r\n\treturn args.some(a => a.type === 'anchor' || a.type === 'break') ? (\r\n\t\tt(label, {\r\n\t\t\targs: args.map((a, index) => {\r\n\t\t\t\tswitch (a.type) {\r\n\t\t\t\t\tcase 'anchor':\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ExternalAnchor key={index} href={a.href}>\r\n\t\t\t\t\t\t\t\t{` ${t(a.label)}`}\r\n\t\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\tcase 'break':\r\n\t\t\t\t\t\treturn <br />\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn t(a)\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t})\r\n\t) : (\r\n\t\t<div\r\n\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t__html: t(label, { args }),\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const ALL_ISSUES = {\r\n\tSLOT_ISSUE_BLACKLISTED: { icon: LooksOneSharp, shortLabel: t('BLACKLISTED') },\r\n\tSLOT_ISSUE_OWNERSHIP_NOT_VERIFIED: {\r\n\t\ticon: LooksTwoSharp,\r\n\t\tshortLabel: t('NOT_VERIFIED'),\r\n\t},\r\n\tSLOT_ISSUE_SOMEONE_ELSE_VERIFIED: {\r\n\t\ticon: Looks3Sharp,\r\n\t\tshortLabel: t('VERIFIED_BY_SOMEONE_ELSE'),\r\n\t},\r\n}\r\n\r\nexport const WebsiteVerifyBtn = ({ id, website, issues, updated }) => {\r\n\tconst lastUpdated = updated ? Date.now() - new Date(updated).valueOf() : null\r\n\tconst canUpdate = !updated || lastUpdated > UPDATE_AGAIN_AFTER\r\n\treturn (\r\n\t\t!!issues.length && (\r\n\t\t\t<Box my={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdisabled={!canUpdate}\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tstartIcon={<RefreshSharp />}\r\n\t\t\t\t\tonClick={() => execute(updateWebsiteVerification({ id, website }))}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('TRY_VERIFY')}\r\n\t\t\t\t</Button>\r\n\t\t\t\t{!canUpdate && (\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\talign='right'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('VERIFICATION_UPDATED_AGO', {\r\n\t\t\t\t\t\t\targs: [timeAgo(new Date(updated).valueOf())],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n\r\nexport function WebsiteIssues({ issues, website, asKeyWords, tryAgainBtn }) {\r\n\tconst classes = useStyles()\r\n\tconst site = useSelector(state => selectWebsiteByWebsite(state, website))\r\n\tconst defaultIssues = !website ? ['SLOT_ISSUE_NO_WEBSITE'] : []\r\n\tconst data = issues || site.issues || defaultIssues\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{!!data.length ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{site.id && tryAgainBtn && <WebsiteVerifyBtn {...site} />}\r\n\t\t\t\t\t{data.map((id, index) => {\r\n\t\t\t\t\t\tconst { label, args } = getIssue(id)\r\n\t\t\t\t\t\treturn !!asKeyWords ? (\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\tinteractive\r\n\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\ttitle={<RenderIssue label={label} args={args} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={ALL_ISSUES[label].shortLabel}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.issueChip}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Box key={id} my={index !== 0 && index < data.length ? 1 : 0}>\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tseverity='warning'\r\n\t\t\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\t\t\tclasses={{ message: classes.message }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<RenderIssue label={label} args={args} />\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : !!asKeyWords ? (\r\n\t\t\t\t<Typography component='div' variant='caption' color='secondary'>\r\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\r\n\t\t\t\t</Typography>\r\n\t\t\t) : (\r\n\t\t\t\t<Alert severity='success' variant='filled' classes={classes}>\r\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function WebsiteIssuesLegend() {\r\n\treturn (\r\n\t\t<List dense disablePadding>\r\n\t\t\t<ListItem>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t<InfoSharp />\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<ListItemText primary={t('NEW_WEBSITE_CREATE_FROM_SLOT_INFO')} />\r\n\t\t\t</ListItem>\r\n\t\t\t<ListItem>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t<InfoSharp />\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={t('VERIFICATION_INFO_TEXT', {\r\n\t\t\t\t\t\targs: [24, 'HOURS', 2, 'HOURS'],\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t</List>\r\n\t)\r\n}\r\n\r\nexport function WebsiteDSNRecord({ website }) {\r\n\tconst classes = useStyles()\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst dnsRecord = `adex-publisher=${identityAddr}`\r\n\r\n\treturn (\r\n\t\t<Box display='flex' flexDirection='column' height={1} width={1}>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Typography className={classes.subtitle} component='div' gutterBottom>\r\n\t\t\t\t\t{t('DNS_RECORD_INFO', { args: [website] })}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tcomponent='div'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t\twidth={1}\r\n\t\t\t\tmb={1}\r\n\t\t\t>\r\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t<pre>{dnsRecord}</pre>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classes.copyBtn}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(dnsRecord)\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FileCopySharp />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Typography className={classes.subtitle} component='div' gutterBottom>\r\n\t\t\t\t\t{t('WEBSITE_DNS_RECORD_MORE_INFO', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\tkey={1}\r\n\t\t\t\t\t\t\t\thref='https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{` ${t('THIS_TUTORIAL')}`}\r\n\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tTypography,\r\n\tGrid,\r\n\tBox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tChip,\r\n} from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { IabCategories } from 'adex-models'\r\nimport Media from 'components/common/media'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tWebsiteIssues,\r\n\tWebsiteDSNRecord,\r\n\tALL_ISSUES,\r\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { styles } from '../styles'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectAccountIdentityAddr,\r\n\tselectDemandAnalyticsByType,\r\n} from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst SlotFallback = ({ img, targetUrl }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Media\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst AdSlotPreview = () => {\r\n\tconst {\r\n\t\ttype,\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\twebsite,\r\n\t\ttemp,\r\n\t\ttargetUrl,\r\n\t\trules,\r\n\t\trulesInput,\r\n\t\tminPerImpression,\r\n\t} = useSelector(selectNewAdSlot)\r\n\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst typeDemand = useSelector(state =>\r\n\t\tselectDemandAnalyticsByType(state, type)\r\n\t)\r\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\r\n\tconst { categories = [], suggestedMinCPM, hostname, issues } = temp\r\n\r\n\tconst hasIssues = hostname && issues && issues.length\r\n\tconst showDnsRecord =\r\n\t\thasIssues &&\r\n\t\tissues.some(i => i === ALL_ISSUES.SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('SLOT_MIN_CPM', { args: [symbol] })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\tautoSetMinCPM\r\n\t\t\t\t\t\t\t\t\t? t('SLOT_AUTO_MIN_CPM_PREVIEW_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedMinCPM, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_MIN_CPM_PREVIEW_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [minPerImpression, symbol],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('SLOT_ALLOW_ADULT_CONTENT')}\r\n\t\t\t\t\t\t\tright={allowAdultContent ? t('YES') : t('NO')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('WEBSITE_CATEGORIES')}\r\n\t\t\t\t\t\t\tright={categories.map(cat => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={cat}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={t(\r\n\t\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{(!typeDemand || !typeDemand.raw) && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('DEMAND_WARNINGS')}\r\n\t\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t\t{t('SLOT_NO_CURRENT_DEMAND', { args: [type] })}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{showDnsRecord && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_DNS_RECORD_LABEL')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteDSNRecord website={website} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{hasIssues && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_ISSUES')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteIssues issues={issues} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t{temp.useFallback ? (\r\n\t\t\t\t\t\t\t<SlotFallback img={temp} targetUrl={targetUrl} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<PropRow left={t('FALLBACK_DATA')} right={t('NO')} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\r\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\r\n\t\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AdSlotPreview\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, TextField } from '@material-ui/core'\r\nimport { t, selectValidationsById, selectNewWebsite } from 'selectors'\r\nimport { updateNewWebsite, execute } from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst newItem = useSelector(selectNewWebsite)\r\n\r\n\tconst { website = '' } = newItem\r\n\r\n\tconst { website: errWebsite } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tvalue={website}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('WEBSITE_LABEL')}\r\n\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty\r\n\t\t\t\t\t\t\t\t? errWebsite.errMsg\r\n\t\t\t\t\t\t\t\t: t('NEW_WEBSITE_HELPER_TEXT')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewWebsite('website', (ev.target.value || '').trim())\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Grid, Chip } from '@material-ui/core'\r\nimport { IabCategories } from 'adex-models'\r\n\r\nimport {\r\n\tWebsiteIssues,\r\n\tALL_ISSUES,\r\n\tWebsiteDSNRecord,\r\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { t, selectNewWebsite } from 'selectors'\r\n\r\nconst WebsitePreview = () => {\r\n\tconst { website, temp = {} } = useSelector(selectNewWebsite)\r\n\r\n\tconst { categories = [], hostname, issues } = temp\r\n\tconst hasIssues = hostname && issues && issues.length\r\n\tconst showDnsRecord =\r\n\t\thasIssues &&\r\n\t\tissues.some(i => i === ALL_ISSUES.SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('WEBSITE_CATEGORIES')}\r\n\t\t\t\t\t\t\tright={categories.map(cat => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={cat}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={t(\r\n\t\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t{showDnsRecord && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_DNS_RECORD_LABEL')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteDSNRecord website={website} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{hasIssues && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_ISSUES')}\r\n\t\t\t\t\t\t\t\tright={<WebsiteIssues issues={issues} />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default WebsitePreview\r\n","import React from 'react'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign, Audience } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AudienceBasic from './Audience/AudienceBasic'\r\nimport NewAudiencePreview from './Audience/NewAudiencePreview'\r\nimport NewTargetingRules from './NewTargetingRules'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport WebsiteBasic from './Website/WebsiteBasic'\r\nimport WebsitePreview from './Website/WebsitePreview'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateNewUnitBasics,\r\n\tvalidateNewCampaignFinance,\r\n\tvalidateNewCampaignAdUnits,\r\n\tvalidateNewSlotBasics,\r\n\tvalidateNewSlotPassback,\r\n\tvalidateNewUnitMedia,\r\n\tvalidateCampaignAudienceInput,\r\n\tvalidateAudienceBasics,\r\n\tvalidateAudienceInput,\r\n\tvalidateAndSaveNewWebsiteBasics,\r\n\tcompleteItem,\r\n\tresetNewItem,\r\n\tsaveUnit,\r\n\tsaveSlot,\r\n\tsaveAudience,\r\n\topenCampaign,\r\n\tresetTableStateById,\r\n} from 'actions'\r\n\r\nimport { NEW_CAMPAIGN_UNITS } from 'constants/tables'\r\n\r\nexport const CampaignTargetingRules = props => (\r\n\t<NewTargetingRules {...props} itemType='Campaign' />\r\n)\r\n\r\nexport const AudienceRules = props => (\r\n\t<NewTargetingRules {...props} itemType='Audience' />\r\n)\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('AdUnit'))}\r\n\t\tvalidateIdBase='new-AdUnit-'\r\n\t\titemType='AdUnit'\r\n\t\tstepsId='new-adunit-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_BASIC_STEP',\r\n\t\t\t\tcomponent: AdUnitBasic,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitBasics(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'UNIT_MEDIA_STEP',\r\n\t\t\t\tcomponent: AdUnitMedia,\r\n\t\t\t\tvalidationFn: props => execute(validateNewUnitMedia(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: AdUnitFormPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\tcompeteAction: saveUnit,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon color='primary' />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => {\r\n\t\t\texecute(resetNewItem('Campaign'))\r\n\t\t\texecute(resetTableStateById(NEW_CAMPAIGN_UNITS))\r\n\t\t}}\r\n\t\tvalidateIdBase='new-Campaign-'\r\n\t\titemType='Campaign'\r\n\t\tstepsId='new-campaign-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\r\n\t\t\t\tcomponent: CampaignUnits,\r\n\t\t\t\tvalidationFn: props => execute(validateNewCampaignAdUnits(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_AUDIENCE_STEP',\r\n\t\t\t\tcomponent: CampaignTargetingRules,\r\n\t\t\t\tvalidationFn: props => execute(validateCampaignAudienceInput(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\r\n\t\t\t\tcomponent: CampaignFinance,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignFinance({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'OPEN_CAMPAIGN',\r\n\t\t\t\tcomponent: CampaignFormPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t\t\t\tcompeteAction: openCampaign,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t\t{...props}\r\n\t/>\r\n)\r\n\r\nexport const NewCampaignFromAudience = props => (\r\n\t<NewCampaignStepsWithDialog {...props} title='NEW_CAMPAIGN_FROM_AUDIENCE' />\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('AdSlot'))}\r\n\t\tvalidateIdBase='new-AdUnit-'\r\n\t\titemType='AdSlot'\r\n\t\tstepsId='new-slot-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\r\n\t\t\t\tcomponent: AdSlotBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewSlotBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\r\n\t\t\t\tcomponent: AdSlotMedia,\r\n\t\t\t\tvalidationFn: props => execute(validateNewSlotPassback(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: AdSlotPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'AdSlot',\r\n\t\t\t\t\t\t\tcompeteAction: saveSlot,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n\r\n// Audience\r\n\r\nexport const AudienceSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('Audience'))}\r\n\t\tvalidateIdBase='new-Audience-'\r\n\t\titemType='Audience'\r\n\t\tstepsId='new-audience-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'AUDIENCE_BASIC_STEP',\r\n\t\t\t\tcomponent: AudienceBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateAudienceBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t...(props.skipRules\r\n\t\t\t\t? []\r\n\t\t\t\t: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: 'AUDIENCE_STEP',\r\n\t\t\t\t\t\t\tcomponent: AudienceRules,\r\n\t\t\t\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateAudienceInput({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  ]),\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\t\tcompleteBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: NewAudiencePreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Audience',\r\n\t\t\t\t\t\t\tcompeteAction: saveAudience,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Audience}\r\n\t/>\r\n)\r\n\r\nexport const NewAudienceWithDialog = WithDialog(AudienceSteps)\r\n\r\nexport const NewAudienceDialog = props => (\r\n\t<NewAudienceWithDialog\r\n\t\tbtnLabel='NEW_AUDIENCE'\r\n\t\ttitle='CREATE_NEW_AUDIENCE'\r\n\t\t{...props}\r\n\t/>\r\n)\r\n\r\n// Website\r\n\r\nexport const WebsiteSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tcancelFunction={() => execute(resetNewItem('Website'))}\r\n\t\tvalidateIdBase='new-Website-'\r\n\t\titemType='Website'\r\n\t\tstepsId='new-website-'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'WEBSITE_BASIC_STEP',\r\n\t\t\t\tnextBtnTitle: 'SAVE',\r\n\t\t\t\tcomponent: WebsiteBasic,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateAndSaveNewWebsiteBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'WEBSITE_INFO_AND_PREVIEW_STEP',\r\n\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\tcomponent: WebsitePreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteItem({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\titemType: 'Website',\r\n\t\t\t\t\t\t\t// Just to close the dialog\r\n\t\t\t\t\t\t\tcompeteAction: null,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\titemModel={Audience}\r\n\t/>\r\n)\r\n\r\nexport const NewWebsiteWithDialog = WithDialog(WebsiteSteps)\r\n\r\nexport const NewWebsiteDialog = props => (\r\n\t<NewWebsiteWithDialog\r\n\t\tbtnLabel='NEW_WEBSITE'\r\n\t\ttitle='CREATE_NEW_WEBSITE'\r\n\t\t{...props}\r\n\t/>\r\n)\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { Tooltip, IconButton, Box } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport { utils } from 'ethers'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport Media from 'components/common/media'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsTableData,\r\n\tselectAdUnitsStatsMaxValues,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRIMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ noActions, noClone, maxImpressions, maxClicks, maxCTR }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ selectOnImage, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\tconst ImgComponent = selectOnImage ? Media : RRIMedia\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImgComponent\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t{...(!selectOnImage ? { to } : {})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${Number(ctr).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, Number(maxCTR.toFixed(2))],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignId,\r\n\t\thandleSelect,\r\n\t\t// selected,\r\n\t\titems,\r\n\t} = props\r\n\r\n\tconst selector = selectAdUnitsTableData\r\n\r\n\tconst { maxClicks, maxImpressions, maxCTR } = useSelector(state =>\r\n\t\tselectAdUnitsStatsMaxValues(state, { campaignId, items })\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxCTR,\r\n\t\t\t}),\r\n\t\t[maxCTR, maxClicks, maxImpressions, noActions, noClone]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector,\r\n\t\tselectorArgs,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tif (campaignId) {\r\n\t\t\tsetSelectorArgs({ campaignId })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (items) {\r\n\t\t\tsetSelectorArgs({ campaignId, items })\r\n\t\t}\r\n\t}, [campaignId, items])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\t{...props}\r\n\t\t\ttitle={campaignId ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\thandleRowSelectionChange={handleSelect}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport { Box, IconButton, Tooltip } from '@material-ui/core'\r\nimport { utils } from 'ethers'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Media from 'components/common/media'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport {\r\n\tt,\r\n\tselectAdSlotsTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRMedia\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: title => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\taria-label='view'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdSlot'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tselectableRows: 'none',\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t\t[symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport { Tooltip, IconButton, Typography, Box } from '@material-ui/core'\r\nimport { VisibilitySharp as Visibility } from '@material-ui/icons'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tt,\r\n\tselectAudiencesTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport { useSelector } from 'react-redux'\r\nimport { useTableData } from './tableHooks'\r\nimport { execute, updateNewCampaign } from 'actions'\r\nimport { formatDate } from 'helpers/formatters'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRTypography = withReactRouterLink(Typography)\r\n\r\nconst getCols = () => [\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellProps: () => ({ style: { cursor: 'pointer' } }),\r\n\t\t\tcustomBodyRender: ({ title, to }) => (\r\n\t\t\t\t<RRTypography key={title} to={to}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</RRTypography>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'updated',\r\n\t\tlabel: t('PROP_UPDATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created, undefined, t('-')),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellHeaderProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tsetCellProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tcustomBodyRender: ({ id, audienceInput, to, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip arrow title={t('LABEL_VIEW')} aria-label='view'>\r\n\t\t\t\t\t\t<RRIconButton to={to} aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_NEW_CAMPAIGN_FROM_AUDIENCE')}\r\n\t\t\t\t\t\taria-label='new-campaign'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ticon={<CampaignIcon color='secondary' />}\r\n\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='Audience'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'created',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tselectableRows: 'none',\r\n})\r\n\r\nfunction AudiencesTable(props) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t\t[symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectAudiencesTableData,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('SAVED_AUDIENCES')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AudiencesTable\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={420}\r\n\t\t\theight={420}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Grid, Button, CircularProgress, Box, Tooltip } from '@material-ui/core'\r\nimport { BlockSharp, CheckSharp } from '@material-ui/icons'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas, toFixedFloat } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { execute, excludeOrIncludeWebsites, confirmAction } from 'actions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'isBlacklisted',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\t// NOTE: hidden - used for selected items\r\n\t\tname: 'website',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (key, tableMeta) => {\r\n\t\t\t\treturn tableMeta.rowData[0] ? (\r\n\t\t\t\t\t<Tooltip arrow key={key} title={t('WEBSITE_IS_EXCLUDED')}>\r\n\t\t\t\t\t\t<Box color='error.main'>{key}</Box>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Box>{key}</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas((earnings || 0).toFixed(2))} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, toFixedFloat(maxEarnings, 2)],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'averageCPM',\r\n\t\tlabel: t('LABEL_AVERAGE_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tcustomBodyRender: averageCPM =>\r\n\t\t\t\t`${formatNumberWithCommas((averageCPM || 0).toFixed(2))} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, toFixedFloat(maxCTR, 4)],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst IncludeOrExcludeWebsitesBtn = ({\r\n\taction,\r\n\texclude,\r\n\thostnames = [],\r\n\tcampaignId,\r\n\ticon,\r\n\tcolor,\r\n\tonSuccess,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `${action}-campaign-${campaignId}`)\r\n\t)\r\n\treturn (\r\n\t\t<div className={classes.wrapper}>\r\n\t\t\t<Button\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor={color}\r\n\t\t\t\tsize='medium'\r\n\t\t\t\tfullWidth\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\texcludeOrIncludeWebsites({\r\n\t\t\t\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t\t\t\t\t\thostnames,\r\n\t\t\t\t\t\t\t\t\t\texclude,\r\n\t\t\t\t\t\t\t\t\t\taction,\r\n\t\t\t\t\t\t\t\t\t\tonSuccess,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconfirmLabel: t(`${action}_WEBSITES_ACTION_LABEL`),\r\n\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\ttitle: t(`${action}_WEBSITES_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttext: t(`${action}_WEBSITES_CONFIRM_INFO`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\tendIcon={icon}\r\n\t\t\t>\r\n\t\t\t\t{t(`BTN_${action}_WEBSITES`)}\r\n\t\t\t</Button>\r\n\t\t\t{spinner && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst WebsitesActions = ({ campaignId, hostnames = [], onSuccess }) => {\r\n\treturn (\r\n\t\t<Grid container spacing={1} alignItems='center'>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\taction='EXCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\texclude={true}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<BlockSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\taction='INCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<CheckSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst getOptions = ({ campaignId }) => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'impressions',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tselectableRows: 'none',\r\n\trowsPerPage: 25,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst hostnames = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[1])\r\n\r\n\t\tconst actionData = {\r\n\t\t\tcampaignId,\r\n\t\t\thostnames,\r\n\t\t\tonSuccess: () => {\r\n\t\t\t\tsetSelectedRows([])\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\treturn <WebsitesActions {...actionData} />\r\n\t},\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({\r\n\tcampaignId,\r\n\tisActive,\r\n\tcanSendMsgs,\r\n\ttableId,\r\n}) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst {\r\n\t\tmaxClicks,\r\n\t\tmaxImpressions,\r\n\t\tmaxEarnings,\r\n\t\tmaxCTR,\r\n\t} = useSelector(state => selectCampaignStatsMaxValues(state, campaignId))\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() => getCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t\t[maxCTR, maxClicks, maxEarnings, maxImpressions, symbol]\r\n\t)\r\n\r\n\tconst allowActions = isActive && canSendMsgs\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions({ campaignId, isActive, canSendMsgs }))\r\n\t}, [campaignId, canSendMsgs, isActive])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttableId={tableId}\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable={allowActions}\r\n\t\t\ttoolbarEnabled\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'resources/adex-logo-txt-sm.svg'\r\nimport AdexIconTxtDark from 'resources/adex-logo-txt-dark-theme.svg'\r\nimport Media from 'components/common/media'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCompanyData,\r\n\tselectPublisherReceiptsStatsByMonthTableData,\r\n\tselectPublisherReceiptsStatsByMonthTotalValues,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatDate,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { BigNumber } from 'ethers'\r\nimport moment from 'moment'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function PublisherReceiptTpl({ date } = {}) {\r\n\tconst theme = useTheme()\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\tconst monthBreakdown = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTableData(state, date)\r\n\t)\r\n\r\n\tconst { totalPayouts, totalImpressions } = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTotalValues(state, date)\r\n\t)\r\n\tconst cpm = ((totalPayouts / totalImpressions) * 1000).toFixed(2)\r\n\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? AdexIconTxtDark : AdexIconTxt\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t//Unique receipt number made from identity address and the month of the receipt\r\n\t\t\t\t\t\t\tformatAddress(\r\n\t\t\t\t\t\t\t\t`${BigNumber.from(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.unix() * 1000\r\n\t\t\t\t\t\t\t\t).toHexString()}${identityAddr.substr(5)}`,\r\n\t\t\t\t\t\t\t\t'-'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Media src={AdxIcon} classNameImg={classes.icon} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t{formatDate(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD')\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_EARNED')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(totalImpressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_AVG_CPM')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${isFinite(cpm) ? cpm : Number(0).toFixed(2)}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t{monthBreakdown.length > 0 ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_DATE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{`${t('RECEIPT_EARNED')} (${symbol})`}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{monthBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => a.date - b.date)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatDateTime(stats.date, 'YYYY-MM-DD')}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.payouts.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tmt={2}\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\t\talignContent='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography>{t('NO_REVENUE_THIS_MONTH')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nPublisherReceiptTpl.propTypes = {\r\n\tdate: PropTypes.any.isRequired,\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404_1 from 'resources/404-no.png'\r\nimport IMG_404_2 from 'resources/404-yes.png'\r\nimport Media from 'components/common/media'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst G404 = ({ size }) => (\r\n\t<Grid item xs={size}>\r\n\t\t<Typography variant={`h${6 - size}`} style={{ textTransform: 'uppercase' }}>\r\n\t\t\t{t('404')}\r\n\t\t</Typography>\r\n\t</Grid>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst PageNotFound = ({\r\n\ttitle,\r\n\tsubtitle,\r\n\tgoToTxt,\r\n\tgoToPath,\r\n\tskipGoToButton,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<div className={classes.wrapper}>\r\n\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\r\n\t\t\t\t\t\t{t(title || '404')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<G404 size={3} />\r\n\t\t\t\t<G404 size={4} />\r\n\t\t\t\t<G404 size={2} />\r\n\t\t\t\t<G404 size={1} />\r\n\t\t\t\t<G404 size={5} />\r\n\t\t\t\t<G404 size={3} />\r\n\t\t\t\t<G404 size={2} />\r\n\r\n\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t<Media src={IMG_404_1} alt={'no'} className={classes.img} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t<Media src={IMG_404_2} alt={'yes'} className={classes.img} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default PageNotFound\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'resources/adex-logo-txt-sm.svg'\r\nimport AdexIconTxtDark from 'resources/adex-logo-txt-dark-theme.svg'\r\nimport Media from 'components/common/media'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { utils } from 'ethers'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function CampaignReceiptTpl({ campaignId } = {}) {\r\n\tconst theme = useTheme()\r\n\tconst classes = useStyles()\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst AdxIcon = theme.type === 'dark' ? AdexIconTxtDark : AdexIconTxt\r\n\tconst humanFriendlyName = (campaign.status || {}).humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!campaign.spec || !campaign.creator) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\targs: ['CAMPAIGN', campaignId],\r\n\t\t\t\t})}\r\n\t\t\t\tgoToPath={`/dashboard/advertiser`}\r\n\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Media src={AdxIcon} classNameImg={classes.icon} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_PAID')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\tutils.formatUnits(campaign.depositAmount || '0', decimals)\r\n\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${\r\n\t\t\t\t\t\t\tcampaign.status.fundsDistributedRatio && campaign.depositAmount\r\n\t\t\t\t\t\t\t\t? utils.commify(\r\n\t\t\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\t\t\tutils.formatUnits(campaign.depositAmount || '\t0', decimals)\r\n\t\t\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: Number(0).toFixed(2)\r\n\t\t\t\t\t\t} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${t('WEBSITE_EARNINGS')} (${symbol})`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talign='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.breakAll)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{stats.website}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nCampaignReceiptTpl.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Paper, Typography, TextField, Grid } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={1}>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom variant='h5'>\r\n\t\t\t\t\t\t\t\t{t('COMPANY_DETAIL_HEADING')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Button, Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport { Print, DateRangeSharp, GetApp } from '@material-ui/icons'\r\nimport { PublisherReceiptTpl } from './PublisherReceiptTpl'\r\nimport { CampaignReceiptTpl } from './CampaignReceiptTpl'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tt,\r\n\tselectSelectedCampaigns,\r\n\tselectSide,\r\n\tselectSpinnerById,\r\n\tselectAccountIdentityDeployData,\r\n\tselectReceiptMonths,\r\n} from 'selectors'\r\nimport { execute, resetSelectedItems, getReceiptData } from 'actions'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport { styles } from './styles'\r\nimport ReactGA from 'react-ga'\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst side = useSelector(selectSide)\r\n\t// Advertiser Receipt variables\r\n\tconst { itemId } = useParams()\r\n\tconst selectedCampaigns = useSelector(state => selectSelectedCampaigns(state))\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receiptsAdvertiser = selectedByPropsOrParams\r\n\t\t? [selectedByPropsOrParams]\r\n\t\t: selectedCampaigns\r\n\r\n\t// Publisher Receipt variables\r\n\tconst { created } = useSelector(selectAccountIdentityDeployData)\r\n\tconst [startDate, setStartDate] = useState('')\r\n\tconst [endDate, setEndDate] = useState('')\r\n\tconst [dirty, setDirty] = useState(false)\r\n\tconst dates = useSelector(() => selectReceiptMonths(startDate, endDate))\r\n\tconst validateStartDate =\r\n\t\tstartDate <= endDate && startDate !== '' && endDate !== ''\r\n\tconst validateEndDate =\r\n\t\tendDate >= startDate && startDate !== '' && endDate !== ''\r\n\tconst startDateError = !validateStartDate && dirty\r\n\tconst endDateError = !validateEndDate && dirty\r\n\tconst monthMappingStartPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), false)\r\n\t)\r\n\tconst monthMappingEndPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), true)\r\n\t)\r\n\r\n\tconst fetchingPublisherReceiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, FETCHING_PUBLISHER_RECEIPTS)\r\n\t)\r\n\r\n\t// Receipts\r\n\tconst [receipts, setReceipts] = useState(receiptsAdvertiser || [])\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\texecute(resetSelectedItems())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst getReceipts = () => {\r\n\t\tReactGA.event({\r\n\t\t\taction: 'publisher',\r\n\t\t\tcategory: 'get_receipts',\r\n\t\t\tlabel: 'receipts',\r\n\t\t})\r\n\t\tsetDirty(true)\r\n\t\tif (validateStartDate && validateEndDate) {\r\n\t\t\texecute(getReceiptData(startDate, endDate))\r\n\t\t\tsetReceipts(dates.map(item => item.value))\r\n\t\t}\r\n\t}\r\n\r\n\tif (side === 'advertiser' && receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\toverflow='hidden'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\tpageStyle={\r\n\t\t\t\t\t\t\t'@page { size: A4 portrait; marks: none; } @media print { body { -webkit-print-color-adjust: exact; } }'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' &&\r\n\t\t\t\t\t\t\t\t\t(receipts.length === 0 || fetchingPublisherReceiptsSpinner)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\talignItems='flex-start'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingStartPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetStartDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={startDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tstartDateError && startDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('START_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_START_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={startDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('START_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='startDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='start-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingEndPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetEndDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={endDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tendDateError && endDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('END_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_END_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={endDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('END_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='endDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='end-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstyle={{ minHeight: 54.63 }}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tstartIcon={<GetApp />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={() => getReceipts()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GET_RECEIPTS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{fetchingPublisherReceiptsSpinner && (\r\n\t\t\t\t\t\t\t<LinearProgress className={classes.progress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box mt={2} display='flex' alignItems='center' justifyContent='center'>\r\n\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t<Box ref={invoice}>\r\n\t\t\t\t\t\t\t\t\t{receipts.map(item =>\r\n\t\t\t\t\t\t\t\t\t\tside === 'advertiser' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<CampaignReceiptTpl campaignId={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tfetchingPublisherReceiptsSpinner === false && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PublisherReceiptTpl date={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { Receipt }\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { utils } from 'ethers'\r\nimport PropTypes from 'prop-types'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { Box } from '@material-ui/core'\r\nimport { t, selectMainToken } from 'selectors'\r\nimport { useTableData } from './tableHooks'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst getCols = ({ showEarnings, symbol }) => [\r\n\t{\r\n\t\tname: 'countryName',\r\n\t\tlabel: t('PROP_COUNTRY'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'percentImpressions',\r\n\t\tlabel: t('LABEL_PERC'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: percentImpressions =>\r\n\t\t\t\t`${percentImpressions.toFixed(2)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t...(showEarnings\r\n\t\t? [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'averageCPM',\r\n\t\t\t\t\tlabel: t('LABEL_AVERAGE_CPM'),\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tfilter: false,\r\n\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\tcustomBodyRender: averageCPM =>\r\n\t\t\t\t\t\t\t`${utils.commify(averageCPM.toFixed(2))} ${symbol}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'earnings',\r\n\t\t\t\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tfilter: false,\r\n\t\t\t\t\t\tsort: true,\r\n\t\t\t\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t\t\t\t`${utils.commify(earnings.toFixed(2))} ${symbol}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t  ]\r\n\t\t: []),\r\n]\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'impressions',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\trowsPerPage: 10,\r\n})\r\n\r\nfunction StatsByCountryTable(props) {\r\n\tconst { selector, selectorArgs, showEarnings } = props\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t\tshowEarnings,\r\n\t\t\t}),\r\n\t\t[showEarnings, symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector,\r\n\t\tselectorArgs,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<MUIDataTableEnhanced\r\n\t\t\t\t{...props}\r\n\t\t\t\tdata={data}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tnoSearch\r\n\t\t\t\tnoPrint\r\n\t\t\t\tnoViewColumns\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nStatsByCountryTable.propTypes = {\r\n\tselector: PropTypes.func.isRequired,\r\n\tshowEarnings: PropTypes.bool,\r\n}\r\n\r\nexport default StatsByCountryTable\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tZoomableGroup,\r\n\tComposableMap,\r\n\tGeographies,\r\n\tGeography,\r\n} from 'react-simple-maps'\r\nimport { Paper } from '@material-ui/core'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { ALEX_GREY } from 'components/App/themeMUi'\r\n\r\nconst MapChart = ({ selector, chartId }) => {\r\n\tconst { chartData, hoverColor, pressedColor } = useSelector(selector)\r\n\r\n\tconst [content, setContent] = useState('')\r\n\r\n\treturn (\r\n\t\t<Paper elevation={2} variant='outlined' square>\r\n\t\t\t<ComposableMap\r\n\t\t\t\tid={chartId}\r\n\t\t\t\tdata-tip='chart-map'\r\n\t\t\t\tprojection='geoMercator'\r\n\t\t\t\tprojectionConfig={{\r\n\t\t\t\t\tscale: 100,\r\n\t\t\t\t}}\r\n\t\t\t\twidth={666}\r\n\t\t\t\theight={420}\r\n\t\t\t>\r\n\t\t\t\t<ZoomableGroup maxZoom={3}>\r\n\t\t\t\t\t<Geographies geography={chartData}>\r\n\t\t\t\t\t\t{({ geographies = [] }) => {\r\n\t\t\t\t\t\t\treturn geographies.map(geo => {\r\n\t\t\t\t\t\t\t\tconst { tooltipElements, fillColor } = geo.properties\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Geography\r\n\t\t\t\t\t\t\t\t\t\tkey={geo.rsmKey}\r\n\t\t\t\t\t\t\t\t\t\tgeography={geo}\r\n\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent(tooltipElements)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent('')\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tfill={fillColor}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tstroke: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\thover: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill: hoverColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tpressed: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill: pressedColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t</Geographies>\r\n\t\t\t\t</ZoomableGroup>\r\n\t\t\t</ComposableMap>\r\n\t\t\t{/* TODO: use material-ui tooltip ot popover */}\r\n\t\t\t{!!content && (\r\n\t\t\t\t<ReactTooltip border={false} backgroundColor={ALEX_GREY}>\r\n\t\t\t\t\t{Array.isArray(content)\r\n\t\t\t\t\t\t? content.map((x, i) => <div key={i}>{x}</div>)\r\n\t\t\t\t\t\t: content}\r\n\t\t\t\t</ReactTooltip>\r\n\t\t\t)}\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default MapChart\r\n","import React from 'react'\r\nimport { InputAdornment, IconButton, TextField } from '@material-ui/core'\r\nimport { Edit, UndoOutlined } from '@material-ui/icons'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\texecute,\r\n\tresetNewItem,\r\n\tupdateCampaignAudienceInput,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport { t } from 'selectors'\r\nimport { Campaign, helpers } from 'adex-models'\r\nimport { BigNumber } from 'ethers'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nconst { bondPerActionToUserInputPerMileValue } = helpers\r\n\r\nconst TargetingSteps = ({\r\n\tupdateField,\r\n\tfieldName,\r\n\tstepTitle,\r\n\titemId,\r\n\t...props\r\n}) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('Campaign', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase={`update-campaign-${itemId}-`}\r\n\t\t\titemType='Campaign'\r\n\t\t\tstepsId={`update-campaign-${itemId}`}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: stepTitle || 'CAMPAIGN_AUDIENCE',\r\n\t\t\t\t\tcomponent: CampaignTargetingRules,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateCampaignAudienceInput({\r\n\t\t\t\t\t\t\t\tupdateField,\r\n\t\t\t\t\t\t\t\titemId,\r\n\t\t\t\t\t\t\t\tfieldName,\r\n\t\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={Campaign}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const TargetingRulesEdit = WithDialog(TargetingSteps)\r\n\r\nexport const EditCPM = ({\r\n\tprop,\r\n\tlabel,\r\n\tpricingBoundsCPMUserInput,\r\n\taction,\r\n\tactionValue,\r\n\tvaluePerAction,\r\n\tupdatedValue,\r\n\tdecimals,\r\n\tsymbol,\r\n\tvalidations,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n\tdirtyProps,\r\n\tvalidateId,\r\n\tcanSendMsgs,\r\n\tspecPricingBounds,\r\n}) => {\r\n\tconst err = validations[prop]\r\n\tconst active = !!activeFields[prop]\r\n\tconst showError = !!err && err.dirty\r\n\tconst isDirty = dirtyProps && dirtyProps.includes(prop)\r\n\r\n\tconst value = isDirty\r\n\t\t? updatedValue\r\n\t\t: pricingBoundsCPMUserInput &&\r\n\t\t  pricingBoundsCPMUserInput[action] &&\r\n\t\t  !!pricingBoundsCPMUserInput[action][actionValue]\r\n\t\t? pricingBoundsCPMUserInput[action][actionValue]\r\n\t\t: formatTokenAmount(\r\n\t\t\t\tBigNumber.from(valuePerAction || 0).mul(1000),\r\n\t\t\t\tdecimals,\r\n\t\t\t\ttrue\r\n\t\t  )\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tmargin='dense'\r\n\t\t\tfullWidth\r\n\t\t\tid={prop}\r\n\t\t\tlabel={t(label)}\r\n\t\t\ttype='text'\r\n\t\t\tname={prop}\r\n\t\t\tvalue={value + (active ? '' : ' ' + symbol)}\r\n\t\t\tonChange={ev => {\r\n\t\t\t\tconst value = (ev.target.value || '').trim()\r\n\t\t\t\tupdateField(prop, value)\r\n\t\t\t\texecute(\r\n\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\tprop,\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t}}\r\n\t\t\tdisabled={!active}\r\n\t\t\terror={showError}\r\n\t\t\thelperText={\r\n\t\t\t\tshowError\r\n\t\t\t\t\t? t(err.errMsg, { args: err.errMsgArgs })\r\n\t\t\t\t\t: active && specPricingBounds && specPricingBounds[action]\r\n\t\t\t\t\t? t(\r\n\t\t\t\t\t\t\t`BOUNDS_${actionValue.toUpperCase()}_EDIT`,\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\tbondPerActionToUserInputPerMileValue(\r\n\t\t\t\t\t\t\t\t\t\tspecPricingBounds[action][actionValue],\r\n\t\t\t\t\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: ''\r\n\t\t\t}\r\n\t\t\tvariant='outlined'\r\n\t\t\tInputProps={{\r\n\t\t\t\tendAdornment: canSendMsgs ? (\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState(prop)\r\n\t\t\t\t\t\t\t\t\t: setActiveFields(prop, true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t) : null,\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tInputAdornment,\r\n\tButton,\r\n\tDivider,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { StopSharp, PauseSharp, StarSharp } from '@material-ui/icons'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { BigNumber } from 'ethers'\r\nimport {\r\n\tItemTitle,\r\n\tMediaCard,\r\n\tItemSpecProp,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport {\r\n\tTargetingRulesEdit,\r\n\tEditCPM,\r\n} from 'components/dashboard/containers/Campaign/CampaignEdits'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectCampaignDisplayStatus,\r\n} from 'selectors'\r\nimport {\r\n\texecute,\r\n\tcloseCampaign,\r\n\tpauseOrResumeCampaign,\r\n\tconfirmAction,\r\n\tmapCurrentToNewCampaignAudienceInput,\r\n} from 'actions'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst getCloseCampaignsFees = ({\r\n\tdepositAmount,\r\n\tvalidators,\r\n\tfundsDistributedRatio,\r\n\tdecimals,\r\n}) => {\r\n\tconst deposit = BigNumber.from(depositAmount)\r\n\tconst totalFees = validators.reduce(\r\n\t\t(sum, { fee }) => sum.add(BigNumber.from(fee)),\r\n\t\tBigNumber.from(0)\r\n\t)\r\n\r\n\tconst feesPercent =\r\n\t\ttotalFees\r\n\t\t\t.mul(BigNumber.from(10000))\r\n\t\t\t.div(deposit)\r\n\t\t\t.toNumber() / 100\r\n\r\n\tconst nonDistributedFunds = deposit.sub(\r\n\t\tdeposit\r\n\t\t\t.mul(fundsDistributedRatio)\r\n\t\t\t.div(BigNumber.from(1000))\r\n\t\t\t.toString()\r\n\t)\r\n\r\n\tconst feesToPay = totalFees.sub(\r\n\t\ttotalFees\r\n\t\t\t.mul(fundsDistributedRatio)\r\n\t\t\t.div(BigNumber.from(1000))\r\n\t\t\t.toString()\r\n\t)\r\n\r\n\tconst percent = feesPercent.toFixed(2) + '%'\r\n\tconst toPay = formatTokenAmount(feesToPay, decimals, false, 2)\r\n\tconst nonDistributed = formatTokenAmount(\r\n\t\tnonDistributedFunds,\r\n\t\tdecimals,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\treturn { percent, toPay, nonDistributed }\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport const CampaignBasic = ({\r\n\titem,\r\n\titemPlain,\r\n\tcanSendMsgs,\r\n\tisActive,\r\n\t...hookProps\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst {\r\n\t\ttitle,\r\n\t\tadUnits = [],\r\n\t\tpricingBounds,\r\n\t\tpricingBoundsCPMUserInput,\r\n\t\tdepositAmount,\r\n\t\tvalidators,\r\n\t\tminPerImpression,\r\n\t\tmaxPerImpression,\r\n\t\taudienceInput,\r\n\t} = item\r\n\r\n\tconst { advanced = {} } = (audienceInput || {}).inputs || {}\r\n\tconst { decimals, symbol } = selectMainToken()\r\n\tconst { title: errTitle } = hookProps.validations\r\n\r\n\tconst { mediaUrl, mediaMime } = adUnits[0] || {}\r\n\tconst status = item.status || {}\r\n\tconst { fundsDistributedRatio } = status\r\n\tconst displayStatus = selectCampaignDisplayStatus(status)\r\n\tconst isPaused = ((item.targetingRules || [])[0] || {}).onlyShowIf === false\r\n\tconst pauseAction = isPaused ? 'RESUME' : 'PAUSE'\r\n\r\n\tconst campaignPricingBounds = pricingBounds || { IMPRESSION: {} }\r\n\tconst cpmMin = campaignPricingBounds.IMPRESSION.min || minPerImpression || 0\r\n\tconst cpmMax = campaignPricingBounds.IMPRESSION.max || maxPerImpression || 0\r\n\r\n\tconst closeSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `closing-campaign-${item.id}`)\r\n\t)\r\n\r\n\tconst pauseSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `pausing-campaign-${item.id}`)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t<Box my={1}>\r\n\t\t\t\t\t<MediaCard mediaUrl={mediaUrl} mediaMime={mediaMime} />\r\n\t\t\t\t</Box>\r\n\t\t\t\t{isActive && (\r\n\t\t\t\t\t<Grid container spacing={1} alignItems='center'>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\t\t\t\tpercent,\r\n\t\t\t\t\t\t\t\t\t\t\ttoPay,\r\n\t\t\t\t\t\t\t\t\t\t\tnonDistributed,\r\n\t\t\t\t\t\t\t\t\t\t} = getCloseCampaignsFees({\r\n\t\t\t\t\t\t\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\t\t\t\t\t\t\tvalidators,\r\n\t\t\t\t\t\t\t\t\t\t\tfundsDistributedRatio,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t\t\t\t\t\t() => execute(closeCampaign({ campaign: item })),\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CLOSE_CAMPAIGN_CONFIRM_LABEL'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t('CLOSE_CAMPAIGN_CONFIRM_TITLE', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t('CLOSE_CAMPAIGN_CONFIRM_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [percent, toPay, nonDistributed, symbol],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={closeSpinner || !canSendMsgs}\r\n\t\t\t\t\t\t\t\t\tendIcon={<StopSharp />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{closeSpinner && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\texecute(pauseOrResumeCampaign({ campaign: item })),\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${pauseAction}_CAMPAIGN_CONFIRM_LABEL`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t(`${pauseAction}_CAMPAIGN_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t(`${pauseAction}_CAMPAIGN_CONFIRM_INFO`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={pauseSpinner || !canSendMsgs}\r\n\t\t\t\t\t\t\t\t\tendIcon={isPaused ? <StarSharp /> : <PauseSharp />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t(`BTN_${pauseAction}_CAMPAIGN`)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{pauseSpinner && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\tprop={'id'}\r\n\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'displayStatus'}\r\n\t\t\t\t\t\t\t\tvalue={displayStatus}\r\n\t\t\t\t\t\t\t\tlabel={t(displayStatus)}\r\n\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end' disableTypography>\r\n\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(status, 'md')}\r\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'created'}\r\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'activeFrom'}\r\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\r\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{/* <Box my={1}>\r\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\t\t\t\tprop={'CAMPAIGN_MIN_TARGETING'}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0 ? t('YES') : t('NO')}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box> */}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'fundsDistributedRatio'}\r\n\t\t\t\t\t\t\t\tvalue={((fundsDistributedRatio || 0) / 10).toFixed(2)}\r\n\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'depositAmount'}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount || 0, decimals) +\r\n\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<EditCPM\r\n\t\t\t\t\t\t\t\tpricingBoundsCPMUserInput={pricingBoundsCPMUserInput}\r\n\t\t\t\t\t\t\t\taction='IMPRESSION'\r\n\t\t\t\t\t\t\t\tactionValue={'min'}\r\n\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\t\tprop='minPerImpression'\r\n\t\t\t\t\t\t\t\tlabel='CPM_MIN'\r\n\t\t\t\t\t\t\t\tvaluePerAction={cpmMin}\r\n\t\t\t\t\t\t\t\tupdatedValue={minPerImpression}\r\n\t\t\t\t\t\t\t\tdecimals={decimals}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\t// errProp={'pricingBounds_min'}\r\n\t\t\t\t\t\t\t\tspecPricingBounds={itemPlain.specPricingBounds}\r\n\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<EditCPM\r\n\t\t\t\t\t\t\t\tpricingBoundsCPMUserInput={pricingBoundsCPMUserInput}\r\n\t\t\t\t\t\t\t\taction='IMPRESSION'\r\n\t\t\t\t\t\t\t\tactionValue={'max'}\r\n\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\t\tprop='maxPerImpression'\r\n\t\t\t\t\t\t\t\tlabel='CPM_MAX'\r\n\t\t\t\t\t\t\t\tvaluePerAction={cpmMax}\r\n\t\t\t\t\t\t\t\tupdatedValue={maxPerImpression}\r\n\t\t\t\t\t\t\t\tdecimals={decimals}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\t// errProp={'pricingBounds_max'}\r\n\t\t\t\t\t\t\t\tspecPricingBounds={itemPlain.specPricingBounds}\r\n\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Box mt={3} mb={1}>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Grid container spacing={2} pt={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'INCLUDE_INCENTIVIZED_TRAFFIC_LABEL'}\r\n\t\t\t\t\t\t\t\tvalue={t(advanced.includeIncentivized ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t\t\tlabel={t('INCLUDE_INCENTIVIZED_TRAFFIC_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'DISABLE_FREQUENCY_CAPPING_LABEL'}\r\n\t\t\t\t\t\t\t\tvalue={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t\t\tlabel={t('DISABLE_FREQUENCY_CAPPING_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\r\n\t\t\t\t\t\t<Box my={0}>\r\n\t\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\t\tprop={'LIMIT_AVERAGE_DAILY_SPENDING_LABEL'}\r\n\t\t\t\t\t\t\t\tvalue={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\r\n\t\t\t\t\t\t\t\tlabel={t('LIMIT_AVERAGE_DAILY_SPENDING_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t{isActive && (\r\n\t\t\t\t\t\t\t\t<TargetingRulesEdit\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tadvancedOnly\r\n\t\t\t\t\t\t\t\t\tfieldName='campaignAdvanced'\r\n\t\t\t\t\t\t\t\t\tstepTitle='PROP_CAMPAIGN_ADVANCED'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='EDIT_CAMPAIGN_ADVANCED'\r\n\t\t\t\t\t\t\t\t\ttitle='EDIT_CAMPAIGN_ADVANCED_TITLE'\r\n\t\t\t\t\t\t\t\t\titemId={item.id}\r\n\t\t\t\t\t\t\t\t\tdisabled={!canSendMsgs}\r\n\t\t\t\t\t\t\t\t\tdisableBackdropClick\r\n\t\t\t\t\t\t\t\t\tupdateField={hookProps.updateField}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\r\n\t\t\t\t\t\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Accordion, AccordionSummary, Typography } from '@material-ui/core'\r\nimport { t, selectAudienceByCampaignId } from 'selectors'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\texecute,\r\n\tupdateNewCampaign,\r\n\tupdateNewAudience,\r\n\tmapCurrentToNewCampaignAudienceInput,\r\n} from 'actions'\r\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport { TargetingRulesEdit } from 'components/dashboard/containers/Campaign/CampaignEdits'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tactions: {\r\n\t\t'& > *': {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport const CampaignAudience = ({\r\n\titem,\r\n\tisActive,\r\n\tcanSendMsgs,\r\n\t...hookProps\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst campaignAudienceInput =\r\n\t\tuseSelector(state => selectAudienceByCampaignId(state, item.id)) || {}\r\n\r\n\tconst audienceInput =\r\n\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\r\n\t\t\t? item.audienceInput\r\n\t\t\t: campaignAudienceInput\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AudiencePreview audienceInput={audienceInput.inputs} />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box className={classes.actions}>\r\n\t\t\t\t\t{isActive && (\r\n\t\t\t\t\t\t<TargetingRulesEdit\r\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\r\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\r\n\t\t\t\t\t\t\titemId={item.id}\r\n\t\t\t\t\t\t\tdisabled={!canSendMsgs}\r\n\t\t\t\t\t\t\tdisableBackdropClick\r\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\r\n\t\t\t\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<NewAudienceDialog\r\n\t\t\t\t\t\tbtnLabel='SAVE_AUDIENCE'\r\n\t\t\t\t\t\ttitle='CREATE_NEW_AUDIENCE'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\r\n\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='targeting-rules-content'\r\n\t\t\t\t\t\tid='targeting-rules-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\r\n\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t<pre>\r\n\t\t\t\t\t\t\t{JSON.stringify(\r\n\t\t\t\t\t\t\t\titem.targetingRules || item.spec.targetingRules || [],\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</pre>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Accordion>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Line, Chart } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport { GANDALF_GREY, ALEX_GREY_LIGHT } from 'components/App/themeMUi'\r\nimport { Box, Typography } from '@material-ui/core'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectMainToken } from 'selectors'\r\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\r\nimport { t } from 'selectors'\r\nimport { useWindowSize } from 'hooks/useWindowSize'\r\n\r\nconst commonDsProps = {\r\n\tfill: false,\r\n\tlineTension: 0,\r\n\tborderWidth: 2,\r\n\tpointRadius: 2,\r\n\tpointHitRadius: 10,\r\n}\r\n\r\nconst DEFAULT_FONT_SIZE = 14.2\r\nconst FONT = 'Roboto'\r\nconst DASH_SIZE = 4\r\nconst DASH_WIDTH = 2\r\n\r\nconst DefaultLabel = ({ label = '', align }) =>\r\n\tlabel.split('-').map((x, index, all) => (\r\n\t\t<Typography key={x + index} component='div' variant='caption' align={align}>\r\n\t\t\t{x}\r\n\t\t</Typography>\r\n\t))\r\n\r\nexport const SimpleStatistics = ({\r\n\tdata1,\r\n\tdata2,\r\n\tdata3,\r\n\tdata4,\r\n\tdata1Active = true,\r\n\tdata2Active = true,\r\n\tdata3Active = true,\r\n\tdata4Active = true,\r\n\tdataSynced,\r\n\tdefaultLabels = [],\r\n\toptions = {},\r\n\txLabel = 'TIMEFRAME',\r\n\ty1Label = 'DATA1',\r\n\ty2Label = 'DATA2',\r\n\ty3Label = 'DATA3',\r\n\ty4Label = 'DATA4',\r\n\ty1Color = CHARTS_COLORS[1],\r\n\ty2Color = CHARTS_COLORS[2],\r\n\ty3Color = CHARTS_COLORS[3],\r\n\ty4Color = CHARTS_COLORS[4],\r\n}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst windowSize = useWindowSize()\r\n\tconst chartHeight = Math.min(\r\n\t\tMath.max(Math.floor((windowSize.height || 0) / 2.2), 240),\r\n\t\t420\r\n\t)\r\n\t// Vertical line / crosshair\r\n\tuseEffect(() => {\r\n\t\tChart.pluginService.register({\r\n\t\t\tbeforeDraw: function(chart) {\r\n\t\t\t\tconst ctx = chart.ctx\r\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\r\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\r\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\r\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\r\n\t\t\t\t\tif (chartScalesy1) {\r\n\t\t\t\t\t\tconst topY = chartScalesy1.top\r\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\r\n\t\t\t\t\t\tctx.save()\r\n\t\t\t\t\t\tctx.beginPath()\r\n\t\t\t\t\t\tctx.moveTo(x, topY)\r\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\r\n\t\t\t\t\t\tctx.lineWidth = DASH_WIDTH\r\n\t\t\t\t\t\tctx.setLineDash([DASH_SIZE, DASH_SIZE])\r\n\t\t\t\t\t\tctx.strokeStyle = GANDALF_GREY // color of the vertical line\r\n\t\t\t\t\t\tctx.stroke()\r\n\t\t\t\t\t\tctx.restore()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t})\r\n\r\n\tconst chartData = {\r\n\t\tlabels: dataSynced ? data1.labels : defaultLabels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tlabel: y1Label,\r\n\t\t\t\tdata: dataSynced ? data1.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t\thidden: !data1Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tlabel: y2Label,\r\n\t\t\t\tdata: dataSynced ? data2.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-2',\r\n\t\t\t\thidden: !data2Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tlabel: y3Label,\r\n\t\t\t\tdata: dataSynced ? data3.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-3',\r\n\t\t\t\thidden: !data3Active,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tpointBackgroundColor: y4Color,\r\n\t\t\t\tlabel: y4Label,\r\n\t\t\t\tdata: dataSynced ? data4.datasets : [],\r\n\t\t\t\tyAxisID: 'y-axis-4',\r\n\t\t\t\thidden: !data4Active,\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\r\n\tconst linesOptions = {\r\n\t\tanimation: false,\r\n\t\tresponsive: true,\r\n\t\tlayout: {\r\n\t\t\tpadding: {\r\n\t\t\t\ttop: 16,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// This and fixed height are used for proper mobile display of the chart\r\n\t\tmaintainAspectRatio: false,\r\n\t\ttitle: {\r\n\t\t\tdisplay: false,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\tlegend: {\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t\ttitleFontSize: DEFAULT_FONT_SIZE,\r\n\t\t\tbodyFontSize: DEFAULT_FONT_SIZE,\r\n\t\t\tbodyFontFamily: FONT,\r\n\t\t\ttitleFontFamily: FONT,\r\n\t\t\txPadding: 8,\r\n\t\t\tyPadding: 8,\r\n\t\t\tcornerRadius: 0,\r\n\t\t\tbodySpacing: 4,\r\n\t\t\tcaretSize: 8,\r\n\t\t\tdisplayColors: true,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function(t, d) {\r\n\t\t\t\t\t// This adds currency MainToken (DAI) to y3Label in the tooltips\r\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\r\n\t\t\t\t\tvar yLabel =\r\n\t\t\t\t\t\txLabel === y3Label\r\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\r\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\r\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\thover: {\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t},\r\n\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tdrawBorder: true,\r\n\t\t\t\t\t\tdrawTicks: true,\r\n\t\t\t\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tautoSkip: true,\r\n\t\t\t\t\t\tmaxTicksLimit: 2,\r\n\t\t\t\t\t\tmaxRotation: 0,\r\n\t\t\t\t\t\tpadding: -24,\r\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\r\n\t\t\t\t\t\tfontFamily: FONT,\r\n\t\t\t\t\t\tcallback: () => '',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\t// NOTE: this one is just to show constant size grid lines\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t// color: ALEX_GREY_LIGHT,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tdrawBorder: false,\r\n\t\t\t\t\t\tdrawTicks: false,\r\n\t\t\t\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tmaxTicksLimit: 11,\r\n\t\t\t\t\t\tstepSize: 1,\r\n\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\tmax: 10,\r\n\t\t\t\t\t\tcallback: () => '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tid: 'y-axis-dummy-grid-lines',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-2',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-3',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t// Hax - force to shift the data veridically\r\n\t\t\t\t\t\t// because chance for overlapping with -1 is very big\r\n\t\t\t\t\t\t// At same CPM impressions are the same curve as the sped one\r\n\t\t\t\t\t\tmaxTicksLimit: 3,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tid: 'y-axis-4',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Box height={chartHeight}>\r\n\t\t\t\t<Line height={chartHeight} data={chartData} options={linesOptions} />\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tpx={1}\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t<DefaultLabel label={defaultLabels[0]} align='left' />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t<Typography component='div' variant='caption' align='center'>\r\n\t\t\t\t\t\t{t(xLabel || 'TIMEFRAME')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t<DefaultLabel label={defaultLabels[1]} align='right' />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useWindowSize() {\r\n\tconst hasWindow = typeof window === 'object'\r\n\r\n\tfunction getWindowSize() {\r\n\t\treturn {\r\n\t\t\twidth: hasWindow ? window.innerWidth : 0,\r\n\t\t\theight: hasWindow ? window.innerHeight : 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst [windowSize, setWindowSize] = useState(getWindowSize)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!hasWindow) {\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tfunction onResize() {\r\n\t\t\tsetWindowSize(getWindowSize())\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', onResize)\r\n\r\n\t\treturn () => window.removeEventListener('resize', onResize)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [hasWindow])\r\n\r\n\treturn windowSize\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, Typography } from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { ArrowTooltip } from 'components/common/tooltips'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport { Info, Visibility, VisibilityOff } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t\tposition: 'relative',\r\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\r\n\t\t\tcolor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\r\n\t\t\t\ttheme.palette.text.primary,\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tvisibilityIcon: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: theme.spacing(0.3),\r\n\t\t\tright: theme.spacing(0.5),\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst StatsCard = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tsubtitle,\r\n\t\tlinkCard,\r\n\t\tchildren,\r\n\t\tonClick,\r\n\t\tbgColor,\r\n\t\tloading,\r\n\t\texplain,\r\n\t\tdataVisible,\r\n\t} = props\r\n\r\n\tconst classes = useStyles({ bgColor, dataVisible })\r\n\r\n\tconst VIcon = dataVisible ? Visibility : VisibilityOff\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\toverflow='hidden'\r\n\t\t\tp={1}\r\n\t\t\tvariant='outlined'\r\n\t\t\tclassName={classnames(classes.root, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\tjustifyContent='center'\r\n\t\t\talignContent='stretch'\r\n\t\t\tflexWrap='wrap'\r\n\t\t\tflexGrow={1}\r\n\t\t>\r\n\t\t\t<Box>\r\n\t\t\t\t{children}\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tjustifyContent='flex-start'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tpr={3}\r\n\t\t\t\t>\r\n\t\t\t\t\t{onClick && <VIcon className={classes.visibilityIcon} size='large' />}\r\n\t\t\t\t\t{title && (\r\n\t\t\t\t\t\t<Typography variant='h6' noWrap>\r\n\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{subtitle &&\r\n\t\t\t\t\t(explain ? (\r\n\t\t\t\t\t\t<ArrowTooltip\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t<Typography component='div' variant='caption'>\r\n\t\t\t\t\t\t\t\t\t{explain}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t\t\t\t{subtitle} <Info style={{ fontSize: 12 }} />\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</ArrowTooltip>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Typography component='div'>{subtitle}</Typography>\r\n\t\t\t\t\t))}\r\n\t\t\t</Box>\r\n\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default StatsCard\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdayWrapper: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tday: {\r\n\t\t\twidth: 36,\r\n\t\t\theight: 36,\r\n\t\t\tfontSize: theme.typography.caption.fontSize,\r\n\t\t\tmargin: '0 2px',\r\n\t\t\tcolor: 'inherit',\r\n\t\t},\r\n\t\tcustomDayHighlight: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: '2px',\r\n\t\t\tright: '2px',\r\n\t\t\tborder: `1px solid ${theme.palette.secondary.main}`,\r\n\t\t\tborderRadius: '50%',\r\n\t\t},\r\n\t\tnonCurrentMonthDay: {\r\n\t\t\tcolor: theme.palette.text.disabled,\r\n\t\t},\r\n\t\thighlightNonCurrentMonthDay: {\r\n\t\t\tcolor: '#676767',\r\n\t\t},\r\n\t\thighlight: {\r\n\t\t\tbackground: theme.palette.primary.main,\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tfirstHighlight: {\r\n\t\t\textend: 'highlight',\r\n\t\t\tborderTopLeftRadius: '50%',\r\n\t\t\tborderBottomLeftRadius: '50%',\r\n\t\t},\r\n\t\tendHighlight: {\r\n\t\t\textend: 'highlight',\r\n\t\t\tborderTopRightRadius: '50%',\r\n\t\t\tborderBottomRightRadius: '50%',\r\n\t\t},\r\n\t\tdayDisabled: {\r\n\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\r\n\t\t\tpointerEvents: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport { DatePicker as MuiDatePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {\r\n\tDateRangeSharp,\r\n\tNavigateNextRounded,\r\n\tNavigateBeforeRounded,\r\n\tUpdate,\r\n} from '@material-ui/icons'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport dateUtils, { makeJSDateObject } from 'helpers/dateUtils'\r\nimport clsx from 'clsx'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <DateRangeSharp />,\r\n\ticonColor,\r\n\tonIconClick,\r\n\tonNextClick,\r\n\tonLiveClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t{onNextClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\r\n\t\t\t\t<NavigateNextRounded />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t\t{onLiveClick && (\r\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\r\n\t\t\t\t<Update />\r\n\t\t\t</IconButton>\r\n\t\t)}\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DatePicker extends Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tcalendarIcon,\r\n\t\t\ticon,\r\n\t\t\ticonColor,\r\n\t\t\tInputProps = {},\r\n\t\t\tonIconClick,\r\n\t\t\tonNextClick,\r\n\t\t\tonLiveClick,\r\n\t\t\tonBackClick,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDatePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\t...InputProps,\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t\tonNextClick={onNextClick}\r\n\t\t\t\t\t\t\tonLiveClick={onLiveClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t\tstartAdornment: onBackClick ? (\r\n\t\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\r\n\t\t\t\t\t\t\t\t<NavigateBeforeRounded />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DatePicker\r\n\r\nconst datePickerStyled = ({\r\n\tclasses,\r\n\tcalendarIcon,\r\n\ticon,\r\n\tInputProps = {},\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<DatePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\t...InputProps,\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DatePickerContrast = withStyles(styles)(datePickerStyled)\r\n\r\nconst dayIsFuture = date => dateUtils.isAfter(date, dateUtils.date())\r\n\r\nfunction PeriodSelectDatePicker({ classes, period, ...rest }) {\r\n\tconst renderWrappedWeekDay = (date, selectedDate, dayInCurrentMonth) => {\r\n\t\tlet dateClone = makeJSDateObject(date)\r\n\t\tlet selectedDateClone = makeJSDateObject(selectedDate)\r\n\r\n\t\tconst start = dateUtils.startOfDay(selectedDateClone)\r\n\t\tlet end = dateUtils.date(start)\r\n\r\n\t\tswitch (period) {\r\n\t\t\tcase 'week':\r\n\t\t\t\tend = dateUtils.startOfDay(dateUtils.addDays(start, 6))\r\n\t\t\t\tmaxDate = dateUtils.addDays(dateUtils.date(), -6)\r\n\t\t\t\tbreak\r\n\t\t\tcase 'month':\r\n\t\t\t\tend = dateUtils.startOfDay(\r\n\t\t\t\t\tdateUtils.addDays(dateUtils.addMonths(start, 1), -1)\r\n\t\t\t\t)\r\n\t\t\t\tmaxDate = dateUtils.addDays(dateUtils.addMonths(dateUtils.date(), 1), 1)\r\n\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\tconst dayIsBetween = dateUtils.isWithinInterval(dateClone, { start, end })\r\n\t\tconst isFirstDay = dateUtils.isSameDay(dateClone, start)\r\n\t\tconst isLastDay = dateUtils.isSameDay(dateClone, end)\r\n\r\n\t\tconst wrapperClassName = clsx({\r\n\t\t\t[classes.highlight]: dayIsBetween,\r\n\t\t\t[classes.firstHighlight]: isFirstDay,\r\n\t\t\t[classes.endHighlight]: isLastDay,\r\n\t\t})\r\n\r\n\t\tconst dayClassName = clsx(classes.day, {\r\n\t\t\t[classes.nonCurrentMonthDay]: !dayInCurrentMonth,\r\n\t\t\t[classes.highlightNonCurrentMonthDay]: !dayInCurrentMonth && dayIsBetween,\r\n\t\t\t[classes.dayDisabled]: dayIsFuture(dateClone),\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t<div className={wrapperClassName}>\r\n\t\t\t\t<IconButton className={dayClassName}>\r\n\t\t\t\t\t<span> {dateUtils.format(dateClone, 'D')} </span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tlet maxDate = dateUtils.date()\r\n\r\n\tswitch (period) {\r\n\t\tcase 'week':\r\n\t\t\tmaxDate = dateUtils.addDays(dateUtils.date(), -6)\r\n\t\t\tbreak\r\n\t\tcase 'month':\r\n\t\t\tmaxDate = dateUtils.addDays(dateUtils.addMonths(dateUtils.date(), -1), 1)\r\n\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn (\r\n\t\t<DatePicker\r\n\t\t\tlabel='Week Picker'\r\n\t\t\trenderDay={renderWrappedWeekDay}\r\n\t\t\tshouldDisableDate={date => dayIsFuture(date)}\r\n\t\t\tviews={['year', 'month', 'date']}\r\n\t\t\tmaxDate={maxDate}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const PeriodDatePicker = withStyles(styles)(PeriodSelectDatePicker)\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useKeyPress(targetKey) {\r\n\tconst [keyPressed, setKeyPressed] = useState(false)\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst downHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(true)\r\n\t\t}\r\n\t}\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst upHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('keydown', downHandler)\r\n\t\twindow.addEventListener('keyup', upHandler)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', downHandler)\r\n\t\t\twindow.removeEventListener('keyup', upHandler)\r\n\t\t}\r\n\t}, [downHandler, upHandler])\r\n\r\n\treturn keyPressed\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tVisibility,\r\n\tMonetizationOn,\r\n\tMouse,\r\n\tEqualizer,\r\n} from '@material-ui/icons'\r\nimport { Box } from '@material-ui/core'\r\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\r\nimport StatsCard from './StatsCard'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { PeriodDatePicker, DatePicker } from 'components/common/DatePicker'\r\nimport { ALEX_GREY_LIGHT } from 'components/App/themeMUi'\r\nimport { styles } from './styles'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport {\r\n\texecute,\r\n\tupdateIdSideAnalyticsChartTimeframe,\r\n\tupdateIdSideAnalyticsChartPeriod,\r\n\tupdateAnalyticsPeriodPrevNextLive,\r\n\tupdateAccountAnalyticsThrottled,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectTotalImpressions,\r\n\tselectTotalMoney,\r\n\tselectAverageCPM,\r\n\tselectMainToken,\r\n\tselectIdentitySideAnalyticsTimeframe,\r\n\tselectIdentitySideAnalyticsPeriod,\r\n\tselectTotalClicks,\r\n\tselectChartDatapointsCPM,\r\n\tselectChartDatapointsImpressions,\r\n\tselectChartDatapointsClicks,\r\n\tselectChartDatapointsPayouts,\r\n\tselectSide,\r\n\tselectAnalyticsDataSide,\r\n\tselectAuth,\r\n\tselectInitialDataLoadedByData,\r\n\tselectPublisherHasAdSlotsButNoImpressionsLastHour,\r\n\t// selectMissingRevenueDataPointsAccepted,\r\n\tselectAnalyticsMinAndMaxDates,\r\n} from 'selectors'\r\nimport dateUtils from 'helpers/dateUtils'\r\nimport { useKeyPress } from 'hooks/useKeyPress'\r\nimport { analyticsLoopCustom } from 'services/store-data/analytics'\r\nimport {\r\n\tgetPeriodLabel,\r\n\tgetPeriodDataPointLabel,\r\n} from 'helpers/analyticsTimeHelpers'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { ExternalAnchor } from 'components/common/anchor'\r\n\r\nconst min = 60 * 1000\r\n\r\nconst timeoutMap = {\r\n\thour: min,\r\n\tday: 10 * min,\r\n\tweek: 30 * min,\r\n\tmonth: 60 * 2 * min,\r\n\tyear: 60 * 24 * min,\r\n}\r\n\r\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\r\n\tconst translated = { ...tf }\r\n\ttranslated.label = t(tf.label)\r\n\treturn translated\r\n})\r\n\r\nconst getMetrics = theme => ({\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_REVENUE'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: theme.palette.accentTwo.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t},\r\n\t],\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_SPEND'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: theme.palette.accentOne.main,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY_LIGHT,\r\n\t\t},\r\n\t],\r\n})\r\n\r\nconst getDefaultLabels = ({ timeframe, start, end }) => [\r\n\tgetPeriodDataPointLabel({ timeframe, time: start }),\r\n\tgetPeriodDataPointLabel({ timeframe, time: end }),\r\n]\r\n\r\nconst DatePickerSwitch = ({ timeframe, period: { start, end }, ...rest }) => {\r\n\tswitch (timeframe) {\r\n\t\tcase 'week':\r\n\t\t\treturn (\r\n\t\t\t\t<PeriodDatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tperiod='week'\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'day':\r\n\t\t\treturn (\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'hour':\r\n\t\t\treturn (\r\n\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tviews={['date', 'hours']}\r\n\t\t\t\t\troundHour\r\n\t\t\t\t\tminutesStep={60}\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'month':\r\n\t\t\treturn (\r\n\t\t\t\t<PeriodDatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tperiod='month'\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tcase 'year':\r\n\t\t\treturn (\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tviews={['year', 'month']}\r\n\t\t\t\t\tmaxDate={dateUtils.addMonths(dateUtils.date(), -11)}\r\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\tdefault:\r\n\t\t\treturn <DatePicker {...rest} />\r\n\t}\r\n}\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function BasicStats() {\r\n\tconst theme = useTheme()\r\n\tconst classes = useStyles()\r\n\tconst SPACE = useKeyPress(' ')\r\n\tconst ARROW_LEFT = useKeyPress('ArrowLeft')\r\n\tconst ARROW_RIGHT = useKeyPress('ArrowRight')\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst isAuth = useSelector(state => selectAuth(state))\r\n\tconst { start, end } = useSelector(selectIdentitySideAnalyticsPeriod)\r\n\tconst timeframe = useSelector(selectIdentitySideAnalyticsTimeframe)\r\n\tconst uiSide = useSelector(selectSide)\r\n\t// NOTE: side can be: for-publisher, for-advertiser or current campaign in details Id\r\n\tconst side = useSelector(selectAnalyticsDataSide)\r\n\tconst { minDate, maxDate } = useSelector(selectAnalyticsMinAndMaxDates)\r\n\tconst [loop, setLoop] = useState()\r\n\tconst [metrics, setMetrics] = useState(null)\r\n\tconst allChannelsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allChannels')\r\n\t)\r\n\tconst advAnalyticsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\tconst initialDataLoaded =\r\n\t\tallChannelsLoaded && advAnalyticsLoaded && itemsLoaded\r\n\tconst [data1Active, setData1Active] = useState(true)\r\n\tconst [data2Active, setData2Active] = useState(true)\r\n\tconst [data3Active, setData3Active] = useState(true)\r\n\tconst [data4Active, setData4Active] = useState(true)\r\n\r\n\tconst defaultLabels = getDefaultLabels({ timeframe, start, end })\r\n\r\n\tconst totalImpressions = useSelector(state =>\r\n\t\tselectTotalImpressions(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalClicks = useSelector(state =>\r\n\t\tselectTotalClicks(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalMoney = useSelector(state =>\r\n\t\tselectTotalMoney(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst averageCPM = useSelector(state =>\r\n\t\tselectAverageCPM(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst payouts = useSelector(state =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst impressions = useSelector(state =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst clicks = useSelector(state =>\r\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst cpm = useSelector(state =>\r\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst goNext = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: true }))\r\n\t}\r\n\r\n\tconst goPrev = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: false }))\r\n\t}\r\n\r\n\tconst goLive = () => {\r\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ live: true }))\r\n\t}\r\n\r\n\tconst showTooltip = useSelector(state =>\r\n\t\tselectPublisherHasAdSlotsButNoImpressionsLastHour(state, { timeframe })\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMetrics(getMetrics(theme))\r\n\t}, [theme])\r\n\r\n\tuseEffect(() => {\r\n\t\tSPACE && goLive()\r\n\t\tARROW_RIGHT && goNext()\r\n\t\tARROW_LEFT && goPrev()\r\n\t}, [ARROW_LEFT, ARROW_RIGHT, SPACE])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialDataLoaded && side && timeframe && start) {\r\n\t\t\texecute(updateAccountAnalyticsThrottled())\r\n\t\t}\r\n\t}, [initialDataLoaded, side, timeframe, start])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (initialDataLoaded && side) {\r\n\t\t\tgoLive()\r\n\t\t}\r\n\t}, [initialDataLoaded, side])\r\n\r\n\tuseEffect(() => {\r\n\t\tinitialDataLoaded && loop && loop.start()\r\n\t\treturn () => {\r\n\t\t\tloop && loop.stop()\r\n\t\t}\r\n\t}, [initialDataLoaded, loop])\r\n\r\n\tuseEffect(() => {\r\n\t\tloop && loop.stop()\r\n\t\tsetLoop(\r\n\t\t\tanalyticsLoopCustom({\r\n\t\t\t\ttimeout: timeoutMap[timeframe],\r\n\t\t\t\tsyncAction: async () => {\r\n\t\t\t\t\tsetTimeout(\r\n\t\t\t\t\t\tasync () =>\r\n\t\t\t\t\t\t\tisAuth && (await execute(updateAccountAnalyticsThrottled())),\r\n\t\t\t\t\t\ttimeoutMap[timeframe] -\r\n\t\t\t\t\t\t\t(Date.now() % timeoutMap[timeframe]) +\r\n\t\t\t\t\t\t\t5 * 1000\r\n\t\t\t\t\t)\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [timeframe, isAuth])\r\n\r\n\tconst dataSynced =\r\n\t\t!!initialDataLoaded &&\r\n\t\t[\r\n\t\t\timpressions.labels[impressions.labels.length - 1],\r\n\t\t\tpayouts.labels[payouts.labels.length - 1],\r\n\t\t].every(x => !!x && x === clicks.labels[clicks.labels.length - 1]) &&\r\n\t\t[totalImpressions, totalMoney, averageCPM, totalClicks].every(\r\n\t\t\tx => x !== null\r\n\t\t)\r\n\r\n\treturn (\r\n\t\tuiSide &&\r\n\t\tmetrics && (\r\n\t\t\t<Box>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\tflexGrow={1}\r\n\t\t\t\t\t\talignItems='start'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\r\n\t\t\t\t\t\t\t\t// helperText={t(timeHints[timeframe])}\r\n\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t//TODO: fix change of timeframe, set default period as well\r\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartTimeframe(val))\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tsource={timeFrames}\r\n\t\t\t\t\t\t\t\tvalue={timeframe}\r\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\r\n\t\t\t\t\t\t\t<DatePickerSwitch\r\n\t\t\t\t\t\t\t\tperiod={{ start, end }}\r\n\t\t\t\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\t\t\t\tvalue={start}\r\n\t\t\t\t\t\t\t\tminutesStep={60}\r\n\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartPeriod(val))\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tInputProps={{ multiline: true, className: classes.datePicker }}\r\n\t\t\t\t\t\t\t\tdisableFuture\r\n\t\t\t\t\t\t\t\tinputVariant='outlined'\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\t\tlabel={t('ANALYTICS_PERIOD')}\r\n\t\t\t\t\t\t\t\tmaxDate={maxDate}\r\n\t\t\t\t\t\t\t\tminDate={minDate}\r\n\t\t\t\t\t\t\t\t// Only when picking future hours as they can't be disabled\r\n\t\t\t\t\t\t\t\tmaxDateMessage='' //{t('MAX_DATE_ERROR')}\r\n\t\t\t\t\t\t\t\tminDateMessage='' // we do not need error msgs e.g. for new accounts\r\n\t\t\t\t\t\t\t\tstrictCompareDates\r\n\t\t\t\t\t\t\t\tonBackClick={e => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\tgoPrev()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonLiveClick={e => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\tgoLive()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonNextClick={e => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\tgoNext()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='primary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tonClick={() => setData1Active(!data1Active)}\r\n\t\t\t\t\t\tdataVisible={data1Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Visibility className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='secondary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\r\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\r\n\t\t\t\t\t\t).toFixed(2)} % ${t('LABEL_CTR')})`}\r\n\t\t\t\t\t\tonClick={() => setData2Active(!data2Active)}\r\n\t\t\t\t\t\tdataVisible={data2Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Mouse className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t{uiSide === 'advertiser' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentOne'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\r\n\t\t\t\t\t\t\tdataVisible={data3Active}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\r\n\t\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{uiSide === 'publisher' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentTwo'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\r\n\t\t\t\t\t\t\tdataVisible={data3Active}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\r\n\t\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='grey'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\r\n\t\t\t\t\t\tloading={!dataSynced}\r\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol} / CPM`}\r\n\t\t\t\t\t\tonClick={() => setData4Active(!data4Active)}\r\n\t\t\t\t\t\tdataVisible={data4Active}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Equalizer className={classes.cardIcon} />\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t{showTooltip && uiSide === 'publisher' && (\r\n\t\t\t\t\t\t<Alert severity='info'>\r\n\t\t\t\t\t\t\t{t('AD_SLOTS_NOT_GENERATING_IMPRESSIONS_WARNING')}{' '}\r\n\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\thref='https://help.adex.network/hc/en-us/articles/360013419399-Why-are-ads-not-showing-on-my-publisher-website-'\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<SimpleStatistics\r\n\t\t\t\t\t\tstart={start}\r\n\t\t\t\t\t\tend={end}\r\n\t\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\ttitle:\r\n\t\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdefaultLabels={defaultLabels}\r\n\t\t\t\t\t\tdata1={impressions}\r\n\t\t\t\t\t\tdata2={clicks}\r\n\t\t\t\t\t\tdata3={payouts}\r\n\t\t\t\t\t\tdata4={cpm}\r\n\t\t\t\t\t\tdata1Active={data1Active}\r\n\t\t\t\t\t\tdata2Active={data2Active}\r\n\t\t\t\t\t\tdata3Active={data3Active}\r\n\t\t\t\t\t\tdata4Active={data4Active}\r\n\t\t\t\t\t\tdataSynced={dataSynced}\r\n\t\t\t\t\t\ty1Label={metrics[uiSide][0].label}\r\n\t\t\t\t\t\ty1Color={metrics[uiSide][0].color}\r\n\t\t\t\t\t\ty2Label={metrics[uiSide][1].label}\r\n\t\t\t\t\t\ty2Color={metrics[uiSide][1].color}\r\n\t\t\t\t\t\ty3Label={metrics[uiSide][2].label}\r\n\t\t\t\t\t\ty3Color={metrics[uiSide][2].color}\r\n\t\t\t\t\t\ty4Label={metrics[uiSide][3].label}\r\n\t\t\t\t\t\ty4Color={metrics[uiSide][3].color}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t\tcardIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: '-33px',\r\n\t\t\tright: '-33px',\r\n\t\t\tfontSize: '120px',\r\n\t\t\topacity: '0.13',\r\n\t\t\ttransform: 'rotate(-45deg)',\r\n\t\t\tpointerEvents: 'none',\r\n\t\t},\r\n\t\t// NOTE: need this to match multilenie datepicker and dropdown heights\r\n\t\tdatePicker: {\r\n\t\t\tpaddingTop: 9.108,\r\n\t\t\tpaddingBottom: 9.108,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { Grid, Box } from '@material-ui/core'\r\n\r\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\r\nimport { BasicStats } from 'components/dashboard/containers/DashboardStats/BasicStats'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { t } from 'selectors'\r\n\r\nexport const CampaignStatsByTimeframe = ({ item }) => {\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tprop={'created'}\r\n\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tprop={'activeFrom'}\r\n\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ItemSpecProp\r\n\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\r\n\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<BasicStats />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useState, Fragment, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tPaper,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tTabs,\r\n\tTab,\r\n} from '@material-ui/core'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { Campaign as CampaignModel } from 'adex-models'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\r\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\r\nimport { Receipt } from 'components/dashboard/containers/Receipt'\r\nimport {\r\n\tselectCampaignAnalyticsToCountryTableData,\r\n\tselectCampaignAnalyticsToCountryMapChartData,\r\n\tt,\r\n} from 'selectors'\r\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\r\nimport MapChart from 'components/dashboard/charts/map/MapChart'\r\nimport { CampaignBasic } from './CampaignBasic'\r\nimport { CampaignAudience } from './CampaignAudience'\r\nimport { validateAndUpdateCampaign, updateMemoryUi, execute } from 'actions'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { CampaignStatsByTimeframe } from './CampaignStatsByTimeframe'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\n\r\nfunction Campaign({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'Campaign',\r\n\t\tmatch,\r\n\t\tobjModel: CampaignModel,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateCampaign,\r\n\t})\r\n\r\n\tconst campaign = new CampaignModel(item)\r\n\tconst { humanFriendlyName } = campaign.status || {}\r\n\tconst leader = campaign.spec.validators[0]\r\n\tconst follower = campaign.spec.validators[1]\r\n\tconst campaignId = campaign.id\r\n\tconst { status = {} } = item\r\n\tconst canSendMsgs =\r\n\t\tstatus.name &&\r\n\t\t['Ready', 'Waiting', 'Active', 'Unhealthy'].includes(status.name) &&\r\n\t\tstatus.humanFriendlyName !== 'Closed'\r\n\r\n\tconst isActive =\r\n\t\tstatus.humanFriendlyName === 'Active' ||\r\n\t\tstatus.humanFriendlyName === 'Paused'\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateMemoryUi('campaignId', campaignId))\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(updateMemoryUi('campaignId', undefined))\r\n\t\t}\r\n\t}, [campaignId])\r\n\r\n\tif (!campaignId) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND', {\r\n\t\t\t\t\targs: ['CAMPAIGN', match.params.itemId || ''],\r\n\t\t\t\t})}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_MAIN')} />\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_AUDIENCE')} />\r\n\t\t\t\t\t<Tab label={t('WEBSITE_STATS')} />\r\n\t\t\t\t\t<Tab label={t('COUNTRY_STATS')} />\r\n\t\t\t\t\t<Tab label={t('TIMEFRAME_STATS')} />\r\n\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t<Tab label={t('VALIDATORS')} />\r\n\t\t\t\t\t{['Closed', 'Completed'].includes(humanFriendlyName) && (\r\n\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<CampaignBasic\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\tisActive={isActive}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<CampaignAudience\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\tisActive={isActive}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\tflexGrow='1'\r\n\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box flexGrow='1' order={{ xs: 2, md: 2, lg: 1 }}>\r\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable\r\n\t\t\t\t\t\t\t\t\t\ttableId={`campaignStatsBreakdown${campaignId}`}\r\n\t\t\t\t\t\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\r\n\t\t\t\t\t\t\t\t\t\tisActive={isActive}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2} order={{ xs: 1, md: 1, lg: 2 }}>\r\n\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={campaignId} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 3 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Grid container spacing={1} alignItems='flex-start'>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<MapChart\r\n\t\t\t\t\t\t\t\t\tchartId={`campaign-${campaignId}`}\r\n\t\t\t\t\t\t\t\t\tselector={state =>\r\n\t\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryMapChartData(\r\n\t\t\t\t\t\t\t\t\t\t\tstate,\r\n\t\t\t\t\t\t\t\t\t\t\tcampaignId\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\r\n\t\t\t\t\t\t\t\t\t\tselector={selectCampaignAnalyticsToCountryTableData}\r\n\t\t\t\t\t\t\t\t\t\tselectorArgs={campaignId}\r\n\t\t\t\t\t\t\t\t\t\ttableId={`CampaignStatsByCountry${campaignId}`}\r\n\t\t\t\t\t\t\t\t\t\tshowEarnings\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{tabIndex === 4 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<CampaignStatsByTimeframe item={item} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 5 && (\r\n\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\ttableId={`campaignUnits-${campaignId}`}\r\n\t\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 6 && (\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/status`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/status`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 7 && <Receipt itemId={campaignId} />}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Campaign\r\n","import React, { Fragment, useState } from 'react'\r\nimport { Box, Tabs, Tab } from '@material-ui/core'\r\nimport { BasicStats } from './BasicStats'\r\nimport {\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { t } from 'selectors'\r\n\r\nexport function AdvertiserStats() {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CHARTS')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<BasicStats side='advertiser' />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { utils } from 'ethers'\r\nimport Media from 'components/common/media'\r\nimport { useSelector } from 'react-redux'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tt,\r\n\tselectBestEarnersTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { useTableData } from './tableHooks'\r\nconst RRMedia = withReactRouterLink(Media)\r\n\r\nconst getCols = ({ symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: true,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\tconst ImgComponent = to ? RRMedia : Media\r\n\t\t\t\tconst imgProps = to ? { to } : { fullScreenOnClick: true }\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImgComponent\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t{...imgProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [i.data[0].id, i.data[1].replace('legacy_', ''), i.data[2]],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = () => ({\r\n\tfilterType: 'multiselect',\r\n\tsortOrder: {\r\n\t\tname: 'ctr',\r\n\t\tdirection: 'desc',\r\n\t},\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\trowsPerPage: 5,\r\n})\r\n\r\nfunction BestEarnersTable(props) {\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\thandleSelect,\r\n\t\tselector = selectBestEarnersTableData,\r\n\t\ttitle = '',\r\n\t} = props\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst dataLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\r\n\t)\r\n\r\n\tconst [options, setOptions] = useState({})\r\n\r\n\tconst getColumns = useCallback(\r\n\t\t() =>\r\n\t\t\tgetCols({\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t\t[noActions, noClone, symbol]\r\n\t)\r\n\r\n\tconst { data, columns } = useTableData({\r\n\t\tselector,\r\n\t\tgetColumns,\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOptions(getOptions())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\t{...props}\r\n\t\t\ttitle={t(title)}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\thandleRowSelectionChange={handleSelect}\r\n\t\t\tloading={!dataLoaded}\r\n\t\t\tnoSearch\r\n\t\t\tnoDownload\r\n\t\t\tnoPrint\r\n\t\t\tnoViewColumns\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default BestEarnersTable\r\n","import React, { Fragment, useState } from 'react'\r\nimport { Box, Grid, Paper, Typography, Tab, Tabs } from '@material-ui/core'\r\nimport {\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport BestEarnersTable from 'components/dashboard/containers/Tables/BestEarnersTable'\r\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\r\nimport MapChart from 'components/dashboard/charts/map/MapChart'\r\nimport { BasicStats } from './BasicStats'\r\nimport {\r\n\tt,\r\n\tselectPublisherStatsByCountryTableData,\r\n\tselectPublisherStatsByCountryMapChartData,\r\n} from 'selectors'\r\nimport { timeSinceEpoch } from 'helpers/formatters'\r\n\r\nexport function PublisherStats() {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('CHARTS')} />\r\n\t\t\t\t\t<Tab label={t('COUNTRY_DATA')} />\r\n\t\t\t\t\t<Tab label={t('TABLE_BEST_EARNERS_UNITS_TITLE')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ItemTabsContainer noBackground>\r\n\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<BasicStats side='publisher' />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\r\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: timeSinceEpoch() })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<MapChart\r\n\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryMapChartData}\r\n\t\t\t\t\t\t\t\t\tchartId='publisher-stats'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\r\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\r\n\t\t\t\t\t\t\t\t\t\ttableId='publisherStatsByCountry'\r\n\t\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryTableData}\r\n\t\t\t\t\t\t\t\t\t\t// TODO: uncomment after 26.04.2020\r\n\t\t\t\t\t\t\t\t\t\tshowEarnings\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t// <Box p={1}>\r\n\t\t\t\t\t<BestEarnersTable\r\n\t\t\t\t\t\ttableId='publisherBestEarnersStats'\r\n\t\t\t\t\t\ttitle='TABLE_BEST_EARNERS_UNITS_TITLE'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t// </Box>\r\n\t\t\t\t)}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport default PublisherStats\r\n","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, Tabs, Tab, Box } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTitle,\r\n\tItemDescription,\r\n\tItemAdType,\r\n\tItemTargetURL,\r\n\tMediaCard,\r\n\tArchiveItemBtn,\r\n\tItemTabsContainer,\r\n\tItemTabsBar,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { AdUnit } from 'adex-models'\r\nimport { validateAndUpdateUnit } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nfunction Unit({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'AdUnit',\r\n\t\tmatch,\r\n\t\tobjModel: AdUnit,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateUnit,\r\n\t})\r\n\r\n\tconst { validations } = hookProps\r\n\r\n\tconst {\r\n\t\tid,\r\n\t\ttitle,\r\n\t\tarchived,\r\n\t\tdescription,\r\n\t\tmediaUrl,\r\n\t\tmediaMime,\r\n\t\ttype,\r\n\t\ttargetUrl,\r\n\t} = item\r\n\tconst { title: errTitle, description: errDescription } = validations\r\n\r\n\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('AD_UNIT')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\t\tlabel={t('UNIT_MEDIA_IMG_LABEL')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t{!archived && (\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemDescription\r\n\t\t\t\t\t\t\t\t\tdescription={description}\r\n\t\t\t\t\t\t\t\t\terrDescription={errDescription}\r\n\t\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemAdType type={type} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ItemTargetURL targetUrl={targetUrl} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nUnit.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Unit\r\n","import React from 'react'\r\nimport {\r\n\tInputAdornment,\r\n\tIconButton,\r\n\tTextField,\r\n\tBox,\r\n\tFormControl,\r\n\tFormControlLabel,\r\n\tFormGroup,\r\n\tCheckbox,\r\n\tGrid,\r\n} from '@material-ui/core'\r\nimport { Edit, UndoOutlined } from '@material-ui/icons'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport AdSlotMedia from 'components/dashboard/forms/items/AdSlot/AdSlotMedia'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { BigNumber } from 'ethers'\r\n\r\nimport {\r\n\texecute,\r\n\tresetNewItem,\r\n\tupdateSlotPasback,\r\n\tmapCurrentToNewPassback,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport { t, selectMainToken } from 'selectors'\r\n\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport const PassbackSteps = ({ updateMultipleFields, itemId, ...props }) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('AdSlot', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase='new-AdUnit-'\r\n\t\t\titemType='AdSlot'\r\n\t\t\tstepsId='new-slot-'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\r\n\t\t\t\t\tcomponent: AdSlotMedia,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tupdateSlotPasback({ updateMultipleFields, itemId, ...props })\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={AdSlot}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst PassbackEdit = WithDialog(PassbackSteps)\r\n\r\nexport const SlotAdvancedRules = ({\r\n\titem = {},\r\n\tupdateMultipleFields,\r\n\tvalidations,\r\n\tvalidateId,\r\n\tupdateField,\r\n\tsetActiveFields,\r\n\treturnPropToInitialState,\r\n\tactiveFields = {},\r\n}) => {\r\n\tconst { address, decimals, symbol } = selectMainToken()\r\n\tconst { minPerImpression, rulesInput: slotRulesInput } = item\r\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\r\n\tconst { autoSetMinCPM, allowAdultContent } = rulesInput.inputs\r\n\tconst active = !!activeFields.minPerImpression\r\n\tconst { minPerImpression: errMin } = validations\r\n\tconst showError = !!errMin && errMin.dirty\r\n\tconst minCPM =\r\n\t\ttypeof minPerImpression === 'object'\r\n\t\t\t? formatTokenAmount(\r\n\t\t\t\t\tBigNumber.from((item.minPerImpression || {})[address] || '0').mul(\r\n\t\t\t\t\t\t1000\r\n\t\t\t\t\t),\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\ttrue\r\n\t\t\t  )\r\n\t\t\t: minPerImpression\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL_MANUAL', { args: [symbol] })}\r\n\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\tvalue={minCPM || ''}\r\n\t\t\t\t\tdisabled={!!autoSetMinCPM || !active}\r\n\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\tupdateField('minPerImpression', value, {\r\n\t\t\t\t\t\t\tname: 'slotAdvanced',\r\n\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t\terror={showError}\r\n\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\tshowError ? errMin.errMsg : t('SLOT_MANUAL_CPM_MIN_HELPER')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tInputProps={\r\n\t\t\t\t\t\t!autoSetMinCPM\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tactive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? returnPropToInitialState('minPerImpression')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: setActiveFields('minPerImpression', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst checked = ev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\r\n\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport const SlotEdits = ({ item, ...hookProps }) => {\r\n\treturn (\r\n\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t<PassbackEdit\r\n\t\t\t\tfullWidth\r\n\t\t\t\tsize='large'\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='UPDATE_PASSBACK'\r\n\t\t\t\ttitle='UPDATE_SLOT_PASSBACK'\r\n\t\t\t\titemId={item.id}\r\n\t\t\t\tdisableBackdropClick\r\n\t\t\t\tupdateMultipleFields={hookProps.updateMultipleFields}\r\n\t\t\t\tonClick={() =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tmapCurrentToNewPassback({\r\n\t\t\t\t\t\t\titemId: item.id,\r\n\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport {\r\n\tGrid,\r\n\tBox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\r\n\r\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport OutlinedPropView from 'components/common/OutlinedPropView'\r\nimport { SlotEdits, SlotAdvancedRules } from './SlotEdits'\r\nimport {\r\n\tItemTitle,\r\n\tItemDescription,\r\n\tItemAdType,\r\n\tItemFallbackMediaURL,\r\n\tMediaCard,\r\n\tItemWebsite,\r\n\tArchiveItemBtn,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { t } from 'selectors'\r\n\r\nexport const SlotBasic = ({ item, ...hookProps }) => {\r\n\tconst {\r\n\t\tid,\r\n\t\ttitle,\r\n\t\tdescription,\r\n\t\tmediaUrl,\r\n\t\tmediaMime,\r\n\t\ttype,\r\n\t\ttargetUrl,\r\n\t\twebsite,\r\n\t\tarchived,\r\n\t\trules,\r\n\t} = item\r\n\tconst { title: errTitle, description: errDescription } = hookProps.validations\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Box p={2}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemFallbackMediaURL targetUrl={targetUrl} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<SlotEdits item={item} {...hookProps} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{!archived && (\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\titemType='AdSlot'\r\n\t\t\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\r\n\t\t\t\t\t\t\t\t\tid='slot-rules-advanced'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\r\n\t\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t\t<SlotAdvancedRules item={item} {...hookProps} />\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<Accordion square={true} variant='outlined'>\r\n\t\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\r\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\r\n\t\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemDescription\r\n\t\t\t\t\t\t\t\tdescription={description}\r\n\t\t\t\t\t\t\t\terrDescription={errDescription}\r\n\t\t\t\t\t\t\t\t{...hookProps}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemAdType type={type} />\r\n\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t<ItemWebsite item={item} {...hookProps} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<OutlinedPropView\r\n\t\t\t\t\t\t\t\tlabel={t('WEBSITE_VERIFICATION')}\r\n\t\t\t\t\t\t\t\tvalue={<WebsiteIssues website={website} tryAgainBtn />}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport copy from 'copy-to-clipboard'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { Paper, IconButton, Box, Typography } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\n\r\nimport { execute, addToast } from 'actions'\r\n\r\nimport url from 'url'\r\nimport {\r\n\tselectRoutineWithdrawTokensAddresses,\r\n\tselectHasConfirmedEmail,\r\n\tselectAccountIdentityAddr,\r\n\tt,\r\n} from 'selectors'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const IntegrationCode = ({ slot = {} }) => {\r\n\tconst classes = useStyles()\r\n\tconst { id, type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst isEmailConfirmed = useSelector(selectHasConfirmedEmail)\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\t// minTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t\tmarketSlot: id,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\r\n\t// \t<Alert severity='warning' variant='filled'>\r\n\t// \t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\r\n\t// \t<div\r\n\t// \t\tdangerouslySetInnerHTML={{\r\n\t// \t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\r\n\t// \t\t}}\r\n\t// \t/>\r\n\t// </Alert>\r\n\treturn isEmailConfirmed ? (\r\n\t\t<Box overflow='hidden'>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\tpx={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography>{t('INTEGRATION_CODE')}</Typography>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\r\n\t\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t) : (\r\n\t\t<Alert severity='warning' variant='filled'>\r\n\t\t\t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\r\n\t\t\t<div\r\n\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Alert>\r\n\t)\r\n}\r\n\r\nIntegrationCode.propTypes = {\r\n\tslot: PropTypes.object.isRequired,\r\n}\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { AdSlot } from 'adex-models'\r\nimport { Tabs, Tab } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTabsBar,\r\n\tItemTabsContainer,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport { SlotBasic } from './SlotBasic'\r\nimport { IntegrationCode } from './IntegrationCode'\r\nimport { validateAndUpdateSlot } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nfunction Slot({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\tconst { item, ...hookProps } = useItem({\r\n\t\titemType: 'AdSlot',\r\n\t\tmatch,\r\n\t\tobjModel: AdSlot,\r\n\t\tvalidateAndUpdateFn: validateAndUpdateSlot,\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('SLOT_MAIN')} />\r\n\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\r\n\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t{tabIndex === 0 && <SlotBasic item={item} {...hookProps} />}\r\n\t\t\t\t{tabIndex === 1 && <IntegrationCode slot={item} />}\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nSlot.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Slot\r\n","import React, { Fragment, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport { Audience as AudienceModel } from 'adex-models'\r\nimport { Tabs, Tab, Box } from '@material-ui/core'\r\nimport {\r\n\tuseItem,\r\n\tChangeControls,\r\n\tItemTitle,\r\n\tArchiveItemBtn,\r\n\tItemTabsContainer,\r\n\tItemTabsBar,\r\n} from 'components/dashboard/containers/ItemCommon/'\r\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport {\r\n\tNewCampaignFromAudience,\r\n\tAudienceRules,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\texecute,\r\n\tupdateNewCampaign,\r\n\tupdateNewAudience,\r\n\tresetNewItem,\r\n\tupdateAudienceInput,\r\n\tmapCurrentToNewAudience,\r\n} from 'actions'\r\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport { validateAndUpdateAudience as validateAndUpdateFn } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tactions: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\t'& > *': {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport const TargetingSteps = ({ updateField, itemId, ...props }) => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\tcancelFunction={() => execute(resetNewItem('Audience', itemId))}\r\n\t\t\titemId={itemId}\r\n\t\t\tvalidateIdBase={`update-audience-${itemId}-`}\r\n\t\t\titemType='Audience'\r\n\t\t\tstepsId={`update-campaign-${itemId}`}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SAVED_AUDIENCE',\r\n\t\t\t\t\tcomponent: AudienceRules,\r\n\t\t\t\t\tcompleteBtnTitle: 'OK',\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(updateAudienceInput({ updateField, itemId, ...props })),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\titemModel={AudienceModel}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst TargetingRulesEdit = WithDialog(TargetingSteps)\r\n\r\nfunction Audience({ match }) {\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tconst { item = {}, ...hookProps } = useItem({\r\n\t\titemType: 'Audience',\r\n\t\tmatch,\r\n\t\tobjModel: AudienceModel,\r\n\t\tvalidateAndUpdateFn,\r\n\t})\r\n\r\n\tconst { validations } = hookProps\r\n\tconst { inputs, title, id, archived } = item\r\n\tconst { title: errTitle } = validations\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<ItemTabsBar>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\r\n\t\t\t\t\tvariant='scrollable'\r\n\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label={t('AUDIENCE_MAIN')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</ItemTabsBar>\r\n\t\t\t<ChangeControls {...hookProps} />\r\n\t\t\t<ItemTabsContainer>\r\n\t\t\t\t<Box p={1} pt={2}>\r\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\r\n\r\n\t\t\t\t\t<AudiencePreview audienceInput={inputs} />\r\n\r\n\t\t\t\t\t<Box className={classes.actions}>\r\n\t\t\t\t\t\t<TargetingRulesEdit\r\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\r\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\r\n\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\tdisableBackdropClick\r\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tmapCurrentToNewAudience({\r\n\t\t\t\t\t\t\t\t\t\titemId: id,\r\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<NewAudienceDialog\r\n\t\t\t\t\t\t\tbtnLabel='NEW_AUDIENCE_FROM_THIS'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\r\n\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t\ttitle: title + ' (2)',\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t{!archived && (\r\n\t\t\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\t\t\titemType='Audience'\r\n\t\t\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\t\t\tgoToTableOnSuccess\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t</ItemTabsContainer>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nAudience.propTypes = {\r\n\tmatch: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Audience\r\n","import React, { Fragment } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tList,\r\n\tListItem,\r\n\tDivider,\r\n\tListItemText,\r\n\tListItemIcon,\r\n\tListItemSecondaryAction,\r\n\tListSubheader,\r\n\tPaper,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { CheckSharp, WarningSharp } from '@material-ui/icons'\r\nimport {\r\n\tWebsiteIssues,\r\n\tWebsiteIssuesLegend,\r\n\tWebsiteVerifyBtn,\r\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport { t, selectWebsitesList } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tlist: {\r\n\t\twidth: '100%',\r\n\t},\r\n\tinline: {\r\n\t\tdisplay: 'inline',\r\n\t\twordBreak: 'break-all',\r\n\t},\r\n\twarning: {\r\n\t\tcolor: theme.palette.warning.main,\r\n\t},\r\n\tsuccess: {\r\n\t\tcolor: theme.palette.success.main,\r\n\t},\r\n}))\r\n\r\nexport default function Websites() {\r\n\tconst classes = useStyles()\r\n\tconst websites = useSelector(selectWebsitesList)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<WebsiteIssuesLegend />\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t\t<Box>\r\n\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t<List className={classes.list} dense disablePadding>\r\n\t\t\t\t\t\t<ListSubheader disableSticky>\r\n\t\t\t\t\t\t\t{t('REGISTERED_WEBSITES')}\r\n\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t{websites.map(({ id, issues, updated }, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t{issues.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<WarningSharp className={classes.warning} />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckSharp className={classes.success} />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={id}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondaryTypographyProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent: 'div',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondary={<WebsiteIssues issues={issues} asKeyWords />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t\t\t<WebsiteVerifyBtn\r\n\t\t\t\t\t\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tissues={issues}\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdated={updated}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t{index < websites.length - 1 && <Divider />}\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tTextField,\r\n\tButton,\r\n\tBox,\r\n\tListItemText,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectAccountStatsFormatted,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\n\r\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\tavailableIdentityBalanceMainToken: max,\r\n\t\tavailableIdentityBalanceAllMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tamountToWithdraw: errAmount,\r\n\t\twithdrawTo: errAddr,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t{availableIdentityBalanceAllMainToken !== max ? (\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tprimary={`${max || 0} ${symbol}`}\r\n\t\t\t\t\t\t\t\tsecondary={t(\r\n\t\t\t\t\t\t\t\t\t'IDENTITY_MAIN_TOKEN_BALANCE_WITHDRAW_AVAILABLE_INFO',\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360016097580-Why-can-t-I-withdraw-my-entire-balance-'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('FIND_MORE')}\r\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t\t\t\t{t(\r\n\t\t\t\t\t\t\t\t\t'EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY',\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Alert variant='filled' severity='warning'>\r\n\t\t\t\t\t\t\t{t('WITHDRAW_ADDRESS_WARNING')}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t!spinner && errAddr && !!errAddr.dirty ? errAddr.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{spinner && <InputLoading />}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\r\n\t\t\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawFromIdentity\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectSpinnerById,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst WithdrawAnyTokenFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst {\r\n\t\tamountToWithdraw,\r\n\t\twithdrawTo,\r\n\t\ttokenAddress,\r\n\t\ttokenDecimals,\r\n\t} = useSelector(state => selectNewTransactionById(state, stepsId))\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tamountToWithdraw: errAmount,\r\n\t\twithdrawTo: errAddr,\r\n\t\ttokenAddress: errTokenAddress,\r\n\t\ttokenDecimals: errTokenDecimals,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\r\n\t\t\t\t\t\tname='tokenAddress'\r\n\t\t\t\t\t\tvalue={tokenAddress || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'tokenAddress',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTokenAddress && !!errTokenAddress.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTokenAddress && !!errTokenAddress.dirty\r\n\t\t\t\t\t\t\t\t? errTokenAddress.errMsg\r\n\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\r\n\t\t\t\t\t\tname='tokenDecimals'\r\n\t\t\t\t\t\tvalue={tokenDecimals || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'tokenDecimals',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errTokenDecimals && !!errTokenDecimals.dirty}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\terrTokenDecimals && !!errTokenDecimals.dirty\r\n\t\t\t\t\t\t\t\t? errTokenDecimals.errMsg\r\n\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{spinner ? <InputLoading /> : null}\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={spinner}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\r\n\t\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\t\thelperText={errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nWithdrawAnyTokenFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawAnyTokenFromIdentity\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTextField,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tCheckbox,\r\n\tTypography,\r\n} from '@material-ui/core'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { constants } from 'adex-models'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\r\n\treturn {\r\n\t\tvalue,\r\n\t\tlabel: t(`PRIV_${value}_LABEL`),\r\n\t\tinfo: t(`PRIV_${value}_INFO`),\r\n\t}\r\n})\r\n\r\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\r\n\tconst {\r\n\t\tsetAddr,\r\n\t\tprivLevel,\r\n\t\twarningAccepted,\r\n\t\twarningMsg,\r\n\t} = useSelector(state => selectNewTransactionById(state, stepsId))\r\n\r\n\tconst {\r\n\t\tsetAddr: errAddr,\r\n\t\tsetAddrWarning: warning,\r\n\t\tprivLevel: errPrivLvl,\r\n\t\tfees: errFees,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}:\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\t\t\t\tname='setAddr'\r\n\t\t\t\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'privLevel',\r\n\t\t\t\t\t\t\t\t\t\tvalue: val,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\r\n\t\t\t\t\t\t\t\t\t? errPrivLvl.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tkey={x.value}\r\n\t\t\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{(warning || warningAccepted || warningMsg) && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\terror={warning && warning.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='warningAccepted'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SeAddressPrivilege\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateNewTransaction } from 'actions'\r\nimport { TextField, InputAdornment, Box, Typography } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectWeb3SyncSpinnerByValidateId,\r\n} from 'selectors'\r\n\r\nfunction SetAccountENSPage({ stepsId, validateId } = {}) {\r\n\tconst { username } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst { username: errUsername, fees: errFees } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst syncSpinner = useSelector(state =>\r\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{syncSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\r\n\t\t\t\t\t\t\t{t('SET_ENS_MAIN_INFO')}:\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\r\n\t\t\t\t\t\t\tname='username'\r\n\t\t\t\t\t\t\tvalue={username || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'username',\r\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errUsername && !!errUsername.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrUsername && !!errUsername.dirty ? errUsername.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\r\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\r\n\t\t\t\t\t\t\t{errFees.errMsg}\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nSetAccountENSPage.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SetAccountENSPage\r\n","import React from 'react'\r\nimport { Box, ListItemText } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { t } from 'selectors'\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n\tsymbol,\r\n}) => (\r\n\t<Box>\r\n\t\t<Box p={1}>\r\n\t\t\t<Alert variant='filled' severity='warning'>\r\n\t\t\t\t{t('WITHDRAW_ADDRESS_WARNING')}\r\n\t\t\t</Alert>\r\n\t\t</Box>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tsetAddr,\r\n\tclasses,\r\n\tfeesData,\r\n\tprivLevel,\r\n\tsymbol,\r\n}) => (\r\n\t<Box>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n\r\nexport const SetENSPreview = ({\r\n\tusername,\r\n\taddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tsymbol,\r\n}) => (\r\n\t<Box>\r\n\t\t<PropRow\r\n\t\t\tkey='addr'\r\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\r\n\t\t\tright={(address || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='username'\r\n\t\t\tleft={t('username', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tfeesData.fees,\r\n\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n\r\nexport const IdentityWithdrawAnyPreview = ({\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n}) => (\r\n\t<Box>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='tokenAddress'\r\n\t\t\tleft={t('tokenAddress', { isProp: true })}\r\n\t\t\tright={(tokenAddress || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</Box>\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport { Box } from '@material-ui/core'\r\nimport {\r\n\tWalletAction,\r\n\tFeesBreakdown,\r\n} from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview,\r\n\tSetENSPreview,\r\n\tIdentityWithdrawAnyPreview,\r\n} from './previews'\r\n\r\nimport {\r\n\tselectMainToken,\r\n\tt,\r\n\tselectSpinnerById,\r\n\tselectAccount,\r\n\tselectNewTransactionById,\r\n} from 'selectors'\r\nimport { execute, checkNetworkCongestion } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TransactionPreview(props) {\r\n\tconst classes = useStyles()\r\n\tconst { previewWarnMsgs, stepsId } = props\r\n\tconst txId = stepsId\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { address } = account.identity\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, stepsId))\r\n\tconst {\r\n\t\twithdrawTo,\r\n\t\tamountToWithdraw,\r\n\t\twaitingForWalletAction,\r\n\t\tsetAddr,\r\n\t\tusername,\r\n\t\tprivLevel,\r\n\t\ttokenAddress,\r\n\t\tfeesData = {},\r\n\t\terrors = [],\r\n\t} = useSelector(state => selectNewTransactionById(state, txId))\r\n\tconst [networkCongested, setNetworkCongested] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function checkNetwork() {\r\n\t\t\tconst msg = await execute(checkNetworkCongestion())\r\n\r\n\t\t\tif (msg) {\r\n\t\t\t\tsetNetworkCongested(msg)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcheckNetwork()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t{waitingForWalletAction || networkCongested ? (\r\n\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t{waitingForWalletAction && (\r\n\t\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{networkCongested && (\r\n\t\t\t\t\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='filled' square>\r\n\t\t\t\t\t\t\t\t\t\t<AlertTitle>{t('NETWORK_WARNING')}</AlertTitle>\r\n\t\t\t\t\t\t\t\t\t\t{networkCongested}\r\n\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setENS' && (\r\n\t\t\t\t\t\t\t<SetENSPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\tusername={username}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<FeesBreakdown\r\n\t\t\t\t\t\t\tbreakdownFormatted={feesData.breakdownFormatted}\r\n\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n}\r\n\r\nexport default TransactionPreview\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\r\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport SetAccountENSPage from './SetAccountENSPage'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport {\r\n\tidentityWithdraw,\r\n\tsetIdentityENS,\r\n\tvalidatePrivilegesChange,\r\n\tidentityWithdrawAny,\r\n\tvalidateIdentityWithdraw,\r\n\tcompleteTx,\r\n\texecute,\r\n\tresetNewTransaction,\r\n\tupdateIdentityPrivilege,\r\n\tvalidateENSChange,\r\n\tvalidateIdentityWithdrawAny,\r\n} from 'actions'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst cancelFunction = stepsId => {\r\n\texecute(resetNewTransaction({ tx: stepsId }))\r\n}\r\n\r\nconst txCommon = {\r\n\tcancelFunction,\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tcomponent: WithdrawFromIdentity,\r\n\t\t\t\tvalidationFn: props => {\r\n\t\t\t\t\texecute(validateIdentityWithdraw(props))\r\n\t\t\t\t\tReactGA.event({\r\n\t\t\t\t\t\taction: 'account',\r\n\t\t\t\t\t\tcategory: 'withdraw',\r\n\t\t\t\t\t\tlabel: 'continue',\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: identityWithdraw,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = ({ SaveBtn, label, ...props }) => {\r\n\treturn (\r\n\t\t<FormStepsWithDialog\r\n\t\t\t{...props}\r\n\t\t\tbtnLabel={label || 'ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'}\r\n\t\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\t\tstepsId='setIdentityPrivilege'\r\n\t\t\t{...txCommon}\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\t\tcomponent: SeAddressPrivilege,\r\n\t\t\t\t\tvalidationFn: props => execute(validatePrivilegesChange(props)),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\t\tcompeteAction: updateIdentityPrivilege,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const WithdrawAnyTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawAnyFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tcomponent: WithdrawAnyTokenFromIdentityPage,\r\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdrawAny(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: identityWithdrawAny,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const SetAccountENS = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\r\n\t\tstepsId='setENS'\r\n\t\t{...txCommon}\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\r\n\t\t\t\tcomponent: SetAccountENSPage,\r\n\t\t\t\tvalidationFn: props => execute(validateENSChange(props)),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\r\n\t\t\t\tcomponent: TransactionPreview,\r\n\t\t\t\tcompleteFn: props =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tcompleteTx({\r\n\t\t\t\t\t\t\t...props,\r\n\t\t\t\t\t\t\tcompeteAction: setIdentityENS,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n","import React, { useState, Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tWithdrawAnyTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n\tSetAccountENS,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tDivider as ListDivider,\r\n\tListSubheader,\r\n\tButton,\r\n\tBox,\r\n\tAccordion,\r\n\tAccordionSummary,\r\n\tTypography,\r\n\tIconButton,\r\n\tPaper,\r\n\tGrid,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport { InfoSharp } from '@material-ui/icons'\r\nimport { VpnKey, Lock } from '@material-ui/icons'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { styles } from './styles.js'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport copy from 'copy-to-clipboard'\r\nimport {\r\n\tt,\r\n\tselectWallet,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectMainToken,\r\n\tselectEasterEggsAllowed,\r\n\tselectEnsAddressByAddr,\r\n\tselectAccountIdentityCurrentPrivileges,\r\n\tselectIdentityRecoveryAddr,\r\n\tselectSide,\r\n} from 'selectors'\r\nimport { execute, addToast, updateNewTransaction } from 'actions'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\n\r\nconst AccountItem = ({ left, right }) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<ListItem>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tclassName={classes.root}\r\n\t\t\t\tspacing={1}\r\n\t\t\t\tjustify='center'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12} sm={6} md={9}>\r\n\t\t\t\t\t{left}\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={6} md={3}>\r\n\t\t\t\t\t{right}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</ListItem>\r\n\t)\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AccountInfo() {\r\n\tconst { authType = '' } = useSelector(selectWallet)\r\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst side = useSelector(selectSide)\r\n\tconst canMakeTx = privileges > 1\r\n\tconst currentPrivileges = useSelector(selectAccountIdentityCurrentPrivileges)\r\n\tconst identityRecoveryAddr = useSelector(selectIdentityRecoveryAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\tidentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceAllMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst identityEnsName = useSelector(state =>\r\n\t\tselectEnsAddressByAddr(state, identityAddress)\r\n\t)\r\n\r\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\r\n\r\n\tconst [expanded, setExpanded] = useState(false)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tconst handleExpandChange = () => {\r\n\t\tsetExpanded(!expanded)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<List className={classes.root} disablePadding>\r\n\t\t\t\t\t<ListSubheader disableSticky>{t('ADEX_ACCOUNT')}</ListSubheader>\r\n\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t{...(identityEnsName && {\r\n\t\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\r\n\t\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t{...(!identityEnsName && {\r\n\t\t\t\t\t\t\t\t\t\tprimary: identityAddress,\r\n\t\t\t\t\t\t\t\t\t\tsecondary: (\r\n\t\t\t\t\t\t\t\t\t\t\t<span className={classes.infoLabel}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('ENS_NOT_SET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinteractive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={t('ENS_NOT_SET_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360017777100-What-is-an-Account-Username-and-how-to-set-it-'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InfoSharp\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t!!identityAddress && (\r\n\t\t\t\t\t\t\t\t<SetAccountENS\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceAllMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_INFO')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{availableIdentityBalanceAllMainToken !==\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken && (\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={t(\r\n\t\t\t\t\t\t\t\t\t\t\t'IDENTITY_MAIN_TOKEN_BALANCE_WITHDRAW_AVAILABLE_INFO',\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360016097580-Why-can-t-I-withdraw-my-entire-balance-'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('FIND_MORE')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\t\t\tto={`/dashboard/${side}/topup`}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t\t{t('TOP_UP')}\r\n\t\t\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t\ttoken={symbol}\r\n\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</List>\r\n\t\t\t</Paper>\r\n\t\t\t<Box mt={1}>\r\n\t\t\t\t<Accordion\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={handleExpandChange}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t>\r\n\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<ListSubheader disableSticky>\r\n\t\t\t\t\t\t\t{t('WALLETS_WITH_PRIVILEGES')}\r\n\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t<List disablePadding>\r\n\t\t\t\t\t\t\t<AccountPrivilageItem\r\n\t\t\t\t\t\t\t\taddress={walletAddress}\r\n\t\t\t\t\t\t\t\tprivileges={privileges}\r\n\t\t\t\t\t\t\t\tauthType={authType}\r\n\t\t\t\t\t\t\t\tcurrent\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{Object.keys(currentPrivileges)\r\n\t\t\t\t\t\t\t\t.filter(a => a !== identityRecoveryAddr && a !== walletAddress)\r\n\t\t\t\t\t\t\t\t.map((address, key) => (\r\n\t\t\t\t\t\t\t\t\t<Fragment key={key}>\r\n\t\t\t\t\t\t\t\t\t\t<AccountPrivilageItem\r\n\t\t\t\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\t\t\t\tprivileges={currentPrivileges[address]}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_LEADER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_FOLLOWER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t{allowEasterEggs && (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Accordion>\r\n\t\t\t</Box>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nfunction AccountPrivilageItem(props) {\r\n\tconst classes = useStyles()\r\n\tconst currUserPrivileges = useSelector(selectWalletPrivileges)\r\n\tconst canMakeTx = currUserPrivileges > 1\r\n\tconst { address, privileges, current, authType } = props\r\n\tconst privColors = ['disabled', 'secondary', 'primary']\r\n\tconst { availableIdentityBalanceMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\treturn (\r\n\t\t<AccountItem\r\n\t\t\tleft={\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tdirection='row'\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustify='flex-start'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<VpnKey color={privColors[privileges]} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\tprimary={<Typography>{formatAddress(address)}</Typography>}\r\n\t\t\t\t\t\t\tsecondary={t('WALLET_PRIV_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t\tright={\r\n\t\t\t\t<Grid container direction='row' justify='center' alignItems='center'>\r\n\t\t\t\t\t{current ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\tstartIcon={<Lock />}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tcolor={privColors[currUserPrivileges]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{`${t('CURRENT_AUTH')} : ${authType}`}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tlabel='CHANGE_PRIVILEGE'\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: 'setIdentityPrivilege',\r\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\t\t\t\tvalue: address,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AccountInfo\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tactionBtn: {\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t\tflexGrow: 0,\r\n\t\t},\r\n\t\tadvancedList: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\ticonBtnLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tinfoLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t\textraInfo: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tcopyBtn: {\r\n\t\t\tbackgroundColor: theme.palette.appBar.main,\r\n\t\t\toverflowWrap: 'anywhere',\r\n\t\t\tuserSelect: 'text',\r\n\t\t\ttextTransform: 'none',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tfontSize: '2rem',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t},\r\n\t\tsubtitle: {\r\n\t\t\tfontSize: '1rem',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t},\r\n\t\tpaper: {\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfo: {\r\n\t\t\tfontSize: '10px',\r\n\t\t},\r\n\t\tinfoGrid: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t},\r\n\t\tinfoTitle: {\r\n\t\t\tfontSize: '12px',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","export const popupCenter = ({ url, title, w, h }) => {\r\n\t// Fixes dual-screen position                             Most browsers      Firefox\r\n\tconst dualScreenLeft =\r\n\t\twindow.screenLeft !== undefined ? window.screenLeft : window.screenX\r\n\tconst dualScreenTop =\r\n\t\twindow.screenTop !== undefined ? window.screenTop : window.screenY\r\n\r\n\tconst width = window.innerWidth\r\n\t\t? window.innerWidth\r\n\t\t: document.documentElement.clientWidth\r\n\t\t? document.documentElement.clientWidth\r\n\t\t: window.screen.width\r\n\tconst height = window.innerHeight\r\n\t\t? window.innerHeight\r\n\t\t: document.documentElement.clientHeight\r\n\t\t? document.documentElement.clientHeight\r\n\t\t: window.screen.height\r\n\r\n\tconst systemZoom = width / window.screen.availWidth\r\n\tconst left = (width - w) / 2 / systemZoom + dualScreenLeft\r\n\tconst top = (height - h) / 2 / systemZoom + dualScreenTop\r\n\tconst newWindow = window.open(\r\n\t\turl,\r\n\t\ttitle,\r\n\t\t`\r\n\t\ttoolbar=no,scrollbars=no,resizable=no\r\n\t\twidth=${w / systemZoom}, \r\n\t\theight=${h / systemZoom}, \r\n\t\ttop=${top}, \r\n\t\tleft=${left},\r\n\t\t`\r\n\t)\r\n\r\n\tif (window.focus) newWindow.focus()\r\n}\r\n","import { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport { popupCenter } from 'helpers/popupHelper'\r\nimport transakSDK from '@transak/transak-sdk'\r\nimport url from 'url'\r\nimport { t } from 'selectors'\r\n\r\nconst PAYTRIE_PARTNER_URL = 'https://partner.paytrie.com/?app=876454'\r\nconst WYRE_URL = 'https://pay.sendwyre.com/purchase?'\r\nconst { RAMP_HOST_API_KEY, TRANSAK_API_KEY, TRANSAK_ENV } = process.env\r\n\r\n//https://docs.sendwyre.com/docs/wyre-widget-v2\r\nexport const openWyre = ({ accountId, symbol, ...rest }) => {\r\n\tconst URL = url.parse(WYRE_URL, true)\r\n\tURL.search = null\r\n\tif (accountId) {\r\n\t\tURL.query = {\r\n\t\t\t...URL.query,\r\n\t\t\tdest: accountId ? `ethereum:${accountId}` : null,\r\n\t\t\treferenceId: accountId,\r\n\t\t\tdestCurrency: symbol,\r\n\t\t\t...rest,\r\n\t\t}\r\n\t\tpopupCenter({\r\n\t\t\turl: url.format(URL),\r\n\t\t\ttitle: t('WYRE_DEPOSIT'),\r\n\t\t\tw: 450,\r\n\t\t\th: 700,\r\n\t\t})\r\n\t} else {\r\n\t\tconsole.error('WYRE_DEPOSIT_MISSING_DEST_PARAM')\r\n\t}\r\n}\r\n\r\n//https://paytrie.com/developer\r\nexport const openPayTrie = ({ accountId, email, symbol, ...rest }) => {\r\n\tconst URL = url.parse(PAYTRIE_PARTNER_URL, true)\r\n\tURL.search = null\r\n\tURL.query = {\r\n\t\t...URL.query,\r\n\t\taddr: accountId,\r\n\t\temail,\r\n\t\trightSideLabel: symbol,\r\n\t\t...rest,\r\n\t}\r\n\tpopupCenter({\r\n\t\t//TODO: Change testwyre to production\r\n\t\turl: url.format(URL),\r\n\t\ttitle: t('PAYTRIE_DEPOSIT'),\r\n\t\tw: 450,\r\n\t\th: 700,\r\n\t})\r\n}\r\n\r\nexport const openOnRampNetwork = ({ accountId, symbol }) => {\r\n\tconst widget = new RampInstantSDK({\r\n\t\thostAppName: 'AdExNetwork',\r\n\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\tvariant: 'auto',\r\n\t\tswapAsset: symbol,\r\n\t\tuserAddress: accountId,\r\n\t\thostApiKey: RAMP_HOST_API_KEY,\r\n\t})\r\n\twidget.domNodes.overlay.style.zIndex = 1300\r\n\twidget.show()\r\n}\r\n\r\nexport const openTransak = ({ accountId, symbol }) => {\r\n\tconst transak = new transakSDK({\r\n\t\tapiKey: TRANSAK_API_KEY, // Your API Key\r\n\t\tenvironment: TRANSAK_ENV, // STAGING/PRODUCTION\r\n\t\tcryptoCurrencyList: symbol,\r\n\t\tdefaultCryptoCurrency: symbol,\r\n\t\tdisableWalletAddressForm: true,\r\n\t\twalletAddress: accountId, // Your customer's wallet address\r\n\t\tthemeColor: '000000', // App theme color\r\n\t\t// fiatCurrency: 'GBP', // INR/GBP\r\n\t\temail: '', // Your customer's email address\r\n\t\tredirectURL: '',\r\n\t\thostURL: window.location.origin,\r\n\t\twidgetHeight: 'calc(100% - 60px)',\r\n\t\twidgetWidth: '100%',\r\n\t})\r\n\r\n\ttransak.init()\r\n\r\n\t// To get all the events\r\n\ttransak.on(transak.ALL_EVENTS, data => {\r\n\t\tconsole.log(data)\r\n\t})\r\n\r\n\t// This will trigger when the user marks payment is made.\r\n\ttransak.on(transak.EVENTS.TRANSAK_ORDER_SUCCESSFUL, orderData => {\r\n\t\tconsole.log(orderData)\r\n\t\ttransak.close()\r\n\t})\r\n}\r\n","import React from 'react'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tButton,\r\n\tList,\r\n\tListItem,\r\n\tGrid,\r\n} from '@material-ui/core'\r\nimport { t } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Media from 'components/common/media'\r\nimport {\r\n\topenWyre,\r\n\topenPayTrie,\r\n\topenOnRampNetwork,\r\n\topenTransak,\r\n} from 'services/onramp'\r\nimport RAMP_LOGO from 'resources/ramp.svg'\r\nimport WYRE_LOGO from 'resources/wyre.svg'\r\nimport PAYTRIE_LOGO from 'resources/paytrie.svg'\r\nimport TRANSAK_LOGO from 'resources/transak.svg'\r\nimport CHANGELLY_LOGO from 'resources/changelly.svg'\r\nimport { styles } from './styles'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst useStyles = makeStyles(styles)\r\nconst commonGAEventProps = {\r\n\taction: 'account',\r\n\tcategory: 'top_up',\r\n}\r\nconst fiatProvidersDetails = [\r\n\t{\r\n\t\ttitle: t('RAMP_PAYMENT_METHODS'),\r\n\t\tonClick: props => openOnRampNetwork(props),\r\n\t\timgSrc: RAMP_LOGO,\r\n\t\timgAlt: t('RAMP'),\r\n\t\tfeeInfo: t('RAMP_FEES'),\r\n\t\tlimitInfo: t('RAMP_LIMITS'),\r\n\t\tcurrencies: t('RAMP_CURRENCIES'),\r\n\t},\r\n\t// {\r\n\t// \ttitle: t('CREDIT_CARD'),\r\n\t// \tonClick: props => openWyre(props),\r\n\t// \timgSrc: WYRE_LOGO,\r\n\t// \timgAlt: t('WYRE'),\r\n\t// \tfeeInfo: t('WYRE_FEES'),\r\n\t// \tlimitInfo: t('WYRE_LIMITS'),\r\n\t// \tcurrencies: t('WYRE_CURRENCIES'),\r\n\t// },\r\n\t{\r\n\t\ttitle: t('BANK_TRANSFER'),\r\n\t\tonClick: props => openPayTrie(props),\r\n\t\timgSrc: PAYTRIE_LOGO,\r\n\t\timgAlt: t('PAYTRIE'),\r\n\t\tfeeInfo: t('PAYTRIE_FEES'),\r\n\t\tlimitInfo: t('PAYTRIE_LIMITS'),\r\n\t\tcurrencies: t('PAYTRIE_CURRENCIES'),\r\n\t},\r\n\t{\r\n\t\ttitle: t('BANK_TRANSFER_AND_CARD_PAYMENTS'),\r\n\t\tonClick: props => openTransak(props),\r\n\t\timgSrc: TRANSAK_LOGO,\r\n\t\timgAlt: t('TRANSAK'),\r\n\t\tfeeInfo: t('TRANSAK_FEES'),\r\n\t\tlimitInfo: t('TRANSAK_LIMITS'),\r\n\t\tcurrencies: t('TRANSAK_CURRENCIES'),\r\n\t},\r\n]\r\n\r\nconst cryptoProvidersDetails = [\r\n\t{\r\n\t\ttitle: t('CHANGELLY_TRANSFER'),\r\n\t\tonClick: ({ side }) => execute(push(`/dashboard/${side}/topup/changelly`)),\r\n\t\timgSrc: CHANGELLY_LOGO,\r\n\t\timgAlt: t('CHANGELLY'),\r\n\t\tfeeInfo: t('CHANGELLY_FEES'),\r\n\t\tlimitInfo: t('CHANGELLY_TIME'),\r\n\t\tcurrencies: t('CHANGELLY_CURRENCIES', { args: ['BTC, ETH, XRP'] }),\r\n\t},\r\n]\r\n\r\nconst ProviderListItem = ({\r\n\timgSrc,\r\n\timgAlt,\r\n\ttitle,\r\n\tfeeInfo,\r\n\tlimitInfo,\r\n\tcurrencies,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\treturn (\r\n\t\t<Button size='large' fullWidth disableElevation className={classes.copyBtn}>\r\n\t\t\t<Box width='100%'>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tdirection='row'\r\n\t\t\t\t\tjustify='space-between'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tspacing={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item xs={5} sm={4} md={4}>\r\n\t\t\t\t\t\t<Media className={classes.img} alt={imgAlt} src={imgSrc} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={8} md={8} className={classes.infoGrid}>\r\n\t\t\t\t\t\t<Typography className={classes.infoTitle}>{title}</Typography>\r\n\t\t\t\t\t\t{[feeInfo, limitInfo, currencies].map((item, key) => (\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tkey={`info-${key}`}\r\n\t\t\t\t\t\t\t\tclassName={classes.info}\r\n\t\t\t\t\t\t\t\tcomponent='p'\r\n\t\t\t\t\t\t\t\tcolor='textSecondary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst Providers = ({ providersDetails, accountId, symbol, email, side }) => (\r\n\t<List disablePadding>\r\n\t\t{providersDetails.map((item, key) => (\r\n\t\t\t<ListItem\r\n\t\t\t\tdisableGutters\r\n\t\t\t\tkey={key}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\titem.onClick({ accountId, symbol, email, side })\r\n\t\t\t\t\tReactGA.event({\r\n\t\t\t\t\t\t...commonGAEventProps,\r\n\t\t\t\t\t\tlabel: item.imgAlt,\r\n\t\t\t\t\t})\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ProviderListItem\r\n\t\t\t\t\tkey={key}\r\n\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\timgSrc={item.imgSrc}\r\n\t\t\t\t\timgAlt={item.imgAlt}\r\n\t\t\t\t\tfeeInfo={item.feeInfo}\r\n\t\t\t\t\tlimitInfo={item.limitInfo}\r\n\t\t\t\t\tcurrencies={item.currencies}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t))}\r\n\t</List>\r\n)\r\n\r\nexport const FiatProviders = ({ accountId, symbol, email }) => (\r\n\t<Providers\r\n\t\tprovidersDetails={fiatProvidersDetails}\r\n\t\taccountId={accountId}\r\n\t\tsymbol={symbol}\r\n\t\temail={email}\r\n\t/>\r\n)\r\n\r\nexport const CryptoProviders = ({ accountId, symbol, email, side }) => (\r\n\t<Providers\r\n\t\tprovidersDetails={cryptoProvidersDetails}\r\n\t\taccountId={accountId}\r\n\t\tsymbol={symbol}\r\n\t\temail={email}\r\n\t\tside={side}\r\n\t/>\r\n)\r\n","import React from 'react'\r\nimport { Box, Paper, Typography, Button, Grid } from '@material-ui/core'\r\nimport { FileCopy, WarningRounded } from '@material-ui/icons'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectMainToken,\r\n\tselectEmail,\r\n\tselectSide,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport copy from 'copy-to-clipboard'\r\nimport { styles } from './styles'\r\nimport { execute, addToast } from 'actions'\r\nimport { FiatProviders, CryptoProviders } from './Ramp'\r\nimport ReactGA from 'react-ga'\r\nimport { useTheme } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function TopUp() {\r\n\tconst classes = useStyles()\r\n\tconst theme = useTheme()\r\n\tconst accountId = useSelector(selectAccountIdentityAddr)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst email = useSelector(selectEmail)\r\n\tconst side = useSelector(selectSide)\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t// justifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>{t('DAI')}</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('DIRECT_DEPOSIT')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('DAI_DIRECT_DEPOSIT_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcopy(accountId)\r\n\t\t\t\t\t\t\t\t\tReactGA.event({\r\n\t\t\t\t\t\t\t\t\t\taction: 'account',\r\n\t\t\t\t\t\t\t\t\t\tcategory: 'top_up',\r\n\t\t\t\t\t\t\t\t\t\tlabel: 'direct',\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.copyBtn}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\tdisableElevation\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tendIcon={<FileCopy fontSize='small' color='disabled' />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{accountId}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box mt={2} px={2} textAlign='center' justifyContent='center'>\r\n\t\t\t\t\t\t\t<Box pr={1} display='inline'>\r\n\t\t\t\t\t\t\t\t<WarningRounded\r\n\t\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor: theme.palette.warning.main,\r\n\t\t\t\t\t\t\t\t\t\tverticalAlign: 'text-bottom',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\t\t\tcomponent='span'\r\n\t\t\t\t\t\t\t\tcolor='danger'\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('DAI_DIRECT_DEPOSIT_WARNING_1'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\t\t\tcomponent='span'\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tcolor: theme.palette.warning.dark,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{` ${t('DAI_DIRECT_DEPOSIT_WARNING_2')}`}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tpb={1}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t// justifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>\r\n\t\t\t\t\t\t\t\t{t('FIAT_CURRENCY')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('CREDIT_CARD_BANK_TRANSFER')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('ONRAMP_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<FiatProviders\r\n\t\t\t\t\t\t\t\taccountId={accountId}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\temail={email}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\r\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\tpb={1}\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t// justifyContent='space-between'\r\n\t\t\t\t\t\theight={1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Typography className={classes.title}>\r\n\t\t\t\t\t\t\t\t{t('CRYPTO_CURRENCY_DEPOSIT')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('CRYPTO_EXCHANGE')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\r\n\t\t\t\t\t\t\t\t\t{t('CRYPTO_CURRENCY_DEPOSIT_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<CryptoProviders\r\n\t\t\t\t\t\t\t\taccountId={accountId}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\temail={email}\r\n\t\t\t\t\t\t\t\tside={side}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Paper, Box } from '@material-ui/core'\r\nimport { selectAccountIdentityAddr } from 'selectors'\r\n\r\nconst onloadFunction = `\r\nfunction at(t) {\r\n\tvar e = t.target,\r\n\t\ti = e.parentNode,\r\n\t\tn = e.contentWindow,\r\n\t\tr = function() {\r\n\t\t\treturn n.postMessage({ width: i.offsetWidth }, 'https://widget.changelly.com');\r\n\t\t};\r\n\twindow.addEventListener('resize', r), r();\r\n};\r\nat.apply(this, arguments);\r\n`\r\nconst getChangellyIframe = identityAddress =>\r\n\t`\r\n\t<iframe \r\n\tsrc=\"https://widget.changelly.com?from=btc,eth,xrp&to=dai&amount=0.007&address=${identityAddress}&fromDefault=btc&toDefault=dai&theme=aqua&merchant_id=unl7fil0on3x48m1&payment_id=&v=3\" \r\n\twidth=\"100%\" height=\"600\" class=\"changelly\" scrolling=\"no\" \r\n\tonLoad=\"${onloadFunction}\" \r\n\tstyle=\"min-width: 100%; width: 100px; overflow-y: hidden; border: none\">Can't load widget</iframe>\r\n`\r\n\r\nfunction TopUpChangelly(props) {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst widgetIframeHtml = getChangellyIframe(identityAddr)\r\n\r\n\treturn (\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<Box p={2}>\r\n\t\t\t\t{!!identityAddr && (\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: widgetIframeHtml }} />\r\n\t\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default TopUpChangelly\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { CheckCircle } from '@material-ui/icons'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst LINES_WIDTH = 3\r\nconst DEFAULT_SIZE = 80\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tzIndex: 1,\r\n\t\twidth: props => DEFAULT_SIZE,\r\n\t\theight: props => DEFAULT_SIZE,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.text.solid}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.primary.main} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.accentTwo.main}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.accentTwo.contrastText,\r\n\t\tcolor: theme.palette.accentTwo.main,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: DEFAULT_SIZE / 2,\r\n\t\tleft: `calc(-50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t\tright: `calc(50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t},\r\n\tline: {\r\n\t\theight: LINES_WIDTH,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, ${theme.palette.background.paper} 50%), ${theme.palette.text.solid}`,\r\n\t\tbackgroundSize: `${LINES_WIDTH * 5}px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <CheckCircle className={clsx(classes.star)} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { confirmAction, execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/'\r\n\r\nexport const createAdUnitTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 8; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const fundAccountTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const launchFirstCampaign = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 5; i++) {\r\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const createAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 7; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const verifyWebsite = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 2; i++) {\r\n\t\tsteps.push(`TUTORIAL_VERIFY_WEBSITE_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_VERIFY_WEBSITE_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t,\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const placeAdSlot = () => {\r\n\tconst stepsPlace = []\r\n\tconst stepsIntegrate = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tstepsPlace.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\r\n\tfor (let i = 5; i <= 6; i++) {\r\n\t\tstepsIntegrate.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_PLACE')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{stepsPlace.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INTEGRATE')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{stepsPlace.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360011670479-How-to-Create-Publisher-Ad-Slots'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012022820-How-to-implement-an-ad-slot-to-your-website'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_3')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013148720-How-to-integrate-AdEx-ads-on-a-WordPress-site'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_4')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { execute, resendConfirmationEmail } from 'actions'\r\nimport { SendSharp } from '@material-ui/icons'\r\nimport { Grid, Button } from '@material-ui/core'\r\nimport { selectResendConfirmation, t } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\n\r\nfunction ResendConfirm() {\r\n\tconst { lastEmailResent } = useSelector(state =>\r\n\t\tselectResendConfirmation(state)\r\n\t)\r\n\tconst lastEmailResentTs = lastEmailResent ? +new Date(lastEmailResent) : 0\r\n\tconst waitInSeconds = Math.ceil(\r\n\t\t(lastEmailResentTs + 60 * 1000 - Date.now()) / 1000\r\n\t)\r\n\tconst [timeLeft, setTimeLeft] = useState(waitInSeconds)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (timeLeft <= 0) {\r\n\t\t\tsetTimeLeft(null)\r\n\t\t}\r\n\r\n\t\t// exit early when we reach 0\r\n\t\tif (!timeLeft) return\r\n\r\n\t\t// save intervalId to clear the interval when the\r\n\t\t// component re-renders\r\n\t\tconst intervalId = setInterval(() => {\r\n\t\t\tsetTimeLeft(timeLeft - 1)\r\n\t\t}, 1000)\r\n\r\n\t\t// clear interval on re-render to avoid memory leaks\r\n\t\treturn () => clearInterval(intervalId)\r\n\t\t// add timeLeft as a dependency to re-rerun the effect\r\n\t\t// when we update it\r\n\t}, [timeLeft])\r\n\treturn (\r\n\t\t<Grid container>\r\n\t\t\t<Grid lg={12}>\r\n\t\t\t\t<span\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid container lg={12} alignItems='center'>\r\n\t\t\t\t<Grid>{t('GETTING_STARTED_DID_NOT_RECEIVE_QUESTION')}</Grid>\r\n\t\t\t\t<Grid>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\texecute(resendConfirmationEmail())\r\n\t\t\t\t\t\t\tsetTimeLeft(60)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={timeLeft}\r\n\t\t\t\t\t\tendIcon={<SendSharp />}\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('RESEND')} {timeLeft && t('WAIT_TIME', { args: [timeLeft] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default ResendConfirm\r\n","import React, { useEffect, useState } from 'react'\r\nimport { ACCENT_TWO } from 'components/App/themeMUi'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tBox,\r\n\tStepButton,\r\n\tMobileStepper,\r\n\tStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tTypography,\r\n\tHidden,\r\n\tLink,\r\n\tAccordion,\r\n\tAccordionDetails,\r\n\tAccordionSummary,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport {\r\n\tKeyboardArrowLeft,\r\n\tKeyboardArrowRight,\r\n\tExpandMore,\r\n\tClose,\r\n\tCheckCircleOutline,\r\n\tCheckCircle,\r\n} from '@material-ui/icons'\r\nimport EmailEddie from 'resources/getting-started/GS-email-ic_80x80.png'\r\nimport FundEddie from 'resources/getting-started/GS-fund-ic_80x80.png'\r\nimport CreateEddie from 'resources/getting-started/GS-create-ic_80x80.png'\r\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic_80x80.png'\r\nimport PlaceEddie from 'resources/getting-started/GS-place-ic_80x80.png'\r\n// import BonusEddie from 'resources/getting-started/GS-bonus-ic_80x80.png'\r\nimport {\r\n\tt,\r\n\tselectStepsData,\r\n\tselectHideGettingStarted,\r\n\tselectGettingStartedExpanded,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\r\nimport { hideGettingStarted, setGettingStartedExpanded, execute } from 'actions'\r\nimport {\r\n\tcreateAdUnitTutorial,\r\n\tfundAccountTutorial,\r\n\tlaunchFirstCampaign,\r\n\t// createAdSlot,\r\n\tverifyWebsite,\r\n\tplaceAdSlot,\r\n} from './Tutorials'\r\n// import { useEffectDebugger } from 'hooks/useEffectDebugger'\r\nimport ReactGA from 'react-ga'\r\nimport ResendConfirm from './ResendConfirm'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst stepperBackgroundColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.background.paper\r\n\t\t\t: theme.palette.background.paper\r\n\r\n\treturn {\r\n\t\tmobile: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tstepper: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tinstructions: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t\taccordion: {\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t\tbackgroundColor: stepperBackgroundColor,\r\n\t\t},\r\n\t\texpandIcon: {\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t},\r\n\t\tcheckmark: {\r\n\t\t\tcolor: theme.palette.accentTwo.main,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst getSteps = ({\r\n\thasCreatedAdUnit,\r\n\thasCreatedCampaign,\r\n\thasCreatedAdSlot,\r\n\thasConfirmedEmail,\r\n\thasFundedAccount,\r\n\thasImpressions,\r\n\t// has5000Impressions,\r\n\thasVerifiedSites,\r\n}) => ({\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: <ResendConfirm />,\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasCreatedAdUnit,\r\n\t\t\ttutorial: createAdUnitTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\r\n\t\t\ticon: FundEddie,\r\n\t\t\tcheck: hasFundedAccount,\r\n\t\t\ttutorial: fundAccountTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: hasCreatedCampaign,\r\n\t\t\ttutorial: launchFirstCampaign,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: <ResendConfirm />,\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\r\n\t\t// \tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t// \tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\r\n\t\t// \ticon: CreateEddie,\r\n\t\t// \tcheck: hasCreatedAdSlot,\r\n\t\t// \ttutorial: createAdSlot,\r\n\t\t// },\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_VERIFY_WEBSITE_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_VERIFY_WEBSITE_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_VERIFY_WEBSITE_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasVerifiedSites,\r\n\t\t\ttutorial: verifyWebsite,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_PLACE_AD_SLOT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\r\n\t\t\ticon: PlaceEddie,\r\n\t\t\tcheck: hasCreatedAdSlot && hasImpressions,\r\n\t\t\ttutorial: placeAdSlot,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: hasImpressions,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n})\r\n\r\nexport default function GettingStarted(props) {\r\n\tconst { side } = props\r\n\tconst classes = useStyles({ side })\r\n\tconst stepsData = useSelector(selectStepsData)\r\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\r\n\tconst expanded = useSelector(selectGettingStartedExpanded)\r\n\tconst [steps, setSteps] = useState({})\r\n\tconst [activeStep, setActiveStep] = React.useState(0)\r\n\r\n\tconst sideSteps = steps[side] || []\r\n\tconst currentStep = sideSteps[activeStep] || {}\r\n\r\n\tconst indexOfFirstIncompleteStep = sideSteps.findIndex(step => !step.check)\r\n\r\n\tconst handleStep = step => () => {\r\n\t\tsetActiveStep(step)\r\n\t}\r\n\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep(activeStep + 1)\r\n\t}\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep(activeStep - 1)\r\n\t}\r\n\r\n\tconst handleDismiss = () => {\r\n\t\tsetActiveStep(0)\r\n\t\texecute(hideGettingStarted(side))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSteps(getSteps(stepsData))\r\n\t}, [stepsData])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst advertiserStep = getSteps(stepsData).advertiser.findIndex(\r\n\t\t\tstep => !step.check\r\n\t\t)\r\n\t\tconst publisherStep = getSteps(stepsData).publisher.findIndex(\r\n\t\t\tstep => !step.check\r\n\t\t)\r\n\t\tReactGA.set({\r\n\t\t\tdimension1:\r\n\t\t\t\tadvertiserStep === -1 ? 'completed' : `step${advertiserStep + 1}`,\r\n\t\t\tdimension2:\r\n\t\t\t\tpublisherStep === -1 ? 'completed' : `step${publisherStep + 1}`,\r\n\t\t})\r\n\t}, [stepsData])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetActiveStep(\r\n\t\t\tindexOfFirstIncompleteStep !== -1\r\n\t\t\t\t? indexOfFirstIncompleteStep\r\n\t\t\t\t: sideSteps.length - 1\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [steps, indexOfFirstIncompleteStep])\r\n\t// TODO: wait for the data to be loaded before displaying the getting started\r\n\treturn (\r\n\t\t!isGettingStartedHidden &&\r\n\t\t!!sideSteps.length && (\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Accordion\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={() => execute(setGettingStartedExpanded(!expanded))}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t>\r\n\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\troot: classes.accordion,\r\n\t\t\t\t\t\t\texpandIcon: classes.expandIcon,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\taria-controls='expand-getting-started'\r\n\t\t\t\t\t\tid='getting-started-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\r\n\t\t\t\t\t\t\t\t{`${t('GETTING_STARTED_HEADING')} (${\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' ? t('PUBLISHER') : t('ADVERTISER')\r\n\t\t\t\t\t\t\t\t})`}\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center'>\r\n\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => {\r\n\t\t\t\t\t\t\t\t\tconst Icon = check ? CheckCircle : CheckCircleOutline\r\n\t\t\t\t\t\t\t\t\tconst color = ACCENT_TWO\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip arrow title={label} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon className={classes.checkmark} />\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</AccordionSummary>\r\n\r\n\t\t\t\t\t<AccordionDetails>\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\r\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\r\n\t\t\t\t\t\t\t\t\t\ticon={currentStep.icon}\r\n\t\t\t\t\t\t\t\t\t\tcompleted={currentStep.check}\r\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\t\t\t\tclassName={classes.mobile}\r\n\t\t\t\t\t\t\t\t\tsteps={sideSteps.length}\r\n\t\t\t\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tnextButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === sideSteps.length - 1}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbackButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t\t\t<Stepper\r\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.stepper }}\r\n\t\t\t\t\t\t\t\t\tnonLinear\r\n\t\t\t\t\t\t\t\t\talternativeLabel\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\r\n\t\t\t\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\r\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [activeStep + 1, currentStep.label || ''],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.check ? t('COMPLETED') : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{currentStep.check ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.contentCompleted}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.content}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.tutorial &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentStep.tutorial()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</AccordionDetails>\r\n\t\t\t\t</Accordion>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router'\r\nimport Campaign from 'components/dashboard/containers/Campaign'\r\nimport { Receipt } from 'components/dashboard/containers/Receipt'\r\nimport {\r\n\tPublisherStats,\r\n\tAdvertiserStats,\r\n} from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Audience from 'components/dashboard/containers/Audience'\r\nimport WebsitesPage from 'components/dashboard/containers/Websites'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport TopUp from 'components/dashboard/deposit/TopUp'\r\nimport TopUpChangelly from 'components/dashboard/deposit/TopUpChangelly'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n\tNewAudienceDialog,\r\n\tNewWebsiteDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tCampaignsTable,\r\n\tAdSlotsTable,\r\n\tAdUnitsTable,\r\n\tAudiencesTable,\r\n} from 'components/dashboard/containers/Tables'\r\nimport { Drawer, Box, Hidden, Paper } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Add } from '@material-ui/icons'\r\nimport { styles } from './styles'\r\nimport {\r\n\texecute,\r\n\tresolveEnsAddress,\r\n\tupdatePrivilegesWarningAccepted,\r\n\tloadAccountData,\r\n\tstopAccountDataUpdate,\r\n\tupdateNav,\r\n\tupdateUiByIdentity,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectPrivilegesWarningAccepted,\r\n\tselectInitialDataLoaded,\r\n\tselectDebugIdentity,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport GettingStarted from '../getting-started/GettingStarted'\r\n\r\nconst Campaigns = () => {\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst disabled = privileges <= 1\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<NewCampaignDialog\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tfabButton\r\n\t\t\t\tvariant='extended'\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t\tsize='medium'\r\n\t\t\t\ticon={<Add />}\r\n\t\t\t/>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<CampaignsTable tableId='dashboardCampaigns' />\r\n\t\t\t</Paper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nconst AdUnits = () => (\r\n\t<Box>\r\n\t\t<NewUnitDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<AdUnitsTable tableId='DashboardAdUnits' />\r\n\t\t</Paper>\r\n\t</Box>\r\n)\r\n\r\nconst AdSlots = () => (\r\n\t<Box>\r\n\t\t<NewSlotDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<AdSlotsTable tableId='dashboardSlots' />\r\n\t\t</Paper>\r\n\t</Box>\r\n)\r\n\r\nconst Audiences = () => (\r\n\t<Box>\r\n\t\t<NewAudienceDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_AUDIENCE'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<Paper variant='outlined'>\r\n\t\t\t<AudiencesTable tableId='dashboardAudiences' />\r\n\t\t</Paper>\r\n\t</Box>\r\n)\r\n\r\nconst Websites = () => (\r\n\t<Box>\r\n\t\t<NewWebsiteDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_WEBSITE'\r\n\t\t\tsize='medium'\r\n\t\t\ticon={<Add />}\r\n\t\t/>\r\n\t\t<WebsitesPage />\r\n\t</Box>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dashboard(props) {\r\n\tconst [mobileOpen, setMobileOpen] = useState(false)\r\n\tconst address = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\r\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\r\n\tconst { debugIdentityAddr } = useSelector(selectDebugIdentity)\r\n\r\n\tconst { match } = props\r\n\tconst { side } = match.params\r\n\tconst classes = useStyles()\r\n\r\n\tconst dataLoaded = useSelector(selectInitialDataLoaded)\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function updateInitialData() {\r\n\t\t\texecute(loadAccountData())\r\n\t\t}\r\n\r\n\t\tupdateInitialData()\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(stopAccountDataUpdate())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(resolveEnsAddress({ address }))\r\n\t}, [address])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('side', side))\r\n\t\texecute(updateUiByIdentity('userLastSide', side))\r\n\t}, [side])\r\n\r\n\tconst handleDrawerToggle = () => {\r\n\t\tsetMobileOpen(!mobileOpen)\r\n\t}\r\n\r\n\tconst drawer = <SideNav side={side} />\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<TopBar\r\n\t\t\t\tside={side}\r\n\t\t\t\topen={mobileOpen}\r\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\r\n\t\t\t/>\r\n\t\t\t<Hidden mdUp>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\tanchor='left'\r\n\t\t\t\t\topen={mobileOpen}\r\n\t\t\t\t\tonClose={handleDrawerToggle}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\topen\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\r\n\t\t\t<main className={classes.content}>\r\n\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t{showTxPrivLevelWarning && (\r\n\t\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\t\t\tseverity='info'\r\n\t\t\t\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\r\n\t\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{debugIdentityAddr && (\r\n\t\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t\t<Alert variant='filled' severity='warning'>\r\n\t\t\t\t\t\t\t\t\t{`Debugging identity: ${debugIdentityAddr}`}\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\t\tcomponent={Campaigns}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\t\tcomponent={AdUnits}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences'\r\n\t\t\t\t\t\t\t\tcomponent={Audiences}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Audience}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Campaign}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipt/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Unit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\t\tcomponent={AdSlots}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Slot}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/websites'\r\n\t\t\t\t\t\t\t\tcomponent={Websites}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/receipts'\r\n\t\t\t\t\t\t\t\tcomponent={Receipt}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/topup/changelly'}\r\n\t\t\t\t\t\t\t\tcomponent={TopUpChangelly}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route exact path={'/dashboard/:side/topup'} component={TopUp} />\r\n\t\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser'\r\n\t\t\t\t\t\t\t\tcomponent={AdvertiserStats}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher'\r\n\t\t\t\t\t\t\t\tcomponent={PublisherStats}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dashboard\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.png')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\t// marginTop: '1.5vh',\r\n\t\t\t// width: '17.92vh',\r\n\t\t\t// height: '6vh',\r\n\t\t\theight: '2rem',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport { Box, Divider } from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport classnames from 'classnames'\r\nimport { getAllWallets } from 'services/wallet/wallet'\r\nimport { execute, initIdentity, confirmAction } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAuth,\r\n\tselectAccount,\r\n\tselectRegistrationAllowed,\r\n\tselectUserLastSide,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { formatAddress } from 'helpers/formatters'\r\nimport { push } from 'connected-react-router'\r\nimport { removeFromLocalStorage } from 'helpers/localStorageHelpers'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst AuthSelect = () => {\r\n\tconst classes = useStyles()\r\n\tconst [wallets, setWallets] = useState([])\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst userSide = useSelector(selectUserLastSide) || 'publisher'\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { wallet, identity } = account || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst allWallets = getAllWallets()\r\n\t\tconst wallets = allWallets.filter(\r\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\r\n\t\t)\r\n\t\tsetWallets(wallets)\r\n\t}, [wallet])\r\n\r\n\tconst goTo = (to, confirmLogout, onConfirm) => {\r\n\t\tconst toExecute = () => {\r\n\t\t\t// skip redirect as you are going to be redirected on next line\r\n\t\t\t// this resolves an issue of \"Same web property ID is tracked twice.\"\r\n\t\t\t// with the google analytics pixel\r\n\t\t\tlogOut(true)\r\n\t\t\texecute(push(to))\r\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\r\n\t\t\t\tonConfirm()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (auth && confirmLogout) {\r\n\t\t\texecute(\r\n\t\t\t\tconfirmAction(toExecute, null, {\r\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\r\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\r\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\r\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t(wallet.email || wallet.authType || '').toUpperCase(),\r\n\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}),\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\ttoExecute()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='stretch'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t>\r\n\t\t\t<Box p={2} alignItems='center'>\r\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{auth && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tto={`/dashboard/${userSide}`}\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CONTINUE_AS', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\r\n\t\t\t\t\t\t\t\twallet.authType,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{wallets.map(w => (\r\n\t\t\t\t<Box key={w.name} m={1} display='flex'>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\r\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\t\t\tremoveFromLocalStorage(w.key)\r\n\t\t\t\t\t\t\t\t\t\tsetWallets(wallets.filter(i => i.key !== w.key))\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TITLE'),\r\n\t\t\t\t\t\t\t\t\t\ttext: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TEXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t(wallet.email || wallet.authType || '').toUpperCase(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Close />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t))}\r\n\t\t\t{(wallets.length > 0 || auth) && <Divider />}\r\n\t\t\t{showRegistration && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\r\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default AuthSelect\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tlimitedWidthBtn: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t\tcolor: theme.palette.common.black,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t\tcolor: theme.palette.common.black,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\nimport { t } from 'selectors'\r\nimport { Typography } from '@material-ui/core'\r\nimport ThemeSwitch from 'components/App/ThemeSwitch'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tfunction Connect({ classes, ...rest }) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\r\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\r\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\r\n\t\t\t\t\t\t\t\t<ThemeSwitch />\r\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\r\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HELP')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn withStyles(styles)(Connect)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { List, ListItem, ListItemText } from '@material-ui/core'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { selectWalletAddress, execute } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function AddrItem({ stats }) {\r\n\tconst { balanceEth, tokensBalances, address } = stats\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<span> {symbol} </span>\r\n\t\t\t\t\t\t\t<strong> {balance} </strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const AddressSelect = ({\r\n\taddresses,\r\n\taddress,\r\n\twaitingAction,\r\n\tactionWaitingLabel,\r\n\tselectLabel,\r\n\tsignType,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\tclasses,\r\n}) => {\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t<ContentStickyTop>\r\n\t\t\t\t{waitingAction ? <TopLoading msg={actionWaitingLabel} /> : selectLabel}\r\n\t\t\t</ContentStickyTop>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t{addresses.map((addrData, hdWalletAddrIdx) => (\r\n\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\tkey={addrData.address}\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tselectWalletAddress({\r\n\t\t\t\t\t\t\t\t\t\taddrData,\r\n\t\t\t\t\t\t\t\t\t\thdWalletAddrPath,\r\n\t\t\t\t\t\t\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\t\t\t\t\t\t\tsignType,\r\n\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tselected={address === addrData.address}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AddrItem stats={addrData} address={addrData.address} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</List>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport METAMASK_IMG from 'resources/metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport { checkAuthMetamask, execute } from 'actions'\r\nimport { getEthereumProviderName } from 'services/smart-contracts/ethers'\r\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\r\nimport { CHECKING_METAMASK_AUTH } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthMetamask() {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\r\n\tconst { address } = wallet\r\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\r\n\tconst isOpera =\r\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\r\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\r\n\t\tfalse\r\n\t)\r\n\r\n\tconst waitingAddrsData = useSelector(state =>\r\n\t\tselectSpinnerById(state, CHECKING_METAMASK_AUTH)\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst setEth = async () => {\r\n\t\t\tconst ethereumProvider = await getEthereumProviderName()\r\n\t\t\tsetIsMetamaskEthereumProvider(\r\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tsetEth()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (installingMetamask) {\r\n\t\t\t// Refreshes page after user comes back\r\n\t\t\t// from installing Metamask\r\n\t\t\twindow.onfocus = () => {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\tsetInstallingMetamask(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [installingMetamask])\r\n\r\n\treturn (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingAddrsData ? (\r\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\r\n\t\t\t\t\t\t\t\talt={'metamask logo'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => execute(checkAuthMetamask())}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthMetamask\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { AddressSelect } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport {\r\n\tAUTH_WAITING_ADDRESS_DATA,\r\n\tAUTH_WAITING_TREZOR_ACTION,\r\n} from 'constants/spinners'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\r\nimport { connectTrezor, execute } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthTrezor() {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, addresses = [], hdWalletAddrPath } = useSelector(\r\n\t\tselectIdentity\r\n\t)\r\n\tconst { address } = wallet\r\n\r\n\tconst waitingTrezorAction = useSelector(state =>\r\n\t\tselectSpinnerById(state, AUTH_WAITING_TREZOR_ACTION)\r\n\t)\r\n\r\n\tconst waitingAddrsData = useSelector(state =>\r\n\t\tselectSpinnerById(state, AUTH_WAITING_ADDRESS_DATA)\r\n\t)\r\n\r\n\treturn addresses.length ? (\r\n\t\t<AddressSelect\r\n\t\t\twaitingAction={waitingTrezorAction}\r\n\t\t\tactionWaitingLabel={t('TREZOR_WAITING_ACTION')}\r\n\t\t\tselectLabel={t('SELECT_ADDR_TREZOR')}\r\n\t\t\taddress={address}\r\n\t\t\taddresses={addresses}\r\n\t\t\tsignType={AUTH_TYPES.TREZOR.signType}\r\n\t\t\tauthType={AUTH_TYPES.TREZOR.name}\r\n\t\t\thdWalletAddrPath={hdWalletAddrPath}\r\n\t\t\tclasses={classes}\r\n\t\t/>\r\n\t) : (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingAddrsData ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : waitingTrezorAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\r\n\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\r\n\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\r\n\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t{!waitingAddrsData && !waitingTrezorAction && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => execute(connectTrezor())}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthTrezor\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocationQuery } from 'selectors'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction AuthMethod(props) {\r\n\tconst classes = useStyles()\r\n\tconst query = useSelector(selectLocationQuery)\r\n\tconst method = query['external']\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t{method === 'metamask' && <AuthMetamask {...props} />}\r\n\t\t\t\t{method === 'trezor' && <AuthTrezor {...props} />}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default AuthMethod\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tGrid,\r\n\tTextField,\r\n\tCheckbox,\r\n\tFormControlLabel,\r\n\tFormHelperText,\r\n\tFormControl,\r\n\tBox,\r\n} from '@material-ui/core'\r\nimport { ExternalAnchor } from 'components/common/anchor'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectKnowUsFromSource,\r\n\tselectUserSides,\r\n} from 'selectors'\r\nimport { execute, updateIdentity } from 'actions'\r\n\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst knowFromSource = selectKnowUsFromSource()\r\nconst userSides = selectUserSides()\r\n\r\nconst QuickInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\r\n\t]\r\n\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\tpassword,\r\n\t\tpasswordCheck,\r\n\t\ttosCheck,\r\n\t\tknowFrom,\r\n\t\tmoreInfo,\r\n\t\tuserSide,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner || sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t{password && !!password.dirty ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Box> {password.errMsg} </Box>\r\n\t\t\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Box>{t('PASSWORD_RULES')} </Box>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='knowFrom'\r\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\r\n\t\t\t\t\t\t\t\tsource={knowFromSource}\r\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-know-from'\r\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\r\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tname='moreInfo'\r\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\r\n\t\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='userSide'\r\n\t\t\t\t\t\t\t\tlabel={t('USER_SIDE_SELECT_LABEL')}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('userSide', val))}\r\n\t\t\t\t\t\t\t\tsource={userSides}\r\n\t\t\t\t\t\t\t\tvalue={identity.userSide || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-user-side'\r\n\t\t\t\t\t\t\t\terror={userSide && !!userSide.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tuserSide && !!userSide.dirty\r\n\t\t\t\t\t\t\t\t\t\t? userSide.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('USER_SIDE_INFO')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href={`${process.env.ADEX_TOS_URL}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('TOS')}\r\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectKnowUsFromSource,\r\n\tselectUserSides,\r\n} from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst knowFromSource = selectKnowUsFromSource()\r\nconst userSides = selectUserSides()\r\n\r\nconst FulInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst { wallet = {} } = identity\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\t// Errors\r\n\tconst {\r\n\t\temail,\r\n\t\temailCheck,\r\n\t\ttosCheck,\r\n\t\taccessWarningCheck,\r\n\t\tknowFrom,\r\n\t\tuserSide,\r\n\t\tmoreInfo,\r\n\t} = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{walletAddress}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='knowFrom'\r\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\r\n\t\t\t\t\t\t\t\tsource={knowFromSource}\r\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-know-from'\r\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\r\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tname='moreInfo'\r\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\r\n\t\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tname='userSide'\r\n\t\t\t\t\t\t\t\tlabel={t('USER_SIDE_SELECT_LABEL')}\r\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('userSide', val))}\r\n\t\t\t\t\t\t\t\tsource={userSides}\r\n\t\t\t\t\t\t\t\tvalue={identity.userSide || ''}\r\n\t\t\t\t\t\t\t\thtmlId='select-user-side'\r\n\t\t\t\t\t\t\t\terror={userSide && !!userSide.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tuserSide && !!userSide.dirty\r\n\t\t\t\t\t\t\t\t\t\t? userSide.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('USER_SIDE_INFO')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\r\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('TOS')}\r\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FulInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickLogin = props => {\r\n\tconst { validateId } = props\r\n\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\r\n\t]\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { wallet } = validations\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickLogin\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport { push } from 'connected-react-router'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { execute, updateIdentity, updateOwnerIdentities } from 'actions'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectIdentity,\r\n\tt,\r\n\tselectSearchParams,\r\n\tselectRegistrationAllowed,\r\n} from 'selectors'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: id.ens\r\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\r\n\t\t\t\t  })\r\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\r\n\t\t\t\t  }),\r\n\t\t}\r\n\t})\r\n\r\nfunction FullLogin(props) {\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst {\r\n\t\twalletAddr,\r\n\t\twallet = {},\r\n\t\townerIdentities,\r\n\t\tidentityContractAddress,\r\n\t} = identity\r\n\tconst walletAddress = wallet.address || walletAddr\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\r\n\t)\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\r\n\tconst searchParams = useSelector(selectSearchParams)\r\n\tsearchParams.set('step', '1')\r\n\r\n\tconst search = searchParams.toString()\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateOwnerIdentities({ owner: walletAddress }))\r\n\t\t// We need it just once on mount\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\r\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{showRegistration && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FullLogin\r\n","import React from 'react'\r\nimport AuthMethod from './ownerAuth/AuthMethod'\r\nimport QuickInfo from './QuickInfo'\r\nimport FullInfo from './FullInfo'\r\nimport QuickLogin from './QuickLogin'\r\nimport FullLogin from './FullLogin'\r\nimport FormSteps from 'components/common/stepper/FormSteps'\r\nimport { push } from 'connected-react-router'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateQuickLogin,\r\n\tvalidateStandardLogin,\r\n\tvalidateQuickInfo,\r\n\tvalidateFullInfo,\r\n\tvalidateContractOwner,\r\n\tresetIdentity,\r\n} from 'actions'\r\n\r\nconst cancelFunction = () => {\r\n\texecute(resetIdentity())\r\n\texecute(push('/'))\r\n}\r\n\r\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst common = {\r\n\tcancelFunction,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const LoginStandardIdentity = props => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-login'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tcomponent: AuthMethod,\r\n\t\t\t\t\tvalidationFn: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\t\tcomponent: FullLogin,\r\n\t\t\t\t\tvalidationFn: finalValidationStandard,\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateStandardIdentity = props => {\r\n\treturn (\r\n\t\t<FormSteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-create'\r\n\t\t\tsteps={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tcomponent: AuthMethod,\r\n\t\t\t\t\tvalidationFn: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'FULL_INFO',\r\n\t\t\t\t\tcomponent: FullInfo,\r\n\t\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\r\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateQuickIdentity = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-create'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_INFO',\r\n\t\t\t\tcomponent: QuickInfo,\r\n\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\r\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginQuickIdentity = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-login'\r\n\t\tsteps={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_LOGIN',\r\n\t\t\t\tcomponent: QuickLogin,\r\n\t\t\t\tvalidationFn: finalValidationQuick,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const DemoIdentity = props => (\r\n\t<FormSteps {...props} {...common} steps={[]} />\r\n)\r\n","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Logo from 'resources/adex-logo-txt-sm.svg'\r\nimport LogoDark from 'resources/adex-logo-txt-dark-theme.svg'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\r\nimport Media from 'components/common/media'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n\tlogo: {\r\n\t\theight: '5rem',\r\n\t\twidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\tconst theme = useTheme()\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? LogoDark : Logo\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tclassName={classes.root}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-evenly'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t{/* <AdxIcon className={classes.logo} /> */}\r\n\t\t\t\t\t<Media className={classes.logo} src={AdxIcon} />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{/* <Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t{/* <Box p={1}>\r\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React from 'react'\r\nimport { Box } from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\n\r\nexport function ImportantNotifications({\r\n\tseverity = 'info',\r\n\tmessage = null,\r\n\ttitle = null,\r\n\taction = null,\r\n}) {\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tstyle={{ position: 'fixed', top: 0, left: 0, right: 0, zIndex: 10000 }}\r\n\t\t>\r\n\t\t\t<Alert\r\n\t\t\t\tvariant='filled'\r\n\t\t\t\tseverity={severity}\r\n\t\t\t\tstyle={{ flex: 1 }}\r\n\t\t\t\taction={action}\r\n\t\t\t>\r\n\t\t\t\t{title && <AlertTitle>{title}</AlertTitle>}\r\n\t\t\t\t{message}\r\n\t\t\t</Alert>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tmetamaskChecks,\r\n\tmetamaskNetworkCheck,\r\n\tgetRelayerConfig,\r\n\texecute,\r\n\tensureQuickWalletBackup,\r\n\tupdateRegistrationAllowed,\r\n\tupdateEasterEggsAllowed,\r\n\thandleRedirectParams,\r\n\thandleSignupLink,\r\n\trefreshCacheAndReload,\r\n\tupdateDebuggingAddresses,\r\n} from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateQuickIdentity,\r\n\tLoginStandardIdentity,\r\n\tCreateStandardIdentity,\r\n\tLoginQuickIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\r\nimport Translate from 'components/translate/Translate'\r\nimport { Button } from '@material-ui/core'\r\nimport {\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectLocation,\r\n\tt,\r\n\tselectNewVersionAvailable,\r\n\tselectNewVersionAvailableId,\r\n} from 'selectors'\r\nimport { getMetamaskEthereum } from 'services/smart-contracts/ethers'\r\nimport { ImportantNotifications } from './ImportantNotifications'\r\n\r\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\r\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedCreateStandardIdentity = ConnectHoc(\r\n\tJustDialog(CreateStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst handleLegacyWallet = async wallet => {\r\n\tconst { type, email, password, authType } = wallet || {}\r\n\r\n\tif (!type && email && password && authType === 'grant') {\r\n\t\tawait migrateLegacyWallet({ email, password })\r\n\t\tawait removeLegacyKey({ email, password })\r\n\t}\r\n\r\n\tif (email && password && authType) {\r\n\t\texecute(ensureQuickWalletBackup())\r\n\t}\r\n}\r\n\r\nconst Root = () => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst wallet = useSelector(selectWallet)\r\n\tconst location = useSelector(selectLocation)\r\n\tconst showNotification = useSelector(selectNewVersionAvailable)\r\n\tconst version = useSelector(selectNewVersionAvailableId)\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function initialChecks() {\r\n\t\t\tawait getMetamaskEthereum()\r\n\t\t\texecute(metamaskChecks())\r\n\r\n\t\t\texecute(getRelayerConfig())\r\n\t\t\texecute(handleRedirectParams(location.search))\r\n\t\t\texecute(handleSignupLink(location.search))\r\n\t\t\texecute(updateDebuggingAddresses(location.search))\r\n\t\t\texecute(updateEasterEggsAllowed(location.search))\r\n\t\t}\r\n\r\n\t\tinitialChecks()\r\n\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\thandleLegacyWallet(wallet)\r\n\t}, [wallet])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskNetworkCheck())\r\n\t\texecute(updateRegistrationAllowed(location.search))\r\n\t}, [location])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showNotification && (\r\n\t\t\t\t<ImportantNotifications\r\n\t\t\t\t\ttitle={t('RELOAD_REQUIRED')}\r\n\t\t\t\t\tmessage={t('SUCCESS_UPDATING_NEW_APP_VERSION', {\r\n\t\t\t\t\t\targs: [version],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tseverity='success'\r\n\t\t\t\t\taction={\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\texecute(refreshCacheAndReload({ version }))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RELOAD_NOW')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<Switch>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tauth={auth}\r\n\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/quick'\r\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/login/full'\r\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/full'\r\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\r\n\t\t\t\t<Route>\r\n\t\t\t\t\t<PageNotFound />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Translate(Root)\r\n","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { updateNewVersion, execute, notifyNewTOS } from 'actions'\r\n\r\nconst buildMeta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(2)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = buildMeta\r\n\t\t\t\tconst shouldForceRefresh = latestVersion !== currentVersion\r\n\r\n\t\t\t\texecute(\r\n\t\t\t\t\tupdateNewVersion({\r\n\t\t\t\t\t\tshouldForceRefresh,\r\n\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst shouldNotifyNewTOS = latestTOS !== currentTOS\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import React from 'react'\r\nimport { useTheme } from '@material-ui/core/styles'\r\nimport { LinearProgress, Box } from '@material-ui/core'\r\nimport AdexIconTxt from 'resources/adex-logo-txt-sm.svg'\r\nimport AdexIconTxtDark from 'resources/adex-logo-txt-dark-theme.svg'\r\nimport Media from 'components/common/media'\r\n\r\nexport default function Loading() {\r\n\tconst theme = useTheme()\r\n\r\n\tconst AdxIcon = theme.type === 'dark' ? AdexIconTxtDark : AdexIconTxt\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\twidth='100vw'\r\n\t\t\theight='100vh'\r\n\t\t\tflexDirection='column'\r\n\t\t\tjustifyContent='center'\r\n\t\t\talignItems='center'\r\n\t\t\tposition='absolute'\r\n\t\t>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Media src={AdxIcon} style={{ width: 200, height: 'auto' }} />\r\n\t\t\t</Box>\r\n\t\t\t<Box width={200}>\r\n\t\t\t\t<LinearProgress color='secondary' />\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n\tDialog,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tList,\r\n\tListItem,\r\n\tListItemText,\r\n\tListItemIcon,\r\n} from '@material-ui/core'\r\n\r\nimport {\r\n\tBlockSharp as AdBlockIcon,\r\n\tSignalCellularConnectedNoInternet0BarSharp as NoNetworkIcon,\r\n\tErrorSharp as NoValidatorIcon,\r\n} from '@material-ui/icons'\r\nimport { t } from 'selectors'\r\n\r\nconst DetectNetworkError = () => {\r\n\tconst [problemDetected, setProblemDetected] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst testAdBlock = async () => {\r\n\t\t\ttry {\r\n\t\t\t\t// Just detect for moonicorn which is currently blocked by the adblockers\r\n\t\t\t\tfetch(`https://tom.moonicorn.network/channel/list`, {\r\n\t\t\t\t\tmethod: 'HEAD',\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tsetProblemDetected(false)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tsetProblemDetected(true)\r\n\t\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetProblemDetected(true)\r\n\t\t\t\tconsole.error(err)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttestAdBlock()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Dialog open={problemDetected}>\r\n\t\t\t<DialogTitle id='adblock-and-network-dialog-title'>\r\n\t\t\t\t{t('PROBLEM_DETECTED_TITLE')}\r\n\t\t\t</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<List subheader={t('PROBLEM_DETECTED_SUBHEADER')}>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AdBlockIcon color='error' />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('PR_ADBLOCKER_PRIMARY')}\r\n\t\t\t\t\t\t\tsecondary={t('PR_ADBLOCKER_SECONDARY')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<NoNetworkIcon color='error' />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tcolor='error'\r\n\t\t\t\t\t\t\tprimary={t('PR_NO_CONNECTION_PRIMARY')}\r\n\t\t\t\t\t\t\tsecondary={t('PR_NO_CONNECTION_SECONDARY')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<NoValidatorIcon color='error' />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={t('PR_NO_VALIDATOR_PRIMARY')}\r\n\t\t\t\t\t\t\tsecondary={t('PR_NO_VALIDATOR_SECONDARY')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</List>\r\n\t\t\t</DialogContent>\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default DetectNetworkError\r\n","import React, { useEffect } from 'react'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport { persistor, store } from 'store'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport Root from './Root'\r\nimport { DateUtils } from 'helpers/dateUtils'\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport CacheBuster from './CacheBuster'\r\nimport { updateWindowReloading, execute } from 'actions'\r\nimport MultiThemeProvider from './MultiThemeProvider'\r\nimport Loading from './Loading'\r\nimport NetworkErrorDetector from './NetworkErrorDetector'\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nconst App = () => {\r\n\tuseEffect(() => {\r\n\t\texecute(updateWindowReloading(false))\r\n\r\n\t\tfunction onReload() {\r\n\t\t\texecute(updateWindowReloading(true))\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('beforeunload', onReload)\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('beforeunload', onReload)\r\n\t\t}\r\n\t})\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<MultiThemeProvider>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<NetworkErrorDetector />\r\n\t\t\t\t<MuiPickersUtilsProvider utils={DateUtils}>\r\n\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t<PersistGate\r\n\t\t\t\t\t\t\tloading={<Loading />}\r\n\t\t\t\t\t\t\tonBeforeLift={onBeforeLift}\r\n\t\t\t\t\t\t\tpersistor={persistor}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t<CacheBuster>\r\n\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</CacheBuster>\r\n\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t</Provider>\r\n\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t</MultiThemeProvider>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { unregister } from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nunregister()\r\n","module.exports = __webpack_public_path__ + \"static/media/adex-logo-txt-sm.522d1f30.svg\";","module.exports = __webpack_public_path__ + \"static/media/adex-logo-txt-dark-theme.84141be1.svg\";","// Nodejs encryption with CTR\r\nconst crypto = require('crypto')\r\n\r\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\r\nconst CIPHER_ALG = 'aes-256-cbc'\r\nconst IV_LENGTH = 16\r\nconst HASH_ALG = 'sha256'\r\n\r\nconst getKeyHash = key => {\r\n\tconst hash = crypto.createHash(HASH_ALG)\r\n\thash.update(key)\r\n\tconst hashed = hash.digest()\r\n\treturn hashed\r\n}\r\n\r\nexport const encrypt = async (text, key) => {\r\n\tif (!text) return ''\r\n\tif (!key) {\r\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\r\n\t}\r\n\tconst iv = crypto.randomBytes(IV_LENGTH)\r\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst encr = cipher.update(text)\r\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\r\n\r\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\r\n}\r\n\r\nexport const decrypt = async (text, key) => {\r\n\tconst textParts = text.split(':')\r\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\r\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\r\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst decr = decipher.update(encryptedText)\r\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\r\n\r\n\treturn decrypted.toString()\r\n}\r\n\r\nexport const encryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\r\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\r\n\tlet dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg0OWZlMjc1LWQzZGEtZjI0Zi1hZjY1LWM2ZjAwZjk0MmZmMyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg0YmMzZjJjLTE4NDEtZTk0ZC1iZjg4LTdiNmJhMzkxOGQ0YiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjExNmFhMzE5LTJhNGUtNTU0My1hMDFjLTU0OGZhZWU4Y2U5YSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTE2YWEzMTktMmE0ZS01NTQzLWEwMWMtNTQ4ZmFlZThjZTlhIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODQ5ZmUyNzUtZDNkYS1mMjRmLWFmNjUtYzZmMDBmOTQyZmYzIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+CelIuwAAGaZJREFUeF7tnAdcFGfawJ9lC7vssvS6sFTpCGoEsaFiQ2yJxEvUXBK/2GNy+U5TjS0XPRPz8/RiLpp4uRhrvBgLgmDDCopYAOlI721p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\"","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic_80x80.d41e2bbc.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmMwYTM2YWNkLTI0MWQtMWM0ZC04YTBjLWZmZGZjZWE1YTk1NyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjExN2ZkN2FiLTdlMTQtNjk0ZS1iNGYzLTcyNTA0YjI1MTU4MSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmIxMWJhYTU3LWYzMDctOTI0NC05MTVmLTRlZTQ4YjE4M2M4NyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjExYmFhNTctZjMwNy05MjQ0LTkxNWYtNGVlNDhiMTgzYzg3IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzBhMzZhY2QtMjQxZC0xYzRkLThhMGMtZmZkZmNlYTVhOTU3IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zfLLjwAAF5NJREFUeF7tXAl0FFW6/m/1lu7sSZOkyQIJaQgQiKwCsiqBsA3IEkbUAUUeouKMT87MOOogLuhhjs6bxfGND3BgmMFBBxnEsK+CLBEI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\"","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/ramp.1b4e7993.svg\";","module.exports = __webpack_public_path__ + \"static/media/paytrie.d5796d80.svg\";","module.exports = __webpack_public_path__ + \"static/media/transak.877f635a.svg\";","module.exports = __webpack_public_path__ + \"static/media/changelly.959934f6.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmIwNDIwZDczLWQ3YzQtNGM0NC04MTE1LTYwZGRmZjcwYTEyMiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY3Yjg5NTQxLWUxMWUtZjg0Mi1hODMwLTY3Mjc5OTlhYjg5MCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjBlZmIzM2Q2LTcxOTMtYjQ0MS1iN2E1LTRhYzU1OTI0YTdkMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGVmYjMzZDYtNzE5My1iNDQxLWI3YTUtNGFjNTU5MjRhN2QwIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjA0MjBkNzMtZDdjNC00YzQ0LTgxMTUtNjBkZGZmNzBhMTIyIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+lvIY5AAAGQlJREFUeF7tnAlYVOe5x9/ZZ5hh9mEbtmGRRZBNxGgNGIMaAc2i2ZvcJO1tb5o8vWnvbdPe3pvaPulN29veNK3N3rRZmifR1LgAGjUu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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjBmMDI5MDBjLWZhZDEtNmQ0Ny1iYzJmLTBkODRlODkwODNkNSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODU5NmIwYTItNjliYy01YzRlLTkyMWUtYTY3MDBjY2YyM2I0IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NjFhOWI2YWUtM2I4Ny1mZTQwLWI3NmYtOWVkMGRmNjNiMzljIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+rSUE+gAABchJREFUeF7tmn1MlVUcx3/3uc995/1KyZsMUYgEzFzpbJJrUwqGkpLZxmYvo3JSsUJcM61lf+WWRVvly1rlwFjUVnC5GfiChToqFEbMFhYCAoJX3naB+/p0zsNpozHl3nvQw+Wez/bdPc95nmd77pdzvs/vnAtwOBwOh8PhcDgcDofD4XA4/oOCfHpFdnb2dpVa/YbBEKwhXX6Jy+VwjQwPX3Q4HC/W1tZaSbdXeG1gTk5OQuyi+KaSfft1okrl1wZi6k/+NFD2+ZFDZrN5L+nyCoF8eozb7Y6/P215qD+Zh54Zfm+8CL09ffKx8q9mEPquyu1l6Q8sEARhoXzgA14biFEgSNMvaG1pgz3F78Dbu98DobcDdKXFSLuQsy40Bem+i08G+huxcdGQnJIEazJWgxQWCa7ENHCmr0HfXkmu8J2AMDDCGAEfHToAzxbkg6QzwHjRB2DbVkTO0hEQBt5JvJ7/qIRZ98TGJ09vemqbfPyH8yaY7B1y219Yr46DFWKk3LYMDMCe1wuPmkymArnDS6gNrLJ1wF7rBbntL7ypXwlPa5fKbVoD+RSmhBtICTeQEp8NtNkmAC2BoO3nBgCJdAYgPhlot9vh+OFPIVehgty2G7D2UCPorw2Ts4GFLwaGNP9yFjbrQ0EUBGgftMBbxvtgQ1krGomBNxQ9NjAzMzPq8ZxN70eFhFUcXJcJETo9nOvuhHCtDlr6+6A1RocXyeTqwOG2Bubl5emysrKyN2zcXNGbmnml4ZkPd1U/+qr2m7+vwDDKwBH7BKjRevLbwS74Z0s6uSuwUDyWl39ZAe4mtXWwU5KkMUEQtHZNUPR4aFTKqDFuuSVuhaZ/8cPg0ASRWwCCbnZBdtNxeEHvhDM9V6F8ayKMJhjJ2bnPbBbSiujS01JvUgYoHRNINnCLanCqdSDJ0/F2U1KCpRfKYcdiFxjXryJ9/kGyGAYxwuSAoDYwuLxDGjXGk0PPuafjNyiynof87c/h/UHS639QGyiYHZJbEMmhZxi7W+D5zirYWfgK6DVq0Kro99V8Ab/zR8btcvtS1wg0tA/J7ZnISAqHtJhguU1tIJzwrvaIRCNva/t3UFxcAqJKBcFaFYTq1OTs3QVlNlwbGpPb5Y09UHpycpt+JnZlJsCWByd38WkN9LwORA8b13oCVv7w7p8pSxJl8zBu1O9ysxNrPDJQ6bTBsjOfuVNPffyJqJB2km4Zq80JvcNjTNQ3Mk6egh0zGmgY7IZVlbsnFjVXvWw2mQrRtHGRUzIaUQlhaAqzEKvomMotDcQlTeKvFfBI+WuXwvvbV5vN5iOoe9qcUYsCBKEcZCKNdy+/O8E0A/F0jW2rg7XHdliSz31VYhu2PIQCtpmcngbPQITC7QbDUA8safwaMr4ouJ5ae3C/aOlKrKmpOVBfX++Ur7wFAZ+B6bUH8WjrzvjypbKk88dyjdJ4wo81Nfvq6uo82p9SKQUwqEWPhPPyv3vC9CjHKDUnMnDR5VORZ8sPx5lrqvPRiPu+srLSqz8rLqLDDRqPhHMLoxQUKL9whtFqDmRgdXX1DdK+a+DS3YnyazbEGo/qwNnG5nRBH84wSl33hzrwToCzcGGIjlr3IrGGiYF480ZELxJqoSxlDRMDcf02ZnfSy/G/RRETmBjocLnhptVGrUEk1jAxENeBEaisoVW4nv0/yTIxENeBelRY04vNRu5UqA30rhKbvBrXgXga02se1IHWCQf0DI15JJxbGFwH4hqOVv2j86AO1OClHFqXeqIIlFlGlF2zJZyDrKE2EL8QdCiPmIjRj1lToTYQ13R2lEesxBpqA3FB24/ziIEGRifIU7CD2kA8jYxBWiaaFxmI16TYRFZizexkoBPlEQvNmwxE9RgLzZsMXIDyiIWMQfMkA/HvIkxEfqRiCbWBgQ43kBJuICXcQEq4gZRwAynhBlLCDaSEG0gJN5ASbiAl3EBKuIGUcAMp4QZSAfAv9zIDHEKL3x4AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";"],"sourceRoot":""}