{"version":3,"sources":["resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/DownshiftMultiple.js","components/common/autocomplete/DownshiftSingle.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/tableConfig.js","components/dashboard/containers/Tables/EnhancedTableHead.js","components/common/dropdown/ChipMultipleSelect.js","components/dashboard/containers/Tables/EnhancedTableToolbar.js","components/dashboard/containers/Tables/filterHelpers.js","components/dashboard/containers/Tables/EnhancedTable.js","components/dashboard/containers/Campaign/styles.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/containers/Campaign/Campaign.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/charts/options.js","components/dashboard/charts/simplified.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Items/Items.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/styles.js","components/dashboard/account/AccountInfo.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/IdentityHoc.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/IdentityContractOwner.js","components/signin/identity/QuickInfo.js","components/signin/identity/QuickDeploy.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/FullInfo.js","components/signin/identity/ExternalWalletConnect.js","components/signin/identity/styles.js","components/signin/identity/IdentitySteps.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","services/store-data/auth.js","services/adex-validator/actions.js","constants/actionTypes.js","helpers/mediaHelpers.js","services/smart-contracts/actions/core.js","services/requester/requester.js","services/requester/index.js","services/smart-contracts/contractsCfg.js","constants/targeting.js","services/store-data/loop.js","services/crypto/crypto.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","constants/misc.js","services/translations/translations.js","services/store-data/analytics.js","services/smart-contracts/actions/erc20.js","resources/trezor-logo-h.png","resources/ledger_logo_header.png","selectors/selectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/locationSelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/configSelectors.js","selectors/newTransactionSelectors.js","selectors/index.js","store/initialState.js","helpers/formatters.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","actions/common.js","actions/uiActions.js","services/auth/auth.js","helpers/errors.js","actions/accountActions.js","actions/itemActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","actions/analyticsActions.js","actions/index.js","services/smart-contracts/ethers.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js","services/wallet/wallet.js","helpers/miscHelpers.js","services/adex-market/actions.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/smart-contracts/actions/stats.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-relayer/actions.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","services/smart-contracts/actions/identity.js","helpers/localStorageHelpers.js"],"names":["module","exports","__webpack_require__","p","variantIcon","accept","CheckCircleIcon","success","warning","WarningIcon","cancel","ErrorIcon","error","info","InfoIcon","Toast","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","close","id","setState","active","actions","removeToast","state","toast","inherits","createClass","key","value","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","type","anchorOrigin","vertical","horizontal","top","react_default","a","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","message","className","classnames","icon","iconVariant","label","toString","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","connect","memory","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","backgroundColor","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","language","useSelector","selectLang","assign","t","val","_ref","arguments","length","undefined","_ref$isProp","isProp","_ref$args","args","translate","Confirm","bind","assertThisInitialized","confirm","visible","_this$props","title","text","children","cancelLabel","confirmLabel","noActionBtns","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","data","onConfirm","onCancel","calledOn","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","Array","_key","apply","concat","resolveToLocation","to","path","pathname","history","createHref","handleClick","asyncToGenerator","regenerator_default","mark","_callee","event","wrap","_context","prev","next","preventDefault","stopPropagation","push","stop","_x","_this$props2","rest","match","location","staticContext","objectWithoutProperties","toLocation","href","React","withRouter","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","d","Anchor","target","url","replace","getUrl","Link","underline","draggable","rel","style","styles","_appBar","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","objectSpread","flexFlow","height","mixins","drawerPaper","content","palette","background","default","padding","marginLeft","contentInner","sideIndex","advertiser","publisher","0","1","handleChange","ev","index","execute","useStyles","makeStyles","activeColor","side","accentOne","main","accentTwo","minWidth","&$selected","selected","indicator","SideSwitch","_ref2","AppBar","Tabs","onChange","indicatorColor","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","Box","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","process","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","adxLink","hint","&:hover","sideSwitch","marginBottom","useCommonStyles","SideNav","selectSide","identity","selectAccountIdentityAddr","commonClasses","routerLocation","selectLocation","symbol","selectMainToken","split","items","availableIdentityBalanceMainToken","selectAccountStatsFormatted","List","component","AdexIconTxt","spinners_LoadingSection","ListItemText","Typography","gutterBottom","Divider","dashboard_SideSwitch","button","ListItemIcon","Dashboard_default","primary","Fragment","CampaignIcon","List_default","toUpperCase","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","Date","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","_useState","useState","_useState2","slicedToArray","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","authType","AUTH_TYPES","METAMASK","name","metamaskLogo","TREZOR","trezorLogo","LEDGER","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","handleDrawerToggle","navTitle","selectNavTitle","account","selectAccount","imgSrc","wallet","btnMenuLabel","email","formatAddress","address","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","validations","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","mediaMime","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","setTimeout","onloadedmetadata","_ref3","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this3","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","Promise","resolve","reject","crop","x","Math","round","y","getContext","drawImage","toBlob","file","URL","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","e","preventBubbling","revokeObjectURL","onCropChange","saveCropped","then","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","errMsg","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","Grid","container","alignContent","item","sm","md","react_image_crop_default","imageStyle","imgDropzonePreview","disabled","Save_default","dist_es","img_Img","grey","marginTop","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","msg","exact","required","isValid","checkExactishAspect","masgArgs","err","dirty","validateMedia","media","_args","abrupt","getMediaSize","sent","validateId","ValidationHoc","selectValidationsById","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","newValues","values","onOk","vals","keys","forEach","onChangeReady","errImg","imgPropName","AVATAR_MAX_WIDTH","AVATAR_MAX_HEIGHT","Cancel_default","forms_ImgForm_ImgForm","imgLabel","persist","ValidItemHoc","SaveBtn","spinner","dirtyProps","save","validationId","fabButton","Check_default","fabProgress","spinners","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","inline","textTransform","IMG_404","adSlotPut","schemas","adUnitPut","campaignPut","AdSizesByValue","ItemsConstants","ItemHoc","Item","updateNav","itemType","objModel","newItem","dp","slice","indexOf","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","filter","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","updateItem","_authType","editImg","_activeInput","_this$props4","matchId","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","validName","_this$props5","schema","result","Joi","_this$props6","description","_this$props7","page_not_found_PageNotFound","isDemo","canEdit","temp","mediaUrl","fallbackMediaUrl","titleErr","descriptionErr","react_router","when","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","errMsgArgs","containers_ImgDialog_ImgDialog","_id","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","xs","lg","htmlFor","multiline","rows","validateDescription","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","Info_default","map","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","ipfs","_ipfs","params","itemId","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","window","innerWidth","StepLabel","MobileStepper","activeStep","steps","Stepper","alternativeLabel","page","i","Step","MaterialStepper","_props$pages","setCurrentPage","canReverse","pageProps","Comp","pageValidation","dirtyErrors","reduce","dirtyErrs","getDirtyValidationErrors","selectSpinnerById","isValidPage","useCallback","goToPage","nextStep","canGoBack","goToPreviousPage","_callee2","_context2","goToNextPage","_callee3","_context3","onValid","useEffect","onKeyPressed","_ref5","_callee4","_context4","_x2","onKeyPress","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","JSON","stringify","CancelBtn","onSave","stepsId","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","MaterialUiStepper","fullHeight","max","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","TextBtn","Transition","Slide","direction","iconButton","textButton","fabVariant","btnLabelArgs","btnLabel","dialogActions","btnProps","setOpen","onBeforeOpen","ButtonComponent","btnLabelTranslated","react","first","second","TransitionComponent","disableTypography","closeDialog","NewAdUnitHoc","ItemForm","updateNewItem","AdUnit","addUnit","resetNewItem","saved","Dropdown","_this$props$label","_this$props$source","source","_this$props$htmlId","htmlId","_this$props$name","_this$props$disabled","_this$props$error","helperText","_this$props$fullWidth","noSrcLabel","formControl","Select","input","toConsumableArray","spinners_InputLoading","selectEmpty","adUnitPost","AdTypes","constants","AdUnitsTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","addUtmLink","addUtmParameters","campaign","removeFromUrl","parse","search","protocol","host","newQuery","_i","_Object$entries","entries","query","_ref4","UTM_PARAMS","format","addUrlUtmTracking","newTemp","checked","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getWidAndHightFromType","sizes","parseInt","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","renderInput","inputProps","InputProps","ref","other","inputRef","inputRoot","renderSuggestion","suggestion","itemProps","highlightedIndex","selectedItem","showSelected","isHighlighted","isSelected","fontWeight","getSuggestions","inputValue","allowCreate","validateCreation","toLowerCase","trim","includes","newSuggestion","DownshiftMultiple","handleKeyDown","keycode","newItemValue","handleInputChange","handleDelete","splice","placeholder","openOnClick","allValues","downshift_esm","itemToString","getInputProps","getItemProps","isOpen","inputValue2","selectedItem2","toggleMenu","startAdornment","tabIndex","chip","onKeyDown","square","DownshiftSingle","onInit","errorText","suggestions","clearSelection","dist_index_esm","index_esm","itemSize","itemCount","multiple","autocomplete_DownshiftMultiple","autocomplete_DownshiftSingle","marks","SourcesSelect","SOURCES","collection","tag","score","AdUnitTargeting","handleTargetChange","newValue","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","validateAutocomplete","targetTag","autocomplete_Autocomplete","suggestionMatch","showSuggestionsWhenValueIsSet","Slider","slider","markLabel","aria-labelledby","min","step","valueLabelDisplay","collections","all","tg","newCollection","targeting","tags","_ref4$target","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref$targets","subHeader","dense","subheader","ListSubheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","_ref6","imgPreview","boxShadow","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","Campaign","waitingAction","openCampaign","adUnits","adUnitsArray","handleSelect","hasAdUnits","EnhancedTable","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","moment","MomentUtils","campaignTitleSchema","string","allow","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_ID","VALIDATOR_SOURCES","fee","tempValidators","validateCampaignDates","_ref2$created","created","now","withdrawPeriodStart","activeFrom","NewCampaignFinance","CampaignFinance","validateAndUpdateValidator","update","validators","newValidators","handleDates","maxChannelFees","validateAmount","depositAmount","minPerImpression","openChannel","getFeesOnly","getMaxFees","feesData","fees","isNumberString","utils","parseUnits","_ref4$availableIdenti","stats","formatted","_ref3$maxDeposit","maxDeposit","maxDep","parseFloat","dep","validateAmounts","mainTokenSymbol","minTargetingScore","_ref5$availableIdenti","from","date","valueOf","errDepAmnt","errMin","errFrom","errTo","impressions","commify","floor","getTotalImpressions","leader","follower","toFixed","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","CampaignFormPreview","AdUnitsTable","listMode","identityAddr","mainToken","FormsCommon_WalletAction","formatDateTime","NewCampaignFormPreview","selectAuthType","AdSlot","addSlot","adSlotPost","NewAdSlotHoc","updateMinPerImpression","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch","Collapse","in","PredefinedTags","custom","AdSlotTargeting","SlotFallback","AdSlotPreview","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","WithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","CampaignUnits","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","AdSlotBasic","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","headCells","numeric","disablePadding","disableOrdering","Other","filterTags","missingData","mapStatusIcons","humanFriendlyStatus","status","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","EnhancedTableHead","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","headSide","TableHead","TableRow","TableCell","indeterminate","headCell","align","sortDirection","TableSortLabel","property","visuallyHidden","ChipMultipleSelect","anchorDatePicker","setAnchorDatePicker","selectAll","newSelecteds","n","numberToShow","numberToShowGreater","loopCount","c","join","labelParser","FilterList_default","Popover","transformOrigin","FormLabel","useToolbarStyles","highlight","lighten","light","dark","EnhancedTableToolbar","setSearch","filters","setFilters","filterSide","filtersPresent","initialFilterTags","clsx","flexItem","Search_default","Tooltip","desc","b","Number","filterBySearch","filterByTags","humanFriendlyName","stableSort","array","cmp","stabilizedThis","el","sort","getSorting","orderToken","RRTableCell","RRIconButton","table","tableLayout","tableWrapper","clip","spacer","cellImg","renderActions","enterDelay","Visibility_default","NewItems_NewCloneUnitDialog","cloneItem","_useSelector","decimals","_React$useState","_React$useState2","setOrder","_React$useState3","_React$useState4","setOrderBy","_React$useState5","_React$useState6","orderIsNumeric","setOrderisNumeric","_React$useState7","_React$useState8","setSelected","_React$useState9","_React$useState10","setPage","_React$useState11","_React$useState12","rowsPerPage","setRowsPerPage","_React$useState13","_React$useState14","_React$useState15","_React$useState16","filteredItems","sortedItems","emptyRows","Table","TableBody","isItemSelected","labelId","firstUnit","hover","role","aria-checked","selectedIndex","newSelected","formatTokenAmount","fundsDistributedRatio","bigNumberify","mul","colSpan","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","CardContent","validUrl","ValidatedSlotMinCPM","_selectMainToken","minCPM","_ref2$prop","_ref2$value","_ref2$item","updateItemTemp","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","CampaignProps","_selectMainToken2","VIEW_MODE","context","handleTabChange","CampaignActions","closeCampaign","statistics","units","spec","CampaignModel","balances","lastApprovedBalances","scrollable","scrollButtons","CampaignItem","datepicker","rowsView","ui","RRSideBox","_ref$salePoints","salePoints","linkTitle","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","tooltip","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","borderWidth","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","typography","pxToRem","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","progress","StatsCard","explain","infoStatsContainer","dashboardCardBody","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","mode","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","global","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","_ref$timeframe","timeframe","eventType","_ref$options","options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","payouts","selectStatsChartData","metric","noLastOne","counts","Chart","pluginService","register","afterDraw","chart","_active","activePoint","controller","ctx","tooltipPosition","topY","scales","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","labels","datasets","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","callbacks","datasetIndex","yLabel","xAxes","gridLines","scaleLabel","labelString","yAxes","ticks","beginAtZero","precision","drawOnChartArea","react_chartjs_2_es","deepOrange","amber","lime","contrastThreshold","tonalOffset","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","themeMUI","responsiveFontSizes","factor","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","timeHints","hour","day","week","BasicStats","selectAnalytics","totalImpressions","selectTotalImpressions","totalMoney","selectTotalMoney","averageCPM","selectAverageCPM","loadingImpressions","loadingMoney","loadingCPM","DashboardStats_StatsCard","updateAnalyticsTimeframe","formatNumberWithCommas","simplified_SimpleStatistics","find","DashboardStats","_useSelector2","outstandingBalanceMainToken","goToAccount","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","fallbackUnit","publisherAddr","whitelistedTokens","selectRoutineWithdrawTokensAddresses","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","current","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","Items","nav","NewTransactionHoc","TransactionHoc","txId","updateNewTransaction","tx","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","res","getErrMsg","saveFn","acc","transaction","console","log","txs","txResults","catch","newTransactions","WithdrawFromIdentityForm","numStr","token","identityAvailable","validateNumber","amount","withdrawAmount","withdrawTo","withdrawToSpinner","errAmount","errAddr","validateAddress","addr","WithdrawAnyTokenFromIdentityForm","balanceAnySpinner","tokenAddress","tokenBalance","errToken","setBalance","bal","IdentityPrivilegeLevel","PRIV_LEVELS_SRC","SeAddressPrivilegeForm","setAddrSpinner","setAddr","privLevel","privilegesNames","valueToKey","IdentityWithdrawPreview","toGet","SetPrivilegePreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","previewWarnMsgs","selectNewTransactionById","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","FormStepsWithDialog","FormSteps","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","WithdrawFromExchangePage","TransactionPreview","identityWithdraw","amountToWithdraw","withdrawFromIdentity","SetIdentityPrivilege","SeAddressPrivilege","addrIdentityPrivilege","setIdentityPrivilege","actionBtn","advancedList","iconBtnLeft","VALIDATOR_LEADER_URL","VALIDATOR_FOLLOWER_URL","AccountInfo","selectWallet","password","selectAccountIdentity","_useSelector3","walletAddress","_useSelector3$walletA","walletAuthType","_useSelector3$walletP","walletPrivileges","identityAddress","identityBalanceMainToken","localWalletDownloadHref","obj","getRecoveryWalletData","walletJsonData","expanded","setExpanded","chr","py","download","SaveAlt_default","pr","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","Campaigns","NewItems_NewCampaignDialog","accent","containers_Items_Items","AdUnits","AdSlots","NewItems_NewSlotDialog","Dashboard","mobileOpen","setMobileOpen","getAllItems","analyticsLoop","start","campaignsLoop","statsLoop","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","Account","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","selectRegistrationAllowed","auth","selectAuth","getAllWallets","w","goTo","confirmLogout","toExecute","confirmAction","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","IdentityHoc","IdentityForm","updateIdentity","login","resetIdentity","ready","waitingExpected","waiting","waitingUpload","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","signType","method","sideSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","balanceEth","tokensBalances","balance","installingMetamask","setInstallingMetamask","setAddress","_useState5","_useState6","setStats","_useState7","_useState8","waitingMetamaskAction","setWaitingMetamaskAction","_useState9","_useState10","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","_useState11","_useState12","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","provider","metamaskSigner","_address","_stats","getEthers","getSigner","getAddress","getAddressBalances","t0","tabBox","paragraph","METAMASK_IMG","dangerouslySetInnerHTML","__html","METAMASK_DL_IMG","metamaskLAbel","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","getAddresses","payload","results","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","IdentityContractOwnerStep","validateContractOwner","identityContractOwner","currOwner","ownerAuth_AuthMethod","QuickInfo","selectIdentity","emailCheck","passwordCheck","tosCheck","validateEmail","validateEmailCheck","validatePassword","validatePasswordCheck","validateTOS","QuickDeploy","walletAddr","QuickLogin","getIdentitiesForDropdown","ownerIdentities","FullLogin","identityContractAddress","updateOwnerIdentities","owner","FulInfo","ExternalConnect","connectType","identity_FullLogin","FullInfo","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","goToNextPageIfValid","final","infoPaper","gutters","finalValidationQuick","onInvalid","validateQuickLogin","finalValidationStandard","validateStandardLogin","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","validateQuickDeploy","ConnectedQuickLogin","ConnectedLoginStandardIdentity","IdentityContractOwner","ConnectedRoot","PrivateRoute","render","getRelayerConfig","metamaskChecks","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","handleLegacyWallet","metamaskNetworkCheck","updateRegistrationAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","hostname","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","__webpack_exports__","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAllItems","resetAllNewItems","resetAllBids","resetAccount","resetAnalytics","getState","getValidatorRequester","baseUrl","Requester","getRequesters","requester","validator","processResponse","json","handleRequesterErrorRes","getValidatorAuthToken","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","validatorId","existingAuth","signer","validatorAuthTokens","era","ewt","sign","sendMessage","_ref7","_authTokens","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","fetch","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","headers","authorization","authTokens","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","lastApprovedState","_ref8","route","_ref9","body","events","Content-Type","identityAnalytics","_ref11","_ref10","campaignId","leaderAuth","limit","aggregates","idenityAddr","queryParams","_x3","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","RESET_ANALYTICS","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","AdExCore","contracts","Core","Interface","abi","Identity","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","toEthereumChannel","channel","specHash","crypto","createHash","digest","Channel","creator","tokenAddr","depositAsset","tokenAmount","validUntil","v","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","div","maxPerImpression","eventSubmission","uids","rateLimit","lastChecked","getExpiredWithdrawnOutstanding","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","withdrawn","functions","states","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__","ChannelState","Active","sub","getWithdrawnPerUserOutstanding","withdrawnPerUser","t1","getChannelsWithOutstanding","_getChannelsWithOutstanding","channels","_ref16","feeTokenWhitelist","routineWithdrawTokens","eligible","getAllCampaigns","selectFeeTokenWhitelist","selectRoutineWithdrawTokens","lastApprovedSigs","validBalances","_e","_unused","_channel$status","bTree","BalanceTree","_ref17","getBalance","isZero","_ref19","_ref18","outstanding","outstandingAvailable","_x9","gt","minWeekly","getChannelsToSweepFrom","_callee5","amountToSweep","allChannels","_allChannels$sort$red","_context5","c1","c2","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","sum","lt","add","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","splitSig","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","txns","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","identityContract","executeRoutines","encode","routinesTxCount","routinesSweepTxCount","getIdentityRoutineAuthTuple","relayerData","deployData","routineAuthorizationsData","hasValidExecuteRoutines","getSweepChannelsTxns","_x5","_getSweepChannelsTxns","_callee6","_ref20","channelsToSweep","encodedTxns","_context6","toSolidityTuple","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","isSweepTx","getSwapAmountsByToken","_ref12","_balances$reduce","swaps","swapsSumInMainToken","balanceMainToken","swapsByToken","getSweepingTxnsIfNeeded","_x6","_getSweepingTxnsIfNeeded","_callee7","_ref13","amountInMainTokenNeeded","needed","_ref21","mainTokenBalance","currentBalanceInUse","sweepData","_getSwapAmountsByToke","_context7","getWithdrawTokensBalances","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","_x7","_openChannel","_callee8","_ref14","_ref22","getToken","readyCampaign","openReady","ethChannel","approveTxns","channelOpenTx","txnsByFeeToken","mtBalance","maxAvailable","_context8","raw","selectMainFeeToken","hashHex","getApproveTxns","approveForAddress","approveAmount","channelOpen","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","totalBN","total","processExecuteByFeeTokens","extraData","closeChannel","_x8","_closeChannel","_callee9","_ref15","_context9","textObj","Error","statusText","AdexNodeRequester","getAuthHeaders","authSig","authSignature","selectAuthSig","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref4$route","_ref4$queryParams","_ref4$method","_ref4$headers","_ref4$authSig","userAddr","_ref4$noCache","authToken","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_4__","DAI","Dai","IdentityFactory","ERC20","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","country","genders","Genders","Looper","syncAction","loopName","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","opts","startLoop","checkLoop","Buffer","encrypt","decrypt","encryptLegacy","decryptLegacy","getKeyHash","hash","iv","cipher","createCipheriv","encr","encrypted","textParts","shift","encryptedText","decipher","createDecipheriv","decr","createCipher","crypted","createDecipher","dec","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","LOOP_TIMEOUT","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","syncCampaigns","updateUserCampaigns","Loop","_loop__WEBPACK_IMPORTED_MODULE_0__","actions__WEBPACK_IMPORTED_MODULE_1__","accountStatsLoop","updateAccountStats","ETHEREUM_NETWORKS","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_SIDES","VALIDATOR_ANALYTICS_EVENT_TYPES","adex_constants__WEBPACK_IMPORTED_MODULE_0__","adex_models__WEBPACK_IMPORTED_MODULE_1__","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","GETH","GRANT","QUICK","SEED","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","setLang","adex_translations__WEBPACK_IMPORTED_MODULE_0__","adex_translations__WEBPACK_IMPORTED_MODULE_0___default","react_dom_server__WEBPACK_IMPORTED_MODULE_1__","translations","adexTranslations","lang","translation","tpl","_","arg","renderToString","interpolate","lng","updateAccountAnalytics","isEthAddressERC20","contract","isEthAddress","ethers","Contract","ERC20TokenABI","totalSupply","balanceOf","AddressZero","allowance","getERC20Balance","_ref3$addr","_ref3$balanceFor","balanceFor","createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","createSelector","selectAccountStats","settings","router","selectSpinners","ids","allowRegistration","selectTranslations","_opts$isProp","_opts$args","analytics","selectAnalyticsDataAggr","aggr","eventCounts","eventPayouts","_ref10$data","memo","time","parseValueByMetric","selectValidations","selectRelayerConfig","config","relayer","tokens","relayerConfig","selectSaiToken","saiAddr","translationsSelectors_t","configSelectors_selectRelayerConfig","constants_misc__WEBPACK_IMPORTED_MODULE_1__","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","web3Transactions","ethNetwork","networkId","gasData","market","getValidatorAnalyticsInitialState","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","formatUnits","substring","DEFAULT_HD_PATH","LedgerSigner","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","derive","publicExtendedKey","HDNode","fromExtendedKey","_ref4$from","_ref4$to","transport","eth","_args2","_transport","create","LedgerEth","signTx","txProps","txUnsigned","r","s","signature","txSigned","resolveProperties","serializeTransaction","signTransaction","sendTransaction","txData","signMessage","_args5","hex","toUtf8Bytes","hexlify","signPersonalMessage","joinSignature","_provider","_path","TransportU2F","Signer","HEADER","base64","alg","payloadEncoded","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sig","sigBuf","verify","parts","verifyMessage","decode","types","updateUi","category","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","changeLanguage","URLSearchParams","get","refreshCacheAndReload","_ref3$notification","notification","caches","names","delete","addSig","_ref$addr","expiryTime","_ref$identity","localStorage","setItem","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getItem","getErrorMsg","updateSignin","resetSignin","createAccount","updateAccount","meta","updateGasData","withBalance","getOutstandingBalance","getAccountStats","updateValidatorAuthTokens","newAuth","newIdentity","newTokens","_x4","createSession","_ref7$identity","deleteLegacyKey","newWallet","sessionSignature","typedData","leaderValidatorAuth","checkSession","skipErrToast","getAuthSig","getSession","signerAddress","cfg","getRelayerConfigData","getNetworkId","_callee11","_context11","getNetwork","getNetworkData","_callee12","network","_context12","onMetamaskNetworkChange","_getState","isMetamaskMatters","t2","t3","t4","t5","onMetamaskAccountChange","accountAddress","hasAuth","_account$wallet","_x10","_x11","metamaskAccountCheck","ethereumSelectedAddress","_x12","_x13","ethereumNetworkId","_x14","_x15","ethereum","on","accounts","_x16","_x17","hasBackup","_callee13","salt","_ref23","encryptedWallet","_context13","generateSalt","getWalletHash","getQuickWallet","makeBackup","_callee14","walletSalt","walletHash","_context14","backupWallet","_callee10","_selectWallet","isLocal","_context10","_x20","_x21","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","_selectRelayerConfig","resUnit","passback","postAdSlot","slots","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","getAllValidatorsAuthForIdentity","_selectRelayerConfig2","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","updateCampaignState","getHumanFriendlyName","_ref24","_selectAccount","campaigns","getCampaigns","_ref25","_ref26","_ref27","closeCampaignMarket","_getState$persist$acc","validEthAddress","nonZeroAddr","nonERC20","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","validEmail","validPassword","accepted","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","privileges","saveToLocalStorage","abort","readAsText","identityData","getOwnerIdentities","_data","getIdentityData","_selectIdentity","identityTxData","registerAccount","regAccount","currentPrivileges","isLimitedVolume","actualAuthType","walletData","getLocalWallet","walletInfo","identityPrivileges","handleAfterValidation","identityDataSplit","createLocalWallet","getIdentityDeployData","addDataToWallet","dataKey","dataValue","every","_x18","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","analyticsParams","callsParams","checkAccountChanged","accountCheck","_getState$persist","accountChanged","allAnalytics","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","setLogLevel","getEthersResult","adexCore","coreAddr","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","getIdentity","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","networkVersion","isMetaMask","Module","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","random","cache","latestVersion","versionA","versionB","versionsA","versionsB","isNaN","semverGreaterThan","appVersion","ethers__WEBPACK_IMPORTED_MODULE_0__","pbkdf2__WEBPACK_IMPORTED_MODULE_1__","pbkdf2__WEBPACK_IMPORTED_MODULE_1___default","services_crypto_crypto__WEBPACK_IMPORTED_MODULE_2__","helpers_localStorageHelpers__WEBPACK_IMPORTED_MODULE_3__","constants_misc__WEBPACK_IMPORTED_MODULE_4__","getCipherKey","pass","pbkdf2","pbkdf2Sync","isLegacyCrypto","generateWallet","mnemonic","randomEntropy","entropyToMnemonic","getRandomMnemonic","Wallet","fromMnemonic","privateKey","encrKey","encrData","_ref3$email","isLegacy","jsonData","_ref5$email","_ref5$password","_ref5$authType","_ref6$email","_ref6$password","getEncrypted","newKey","_ref7$email","_ref7$password","removeFromLocalStorage","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","loadFromLocalStorage","_ref4$email","decryptedStr","decrData","mail","getKeys","isWallet","passwordId","dataStr","keccak256","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","initial","isMoment","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","unix","byCreator","isConnectionLost","race","getBlockNumber","urlRegex","emailRegex","passwordRegex","numberStr","isFinite","isEthAddressZero","ethAddressZero","ethAddressERC20","tokenAvailableBalance","feeToken","lte","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","balancesCalls","totalBalanceInMainToken","tokenContract","available","tokenInMainTokenValue","_getAddressBalances","calls","serializedPath","formatEther","_getAccountStats","_ref7$outstandingBala","_identity$status","privilegesAction","_ref17$","identityWithdrawTokensBalancesBalances","deployed","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","_getOutstandingBalance","bigZero","allOutstanding","amounts","ch","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","_objectSpread2","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","valueInMainToken","TrezorConnect","manifest","appUrl","TrezorSigner","getAddsParams","_ref$from","_ref$to","bundle","showOnTrezor","_ref3$from","_ref3$to","ethereumGetAddress","ethereumSignTransaction","_args4","ethereumSignMessage","LocalSigner","_wallet","signetTx","arrayify","MetaMaskSigner","_signer","_args3","_getSigner","_signer2","_signer3","getTypedDataHash","entry","valuesHash","schemaHash","solidityKeccak256","_getAuthSig","MAX_SAFE_INTEGER","_signTx","Transaction","getMultipleTxSignatures","_getMultipleTxSignatures","signatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","executeTx","services_requester__WEBPACK_IMPORTED_MODULE_0__","txnsRaw","bytecode","baseIdentityAddr","routineAuthorizationsRaw","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","removeItem","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","configStorage","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","ScdMcdMigration","ScdMcdMigrationABI","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","identityRecoveryAddr","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_getIdentityTxnsWithNoncesAndFees","_ref5$amountInMainTok","_ref5$txns","_ref12$sweepTxns","_ref12$swapAmountsByT","saiToken","isDeployed","initialNonce","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesTxCount","_tx$routinesSweepTxCo","minFeeAmount","minDeploy","routinesFeeAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref8$mainToken","byToken","byFeeToken","txFeeAmount","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref9$extraData","serialized","warn"],"mappings":"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","file":"static/js/main.b1464790.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Button from '@material-ui/core/Button'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport IconButton from '@material-ui/core/IconButton'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst variantIcon = {\n\taccept: CheckCircleIcon,\n\tsuccess: CheckCircleIcon,\n\twarning: WarningIcon,\n\tcancel: ErrorIcon,\n\terror: ErrorIcon,\n\tinfo: InfoIcon,\n}\n\nexport class Toast extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttoast: {},\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tlet toast = this.state.toast\n\t\tlet nextToast = nextProps.toasts[0]\n\n\t\tif (!nextToast) {\n\t\t\tthis.setState({ active: false, toast: {} })\n\t\t\treturn\n\t\t}\n\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\n\n\t\tif (isNewToast) {\n\t\t\tthis.setState({ active: true, toast: nextToast })\n\t\t}\n\t}\n\n\tclose = id => {\n\t\tthis.setState({ active: false })\n\t\tthis.props.actions.removeToast(id)\n\t}\n\n\trender() {\n\t\tconst { toast } = this.state\n\t\tconst { classes } = this.props\n\t\tconst Icon = variantIcon[toast.type]\n\n\t\tif (!toast || !Icon) return null\n\n\t\tconst anchorOrigin = toast.anchorOrigin || {\n\t\t\tvertical: 'bottom',\n\t\t\thorizontal: 'center',\n\t\t}\n\n\t\tif (toast.top) {\n\t\t\tanchorOrigin.horizontal = 'center'\n\t\t\tanchorOrigin.vertical = 'top'\n\t\t}\n\n\t\treturn (\n\t\t\t<Snackbar\n\t\t\t\topen={this.state.active}\n\t\t\t\tautoHideDuration={toast.timeout || 0}\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\tanchorOrigin={anchorOrigin}\n\t\t\t>\n\t\t\t\t<SnackbarContent\n\t\t\t\t\taria-describedby='client-snackbar'\n\t\t\t\t\tmessage={\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\taction={[\n\t\t\t\t\t\ttoast.action && toast.action,\n\t\t\t\t\t\t!toast.unclosable && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tkey='close'\n\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\tclassName={classes.close}\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t),\n\t\t\t\t\t]}\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\n\t\t\t\t\t\t[classes.top]: !!toast.top,\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</Snackbar>\n\t\t)\n\t}\n}\n\nToast.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\ttoasts: PropTypes.array.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// let persist = state.persist\n\tlet memory = state.memory\n\treturn {\n\t\ttoasts: memory.toasts || [],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withStyles(styles)(Toast))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsnackbar: {\n\t\t\tborder: '3px solid',\n\t\t\tborderRadius: 0,\n\t\t\tbackgroundColor: '#222',\n\t\t\t'&.active': {\n\t\t\t\ttransform: 'translateY(-20%)',\n\t\t\t},\n\t\t\tmargin: spacing,\n\t\t},\n\t\twarning: {\n\t\t\tborderColor: '#FFAB00',\n\t\t\tcolor: '#FFAB00',\n\t\t},\n\t\tcancel: {\n\t\t\tborderColor: '#FF5722',\n\t\t\tcolor: '#FF5722',\n\t\t},\n\t\taccept: {\n\t\t\tborderColor: '#00E676',\n\t\t\tcolor: '#00E676',\n\t\t},\n\t\ticon: {\n\t\t\tfontSize: 20,\n\t\t},\n\t\ticonVariant: {\n\t\t\topacity: 0.9,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tmessage: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\ttop: {\n\t\t\twidth: '98vw',\n\t\t\tmaxWidth: '98vw',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { translate } from 'services/translations/translations'\nimport { selectLang } from 'selectors'\n\nexport default function Translate(Decorated) {\n\tfunction Translated(props) {\n\t\tconst language = useSelector(selectLang)\n\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\n\t\t\tconst translation = translate(val, { isProp, args }, language)\n\n\t\t\treturn translation\n\t\t}\n\n\t\treturn <Decorated {...props} t={t} />\n\t}\n\n\treturn Translated\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport Button from '@material-ui/core/Button'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Translate from 'components/translate/Translate'\n\nexport class Confirm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.cancel = this.cancel.bind(this)\n\t\tthis.confirm = this.confirm.bind(this)\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({ active: nextProps.visible })\n\t}\n\n\tconfirm() {\n\t\tif (typeof this.props.confirm === 'function') {\n\t\t\tthis.props.confirm()\n\t\t}\n\t\tthis.setState({ active: false })\n\t}\n\n\tcancel() {\n\t\tif (typeof this.props.cancel === 'function') {\n\t\t\tthis.props.cancel()\n\t\t}\n\n\t\tthis.setState({ active: false })\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\ttext,\n\t\t\tchildren,\n\t\t\tcancelLabel,\n\t\t\tconfirmLabel,\n\t\t\tt,\n\t\t\tnoActionBtns,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<Dialog open={this.state.active}>\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t{children}\n\t\t\t\t</DialogContent>\n\t\t\t\t{!noActionBtns && (\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t)}\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nConfirm.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tcancelLabel: PropTypes.string,\n\tconfirmLabel: PropTypes.string,\n\ttitle: PropTypes.string.isRequired,\n\ttext: PropTypes.string,\n\tconfirm: PropTypes.func,\n\tcancel: PropTypes.func,\n\tvisible: PropTypes.bool,\n\tcalledOn: PropTypes.number,\n\tnoActionBtns: PropTypes.bool,\n}\n\nfunction mapStateToProps(state) {\n\tstate = state.memory\n\treturn {\n\t\tcancelLabel: state.confirm.data.cancelLabel,\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\n\t\ttitle: state.confirm.data.title || '',\n\t\ttext: state.confirm.data.text || '',\n\t\tconfirm: state.confirm.onConfirm,\n\t\tcancel: state.confirm.onCancel,\n\t\tvisible: state.confirm.active || false,\n\t\tcalledOn: state.confirm.calledOn,\n\t\tnoActionBtns: state.confirm.noActionBtns,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(Confirm))\n","import React from 'react'\n// import PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nexport const withReactRouterLink = Component => {\n\tclass Decorated extends React.Component {\n\t\tresolveToLocation = to => {\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\n\t\t\tconst href = this.props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\thandleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = this.props\n\n\t\t\tif (onClick && typeof onClick === 'function') {\n\t\t\t\tawait onClick()\n\t\t\t\tthis.props.history.push(to)\n\t\t\t} else {\n\t\t\t\tthis.props.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\t// TODO: check if it works without infinite loops\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//   // const { to } = this.props;\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\n\t\t// }\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tto,\n\t\t\t\tmatch,\n\t\t\t\tlocation,\n\t\t\t\thistory,\n\t\t\t\tstaticContext,\n\t\t\t\tonClick,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst toLocation = this.resolveToLocation(to)\n\n\t\t\treturn (\n\t\t\t\t<Component {...rest} href={toLocation} onClick={this.handleClick} />\n\t\t\t)\n\t\t}\n\t}\n\n\treturn withRouter(Decorated)\n}\n","import React from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon'\nimport pure from 'recompose/pure'\n\nexport default (path, displayName, viewBox = '') => {\n\tlet Icon = props => (\n\t\t<SvgIcon viewBox={viewBox} {...props}>\n\t\t\t{path}\n\t\t</SvgIcon>\n\t)\n\n\tIcon.displayName = displayName\n\tIcon = pure(Icon)\n\tIcon.muiName = 'SvgIcon'\n\n\treturn Icon\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\n\t</g>,\n\n\t'Campaign',\n\t'0 0 26.12 17.37'\n)\n","import React from 'react'\nimport Link from '@material-ui/core/Link'\n\nconst getUrl = url => {\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\n\tif (url) {\n\t\turl = '//' + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({ href, target, children, label, ...rest }) => {\n\tlet url = target && target === '_blank' ? getUrl(href) : href\n\treturn (\n\t\t<Link\n\t\t\tunderline='none'\n\t\t\tcolor='inherit'\n\t\t\tdraggable='false'\n\t\t\trel='noopener noreferrer'\n\t\t\t{...rest}\n\t\t\ttarget={target}\n\t\t\thref={url}\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\n\t\t>\n\t\t\t{children || label}\n\t\t</Link>\n\t)\n}\n\nexport default Anchor\n","const drawerWidth = 250\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t\tzIndex: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\tdisplay: 'flex',\n\t\t\tminHeight: '100vh',\n\t\t\twidth: '100%',\n\t\t},\n\t\tappBar: {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 'auto',\n\t\t\tposition: 'fixed',\n\t\t\t// marginLeft: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\n\t\t\t\tleft: drawerWidth,\n\t\t\t},\n\t\t\tbackgroundColor: '#eee',\n\t\t\tcolor: '#000',\n\t\t},\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'row',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t},\n\n\t\tflexRow: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexBasis: '100%',\n\t\t\tpaddingTop: theme.spacing(1),\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t'&:last-child': {\n\t\t\t\tpaddingRight: 240,\n\t\t\t\tpaddingTop: theme.spacing(1),\n\t\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t\tpaddingLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttoolbarControls: {\n\t\t\tjustifyContent: 'flex-end',\n\t\t},\n\t\ttoolbarTitle: {\n\t\t\tjustifyContent: 'flex-start',\n\t\t},\n\t\tnavIconHide: {\n\t\t\tmarginRight: 10,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexFlow: 'wrap',\n\t\t\theight: 114,\n\t\t\t...theme.mixins.toolbar,\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tposition: 'fixed',\n\t\t\t},\n\t\t\tbackgroundColor: '#fff',\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tpadding: theme.spacing(3),\n\t\t\tpaddingTop: theme.spacing(5),\n\t\t\toverflow: 'auto',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmarginLeft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: 1600,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\ticon: {\n\t\t\theight: 36,\n\t\t\twidth: 'auto',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport { t } from 'selectors'\n\nconst sideIndex = {\n\tadvertiser: 0,\n\tpublisher: 1,\n\t'0': 'advertiser',\n\t'1': 'publisher',\n}\n\nconst handleChange = (ev, index) => {\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\n}\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\t// TODO: keep it everywhere in case of components update\n\t\troot: {\n\t\t\tminWidth: 30,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tselected: {\n\t\t\tcolor: activeColor,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: activeColor,\n\t\t},\n\t}\n})\n\nconst SideSwitch = ({ side, className }) => {\n\tconst classes = useStyles({ side })\n\treturn (\n\t\t<div className={className}>\n\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t<Tabs\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tvalue={sideIndex[side]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t\tvariant='fullWidth'\n\t\t\t\t\taria-label='side select'\n\t\t\t\t>\n\t\t\t\t\t<Tab classes={classes} label={t('ADVERTISER')} />\n\t\t\t\t\t<Tab classes={classes} label={t('PUBLISHER')} />\n\t\t\t\t</Tabs>\n\t\t\t</AppBar>\n\t\t</div>\n\t)\n}\n\nexport default SideSwitch\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\n\nexport const InputLoading = ({ className, color = 'primary' }) => (\n\t<LinearProgress className={className} color={color} />\n)\n\nexport const LoadingSection = ({ loading, children }) => (\n\t<Box display='flex' flex='1' alignItems='center'>\n\t\t<Box>{children}</Box>\n\t\t<Box ml={2} mr={2}>\n\t\t\t{loading && <CircularProgress />}\n\t\t</Box>\n\t</Box>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\nimport classnames from 'classnames'\nimport packageJson from './../../../../package.json'\nimport Anchor from 'components/common/anchor/anchor'\nimport { styles } from './styles'\nimport SideSwitch from './SideSwitch'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport DashboardIcon from '@material-ui/icons/Dashboard'\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ListIcon from '@material-ui/icons/List'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { LoadingSection } from 'components/common/spinners'\nimport {\n\tt,\n\tselectSide,\n\tselectLocation,\n\tselectAccountIdentityAddr,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst RRListItem = withReactRouterLink(ListItem)\nconst { ETH_SCAN_ADDR_HOST } = process.env\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.contrastText\n\t\t\t: theme.palette.accentTwo.contrastText\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tnavList: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 80,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: 'solid',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&:focus': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t},\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t'&:hover': {\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\n\t\t},\n\t}\n})\n\nconst useCommonStyles = makeStyles(styles)\n\nfunction SideNav(props) {\n\tconst side = useSelector(selectSide)\n\tconst identity = useSelector(selectAccountIdentityAddr)\n\tconst classes = useStyles({ side })\n\tconst commonClasses = useCommonStyles()\n\tconst routerLocation = useSelector(selectLocation)\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// TODO: test location\n\tconst location = routerLocation.pathname.split('/')[3]\n\tconst isAdvertiser = side === 'advertiser'\n\tconst items = isAdvertiser ? 'units' : 'slots'\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\n\t\t<div className={classes.navigation}>\n\t\t\t<List\n\t\t\t\tclasses={{\n\t\t\t\t\tpadding: classes.sntPadding,\n\t\t\t\t\troot: classes.navListRoot,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.navList}\n\t\t\t\tcomponent='nav'\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tcommonClasses.toolbar,\n\t\t\t\t\t\t\tclasses.sideNavToolbar\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<AdexIconTxt className={commonClasses.icon} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t<Typography variant='h6' component='div' color='textPrimary'>\n\t\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' display='block' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t</div>\n\t\t\t</List>\n\t\t\t<div className={classes.version}>\n\t\t\t\t<div className={classes.adxLink}>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx Network O\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t\t<small> / </small>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdExCore\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default SideNav\n","import React, { useState } from 'react'\nimport Menu from '@material-ui/core/Menu'\nimport Button from '@material-ui/core/Button'\n\nconst ImgIcon = ({ src }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={src}\n\t\t\theight={36}\n\t\t\twidth='auto'\n\t\t\talt='logo'\n\t\t\tstyle={{ marginRight: 5 }}\n\t\t/>\n\t)\n}\n\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\n\tconst [active, setActive] = useState(false)\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\tconst open = Boolean(anchorEl)\n\n\tconst handleButtonClick = () => {\n\t\tsetActive(!active)\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst handleMenu = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tstyle={btnStyle}\n\t\t\t\tonClick={handleMenu}\n\t\t\t\taria-owns={id}\n\t\t\t\taria-haspopup='true'\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid={id}\n\t\t\t\topen={open}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t// anchorOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\t// transformOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\tonClick={handleButtonClick}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n\nexport default ButtonMenu\n","import { AUTH_TYPES } from 'constants/misc'\nimport metamaskLogo from 'resources/metamask-logo.png'\nimport trezorLogo from 'resources/trezor-logo-h.png'\nimport ledgerLogo from 'resources/ledger_logo_header.png'\nimport demoLogo from 'resources/demo-logo.png'\n\nexport const getAuthLogo = authType => {\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\treturn metamaskLogo\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\treturn trezorLogo\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\treturn ledgerLogo\n\t\tcase AUTH_TYPES.DEMO.name:\n\t\t\treturn demoLogo\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\nimport Translate from 'components/translate/Translate'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\n// import ChangeLang from 'components/translate/ChangeLang'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport { logOut } from 'services/store-data/auth'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport classnames from 'classnames'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { selectNavTitle, selectAccount } from 'selectors'\nimport { styles } from './styles'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRMenuItem = withReactRouterLink(MenuItem)\nconst useStyles = makeStyles(styles)\n\nfunction TopNav({ handleDrawerToggle, side, t }) {\n\tconst classes = useStyles()\n\tconst navTitle = useSelector(selectNavTitle)\n\tconst account = useSelector(selectAccount)\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\n\tconst btnMenuLabel =\n\t\taccount.wallet.authType === 'demo'\n\t\t\t? t('DEMO_MODE')\n\t\t\t: account.email ||\n\t\t\t  formatAddress(account.wallet.address) ||\n\t\t\t  t('NOT_LOGGED')\n\n\treturn (\n\t\t<AppBar className={classes.appBar} position='sticky'>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t{/* <AdexIconTxt\n              className={classes.icon}\n            /> */}\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\n\t\t\t\t\t\t{/* <ChangeLang /> */}\n\t\t\t\t\t\t<Jazzicon\n\t\t\t\t\t\t\tdiameter={30}\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonMenu\n\t\t\t\t\t\t\tid='menu-appbar'\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\n\t\t\t\t\t\t\tactive={true}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRMenuItem\n\t\t\t\t\t\t\t\tvalue='account'\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RRMenuItem>\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue='logout'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlogOut()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</ButtonMenu>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\tclassName={classes.flex}\n\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(navTitle)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nexport default Translate(TopNav)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\n// import IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport Translate from 'components/translate/Translate'\nimport { validations, helpers } from 'adex-models'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\n\nconst MAX_IMG_LOAD_TIME = 7000\nclass Img extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timgSrc: null,\n\t\t\tactive: false,\n\t\t\tvideoSrc: null,\n\t\t}\n\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\n\t\tthis.loadTimeout = null\n\t}\n\n\tipfsSrc = src => {\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\n\t\t}\n\n\t\treturn src\n\t}\n\n\thandleToggle = () => {\n\t\tlet active = this.state.active\n\t\tthis.setState({ active: !active })\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\tif (isVideo && !allowVideo) {\n\t\t\treturn this.setState({\n\t\t\t\timgSrc: VIDEO_IMAGE,\n\t\t\t})\n\t\t}\n\n\t\tif (isVideo) {\n\t\t\tthis.displayVideo = document.createElement('video')\n\t\t\tthis.setDisplayVideo({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.displayImage = new Image()\n\t\t\tthis.setDisplayImage({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps = nextProps => {\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\n\t\tconst { mediaMime } = nextProps\n\n\t\tif (nextSrc !== thisSrc) {\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\t\tif (isVideo) {\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\n\t\t\t\tthis.setDisplayVideo({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\n\t\t\t\tthis.setDisplayImage({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearLoadTimeout()\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\t\t\tthis.displayImage = null\n\t\t}\n\t}\n\n\tclearLoadTimeout = () => {\n\t\tif (this.loadTimeout) {\n\t\t\tclearTimeout(this.loadTimeout)\n\t\t\tthis.loadTimeout = null\n\t\t}\n\t}\n\n\tonFail = fallback => {\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.displayImage.src = fallback\n\t\t}\n\n\t\tthis.clearLoadTimeout()\n\n\t\tthis.setState({\n\t\t\timgSrc: fallback || null,\n\t\t})\n\t}\n\n\tsetDisplayImage = ({ image, fallback }) => {\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\n\t\t\tthis,\n\t\t\tfallback\n\t\t)\n\n\t\tthis.displayImage.onload = () => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\timgSrc: image,\n\t\t\t})\n\t\t}\n\n\t\tthis.displayImage.src = image\n\t}\n\n\tsetDisplayVideo = ({ image, fallback }) => {\n\t\tthis.displayVideo.src = image\n\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\tvideoSrc: image,\n\t\t\t})\n\t\t}\n\t}\n\n\tfullScreenBtn() {\n\t\tconst { classes } = this.props\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Fab\n\t\t\t\t\tmini\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FullscreenIcon />\n\t\t\t\t</Fab>\n\t\t\t\t{this.renderFullscreenDialog()}\n\t\t\t</span>\n\t\t)\n\t}\n\n\trenderFullscreenDialog() {\n\t\tconst { t, alt, classes, type } = this.props\n\t\tconst { active, imgSrc, videoSrc } = this.state\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={active}\n\t\t\t\ttype={type || 'normal'}\n\t\t\t\tmaxWidth={false}\n\t\t\t\tonClose={this.handleToggle}\n\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\n\t\t\t\t\t{imgSrc ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\n\t\t\t\t\t\t{t('CLOSE')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talt,\n\t\t\tallowFullscreen,\n\t\t\tclassName,\n\t\t\tclasses,\n\t\t\tfullScreenOnClick,\n\t\t} = this.props\n\t\tconst { imgSrc, videoSrc } = this.state\n\t\treturn imgSrc || videoSrc ? (\n\t\t\t<div\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\n\t\t\t>\n\t\t\t\t{!!imgSrc ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\tsrc={this.state.imgSrc}\n\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tfullScreenOnClick &&\n\t\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tfullScreenOnClick &&\n\t\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t></video>\n\t\t\t\t)}\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\n\t\t\t</div>\n\t\t) : (\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\n\t\t\t\t<span className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImg.propTypes = {\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\tfallbackSrc: PropTypes.string,\n\talt: PropTypes.string,\n\tallowFullscreen: PropTypes.bool,\n\tfullScreenOnClick: PropTypes.bool,\n\tmediaMime: PropTypes.string,\n}\n\nexport default Translate(withStyles(styles)(Img))\n","export const styles = theme => ({\n\timgLoading: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: '100%',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\timgParent: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: 'max-content',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tcircular: {\n\t\tposition: 'relative',\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\n\t\tleft: 'calc(50% - 20px)',\n\t\tdisplay: 'inline-block',\n\t},\n\tfullscreenIcon: {\n\t\tposition: 'absolute',\n\t\ttop: theme.spacing(1),\n\t\tright: theme.spacing(1),\n\t\tcursor: 'pointer',\n\t\twidth: '30px',\n\t\theight: '30px',\n\t\tminHeight: '24px',\n\t},\n\tdialog: {\n\t\t'@media(max-width:744px)': {\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t},\n\t\t'@media(max-height:823px)': {\n\t\t\tminHeight: 'auto',\n\t\t},\n\t},\n\tdialogImageParent: {\n\t\t'@media(max-width:1080px)': {\n\t\t\tmaxWidth: '80vw',\n\t\t\tmaxHeight: '100vw',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t},\n\t\t'@media(max-width:744px)': {\n\t\t\tpaddingLeft: 0,\n\t\t\tpaddingRight: 0,\n\t\t},\n\t},\n\tdialogImage: {\n\t\theight: 'auto',\n\t\tmaxWidth: '80vw',\n\t},\n\timg: {\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t},\n\twrapper: {\n\t\theight: 'max-content',\n\t\twidth: 'max-content',\n\t},\n})\n","/**\n * @param {String} objUrl - Image blob url URL.createObjectURL\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\n * @param {String} fileName - Name of the returned file in Promise\n */\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\n\t// TODO: Validate pixelCrop and size\n\tconst cropCanvas = document.createElement('canvas')\n\tconst scaleCanvas = document.createElement('canvas')\n\n\tconst img = new Image()\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\n\timg.src = objUrl\n\n\t// As a blob\n\treturn new Promise((resolve, reject) => {\n\t\timg.onload = () => {\n\t\t\tconst width = img.width\n\t\t\tconst height = img.height\n\n\t\t\t// pixelCrop come in %\n\t\t\tconst crop = {\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\n\t\t\t}\n\n\t\t\tcropCanvas.width = crop.width\n\t\t\tcropCanvas.height = crop.height\n\t\t\tconst cctx = cropCanvas.getContext('2d')\n\n\t\t\tcctx.drawImage(\n\t\t\t\timg,\n\t\t\t\tcrop.x,\n\t\t\t\tcrop.y,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height\n\t\t\t)\n\n\t\t\tscaleCanvas.width = size.width\n\t\t\tscaleCanvas.height = size.height\n\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\n\n\t\t\tsctx.drawImage(\n\t\t\t\tcropCanvas,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tsize.width,\n\t\t\t\tsize.height\n\t\t\t)\n\n\t\t\tscaleCanvas.toBlob(file => {\n\t\t\t\tif (!file) {\n\t\t\t\t\treject('Error cropping file')\n\t\t\t\t}\n\t\t\t\tfile.name = fileName\n\t\t\t\tresolve(URL.createObjectURL(file))\n\t\t\t}, 'image/jpeg')\n\t\t}\n\t})\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'components/common/img/Img'\n// import debounce from 'debounce'\nimport Dropzone from 'react-dropzone'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport ReactCrop from 'react-image-crop'\nimport { getCroppedImgUrl } from 'services/images/crop'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport SaveIcon from '@material-ui/icons/Save'\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\nimport Grid from '@material-ui/core/Grid'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nclass ImgForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { size, imgSrc, mime } = props\n\t\tconst aspect = size ? size.width / size.height : undefined\n\n\t\tthis.state = {\n\t\t\timgSrc: imgSrc || '',\n\t\t\tmime: mime || '',\n\t\t\timgName: '',\n\t\t\tcropMode: false,\n\t\t\tcrop: { aspect: aspect },\n\t\t}\n\t}\n\n\tonDrop = (acceptedFiles, rejectedFiles) => {\n\t\tconst that = this\n\t\tconst file = acceptedFiles[0]\n\t\tif (!file) return\n\t\tconst objectUrl = URL.createObjectURL(file)\n\n\t\tthat.setState({\n\t\t\timgSrc: objectUrl,\n\t\t\timgName: file.name,\n\t\t\tmime: file.type,\n\t\t})\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\n\t\tthis.props.onChange({\n\t\t\ttempUrl: objectUrl,\n\t\t\tmime: file.type,\n\t\t})\n\t}\n\n\tonRemove = e => {\n\t\tthis.preventBubbling(e)\n\n\t\tconst { imgSrc } = this.state\n\n\t\tif (imgSrc) {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\n\t\t}\n\t}\n\n\tonCropChange = crop => {\n\t\tthis.setState({ crop })\n\t}\n\n\tsaveCropped = () => {\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\n\t\tconst { onChange, size } = this.props\n\t\tgetCroppedImgUrl({\n\t\t\tobjUrl: imgSrc,\n\t\t\tpixelCrop: crop,\n\t\t\tfileName: `cropped-${imgName}`,\n\t\t\tsize,\n\t\t}).then(croppedBlob => {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\n\t\t\tonChange({\n\t\t\t\ttempUrl: croppedBlob,\n\t\t\t\tmime,\n\t\t\t})\n\t\t})\n\t}\n\n\tpreventBubbling = e => {\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation()\n\t\t}\n\t\tif (e.nativeEvent) {\n\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t}\n\t}\n\n\tUploadInfo = () => {\n\t\tconst { t, classes, size, errMsg } = this.props\n\t\tconst { imgSrc, mime } = this.state\n\t\treturn (\n\t\t\t<div className={classes.uploadInfo}>\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\n\t\t\t\t\t<div className={classes.uploadActions}>\n\t\t\t\t\t\t{/* TEMP: make size required */}\n\t\t\t\t\t\t{!!size && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={this.onRemove}\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<FileUploadIcon />\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\n\t\t\t\t\t\t{errMsg}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// TODO: CLEAR IMG BLOB!!!!\n\trender() {\n\t\tconst { t, classes, label, additionalInfo } = this.props\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\n\n\t\tconst videoSrc = isVideoMedia(mime)\n\t\treturn (\n\t\t\t<div className={classes.imgForm}>\n\t\t\t\t<AppBar\n\t\t\t\t\tposition='static'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.header,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t{imgSrc && imgName ? (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div>\n\t\t\t\t\t{cropMode ? (\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\n\t\t\t\t\t\t\t\t\t\timageStyle={{\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Dropzone\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\n\t\t\t\t\t\t\tonDrop={this.onDrop}\n\t\t\t\t\t\t\tclassName={classes.dropzone}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Dropzone>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> {additionalInfo} </small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nImgForm.propTypes = {\n\timgSrc: PropTypes.string,\n\tlabel: PropTypes.string,\n\tsize: PropTypes.object,\n}\n\nexport default Translate(withStyles(styles)(ImgForm))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\theader: {\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdropzone: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\n\t\t\tbackground: theme.palette.background.default,\n\t\t\tpadding: 10,\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timgDropzonePreview: {\n\t\t\tmaxHeight: 320,\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tdropzoneBtn: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tleftIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tuploadActions: {\n\t\t\tmarginTop: spacing,\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\n\nexport default function ValidImageHoc(Decorated) {\n\tclass ValidImage extends Component {\n\t\tvalidate = ({\n\t\t\tpropsName,\n\t\t\twidthTarget,\n\t\t\theightTarget,\n\t\t\tmediaWidth,\n\t\t\tmediaHeight,\n\t\t\tmsg,\n\t\t\texact,\n\t\t\trequired,\n\t\t\tonChange,\n\t\t\tmime,\n\t\t\ttempUrl,\n\t\t}) => {\n\t\t\tlet isValid = true\n\n\t\t\tif (exact) {\n\t\t\t\tisValid = checkExactishAspect(\n\t\t\t\t\twidthTarget,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\theightTarget,\n\t\t\t\t\tmediaHeight\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\n\t\t\t\tisValid = false\n\t\t\t}\n\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\n\n\t\t\tthis.props.validate(propsName, {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: msg, args: masgArgs },\n\t\t\t\tdirty: true,\n\t\t\t})\n\n\t\t\tconst resMedia = {\n\t\t\t\twidth: mediaWidth,\n\t\t\t\theight: mediaHeight,\n\t\t\t\tmime,\n\t\t\t\ttempUrl,\n\t\t\t}\n\n\t\t\tif (typeof onChange === 'function') {\n\t\t\t\tonChange(propsName, resMedia)\n\t\t\t}\n\t\t}\n\n\t\tvalidateMedia = async (\n\t\t\t{\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t} = {},\n\t\t\tmedia\n\t\t) => {\n\t\t\tif (!required && !media.tempUrl && onChange) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: true,\n\t\t\t\t\terr: { msg: msg, args: [] },\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\t// TODO: fix this\n\t\t\t\tonChange(propsName, media)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!media.mime || !media.tempUrl) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: false,\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\n\n\t\t\tthis.validate({\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmediaWidth: size.width,\n\t\t\t\tmediaHeight: size.height,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t\tmime: media.mime,\n\t\t\t\ttempUrl: media.tempUrl,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\n\t\t}\n\t}\n\n\tValidImage.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidImage))\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport PropTypes from 'prop-types'\nimport { execute, validate } from 'actions'\nimport { selectValidationsById } from 'selectors'\n\nexport default function ValidationHoc(Decorated) {\n\tconst ValidItem = props => {\n\t\tconst validations =\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\n\n\t\tconst makeValidation = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tconst { validateId } = props\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\n\t\t}\n\n\t\treturn (\n\t\t\t<Decorated\n\t\t\t\t{...props}\n\t\t\t\tvalidate={makeValidation}\n\t\t\t\tinvalidFields={validations}\n\t\t\t/>\n\t\t)\n\t}\n\n\tValidItem.propTypes = {\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\treturn ValidItem\n}\n","export const styles = theme => {\n\t// const spacing = theme.spacing(3)\n\treturn {}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nexport class ImgDialog extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tvalues: {},\n\t\t}\n\t}\n\n\thandleChange = (name, value) => {\n\t\tlet newValues = { ...this.state.values }\n\t\tnewValues[name] = value\n\t\tthis.setState({ values: newValues })\n\t}\n\n\tonOk = () => {\n\t\tconst vals = this.state.values\n\t\tObject.keys(vals).forEach(key => {\n\t\t\tthis.props.onChangeReady(key, vals[key])\n\t\t})\n\t\tthis.props.handleToggle()\n\t}\n\n\trender() {\n\t\tlet t = () => {}\n\t\tlet validations = this.props.invalidFields || {}\n\t\tlet errImg = validations[this.props.imgPropName]\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.props.active}\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ttype={this.props.type || 'normal'}\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t{this.props.t(this.props.title)}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\n\t\t\t\t\t\t\t\texact: this.props.exact,\n\t\t\t\t\t\t\t\trequired: this.props.required,\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\n\t\t\t\t\t\t\t{'Cancel'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.onOk}\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{'Ok'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImgDialog.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tlet persist = state.persist\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n// import classnames from 'classnames'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Fab from '@material-ui/core/Fab'\nimport CheckIcon from '@material-ui/icons/Check'\nimport SaveIcon from '@material-ui/icons/Save'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\nclass SaveBtn extends Component {\n\trender() {\n\t\tlet {\n\t\t\tspinner,\n\t\t\tclasses,\n\t\t\tsuccess,\n\t\t\tdirtyProps,\n\t\t\tsave,\n\t\t\tvalidations,\n\t\t\tvalidationId,\n\t\t\tdisabled,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.position}>\n\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t<Fab\n\t\t\t\t\t\tfabButton\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t// className={buttonClassname}\n\t\t\t\t\t\tonClick={() => save()}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tdisabled ||\n\t\t\t\t\t\t\tspinner ||\n\t\t\t\t\t\t\t!dirtyProps.length ||\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// {...other}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*TODO: Success */}\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\n\t\t\t\t\t</Fab>\n\t\t\t\t\t{!!spinner && (\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSaveBtn.propTypes = {\n\tspinnerId: PropTypes.string,\n\tvalidationId: PropTypes.string,\n\titemId: PropTypes.string,\n\tvalidations: PropTypes.object,\n\tdisabled: PropTypes.bool,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\treturn {\n\t\tspinner: memory.spinners[props.spinnerId],\n\t\tvalidations: memory.validations,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(SaveBtn)))\n","import color from '@material-ui/core/colors/purple'\n\nexport const styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: color[500],\n\t\t'&:hover': {\n\t\t\tbackgroundColor: color[700],\n\t\t},\n\t},\n\tfabProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: -6,\n\t\tleft: -6,\n\t\tzIndex: 1,\n\t},\n\tbuttonProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tposition: {\n\t\tposition: 'fixed',\n\t\ttop: 86,\n\t\tright: 40,\n\t\tzIndex: theme.zIndex.appBar,\n\t},\n})\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\twidth: '100%',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\tbuttonLeft: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\ttextField: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\ttop: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflexWrap: 'wrap',\n\t\t\tmaxWidth: '70%',\n\t\t},\n\t\tchangesLine: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\talignItems: 'center',\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tchangeChip: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: spacing,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport IMG_404 from 'resources/404.png'\nimport Img from 'components/common/img/Img'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport Translate from 'components/translate/Translate'\nimport { styles } from './styles'\n\nconst RRButton = withReactRouterLink(Button)\n\nclass PageNotFound extends React.Component {\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\tclasses,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\tgoToTxt,\n\t\t\tgoToPath,\n\t\t\tskipGoToButton,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3'>\n\t\t\t\t\t\t\t{t(title || '404_TEXT')}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{subtitle && (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\n\t\t\t\t\t\t\t\t{t(subtitle)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\tclassName={classes.text}\n\t\t\t\t\t\t\tvariant='h1'\n\t\t\t\t\t\t\tstyle={{ textTransform: 'uppercase' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('404')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\tsrc={IMG_404}\n\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{!skipGoToButton && (\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPageNotFound.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tgoToTxt: PropTypes.string,\n\tgoToPath: PropTypes.string,\n\tskipGoToButton: PropTypes.bool,\n}\n\nexport default Translate(withStyles(styles)(PageNotFound))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\twrapper: {\n\t\t\tmargin: `${spacing * 2}px auto`,\n\t\t\tmaxWidth: 1000,\n\t\t},\n\t\timg: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\nimport { schemas, Joi } from 'adex-models'\nimport classnames from 'classnames'\nimport { Prompt } from 'react-router'\nimport Translate from 'components/translate/Translate'\nimport { items as ItemsConstants } from 'adex-constants'\nimport Img from 'components/common/img/Img'\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\nimport { withStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport Paper from '@material-ui/core/Paper'\nimport InfoOutlineIcon from '@material-ui/icons/Info'\nimport Chip from '@material-ui/core/Chip'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { styles } from './styles'\nimport { validName } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\n\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\nconst { AdSizesByValue } = ItemsConstants\n\nexport default function ItemHoc(Decorated) {\n\tclass Item extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.save = this.save.bind(this)\n\t\t\tthis.state = {\n\t\t\t\tactiveFields: {},\n\t\t\t\titem: null,\n\t\t\t\tinitialItemState: {},\n\t\t\t\tdirtyProps: [],\n\t\t\t\teditImg: false,\n\t\t\t\t_activeInput: null,\n\t\t\t}\n\t\t}\n\n\t\tupdateNav = (item = {}) => {\n\t\t\tconst { actions, t, itemType } = this.props\n\t\t\tactions.updateNav(\n\t\t\t\t'navTitle',\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\n\t\t\t)\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tconst { item, matchId, objModel } = this.props\n\n\t\t\tif (!item) {\n\t\t\t\tthis.updateNav({ title: matchId })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst initialItemState = new objModel(item)\n\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\n\t\t\tthis.updateNav(initialItemState)\n\t\t}\n\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t\t//     return diffProps || diffState\n\t\t// }\n\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item } = this.state\n\t\t\tlet currentItemInst = new objModel(item || {})\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\n\t\t\t// TODO: check the above\n\t\t\tlet nextItem = nextProps.item\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\n\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\n\t\t\t\t// if (\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\n\t\t\t\t// ) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titem: nexItemInst.plainObj(),\n\t\t\t\t\tinitialItemState: nexItemInst,\n\t\t\t\t\tactiveFields: {},\n\t\t\t\t\tdirtyProps: [],\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.updateNav(nexItemInst)\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tif (this.state.item) {\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[name] = value\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\n\t\t\tif (dp.indexOf(name) < 0) {\n\t\t\t\tdp.push(name)\n\t\t\t}\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t}\n\n\t\treturnPropToInitialState = propName => {\n\t\t\tconst { objModel, actions } = this.props\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\n\t\t\tconst initialItemStateValue = initialItemState[propName]\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[propName] = initialItemStateValue\n\n\t\t\tconst dp = dirtyProps.filter(dp => {\n\t\t\t\treturn dp !== propName\n\t\t\t})\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t\t// TEMP fix, we assume that the initial values are validated\n\t\t\tactions.resetValidationErrors(item.id, propName)\n\t\t}\n\n\t\tsetActiveFields = (field, value) => {\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\n\t\t\tnewActiveFields[field] = value\n\t\t\tthis.setState({ activeFields: newActiveFields })\n\t\t}\n\n\t\t//TODO: Do not save if not dirty!\n\t\tsave = () => {\n\t\t\tconst { itemType, spinner, actions } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tif (dirtyProps.length && !spinner) {\n\t\t\t\tactions.updateItem({\n\t\t\t\t\titemType,\n\t\t\t\t\titem,\n\t\t\t\t})\n\t\t\t\tthis.setState({ dirtyProps: [] })\n\t\t\t}\n\t\t}\n\n\t\tisDirtyProp(prop) {\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\n\t\t}\n\n\t\thandleToggle = () => {\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\n\n\t\t\tif (isDemo) return\n\n\t\t\tlet active = this.state.editImg\n\t\t\tthis.setState({ editImg: !active })\n\t\t}\n\n\t\tisNameValid(name) {\n\t\t\tconst { msg } = validName(name)\n\t\t\treturn !msg\n\t\t}\n\n\t\tvalidateTitle(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tschema = campaignPut.title\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('title', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\tvalidateDescription(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.description\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.description\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('description', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tvalidations,\n\t\t\t\tclasses,\n\t\t\t\tt,\n\t\t\t\taccount,\n\t\t\t\titemType,\n\t\t\t\tobjModel,\n\t\t\t\tmatchId,\n\t\t\t\tside,\n\t\t\t\tinvalidFields,\n\t\t\t\tvalidateId,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst propsItem = this.props.item\n\n\t\t\tif (!propsItem) {\n\t\t\t\treturn (\n\t\t\t\t\t<PageNotFound\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\n\t\t\t\t\t\t\targs: [itemType, matchId],\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tskipGoToButton\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t/*\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\n\t\t\t * in this case there is no need to make instance inside them\n\t\t\t */\n\n\t\t\tconst isDemo = account._authType === 'demo'\n\t\t\tconst item = new objModel(this.state.item || {})\n\t\t\tlet canEdit = itemType === 'AdSlot'\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\n\n\t\t\tconst titleErr = invalidFields['title']\n\t\t\tconst descriptionErr = invalidFields['description']\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Prompt\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\n\t\t\t\t\t\t\t\tvalue={item.title}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\n\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{itemType !== 'Campaign' && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<ImgDialog\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\twidth={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\theight={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\n\t\t\t\t\t\t\t\t\timgPropName='img'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SaveBtn\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Decorated\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\n\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\tisDemo={isDemo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n\tItem.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\titem: PropTypes.object.isRequired,\n\t\tspinner: PropTypes.bool,\n\t\titemType: PropTypes.string.isRequired,\n\t\tobjModel: PropTypes.func.isRequired,\n\t}\n\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\n\t\tlet keys = Object.keys(items)\n\n\t\tfor (let index = 0; index < keys.length; index++) {\n\t\t\tconst key = keys[index]\n\t\t\tconst item = items[key]\n\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\n\t\t\t\treturn item\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist } = state\n\t\t// const memory = state.memory\n\t\tconst items = persist.items[props.itemType]\n\t\tconst id = props.match.params.itemId\n\t\tlet item = items[id]\n\n\t\tif (!item && props.itemType !== undefined) {\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\n\t\t}\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\titem: item,\n\t\t\tvalidateId: 'update-' + (item.id || item.ipfs),\n\t\t\tmatchId: id,\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\n}\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport StepperMUI from '@material-ui/core/Stepper'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport Button from '@material-ui/core/Button'\nimport { styles } from './styles'\nimport Paper from '@material-ui/core/Paper'\nimport Box from '@material-ui/core/Box'\nimport Chip from '@material-ui/core/Chip'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\n\nconst getDirtyValidationErrors = (validations = {}) => {\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\n\t\tconst err = validations[key]\n\t\tif (err.dirty) {\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\n\t\t}\n\t\treturn dirtyErrs\n\t}, [])\n\n\treturn errors\n}\n\nconst useStyles = makeStyles(styles)\n\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\n\tif (window.innerWidth <= 768) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\n\t\t\t\t</StepLabel>\n\t\t\t\t<MobileStepper\n\t\t\t\t\tactiveStep={currentPage}\n\t\t\t\t\tsteps={pages.length}\n\t\t\t\t\tposition={'static'}\n\t\t\t\t\tvariant='progress'\n\t\t\t\t\tclassName={classes.mobileStepper}\n\t\t\t\t></MobileStepper>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\n\t\t\t{pages.map((page, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Step key={page.title}>\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\n\t\t\t\t\t</Step>\n\t\t\t\t)\n\t\t\t})}\n\t\t</StepperMUI>\n\t)\n}\n\nconst MaterialStepper = props => {\n\tconst {\n\t\tpages = [],\n\t\t// ...props\n\t} = props\n\tconst classes = useStyles()\n\n\tconst [currentPage, setCurrentPage] = useState(0)\n\tconst canReverse = pages.length > currentPage && currentPage > 0\n\n\tconst page = pages[currentPage] || {}\n\tconst pageProps = page.props || {}\n\tconst { validateId } = pageProps\n\tconst Comp = page.component || null\n\tconst pageValidation = page.pageValidation || null\n\n\tconst validations = useSelector(state =>\n\t\tselectValidationsById(state, validateId)\n\t)\n\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst isValidPage = useCallback(() => {\n\t\treturn !Object.keys(validations || {}).length\n\t}, [validations])\n\n\t// const canAdvance = isValidPage() && !page.completeBtn\n\n\tconst goToPage = useCallback(\n\t\tasync nextStep => {\n\t\t\tconst canAdvance = nextStep > currentPage\n\t\t\tconst canGoBack = nextStep < currentPage\n\n\t\t\tif (canAdvance || canGoBack) {\n\t\t\t\tsetCurrentPage(nextStep)\n\t\t\t}\n\t\t},\n\t\t[currentPage]\n\t)\n\n\tconst goToPreviousPage = useCallback(async () => {\n\t\tif (canReverse) {\n\t\t\tgoToPage(currentPage - 1)\n\t\t}\n\t}, [canReverse, currentPage, goToPage])\n\n\tconst goToNextPage = useCallback(async () => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tonValid: () => goToPage(currentPage + 1),\n\t\t\t})\n\t\t} else if (isValidPage()) {\n\t\t\tgoToPage(currentPage + 1)\n\t\t}\n\t}, [currentPage, goToPage, isValidPage, pageValidation, validateId])\n\n\tuseEffect(() => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({ validateId, dirty: false })\n\t\t}\n\t}, [currentPage, pageValidation, validateId])\n\n\tconst onKeyPressed = useCallback(\n\t\tasync ev => {\n\t\t\tif (ev.key === 'Enter') {\n\t\t\t\tev.preventDefault()\n\t\t\t\tgoToNextPage()\n\t\t\t}\n\t\t},\n\t\t[goToNextPage]\n\t)\n\n\treturn (\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.stepperNav,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<StepperNav\n\t\t\t\t\t{...props}\n\t\t\t\t\tpages={pages}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<br />\n\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.pagePaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.pageContent}>\n\t\t\t\t\t{!!Comp && (\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Comp {...pageProps} />{' '}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{!!dirtyErrors && (\n\t\t\t\t\t\t<Box color='error.main'>\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={err.field}\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.controls}>\n\t\t\t\t\t<div className={classes.left}>\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<page.cancelBtn />\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\n\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{spinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\n\t\t\t\t\t\t\t<page.completeBtn />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t</div>\n\t)\n}\n\nMaterialStepper.propTypes = {\n\tpages: PropTypes.array.isRequired,\n}\n\nexport default MaterialStepper\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\troot: {\n\t\t\tcolor: 'purple',\n\t\t\t'&$active': {\n\t\t\t\tcolor: 'green',\n\t\t\t},\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'yellow',\n\t\t},\n\t\tstepperWrapper: {\n\t\t\t// display: 'flex',\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t},\n\t\tpagePaper: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 115,\n\t\t},\n\t\tpageContent: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 20,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t\tbottom: 50,\n\t\t\tpadding: 20,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tjustifyContent: 'space-between',\n\t\t\tflexDirection: 'column',\n\t\t\tWebkitOverflowScrolling: 'touch',\n\t\t\t'@media(max-width:500px)': {\n\t\t\t\tpaddingLeft: 0,\n\t\t\t\tpaddingRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 5,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t},\n\t\tright: {\n\t\t\ttextAlign: 'right',\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '86%',\n\t\t\t},\n\t\t},\n\t\tleft: {\n\t\t\tdisplay: 'inline-block',\n\t\t\ttextAlign: 'left',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '14%',\n\t\t\t},\n\t\t},\n\t\tmobileStepper: {\n\t\t\twidth: '100%',\n\t\t\t'& div': {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '10px',\n\t\t\t},\n\t\t},\n\t\tmobileStepLabel: {\n\t\t\t'& span': {\n\t\t\t\tfontSize: '24px',\n\t\t\t\tmargin: '14px auto',\n\t\t\t},\n\t\t\ttextAlign: 'center',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\terrChip: {\n\t\t\tcolor: errColor,\n\t\t\tborderColor: errColor,\n\t\t\t'& svg': {\n\t\t\t\tcolor: errColor,\n\t\t\t},\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n// import { connect } from 'react-redux'\n// import { bindActionCreators } from 'redux'\n// import actions from 'actions'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport Translate from 'components/translate/Translate'\n\nclass FormSteps extends Component {\n\tshouldComponentUpdate(nextProps) {\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t}\n\n\trender() {\n\t\tconst pages = []\n\t\tconst {\n\t\t\tt,\n\t\t\tSaveBtn,\n\t\t\tCancelBtn,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages,\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\t\tconst cancelButton = () => (\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t)\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tstepsPages.forEach((page, index) => {\n\t\t\tpages.push({\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelBtn: cancelButton,\n\t\t\t\tcomponent: ValidItemHoc(page.page || page),\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\n\t\t\t})\n\t\t})\n\n\t\tpages.push({\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\n\t\t\tcompleteBtn: () => (\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t),\n\t\t\tcancelBtn: cancelButton,\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\n\t\t\tprops: {\n\t\t\t\t...this.props,\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\n\t\t\t},\n\t\t})\n\n\t\treturn (\n\t\t\t// <div style={{ textAlign: 'left' }}>\n\t\t\t<MaterialStepper pages={pages} />\n\t\t\t// </div>\n\t\t)\n\t}\n}\n\nFormSteps.propTypes = {\n\ttitle: PropTypes.string,\n\titemPages: PropTypes.arrayOf(PropTypes.func),\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\n}\n\nexport default Translate(FormSteps)\n","import grey from '@material-ui/core/colors/grey'\n\nexport const styles = theme => {\n\tconst spacing = theme.spacing(3)\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\n\treturn {\n\t\tdialog: {\n\t\t\tminHeight: `${fullHeight}px`,\n\t\t\tminWidth: 1024,\n\t\t\tmaxWidth: 1080,\n\t\t\tbackgroundColor: grey[200], // TODO: color,\n\t\t\t// maxHeight: `${fullHeight}`,\n\t\t\t'@media(max-width:1080px)': {\n\t\t\t\tmaxWidth: '100%',\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t\t'@media(max-height:823px)': {\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t\twordWrap: 'break-word',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t\toverflowY: 'auto',\n\t\t},\n\t\tcontentBox: {\n\t\t\t// position: 'absolute',\n\t\t\t// top: 0,\n\t\t\t// left: 0,\n\t\t\t// bottom: 0,\n\t\t\t// right: 0,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t},\n\t\tpropRow: {\n\t\t\tmargin: '10px 0',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcontentBody: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tcontentTopLoadingCircular: {\n\t\t\tflexShrink: 0,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontentTopLoading: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\t'& > div': {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tleftCol: {\n\t\t\ttextTransform: 'uppercase',\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\n\t\t\ttextAlign: 'right',\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\ttextAlign: 'left',\n\t\t\t},\n\t\t},\n\t\trightCol: {\n\t\t\ttextAlign: 'left',\n\t\t},\n\t\tprogressCircleCenter: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 30px)',\n\t\t\ttop: 'calc(50% - 30px)',\n\t\t},\n\t\tfloating: {\n\t\t\tposition: 'fixed',\n\t\t\ttop: 86,\n\t\t\tright: 40,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: 'break-word',\n\t\t\toverflowWrap: 'break-word',\n\t\t\thyphens: 'auto',\n\t\t},\n\t\tdemoImg: {\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\twidth: '100px',\n\t\t\theight: 'auto',\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tdemoBody: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontentStickyTop: {\n\t\t\tmarginBottom: '2rem',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport classnames from 'classnames'\nimport Slide from '@material-ui/core/Slide'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport { t } from 'selectors'\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={classnames(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{' '}\n\t\t\t{label}{' '}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = props => {\n\treturn <Slide direction='up' {...props} />\n}\n\nconst useStyles = makeStyles(styles)\n\nexport default function ItemHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tfabVariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabelArgs,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tvariant,\n\t\t\tfullWidth,\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tconst { onBeforeOpen } = props\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = Button\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t}\n\n\t\tconst btnLabelTranslated = t(btnLabel, { args: btnLabelArgs || [''] })\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ButtonComponent\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label={btnLabelTranslated}\n\t\t\t\t\tlabel={btnLabelTranslated}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thandleToggle()\n\t\t\t\t\t\tif (onClick) onClick()\n\t\t\t\t\t}}\n\t\t\t\t\t{...btnProps}\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{icon}\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\n\t\t\t\t</ButtonComponent>\n\t\t\t\t<Dialog\n\t\t\t\t\t// disableBackdropClick\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle disableTypography>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(title)}\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\n\t\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string.isRequired,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func,\n\t}\n\n\treturn WithDialog\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdUnit } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdUnit',\n\t\t\t\tAdUnit\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tactions.addUnit(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdUnit')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport { InputLoading } from 'components/common/spinners/'\nimport classnames from 'classnames'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nclass Dropdown extends React.Component {\n\thandleChange = event => {\n\t\tthis.props.onChange(event.target.value)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tlabel = '',\n\t\t\tvalue,\n\t\t\tsource = [],\n\t\t\thtmlId = 'some-id',\n\t\t\tname = '',\n\t\t\tdisabled = false,\n\t\t\terror = false,\n\t\t\thelperText,\n\t\t\t// margin = '',\n\t\t\tfullWidth = false,\n\t\t\tclassName,\n\t\t\trequired,\n\t\t\tloading,\n\t\t\tnoSrcLabel,\n\t\t} = this.props\n\n\t\t// TODO: add native renderer for mobile devices when supported\n\t\treturn (\n\t\t\t<FormControl\n\t\t\t\tclassName={classnames(className, classes.formControl)}\n\t\t\t\tdisabled={disabled}\n\t\t\t\terror={error}\n\t\t\t\tfullWidth={fullWidth}\n\t\t\t>\n\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\n\t\t\t\t\t{label}\n\t\t\t\t</InputLabel>\n\t\t\t\t{!!source.length && !loading ? (\n\t\t\t\t\t<Select\n\t\t\t\t\t\tvalue={value.id || value}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tinput={<Input name={name} id={htmlId} />}\n\t\t\t\t\t>\n\t\t\t\t\t\t{[...source].map(src => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{src.label}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Select>\n\t\t\t\t) : !loading ? (\n\t\t\t\t\t<Input disabled value={noSrcLabel} />\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\n\t\t\t\t\t\t<InputLoading />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\n\t\t\t</FormControl>\n\t\t)\n\t}\n}\n\nDropdown.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\tonChange: PropTypes.func.isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.bool,\n\t]),\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\n\tdisabled: PropTypes.bool,\n\terror: PropTypes.bool,\n\thtmlId: PropTypes.string.isRequired,\n\tname: PropTypes.string,\n\tdisplayEmpty: PropTypes.bool,\n\thelperText: PropTypes.string,\n}\n\nexport default withStyles(styles)(Dropdown)\n","export const styles = theme => ({\n\tformControl: {\n\t\t// margin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tselectEmpty: {\n\t\tmarginTop: theme.spacing(1),\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { constants, schemas, Joi } from 'adex-models'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\n\nconst { adUnitPost } = schemas\n\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nclass AdUnitBasic extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { newItem } = props\n\t\tthis.validateTitle(newItem.title, false)\n\t\tthis.validateDescription(newItem.description, false)\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\n\t\tthis.validateAndUpdateType(false, newItem.type)\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\n\t\t) {\n\t\t\tthis.addUtmParameters()\n\t\t}\n\t}\n\n\tvalidateTitle(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.title)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateDescription(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.description)\n\n\t\tthis.props.validate('description', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateTargetUrl(targetUrl, dirty) {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t\tif (!result.error) this.addUtmParameters(targetUrl)\n\t}\n\n\tvalidateAndUpdateType = (dirty, value) => {\n\t\tconst result = Joi.validate(value, adUnitPost.type)\n\t\tthis.props.handleChange('type', value)\n\t\tthis.props.validate('type', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\taddUtmParameters() {\n\t\tconst { handleChange, newItem } = this.props\n\t\tconst { targetUrl, title, type, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tif (!!targetUrl) {\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\n\t\t\t\ttargetUrl,\n\t\t\t\tcampaign: title,\n\t\t\t\tcontent: type,\n\t\t\t\tremoveFromUrl: !addUtmLink,\n\t\t\t})\n\t\t\thandleChange('targetUrl', newTargetUrl)\n\t\t}\n\t}\n\n\thandleChangeAddUtmLink(ev) {\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.addUtmLink = ev.target.checked\n\t\tthis.props.handleChange('temp', newTemp)\n\t}\n\n\trender() {\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\n\t\tconst { targetUrl, type, title, description, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDescription = invalidFields['description']\n\t\tconst errTargetUrl = invalidFields['targetUrl']\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\n\t\t\t\t\t\t\tsource={AdTypes}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitBasic.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\n\nexport default Translate(NewAdUnitBasic)\n","import url from 'url'\nimport { UTM_PARAMS } from 'constants/misc'\n\nexport const addUrlUtmTracking = ({\n\ttargetUrl,\n\tcampaign,\n\tcontent,\n\tremoveFromUrl,\n}) => {\n\tif (!!targetUrl) {\n\t\tconst URL = url.parse(targetUrl, true)\n\t\tURL.search = null\n\n\t\tif (URL.protocol && URL.host) {\n\t\t\tconst newQuery = {}\n\t\t\tif (removeFromUrl) {\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\n\t\t\t\t\t\tnewQuery[key] = value\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tURL.query = newQuery\n\t\t\t} else {\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\n\n\t\t\t\tif (campaign) {\n\t\t\t\t\tquery['utm_campaign'] = campaign\n\t\t\t\t}\n\t\t\t\tif (content) {\n\t\t\t\t\tquery['utm_content'] = content\n\t\t\t\t}\n\t\t\t\tURL.query = query\n\t\t\t}\n\t\t\treturn url.format(URL)\n\t\t}\n\t}\n\n\treturn targetUrl\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\n\nconst getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x100'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdUnitMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem, validate } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (tempUrl) {\n\t\t\tconst isValidMediaSize = temp.width === width && temp.height === height\n\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: isValidMediaSize,\n\t\t\t\terr: {\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t},\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t} else {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst { newItem, t, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\tmime={temp.mime || ''}\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\n\nexport default Translate(NewAdUnitMedia)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { translate } from 'services/translations/translations'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\n\nexport const renderInput = inputProps => {\n\tconst { InputProps, classes, ref, ...other } = inputProps\n\n\treturn (\n\t\t<TextField\n\t\t\tInputProps={{\n\t\t\t\tinputRef: ref,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t},\n\t\t\t\t...InputProps,\n\t\t\t}}\n\t\t\t{...other}\n\t\t/>\n\t)\n}\n\nexport const renderSuggestion = ({\n\tsuggestion,\n\tindex,\n\tstyle,\n\titemProps,\n\thighlightedIndex,\n\tselectedItem,\n\tshowSelected,\n}) => {\n\tconst isHighlighted = highlightedIndex === index\n\t// TODO: make it better\n\t// Note wo work with obj and array\n\tconst isSelected =\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\n\t\t\tsuggestion.value\n\t\t) > -1\n\n\tif (!showSelected && isSelected) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={style}>\n\t\t\t<ListItem\n\t\t\t\tbutton\n\t\t\t\t{...itemProps}\n\t\t\t\tkey={suggestion.value || suggestion.label}\n\t\t\t\tselected={isHighlighted}\n\t\t\t\tcomponent='div'\n\t\t\t\tstyle={{\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ListItemText primary={suggestion.label} />\n\t\t\t</ListItem>\n\t\t</div>\n\t)\n}\n\nconst newSuggestion = inputValue => {\n\treturn {\n\t\tlabel: `${translate(\n\t\t\t'CREATE_TAG_LABEL'\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\n\t\tvalue: inputValue.toLowerCase().trim(),\n\t}\n}\n\nrenderSuggestion.propTypes = {\n\thighlightedIndex: PropTypes.number,\n\tindex: PropTypes.number,\n\titemProps: PropTypes.object,\n\tselectedItem: PropTypes.string,\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\n}\n\nexport const getSuggestions = (\n\tinputValue = '',\n\tsource,\n\tallowCreate,\n\tvalidateCreation\n) => {\n\tif (!inputValue) {\n\t\treturn source\n\t} else {\n\t\tinputValue = inputValue.toLowerCase().trim()\n\n\t\tsource = source.filter(suggestion => {\n\t\t\treturn (\n\t\t\t\t!inputValue ||\n\t\t\t\tsuggestion.label\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.trim()\n\t\t\t\t\t.indexOf(inputValue) !== -1\n\t\t\t)\n\t\t})\n\n\t\t// Making sure that an option to create a new item will exist when needed\n\t\tconst values = source.map(item => {\n\t\t\treturn item.value\n\t\t})\n\n\t\tif (\n\t\t\t!values.includes(inputValue) &&\n\t\t\tallowCreate &&\n\t\t\t(!validateCreation || validateCreation(inputValue))\n\t\t) {\n\t\t\tsource.push(newSuggestion(inputValue))\n\t\t}\n\n\t\treturn source\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport keycode from 'keycode'\nimport Downshift from 'downshift'\nimport Paper from '@material-ui/core/Paper'\nimport Chip from '@material-ui/core/Chip'\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\n\nclass DownshiftMultiple extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tinputValue: '',\n\t\t\tselectedItem: props.value || [],\n\t\t}\n\t}\n\n\thandleKeyDown = event => {\n\t\tconst { inputValue, selectedItem } = this.state\n\t\tif (\n\t\t\tselectedItem.length &&\n\t\t\t!inputValue.length &&\n\t\t\tkeycode(event) === 'backspace'\n\t\t) {\n\t\t\tconst newItemValue = selectedItem.slice(0, selectedItem.length - 1)\n\t\t\tthis.setState({\n\t\t\t\tselectedItem: newItemValue,\n\t\t\t})\n\n\t\t\tthis.props.onChange(newItemValue)\n\t\t}\n\t}\n\n\thandleInputChange = event => {\n\t\tconst value = event.target.value.toLowerCase()\n\t\tthis.setState({ inputValue: value })\n\t}\n\n\thandleChange = item => {\n\t\tlet { selectedItem } = this.state\n\n\t\tif (selectedItem.indexOf(item.value) === -1) {\n\t\t\tselectedItem = [...selectedItem, item.value]\n\t\t}\n\n\t\tthis.setState({\n\t\t\tinputValue: '',\n\t\t\tselectedItem,\n\t\t})\n\n\t\tthis.props.onChange(selectedItem)\n\t}\n\n\thandleDelete = item => () => {\n\t\tconst selectedItem = [...this.state.selectedItem]\n\t\tselectedItem.splice(selectedItem.indexOf(item), 1)\n\n\t\tthis.setState({ selectedItem })\n\t\tthis.props.onChange(selectedItem)\n\t}\n\n\t/**\n\t * source {'propValue': 'propsLabel'} - skip one mapping to get the label for Chip\n\t */\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tsource,\n\t\t\tlabel,\n\t\t\tid,\n\t\t\tplaceholder,\n\t\t\thelperText,\n\t\t\topenOnClick,\n\t\t\tallowCreate,\n\t\t\tvalidateCreation,\n\t\t} = this.props\n\t\tconst { inputValue, selectedItem } = this.state\n\t\tconst allValues = Object.keys(source).map(key => {\n\t\t\treturn { value: key, label: source[key] }\n\t\t})\n\n\t\treturn (\n\t\t\t<Downshift\n\t\t\t\tinputValue={inputValue}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tselectedItem={selectedItem}\n\t\t\t\t// defaultIsOpen={true}\n\t\t\t\titemToString={item => item.label}\n\t\t\t>\n\t\t\t\t{({\n\t\t\t\t\tgetInputProps,\n\t\t\t\t\tgetItemProps,\n\t\t\t\t\tisOpen,\n\t\t\t\t\tinputValue: inputValue2,\n\t\t\t\t\tselectedItem: selectedItem2,\n\t\t\t\t\thighlightedIndex,\n\t\t\t\t\ttoggleMenu,\n\t\t\t\t}) => (\n\t\t\t\t\t<div className={classes.container}>\n\t\t\t\t\t\t{renderInput({\n\t\t\t\t\t\t\tfullWidth: true,\n\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\thelperText,\n\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\tInputProps: getInputProps({\n\t\t\t\t\t\t\t\tstartAdornment: selectedItem.map(item => (\n\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\tkey={item}\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tlabel={source[item]}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\tonDelete={this.handleDelete(item)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t\t\tonChange: this.handleInputChange,\n\t\t\t\t\t\t\t\tonKeyDown: this.handleKeyDown,\n\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu(),\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{isOpen ? (\n\t\t\t\t\t\t\t<Paper className={classes.paper} square>\n\t\t\t\t\t\t\t\t//TODO: use FixedSizeList!\n\t\t\t\t\t\t\t\t{getSuggestions(\n\t\t\t\t\t\t\t\t\tinputValue2,\n\t\t\t\t\t\t\t\t\tallValues,\n\t\t\t\t\t\t\t\t\tallowCreate,\n\t\t\t\t\t\t\t\t\tvalidateCreation\n\t\t\t\t\t\t\t\t).map((suggestion, index) =>\n\t\t\t\t\t\t\t\t\trenderSuggestion({\n\t\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\n\t\t\t\t\t\t\t\t\t\thighlightedIndex,\n\t\t\t\t\t\t\t\t\t\tselectedItem: selectedItem2,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Downshift>\n\t\t)\n\t}\n}\n\nDownshiftMultiple.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default DownshiftMultiple\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Downshift from 'downshift'\nimport Paper from '@material-ui/core/Paper'\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { FixedSizeList } from 'react-window'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nclass DownshiftSingle extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.props.onInit()\n\t\tthis.state = {\n\t\t\tinputValue: '',\n\t\t}\n\t}\n\n\thandleChange = item => {\n\t\tconst selectedItem = item ? item.value || item.label : item\n\t\tthis.props.onChange(selectedItem)\n\t}\n\n\thandleInputChange = inputValue => {\n\t\tif (this.state.inputValue !== inputValue) this.setState({ inputValue })\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tsource,\n\t\t\terror,\n\t\t\tlabel,\n\t\t\tid,\n\t\t\tplaceholder,\n\t\t\thelperText,\n\t\t\terrorText,\n\t\t\tshowSelected,\n\t\t\tvalue,\n\t\t\topenOnClick,\n\t\t\tallowCreate,\n\t\t\tvalidateCreation,\n\t\t} = this.props\n\t\tconst allValues = source //Object.keys(source).map(key => { return { value: key, label: source[key] } })\n\t\tconst suggestions = getSuggestions(\n\t\t\tthis.state.inputValue,\n\t\t\tallValues,\n\t\t\tallowCreate,\n\t\t\tvalidateCreation\n\t\t)\n\t\treturn (\n\t\t\t<Downshift\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\titemToString={item => (item || {}).label || item || ''}\n\t\t\t\tselectedItem={value}\n\t\t\t>\n\t\t\t\t{({\n\t\t\t\t\tgetInputProps,\n\t\t\t\t\tgetItemProps,\n\t\t\t\t\tisOpen,\n\t\t\t\t\tinputValue,\n\t\t\t\t\tselectedItem,\n\t\t\t\t\thighlightedIndex,\n\t\t\t\t\tclearSelection,\n\t\t\t\t\ttoggleMenu,\n\t\t\t\t}) => {\n\t\t\t\t\tthis.handleInputChange(inputValue)\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className={classes.container}>\n\t\t\t\t\t\t\t{renderInput({\n\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\tvalue: inputValue,\n\t\t\t\t\t\t\t\tfullWidth: true,\n\t\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\t\thelperText,\n\t\t\t\t\t\t\t\tInputProps: getInputProps({\n\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\tif (openOnClick) {\n\t\t\t\t\t\t\t\t\t\t\tclearSelection()\n\t\t\t\t\t\t\t\t\t\t\ttoggleMenu()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{isOpen && suggestions.length > 0 ? (\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} square>\n\t\t\t\t\t\t\t\t\t<AutoSizer>\n\t\t\t\t\t\t\t\t\t\t{({ height, width }) => (\n\t\t\t\t\t\t\t\t\t\t\t<FixedSizeList\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.paper}\n\t\t\t\t\t\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\t\t\t\t\t\t\titemSize={46}\n\t\t\t\t\t\t\t\t\t\t\t\titemCount={suggestions.length}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{({ index, style }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderSuggestion({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuggestion: suggestions[index],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem: suggestions[index],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlightedIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedItem,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowSelected,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</FixedSizeList>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</AutoSizer>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{error && (\n\t\t\t\t\t\t\t\t<FormHelperText error id='component-error-text'>\n\t\t\t\t\t\t\t\t\t{errorText}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Downshift>\n\t\t)\n\t}\n}\n\nDownshiftSingle.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default DownshiftSingle\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport DownshiftMultiple from './DownshiftMultiple'\nimport DownshiftSingle from './DownshiftSingle'\n\nfunction Autocomplete(props) {\n\tconst { classes, source, multiple, ...rest } = props\n\n\treturn (\n\t\t<div>\n\t\t\t{multiple ? (\n\t\t\t\t<DownshiftMultiple classes={classes} source={source} {...rest} />\n\t\t\t) : (\n\t\t\t\t<DownshiftSingle classes={classes} source={source} {...rest} />\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAutocomplete.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(Autocomplete)\n","export const styles = theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\theight: 250,\n\t},\n\tcontainer: {\n\t\tflexGrow: 1,\n\t\tposition: 'relative',\n\t},\n\tpaper: {\n\t\tposition: 'absolute',\n\t\tzIndex: 1,\n\t\tmarginTop: theme.spacing(1),\n\t\tleft: 0,\n\t\tright: 0,\n\t\toverflow: 'hidden',\n\t\theight: 150,\n\t\twidth: '100%',\n\t},\n\tchip: {\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\n\t},\n\tinputRoot: {\n\t\tflexWrap: 'wrap',\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\nimport { SOURCES } from 'constants/targeting'\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdUnitTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: [...(targets || [])],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\thandleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource,\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{ source, collection, label, placeholder, target = {} } = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\n\nexport default Translate(NewAdUnitTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Divider from '@material-ui/core/Divider'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport WcIcon from '@material-ui/icons/Wc'\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\nimport CompareArrows from '@material-ui/icons/CompareArrows'\n\nconst targetIcon = {\n\tlocation: LocationOnIcon,\n\tgender: WcIcon,\n\tage: ChildCareIcon,\n}\n\nconst getTargetType = tag => {\n\tconst type = tag.split('_')[0] || 'tags'\n\treturn type\n}\n\nclass UnitTargets extends Component {\n\ttargetArrayValues = (target, type, t, index) => {\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\n\t\treturn (\n\t\t\t<span key={target.tag + target.score + index}>\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<TargetIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\n\t\t\t\t\t\tsecondary={target.score}\n\t\t\t\t\t/>\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t\t<Divider />\n\t\t\t</span>\n\t\t)\n\t}\n\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\n\t\t<List\n\t\t\tdense\n\t\t\tsubheader={subHeader ? <ListSubheader caption={t(subHeader)} /> : null}\n\t\t>\n\t\t\t{targets.map(target => {\n\t\t\t\tconst type = getTargetType(target.tag)\n\t\t\t\treturn this.targetArrayValues(target, type, t)\n\t\t\t})}\n\t\t</List>\n\t)\n\n\trender() {\n\t\treturn <this.TargetsList {...this.props} />\n\t}\n}\n\nUnitTargets.propTypes = {\n\ttargets: PropTypes.array.isRequired,\n\tsubHeader: PropTypes.string,\n\tt: PropTypes.func.isRequired,\n}\n\nexport default UnitTargets\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport { CircularProgress } from '@material-ui/core'\nimport { styles } from './styles.js'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\n\n// TODO: fix responsive styles\nconst propRow = ({\n\tclasses,\n\tleft,\n\tright,\n\tclassName,\n\tclassNameLeft,\n\tclassNameRight,\n\tstyle = {},\n}) => (\n\t<Grid\n\t\titem\n\t\tcontainer\n\t\tspacing={2}\n\t\txs={12}\n\t\tclassName={classnames(className)}\n\t\tstyle={style}\n\t>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={4}\n\t\t\tlg={3}\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\n\t\t>\n\t\t\t{left}\n\t\t</Grid>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={8}\n\t\t\tlg={9}\n\t\t\tclassName={classnames(\n\t\t\t\tclasses.rightCol,\n\t\t\t\tclasses.breakLong,\n\t\t\t\tclassNameRight\n\t\t\t)}\n\t\t>\n\t\t\t{right}\n\t\t</Grid>\n\t</Grid>\n)\n\nconst contentBox = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentBox, className)}>{children}</div>\n)\n\nconst contentBody = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentBody, className)}>{children}</div>\n)\n\nconst contentStickyTop = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\n)\n\nconst topLoading = ({ classes, msg, subMsg, className }) => (\n\t<div className={classnames(classes.contentTopLoading)}>\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\n\t\t<div>\n\t\t\t<Typography component='div'> {msg} </Typography>\n\t\t\t{subMsg && (\n\t\t\t\t<Typography component='div'>\n\t\t\t\t\t<strong>{subMsg}</strong>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t</div>\n)\n\nconst fullContentSpinner = ({ classes }) => (\n\t<CircularProgress\n\t\tclassName={classnames(classes.progressCircleCenter)}\n\t\tsize={50}\n\t/>\n)\n\nexport const PropRow = withStyles(styles)(propRow)\nexport const ContentBox = withStyles(styles)(contentBox)\nexport const ContentBody = withStyles(styles)(contentBody)\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\nexport const TopLoading = withStyles(styles)(topLoading)\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\timgPreview: {\n\t\t\tmaxHeight: 225,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t\timgPreviewWrapper: {\n\t\t\theight: 'max-content',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\n\nclass AdUnitFormPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, targeting } = newItem\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MEDIA')}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\talt={title}\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\n\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{targeting && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdUnitFormPreview.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { Campaign } from 'adex-models'\n\nexport default function NewCampaignHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'Campaign',\n\t\t\t\tCampaign\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = async () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tconst { temp } = newItem\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.waitingAction = true\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tawait actions.openCampaign({ campaign: newItem })\n\n\t\t\tnewTemp.waitingAction = false\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('Campaign')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('Campaign')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\n\t\tconst adUnits = persist.items['AdUnit'] || {}\n\t\tconst adUnitsArray = Object.values(adUnits) || []\n\t\treturn {\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\n\t\t\tadUnits,\n\t\t\tadUnitsArray,\n\t\t\tspinner: memory.spinners['opening-campaign'],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport { ContentBody } from 'components/common/dialog/content'\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\n\nclass CampaignUnits extends Component {\n\thandleSelect = selected => {\n\t\tconst { adUnits, handleChange } = this.props\n\t\tconst units = Object.values(selected).map(value => {\n\t\t\treturn adUnits[value]\n\t\t})\n\n\t\thandleChange('adUnits', units)\n\t}\n\n\trender() {\n\t\tconst { adUnitsArray, t } = this.props\n\t\tconst hasAdUnits = adUnitsArray && adUnitsArray.length\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tspacing={2}\n\t\t\t\t\tdirection={hasAdUnits ? null : 'column'}\n\t\t\t\t\talignItems={hasAdUnits ? null : 'center'}\n\t\t\t\t>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t{hasAdUnits ? (\n\t\t\t\t\t\t\t\t<EnhancedTable\n\t\t\t\t\t\t\t\t\titemType={'AdUnit'}\n\t\t\t\t\t\t\t\t\titems={adUnitsArray}\n\t\t\t\t\t\t\t\t\tvalidate={this.props.validate}\n\t\t\t\t\t\t\t\t\thandleSelect={this.handleSelect}\n\t\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\n\t\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\n\t\t\t\t\t\t\t\t\t<NewUnitDialog\n\t\t\t\t\t\t\t\t\t\tvariant='extended'\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaignUnits.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n\tadUnits: PropTypes.object.isRequired,\n\tadUnitsArray: PropTypes.array.isRequired,\n}\n\nconst NewCampaignUnits = NewCampaignHoc(CampaignUnits)\n\nexport default Translate(NewCampaignUnits)\n","import React, { Component } from 'react'\nimport { DateTimePicker as MuiDateTimePicker } from 'material-ui-pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport CalendarIcon from '@material-ui/icons/DateRange'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nconst CalendarIconAdor = ({\n\ticon = <CalendarIcon />,\n\ticonColor,\n\tonIconClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\n\t\t\t{icon}\n\t\t</IconButton>\n\t</InputAdornment>\n)\n\nexport class DateTimePicker extends Component {\n\trender() {\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\n\t\treturn (\n\t\t\t<MuiDateTimePicker\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisabled: rest.disabled,\n\t\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default DateTimePicker\n\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\n\treturn (\n\t\t<DateTimePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\n// import Dropdown from 'components/common/dropdown'\nimport TextField from '@material-ui/core/TextField'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { utils } from 'ethers'\nimport { openChannel } from 'services/smart-contracts/actions/core'\nimport { validations, Joi } from 'adex-models'\nimport MomentUtils from '@date-io/moment'\nimport { selectSpinnerById, selectMainToken } from 'selectors'\n\nconst moment = new MomentUtils()\nconst campaignTitleSchema = Joi.string()\n\t.min(3)\n\t.max(120)\n\t.allow('') // empty string not allowed by default\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_LEADER_FEE = '0'\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\nconst VALIDATOR_FOLLOWER_FEE = '0'\n\nconst AdvPlatformValidators = {\n\t[VALIDATOR_LEADER_ID]: {\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfee: VALIDATOR_LEADER_FEE,\n\t},\n}\n\nconst PubPlatformValidators = {\n\t[VALIDATOR_FOLLOWER_ID]: {\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfee: VALIDATOR_FOLLOWER_FEE,\n\t},\n}\n\nconst VALIDATOR_SOURCES = [AdvPlatformValidators, PubPlatformValidators]\n\n// const AdvValidatorsSrc = Object.keys(AdvPlatformValidators).map(key => {\n// \tconst val = AdvPlatformValidators[key]\n// \treturn {\n// \t\tvalue: key,\n// \t\tlabel: `${val.url} - ${val.id}`,\n// \t}\n// })\n\n// const PubValidatorsSrc = Object.keys(PubPlatformValidators).map(key => {\n// \tconst val = PubPlatformValidators[key]\n// \treturn {\n// \t\tvalue: key,\n// \t\tlabel: `${val.url} - ${val.id}`,\n// \t}\n// })\n\nconst tempValidators = [\n\t{\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfee: VALIDATOR_LEADER_FEE,\n\t},\n\t{\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfee: VALIDATOR_FOLLOWER_FEE,\n\t},\n]\n\nconst getTotalImpressions = ({ depositAmount, minPerImpression, t }) => {\n\tconst dep = parseFloat(depositAmount)\n\tconst min = parseFloat(minPerImpression)\n\tif (!dep) {\n\t\treturn t('DEPOSIT_NOT_SET')\n\t} else if (!min) {\n\t\treturn t('CPM_NOT_SET')\n\t} else {\n\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\n\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\n\t}\n}\n\nconst validateCampaignDates = ({\n\tcreated = Date.now(),\n\twithdrawPeriodStart,\n\tactiveFrom,\n}) => {\n\tlet error = null\n\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\n\t} else if (activeFrom && activeFrom < created) {\n\t\terror = { message: 'ERR_START_BEFORE_NOW', prop: 'activeFrom' }\n\t} else if (activeFrom && !withdrawPeriodStart) {\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\n\t}\n\n\treturn { error }\n}\n\nconst validateAmounts = ({\n\tmaxDeposit = 0,\n\tdepositAmount,\n\tminPerImpression,\n}) => {\n\tconst maxDep = parseFloat(maxDeposit)\n\tconst dep = parseFloat(depositAmount)\n\tconst min = parseFloat(minPerImpression)\n\n\tlet error = null\n\tif (dep && dep > maxDep) {\n\t\terror = {\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\n\t\t\tprop: 'depositAmount',\n\t\t}\n\t}\n\tif (dep && dep < min) {\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\n\t}\n\tif (dep <= 0) {\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\n\t}\n\tif (min <= 0) {\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\n\t}\n\n\treturn { error }\n}\n\nclass CampaignFinance extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tmaxChannelFees: 1,\n\t\t\tloading: true,\n\t\t}\n\t}\n\n\tasync componentDidMount() {\n\t\tconst { newItem, actions, account } = this.props\n\t\tconst { updateSpinner } = actions\n\n\t\tupdateSpinner('getting-campaigns-fees', true)\n\t\tthis.validateAndUpdateValidator(false, 0, newItem.validators[0])\n\t\tthis.validateAndUpdateValidator(false, 1, newItem.validators[1])\n\t\tthis.validateAmount(\n\t\t\tnewItem.depositAmount,\n\t\t\t'depositAmount',\n\t\t\tfalse,\n\t\t\t'REQUIRED_FIELD'\n\t\t)\n\t\tthis.validateAmount(\n\t\t\tnewItem.minPerImpression,\n\t\t\t'minPerImpression',\n\t\t\tfalse,\n\t\t\t'REQUIRED_FIELD'\n\t\t)\n\t\tthis.validateTitle(newItem.title, false, 'TITLE_HELPER_TEXT')\n\t\tthis.handleDates('activeFrom', newItem.activeFrom, false)\n\t\tthis.handleDates('withdrawPeriodStart', newItem.withdrawPeriodStart, false)\n\n\t\tconst campaign = { ...newItem }\n\t\tcampaign.validators = tempValidators\n\t\tconst feesData = await openChannel({\n\t\t\tcampaign,\n\t\t\taccount,\n\t\t\tgetFeesOnly: true,\n\t\t\tgetMaxFees: true,\n\t\t})\n\n\t\tthis.setState({ maxChannelFees: feesData.fees, loading: false })\n\t\tupdateSpinner('getting-campaigns-fees', false)\n\t}\n\n\tvalidateAndUpdateValidator = (dirty, index, key = {}, update) => {\n\t\tconst { handleChange, newItem, validate } = this.props\n\t\tconst { validators } = newItem\n\t\tconst newValidators = [...validators]\n\t\tconst newValue = VALIDATOR_SOURCES[index][key.id || key]\n\n\t\tnewValidators[index] = newValue\n\n\t\tconst isValid =\n\t\t\t!!newValidators[0] &&\n\t\t\t!!newValidators[1] &&\n\t\t\t!!newValidators[0].id &&\n\t\t\t!!newValidators[0].url &&\n\t\t\t!!newValidators[1].id &&\n\t\t\t!!newValidators[1].url\n\n\t\t// TEMP - update like this to avoid changing the flow and other functions\n\t\t// <---\n\t\tif (!isValid) {\n\t\t\thandleChange('validators', tempValidators)\n\n\t\t\tvalidate('validators', {\n\t\t\t\tisValid: true,\n\t\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\n\t\t\treturn\n\t\t}\n\n\t\t// END TEMP --->\n\n\t\tif (update) {\n\t\t\thandleChange('validators', newValidators)\n\t\t}\n\n\t\tvalidate('validators', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\n\t\tconst isValidNumber = validations.isNumberString(value)\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\t\tif (!isValid) {\n\t\t\tthis.props.validate(prop, {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t} else {\n\t\t\tconst { newItem, account } = this.props\n\n\t\t\tconst { availableIdentityBalanceMainToken = 0 } =\n\t\t\t\taccount.stats.formatted || {}\n\n\t\t\tconst depositAmount =\n\t\t\t\tprop === 'depositAmount' ? value : newItem.depositAmount\n\t\t\tconst minPerImpression =\n\t\t\t\tprop === 'minPerImpression' ? value : newItem.minPerImpression\n\t\t\tconst maxDeposit =\n\t\t\t\tparseFloat(availableIdentityBalanceMainToken) -\n\t\t\t\tthis.state.maxChannelFees\n\t\t\tconst result = validateAmounts({\n\t\t\t\tmaxDeposit,\n\t\t\t\tdepositAmount,\n\t\t\t\tminPerImpression,\n\t\t\t})\n\n\t\t\tthis.props.validate(prop, {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateTitle(name, dirty) {\n\t\tconst result = Joi.validate(name, campaignTitleSchema)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\thandleDates = (prop, value, dirty) => {\n\t\tconst { newItem, handleChange, validate } = this.props\n\t\tconst withdrawPeriodStart =\n\t\t\tprop === 'withdrawPeriodStart' ? value : newItem.withdrawPeriodStart\n\t\tconst activeFrom = prop === 'activeFrom' ? value : newItem.activeFrom\n\t\tconst result = validateCampaignDates({\n\t\t\twithdrawPeriodStart,\n\t\t\tactiveFrom,\n\t\t\tcreated: newItem.created,\n\t\t})\n\n\t\tvalidate('activeFrom', {\n\t\t\tisValid: !(result.error && result.error.prop === 'activeFrom'),\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\n\t\tvalidate('withdrawPeriodStart', {\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\n\t\tif (value) {\n\t\t\thandleChange(prop, value)\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\thandleChange,\n\t\t\tnewItem,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\taccount,\n\t\t\tspinner,\n\t\t\tmainTokenSymbol,\n\t\t} = this.props\n\t\tconst {\n\t\t\ttitle,\n\t\t\tvalidators,\n\t\t\tdepositAmount,\n\t\t\tminPerImpression,\n\t\t\t// depositAsset,\n\t\t\tactiveFrom,\n\t\t\twithdrawPeriodStart,\n\t\t\tminTargetingScore,\n\t\t} = newItem\n\n\t\tconst { maxChannelFees, loading } = this.state\n\n\t\tconst { availableIdentityBalanceMainToken = 0 } =\n\t\t\taccount.stats.formatted || {}\n\n\t\tconst from = activeFrom || undefined\n\t\tconst to = withdrawPeriodStart || undefined\n\t\tconst now = moment.date().valueOf()\n\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDepAmnt = invalidFields['depositAmount']\n\t\tconst errMin = invalidFields['minPerImpression']\n\t\tconst errFrom = invalidFields['activeFrom']\n\t\tconst errTo = invalidFields['withdrawPeriodStart']\n\n\t\tconst impressions = !(errDepAmnt || errMin)\n\t\t\t? getTotalImpressions({ depositAmount, minPerImpression, t })\n\t\t\t: ''\n\n\t\tconst leader = validators[0] || {}\n\t\tconst follower = validators[1] || {}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{spinner || loading ? (\n\t\t\t\t\t<FullContentSpinner />\n\t\t\t\t) : (\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, 'title', true)\n\t\t\t\t\t\t\t\t\thandleChange('title', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{/* <Grid item xs={12}> */}\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t{/* <Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 0, value, true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsource={AdvValidatorsSrc}\n\t\t\t\t\t\t\tvalue={(validators[0] || {}).id + ''}\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\thtmlId='leader-validator-dd'\n\t\t\t\t\t\t\tname='leader-validator'\n\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\n\t\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\n\t\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{/* <Grid item xs={12}> */}\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t{/* <Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 1, value, true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsource={PubValidatorsSrc}\n\t\t\t\t\t\t\tvalue={(validators[1] || {}).id + ''}\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\thtmlId='follower-validator-dd'\n\t\t\t\t\t\t\tname='follower-validator'\n\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\n\t\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\n\t\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\tparseFloat(\n\t\t\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken - maxChannelFees\n\t\t\t\t\t\t\t\t\t\t).toFixed(2),\n\n\t\t\t\t\t\t\t\t\t\tmainTokenSymbol,\n\t\t\t\t\t\t\t\t\t\tmaxChannelFees,\n\t\t\t\t\t\t\t\t\t\tmainTokenSymbol,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tname='depositAmount'\n\t\t\t\t\t\t\t\tvalue={depositAmount}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'depositAmount', true)\n\t\t\t\t\t\t\t\t\thandleChange('depositAmount', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\n\t\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\n\t\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('DEPOSIT_AMOUNT_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\t\targs: [maxChannelFees, mainTokenSymbol],\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\n\t\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\n\t\t\t\t\t\t\t\t\thandleChange('minPerImpression', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\n\t\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\n\t\t\t\t\t\t\t\tminDate={now}\n\t\t\t\t\t\t\t\tmaxDate={to}\n\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\tthis.handleDates('activeFrom', val.valueOf(), true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalue={from || null}\n\t\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\n\t\t\t\t\t\t\t\t\t\t? errFrom.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\n\t\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\n\t\t\t\t\t\t\t\tminDate={from || now}\n\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\tthis.handleDates('withdrawPeriodStart', val.valueOf(), true)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue={to || null}\n\t\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\n\t\t\t\t\t\t\t\t\t\t? errTo.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaignFinance.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\tconst spinner = selectSpinnerById(state, 'getting-campaigns-fees')\n\treturn {\n\t\taccount: persist.account,\n\t\tspinner,\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nconst NewCampaignFinance = NewCampaignHoc(CampaignFinance)\n\nexport default connect(mapStateToProps)(Translate(NewCampaignFinance))\n","import React from 'react'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { TopLoading } from 'components/common/dialog/content'\n\nexport const WalletAction = ({ t, authType }) => {\n\tlet msg = ''\n\tlet subMsg\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\n\t\t\tbreak\n\t}\n\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { formatDateTime } from 'helpers/formatters'\nimport {\n\tselectAccountIdentityAddr,\n\tselectAuthType,\n\tselectMainToken,\n} from 'selectors'\n\nclass CampaignFormPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\tAdUnitsTable = ({ items }) => {\n\t\treturn (\n\t\t\t<Grid item sm={12}>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<EnhancedTable itemType={'AdUnit'} items={items} noActions listMode />\n\t\t\t\t</ContentBody>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst { identityAddr, authType, newItem, mainToken, t } = this.props\n\t\tconst {\n\t\t\ttitle,\n\t\t\t// targeting,\n\t\t\tadUnits,\n\t\t\tvalidators,\n\t\t\tdepositAmount,\n\t\t\tminPerImpression,\n\t\t\t// maxPerImpression,\n\t\t\t// depositAsset,\n\t\t\twithdrawPeriodStart,\n\t\t\tactiveFrom,\n\t\t\tminTargetingScore,\n\t\t\t// nonce\n\t\t} = newItem\n\n\t\tconst { symbol } = mainToken\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t{newItem.temp.waitingAction ? (\n\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t<WalletAction t={t} authType={authType} />\n\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t) : null}\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/> */}\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\n\t\t\t\t\t\tright={<this.AdUnitsTable items={adUnits} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('validators', { isProp: true })}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{validators.map(val => (\n\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('CPM', { isProp: true })}\n\t\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\n\t\t\t\t\t\tright={maxPerImpression}\n\t\t\t\t\t/> */}\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(activeFrom)}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\n\t\t\t\t\t/>\n\t\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\n\t\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(created)}\n\t\t\t\t\t/> */}\n\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nCampaignFormPreview.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tidentityAddr: selectAccountIdentityAddr(state),\n\t\tauthType: selectAuthType(state),\n\t\tmainToken: selectMainToken(state),\n\t}\n}\n\nconst NewCampaignFormPreview = NewCampaignHoc(\n\twithStyles(styles)(CampaignFormPreview)\n)\nexport default connect(mapStateToProps)(Translate(NewCampaignFormPreview))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdSlot',\n\t\t\t\tAdSlot\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\n\t\t\tactions.addSlot(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdSlot')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { utils } from 'ethers'\nimport { validations, constants, schemas, Joi } from 'adex-models'\nimport { selectMainToken } from 'selectors'\n\nconst { adSlotPost } = schemas\n\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nclass AdSlotBasic extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem } = this.props\n\t\tthis.validateTitle(newItem.title, false)\n\t\tthis.validateDescription(newItem.description, false)\n\t\tthis.validateAndUpdateType(false, newItem.type)\n\t}\n\n\tvalidateTitle(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adSlotPost.title)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateDescription(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adSlotPost.description)\n\n\t\tthis.props.validate('description', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateAndUpdateType = (dirty, value) => {\n\t\tconst result = Joi.validate(value, adSlotPost.type)\n\n\t\tthis.props.handleChange('type', value)\n\t\tthis.props.validate('type', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\n\t\tconst isValidNumber = validations.isNumberString(value)\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\t\tthis.props.validate(prop, {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tupdateMinPerImpression(value = '') {\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.minPerImpression = value\n\n\t\tthis.props.handleChange('temp', newTemp)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\tnewItem,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\t// nameHelperTxt,\n\t\t\t// descriptionHelperTxt\n\t\t} = this.props\n\t\tconst { type, title, description, temp } = newItem\n\t\tconst { minPerImpression } = temp\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDescription = invalidFields['description']\n\t\tconst errMin = invalidFields['minPerImpression']\n\t\tconst { symbol } = selectMainToken\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateDescription(description, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\n\t\t\t\t\t\t\tsource={AdTypes}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\n\t\t\t\t\t\t\t\tthis.updateMinPerImpression(ev.target.value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotBasic.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdSlotBasic = NewAdSlotHoc(AdSlotBasic)\n\nexport default Translate(NewAdSlotBasic)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport Collapse from '@material-ui/core/Collapse'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Switch from '@material-ui/core/Switch'\nimport { schemas, Joi } from 'adex-models'\n\nconst { adUnitPost } = schemas\n\nconst getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x250'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdSlotMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem } = this.props\n\t\tconst { temp, targetUrl } = newItem\n\t\tconst { useFallback } = temp\n\n\t\tif (useFallback) {\n\t\t\tthis.validateImage(useFallback)\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t}\n\t}\n\n\tvalidateImage = useFallback => {\n\t\tconst { newItem, validate } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tconst isValidMediaSize =\n\t\t\t!useFallback ||\n\t\t\t(tempUrl &&\n\t\t\t\t// TODO: validate ration not exact\n\t\t\t\ttemp.width === width &&\n\t\t\t\ttemp.height === height)\n\n\t\tvalidate('temp', {\n\t\t\tisValid: isValidMediaSize,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\targs: [width, height, 'px'],\n\t\t\t},\n\t\t\tdirty: true,\n\t\t})\n\t}\n\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !useFallback || !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\thandleFallbackChange = useFallback => {\n\t\tconst { temp, targetUrl } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.useFallback = useFallback\n\n\t\tthis.props.handleChange('temp', newTemp)\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\n\t\tthis.validateImage(useFallback)\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tnewItem,\n\t\t\tt,\n\t\t\tvalidateMedia,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t} = this.props\n\t\tconst { targetUrl, type, temp } = newItem\n\t\tconst useFallback = temp.useFallback || false\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Collapse in={useFallback}>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\n\nexport default Translate(NewAdSlotMedia)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nconst AcTags = autocompleteTagsSingleSelect()\n\nconst SOURCES = {\n\ttags: { src: AcTags, collection: 'tags' },\n\tcustom: { src: [], collection: 'tags' },\n}\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdSlotTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: targets || [],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\tthis.props.handleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource,\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{ source, collection, label, placeholder, target = {} } = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\n\nexport default Translate(NewAdSlotTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { selectMainToken } from 'selectors'\n\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\n\treturn (\n\t\t<div>\n\t\t\t<PropRow\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\n\t\t\t\tright={\n\t\t\t\t\t<Img\n\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\n\t\t\t\t\t\talt={targetUrl}\n\t\t\t\t\t\tmediaMime={img.mime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PropRow\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\n\t\t\t\tright={\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\n\t\t\t\t\t\t{targetUrl}\n\t\t\t\t\t</Anchor>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nclass AdSlotPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, tags, targetUrl } = newItem\n\t\tconst { minPerImpression } = temp\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{temp.useFallback && (\n\t\t\t\t\t\t<SlotFallback\n\t\t\t\t\t\t\timg={temp}\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t\t{tags && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={tags}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdSlotPreview.propTypes = {\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport AddIcon from '@material-ui/icons/Add'\nimport SaveIcon from '@material-ui/icons/Save'\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\nimport CampaignUnits from './Campaign/CampaignUnits'\n// import CampaignTargeting from './Campaign/CampaignTargeting'\nimport CampaignFinance from './Campaign/CampaignFinance'\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\n\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button color='primary' onClick={save}>\n\t\t\t{/*TODO: withStyles */}\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\n\t\t\t{t('SAVE')}\n\t\t</Button>\n\t)\n}\n\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={newItem.temp.waitingAction}\n\t\t>\n\t\t\t{newItem.temp.waitingAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\n\t\t</Button>\n\t)\n}\n\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\n\nconst CancelBtn = ({ ...props }) => {\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\n}\n\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\n\nconst dialogCommon = {\n\tdarkerBackground: true,\n\ticon: <AddIcon />,\n}\n\n// Ad unit\nexport const NewUnitSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdUnit}\n\t\tCancelBtn={CancelBtnWithItem}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdUnit'}\n\t\tstepsId={'new-adunit-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: AdUnitFormPreview,\n\t\t}}\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\n\t\tnoDefaultImg\n\t\titemModel={AdUnit}\n\t/>\n)\n\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\n\nexport const NewUnitDialog = props => (\n\t<NewUnitStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_UNIT'\n\t\ttitle='CREATE_NEW_UNIT'\n\t/>\n)\n\nconst copyProps = {\n\tdarkerBackground: true,\n\ticon: <FileCopyIcon />,\n}\n\nexport const NewCloneUnitDialog = props => (\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\n)\n\n// Campaign\nexport const NewCampaignSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithCampaign}\n\t\tCancelBtn={CancelBtnWithCampaign}\n\t\tvalidateIdBase={'new-Campaign-'}\n\t\titemType={'Campaign'}\n\t\tstepsId={'new-campaign-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'CAMPAIGN_UNITS_STEP', page: CampaignUnits },\n\t\t\t// NOTE: Only at ad units at the moment\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\n\t\t\t{ title: 'CAMPAIGN_FINANCE_STEP', page: CampaignFinance },\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: CampaignFormPreview,\n\t\t}}\n\t\titemModel={Campaign}\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\n\t/>\n)\n\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\n\nexport const NewCampaignDialog = props => (\n\t<NewCampaignStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_CAMPAIGN'\n\t\ttitle='CREATE_NEW_CAMPAIGN'\n\t/>\n)\n\n// Ad slot\nexport const NewSlotSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdSlot}\n\t\tCancelBtn={CancelBtnWithAdSlot}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdSlot'}\n\t\tstepsId={'new-slot-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'SLOT_BASIC_STEP', page: AdSlotBasic },\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\n\t\titemModel={AdSlot}\n\t/>\n)\n\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\n\nexport const NewSlotDialog = props => (\n\t<NewSlotStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_SLOT'\n\t\ttitle='CREATE_NEW_SLOT'\n\t/>\n)\n","import React from 'react'\nimport { t } from 'selectors'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\n\nconst headCells = {\n\tCampaign: [\n\t\t{\n\t\t\tid: 'title',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: true,\n\t\t\tdisableOrdering: true,\n\t\t\tlabel: t('PROP_MEDIA'),\n\t\t},\n\t\t{\n\t\t\tid: 'status.humanFriendlyName',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_STATUS'),\n\t\t},\n\t\t{\n\t\t\tid: 'depositAmount',\n\t\t\tnumeric: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_DEPOSIT'),\n\t\t},\n\t\t{\n\t\t\tid: 'status.fundsDistributedRatio',\n\t\t\tnumeric: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_DISTRIBUTED', { args: ['%'] }),\n\t\t},\n\t\t{\n\t\t\tid: 'minPerImpression',\n\t\t\tnumeric: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_CPM'),\n\t\t},\n\t\t{\n\t\t\tid: 'created',\n\t\t\tnumeric: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_CREATED'),\n\t\t},\n\t\t{\n\t\t\tid: 'activeFrom',\n\t\t\tnumeric: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_STARTS'),\n\t\t},\n\t\t{\n\t\t\tid: 'withdrawPeriodStart',\n\t\t\tnumeric: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_ENDS'),\n\t\t},\n\t],\n\tOther: [\n\t\t{\n\t\t\tid: 'id',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: true,\n\t\t\tdisableOrdering: true,\n\t\t\tlabel: t('PROP_MEDIA'),\n\t\t},\n\t\t{\n\t\t\tid: 'title',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_TITLE'),\n\t\t},\n\t\t{\n\t\t\tid: 'type',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_TYPE'),\n\t\t},\n\t\t{\n\t\t\tid: 'created',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_CREATED'),\n\t\t},\n\t],\n}\n\nconst filterTags = {\n\tCampaign: [{ name: 'active' }, { name: 'completed' }, { name: 'closed' }],\n\tOther: [\n\t\t{ name: 'legacy_300x250' },\n\t\t{ name: 'legacy_250x250' },\n\t\t{ name: 'legacy_240x400' },\n\t\t{ name: 'legacy_336x280' },\n\t\t{ name: 'legacy_180x150' },\n\t\t{ name: 'legacy_300x100' },\n\t\t{ name: 'legacy_720x300' },\n\t\t{ name: 'legacy_468x60' },\n\t\t{ name: 'legacy_728x90' },\n\t\t{ name: 'legacy_160x600' },\n\t\t{ name: 'legacy_120x600' },\n\t\t{ name: 'legacy_300x600' },\n\t],\n}\n\nconst missingData = {\n\tCampaign: t('NO_CAMPAINGS_INFORMATION'),\n\tAdUnit: t('NO_ADUNITS_INFORMATION'),\n\tAdSlot: t('NO_ADSLOTS_INFORMATION'),\n}\n\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\n\tconst icon = {\n\t\txs: { fontSize: 10 },\n\t\tmd: { fontSize: 15 },\n\t\tls: { fontSize: 20 },\n\t}\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\n\t\treturn waitIcon\n\tswitch (status.toLowerCase()) {\n\t\tcase 'active':\n\t\tcase 'ready':\n\t\t\treturn doneIcon\n\t\tcase 'pending':\n\t\tcase 'initializing':\n\t\tcase 'waiting':\n\t\t\treturn waitIcon\n\t\tcase 'offline':\n\t\tcase 'disconnected':\n\t\tcase 'unhealthy':\n\t\tcase 'invalid':\n\t\t\treturn warningIcon\n\t\tcase 'withdraw':\n\t\t\treturn cashIcon\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n\nexport { headCells, filterTags, missingData, mapStatusIcons }\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableSortLabel from '@material-ui/core/TableSortLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { headCells } from './tableConfig'\n\nexport default function EnhancedTableHead(props) {\n\tconst {\n\t\tclasses,\n\t\tonSelectAllClick,\n\t\torder,\n\t\torderBy,\n\t\tnumSelected,\n\t\trowCount,\n\t\tonRequestSort,\n\t\titemType,\n\t\tnoActions,\n\t\tlistMode,\n\t} = props\n\tconst createSortHandler = (property, numeric) => event => {\n\t\tonRequestSort(event, property, numeric)\n\t}\n\tconst headSide = itemType === 'Campaign' ? itemType : 'Other'\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t{!listMode && (\n\t\t\t\t\t<TableCell padding='checkbox'>\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\t\tchecked={numSelected === rowCount}\n\t\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t\t{headCells[headSide].map(headCell => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={'left'}\n\t\t\t\t\t\tpadding={'default'}\n\t\t\t\t\t\tsortDirection={orderBy === headCell.id ? order : false}\n\t\t\t\t\t>\n\t\t\t\t\t\t{!headCell.disableOrdering && !listMode ? (\n\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\tactive={orderBy === headCell.id}\n\t\t\t\t\t\t\t\tdirection={order}\n\t\t\t\t\t\t\t\tonClick={createSortHandler(headCell.id, headCell.numeric)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t\t\t\t{orderBy === headCell.id ? (\n\t\t\t\t\t\t\t\t\t<span className={classes.visuallyHidden}>\n\t\t\t\t\t\t\t\t\t\t{order === 'desc'\n\t\t\t\t\t\t\t\t\t\t\t? 'sorted descending'\n\t\t\t\t\t\t\t\t\t\t\t: 'sorted ascending'}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>{headCell.label}</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t\t{!noActions && (\n\t\t\t\t\t<TableCell align={'left'} padding={'default'}>\n\t\t\t\t\t\t<div>{'Actions'}</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t)\n}\n\nEnhancedTableHead.propTypes = {\n\titemType: PropTypes.string.isRequired,\n\tclasses: PropTypes.object.isRequired,\n\tnumSelected: PropTypes.number.isRequired,\n\tonRequestSort: PropTypes.func.isRequired,\n\tonSelectAllClick: PropTypes.func.isRequired,\n\torder: PropTypes.oneOf(['asc', 'desc']).isRequired,\n\torderBy: PropTypes.string.isRequired,\n\trowCount: PropTypes.number.isRequired,\n}\n","import React, { useState, useCallback, useEffect } from 'react'\r\n// import { PublisherStatistics } from 'components/dashboard/charts/revenue'\r\nimport FilterListIcon from '@material-ui/icons/FilterList'\r\nimport PropTypes from 'prop-types'\r\nimport { Popover, Chip } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport FormLabel from '@material-ui/core/FormLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { t } from 'selectors'\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(3),\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nexport default function ChipMultipleSelect(props) {\r\n\tconst [anchorDatePicker, setAnchorDatePicker] = useState(null)\r\n\tconst { state, setState, items, label } = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst selectAll = useCallback(() => {\r\n\t\tlet newSelecteds = {}\r\n\t\titems.map(n => (newSelecteds[n.name] = true))\r\n\t\tsetState(newSelecteds)\r\n\t}, [items, setState])\r\n\r\n\tuseEffect(() => {\r\n\t\tselectAll()\r\n\t}, [selectAll])\r\n\r\n\tconst handleSelectAllClick = event => {\r\n\t\tif (event.target.checked) {\r\n\t\t\tselectAll()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetState({})\r\n\t}\r\n\r\n\tconst selected = Object.keys(state).filter(function(e) {\r\n\t\treturn state[e] === true\r\n\t})\r\n\r\n\tconst labelParser = (selected, numberToShow) => {\r\n\t\tlet result = []\r\n\t\tconst numberToShowGreater = numberToShow >= selected.length\r\n\t\tconst loopCount = numberToShowGreater ? selected.length : numberToShow\r\n\t\tfor (let i = 0; i < loopCount; i++) {\r\n\t\t\tresult.push(`${selected[i].replace(/^\\w/, c => c.toUpperCase())}`)\r\n\t\t}\r\n\t\treturn numberToShowGreater\r\n\t\t\t? result.join(', ')\r\n\t\t\t: result.join(', ').concat(\r\n\t\t\t\t\tt('MORE_SELECTED', {\r\n\t\t\t\t\t\targs: [selected.length - numberToShow],\r\n\t\t\t\t\t})\r\n\t\t\t  )\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Chip\r\n\t\t\t\tlabel={\r\n\t\t\t\t\tselected.length === items.length\r\n\t\t\t\t\t\t? `${label} (${t('ALL_SELECTED')})`\r\n\t\t\t\t\t\t: selected.length === 0\r\n\t\t\t\t\t\t? `${label} (${t('NONE_SELECTED')})`\r\n\t\t\t\t\t\t: labelParser(selected, 2)\r\n\t\t\t\t}\r\n\t\t\t\tcolor={selected.length === items.length ? 'default' : 'secondary'}\r\n\t\t\t\tonClick={e => setAnchorDatePicker(e.currentTarget)}\r\n\t\t\t\ticon={<FilterListIcon />}\r\n\t\t\t\tclassName={classes.chip}\r\n\t\t\t/>\r\n\t\t\t<Popover\r\n\t\t\t\tid={'daterange-picker'}\r\n\t\t\t\topen={Boolean(anchorDatePicker)}\r\n\t\t\t\tanchorEl={anchorDatePicker}\r\n\t\t\t\tonClose={e => setAnchorDatePicker(null)}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<FormControl component='fieldset' className={classes.formControl}>\r\n\t\t\t\t\t<FormLabel component='legend'>{t('FILTER_BY_STATUS')}</FormLabel>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tindeterminate={\r\n\t\t\t\t\t\t\t\t\t\tselected.length > 0 && selected.length < items.length\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tchecked={selected.length === items.length}\r\n\t\t\t\t\t\t\t\t\tonChange={handleSelectAllClick}\r\n\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all filters' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('SELECT_ALL')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{items.map(item => (\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={state[item.name] ? state[item.name] : false}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[item.name]: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.name}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={item.name.replace(/^\\w/, c => c.toUpperCase())}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormHelperText>{t('SELECT_INFORMATION')}</FormHelperText>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</Popover>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nChipMultipleSelect.propTypes = {\r\n\tstate: PropTypes.object.isRequired,\r\n\tsetState: PropTypes.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tlabel: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport clsx from 'clsx'\nimport classnames from 'classnames'\nimport ChipMultipleSelect from 'components/common/dropdown/ChipMultipleSelect'\nimport Chip from '@material-ui/core/Chip'\nimport FormControl from '@material-ui/core/FormControl'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport Input from '@material-ui/core/Input'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport SearchIcon from '@material-ui/icons/Search'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport ArchiveIcon from '@material-ui/icons/Archive'\nimport { lighten, makeStyles } from '@material-ui/core/styles'\nimport { filterTags } from './tableConfig'\nimport { t } from 'selectors'\n\nconst useToolbarStyles = makeStyles(theme => ({\n\troot: {\n\t\tpaddingLeft: theme.spacing(2),\n\t\tpaddingRight: theme.spacing(1),\n\t},\n\thighlight:\n\t\ttheme.palette.type === 'light'\n\t\t\t? {\n\t\t\t\t\tcolor: theme.palette.secondary.main,\n\t\t\t\t\tbackgroundColor: lighten(theme.palette.secondary.light, 0.85),\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\tcolor: theme.palette.text.primary,\n\t\t\t\t\tbackgroundColor: theme.palette.secondary.dark,\n\t\t\t  },\n\ttitle: {\n\t\tflex: '1 1 100%',\n\t},\n}))\n\nexport default function EnhancedTableToolbar(props) {\n\tconst classes = useToolbarStyles()\n\tconst {\n\t\tnumSelected,\n\t\tsearch,\n\t\tsetSearch,\n\t\tfilters,\n\t\tsetFilters,\n\t\titemType,\n\t} = props\n\tconst filterSide = itemType === 'Campaign' ? itemType : 'Other'\n\tconst filtersTagsCount = Object.values(filters).filter(e => e).length\n\tconst filtersPresent =\n\t\tfiltersTagsCount < filterTags[filterSide].length || search\n\tconst initialFilterTags = {}\n\tfilterTags[filterSide].map(n => (initialFilterTags[n.name] = true))\n\n\treturn (\n\t\t<Toolbar\n\t\t\tclassName={clsx(classes.root, {\n\t\t\t\t[classes.highlight]: numSelected > 0,\n\t\t\t})}\n\t\t>\n\t\t\t{numSelected > 0 ? (\n\t\t\t\t<Typography\n\t\t\t\t\tclassName={classes.title}\n\t\t\t\t\tcolor='inherit'\n\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t>\n\t\t\t\t\t{numSelected} selected\n\t\t\t\t</Typography>\n\t\t\t) : (\n\t\t\t\t<FormControl className={classnames(classes.flexItem)}>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tname='search'\n\t\t\t\t\t\tid='search'\n\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\tonChange={ev => setSearch(ev.target.value)}\n\t\t\t\t\t\tstartAdornment={\n\t\t\t\t\t\t\t<InputAdornment position='start'>\n\t\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t)}\n\n\t\t\t{numSelected > 0 ? null : (\n\t\t\t\t// This is for the multiple select and\n\t\t\t\t// will be implemented when we add achive to the market\n\t\t\t\t/*!noActions && (\n\t\t\t\t\t<Tooltip title='Archive'>\n\t\t\t\t\t\t<IconButton aria-label='archive'>\n\t\t\t\t\t\t\t<ArchiveIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t)*/\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Tooltip title={t('FILTER_LIST')}>\n\t\t\t\t\t\t<ChipMultipleSelect\n\t\t\t\t\t\t\titems={filterTags[filterSide]}\n\t\t\t\t\t\t\tstate={filters}\n\t\t\t\t\t\t\tsetState={setFilters}\n\t\t\t\t\t\t\tlabel={t('FILTER')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{filtersPresent && (\n\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\tlabel={t('CLEAR_ALL_FILTERS')}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetSearch('')\n\t\t\t\t\t\t\t\tsetFilters(initialFilterTags)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ticon={<ClearIcon />}\n\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\t\t</Toolbar>\n\t)\n}\n\nEnhancedTableToolbar.propTypes = {\n\tnumSelected: PropTypes.number.isRequired,\n}\n","import moment from 'moment'\n\nconst isOverlapping = (startDate, endDate, dateRange) => {\n\tconst startDate1 = moment(startDate)\n\tconst endDate1 = moment(endDate)\n\tconst startDate2 = moment(dateRange.startDate)\n\tconst endDate2 = moment(dateRange.endDate)\n\tconst result = moment\n\t\t.max(startDate1, startDate2)\n\t\t.isBefore(moment.min(endDate1, endDate2))\n\treturn result\n}\n\nconst isBetween = (date, dateRange) => {\n\tif (dateRange.startDate && dateRange.endDate)\n\t\treturn moment(date).isBetween(dateRange.startDate, dateRange.endDate)\n\telse return true\n}\n\nconst desc = (a, b, orderBy, numeric) => {\n\tconst subCategories = orderBy.split('.')\n\tsubCategories.forEach(prop => {\n\t\ta = a[prop]\n\t\tb = b[prop]\n\t})\n\tif (numeric) {\n\t\ta = Number(a)\n\t\tb = Number(b)\n\t}\n\n\tif (b < a) return -1\n\tif (b > a) return 1\n\treturn 0\n}\n\nconst filterBySearch = (items, search) => {\n\treturn items.filter(\n\t\titem =>\n\t\t\t(item.title && item.title.toLowerCase().includes(search.toLowerCase())) ||\n\t\t\t(item.description &&\n\t\t\t\titem.description.toLowerCase().includes(search.toLowerCase())) ||\n\t\t\t(item.type && item.type.toLowerCase().includes(search.toLowerCase())) ||\n\t\t\t(item.status &&\n\t\t\t\titem.status.name &&\n\t\t\t\titem.status.name.toLowerCase().includes(search.toLowerCase())) ||\n\t\t\t(item.id && item.id.toLowerCase() === search.toLowerCase())\n\t\t// We can search on more fields as well\n\t)\n}\n\nconst filterByTags = (items, filters, itemType) => {\n\tconst filtered = items.filter(item => {\n\t\tconst tag =\n\t\t\titemType === 'Campaign'\n\t\t\t\t? item.status && item.status.humanFriendlyName\n\t\t\t\t\t? item.status.humanFriendlyName.toLowerCase()\n\t\t\t\t\t: 'pending'\n\t\t\t\t: item.type.toLowerCase()\n\n\t\treturn !!filters[tag]\n\t})\n\n\treturn filtered\n}\n\nconst filterByDate = (items, dateRange) => {\n\treturn items.filter(\n\t\titem => isBetween(item.created, dateRange)\n\t\t// In campaigns we can search date for overlapping period between Starts Ends\n\t\t// searchOverlap && isOverlapping(item.activeFrom, item.withdrawPeriodStart, dateRange))\n\t)\n}\n\nconst stableSort = (array, cmp) => {\n\tconst stabilizedThis = array.map((el, index) => [el, index])\n\tstabilizedThis.sort((a, b) => {\n\t\tconst order = cmp(a[0], b[0])\n\t\tif (order !== 0) return order\n\t\treturn a[1] - b[1]\n\t})\n\treturn stabilizedThis.map(el => el[0])\n}\n\nconst getSorting = (order, orderBy, orderToken) => {\n\treturn order === 'desc'\n\t\t? (a, b) => desc(a, b, orderBy, orderToken)\n\t\t: (a, b) => -desc(a, b, orderBy, orderToken)\n}\n\nexport { filterBySearch, filterByTags, filterByDate, stableSort, getSorting }\n","import React from 'react'\nimport classnames from 'classnames'\nimport Img from 'components/common/img/Img'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TablePagination from '@material-ui/core/TablePagination'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport IconButton from '@material-ui/core/IconButton'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport VisibilityIcon from '@material-ui/icons/Visibility'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { AdUnit } from 'adex-models'\nimport { t, selectSide, selectMainToken } from 'selectors'\nimport { execute, cloneItem } from 'actions'\nimport { useSelector } from 'react-redux'\nimport { missingData, headCells, mapStatusIcons } from './tableConfig'\nimport EnhancedTableHead from './EnhancedTableHead'\nimport EnhancedTableToolbar from './EnhancedTableToolbar'\nimport {\n\tfilterBySearch,\n\tfilterByTags,\n\tstableSort,\n\tgetSorting,\n} from './filterHelpers'\nconst RRTableCell = withReactRouterLink(TableCell)\nconst RRIconButton = withReactRouterLink(IconButton)\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%',\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\ttable: {\n\t\t// minWidth: 750,\n\t\ttableLayout: 'auto',\n\t\twidth: '100%',\n\t},\n\ttableWrapper: {\n\t\toverflowX: 'auto',\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1,\n\t},\n\tspacer: {\n\t\tflex: '0',\n\t},\n\tcellImg: {\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t\tmaxHeight: 70,\n\t\tmaxWidth: 180,\n\t\tcursor: 'pointer',\n\t},\n}))\n\nconst renderActions = ({ item, to, itemType }) => {\n\treturn (\n\t\t<TableCell>\n\t\t\t<Tooltip\n\t\t\t\ttitle={t('LABEL_VIEW')}\n\t\t\t\t// placement='top'\n\t\t\t\tenterDelay={1000}\n\t\t\t>\n\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\n\t\t\t\t\t<VisibilityIcon color='primary' />\n\t\t\t\t</RRIconButton>\n\t\t\t</Tooltip>\n\t\t\t{itemType === 'AdUnit' ? (\n\t\t\t\t<Tooltip\n\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\n\t\t\t\t\t// placement='top'\n\t\t\t\t\tenterDelay={1000}\n\t\t\t\t>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<NewCloneUnitDialog\n\t\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\t\texecute(cloneItem({ item, itemType, objModel: AdUnit }))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ticonButton\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</Tooltip>\n\t\t\t) : null}\n\t\t</TableCell>\n\t)\n}\n\nexport default function EnhancedTable(props) {\n\tconst classes = useStyles()\n\tconst side = useSelector(selectSide)\n\tconst { symbol, decimals } = useSelector(selectMainToken)\n\t// const items = []\n\tconst {\n\t\titems, //\n\t\titemType,\n\t\tnoActions,\n\t\tvalidate,\n\t\thandleSelect,\n\t\tlistMode,\n\t} = props\n\tconst [order, setOrder] = React.useState('desc')\n\tconst [orderBy, setOrderBy] = React.useState('created')\n\tconst [orderIsNumeric, setOrderisNumeric] = React.useState(true)\n\tconst [selected, setSelected] = React.useState([])\n\tconst [page, setPage] = React.useState(0)\n\tconst [rowsPerPage, setRowsPerPage] = React.useState(5)\n\tconst [search, setSearch] = React.useState('')\n\tconst [filters, setFilters] = React.useState({})\n\n\tReact.useEffect(() => {\n\t\tconst isValid = !!selected.length\n\t\tif (validate && handleSelect) {\n\t\t\tvalidate('adUnits', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t\tisValid && handleSelect(selected)\n\t\t}\n\t\t// TODO: temp fix - need to redesign the table again\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selected])\n\n\tReact.useEffect(() => {\n\t\tsetPage(0)\n\t}, [search, filters])\n\n\tconst handleRequestSort = (event, property, numeric) => {\n\t\tconst isDesc = orderBy === property && order === 'desc'\n\t\tsetOrder(isDesc ? 'asc' : 'desc')\n\t\tsetOrderBy(property)\n\t\tsetOrderisNumeric(numeric)\n\t}\n\n\tconst handleSelectAllClick = event => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = items.map(n => n.id)\n\t\t\tsetSelected(newSelecteds)\n\t\t\treturn\n\t\t}\n\t\tsetSelected([])\n\t}\n\n\tconst handleClick = (event, name) => {\n\t\tconst selectedIndex = selected.indexOf(name)\n\t\tlet newSelected = []\n\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, name)\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1))\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1))\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(\n\t\t\t\tselected.slice(0, selectedIndex),\n\t\t\t\tselected.slice(selectedIndex + 1)\n\t\t\t)\n\t\t}\n\n\t\tsetSelected(newSelected)\n\t}\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage)\n\t}\n\n\tconst handleChangeRowsPerPage = event => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10))\n\t\tsetPage(0)\n\t}\n\n\tconst isSelected = id => selected.indexOf(id) !== -1\n\n\tconst filteredItems = listMode\n\t\t? items\n\t\t: filterBySearch(filterByTags(items, filters, itemType), search)\n\n\tconst sortedItems = stableSort(\n\t\tfilteredItems,\n\t\tgetSorting(order, orderBy, orderIsNumeric)\n\t)\n\n\tconst emptyRows =\n\t\trowsPerPage -\n\t\tMath.min(rowsPerPage, filteredItems.length - 1 - page * rowsPerPage)\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t{!listMode && (\n\t\t\t\t\t<EnhancedTableToolbar\n\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\tsearch={search}\n\t\t\t\t\t\tsetSearch={setSearch}\n\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\tsetFilters={setFilters}\n\t\t\t\t\t\tnoActions={noActions}\n\t\t\t\t\t\tlistMode={listMode}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<div className={classes.tableWrapper}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby='tableTitle'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\taria-label='enhanced table'\n\t\t\t\t\t>\n\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\torderBy={orderBy}\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\t\tonRequestSort={handleRequestSort}\n\t\t\t\t\t\t\trowCount={items.length}\n\t\t\t\t\t\t\tnoActions={noActions}\n\t\t\t\t\t\t\tlistMode={listMode}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{sortedItems\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map((item, index) => {\n\t\t\t\t\t\t\t\t\t// Campaigns renderer\n\t\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(item.id)\n\t\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`\n\t\t\t\t\t\t\t\t\tconst firstUnit = (item.adUnits && item.adUnits[0]) || {}\n\t\t\t\t\t\t\t\t\tconst mediaUrl = firstUnit.mediaUrl || item.mediaUrl || ''\n\t\t\t\t\t\t\t\t\tconst mediaMime = firstUnit.mediaMime || item.mediaMime || ''\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\t\trole='checkbox'\n\t\t\t\t\t\t\t\t\t\t\taria-checked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\t\t\t\tselected={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{!listMode && (\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding='checkbox'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => handleClick(event, item.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullScreenOnClick={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t{itemType === 'Campaign' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.status.humanFriendlyName}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status.humanFriendlyName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'xs'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.depositAmount,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{` ${symbol}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item.status.fundsDistributedRatio || 0) / 10\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{` ${symbol}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{formatDateTime(item.created)}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RRTableCell\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/dashboard/${side}/${itemType}/${item.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</RRTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell> {item.type} </TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{formatDateTime(item.created)}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{!noActions &&\n\t\t\t\t\t\t\t\t\t\t\t\trenderActions({\n\t\t\t\t\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\t\t\t\t\tto: `/dashboard/${side}/${itemType}/${item.id}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\titemType,\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 33 * emptyRows }}>\n\t\t\t\t\t\t\t\t\t{items.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\t\t\t(headCells[itemType]\n\t\t\t\t\t\t\t\t\t\t\t\t\t? headCells[itemType].length\n\t\t\t\t\t\t\t\t\t\t\t\t\t: headCells.Other.length) + 2\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\talign='center'\n\t\t\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\t\t\t(headCells[itemType]\n\t\t\t\t\t\t\t\t\t\t\t\t\t? headCells[itemType].length\n\t\t\t\t\t\t\t\t\t\t\t\t\t: headCells.Other.length) + 2\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{missingData[itemType]}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[10, 20, 50]}\n\t\t\t\t\tcomponent='div'\n\t\t\t\t\tclasses={{ spacer: classes.spacer }}\n\t\t\t\t\tcount={filteredItems.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t},\n\t\tappBar: {\n\t\t\tmarginTop: spacing * 2,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdatepicker: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t}\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tcard: {\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t\twidth: 320,\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'relative',\n\t\t\tmaxWidth: '100%',\n\t\t\t'@media(max-width:380px)': {\n\t\t\t\tmargin: 0,\n\t\t\t\tmarginBottom: spacing,\n\t\t\t},\n\t\t},\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\twidth: 'auto',\n\t\t\tmaxHeight: '100%',\n\t\t},\n\t\tbasicInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'start',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\tlabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\n\t\t\ttop: 0,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport Img from 'components/common/img/Img'\nimport { validUrl } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport Anchor from 'components/common/anchor/anchor'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { validations } from 'adex-models'\nimport { utils } from 'ethers'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableConfig'\nimport { selectMainToken } from 'selectors'\n\nconst FallbackAdData = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\n\n\treturn (\n\t\t<Card className={classes.card} raised={false}>\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\n\t\t\t\t<Img\n\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\n\t\t\t\t\talt={item.fallbackTargetUrl}\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t/>\n\t\t\t</CardMedia>\n\t\t\t{/* <Fab\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleFallbackImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t\tdisabled={isDemo}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Fab> */}\n\t\t\t<CardContent>\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t// required\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\n\t\t\t\t\t\t// maxLength={1024}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{/* <span>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</span> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span className={classes.error}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t)\n}\n\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\n\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\n\tconst { temp } = item\n\tconst newTemp = { ...temp }\n\tnewTemp[prop] = value\n\n\treturn newTemp\n}\n\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\n\tconst isValidNumber = validations.isNumberString(value)\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\tvalidate(prop, {\n\t\tisValid: isValid,\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\tdirty: dirty,\n\t})\n}\n\nconst SlotMinCPM = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errMin = invalidFields['minPerImpression']\n\tconst { address, decimals, symbol } = selectMainToken()\n\tconst minCPM = formatTokenAmount(\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\n\t\tdecimals,\n\t\ttrue\n\t)\n\n\tconst minPerImpression =\n\t\titem.temp.minPerImpression !== undefined\n\t\t\t? item.temp.minPerImpression\n\t\t\t: minCPM\n\n\treturn (\n\t\t<FormControl\n\t\t\tfullWidth\n\t\t\tclassName={classes.textField}\n\t\t\tmargin='dense'\n\t\t\terror={!!errMin}\n\t\t>\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\n\t\t\t<Input\n\t\t\t\tfullWidth\n\t\t\t\tautoFocus\n\t\t\t\ttype='text'\n\t\t\t\tname={'minPerImpression'}\n\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\tonChange={ev => {\n\t\t\t\t\tvalidateAmount(\n\t\t\t\t\t\tev.target.value,\n\t\t\t\t\t\t'minPerImpression',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tvalidate\n\t\t\t\t\t)\n\t\t\t\t\thandleChange(\n\t\t\t\t\t\t'temp',\n\t\t\t\t\t\tupdateItemTemp({\n\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\tmaxLength={1024}\n\t\t\t\tonBlur={ev => {\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\n\t\t\t\t}}\n\t\t\t\tdisabled={!activeFields.minPerImpression}\n\t\t\t\tendAdornment={\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<FormHelperText>\n\t\t\t\t{errMin && !!errMin.errMsg\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\n\t\t\t</FormHelperText>\n\t\t</FormControl>\n\t)\n}\n\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\n\nconst MediaCard = ({\n\tclasses,\n\tmediaUrl,\n\tmediaMime,\n\ttitle,\n\tcanEditImg,\n\ttoggleImgEdit,\n\turl,\n}) => (\n\t<Card className={classes.card} raised={false}>\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\n\t\t\t<Img\n\t\t\t\tallowFullscreen={true}\n\t\t\t\tsrc={mediaUrl}\n\t\t\t\talt={title}\n\t\t\t\tclassName={classes.img}\n\t\t\t\tmediaMime={mediaMime}\n\t\t\t\tallowVideo\n\t\t\t/>\n\t\t</CardMedia>\n\t\t{canEditImg && (\n\t\t\t<Button\n\t\t\t\tvariant='fab'\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Button>\n\t\t)}\n\n\t\t{url && (\n\t\t\t<CardContent>\n\t\t\t\t<Anchor href={url} target='_blank'>\n\t\t\t\t\t{url}\n\t\t\t\t</Anchor>\n\t\t\t</CardContent>\n\t\t)}\n\t</Card>\n)\n\nconst basicProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\tactiveFields,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst mediaMime = item.mediaMime\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\n\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\tvalue={item.type}\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trows={7}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t{rightComponent}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport const BasicProps = withStyles(styles)(basicProps)\n\nconst campaignProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst status = item.status || {}\n\tconst { decimals, symbol } = selectMainToken()\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={classes.basicInfo}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\n\t\t\t\t\t{rightComponent}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\nexport const CampaignProps = withStyles(styles)(campaignProps)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport Anchor from 'components/common/anchor/anchor'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { selectMainToken } from 'selectors'\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\n\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\nconst VIEW_MODE = 'campaignRowsView'\n\nexport class Campaign extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context)\n\n\t\tthis.state = {\n\t\t\ttabIndex: 0,\n\t\t\tstatistics: {},\n\t\t}\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index })\n\t}\n\n\tCampaignActions = ({ campaign, actions, t }) => {\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// classes,\n\t\t\titem,\n\t\t\t// handleChange,\n\t\t\t// activeFields,\n\t\t\t// isDemo,\n\t\t\tactions,\n\t\t\thistory,\n\t\t\tmainTokenSymbol,\n\t\t\t// ...rest\n\t\t} = this.props\n\t\tconst { tabIndex } = this.state\n\n\t\tconst units = item.spec.adUnits\n\t\tconst campaign = new CampaignModel(item)\n\n\t\tconst balances =\n\t\t\tcampaign.status && campaign.status.lastApprovedBalances\n\t\t\t\t? campaign.status.lastApprovedBalances\n\t\t\t\t: {}\n\n\t\tconst status = (campaign.status || {}).name\n\t\tconst leader = campaign.spec.validators[0]\n\t\tconst follower = campaign.spec.validators[1]\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CampaignProps\n\t\t\t\t\titem={campaign}\n\t\t\t\t\tt={t}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t// <UnitTargets\n\t\t\t\t\t\t// \t{...rest}\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\n\t\t\t\t\t\t// \tt={t}\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\n\t\t\t\t\t\t// />\n\t\t\t\t\t\t(status === 'Ready' ||\n\t\t\t\t\t\t\tstatus === 'Active' ||\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\n\t\t\t\t\t\t\t<this.CampaignActions\n\t\t\t\t\t\t\t\tcampaign={campaign}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\t\thistory={history}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('STATE')} />\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<List\n\t\t\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t\t\t<ListSubheader component='div'>{t('BALANCES')}</ListSubheader>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{Object.keys(balances).map(key => (\n\t\t\t\t\t\t\t\t\t<ListItem key={key}>\n\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\tprimary={\n\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(balances[key]) + ' ' + mainTokenSymbol\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsecondary={key}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t\t\t<EnhancedTable itemType={'AdUnit'} items={units} noActions />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaign.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tunits: PropTypes.object.isRequired,\n\trowsView: PropTypes.bool.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\tunits: persist.items['AdUnit'],\n\t\trowsView: !!persist.ui[VIEW_MODE],\n\t\tobjModel: CampaignModel,\n\t\titemType: 'Campaign',\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(CampaignItem))\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\n\t</g>,\n\n\t'AdexPublisher',\n\t'0 0 114 110'\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\n\t</g>,\n\t'AdexAdvertiser',\n\t'0 0 109 94'\n)\n","import React, { Component } from 'react'\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport Translate from 'components/translate/Translate'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst SideBox = ({\n\tsalePoints = [],\n\tlinkTitle,\n\ticon,\n\ttitle,\n\tdisabled,\n\tclasses,\n\t...other\n}) => (\n\t<div\n\t\t{...other}\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\n\t>\n\t\t<div className={classes.icon}>{icon}</div>\n\t\t<h2>{title}</h2>\n\t\t<ul className={classes.salePoints}>\n\t\t\t{salePoints.map(function(point, key) {\n\t\t\t\treturn <li key={key}> {point} </li>\n\t\t\t})}\n\t\t</ul>\n\t</div>\n)\n\nconst RRSideBox = withReactRouterLink(SideBox)\n\nclass SideSelect extends Component {\n\trender() {\n\t\tlet { t, classes } = this.props\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={true}\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.backdrop,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='sm'\n\t\t\t>\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<AdvertiserLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/advertiser'\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<PublisherLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/publisher'\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nexport default Translate(withStyles(styles)(SideSelect))\n","export const styles = () => {\n\treturn {\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tsideBox: {\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\theight: 'auto',\n\t\t\ttextAlign: 'center',\n\t\t\tverticalAlign: 'top',\n\t\t\topacity: 0.7,\n\t\t\t'&:hover:not(.disabled)': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t\topacity: 1,\n\t\t\t},\n\t\t\t'&.disabled': {\n\t\t\t\topacity: 0.3,\n\t\t\t},\n\t\t\t'@media(max-width:425px)': {\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t\ticon: {\n\t\t\twidth: 110,\n\t\t\theight: 110,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\tsalePoints: {\n\t\t\tpadding: 0,\n\t\t\t'& li': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tlistStyle: 'none',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport classnames from 'classnames'\nimport InfoIcon from '@material-ui/icons/Info'\nimport { ArrowTooltip } from 'components/common/tooltips'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\tposition: 'relative',\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\n\t\t\tcolor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\n\t\t\t\ttheme.palette.text.primary,\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: theme.spacing(1),\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tprogress: {\n\t\t\tbottom: 0,\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nconst StatsCard = props => {\n\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tlinkCard,\n\t\tchildren,\n\t\tonClick,\n\t\tbgColor,\n\t\tloading,\n\t\texplain,\n\t} = props\n\n\tconst classes = useStyles({ bgColor })\n\n\treturn (\n\t\t<Card\n\t\t\t// raised\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\n\t\t\t\t[classes.linkCard]: !!linkCard,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<CardContent>\n\t\t\t\t{title && (\n\t\t\t\t\t<Typography variant='h5' noWrap>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{subtitle && (\n\t\t\t\t\t<Typography component='p' noWrap>\n\t\t\t\t\t\t{subtitle}{' '}\n\t\t\t\t\t\t{explain && (\n\t\t\t\t\t\t\t<ArrowTooltip\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\n\t\t\t\t\t\t\t\t\t\t{explain}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\n\t\t\t\t\t\t\t</ArrowTooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</CardContent>\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Card>\n\t)\n}\n\nStatsCard.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tlinkCard: PropTypes.bool,\n}\n\nexport default StatsCard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\tinfoStatsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'stretch',\n\t\t\theight: '100%',\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: spacing,\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tdashboardCardBody: {\n\t\t\tmargin: spacing,\n\t\t\tpadding: spacing,\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\n\t\t},\n\t}\n}\n","import Helper from 'helpers/miscHelpers'\nimport { defaults } from 'react-chartjs-2'\nimport merge from 'lodash.merge'\n\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\n// Eddie colors\nexport const CHARTS_COLORS = [\n\t'#00BAFF',\n\t'#7EDBFF',\n\t'#FF9FA8',\n\t'#14DC9C',\n\t'#61FFB2',\n\t'#ABFFE5',\n]\n\nexport let CHARTS_COMMON_OPTIONS = {\n\tresponsive: true,\n\ttooltips: {\n\t\tmode: 'label',\n\t\tcornerRadius: 2,\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\n\t},\n}\n\nexport const hexColorsToRgbaArray = (colors, alpha) => {\n\treturn colors.map(color => {\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\n\t})\n}\n\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Line, Chart } from 'react-chartjs-2'\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\nimport Helper from 'helpers/miscHelpers'\nimport { selectStatsChartData, selectMainToken } from 'selectors'\n\nconst commonDsProps = {\n\tfill: false,\n\tlineTension: 0.3,\n\tborderWidth: 0,\n\tpointRadius: 3,\n\tpointHitRadius: 10,\n}\n\nexport const SimpleStatistics = ({\n\tside,\n\ttimeframe = '',\n\teventType,\n\toptions = {},\n\tt,\n\txLabel = 'TIMEFRAME',\n\ty1Label = 'DATA1',\n\ty2Label = 'DATA2',\n\ty1Color = CHARTS_COLORS[1],\n\ty2Color = CHARTS_COLORS[2],\n}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst payouts = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType,\n\t\t\tmetric: 'eventPayouts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\tconst counts = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType,\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\t// Vertical line / crosshair\n\tuseEffect(() => {\n\t\tChart.pluginService.register({\n\t\t\tafterDraw: function(chart) {\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\n\t\t\t\t\tconst ctx = chart.ctx\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\n\t\t\t\t\tconst topY = chart.scales['y-axis-1'].top\n\t\t\t\t\tconst bottomY = chart.scales['y-axis-1'].bottom\n\t\t\t\t\tctx.save()\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.moveTo(x, topY)\n\t\t\t\t\tctx.lineTo(x, bottomY)\n\t\t\t\t\tctx.lineWidth = 1 // line width\n\t\t\t\t\tctx.setLineDash([1, 5])\n\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\n\t\t\t\t\tctx.stroke()\n\t\t\t\t\tctx.restore()\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t})\n\n\tconst chartData = {\n\t\tlabels: payouts.labels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tlabel: y1Label,\n\t\t\t\tdata: payouts.datasets,\n\t\t\t\tyAxisID: 'y-axis-1',\n\t\t\t\tpointBackgroundColor: 'transparent',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tlabel: y2Label,\n\t\t\t\tdata: counts.datasets,\n\t\t\t\tyAxisID: 'y-axis-2',\n\t\t\t},\n\t\t],\n\t}\n\n\tconst linesOptions = {\n\t\tresponsive: true,\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: true,\n\t\t\ttext: options.title,\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: 'black',\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel = xLabel === y1Label ? `${t.yLabel} ${symbol}` : t.yLabel\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\thover: {\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t},\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y1Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y2Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-2',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\treturn <Line height={500} data={chartData} options={linesOptions} />\n}\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\nimport lime from '@material-ui/core/colors/lime'\nimport deepOrange from '@material-ui/core/colors/deepOrange'\nimport amber from '@material-ui/core/colors/amber'\nimport grey from '@material-ui/core/colors/grey'\n\nconst WHITE = '#fff'\nexport const PRIMARY = '#1B75BC'\nexport const SECONDARY = '#FFAC00'\nexport const ALEX_GREY = '#3f3e3e'\nexport const ACCENT_ONE = '#57467B'\nexport const ACCENT_TWO = '#7CB4B8'\n\nconst palette = {\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\taccentOne: { main: ACCENT_ONE, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\terror: deepOrange,\n\twarning: amber,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\ttext: grey,\n}\n\nconst theme = createMuiTheme({\n\ttypography: {\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\t\tfontSize: 13,\n\t},\n\tpalette: { ...palette },\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: { borderRadius: 0 },\n\t\t},\n\t\t// MuiStepIcon: {\n\t\t//     root: {\n\t\t//         color: 'yellow',\n\t\t//         '&$active': {\n\t\t//             color: 'orange'\n\t\t//         }\n\t\t//     },\n\t\t//     active: {\n\t\t//         color: 'yellow'\n\t\t//     }\n\t\t// }\n\t},\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\n\tfactor: 3,\n})\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateAnalyticsTimeframe } from 'actions'\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\nimport Dropdown from 'components/common/dropdown'\nimport Grid from '@material-ui/core/Grid'\nimport { translate } from 'services/translations/translations'\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\nimport StatsCard from './StatsCard'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { PRIMARY, ACCENT_ONE, ACCENT_TWO } from 'components/App/themeMUi'\nimport { styles } from './styles'\nimport { formatNumberWithCommas } from 'helpers/formatters'\nimport {\n\tt,\n\tselectTotalImpressions,\n\tselectTotalMoney,\n\tselectAverageCPM,\n\tselectMainToken,\n\tselectAnalytics,\n} from 'selectors'\n\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\n\tconst translated = { ...tf }\n\ttranslated.label = translate(tf.label)\n\treturn translated\n})\n\nconst metrics = {\n\tpublisher: [\n\t\t{\n\t\t\tlabel: translate('LABEL_REVENUE'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t\t{\n\t\t\tlabel: translate('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t],\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: translate('LABEL_SPEND'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_ONE,\n\t\t},\n\t\t{\n\t\t\tlabel: translate('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t],\n}\n\nconst timeHints = {\n\thour: 'SHOWING_LAST_HOUR',\n\tday: 'SHOWING_LAST_24_HOURS',\n\tweek: 'SHOWING_LAST_7_DAYS',\n}\n\nexport function BasicStats({ side }) {\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\n\tconst totalImpressions = useSelector(state =>\n\t\tselectTotalImpressions(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalMoney = useSelector(state =>\n\t\tselectTotalMoney(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst averageCPM = useSelector(state =>\n\t\tselectAverageCPM(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst loadingImpressions = totalImpressions === null\n\tconst loadingMoney = totalMoney === null\n\tconst loadingCPM = averageCPM === null\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div className={classes.infoStatsContainer}>\n\t\t\t\t\t<StatsCard>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\n\t\t\t\t\t\t\tsource={timeFrames}\n\t\t\t\t\t\t\tvalue={timeframe}\n\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='primary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tloading={loadingImpressions}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentOne'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{side === 'publisher' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentTwo'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='grey'\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\n\t\t\t\t\t\tloading={loadingCPM}\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\n\t\t\t\t\t\t)} ${symbol} / CPM`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<SimpleStatistics\n\t\t\t\t\tside={side}\n\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\ttitle: t(timeFrames.find(a => a.value === timeframe).label),\n\t\t\t\t\t}}\n\t\t\t\t\ty1Label={metrics[side][0].label}\n\t\t\t\t\ty1Color={metrics[side][0].color}\n\t\t\t\t\ty2Label={metrics[side][1].label}\n\t\t\t\t\ty2Color={metrics[side][1].color}\n\t\t\t\t\teventType={'IMPRESSION'}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateNav } from 'actions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport classnames from 'classnames'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport StatsCard from './StatsCard'\nimport { styles } from './styles'\nimport Grid from '@material-ui/core/Grid'\nimport { BasicStats } from './BasicStats'\nimport { push } from 'connected-react-router'\nimport {\n\tt,\n\tselectSide,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nexport function DashboardStats(props) {\n\tconst side = useSelector(selectSide)\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\tavailableIdentityBalanceMainToken,\n\t\toutstandingBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('DASHBOARD')))\n\t}, [])\n\n\tconst goToAccount = () => {\n\t\texecute(push('/dashboard/' + side + '/account'))\n\t}\n\n\tconst InfoStats = () => {\n\t\treturn (\n\t\t\t<div className={classes.infoStatsContainer}>\n\t\t\t\t<StatsCard\n\t\t\t\t\tlinkCard\n\t\t\t\t\tonClick={goToAccount}\n\t\t\t\t\tsubtitle={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO', {\n\t\t\t\t\t\targs: [outstandingBalanceMainToken || 0, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tloading={\n\t\t\t\t\t\t(!outstandingBalanceMainToken &&\n\t\t\t\t\t\t\toutstandingBalanceMainToken !== 0) ||\n\t\t\t\t\t\t(!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0)\n\t\t\t\t\t}\n\t\t\t\t\ttitle={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\n\t\t\t\t></StatsCard>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\n\t\t<SideSelect active={true} />\n\t) : (\n\t\t<div>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={12} lg={12} xs={12}>\n\t\t\t\t\t<Card className={classnames(classes.dashboardCardBody)}>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<BasicStats side={side} />\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={12} lg={6}>\n\t\t\t\t\t<InfoStats />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default DashboardStats\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnit } from 'adex-models'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Translate from 'components/translate/Translate'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\n\nexport class Unit extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tcloseDialog: false,\n\t\t}\n\t}\n\t// shouldComponentUpdate(nextProps, nextState) {\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t//     return diffProps || diffState\n\t// }\n\trender() {\n\t\tconst { item, t, ...rest } = this.props\n\n\t\tif (!item) return <h1>Unit '404'</h1>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\ttargets={item.targeting}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tsubHeader={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nUnit.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\treturn {\n\t\tobjModel: AdUnit,\n\t\titemType: 'AdUnit',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst UnitItem = ItemHoc(Unit)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(UnitItem))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\nimport copy from 'copy-to-clipboard'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport url from 'url'\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\n\nconst ADVIEW_URL = process.env.ADVIEW_URL\nconst adviewUrl = url.parse(ADVIEW_URL)\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\n\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)`\n\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\n\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\n\tconst { id, type, tags, fallbackUnit } = slot\n\tconst identityAddr = account.identity.address\n\n\tlet sizes = type.split('_')[1].split('x')\n\tsizes = {\n\t\twidth: sizes[0],\n\t\theight: sizes[1],\n\t}\n\n\tconst options = {\n\t\tpublisherAddr: identityAddr,\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\n\t\twhitelistedType: type,\n\t\trandomize: true,\n\t\ttargeting: tags || [],\n\t\t// marketURL: ADEX_MARKET_HOST,\n\t\twidth: sizes.width,\n\t\theight: sizes.height,\n\t\tminPerImpression: '0',\n\t\tminTargetingScore: '0',\n\t\tfallbackUnit,\n\t\tmarketSlot: id,\n\t}\n\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\n\n\tlet src = ADVIEW_URL + query\n\n\tlet iframeStr =\n\t\t`<iframe\\n` +\n\t\t`\tsrc=\"${src}\"\\n` +\n\t\t`\twidth=\"${sizes.width}\"\\n` +\n\t\t`\theight=\"${sizes.height}\"\\n` +\n\t\t`\tscrolling=\"no\"\\n` +\n\t\t`\tframeborder=\"0\"\\n` +\n\t\t`\tstyle=\"border: 0;\"\\n` +\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\n\t\t`></iframe>`\n\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.integrationLabel}>\n\t\t\t\t{t('INTEGRATION_CODE')}\n\t\t\t\t<IconButton\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(iframeStr)\n\t\t\t\t\t\tonCopy && onCopy()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CopyIcon />\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t\t<Paper>\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\n\t\t\t</Paper>\n\t\t\t{process.env.NODE_ENV !== 'production' && (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport class Slot extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\teditFallbackImg: false,\n\t\t\ttabIndex: 0,\n\t\t}\n\t\tthis.tabsFocus = React.createRef()\n\t}\n\n\thandleFallbackImgUpdateToggle = () => {\n\t\tconst active = this.state.editFallbackImg\n\t\tthis.setState({ editFallbackImg: !active })\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index }, () => {\n\t\t\tif (this.tabsFocus.current) {\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\n\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\tblock: 'start',\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\n\t\tconst { tabIndex } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\titemType={itemType}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\tcanEditImg={!isDemo}\n\t\t\t\t\trightComponent={null}\n\t\t\t\t\t{...rest}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\n\t\t\t\t\t\t\tref={this.tabsFocus}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && null}\n\t\t\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t\t\t<IntegrationCode\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\t\tslot={item}\n\t\t\t\t\t\t\t\tonCopy={() =>\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSlot.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t\tobjModel: AdSlot,\n\t\titemType: 'AdSlot',\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\n\t\tupdateImgExact: true,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SlotItem)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tintegrationLabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tintegrationCode: {\n\t\t\twhiteSpace: 'pre-wrap',\n\t\t\twordBreak: 'break-word',\n\t\t\tpadding: spacing,\n\t\t\tmargin: 0,\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\nimport Translate from 'components/translate/Translate'\n\nclass Items extends Component {\n\tcomponentWillMount() {\n\t\tthis.props.actions.updateNav('navTitle', this.props.header)\n\t}\n\n\trender() {\n\t\tconst { itemType } = this.props\n\t\tconst items = Object.values(this.props.items || {}) || []\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<EnhancedTable itemType={itemType} items={items} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nItems.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\titems: PropTypes.object.isRequired,\n\theader: PropTypes.string.isRequired,\n\titemType: PropTypes.string.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\tconst { persist, memory } = state\n\treturn {\n\t\titems: persist.items[props.itemType] || [],\n\t\tside: memory.nav.side,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(Items))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport Helper from 'helpers/miscHelpers'\n// import { exchange as ExchangeConstants } from 'adex-constants'\n\n// const { TX_STATUS } = ExchangeConstants\n\nexport default function NewTransactionHoc(Decorated) {\n\t// TODO: make it common for bids and items\n\tclass TransactionHoc extends Component {\n\t\tcomponentWillMount() {\n\t\t\t// console.log('TransactionHoc')\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\n\t\t}\n\n\t\t// addTx = (tx) => {\n\t\t//     let txData = { ...tx }\n\t\t//     txData.status = TX_STATUS.Pending.id\n\t\t//     txData.sendingTime = Date.now()\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\n\t\t// }\n\n\t\tonSave = (err, tx, manyTxs) => {\n\t\t\tconst { closeDialog } = this.props\n\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\n\t\t\tthis.resetTransaction()\n\t\t}\n\n\t\tresetTransaction = () => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.resetNewTransaction({ tx: txId })\n\t\t}\n\n\t\thandleSaveRes = ({ err, res }) => {\n\t\t\tconst { t, actions } = this.props\n\t\t\t// const areManyTxs = Array.isArray(res)\n\n\t\t\tif (err) {\n\t\t\t\tactions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.onSave(err, res, Array.isArray(res))\n\t\t}\n\n\t\tsave = () => {\n\t\t\tthis.handleChange('waitingForWalletAction', true)\n\t\t\tthis.props\n\t\t\t\t.saveFn({\n\t\t\t\t\tacc: this.props.account,\n\t\t\t\t\ttransaction: this.props.transaction,\n\t\t\t\t})\n\t\t\t\t.then((res = {}) => {\n\t\t\t\t\tconsole.log('res on save', res)\n\n\t\t\t\t\tconst txs = res.txResults || res\n\t\t\t\t\tconst err = res.err || null\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\n\t\t\t\t})\n\t\t\t\t.catch((error = {}) => {\n\t\t\t\t\tconsole.log('err on save', error)\n\t\t\t\t\tconst res = error.txResults || null\n\t\t\t\t\tconst err = error.err || error\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\n\t\t\t\t})\n\t\t}\n\n\t\tcancel = () => {\n\t\t\t// TODO: take a look at onSave if change something\n\t\t\tthis.onSave(null, null)\n\t\t}\n\n\t\trender() {\n\t\t\tlet transaction = this.props.transaction || {}\n\t\t\tlet props = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\ttransaction={transaction}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tresetTransaction={this.resetTransaction}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tTransactionHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tlabel: PropTypes.string,\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t\t.isRequired,\n\t\ttransaction: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tsaveFn: PropTypes.func,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\tconst txId = props.stepsId\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\ttransaction: memory.newTransactions[txId] || {},\n\t\t\ttxId: txId,\n\t\t\tspinner: memory.spinners[txId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(TransactionHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('withdrawAmount', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tconst { token, identityAvailable } = this.props\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet errMsgArgs = []\n\t\tlet amount = parseFloat(numStr)\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\terrMsgArgs = [identityAvailable, token]\n\t\t}\n\n\t\tthis.props.validate('withdrawAmount', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg, args: errMsgArgs },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\tidentityAvailable,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\ttoken,\n\t\t} = this.props\n\t\tconst { withdrawTo, withdrawAmount } = transaction || {}\n\t\tconst errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\n\t\t\t\t\t\targs: [identityAvailable, token],\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\t\tname='withdrawAmount'\n\t\t\t\t\tvalue={withdrawAmount || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleChange('withdrawAmount', identityAvailable)\n\t\t\t\t\t\t\t\t\tthis.validateAmount(identityAvailable, true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [identityAvailable, token],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawFromIdentityForm = NewTransactionHoc(WithdrawFromIdentity)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawFromIdentityForm)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawAnyTokenFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('withdrawAmount', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tconst { token, identityAvailable } = this.props\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet errMsgArgs = []\n\t\tlet amount = parseFloat(numStr)\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\terrMsgArgs = [identityAvailable, token]\n\t\t}\n\n\t\tthis.props.validate('withdrawAmount', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg, args: errMsgArgs },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\tbalanceAnySpinner,\n\t\t} = this.props\n\t\tconst { withdrawTo, withdrawAmount, tokenAddress, tokenBalance } =\n\t\t\ttransaction || {}\n\t\tconst errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\tconst errToken = invalidFields['tokenAddress']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('TOKENS_BALANCE_AVAILABLE_ON_IDENTITY')} {tokenBalance}{' '}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={balanceAnySpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\n\t\t\t\t\tname='tokenAddress'\n\t\t\t\t\tvalue={tokenAddress || ''}\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t\tsetBalance: bal => handleChange('tokenBalance', bal),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t\tsetBalance: bal => handleChange('tokenBalance', bal),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errToken && !!errToken.dirty}\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{balanceAnySpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\t\tname='withdrawAmount'\n\t\t\t\t\tvalue={withdrawAmount || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\n\t\t\t\t\t\t\t? errAmount.errMsg\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawAnyTokenFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\n\tWithdrawAnyTokenFromIdentity\n)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawAnyTokenFromIdentityForm)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { constants } from 'adex-models'\nimport { InputLoading } from 'components/common/spinners/'\n\nconst { IdentityPrivilegeLevel } = constants\n\nconst PRIV_LEVELS_SRC = Object.keys(IdentityPrivilegeLevel).map(key => {\n\treturn {\n\t\tvalue: IdentityPrivilegeLevel[key],\n\t\tlabel: key,\n\t}\n})\n\nclass SeAddressPrivilege extends Component {\n\tcomponentDidMount() {\n\t\tconst { transaction, validate } = this.props\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('setAddr', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\tidentityAvailable,\n\t\t\thandleChange,\n\t\t\tsetAddrSpinner,\n\t\t\tvalidate,\n\t\t} = this.props\n\t\tconst { setAddr, privLevel } = transaction || {}\n\t\t// const errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['setAddr']\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')} {identityAvailable}{' '}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\n\t\t\t\t\tname='setAddr'\n\t\t\t\t\tvalue={setAddr || ''}\n\t\t\t\t\tonChange={ev => handleChange('setAddr', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: setAddr,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'setAddr',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: setAddr,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'setAddr',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{setAddrSpinner ? <InputLoading /> : null}\n\t\t\t\t<Dropdown\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\n\t\t\t\t\thelperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\n\t\t\t\t\tonChange={val => handleChange('privLevel', val)}\n\t\t\t\t\tsource={PRIV_LEVELS_SRC}\n\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\n\t\t\t\t\thtmlId='label-privLevel'\n\t\t\t\t\tfullWidth\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSeAddressPrivilege.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\tsetAddrSpinner: memory.spinners['setAddr'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SeAddressPrivilegeForm = NewTransactionHoc(SeAddressPrivilege)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SeAddressPrivilegeForm)\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { PropRow } from 'components/common/dialog/content'\nimport { constants } from 'adex-models'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nexport const IdentityWithdrawPreview = ({\n\tt,\n\twithdrawTo,\n\tclasses,\n\tfeesData,\n\twithdrawAmount,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='withdrawAmount'\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${withdrawAmount} ${symbol}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetPrivilegePreview = ({\n\tt,\n\tsetAddr,\n\tclasses,\n\tfeesData,\n\tprivLevel,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='setAddr'\n\t\t\tleft={t('setAddr', { isProp: true })}\n\t\t\tright={(setAddr || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='privLevel'\n\t\t\tleft={t('privLevel', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [feesData.fees, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={privilegesNames[privLevel]}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const IdentityWithdrawAnyPreview = ({\n\tt,\n\twithdrawTo,\n\ttokenAddress,\n\tclasses,\n\tfeesData,\n\twithdrawAmount,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='tokenAddress'\n\t\t\tleft={t('tokenAddress', { isProp: true })}\n\t\t\tright={(tokenAddress || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='withdrawAmount'\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={withdrawAmount + ' '}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport NewTransactionHoc from './TransactionHoc'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { styles } from './styles'\nimport {\n\tIdentityWithdrawPreview,\n\tSetPrivilegePreview,\n\tIdentityWithdrawAnyPreview,\n} from './previews'\nimport {\n\tselectMainToken,\n\tt,\n\tselectSpinnerById,\n\tselectAccount,\n\tselectNewTransactionById,\n} from 'selectors'\nimport { execute, updateSpinner } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction TransactionPreview(props) {\n\tconst classes = useStyles()\n\tconst {\n\t\tgetFeesFn,\n\t\thandleChange,\n\t\tidentityAvailable,\n\t\tpreviewWarnMsgs,\n\t\tstepsId,\n\t} = props\n\n\tconst txId = stepsId\n\tconst account = useSelector(selectAccount)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst transaction = useSelector(state =>\n\t\tselectNewTransactionById(state, txId)\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\n\n\tuseEffect(() => {\n\t\tif (getFeesFn && Object.keys(transaction).length) {\n\t\t\texecute(updateSpinner(txId, true))\n\t\t\tgetFeesFn({ account, transaction })\n\t\t\t\t.then(feesData => {\n\t\t\t\t\thandleChange('feesData', feesData)\n\t\t\t\t\t// if (feesData.toGet) {\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\n\t\t\t\t\t// }\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\n\t\t\t\t\t\thandleChange('errors', [\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\n\t\t\t\t})\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst {\n\t\twithdrawTo,\n\t\twithdrawAmount,\n\t\tsetAddr,\n\t\tprivLevel,\n\t\ttokenAddress,\n\t\tfeesData = {},\n\t\terrors = [],\n\t} = transaction\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<ContentBox>\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\n\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{errors.length\n\t\t\t\t\t\t\t? errors.map((err, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\t\tright={err}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{previewWarnMsgs\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\n\t\t\t\t\t\t\t<SetPrivilegePreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</ContentBox>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nTransactionPreview.propTypes = {\n\tlabel: PropTypes.string,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tpreviewMsgs: PropTypes.array,\n}\n\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\nexport default TransactionPreviewForm\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: theme.palette.warning.A700,\n\t\t},\n\t\tcentralSpinner: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 20px)',\n\t\t\ttop: ' calc(50% - 20px)',\n\t\t},\n\t\timgPreview: {\n\t\t\theight: 120,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t}\n}\n","import React from 'react'\nimport WithdrawFromExchangePage from './WithdrawFromIdentity'\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\nimport SeAddressPrivilege from './SeAddressPrivilege'\nimport TransactionPreview from './TransactionPreview'\nimport Button from '@material-ui/core/Button'\nimport TransactionHoc from './TransactionHoc'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\n// import SaveIcon from '@material-ui/icons/Save'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\nimport {\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n} from 'services/smart-contracts/actions/identity'\nimport { addrIdentityPrivilege, identityWithdraw, execute } from 'actions'\n\nconst FormStepsWithDialog = WithDialog(FormSteps)\n\nconst SaveBtn = ({\n\tsave,\n\tsaveBtnLabel,\n\tsaveBtnIcon,\n\tt,\n\ttransaction,\n\twaitingForWalletAction,\n\tspinner,\n\t...other\n}) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\n\t\t\t\t!!transaction.waitingForWalletAction ||\n\t\t\t\t!!spinner\n\t\t\t}\n\t\t>\n\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || ''\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\n\t\t</Button>\n\t)\n}\n\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\n}\n\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\n\nconst txCommon = {\n\tSaveBtn: SaveBtnWithTransaction,\n\tCancelBtn: CancelBtnWithTransaction,\n\tvalidateIdBase: 'tx-',\n\tdarkerBackground: true,\n}\n\nexport const WithdrawTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawFromExchangePage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction, account } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\t\taccount,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn withdrawFromIdentity({\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const SetIdentityPrivilege = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\n\t\tstepsId='setIdentityPrivilege'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\n\t\t\t\tpage: SeAddressPrivilege,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\taddrIdentityPrivilege({\n\t\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn setIdentityPrivilege({\n\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const WithdrawAnyTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawAnyFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\t\ttokenAddress: transaction.tokenAddress,\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\t\ttokenDecimals: transaction.tokenDecimals,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn withdrawFromIdentity({\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\ttokenAddress: transaction.tokenAddress,\n\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\ttokenDecimals: transaction.tokenDecimals,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tactionBtn: {\n\t\t\tmargin: spacing,\n\t\t},\n\t\taddress: {\n\t\t\twordWrap: 'break-word',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\tadvancedList: {\n\t\t\twidth: '100%',\n\t\t},\n\t\ticonBtnLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { updateNav, addToast, execute } from 'actions'\nimport copy from 'copy-to-clipboard'\nimport {\n\tWithdrawTokenFromIdentity,\n\t// WithdrawAnyTokenFromIdentity,\n\tSetIdentityPrivilege,\n} from 'components/dashboard/forms/web3/transactions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { styles } from './styles.js'\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\nimport { LoadingSection } from 'components/common/spinners'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\nimport {\n\tt,\n\tselectWallet,\n\tselectAccountStatsFormatted,\n\tselectAccountIdentity,\n\tselectMainToken,\n} from 'selectors'\nimport { formatAddress } from 'helpers/formatters'\n\n// const RRButton = withReactRouterLink(Button)\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\n\nfunction AccountInfo() {\n\tconst { authType, email, password } = useSelector(selectWallet)\n\tconst identity = useSelector(selectAccountIdentity)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\twalletAddress,\n\t\twalletAuthType = '',\n\t\twalletPrivileges = '',\n\t\tidentityAddress,\n\t\tidentityBalanceMainToken,\n\t\tavailableIdentityBalanceMainToken,\n\t\toutstandingBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst localWalletDownloadHref = () => {\n\t\tconst obj = getRecoveryWalletData({ email, password, authType })\n\t\tif (!obj || !obj.wallet) {\n\t\t\treturn null\n\t\t}\n\n\t\tconst data =\n\t\t\t'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(obj))\n\t\treturn data\n\t}\n\n\tconst walletJsonData = localWalletDownloadHref()\n\tconst [expanded, setExpanded] = useState(false)\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('ACCOUNT')))\n\t}, [])\n\n\tconst displayRampWidget = () => {\n\t\tconst widget = new RampInstantSDK({\n\t\t\thostAppName: 'AdExNetwork',\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\n\t\t\tvariant: 'auto',\n\t\t\tswapAsset: symbol,\n\t\t\tuserAddress: identity.address,\n\t\t})\n\t\twidget.domNodes.overlay.style.zIndex = 1000\n\t\twidget.show()\n\t}\n\n\tconst handleExpandChange = () => {\n\t\tsetExpanded(!expanded)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<List>\n\t\t\t\t<ListItem>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tflexGrow='3'\n\t\t\t\t\t\t\tmr={1}\n\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\tjustifyContent='start'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tprimary={identityAddress}\n\t\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\t\tauthType === 'demo'\n\t\t\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_IDENTITY_ADDRESS')\n\t\t\t\t\t\t\t\t\t\t: t('IDENTITY_ETH_ADDR')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</ListItem>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ListItem>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tflexGrow='3'\n\t\t\t\t\t\t\tmr={1}\n\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\tjustifyContent='start'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\n\t\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\t\tauthType === 'demo'\n\t\t\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_WALLET_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\targs: [walletAuthType, walletPrivileges],\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t: t('WALLET_INFO_LABEL', {\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\twalletAuthType.replace(/^\\w/, chr => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn chr.toUpperCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\twalletPrivileges || ' - ',\n\t\t\t\t\t\t\t\t\t\t\t\t\tauthType,\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{walletJsonData && (\n\t\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\n\t\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref()}\n\t\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained' fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</ListItem>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ListItem>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box pr={1} flexGrow='8'>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [outstandingBalanceMainToken || 0, symbol],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\ttoken={symbol}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</ListItem>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ExpansionPanel expanded={expanded} onChange={handleExpandChange}>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='panel1bh-content'\n\t\t\t\t\t\tid='panel1bh-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Box pr={1} flexGrow='8'>\n\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t\t\tsecondary={''}\n\t\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t{/* <ListItem>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ListItem> */}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default AccountInfo\n","import React, { useState, useEffect } from 'react'\nimport SideNav from './SideNav'\nimport TopBar from './TopBar'\nimport { Route, Switch } from 'react-router'\nimport Campaign from 'components/dashboard/containers/Campaign'\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\nimport Unit from 'components/dashboard/containers/Unit'\nimport Slot from 'components/dashboard/containers/Slot'\nimport Items from 'components/dashboard/containers/Items'\nimport Account from 'components/dashboard/account/AccountInfo'\nimport {\n\tNewUnitDialog,\n\tNewCampaignDialog,\n\tNewSlotDialog,\n} from 'components/dashboard/forms/items/NewItems'\nimport campaignsLoop from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport analyticsLoop from 'services/store-data/analytics'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { updateNav, getAllItems, execute } from 'actions'\nimport { t } from 'selectors'\n\nconst Campaigns = () => (\n\t<>\n\t\t<NewCampaignDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_CAMPAIGN'\n\t\t/>\n\t\t<Items header={t('ALL_CAMPAIGNS')} itemType={'Campaign'} />\n\t</>\n)\n\nconst AdUnits = () => (\n\t<>\n\t\t<NewUnitDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_UNIT'\n\t\t/>\n\t\t<Items header={t('ALL_UNITS')} itemType={'AdUnit'} />\n\t</>\n)\n\nconst AdSlots = () => (\n\t<>\n\t\t<NewSlotDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_SLOT'\n\t\t/>\n\t\t<Items header={t('ALL_SLOTS')} itemType={'AdSlot'} />\n\t</>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction Dashboard(props) {\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\n\tconst { match } = props\n\tconst { side } = match.params\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t\texecute(getAllItems())\n\t\tanalyticsLoop.start()\n\t\tcampaignsLoop.start()\n\t\tstatsLoop.start()\n\n\t\treturn () => {\n\t\t\tcampaignsLoop.stop()\n\t\t\tstatsLoop.stop()\n\t\t}\n\t}, [side])\n\n\tuseEffect(() => {}, [match, mobileOpen])\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t}, [side])\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\tconst drawer = <SideNav side={side} />\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<TopBar\n\t\t\t\tside={side}\n\t\t\t\topen={mobileOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t/>\n\t\t\t<Hidden mdUp>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\tanchor='left'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden smDown implementation='css'>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\topen\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\n\t\t\t\t\t\t\tcomponent={Campaigns}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\n\t\t\t\t\t\t\tcomponent={AdUnits}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\n\t\t\t\t\t\t\tcomponent={Campaign}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\n\t\t\t\t\t\t\tcomponent={Unit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\n\t\t\t\t\t\t\tcomponent={AdSlots}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\n\t\t\t\t\t\t\tcomponent={Slot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\n\t\t\t\t\t\t\tcomponent={Account}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\t\tauth={this.props.auth}\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t<Route exact path='/dashboard/:side' component={DashboardStats} />\n\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\t// flexGrow: 1,\n\t\t\theight: '100vh',\n\t\t},\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\theight: '100vh',\n\t\t\tflexGrow: '1',\n\t\t},\n\t\tactions: {\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t},\n\t\tbuttons: {\n\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t},\n\t\tadxVersion: {\n\t\t\t// position: 'absolute',\n\t\t\t// left: spacing,\n\t\t\t// bottom: spacing\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\t// marginTop: '1.5vh',\n\t\t\t// width: '17.92vh',\n\t\t\t// height: '6vh',\n\t\t\theight: '2rem',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tnoBg: {\n\t\t\tbackground: 0,\n\t\t\tboxShadow: 'none',\n\t\t\toverflow: 'visible',\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\t// position: 'relative',\n\t\t\tjustifyContent: 'center',\n\t\t\tpadding: 24,\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t// '&:first-child': {\n\t\t\t// \tpaddingTop: spacing,\n\t\t\t// },\n\t\t\t// overflow: 'visible',\n\t\t\t// maxHeight: '100vh'\n\t\t},\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport Img from 'components/common/img/Img'\nimport classnames from 'classnames'\nimport { getAllWallets } from 'services/wallet/wallet'\nimport { execute, initIdentity, confirmAction } from 'actions'\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { formatAddress } from 'helpers/formatters'\nimport { push } from 'connected-react-router'\nimport { t } from 'selectors'\n\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\n\nconst RRButton = withReactRouterLink(Button)\nconst useStyles = makeStyles(styles)\n\nconst AuthSelect = () => {\n\tconst classes = useStyles()\n\tconst [wallets, setWallets] = useState([])\n\n\tconst regAllowed = useSelector(selectRegistrationAllowed)\n\tconst showRegistration = REGISTRATION_OPEN || regAllowed\n\tconst auth = useSelector(selectAuth)\n\tconst account = useSelector(selectAccount)\n\tconst { wallet } = account || {}\n\n\tuseEffect(() => {\n\t\tconst allWallets = getAllWallets()\n\t\tconst wallets = allWallets.filter(\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\n\t\t)\n\t\tsetWallets(wallets)\n\t}, [wallet])\n\n\tconst goTo = (to, confirmLogout, onConfirm) => {\n\t\tconst toExecute = () => {\n\t\t\tlogOut()\n\t\t\texecute(push(to))\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\n\t\t\t\tonConfirm()\n\t\t\t}\n\t\t}\n\t\tif (auth && confirmLogout) {\n\t\t\texecute(\n\t\t\t\tconfirmAction(toExecute, null, {\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TITLE', {\n\t\t\t\t\t\targs: [wallet.authType, wallet.address],\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\ttoExecute()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='stretch'\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box p={2} alignItems='center'>\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{auth && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<RRButton\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tto='/side-select'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CONTINUE_AS', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\twallet.email || formatAddress(wallet.address),\n\t\t\t\t\t\t\t\twallet.authType,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RRButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{wallets.map(w => (\n\t\t\t\t<Box key={w.name} m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t))}\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\n\t\t\t\t\tonClick={() => goTo('/login/full?metamask', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\n\t\t\t\t\t\tclassName={classes.btnLogo}\n\t\t\t\t\t/>\n\t\t\t\t\t{t('METAMASK')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.trezorBtn}\n\t\t\t\t\tonClick={() => goTo('/login/full?trezor', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.btnLogo,\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* {t('TREZOR')} */}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\n\t\t\t\t>\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{showRegistration && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n\nexport default AuthSelect\n","export const styles = theme => {\n\treturn {\n\t\tactions: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tlimitedWidthBtn: {\n\t\t\twordBreak: 'break-word',\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tbtnLogo: {\n\t\t\theight: '2rem',\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tbtnLogoNoTxt: {\n\t\t\tmarginRight: 0,\n\t\t},\n\t\tmetamaskBtn: {\n\t\t\tbackgroundColor: theme.palette.grey[800],\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\ttrezorBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Hidden from '@material-ui/core/Hidden'\nimport Anchor from 'components/common/anchor/anchor'\nimport packageJson from './../../../package.json'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport { t } from 'selectors'\nimport { Typography } from '@material-ui/core'\n\nexport default function ConnectHoc(Decorated) {\n\tfunction Connect({ classes, ...rest }) {\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\tcontainer\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t// spacing={2}\n\t\t\t\t>\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\n\t\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HELP')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn withStyles(styles)(Connect)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions, { execute, login } from 'actions'\nimport { push } from 'connected-react-router'\n\nexport default function IdentityHoc(Decorated) {\n\tclass IdentityForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tready: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value) => {\n\t\t\tthis.props.actions.updateIdentity(prop, value)\n\t\t}\n\n\t\t// componentDidUpdate = () => {\n\t\t// \tconst { account } = this.props\n\t\t// \tif (account.wallet.authSig) {\n\t\t// \t\texecute(push('/side-select'))\n\t\t// \t}\n\t\t// }\n\n\t\tsave = async () => {\n\t\t\texecute(login())\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tconst { resetIdentity } = this.props.actions\n\t\t\tresetIdentity()\n\t\t\texecute(push('/'))\n\t\t}\n\n\t\trender() {\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tidentity={identity}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\twaiting={spinner}\n\t\t\t\t\twaitingExpected={waitingExpected}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tIdentityForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tidentity: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\tidentity: memory.identity,\n\t\t\tspinner: memory.spinners['creating-session'],\n\t\t\twaitingExpected: memory.spinners['getting-expected-identity'],\n\t\t\twaitingUpload: memory.spinners['uploading-account-data'],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(IdentityForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n\nexport default function NewItemHoc(Decorated) {\n\tclass ValidItemHoc extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.state = {\n\t\t\t\tinvalidFields: {},\n\t\t\t}\n\n\t\t\tthis.validate = this.validate.bind(this)\n\t\t}\n\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\n\t\t}\n\n\t\tvalidate = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tif (!isValid) {\n\t\t\t\tlet errors = {}\n\t\t\t\terrors[key] = {\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\n\t\t\t\t\tdirty: dirty,\n\t\t\t\t}\n\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\n\t\t\t} else if (removeAll) {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\n\t\t\t} else {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\n\t\t\t}\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\tvalidate={this.validate}\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tValidItemHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\t// let persist = state.persist\n\t\tlet memory = state.memory\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport IdentityHoc from '../IdentityHoc'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\n\nexport default function AuthHoc(Decorated) {\n\tclass Auth extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.state = {\n\t\t\t\tmethod: '',\n\t\t\t\tsideSelect: false,\n\t\t\t}\n\t\t}\n\n\t\tupdateWallet = ({\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}) => {\n\t\t\tconst wallet = {\n\t\t\t\taddress,\n\t\t\t\tauthType,\n\t\t\t\thdWalletAddrPath,\n\t\t\t\thdWalletAddrIdx,\n\t\t\t\tpath,\n\t\t\t\tchainId,\n\t\t\t\tsignType,\n\t\t\t}\n\n\t\t\tthis.props.handleChange('identityContractOwner', address)\n\t\t\tthis.props.handleChange('wallet', wallet)\n\t\t}\n\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t// updateAcc={this.updateAcc}\n\t\t\t\t\tupdateWallet={this.updateWallet}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tAuth.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state) {\n\t\tlet persist = state.persist\n\t\t// let memory = state.memory\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\taddrListItem: {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\taddrInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tflexGrow: 1,\n\t\t\tpaddingTop: spacing,\n\t\t\twhiteSpace: 'normal',\n\t\t\t'& strong': {\n\t\t\t\tmarginRight: spacing * 2,\n\t\t\t},\n\t\t},\n\t\taddrInfoLabel: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t},\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t\t// marginTop: spacing * 2,\n\t\t\t// position: 'absolute',\n\t\t\t// top: 70,\n\t\t\t// left: 0,\n\t\t\t// right: 0,\n\t\t\t// bottom: 0\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\ttabLogo: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: spacing * 4,\n\t\t\tmaxHeight: '100%',\n\t\t\twidth: 'auto',\n\t\t},\n\t\ttabLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdlBtnImg: {\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: spacing * 9,\n\t\t\twidth: 'auto',\n\t\t\theight: 'auto',\n\t\t},\n\t\tleftBtnIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '-6vh',\n\t\t\tleft: 0,\n\t\t},\n\t\tlogo: {\n\t\t\twidth: '12.8vh',\n\t\t\theight: '5vh',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport function AddrItem({ stats }) {\n\tconst { balanceEth, tokensBalances, address } = stats\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<ListItemText\n\t\t\tprimary={address}\n\t\t\tsecondary={\n\t\t\t\t<span className={classes.addrInfo}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span> ETH </span>\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span> {symbol} </span>\n\t\t\t\t\t\t\t<strong> {balance} </strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t}\n\t\t/>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Translate from 'components/translate/Translate'\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\nimport METAMASK_IMG from 'resources/metamask.png'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport AuthHoc from './AuthHoc'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport { addToast, execute } from 'actions'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport Box from '@material-ui/core/Box'\n\nfunction AuthMetamask(props) {\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\n\tconst [address, setAddress] = useState(null)\n\tconst [stats, setStats] = useState(null)\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\n\tconst { t, classes } = props\n\tconst isOpera =\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\n\t\tfalse\n\t)\n\n\tuseEffect(() => {\n\t\tconst setEth = async () => {\n\t\t\tconst ethereumProvider = await getEthereumProvider()\n\t\t\tsetIsMetamaskEthereumProvider(\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\n\t\t\t)\n\t\t}\n\n\t\tsetEth()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (installingMetamask) {\n\t\t\t// Refreshes page after user comes back\n\t\t\t// from installing Metamask\n\t\t\twindow.onfocus = () => {\n\t\t\t\twindow.location.reload()\n\t\t\t\tsetInstallingMetamask(false)\n\t\t\t}\n\t\t}\n\t}, [installingMetamask])\n\n\tconst checkMetamask = async () => {\n\t\tsetWaitingAddrsData(true)\n\t\ttry {\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst wallet = {\n\t\t\t\tauthType: authType,\n\t\t\t}\n\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\n\t\t\tconst address = await metamaskSigner.getAddress()\n\t\t\tconst stats = await getAddressBalances({\n\t\t\t\taddress: { address },\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tsetAddress(address)\n\t\t\tsetStats(stats)\n\t\t\tsetWaitingAddrsData(false)\n\n\t\t\tprops.updateWallet({\n\t\t\t\taddress,\n\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\n\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('Error: catch', err)\n\t\t\tsetWaitingMetamaskAction(false)\n\t\t\tsetWaitingAddrsData(false)\n\t\t\texecute(\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingMetamaskAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : waitingAddrsData ? (\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Typography paragraph variant='subheading'>\n\t\t\t\t\t{t('METAMASK_INFO')}\n\t\t\t\t</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\n\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{address ? (\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\n\t\t\t\t\t\t\t{stats ? (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading' color='primary'>\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={checkMetamask}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nAuthMetamask.propTypes = {\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthMetamask)))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport Button from '@material-ui/core/Button'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport AuthHoc from './AuthHoc'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\n\nclass AuthTrezor extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingTrezorAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectTrezor = async () => {\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\t\t}\n\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\n\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tconsole.log('result', results)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: trezorSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingTrezorAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingTrezorAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\n\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io/' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingTrezorAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthTrezor.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport AuthHoc from './AuthHoc'\nimport Helper from 'helpers/miscHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\n\nclass AuthLedger extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingLedgerAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectLedger = async () => {\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\t\t}\n\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: ledgerSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingLedgerAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingLedgerAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\n\t\t\t\t\t\t\t\t{t('LEDGER_INFO')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthLedger.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { selectLocation } from 'selectors'\nimport AuthMetamask from './AuthMetamask'\nimport AuthTrezor from './AuthTrezor'\nimport AuthLedger from './AuthLedger'\n\nconst useStyles = makeStyles(theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t},\n\t}\n})\n\nfunction AuthMethod() {\n\tconst classes = useStyles()\n\tconst location = useSelector(selectLocation) || {}\n\tconst { search } = location\n\n\treturn (\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\n\t\t\t\t{search === '?metamask' && <AuthMetamask />}\n\t\t\t\t{search === '?trezor' && <AuthTrezor />}\n\t\t\t\t{search === '?ledger' && <AuthLedger />}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default AuthMethod\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport IdentityHoc from './IdentityHoc'\nimport AuthMethod from 'components/signin/identity/ownerAuth/AuthMethod'\nimport Translate from 'components/translate/Translate'\n\nclass IdentityContractOwner extends Component {\n\tcomponentDidMount() {\n\t\tthis.validateContractOwner()\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst currOwner = this.props.identity.identityContractOwner\n\t\tif (!!currOwner && currOwner !== prevProps.identity.identityContractOwner) {\n\t\t\tthis.validateContractOwner()\n\t\t}\n\t}\n\n\tvalidateContractOwner = () => {\n\t\tconst { validate, identity } = this.props\n\t\tconst { identityContractOwner } = identity\n\n\t\tvalidate('identityContractOwner', {\n\t\t\tisValid: !!identityContractOwner,\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\trender() {\n\t\treturn <AuthMethod {...this.props} />\n\t}\n}\n\nIdentityContractOwner.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst IdentityContractOwnerStep = IdentityHoc(IdentityContractOwner)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(IdentityContractOwnerStep))\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Anchor from 'components/common/anchor/anchor'\nimport { t, selectIdentity, selectValidationsById } from 'selectors'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n\tupdateIdentity,\n} from 'actions'\n\nconst QuickInfo = props => {\n\tconst checkTos = checked => {\n\t\texecute(updateIdentity('tosCheck', checked))\n\t\texecute(validateTOS(validateId, checked, true))\n\t}\n\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\t// Errors\n\tconst { email, emailCheck, password, passwordCheck, tosCheck } = validations\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\tname='email'\n\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\tonChange={ev => execute(updateIdentity('email', ev.target.value))}\n\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\texecute(validatePassword(validateId, identity.password, true))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\texecute(validatePassword(validateId, identity.password, false))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={password && !!password.dirty}\n\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\tpassword && !!password.dirty\n\t\t\t\t\t\t\t\t? password.errMsg\n\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\n\t\t\t\t\t\tname='passwordCheck'\n\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\n\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\n\t\t\t\t\t\t\t\t? passwordCheck.errMsg\n\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\trequired\n\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\tonChange={ev => checkTos(ev.target.checked)}\n\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_TOS_URL}`}>\n\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default QuickInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport { LoadingSection } from 'components/common/spinners'\n// import { styles } from './styles'\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\n\n// const useStyles = makeStyles(styles)\n\nconst QuickDeploy = ({ validateId }) => {\n\t// const classes = useStyles()\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst identity = useSelector(selectIdentity)\n\tconst { walletAddr, identityAddr } = identity\n\n\treturn !!spinner ? (\n\t\t<LoadingSection>{t('LOADING')}</LoadingSection>\n\t) : (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item sm={12}>\n\t\t\t\t<Typography paragraph variant='subtitle1'>\n\t\t\t\t\t{t('QUICK_WALLET_ADDRESS')}\n\t\t\t\t\t{' ' + walletAddr}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography paragraph variant='body2'>\n\t\t\t\t\t{t('QUICK_WALLET_ADDRESS_INFO')}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography paragraph variant='subtitle1'>\n\t\t\t\t\t{t('IDENTITY_ADDRESS_INFO', {\n\t\t\t\t\t\targs: [identityAddr],\n\t\t\t\t\t})}\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default QuickDeploy\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport { execute, updateIdentity } from 'actions'\nimport { t, selectIdentity, selectValidationsById } from 'selectors'\n\nconst QuickLogin = props => {\n\tconst { validateId } = props\n\n\tconst identity = useSelector(selectIdentity)\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { wallet } = validations\n\n\treturn (\n\t\t<Grid\n\t\t\tcontainer\n\t\t\tspacing={2}\n\t\t\t// direction='row'\n\t\t\talignContent='space-between'\n\t\t\talignItems='center'\n\t\t>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tdisabled={!!identity.authType}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\tonChange={ev => execute(updateIdentity('email', ev.target.value))}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{wallet && !!wallet.dirty && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\n\t\t\t\t\t\t\t\t{wallet.errMsg}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t{!!identity.walletAddr && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\t\t\t\t\t{t('QUICK_WALLET_ADDRESS', { args: [identity.walletAddr] })}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default QuickLogin\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\texecute,\n\tupdateIdentity,\n\townerIdentities as updateOwnerIdentities,\n} from 'actions'\nimport { selectSpinnerById, selectIdentity, t } from 'selectors'\nimport Dropdown from 'components/common/dropdown'\n\nconst getIdentitiesForDropdown = (ownerIdentities = [], t) =>\n\townerIdentities.map(id => {\n\t\treturn {\n\t\t\tvalue: id.identity + '-' + id.privLevel,\n\t\t\tlabel: t('IDENTITY_OPTION_DATA', {\n\t\t\t\targs: [id.identity, id.privLevel, id.data.email || '-'],\n\t\t\t}),\n\t\t}\n\t})\n\nfunction FullLogin(props) {\n\tconst identity = useSelector(selectIdentity)\n\tconst { wallet, ownerIdentities, identityContractAddress } = identity\n\tconst { address } = wallet\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, 'getting-owner-identities')\n\t)\n\n\tuseEffect(() => {\n\t\texecute(updateOwnerIdentities({ owner: address }))\n\t\t// We need it just once on mount\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<Grid\n\t\t\tcontainer\n\t\t\tspacing={2}\n\t\t\t// direction='row'\n\t\t\talignContent='space-between'\n\t\t\talignItems='center'\n\t\t>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\n\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities, t)}\n\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\n\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tloading={!!spinner}\n\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', { args: [address] })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default FullLogin\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport { t, selectIdentity, selectValidationsById } from 'selectors'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidateTOS,\n\tupdateIdentity,\n} from 'actions'\n\n// TODO: work in progress - need to add validations, and generating identity for the address\nconst FulInfo = props => {\n\tconst checkTos = checked => {\n\t\texecute(updateIdentity('tosCheck', checked))\n\t\texecute(validateTOS(validateId, checked, true))\n\t}\n\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\t// Errors\n\tconst { email, emailCheck, tosCheck } = validations\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\tname='email'\n\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\tonChange={ev => execute(updateIdentity('email', ev.target.value))}\n\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\trequired\n\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\tonChange={ev => checkTos(ev.target.checked)}\n\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_TOS_URL}`}>\n\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default FulInfo\n","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport FullLogin from './FullLogin'\nimport FullInfo from './FullInfo'\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\theight: '50%',\n\t\tminHeight: theme.spacing(4),\n\t},\n\tcontainer: {},\n}))\n\nexport function ExternalConnect({ t, ...rest }) {\n\tconst classes = useStyles()\n\tconst [connectType, setConnectType] = useState('')\n\n\treturn (\n\t\t<Grid container alignItems='stretch' className={classes.buttons}>\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\tcontainer\n\t\t\t\tdirection='column'\n\t\t\t\talignItems='stretch'\n\t\t\t\tjustify='space-evenly'\n\t\t\t>\n\t\t\t\t{connectType !== 'create' && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Typography variant='h5' gutterBottom>\n\t\t\t\t\t\t\t\t{t('SELECT_EXISTING_IDENTITY')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<FullLogin {...rest} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t// alignItems='stretch'\n\t\t\t\t\t\t\tclassName={classes.buttons}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/* <Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Button onClick={() => setConnectType('create')}>\n\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid> */}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{connectType === 'create' && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Typography variant='h5' gutterBottom>\n\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<FullInfo {...rest} />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t},\n\t\tadxVersion: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: spacing,\n\t\t\tbottom: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\tmarginTop: '1.5vh',\n\t\t\twidth: '17.92vh',\n\t\t\theight: '6vh',\n\t\t},\n\t\tformControl: {\n\t\t\tdisplay: 'flex',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\tinfoPaper: {\n\t\t\t...theme.mixins.gutters(),\n\t\t\tpaddingTop: spacing * 2,\n\t\t\tpaddingBottom: spacing * 2,\n\t\t},\n\t\tinput: {\n\t\t\tdisplay: 'none',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport Translate from 'components/translate/Translate'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nclass IdentitySteps extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpages: this.mapPages(),\n\t\t}\n\n\t\t// TODO: Check if it is possible to need state update\n\t}\n\n\tmapPages = () => {\n\t\tconst {\n\t\t\tGoBtn,\n\t\t\tcancelFunction,\n\t\t\tt,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages = [],\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tconst pages = stepsPages.map((page, index) => {\n\t\t\treturn {\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelFunction,\n\t\t\t\tcomponent: ValidItemHoc(page.page),\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tcompleteBtn: page.final\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t\t\t: undefined,\n\t\t\t}\n\t\t})\n\n\t\treturn pages\n\t}\n\n\trender() {\n\t\treturn <MaterialStepper pages={this.state.pages} />\n\t}\n}\n\nIdentitySteps.propTypes = {\n\tactions: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps() {\n\t// const persist = state.persist\n\t// const memory = state.memory\n\treturn {\n\t\t// account: persist.account\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(IdentitySteps)))\n","import React from 'react'\nimport IdentityContractOwner from './IdentityContractOwner'\nimport QuickInfo from './QuickInfo'\nimport QuickDeploy from './QuickDeploy'\nimport QuickLogin from './QuickLogin'\nimport { ExternalConnect } from './ExternalWalletConnect'\nimport IdentitySteps from './IdentitySteps'\nimport { push } from 'connected-react-router'\n\nimport {\n\texecute,\n\tvalidateQuickLogin,\n\tvalidateStandardLogin,\n\tvalidateQuickInfo,\n\tvalidateQuickDeploy,\n\tresetIdentity,\n} from 'actions'\n\nconst cancelFunction = () => {\n\texecute(resetIdentity())\n\texecute(push('/'))\n}\n\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateQuickLogin({ validateId, dirty }))\n\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateStandardLogin({ validateId, dirty }))\n\nconst common = {\n\tcancelFunction,\n\tvalidateIdBase: 'identity-',\n}\n\nexport const LoginStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-login'\n\t\t\tstepsPages={[\n\t\t\t\t{ title: 'SET_IDENTITY_OWNER_ADDRESS', page: IdentityContractOwner },\n\t\t\t\t{\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\n\t\t\t\t\tpage: ExternalConnect,\n\t\t\t\t\tpageValidation: finalValidationStandard,\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-create'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_INFO',\n\t\t\t\tpage: QuickInfo,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty, onValid, onInvalid })),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_DEPLOY',\n\t\t\t\tpage: QuickDeploy,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateQuickDeploy({ validateId, dirty, onValid, onInvalid })\n\t\t\t\t\t),\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const LoginQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-login'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_LOGIN',\n\t\t\t\tpage: QuickLogin,\n\t\t\t\tpageValidation: finalValidationQuick,\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const DemoIdentity = props => (\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Logo from 'components/common/icons/AdexIconTxt'\nimport Typography from '@material-ui/core/Typography'\nimport Anchor from 'components/common/anchor/anchor'\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\ttextAlign: 'center',\n\t},\n\tvitalik: {\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\n\t\tbackgroundPosition: 'center',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'contain',\n\t},\n\tcontainer: {\n\t\tmaxWidth: theme.breakpoints.values.md,\n\t\tmargin: 'auto',\n\t},\n\tlogo: {\n\t\theight: '5rem',\n\t\twidth: '100%',\n\t},\n}))\n\nexport default function Home({ t, ...rest }) {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tclassName={classes.root}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='center'\n\t\t\tjustifyContent='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.container}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-evenly'\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tflexGrow={1}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t\tmaxWidth='md'\n\t\t\t\tclassName={classes.container}\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Logo className={classes.logo} />\n\t\t\t\t</Box>\n\n\t\t\t\t{/* <Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{/* <Box p={1}>\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box\n\t\t\t\t\theight='30%'\n\t\t\t\t\tposition='relative'\n\t\t\t\t\tclassName={classes.vitalik}\n\t\t\t\t\talignSelf='stretch'\n\t\t\t\t></Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nconst useStyles = makeStyles(theme => ({\n\tdialog: {\n\t\theight: '100vh',\n\t\twidth: theme.maxWidth || 1200,\n\t\tmaxWidth: '100%',\n\t},\n}))\n\nexport default function DialogHoc(Decorated) {\n\tfunction JustDialog({ ...rest }) {\n\t\tconst classes = useStyles()\n\n\t\treturn (\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Decorated {...rest} />\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\treturn JustDialog\n}\n","import React, { useEffect } from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport {\n\tmetamaskChecks,\n\tmetamaskNetworkCheck,\n\tgetRelayerConfig,\n\texecute,\n\tensureQuickWalletBackup,\n\tupdateRegistrationAllowed,\n} from 'actions'\nimport { Route, Switch, Redirect } from 'react-router'\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\nimport ConnectHoc from 'components/signin/ConnectHoc'\nimport {\n\tCreateQuickIdentity,\n\tLoginStandardIdentity,\n\tLoginQuickIdentity,\n} from 'components/signin/identity/Identity'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport Home from 'components/signin/Home'\nimport JustDialog from 'components/common/dialog/JustDialog'\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\nimport Translate from 'components/translate/Translate'\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\n\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\nconst ConnectedLoginStandardIdentity = ConnectHoc(\n\tJustDialog(LoginStandardIdentity)\n)\nconst ConnectedRoot = ConnectHoc(Home)\n\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...other}\n\t\t\trender={props =>\n\t\t\t\tauth === true ? ( //|| true\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst handleLegacyWallet = wallet => {\n\tconst { type, email, password, authType } = wallet || {}\n\n\tif (!type && email && password && authType === 'grant') {\n\t\tmigrateLegacyWallet({ email, password })\n\t\tremoveLegacyKey({ email, password })\n\t}\n\n\tif (email && password && authType) {\n\t\texecute(ensureQuickWalletBackup())\n\t}\n}\n\nconst Root = () => {\n\tconst auth = useSelector(selectAuth)\n\tconst wallet = useSelector(selectWallet)\n\tconst location = useSelector(selectLocation)\n\n\tuseEffect(() => {\n\t\texecute(getRelayerConfig())\n\t\texecute(metamaskChecks())\n\t}, [])\n\n\tuseEffect(() => {\n\t\thandleLegacyWallet(wallet)\n\t}, [wallet])\n\n\tuseEffect(() => {\n\t\texecute(metamaskNetworkCheck())\n\t\texecute(updateRegistrationAllowed(location.search))\n\t}, [location])\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute\n\t\t\t\t\tauth={auth}\n\t\t\t\t\tpath='/dashboard/:side'\n\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t/>\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/quick'\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/login/full'\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\n\t\t\t\t<Route>\n\t\t\t\t\t<PageNotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nexport default Translate(Root)\n","import React, { Component } from 'react'\nimport 'react-image-crop/dist/ReactCrop.css'\n// import './App.css'\nimport { Provider } from 'react-redux'\nimport { persistor, store } from 'store'\nimport history from 'store/history'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Toast from 'components/toast/Toast'\nimport Confirm from 'components/confirm/Confirm'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport Root from './Root'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { themeMUI } from './themeMUi'\nimport MomentUtils from '@date-io/moment'\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport CacheBuster from './CacheBuster'\n\n// console.log('initial store', store.getState())\n\nconst onBeforeLift = () => {\n\t// take some action before the gate lifts\n}\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t\t\t\t\t\t<CacheBuster>\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\n\t\t\t\t\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</CacheBuster>\n\t\t\t\t\t\t\t\t</ConnectedRouter>\n\t\t\t\t\t\t\t</PersistGate>\n\t\t\t\t\t\t</Provider>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { unregister } from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nunregister()\n","import {\n\tgetState,\n\texecute,\n\tresetAllNewItems,\n\tresetAllItems,\n\tresetAllBids,\n\tresetIdentity,\n\tresetAccount,\n\tresetAnalytics,\n} from 'actions'\n\nimport campaignsLoop from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport analyticsLoop from 'services/store-data/analytics'\n\nimport { push } from 'connected-react-router'\n\nexport const logOut = skipRedirect => {\n\tanalyticsLoop.stop()\n\tcampaignsLoop.stop()\n\tstatsLoop.stop()\n\tif (!skipRedirect) {\n\t\texecute(push('/'))\n\t}\n\texecute(resetIdentity())\n\texecute(resetAllItems())\n\texecute(resetAllNewItems())\n\texecute(resetAllBids())\n\texecute(resetAccount())\n\texecute(resetAnalytics())\n}\n\nexport const isDemoMode = () => {\n\treturn getState().persist.account._authType === 'demo'\n}\n\nexport const getAccount = () => {\n\treturn getState().persist.account\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport ewt from './ewt'\n\nconst BEARER_PREFIX = 'Bearer '\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\n\nconst getValidatorRequester = ({ baseUrl }) => {\n\treturn new Requester({ baseUrl })\n}\n\nconst getRequesters = ({ campaign }) => {\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\n\tconst followerRequester = getValidatorRequester({\n\t\tbaseUrl: follower.url,\n\t})\n\n\treturn {\n\t\tleader: { requester: leaderRequester, validator: leader },\n\t\tfollower: { requester: followerRequester, validator: follower },\n\t}\n}\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\n\tconst { identity, wallet } = account\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\n\tif (existingAuth) {\n\t\treturn existingAuth\n\t}\n\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst payload = {\n\t\tid: validatorId,\n\t\tidentity: identity.address,\n\t\tera: Math.floor(Date.now() / 60000),\n\t}\n\n\tconst token = ewt.sign(signer, payload)\n\n\treturn token\n}\n\nconst sendMessage = async ({ campaign, options, account }) => {\n\tconst { follower, leader } = getRequesters({ campaign })\n\n\tconst followerAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: follower.validator.id,\n\t\taccount,\n\t})\n\tconst leaderAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: leader.validator.id,\n\t\taccount,\n\t})\n\tconst followerResult = await follower.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\tconst leaderResult = await leader.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn {\n\t\tresults: {\n\t\t\tfollowerResult,\n\t\t\tleaderResult,\n\t\t},\n\t\tauthTokens: {\n\t\t\t[follower.id]: followerAuthToken,\n\t\t\t[leader.id]: leaderAuthToken,\n\t\t},\n\t}\n}\n\nexport const lastApprovedState = ({ campaign }) => {\n\tconst { leader } = getRequesters({ campaign })\n\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `channel/${campaign.id}/last-approved`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaign = ({ campaign, account }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const identityAnalytics = async ({\n\tidenityAddr,\n\tcampaign,\n\tcampaignId,\n\tleaderAuth,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n\tside,\n}) => {\n\tconst baseUrl = VALIDATOR_LEADER_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/for-${side}${campaignId || ''}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n","export const ADD_ITEM = 'ADD_ITEM'\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\nexport const DELETE_ITEM = 'DELETE_ITEM'\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\nexport const UPDATE_UI = 'UPDATE_UI'\nexport const ADD_TOAST = 'ADD_TOAST'\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\nexport const UPDATE_NAV = 'UPDATE_NAV'\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\nexport const UNIT_PLACE_BID = 'PLACE_BID'\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\nexport const RESET_WALLET = 'RESET_WALLET'\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\n","const MAX_ASPECT_TOLERANCE = 5\n\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\n\nconst getVideoSize = src =>\n\tnew Promise(resolve => {\n\t\tconst video = document.createElement('video')\n\t\tvideo.src = src\n\n\t\tvideo.onloadedmetadata = ({ target }) => {\n\t\t\treturn resolve({\n\t\t\t\twidth: target.videoWidth,\n\t\t\t\theight: target.videoHeight,\n\t\t\t})\n\t\t}\n\t})\n\nconst getImageSize = src =>\n\tnew Promise(resolve => {\n\t\tconst image = new Image()\n\t\timage.src = src\n\t\timage.onload = function() {\n\t\t\treturn resolve({\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t})\n\t\t}\n\t})\n\nexport const getMediaSize = ({ mime, src }) =>\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\n\nexport const checkExactishAspect = (\n\twidthTarget,\n\twidth,\n\theightTarget,\n\theight,\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\n) => {\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\n\t\treturn false\n\t}\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\n\tconst aspect = parseFloat(width / height)\n\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\n\n\tconst isValid =\n\t\twidthTarget <= width &&\n\t\theightTarget <= height &&\n\t\taspectDiff <= maxPercentTolerance\n\n\treturn isValid\n}\n","import crypto from 'crypto'\nimport {\n\tChannel,\n\t// MerkleTree,\n\tsplitSig,\n\tChannelState,\n\tRoutineOps,\n} from 'adex-protocol-eth/js'\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetIdentityTxnsWithNoncesAndFees,\n\tgetIdentityTxnsTotalFees,\n\tprocessExecuteByFeeTokens,\n\tgetApproveTxns,\n} from 'services/smart-contracts/actions/identity'\nimport { getWithdrawTokensBalances } from 'services/smart-contracts/actions/stats'\nimport { contracts } from '../contractsCfg'\nimport { closeCampaign } from 'services/adex-validator/actions'\nimport { Campaign, AdUnit } from 'adex-models'\nimport { getAllCampaigns } from 'services/adex-market/actions'\nimport {\n\tbigNumberify,\n\trandomBytes,\n\tparseUnits,\n\tInterface,\n\t// formatUnits,\n\tgetAddress,\n} from 'ethers/utils'\nimport {\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectMainFeeToken,\n} from 'selectors'\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\n\nconst { AdExCore } = contracts\nconst Core = new Interface(AdExCore.abi)\nconst Identity = new Interface(IdentityABI)\n\nconst timeframe = 15 * 1000 // 1 event per 15 seconds\nconst VALID_UNTIL_COEFFICIENT = 0.5\nconst VALID_UNTIL_MIN_PERIOD = 7 * 24 * 60 * 60 * 1000 // 7 days in ms\n\nfunction toEthereumChannel(channel) {\n\tconst specHash = crypto\n\t\t.createHash('sha256')\n\t\t.update(JSON.stringify(channel.spec))\n\t\t.digest()\n\n\treturn new Channel({\n\t\ttitle: channel.title,\n\t\tcreator: channel.creator,\n\t\ttokenAddr: channel.depositAsset,\n\t\ttokenAmount: channel.depositAmount,\n\t\tvalidUntil: channel.validUntil,\n\t\tvalidators: channel.spec.validators.map(v => v.id),\n\t\tspec: specHash,\n\t})\n}\n\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\n\tconst period = withdrawPeriodStart - activeFrom\n\tconst validUntil =\n\t\twithdrawPeriodStart +\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\n\n\treturn Math.floor(validUntil / 1000)\n}\n\nfunction getReadyCampaign(campaign, identity, mainToken) {\n\tconst newCampaign = new Campaign(campaign)\n\tnewCampaign.creator = identity.address\n\tnewCampaign.created = Date.now()\n\tnewCampaign.validUntil = getValidUntil(\n\t\tnewCampaign.activeFrom,\n\t\tnewCampaign.withdrawPeriodStart\n\t)\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\n\tnewCampaign.depositAmount = parseUnits(\n\t\tnewCampaign.depositAmount || '0',\n\t\tmainToken.decimals\n\t).toString()\n\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\n\tnewCampaign.minPerImpression = parseUnits(\n\t\tnewCampaign.minPerImpression || '0',\n\t\tmainToken.decimals\n\t)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\n\n\tnewCampaign.depositAsset = mainToken.address\n\tnewCampaign.eventSubmission = {\n\t\tallow: [\n\t\t\t{\n\t\t\t\tuids: [\n\t\t\t\t\tnewCampaign.creator,\n\t\t\t\t\tnewCampaign.validators[0].id,\n\t\t\t\t\tnewCampaign.validators[1].id,\n\t\t\t\t],\n\t\t\t},\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\n\t\t],\n\t}\n\n\tnewCampaign.status = {\n\t\tname: 'Pending',\n\t\thumanFriendlyName: 'Active',\n\t\tlastChecked: Date.now(),\n\t}\n\n\treturn newCampaign\n}\n\nconst getExpiredWithdrawnOutstanding = async ({ channel, AdExCore }) => {\n\tconst [withdrawn, state] = await Promise.all([\n\t\tAdExCore.functions.withdrawn(channel.id),\n\t\tAdExCore.functions.states(channel.id),\n\t])\n\n\tif (state === ChannelState.Active) {\n\t\treturn bigNumberify(channel.depositAmount).sub(withdrawn)\n\t} else {\n\t\treturn bigNumberify('0')\n\t}\n}\n\nconst getWithdrawnPerUserOutstanding = async ({\n\tAdExCore,\n\tchannel,\n\tbalance,\n\tidentityAddr,\n}) => {\n\treturn bigNumberify(balance).sub(\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\n\t)\n}\n\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\n\tconst { authType } = wallet\n\tconst channels = await getAllCampaigns(true)\n\tconst { AdExCore } = await getEthers(authType)\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\n\n\tconst all = await Promise.all(\n\t\tchannels\n\t\t\t.filter(\n\t\t\t\tchannel =>\n\t\t\t\t\tchannel &&\n\t\t\t\t\tchannel.status &&\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\n\t\t\t)\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedBalances } = channel.status\n\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\n\t\t\t\t\t(balances, e) => {\n\t\t\t\t\t\tconst [address, balance] = e\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (getAddress(address)) {\n\t\t\t\t\t\t\t\tbalances[address] = balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\treturn balances\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\n\n\t\t\t\treturn channel\n\t\t\t})\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\n\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\n\t\t\t\treturn {\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\t// mTree,\n\t\t\t\t\tbTree,\n\t\t\t\t\tchannel,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(({ channel, bTree }) => {\n\t\t\t\tif (!!channel.status && channel.status.name === 'Expired') {\n\t\t\t\t\treturn channel.creator === identityAddr\n\t\t\t\t}\n\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\n\t\t\t})\n\t\t\t.map(async ({ channel, lastApprovedSigs, bTree }) => {\n\t\t\t\t//  mTree,\n\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\n\n\t\t\t\tconst outstanding =\n\t\t\t\t\tchannel.status.name === 'Expired'\n\t\t\t\t\t\t? await getExpiredWithdrawnOutstanding({ channel, AdExCore })\n\t\t\t\t\t\t: await getWithdrawnPerUserOutstanding({\n\t\t\t\t\t\t\t\tAdExCore,\n\t\t\t\t\t\t\t\tchannel,\n\t\t\t\t\t\t\t\tbalance,\n\t\t\t\t\t\t\t\tidentityAddr,\n\t\t\t\t\t\t  })\n\n\t\t\t\tconst outstandingAvailable = outstanding.sub(\n\t\t\t\t\tfeeTokenWhitelist[channel.depositAsset].min\n\t\t\t\t)\n\n\t\t\t\treturn {\n\t\t\t\t\tchannel,\n\t\t\t\t\tbalance,\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\toutstanding,\n\t\t\t\t\toutstandingAvailable,\n\t\t\t\t\t// mTree,\n\t\t\t\t\tbTree,\n\t\t\t\t}\n\t\t\t})\n\t)\n\n\tconst eligible = all.filter(x => {\n\t\treturn (\n\t\t\tx.outstanding.gt(\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minWeekly)\n\t\t\t) && x.outstandingAvailable.gt(bigNumberify('0'))\n\t\t)\n\t})\n\n\treturn eligible\n}\n\nasync function getChannelsToSweepFrom({ amountToSweep, identityAddr, wallet }) {\n\tconst allChannels = await getChannelsWithOutstanding({\n\t\tidentityAddr,\n\t\twallet,\n\t})\n\n\tconst { eligible } = allChannels\n\t\t.sort((c1, c2) => {\n\t\t\treturn c2.outstandingAvailable.gt(c1.outstandingAvailable)\n\t\t})\n\t\t.reduce(\n\t\t\t(data, c) => {\n\t\t\t\tconst current = { ...data }\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\n\t\t\t\t\tcurrent.eligible.push(c)\n\t\t\t\t}\n\n\t\t\t\tcurrent.sum = current.sum.add(c.outstandingAvailable)\n\n\t\t\t\treturn current\n\t\t\t},\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\n\t\t)\n\n\treturn eligible\n}\n\nconst getChannelWithdrawData = ({\n\tidentityAddr,\n\tbalance,\n\t// mTree,\n\tbTree,\n\tlastApprovedSigs,\n\tethChannelTuple,\n}) => {\n\tconst proof = bTree.getProof(identityAddr)\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\n\tconst root = bTree.mTree.getRoot()\n\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\n}\n\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\n\t\t(data, tx) => {\n\t\t\tconst updated = { ...data }\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\n\n\t\t\treturn updated\n\t\t},\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\n\t)\n\n\tconst data = Identity.functions.executeRoutines.encode([\n\t\troutineAuthTuple,\n\t\troutineOpts,\n\t])\n\n\tconst routinesTx = {\n\t\tidentityContract: identityAddr,\n\t\tto: identityAddr,\n\t\tdata,\n\t\twithdrawAmountByToken,\n\t\troutinesTxCount: routineOpts.length,\n\t\troutinesSweepTxCount: routineOpts.length,\n\t}\n\n\treturn routinesTx\n}\n\nfunction getIdentityRoutineAuthTuple(identity) {\n\treturn identity &&\n\t\tidentity.relayerData &&\n\t\tidentity.relayerData.deployData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t: null\n}\n\nfunction hasValidExecuteRoutines(routineAuthTuple) {\n\tconst hasValidRoutines =\n\t\troutineAuthTuple &&\n\t\troutineAuthTuple.length === 5 &&\n\t\t// TODO: get relayer config for giveUpResubmitAfter\n\t\tparseInt(routineAuthTuple[2], 16) * 1000 > Date.now() + 12 * 60 * 60 * 1000\n\n\treturn hasValidRoutines\n}\n\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\n\tconst { wallet, identity } = account\n\tconst { AdExCore } = await getEthers(wallet.authType)\n\tconst identityAddr = identity.address\n\tconst channelsToSweep = await getChannelsToSweepFrom({\n\t\tamountToSweep,\n\t\tidentityAddr,\n\t\twallet,\n\t})\n\n\tconst txns = channelsToSweep.map((c, i) => {\n\t\tconst {\n\t\t\tbTree,\n\t\t\t//  mTree,\n\t\t\tchannel,\n\t\t\tlastApprovedSigs,\n\t\t\toutstanding,\n\t\t\t// outstandingAvailable,\n\t\t\tbalance,\n\t\t} = c\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\n\n\t\tconst data = getChannelWithdrawData({\n\t\t\tidentityAddr,\n\t\t\tbalance,\n\t\t\t// mTree,\n\t\t\tbTree,\n\t\t\tlastApprovedSigs,\n\t\t\tethChannelTuple,\n\t\t})\n\n\t\treturn {\n\t\t\tidentityContract: identityAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tfeeTokenAddr: channel.depositAsset,\n\t\t\tdata,\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\n\t\t}\n\t})\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\n\tlet encodedTxns = null\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\n\t\tencodedTxns = [\n\t\t\tgetSweepExecuteRoutineTx({\n\t\t\t\ttxns,\n\t\t\t\tidentityAddr,\n\t\t\t\troutineAuthTuple,\n\t\t\t}),\n\t\t]\n\t} else {\n\t\tencodedTxns = txns.map(tx => {\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\n\t\t\ttx.isSweepTx = true\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\treturn encodedTxns\n}\n\nfunction getSwapAmountsByToken({ balances }) {\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\n\t\t(swaps, balance) => {\n\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\n\t\t\t\tbalance.balanceMainToken\n\t\t\t)\n\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\n\t\t\treturn swaps\n\t\t},\n\t\t{\n\t\t\tswapsSumInMainToken: bigNumberify(0),\n\t\t\tswapsByToken: {},\n\t\t}\n\t)\n\n\treturn { swapsByToken, swapsSumInMainToken }\n}\n\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\n// amountNeeded must be in MainToken\nexport async function getSweepingTxnsIfNeeded({\n\tamountInMainTokenNeeded,\n\taccount,\n}) {\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\n\tconst { identity, wallet } = account\n\tconst { address } = identity\n\tconst { authType } = wallet\n\n\tconst { balances, mainTokenBalance } = await getWithdrawTokensBalances({\n\t\tauthType,\n\t\taddress,\n\t})\n\n\tlet currentBalanceInUse = mainTokenBalance\n\n\tconst sweepData = {\n\t\tsweepTxns: [],\n\t\tswapAmountsByToken: {},\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\t// Swaps all balances\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\n\t\t\tbalances,\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\n\t\t})\n\n\t\tsweepData.swapAmountsByToken = swapsByToken\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\n\t\t\taccount,\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\n\t\t})\n\t}\n\n\treturn sweepData\n}\n\nexport async function openChannel({\n\tcampaign,\n\taccount,\n\tgetFeesOnly,\n\tgetMaxFees,\n}) {\n\tconst { wallet, identity, stats } = account\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\n\tconst mainToken = selectMainFeeToken()\n\tconst depositAmount = getMaxFees\n\t\t? availableIdentityBalanceMainToken\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst channel = {\n\t\t...openReady,\n\t\tid: ethChannel.hashHex(AdExCore.address),\n\t}\n\tconst identityAddr = openReady.creator\n\n\tconst feeTokenAddr = mainToken.address\n\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: mainToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: mainToken.address,\n\t\tapproveForAddress: AdExCore.address,\n\t\tapproveAmount: depositAmount,\n\t})\n\n\tconst channelOpenTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: AdExCore.address,\n\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\n\t}\n\tconst txns = [...approveTxns, channelOpenTx]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: depositAmount,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\tconst maxAvailable = mtBalance.sub(fees.totalBN)\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\tmaxAvailable,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t\textraData: { channel },\n\t})\n\n\treadyCampaign.id = channel.id\n\treturn {\n\t\tresult,\n\t\treadyCampaign,\n\t}\n}\n\nexport async function closeChannel({ account, campaign }) {\n\tconst result = await closeCampaign({ account, campaign })\n\treturn result\n}\n","import Helper from 'helpers/miscHelpers'\nimport { getState } from 'actions'\nimport { selectAuthSig } from 'selectors'\nimport { isDemoMode } from 'services/store-data/auth'\nimport { t } from 'selectors'\n\nexport const handleRequesterErrorRes = ({ res, text }) => {\n\tlet message = text\n\ttry {\n\t\tconst textObj = JSON.parse(text)\n\t\tmessage =\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\n\t} catch {}\n\n\tthrow new Error(\n\t\tt('SERVICE_ERROR_MSG', {\n\t\t\targs: [res.url, res.status, res.statusText, message],\n\t\t})\n\t)\n}\n\nclass AdexNodeRequester {\n\tconstructor({ baseUrl }) {\n\t\tthis.baseUrl = baseUrl\n\t}\n\n\tgetAuthHeaders = ({ authSig } = {}) => {\n\t\tconst authSignature = selectAuthSig(getState())\n\t\treturn {\n\t\t\t'X-User-Signature': authSig || authSignature,\n\t\t}\n\t}\n\n\tnoCacheHeaders = {\n\t\t'Cache-Control': 'no-cache',\n\t\tExpires: '0',\n\t\tPragma: 'no-cache',\n\t}\n\n\tgetUrl = (base, route, query) => {\n\t\tlet url = base + '/'\n\t\tif (route) {\n\t\t\troute = route.replace(/^\\//, '')\n\t\t\turl += route\n\t\t}\n\n\t\turl += query\n\n\t\treturn url\n\t}\n\n\tfetch = ({\n\t\troute = '',\n\t\tqueryParams = {},\n\t\tmethod = 'GET',\n\t\tbody,\n\t\theaders = {},\n\t\tuserAddr,\n\t\tauthSig = '',\n\t\tauthToken,\n\t\tnoCache = false,\n\t}) => {\n\t\tconst qp = { ...queryParams }\n\t\tif (isDemoMode()) {\n\t\t\tqp.demo = true\n\t\t}\n\n\t\tconst query = Helper.getQuery(qp)\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\n\n\t\tconst hdrs = {\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\n\t\t\t...this.getAuthHeaders({ authSig }),\n\t\t\t...headers,\n\t\t}\n\t\treturn fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: hdrs,\n\t\t\tbody: body,\n\t\t})\n\t}\n}\n\nexport default AdexNodeRequester\n","import requester from './requester'\n\nexport default requester\nexport * from './requester'\n","import Identity from './build/Identity.json'\nimport AdExCore from './build/AdExCore.json'\nimport Dai from './build/Dai.json'\nimport IdentityFactory from './build/IdentityFactory.json'\nimport ERC20 from './abi/ERC20Token.json'\n\nexport const contracts = {\n\tIdentity: {\n\t\tabi: Identity.abi,\n\t},\n\tAdExCore: {\n\t\taddress: process.env.ADEX_CORE_ADDR,\n\t\tabi: AdExCore.abi,\n\t},\n\tDAI: {\n\t\taddress: process.env.DAI_TOKEN_ADDR,\n\t\tabi: Dai.abi,\n\t\tdecimals: 18,\n\t},\n\tIdentityFactory: {\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\n\t\tabi: IdentityFactory.abi,\n\t},\n\tERC20: {\n\t\tabi: ERC20,\n\t},\n}\n","import { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\n\nconst autocompleteLocationsSingleSelect = () => {\n\treturn constants.AllCountries.map(country => {\n\t\treturn {\n\t\t\tlabel: country.name,\n\t\t\tvalue: country.value,\n\t\t}\n\t})\n}\n\nconst autocompleteGendersSingleSelect = () => {\n\treturn constants.Genders.map(gender => {\n\t\treturn {\n\t\t\tlabel: translate(gender.split('_')[1]),\n\t\t\tvalue: gender,\n\t\t}\n\t})\n}\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nexport const AcLocations = autocompleteLocationsSingleSelect()\nexport const AcGenders = autocompleteGendersSingleSelect()\nexport const AcTags = autocompleteTagsSingleSelect()\n\nexport const SOURCES = {\n\tlocations: { src: AcLocations, collection: 'targeting' },\n\tgenders: { src: AcGenders, collection: 'targeting' },\n\ttags: { src: AcTags, collection: 'targeting' },\n\tcustom: { src: [], collection: 'targeting' },\n}\n","export default class Looper {\n\tconstructor({ timeout, syncAction, loopName = '' }) {\n\t\tif (!timeout) {\n\t\t\tthrow new Error('LOOPER timeout prop is required')\n\t\t}\n\n\t\tif (typeof syncAction !== 'function') {\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\n\t\t}\n\n\t\tthis.loopTimeout = null\n\t\tthis.timeout = timeout\n\t\tthis.syncAction = syncAction\n\t}\n\n\tclearLoopTimeout = () => {\n\t\tif (this.loopTimeout) {\n\t\t\tclearTimeout(this.loopTimeout)\n\t\t\tthis.loopTimeout = null\n\t\t}\n\t}\n\n\tsyncData = async opts => {\n\t\tawait this.syncAction()\n\t}\n\n\tstartLoop = async opts => {\n\t\ttry {\n\t\t\tawait this.syncData(opts)\n\t\t\tthis.checkLoop()\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\n\t\t\tthis.checkLoop()\n\t\t}\n\t}\n\n\tcheckLoop = () => {\n\t\tthis.clearLoopTimeout()\n\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\n\t}\n\n\tstart = () => {\n\t\tthis.clearLoopTimeout()\n\t\tthis.startLoop()\n\t}\n\n\tstop = () => {\n\t\tthis.clearLoopTimeout()\n\t}\n}\n","// Nodejs encryption with CTR\nconst crypto = require('crypto')\n\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\nconst CIPHER_ALG = 'aes-256-cbc'\nconst IV_LENGTH = 16\nconst HASH_ALG = 'sha256'\n\nconst getKeyHash = key => {\n\tconst hash = crypto.createHash(HASH_ALG)\n\thash.update(key)\n\tconst hashed = hash.digest()\n\treturn hashed\n}\n\nexport const encrypt = (text, key) => {\n\tif (!text) return ''\n\tif (!key) {\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\n\t}\n\tconst iv = crypto.randomBytes(IV_LENGTH)\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst encr = cipher.update(text)\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\n\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\n}\n\nexport const decrypt = (text, key) => {\n\tconst textParts = text.split(':')\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst decr = decipher.update(encryptedText)\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\n\n\treturn decrypted.toString()\n}\n\nexport const encryptLegacy = (text, password) => {\n\tif (!text) return ''\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\n\tcrypted += cipher.final('hex')\n\treturn crypted\n}\n\nexport const decryptLegacy = (text, password) => {\n\tif (!text) return ''\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\n\tlet dec = decipher.update(text, 'hex', 'utf8')\n\tdec += decipher.final('utf8')\n\treturn dec\n}\n","import { createHashHistory } from 'history'\n\nconst history = createHashHistory()\n\nexport default history\n","import Loop from './loop'\nimport { updateUserCampaigns, execute } from 'actions'\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\n\nconst LOOP_TIMEOUT =\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\n\nconst syncCampaigns = async () => {\n\texecute(updateUserCampaigns())\n}\n\nconst campaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: syncCampaigns,\n\tloopName: '_CAMPAIGNS',\n})\n\nexport default campaignsLoop\n","import Loop from './loop'\nimport { execute, updateAccountStats } from 'actions'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst accountStatsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountStats()),\n\tloopName: '_ACCOUNTS_STATS',\n})\n\nexport default accountStatsLoop\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","import { exchange as ExchangeConstants } from 'adex-constants'\nimport { constants } from 'adex-models'\n\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\nconst { SignatureModes } = constants\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nexport const AVATAR_MAX_WIDTH = 600\nexport const AVATAR_MAX_HEIGHT = 400\n\nexport const SORT_PROPERTIES_BIDS = [\n\t{ value: '_state', label: '' },\n\t{ value: '_target', label: '' },\n\t{ value: '_amount', label: '' },\n\t{ value: '_timeout', label: '' },\n]\n\nexport const FILTER_PROPERTIES_BIDS = {\n\t_state: {\n\t\tlabel: '_state',\n\t\tlabelIsProp: true,\n\t\tvalues: Object.keys(BID_STATES).map(key => {\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\n\t\t}),\n\t},\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\n}\n\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\n}\n\nexport const SORT_PROPERTIES_ITEMS = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n\t{ value: 'type' },\n]\n\nexport const SORT_PROPERTIES_COLLECTION = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n]\n\nexport const FILTER_PROPERTIES_ITEMS = {\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\n}\n\nexport const AUTH_TYPES = {\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\n}\n\nexport const NETWORK_STATUS = {\n\t0: 'pending',\n\t1: 'success',\n\t2: 'failed',\n}\n\nexport const ETHEREUM_NETWORKS = {\n\t1: { name: 'Mainnet', for: 'production' },\n\t5: { name: 'Goerli', for: 'development' },\n\tproduction: { name: 'Mainnet', for: 'production' },\n\tdevelopment: { name: 'Goerli', for: 'development' },\n}\n\nexport const SORT_PROPERTIES_CAMPAIGN = [\n\t{ value: 'created', label: 'Created' },\n\t{ value: 'status.name', label: 'Status' },\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\n\t{ value: 'activeFrom', label: 'Starts' },\n\t{ value: 'depositAmount', label: 'depositAmount' },\n\t{ value: 'maxPerImpression', label: 'cpm' },\n]\n\nexport const FILTER_PROPERTIES_CAMPAIGN = {\n\t'status.name': {\n\t\tlabel: 'ststus',\n\t\tlabelIsProp: true,\n\t\tvalues: [\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\n\t\t\t{ value: 'Offline', label: 'Offline' },\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\n\t\t\t{ value: 'Ready', label: 'Ready' },\n\t\t\t{ value: 'Active', label: 'Active' },\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\n\t\t\t{ value: 'Expired', label: 'Expired' },\n\t\t],\n\t},\n}\n\nexport const UTM_PARAMS = {\n\tutm_source: 'ADEX',\n\tutm_medium: 'CPM',\n\tutm_campaign: 'none',\n\tutm_content: 'none',\n}\n\nexport const VALIDATOR_ANALYTICS_METRICS = [\n\t'eventPayouts', //\n\t'eventCounts',\n]\nexport const VALIDATOR_ANALYTICS_SIDES = [\n\t'advertiser',\n\t'publisher', //\n]\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = ['IMPRESSION']\n\n// TEMP: disable long periods\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\n\t{ label: 'LABEL_HOUR', value: 'hour' },\n\t{ label: 'LABEL_DAY', value: 'day' },\n\t{ label: 'LABEL_WEEK', value: 'week' },\n\t// { label: 'LABEL_MONTH', value: 'month' },\n\t// { label: 'LABEL_YEAR', value: 'year' },\n]\n\nexport const MOON_GRAVITY_ACCELERATION = 1.625\nexport const MOON_TO_EARTH_WEIGHT = 0.166\n","import adexTranslations from 'adex-translations'\nimport { renderToString } from 'react-dom/server'\n\nconst translations = adexTranslations()\n\nlet lang = 'en-US'\n\n// TODO: sanitization\nconst interpolate = (tpl, args) => {\n\tif (typeof tpl !== 'string') {\n\t\treturn ''\n\t}\n\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\n\t\tlet arg = args[v]\n\t\tif (typeof arg === 'object' && !!arg && arg.component) {\n\t\t\treturn renderToString(arg.component)\n\t\t} else {\n\t\t\treturn arg || ''\n\t\t}\n\t})\n}\n\nexport const translate = (\n\tval = '',\n\t{ isProp = false, args = [''] } = {},\n\tlanguage = lang\n) => {\n\tlet key = val + ''\n\tif (isProp) {\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\n\t}\n\n\tkey = key.toUpperCase()\n\n\tlet translation = translations[language][key] || val\n\n\tif (args.length && Array.isArray(args)) {\n\t\tconst translatedArgs = args.map(a => {\n\t\t\tif (typeof a === 'string') {\n\t\t\t\treturn translations[language][a] || a\n\t\t\t} else {\n\t\t\t\treturn a\n\t\t\t}\n\t\t})\n\n\t\ttranslation = interpolate(translation, translatedArgs)\n\t}\n\n\treturn translation\n}\n\n// TODO: fix that\nexport const setLang = lng => {\n\tlang = lng\n}\n","import Loop from './loop'\nimport { execute, updateAccountAnalytics } from 'actions'\n\nconst LOOP_TIMEOUT = 120 * 1000\n\nconst analyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountAnalytics()),\n\tloopName: '_ANALYTICS',\n})\n\nexport default analyticsLoop\n","import { ethers, constants } from 'ethers'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { isEthAddress } from 'helpers/validators'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\n\nexport const isEthAddressERC20 = async (addr = '', authType) => {\n\ttry {\n\t\tif (isEthAddress(addr)) {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\t\tawait Promise.all([\n\t\t\t\tcontract.totalSupply(),\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\n\t\t\t])\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getERC20Balance = async ({\n\taddr = '',\n\tbalanceFor = '',\n\tauthType,\n}) => {\n\ttry {\n\t\tconst { provider } = await getEthers(authType)\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\tconst balance = await contract.balanceOf(balanceFor)\n\n\t\treturn balance\n\t} catch (error) {\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\n\t\treturn null\n\t}\n}\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","import { createSelectorCreator, defaultMemoize } from 'reselect'\nimport isEqual from 'lodash.isequal'\n\n// deep equal memoization instad reference check\nexport const createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\tisEqual\n)\n","import { createSelector } from 'reselect'\nimport { createDeepEqualSelector } from './selectors'\n\nexport const selectAccount = state => state.persist.account\n\nexport const selectAuth = createSelector(\n\tselectAccount,\n\t({ wallet, identity }) =>\n\t\t!!wallet &&\n\t\t!!wallet.address &&\n\t\t!!wallet.authSig &&\n\t\t!!wallet.authType &&\n\t\t!!identity.address\n)\n\nexport const selectWallet = createDeepEqualSelector(\n\tselectAccount,\n\t({ wallet }) => wallet\n)\n\nexport const selectAuthSig = createSelector(\n\tselectWallet,\n\t({ authSig }) => authSig\n)\n\nexport const selectAuthType = createSelector(\n\tselectWallet,\n\t({ authType }) => authType\n)\n\nexport const selectAccountIdentity = createSelector(\n\tselectAccount,\n\t({ identity }) => identity\n)\n\nexport const selectAccountIdentityAddr = createSelector(\n\tselectAccountIdentity,\n\t({ address }) => address\n)\n\nexport const selectAccountStats = createSelector(\n\tselectAccount,\n\t({ stats }) => stats || {}\n)\n\nexport const selectAccountSettings = createSelector(\n\tselectAccount,\n\t({ settings }) => settings || {}\n)\n\nexport const selectAccountStatsRaw = createSelector(\n\tselectAccountStats,\n\t({ raw }) => raw || {}\n)\n\nexport const selectAccountStatsFormatted = createSelector(\n\tselectAccountStats,\n\t({ formatted }) => formatted || {}\n)\n\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) =>\n\t\trelayerData &&\n\t\trelayerData.routineAuthorizationsData &&\n\t\trelayerData.routineAuthorizationsData[0]\n\t\t\t? relayerData.routineAuthorizationsData[0]\n\t\t\t: null\n)\n","export const selectIdentity = state => state.memory.identity\n","export const selectLocation = state => state.router.location\n","import { createSelector } from 'reselect'\n\nexport const selectNavTitle = state => state.memory.nav.navTitle\nexport const selectSide = state => state.memory.nav.side\nexport const selectUi = state => state.persist.ui\n\nexport const selectSpinners = state => state.memory.spinners\n\nexport const selectSpinnerById = createSelector(\n\t[selectSpinners, (_, id) => id],\n\t(spinners, id) => spinners[id]\n)\n\nexport const selectMultipleSpinnersByIds = createSelector(\n\t[selectSpinners, (_, ids) => ids],\n\t(spinners, ids) => ids.map(id => spinners[id])\n)\n\nexport const selectRegistrationAllowed = createSelector(\n\tselectUi,\n\t({ allowRegistration }) => !!allowRegistration\n)\n","import { createSelector } from 'reselect'\nimport { translate } from 'services/translations/translations'\nimport { getState } from 'store'\n\nexport const selectLang = state => state.persist.language\n\nexport const selectTranslations = createSelector(\n\t[\n\t\tselectLang,\n\t\t(_, val, opts = {}) => {\n\t\t\treturn { val, opts }\n\t\t},\n\t],\n\t(lang, { val, opts }) => {\n\t\tconst { isProp = false, args = [''] } = opts\n\t\treturn translate(val, { isProp, args }, lang)\n\t}\n)\n\n// Need to useSelector for language in top component where this will be used\n// Now this is don by using Translate Hoc on Root\n// It will work in actions too as the state isg get when they are called and don't need update\nexport const t = (val, opts) => {\n\treturn selectTranslations(getState(), val, opts)\n}\n","import { createSelector } from 'reselect'\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\n\nexport const selectAnalytics = state => state.persist.analytics\n\nexport const selectAnalyticsData = createSelector(\n\t[selectAnalytics, (_, side) => side],\n\t(analytics, side) => {\n\t\treturn analytics[side] || {}\n\t}\n)\n\nexport const selectAnalyticsDataAggr = createSelector(\n\t[selectAnalytics, (_, opts = {}) => opts],\n\t(analytics, { side, eventType, metric, timeframe }) => {\n\t\treturn analytics[side][eventType][metric][timeframe].aggr\n\t}\n)\n\nexport const selectTotalImpressions = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalMoney = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\teventPayouts =>\n\t\teventPayouts\n\t\t\t? eventPayouts.reduce(\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value, 18)) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: null\n)\n\nexport const selectAverageCPM = createSelector(\n\t[\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalMoney(state, { side, timeframe }),\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalImpressions(state, { side, timeframe }),\n\t],\n\t(totalMoney, totalImpressions) =>\n\t\ttotalMoney !== null && totalImpressions !== null\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\n\t\t\t: null\n)\n\nconst parseValueByMetric = ({ value, metric }) => {\n\tswitch (metric) {\n\t\tcase 'eventPayouts':\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\n\t\tcase 'eventCounts':\n\t\t\treturn parseInt(value, 10)\n\t\tdefault:\n\t\t\treturn value\n\t}\n}\n\nexport const selectStatsChartData = createSelector(\n\t[\n\t\t(state, { noLastOne, ...rest } = {}) => {\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\n\t\t},\n\t],\n\t({ data = [], noLastOne, metric, ...rest }) => {\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\n\t\treturn aggr.reduce(\n\t\t\t(memo, item) => {\n\t\t\t\tconst { time, value } = item\n\t\t\t\tmemo.labels.push(formatDateTime(time))\n\t\t\t\tmemo.datasets.push(parseValueByMetric({ value, metric }))\n\t\t\t\treturn memo\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [],\n\t\t\t}\n\t\t)\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectValidations = state => state.memory.validations\n\nexport const selectValidationsById = createSelector(\n\t[selectValidations, (_, id) => id],\n\t(validations, id) => validations[id]\n)\n\nexport const selectMultipleValidationsByIds = createSelector(\n\t[selectValidations, (_, ids) => ids],\n\t(validations, ids) => ids.map(id => validations[id])\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\n\n// can be used outside  components\nexport const selectRelayerConfig = state => {\n\treturn (state || getState()).persist.config.relayer\n}\n\n// - relayer cfg\n// network,\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy }],\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal }],\n// coreAddr,\n// baseIdentityAddr,\n// identityFactoryAddr,\n// registryAddr,\n// daiAddr,\n// marketUrl,\n// identityRecoveryAddr,\n// weeklyFeeAmount,\n// mainToken, // { address, symbol, decimals, standard },\n// advertiserMinGrantAmount\n// relayerAddr\n\nexport const selectFeeTokenWhitelist = createSelector(\n\t[selectRelayerConfig],\n\t({ feeTokenWhitelist }) => {\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokens = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.map(t => t.address)\n\t}\n)\n\nexport const selectConfig = createSelector(\n\t[selectRelayerConfig],\n\trelayerConfig => {\n\t\tconst cfg = { ...relayerConfig }\n\t\treturn cfg\n\t}\n)\n\nexport const selectMainToken = createSelector(\n\t[selectRelayerConfig],\n\t({ mainToken }) => mainToken\n)\n\nexport const selectSaiToken = createSelector(\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\n)\n\nexport const selectMainFeeToken = createSelector(\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\n\t({ mainToken }, feeTokenWhitelist) => {\n\t\treturn feeTokenWhitelist[mainToken.address]\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectNewTransactions = state => state.memory.newTransactions\n\nexport const selectNewTransactionById = createSelector(\n\t[selectNewTransactions, (_, id) => id],\n\t(txns, id) => txns[id] || {}\n)\n","export * from './accountSelectors'\nexport * from './identitySelectors'\nexport * from './locationSelectors'\nexport * from './uiSelectors'\nexport * from './translationsSelectors'\nexport * from './analyticsSelectors'\nexport * from './validationsSelectors'\nexport * from './configSelectors'\nexport * from './newTransactionSelectors'\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\nimport {\n\tVALIDATOR_ANALYTICS_SIDES,\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n\tVALIDATOR_ANALYTICS_TIMEFRAMES,\n} from 'constants/misc'\n\nexport const getValidatorAnalyticsInitialState = () => {\n\tconst initialState = { timeframe: 'day' }\n\tVALIDATOR_ANALYTICS_SIDES.forEach(side =>\n\t\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\n\t\t\t\tVALIDATOR_ANALYTICS_TIMEFRAMES.forEach(timeframe => {\n\t\t\t\t\tinitialState[side] = initialState[side] || {}\n\t\t\t\t\tinitialState[side][eventType] = initialState[side][eventType] || {}\n\t\t\t\t\tinitialState[side][eventType][metric] =\n\t\t\t\t\t\tinitialState[side][eventType][metric] || {}\n\t\t\t\t\tinitialState[side][eventType][metric][timeframe.value] =\n\t\t\t\t\t\tinitialState[side][eventType][metric][timeframe.value] || {}\n\t\t\t\t})\n\t\t\t)\n\t\t)\n\t)\n\n\treturn initialState\n}\n\nlet initialState = {\n\taccount: new Account(),\n\tsignin: {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassConfirm: '',\n\t\tseed: '',\n\t\tpublicKey: '',\n\t\tseedCheck: [],\n\t\tauthenticated: false,\n\t},\n\tnewItem: {\n\t\tCampaign: new Campaign().plainObj(),\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\n\t\tAdSlot: new AdSlot().plainObj(),\n\t},\n\tcurrentItem: {},\n\titems: {\n\t\tCampaign: {},\n\t\tAdUnit: {},\n\t\tAdSlot: {},\n\t},\n\tspinners: {},\n\tui: {},\n\ttoasts: [],\n\tconfirm: {\n\t\tdata: {},\n\t},\n\tnav: {\n\t\tside: '',\n\t},\n\tlanguage: 'en-US',\n\tvalidations: {},\n\tnewTransactions: {\n\t\tdefault: {},\n\t},\n\tweb3Transactions: {},\n\ttags: {},\n\tidentity: {},\n\tethNetwork: {\n\t\tnetworkId: null,\n\t\tgasData: {},\n\t},\n\twallet: {},\n\tconfig: {\n\t\trelayer: {},\n\t\tmarket: {},\n\t\tvalidators: {},\n\t},\n\tanalytics: getValidatorAnalyticsInitialState(),\n}\n\nexport default initialState\n","import { formatUnits, commify } from 'ethers/utils'\nimport MomentUtils from '@date-io/moment'\nconst moment = new MomentUtils()\n\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\n\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\n\tif (!timestamp) {\n\t\treturn 'no date'\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatTokenAmount = (\n\tamountString,\n\tdecimals = 18,\n\tpretty,\n\ttoFixed\n) => {\n\tconst formatted = formatUnits(amountString, decimals)\n\tif (pretty) {\n\t\treturn commify(formatted)\n\t} else if (typeof toFixed === 'number') {\n\t\treturn parseFloat(formatted).toFixed(toFixed)\n\t} else {\n\t\treturn formatted\n\t}\n}\n\nexport const formatAddress = (address = '') => {\n\treturn `${address.substring(0, 8)}...${address.substring(36, 42)}`\n}\n\nexport const formatNumberWithCommas = x => {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n","import { Signer } from 'ethers'\nimport { ethers, utils } from 'ethers'\nimport LedgerEth from '@ledgerhq/hw-app-eth'\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\nimport HDKey from 'hdkey'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\n\nexport default class LedgerSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t\tthis._transport = TransportU2F\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\taddrsFromPubKey = async (\n\t\tpublicKey = '',\n\t\tchainCode = '',\n\t\t{ from = 0, to = 19 } = {}\n\t) => {\n\t\tconst hdKey = new HDKey()\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\n\n\t\tconst addrs = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\n\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\n\n\t\t\taddrs.push({\n\t\t\t\taddress: addr,\n\t\t\t\tpath: `${this.path}/${index}`,\n\t\t\t})\n\t\t}\n\n\t\treturn addrs\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\n\t\t\tthis.path,\n\t\t\tfalse,\n\t\t\ttrue\n\t\t)\n\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\n\t\t\tfrom,\n\t\t\tto,\n\t\t})\n\n\t\treturn addresses\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\n\n\t\tconst signature = {\n\t\t\tr: '0x' + r,\n\t\t\ts: '0x' + s,\n\t\t\tv,\n\t\t}\n\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\treturn txSigned\n\t}\n\n\t/*\n\t * TODO: may not work.\n\t * The ledger device or u2f seems to broken\n\t * Can list the addresses\n\t * Can sign messages\n\t * Signs transactions\n\t * Actually it show the tx but does not return value after\n\t * confirmation on the device\n\t */\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (!opts.hex) {\n\t\t\tif (typeof message === 'string') {\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\n\t\t\t}\n\n\t\t\tmessage = ethers.utils.hexlify(message)\n\t\t}\n\n\t\tmessage = message.substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\n\t\tsignature.r = '0x' + signature.r\n\t\tsignature.s = '0x' + signature.s\n\n\t\tconst { address } = await eth.getAddress(this.path)\n\n\t\tconst res = {\n\t\t\tsignature: ethers.utils.joinSignature(signature),\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LedgerSigner(provider, { path: this.path })\n\t}\n}\n","import base64 from 'base64url'\nimport ethers from 'ethers'\n\n// see https://github.com/ethereum/EIPs/issues/1341\n// Implements EIP 1341: Ethereum Web Tokens\n\nconst HEADER = base64.encode(\n\tJSON.stringify({\n\t\ttype: 'JWT',\n\t\talg: 'ETH',\n\t})\n)\n\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\n// .address is always checksummed\nfunction sign(signer, payload) {\n\tconst payloadEncoded = base64.encode(\n\t\tJSON.stringify({\n\t\t\t...payload,\n\t\t\taddress: signer.address,\n\t\t})\n\t)\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\n\t})\n}\n\nfunction verify(token) {\n\tconst parts = token.split('.')\n\tif (parts.length !== 3) {\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\n\t}\n\tconst msg = parts.slice(0, 2).join('.')\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\n\ttry {\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\n\t\treturn Promise.resolve({ from, payload })\n\t} catch (e) {\n\t\treturn Promise.reject(e)\n\t}\n}\n\nexport default { sign, verify }\n","import { store } from 'store'\n\nexport const execute = store.dispatch\n\nexport const dispatch = store.dispatch\n\nexport const getState = store.getState\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport * as types from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\nimport { translate } from 'services/translations/translations'\n\nexport function updateSpinner(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SPINNER,\n\t\t\tspinner: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateUi(item, value, category) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function addToast({\n\ttype,\n\taction,\n\tlabel = '',\n\ttimeout = false,\n\tunclosable,\n\tanchorOrigin,\n\ttop,\n}) {\n\treturn function(dispatch) {\n\t\tconst id = Helper.getGuid()\n\t\tdispatch({\n\t\t\ttype: types.ADD_TOAST,\n\t\t\ttoast: {\n\t\t\t\ttype,\n\t\t\t\taction,\n\t\t\t\tlabel,\n\t\t\t\ttimeout,\n\t\t\t\tunclosable,\n\t\t\t\tanchorOrigin,\n\t\t\t\ttop,\n\t\t\t\tid,\n\t\t\t},\n\t\t})\n\n\t\treturn id\n\t}\n}\n\nexport function removeToast(toastId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.REMOVE_TOAST,\n\t\t\ttoast: toastId,\n\t\t})\n\t}\n}\n\nexport function confirmAction(\n\tonConfirm,\n\tonCancel,\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\n\tnoActionBtns,\n\tactive\n) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CONFIRM_ACTION,\n\t\t\tconfirm: {\n\t\t\t\tonConfirm: onConfirm,\n\t\t\t\tonCancel: onCancel,\n\t\t\t\tdata: {\n\t\t\t\t\tconfirmLabel: confirmLabel,\n\t\t\t\t\tcancelLabel: cancelLabel,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttext: text,\n\t\t\t\t},\n\t\t\t\tnoActionBtns,\n\t\t\t\tactive,\n\t\t\t},\n\t\t})\n\t}\n}\n\nexport function updateNav(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NAV,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function changeLanguage(lang) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CHANGE_LANGUAGE,\n\t\t\tlang: lang,\n\t\t})\n\t}\n}\n\nexport function updateRegistrationAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\n\t\t\tupdateUi('allowRegistration', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function refreshCacheAndReload({ version, notification = false }) {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\tif (notification) {\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'accept',\n\t\t\t\t\taction: (\n\t\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (caches) {\n\t\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\n\t\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\n\t\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{translate('REFRESH')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t),\n\t\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\n\t\t\t\t\t\targs: [version],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n","export const addSig = ({\n\taddr = '',\n\tsig,\n\tmode,\n\texpiryTime,\n\tidentity = 'notset',\n}) => {\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\n\t\tthrow new Error('addSig - all args are required')\n\t}\n\n\tlocalStorage.setItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\n\t\tsig + '-' + expiryTime\n\t)\n}\n\nexport const getSig = ({ addr = '', identity = '', mode }) => {\n\tlet sigAndTIme = localStorage.getItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\n\t)\n\n\tif (!sigAndTIme) {\n\t\treturn null\n\t}\n\n\tsigAndTIme = sigAndTIme.split('-')\n\tlet sig = sigAndTIme[0]\n\tlet time = sigAndTIme[1]\n\n\tif (!time || parseInt(time, 10) <= Date.now()) {\n\t\treturn null\n\t} else {\n\t\treturn sig\n\t}\n}\n","export const getErrorMsg = err => {\n\tif (!err) {\n\t\treturn ''\n\t} else if (typeof err === 'object') {\n\t\treturn err.msg || err.message || err.errMsg || err.error\n\t} else if (Array.isArray(err)) {\n\t\treturn err.join(', ')\n\t} else {\n\t\treturn err\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { addSig, getSig } from 'services/auth/auth'\nimport { getSession, checkSession } from 'services/adex-market/actions'\nimport {\n\tgetRelayerConfigData,\n\tregAccount,\n\tgetQuickWallet,\n\tbackupWallet,\n} from 'services/adex-relayer/actions'\nimport { updateSpinner } from './uiActions'\nimport { translate } from 'services/translations/translations'\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\nimport {\n\tremoveLegacyKey,\n\tgetWalletHash,\n\tgenerateSalt,\n\tgetRecoveryWalletData,\n} from 'services/wallet/wallet'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport {\n\tgetAccountStats,\n\tgetOutstandingBalance,\n} from 'services/smart-contracts/actions/stats'\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\nimport { addToast, confirmAction } from './uiActions'\nimport {\n\tgetEthers,\n\tgetEthereumProvider,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n} from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\nimport {\n\tselectAccount,\n\tselectIdentity,\n\tselectAuth,\n\tselectWallet,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { getErrorMsg } from 'helpers/errors'\nimport { push } from 'connected-react-router'\n\nconst UPDATE_SETTINGS_INTERVAL = 24 * 60 * 60 * 1000 // 1 hour\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\n// MEMORY STORAGE\nexport function updateSignin(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SIGNIN,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetSignin() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SIGNIN,\n\t\t})\n\t}\n}\n\n// PERSISTENT STORAGE\nexport function createAccount(acc) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CREATE_ACCOUNT,\n\t\t\taccount: acc,\n\t\t})\n\t}\n}\n\n// LOGOUT\nexport function resetAccount() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ACCOUNT,\n\t\t})\n\t}\n}\n\nexport function updateAccount({ meta, newValues }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ACCOUNT,\n\t\t\tmeta: meta,\n\t\t\tnewValues: newValues,\n\t\t})\n\t}\n}\n\nexport function updateGasData({ gasData }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GAS_DATA,\n\t\t\tgasData: gasData,\n\t\t})\n\t}\n}\n\nexport function updateAccountStats() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst { identity, wallet } = account\n\t\t\tconst { address } = identity\n\t\t\tconst withBalance = await getChannelsWithOutstanding({\n\t\t\t\tidentityAddr: address,\n\t\t\t\twallet,\n\t\t\t})\n\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\n\t\t\t\twallet,\n\t\t\t\taddress,\n\t\t\t\twithBalance,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\n\t\t\t})\n\n\t\t\tconst { formatted, raw } = await getAccountStats({\n\t\t\t\taccount,\n\t\t\t\toutstandingBalanceMainToken,\n\t\t\t})\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { stats: { formatted, raw } },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_STATS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateValidatorAuthTokens({ newAuth }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { identity } = getState().persist.account\n\n\t\tconst newIdentity = { ...identity }\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\n\n\t\t// We don't want to update account if there is no actual change\n\t\tif (\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\n\t\t\tJSON.stringify(newTokens)\n\t\t) {\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\n\t\t}\n\t}\n}\n\nexport function createSession({\n\twallet,\n\tidentity = {},\n\temail,\n\tdeleteLegacyKey,\n}) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner('creating-session', true)(dispatch)\n\t\ttry {\n\t\t\tconst newWallet = { ...wallet }\n\t\t\tconst sessionSignature =\n\t\t\t\tgetSig({\n\t\t\t\t\taddr: newWallet.address,\n\t\t\t\t\tmode: newWallet.authType,\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t}) || null\n\n\t\t\tconst hasSession =\n\t\t\t\t!!sessionSignature &&\n\t\t\t\t(await checkSession({\n\t\t\t\t\tauthSig: sessionSignature,\n\t\t\t\t\tskipErrToast: true,\n\t\t\t\t}))\n\n\t\t\tif (hasSession) {\n\t\t\t\tnewWallet.authSig = sessionSignature\n\t\t\t} else {\n\t\t\t\tconst {\n\t\t\t\t\tsignature,\n\t\t\t\t\tmode,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\n\n\t\t\t\tconst { status, expiryTime } = await getSession({\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tsignature,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t\tsignerAddress: newWallet.address,\n\t\t\t\t})\n\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\taddSig({\n\t\t\t\t\t\taddr: wallet.address,\n\t\t\t\t\t\tsig: signature,\n\t\t\t\t\t\tmode: wallet.authType,\n\t\t\t\t\t\texpiryTime: expiryTime,\n\t\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\t})\n\t\t\t\t\tnewWallet.authSig = signature\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst account = {\n\t\t\t\temail: email,\n\t\t\t\twallet: newWallet,\n\t\t\t\tidentity: { ...identity },\n\t\t\t}\n\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taccount.identity.validatorAuthTokens = {\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\n\t\t\t}\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { ...account },\n\t\t\t})(dispatch)\n\n\t\t\tif (deleteLegacyKey) {\n\t\t\t\tremoveLegacyKey({\n\t\t\t\t\temail: wallet.email,\n\t\t\t\t\tpassword: wallet.password,\n\t\t\t\t})\n\t\t\t}\n\t\t\tdispatch(push('/side-select'))\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner('creating-session', false)(dispatch)\n\t}\n}\n\nexport function getRelayerConfig() {\n\treturn async function(dispatch) {\n\t\tconst cfg = await getRelayerConfigData()\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\n\t\t\tcfg,\n\t\t})\n\t}\n}\n\nasync function getNetworkId() {\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\n\tconst networkId = (await provider.getNetwork()).chainId\n\n\treturn networkId\n}\n\nasync function getNetworkData({ id }) {\n\tconst networkId = id || (await getNetworkId())\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\n\n\treturn network\n}\n\nexport function onMetamaskNetworkChange({ id } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { persist, router } = getState()\n\t\tconst { location } = router\n\t\tconst { account } = persist\n\t\tconst { search } = location\n\t\tconst { authType } = account.wallet\n\n\t\tconst isMetamaskMatters =\n\t\t\t(authType === AUTH_TYPES.METAMASK.name ||\n\t\t\t\t(!authType && search === '?metamask')) &&\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name\n\n\t\tif (\n\t\t\tisMetamaskMatters &&\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\n\t\t) {\n\t\t\tconfirmAction(\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\ttitle: translate('WARNING'),\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)(dispatch)\n\t\t} else {\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\n\t\t}\n\t}\n}\n\nexport const onMetamaskAccountChange = accountAddress => {\n\treturn async function(_, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst account = selectAccount(state)\n\t\tconst { authType, address } = account.wallet\n\n\t\tif (\n\t\t\thasAuth &&\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\n\t\t\t(!accountAddress || address !== accountAddress)\n\t\t) {\n\t\t\tlogOut()\n\t\t} else if (!hasAuth) {\n\t\t\tconst identity = selectIdentity(state)\n\t\t\tconst { identityContractOwner } = identity\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\n\t\t}\n\t}\n}\n\nexport function metamaskAccountCheck() {\n\treturn async function(_, getState) {\n\t\tconst address = await ethereumSelectedAddress()\n\t\tonMetamaskAccountChange(address)(_, getState)\n\t}\n}\n\nexport function metamaskNetworkCheck() {\n\treturn async function(_, getState) {\n\t\tconst id = await ethereumNetworkId()\n\t\tonMetamaskNetworkChange({ id })(_, getState)\n\t}\n}\n\nexport function metamaskChecks() {\n\treturn async function(_, getState) {\n\t\tmetamaskNetworkCheck()(_, getState)\n\t\tmetamaskAccountCheck()(_, getState)\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\n\t\t\t\tconsole.log('acc changed', accounts[0])\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\n\t\t\t})\n\t\t\twindow.ethereum.on('networkChanged', network => {\n\t\t\t\tconsole.log('networkChanged', network)\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\n\t\t\t})\n\t\t}\n\t}\n}\n\nasync function hasBackup({ email, password }) {\n\tconst salt = generateSalt(email)\n\tconst hash = getWalletHash({ salt, password })\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\n\n\treturn !!encryptedWallet && encryptedWallet.wallet\n}\n\nasync function makeBackup({ email, password, authType }) {\n\tconst walletSalt = generateSalt(email)\n\tconst walletHash = getWalletHash({ salt: walletSalt, password })\n\tconst encryptedWallet = getRecoveryWalletData({\n\t\temail,\n\t\tpassword,\n\t\tauthType,\n\t})\n\n\tawait backupWallet({\n\t\temail,\n\t\tsalt: walletSalt,\n\t\thash: walletHash,\n\t\tencryptedWallet,\n\t})\n}\n\nexport function ensureQuickWalletBackup() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('quick-wallet-backup', true)(dispatch)\n\t\ttry {\n\t\t\tconst { email, password, authType } = selectWallet(getState())\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\n\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\n\t\t\t\tawait makeBackup({ email, password, authType })\n\t\t\t}\n\t\t} catch (err) {}\n\t\tupdateSpinner('quick-wallet-backup', false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tuploadImage,\n\tpostAdUnit,\n\tpostAdSlot,\n\tupdateAdSlot,\n\tupdateAdUnit,\n\tupdateCampaign,\n} from 'services/adex-market/actions'\nimport { execute } from 'actions'\nimport { push } from 'connected-react-router'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport { translate } from 'services/translations/translations'\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\nimport {\n\tgetAdUnits,\n\tgetAdSlots,\n\tgetCampaigns,\n} from 'services/adex-market/actions'\nimport {\n\topenChannel,\n\tcloseChannel,\n} from 'services/smart-contracts/actions/core'\nimport { lastApprovedState } from 'services/adex-validator/actions'\nimport { closeCampaignMarket } from 'services/adex-market/actions'\nimport initialState from 'store/initialState'\nimport { getMediaSize } from 'helpers/mediaHelpers'\nimport { getErrorMsg } from 'helpers/errors'\nimport { SOURCES } from 'constants/targeting'\nimport {\n\tselectAccount,\n\tselectRelayerConfig,\n\tselectAuthSig,\n\tselectAuth,\n} from 'selectors'\n\nconst addToast = ({ type, toastStr, args, dispatch }) => {\n\treturn AddToastUi({\n\t\tdispatch: dispatch,\n\t\ttype: type,\n\t\tlabel: translate(toastStr, { args: args }),\n\t\ttimeout: 5000,\n\t})(dispatch)\n}\n\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\n\treturn fetch(tempUrl)\n\t\t.then(resp => {\n\t\t\treturn resp.blob()\n\t\t})\n\t\t.then(imgBlob => {\n\t\t\tURL.revokeObjectURL(tempUrl)\n\t\t\treturn uploadImage({\n\t\t\t\timageBlob: imgBlob,\n\t\t\t\timageName: 'image.jpeg',\n\t\t\t\tauthSig: authSig,\n\t\t\t})\n\t\t})\n}\n\nexport function updateNewItem(item, newValues, itemType, objModel) {\n\titem = Base.updateObject({ item, newValues, objModel })\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\titem,\n\t\t\titemType,\n\t\t})\n\t}\n}\n\nexport function resetNewItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function resetAllNewItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\n\t\t})\n\t}\n}\n\n// register item\nexport function addUnit(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\tauthSig,\n\t\t\t})).ipfs\n\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\n\t\t\tnewItem.mediaMime = newItem.temp.mime\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst resItem = await postAdUnit({\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\n\t\t\t\titemType: 'AdUnit',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function addSlot(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { mainToken } = selectRelayerConfig()\n\t\t\tlet fallbackUnit = null\n\t\t\tif (newItem.temp.useFallback) {\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\t\tauthSig,\n\t\t\t\t})).ipfs\n\n\t\t\t\tconst unit = new AdUnit({\n\t\t\t\t\ttype: newItem.type,\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\n\t\t\t\t\tmediaMime: newItem.temp.mime,\n\t\t\t\t\tcreated: Date.now(),\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t\tdescription: newItem.description,\n\t\t\t\t\ttargeting: [],\n\t\t\t\t\ttags: [],\n\t\t\t\t\tpassback: true,\n\t\t\t\t})\n\n\t\t\t\tconst resUnit = await postAdUnit({\n\t\t\t\t\tunit: unit.marketAdd,\n\t\t\t\t\tauthSig,\n\t\t\t\t})\n\n\t\t\t\tfallbackUnit = resUnit.ipfs\n\t\t\t}\n\n\t\t\tnewItem.fallbackUnit = fallbackUnit\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tif (newItem.temp.minPerImpression) {\n\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t[mainToken.address]: parseUnits(\n\t\t\t\t\t\tnewItem.temp.minPerImpression,\n\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t)\n\t\t\t\t\t\t.div(bigNumberify(1000))\n\t\t\t\t\t\t.toString(),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst resItem = await postAdSlot({\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\n\t\t\t\titemType: 'AdSlot',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function getAllItems() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { address } = account.identity\n\t\t\tconst units = getAdUnits({ identity: address })\n\t\t\tconst slots = getAdSlots({ identity: address })\n\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\n\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function openCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('opening-campaign', true)(dispatch)\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tawait getAllValidatorsAuthForIdentity({\n\t\t\t\twithBalance: [{ channel: campaign }],\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tconst { readyCampaign } = await openChannel({\n\t\t\t\tcampaign,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: readyCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'OPENING_CAMPAIGN_SENT_TO_RELAYER',\n\t\t\t\targs: [readyCampaign.id],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_OPENING_CAMPAIGN',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner('opening-campaign', false)(dispatch)\n\t\treturn true\n\t}\n}\n\n// Accepts the entire new item and replace so be careful!\nexport function updateItem({ item, itemType } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('update' + item.id, true)(dispatch)\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { authSig } = account.wallet\n\t\t\tconst { mainToken } = selectRelayerConfig()\n\n\t\t\tlet updatedItem = null\n\t\t\tlet objModel = null\n\n\t\t\tconst { id } = item\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tif (item.temp.minPerImpression) {\n\t\t\t\t\t\titem.minPerImpression = {\n\t\t\t\t\t\t\t[mainToken.address]: parseUnits(\n\t\t\t\t\t\t\t\titem.temp.minPerImpression,\n\t\t\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.div(bigNumberify(1000))\n\t\t\t\t\t\t\t\t.toString(),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst slot = new AdSlot(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\n\t\t\t\t\tobjModel = AdSlot\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tconst unit = new AdUnit(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\n\t\t\t\t\tobjModel = AdUnit\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tconst campaign = new Campaign(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\n\t\t\t\t\t\t.campaign\n\t\t\t\t\tobjModel = Campaign\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\n\t\t\t}\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\n\t\t\t\titemType,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\n\t\t\t\targs: [itemType, item.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\n\t}\n}\n\nexport function deleteItem({ item, objModel, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = true\n\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\n}\n\nexport function restoreItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\n\t\terrMsg: 'ERR_RESTORING_ITEM',\n\t})\n}\n\nconst findSourceByTag = tag => {\n\treturn Object.keys(SOURCES).find(\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\n\t)\n}\n\nexport function cloneItem({ item, itemType, objModel } = {}) {\n\treturn async function(dispatch) {\n\t\ttry {\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\n\t\t\tnewItem.id = ''\n\t\t\tnewItem.temp = {\n\t\t\t\t...initialState.newItem[itemType].temp,\n\t\t\t\ttargets: item.targeting.map((t, index) => {\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\tcollection: 'targeting',\n\t\t\t\t\t\tsource: key,\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\ttarget: { ...t },\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\n\t\t\t\tnewItem.mediaUrl,\n\t\t\t\tprocess.env.IPFS_GATEWAY\n\t\t\t)\n\n\t\t\tconst response = await fetch(tempUrl)\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\n\t\t\tconst mediaSize = await getMediaSize({\n\t\t\t\tmime: newItem.mediaMime,\n\t\t\t\tsrc: mediaURL,\n\t\t\t})\n\n\t\t\tconst temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t\tmime: item.mediaMime,\n\t\t\t\ttempUrl: mediaURL,\n\t\t\t\twidth: mediaSize.width,\n\t\t\t\theight: mediaSize.height,\n\t\t\t}\n\n\t\t\tnewItem.temp = temp\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\t\titem: newItem,\n\t\t\t\titemType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error(err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function archiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = true\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\n\t})\n}\n\nexport function unarchiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\n\t})\n}\n\nexport function setCurrentItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.SET_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function updateCurrentItem(item, newMeta) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t\tmeta: newMeta,\n\t\t})\n\t}\n}\n\nexport function updateItems({ items, itemType }) {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\n\t\t\titems: items,\n\t\t\titemType: itemType,\n\t\t})\n\t}\n}\n\nexport const resetAllItems = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_ITEMS,\n\t\t})\n\t}\n}\n\nexport const updateTags = ({ tags }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_TAGS,\n\t\t\ttags: tags,\n\t\t})\n\t}\n}\n\nexport const addNewTag = ({ tag }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_NEW_TAG,\n\t\t\ttag: tag,\n\t\t})\n\t}\n}\n\nexport const updateCampaignState = ({ campaign }) => {\n\treturn async dispatch => {\n\t\ttry {\n\t\t\tconst state = await lastApprovedState({ campaign })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.state = state\n\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_CAMPAIGN_LAST_STATUS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\n// TEMP for testing in production until 4.1 is deployed\nfunction getHumanFriendlyName(campaign) {\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\n\t\treturn 'Closed'\n\tswitch ((campaign.status || {}).name) {\n\t\tcase 'Active':\n\t\tcase 'Ready':\n\t\tcase 'Pending':\n\t\tcase 'Initializing':\n\t\tcase 'Waiting':\n\t\tcase 'Offline':\n\t\tcase 'Disconnected':\n\t\tcase 'Unhealthy':\n\t\tcase 'Invalid':\n\t\t\treturn 'Active'\n\t\tcase 'Expired':\n\t\tcase 'Exhausted':\n\t\tcase 'Withdraw':\n\t\t\treturn 'Completed'\n\t\tdefault:\n\t\t\treturn 'N/A'\n\t}\n}\n\nexport function updateUserCampaigns() {\n\treturn async function(dispatch, getState) {\n\t\tconst hasAuth = selectAuth(getState())\n\t\tconst { wallet, identity } = selectAccount(getState())\n\t\tconst { authSig } = wallet\n\t\tconst { address } = identity\n\n\t\tif (hasAuth && authSig && address) {\n\t\t\ttry {\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\n\n\t\t\t\tconst campaignsMapped = campaigns\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => {\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\n\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn campaign\n\t\t\t\t\t})\n\t\t\t\tupdateItems({ items: campaignsMapped, itemType: 'Campaign' })(dispatch)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\n\n\t\t\t\taddToast({\n\t\t\t\t\tdispatch,\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function closeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CLOSING_CAMPAIGN',\n\t\t\t\targs: [campaign.id],\n\t\t\t})\n\t\t\tupdateUserCampaigns(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLOSING_CAMPAIGN',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { updateSpinner } from './uiActions'\nimport { validEthAddress } from '../helpers/validators'\nimport { translate } from 'services/translations/translations'\nimport { addToast } from './uiActions'\nimport { getERC20Balance } from 'services/smart-contracts/actions/erc20'\nimport { formatUnits, bigNumberify } from 'ethers/utils'\nimport { validEmail, validPassword } from 'helpers/validators'\nimport { t } from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\n\nexport function validateAddress({ addr, dirty, validate, name, setBalance }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { wallet, identity } = getState().persist.account\n\t\tconst { authType } = wallet\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await validEthAddress({\n\t\t\t\taddr,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tnonERC20: !setBalance,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\n\t\t\tif (typeof setBalance === 'function') {\n\t\t\t\tconst balance =\n\t\t\t\t\t(await getERC20Balance({\n\t\t\t\t\t\taddr,\n\t\t\t\t\t\tauthType,\n\t\t\t\t\t\tbalanceFor: identity.address,\n\t\t\t\t\t})) || bigNumberify('0')\n\t\t\t\tsetBalance(formatUnits(balance, 18))\n\t\t\t}\n\t\t\tif (validate)\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(name, false)(dispatch)\n\t}\n}\n\nexport function updateValidationErrors(item, newErrors) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\terrors: newErrors,\n\t\t})\n\t}\n}\n\nexport function resetValidationErrors(item, key) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\tkey,\n\t\t})\n\t}\n}\n\nexport function validate(\n\tvalidateId,\n\tkey,\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n) {\n\treturn async function(dispatch, getState) {\n\t\tif (!isValid) {\n\t\t\tlet errors = {}\n\t\t\terrors[key] = {\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\n\t\t\t\tdirty: dirty,\n\t\t\t}\n\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\n\t\t} else if (removeAll) {\n\t\t\tresetValidationErrors(validateId)(dispatch)\n\t\t} else {\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateEmail(validateId, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validEmail(email)\n\t\tvalidate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\n\t\tvalidate(validateId, 'emailCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePassword(validateId, password, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validPassword(password)\n\t\tvalidate(validateId, 'password', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePasswordCheck(\n\tvalidateId,\n\tpasswordCheck,\n\tpassword,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\n\t\tvalidate(validateId, 'passwordCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateTOS(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'tosCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { getQuickWallet } from 'services/adex-relayer/actions'\nimport { updateSpinner, addToast } from './uiActions'\nimport {\n\tgetOwnerIdentities,\n\tregAccount,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { translate } from 'services/translations/translations'\nimport { createSession } from './accountActions'\n\nimport {\n\tgetIdentityDeployData,\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddDataToWallet,\n\tgetWalletHash,\n\tgetLocalWallet,\n\tmigrateLegacyWallet,\n\twalletInfo,\n\tcreateLocalWallet,\n\tgenerateSalt,\n} from 'services/wallet/wallet'\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\nimport { selectAccount, selectIdentity } from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\nimport {\n\tvalidate,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n} from './validationActions'\nimport { getErrorMsg } from 'helpers/errors'\n\n// MEMORY STORAGE\nexport function updateIdentity(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetIdentity() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\t}\n}\n\nexport function initIdentity({ email, authType }) {\n\treturn function(dispatch) {\n\t\tdispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\n\t\tdispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'email',\n\t\t\tvalue: email,\n\t\t})\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'authType',\n\t\t\tvalue: authType,\n\t\t})\n\t}\n}\n\n// MEMORY STORAGE\nexport function updateWallet(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WALLET,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetWallet() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WALLET,\n\t\t})\n\t}\n}\n\nexport function onUploadLocalWallet(event) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner('uploading-account-data', true)(dispatch)\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = ev => {\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\n\t\t\t\tif (\n\t\t\t\t\t!obj ||\n\t\t\t\t\t!obj.key ||\n\t\t\t\t\t!obj.wallet ||\n\t\t\t\t\t!obj.wallet.data ||\n\t\t\t\t\t!obj.wallet.identity ||\n\t\t\t\t\t!obj.wallet.privileges\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\n\t\t\t\t} else {\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\n\t\t\t\t\taddToast({\n\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\n\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t})(dispatch)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\t\targs: [err.message],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\n\t\t}\n\n\t\tconst onError = err => {\n\t\t\tconsole.error('Error uploading account data.', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\n\t\t}\n\n\t\treader.onerror = ev => {\n\t\t\treader.abort()\n\t\t\tonError(translate())\n\t\t}\n\n\t\treader.onabort = ev => {\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\n\t\t}\n\n\t\treader.readAsText(file)\n\t}\n}\n\nexport function identityWithdraw({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function ownerIdentities({ owner }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('getting-owner-identities', true)(dispatch)\n\t\ttry {\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\n\t\t\tconst data = Object.entries(identityData).map(\n\t\t\t\tasync ([identityAddr, privLevel]) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst data = await getIdentityData({ identityAddr })\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tidentity: identityAddr,\n\t\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\n\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner('getting-owner-identities', false)(dispatch)\n\t}\n}\n\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await setIdentityPrivilege({\n\t\t\t\taccount,\n\t\t\t\tsetAddr,\n\t\t\t\tprivLevel,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function login() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tidentityData,\n\t\t\t\tidentityTxData,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t\tregisterAccount,\n\t\t\t} = selectIdentity(getState())\n\n\t\t\tif (registerAccount) {\n\t\t\t\tawait regAccount({\n\t\t\t\t\towner: wallet.address,\n\t\t\t\t\temail: email.toLowerCase(),\n\t\t\t\t\t...identityTxData,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst relayerData = await getIdentityData({\n\t\t\t\tidentityAddr: identityData.address,\n\t\t\t})\n\n\t\t\tconst identity = {\n\t\t\t\t...identityData,\n\t\t\t\taddress: relayerData.deployData._id,\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\n\t\t\t\trelayerData,\n\t\t\t}\n\n\t\t\tawait createSession({\n\t\t\t\tidentity,\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateQuickLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { password, email, authType } = identity\n\n\t\tlet wallet = {}\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\n\t\tlet actualAuthType = authType\n\n\t\ttry {\n\t\t\tif (email && password) {\n\t\t\t\tlet walletData = getLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t})\n\n\t\t\t\tif (!walletData) {\n\t\t\t\t\tconst salt = generateSalt(email)\n\t\t\t\t\tconst hash = getWalletHash({ salt, password })\n\t\t\t\t\tconst { encryptedWallet } =\n\t\t\t\t\t\t(await getQuickWallet({\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t})) || {}\n\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbackupWallet.wallet &&\n\t\t\t\t\t\tbackupWallet.key &&\n\t\t\t\t\t\tbackupWallet.wallet.data &&\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\n\t\t\t\t\t\tbackupWallet.wallet.privileges\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\n\t\t\t\t\t\tactualAuthType = info.authType\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\n\n\t\t\t\t\t\twalletData = getLocalWallet({\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword,\n\t\t\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\n\t\t\t\t\twallet = { ...walletData.data }\n\t\t\t\t\twallet.email = email\n\t\t\t\t\twallet.password = password\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\n\t\t\t\t\twallet.identity = {\n\t\t\t\t\t\taddress: walletData.identity,\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!authType) {\n\t\t\t\t\t\tmigrateLegacyWallet({ email, password })\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\n\t\t\terror = err\n\t\t}\n\n\t\tconst isValid = !!wallet.address\n\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait login()(dispatch, getState)\n\t\t}\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nconst handleAfterValidation = ({ isValid, onValid, onInvalid }) => {\n\tif (isValid && typeof onValid === 'function') {\n\t\tonValid()\n\t}\n\tif (!isValid && typeof onInvalid === 'function') {\n\t\tonInvalid()\n\t}\n}\n\nexport function validateStandardLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst identity = selectIdentity(getState())\n\t\t\tconst { wallet, identityContractAddress } = identity\n\t\t\tconst { address } = wallet\n\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\n\t\t\tconst identityData = {\n\t\t\t\taddress: identityDataSplit[0],\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\n\t\t\t}\n\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\tconst isValid = !!identityData.address\n\n\t\t\tvalidate(validateId, 'identityContractAddress', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\n\t\t\t\tdirty: dirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickDeploy({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, password } = identity\n\t\ttry {\n\t\t\tif (!identityAddr && email && password) {\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\n\n\t\t\t\tconst walletData = createLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t})\n\n\t\t\t\twalletData.email = email\n\t\t\t\twalletData.password = password\n\n\t\t\t\tconst walletAddr = walletData.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: txData.identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\taddDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'identity',\n\t\t\t\t\tdataValue: identityData.address,\n\t\t\t\t})\n\t\t\t\taddDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'privileges',\n\t\t\t\t\tdataValue: identityData.privileges,\n\t\t\t\t})\n\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\t\t\t}\n\n\t\t\tconst isValid = !!identityAddr && email && password\n\n\t\t\tvalidate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { email, emailCheck, password, passwordCheck, tosCheck } = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewBid({ bidId, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewBid({ bidId }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\n\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_BIDS,\n\t\t\tadvBids: advBids,\n\t\t\tpubBids: pubBids,\n\t\t\tbidsById: bidsById,\n\t\t})\n\t}\n}\nexport const resetAllBids = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_BIDS,\n\t\t})\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewTransaction({ tx, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewTransaction({ tx }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\nexport function addWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\tif (!tx || !tx.hash || !addr) return\n\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\n\t\t\tvalue: tx,\n\t\t\ttx: tx.hash,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\n// TODO: make update multiple\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function resetWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { addToast, removeToast, confirmAction } from './uiActions'\nimport { translate } from 'services/translations/translations'\nimport {\n\tgetValidatorAuthToken,\n\tidentityAnalytics,\n} from 'services/adex-validator/actions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport {\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n} from 'constants/misc'\nimport { getErrorMsg } from 'helpers/errors'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\nconst analyticsParams = (timeframe, side) => {\n\tconst callsParams = []\n\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\n\t\t\tcallsParams.push({\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tside,\n\t\t\t\teventType,\n\t\t\t})\n\t\t)\n\t)\n\n\treturn callsParams\n}\n\n// getIdentityStatistics tooks to long some times\n// if the account is change we do not update the account\n// TODO: we can use something for abortable tasks\nfunction checkAccountChanged(getState, account) {\n\tconst accountCheck = getState().persist.account\n\tconst accountChanged =\n\t\t!accountCheck.wallet.address ||\n\t\taccountCheck.wallet.address !== account.wallet.address ||\n\t\t!accountCheck.identity.address ||\n\t\t!accountCheck.identity.address !== !account.identity.address\n\n\treturn accountChanged\n}\n\nexport function updateAccountAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account, analytics } = getState().persist\n\t\tconst { side } = getState().memory.nav\n\t\tconst { timeframe } = analytics\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsParams(timeframe, side)\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tidentityAnalytics({\n\t\t\t\t\t...opts,\n\t\t\t\t\tleaderAuth,\n\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\n\n\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\n\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\tvalue: { ...res },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAnalyticsTimeframe(timeframe) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\n\t\t\t\tvalue: timeframe,\n\t\t\t})\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function resetAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ANALYTICS,\n\t\t})\n\t}\n}\n","import * as common from './common'\nimport * as itemActions from './itemActions'\nimport * as uiActions from './uiActions'\nimport * as accountActions from './accountActions'\nimport * as identityActions from './identityActions'\nimport * as bidActions from './bidActions'\nimport * as transactionActions from './transactionActions'\nimport * as validationActions from './validationActions'\nimport * as analyticsActions from './analyticsActions'\n\n// keep it for class components that use connect and actions prop\n// without needing to change the code\nexport default {\n\t...common,\n\t...itemActions,\n\t...uiActions,\n\t...accountActions,\n\t...identityActions,\n\t...bidActions,\n\t...transactionActions,\n\t...validationActions,\n\t...analyticsActions,\n}\n\n// used for minimal deps in hook components\n// import { execute, addTost } from 'actions'\n// execute(addTost())\nexport * from './common'\nexport * from './itemActions'\nexport * from './uiActions'\nexport * from './accountActions'\nexport * from './identityActions'\nexport * from './bidActions'\nexport * from './transactionActions'\nexport * from './validationActions'\nexport * from './analyticsActions'\n","import { ethers, utils, Contract } from 'ethers'\nimport { contracts } from './contractsCfg'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { selectRelayerConfig } from 'selectors'\n\nethers.errors.setLogLevel('error')\n\nconst { AdExCore, Identity, IdentityFactory } = contracts\n\nconst getAdexCore = provider => {\n\tconst { coreAddr } = selectRelayerConfig()\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\n}\n\nconst getMainToken = provider => {\n\tconst { mainToken = {} } = selectRelayerConfig()\n\treturn new Contract(\n\t\tmainToken.address,\n\t\tcontracts[mainToken.standard].abi,\n\t\tprovider\n\t)\n}\n\nconst getToken = ({ provider, standard, address }) => {\n\treturn new Contract(address, contracts[standard].abi, provider)\n}\n\nconst getIdentity = ({ provider, address }) => {\n\tconst identityContract = new Contract(address, Identity.abi, provider)\n\n\treturn identityContract\n}\n\nconst getIdentityFactory = provider => {\n\tconst { identityFactoryAddr } = selectRelayerConfig()\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\n}\n\nconst getEthersResult = provider => {\n\tconst adexCore = getAdexCore(provider)\n\tconst mainToken = getMainToken(provider)\n\tconst identityFactory = getIdentityFactory(provider)\n\n\tconst results = {\n\t\tprovider,\n\t\tAdExCore: adexCore,\n\t\tIdentity: Identity,\n\t\tDai: mainToken,\n\t\tMainToken: mainToken,\n\t\tIdentityFactory: identityFactory,\n\t\tgetToken: ({ standard, address }) =>\n\t\t\tgetToken({ provider, standard, address }),\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\n\t}\n\n\treturn results\n}\n\nconst localWeb3 = () => {\n\tconst provider = new ethers.providers.JsonRpcProvider(\n\t\tprocess.env.WEB3_NODE_ADDR\n\t)\n\treturn getEthersResult(provider)\n}\n\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\n\twindow.addEventListener('load', () => {\n\t\tconst ethereum = window.ethereum\n\t\tconst web3 = window.web3\n\t\treturn resolve({\n\t\t\tethereum,\n\t\t\tweb3,\n\t\t})\n\t})\n})\n\nconst injectedWeb3 = async () => {\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\n\tlet provider = null\n\n\tif (ethereum) {\n\t\ttry {\n\t\t\tawait ethereum.enable()\n\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\n\n\t\t\treturn getEthersResult(provider)\n\t\t} catch (err) {\n\t\t\tconsole.error('Err getting injected ethereum.', err)\n\t\t\tthrow new Error(err.message)\n\t\t}\n\t}\n\t// Legacy dapp browsers...\n\t// TODO: we just have to throw or show notification\n\t// At the moment if it throws it will show error toast but not always.\n\telse if (web3) {\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t} else {\n\t\tconsole.error('Non-Ethereum browser detected.')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t}\n}\n\nconst getLocalWeb3 = async () => {\n\t// console.log('getLocalWeb3')\n\treturn localWeb3()\n}\n\nconst getEthers = mode => {\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\n\t *   and this results in Trezor popup block by the browser\n\t */\n\tif (mode === AUTH_TYPES.METAMASK.name) {\n\t\treturn injectedWeb3()\n\t} else {\n\t\treturn getLocalWeb3()\n\t}\n}\n\nconst ethereumSelectedAddress = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum && ethereum.selectedAddress) {\n\t\treturn utils.getAddress(ethereum.selectedAddress)\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst ethereumNetworkId = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum) {\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\n\t\treturn id\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst getEthereumProvider = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (!ethereum) {\n\t\treturn null\n\t}\n\n\tif (ethereum.isMetaMask) {\n\t\treturn AUTH_TYPES.METAMASK.name\n\t}\n\n\treturn null\n}\n\nexport {\n\tgetEthers,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n\tgetEthereumProvider,\n}\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404.12db5cc0.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute } from 'actions'\r\nglobal.appVersion = packageJson.version\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA, versionB) => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst latestVersion = meta.version\r\n\t\t\t\tconst currentVersion = global.appVersion\r\n\t\t\t\tconst shouldForceRefresh = semverGreaterThan(\r\n\t\t\t\t\tlatestVersion,\r\n\t\t\t\t\tcurrentVersion\r\n\t\t\t\t)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import { ethers, utils } from 'ethers'\nimport pbkdf2 from 'pbkdf2'\nimport {\n\tencrypt,\n\tdecrypt,\n\tencryptLegacy,\n\tdecryptLegacy,\n} from 'services/crypto/crypto'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n\tgetKeys,\n\tremoveFromLocalStorage,\n} from 'helpers/localStorageHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\n\nfunction getCipherKey({ email, password }) {\n\tconst pass = generateSalt(password)\n\tconst salt = generateSalt(email)\n\n\tconst key = pbkdf2.pbkdf2Sync(pass, salt, 10000, 64, 'sha512').toString('hex')\n\n\treturn key\n}\n\nfunction isLegacyCrypto(authType) {\n\treturn !authType || authType === 'legacy' || authType === 'grant'\n}\n\n// Returns 12 random words\nexport function getRandomMnemonic() {\n\tconst randomEntropy = utils.randomBytes(16)\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\n\n\treturn mnemonic\n}\n\nexport function generateWallet(mnemonic) {\n\tconst seed = mnemonic || getRandomMnemonic()\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\n\n\treturn {\n\t\tmnemonic,\n\t\tprivateKey: wallet.privateKey,\n\t\taddress: wallet.address,\n\t\tpath: wallet.path,\n\t}\n}\n\nfunction encrKey({ email, password, authType }) {\n\tif (!authType) {\n\t\treturn encryptLegacy(email, password)\n\t} else if (typeof authType === 'string') {\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\n\t} else {\n\t\tthrow new Error('INVALID_TYPE')\n\t}\n}\n\nexport function encrData({ email = '', password, data, authType }) {\n\tconst isLegacy = isLegacyCrypto(authType)\n\tconst jsonData = JSON.stringify(data)\n\tif (isLegacy) {\n\t\treturn encryptLegacy(jsonData, email + password)\n\t} else {\n\t\treturn encrypt(\n\t\t\tjsonData,\n\t\t\tgetCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n}\n\nexport function decrData({ email = '', password, data, authType }) {\n\tlet decryptedStr = ''\n\tconst isLegacy = isLegacyCrypto(authType)\n\n\tif (isLegacy) {\n\t\tdecryptedStr = decryptLegacy(data, email + password)\n\t} else {\n\t\tdecryptedStr = decrypt(\n\t\t\tdata,\n\t\t\tgetCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n\n\ttry {\n\t\tconst decr = JSON.parse(decryptedStr)\n\t\treturn decr\n\t} catch (err) {\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\n\t}\n}\n\nexport function createLocalWallet({\n\temail = '',\n\tpassword = '',\n\tmnemonic,\n\tauthType = '',\n}) {\n\tconst walletData = generateWallet(mnemonic)\n\tconst key = encrKey({ email, password, authType })\n\tconst data = encrData({ data: walletData, email, password, authType })\n\tsaveToLocalStorage({ data }, key)\n\n\twalletData.authType = authType\n\treturn walletData\n}\n\nexport function migrateLegacyWallet({ email = '', password = '' }) {\n\tconst wallet = getLocalWallet({\n\t\temail,\n\t\tpassword,\n\t\tgetEncrypted: true,\n\t})\n\n\tif (wallet && wallet.data) {\n\t\tconst newKey = encrKey({ email, password, authType: AUTH_TYPES.GRANT.name })\n\t\tsaveToLocalStorage(wallet, newKey)\n\t}\n}\n\nexport function removeLegacyKey({ email = '', password = '' }) {\n\tconst key = encrKey({ email, password })\n\tremoveFromLocalStorage(key)\n}\n\nexport function addDataToWallet({\n\temail = '',\n\tpassword = '',\n\tdataKey = '',\n\tdataValue = '',\n\tauthType,\n}) {\n\tif (dataKey === 'data') {\n\t\tthrow new Error('INVALID_DATA_KEY')\n\t}\n\n\tconst key = encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (!wallet) {\n\t\tthrow new Error('WALLET_NOT_FOUND')\n\t}\n\n\tconst data = encrData({ data: dataValue, email, password, authType })\n\twallet[dataKey] = data\n\tsaveToLocalStorage(wallet, key)\n}\n\nexport function getRecoveryWalletData({ email, password, authType }) {\n\tif (!email || !password) {\n\t\treturn null\n\t}\n\n\tconst key = encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\treturn {\n\t\tkey,\n\t\twallet,\n\t}\n}\n\nexport function getLocalWallet({ email, password, authType, getEncrypted }) {\n\tif (!email || !password) {\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\n\t}\n\n\tconst key = encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (wallet) {\n\t\tif (getEncrypted) {\n\t\t\treturn wallet\n\t\t}\n\n\t\tconst data = Object.keys(wallet).reduce((props, key) => {\n\t\t\tprops[key] = decrData({\n\t\t\t\tdata: wallet[key],\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\treturn props\n\t\t}, {})\n\n\t\treturn data\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction isWallet(item) {\n\treturn item && item.data && item.identity && item.privileges\n}\n\nexport function walletInfo(key, index, wallet) {\n\tconst split = key.split('-')\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\n\tconst authType = split[1] || 'legacy'\n\tconst name = mail || `Grant account # ${index + 1}`\n\n\tconst info = {\n\t\tkey,\n\t\twallet,\n\t\tname,\n\t\tauthType,\n\t}\n\n\treturn info\n}\n\nexport function getAllWallets() {\n\tconst walletKeys = getKeys()\n\t\t.map(key => {\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\titem: loadFromLocalStorage(key),\n\t\t\t}\n\t\t})\n\t\t.filter(({ item }) => isWallet(item))\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\n\n\treturn walletKeys\n}\n\nexport function getWalletHash({ salt, password }) {\n\tconst passwordId = utils.id(password)\n\n\tconst hash = pbkdf2\n\t\t.pbkdf2Sync(passwordId, salt, 10000, 64, 'sha512')\n\t\t.toString('hex')\n\n\treturn hash\n}\n\nexport function generateSalt(dataStr) {\n\tif (typeof dataStr !== 'string') {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\n\t} else if (!dataStr.length) {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\n\t}\n\n\tconst id = utils.id(dataStr)\n\tconst salt = utils.keccak256(id)\n\treturn salt\n}\n","import moment from 'moment'\n\n// TODO: separate exports - not class\nclass Helper {\n\tgetGuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t}\n\n\tgetRndHash32(prefix) {\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t\tif (prefix) {\n\t\t\th = prefix + h.substring(prefix.length)\n\t\t}\n\t\treturn h\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tgetRandomBool() {\n\t\treturn !!this.getRandomInt(0, 1)\n\t}\n\n\tgetRandomPropFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\n\t}\n\n\tgetRandomKeyFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn keys[(keys.length * Math.random()) << 0]\n\t}\n\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\n\t\t// TODO: fix +/- 1 day bug\n\t\tlet initial = moment.isMoment(initialMoment)\n\t\t\t? initialMoment.valueOf()\n\t\t\t: undefined\n\n\t\treturn moment(initial)\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\n\t}\n\n\thexToRgbaColorString = (hex, alpha) => {\n\t\tif (!hex || typeof hex !== 'string') {\n\t\t\tthrow new Error('Invalid color')\n\t\t} else if (hex.length === 4) {\n\t\t\thex = hex + hex.substr(1, 4)\n\t\t}\n\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\n\t\t\talpha = 1\n\t\t}\n\n\t\tconst hexToDec = h => {\n\t\t\treturn parseInt('0x' + h, 16)\n\t\t}\n\n\t\tlet r = hexToDec(hex.substr(1, 2))\n\t\tlet g = hexToDec(hex.substr(3, 2))\n\t\tlet b = hexToDec(hex.substr(5, 2))\n\n\t\treturn `rgba(${r},${g},${b},${alpha})`\n\t}\n\n\tgetQuery(queryParams) {\n\t\tif (\n\t\t\t!queryParams ||\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\n\t\t) {\n\t\t\treturn ''\n\t\t}\n\t\treturn (\n\t\t\t'?' +\n\t\t\t\tObject.keys(queryParams)\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\n\t\t\t\t\t.map(key => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\n\t\t\t\t\t\t)\n\t\t\t\t\t}, '')\n\t\t\t\t\t.join('&') || ''\n\t\t)\n\t}\n\n\tgetErrMsg = err => {\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\n\n\t\tif (stack.length > 1) {\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\n\t\t} else {\n\t\t\treturn (err.error || err || '').toString()\n\t\t}\n\t}\n\n\tisInt = int => {\n\t\treturn typeof int === 'number' && int % 1 === 0\n\t}\n\n\tshuffleArray = array => {\n\t\treturn [...array].sort(() => Math.random() - 0.5)\n\t}\n}\n\nexport default new Helper()\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { logOut } from 'services/store-data/auth'\nimport moment from 'moment'\n\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\n\nconst processResponse = (res, dontThrow) => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\tif (res.status === 401 || res.status === 403) {\n\t\t\tlogOut()\n\t\t}\n\t\tif (!dontThrow) {\n\t\t\thandleRequesterErrorRes({ res, text })\n\t\t}\n\t})\n}\n\nexport const getSession = ({\n\tidentity,\n\tmode,\n\tsignature,\n\tauthToken,\n\thash,\n\ttypedData,\n\tsignerAddress,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'auth/',\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tidentity,\n\t\t\t\tmode,\n\t\t\t\tsignature,\n\t\t\t\tauthToken,\n\t\t\t\thash,\n\t\t\t\ttypedData,\n\t\t\t\tsignerAddress,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const checkSession = ({ authSig, skipErrToast }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'session',\n\t\t\tmethod: 'GET',\n\t\t\tauthSig,\n\t\t\tskipErrToast,\n\t\t})\n\t\t.then(res => processResponse(res, true))\n}\n\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\n\tconst formData = new FormData()\n\tformData.append('media', imageBlob, imageName)\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'media',\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nconst convertItemToJSON = item => {\n\tconst itemToConvert = { ...item }\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\n\t}\n\n\treturn JSON.stringify(itemToConvert)\n}\n\nexport const getAdUnits = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdUnit = ({ unit, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdUnit = ({ unit, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdSlots = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdSlot = ({ slot, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdSlot = ({ slot, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `slots/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getCampaigns = ({ authSig, creator }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns/by-owner',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t\tqueryParams: {\n\t\t\t\tbyCreator: creator, //\n\t\t\t\tt: Date.now(),\n\t\t\t},\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${campaign.id}/close`,\n\t\t\tmethod: 'PUT',\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAllCampaigns = all => {\n\tconst queryParams = all\n\t\t? {\n\t\t\t\tall: true,\n\t\t  }\n\t\t: {}\n\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateCampaign = ({ campaign, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(campaign),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\n\nexport const isConnectionLost = async authType => {\n\ttry {\n\t\t// When we remove Metamask\n\t\t// if in 5 sec doesn't connect will\n\t\t// return that connection is lost\n\t\tconst eth = await Promise.race([\n\t\t\tgetEthers(authType),\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treject('Timed out')\n\t\t\t\t}, 5000)\n\t\t\t}),\n\t\t])\n\t\tawait eth.provider.getBlockNumber()\n\t\treturn false\n\t} catch (error) {\n\t\treturn true\n\t}\n}\n","import { utils } from 'ethers'\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\n\n/*eslint-disable */\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\n/*eslint-enable */\n\nexport const validUrl = url => {\n\turl = url || ''\n\tconst isValid = urlRegex.test(url)\n\treturn isValid\n}\n\nexport const validEmail = email => {\n\temail = email || ''\n\tconst isValid = emailRegex.test(email)\n\treturn isValid\n}\n\nexport const validateNumber = numberStr => {\n\tnumberStr = numberStr || ''\n\tconst isValid =\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\n\treturn isValid\n}\n\n// > 0\nexport const validPositiveInt = intStr => {\n\tintStr = intStr || ''\n\tconst isValid = onlyDigitsRegex.test(intStr)\n\treturn isValid\n}\n\nexport const validName = name => {\n\tlet msg = ''\n\tconst errMsgArgs = []\n\tif (!name) {\n\t\tmsg = 'ERR_REQUIRED_FIELD'\n\t} else if (name.length < 4) {\n\t\tmsg = 'ERR_MIN_LENGTH'\n\t\terrMsgArgs.push(4)\n\t} else if (name.length > 128) {\n\t\tmsg = 'ERR_MAX_LENGTH'\n\t\terrMsgArgs.push(128)\n\t}\n\n\treturn {\n\t\tmsg,\n\t\terrMsgArgs,\n\t}\n}\n\nexport const validPassword = password => {\n\tpassword = password || ''\n\tconst isValid = passwordRegex.test(password)\n\treturn isValid\n}\n\nexport const isEthAddress = (addr = '') => {\n\ttry {\n\t\tutils.getAddress(addr)\n\t} catch (e) {\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const isEthAddressZero = (addr = '') => {\n\treturn isEthAddress(addr)\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\n\t\t: false\n}\n\nexport const validEthAddress = async ({\n\taddr = '',\n\tnonZeroAddr,\n\tnonERC20,\n\tauthType,\n}) => {\n\tlet msg = ''\n\ttry {\n\t\tconst ethAddressZero = isEthAddressZero(addr)\n\t\tconst notEthAddress = !isEthAddress(addr)\n\t\tif (notEthAddress) {\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\n\t\t} else {\n\t\t\tif (nonZeroAddr && ethAddressZero) {\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\n\t\t\t} else {\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\n\t\t\t\tif (connectionLost) {\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t\t\t\t} else {\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (error === 'Non-Ethereum browser detected.')\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t}\n\treturn { msg }\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { constants } from 'adex-models'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport { bigNumberify, formatEther } from 'ethers/utils'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectRoutineWithdrawTokens,\n\tselectFeeTokenWhitelist,\n} from 'selectors'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\n\tif (token.address === mainToken.address) {\n\t\treturn balance\n\t}\n\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\n\n\t// approve + swap txns\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\n\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\n\treturn isAvailable ? balance : bigNumberify(0)\n}\n\nexport const getWithdrawTokensBalances = async ({ authType, address }) => {\n\tconst { getToken } = await getEthers(authType)\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\n\t\tconst tokenContract = getToken(token)\n\n\t\tconst balance = await tokenContract.balanceOf(address)\n\n\t\tconst available = tokenAvailableBalance({\n\t\t\ttoken,\n\t\t\tmainToken,\n\t\t\tbalance,\n\t\t})\n\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: available,\n\t\t})\n\n\t\treturn { token, balance: available, balanceMainToken }\n\t})\n\n\tconst balances = await Promise.all(balancesCalls)\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\n\t\t(data, token) => {\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\n\t\t\t\ttoken.balanceMainToken\n\t\t\t)\n\n\t\t\tif (token.address === mainToken.address) {\n\t\t\t\tdata.mainTokenBalance = token.balance\n\t\t\t}\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\n\t\t\tmainTokenBalance: bigNumberify(0),\n\t\t}\n\t)\n\n\treturn {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t\ttotalBalanceInMainToken,\n\t}\n}\n\nexport async function getAddressBalances({ address, authType }) {\n\tconst { provider } = await getEthers(authType)\n\n\tconst calls = [\n\t\tprovider.getBalance(address.address),\n\t\tgetWithdrawTokensBalances({ authType, address: address.address }),\n\t]\n\n\tconst balances = await Promise.all(calls)\n\tconst formatted = {\n\t\taddress: address.address,\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\n\t\tbalanceEth: formatEther(balances[0].toString()),\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\n\t\t\treturn {\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\n\t\t\t\tsymbol: token.symbol,\n\t\t\t}\n\t\t}),\n\t}\n\n\treturn formatted\n}\n\nexport async function getAccountStats({\n\taccount,\n\toutstandingBalanceMainToken = {\n\t\ttotal: bigNumberify('0'),\n\t\tavailable: bigNumberify('0'),\n\t},\n}) {\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { address } = identity\n\tconst { getIdentity } = await getEthers(authType)\n\tconst { decimals } = selectMainToken()\n\n\tconst { status = {} } = identity\n\tconst identityContract = getIdentity({ address })\n\tlet privilegesAction\n\ttry {\n\t\tawait identityContract.deployed()\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\n\t} catch {\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\n\t}\n\n\tconst calls = [\n\t\tgetWithdrawTokensBalances({ authType, address }),\n\t\tprivilegesAction,\n\t]\n\n\tconst [\n\t\tidentityWithdrawTokensBalancesBalances = {},\n\t\twalletPrivileges,\n\t] = await Promise.all(\n\t\tcalls.map(c =>\n\t\t\tc\n\t\t\t\t.then(res => res)\n\t\t\t\t.catch(e => {\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t)\n\t)\n\n\tconst identityBalanceMainToken =\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\n\n\t// BigNumber values for balances\n\tconst raw = {\n\t\tidentityWithdrawTokensBalancesBalances,\n\t\twalletPrivileges,\n\t\tidentityBalanceMainToken,\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.total\n\t\t),\n\t}\n\n\tconst formatted = {\n\t\twalletAddress: wallet.address,\n\t\twalletAuthType: wallet.authType,\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\n\t\tidentityAddress: identity.address,\n\t\tidentityBalanceMainToken: formatTokenAmount(\n\t\t\tidentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t}\n\n\treturn {\n\t\traw,\n\t\tformatted,\n\t}\n}\n\n// NOTE: currently working because DAI and SAI has the same price and decimals\n// We should use getOutstandingBalanceMainToken if changed\nexport async function getOutstandingBalance({ withBalance }) {\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable } = ch\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstanding)\n\t\tcurrent.available = current.available.add(outstandingAvailable)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\n\tconst tokens = selectRoutineWithdrawTokens()\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\n\t\tconst { depositAsset } = channel\n\t\tconst token = tokens[depositAsset]\n\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: outstandingAvailable,\n\t\t})\n\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstandingMT)\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getAllValidatorsAuthForIdentity({\n\twithBalance,\n\taccount,\n}) {\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\n\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\n\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\tconst keys = Object.keys(allValidators)\n\n\tconst tokenCalls = keys.map(async key => {\n\t\tif (allValidators[key]) {\n\t\t\treturn allValidators[key]\n\t\t} else {\n\t\t\tconst token = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: key,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\treturn token\n\t\t}\n\t})\n\n\tconst allTokens = await Promise.all(tokenCalls)\n\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[key]: allTokens[index],\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\treturn validatorsAuth\n}\n\nconst saiDaiConversion = ({ token, balance }) => balance\n\nconst valueInMainTokenConversions = {\n\t// SAI\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\n\t\t// DAI\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\n\t},\n\t// DAI\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\n\t\t// SAI\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\n\t},\n}\n\nasync function tokenInMainTokenValue({ token, balance }) {\n\tconst { address } = selectMainToken()\n\n\tif (address === token.address) {\n\t\treturn balance\n\t}\n\n\tconst valueInMainToken = valueInMainTokenConversions[address.toLowerCase()][\n\t\ttoken.address.toLowerCase()\n\t]({\n\t\ttoken,\n\t\tbalance,\n\t})\n\n\treturn valueInMainToken\n}\n","import { Signer, utils } from 'ethers'\nimport TrezorConnect from 'trezor-connect'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\n\nTrezorConnect.manifest({\n\temail: 'contactus@adex.network',\n\tappUrl: 'http://adex.network',\n})\n\nexport default class TrezorSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\n\t\tconst bundle = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tbundle.push({\n\t\t\t\tpath: this.path + `/${index}`,\n\t\t\t\tshowOnTrezor: false,\n\t\t\t})\n\t\t}\n\n\t\treturn { bundle }\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\n\t\t\tthis.getAddsParams({ from, to })\n\t\t)\n\n\t\treturn { success, payload }\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\n\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\n\t\t\tpath: this.path,\n\t\t\ttransaction: txProps,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst signature = {\n\t\t\t\tr: payload.r,\n\t\t\t\ts: payload.s,\n\t\t\t\tv: parseInt(payload.v),\n\t\t\t}\n\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\t\treturn txSigned\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\n\t\t\tpath: this.path,\n\t\t\tmessage: message,\n\t\t\thex: !!opts.hex,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst res = {\n\t\t\t\t/*\n\t\t\t\t * NOTE: SignatureTypes.GETH\n\t\t\t\t * Current TrezorConnect window does not\n\t\t\t\t * accept device with old firmware\n\t\t\t\t */\n\t\t\t\tsignature: '0x' + payload.signature,\n\t\t\t\thash: message,\n\t\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\t\taddress: payload.address,\n\t\t\t}\n\n\t\t\treturn res\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tconnect = provider => {\n\t\treturn new TrezorSigner(provider, { path: this.path })\n\t}\n}\n","import { Signer, utils, Wallet } from 'ethers'\nimport { getLocalWallet } from 'services/wallet/wallet'\nimport { constants } from 'adex-models'\n\nexport default class LocalSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\n\t\tconst { email, password, authType } = opts\n\t\tthis._provider = provider\n\n\t\tconst walletData = getLocalWallet({\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tauthType,\n\t\t})\n\n\t\tthis._wallet = new Wallet(walletData.data.privateKey, provider)\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._wallet.address\n\t}\n\n\tsignTx = async params => {\n\t\tconst signetTx = this._wallet.sign(params)\n\t\treturn signetTx\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._wallet.signMessage(message)\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: this._wallet.address,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LocalSigner(provider, {\n\t\t\temail: this.email,\n\t\t\tpassword: this.password,\n\t\t})\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport { constants } from 'adex-models'\n\nexport default class MetaMaskSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._signer = provider.getSigner()\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._signer.getAddress()\n\t}\n\n\tsendTransaction = async params => {\n\t\treturn this._signer.sendTransaction(params)\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._signer.signMessage(message)\n\t\t// TODO: support EIP712\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: await this._signer.getAddress(),\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new MetaMaskSigner(provider)\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { utils } from 'ethers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\nimport LocalSigner from 'services/smart-contracts/signers/local'\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\n\nexport async function getSigner({ wallet, provider }) {\n\t// TODO: Maybe get provider here?\n\tconst { authType, path, email, password } = wallet\n\n\tif (authType === AUTH_TYPES.METAMASK.name) {\n\t\tconst signer = new MetaMaskSigner(provider)\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.LEDGER.name) {\n\t\tconst signer = new LedgerSigner(provider, { path })\n\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.TREZOR.name) {\n\t\tconst signer = new TrezorSigner(provider, { path })\n\t\treturn signer\n\t}\n\tif (\n\t\tauthType === AUTH_TYPES.GRANT.name ||\n\t\tauthType === AUTH_TYPES.QUICK.name\n\t) {\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\n\n\t\treturn signer\n\t}\n\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\n}\n\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\nexport const getTypedDataHash = ({ typedData }) => {\n\tconst values = typedData.map(entry => {\n\t\treturn typeof entry.value === 'string'\n\t\t\t? utils.toUtf8Bytes(entry.value)\n\t\t\t: utils.hexlify(entry.value)\n\t})\n\tconst valuesHash = utils.keccak256.apply(null, values)\n\tconst schema = typedData.map(entry => {\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\n\t})\n\n\tconst schemaHash = utils.keccak256.apply(null, schema)\n\tconst hash = utils.solidityKeccak256(\n\t\t['bytes32', 'bytes32'],\n\t\t[schemaHash, valuesHash]\n\t)\n\n\treturn hash\n}\n\nexport async function getAuthSig({ wallet }) {\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst authToken = Math.floor(\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\n\t).toString()\n\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\n\tconst hash = getTypedDataHash({ typedData })\n\tconst signature = await signer.signMessage(hash, { hex: true })\n\n\treturn {\n\t\t...signature,\n\t\tauthToken,\n\t\thash,\n\t}\n}\n\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\n\tconst { provider } = await getEthers(authType)\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\n\n\treturn Promise.all(receipts)\n}\n\nexport async function signTx({ tx, signer }) {\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\n\t\thex: true,\n\t})\n\tconst signature = splitSig(sig.signature)\n\treturn signature\n}\n\nexport async function getMultipleTxSignatures({ txns, signer }) {\n\tconst signatures = []\n\tfor (const tx of txns) {\n\t\tsignatures.push(await signTx({ tx, signer }))\n\t}\n\n\treturn signatures\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\n\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getOwnerIdentities = ({ owner }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/by-owner/${owner}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getIdentityData = ({ identityAddr }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getRelayerConfigData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'relayer/cfg',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}/execute`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures,\n\t\t\t\tidentityAddr,\n\t\t\t\tchannel,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const regAccount = ({\n\towner,\n\temail,\n\tbytecode,\n\tidentityFactoryAddr,\n\tbaseIdentityAddr,\n\tsalt,\n\tidentityAddr,\n\tprivileges,\n\troutineAuthorizationsRaw,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner,\n\t\t\t\temail,\n\t\t\t\tbytecode,\n\t\t\t\tidentityFactoryAddr,\n\t\t\t\tbaseIdentityAddr,\n\t\t\t\tsalt,\n\t\t\t\tidentityAddr,\n\t\t\t\tprivileges,\n\t\t\t\troutineAuthorizationsRaw,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getQuickWallet = ({ hash }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tsalt,\n\t\t\t\thash,\n\t\t\t\tencryptedWallet,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nconst updateCfg = (current, type, cfg) => {\n\tconst newCfg = { ...current }\n\tnewCfg[type] = { ...cfg }\n\treturn newCfg\n}\n\nexport default function uiReducer(state = initialState.config, action) {\n\tswitch (action.type) {\n\t\tcase UPDATE_RELAYER_CFG:\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import account from './accountReducer'\nimport signin from './signinReducer'\nimport identity from './identityReducer'\nimport wallet from './walletReducer'\nimport items from './itemsReducer'\nimport newItem from './newItemsReducer'\n// import currentItem from './currentItemsReducer'\nimport spinners from './spinnersReducer'\nimport ui from './uiReducer'\nimport toasts from './toastsReducer'\nimport confirm from './confirmReducer'\nimport nav from './navReducer'\nimport language from './languageReducer'\nimport validations from './validateItemsReducer'\nimport newTransactions from './newTransactionsReducer'\nimport web3Transactions from './web3TransactionsReducer'\nimport tags from './tagsReducer'\nimport ethNetwork from './ethNetworkReducer'\nimport config from './configReducer'\nimport analytics from './analyticsReducer'\nimport { filterActions } from 'redux-ignore'\nimport * as types from 'constants/actionTypes'\n\nexport const persistReducers = {\n\taccount,\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\n\tui: filterActions(ui, [types.UPDATE_UI]),\n\tlanguage,\n\tweb3Transactions,\n\ttags,\n\tethNetwork,\n\tconfig,\n\tanalytics,\n}\n\nexport const memoryReducers = {\n\tsignin,\n\tidentity,\n\twallet,\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\n\ttoasts,\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\n\tvalidations,\n\tnewTransactions,\n}\n","import {\n\tCREATE_ACCOUNT,\n\tRESET_ACCOUNT,\n\tUPDATE_ACCOUNT,\n} from '../constants/actionTypes'\nimport initialState from 'store/initialState'\nimport { Base, Account } from 'adex-models'\n\nexport default function accountReducer(state = initialState.account, action) {\n\tlet newState\n\tlet newAccount\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase CREATE_ACCOUNT:\n\t\t\tnewAccount = { ...action.account }\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase RESET_ACCOUNT:\n\t\t\tnewAccount = initialState.account\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase UPDATE_ACCOUNT:\n\t\t\tnewAccount = Base.updateObject({\n\t\t\t\titem: newState,\n\t\t\t\tnewValues: { ...action.newValues },\n\t\t\t\tobjModel: Account,\n\t\t\t})\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_ITEM,\n\tDELETE_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM_FROM_ITEM,\n\tADD_ITEM_TO_ITEM,\n\tUPDATE_ALL_ITEMS,\n\tRESET_ALL_ITEMS,\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\nimport initialState from 'store/initialState'\nimport { Item } from 'adex-models'\n\nexport default function itemsReducer(state = initialState.items, action) {\n\tlet newState\n\tlet newCollection\n\tlet newItem\n\tlet collectionId\n\tlet item\n\n\tconst collection = (state = {}, action) => {\n\t\tif (!action.item) return state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[action.item.id]: action.item,\n\t\t}\n\t}\n\n\tconst removeCollectionProp = (collection = {}, prop) => {\n\t\tlet newCol = { ...collection }\n\t\tdelete newCol[prop]\n\t\treturn newCol\n\t}\n\n\tif (action.item && action.itemType) {\n\t\tnewState = { ...state }\n\t\titem = { ...action.item }\n\t\tcollectionId = action.itemType\n\t}\n\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\n\t\t\t// id is going to be set when it comes here\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase ADD_ITEM_TO_ITEM:\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase DELETE_ITEM:\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase REMOVE_ITEM_FROM_ITEM:\n\t\t\tnewItem = Item.removeItem(\n\t\t\t\tnewState[collectionId][item._id],\n\t\t\t\taction.toRemove\n\t\t\t)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ITEM:\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ALL_ITEMS:\n\t\t\tnewState = { ...state }\n\t\t\tconst newItems = action.items.reduce((items, item, index) => {\n\t\t\t\tconst currentItems = { ...items }\n\t\t\t\tconst newItem = { ...item }\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\n\t\t\t\treturn currentItems\n\t\t\t}, newState[action.itemType])\n\n\t\t\tnewState[action.itemType] = newItems\n\t\t\treturn newState\n\t\tcase RESET_ALL_ITEMS:\n\t\t\tnewState = { ...initialState.items }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_UI } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiReducer(state = initialState.ui, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_UI:\n\t\t\tnewState = { ...state }\n\t\t\tif (action.category) {\n\t\t\t\tnewState[action.category] = { ...newState[action.category] }\n\t\t\t\tnewState[action.category][action.item] = action.value\n\t\t\t} else {\n\t\t\t\tnewState[action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import initialState from 'store/initialState'\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\nimport { setLang } from 'services/translations/translations'\n\nexport default function languageReducer(state = initialState.language, action) {\n\tswitch (action.type) {\n\t\tcase CHANGE_LANGUAGE:\n\t\t\tlet newLang = action.lang || state\n\t\t\tsetLang(newLang)\n\t\t\treturn newLang\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_WEB3_TRANSACTION,\n\tUPDATE_WEB3_TRANSACTION,\n\tRESET_WEB3_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function web3TransactionsReducer(\n\tstate = initialState.web3Transactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\tlet newAddrTxs\n\tlet pendingTxs\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateObj = ({ obj, key, val }) => {\n\t\tobj = obj || {}\n\t\tobj[key] = val\n\n\t\treturn obj\n\t}\n\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\n\t\t\tpTxs.push(newTx.hash)\n\t\t} else {\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\n\t\t}\n\n\t\treturn pTxs\n\t}\n\n\tif (!action.addr) {\n\t\treturn state\n\t}\n\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\n\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\n\t// If we keep the transactions on the node we can clean them from local storage on address change\n\tswitch (action.type) {\n\t\tcase ADD_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...action.value }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase UPDATE_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase RESET_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: { txHash: action.tx },\n\t\t\t})\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_TAGS:\n\t\t\tnewState = { ...state, ...action.tags }\n\t\t\treturn newState\n\t\tcase ADD_NEW_TAG:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.tag] = action.tag\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_GAS_DATA:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.gasData = { ...action.gasData }\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ANALYTICS,\n\tRESET_ANALYTICS,\n\tUPDATE_ANALYTICS_TIMEFRAME,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function analyticsReducer(\n\tstate = initialState.analytics,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.timeframe = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.side] = { ...newState[action.side] }\n\t\t\tnewState[action.side][action.eventType] = {\n\t\t\t\t...newState[action.side][action.eventType],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][\n\t\t\t\taction.timeframe\n\t\t\t] = { ...action.value }\n\t\t\treturn newState\n\n\t\tcase RESET_ANALYTICS:\n\t\t\tnewState = { ...initialState.analytics }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function signinReducer(state = initialState.signin, action) {\n\tlet newState\n\tlet newSignin\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SIGNIN:\n\t\t\tnewSignin = { ...newState }\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\n\t\t\t\tnewSignin[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewSignin[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newSignin\n\n\t\t\treturn newState\n\n\t\tcase RESET_SIGNIN:\n\t\t\tnewSignin = { ...initialState.signin }\n\t\t\tnewState = newSignin\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function identityReducer(state = initialState.identity, action) {\n\tlet newState\n\tlet newIdentity\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_IDENTITY:\n\t\t\tnewIdentity = newState\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewIdentity[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newIdentity\n\n\t\t\treturn newState\n\n\t\tcase RESET_IDENTITY:\n\t\t\tnewIdentity = { ...initialState.identity }\n\t\t\tnewState = newIdentity\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function walletReducer(state = initialState.wallet, action) {\n\tlet newState\n\tlet newWallet\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_WALLET:\n\t\t\tnewWallet = newState\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\n\t\t\t\tnewWallet[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewWallet[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newWallet\n\n\t\t\treturn newState\n\n\t\tcase RESET_WALLET:\n\t\t\tnewWallet = { ...initialState.wallet }\n\t\t\tnewState = newWallet\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newItemsReducer(state = initialState.newItem, action) {\n\tlet newState\n\tlet newItem\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...action.item }\n\t\t\tnewState[action.itemType] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\n\t\t\tnewState[action.item] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_ALL_NEW_ITEMS:\n\t\t\tnewState = { ...initialState.newItem }\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function spinnersReducer(state = initialState.spinners, action) {\n\tlet newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SPINNER:\n\t\t\tnewState[action.spinner] = action.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_ITEM:\n\t\t\tnewState['update' + action.item._id] = false\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function toastsReducer(state = initialState.toasts, action) {\n\tlet newState\n\tlet newToast\n\n\tswitch (action.type) {\n\t\tcase ADD_TOAST:\n\t\t\tnewToast = { ...action.toast }\n\t\t\tnewToast.added = Date.now()\n\t\t\tnewState = [newToast, ...state]\n\t\t\treturn newState\n\n\t\tcase REMOVE_TOAST:\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n// import Helper from './../helpers/miscHelpers'\n\nexport default function confirmReducer(state = initialState.confirm, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase CONFIRM_ACTION:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.data = { ...action.confirm.data }\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\n\t\t\tnewState.onCancel = action.confirm.onCancel\n\t\t\tnewState.active =\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\n\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\n\t\t\tnewState.calledOn = Date.now()\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_NAV } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function navReducer(state = initialState.nav, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NAV:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ITEM_VALIDATION,\n\tRESET_ITEM_VALIDATION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function validateItemsReducer(\n\tstate = initialState.validations,\n\taction\n) {\n\tlet newState\n\tlet newErrors\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tcase RESET_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item] }\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\n\t\t\t\tdelete newErrors[action.key]\n\t\t\t} else if (newErrors && !action.key) {\n\t\t\t\tnewErrors = {}\n\t\t\t}\n\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_TRANSACTION,\n\tRESET_NEW_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newTransactionsReducer(\n\tstate = initialState.newTransactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateTx = ({ tx, key, val }) => {\n\t\ttx = tx || {}\n\t\ttx[key] = val\n\n\t\treturn tx\n\t}\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_TRANSACTION:\n\t\t\tnewTx = {\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\n\t\t\t}\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\n\n\t\t\t// console.log('newTx', newTx)\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_NEW_TRANSACTION:\n\t\t\tnewTx = { ...initialState.newTransactions.default }\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\nimport thunk from 'redux-thunk'\nimport { persistReducers, memoryReducers } from 'reducers'\nimport history from './history'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { persistStore, persistCombineReducers } from 'redux-persist'\nimport localStorage from 'redux-persist/es/storage'\n// import session from 'redux-persist/lib/storage/session'\n\nconst reduxRouterMiddleware = routerMiddleware(history)\n\nconst configStorage = {\n\tkey: 'persist',\n\tstorage: localStorage,\n}\n\n// const configSession = {\n//   key: 'session',\n//   storage: session,\n// }\n\n// const rootReducer = combineReducers(reducers)\n\n// TODO: make session reducer(signin) - RAM reducer (no persist)\nconst rootReducer = combineReducers({\n\tpersist: persistCombineReducers(configStorage, persistReducers),\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\n\trouter: connectRouter(history),\n})\n\nconst logger = store => next => action => {\n\t// if (action.type === 'UPDATE_NEWITEM') {\n\t//   return next(action)\n\t// }\n\n\tconsole.groupCollapsed(action.type)\n\tconsole.info('dispatching', action)\n\tlet result = next(action)\n\tconsole.log('next state', store.getState())\n\tconsole.groupEnd(action.type)\n\treturn result\n}\n\nfunction configureStoreProd(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\t// logger\n\t]\n\n\tlet store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcompose(applyMiddleware(...middlewares))\n\t)\n\n\tlet persistor = persistStore(store)\n\n\treturn { persistor, store }\n}\n\nfunction configureStoreDev(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n\t\treduxImmutableStateInvariant(),\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t)\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\n\t\t\tstore.replaceReducer(nextReducer)\n\t\t})\n\t}\n\n\tlet persistor = persistStore(store)\n\treturn { persistor, store }\n}\n\nconst configureStore =\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\n\nexport default configureStore()\n","import configureStore from './configureStore'\n\nexport default configureStore\n\nexport const store = configureStore.store\nexport const persistor = configureStore.persistor\nexport const dispatch = store.dispatch\nexport const getState = store.getState\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetSigner,\n\tgetMultipleTxSignatures,\n} from 'services/smart-contracts/actions/ethers'\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\nimport { Contract } from 'ethers'\nimport {\n\tbigNumberify,\n\tparseUnits,\n\tgetAddress,\n\tInterface,\n\tkeccak256,\n} from 'ethers/utils'\nimport { generateAddress2 } from 'ethereumjs-util'\nimport { executeTx } from 'services/adex-relayer'\nimport {\n\tselectRelayerConfig,\n\tselectFeeTokenWhitelist,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\nimport solc from 'solcBrowser'\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\n\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\n\nconst ERC20 = new Interface(ERC20TokenABI)\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\n\nexport async function getIdentityDeployData({\n\towner,\n\trelayerRoutineAuthValidUntil = 10648454444,\n}) {\n\tconst {\n\t\tidentityFactoryAddr,\n\t\trelayerAddr,\n\t\tbaseIdentityAddr,\n\t\tidentityRecoveryAddr,\n\t\tcoreAddr,\n\t\tmainToken,\n\t} = selectRelayerConfig()\n\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\n\n\tconst routineAuthorizationsRaw = [\n\t\t{\n\t\t\trelayer: relayerAddr,\n\t\t\toutpace: coreAddr,\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tfeeTokenAmount: '0x00',\n\t\t},\n\t]\n\n\tconst bytecode = getProxyDeployBytecode(\n\t\tbaseIdentityAddr,\n\t\tprivileges,\n\t\t{\n\t\t\tprivSlot: 0,\n\t\t\troutineAuthsSlot: 1,\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\n\t\t\t\tnew RoutineAuthorization(x).hash()\n\t\t\t),\n\t\t},\n\t\tsolc\n\t)\n\n\tconst salt = keccak256(owner)\n\n\tconst identityAddr = getAddress(\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\n\t)\n\n\treturn {\n\t\tidentityFactoryAddr,\n\t\tbaseIdentityAddr,\n\t\tbytecode,\n\t\tsalt,\n\t\tidentityAddr,\n\t\tprivileges,\n\t\troutineAuthorizationsRaw,\n\t}\n}\n\nexport async function withdrawFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity, stats } = account\n\tconst { authType } = wallet\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, mainToken.decimals)\n\n\tconst tokenAddr = mainToken.address\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: tokenAddr,\n\t\tto: tokenAddr,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t\twithdrawTx: true,\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: toWithdraw,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\n\n\tlet actualWithdrawAmount = toWithdraw\n\n\tif (toWithdraw.gt(maxWithdraw)) {\n\t\tactualWithdrawAmount = maxWithdraw\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\n\t\t\tif (tx.withdrawTx) {\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tactualWithdrawAmount.toString(),\n\t\t\t\t])\n\t\t\t}\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, mainToken.decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function setIdentityPrivilege({\n\taccount,\n\tsetAddr,\n\tprivLevel,\n\tgetFeesOnly,\n}) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst identityInterface = new Interface(Identity.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: identityAddr,\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t]),\n\t}\n\n\tconst txns = [tx1]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\ttxnsByFeeToken,\n\t\tidentityAddr,\n\t\twallet,\n\t\tprovider,\n\t\textraData: {\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t},\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\nfunction txnsByTokenWithSaiToDaiSwap({\n\ttxns,\n\tmainToken,\n\tdaiAddr,\n\tsaiAddr,\n\tidentityAddr,\n}) {\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\n\t\t(current, tx, i) => {\n\t\t\tconst { withdrawAmountByToken } = tx\n\n\t\t\tconst needSaiToDaiSwap =\n\t\t\t\t!!withdrawAmountByToken &&\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\n\t\t\t\tmainToken.address === daiAddr &&\n\t\t\t\tsaiAddr !== daiAddr\n\n\t\t\tlet feeTokenAddr = ''\n\n\t\t\tif (needSaiToDaiSwap) {\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\n\t\t\t\t)\n\t\t\t\tfeeTokenAddr = daiAddr\n\t\t\t}\n\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\n\t\t\t// normalize tx\n\t\t\ttx.feeTokenAddr = feeTokenAddr\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\n\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = (\n\t\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] || []\n\t\t\t).concat([tx])\n\n\t\t\treturn current\n\t\t},\n\t\t{\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\n\t\t\ttxnsByFeeToken: {},\n\t\t}\n\t)\n\n\treturn { txnsByFeeToken, saiWithdrawAmount }\n}\n\nexport async function getIdentityTxnsWithNoncesAndFees({\n\tamountInMainTokenNeeded = '0',\n\ttxns = [],\n\tidentityAddr,\n\tprovider,\n\tIdentity,\n\taccount,\n\tgetToken,\n}) {\n\tconst {\n\t\tsweepTxns = [],\n\t\tswapAmountsByToken = {},\n\t} = await getSweepingTxnsIfNeeded({\n\t\tamountInMainTokenNeeded,\n\t\taccount,\n\t})\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst saiToken = selectSaiToken()\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\n\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\n\tlet identityContract = null\n\n\tif (isDeployed) {\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\n\t}\n\n\tconst initialNonce = isDeployed\n\t\t? (await identityContract.nonce()).toNumber()\n\t\t: 0\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns: sweepTxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// 1st - always get sweeping txns (channelWithdraw)\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\n\t// 3rd - make other txns with the main token only\n\n\t// TODO: make it work with other tokens\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\n\n\tif (!saiSwapAmount.isZero()) {\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\n\t\t\t...(await swapSaiToDaiTxns({\n\t\t\t\tgetToken,\n\t\t\t\tidentityAddr,\n\t\t\t\tdaiAddr,\n\t\t\t\tsaiToken,\n\t\t\t\tswapAmount: saiSwapAmount,\n\t\t\t})),\n\t\t]\n\t}\n\n\tconst allFeeTokens = [\n\t\t...new Set([\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\n\t\t]),\n\t]\n\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\n\t\ttxns[token] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\n\t\t]\n\n\t\treturn txns\n\t}, {})\n\n\tlet currentNonce = initialNonce\n\n\tObject.keys(txnsByFeeToken).forEach(key => {\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\n\t\t\tconst { routinesTxCount = 0, routinesSweepTxCount = 0, isSweepTx } = tx\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\n\t\t\tconst minFeeAmount = bigNumberify(\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : feeToken.min\n\t\t\t)\n\n\t\t\tconst routinesFeeAmount = bigNumberify(routinesTxCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\t// Total relayer fees for the transaction\n\t\t\tconst feeAmount = minFeeAmount.add(routinesFeeAmount).toString()\n\n\t\t\t// fees that are not pre calculated with in the total identity balance\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\n\t\t\t\t.toString()\n\n\t\t\tconst txWithNonce = {\n\t\t\t\t...tx,\n\t\t\t\tfeeTokenAddr: feeToken.address,\n\t\t\t\tfeeAmount,\n\t\t\t\tnonce: currentNonce,\n\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t}\n\n\t\t\tcurrentNonce += 1\n\n\t\t\treturn txWithNonce\n\t\t})\n\t})\n\n\treturn txnsByFeeToken\n}\n\nexport async function getApproveTxns({\n\tgetToken,\n\ttoken,\n\tidentityAddr,\n\tfeeTokenAddr,\n\tapproveForAddress,\n\tapproveAmount,\n}) {\n\tconst tokenContract = getToken(token)\n\n\tconst allowance = await tokenContract.allowance(\n\t\tidentityAddr,\n\t\tapproveForAddress\n\t)\n\n\tconst approveTxns = []\n\n\tif (!allowance.isZero()) {\n\t\tapproveTxns.push({\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: token.address,\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\n\t\t})\n\t}\n\n\tapproveTxns.push({\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: token.address,\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\n\t})\n\n\treturn approveTxns\n}\n\nasync function swapSaiToDaiTxns({\n\tidentityAddr,\n\tdaiAddr,\n\tsaiToken,\n\tswapAmount,\n\tgetToken,\n}) {\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: saiToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\n\t\tapproveAmount: swapAmount,\n\t})\n\n\tconst swapTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tto: SCD_MCD_MIGRATION_ADDR,\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\n\t}\n\n\treturn [...approveTxns, swapTx]\n}\n\n// TODO: use byToken where needed\n// currently works because only using SAI and DAI only\nexport async function getIdentityTxnsTotalFees({\n\ttxnsByFeeToken,\n\tmainToken = {},\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst bigZero = bigNumberify('0')\n\tconst feesData = Object.values(txnsByFeeToken)\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\n\t\t.reduce(\n\t\t\t(result, tx) => {\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\n\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\n\t\t\t\t).add(txFeeAmount)\n\n\t\t\t\treturn result\n\t\t\t},\n\t\t\t{ total: bigZero, byToken: {} }\n\t\t)\n\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\n\t\treturn {\n\t\t\taddress: key,\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\n\t\t\tsymbol,\n\t\t\tfeeFormatted: `${formatTokenAmount(\n\t\t\t\tvalue.toString(),\n\t\t\t\tdecimals,\n\t\t\t\tfalse,\n\t\t\t\t4\n\t\t\t)} ${symbol}`,\n\t\t}\n\t})\n\n\tconst fees = {\n\t\ttotal: formatTokenAmount(\n\t\t\tfeesData.total.toString(),\n\t\t\tmainToken.decimals || 18\n\t\t),\n\t\ttotalBN: feesData.total,\n\t\tbyToken,\n\t}\n\n\treturn fees\n}\n\nexport async function processExecuteByFeeTokens({\n\ttxnsByFeeToken,\n\twallet,\n\tprovider,\n\tidentityAddr,\n\textraData = {},\n}) {\n\tconst signer = await getSigner({ wallet, provider })\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\n\t\tconst data = {\n\t\t\ttxnsRaw,\n\t\t\tsignatures,\n\t\t\tidentityAddr,\n\t\t\t...extraData,\n\t\t}\n\n\t\tconst result = await executeTx(data)\n\n\t\treturn {\n\t\t\tresult,\n\t\t}\n\t})\n\n\tconst results = await Promise.all(all)\n\n\treturn results\n}\n","export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n"],"sourceRoot":""}