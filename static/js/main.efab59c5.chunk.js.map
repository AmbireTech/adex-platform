{"version":3,"sources":["selectors/selectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/locationSelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/configSelectors.js","selectors/newTransactionSelectors.js","selectors/newItemsSelectors.js","selectors/itemsSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/index.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","helpers/localStorageHelpers.js","constants/actionTypes.js","resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/CampaignReceipt.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/charts/simplified.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/IdentitySteps.js","components/signin/identity/styles.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/actions/core.js","services/requester/requester.js","services/requester/index.js","helpers/formatters.js","services/store-data/analytics.js","services/store-data/loop.js","constants/targeting.js","services/crypto/crypto.js","services/translations/translations.js","constants/misc.js","store/initialState.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/ledger_logo_header.png","actions/common.js","actions/uiActions.js","helpers/errors.js","helpers/numbers.js","actions/itemActions.js","services/auth/auth.js","actions/accountActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","helpers/timeHelpers.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/campaignActions.js","actions/newItemsActions.js","actions/index.js","constants/spinners.js","services/smart-contracts/ethers.js","services/wallet/wallet.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","helpers/miscHelpers.js","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404-no.png","resources/404-yes.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js","services/adex-market/actions.js","services/smart-contracts/actions/identity.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/channelsReducer.js","reducers/ensReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","services/adex-relayer/actions.js","services/smart-contracts/actions/stats.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectAccount","state","persist","account","selectChannels","channels","selectAuth","createSelector","_ref","wallet","identity","address","authSig","authType","selectWallet","_ref2","selectAuthSig","_ref3","selectWalletAddress","_ref4","selectAuthType","_ref5","selectAccountIdentity","_ref6","selectAccountIdentityAddr","_ref7","selectAccountStats","_ref8","stats","selectAccountStatsRaw","_ref9","settings","_ref10","raw","selectAccountStatsFormatted","_ref11","formatted","selectChannelsWithUserBalancesEligible","_ref12","relayerData","routineAuthorizationsData","_ref13","withOutstandingBalance","Object","toConsumableArray","selectChannelsWithUserBalancesAll","_ref14","withBalanceAll","objectSpread","selectAccountIdentityCurrentPrivileges","_ref15","_ref15$relayerData","currentPrivileges","selectWalletPrivileges","selectIdentity","memory","selectEnsAddressByAddr","ensAddresses","_","selectLocation","router","location","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","selectNavTitle","nav","navTitle","selectSide","side","selectGlobalUi","ui","global","selectSpinners","spinners","selectIdentityUi","byIdentity","identityAddr","identitiesUi","selectCompanyData","companyData","selectSpinnerById","id","selectRegistrationAllowed","ids","map","allowRegistration","process","selectEasterEggsAllowed","allowEasterEggs","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectSelectedCampaigns","selectedItems","campaigns","selectLoginDirectSide","goToSide","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","translate","t","getState","selectAnalytics","analytics","selectAnalyticsTimeframe","timeframe","selectCampaignAnalytics","selectDemandAnalytics","demand","selectCampaignAnalyticsByType","type","campaignAnalytics","selectCampaignAnalyticsByChannelStats","campaignId","slicedToArray","analyticsByType","byChannelStats","selectCampaignAnalyticsByChannelToAdUnit","reportChannelToAdUnit","selectAnalyticsDataAggr","eventType","metric","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","selectCampaignEventsCount","values","reduce","selectTotalImpressions","eventCounts","value","Number","selectTotalClicks","selectTotalMoney","eventPayouts","_ref16","formatTokenAmount","selectTotalImpressionsWithPayouts","_ref17","_ref18","_ref19","filter","c","find","e","time","_ref20","selectAverageCPM","_ref21","_ref22","totalMoney","totalImpressions","selectStatsChartData","_ref24","noLastOne","rest","objectWithoutProperties","data","_ref25","_ref25$data","slice","memo","item","labels","push","formatDateTime","datasets","_ref23","parseFloat","parseInt","parseValueByMetric","selectValidations","validations","selectValidationsById","selectRelayerConfig","config","relayer","selectFeeTokenWhitelist","feeTokenWhitelist","all","tokens","selectRoutineWithdrawTokens","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","selectMainToken","relayerConfig","mainToken","selectSaiToken","saiAddr","selectMainFeeToken","selectNewTransactionById","newTransactions","txns","selectNewItems","newItem","selectNewCampaign","Campaign","CampaignModel","selectNewAdSlot","AdUnit","AdUnitModel","AdSlot","AdSlotModel","selectItemsByType","items","itemType","selectItemsArrayByType","selectCampaigns","selectCampaignWithAnalyticsById","campaign","clicks","impressions","selectCampaignsArray","selectAdUnits","adUnits","selectAdUnitsArray","selectAdSlotsArray","adSlots","selectCampaignsTableData","_ref$decimals","depositAsset","decimals","spec","media","status","humanFriendlyName","originalName","name","depositAmount","formatUnits","fundsDistributedRatio","minPerImpression","created","activeFrom","withdrawPeriodStart","actions","receiptAvailable","selectCampaignsMaxImpressions","Math","max","apply","i","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","mediaUrl","fallbackUnit","concat","mediaMime","title","replace","to","ipfs","selectAdUnitsTableData","units","selectCampaignStatsTableData","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","keys","key","website","ctr","toFixed","earnings","selectCampaignStatsMaxValues","channelId","result","current","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","sort","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","label","selectSlotTypesSourceWithDemands","symbol","constants","AdUnitsTypes","split","dA","bigNumberify","avgCPM","dB","gt","index","source","hasPopularGroup","group","hasNoDemandGroup","demandIfo","totalVolume","__webpack_require__","d","__webpack_exports__","translationsSelectors_t","configSelectors_selectRelayerConfig","isEthAddressERC20","asyncToGenerator","regenerator_default","mark","_callee","addr","provider","contract","_args","wrap","_context","prev","next","isEthAddress","getEthers","sent","ethers","Contract","ERC20TokenABI","Promise","totalSupply","balanceOf","AddressZero","allowance","abrupt","t0","stop","this","isConnectionLost","eth","race","resolve","reject","setTimeout","getBlockNumber","_x","urlRegex","emailRegex","passwordRegex","validUrl","url","test","validEmail","email","validateNumber","numberStr","isNaN","isFinite","validName","msg","errMsgArgs","validPassword","password","utils","getAddress","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","ethAddressZero","ethAddressERC20","freeAdExENS","_callee2","_ref3$ens","ens","ensAddress","_context2","resolveName","code","_x2","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","bundle","path","showOnTrezor","getAddresses","_ref3$from","_ref3$to","success","payload","ethereumGetAddress","signTx","params","txProps","signature","txSigned","resolveProperties","hexlify","ethereumSignTransaction","transaction","r","s","v","serializeTransaction","Error","error","sendTransaction","_callee3","txData","_context3","signMessage","_callee4","message","res","_args4","_context4","ethereumSignMessage","hex","hash","mode","SignatureModes","GETH","_x3","connect","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","signetTx","sign","_callee5","_args5","_context5","arrayify","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","_getSigner","signer","_signer2","_signer3","AUTH_TYPES","METAMASK","LEDGER","LedgerSigner","TREZOR","GRANT","QUICK","getTypedDataHash","typedData","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","authToken","floor","random","MAX_SAFE_INTEGER","toString","_x4","_signTx","tx","sig","Transaction","hashHex","splitSig","getMultipleTxSignatures","_x5","_getMultipleTxSignatures","signatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getValidatorRequester","baseUrl","Requester","getRequesters","leader","validators","follower","requester","validator","processResponse","json","text","then","handleRequesterErrorRes","getValidatorAuthToken","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","validatorId","existingAuth","token","validatorAuthTokens","era","Date","now","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","fetch","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","headers","authorization","results","authTokens","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","lastApprovedState","route","method","closeCampaign","body","JSON","stringify","events","Content-Type","identityAnalytics","leaderAuth","limit","segmentByChannel","aggregates","queryParams","identityCampaignsAnalytics","loadFromLocalStorage","localStorage","getItem","parse","err","saveToLocalStorage","serialized","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_CAMPAIGN_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","module","exports","p","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","props","close","setState","active","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","anchorOrigin","vertical","horizontal","top","react_default","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","useSelector","assign","_ref$isProp","_ref$args","Confirm","bind","assertThisInitialized","confirm","visible","_this$props","children","cancelLabel","confirmLabel","noActionBtns","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","onConfirm","onCancel","calledOn","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","Array","_key","resolveToLocation","pathname","history","createHref","handleClick","event","preventDefault","stopPropagation","_this$props2","forwardedRef","match","staticContext","toLocation","ref","href","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","Anchor","target","getUrl","Link","underline","draggable","rel","style","styles","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","mixins","drawerPaper","content","palette","background","default","padding","marginLeft","contentInner","sideIndex","advertiser","publisher","0","1","handleChange","ev","execute","useStyles","makeStyles","activeColor","accentOne","main","accentTwo","minWidth","&$selected","selected","indicator","SideSwitch","Box","bgcolor","boxShadow","Tabs","onChange","indicatorColor","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","adxLink","hint","&:hover","sideSwitch","marginBottom","useCommonStyles","SideNav","commonClasses","routerLocation","availableIdentityBalanceMainToken","List","component","AdexIconTxt","spinners_LoadingSection","ListItemText","Typography","gutterBottom","Divider","dashboard_SideSwitch","button","ListItemIcon","Dashboard_default","primary","Fragment","CampaignIcon","List_default","toUpperCase","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","_useState","useState","_useState2","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","handleDrawerToggle","imgSrc","btnMenuLabel","formatAddress","AppBar","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","crop","x","round","y","getContext","drawImage","toBlob","file","URL","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","preventBubbling","revokeObjectURL","onCropChange","saveCropped","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","errMsg","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","Grid","container","alignContent","sm","md","react_image_crop_default","imageStyle","imgDropzonePreview","disabled","Save_default","dist_es","img_Img","grey","marginTop","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","exact","required","isValid","checkExactishAspect","masgArgs","dirty","validateMedia","getMediaSize","validateId","ValidationHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","newValues","onOk","vals","forEach","onChangeReady","errImg","imgPropName","AVATAR_MAX_WIDTH","AVATAR_MAX_HEIGHT","Cancel_default","forms_ImgForm_ImgForm","imgLabel","ValidItemHoc","SaveBtn","spinner","dirtyProps","save","validationId","fabButton","Check_default","fabProgress","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","G404","xs","inline","textTransform","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","align","PageNotFound_G404","IMG_404_1","window","IMG_404_2","adSlotPut","schemas","adUnitPut","campaignPut","AdSizesByValue","ItemsConstants","ItemHoc","Item","updateNav","objModel","dp","indexOf","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","updateItem","_authType","editImg","_activeInput","_this$props4","matchId","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","_this$props5","Joi","_this$props6","description","_this$props7","page_not_found_PageNotFound","isDemo","canEdit","temp","fallbackMediaUrl","titleErr","descriptionErr","react_router","when","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","containers_ImgDialog_ImgDialog","_id","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","lg","htmlFor","multiline","rows","validateDescription","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","Info_default","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","MUIDataTableEnhanced","columns","mui_datatables_dist_default","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","disableToolbarSelect","toolbarEnabled","mapStatusIcons","humanFriendlyStatus","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","toLowerCase","cellImg","sliderFilterOptions","_ref$initial","initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","min","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","formatAbbrNum","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","pl","pr","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selector","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","useCallback","useEffect","ReloadData","handleReload","react","Tooltip","Refresh","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","PRINTING_CAMPAIGNS_RECEIPTS","startIcon","Print","RRIconButton","getCols","maxDeposit","customBodyRender","includes","commify","sortDirection","enterDelay","Visibility","Receipt","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","customToolbarSelect","displayData","setSelectedRows","selectedIndexes","dataIndex","handlePrintSelectedReceipts","CampaignsTable","_useSelector","_useTableData","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","innerWidth","StepLabel","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","MaterialStepper","_props$initialPage","initialPage","_props$pages","setCurrentPage","canReverse","pageProps","Comp","_page$pageValidation","pageValidation","onValid","stepsId","dirtyErrors","dirtyErrs","getDirtyValidationErrors","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","onKeyPressed","onKeyPress","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","FormSteps","CancelBtn","onSave","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","goToNextPageIfValid","MaterialUiStepper","FormSteps_FormSteps","fullHeight","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialog","iconButton","textButton","fabVariant","btnLabelArgs","btnLabel","dialogActions","onBeforeOpen","btnProps","setOpen","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","closeDialog","NewAdUnitHoc","ItemForm","updateNewItem","addUnit","resetNewItem","saved","formControl","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","helperText","_props$fullWidth","noSrcLabel","IconComponent","inputLabel","useRef","_React$useState","_React$useState2","labelWidth","setLabelWidth","offsetWidth","Select","ListSubheader","spinners_InputLoading","adUnitPost","AdTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","addUtmLink","addUtmParameters","removeFromUrl","protocol","host","newQuery","_i","_Object$entries","entries","UTM_PARAMS","format","addUrlUtmTracking","newTemp","checked","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getWidAndHightFromType","sizes","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","getSuggestions","inputValue","allowCreate","validateCreation","suggestion","newSuggestion","chip","inputRoot","multiple","validateAutocomplete","errorText","onInit","setInputValue","suggestions","selectedItem","Autocomplete","getOptionLabel","option","onInputChange","renderInput","inputProps","SourcesSelect","SOURCES","collection","tag","score","placeholder","AdUnitTargeting","handleTargetChange","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","splice","targetTag","_ref2$source","autocomplete_Autocomplete","openOnClick","suggestionMatch","showSuggestionsWhenValueIsSet","slider","markLabel","collections","tg","newCollection","targeting","tags","_ref4$source","_ref4$target","AddIcon","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref$targets","subHeader","dense","subheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","strong","imgPreview","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","openCampaign","adUnitsArray","OPENING_CAMPAIGN","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedItemsIds","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","InputProps","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","isNumberString","moment","MomentUtils","getTotalImpressions","dep","CampaignFinance","minTargetingScore","_campaign$temp","maxChannelFees","maxDepositFormatted","GETTING_CAMPAIGNS_FEES","date","valueOf","errDepAmnt","errMin","errFrom","errTo","validateNumberString","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","UnitsTable","NewCampaignFormPreview","_newItem$temp","getCampaignActualFees","FormsCommon_WalletAction","CampaignFormPreview_UnitsTable","feesFormatted","totalSpendFormatted","addSlot","AdSlotBasic","adTypesSource","UPDATING_SLOTS_DEMAND","updateSlotsDemandThrottled","errType","updateNewSlot","NewAdSlotHoc","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch","Collapse","in","PredefinedTags","custom","AdSlotTargeting","SlotFallback","AdSlotPreview","mainTokenSymbol","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","onInvalid","validateNewCampaignAdUnits","validateNewCampaignFinance","CampaignFormPreview","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","validateNewSlotBasics","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","truncateString","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","onRowsSelect","rowsSelected","AdUnitsTable","campaignUnits","_props$selected","setSelectorArgs","allRowsSelected","AdSlotsTable_RRIconButton","AdSlotsTable","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","CardContent","ValidatedSlotMinCPM","_selectMainToken","minCPM","mul","parseUnits","validateAmount","_ref2$prop","_ref2$value","_ref2$item","updateItemTemp","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","join","CampaignProps","_selectMainToken2","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","formatNumberWithCommas","CampaignStatsBreakdownTable","_useSelector2","dottedDivider","borderBottom","solidDevider","breakdownTable","breakAll","whiteSpace","pageBreak","pageBreakAfter","campaignBreakdown","companyName","firstLastName","country","mb","mt","Table","TableHead","TableRow","TableCell","TableBody","CompanyDetails","updateCompanyData","a4","hideOnMobile","hideOnDesktop","CampaignReceipt","invoice","useParams","selectedByPropsOrParams","receipts","Receipt_CompanyDetails","react_to_print_lib_default","trigger","containers_Receipt_Receipt","VIEW_MODE","context","handleTabChange","tabIndex","CampaignActions","statistics","scrollable","scrollButtons","clone","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","CampaignItem","ownProps","rowsView","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","infoStatsContainer","infoCard","linkCard","&:hover, &:focus","dashboardCardBody","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","payouts","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","Chart","pluginService","register","afterDraw","chart","tooltip","_active","activePoint","controller","ctx","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","yLabel","hover","xAxes","gridLines","scaleLabel","labelString","yAxes","ticks","beginAtZero","drawOnChartArea","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","typography","pxToRem","_ref$bgColor","bgColor","_ref2$bgColor","progress","StatsCard","explain","deepOrange","amber","lime","contrastThreshold","tonalOffset","disabledBackground","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","MuiPaper","rounded","MuiTooltip","MuiFormControl","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","themeMUI","responsiveFontSizes","factor","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","timeHints","hour","day","week","BasicStats","averageCPM","loadingImpressions","loadingMoney","loadingCPM","loadingClicks","dataInSync","DashboardStats_StatsCard","updateAnalyticsTimeframe","Infinity","simplified_SimpleStatistics","DashboardStats","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","WithdrawFromIdentity","_useSelector3","amountToWithdraw","withdrawTo","_useSelector4","errAmount","errAddr","updateNewTransaction","NewTransactionHoc","TransactionHoc","txId","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","getErrMsg","saveFn","acc","log","txs","txResults","catch","WithdrawAnyTokenFromIdentityForm","numStr","tokenAddress","withdrawToSpinner","balanceAnySpinner","tokenBalance","tokenDecimals","errToken","validateAddress","IdentityPrivilegeLevel","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPageForm","handleValidate","_timeout","setEns","validateENS","withdrawAmount","setEnsSpinner","noValidate","IdentityWithdrawPreview","valueToKey","feesData","fees","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","identityAvailable","previewWarnMsgs","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","validateIdentityWithdraw","TransactionPreview","_ref4$transaction","identityWithdraw","SetIdentityPrivilege","validatePrivilegesChange","addrIdentityPrivilege","setIdentityPrivilege","getFeesOnly","WithdrawAnyTokenFromIdentity","WithdrawAnyTokenFromIdentityPage","identityWithdrawAny","_ref9$transaction","withdrawOtherTokensFromIdentity","SetAccountENS","SetAccountENSPage","setIdentityENS","username","addIdentityENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountInfo","_useSelector$authType","identityAddress","privileges","canMakeTx","walletAddress","identityBalanceMainToken","identityEnsName","localWalletDownloadHref","setLocalWalletDownloadHref","loadBackupHref","obj","getRecoveryWalletData","expanded","setExpanded","AccountInfo_AccountItem","transactions_SetAccountENS","py","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","square","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","SaveAlt_default","transactions_SetIdentityPrivilege","transactions_WithdrawAnyTokenFromIdentity","Campaigns","NewItems_NewCampaignDialog","accent","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Dashboard","mobileOpen","setMobileOpen","showTxPrivLevelWarning","resolveEnsAddress","_updateInitialData","updateAccountIdentityData","getAllItems","statsLoop","start","analyticsLoop","analyticsCampaignsLoop","campaignsLoop","updateInitialData","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","Alert","severity","updatePrivilegesWarningAccepted","Account","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","w","goTo","confirmLogout","toExecute","confirmAction","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","fontWeight","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","balanceEth","tokensBalances","balance","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","waitingMetamaskAction","setWaitingMetamaskAction","_useState5","_useState6","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","_useState7","_useState8","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","metamaskSigner","_address","_stats","getAddressBalances","getFullBalances","updateIdentity","updateIdentityWallet","signType","tabBox","METAMASK_IMG","dangerouslySetInnerHTML","__html","METAMASK_DL_IMG","metamaskLAbel","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","sideSelect","IdentityForm","login","resetIdentity","ready","waitingExpected","waiting","CREATING_SESSION","waitingUpload","UPLOADING_ACCOUNT_DATA","IdentityHoc","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","QuickInfo","sessionSpinner","walletMsgs","emailCheck","passwordCheck","tosCheck","accessWarningCheck","validateEmail","validateEmailCheck","validatePassword","validatePasswordCheck","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","QuickLogin","getIdentitiesForDropdown","FullLogin","ownerIdentities","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","set","updateOwnerIdentities","owner","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","final","infoPaper","gutters","input","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","updateEasterEggsAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","hostname","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAllItems","resetAllNewItems","resetAllBids","resetAccount","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_abi_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","Core","Interface","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","EXTRA_PROCESS_TIME","toEthereumChannel","channel","specHash","crypto","createHash","digest","Channel","creator","tokenAddr","tokenAmount","validUntil","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","fee","feeNum","div","feeDen","feeAddr","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","getWithdrawnPerUserOutstanding","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default","functions","withdrawnPerUser","sub","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","getAllCampaigns","byEarner","lastApprovedBalances","lastApprovedSigs","validBalances","balances","_e","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","_unused","_channel$status","bTree","BalanceTree","getBalance","outstanding","outstandingAvailable","balanceNum","_x8","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref4$withBalance","_withBalance$sort$red","eligible","withBalance","c1","c2","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","sum","lt","add","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","identityContract","executeRoutines","encode","routinesSweepTxCount","getIdentityRoutineAuthTuple","deployData","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","isSweepTx","getSwapAmountsByToken","saiToken","_balances$reduce","swaps","swapsSumInMainToken","balanceMainToken","swapsByToken","getSweepingTxnsIfNeeded","_getSweepingTxnsIfNeeded","_callee6","amountInMainTokenNeeded","needed","_account$stats$raw$id","mainTokenBalance","currentBalanceInUse","sweepData","_getSwapAmountsByToke","_context6","identityWithdrawTokensBalancesBalances","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","openChannel","_x6","_openChannel","_callee7","getMaxFees","getToken","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","approveTxns","channelOpenTx","txnsByFeeToken","total","totalBN","bigZero","mtBalance","maxAvailable","maxAvailableFormatted","storeCampaign","_context7","channelOpen","extraTxFeesCount","getApproveTxns","approveForAddress","approveAmount","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","processExecuteByFeeTokens","extraData","closeChannel","_x7","_closeChannel","_callee8","_context8","textObj","statusText","AdexNodeRequester","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref4$route","_ref4$queryParams","_ref4$method","_ref4$headers","_ref4$authSig","userAddr","_ref4$noCache","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","joinSymbol","substring","number","decPlaces","pow","abbrev","string","Loop","syncAction","updateAccountAnalytics","loopName","_syncAction","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","updateAccountCampaignsAnalytics","Looper","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","startLoop","checkLoop","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","genders","Genders","getKeyHash","encrypt","iv","cipher","encr","encrypted","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","encryptLegacy","crypted","createCipher","decryptLegacy","dec","createDecipher","setLang","adex_translations__WEBPACK_IMPORTED_MODULE_0__","adex_translations__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom_server__WEBPACK_IMPORTED_MODULE_1__","translations","adexTranslations","translation","tpl","arg","renderToString","interpolate","lng","BID_STATES","ExchangeConstants","TIMEOUTS","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","_WALLET_ACTIONS_MSGS","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","campaings","web3Transactions","ethNetwork","networkId","gasData","market","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","_loop__WEBPACK_IMPORTED_MODULE_0__","actions__WEBPACK_IMPORTED_MODULE_1__","constants_misc__WEBPACK_IMPORTED_MODULE_2__","LOOP_TIMEOUT","updateUserCampaigns","accountStatsLoop","updateAccountStats","types","updateGlobalUi","category","updateUiByIdentity","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","changeLanguage","get","updateSelectedItems","updateSelectedCampaigns","refreshCacheAndReload","_ref5$notification","notification","caches","grant","accepted","getErrorMsg","numStringCPMtoImpression","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","resUnit","passback","postAdSlot","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","_selectRelayerConfig","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","_x9","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","meta","updateTags","addNewTag","addSig","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","updateGasData","outstandingBalanceMainToken","getOutstandingBalance","getAccountStats","updatedIdentity","UPDATING_ACCOUNT_IDENTITY","getIdentityData","isLimitedVolume","updateValidatorAuthTokens","newAuth","newIdentity","newTokens","createSession","_ref9$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","checkSession","skipErrToast","getSession","signerAddress","cfg","getRelayerConfigData","getNetworkId","_callee12","_context12","getNetwork","getNetworkData","_callee13","network","_context13","onMetamaskNetworkChange","isMetamaskMatters","t4","t5","_x11","_x12","onMetamaskAccountChange","accountAddress","hasAuth","_account$wallet","identityContractOwner","_x13","_x14","metamaskAccountCheck","ethereumSelectedAddress","_x15","_x16","_callee9","_context9","ethereumNetworkId","_x17","_x18","_callee10","_context10","ethereum","on","accounts","_x19","_x20","hasBackup","_callee14","salt","encryptedWallet","_context14","generateSalt","getWalletHash","getQuickWallet","makeBackup","_callee15","walletSalt","walletHash","_context15","backupWallet","_callee11","_selectWallet","isLocal","_context11","QUICK_WALLET_BACKUP","_x23","_x24","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","handleAfterValidation","validateNotExistingEmail","existing","getEmail","_x10","validateTOS","validateWallet","_x21","validateIdentityContractOwner","_x22","validateAccessWarning","_x25","validateCampaignUnits","_x26","_x27","validateCampaignValidators","_x28","_x29","validateAmounts","_ref24$maxDeposit","lte","validateWithdrawAmount","availableIdentityBalanceMainTokenRaw","availableIdentityBalanceMainTokenFormatted","errorMsg","_ref26","_callee16","amount","_context16","_x30","_x31","_ref27","_ref28","_callee17","_context17","_x32","_x33","validateCampaignAmount","_ref29","_ref30","_callee18","isValidNumber","deposit","isValidDeposit","isValidMin","_context18","_x34","_x35","getCampaignDatesValidation","_ref31","_ref31$created","validateCampaignDates","_ref32","_ref33","_callee19","_context19","_x36","_x37","validateCampaignTitle","_ref34","_ref35","_callee20","_context20","_x38","_x39","validateEthAddress","_ref36","_ref36$nonZeroAddr","_ref36$nonERC","_ref37","_callee21","_ref38","_context21","_x40","_x41","validatePrivilegesAddress","_ref39","_ref39$setAddr","_ref39$walletAddr","_ref40","_callee22","isCurrentAddress","_context22","_x42","_x43","validatePrivLevel","_ref41","_ref42","_callee23","_context23","_x44","_x45","validateSchemaProp","_ref43","_ref44","_callee24","_context24","_x46","_x47","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","abort","readAsText","withdrawFromIdentity","identityData","getOwnerIdentities","lookupAddress","_selectIdentity","identityTxData","registerAccount","regAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","getIdentityDeployData","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","every","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","inputValidations","validation","_selectNewTransaction2","_selectAccountStatsRa","_selectAccountStatsFo","fillEmptyTime","prevAggr","defaultValue","intervals","nowUTC","utc","lastSixHoursPeriod","startOf","lastHour","subtract","end","last24Hours","last7Days","thisWeek","endOf","lastWeek","thisMonth","lastMonth","intervalsMs","interval","ammount","newAggr","diff","unix","getUnitsStatsByType","_getUnitsStatsByType","withdrawTokens","unitsByType","unitsByTypeStats","byType","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","tokenInMainTokenValue","analyticsParams","callsParams","analyticsCampaignsParams","checkAccountChanged","accountCheck","aggrByChannelsSegments","feeTokens","_aggr$sort$reduce","aggregations","_withdrawTokens$depos","minFinal","minBalance","currentAggr","currentChannelValue","hasMinBalance","currentTimeValue","feeSubtracted","currentAvailable","currentAdded","points","curInnerAggr","accountChanged","allAnalytics","aggrByChannelSegments","updateSlotsDemand","throttle","demandAnalytics","leading","trailing","getAllValidatorsAuthForIdentity","updateCampaignState","getHumanFriendlyName","_selectAccount","getCampaigns","closeCampaignMarket","currentCampaign","tempValidators","_campaign$temp2","totalSpend","adSlotPost","currentSlot","_slot$minPerImpressio","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","campaignActions","newItemsActions","setLogLevel","getEthersResult","adexCore","coreAddr","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","getIdentity","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","networkVersion","isMetaMask","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","HDNode","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","HDKey","derive","publicExtendedKey","fromExtendedKey","_ref4$from","_ref4$to","transport","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","payloadEncoded","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","parts","verifyMessage","decode","Module","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","array","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","isMoment","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","cache","latestVersion","versionA","versionB","versionsA","versionsB","semverGreaterThan","appVersion","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","statuses","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","baseIdentityAddr","identityRecoveryAddr","routineAuthorizationsRaw","bytecode","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","totalAmountInMainTokenNeeded","_ref16$sweepTxns","_ref16$swapAmountsByT","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","minRecommended","minDeploy","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesSweepTxCo","_tx$extraTxFeesCount","feeToken","txFeeAmount","minFeeAmount","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","tokenContract","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","txnsRaw","executeTx","_withdrawOtherTokensFromIdentity","_selectRelayerConfig4","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","services_requester__WEBPACK_IMPORTED_MODULE_0__","privilegesNames","tokenAvailableBalance","getWithdrawTokensBalances","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","balancesCalls","totalBalanceInMainToken","available","balanceData","_getAddressBalances","calls","serializedPath","formatEther","_getAccountStats","_ref7$outstandingBala","_identity$status","privilegesAction","_ref18$","walletPrivileges","deployed","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","walletAuthType","_getOutstandingBalance","allOutstanding","amounts","ch","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","_objectSpread2","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_tokenInMainTokenValue","valueInMainToken"],"mappings":"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","file":"static/js/main.efab59c5.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\nimport isEqual from 'lodash.isequal'\n\n// deep equal memoization instad reference check\nexport const createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\tisEqual\n)\n\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t(a = [], b = []) => a.length === b.length\n)\n","import { createSelector } from 'reselect'\nimport { createDeepEqualSelector } from 'selectors'\n\nexport const selectAccount = state => state.persist.account || {}\nexport const selectChannels = state => state.persist.channels\n\nexport const selectAuth = createSelector(\n\tselectAccount,\n\t({ wallet, identity }) =>\n\t\t!!wallet &&\n\t\t!!wallet.address &&\n\t\t!!wallet.authSig &&\n\t\t!!wallet.authType &&\n\t\t!!identity.address\n)\n\nexport const selectWallet = createDeepEqualSelector(\n\tselectAccount,\n\t({ wallet }) => wallet || {}\n)\n\nexport const selectAuthSig = createSelector(\n\tselectWallet,\n\t({ authSig }) => authSig\n)\n\nexport const selectWalletAddress = createSelector(\n\tselectWallet,\n\t({ address }) => address\n)\n\nexport const selectAuthType = createSelector(\n\tselectWallet,\n\t({ authType }) => authType\n)\n\nexport const selectAccountIdentity = createSelector(\n\tselectAccount,\n\t({ identity }) => identity || {}\n)\n\nexport const selectAccountIdentityAddr = createSelector(\n\tselectAccountIdentity,\n\t({ address }) => address\n)\n\nexport const selectAccountStats = createSelector(\n\tselectAccount,\n\t({ stats }) => stats || {}\n)\n\nexport const selectAccountSettings = createSelector(\n\tselectAccount,\n\t({ settings }) => settings || {}\n)\n\nexport const selectAccountStatsRaw = createSelector(\n\tselectAccountStats,\n\t({ raw }) => raw || {}\n)\n\nexport const selectAccountStatsFormatted = createSelector(\n\tselectAccountStats,\n\t({ formatted }) => formatted || {}\n)\n\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) =>\n\t\trelayerData &&\n\t\trelayerData.routineAuthorizationsData &&\n\t\trelayerData.routineAuthorizationsData[0]\n\t\t\t? relayerData.routineAuthorizationsData[0]\n\t\t\t: null\n)\n\nexport const selectChannelsWithUserBalancesEligible = createSelector(\n\tselectChannels,\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\n)\n\nexport const selectChannelsWithUserBalancesAll = createSelector(\n\tselectChannels,\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\n)\n\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\n)\n\nexport const selectWalletPrivileges = createSelector(\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\n\t(privileges = {}, address) => privileges[address] || 0\n)\n","import { createSelector } from 'reselect'\n\nexport const selectIdentity = state => state.memory.identity\n\nexport const selectEnsAddresses = state => state.persist.ensAddresses\n\nexport const selectEnsAddressByAddr = createSelector(\n\t[selectEnsAddresses, (_, address) => address],\n\t(ensAddresses, address) => ensAddresses[address] || ''\n)\n","import { createSelector } from 'reselect'\n\nexport const selectLocation = state => state.router.location\n\nexport const selectSearch = createSelector(\n\tselectLocation,\n\t({ search }) => search\n)\n\nexport const selectLocationQuery = createSelector(\n\tselectLocation,\n\t({ query }) => query || {}\n)\n\nexport const selectSearchParams = createSelector(\n\tselectLocation,\n\t({ search }) => new URLSearchParams(search)\n)\n","import { createSelector } from 'reselect'\nimport { selectAccountIdentityAddr } from './accountSelectors'\n\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\n\nexport const selectNavTitle = state => state.memory.nav.navTitle\nexport const selectSide = state => state.memory.nav.side\nexport const selectGlobalUi = state => state.persist.ui.global\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\nexport const selectSelectedItems = state => state.memory.selectedItems\n\nexport const selectSpinners = state => state.memory.spinners\n\nexport const selectIdentityUi = createSelector(\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\n)\n\nexport const selectCompanyData = createSelector(\n\t[selectIdentityUi],\n\t({ companyData }) => companyData || {}\n)\n\nexport const selectSpinnerById = createSelector(\n\t[selectSpinners, (_, id) => id],\n\t(spinners, id) => spinners[id]\n)\n\nexport const selectMultipleSpinnersByIds = createSelector(\n\t[selectSpinners, (_, ids) => ids],\n\t(spinners, ids) => ids.map(id => spinners[id])\n)\n\nexport const selectRegistrationAllowed = createSelector(\n\tselectGlobalUi,\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\n)\n\nexport const selectEasterEggsAllowed = createSelector(\n\tselectGlobalUi,\n\t({ allowEasterEggs }) => allowEasterEggs\n)\n\nexport const selectPrivilegesWarningAccepted = createSelector(\n\tselectIdentityUi,\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\n)\n\nexport const selectSelectedCampaigns = createSelector(\n\tselectSelectedItems,\n\t({ campaigns }) => campaigns || []\n)\n\nexport const selectLoginDirectSide = createSelector(\n\tselectGlobalUi,\n\t({ goToSide }) => goToSide || ''\n)\n","import { createSelector } from 'reselect'\nimport { translate } from 'services/translations/translations'\nimport { getState } from 'store'\n\nexport const selectLang = state => state.persist.language\n\nexport const selectTranslations = createSelector(\n\t[\n\t\tselectLang,\n\t\t(_, val, opts = {}) => {\n\t\t\treturn { val, opts }\n\t\t},\n\t],\n\t(lang, { val, opts }) => {\n\t\tconst { isProp = false, args = [''] } = opts\n\t\treturn translate(val, { isProp, args }, lang)\n\t}\n)\n\n// Need to useSelector for language in top component where this will be used\n// Now this is don by using Translate Hoc on Root\n// It will work in actions too as the state isg get when they are called and don't need update\nexport const t = (val, opts) => {\n\treturn selectTranslations(getState(), val, opts)\n}\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\n\nexport const selectAnalytics = state => state.persist.analytics\n\nexport const selectAnalyticsData = createSelector(\n\t[selectAnalytics, (_, side) => side],\n\t(analytics, side) => {\n\t\treturn analytics[side] || {}\n\t}\n)\n\nexport const selectAnalyticsTimeframe = createSelector(\n\tselectAnalytics,\n\t({ timeframe }) => {\n\t\treturn timeframe\n\t}\n)\n\nexport const selectCampaignAnalytics = createSelector(\n\t[selectAnalytics],\n\t({ campaigns }) => campaigns || {}\n)\n\nexport const selectDemandAnalytics = createSelector(\n\t[selectAnalytics],\n\t({ demand }) => demand || {}\n)\n\nexport const selectCampaignAnalyticsByType = createSelector(\n\t[selectCampaignAnalytics, (_, type) => type],\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\n)\n\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\n\t(state, { type, campaignId } = {}) => [\n\t\tselectCampaignAnalyticsByType(state, type),\n\t\tcampaignId,\n\t],\n\t([analyticsByType, campaignId]) =>\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\n)\n\nexport const selectCampaignAnalyticsByChannelToAdUnit = createSelector(\n\t(state, { type, campaignId } = {}) => [\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t],\n\t([{ reportChannelToAdUnit }]) => {\n\t\treturn reportChannelToAdUnit || {}\n\t}\n)\n\nexport const selectAnalyticsDataAggr = createSelector(\n\t[selectAnalytics, (_, opts = {}) => opts],\n\t(analytics = {}, { side, eventType, metric, timeframe }) => {\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\n\t\t// NOTE: It was working fine with default initial state but\n\t\t// when eventType CLICK was added if you were logged and had\n\t\t// old analytics the initialState is not applied === boom.\n\n\t\tconst {\n\t\t\t[side]: {\n\t\t\t\t[eventType]: {\n\t\t\t\t\t[metric]: { [timeframe]: { aggr = [] } = {} } = {},\n\t\t\t\t} = {},\n\t\t\t} = {},\n\t\t} = analytics\n\n\t\treturn aggr\n\t}\n)\n\nexport function selectCampaignEventsCount(type, campaignId) {\n\treturn Object.values(\n\t\t// TODO: fix this selector w/o using getState\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), {\n\t\t\ttype,\n\t\t\tcampaignId,\n\t\t})\n\t).reduce((a, b) => a + b, 0)\n}\n\nexport const selectTotalImpressions = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalClicks = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalMoney = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\teventPayouts =>\n\t\teventPayouts\n\t\t\t? eventPayouts.reduce(\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: null\n)\n\nexport const selectTotalImpressionsWithPayouts = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\t],\n\t([eventCounts, eventPayouts]) =>\n\t\teventCounts\n\t\t\t? eventCounts\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc =>\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\n\t\t\t\t\t\t\t\t.value !== null\n\t\t\t\t\t)\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectAverageCPM = createSelector(\n\t[\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalMoney(state, { side, timeframe }),\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\n\t],\n\t(totalMoney, totalImpressions) =>\n\t\ttotalMoney !== null && totalImpressions !== null\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\n\t\t\t: null\n)\n\nconst parseValueByMetric = ({ value, metric }) => {\n\tswitch (metric) {\n\t\tcase 'eventPayouts':\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\n\t\tcase 'eventCounts':\n\t\t\treturn parseInt(value, 10)\n\t\tdefault:\n\t\t\treturn value\n\t}\n}\n\nexport const selectStatsChartData = createSelector(\n\t[\n\t\t(state, { noLastOne, ...rest } = {}) => {\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\n\t\t},\n\t],\n\t({ data = [], noLastOne, metric, ...rest }) => {\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\n\t\treturn aggr.reduce(\n\t\t\t(memo, item) => {\n\t\t\t\tconst { time, value } = item\n\t\t\t\tmemo.labels.push(formatDateTime(time))\n\t\t\t\tmemo.datasets.push(\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\n\t\t\t\t)\n\t\t\t\treturn memo\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [],\n\t\t\t}\n\t\t)\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectValidations = state => state.memory.validations\n\nexport const selectValidationsById = createSelector(\n\t[selectValidations, (_, id) => id],\n\t(validations, id) => validations[id]\n)\n\nexport const selectMultipleValidationsByIds = createSelector(\n\t[selectValidations, (_, ids) => ids],\n\t(validations, ids) => ids.map(id => validations[id])\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\n\n// can be used outside  components\nexport const selectRelayerConfig = state => {\n\treturn (state || getState()).persist.config.relayer\n}\n\n// - relayer cfg\n// network,\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy, minRecommended }],\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\n// coreAddr,\n// baseIdentityAddr,\n// identityFactoryAddr,\n// registryAddr,\n// daiAddr,\n// marketUrl,\n// identityRecoveryAddr,\n// weeklyFeeAmount,\n// mainToken, // { address, symbol, decimals, standard },\n// advertiserMinGrantAmount\n// relayerAddr\n\nexport const selectFeeTokenWhitelist = createSelector(\n\t[selectRelayerConfig],\n\t({ feeTokenWhitelist }) => {\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokens = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.map(t => t.address)\n\t}\n)\n\nexport const selectConfig = createSelector(\n\t[selectRelayerConfig],\n\trelayerConfig => {\n\t\tconst cfg = { ...relayerConfig }\n\t\treturn cfg\n\t}\n)\n\nexport const selectMainToken = createSelector(\n\t[selectRelayerConfig],\n\t({ mainToken }) => mainToken || {}\n)\n\nexport const selectSaiToken = createSelector(\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\n)\n\nexport const selectMainFeeToken = createSelector(\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\n\t({ mainToken }, feeTokenWhitelist) => {\n\t\treturn feeTokenWhitelist[mainToken.address]\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectNewTransactions = state => state.memory.newTransactions\n\nexport const selectNewTransactionById = createSelector(\n\t[selectNewTransactions, (_, id) => id],\n\t(txns, id) => txns[id] || {}\n)\n","import {\n\tCampaign as CampaignModel,\n\tAdUnit as AdUnitModel,\n\tAdSlot as AdSlotModel,\n} from 'adex-models'\n\nimport { createSelector } from 'reselect'\n\nexport const selectNewItems = state => state.memory.newItem\n\nexport const selectNewCampaign = createSelector(\n\tselectNewItems,\n\t({ Campaign }) => new CampaignModel(Campaign)\n)\n\nexport const selectNewAdUnit = createSelector(\n\tselectNewItems,\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\n)\n\nexport const selectNewAdSlot = createSelector(\n\tselectNewItems,\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\n)\n","import { createSelector } from 'reselect'\nimport { selectCampaignEventsCount } from 'selectors'\nexport const selectItems = state => state.persist.items\n\nexport const selectItemsByType = createSelector(\n\t[selectItems, (_, itemType) => itemType],\n\t(items, itemType) => items[itemType] || {}\n)\n\nexport const selectItemsArrayByType = createSelector(\n\t[selectItemsByType, (_, itemType) => itemType],\n\titems => Object.values(items)\n)\n\nexport const selectCampaigns = createSelector(\n\tstate => selectItemsByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectCampaignById = createSelector(\n\t[selectCampaigns, (_, id) => id],\n\t(campaigns, id) => campaigns[id]\n)\n\nexport const selectCampaignWithAnalyticsById = createSelector(\n\t[selectCampaigns, (_, id) => id],\n\t(campaigns, id) => {\n\t\tconst campaign = { ...(campaigns[id] || {}) }\n\t\tcampaign.clicks = selectCampaignEventsCount('CLICK', id)\n\t\tcampaign.impressions = selectCampaignEventsCount('IMPRESSION', id)\n\t\treturn campaign\n\t}\n)\n\nexport const selectCampaignsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectAdUnits = createSelector(\n\tstate => selectItemsByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdUnitById = createSelector(\n\t[selectAdUnits, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAdUnitsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdSlots = createSelector(\n\tstate => selectItemsByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n","import { createSelector } from 'reselect'\nimport {\n\tselectCampaignsArray,\n\tselectRoutineWithdrawTokens,\n\tselectAdSlotsArray,\n\tselectAdUnits,\n\tcreatArrayOnlyLengthChangeSelector,\n\tselectCampaignAnalyticsByChannelStats,\n\tselectCampaignEventsCount,\n} from 'selectors'\nimport { formatUnits } from 'ethers/utils'\n\nexport const selectCampaignsTableData = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\n\t(campaigns, tokens, side) =>\n\t\tcampaigns.map(item => {\n\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\n\t\t\tconst spec = item.spec || {}\n\t\t\treturn {\n\t\t\t\tmedia: {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tadUnits: item.adUnits,\n\t\t\t\t},\n\t\t\t\tstatus: {\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\n\t\t\t\t\toriginalName: item.status.name,\n\t\t\t\t},\n\t\t\t\tdepositAmount: Number(formatUnits(item.depositAmount || '0', decimals)),\n\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\n\t\t\t\timpressions: selectCampaignEventsCount('IMPRESSION', item.id),\n\t\t\t\tclicks: selectCampaignEventsCount('CLICK', item.id),\n\t\t\t\tminPerImpression:\n\t\t\t\t\tNumber(\n\t\t\t\t\t\tformatUnits(\n\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\n\t\t\t\t\t\t\tdecimals\n\t\t\t\t\t\t)\n\t\t\t\t\t) * 1000,\n\t\t\t\tcreated: item.created,\n\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\n\t\t\t\twithdrawPeriodStart:\n\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\n\t\t\t\tactions: {\n\t\t\t\t\tside: side,\n\t\t\t\t\tid: item.id,\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\n\t\t\t\t},\n\t\t\t\tid: item.id,\n\t\t\t\treceiptAvailable:\n\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\n\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\n\t\t\t}\n\t\t})\n)\n\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\n\tselectCampaignsTableData,\n\tdata => data\n)\n\nexport const selectCampaignsMaxImpressions = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\n)\n\nexport const selectCampaignsMaxClicks = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\n)\n\nexport const selectCampaignsMaxDeposit = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\n\t(campaigns, tokens) =>\n\t\tMath.max.apply(\n\t\t\tnull,\n\t\t\tcampaigns.map(i => {\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\n\t\t\t})\n\t\t)\n)\n\nexport const selectAdSlotsTableData = createSelector(\n\t[selectAdSlotsArray, (_, side) => side],\n\t(slots, side) =>\n\t\tslots.map(item => {\n\t\t\treturn {\n\t\t\t\tmedia: {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tmediaUrl: item.fallbackUnit ? `ipfs://${item.fallbackUnit}` : '', //TODO: provide fallback image to slot\n\t\t\t\t\tmediaMime: 'image/jpeg',\n\t\t\t\t},\n\t\t\t\ttitle: item.title,\n\t\t\t\ttype: item.type.replace('legacy_', ''),\n\t\t\t\tcreated: item.created,\n\t\t\t\tactions: {\n\t\t\t\t\tto: `/dashboard/${side}/AdSlot/${item.id || item.ipfs}`,\n\t\t\t\t\titem,\n\t\t\t\t},\n\t\t\t}\n\t\t})\n)\n\nexport const selectAdUnitsTableData = createSelector(\n\t[selectAdUnits, (_, { side, items }) => ({ side, items })],\n\t(units, { side, items }) =>\n\t\tObject.values(items || units).map(item => ({\n\t\t\tid: item.id,\n\t\t\tmedia: {\n\t\t\t\tid: item.id,\n\t\t\t\tmediaUrl: item.mediaUrl,\n\t\t\t\tmediaMime: item.mediaMime,\n\t\t\t},\n\t\t\ttitle: item.title || units[item.ipfs].title,\n\t\t\ttype: item.type,\n\t\t\tcreated: item.created,\n\t\t\tactions: {\n\t\t\t\tto: `/dashboard/${side}/AdUnit/${item.id || item.ipfs}`,\n\t\t\t\titem,\n\t\t\t},\n\t\t}))\n)\n\nexport const selectCampaignStatsTableData = createSelector(\n\t(state, campaignId) => {\n\t\treturn {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\t},\n\t({ impressions, clicks }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\n\t\treturn Object.keys(imprStats).map(key => ({\n\t\t\twebsite: key,\n\t\t\timpressions: imprStats[key] || 0,\n\t\t\tctr:\n\t\t\t\t(((clickStats[key] || 0) / (imprStats[key] || 0)) * 100).toFixed(2) ||\n\t\t\t\t0,\n\t\t\tearnings: Number((earnStats[key] || 0).toFixed(2)),\n\t\t\tclicks: clickStats[key] || 0,\n\t\t}))\n\t}\n)\n\nexport const selectCampaignTotalValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\t\t\t\tnewResult.totalClicks += current.clicks\n\t\t\t\tnewResult.totalImpressions += current.impressions\n\t\t\t\tnewResult.totalEarnings += current.earnings\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\n\t\t)\n)\n\nexport const selectCampaignStatsMaxValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\tnewResult.maxEarnings = Math.max(\n\t\t\t\t\tcurrent.earnings,\n\t\t\t\t\tnewResult.maxEarnings\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\n\t\t)\n)\n","import { createSelector } from 'reselect'\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\n\nexport const selectCampaignDoughnutStats = createSelector(\n\t(state, { campaignId, chartColors, maxDataSets }) => {\n\t\tconst analytics = {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\n\t\treturn { ...analytics, chartColors, maxDataSets }\n\t},\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\n\t\t\t.reduce(\n\t\t\t\t(data, key, i) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tif (i < maxDataSets) {\n\t\t\t\t\t\tnewData.labels.push(key)\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\n\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\n\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\n\t\t\t)\n\n\t\tconst data = {\n\t\t\tlabels,\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: impressionsData,\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: clicksData,\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\n\t\treturn data\n\t}\n)\n","import { bigNumberify } from 'ethers/utils'\nimport { t, selectDemandAnalytics, selectMainToken } from 'selectors'\nimport { createSelector } from 'reselect'\nimport { constants } from 'adex-models'\n\nexport const selectSlotTypesSourceWithDemands = createSelector(\n\t[selectDemandAnalytics, selectMainToken],\n\t(demand, { symbol }) => {\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\n\t\t\treturn {\n\t\t\t\tvalue: type,\n\t\t\t\tlabel: type.split('_')[1],\n\t\t\t\tdemand: demand[type],\n\t\t\t}\n\t\t})\n\t\t\t.sort((a, b) => {\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\n\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\n\t\t\t})\n\t\t\t.reduce(\n\t\t\t\t(data, type, index) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tconst source = newData.source\n\t\t\t\t\tconst current = type\n\t\t\t\t\tif (index === 0 && type.demand) {\n\t\t\t\t\t\tnewData.hasPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\n\t\t\t\t\t\tnewData.hasPopularGroup &&\n\t\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\t\t!type.demand\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tif (current.demand) {\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\n\t\t\t\t\t}\n\t\t\t\t\tsource.push(current)\n\n\t\t\t\t\tnewData.source = source\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\n\t\t\t)\n\t\treturn source\n\t}\n)\n","export * from './selectors'\nexport * from './accountSelectors'\nexport * from './identitySelectors'\nexport * from './locationSelectors'\nexport * from './uiSelectors'\nexport * from './translationsSelectors'\nexport * from './analyticsSelectors'\nexport * from './validationsSelectors'\nexport * from './configSelectors'\nexport * from './newTransactionSelectors'\nexport * from './newItemsSelectors'\nexport * from './itemsSelectors'\nexport * from './tablesDataSelectors'\nexport * from './chartsSelectors'\nexport * from './dataSelectors'\n","import { ethers, constants } from 'ethers'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { isEthAddress } from 'helpers/validators'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\n\nexport const isEthAddressERC20 = async (addr = '', authType) => {\n\ttry {\n\t\tif (isEthAddress(addr)) {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\t\tawait Promise.all([\n\t\t\t\tcontract.totalSupply(),\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\n\t\t\t])\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getERC20Balance = async ({\n\taddr = '',\n\tbalanceFor = '',\n\tauthType,\n}) => {\n\ttry {\n\t\tconst { provider } = await getEthers(authType)\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\tconst balance = await contract.balanceOf(balanceFor)\n\n\t\treturn balance\n\t} catch (error) {\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\n\t\treturn null\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\n\nexport const isConnectionLost = async authType => {\n\ttry {\n\t\t// When we remove Metamask\n\t\t// if in 5 sec doesn't connect will\n\t\t// return that connection is lost\n\t\tconst eth = await Promise.race([\n\t\t\tgetEthers(authType),\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treject('Timed out')\n\t\t\t\t}, 5000)\n\t\t\t}),\n\t\t])\n\t\tawait eth.provider.getBlockNumber()\n\t\treturn false\n\t} catch (error) {\n\t\treturn true\n\t}\n}\n","import { utils } from 'ethers'\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { ethers } from 'ethers'\n/*eslint-disable */\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\n/*eslint-enable */\n\nexport const validUrl = url => {\n\turl = url || ''\n\tconst isValid = urlRegex.test(url)\n\treturn isValid\n}\n\nexport const validEmail = email => {\n\temail = email || ''\n\tconst isValid = emailRegex.test(email)\n\treturn isValid\n}\n\nexport const validateNumber = numberStr => {\n\tnumberStr = numberStr || ''\n\tconst isValid =\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\n\treturn isValid\n}\n\n// > 0\nexport const validPositiveInt = intStr => {\n\tintStr = intStr || ''\n\tconst isValid = onlyDigitsRegex.test(intStr)\n\treturn isValid\n}\n\nexport const validName = name => {\n\tlet msg = ''\n\tconst errMsgArgs = []\n\tif (!name) {\n\t\tmsg = 'ERR_REQUIRED_FIELD'\n\t} else if (name.length < 4) {\n\t\tmsg = 'ERR_MIN_LENGTH'\n\t\terrMsgArgs.push(4)\n\t} else if (name.length > 128) {\n\t\tmsg = 'ERR_MAX_LENGTH'\n\t\terrMsgArgs.push(128)\n\t}\n\n\treturn {\n\t\tmsg,\n\t\terrMsgArgs,\n\t}\n}\n\nexport const validPassword = password => {\n\tpassword = password || ''\n\tconst isValid = passwordRegex.test(password)\n\treturn isValid\n}\n\nexport const isEthAddress = (addr = '') => {\n\ttry {\n\t\tutils.getAddress(addr)\n\t} catch (e) {\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const isEthAddressZero = (addr = '') => {\n\treturn isEthAddress(addr)\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\n\t\t: false\n}\n\nexport const validEthAddress = async ({\n\taddr = '',\n\tnonZeroAddr,\n\tnonERC20,\n\tauthType,\n}) => {\n\tlet msg = ''\n\ttry {\n\t\tconst ethAddressZero = isEthAddressZero(addr)\n\t\tconst notEthAddress = !isEthAddress(addr)\n\t\tif (notEthAddress) {\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\n\t\t} else {\n\t\t\tif (nonZeroAddr && ethAddressZero) {\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\n\t\t\t} else {\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\n\t\t\t\tif (connectionLost) {\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t\t\t\t} else {\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (error === 'Non-Ethereum browser detected.')\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t}\n\treturn { msg }\n}\n\nexport const freeAdExENS = async ({ ens = '', authType }) => {\n\tlet msg = ''\n\ttry {\n\t\tif (ens === '') {\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\n\t\t} else {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst ensAddress = await provider.resolveName(\n\t\t\t\t`${ens}.${process.env.REVERSE_REGISTRAR_PARENT}`\n\t\t\t)\n\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\n\t\t}\n\t} catch (error) {\n\t\tif (error.code === 'INVALID_ARGUMENT') {\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\n\t\t} else {\n\t\t\tmsg = 'ERR_ENS_CHECK'\n\t\t}\n\t}\n\treturn { msg }\n}\n","import { Signer, utils } from 'ethers'\nimport TrezorConnect from 'trezor-connect'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\n\nTrezorConnect.manifest({\n\temail: 'contactus@adex.network',\n\tappUrl: 'http://adex.network',\n})\n\nexport default class TrezorSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\n\t\tconst bundle = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tbundle.push({\n\t\t\t\tpath: this.path + `/${index}`,\n\t\t\t\tshowOnTrezor: false,\n\t\t\t})\n\t\t}\n\n\t\treturn { bundle }\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\n\t\t\tthis.getAddsParams({ from, to })\n\t\t)\n\n\t\treturn { success, payload }\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\n\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\n\t\t\tpath: this.path,\n\t\t\ttransaction: txProps,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst signature = {\n\t\t\t\tr: payload.r,\n\t\t\t\ts: payload.s,\n\t\t\t\tv: parseInt(payload.v),\n\t\t\t}\n\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\t\treturn txSigned\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\n\t\t\tpath: this.path,\n\t\t\tmessage: message,\n\t\t\thex: !!opts.hex,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst res = {\n\t\t\t\t/*\n\t\t\t\t * NOTE: SignatureTypes.GETH\n\t\t\t\t * Current TrezorConnect window does not\n\t\t\t\t * accept device with old firmware\n\t\t\t\t */\n\t\t\t\tsignature: '0x' + payload.signature,\n\t\t\t\thash: message,\n\t\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\t\taddress: payload.address,\n\t\t\t}\n\n\t\t\treturn res\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tconnect = provider => {\n\t\treturn new TrezorSigner(provider, { path: this.path })\n\t}\n}\n","import { Signer, utils, Wallet } from 'ethers'\nimport { getLocalWallet } from 'services/wallet/wallet'\nimport { constants } from 'adex-models'\n\nexport default class LocalSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\n\t\tthis._provider = provider\n\t\tthis._opts = opts\n\t}\n\n\tgetWallet = async () => {\n\t\tif (this._wallet) {\n\t\t\treturn this._wallet\n\t\t} else {\n\t\t\tconst { email, password, authType } = this._opts\n\t\t\tconst walletData = await getLocalWallet({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\n\t\t\treturn this._wallet\n\t\t}\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn await this.getWallet().address\n\t}\n\n\tsignTx = async params => {\n\t\tconst signetTx = await this.getWallet().sign(params)\n\t\treturn signetTx\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst wallet = await this.getWallet()\n\n\t\tconst signature = await wallet.signMessage(message)\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: wallet.address,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LocalSigner(provider, {\n\t\t\temail: this.email,\n\t\t\tpassword: this.password,\n\t\t})\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport { constants } from 'adex-models'\n\nexport default class MetaMaskSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._signer = provider.getSigner()\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._signer.getAddress()\n\t}\n\n\tsendTransaction = async params => {\n\t\treturn this._signer.sendTransaction(params)\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._signer.signMessage(message)\n\t\t// TODO: support EIP712\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: await this._signer.getAddress(),\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new MetaMaskSigner(provider)\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { utils } from 'ethers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\nimport LocalSigner from 'services/smart-contracts/signers/local'\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\n\nexport async function getSigner({ wallet, provider }) {\n\t// TODO: Maybe get provider here?\n\tconst { authType, path, email, password } = wallet\n\n\tif (authType === AUTH_TYPES.METAMASK.name) {\n\t\tconst signer = new MetaMaskSigner(provider)\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.LEDGER.name) {\n\t\tconst signer = new LedgerSigner(provider, { path })\n\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.TREZOR.name) {\n\t\tconst signer = new TrezorSigner(provider, { path })\n\t\treturn signer\n\t}\n\tif (\n\t\tauthType === AUTH_TYPES.GRANT.name ||\n\t\tauthType === AUTH_TYPES.QUICK.name\n\t) {\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\n\n\t\treturn signer\n\t}\n\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\n}\n\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\nexport const getTypedDataHash = ({ typedData }) => {\n\tconst values = typedData.map(entry => {\n\t\treturn typeof entry.value === 'string'\n\t\t\t? utils.toUtf8Bytes(entry.value)\n\t\t\t: utils.hexlify(entry.value)\n\t})\n\tconst valuesHash = utils.keccak256.apply(null, values)\n\tconst schema = typedData.map(entry => {\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\n\t})\n\n\tconst schemaHash = utils.keccak256.apply(null, schema)\n\tconst hash = utils.solidityKeccak256(\n\t\t['bytes32', 'bytes32'],\n\t\t[schemaHash, valuesHash]\n\t)\n\n\treturn hash\n}\n\nexport async function getAuthSig({ wallet }) {\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst authToken = Math.floor(\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\n\t).toString()\n\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\n\tconst hash = getTypedDataHash({ typedData })\n\tconst signature = await signer.signMessage(hash, { hex: true })\n\n\treturn {\n\t\t...signature,\n\t\tauthToken,\n\t\thash,\n\t}\n}\n\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\n\tconst { provider } = await getEthers(authType)\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\n\n\treturn Promise.all(receipts)\n}\n\nexport async function signTx({ tx, signer }) {\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\n\t\thex: true,\n\t})\n\tconst signature = splitSig(sig.signature)\n\treturn signature\n}\n\nexport async function getMultipleTxSignatures({ txns, signer }) {\n\tconst signatures = []\n\tfor (const tx of txns) {\n\t\tsignatures.push(await signTx({ tx, signer }))\n\t}\n\n\treturn signatures\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport ewt from './ewt'\n\nconst BEARER_PREFIX = 'Bearer '\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\n\nconst getValidatorRequester = ({ baseUrl }) => {\n\treturn new Requester({ baseUrl })\n}\n\nconst getRequesters = ({ campaign }) => {\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\n\tconst followerRequester = getValidatorRequester({\n\t\tbaseUrl: follower.url,\n\t})\n\n\treturn {\n\t\tleader: { requester: leaderRequester, validator: leader },\n\t\tfollower: { requester: followerRequester, validator: follower },\n\t}\n}\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\n\tconst { identity, wallet } = account\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\n\tif (existingAuth) {\n\t\treturn existingAuth\n\t}\n\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst payload = {\n\t\tid: validatorId,\n\t\tidentity: identity.address,\n\t\tera: Math.floor(Date.now() / 60000),\n\t}\n\n\tconst token = ewt.sign(signer, payload)\n\n\treturn token\n}\n\nconst sendMessage = async ({ campaign, options, account }) => {\n\tconst { follower, leader } = getRequesters({ campaign })\n\n\tconst followerAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: follower.validator.id,\n\t\taccount,\n\t})\n\tconst leaderAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: leader.validator.id,\n\t\taccount,\n\t})\n\tconst followerResult = await follower.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\tconst leaderResult = await leader.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn {\n\t\tresults: {\n\t\t\tfollowerResult,\n\t\t\tleaderResult,\n\t\t},\n\t\tauthTokens: {\n\t\t\t[follower.id]: followerAuthToken,\n\t\t\t[leader.id]: leaderAuthToken,\n\t\t},\n\t}\n}\n\nexport const lastApprovedState = ({ campaign }) => {\n\tconst { leader } = getRequesters({ campaign })\n\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `channel/${campaign.id}/last-approved`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaign = ({ campaign, account }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const identityAnalytics = async ({\n\tcampaignId,\n\tleaderAuth,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n\tside,\n\tsegmentByChannel,\n}) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/for-${side}${campaignId || ''}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: {\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tlimit,\n\t\t\t\tsegmentByChannel,\n\t\t\t\teventType,\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn { aggregates, metric }\n}\n\nexport const identityCampaignsAnalytics = async ({ leaderAuth, eventType }) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/advanced`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const campaignAnalytics = ({\n\tcampaign,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n}) => {\n\tconst { leader } = getRequesters({ campaign })\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${campaign.id}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t})\n\t\t.then(processResponse)\n}\n","export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n","export const ADD_ITEM = 'ADD_ITEM'\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\nexport const DELETE_ITEM = 'DELETE_ITEM'\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\nexport const ADD_TOAST = 'ADD_TOAST'\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\nexport const UPDATE_NAV = 'UPDATE_NAV'\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\nexport const UNIT_PLACE_BID = 'PLACE_BID'\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\nexport const RESET_WALLET = 'RESET_WALLET'\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\nexport const UPDATE_ADVANCED_CAMPAIGN_ANALYTICS =\n\t'UPDATE_ADVANCED_CAMPAIGN_ANALYTICS'\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\n","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Button from '@material-ui/core/Button'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport IconButton from '@material-ui/core/IconButton'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst variantIcon = {\n\taccept: CheckCircleIcon,\n\tsuccess: CheckCircleIcon,\n\twarning: WarningIcon,\n\tcancel: ErrorIcon,\n\terror: ErrorIcon,\n\tinfo: InfoIcon,\n}\n\nexport class Toast extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttoast: {},\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tlet toast = this.state.toast\n\t\tlet nextToast = nextProps.toasts[0]\n\n\t\tif (!nextToast) {\n\t\t\tthis.setState({ active: false, toast: {} })\n\t\t\treturn\n\t\t}\n\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\n\n\t\tif (isNewToast) {\n\t\t\tthis.setState({ active: true, toast: nextToast })\n\t\t}\n\t}\n\n\tclose = id => {\n\t\tthis.setState({ active: false })\n\t\tthis.props.actions.removeToast(id)\n\t}\n\n\trender() {\n\t\tconst { toast } = this.state\n\t\tconst { classes } = this.props\n\t\tconst Icon = variantIcon[toast.type]\n\n\t\tif (!toast || !Icon) return null\n\n\t\tconst anchorOrigin = toast.anchorOrigin || {\n\t\t\tvertical: 'bottom',\n\t\t\thorizontal: 'center',\n\t\t}\n\n\t\tif (toast.top) {\n\t\t\tanchorOrigin.horizontal = 'center'\n\t\t\tanchorOrigin.vertical = 'top'\n\t\t}\n\n\t\treturn (\n\t\t\t<Snackbar\n\t\t\t\topen={this.state.active}\n\t\t\t\tautoHideDuration={toast.timeout || 0}\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\tanchorOrigin={anchorOrigin}\n\t\t\t>\n\t\t\t\t<SnackbarContent\n\t\t\t\t\taria-describedby='client-snackbar'\n\t\t\t\t\tmessage={\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\taction={[\n\t\t\t\t\t\ttoast.action && toast.action,\n\t\t\t\t\t\t!toast.unclosable && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tkey='close'\n\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\tclassName={classes.close}\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t),\n\t\t\t\t\t]}\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\n\t\t\t\t\t\t[classes.top]: !!toast.top,\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</Snackbar>\n\t\t)\n\t}\n}\n\nToast.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\ttoasts: PropTypes.array.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// let persist = state.persist\n\tlet memory = state.memory\n\treturn {\n\t\ttoasts: memory.toasts || [],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withStyles(styles)(Toast))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsnackbar: {\n\t\t\tborder: '3px solid',\n\t\t\tborderRadius: 0,\n\t\t\tbackgroundColor: '#222',\n\t\t\t'&.active': {\n\t\t\t\ttransform: 'translateY(-20%)',\n\t\t\t},\n\t\t\tmargin: spacing,\n\t\t},\n\t\twarning: {\n\t\t\tborderColor: '#FFAB00',\n\t\t\tcolor: '#FFAB00',\n\t\t},\n\t\tcancel: {\n\t\t\tborderColor: '#FF5722',\n\t\t\tcolor: '#FF5722',\n\t\t},\n\t\taccept: {\n\t\t\tborderColor: '#00E676',\n\t\t\tcolor: '#00E676',\n\t\t},\n\t\ticon: {\n\t\t\tfontSize: 20,\n\t\t},\n\t\ticonVariant: {\n\t\t\topacity: 0.9,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tmessage: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\ttop: {\n\t\t\twidth: '98vw',\n\t\t\tmaxWidth: '98vw',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { translate } from 'services/translations/translations'\nimport { selectLang } from 'selectors'\n\nexport default function Translate(Decorated) {\n\tfunction Translated(props) {\n\t\tconst language = useSelector(selectLang)\n\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\n\t\t\tconst translation = translate(val, { isProp, args }, language)\n\n\t\t\treturn translation\n\t\t}\n\n\t\treturn <Decorated {...props} t={t} />\n\t}\n\n\treturn Translated\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport Button from '@material-ui/core/Button'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Translate from 'components/translate/Translate'\n\nexport class Confirm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.cancel = this.cancel.bind(this)\n\t\tthis.confirm = this.confirm.bind(this)\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({ active: nextProps.visible })\n\t}\n\n\tconfirm() {\n\t\tif (typeof this.props.confirm === 'function') {\n\t\t\tthis.props.confirm()\n\t\t}\n\t\tthis.setState({ active: false })\n\t}\n\n\tcancel() {\n\t\tif (typeof this.props.cancel === 'function') {\n\t\t\tthis.props.cancel()\n\t\t}\n\n\t\tthis.setState({ active: false })\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\ttext,\n\t\t\tchildren,\n\t\t\tcancelLabel,\n\t\t\tconfirmLabel,\n\t\t\tt,\n\t\t\tnoActionBtns,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<Dialog open={this.state.active}>\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t{children}\n\t\t\t\t</DialogContent>\n\t\t\t\t{!noActionBtns && (\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t)}\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nConfirm.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tcancelLabel: PropTypes.string,\n\tconfirmLabel: PropTypes.string,\n\ttitle: PropTypes.string.isRequired,\n\ttext: PropTypes.string,\n\tconfirm: PropTypes.func,\n\tcancel: PropTypes.func,\n\tvisible: PropTypes.bool,\n\tcalledOn: PropTypes.number,\n\tnoActionBtns: PropTypes.bool,\n}\n\nfunction mapStateToProps(state) {\n\tstate = state.memory\n\treturn {\n\t\tcancelLabel: state.confirm.data.cancelLabel,\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\n\t\ttitle: state.confirm.data.title || '',\n\t\ttext: state.confirm.data.text || '',\n\t\tconfirm: state.confirm.onConfirm,\n\t\tcancel: state.confirm.onCancel,\n\t\tvisible: state.confirm.active || false,\n\t\tcalledOn: state.confirm.calledOn,\n\t\tnoActionBtns: state.confirm.noActionBtns,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(Confirm))\n","import React, { forwardRef } from 'react'\n// import PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nexport const withReactRouterLink = Component => {\n\tclass Decorated extends React.Component {\n\t\tresolveToLocation = to => {\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\n\t\t\tconst href = this.props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\thandleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = this.props\n\n\t\t\tif (onClick && typeof onClick === 'function') {\n\t\t\t\tawait onClick()\n\t\t\t\tthis.props.history.push(to)\n\t\t\t} else {\n\t\t\t\tthis.props.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\t// TODO: check if it works without infinite loops\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//   // const { to } = this.props;\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\n\t\t// }\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tforwardedRef,\n\t\t\t\tto,\n\t\t\t\tmatch,\n\t\t\t\tlocation,\n\t\t\t\thistory,\n\t\t\t\tstaticContext,\n\t\t\t\tonClick,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst toLocation = this.resolveToLocation(to)\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\tref={forwardedRef}\n\t\t\t\t\t{...rest}\n\t\t\t\t\thref={toLocation}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n","import React from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon'\nimport pure from 'recompose/pure'\n\nexport default (path, displayName, viewBox = '') => {\n\tlet Icon = props => (\n\t\t<SvgIcon viewBox={viewBox} {...props}>\n\t\t\t{path}\n\t\t</SvgIcon>\n\t)\n\n\tIcon.displayName = displayName\n\tIcon = pure(Icon)\n\tIcon.muiName = 'SvgIcon'\n\n\treturn Icon\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\n\t</g>,\n\n\t'Campaign',\n\t'0 0 26.12 17.37'\n)\n","import React from 'react'\nimport Link from '@material-ui/core/Link'\n\nconst getUrl = url => {\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\n\tif (url) {\n\t\turl = '//' + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({ href, target, children, label, ...rest }) => {\n\tlet url = target && target === '_blank' ? getUrl(href) : href\n\treturn (\n\t\t<Link\n\t\t\tunderline='none'\n\t\t\tcolor='inherit'\n\t\t\tdraggable='false'\n\t\t\trel='noopener noreferrer'\n\t\t\t{...rest}\n\t\t\ttarget={target}\n\t\t\thref={url}\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\n\t\t>\n\t\t\t{children || label}\n\t\t</Link>\n\t)\n}\n\nexport default Anchor\n","const drawerWidth = 250\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t\tzIndex: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\tdisplay: 'flex',\n\t\t\tminHeight: '100vh',\n\t\t\twidth: '100%',\n\t\t},\n\t\tappBar: {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 'auto',\n\t\t\tposition: 'fixed',\n\t\t\t// marginLeft: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\n\t\t\t\tleft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'row',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t},\n\n\t\tflexRow: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexBasis: '100%',\n\t\t\tpaddingTop: theme.spacing(1),\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t'&:last-child': {\n\t\t\t\tpaddingRight: 240,\n\t\t\t\tpaddingTop: theme.spacing(1),\n\t\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t\tpaddingLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttoolbarControls: {\n\t\t\tjustifyContent: 'flex-end',\n\t\t},\n\t\ttoolbarTitle: {\n\t\t\tjustifyContent: 'flex-start',\n\t\t},\n\t\tnavIconHide: {\n\t\t\tmarginRight: 10,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexFlow: 'wrap',\n\t\t\theight: 114,\n\t\t\t...theme.mixins.toolbar,\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tposition: 'fixed',\n\t\t\t},\n\t\t\tbackgroundColor: '#fff',\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tpadding: theme.spacing(3),\n\t\t\tpaddingTop: theme.spacing(5),\n\t\t\toverflow: 'auto',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmarginLeft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: 1600,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\ticon: {\n\t\t\theight: 36,\n\t\t\twidth: 'auto',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport { t } from 'selectors'\n\nconst sideIndex = {\n\tadvertiser: 0,\n\tpublisher: 1,\n\t'0': 'advertiser',\n\t'1': 'publisher',\n}\n\nconst handleChange = (ev, index) => {\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\n}\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\t// TODO: keep it everywhere in case of components update\n\t\troot: {\n\t\t\tminWidth: 30,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tselected: {\n\t\t\tcolor: activeColor,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: activeColor,\n\t\t},\n\t}\n})\n\nconst SideSwitch = ({ side, className }) => {\n\tconst classes = useStyles({ side })\n\treturn (\n\t\t<div className={className}>\n\t\t\t<Box bgcolor='background.paper' boxShadow={2}>\n\t\t\t\t<Tabs\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tvalue={sideIndex[side]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t\tvariant='fullWidth'\n\t\t\t\t\taria-label='side select'\n\t\t\t\t>\n\t\t\t\t\t<Tab classes={classes} label={t('ADVERTISER')} />\n\t\t\t\t\t<Tab classes={classes} label={t('PUBLISHER')} />\n\t\t\t\t</Tabs>\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default SideSwitch\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\n\nexport const InputLoading = ({ className, color = 'primary' }) => (\n\t<LinearProgress className={className} color={color} />\n)\n\nexport const LoadingSection = ({ loading, children }) => (\n\t<Box display='flex' flex='1' alignItems='center'>\n\t\t<Box>{children}</Box>\n\t\t<Box ml={2} mr={2}>\n\t\t\t{loading && <CircularProgress />}\n\t\t</Box>\n\t</Box>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\nimport classnames from 'classnames'\nimport packageJson from './../../../../package.json'\nimport Anchor from 'components/common/anchor/anchor'\nimport { styles } from './styles'\nimport SideSwitch from './SideSwitch'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport DashboardIcon from '@material-ui/icons/Dashboard'\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport Box from '@material-ui/core/Box'\nimport ListIcon from '@material-ui/icons/List'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { LoadingSection } from 'components/common/spinners'\nimport {\n\tt,\n\tselectSide,\n\tselectLocation,\n\tselectAccountIdentityAddr,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst RRListItem = withReactRouterLink(ListItem)\nconst { ETH_SCAN_ADDR_HOST } = process.env\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.contrastText\n\t\t\t: theme.palette.accentTwo.contrastText\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tnavList: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 80,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: 'solid',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&:focus': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t},\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t'&:hover': {\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\n\t\t},\n\t}\n})\n\nconst useCommonStyles = makeStyles(styles)\n\nfunction SideNav(props) {\n\tconst side = useSelector(selectSide)\n\tconst identity = useSelector(selectAccountIdentityAddr)\n\tconst classes = useStyles({ side })\n\tconst commonClasses = useCommonStyles()\n\tconst routerLocation = useSelector(selectLocation)\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// TODO: test location\n\tconst location = routerLocation.pathname.split('/')[3]\n\tconst isAdvertiser = side === 'advertiser'\n\tconst items = isAdvertiser ? 'units' : 'slots'\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\n\t\t<div className={classes.navigation}>\n\t\t\t<List\n\t\t\t\tclasses={{\n\t\t\t\t\tpadding: classes.sntPadding,\n\t\t\t\t\troot: classes.navListRoot,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.navList}\n\t\t\t\tcomponent='nav'\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tbgcolor='background.paper'\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tcommonClasses.toolbar,\n\t\t\t\t\t\t\tclasses.sideNavToolbar\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<AdexIconTxt className={commonClasses.icon} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t<Typography variant='h6' component='div' color='textPrimary'>\n\t\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' display='block' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t</div>\n\t\t\t</List>\n\t\t\t<div className={classes.version}>\n\t\t\t\t<div className={classes.adxLink}>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx Network O\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t\t<small> / </small>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdExCore\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default SideNav\n","import React, { useState } from 'react'\nimport Menu from '@material-ui/core/Menu'\nimport Button from '@material-ui/core/Button'\n\nconst ImgIcon = ({ src }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={src}\n\t\t\theight={36}\n\t\t\twidth='auto'\n\t\t\talt='logo'\n\t\t\tstyle={{ marginRight: 5 }}\n\t\t/>\n\t)\n}\n\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\n\tconst [active, setActive] = useState(false)\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\tconst open = Boolean(anchorEl)\n\n\tconst handleButtonClick = () => {\n\t\tsetActive(!active)\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst handleMenu = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tstyle={btnStyle}\n\t\t\t\tonClick={handleMenu}\n\t\t\t\taria-owns={id}\n\t\t\t\taria-haspopup='true'\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid={id}\n\t\t\t\topen={open}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t// anchorOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\t// transformOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\tonClick={handleButtonClick}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n\nexport default ButtonMenu\n","import { AUTH_TYPES } from 'constants/misc'\nimport metamaskLogo from 'resources/metamask-logo.png'\nimport trezorLogo from 'resources/trezor-logo-h.png'\nimport ledgerLogo from 'resources/ledger_logo_header.png'\nimport demoLogo from 'resources/demo-logo.png'\n\nexport const getAuthLogo = authType => {\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\treturn metamaskLogo\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\treturn trezorLogo\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\treturn ledgerLogo\n\t\tcase AUTH_TYPES.DEMO.name:\n\t\t\treturn demoLogo\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\nimport Translate from 'components/translate/Translate'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\n// import ChangeLang from 'components/translate/ChangeLang'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport { logOut } from 'services/store-data/auth'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport classnames from 'classnames'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { selectNavTitle, selectAccount } from 'selectors'\nimport { styles } from './styles'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRMenuItem = withReactRouterLink(MenuItem)\nconst useStyles = makeStyles(styles)\n\nfunction TopNav({ handleDrawerToggle, side, t }) {\n\tconst classes = useStyles()\n\tconst navTitle = useSelector(selectNavTitle)\n\tconst account = useSelector(selectAccount)\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\n\tconst btnMenuLabel =\n\t\taccount.wallet.authType === 'demo'\n\t\t\t? t('DEMO_MODE')\n\t\t\t: account.email ||\n\t\t\t  formatAddress(account.wallet.address) ||\n\t\t\t  t('NOT_LOGGED')\n\n\treturn (\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t{/* <AdexIconTxt\n              className={classes.icon}\n            /> */}\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\n\t\t\t\t\t\t{/* <ChangeLang /> */}\n\t\t\t\t\t\t<Jazzicon\n\t\t\t\t\t\t\tdiameter={30}\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonMenu\n\t\t\t\t\t\t\tid='menu-appbar'\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\n\t\t\t\t\t\t\tactive={true}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRMenuItem\n\t\t\t\t\t\t\t\tvalue='account'\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RRMenuItem>\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue='logout'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlogOut()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</ButtonMenu>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\tclassName={classes.flex}\n\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(navTitle)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nexport default Translate(TopNav)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\n// import IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport Translate from 'components/translate/Translate'\nimport { validations, helpers } from 'adex-models'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\n\nconst MAX_IMG_LOAD_TIME = 7000\nclass Img extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timgSrc: null,\n\t\t\tactive: false,\n\t\t\tvideoSrc: null,\n\t\t}\n\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\n\t\tthis.loadTimeout = null\n\t}\n\n\tipfsSrc = src => {\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\n\t\t}\n\n\t\treturn src\n\t}\n\n\thandleToggle = ev => {\n\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\tev && ev.preventDefault && ev.preventDefault()\n\t\tlet active = this.state.active\n\t\tthis.setState({ active: !active })\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\tif (isVideo && !allowVideo) {\n\t\t\treturn this.setState({\n\t\t\t\timgSrc: VIDEO_IMAGE,\n\t\t\t})\n\t\t}\n\n\t\tif (isVideo) {\n\t\t\tthis.displayVideo = document.createElement('video')\n\t\t\tthis.setDisplayVideo({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.displayImage = new Image()\n\t\t\tthis.setDisplayImage({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps = nextProps => {\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\n\t\tconst { mediaMime } = nextProps\n\n\t\tif (nextSrc !== thisSrc) {\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\t\tif (isVideo) {\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\n\t\t\t\tthis.setDisplayVideo({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\n\t\t\t\tthis.setDisplayImage({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearLoadTimeout()\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\t\t\tthis.displayImage = null\n\t\t}\n\t}\n\n\tclearLoadTimeout = () => {\n\t\tif (this.loadTimeout) {\n\t\t\tclearTimeout(this.loadTimeout)\n\t\t\tthis.loadTimeout = null\n\t\t}\n\t}\n\n\tonFail = fallback => {\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.displayImage.src = fallback\n\t\t}\n\n\t\tthis.clearLoadTimeout()\n\n\t\tthis.setState({\n\t\t\timgSrc: fallback || null,\n\t\t})\n\t}\n\n\tsetDisplayImage = ({ image, fallback }) => {\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\n\t\t\tthis,\n\t\t\tfallback\n\t\t)\n\n\t\tthis.displayImage.onload = () => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\timgSrc: image,\n\t\t\t})\n\t\t}\n\n\t\tthis.displayImage.src = image\n\t}\n\n\tsetDisplayVideo = ({ image, fallback }) => {\n\t\tthis.displayVideo.src = image\n\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\tvideoSrc: image,\n\t\t\t})\n\t\t}\n\t}\n\n\tfullScreenBtn() {\n\t\tconst { classes } = this.props\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Fab\n\t\t\t\t\tmini\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FullscreenIcon />\n\t\t\t\t</Fab>\n\t\t\t\t{this.renderFullscreenDialog()}\n\t\t\t</span>\n\t\t)\n\t}\n\n\trenderFullscreenDialog() {\n\t\tconst { t, alt, classes, type } = this.props\n\t\tconst { active, imgSrc, videoSrc } = this.state\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={active}\n\t\t\t\ttype={type || 'normal'}\n\t\t\t\tmaxWidth={false}\n\t\t\t\tonClose={this.handleToggle}\n\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\n\t\t\t\t\t{imgSrc ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\n\t\t\t\t\t\t{t('CLOSE')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talt,\n\t\t\tallowFullscreen,\n\t\t\tclassName,\n\t\t\tclasses,\n\t\t\tfullScreenOnClick,\n\t\t} = this.props\n\t\tconst { imgSrc, videoSrc } = this.state\n\t\treturn imgSrc || videoSrc ? (\n\t\t\t<div\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\n\t\t\t>\n\t\t\t\t{!!imgSrc ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\tsrc={this.state.imgSrc}\n\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\n\t\t\t\t\t></video>\n\t\t\t\t)}\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\n\t\t\t</div>\n\t\t) : (\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\n\t\t\t\t<span className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImg.propTypes = {\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\tfallbackSrc: PropTypes.string,\n\talt: PropTypes.string,\n\tallowFullscreen: PropTypes.bool,\n\tfullScreenOnClick: PropTypes.bool,\n\tmediaMime: PropTypes.string,\n}\n\nexport default Translate(withStyles(styles)(Img))\n","export const styles = theme => ({\n\timgLoading: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: '100%',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\timgParent: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: 'max-content',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tcircular: {\n\t\tposition: 'relative',\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\n\t\tleft: 'calc(50% - 20px)',\n\t\tdisplay: 'inline-block',\n\t},\n\tfullscreenIcon: {\n\t\tposition: 'absolute',\n\t\ttop: theme.spacing(1),\n\t\tright: theme.spacing(1),\n\t\tcursor: 'pointer',\n\t\twidth: '30px',\n\t\theight: '30px',\n\t\tminHeight: '24px',\n\t},\n\tdialog: {\n\t\t'@media(max-width:744px)': {\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t},\n\t\t'@media(max-height:823px)': {\n\t\t\tminHeight: 'auto',\n\t\t},\n\t},\n\tdialogImageParent: {\n\t\t'@media(max-width:1080px)': {\n\t\t\tmaxWidth: '80vw',\n\t\t\tmaxHeight: '100vw',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t},\n\t\t'@media(max-width:744px)': {\n\t\t\tpaddingLeft: 0,\n\t\t\tpaddingRight: 0,\n\t\t},\n\t},\n\tdialogImage: {\n\t\theight: 'auto',\n\t\tmaxWidth: '80vw',\n\t},\n\timg: {\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t},\n\twrapper: {\n\t\theight: 'max-content',\n\t\twidth: 'max-content',\n\t},\n})\n","/**\n * @param {String} objUrl - Image blob url URL.createObjectURL\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\n * @param {String} fileName - Name of the returned file in Promise\n */\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\n\t// TODO: Validate pixelCrop and size\n\tconst cropCanvas = document.createElement('canvas')\n\tconst scaleCanvas = document.createElement('canvas')\n\n\tconst img = new Image()\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\n\timg.src = objUrl\n\n\t// As a blob\n\treturn new Promise((resolve, reject) => {\n\t\timg.onload = () => {\n\t\t\tconst width = img.width\n\t\t\tconst height = img.height\n\n\t\t\t// pixelCrop come in %\n\t\t\tconst crop = {\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\n\t\t\t}\n\n\t\t\tcropCanvas.width = crop.width\n\t\t\tcropCanvas.height = crop.height\n\t\t\tconst cctx = cropCanvas.getContext('2d')\n\n\t\t\tcctx.drawImage(\n\t\t\t\timg,\n\t\t\t\tcrop.x,\n\t\t\t\tcrop.y,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height\n\t\t\t)\n\n\t\t\tscaleCanvas.width = size.width\n\t\t\tscaleCanvas.height = size.height\n\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\n\n\t\t\tsctx.drawImage(\n\t\t\t\tcropCanvas,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tsize.width,\n\t\t\t\tsize.height\n\t\t\t)\n\n\t\t\tscaleCanvas.toBlob(file => {\n\t\t\t\tif (!file) {\n\t\t\t\t\treject('Error cropping file')\n\t\t\t\t}\n\t\t\t\tfile.name = fileName\n\t\t\t\tresolve(URL.createObjectURL(file))\n\t\t\t}, 'image/jpeg')\n\t\t}\n\t})\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'components/common/img/Img'\n// import debounce from 'debounce'\nimport Dropzone from 'react-dropzone'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport ReactCrop from 'react-image-crop'\nimport { getCroppedImgUrl } from 'services/images/crop'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport SaveIcon from '@material-ui/icons/Save'\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\nimport Grid from '@material-ui/core/Grid'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nclass ImgForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { size, imgSrc, mime } = props\n\t\tconst aspect = size ? size.width / size.height : undefined\n\n\t\tthis.state = {\n\t\t\timgSrc: imgSrc || '',\n\t\t\tmime: mime || '',\n\t\t\timgName: '',\n\t\t\tcropMode: false,\n\t\t\tcrop: { aspect: aspect },\n\t\t}\n\t}\n\n\tonDrop = (acceptedFiles, rejectedFiles) => {\n\t\tconst that = this\n\t\tconst file = acceptedFiles[0]\n\t\tif (!file) return\n\t\tconst objectUrl = URL.createObjectURL(file)\n\n\t\tthat.setState({\n\t\t\timgSrc: objectUrl,\n\t\t\timgName: file.name,\n\t\t\tmime: file.type,\n\t\t})\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\n\t\tthis.props.onChange({\n\t\t\ttempUrl: objectUrl,\n\t\t\tmime: file.type,\n\t\t})\n\t}\n\n\tonRemove = e => {\n\t\tthis.preventBubbling(e)\n\n\t\tconst { imgSrc } = this.state\n\n\t\tif (imgSrc) {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\n\t\t}\n\t}\n\n\tonCropChange = crop => {\n\t\tthis.setState({ crop })\n\t}\n\n\tsaveCropped = () => {\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\n\t\tconst { onChange, size } = this.props\n\t\tgetCroppedImgUrl({\n\t\t\tobjUrl: imgSrc,\n\t\t\tpixelCrop: crop,\n\t\t\tfileName: `cropped-${imgName}`,\n\t\t\tsize,\n\t\t}).then(croppedBlob => {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\n\t\t\tonChange({\n\t\t\t\ttempUrl: croppedBlob,\n\t\t\t\tmime,\n\t\t\t})\n\t\t})\n\t}\n\n\tpreventBubbling = e => {\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation()\n\t\t}\n\t\tif (e.nativeEvent) {\n\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t}\n\t}\n\n\tUploadInfo = () => {\n\t\tconst { t, classes, size, errMsg } = this.props\n\t\tconst { imgSrc, mime } = this.state\n\t\treturn (\n\t\t\t<div className={classes.uploadInfo}>\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\n\t\t\t\t\t<div className={classes.uploadActions}>\n\t\t\t\t\t\t{/* TEMP: make size required */}\n\t\t\t\t\t\t{!!size && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={this.onRemove}\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<FileUploadIcon />\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\n\t\t\t\t\t\t{errMsg}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// TODO: CLEAR IMG BLOB!!!!\n\trender() {\n\t\tconst { t, classes, label, additionalInfo } = this.props\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\n\n\t\tconst videoSrc = isVideoMedia(mime)\n\t\treturn (\n\t\t\t<div className={classes.imgForm}>\n\t\t\t\t<AppBar\n\t\t\t\t\tposition='static'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.header,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t{imgSrc && imgName ? (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div>\n\t\t\t\t\t{cropMode ? (\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\n\t\t\t\t\t\t\t\t\t\timageStyle={{\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Dropzone\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\n\t\t\t\t\t\t\tonDrop={this.onDrop}\n\t\t\t\t\t\t\tclassName={classes.dropzone}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Dropzone>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> {additionalInfo} </small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nImgForm.propTypes = {\n\timgSrc: PropTypes.string,\n\tlabel: PropTypes.string,\n\tsize: PropTypes.object,\n}\n\nexport default Translate(withStyles(styles)(ImgForm))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\theader: {\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdropzone: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\n\t\t\tbackground: theme.palette.background.default,\n\t\t\tpadding: 10,\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timgDropzonePreview: {\n\t\t\tmaxHeight: 320,\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tdropzoneBtn: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tleftIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tuploadActions: {\n\t\t\tmarginTop: spacing,\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\n\nexport default function ValidImageHoc(Decorated) {\n\tclass ValidImage extends Component {\n\t\tvalidate = ({\n\t\t\tpropsName,\n\t\t\twidthTarget,\n\t\t\theightTarget,\n\t\t\tmediaWidth,\n\t\t\tmediaHeight,\n\t\t\tmsg,\n\t\t\texact,\n\t\t\trequired,\n\t\t\tonChange,\n\t\t\tmime,\n\t\t\ttempUrl,\n\t\t}) => {\n\t\t\tlet isValid = true\n\n\t\t\tif (exact) {\n\t\t\t\tisValid = checkExactishAspect(\n\t\t\t\t\twidthTarget,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\theightTarget,\n\t\t\t\t\tmediaHeight\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\n\t\t\t\tisValid = false\n\t\t\t}\n\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\n\n\t\t\tthis.props.validate(propsName, {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: msg, args: masgArgs },\n\t\t\t\tdirty: true,\n\t\t\t})\n\n\t\t\tconst resMedia = {\n\t\t\t\twidth: mediaWidth,\n\t\t\t\theight: mediaHeight,\n\t\t\t\tmime,\n\t\t\t\ttempUrl,\n\t\t\t}\n\n\t\t\tif (typeof onChange === 'function') {\n\t\t\t\tonChange(propsName, resMedia)\n\t\t\t}\n\t\t}\n\n\t\tvalidateMedia = async (\n\t\t\t{\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t} = {},\n\t\t\tmedia\n\t\t) => {\n\t\t\tif (!required && !media.tempUrl && onChange) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: true,\n\t\t\t\t\terr: { msg: msg, args: [] },\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\t// TODO: fix this\n\t\t\t\tonChange(propsName, media)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!media.mime || !media.tempUrl) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: false,\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\n\n\t\t\tthis.validate({\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmediaWidth: size.width,\n\t\t\t\tmediaHeight: size.height,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t\tmime: media.mime,\n\t\t\t\ttempUrl: media.tempUrl,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\n\t\t}\n\t}\n\n\tValidImage.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidImage))\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport PropTypes from 'prop-types'\nimport { execute, validate } from 'actions'\nimport { selectValidationsById } from 'selectors'\n\nexport default function ValidationHoc(Decorated) {\n\tconst ValidItem = props => {\n\t\tconst validations =\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\n\n\t\tconst makeValidation = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tconst { validateId } = props\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\n\t\t}\n\n\t\treturn (\n\t\t\t<Decorated\n\t\t\t\t{...props}\n\t\t\t\tvalidate={makeValidation}\n\t\t\t\tinvalidFields={validations}\n\t\t\t/>\n\t\t)\n\t}\n\n\tValidItem.propTypes = {\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\treturn ValidItem\n}\n","export const styles = theme => {\n\t// const spacing = theme.spacing(3)\n\treturn {}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nexport class ImgDialog extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tvalues: {},\n\t\t}\n\t}\n\n\thandleChange = (name, value) => {\n\t\tlet newValues = { ...this.state.values }\n\t\tnewValues[name] = value\n\t\tthis.setState({ values: newValues })\n\t}\n\n\tonOk = () => {\n\t\tconst vals = this.state.values\n\t\tObject.keys(vals).forEach(key => {\n\t\t\tthis.props.onChangeReady(key, vals[key])\n\t\t})\n\t\tthis.props.handleToggle()\n\t}\n\n\trender() {\n\t\tlet t = () => {}\n\t\tlet validations = this.props.invalidFields || {}\n\t\tlet errImg = validations[this.props.imgPropName]\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.props.active}\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ttype={this.props.type || 'normal'}\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t{this.props.t(this.props.title)}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\n\t\t\t\t\t\t\t\texact: this.props.exact,\n\t\t\t\t\t\t\t\trequired: this.props.required,\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\n\t\t\t\t\t\t\t{'Cancel'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.onOk}\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{'Ok'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImgDialog.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tlet persist = state.persist\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n// import classnames from 'classnames'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Fab from '@material-ui/core/Fab'\nimport CheckIcon from '@material-ui/icons/Check'\nimport SaveIcon from '@material-ui/icons/Save'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\nclass SaveBtn extends Component {\n\trender() {\n\t\tlet {\n\t\t\tspinner,\n\t\t\tclasses,\n\t\t\tsuccess,\n\t\t\tdirtyProps,\n\t\t\tsave,\n\t\t\tvalidations,\n\t\t\tvalidationId,\n\t\t\tdisabled,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.position}>\n\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t<Fab\n\t\t\t\t\t\tfabButton\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t// className={buttonClassname}\n\t\t\t\t\t\tonClick={() => save()}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tdisabled ||\n\t\t\t\t\t\t\tspinner ||\n\t\t\t\t\t\t\t!dirtyProps.length ||\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// {...other}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*TODO: Success */}\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\n\t\t\t\t\t</Fab>\n\t\t\t\t\t{!!spinner && (\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSaveBtn.propTypes = {\n\tspinnerId: PropTypes.string,\n\tvalidationId: PropTypes.string,\n\titemId: PropTypes.string,\n\tvalidations: PropTypes.object,\n\tdisabled: PropTypes.bool,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\treturn {\n\t\tspinner: memory.spinners[props.spinnerId],\n\t\tvalidations: memory.validations,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(SaveBtn)))\n","import color from '@material-ui/core/colors/purple'\n\nexport const styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: color[500],\n\t\t'&:hover': {\n\t\t\tbackgroundColor: color[700],\n\t\t},\n\t},\n\tfabProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: -6,\n\t\tleft: -6,\n\t\tzIndex: 1,\n\t},\n\tbuttonProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tposition: {\n\t\tposition: 'fixed',\n\t\ttop: 86,\n\t\tright: 40,\n\t\tzIndex: theme.zIndex.appBar + 1,\n\t},\n})\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\twidth: '100%',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\tbuttonLeft: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\ttextField: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\ttop: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflexWrap: 'wrap',\n\t\t\tmaxWidth: '70%',\n\t\t},\n\t\tchangesLine: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\talignItems: 'center',\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tchangeChip: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: spacing,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport IMG_404_1 from 'resources/404-no.png'\nimport IMG_404_2 from 'resources/404-yes.png'\nimport Img from 'components/common/img/Img'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport Translate from 'components/translate/Translate'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst G404 = ({ size }) => (\n\t<Grid item xs={size}>\n\t\t<Typography\n\t\t\tinline\n\t\t\tvariant={`h${size}`}\n\t\t\tstyle={{ textTransform: 'uppercase' }}\n\t\t>\n\t\t\t{t('404')}\n\t\t</Typography>\n\t</Grid>\n)\n\nclass PageNotFound extends React.Component {\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\tgoToTxt,\n\t\t\tgoToPath,\n\t\t\tskipGoToButton,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\n\t\t\t\t\t\t\t{t(title || '404')}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{subtitle && (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\n\t\t\t\t\t\t\t\t{t(subtitle)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={4} />\n\t\t\t\t\t<G404 size={2} />\n\t\t\t\t\t<G404 size={1} />\n\t\t\t\t\t<G404 size={5} />\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={2} />\n\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t{!skipGoToButton && (\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPageNotFound.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tgoToTxt: PropTypes.string,\n\tgoToPath: PropTypes.string,\n\tskipGoToButton: PropTypes.bool,\n}\n\nexport default Translate(withStyles(styles)(PageNotFound))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\twrapper: {\n\t\t\tmargin: `${spacing * 2}px auto`,\n\t\t\tmaxWidth: 1000,\n\t\t},\n\t\timg: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\nimport { schemas, Joi } from 'adex-models'\nimport classnames from 'classnames'\nimport { Prompt } from 'react-router'\nimport Translate from 'components/translate/Translate'\nimport { items as ItemsConstants } from 'adex-constants'\nimport Img from 'components/common/img/Img'\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\nimport { withStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport Paper from '@material-ui/core/Paper'\nimport InfoOutlineIcon from '@material-ui/icons/Info'\nimport Chip from '@material-ui/core/Chip'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { styles } from './styles'\nimport { validName } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { selectSide } from 'selectors'\n\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\nconst { AdSizesByValue } = ItemsConstants\n\nexport default function ItemHoc(Decorated) {\n\tclass Item extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.save = this.save.bind(this)\n\t\t\tthis.state = {\n\t\t\t\tactiveFields: {},\n\t\t\t\titem: null,\n\t\t\t\tinitialItemState: {},\n\t\t\t\tdirtyProps: [],\n\t\t\t\teditImg: false,\n\t\t\t\t_activeInput: null,\n\t\t\t}\n\t\t}\n\n\t\tupdateNav = (item = {}) => {\n\t\t\tconst { actions, t, itemType } = this.props\n\t\t\tactions.updateNav(\n\t\t\t\t'navTitle',\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\n\t\t\t)\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tconst { item, matchId, objModel } = this.props\n\n\t\t\tif (!item) {\n\t\t\t\tthis.updateNav({ title: matchId })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst initialItemState = new objModel(item)\n\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\n\t\t\tthis.updateNav(initialItemState)\n\t\t}\n\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t\t//     return diffProps || diffState\n\t\t// }\n\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item } = this.state\n\t\t\tlet currentItemInst = new objModel(item || {})\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\n\t\t\t// TODO: check the above\n\t\t\tlet nextItem = nextProps.item\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\n\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\n\t\t\t\t// if (\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\n\t\t\t\t// ) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titem: nexItemInst.plainObj(),\n\t\t\t\t\tinitialItemState: nexItemInst,\n\t\t\t\t\tactiveFields: {},\n\t\t\t\t\tdirtyProps: [],\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.updateNav(nexItemInst)\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tif (this.state.item) {\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[name] = value\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\n\t\t\tif (dp.indexOf(name) < 0) {\n\t\t\t\tdp.push(name)\n\t\t\t}\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t}\n\n\t\treturnPropToInitialState = propName => {\n\t\t\tconst { objModel, actions } = this.props\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\n\t\t\tconst initialItemStateValue = initialItemState[propName]\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[propName] = initialItemStateValue\n\n\t\t\tconst dp = dirtyProps.filter(dp => {\n\t\t\t\treturn dp !== propName\n\t\t\t})\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t\t// TEMP fix, we assume that the initial values are validated\n\t\t\tactions.resetValidationErrors(item.id, propName)\n\t\t}\n\n\t\tsetActiveFields = (field, value) => {\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\n\t\t\tnewActiveFields[field] = value\n\t\t\tthis.setState({ activeFields: newActiveFields })\n\t\t}\n\n\t\t//TODO: Do not save if not dirty!\n\t\tsave = () => {\n\t\t\tconst { itemType, spinner, actions } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tif (dirtyProps.length && !spinner) {\n\t\t\t\tactions.updateItem({\n\t\t\t\t\titemType,\n\t\t\t\t\titem,\n\t\t\t\t})\n\t\t\t\tthis.setState({ dirtyProps: [] })\n\t\t\t}\n\t\t}\n\n\t\tisDirtyProp(prop) {\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\n\t\t}\n\n\t\thandleToggle = () => {\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\n\n\t\t\tif (isDemo) return\n\n\t\t\tlet active = this.state.editImg\n\t\t\tthis.setState({ editImg: !active })\n\t\t}\n\n\t\tisNameValid(name) {\n\t\t\tconst { msg } = validName(name)\n\t\t\treturn !msg\n\t\t}\n\n\t\tvalidateTitle(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tschema = campaignPut.title\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('title', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\tvalidateDescription(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.description\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.description\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('description', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tvalidations,\n\t\t\t\tclasses,\n\t\t\t\tt,\n\t\t\t\taccount,\n\t\t\t\titemType,\n\t\t\t\tobjModel,\n\t\t\t\tmatchId,\n\t\t\t\tside,\n\t\t\t\tinvalidFields,\n\t\t\t\tvalidateId,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst propsItem = this.props.item\n\n\t\t\tif (!propsItem) {\n\t\t\t\treturn (\n\t\t\t\t\t<PageNotFound\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\n\t\t\t\t\t\t\targs: [itemType.toUpperCase(), matchId],\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tgoToPath={`/dashboard/${side}`}\n\t\t\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t/*\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\n\t\t\t * in this case there is no need to make instance inside them\n\t\t\t */\n\n\t\t\tconst isDemo = account._authType === 'demo'\n\t\t\tconst item = new objModel(this.state.item || {})\n\t\t\tlet canEdit = itemType === 'AdSlot'\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\n\n\t\t\tconst titleErr = invalidFields['title']\n\t\t\tconst descriptionErr = invalidFields['description']\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Prompt\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\n\t\t\t\t\t\t\t\tvalue={item.title}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\n\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{itemType !== 'Campaign' && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<ImgDialog\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\twidth={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\theight={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\n\t\t\t\t\t\t\t\t\timgPropName='img'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SaveBtn\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Decorated\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\n\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\tisDemo={isDemo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n\tItem.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\titem: PropTypes.object.isRequired,\n\t\tspinner: PropTypes.bool,\n\t\titemType: PropTypes.string.isRequired,\n\t\tobjModel: PropTypes.func.isRequired,\n\t}\n\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\n\t\tlet keys = Object.keys(items)\n\n\t\tfor (let index = 0; index < keys.length; index++) {\n\t\t\tconst key = keys[index]\n\t\t\tconst item = items[key]\n\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\n\t\t\t\treturn item\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist } = state\n\t\t// const memory = state.memory\n\t\tconst items = persist.items[props.itemType]\n\t\tconst id = props.match.params.itemId\n\t\tlet item = items[id]\n\n\t\tif (!item && props.itemType !== undefined) {\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\n\t\t}\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\titem: item,\n\t\t\tvalidateId: 'update-' + (item ? item.id || item.ipfs : 'notfound'),\n\t\t\tmatchId: id,\n\t\t\tside: selectSide(state),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\n}\n","import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { t } from 'selectors'\n\nconst generalTableOptions = {\n\trowsPerPage: 5,\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\n\tsetTableProps: () => {\n\t\treturn {\n\t\t\tpadding: 'default',\n\t\t\tsize: 'small',\n\t\t\twidth: '100%',\n\t\t\talign: 'center',\n\t\t}\n\t},\n\ttextLabels: {\n\t\tbody: {\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\n\t\t\tcolumnHeaderTooltip: column =>\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\n\t\t\t\t\targs: [column.label || column],\n\t\t\t\t})}`,\n\t\t},\n\t\tpagination: {\n\t\t\tnext: t('TABLE_NEXT'),\n\t\t\tprevious: t('TABLE_PREV'),\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\n\t\t},\n\t\ttoolbar: {\n\t\t\tsearch: t('TABLE_SEARCH'),\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\n\t\t\tprint: t('TABLE_PRINT'),\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\n\t\t\tfilterTable: t('TABLE_FILTER'),\n\t\t},\n\t\tfilter: {\n\t\t\tall: t('TABLE_FILTER_ALL'),\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\n\t\t\treset: t('TABLE_FILTER_RESET'),\n\t\t},\n\t\tviewColumns: {\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\n\t\t},\n\t\tselectedRows: {\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\n\t\t\tdelete: t('TABLE_DELETE'),\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\n\t\t},\n\t},\n}\nexport default function MUIDataTableEnhanced(props) {\n\tconst { title, data, columns, options } = props\n\n\treturn (\n\t\t<MUIDataTable\n\t\t\ttitle={title}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={{\n\t\t\t\t...generalTableOptions,\n\t\t\t\t...options,\n\t\t\t\tsearch: !props.noSearch,\n\t\t\t\tdownload: !props.noDownload,\n\t\t\t\tprint: !props.noPrint,\n\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\n\t\t\t\tdisableToolbarSelect: props.toolbarEnabled ? false : true,\n\t\t\t}}\n\t\t/>\n\t)\n}\n","import React from 'react'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\n\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\n\tconst icon = {\n\t\txs: { fontSize: 10 },\n\t\tmd: { fontSize: 15 },\n\t\tls: { fontSize: 20 },\n\t}\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\n\t\treturn waitIcon\n\tswitch (status.toLowerCase()) {\n\t\tcase 'active':\n\t\tcase 'ready':\n\t\t\treturn doneIcon\n\t\tcase 'pending':\n\t\tcase 'initializing':\n\t\tcase 'waiting':\n\t\t\treturn waitIcon\n\t\tcase 'offline':\n\t\tcase 'disconnected':\n\t\tcase 'unhealthy':\n\t\tcase 'invalid':\n\t\t\treturn warningIcon\n\t\tcase 'withdraw':\n\t\t\treturn cashIcon\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n\nexport { mapStatusIcons }\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmaxHeight: 60,\r\n\t\tmaxWidth: 180,\r\n\t\tcursor: 'pointer',\r\n\t},\r\n})\r\n","import React from 'react'\nimport { Typography, Slider, Box } from '@material-ui/core'\nimport { formatAbbrNum, formatNumberWithoutCommas } from 'helpers/formatters'\n\nconst getSliderStep = (min, max, steps, precision = 2) => {\n\tconst diff = max - min\n\tconst step = diff / steps\n\tconst fixed = parseFloat(step.toFixed(precision))\n\n\treturn fixed\n}\n\nexport const sliderFilterOptions = ({\n\tinitial = [],\n\tfilterTitle = '',\n\tstepsCount = 20,\n\tstepsPrecision = 2,\n}) => {\n\tconst min = initial[0] || 0\n\tconst max = initial[1] || 100\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\n\treturn {\n\t\tfilter: true,\n\t\tdisplay: 'true',\n\t\tfilterType: 'custom',\n\t\tcustomFilterListOptions: {\n\t\t\trender: v =>\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\n\t\t\tupdate: (filterList, filterPos, index) => {\n\t\t\t\tfilterList[index] = []\n\t\t\t\treturn filterList\n\t\t\t},\n\t\t},\n\n\t\tfilterOptions: {\n\t\t\tnames: [],\n\t\t\tlogic: (rowNumber, filters) => {\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\n\t\t\t\tif (filters.length > 0) {\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tdisplay: (filterList, onChange, index, column) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\n\t\t\t\t\t\t\t{filterTitle}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tmarks={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: min,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\n\t\t\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\n\nexport function useTableData({ selector, selectorArgs, getColumns }) {\n\tconst [data, setData] = useState([])\n\tconst [columns, setColumns] = useState([])\n\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\n\n\tconst reloadData = useCallback(() => {\n\t\tsetData(selectedData)\n\t\tsetColumns(getColumns())\n\t}, [getColumns, selectedData])\n\n\tuseEffect(() => {\n\t\treloadData()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selectedData.length, selector, selectorArgs])\n\n\treturn { data, columns, reloadData }\n}\n","import React, { Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tIconButton,\n\tTooltip,\n\tBox,\n\tButton,\n\tCircularProgress,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\nimport { t, selectSpinnerById } from 'selectors'\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\n\nconst useStyles = makeStyles(theme => ({\n\twrapper: {\n\t\tmargin: theme.spacing(1),\n\t\tposition: 'relative',\n\t},\n\tbuttonProgress: {\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}))\n\nexport function ReloadData({ handleReload }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\n\t\t\t\t<IconButton onClick={handleReload}>\n\t\t\t\t\t<Refresh />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('VIEW_ALL_RECEIPTS_DATA')}>\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\n\t\t\t\t\t<Receipt />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\n\tconst classes = useStyles()\n\tconst receiptsSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RECEIPTS_PRINT_ALL')}>\n\t\t\t\t<Box ml={2} mr={2}>\n\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstartIcon={<Print />}\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{receiptsSpinner && (\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</Box>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\nimport classnames from 'classnames'\nimport { Tooltip, IconButton } from '@material-ui/core'\nimport { Visibility, Receipt } from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport {\n\tt,\n\tselectCampaignsTableData,\n\tselectMainToken,\n\tselectSide,\n\tselectCampaignsMaxImpressions,\n\tselectCampaignsMaxClicks,\n\tselectCampaignsMaxDeposit,\n} from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { commify } from 'ethers/utils'\nimport { execute, handlePrintSelectedReceipts } from 'actions'\nimport { useSelector } from 'react-redux'\nimport { styles } from './styles'\nimport { formatDateTime } from 'helpers/formatters'\nimport { sliderFilterOptions } from './commonFilters'\nimport { useTableData } from './tableHooks'\nimport { ReloadData, PrintAllReceipts } from './toolbars'\nconst RRIconButton = withReactRouterLink(IconButton)\n\nconst useStyles = makeStyles(styles)\n\nconst getCols = ({\n\tclasses,\n\tsymbol,\n\tmaxImpressions,\n\tmaxDeposit,\n\tmaxClicks,\n}) => [\n\t{\n\t\tname: 'id',\n\t\toptions: {\n\t\t\tdisplay: 'excluded',\n\t\t\tfilter: false,\n\t\t},\n\t},\n\t{\n\t\tname: 'receiptAvailable',\n\t\toptions: {\n\t\t\tdisplay: 'excluded',\n\t\t\tdownload: false,\n\t\t\tfilter: false,\n\t\t},\n\t},\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ id, adUnits }) => {\n\t\t\t\treturn (\n\t\t\t\t\t// TODO: Images issue some stop displaying\n\t\t\t\t\t<Img\n\t\t\t\t\t\tfullScreenOnClick={true}\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\tsrc={adUnits[0].mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={adUnits[0].mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'status',\n\t\tlabel: t('PROP_STATUS'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tfilterOptions: {\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\n\t\t\t\tlogic: (status, filters) => {\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\n\t\t\t\t\treturn false\n\t\t\t\t},\n\t\t\t},\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName }) => (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{humanFriendlyName}{' '}\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\n\t\t\t\t</React.Fragment>\n\t\t\t),\n\t\t\t// TODO: Sorting issue\n\t\t},\n\t},\n\t{\n\t\tname: 'depositAmount',\n\t\tlabel: t('PROP_DEPOSIT'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: depositAmount => (\n\t\t\t\t<React.Fragment>{`${depositAmount.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</React.Fragment>\n\t\t\t),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxDeposit],\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'fundsDistributedRatio',\n\t\tlabel: t('PROP_DISTRIBUTED'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)}%`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxImpressions],\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxClicks],\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'minPerImpression',\n\t\tlabel: t('PROP_CPM'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: minPerImpression => (\n\t\t\t\t<React.Fragment>{`${minPerImpression.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</React.Fragment>\n\t\t\t),\n\t\t},\n\t},\n\t{\n\t\tname: 'created',\n\t\tlabel: t('PROP_CREATED'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: created => formatDateTime(created),\n\t\t},\n\t},\n\t{\n\t\tname: 'activeFrom',\n\t\tlabel: t('PROP_STARTS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\n\t\t},\n\t},\n\t{\n\t\tname: 'withdrawPeriodStart',\n\t\tlabel: t('PROP_ENDS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\n\t\t\t\tformatDateTime(withdrawPeriodStart),\n\t\t},\n\t},\n\t{\n\t\tname: 'actions',\n\t\tlabel: t('ACTIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ side, id, humanFriendlyName }) => (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\n\t\t\t\t\t\t// placement='top'\n\t\t\t\t\t\tenterDelay={1000}\n\t\t\t\t\t>\n\t\t\t\t\t\t<RRIconButton\n\t\t\t\t\t\t\tto={`/dashboard/${side}/Campaign/${id}`}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\taria-label='preview'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Visibility color='primary' />\n\t\t\t\t\t\t</RRIconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{(humanFriendlyName === 'Closed' ||\n\t\t\t\t\t\thumanFriendlyName === 'Completed') && (\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttitle={t('RECEIPT_VIEW')}\n\t\t\t\t\t\t\t// placement='top'\n\t\t\t\t\t\t\tenterDelay={1000}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRIconButton\n\t\t\t\t\t\t\t\tto={`/dashboard/${side}/Campaign/receipt/${id}`}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\taria-label='receip'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Receipt color='primary' />\n\t\t\t\t\t\t\t</RRIconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t)}\n\t\t\t\t</React.Fragment>\n\t\t\t),\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [\n\t\t\ti.data[0],\n\t\t\ti.data[1],\n\t\t\ti.data[2],\n\t\t\ti.data[3].humanFriendlyName,\n\t\t\t`${i.data[4]} ${symbol}`,\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)}%`,\n\t\t\ti.data[6],\n\t\t\ti.data[7],\n\t\t\ti.data[8],\n\t\t\tformatDateTime(i.data[9]),\n\t\t\tformatDateTime(i.data[10]),\n\t\t\tformatDateTime(i.data[11]),\n\t\t],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\n\tfilterType: 'multiselect',\n\tselectableRows: 'none',\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\n\t\tconst selectedItems = displayData\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\n\t\t\t.map(item => item.data[0])\n\t\treturn (\n\t\t\t<PrintAllReceipts\n\t\t\t\thandlePrintAllReceipts={() =>\n\t\t\t\t\texecute(handlePrintSelectedReceipts(selectedItems))\n\t\t\t\t}\n\t\t\t\tdisabled={selectedItems.length === 0}\n\t\t\t/>\n\t\t)\n\t},\n})\n\nfunction CampaignsTable(props) {\n\tconst classes = useStyles()\n\tconst side = useSelector(selectSide)\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\n\tconst { symbol, decimals } = useSelector(selectMainToken)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector: selectCampaignsTableData,\n\t\tselectorArgs: side,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tdecimals,\n\t\t\t\tclasses,\n\t\t\t\tsymbol,\n\t\t\t\tmaxImpressions,\n\t\t\t\tmaxClicks,\n\t\t\t\tmaxDeposit,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ decimals, symbol, reloadData })\n\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\trowSelectable\n\t\t\ttoolbarEnabled\n\t\t\t{...props}\n\t\t/>\n\t)\n}\n\nexport default CampaignsTable\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport StepperMUI from '@material-ui/core/Stepper'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport Button from '@material-ui/core/Button'\nimport { styles } from './styles'\nimport Paper from '@material-ui/core/Paper'\nimport Box from '@material-ui/core/Box'\nimport Chip from '@material-ui/core/Chip'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\n\nconst getDirtyValidationErrors = (validations = {}) => {\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\n\t\tconst err = validations[key]\n\t\tif (err.dirty) {\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\n\t\t}\n\t\treturn dirtyErrs\n\t}, [])\n\n\treturn errors\n}\n\nconst useStyles = makeStyles(styles)\n\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\n\tif (window.innerWidth <= 768) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\n\t\t\t\t</StepLabel>\n\t\t\t\t<MobileStepper\n\t\t\t\t\tactiveStep={currentPage}\n\t\t\t\t\tsteps={pages.length}\n\t\t\t\t\tposition={'static'}\n\t\t\t\t\tvariant='progress'\n\t\t\t\t\tclassName={classes.mobileStepper}\n\t\t\t\t></MobileStepper>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\n\t\t\t{pages.map((page, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Step key={page.title}>\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\n\t\t\t\t\t</Step>\n\t\t\t\t)\n\t\t\t})}\n\t\t</StepperMUI>\n\t)\n}\n\nconst MaterialStepper = props => {\n\tconst {\n\t\tinitialPage = 0,\n\t\tpages = [],\n\t\t// ...props\n\t} = props\n\tconst classes = useStyles()\n\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\n\tconst canReverse = pages.length > currentPage && currentPage > 0\n\n\tconst page = pages[currentPage] || {}\n\tconst pageProps = page.props || {}\n\tconst { validateId } = pageProps\n\tconst Comp = page.component || null\n\tconst { pageValidation = null, onValid, stepsId } = page\n\n\tconst validations = useSelector(state =>\n\t\tselectValidationsById(state, validateId)\n\t)\n\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst isValidPage = useCallback(() => {\n\t\treturn !Object.keys(validations || {}).length\n\t}, [validations])\n\n\t// const canAdvance = isValidPage() && !page.completeBtn\n\n\tconst goToPage = useCallback(\n\t\tasync nextStep => {\n\t\t\tconst canAdvance = nextStep > currentPage\n\t\t\tconst canGoBack = nextStep < currentPage\n\n\t\t\tif (canAdvance || canGoBack) {\n\t\t\t\tsetCurrentPage(nextStep)\n\t\t\t}\n\t\t},\n\t\t[currentPage]\n\t)\n\n\tconst goToPreviousPage = useCallback(async () => {\n\t\tif (canReverse) {\n\t\t\tgoToPage(currentPage - 1)\n\t\t}\n\t}, [canReverse, currentPage, goToPage])\n\n\tconst goToNextPage = useCallback(async () => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\n\t\t\t})\n\t\t} else if (isValidPage()) {\n\t\t\tgoToPage(currentPage + 1)\n\t\t}\n\t}, [\n\t\tcurrentPage,\n\t\tgoToPage,\n\t\tisValidPage,\n\t\tonValid,\n\t\tpageValidation,\n\t\tstepsId,\n\t\tvalidateId,\n\t])\n\n\tuseEffect(() => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({ stepsId, validateId, dirty: false })\n\t\t}\n\t}, [currentPage, pageValidation, stepsId, validateId])\n\n\tconst onKeyPressed = useCallback(\n\t\tasync ev => {\n\t\t\tif (ev.key === 'Enter') {\n\t\t\t\tev.preventDefault()\n\t\t\t\tgoToNextPage()\n\t\t\t}\n\t\t},\n\t\t[goToNextPage]\n\t)\n\n\treturn (\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.stepperNav,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<StepperNav\n\t\t\t\t\t{...props}\n\t\t\t\t\tpages={pages}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<br />\n\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.pagePaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.pageContent}>\n\t\t\t\t\t{!!Comp && <Comp {...pageProps} />}\n\n\t\t\t\t\t{!!dirtyErrors && (\n\t\t\t\t\t\t<Box color='error.main'>\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={err.field}\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.controls}>\n\t\t\t\t\t<div className={classes.left}>\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<page.cancelBtn />\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\n\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{spinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\n\t\t\t\t\t\t\t<page.completeBtn />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t</div>\n\t)\n}\n\nMaterialStepper.propTypes = {\n\tpages: PropTypes.array.isRequired,\n}\n\nexport default MaterialStepper\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\troot: {\n\t\t\tcolor: 'purple',\n\t\t\t'&$active': {\n\t\t\t\tcolor: 'green',\n\t\t\t},\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'yellow',\n\t\t},\n\t\tstepperWrapper: {\n\t\t\t// display: 'flex',\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t},\n\t\tpagePaper: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 115,\n\t\t},\n\t\tpageContent: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 20,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t\tbottom: 50,\n\t\t\tpadding: 20,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tjustifyContent: 'space-between',\n\t\t\tflexDirection: 'column',\n\t\t\tWebkitOverflowScrolling: 'touch',\n\t\t\t'@media(max-width:500px)': {\n\t\t\t\tpaddingLeft: 0,\n\t\t\t\tpaddingRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 5,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t},\n\t\tright: {\n\t\t\ttextAlign: 'right',\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '86%',\n\t\t\t},\n\t\t},\n\t\tleft: {\n\t\t\tdisplay: 'inline-block',\n\t\t\ttextAlign: 'left',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '14%',\n\t\t\t},\n\t\t},\n\t\tmobileStepper: {\n\t\t\twidth: '100%',\n\t\t\t'& div': {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '10px',\n\t\t\t},\n\t\t},\n\t\tmobileStepLabel: {\n\t\t\t'& span': {\n\t\t\t\tfontSize: '24px',\n\t\t\t\tmargin: '14px auto',\n\t\t\t},\n\t\t\ttextAlign: 'center',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\terrChip: {\n\t\t\tcolor: errColor,\n\t\t\tborderColor: errColor,\n\t\t\t'& svg': {\n\t\t\t\tcolor: errColor,\n\t\t\t},\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t}\n}\n","import React, { Component, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { t } from 'selectors'\n\nclass FormSteps extends Component {\n\tshouldComponentUpdate(nextProps) {\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t}\n\n\trender() {\n\t\tconst pages = []\n\t\tconst {\n\t\t\tSaveBtn,\n\t\t\tCancelBtn,\n\t\t\tcancelFunction,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages,\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\t\tconst cancelButton = () => (\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t)\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tstepsPages.forEach((page, index) => {\n\t\t\tpages.push({\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelBtn: cancelButton,\n\t\t\t\tcomponent: !page.pageValidation\n\t\t\t\t\t? ValidItemHoc(page.page || page)\n\t\t\t\t\t: page.page || page,\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tstepsId,\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\n\t\t\t})\n\t\t})\n\n\t\tpages.push({\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\n\t\t\tcompleteBtn: () => (\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t),\n\t\t\tcancelBtn: cancelButton,\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\n\t\t\tstepsId,\n\t\t\tprops: {\n\t\t\t\t...this.props,\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\n\t\t\t},\n\t\t})\n\n\t\treturn (\n\t\t\t// <div style={{ textAlign: 'left' }}>\n\t\t\t<MaterialStepper pages={pages} />\n\t\t\t// </div>\n\t\t)\n\t}\n}\n\nFormSteps.propTypes = {\n\ttitle: PropTypes.string,\n\titemPages: PropTypes.arrayOf(PropTypes.func),\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\n}\n\nexport default forwardRef((props, ref) => (\n\t<FormSteps {...props} forwardedRef={ref} />\n))\n","import grey from '@material-ui/core/colors/grey'\n\nexport const styles = theme => {\n\tconst spacing = theme.spacing(3)\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\n\treturn {\n\t\tdialog: {\n\t\t\tminHeight: `${fullHeight}px`,\n\t\t\tminWidth: 1024,\n\t\t\tmaxWidth: 1080,\n\t\t\tbackgroundColor: grey[200], // TODO: color,\n\t\t\t// maxHeight: `${fullHeight}`,\n\t\t\t'@media(max-width:1080px)': {\n\t\t\t\tmaxWidth: '100%',\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t\t'@media(max-height:823px)': {\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t\twordWrap: 'break-word',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t\toverflowY: 'auto',\n\t\t},\n\t\tcontentBox: {\n\t\t\t// position: 'absolute',\n\t\t\t// top: 0,\n\t\t\t// left: 0,\n\t\t\t// bottom: 0,\n\t\t\t// right: 0,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: 1,\n\t\t},\n\t\tpropRow: {\n\t\t\tmargin: '10px 0',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcontentBody: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tcontentTopLoadingCircular: {\n\t\t\tflexShrink: 0,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontentTopLoading: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\t'& > div': {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tleftCol: {\n\t\t\ttextTransform: 'uppercase',\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\n\t\t\ttextAlign: 'right',\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\ttextAlign: 'left',\n\t\t\t},\n\t\t},\n\t\trightCol: {\n\t\t\ttextAlign: 'left',\n\t\t},\n\t\tprogressCircleCenter: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 30px)',\n\t\t\ttop: 'calc(50% - 30px)',\n\t\t},\n\t\tfloating: {\n\t\t\tposition: 'fixed',\n\t\t\ttop: 86,\n\t\t\tright: 40,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: 'break-word',\n\t\t\toverflowWrap: 'break-word',\n\t\t\thyphens: 'auto',\n\t\t},\n\t\tdemoImg: {\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\twidth: '100px',\n\t\t\theight: 'auto',\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tdemoBody: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontentStickyTop: {\n\t\t\tmarginBottom: '2rem',\n\t\t},\n\t\tfullContentMessage: {\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport classnames from 'classnames'\nimport Slide from '@material-ui/core/Slide'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport { t } from 'selectors'\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={classnames(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{' '}\n\t\t\t{label}{' '}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction='up' ref={ref} {...props} />\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function ItemHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tfabVariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabelArgs,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tvariant,\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\n\t\tconst btnLabelTranslated = btnLabel\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\n\t\t\t: ''\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ButtonComponent\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label={btnLabelTranslated}\n\t\t\t\t\tlabel={btnLabelTranslated}\n\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t{...btnProps}\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{icon}\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\n\t\t\t\t</ButtonComponent>\n\t\t\t\t<Dialog\n\t\t\t\t\t// disableBackdropClick\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle disableTypography>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(title)}\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\n\t\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</DialogTitle>{' '}\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func,\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdUnit } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdUnit',\n\t\t\t\tAdUnit\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tactions.addUnit(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdUnit')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport { InputLoading } from 'components/common/spinners/'\nimport classnames from 'classnames'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction Dropdown(props) {\n\tconst classes = useStyles()\n\n\tconst {\n\t\tonChange,\n\t\tlabel = '',\n\t\tvalue,\n\t\tsource = [],\n\t\thtmlId = 'some-id',\n\t\tdisabled = false,\n\t\terror = false,\n\t\thelperText,\n\t\t// margin = '',\n\t\tfullWidth = false,\n\t\tclassName,\n\t\trequired,\n\t\tloading,\n\t\tnoSrcLabel,\n\t\tvariant,\n\t\tIconComponent,\n\t} = props\n\n\tconst inputLabel = React.useRef(null)\n\tconst [labelWidth, setLabelWidth] = React.useState(0)\n\tReact.useEffect(() => {\n\t\tsetLabelWidth(inputLabel.current.offsetWidth)\n\t}, [])\n\n\tconst handleChange = event => {\n\t\tonChange(event.target.value)\n\t}\n\n\t// TODO: add native renderer for mobile devices when supported\n\treturn (\n\t\t<FormControl\n\t\t\tclassName={classnames(className, classes.formControl)}\n\t\t\tdisabled={disabled}\n\t\t\terror={error}\n\t\t\tfullWidth={fullWidth}\n\t\t\tvariant={variant}\n\t\t>\n\t\t\t<InputLabel ref={inputLabel} htmlFor={htmlId} required={required}>\n\t\t\t\t{label}\n\t\t\t</InputLabel>\n\t\t\t{!!source.length && !loading ? (\n\t\t\t\t<Select\n\t\t\t\t\tvalue={value.id || value}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tlabelWidth={labelWidth}\n\t\t\t\t\tIconComponent={IconComponent}\n\t\t\t\t>\n\t\t\t\t\t{[...source].map(src => {\n\t\t\t\t\t\treturn src.group ? (\n\t\t\t\t\t\t\t<ListSubheader key={src.group.name || src.group}>\n\t\t\t\t\t\t\t\t{src.group.name || src.group}\n\t\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\n\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{src.label}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Select>\n\t\t\t) : !loading ? (\n\t\t\t\t<Input disabled value={noSrcLabel} />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\n\t\t\t\t\t<InputLoading />\n\t\t\t\t</>\n\t\t\t)}{' '}\n\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\n\t\t</FormControl>\n\t)\n}\n\nDropdown.propTypes = {\n\tlabel: PropTypes.string,\n\tonChange: PropTypes.func.isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.bool,\n\t]),\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\n\tdisabled: PropTypes.bool,\n\terror: PropTypes.bool,\n\thtmlId: PropTypes.string.isRequired,\n\tdisplayEmpty: PropTypes.bool,\n\thelperText: PropTypes.string,\n\tIconComponent: PropTypes.element,\n}\n\nexport default Dropdown\n","export const styles = theme => ({\n\tformControl: {\n\t\t// margin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { constants, schemas, Joi } from 'adex-models'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\n\nconst { adUnitPost } = schemas\n\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nclass AdUnitBasic extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { newItem } = props\n\t\tthis.validateTitle(newItem.title, false)\n\t\tthis.validateDescription(newItem.description, false)\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\n\t\tthis.validateAndUpdateType(false, newItem.type)\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\n\t\t) {\n\t\t\tthis.addUtmParameters()\n\t\t}\n\t}\n\n\tvalidateTitle(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.title)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateDescription(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.description)\n\n\t\tthis.props.validate('description', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateTargetUrl(targetUrl, dirty) {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t\tif (!result.error) this.addUtmParameters(targetUrl)\n\t}\n\n\tvalidateAndUpdateType = (dirty, value) => {\n\t\tconst result = Joi.validate(value, adUnitPost.type)\n\t\tthis.props.handleChange('type', value)\n\t\tthis.props.validate('type', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\taddUtmParameters() {\n\t\tconst { handleChange, newItem } = this.props\n\t\tconst { targetUrl, title, type, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tif (!!targetUrl) {\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\n\t\t\t\ttargetUrl,\n\t\t\t\tcampaign: title,\n\t\t\t\tcontent: type,\n\t\t\t\tremoveFromUrl: !addUtmLink,\n\t\t\t})\n\t\t\thandleChange('targetUrl', newTargetUrl)\n\t\t}\n\t}\n\n\thandleChangeAddUtmLink(ev) {\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.addUtmLink = ev.target.checked\n\t\tthis.props.handleChange('temp', newTemp)\n\t}\n\n\trender() {\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\n\t\tconst { targetUrl, type, title, description, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDescription = invalidFields['description']\n\t\tconst errTargetUrl = invalidFields['targetUrl']\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\n\t\t\t\t\t\t\tsource={AdTypes}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitBasic.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\n\nexport default Translate(NewAdUnitBasic)\n","import url from 'url'\nimport { UTM_PARAMS } from 'constants/misc'\n\nexport const addUrlUtmTracking = ({\n\ttargetUrl,\n\tcampaign,\n\tcontent,\n\tremoveFromUrl,\n}) => {\n\tif (!!targetUrl) {\n\t\tconst URL = url.parse(targetUrl, true)\n\t\tURL.search = null\n\n\t\tif (URL.protocol && URL.host) {\n\t\t\tconst newQuery = {}\n\t\t\tif (removeFromUrl) {\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\n\t\t\t\t\t\tnewQuery[key] = value\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tURL.query = newQuery\n\t\t\t} else {\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\n\n\t\t\t\tif (campaign) {\n\t\t\t\t\tquery['utm_campaign'] = campaign\n\t\t\t\t}\n\t\t\t\tif (content) {\n\t\t\t\t\tquery['utm_content'] = content\n\t\t\t\t}\n\t\t\t\tURL.query = query\n\t\t\t}\n\t\t\treturn url.format(URL)\n\t\t}\n\t}\n\n\treturn targetUrl\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\n\nconst getWidAndHightFromType = type => {\n\ttype = type || ''\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdUnitMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem, validate, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl, mime } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (tempUrl) {\n\t\t\tvalidateMedia(\n\t\t\t\t{\n\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\twidthTarget: width,\n\t\t\t\t\theightTarget: height,\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\texact: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t}\n\t\t\t)\n\t\t} else {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst { newItem, t, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\tmime={temp.mime || ''}\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\n\nexport default Translate(NewAdUnitMedia)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { translate } from 'services/translations/translations'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\n\nexport const renderInput = inputProps => {\n\tconst { InputProps, classes, ref, ...other } = inputProps\n\n\treturn (\n\t\t<TextField\n\t\t\tInputProps={{\n\t\t\t\tinputRef: ref,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t},\n\t\t\t\t...InputProps,\n\t\t\t}}\n\t\t\t{...other}\n\t\t/>\n\t)\n}\n\nexport const renderSuggestion = ({\n\tsuggestion,\n\tindex,\n\tstyle,\n\titemProps,\n\thighlightedIndex,\n\tselectedItem,\n\tshowSelected,\n}) => {\n\tconst isHighlighted = highlightedIndex === index\n\t// TODO: make it better\n\t// Note wo work with obj and array\n\tconst isSelected =\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\n\t\t\tsuggestion.value\n\t\t) > -1\n\n\tif (!showSelected && isSelected) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={style}>\n\t\t\t<ListItem\n\t\t\t\tbutton\n\t\t\t\t{...itemProps}\n\t\t\t\tkey={suggestion.value || suggestion.label}\n\t\t\t\tselected={isHighlighted}\n\t\t\t\tcomponent='div'\n\t\t\t\tstyle={{\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ListItemText primary={suggestion.label} />\n\t\t\t</ListItem>\n\t\t</div>\n\t)\n}\n\nconst newSuggestion = inputValue => {\n\treturn {\n\t\tlabel: `${translate(\n\t\t\t'CREATE_TAG_LABEL'\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\n\t\tvalue: inputValue.toLowerCase().trim(),\n\t}\n}\n\nrenderSuggestion.propTypes = {\n\thighlightedIndex: PropTypes.number,\n\tindex: PropTypes.number,\n\titemProps: PropTypes.object,\n\tselectedItem: PropTypes.string,\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\n}\n\nexport const getSuggestions = (\n\tinputValue = '',\n\tsource,\n\tallowCreate,\n\tvalidateCreation\n) => {\n\tif (!inputValue) {\n\t\treturn source\n\t} else {\n\t\tinputValue = inputValue.toLowerCase().trim()\n\n\t\tsource = source.filter(suggestion => {\n\t\t\treturn (\n\t\t\t\t!inputValue ||\n\t\t\t\tsuggestion.label\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.trim()\n\t\t\t\t\t.indexOf(inputValue) !== -1\n\t\t\t)\n\t\t})\n\n\t\t// Making sure that an option to create a new item will exist when needed\n\t\tconst values = source.map(item => {\n\t\t\treturn item.value\n\t\t})\n\n\t\tif (\n\t\t\t!values.includes(inputValue) &&\n\t\t\tallowCreate &&\n\t\t\t(!validateCreation || validateCreation(inputValue))\n\t\t) {\n\t\t\tsource.push(newSuggestion(inputValue))\n\t\t}\n\n\t\treturn source\n\t}\n}\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport TextField from '@material-ui/core/TextField'\nimport { Autocomplete as AutocompleteMUI } from '@material-ui/lab'\nimport { getSuggestions } from './common'\n\nfunction Autocomplete(props) {\n\tconst {\n\t\tid,\n\t\tclasses,\n\t\tsource,\n\t\tmultiple,\n\t\tvalue,\n\t\tlabel,\n\t\tvariant,\n\t\tallowCreate,\n\t\tvalidateCreation,\n\t\tvalidateAutocomplete,\n\t\terror,\n\t\terrorText,\n\t\tonInit,\n\t\tonChange,\n\t\t...rest\n\t} = props\n\tconst [inputValue, setInputValue] = useState('')\n\n\tconst suggestions = getSuggestions(\n\t\tinputValue,\n\t\tsource,\n\t\tallowCreate,\n\t\tvalidateCreation\n\t)\n\tuseEffect(() => {\n\t\tonInit()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst handleChange = item => {\n\t\tconst selectedItem = item ? item.value || item.label : item\n\t\tonChange(selectedItem)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.container}>\n\t\t\t\t<AutocompleteMUI\n\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\toptions={suggestions}\n\t\t\t\t\tgetOptionLabel={option => option.label}\n\t\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\n\t\t\t\t\tonInputChange={(_, newValue) => setInputValue(newValue)}\n\t\t\t\t\trenderInput={params => {\n\t\t\t\t\t\tif (value) params.inputProps.value = value\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\tfullWidth\n\t\t\t\t/>\n\t\t\t\t{error && (\n\t\t\t\t\t<FormHelperText error id='component-error-text'>\n\t\t\t\t\t\t{errorText}\n\t\t\t\t\t</FormHelperText>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nAutocomplete.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(Autocomplete)\n","export const styles = theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\theight: 250,\n\t},\n\tcontainer: {\n\t\tflexGrow: 1,\n\t\tposition: 'relative',\n\t},\n\tpaper: {\n\t\tposition: 'absolute',\n\t\t// TODO: fix the component and do nou use z-index\n\t\tzIndex: 1000,\n\t\tmarginTop: theme.spacing(1),\n\t\tleft: 0,\n\t\tright: 0,\n\t\toverflow: 'hidden',\n\t\theight: 150,\n\t\twidth: '100%',\n\t},\n\tchip: {\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\n\t},\n\tinputRoot: {\n\t\tflexWrap: 'wrap',\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport AddIcon from '@material-ui/icons/Add'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\nimport { SOURCES } from 'constants/targeting'\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdUnitTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: [...(targets || [])],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\thandleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource = [],\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalidateAutocomplete={this.validateAutocomplete}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsource = '',\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t\ttarget = {},\n\t\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\tIconComponent={AddIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\n\nexport default Translate(NewAdUnitTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Divider from '@material-ui/core/Divider'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport WcIcon from '@material-ui/icons/Wc'\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\nimport CompareArrows from '@material-ui/icons/CompareArrows'\n\nconst targetIcon = {\n\tlocation: LocationOnIcon,\n\tgender: WcIcon,\n\tage: ChildCareIcon,\n}\n\nconst getTargetType = tag => {\n\tconst type = tag.split('_')[0] || 'tags'\n\treturn type\n}\n\nclass UnitTargets extends Component {\n\ttargetArrayValues = (target, type, t, index) => {\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\n\t\treturn (\n\t\t\t<span key={target.tag + target.score + index}>\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<TargetIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\n\t\t\t\t\t\tsecondary={target.score}\n\t\t\t\t\t/>\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t\t<Divider />\n\t\t\t</span>\n\t\t)\n\t}\n\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\n\t\t<List\n\t\t\tdense\n\t\t\tsubheader={\n\t\t\t\tsubHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null\n\t\t\t}\n\t\t>\n\t\t\t{targets.map(target => {\n\t\t\t\tconst type = getTargetType(target.tag)\n\t\t\t\treturn this.targetArrayValues(target, type, t)\n\t\t\t})}\n\t\t</List>\n\t)\n\n\trender() {\n\t\treturn <this.TargetsList {...this.props} />\n\t}\n}\n\nUnitTargets.propTypes = {\n\ttargets: PropTypes.array.isRequired,\n\tsubHeader: PropTypes.string,\n\tt: PropTypes.func.isRequired,\n}\n\nexport default UnitTargets\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport { CircularProgress } from '@material-ui/core'\nimport { styles } from './styles.js'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { t } from 'selectors'\n\n// TODO: fix responsive styles\nconst propRow = ({\n\tclasses,\n\tleft,\n\tright,\n\tclassName,\n\tclassNameLeft,\n\tclassNameRight,\n\tstyle = {},\n}) => (\n\t<Grid\n\t\titem\n\t\tcontainer\n\t\tspacing={2}\n\t\txs={12}\n\t\tclassName={classnames(className)}\n\t\tstyle={style}\n\t>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={4}\n\t\t\tlg={3}\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\n\t\t>\n\t\t\t{left}\n\t\t</Grid>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={8}\n\t\t\tlg={9}\n\t\t\tclassName={classnames(\n\t\t\t\tclasses.rightCol,\n\t\t\t\tclasses.breakLong,\n\t\t\t\tclassNameRight\n\t\t\t)}\n\t\t>\n\t\t\t{right}\n\t\t</Grid>\n\t</Grid>\n)\n\nconst contentBox = ({ classes, children, className }) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\tclassName={className}\n\t>\n\t\t{children}\n\t</Box>\n)\n\nconst contentBody = ({ classes, children, className }) => (\n\t<Box flexGrow={1} className={className}>\n\t\t{children}\n\t</Box>\n)\n\nconst contentStickyTop = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\n)\n\nconst topLoading = ({ classes, msg, subMsg, className }) => (\n\t<div className={classnames(classes.contentTopLoading)}>\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\n\t\t<div>\n\t\t\t<Typography component='div'> {msg} </Typography>\n\t\t\t{subMsg && (\n\t\t\t\t<Typography component='div'>\n\t\t\t\t\t<strong>{subMsg}</strong>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t</div>\n)\n\nconst fullContentSpinner = ({ classes }) => (\n\t<CircularProgress\n\t\tclassName={classnames(classes.progressCircleCenter)}\n\t\tsize={50}\n\t/>\n)\n\nconst fullContentMessage = ({\n\tchildren,\n\tmsgs = [],\n\tspinner,\n\tcolor = 'primary',\n}) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\talignItems='center'\n\t\tjustifyContent='center'\n\t\tbgcolor={`${color}.main`}\n\t\tcolor={`${color}.contrastText`}\n\t>\n\t\t{spinner && (\n\t\t\t<Box p={4}>\n\t\t\t\t<CircularProgress\n\t\t\t\t\tcolor={`${color}.contrastText`}\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\n\t\t\t\t\tsize={69}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t)}\n\t\t{children}\n\t\t{msgs\n\t\t\t.filter(x => !!x && x.message)\n\t\t\t.map((msg, index) => {\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\n\t\t\t\treturn (\n\t\t\t\t\t<Typography key={index} component='div'>\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\n\t\t\t\t\t</Typography>\n\t\t\t\t)\n\t\t\t})}\n\t</Box>\n)\n\nexport const PropRow = withStyles(styles)(propRow)\nexport const ContentBox = withStyles(styles)(contentBox)\nexport const ContentBody = withStyles(styles)(contentBody)\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\nexport const TopLoading = withStyles(styles)(topLoading)\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\timgPreview: {\n\t\t\tmaxHeight: 225,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t\timgPreviewWrapper: {\n\t\t\theight: 'max-content',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\n\nclass AdUnitFormPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, targeting } = newItem\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MEDIA')}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\talt={title}\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\n\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{targeting && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdUnitFormPreview.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { Campaign } from 'adex-models'\nimport { OPENING_CAMPAIGN } from 'constants/spinners'\n\nexport default function NewCampaignHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'Campaign',\n\t\t\t\tCampaign\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = async () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tconst { temp } = newItem\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.waitingAction = true\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tawait actions.openCampaign({ campaign: newItem })\n\n\t\t\tnewTemp.waitingAction = false\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('Campaign')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('Campaign')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\n\t\tconst adUnits = persist.items['AdUnit'] || {}\n\t\tconst adUnitsArray = Object.values(adUnits) || []\n\t\treturn {\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\n\t\t\tadUnits,\n\t\t\tadUnitsArray,\n\t\t\tspinner: memory.spinners[OPENING_CAMPAIGN],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { ContentBody } from 'components/common/dialog/content'\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\nimport {\n\tt,\n\tselectAdUnitsArray,\n\tselectAdUnits,\n\tselectNewCampaign,\n} from 'selectors'\nimport { updateNewCampaign, execute } from 'actions'\n\nfunction CampaignUnits(props) {\n\tconst { temp } = useSelector(selectNewCampaign)\n\tconst { selectedUnits } = temp\n\tconst allAdUnits = useSelector(selectAdUnits)\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\n\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\n\t\t\treturn allAdUnits[value]\n\t\t})\n\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.selectedUnits = selectedIndexes\n\n\t\texecute(updateNewCampaign('adUnits', units))\n\t\texecute(updateNewCampaign('temp', newTemp))\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={2}\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\n\t\t\t>\n\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{hasAdUnits ? (\n\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\tselected={selectedUnits}\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\n\t\t\t\t\t\t\t\tvalidate={props.validate}\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\n\t\t\t\t\t\t\t\tnoClone\n\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\trowSelectable\n\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\n\t\t\t\t\t\t\t\t<NewUnitDialog\n\t\t\t\t\t\t\t\t\tvariant='extended'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default CampaignUnits\n","import React, { Component } from 'react'\nimport { DateTimePicker as MuiDateTimePicker } from 'material-ui-pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport CalendarIcon from '@material-ui/icons/DateRange'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nconst CalendarIconAdor = ({\n\ticon = <CalendarIcon />,\n\ticonColor,\n\tonIconClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\n\t\t\t{icon}\n\t\t</IconButton>\n\t</InputAdornment>\n)\n\nexport class DateTimePicker extends Component {\n\trender() {\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\n\t\treturn (\n\t\t\t<MuiDateTimePicker\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisabled: rest.disabled,\n\t\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default DateTimePicker\n\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\n\treturn (\n\t\t<DateTimePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Grid from '@material-ui/core/Grid'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport TextField from '@material-ui/core/TextField'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { utils } from 'ethers'\nimport MomentUtils from '@date-io/moment'\nimport {\n\tselectSpinnerById,\n\tselectMainToken,\n\tselectNewCampaign,\n\tselectValidationsById,\n\tt,\n} from 'selectors'\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\nimport { validations } from 'adex-models'\nconst { isNumberString } = validations\n\nconst moment = new MomentUtils()\n\nconst getTotalImpressions = ({ depositAmount, minPerImpression }) => {\n\ttry {\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\n\t\tconst min = isNumberString(minPerImpression) && parseFloat(minPerImpression)\n\t\tif (!dep) {\n\t\t\treturn t('DEPOSIT_NOT_SET')\n\t\t} else if (!min) {\n\t\t\treturn t('CPM_NOT_SET')\n\t\t} else {\n\t\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\n\t\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\n\t\t}\n\t} catch (err) {\n\t\treturn 'N/A'\n\t}\n}\n\nfunction CampaignFinance({ validateId }) {\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst campaign = useSelector(selectNewCampaign)\n\n\tconst {\n\t\ttitle,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t\t// depositAsset,\n\t\tactiveFrom,\n\t\twithdrawPeriodStart,\n\t\tminTargetingScore,\n\t\ttemp = {},\n\t} = campaign\n\n\tconst { maxChannelFees, maxDepositFormatted } = temp\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst from = activeFrom || undefined\n\tconst to = withdrawPeriodStart || undefined\n\tconst now = moment.date().valueOf()\n\n\tconst errTitle = invalidFields['title']\n\tconst errDepAmnt = invalidFields['depositAmount']\n\tconst errMin = invalidFields['minPerImpression']\n\tconst errFrom = invalidFields['activeFrom']\n\tconst errTo = invalidFields['withdrawPeriodStart']\n\n\tconst impressions = getTotalImpressions({\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t})\n\n\tconst leader = validators[0] || {}\n\tconst follower = validators[1] || {}\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\n\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\n\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\n\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\n\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tname='depositAmount'\n\t\t\t\t\t\t\tvalue={depositAmount}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty ? errDepAmnt.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('minPerImpression', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\n\t\t\t\t\t\t\tminDate={now}\n\t\t\t\t\t\t\tmaxDate={to}\n\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={from || null}\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\n\t\t\t\t\t\t\tminDate={from || now}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={to || null}\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nCampaignFinance.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default CampaignFinance\n","import React from 'react'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { TopLoading } from 'components/common/dialog/content'\n\nexport const WalletAction = ({ t, authType }) => {\n\tlet msg = ''\n\tlet subMsg\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\n\t\t\tbreak\n\t}\n\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport { formatDateTime } from 'helpers/formatters'\nimport {\n\tselectAccountIdentityAddr,\n\tselectAuthType,\n\tselectMainToken,\n\tselectSpinnerById,\n\tt,\n} from 'selectors'\nimport { execute, getCampaignActualFees } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\n\nconst UnitsTable = ({ items }) => {\n\treturn (\n\t\t<Grid item sm={12}>\n\t\t\t<ContentBody>\n\t\t\t\t<AdUnitsTable items={items} noSearch noActions noDownload noPrint />\n\t\t\t</ContentBody>\n\t\t</Grid>\n\t)\n}\n\nfunction CampaignFormPreview({ newItem } = {}) {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst authType = useSelector(selectAuthType)\n\tconst mainToken = useSelector(selectMainToken)\n\tconst { symbol } = mainToken\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst {\n\t\ttitle,\n\t\t// targeting,\n\t\tadUnits,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t\t// maxPerImpression,\n\t\t// depositAsset,\n\t\twithdrawPeriodStart,\n\t\tactiveFrom,\n\t\tminTargetingScore,\n\t\t// nonce\n\t\ttemp = {},\n\t} = newItem\n\n\tuseEffect(() => {\n\t\texecute(getCampaignActualFees())\n\t}, [])\n\n\treturn spinner ? (\n\t\t<FullContentSpinner />\n\t) : (\n\t\t<ContentBox>\n\t\t\t{temp.waitingAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/> */}\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('adUnits', { isProp: true })}\n\t\t\t\t\tright={<UnitsTable items={adUnits} />}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('validators', { isProp: true })}\n\t\t\t\t\tright={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{validators.map(val => (\n\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('CPM', { isProp: true })}\n\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\n\t\t\t\t\tright={`${depositAmount} ${symbol}`}\n\t\t\t\t/>\n\n\t\t\t\t<PropRow left={t('FEES')} right={`${temp.feesFormatted} ${symbol}`} />\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\n\t\t\t\t\tright={`${temp.totalSpendFormatted} ${symbol}`}\n\t\t\t\t/>\n\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\n\t\t\t\t\t\tright={maxPerImpression}\n\t\t\t\t\t/> */}\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\n\t\t\t\t\tright={formatDateTime(activeFrom)}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\n\t\t\t\t/>\n\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(created)}\n\t\t\t\t\t/> */}\n\n\t\t\t\t{/* </Grid> */}\n\t\t\t\t<br />\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nCampaignFormPreview.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewCampaignFormPreview = NewCampaignHoc(CampaignFormPreview)\nexport default NewCampaignFormPreview\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdSlot',\n\t\t\t\tAdSlot\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\n\t\t\tactions.addSlot(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdSlot')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectMainToken,\n\tselectNewAdSlot,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectSlotTypesSourceWithDemands,\n} from 'selectors'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport {\n\tupdateSlotsDemandThrottled,\n\tvalidateNumberString,\n\tupdateNewSlot,\n\texecute,\n} from 'actions'\n\nfunction AdSlotBasic({ validateId }) {\n\tconst newItem = useSelector(selectNewAdSlot)\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\n\tconst { title, description, type, minPerImpression } = newItem\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\n\t)\n\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tuseEffect(() => {\n\t\texecute(updateSlotsDemandThrottled())\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst errTitle = invalidFields['title']\n\tconst errDescription = invalidFields['description']\n\tconst errMin = invalidFields['minPerImpression']\n\tconst errType = invalidFields['type']\n\tconst { symbol } = selectMainToken\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\n\t\t\t\t\t\t\tsource={adTypesSource}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\n\t\t\t\t\t\t\t\t\t? errType.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAdSlotBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotBasic\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport Collapse from '@material-ui/core/Collapse'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Switch from '@material-ui/core/Switch'\nimport { schemas, Joi } from 'adex-models'\n\nconst { adUnitPost } = schemas\n\nconst getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x250'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdSlotMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem } = this.props\n\t\tconst { temp, targetUrl } = newItem\n\t\tconst { useFallback } = temp\n\n\t\tif (useFallback) {\n\t\t\tthis.validateImage(useFallback)\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t}\n\t}\n\n\tvalidateImage = useFallback => {\n\t\tconst { newItem, validate, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl, mime } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (!useFallback) {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: true,\n\t\t\t\terr: {\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t},\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t} else if (tempUrl) {\n\t\t\tvalidateMedia(\n\t\t\t\t{\n\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\twidthTarget: width,\n\t\t\t\t\theightTarget: height,\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\texact: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !useFallback || !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\thandleFallbackChange = useFallback => {\n\t\tconst { temp, targetUrl } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.useFallback = useFallback\n\n\t\tthis.props.handleChange('temp', newTemp)\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\n\t\tthis.validateImage(useFallback)\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tnewItem,\n\t\t\tt,\n\t\t\tvalidateMedia,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t} = this.props\n\t\tconst { targetUrl, type, temp } = newItem\n\t\tconst useFallback = temp.useFallback || false\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Collapse in={useFallback}>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\n\nexport default Translate(NewAdSlotMedia)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport AddIcon from '@material-ui/icons/Add'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nconst AcTags = autocompleteTagsSingleSelect()\n\nconst SOURCES = {\n\ttags: { src: AcTags, collection: 'tags' },\n\tcustom: { src: [], collection: 'tags' },\n}\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdSlotTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: targets || [],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\tthis.props.handleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource = [],\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsource = '',\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t\ttarget = {},\n\t\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\tIconComponent={AddIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\n\nexport default Translate(NewAdSlotTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { selectMainToken } from 'selectors'\n\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\n\treturn (\n\t\t<div>\n\t\t\t<PropRow\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\n\t\t\t\tright={\n\t\t\t\t\t<Img\n\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\n\t\t\t\t\t\talt={targetUrl}\n\t\t\t\t\t\tmediaMime={img.mime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PropRow\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\n\t\t\t\tright={\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\n\t\t\t\t\t\t{targetUrl}\n\t\t\t\t\t</Anchor>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nclass AdSlotPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, tags, targetUrl } = newItem\n\t\tconst { minPerImpression } = temp\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{temp.useFallback && (\n\t\t\t\t\t\t<SlotFallback\n\t\t\t\t\t\t\timg={temp}\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t\t{tags && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={tags}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdSlotPreview.propTypes = {\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport AddIcon from '@material-ui/icons/Add'\nimport SaveIcon from '@material-ui/icons/Save'\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\nimport CampaignUnits from './Campaign/CampaignUnits'\n// import CampaignTargeting from './Campaign/CampaignTargeting'\nimport CampaignFinance from './Campaign/CampaignFinance'\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\n\nimport {\n\texecute,\n\tvalidateNewCampaignFinance,\n\tvalidateNewCampaignAdUnits,\n\tvalidateNewSlotBasics,\n} from 'actions'\n\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button color='primary' onClick={save}>\n\t\t\t{/*TODO: withStyles */}\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\n\t\t\t{t('SAVE')}\n\t\t</Button>\n\t)\n}\n\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={newItem.temp.waitingAction}\n\t\t>\n\t\t\t{newItem.temp.waitingAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\n\t\t</Button>\n\t)\n}\n\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\n\nconst CancelBtn = ({ ...props }) => {\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\n}\n\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\n\nconst dialogCommon = {\n\tdarkerBackground: true,\n\ticon: <AddIcon />,\n}\n\n// Ad unit\nexport const NewUnitSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdUnit}\n\t\tCancelBtn={CancelBtnWithItem}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdUnit'}\n\t\tstepsId={'new-adunit-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: AdUnitFormPreview,\n\t\t}}\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\n\t\tnoDefaultImg\n\t\titemModel={AdUnit}\n\t/>\n)\n\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\n\nexport const NewUnitDialog = props => (\n\t<NewUnitStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_UNIT'\n\t\ttitle='CREATE_NEW_UNIT'\n\t/>\n)\n\nconst copyProps = {\n\tdarkerBackground: true,\n\ticon: <FileCopyIcon color='primary' />,\n}\n\nexport const NewCloneUnitDialog = props => (\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\n)\n\n// Campaign\nexport const NewCampaignSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithCampaign}\n\t\tCancelBtn={CancelBtnWithCampaign}\n\t\tvalidateIdBase={'new-Campaign-'}\n\t\titemType={'Campaign'}\n\t\tstepsId={'new-campaign-'}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\n\t\t\t\tpage: CampaignUnits,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignAdUnits({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t// NOTE: Only at ad units at the moment\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\n\t\t\t\tpage: CampaignFinance,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignFinance({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: CampaignFormPreview,\n\t\t}}\n\t\titemModel={Campaign}\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\n\t/>\n)\n\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\n\nexport const NewCampaignDialog = props => (\n\t<NewCampaignStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_CAMPAIGN'\n\t\ttitle='CREATE_NEW_CAMPAIGN'\n\t/>\n)\n\n// Ad slot\nexport const NewSlotSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdSlot}\n\t\tCancelBtn={CancelBtnWithAdSlot}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdSlot'}\n\t\tstepsId={'new-slot-'}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\n\t\t\t\tpage: AdSlotBasic,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewSlotBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\n\t\titemModel={AdSlot}\n\t/>\n)\n\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\n\nexport const NewSlotDialog = props => (\n\t<NewSlotStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_SLOT'\n\t\ttitle='CREATE_NEW_SLOT'\n\t/>\n)\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectAdUnitsTableData, selectSide } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, noActions, noClone }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\titems, //\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignUnits,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t} = props\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, items })\r\n\t}, [side, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignUnits ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectSide, selectAdSlotsTableData } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to }) => (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\taria-label='view'\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tcard: {\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t\twidth: 320,\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'relative',\n\t\t\tmaxWidth: '100%',\n\t\t\t'@media(max-width:380px)': {\n\t\t\t\tmargin: 0,\n\t\t\t\tmarginBottom: spacing,\n\t\t\t},\n\t\t},\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\twidth: 'auto',\n\t\t\tmaxHeight: '100%',\n\t\t},\n\t\tbasicInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'start',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\tlabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\n\t\t\ttop: 0,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport Img from 'components/common/img/Img'\nimport { validUrl } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport Anchor from 'components/common/anchor/anchor'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { validations } from 'adex-models'\nimport { utils } from 'ethers'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { selectMainToken } from 'selectors'\n\nconst FallbackAdData = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\n\n\treturn (\n\t\t<Card className={classes.card} raised={false}>\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\n\t\t\t\t<Img\n\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\n\t\t\t\t\talt={item.fallbackTargetUrl}\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t/>\n\t\t\t</CardMedia>\n\t\t\t{/* <Fab\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleFallbackImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t\tdisabled={isDemo}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Fab> */}\n\t\t\t<CardContent>\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t// required\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\n\t\t\t\t\t\t// maxLength={1024}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{/* <span>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</span> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span className={classes.error}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t)\n}\n\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\n\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\n\tconst { temp } = item\n\tconst newTemp = { ...temp }\n\tnewTemp[prop] = value\n\n\treturn newTemp\n}\n\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\n\tconst isValidNumber = validations.isNumberString(value)\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\tvalidate(prop, {\n\t\tisValid: isValid,\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\tdirty: dirty,\n\t})\n}\n\nconst SlotMinCPM = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errMin = invalidFields['minPerImpression']\n\tconst { address, decimals, symbol } = selectMainToken()\n\tconst minCPM = formatTokenAmount(\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\n\t\tdecimals,\n\t\ttrue\n\t)\n\n\tconst minPerImpression =\n\t\titem.temp.minPerImpression !== undefined\n\t\t\t? item.temp.minPerImpression\n\t\t\t: minCPM\n\n\treturn (\n\t\t<FormControl\n\t\t\tfullWidth\n\t\t\tclassName={classes.textField}\n\t\t\tmargin='dense'\n\t\t\terror={!!errMin}\n\t\t>\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\n\t\t\t<Input\n\t\t\t\tfullWidth\n\t\t\t\tautoFocus\n\t\t\t\ttype='text'\n\t\t\t\tname={'minPerImpression'}\n\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\tonChange={ev => {\n\t\t\t\t\tvalidateAmount(\n\t\t\t\t\t\tev.target.value,\n\t\t\t\t\t\t'minPerImpression',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tvalidate\n\t\t\t\t\t)\n\t\t\t\t\thandleChange(\n\t\t\t\t\t\t'temp',\n\t\t\t\t\t\tupdateItemTemp({\n\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\tmaxLength={1024}\n\t\t\t\tonBlur={ev => {\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\n\t\t\t\t}}\n\t\t\t\tdisabled={!activeFields.minPerImpression}\n\t\t\t\tendAdornment={\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<FormHelperText>\n\t\t\t\t{errMin && !!errMin.errMsg\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\n\t\t\t</FormHelperText>\n\t\t</FormControl>\n\t)\n}\n\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\n\nconst MediaCard = ({\n\tclasses,\n\tmediaUrl,\n\tmediaMime,\n\ttitle,\n\tcanEditImg,\n\ttoggleImgEdit,\n\turl,\n}) => (\n\t<Card className={classes.card} raised={false}>\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\n\t\t\t<Img\n\t\t\t\tallowFullscreen={true}\n\t\t\t\tsrc={mediaUrl}\n\t\t\t\talt={title}\n\t\t\t\tclassName={classes.img}\n\t\t\t\tmediaMime={mediaMime}\n\t\t\t\tallowVideo\n\t\t\t/>\n\t\t</CardMedia>\n\t\t{canEditImg && (\n\t\t\t<Button\n\t\t\t\tvariant='fab'\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Button>\n\t\t)}\n\n\t\t{url && (\n\t\t\t<CardContent>\n\t\t\t\t<Anchor href={url} target='_blank'>\n\t\t\t\t\t{url}\n\t\t\t\t</Anchor>\n\t\t\t</CardContent>\n\t\t)}\n\t</Card>\n)\n\nconst basicProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\tactiveFields,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst mediaMime = item.mediaMime\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\n\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\tvalue={item.type}\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trows={7}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t{rightComponent}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport const BasicProps = withStyles(styles)(basicProps)\n\nconst campaignProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst status = item.status || {}\n\tconst { decimals, symbol } = selectMainToken()\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={classes.basicInfo}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\n\t\t\t\t\t{rightComponent}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\nexport const CampaignProps = withStyles(styles)(campaignProps)\n","import Helper from 'helpers/miscHelpers'\nimport { defaults } from 'react-chartjs-2'\nimport merge from 'lodash.merge'\n\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\n// Eddie colors\nexport const CHARTS_COLORS = [\n\t'#00BAFF',\n\t'#7EDBFF',\n\t'#FF9FA8',\n\t'#14DC9C',\n\t'#61FFB2',\n\t'#ABFFE5',\n]\n\nexport let CHARTS_COMMON_OPTIONS = {\n\tresponsive: true,\n\ttooltips: {\n\t\tmode: 'label',\n\t\tcornerRadius: 2,\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\n\t},\n}\n\nexport const hexColorsToRgbaArray = (colors, alpha) => {\n\treturn colors.map(color => {\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\n\t})\n}\n\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={450}\r\n\t\t\theight={450}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\t// responsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas(earnings || 0)} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr}%`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 20,\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst campaignId = props.campaignId\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = campaign.status.humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box mb={5} className={classnames(classes.pageBreak)}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4'>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5'>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2'>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={5}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_PAID')}</Typography>\r\n\t\t\t\t\t<Typography variant='h4'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6'>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE_EARNINGS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classnames(classes.breakAll)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>{stats.website}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nReceipt.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Receipt\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Card, Typography, TextField } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={3} mt={3}>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Typography variant='h4'>{'Company Details'}</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Card>\r\n\t\t\t\t<Box p={3}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</Box>\r\n\t\t\t</Card>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Card, Button, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport classnames from 'classnames'\r\nimport { Print, Visibility } from '@material-ui/icons'\r\nimport Receipt from './Receipt'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport { t, selectSelectedCampaigns } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\thideOnMobile: {\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\thideOnDesktop: {\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n})\r\nfunction CampaignReceipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst { itemId } = useParams()\r\n\tconst items = useSelector(state => selectSelectedCampaigns(state))\r\n\t// TODO: render back button\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receipts = selectedByPropsOrParams ? [selectedByPropsOrParams] : items\r\n\tif (receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnDesktop)}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={5}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Visibility />\r\n\t\t\t\t\t\t\t<Typography variant='overline' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_PREVIEW_ONLY_DESKTOP')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnMobile)}>\r\n\t\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t\t<Box ref={invoice} className={classnames(classes.a4)}>\r\n\t\t\t\t\t\t\t\t{receipts.map(campaignId => (\r\n\t\t\t\t\t\t\t\t\t<Receipt campaignId={campaignId} key={campaignId} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Card>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { CampaignReceipt }\r\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Anchor from 'components/common/anchor/anchor'\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\nimport { CampaignReceipt } from 'components/dashboard/containers/Receipt/CampaignReceipt'\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\nconst VIEW_MODE = 'campaignRowsView'\n\nexport class Campaign extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context)\n\n\t\tthis.state = {\n\t\t\ttabIndex: 0,\n\t\t\tstatistics: {},\n\t\t}\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index })\n\t}\n\n\tCampaignActions = ({ campaign, actions, t }) => {\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\tclasses,\n\t\t\titem,\n\t\t\t// handleChange,\n\t\t\t// activeFields,\n\t\t\t// isDemo,\n\t\t\tactions,\n\t\t\thistory,\n\t\t\t// ...rest\n\t\t} = this.props\n\t\tconst { tabIndex } = this.state\n\t\tconst units = item.spec.adUnits\n\t\tconst campaign = new CampaignModel(item)\n\t\tconst status = (campaign.status || {}).name\n\t\tconst humanFriendlyName = campaign.status.humanFriendlyName\n\t\tconst leader = campaign.spec.validators[0]\n\t\tconst follower = campaign.spec.validators[1]\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CampaignProps\n\t\t\t\t\titem={campaign}\n\t\t\t\t\tt={t}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t// <UnitTargets\n\t\t\t\t\t\t// \t{...rest}\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\n\t\t\t\t\t\t// \tt={t}\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\n\t\t\t\t\t\t// />\n\t\t\t\t\t\t(status === 'Ready' ||\n\t\t\t\t\t\t\tstatus === 'Active' ||\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\n\t\t\t\t\t\t\t<this.CampaignActions\n\t\t\t\t\t\t\t\tcampaign={campaign}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\t\thistory={history}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default' className={classes.appBar}>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\n\t\t\t\t\t\t\t{(humanFriendlyName === 'Closed' ||\n\t\t\t\t\t\t\t\thumanFriendlyName === 'Completed') && (\n\t\t\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 2, md: 2, lg: 1 }}>\n\t\t\t\t\t\t\t\t\t<Grid item lg={8} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable campaignId={item.id} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 1, md: 1, lg: 2 }}>\n\t\t\t\t\t\t\t\t\t<Grid item lg={4} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={item.id} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t\t\t<AdUnitsTable items={units} campaignUnits noClone />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 3 && <CampaignReceipt itemId={campaign.id} />}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaign.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tunits: PropTypes.object.isRequired,\n\trowsView: PropTypes.bool.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\tunits: persist.items['AdUnit'],\n\t\trowsView: !!persist.ui.global[VIEW_MODE],\n\t\tobjModel: CampaignModel,\n\t\titemType: 'Campaign',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(CampaignItem))\n","export const styles = theme => {\n\treturn {\n\t\tappBar: {\n\t\t\tzIndex: theme.zIndex.appBar - 1,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\n\t</g>,\n\n\t'AdexPublisher',\n\t'0 0 114 110'\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\n\t</g>,\n\t'AdexAdvertiser',\n\t'0 0 109 94'\n)\n","import React, { Component } from 'react'\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport Translate from 'components/translate/Translate'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst SideBox = ({\n\tsalePoints = [],\n\tlinkTitle,\n\ticon,\n\ttitle,\n\tdisabled,\n\tclasses,\n\t...other\n}) => (\n\t<div\n\t\t{...other}\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\n\t>\n\t\t<div className={classes.icon}>{icon}</div>\n\t\t<h2>{title}</h2>\n\t\t<ul className={classes.salePoints}>\n\t\t\t{salePoints.map(function(point, key) {\n\t\t\t\treturn <li key={key}> {point} </li>\n\t\t\t})}\n\t\t</ul>\n\t</div>\n)\n\nconst RRSideBox = withReactRouterLink(SideBox)\n\nclass SideSelect extends Component {\n\trender() {\n\t\tlet { t, classes } = this.props\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={true}\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.backdrop,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='sm'\n\t\t\t>\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<AdvertiserLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/advertiser'\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<PublisherLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/publisher'\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nexport default Translate(withStyles(styles)(SideSelect))\n","export const styles = () => {\n\treturn {\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tsideBox: {\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\theight: 'auto',\n\t\t\ttextAlign: 'center',\n\t\t\tverticalAlign: 'top',\n\t\t\topacity: 0.7,\n\t\t\t'&:hover:not(.disabled)': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t\topacity: 1,\n\t\t\t},\n\t\t\t'&.disabled': {\n\t\t\t\topacity: 0.3,\n\t\t\t},\n\t\t\t'@media(max-width:425px)': {\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t\ticon: {\n\t\t\twidth: 110,\n\t\t\theight: 110,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\tsalePoints: {\n\t\t\tpadding: 0,\n\t\t\t'& li': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tlistStyle: 'none',\n\t\t\t},\n\t\t},\n\t}\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\tinfoStatsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'stretch',\n\t\t\theight: '100%',\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: spacing,\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tdashboardCardBody: {\n\t\t\tmargin: spacing,\n\t\t\tpadding: spacing,\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\n\t\t},\n\t}\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Line, Chart } from 'react-chartjs-2'\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\nimport Helper from 'helpers/miscHelpers'\nimport { selectStatsChartData, selectMainToken } from 'selectors'\n\nconst commonDsProps = {\n\tfill: false,\n\tlineTension: 0.3,\n\tborderWidth: 0,\n\tpointRadius: 3,\n\tpointHitRadius: 10,\n}\n\nexport const SimpleStatistics = ({\n\tside,\n\ttimeframe = '',\n\teventType,\n\tpayouts,\n\timpressions,\n\tclicks,\n\toptions = {},\n\tt,\n\txLabel = 'TIMEFRAME',\n\ty1Label = 'DATA1',\n\ty2Label = 'DATA2',\n\ty3Label = 'DATA3',\n\ty1Color = CHARTS_COLORS[1],\n\ty2Color = CHARTS_COLORS[2],\n\ty3Color = CHARTS_COLORS[3],\n}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// Vertical line / crosshair\n\tuseEffect(() => {\n\t\tChart.pluginService.register({\n\t\t\tafterDraw: function(chart) {\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\n\t\t\t\t\tconst ctx = chart.ctx\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\n\t\t\t\t\tif (chartScalesy1) {\n\t\t\t\t\t\tconst topY = chartScalesy1.top\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\n\t\t\t\t\t\tctx.save()\n\t\t\t\t\t\tctx.beginPath()\n\t\t\t\t\t\tctx.moveTo(x, topY)\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\n\t\t\t\t\t\tctx.lineWidth = 1 // line width\n\t\t\t\t\t\tctx.setLineDash([1, 5])\n\t\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\n\t\t\t\t\t\tctx.stroke()\n\t\t\t\t\t\tctx.restore()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t})\n\n\tconst chartData = {\n\t\tlabels: payouts.labels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tlabel: y1Label,\n\t\t\t\tdata: payouts.datasets,\n\t\t\t\tyAxisID: 'y-axis-1',\n\t\t\t\tpointBackgroundColor: 'transparent',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tlabel: y2Label,\n\t\t\t\tdata: impressions.datasets,\n\t\t\t\tyAxisID: 'y-axis-2',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tlabel: y3Label,\n\t\t\t\tdata: clicks.datasets,\n\t\t\t\tyAxisID: 'y-axis-3',\n\t\t\t},\n\t\t],\n\t}\n\n\tconst linesOptions = {\n\t\tanimation: false,\n\t\tresponsive: true,\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: true,\n\t\t\ttext: options.title,\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: 'black',\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel = xLabel === y1Label ? `${t.yLabel} ${symbol}` : t.yLabel\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\thover: {\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t},\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y1Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y2Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-2',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y3Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-3',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\treturn <Line height={500} data={chartData} options={linesOptions} />\n}\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport classnames from 'classnames'\nimport InfoIcon from '@material-ui/icons/Info'\nimport { ArrowTooltip } from 'components/common/tooltips'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\tposition: 'relative',\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\n\t\t\tcolor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\n\t\t\t\ttheme.palette.text.primary,\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: theme.spacing(1),\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tprogress: {\n\t\t\tbottom: 0,\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nconst StatsCard = props => {\n\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tlinkCard,\n\t\tchildren,\n\t\tonClick,\n\t\tbgColor,\n\t\tloading,\n\t\texplain,\n\t} = props\n\n\tconst classes = useStyles({ bgColor })\n\n\treturn (\n\t\t<Card\n\t\t\t// raised\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\n\t\t\t\t[classes.linkCard]: !!linkCard,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<CardContent>\n\t\t\t\t{title && (\n\t\t\t\t\t<Typography variant='h5' noWrap>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{subtitle && (\n\t\t\t\t\t<Typography component='p' noWrap>\n\t\t\t\t\t\t{subtitle}{' '}\n\t\t\t\t\t\t{explain && (\n\t\t\t\t\t\t\t<ArrowTooltip\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\n\t\t\t\t\t\t\t\t\t\t{explain}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\n\t\t\t\t\t\t\t</ArrowTooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</CardContent>\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Card>\n\t)\n}\n\nStatsCard.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tlinkCard: PropTypes.bool,\n}\n\nexport default StatsCard\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\nimport lime from '@material-ui/core/colors/lime'\nimport deepOrange from '@material-ui/core/colors/deepOrange'\nimport amber from '@material-ui/core/colors/amber'\nimport grey from '@material-ui/core/colors/grey'\n\nconst WHITE = '#fff'\nexport const PRIMARY = '#1B75BC'\nexport const SECONDARY = '#FFAC00'\nexport const ALEX_GREY = '#3f3e3e'\nexport const ACCENT_ONE = '#57467B'\nexport const ACCENT_TWO = '#7CB4B8'\n\nconst palette = {\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\taccentOne: { main: ACCENT_ONE, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\tappBar: { main: grey[200], contrastText: grey[900] },\n\terror: deepOrange,\n\twarning: amber,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\ttext: grey,\n\taction: {\n\t\tdisabledBackground: grey[300],\n\t\tdisabled: grey[600],\n\t},\n}\n\nexport const theme = createMuiTheme({\n\ttypography: {\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\t\tfontSize: 13,\n\t},\n\tpalette: { ...palette },\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: { borderRadius: 0 },\n\t\t},\n\t\tMuiFormControl: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiSelect: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiInputLabel: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiOutlinedInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAlert: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\t// MuiStepIcon: {\n\t\t//     root: {\n\t\t//         color: 'yellow',\n\t\t//         '&$active': {\n\t\t//             color: 'orange'\n\t\t//         }\n\t\t//     },\n\t\t//     active: {\n\t\t//         color: 'yellow'\n\t\t//     }\n\t\t// },\n\t\tMuiTableFooter: {\n\t\t\troot: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflex: 0,\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAppBar: {\n\t\t\tcolorDefault: {\n\t\t\t\tbackgroundColor: palette.appBar.main,\n\t\t\t\tcolor: palette.appBar.contrastText,\n\t\t\t},\n\t\t},\n\t\tMUIDataTablePagination: {\n\t\t\ttoolbar: {\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMUIDataTableFilter: {\n\t\t\troot: {\n\t\t\t\tmaxWidth: '400px',\n\t\t\t},\n\t\t},\n\t\t// Think of accessing an element not a class\n\t\tMuiGridListTile: {\n\t\t\troot: {\n\t\t\t\twidth: '100% !important',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBodyCell: {\n\t\t\tstackedCommon: {\n\t\t\t\theight: '80px !important',\n\t\t\t},\n\t\t},\n\t},\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\n\tfactor: 3,\n})\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateAnalyticsTimeframe } from 'actions'\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\nimport Dropdown from 'components/common/dropdown'\nimport Grid from '@material-ui/core/Grid'\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\nimport StatsCard from './StatsCard'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tPRIMARY,\n\tSECONDARY,\n\tACCENT_ONE,\n\tACCENT_TWO,\n} from 'components/App/themeMUi'\nimport { styles } from './styles'\nimport { formatNumberWithCommas } from 'helpers/formatters'\nimport {\n\tt,\n\tselectTotalImpressions,\n\tselectTotalMoney,\n\tselectAverageCPM,\n\tselectMainToken,\n\tselectAnalytics,\n\tselectTotalClicks,\n\tselectStatsChartData,\n} from 'selectors'\n\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\n\tconst translated = { ...tf }\n\ttranslated.label = t(tf.label)\n\treturn translated\n})\n\nconst metrics = {\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('LABEL_REVENUE'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t],\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('LABEL_SPEND'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_ONE,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t],\n}\n\nconst timeHints = {\n\thour: 'SHOWING_LAST_HOUR',\n\tday: 'SHOWING_LAST_24_HOURS',\n\tweek: 'SHOWING_LAST_7_DAYS',\n}\n\nexport function BasicStats({ side }) {\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\n\tconst totalImpressions = useSelector(state =>\n\t\tselectTotalImpressions(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalClicks = useSelector(state =>\n\t\tselectTotalClicks(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalMoney = useSelector(state =>\n\t\tselectTotalMoney(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst averageCPM = useSelector(state =>\n\t\tselectAverageCPM(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst loadingImpressions = totalImpressions === null\n\tconst loadingMoney = totalMoney === null\n\tconst loadingCPM = averageCPM === null\n\tconst loadingClicks = totalClicks === null\n\n\tconst payouts = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\tconst impressions = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\tconst clicks = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\tconst dataInSync =\n\t\t(clicks.labels[clicks.labels.length - 1] ===\n\t\t\timpressions[impressions.labels.length - 1]) ===\n\t\tpayouts[payouts.labels.length - 1]\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div className={classes.infoStatsContainer}>\n\t\t\t\t\t<StatsCard>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\n\t\t\t\t\t\t\tsource={timeFrames}\n\t\t\t\t\t\t\tvalue={timeframe}\n\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='primary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tloading={loadingImpressions && !dataInSync}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='secondary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\n\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\tloadingClicks &&\n\t\t\t\t\t\t\tloadingImpressions &&\n\t\t\t\t\t\t\t!dataInSync &&\n\t\t\t\t\t\t\ttotalClicks / totalImpressions !== Infinity\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\n\t\t\t\t\t\t).toFixed(2)}% ${t('LABEL_CTR')})`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentOne'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{side === 'publisher' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentTwo'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='grey'\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\n\t\t\t\t\t\tloading={loadingCPM && !dataInSync}\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\n\t\t\t\t\t\t)} ${symbol} / CPM`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<SimpleStatistics\n\t\t\t\t\tside={side}\n\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\n\t\t\t\t\t}}\n\t\t\t\t\tpayouts={payouts}\n\t\t\t\t\timpressions={impressions}\n\t\t\t\t\tclicks={clicks}\n\t\t\t\t\ty1Label={metrics[side][0].label}\n\t\t\t\t\ty1Color={metrics[side][0].color}\n\t\t\t\t\ty2Label={metrics[side][1].label}\n\t\t\t\t\ty2Color={metrics[side][1].color}\n\t\t\t\t\ty3Label={metrics[side][2].label}\n\t\t\t\t\ty3Color={metrics[side][2].color}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateNav } from 'actions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport classnames from 'classnames'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport { styles } from './styles'\nimport Grid from '@material-ui/core/Grid'\nimport { BasicStats } from './BasicStats'\nimport { t, selectSide } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nexport function DashboardStats(props) {\n\tconst side = useSelector(selectSide)\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('DASHBOARD')))\n\t}, [])\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\n\t\t<SideSelect active={true} />\n\t) : (\n\t\t<div>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={12} lg={12} xs={12}>\n\t\t\t\t\t<Card className={classnames(classes.dashboardCardBody)}>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<BasicStats side={side} />\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default DashboardStats\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnit } from 'adex-models'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Translate from 'components/translate/Translate'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\n\nexport class Unit extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tcloseDialog: false,\n\t\t}\n\t}\n\t// shouldComponentUpdate(nextProps, nextState) {\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t//     return diffProps || diffState\n\t// }\n\trender() {\n\t\tconst { item, t, ...rest } = this.props\n\n\t\tif (!item) return <h1>Unit '404'</h1>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\ttargets={item.targeting}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tsubHeader={'PROP_TARGETING'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nUnit.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\treturn {\n\t\tobjModel: AdUnit,\n\t\titemType: 'AdUnit',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst UnitItem = ItemHoc(Unit)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(UnitItem))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\nimport copy from 'copy-to-clipboard'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport url from 'url'\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\n\nconst ADVIEW_URL = process.env.ADVIEW_URL\nconst adviewUrl = url.parse(ADVIEW_URL)\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\n\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)`\n\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\n\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\n\tconst { id, type, tags, fallbackUnit } = slot\n\tconst identityAddr = account.identity.address\n\n\tlet sizes = type.split('_')[1].split('x')\n\tsizes = {\n\t\twidth: sizes[0],\n\t\theight: sizes[1],\n\t}\n\n\tconst options = {\n\t\tpublisherAddr: identityAddr,\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\n\t\twhitelistedType: type,\n\t\trandomize: true,\n\t\ttargeting: tags || [],\n\t\t// marketURL: ADEX_MARKET_HOST,\n\t\twidth: sizes.width,\n\t\theight: sizes.height,\n\t\tminPerImpression: '0',\n\t\tminTargetingScore: '0',\n\t\tfallbackUnit,\n\t\tmarketSlot: id,\n\t}\n\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\n\n\tlet src = ADVIEW_URL + query\n\n\tlet iframeStr =\n\t\t`<iframe\\n` +\n\t\t`\tsrc=\"${src}\"\\n` +\n\t\t`\twidth=\"${sizes.width}\"\\n` +\n\t\t`\theight=\"${sizes.height}\"\\n` +\n\t\t`\tscrolling=\"no\"\\n` +\n\t\t`\tframeborder=\"0\"\\n` +\n\t\t`\tstyle=\"border: 0;\"\\n` +\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\n\t\t`></iframe>`\n\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.integrationLabel}>\n\t\t\t\t{t('INTEGRATION_CODE')}\n\t\t\t\t<IconButton\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(iframeStr)\n\t\t\t\t\t\tonCopy && onCopy()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CopyIcon />\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t\t<Paper>\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\n\t\t\t</Paper>\n\t\t\t{process.env.NODE_ENV !== 'production' && (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport class Slot extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\teditFallbackImg: false,\n\t\t\ttabIndex: 0,\n\t\t}\n\t\tthis.tabsFocus = React.createRef()\n\t}\n\n\thandleFallbackImgUpdateToggle = () => {\n\t\tconst active = this.state.editFallbackImg\n\t\tthis.setState({ editFallbackImg: !active })\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index }, () => {\n\t\t\tif (this.tabsFocus.current) {\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\n\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\tblock: 'start',\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\n\t\tconst { tabIndex } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\titemType={itemType}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\tcanEditImg={!isDemo}\n\t\t\t\t\trightComponent={null}\n\t\t\t\t\t{...rest}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\n\t\t\t\t\t\t\tref={this.tabsFocus}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\n\t\t\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\n\t\t\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<IntegrationCode\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\t\tslot={item}\n\t\t\t\t\t\t\t\tonCopy={() =>\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{/* {tabIndex === 0 && null} */}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSlot.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t\tobjModel: AdSlot,\n\t\titemType: 'AdSlot',\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\n\t\tupdateImgExact: true,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SlotItem)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tintegrationLabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tintegrationCode: {\n\t\t\twhiteSpace: 'pre-wrap',\n\t\t\twordBreak: 'break-word',\n\t\t\tpadding: spacing,\n\t\t\tmargin: 0,\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { InputLoading } from 'components/common/spinners/'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectMainToken,\n\tselectSpinnerById,\n\tselectAccountStatsFormatted,\n} from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\n\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst { availableIdentityBalanceMainToken: max } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\n\t\tselectNewTransactionById(state, stepsId)\n\t)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst { amountToWithdraw: errAmount, withdrawTo: errAddr } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t{' '}\n\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\n\t\t\t\t\targs: [max, symbol],\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t<TextField\n\t\t\t\tdisabled={spinner}\n\t\t\t\ttype='text'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\tname='withdrawTo'\n\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t// onChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'withdrawTo',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t/>\n\t\t\t{spinner ? <InputLoading /> : null}\n\t\t\t<TextField\n\t\t\t\ttype='text'\n\t\t\t\tfullWidth\n\t\t\t\trequired\n\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\tname='amountToWithdraw'\n\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\thelperText={\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\targs: [max, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nWithdrawFromIdentity.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default WithdrawFromIdentity\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport Helper from 'helpers/miscHelpers'\n// import { exchange as ExchangeConstants } from 'adex-constants'\n\n// const { TX_STATUS } = ExchangeConstants\n\nexport default function NewTransactionHoc(Decorated) {\n\t// TODO: make it common for bids and items\n\tclass TransactionHoc extends Component {\n\t\tcomponentWillMount() {\n\t\t\t// console.log('TransactionHoc')\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\n\t\t}\n\n\t\t// addTx = (tx) => {\n\t\t//     let txData = { ...tx }\n\t\t//     txData.status = TX_STATUS.Pending.id\n\t\t//     txData.sendingTime = Date.now()\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\n\t\t// }\n\n\t\tonSave = (err, tx, manyTxs) => {\n\t\t\tconst { closeDialog } = this.props\n\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\n\t\t\tthis.resetTransaction()\n\t\t}\n\n\t\tresetTransaction = () => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.resetNewTransaction({ tx: txId })\n\t\t}\n\n\t\thandleSaveRes = ({ err, res }) => {\n\t\t\tconst { t, actions } = this.props\n\t\t\t// const areManyTxs = Array.isArray(res)\n\n\t\t\tif (err) {\n\t\t\t\tactions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.onSave(err, res, Array.isArray(res))\n\t\t}\n\n\t\tsave = () => {\n\t\t\tthis.handleChange('waitingForWalletAction', true)\n\t\t\tthis.props\n\t\t\t\t.saveFn({\n\t\t\t\t\tacc: this.props.account,\n\t\t\t\t\ttransaction: this.props.transaction,\n\t\t\t\t})\n\t\t\t\t.then((res = {}) => {\n\t\t\t\t\tconsole.log('res on save', res)\n\n\t\t\t\t\tconst txs = res.txResults || res\n\t\t\t\t\tconst err = res.err || null\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\n\t\t\t\t})\n\t\t\t\t.catch((error = {}) => {\n\t\t\t\t\tconsole.log('err on save', error)\n\t\t\t\t\tconst res = error.txResults || null\n\t\t\t\t\tconst err = error.err || error\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\n\t\t\t\t})\n\t\t}\n\n\t\tcancel = () => {\n\t\t\t// TODO: take a look at onSave if change something\n\t\t\tthis.onSave(null, null)\n\t\t}\n\n\t\trender() {\n\t\t\tlet transaction = this.props.transaction || {}\n\t\t\tlet props = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\ttransaction={transaction}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tresetTransaction={this.resetTransaction}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tTransactionHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tlabel: PropTypes.string,\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t\t.isRequired,\n\t\ttransaction: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tsaveFn: PropTypes.func,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\tconst txId = props.stepsId\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\ttransaction: memory.newTransactions[txId] || {},\n\t\t\ttxId: txId,\n\t\t\tspinner: memory.spinners[txId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(TransactionHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawAnyTokenFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.amountToWithdraw) {\n\t\t\tvalidate('amountToWithdraw', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.tokenAddress) {\n\t\t\tvalidate('tokenAddress', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\n\t\tthis.props.validate('amountToWithdraw', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\tbalanceAnySpinner,\n\t\t} = this.props\n\t\tconst {\n\t\t\twithdrawTo,\n\t\t\tamountToWithdraw,\n\t\t\ttokenAddress,\n\t\t\ttokenBalance,\n\t\t\ttokenDecimals,\n\t\t} = transaction || {}\n\t\tconst errAmount = invalidFields['amountToWithdraw']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\tconst errToken = invalidFields['tokenAddress']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={balanceAnySpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\n\t\t\t\t\tname='tokenAddress'\n\t\t\t\t\tvalue={tokenAddress || ''}\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errToken && !!errToken.dirty}\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\n\t\t\t\t/>\n\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\n\t\t\t\t\tname='tokenDecimals'\n\t\t\t\t\tvalue={tokenDecimals || ''}\n\t\t\t\t\tonChange={ev => handleChange('tokenDecimals', ev.target.value)}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t\tnonERC20: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t\tnonERC20: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_AMOUNT_TO_WITHDRAW')}\n\t\t\t\t\tname='amountToWithdraw'\n\t\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\t\tonChange={ev => handleChange('amountToWithdraw', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(amountToWithdraw, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(amountToWithdraw, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\n\t\t\t\t\t\t\t? errAmount.errMsg\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawAnyTokenFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\n\tWithdrawAnyTokenFromIdentity\n)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawAnyTokenFromIdentityForm)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport Box from '@material-ui/core/Box'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport Typography from '@material-ui/core/Typography'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { constants } from 'adex-models'\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\n\nconst { IdentityPrivilegeLevel } = constants\n\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\n\treturn {\n\t\tvalue,\n\t\tlabel: t(`PRIV_${value}_LABEL`),\n\t\tinfo: t(`PRIV_${value}_INFO`),\n\t}\n})\n\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\n\t\tstate => selectNewTransactionById(state, stepsId)\n\t)\n\n\tconst {\n\t\tsetAddr: errAddr,\n\t\tsetAddrWarning: warning,\n\t\tprivLevel: errPrivLvl,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<div>\n\t\t\t<div> {t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}</div>\n\t\t\t<TextField\n\t\t\t\ttype='text'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\n\t\t\t\tname='setAddr'\n\t\t\t\tvalue={setAddr || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t/>\n\t\t\t<Dropdown\n\t\t\t\trequired\n\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\n\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\n\t\t\t\tonChange={val =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'privLevel',\n\t\t\t\t\t\t\tvalue: val,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tsource={PRIV_LEVELS_SRC}\n\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\n\t\t\t\thtmlId='label-privLevel'\n\t\t\t\tfullWidth\n\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\n\t\t\t\thelperText={\n\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\n\t\t\t\t\t\t? errPrivLvl.errMsg\n\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Box marginTop={2}>\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\n\t\t\t\t</Typography>\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tkey={x.value}\n\t\t\t\t\t\tvariant='caption'\n\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t>\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\n\t\t\t\t\t</Typography>\n\t\t\t\t))}\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{(warning || warningAccepted || warningMsg) && (\n\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\n\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue='warningAccepted'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nSeAddressPrivilege.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default SeAddressPrivilege\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { InputLoading } from 'components/common/spinners/'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nclass SetAccountENSPage extends Component {\n\tcomponentDidMount() {\n\t\tconst { transaction, validate } = this.props\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('setEns', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleValidate = () => {\n\t\tif (this._timeout) {\n\t\t\t//if there is already a timeout in process cancel it\n\t\t\tclearTimeout(this._timeout)\n\t\t}\n\t\tthis._timeout = setTimeout(() => {\n\t\t\tthis._timeout = null\n\t\t\tconst { actions, transaction, validate } = this.props\n\t\t\tconst { setEns } = transaction || {}\n\t\t\tactions.validateENS({\n\t\t\t\tens: setEns,\n\t\t\t\tdirty: true,\n\t\t\t\tvalidate,\n\t\t\t\tname: 'setEns',\n\t\t\t})\n\t\t}, 500)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\tsetEnsSpinner,\n\t\t} = this.props\n\t\tconst { setEns } = transaction || {}\n\t\t// const errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['setEns']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div> {t('SET_ENS_MAIN_INFO')}</div>\n\t\t\t\t<form noValidate>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\n\t\t\t\t\t\tname='setEns'\n\t\t\t\t\t\tvalue={setEns || ''}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\thandleChange('setEns', ev.target.value.toLowerCase())\n\t\t\t\t\t\t\tthis.handleValidate()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t{setEnsSpinner ? <InputLoading /> : null}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSetAccountENSPage.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\tsetEnsSpinner: memory.spinners['setEns'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SetAccountENSPageForm = NewTransactionHoc(SetAccountENSPage)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SetAccountENSPageForm)\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { PropRow } from 'components/common/dialog/content'\nimport { constants } from 'adex-models'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nexport const IdentityWithdrawPreview = ({\n\tt,\n\twithdrawTo,\n\tclasses,\n\tfeesData,\n\tamountToWithdraw,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='amountToWithdraw'\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetPrivilegePreview = ({\n\tt,\n\tsetAddr,\n\tclasses,\n\tfeesData,\n\tprivLevel,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='setAddr'\n\t\t\tleft={t('setAddr', { isProp: true })}\n\t\t\tright={(setAddr || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='privLevel'\n\t\t\tleft={t('privLevel', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [feesData.fees, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetENSPreview = ({\n\tt,\n\tsetEns,\n\taddress,\n\tclasses,\n\tfeesData,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='addr'\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\n\t\t\tright={(address || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='setEns'\n\t\t\tleft={t('setEns', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\tfeesData.fees,\n\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`,\n\t\t\t\t\t\t],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const IdentityWithdrawAnyPreview = ({\n\tt,\n\twithdrawTo,\n\ttokenAddress,\n\tclasses,\n\tfeesData,\n\tamountToWithdraw,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='tokenAddress'\n\t\t\tleft={t('tokenAddress', { isProp: true })}\n\t\t\tright={(tokenAddress || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='amountToWithdraw'\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport NewTransactionHoc from './TransactionHoc'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { styles } from './styles'\nimport {\n\tIdentityWithdrawPreview,\n\tSetPrivilegePreview,\n\tSetENSPreview,\n\tIdentityWithdrawAnyPreview,\n} from './previews'\n\nimport {\n\tselectMainToken,\n\tt,\n\tselectSpinnerById,\n\tselectAccount,\n\tselectNewTransactionById,\n} from 'selectors'\nimport { execute, updateSpinner } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction TransactionPreview(props) {\n\tconst classes = useStyles()\n\tconst {\n\t\tgetFeesFn,\n\t\thandleChange,\n\t\tidentityAvailable,\n\t\tpreviewWarnMsgs,\n\t\tstepsId,\n\t} = props\n\tconst txId = stepsId\n\tconst account = useSelector(selectAccount)\n\tconst { address } = account.identity\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst transaction = useSelector(state =>\n\t\tselectNewTransactionById(state, txId)\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\n\n\tuseEffect(() => {\n\t\tif (getFeesFn && Object.keys(transaction).length) {\n\t\t\texecute(updateSpinner(txId, true))\n\t\t\tgetFeesFn({ account, transaction })\n\t\t\t\t.then(feesData => {\n\t\t\t\t\thandleChange('feesData', feesData)\n\t\t\t\t\t// if (feesData.toGet) {\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\n\t\t\t\t\t// }\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\n\t\t\t\t\t\thandleChange('errors', [\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\n\t\t\t\t})\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst {\n\t\twithdrawTo,\n\t\twithdrawAmount,\n\t\tamountToWithdraw,\n\t\tsetAddr,\n\t\tsetEns,\n\t\tprivLevel,\n\t\ttokenAddress,\n\t\tfeesData = {},\n\t\terrors = [],\n\t} = transaction\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<ContentBox>\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\n\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{errors.length\n\t\t\t\t\t\t\t? errors.map((err, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\t\tright={err}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{previewWarnMsgs\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\n\t\t\t\t\t\t\t<SetPrivilegePreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setENS' && (\n\t\t\t\t\t\t\t<SetENSPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\tsetEns={setEns}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</ContentBox>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nTransactionPreview.propTypes = {\n\tlabel: PropTypes.string,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tpreviewMsgs: PropTypes.array,\n}\n\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\nexport default TransactionPreviewForm\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: theme.palette.warning.A700,\n\t\t},\n\t\tcentralSpinner: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 20px)',\n\t\t\ttop: ' calc(50% - 20px)',\n\t\t},\n\t\timgPreview: {\n\t\t\theight: 120,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t}\n}\n","import React from 'react'\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\nimport SeAddressPrivilege from './SeAddressPrivilege'\nimport SetAccountENSPage from './SetAccountENSPage'\nimport TransactionPreview from './TransactionPreview'\nimport Button from '@material-ui/core/Button'\nimport TransactionHoc from './TransactionHoc'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { t } from 'selectors'\n// import SaveIcon from '@material-ui/icons/Save'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\nimport {\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n\taddIdentityENS,\n\twithdrawOtherTokensFromIdentity,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddrIdentityPrivilege,\n\tidentityWithdraw,\n\tsetIdentityENS,\n\tvalidatePrivilegesChange,\n\tidentityWithdrawAny,\n\tvalidateIdentityWithdraw,\n\texecute,\n} from 'actions'\n\nconst FormStepsWithDialog = WithDialog(FormSteps)\n\nconst SaveBtn = ({\n\tsave,\n\tsaveBtnLabel,\n\tsaveBtnIcon,\n\tt,\n\ttransaction,\n\twaitingForWalletAction,\n\tspinner,\n\t...other\n}) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\n\t\t\t\t!!transaction.waitingForWalletAction ||\n\t\t\t\t!!spinner\n\t\t\t}\n\t\t>\n\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || ''\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\n\t\t</Button>\n\t)\n}\n\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\n}\n\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\n\nconst txCommon = {\n\tSaveBtn: SaveBtnWithTransaction,\n\tCancelBtn: CancelBtnWithTransaction,\n\tvalidateIdBase: 'tx-',\n\tdarkerBackground: true,\n}\n\nexport const WithdrawTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawFromIdentity,\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateIdentityWithdraw({\n\t\t\t\t\t\t\tstepsId,\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction: { amountToWithdraw, withdrawTo } } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\twithdrawTo,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t/>\n)\n\nexport const SetIdentityPrivilege = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\n\t\tstepsId='setIdentityPrivilege'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\n\t\t\t\tpage: SeAddressPrivilege,\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidatePrivilegesChange({\n\t\t\t\t\t\t\tstepsId,\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\taddrIdentityPrivilege({\n\t\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn setIdentityPrivilege({\n\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const WithdrawAnyTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawAnyFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(identityWithdrawAny(transaction))\n\t\t}}\n\t\tgetFeesFn={({ transaction = {}, account } = {}) => {\n\t\t\treturn withdrawOtherTokensFromIdentity({\n\t\t\t\t...transaction,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const SetAccountENS = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\n\t\tstepsId='setENS'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\n\t\t\t\tpage: SetAccountENSPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tsetIdentityENS({\n\t\t\t\t\tusername: transaction.setEns,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ account } = {}) => {\n\t\t\treturn addIdentityENS({\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\t\t}}\n\t/>\n)\n","import React, { useState, useEffect, Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tWithdrawTokenFromIdentity,\n\tWithdrawAnyTokenFromIdentity,\n\tSetIdentityPrivilege,\n\tSetAccountENS,\n} from 'components/dashboard/forms/web3/transactions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { styles } from './styles.js'\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\nimport { LoadingSection } from 'components/common/spinners'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport IconButton from '@material-ui/core/IconButton'\nimport copy from 'copy-to-clipboard'\nimport {\n\tt,\n\tselectWallet,\n\tselectAccountStatsFormatted,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectMainToken,\n\tselectEasterEggsAllowed,\n\tselectEnsAddressByAddr,\n} from 'selectors'\nimport { updateNav, execute, addToast } from 'actions'\nimport { formatAddress } from 'helpers/formatters'\n// const RRButton = withReactRouterLink(Button)\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\n\nconst AccountItem = props => (\n\t<ListItem>\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexWrap={'wrap'}\n\t\t\tflex='1'\n\t\t\tjustifyContent='space-between'\n\t\t\talignItems='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tflexGrow='8'\n\t\t\t\tflexBasis='700px'\n\t\t\t\tmr={1}\n\t\t\t\tflexWrap={'nowrap'}\n\t\t\t\tdisplay='flex'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t>\n\t\t\t\t<Box flex='1'>{props.left}</Box>\n\t\t\t</Box>\n\t\t\t<Box flexGrow='1' flexBasis='20em'>\n\t\t\t\t{props.right}\n\t\t\t</Box>\n\t\t</Box>\n\t</ListItem>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction AccountInfo() {\n\tconst { authType = '', email, password } = useSelector(selectWallet)\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst canMakeTx = privileges > 1\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\twalletAddress,\n\t\tidentityBalanceMainToken,\n\t\tavailableIdentityBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst identityEnsName = useSelector(state =>\n\t\tselectEnsAddressByAddr(state, identityAddress)\n\t)\n\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\n\n\tconst [localWalletDownloadHref, setLocalWalletDownloadHref] = useState('')\n\n\tconst loadBackupHref = async () => {\n\t\tconst obj = await getRecoveryWalletData({ email, password, authType })\n\t\tif (obj && obj.wallet) {\n\t\t\tconst data =\n\t\t\t\t'data:text/json;charset=utf-8,' +\n\t\t\t\tencodeURIComponent(JSON.stringify(obj))\n\n\t\t\tsetLocalWalletDownloadHref(data)\n\t\t}\n\t}\n\n\tconst [expanded, setExpanded] = useState(false)\n\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('ACCOUNT')))\n\t}, [identityAddress])\n\n\tuseEffect(() => {\n\t\tloadBackupHref()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst displayRampWidget = () => {\n\t\tconst widget = new RampInstantSDK({\n\t\t\thostAppName: 'AdExNetwork',\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\n\t\t\tvariant: 'auto',\n\t\t\tswapAsset: symbol,\n\t\t\tuserAddress: identityAddress,\n\t\t})\n\t\twidget.domNodes.overlay.style.zIndex = 1000\n\t\twidget.show()\n\t}\n\n\tconst handleExpandChange = () => {\n\t\tsetExpanded(!expanded)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<List className={classes.root}>\n\t\t\t\t<ListSubheader>{t('ADEX_ACCOUNT')}</ListSubheader>\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t{...(identityEnsName && {\n\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\n\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t{...(!identityEnsName && {\n\t\t\t\t\t\t\t\t\tprimary: identityAddress,\n\t\t\t\t\t\t\t\t\tsecondary: t('ENS_NOT_SET'),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\t!!identityAddress && (\n\t\t\t\t\t\t\t<SetAccountENS\n\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\ttoken='DAI'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t\t<ListDivider />\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\n\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\ttoken={symbol}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ExpansionPanel\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tonChange={handleExpandChange}\n\t\t\t\t\tsquare={true}\n\t\t\t\t>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='panel1bh-content'\n\t\t\t\t\t\tid='panel1bh-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\n\t\t\t\t\t\t\t<AccountItem\n\t\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\n\t\t\t\t\t\t\t\t\t\tsecondary={t('WALLET_INFO_LABEL', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t`AUTH_${authType.toUpperCase()}`,\n\t\t\t\t\t\t\t\t\t\t\t\t`PRIV_${privileges}_LABEL`,\n\t\t\t\t\t\t\t\t\t\t\t\tauthType,\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t\tlocalWalletDownloadHref && (\n\t\t\t\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained' fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<AccountItem\n\t\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t\tsecondary={''}\n\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t></AccountItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t{allowEasterEggs && (\n\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default AccountInfo\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tactionBtn: {\n\t\t\tmargin: spacing,\n\t\t},\n\t\taddress: {\n\t\t\twordWrap: 'break-word',\n\t\t\twordBreak: 'break-all',\n\t\t\tflexGrow: 0,\n\t\t},\n\t\tadvancedList: {\n\t\t\twidth: '100%',\n\t\t},\n\t\ticonBtnLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}\n}\n","import React, { useState, useEffect, Fragment } from 'react'\nimport SideNav from './SideNav'\nimport TopBar from './TopBar'\nimport { Route, Switch } from 'react-router'\nimport Campaign, {\n\tCampaignReceipt,\n} from 'components/dashboard/containers/Campaign'\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\nimport Unit from 'components/dashboard/containers/Unit'\nimport Slot from 'components/dashboard/containers/Slot'\nimport Account from 'components/dashboard/account/AccountInfo'\nimport {\n\tNewUnitDialog,\n\tNewCampaignDialog,\n\tNewSlotDialog,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\tCampaignsTable,\n\tAdSlotsTable,\n\tAdUnitsTable,\n} from 'components/dashboard/containers/Tables'\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\nimport Drawer from '@material-ui/core/Drawer'\nimport Box from '@material-ui/core/Box'\nimport Alert from '@material-ui/lab/Alert'\nimport Hidden from '@material-ui/core/Hidden'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport {\n\tupdateNav,\n\tgetAllItems,\n\tupdateSlotsDemandThrottled,\n\texecute,\n\tresolveEnsAddress,\n\tupdatePrivilegesWarningAccepted,\n\tupdateAccountIdentityData,\n} from 'actions'\nimport {\n\tt,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectPrivilegesWarningAccepted,\n} from 'selectors'\nimport { useSelector } from 'react-redux'\n\nconst Campaigns = () => {\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst disabled = privileges <= 1\n\treturn (\n\t\t<Fragment>\n\t\t\t<NewCampaignDialog\n\t\t\t\tdisabled={disabled}\n\t\t\t\tfabButton\n\t\t\t\tvariant='extended'\n\t\t\t\taccent\n\t\t\t\tcolor='secondary'\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\n\t\t\t/>\n\t\t\t<CampaignsTable />\n\t\t</Fragment>\n\t)\n}\n\nconst AdUnits = () => (\n\t<>\n\t\t<NewUnitDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_UNIT'\n\t\t/>\n\t\t<AdUnitsTable />\n\t</>\n)\n\nconst AdSlots = () => (\n\t<>\n\t\t<NewSlotDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_SLOT'\n\t\t/>\n\t\t<AdSlotsTable />\n\t</>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction Dashboard(props) {\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\tconst address = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\n\n\tconst { match } = props\n\tconst { side } = match.params\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(resolveEnsAddress({ address }))\n\t})\n\n\tuseEffect(() => {\n\t\tasync function updateInitialData() {\n\t\t\texecute(updateAccountIdentityData())\n\t\t\texecute(updateSlotsDemandThrottled())\n\t\t\texecute(updateNav('side', side))\n\t\t\texecute(getAllItems())\n\n\t\t\t// NOTE: await for stats (withBalance.all)\n\t\t\t// needed for publisher analytics\n\t\t\tawait statsLoop.start()\n\t\t\tanalyticsLoop.start()\n\n\t\t\t//NOTE: await fo campaign analytics first\n\t\t\t// because of the campaigns table data update fix\n\t\t\tawait analyticsCampaignsLoop.start()\n\t\t\tcampaignsLoop.start()\n\t\t}\n\n\t\tupdateInitialData()\n\n\t\treturn () => {\n\t\t\tanalyticsLoop.stop()\n\t\t\tanalyticsCampaignsLoop.stop()\n\t\t\tcampaignsLoop.stop()\n\t\t\tstatsLoop.stop()\n\t\t}\n\t}, [side])\n\n\tuseEffect(() => {}, [match, mobileOpen])\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t}, [side])\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\tconst drawer = <SideNav side={side} />\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<TopBar\n\t\t\t\tside={side}\n\t\t\t\topen={mobileOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t/>\n\t\t\t<Hidden mdUp>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\tanchor='left'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden smDown implementation='css'>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\topen\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t{showTxPrivLevelWarning && (\n\t\t\t\t\t\t<Box mb={2} p={1}>\n\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tseverity='info'\n\t\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\n\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\n\t\t\t\t\t\t\tcomponent={Campaigns}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\n\t\t\t\t\t\t\tcomponent={AdUnits}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\n\t\t\t\t\t\t\tcomponent={Campaign}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\n\t\t\t\t\t\t\tcomponent={CampaignReceipt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/receipt/:itemId'\n\t\t\t\t\t\t\tcomponent={CampaignReceipt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\n\t\t\t\t\t\t\tcomponent={Unit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\n\t\t\t\t\t\t\tcomponent={AdSlots}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\n\t\t\t\t\t\t\tcomponent={Slot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\n\t\t\t\t\t\t\tcomponent={Account}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\t\tauth={this.props.auth}\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t<Route exact path='/dashboard/:side' component={DashboardStats} />\n\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\t// flexGrow: 1,\n\t\t\theight: '100vh',\n\t\t},\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\theight: '100vh',\n\t\t\tflexGrow: '1',\n\t\t},\n\t\tactions: {\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t},\n\t\tbuttons: {\n\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t},\n\t\tadxVersion: {\n\t\t\t// position: 'absolute',\n\t\t\t// left: spacing,\n\t\t\t// bottom: spacing\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\t// marginTop: '1.5vh',\n\t\t\t// width: '17.92vh',\n\t\t\t// height: '6vh',\n\t\t\theight: '2rem',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tnoBg: {\n\t\t\tbackground: 0,\n\t\t\tboxShadow: 'none',\n\t\t\toverflow: 'visible',\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\t// position: 'relative',\n\t\t\tjustifyContent: 'center',\n\t\t\tpadding: 24,\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t// '&:first-child': {\n\t\t\t// \tpaddingTop: spacing,\n\t\t\t// },\n\t\t\t// overflow: 'visible',\n\t\t\t// maxHeight: '100vh'\n\t\t},\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport Img from 'components/common/img/Img'\nimport classnames from 'classnames'\nimport { getAllWallets } from 'services/wallet/wallet'\nimport { execute, initIdentity, confirmAction } from 'actions'\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { formatAddress } from 'helpers/formatters'\nimport { push } from 'connected-react-router'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\nconst useStyles = makeStyles(styles)\n\nconst AuthSelect = () => {\n\tconst classes = useStyles()\n\tconst [wallets, setWallets] = useState([])\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\tconst auth = useSelector(selectAuth)\n\tconst account = useSelector(selectAccount)\n\tconst { wallet, identity } = account || {}\n\n\tuseEffect(() => {\n\t\tconst allWallets = getAllWallets()\n\t\tconst wallets = allWallets.filter(\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\n\t\t)\n\t\tsetWallets(wallets)\n\t}, [wallet])\n\n\tconst goTo = (to, confirmLogout, onConfirm) => {\n\t\tconst toExecute = () => {\n\t\t\tlogOut()\n\t\t\texecute(push(to))\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\n\t\t\t\tonConfirm()\n\t\t\t}\n\t\t}\n\t\tif (auth && confirmLogout) {\n\t\t\texecute(\n\t\t\t\tconfirmAction(toExecute, null, {\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\ttoExecute()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='stretch'\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box p={2} alignItems='center'>\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{auth && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<RRButton\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tto='/side-select'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CONTINUE_AS', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\n\t\t\t\t\t\t\t\twallet.authType,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RRButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{wallets.map(w => (\n\t\t\t\t<Box key={w.name} m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t))}\n\t\t\t{showRegistration && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\n\t\t\t\t>\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\n\t\t\t\t\t\tclassName={classes.btnLogo}\n\t\t\t\t\t/>\n\t\t\t\t\t{t('METAMASK')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.trezorBtn}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.btnLogo,\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* {t('TREZOR')} */}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default AuthSelect\n","export const styles = theme => {\n\treturn {\n\t\tactions: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tlimitedWidthBtn: {\n\t\t\twordBreak: 'break-word',\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tbtnLogo: {\n\t\t\theight: '2rem',\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tbtnLogoNoTxt: {\n\t\t\tmarginRight: 0,\n\t\t},\n\t\tmetamaskBtn: {\n\t\t\tbackgroundColor: theme.palette.grey[800],\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\ttrezorBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Hidden from '@material-ui/core/Hidden'\nimport Anchor from 'components/common/anchor/anchor'\nimport packageJson from './../../../package.json'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport { t } from 'selectors'\nimport { Typography } from '@material-ui/core'\n\nexport default function ConnectHoc(Decorated) {\n\tfunction Connect({ classes, ...rest }) {\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\tcontainer\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t// spacing={2}\n\t\t\t\t>\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\n\t\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HELP')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn withStyles(styles)(Connect)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\taddrListItem: {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\taddrInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tflexGrow: 1,\n\t\t\tpaddingTop: spacing,\n\t\t\twhiteSpace: 'normal',\n\t\t\t'& strong': {\n\t\t\t\tmarginRight: spacing * 2,\n\t\t\t},\n\t\t},\n\t\taddrInfoLabel: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t},\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t\t// marginTop: spacing * 2,\n\t\t\t// position: 'absolute',\n\t\t\t// top: 70,\n\t\t\t// left: 0,\n\t\t\t// right: 0,\n\t\t\t// bottom: 0\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\ttabLogo: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: spacing * 4,\n\t\t\tmaxHeight: '100%',\n\t\t\twidth: 'auto',\n\t\t},\n\t\ttabLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdlBtnImg: {\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: spacing * 9,\n\t\t\twidth: 'auto',\n\t\t\theight: 'auto',\n\t\t},\n\t\tleftBtnIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '-6vh',\n\t\t\tleft: 0,\n\t\t},\n\t\tlogo: {\n\t\t\twidth: '12.8vh',\n\t\t\theight: '5vh',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport function AddrItem({ stats }) {\n\tconst { balanceEth, tokensBalances, address } = stats\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<ListItemText\n\t\t\tprimary={address}\n\t\t\tsecondary={\n\t\t\t\t<span className={classes.addrInfo}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span> ETH </span>\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span> {symbol} </span>\n\t\t\t\t\t\t\t<strong> {balance} </strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t}\n\t\t/>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\nimport METAMASK_IMG from 'resources/metamask.png'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport Box from '@material-ui/core/Box'\nimport {\n\taddToast,\n\tupdateIdentity,\n\tupdateIdentityWallet,\n\texecute,\n} from 'actions'\nimport { t, selectIdentity } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthMetamask(props) {\n\tconst classes = useStyles()\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\n\tconst { address } = wallet\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\n\t// const [stats, setStats] = useState(null)\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\n\tconst isOpera =\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\n\t\tfalse\n\t)\n\n\tuseEffect(() => {\n\t\tconst setEth = async () => {\n\t\t\tconst ethereumProvider = await getEthereumProvider()\n\t\t\tsetIsMetamaskEthereumProvider(\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\n\t\t\t)\n\t\t}\n\n\t\tsetEth()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (installingMetamask) {\n\t\t\t// Refreshes page after user comes back\n\t\t\t// from installing Metamask\n\t\t\twindow.onfocus = () => {\n\t\t\t\twindow.location.reload()\n\t\t\t\tsetInstallingMetamask(false)\n\t\t\t}\n\t\t}\n\t}, [installingMetamask])\n\n\tconst checkMetamask = async () => {\n\t\tsetWaitingAddrsData(true)\n\t\ttry {\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst wallet = {\n\t\t\t\tauthType: authType,\n\t\t\t}\n\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\n\t\t\tconst address = await metamaskSigner.getAddress()\n\t\t\tconst stats = await getAddressBalances({\n\t\t\t\taddress: { address },\n\t\t\t\tauthType,\n\t\t\t\tgetFullBalances: true,\n\t\t\t})\n\n\t\t\texecute(updateIdentity('stats', stats))\n\t\t\tsetWaitingAddrsData(false)\n\n\t\t\texecute(\n\t\t\t\tupdateIdentityWallet({\n\t\t\t\t\taddress,\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\n\t\t\t\t})\n\t\t\t)\n\t\t} catch (err) {\n\t\t\tconsole.error('Error: catch', err)\n\t\t\tsetWaitingMetamaskAction(false)\n\t\t\tsetWaitingAddrsData(false)\n\t\t\texecute(\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingMetamaskAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : waitingAddrsData ? (\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\n\t\t\t\t\t\t\t\talt={'metamask logo'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{address ? (\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\n\t\t\t\t\t\t\t{stats ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={checkMetamask}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthMetamask\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n\nexport default function NewItemHoc(Decorated) {\n\tclass ValidItemHoc extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.state = {\n\t\t\t\tinvalidFields: {},\n\t\t\t}\n\n\t\t\tthis.validate = this.validate.bind(this)\n\t\t}\n\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\n\t\t}\n\n\t\tvalidate = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tif (!isValid) {\n\t\t\t\tlet errors = {}\n\t\t\t\terrors[key] = {\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\n\t\t\t\t\tdirty: dirty,\n\t\t\t\t}\n\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\n\t\t\t} else if (removeAll) {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\n\t\t\t} else {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\n\t\t\t}\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\tvalidate={this.validate}\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tValidItemHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\t// let persist = state.persist\n\t\tlet memory = state.memory\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport IdentityHoc from '../IdentityHoc'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\n\nexport default function AuthHoc(Decorated) {\n\tclass Auth extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.state = {\n\t\t\t\tmethod: '',\n\t\t\t\tsideSelect: false,\n\t\t\t}\n\t\t}\n\n\t\tupdateWallet = ({\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}) => {\n\t\t\tconst wallet = {\n\t\t\t\taddress,\n\t\t\t\tauthType,\n\t\t\t\thdWalletAddrPath,\n\t\t\t\thdWalletAddrIdx,\n\t\t\t\tpath,\n\t\t\t\tchainId,\n\t\t\t\tsignType,\n\t\t\t}\n\n\t\t\tthis.props.handleChange('identityContractOwner', address)\n\t\t\tthis.props.handleChange('wallet', wallet)\n\t\t}\n\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t// updateAcc={this.updateAcc}\n\t\t\t\t\tupdateWallet={this.updateWallet}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tAuth.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state) {\n\t\tlet persist = state.persist\n\t\t// let memory = state.memory\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions, { execute, login } from 'actions'\nimport { push } from 'connected-react-router'\nimport { CREATING_SESSION, UPLOADING_ACCOUNT_DATA } from 'constants/spinners'\n\nexport default function IdentityHoc(Decorated) {\n\tclass IdentityForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tready: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value) => {\n\t\t\tthis.props.actions.updateIdentity(prop, value)\n\t\t}\n\n\t\t// componentDidUpdate = () => {\n\t\t// \tconst { account } = this.props\n\t\t// \tif (account.wallet.authSig) {\n\t\t// \t\texecute(push('/side-select'))\n\t\t// \t}\n\t\t// }\n\n\t\tsave = async () => {\n\t\t\texecute(login())\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tconst { resetIdentity } = this.props.actions\n\t\t\tresetIdentity()\n\t\t\texecute(push('/'))\n\t\t}\n\n\t\trender() {\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tidentity={identity}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\twaiting={spinner}\n\t\t\t\t\twaitingExpected={waitingExpected}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tIdentityForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tidentity: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\tidentity: memory.identity,\n\t\t\tspinner: memory.spinners[CREATING_SESSION],\n\t\t\twaitingUpload: memory.spinners[UPLOADING_ACCOUNT_DATA],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(IdentityForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport AuthHoc from './AuthHoc'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\n\nclass AuthTrezor extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingTrezorAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectTrezor = async () => {\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\t\t}\n\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\n\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tconsole.log('result', results)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: trezorSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingTrezorAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingTrezorAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\t\t\t\twidth={1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\n\t\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io/' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\n\t\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{!this.state.waitingAddrsData &&\n\t\t\t\t\t\t\t\t\t!this.state.waitingTrezorAction && (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthTrezor.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport AuthHoc from './AuthHoc'\nimport Helper from 'helpers/miscHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\n\nclass AuthLedger extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingLedgerAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectLedger = async () => {\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\t\t}\n\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: ledgerSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingLedgerAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingLedgerAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography variant='subtitle1'>{t('LEDGER_INFO')}</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\n\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\n\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\n\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthLedger.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { selectLocationQuery } from 'selectors'\nimport AuthMetamask from './AuthMetamask'\nimport AuthTrezor from './AuthTrezor'\nimport AuthLedger from './AuthLedger'\n\nconst useStyles = makeStyles(theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t},\n\t}\n})\n\nfunction AuthMethod() {\n\tconst classes = useStyles()\n\tconst query = useSelector(selectLocationQuery)\n\tconst method = query['external']\n\n\treturn (\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\n\t\t\t\t{method === 'metamask' && <AuthMetamask />}\n\t\t\t\t{method === 'trezor' && <AuthTrezor />}\n\t\t\t\t{method === 'ledger' && <AuthLedger />}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default AuthMethod\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tupdateIdentity,\n} from 'actions'\n\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\n\t]\n\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\tpassword,\n\t\tpasswordCheck,\n\t\ttosCheck,\n\t\taccessWarningCheck,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner || sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validatePassword(validateId, identity.password, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePassword(validateId, identity.password, false)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='passwordCheck'\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_QUICK_CHECK')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tupdateIdentity,\n} from 'actions'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { CREATING_SESSION } from 'constants/spinners'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst FulInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst { wallet = {} } = identity\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\t// Errors\n\tconst { email, emailCheck, tosCheck, accessWarningCheck } = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t{walletAddress}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FulInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickLogin = props => {\n\tconst { validateId } = props\n\n\tconst identity = useSelector(selectIdentity)\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\n\t]\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { wallet } = validations\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickLogin\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport { push } from 'connected-react-router'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\texecute,\n\tupdateIdentity,\n\townerIdentities as updateOwnerIdentities,\n} from 'actions'\nimport {\n\tselectSpinnerById,\n\tselectIdentity,\n\tt,\n\tselectSearchParams,\n\tselectRegistrationAllowed,\n} from 'selectors'\nimport Dropdown from 'components/common/dropdown'\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\n\townerIdentities.map(id => {\n\t\treturn {\n\t\t\tvalue: id.identity + '-' + id.privLevel,\n\t\t\tlabel: id.ens\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\n\t\t\t\t  })\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\n\t\t\t\t  }),\n\t\t}\n\t})\n\nfunction FullLogin(props) {\n\tconst identity = useSelector(selectIdentity)\n\tconst {\n\t\twalletAddr,\n\t\twallet = {},\n\t\townerIdentities,\n\t\tidentityContractAddress,\n\t} = identity\n\tconst walletAddress = wallet.address || walletAddr\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\n\t)\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\n\tconst searchParams = useSelector(selectSearchParams)\n\tsearchParams.set('step', '1')\n\n\tconst search = searchParams.toString()\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\n\tuseEffect(() => {\n\t\texecute(\n\t\t\tupdateOwnerIdentities({ owner: walletAddress, authType: wallet.authType })\n\t\t)\n\t\t// We need it just once on mount\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{showRegistration && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FullLogin\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport Translate from 'components/translate/Translate'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { selectLocationQuery } from 'selectors'\n\nclass IdentitySteps extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpages: this.mapPages(),\n\t\t}\n\n\t\t// TODO: Check if it is possible to need state update\n\t}\n\n\tmapPages = () => {\n\t\tconst {\n\t\t\tGoBtn,\n\t\t\tcancelFunction,\n\t\t\tt,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages = [],\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tconst pages = stepsPages.map((page, index) => {\n\t\t\treturn {\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelFunction,\n\t\t\t\tcomponent: ValidItemHoc(page.page),\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tcompleteBtn: page.final\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t\t\t: undefined,\n\t\t\t}\n\t\t})\n\n\t\treturn pages\n\t}\n\n\trender() {\n\t\tconst { initialPage } = this.props\n\t\treturn (\n\t\t\t<MaterialStepper initialPage={initialPage} pages={this.state.pages} />\n\t\t)\n\t}\n}\n\nIdentitySteps.propTypes = {\n\tactions: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// const persist = state.persist\n\t// const memory = state.memory\n\treturn {\n\t\tinitialPage: selectLocationQuery(state)['step'] || 0,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(IdentitySteps)))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t},\n\t\tadxVersion: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: spacing,\n\t\t\tbottom: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\tmarginTop: '1.5vh',\n\t\t\twidth: '17.92vh',\n\t\t\theight: '6vh',\n\t\t},\n\t\tformControl: {\n\t\t\tdisplay: 'flex',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\tinfoPaper: {\n\t\t\t...theme.mixins.gutters(),\n\t\t\tpaddingTop: spacing * 2,\n\t\t\tpaddingBottom: spacing * 2,\n\t\t},\n\t\tinput: {\n\t\t\tdisplay: 'none',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport AuthMethod from './ownerAuth/AuthMethod'\nimport QuickInfo from './QuickInfo'\nimport FullInfo from './FullInfo'\nimport QuickLogin from './QuickLogin'\nimport FullLogin from './FullLogin'\nimport IdentitySteps from './IdentitySteps'\nimport { push } from 'connected-react-router'\n\nimport {\n\texecute,\n\tvalidateQuickLogin,\n\tvalidateStandardLogin,\n\tvalidateQuickInfo,\n\tvalidateFullInfo,\n\tvalidateContractOwner,\n\tresetIdentity,\n} from 'actions'\n\nconst cancelFunction = () => {\n\texecute(resetIdentity())\n\texecute(push('/'))\n}\n\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\n\nconst common = {\n\tcancelFunction,\n\tvalidateIdBase: 'identity-',\n}\n\nexport const LoginStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-login'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\n\t\t\t\t\tpage: FullLogin,\n\t\t\t\t\tpageValidation: finalValidationStandard,\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-create'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'FULL_INFO',\n\t\t\t\t\tpage: FullInfo,\n\t\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-create'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_INFO',\n\t\t\t\tpage: QuickInfo,\n\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const LoginQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-login'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_LOGIN',\n\t\t\t\tpage: QuickLogin,\n\t\t\t\tpageValidation: finalValidationQuick,\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const DemoIdentity = props => (\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Logo from 'components/common/icons/AdexIconTxt'\nimport Typography from '@material-ui/core/Typography'\nimport Anchor from 'components/common/anchor/anchor'\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\ttextAlign: 'center',\n\t},\n\tvitalik: {\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\n\t\tbackgroundPosition: 'center',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'contain',\n\t},\n\tcontainer: {\n\t\tmaxWidth: theme.breakpoints.values.md,\n\t\tmargin: 'auto',\n\t},\n\tlogo: {\n\t\theight: '5rem',\n\t\twidth: '100%',\n\t},\n}))\n\nexport default function Home({ t, ...rest }) {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tclassName={classes.root}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='center'\n\t\t\tjustifyContent='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.container}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-evenly'\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tflexGrow={1}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t\tmaxWidth='md'\n\t\t\t\tclassName={classes.container}\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Logo className={classes.logo} />\n\t\t\t\t</Box>\n\n\t\t\t\t{/* <Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{/* <Box p={1}>\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box\n\t\t\t\t\theight='30%'\n\t\t\t\t\tposition='relative'\n\t\t\t\t\tclassName={classes.vitalik}\n\t\t\t\t\talignSelf='stretch'\n\t\t\t\t></Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nconst useStyles = makeStyles(theme => ({\n\tdialog: {\n\t\theight: '100vh',\n\t\twidth: theme.maxWidth || 1200,\n\t\tmaxWidth: '100%',\n\t},\n}))\n\nexport default function DialogHoc(Decorated) {\n\tfunction JustDialog({ ...rest }) {\n\t\tconst classes = useStyles()\n\n\t\treturn (\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Decorated {...rest} />\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\treturn JustDialog\n}\n","import React, { useEffect } from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport {\n\tmetamaskChecks,\n\tmetamaskNetworkCheck,\n\tgetRelayerConfig,\n\texecute,\n\tensureQuickWalletBackup,\n\tupdateRegistrationAllowed,\n\tupdateEasterEggsAllowed,\n\thandleRedirectParams,\n\thandleSignupLink,\n} from 'actions'\nimport { Route, Switch, Redirect } from 'react-router'\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\nimport ConnectHoc from 'components/signin/ConnectHoc'\nimport {\n\tCreateQuickIdentity,\n\tLoginStandardIdentity,\n\tCreateStandardIdentity,\n\tLoginQuickIdentity,\n} from 'components/signin/identity/Identity'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport Home from 'components/signin/Home'\nimport JustDialog from 'components/common/dialog/JustDialog'\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\nimport Translate from 'components/translate/Translate'\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\n\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\nconst ConnectedLoginStandardIdentity = ConnectHoc(\n\tJustDialog(LoginStandardIdentity)\n)\nconst ConnectedCreateStandardIdentity = ConnectHoc(\n\tJustDialog(CreateStandardIdentity)\n)\nconst ConnectedRoot = ConnectHoc(Home)\n\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...other}\n\t\t\trender={props =>\n\t\t\t\tauth === true ? ( //|| true\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst handleLegacyWallet = async wallet => {\n\tconst { type, email, password, authType } = wallet || {}\n\n\tif (!type && email && password && authType === 'grant') {\n\t\tawait migrateLegacyWallet({ email, password })\n\t\tawait removeLegacyKey({ email, password })\n\t}\n\n\tif (email && password && authType) {\n\t\texecute(ensureQuickWalletBackup())\n\t}\n}\n\nconst Root = () => {\n\tconst auth = useSelector(selectAuth)\n\tconst wallet = useSelector(selectWallet)\n\tconst location = useSelector(selectLocation)\n\n\tuseEffect(() => {\n\t\texecute(getRelayerConfig())\n\t\texecute(metamaskChecks())\n\t\texecute(handleRedirectParams(location.search))\n\t\texecute(handleSignupLink(location.search))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tuseEffect(() => {\n\t\thandleLegacyWallet(wallet)\n\t}, [wallet])\n\n\tuseEffect(() => {\n\t\texecute(metamaskNetworkCheck())\n\t\texecute(updateRegistrationAllowed(location.search))\n\t\texecute(updateEasterEggsAllowed(location.search))\n\t}, [location])\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute\n\t\t\t\t\tauth={auth}\n\t\t\t\t\tpath='/dashboard/:side'\n\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t/>\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/quick'\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/login/full'\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/full'\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\n\t\t\t\t<Route>\n\t\t\t\t\t<PageNotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nexport default Translate(Root)\n","import React, { Component } from 'react'\nimport 'react-image-crop/dist/ReactCrop.css'\nimport './App.css'\nimport { Provider } from 'react-redux'\nimport { persistor, store } from 'store'\nimport history from 'store/history'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Toast from 'components/toast/Toast'\nimport Confirm from 'components/confirm/Confirm'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport Root from './Root'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { themeMUI } from './themeMUi'\nimport MomentUtils from '@date-io/moment'\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport CacheBuster from './CacheBuster'\n\n// console.log('initial store', store.getState())\n\nconst onBeforeLift = () => {\n\t// take some action before the gate lifts\n}\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t\t\t\t\t\t<CacheBuster>\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\n\t\t\t\t\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</CacheBuster>\n\t\t\t\t\t\t\t\t</ConnectedRouter>\n\t\t\t\t\t\t\t</PersistGate>\n\t\t\t\t\t\t</Provider>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { unregister } from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nunregister()\n","import {\n\tgetState,\n\texecute,\n\tresetAllNewItems,\n\tresetAllItems,\n\tresetAllBids,\n\tresetIdentity,\n\tresetAccount,\n\tresetAnalytics,\n\tresetChannelsWithBalanceAll,\n\tresetChannelsWithOutstandingBalance,\n\tresetAllNewTransaction,\n} from 'actions'\n\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\n\nimport { push } from 'connected-react-router'\n\nexport const logOut = skipRedirect => {\n\tanalyticsLoop.stop()\n\tanalyticsCampaignsLoop.stop()\n\tcampaignsLoop.stop()\n\tstatsLoop.stop()\n\tif (!skipRedirect) {\n\t\texecute(push('/'))\n\t}\n\texecute(resetIdentity())\n\texecute(resetAllItems())\n\texecute(resetAllNewItems())\n\texecute(resetAllBids())\n\texecute(resetAccount())\n\texecute(resetAnalytics())\n\texecute(resetChannelsWithBalanceAll())\n\texecute(resetChannelsWithOutstandingBalance())\n\texecute(resetAllNewTransaction())\n}\n\nexport const isDemoMode = () => {\n\treturn getState().persist.account._authType === 'demo'\n}\n\nexport const getAccount = () => {\n\treturn getState().persist.account\n}\n","const MAX_ASPECT_TOLERANCE = 5\n\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\n\nconst getVideoSize = src =>\n\tnew Promise(resolve => {\n\t\tconst video = document.createElement('video')\n\t\tvideo.src = src\n\n\t\tvideo.onloadedmetadata = ({ target }) => {\n\t\t\treturn resolve({\n\t\t\t\twidth: target.videoWidth,\n\t\t\t\theight: target.videoHeight,\n\t\t\t})\n\t\t}\n\t})\n\nconst getImageSize = src =>\n\tnew Promise(resolve => {\n\t\tconst image = new Image()\n\t\timage.src = src\n\t\timage.onload = function() {\n\t\t\treturn resolve({\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t})\n\t\t}\n\t})\n\nexport const getMediaSize = ({ mime, src }) =>\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\n\nexport const checkExactishAspect = (\n\twidthTarget,\n\twidth,\n\theightTarget,\n\theight,\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\n) => {\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\n\t\treturn false\n\t}\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\n\tconst aspect = parseFloat(width / height)\n\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\n\n\tconst isValid =\n\t\twidthTarget <= width &&\n\t\theightTarget <= height &&\n\t\taspectDiff <= maxPercentTolerance\n\n\treturn isValid\n}\n","import Identity from './build/Identity.json'\nimport AdExCore from './build/AdExCore.json'\nimport Dai from './build/Dai.json'\nimport IdentityFactory from './build/IdentityFactory.json'\nimport AdExENSManager from './abi/AdExENSManager.json'\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\nimport ERC20 from './abi/ERC20Token.json'\n\nexport const contracts = {\n\tIdentity: {\n\t\tabi: Identity.abi,\n\t},\n\tAdExENSManager: {\n\t\taddress: process.env.ADEX_ENS_ADDR,\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\n\t\tabi: AdExENSManager,\n\t},\n\tReverseRegistrar: {\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\n\t\tabi: ReverseRegistrar,\n\t},\n\tAdExCore: {\n\t\taddress: process.env.ADEX_CORE_ADDR,\n\t\tabi: AdExCore.abi,\n\t},\n\tDAI: {\n\t\taddress: process.env.DAI_TOKEN_ADDR,\n\t\tabi: Dai.abi,\n\t\tdecimals: 18,\n\t},\n\tIdentityFactory: {\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\n\t\tabi: IdentityFactory.abi,\n\t},\n\tERC20: {\n\t\tabi: ERC20,\n\t},\n}\n","import crypto from 'crypto'\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetIdentityTxnsWithNoncesAndFees,\n\tgetIdentityTxnsTotalFees,\n\tprocessExecuteByFeeTokens,\n\tgetApproveTxns,\n} from 'services/smart-contracts/actions/identity'\nimport { contracts } from '../contractsCfg'\nimport { closeCampaign } from 'services/adex-validator/actions'\nimport { Campaign, AdUnit } from 'adex-models'\nimport { getAllCampaigns } from 'services/adex-market/actions'\nimport {\n\tbigNumberify,\n\trandomBytes,\n\tparseUnits,\n\tInterface,\n\tgetAddress,\n} from 'ethers/utils'\nimport {\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectMainFeeToken,\n\tselectMainToken,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\nimport { getState } from 'store'\n\nconst { AdExCore } = contracts\nconst Core = new Interface(AdExCore.abi)\nconst IdentityInterface = new Interface(IdentityABI)\n\nconst timeframe = 15 * 1000 // 1 event per 15 seconds\nconst VALID_UNTIL_COEFFICIENT = 0.5\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\nconst OUTSTANDING_STATUSES = {\n\tActive: true,\n\tReady: true,\n\tExhausted: true,\n\tOffline: true,\n\tUnhealthy: true,\n\tWithdraw: true,\n}\n\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\n\nfunction toEthereumChannel(channel) {\n\tconst specHash = crypto\n\t\t.createHash('sha256')\n\t\t.update(JSON.stringify(channel.spec))\n\t\t.digest()\n\n\treturn new Channel({\n\t\ttitle: channel.title,\n\t\tcreator: channel.creator,\n\t\ttokenAddr: channel.depositAsset,\n\t\ttokenAmount: channel.depositAmount,\n\t\tvalidUntil: channel.validUntil,\n\t\tvalidators: channel.spec.validators.map(v => v.id),\n\t\tspec: specHash,\n\t})\n}\n\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\n\tconst period = withdrawPeriodStart - activeFrom\n\tconst validUntil =\n\t\twithdrawPeriodStart +\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\n\n\treturn Math.floor(validUntil / 1000)\n}\n\nfunction getReadyCampaign(campaign, identity, mainToken) {\n\tconst newCampaign = new Campaign(campaign)\n\n\tnewCampaign.creator = identity.address\n\tnewCampaign.created = Date.now()\n\tnewCampaign.validUntil = getValidUntil(\n\t\tnewCampaign.activeFrom,\n\t\tnewCampaign.withdrawPeriodStart\n\t)\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\n\tnewCampaign.depositAmount = parseUnits(\n\t\tnewCampaign.depositAmount || '0',\n\t\tmainToken.decimals\n\t).toString()\n\n\tconst validators = newCampaign.validators.map(v => {\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\n\t\tconst fee = deposit\n\t\t\t.mul(bigNumberify(v.feeNum || 1))\n\t\t\t.div(bigNumberify(v.feeDen || 1))\n\t\t\t.toString()\n\n\t\tconst validator = {\n\t\t\tid: v.id,\n\t\t\turl: v.url,\n\t\t\tfee,\n\t\t}\n\n\t\tif (v.feeAddr) {\n\t\t\tvalidator.feeAddr = v.feeAddr\n\t\t}\n\n\t\treturn validator\n\t})\n\n\tnewCampaign.validators = validators\n\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\n\tnewCampaign.minPerImpression = parseUnits(\n\t\tnewCampaign.minPerImpression || '0',\n\t\tmainToken.decimals\n\t)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\n\n\tnewCampaign.depositAsset = mainToken.address\n\tnewCampaign.eventSubmission = {\n\t\tallow: [\n\t\t\t{\n\t\t\t\tuids: [\n\t\t\t\t\tnewCampaign.creator,\n\t\t\t\t\tnewCampaign.validators[0].id,\n\t\t\t\t\tnewCampaign.validators[1].id,\n\t\t\t\t],\n\t\t\t},\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\n\t\t],\n\t}\n\n\tnewCampaign.status = {\n\t\tname: 'Pending',\n\t\thumanFriendlyName: 'Active',\n\t\tlastChecked: Date.now(),\n\t}\n\n\treturn newCampaign\n}\n\nconst getWithdrawnPerUserOutstanding = async ({\n\tAdExCore,\n\tchannel,\n\tbalance,\n\tidentityAddr,\n}) => {\n\treturn bigNumberify(balance).sub(\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\n\t)\n}\n\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\n\tconst { authType } = wallet\n\tconst channels = await getAllCampaigns({ all: true, byEarner: identityAddr })\n\tconst { AdExCore } = await getEthers(authType)\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\n\n\tconst allChannels = await Promise.all(\n\t\tchannels\n\t\t\t.filter(\n\t\t\t\tchannel =>\n\t\t\t\t\tchannel &&\n\t\t\t\t\tchannel.status &&\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\n\t\t\t)\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedBalances } = channel.status\n\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\n\t\t\t\t\t(balances, e) => {\n\t\t\t\t\t\tconst [address, balance] = e\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (getAddress(address)) {\n\t\t\t\t\t\t\t\tbalances[address] = balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\treturn balances\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\n\n\t\t\t\treturn channel\n\t\t\t})\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\n\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\n\t\t\t\treturn {\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\tlastApprovedBalances,\n\t\t\t\t\tbTree,\n\t\t\t\t\tchannel,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(({ bTree }) => {\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\n\t\t\t})\n\t\t\t.map(\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\n\t\t\t\t\t//  mTree,\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\n\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\n\t\t\t\t\t\tAdExCore,\n\t\t\t\t\t\tchannel,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tidentityAddr,\n\t\t\t\t\t})\n\n\t\t\t\t\tconst outstandingAvailable = outstanding.sub(\n\t\t\t\t\t\tbigNumberify(feeTokenWhitelist[channel.depositAsset].min)\n\t\t\t\t\t)\n\n\t\t\t\t\tconst balanceNum = bigNumberify(channel.depositAmount)\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[0].fee || 0))\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[1].fee || 0))\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tchannel,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\t\toutstanding,\n\t\t\t\t\t\toutstandingAvailable,\n\t\t\t\t\t\tlastApprovedBalances,\n\t\t\t\t\t\tbalanceNum,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t)\n\n\tconst all = Object.assign(\n\t\t{},\n\t\t...allChannels.map(c => {\n\t\t\tconst { channel } = c\n\t\t\tconst { id, depositAmount, depositAsset, status } = channel\n\t\t\tconst balanceNum = bigNumberify(depositAmount)\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[0].fee))\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[1].fee))\n\t\t\t\t.toString()\n\n\t\t\treturn {\n\t\t\t\t[c.channel.id.toLowerCase()]: {\n\t\t\t\t\tid,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tdepositAsset,\n\t\t\t\t\tbalanceNum,\n\t\t\t\t\tstatus: status.name,\n\t\t\t\t},\n\t\t\t}\n\t\t})\n\t)\n\n\tconst withOutstandingBalance = allChannels.filter(x => {\n\t\treturn (\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\n\t\t\t\tDate.now() &&\n\t\t\tx.outstanding.gt(\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\n\t\t\t) &&\n\t\t\tx.outstandingAvailable.gt(bigNumberify('0'))\n\t\t)\n\t})\n\n\treturn { all, withOutstandingBalance }\n}\n\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\n\tconst { eligible } = withBalance\n\t\t.sort((c1, c2) => {\n\t\t\treturn bigNumberify(c2.outstandingAvailable).gt(\n\t\t\t\tbigNumberify(c1.outstandingAvailable)\n\t\t\t)\n\t\t})\n\t\t.reduce(\n\t\t\t(data, c) => {\n\t\t\t\tconst current = { ...data }\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\n\t\t\t\t\tcurrent.eligible.push(c)\n\t\t\t\t\tcurrent.sum = current.sum.add(bigNumberify(c.outstandingAvailable))\n\t\t\t\t}\n\n\t\t\t\treturn current\n\t\t\t},\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\n\t\t)\n\n\treturn eligible\n}\n\nconst getChannelWithdrawData = ({\n\tidentityAddr,\n\tbalance,\n\tlastApprovedBalances,\n\tlastApprovedSigs,\n\tethChannelTuple,\n}) => {\n\tconst bTree = new BalanceTree(lastApprovedBalances)\n\tconst proof = bTree.getProof(identityAddr)\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\n\tconst root = bTree.mTree.getRoot()\n\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\n}\n\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\n\t\t(data, tx) => {\n\t\t\tconst updated = { ...data }\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\n\n\t\t\treturn updated\n\t\t},\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\n\t)\n\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\n\t\troutineAuthTuple,\n\t\troutineOpts,\n\t])\n\n\tconst routinesTx = {\n\t\tidentityContract: identityAddr,\n\t\tto: identityAddr,\n\t\tdata,\n\t\twithdrawAmountByToken,\n\t\troutinesSweepTxCount: routineOpts.length,\n\t}\n\n\treturn routinesTx\n}\n\nfunction getIdentityRoutineAuthTuple(identity) {\n\treturn identity &&\n\t\tidentity.relayerData &&\n\t\tidentity.relayerData.deployData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t: null\n}\n\nfunction is41identity(routineAuthTuple) {\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\n\n\treturn is41\n}\n\nfunction hasValidExecuteRoutines(routineAuthTuple) {\n\tconst hasValidRoutines =\n\t\tis41identity(routineAuthTuple) &&\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\n\n\treturn hasValidRoutines\n}\n\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\n\tconst { wallet, identity } = account\n\t// TODO: pass withBalance as prop\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\n\n\tconst { AdExCore } = await getEthers(wallet.authType)\n\tconst identityAddr = identity.address\n\tconst channelsToSweep = await getChannelsToSweepFrom({\n\t\tamountToSweep,\n\t\tidentityAddr,\n\t\twithBalance,\n\t})\n\n\tconst txns = channelsToSweep.map((c, i) => {\n\t\tconst {\n\t\t\tlastApprovedBalances,\n\t\t\tchannel,\n\t\t\tlastApprovedSigs,\n\t\t\toutstanding,\n\t\t\t// outstandingAvailable,\n\t\t\tbalance,\n\t\t} = c\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\n\n\t\tconst data = getChannelWithdrawData({\n\t\t\tidentityAddr,\n\t\t\tbalance,\n\t\t\tlastApprovedBalances,\n\t\t\tlastApprovedSigs,\n\t\t\tethChannelTuple,\n\t\t})\n\n\t\treturn {\n\t\t\tidentityContract: identityAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tfeeTokenAddr: channel.depositAsset,\n\t\t\tdata,\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\n\t\t}\n\t})\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\n\tlet encodedTxns = null\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\n\t\tencodedTxns = [\n\t\t\tgetSweepExecuteRoutineTx({\n\t\t\t\ttxns,\n\t\t\t\tidentityAddr,\n\t\t\t\troutineAuthTuple,\n\t\t\t}),\n\t\t]\n\t} else {\n\t\tencodedTxns = txns.map(tx => {\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\n\t\t\ttx.isSweepTx = true\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\treturn encodedTxns\n}\n\nfunction getSwapAmountsByToken({ balances }) {\n\tconst mainToken = selectMainToken()\n\tconst saiToken = selectSaiToken()\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\n\t\t(swaps, balance) => {\n\t\t\t// TODO: currently work only for SAI to DAI swap\n\t\t\tif (\n\t\t\t\tbalance.token.address !== mainToken.address &&\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\n\t\t\t\tbalance.token.address === saiToken.address\n\t\t\t) {\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\n\t\t\t\t\tbalance.balanceMainToken\n\t\t\t\t)\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\n\t\t\t}\n\t\t\treturn swaps\n\t\t},\n\t\t{\n\t\t\tswapsSumInMainToken: bigNumberify(0),\n\t\t\tswapsByToken: {},\n\t\t}\n\t)\n\n\treturn { swapsByToken, swapsSumInMainToken }\n}\n\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\n// amountNeeded must be in MainToken\nexport async function getSweepingTxnsIfNeeded({\n\tamountInMainTokenNeeded,\n\taccount,\n}) {\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\n\tconst {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\n\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\n\n\tconst sweepData = {\n\t\tsweepTxns: [],\n\t\tswapAmountsByToken: {},\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\t// Swaps\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\n\t\t\tbalances,\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\n\t\t})\n\n\t\tsweepData.swapAmountsByToken = swapsByToken\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\n\t\t\taccount,\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\n\t\t})\n\t}\n\n\treturn sweepData\n}\n\nexport async function openChannel({\n\tcampaign,\n\taccount,\n\tgetFeesOnly,\n\tgetMaxFees,\n}) {\n\tconst { wallet, identity, stats } = account\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\n\tconst mainToken = selectMainFeeToken()\n\tconst depositAmount = getMaxFees\n\t\t? availableIdentityBalanceMainToken\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst channel = {\n\t\t...openReady,\n\t\tid: ethChannel.hashHex(AdExCore.address),\n\t}\n\tconst identityAddr = openReady.creator\n\tconst feeTokenAddr = mainToken.address\n\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\n\n\tconst txns = []\n\n\tif (hasIdentityChannelOpen) {\n\t\tconst identityChannelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: identityAddr,\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\n\t\t\t\tAdExCore.address,\n\t\t\t\tethChannel.toSolidityTuple(),\n\t\t\t]),\n\t\t\textraTxFeesCount: 1,\n\t\t}\n\t\ttxns.push(identityChannelOpenTx)\n\t} else {\n\t\tconst approveTxns = await getApproveTxns({\n\t\t\tgetToken,\n\t\t\ttoken: mainToken,\n\t\t\tidentityAddr,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tapproveForAddress: AdExCore.address,\n\t\t\tapproveAmount: depositAmount,\n\t\t})\n\n\t\tconst channelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\n\t\t}\n\t\ttxns.push(...approveTxns, channelOpenTx)\n\t}\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: depositAmount,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\n\tconst bigZero = bigNumberify(0)\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\n\t\t? bigZero\n\t\t: mtBalance.sub(totalBN)\n\tconst maxAvailableFormatted = formatTokenAmount(\n\t\tmaxAvailable.toString(),\n\t\tmainToken.decimals || 18,\n\t\tfalse,\n\t\t2\n\t)\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfeesFormatted: total,\n\t\t\tfees: totalBN,\n\t\t\tmaxAvailable,\n\t\t\tmaxAvailableFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t\textraData: { channel },\n\t})\n\n\treadyCampaign.id = channel.id\n\tconst storeCampaign = { ...readyCampaign }\n\tstoreCampaign.spec = { ...openReady.spec }\n\treturn {\n\t\tresult,\n\t\tstoreCampaign,\n\t}\n}\n\nexport async function closeChannel({ account, campaign }) {\n\tconst result = await closeCampaign({ account, campaign })\n\treturn result\n}\n","import Helper from 'helpers/miscHelpers'\nimport { getState } from 'actions'\nimport { selectAuthSig } from 'selectors'\nimport { isDemoMode } from 'services/store-data/auth'\nimport { t } from 'selectors'\n\nexport const handleRequesterErrorRes = ({ res, text }) => {\n\tlet message = text\n\ttry {\n\t\tconst textObj = JSON.parse(text)\n\t\tmessage =\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\n\t} catch {}\n\n\tthrow new Error(\n\t\tt('SERVICE_ERROR_MSG', {\n\t\t\targs: [res.url, res.status, res.statusText, message],\n\t\t})\n\t)\n}\n\nclass AdexNodeRequester {\n\tconstructor({ baseUrl }) {\n\t\tthis.baseUrl = baseUrl\n\t}\n\n\tgetAuthHeaders = ({ authSig } = {}) => {\n\t\tconst authSignature = selectAuthSig(getState())\n\t\treturn {\n\t\t\t'X-User-Signature': authSig || authSignature,\n\t\t}\n\t}\n\n\tnoCacheHeaders = {\n\t\t'Cache-Control': 'no-cache',\n\t\tExpires: '0',\n\t\tPragma: 'no-cache',\n\t}\n\n\tgetUrl = (base, route, query) => {\n\t\tlet url = base + '/'\n\t\tif (route) {\n\t\t\troute = route.replace(/^\\//, '')\n\t\t\turl += route\n\t\t}\n\n\t\turl += query\n\n\t\treturn url\n\t}\n\n\tfetch = ({\n\t\troute = '',\n\t\tqueryParams = {},\n\t\tmethod = 'GET',\n\t\tbody,\n\t\theaders = {},\n\t\tuserAddr,\n\t\tauthSig = '',\n\t\tauthToken,\n\t\tnoCache = false,\n\t}) => {\n\t\tconst qp = { ...queryParams }\n\t\tif (isDemoMode()) {\n\t\t\tqp.demo = true\n\t\t}\n\n\t\tconst query = Helper.getQuery(qp)\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\n\n\t\tconst hdrs = {\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\n\t\t\t...this.getAuthHeaders({ authSig }),\n\t\t\t...headers,\n\t\t}\n\t\treturn fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: hdrs,\n\t\t\tbody: body,\n\t\t})\n\t}\n}\n\nexport default AdexNodeRequester\n","import requester from './requester'\n\nexport default requester\nexport * from './requester'\n","import { formatUnits, commify } from 'ethers/utils'\nimport MomentUtils from '@date-io/moment'\nconst moment = new MomentUtils()\n\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\n\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\n\tif (!timestamp) {\n\t\treturn 'no date'\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatTokenAmount = (\n\tamountString,\n\tdecimals = 18,\n\tpretty,\n\ttoFixed\n) => {\n\tconst formatted = formatUnits(amountString, decimals)\n\tif (pretty) {\n\t\treturn commify(formatted)\n\t} else if (typeof toFixed === 'number') {\n\t\t// We want truncated not rounded\n\t\treturn parseFloat(formatted)\n\t\t\t.toFixed(toFixed + 4)\n\t\t\t.slice(0, -4)\n\t} else {\n\t\treturn formatted\n\t}\n}\n\nexport const formatAddress = (address = '', joinSymbol = '...') => {\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\n}\n\nexport const formatNumberWithCommas = x => {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\nexport const formatNumberWithoutCommas = x => {\n\treturn x\n\t\t.toString()\n\t\t.split(',')\n\t\t.join('')\n}\n\nexport const formatAbbrNum = (number, decPlaces) => {\n\t// 2 decimal places => 100, 3 => 1000, etc\n\tdecPlaces = Math.pow(10, decPlaces)\n\n\t// Enumerate number abbreviations\n\tvar abbrev = ['k', 'm', 'b', 't']\n\n\t// Go through the array backwards, so we do the largest first\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\n\t\t// Convert array index to \"1000\", \"1000000\", etc\n\t\tvar size = Math.pow(10, (i + 1) * 3)\n\n\t\t// If the number is bigger or equal do the abbreviation\n\t\tif (size <= number) {\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\n\t\t\t// This gives us nice rounding to a particular decimal place.\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\n\n\t\t\t// Handle special case where we round up to the next abbreviation\n\t\t\tif (number == 1000 && i < abbrev.length - 1) {\n\t\t\t\tnumber = 1\n\t\t\t\ti++\n\t\t\t}\n\n\t\t\t// Add the letter for the abbreviation\n\t\t\tnumber += abbrev[i]\n\n\t\t\t// We are done... stop\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn number\n}\n\nexport const truncateString = (string, maxLength = 50) => {\n\tif (!string) return ''\n\tif (string.length <= maxLength) return string\n\treturn `${string.substring(0, maxLength).trim()}...`\n}\n","import Loop from './loop'\nimport {\n\texecute,\n\tupdateAccountAnalytics,\n\tupdateAccountCampaignsAnalytics,\n} from 'actions'\n\nconst LOOP_TIMEOUT = 120 * 1000\n\nconst analyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountAnalytics()),\n\tloopName: '_ANALYTICS',\n})\n\nconst analyticsCampaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () => await execute(updateAccountCampaignsAnalytics()),\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\n})\n\nexport { analyticsLoop, analyticsCampaignsLoop }\n","export default class Looper {\n\tconstructor({ timeout, syncAction, loopName = '' }) {\n\t\tif (!timeout) {\n\t\t\tthrow new Error('LOOPER timeout prop is required')\n\t\t}\n\n\t\tif (typeof syncAction !== 'function') {\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\n\t\t}\n\n\t\tthis.loopTimeout = null\n\t\tthis.timeout = timeout\n\t\tthis.syncAction = syncAction\n\t}\n\n\tclearLoopTimeout = () => {\n\t\tif (this.loopTimeout) {\n\t\t\tclearTimeout(this.loopTimeout)\n\t\t\tthis.loopTimeout = null\n\t\t}\n\t}\n\n\tsyncData = async opts => {\n\t\tawait this.syncAction()\n\t}\n\n\tstartLoop = async opts => {\n\t\ttry {\n\t\t\tawait this.syncData(opts)\n\t\t\tthis.checkLoop()\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\n\t\t\tthis.checkLoop()\n\t\t}\n\t}\n\n\tcheckLoop = () => {\n\t\tthis.clearLoopTimeout()\n\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\n\t}\n\n\tstart = async () => {\n\t\tthis.clearLoopTimeout()\n\t\tawait this.startLoop()\n\t}\n\n\tstop = () => {\n\t\tthis.clearLoopTimeout()\n\t}\n}\n","import { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\n\nconst autocompleteLocationsSingleSelect = () => {\n\treturn constants.AllCountries.map(country => {\n\t\treturn {\n\t\t\tlabel: country.name,\n\t\t\tvalue: country.value,\n\t\t}\n\t})\n}\n\nconst autocompleteGendersSingleSelect = () => {\n\treturn constants.Genders.map(gender => {\n\t\treturn {\n\t\t\tlabel: translate(gender.split('_')[1]),\n\t\t\tvalue: gender,\n\t\t}\n\t})\n}\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nexport const AcLocations = autocompleteLocationsSingleSelect()\nexport const AcGenders = autocompleteGendersSingleSelect()\nexport const AcTags = autocompleteTagsSingleSelect()\n\nexport const SOURCES = {\n\tlocations: { src: AcLocations, collection: 'targeting' },\n\tgenders: { src: AcGenders, collection: 'targeting' },\n\ttags: { src: AcTags, collection: 'targeting' },\n\tcustom: { src: [], collection: 'targeting' },\n}\n","// Nodejs encryption with CTR\nconst crypto = require('crypto')\n\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\nconst CIPHER_ALG = 'aes-256-cbc'\nconst IV_LENGTH = 16\nconst HASH_ALG = 'sha256'\n\nconst getKeyHash = key => {\n\tconst hash = crypto.createHash(HASH_ALG)\n\thash.update(key)\n\tconst hashed = hash.digest()\n\treturn hashed\n}\n\nexport const encrypt = async (text, key) => {\n\tif (!text) return ''\n\tif (!key) {\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\n\t}\n\tconst iv = crypto.randomBytes(IV_LENGTH)\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst encr = cipher.update(text)\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\n\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\n}\n\nexport const decrypt = async (text, key) => {\n\tconst textParts = text.split(':')\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst decr = decipher.update(encryptedText)\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\n\n\treturn decrypted.toString()\n}\n\nexport const encryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\n\tcrypted += cipher.final('hex')\n\treturn crypted\n}\n\nexport const decryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\n\tlet dec = decipher.update(text, 'hex', 'utf8')\n\tdec += decipher.final('utf8')\n\treturn dec\n}\n","import adexTranslations from 'adex-translations'\nimport { renderToString } from 'react-dom/server'\n\nconst translations = adexTranslations()\n\nlet lang = 'en-US'\n\n// TODO: sanitization\nconst interpolate = (tpl, args) => {\n\tif (typeof tpl !== 'string') {\n\t\treturn ''\n\t}\n\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\n\t\tlet arg = args[v]\n\t\tif (typeof arg === 'object' && !!arg && arg.component) {\n\t\t\treturn renderToString(arg.component)\n\t\t} else {\n\t\t\treturn arg || ''\n\t\t}\n\t})\n}\n\nexport const translate = (\n\tval = '',\n\t{ isProp = false, args = [''] } = {},\n\tlanguage = lang\n) => {\n\tlet key = val + ''\n\tif (isProp) {\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\n\t}\n\n\tkey = key.toUpperCase()\n\n\tlet translation = translations[language][key] || val\n\n\tif (args.length && Array.isArray(args)) {\n\t\tconst translatedArgs = args.map(a => {\n\t\t\tif (typeof a === 'string') {\n\t\t\t\treturn translations[language][a] || a\n\t\t\t} else {\n\t\t\t\treturn a\n\t\t\t}\n\t\t})\n\n\t\ttranslation = interpolate(translation, translatedArgs)\n\t}\n\n\treturn translation\n}\n\n// TODO: fix that\nexport const setLang = lng => {\n\tlang = lng\n}\n","import { exchange as ExchangeConstants } from 'adex-constants'\nimport { constants } from 'adex-models'\n\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\nconst { SignatureModes } = constants\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nexport const AVATAR_MAX_WIDTH = 600\nexport const AVATAR_MAX_HEIGHT = 400\n\nexport const SORT_PROPERTIES_BIDS = [\n\t{ value: '_state', label: '' },\n\t{ value: '_target', label: '' },\n\t{ value: '_amount', label: '' },\n\t{ value: '_timeout', label: '' },\n]\n\nexport const FILTER_PROPERTIES_BIDS = {\n\t_state: {\n\t\tlabel: '_state',\n\t\tlabelIsProp: true,\n\t\tvalues: Object.keys(BID_STATES).map(key => {\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\n\t\t}),\n\t},\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\n}\n\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\n}\n\nexport const SORT_PROPERTIES_ITEMS = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n\t{ value: 'type' },\n]\n\nexport const SORT_PROPERTIES_COLLECTION = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n]\n\nexport const FILTER_PROPERTIES_ITEMS = {\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\n}\n\nexport const AUTH_TYPES = {\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\n}\n\nexport const NETWORK_STATUS = {\n\t0: 'pending',\n\t1: 'success',\n\t2: 'failed',\n}\n\nexport const ETHEREUM_NETWORKS = {\n\t1: { name: 'Mainnet', for: 'production' },\n\t5: { name: 'Goerli', for: 'development' },\n\tproduction: { name: 'Mainnet', for: 'production' },\n\tdevelopment: { name: 'Goerli', for: 'development' },\n}\n\nexport const SORT_PROPERTIES_CAMPAIGN = [\n\t{ value: 'created', label: 'Created' },\n\t{ value: 'status.name', label: 'Status' },\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\n\t{ value: 'activeFrom', label: 'Starts' },\n\t{ value: 'depositAmount', label: 'depositAmount' },\n\t{ value: 'maxPerImpression', label: 'cpm' },\n]\n\nexport const FILTER_PROPERTIES_CAMPAIGN = {\n\t'status.name': {\n\t\tlabel: 'ststus',\n\t\tlabelIsProp: true,\n\t\tvalues: [\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\n\t\t\t{ value: 'Offline', label: 'Offline' },\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\n\t\t\t{ value: 'Ready', label: 'Ready' },\n\t\t\t{ value: 'Active', label: 'Active' },\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\n\t\t\t{ value: 'Expired', label: 'Expired' },\n\t\t],\n\t},\n}\n\nexport const UTM_PARAMS = {\n\tutm_source: 'ADEX',\n\tutm_medium: 'CPM',\n\tutm_campaign: 'none',\n\tutm_content: 'none',\n}\n\nexport const VALIDATOR_ANALYTICS_METRICS = [\n\t'eventPayouts', //\n\t'eventCounts',\n]\nexport const VALIDATOR_ANALYTICS_SIDES = [\n\t'advertiser',\n\t'publisher', //\n]\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\n\t'IMPRESSION', //\n\t'CLICK',\n]\n\n// TEMP: disable long periods\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\n\t{ label: 'LABEL_HOUR', value: 'hour' },\n\t{ label: 'LABEL_DAY', value: 'day' },\n\t{ label: 'LABEL_WEEK', value: 'week' },\n\t// { label: 'LABEL_MONTH', value: 'month' },\n\t// { label: 'LABEL_YEAR', value: 'year' },\n]\n\nexport const MOON_GRAVITY_ACCELERATION = 1.625\nexport const MOON_TO_EARTH_WEIGHT = 0.166\n\nexport const WALLET_ACTIONS_MSGS = {\n\t[AUTH_TYPES.METAMASK.name]: [\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\n\t],\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\n\t[AUTH_TYPES.LEDGER.name]: [{ message: 'LEDGER_WAITING_ACTION' }],\n\t[AUTH_TYPES.QUICK.name]: [\n\t\t{ message: 'QUICK_WAITING_MSG' },\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\n\t],\n\t[AUTH_TYPES.GRANT.name]: [\n\t\t{ message: 'GRANT_WAITING_MSG' },\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\n\t],\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\n}\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\n\nlet initialState = {\n\taccount: new Account(),\n\tsignin: {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassConfirm: '',\n\t\tseed: '',\n\t\tpublicKey: '',\n\t\tseedCheck: [],\n\t\tauthenticated: false,\n\t},\n\tnewItem: {\n\t\tCampaign: new Campaign().plainObj(),\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\n\t\tAdSlot: new AdSlot().plainObj(),\n\t},\n\tcurrentItem: {},\n\tselectedItems: {\n\t\tcampaings: [],\n\t\tadUnits: [],\n\t\tslots: [],\n\t},\n\titems: {\n\t\tCampaign: {},\n\t\tAdUnit: {},\n\t\tAdSlot: {},\n\t},\n\tspinners: {},\n\tui: {\n\t\tglobal: {},\n\t\tbyIdentity: {},\n\t},\n\ttoasts: [],\n\tconfirm: {\n\t\tdata: {},\n\t},\n\tnav: {\n\t\tside: '',\n\t},\n\tlanguage: 'en-US',\n\tvalidations: {},\n\tnewTransactions: {\n\t\tdefault: {},\n\t},\n\tweb3Transactions: {},\n\ttags: {},\n\tidentity: {},\n\tethNetwork: {\n\t\tnetworkId: null,\n\t\tgasData: {},\n\t},\n\twallet: {},\n\tconfig: {\n\t\trelayer: {},\n\t\tmarket: {},\n\t\tvalidators: {},\n\t},\n\tanalytics: { timeframe: 'day' },\n\tchannels: {\n\t\twithBalanceAll: {},\n\t\twithOutstandingBalance: [],\n\t},\n\tensAddresses: {},\n}\n\nexport default initialState\n","import { createHashHistory } from 'history'\n\nconst history = createHashHistory()\n\nexport default history\n","import Loop from './loop'\nimport { updateUserCampaigns, execute } from 'actions'\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\n\n// 30 seconds = market statusLoopTick\nconst LOOP_TIMEOUT =\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\n\nconst syncCampaigns = () => {\n\texecute(updateUserCampaigns())\n}\n\nconst campaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => syncCampaigns(),\n\tloopName: '_CAMPAIGNS',\n})\n\nexport { campaignsLoop }\n","import Loop from './loop'\nimport { execute, updateAccountStats } from 'actions'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst accountStatsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () => await execute(updateAccountStats()),\n\tloopName: '_ACCOUNTS_STATS',\n})\n\nexport default accountStatsLoop\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","import { store } from 'store'\n\nexport const execute = store.dispatch\n\nexport const dispatch = store.dispatch\n\nexport const getState = store.getState\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport * as types from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\nimport { selectCompanyData, selectAccountIdentityAddr } from 'selectors'\nimport { translate } from 'services/translations/translations'\n\nexport function updateSpinner(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SPINNER,\n\t\t\tspinner: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateGlobalUi(item, value, category) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function updateUiByIdentity(item, value, category) {\n\treturn function(dispatch, getState) {\n\t\tconst identity = selectAccountIdentityAddr(getState())\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\n\t\t\tidentity,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function addToast({\n\ttype,\n\taction,\n\tlabel = '',\n\ttimeout = false,\n\tunclosable,\n\tanchorOrigin,\n\ttop,\n}) {\n\treturn function(dispatch) {\n\t\tconst id = Helper.getGuid()\n\t\tdispatch({\n\t\t\ttype: types.ADD_TOAST,\n\t\t\ttoast: {\n\t\t\t\ttype,\n\t\t\t\taction,\n\t\t\t\tlabel,\n\t\t\t\ttimeout,\n\t\t\t\tunclosable,\n\t\t\t\tanchorOrigin,\n\t\t\t\ttop,\n\t\t\t\tid,\n\t\t\t},\n\t\t})\n\n\t\treturn id\n\t}\n}\n\nexport function removeToast(toastId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.REMOVE_TOAST,\n\t\t\ttoast: toastId,\n\t\t})\n\t}\n}\n\nexport function confirmAction(\n\tonConfirm,\n\tonCancel,\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\n\tnoActionBtns,\n\tactive\n) {\n\treturn async function(dispatch) {\n\t\treturn await dispatch({\n\t\t\ttype: types.CONFIRM_ACTION,\n\t\t\tconfirm: {\n\t\t\t\tonConfirm: onConfirm,\n\t\t\t\tonCancel: onCancel,\n\t\t\t\tdata: {\n\t\t\t\t\tconfirmLabel: confirmLabel,\n\t\t\t\t\tcancelLabel: cancelLabel,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttext: text,\n\t\t\t\t},\n\t\t\t\tnoActionBtns,\n\t\t\t\tactive,\n\t\t\t},\n\t\t})\n\t}\n}\n\nexport function updateNav(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NAV,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function changeLanguage(lang) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CHANGE_LANGUAGE,\n\t\t\tlang: lang,\n\t\t})\n\t}\n}\n\nexport function updateRegistrationAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateCompanyData(newData) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst companyData = selectCompanyData(getState())\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_COMPANY_DATA'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateSelectedItems(collection, selectedItems) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\n\t\t\tselectedItems,\n\t\t\tcollection,\n\t\t})\n\t}\n}\n\nexport function updateSelectedCampaigns(selectedItems) {\n\treturn function(dispatch) {\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\n\t}\n}\n\nexport function refreshCacheAndReload({ version, notification = false }) {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\tif (notification) {\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'accept',\n\t\t\t\t\taction: (\n\t\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (caches) {\n\t\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\n\t\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\n\t\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{translate('REFRESH')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t),\n\t\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\n\t\t\t\t\t\targs: [version],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function handleRedirectParams(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('confirm-email')\n\t\tconst identity = searchParams.get('confirm-identity')\n\t\tconst grant = searchParams.get('confirm-grant')\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\n\n\t\tif (email && identity && !grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL', {\n\t\t\t\t\targs: [email, identity],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} else if (email && identity && grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL_GRANT', {\n\t\t\t\t\targs: [email, identity, grant],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tif (['advertiser', 'publisher'].includes(side)) {\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateEasterEggsAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\n\t\t\tprocess.env.EASTER_EGGS_VALUE\n\t\t) {\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updatePrivilegesWarningAccepted(accepted) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n","export const getErrorMsg = err => {\n\tif (!err) {\n\t\treturn ''\n\t} else if (typeof err === 'object') {\n\t\treturn err.msg || err.message || err.errMsg || err.error\n\t} else if (Array.isArray(err)) {\n\t\treturn err.join(', ')\n\t} else {\n\t\treturn err\n\t}\n}\n","import { parseUnits, bigNumberify } from 'ethers/utils'\n\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\n\tif (numStr === null || numStr === undefined) {\n\t\treturn numStr\n\t}\n\n\treturn parseUnits(numStr, decimals)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tuploadImage,\n\tpostAdUnit,\n\tpostAdSlot,\n\tupdateAdSlot,\n\tupdateAdUnit,\n\tupdateCampaign,\n} from 'services/adex-market/actions'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\n\nimport { translate } from 'services/translations/translations'\nimport { getAdUnits, getAdSlots } from 'services/adex-market/actions'\n\nimport initialState from 'store/initialState'\nimport { getMediaSize } from 'helpers/mediaHelpers'\nimport { getErrorMsg } from 'helpers/errors'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { SOURCES } from 'constants/targeting'\nimport { selectRelayerConfig, selectAuthSig, selectMainToken } from 'selectors'\n\nconst addToast = ({ type, toastStr, args, dispatch }) => {\n\treturn AddToastUi({\n\t\tdispatch: dispatch,\n\t\ttype: type,\n\t\tlabel: translate(toastStr, { args: args }),\n\t\ttimeout: 5000,\n\t})(dispatch)\n}\n\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\n\treturn fetch(tempUrl)\n\t\t.then(resp => {\n\t\t\treturn resp.blob()\n\t\t})\n\t\t.then(imgBlob => {\n\t\t\tURL.revokeObjectURL(tempUrl)\n\t\t\treturn uploadImage({\n\t\t\t\timageBlob: imgBlob,\n\t\t\t\timageName: 'image.jpeg',\n\t\t\t\tauthSig: authSig,\n\t\t\t})\n\t\t})\n}\n\nexport function updateNewItem(item, newValues, itemType, objModel) {\n\titem = Base.updateObject({ item, newValues, objModel })\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\titem,\n\t\t\titemType,\n\t\t})\n\t}\n}\n\nexport function resetNewItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function resetAllNewItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\n\t\t})\n\t}\n}\n\n// register item\nexport function addUnit(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\tauthSig,\n\t\t\t})).ipfs\n\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\n\t\t\tnewItem.mediaMime = newItem.temp.mime\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst resItem = await postAdUnit({\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\n\t\t\t\titemType: 'AdUnit',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function addSlot(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tlet fallbackUnit = null\n\t\t\tif (newItem.temp.useFallback) {\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\t\tauthSig,\n\t\t\t\t})).ipfs\n\n\t\t\t\tconst unit = new AdUnit({\n\t\t\t\t\ttype: newItem.type,\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\n\t\t\t\t\tmediaMime: newItem.temp.mime,\n\t\t\t\t\tcreated: Date.now(),\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t\tdescription: newItem.description,\n\t\t\t\t\ttargeting: [],\n\t\t\t\t\ttags: [],\n\t\t\t\t\tpassback: true,\n\t\t\t\t})\n\n\t\t\t\tconst resUnit = await postAdUnit({\n\t\t\t\t\tunit: unit.marketAdd,\n\t\t\t\t\tauthSig,\n\t\t\t\t})\n\n\t\t\t\tfallbackUnit = resUnit.ipfs\n\t\t\t}\n\n\t\t\tnewItem.fallbackUnit = fallbackUnit\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tif (newItem.minPerImpression) {\n\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: newItem.minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst resItem = await postAdSlot({\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\n\t\t\t\titemType: 'AdSlot',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function getAllItems() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { address } = account.identity\n\t\t\tconst units = getAdUnits({ identity: address })\n\t\t\tconst slots = getAdSlots({ identity: address })\n\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\n\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\n// Accepts the entire new item and replace so be careful!\nexport function updateItem({ item, itemType } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('update' + item.id, true)(dispatch)\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { authSig } = account.wallet\n\t\t\tconst { mainToken } = selectRelayerConfig()\n\n\t\t\tlet updatedItem = null\n\t\t\tlet objModel = null\n\n\t\t\tconst { id } = item\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tif (item.temp.minPerImpression) {\n\t\t\t\t\t\titem.minPerImpression = {\n\t\t\t\t\t\t\t[mainToken.address]: parseUnits(\n\t\t\t\t\t\t\t\titem.temp.minPerImpression,\n\t\t\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.div(bigNumberify(1000))\n\t\t\t\t\t\t\t\t.toString(),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst slot = new AdSlot(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\n\t\t\t\t\tobjModel = AdSlot\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tconst unit = new AdUnit(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\n\t\t\t\t\tobjModel = AdUnit\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tconst campaign = new Campaign(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\n\t\t\t\t\t\t.campaign\n\t\t\t\t\tobjModel = Campaign\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\n\t\t\t}\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\n\t\t\t\titemType,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\n\t\t\t\targs: [itemType, item.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\n\t}\n}\n\nexport function deleteItem({ item, objModel, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = true\n\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\n}\n\nexport function restoreItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\n\t\terrMsg: 'ERR_RESTORING_ITEM',\n\t})\n}\n\nconst findSourceByTag = tag => {\n\treturn Object.keys(SOURCES).find(\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\n\t)\n}\n\nexport function cloneItem({ item, itemType, objModel } = {}) {\n\treturn async function(dispatch) {\n\t\ttry {\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\n\t\t\tnewItem.id = ''\n\t\t\tnewItem.temp = {\n\t\t\t\t...initialState.newItem[itemType].temp,\n\t\t\t\ttargets: item.targeting.map((t, index) => {\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\tcollection: 'targeting',\n\t\t\t\t\t\tsource: key,\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\ttarget: { ...t },\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\n\t\t\t\tnewItem.mediaUrl,\n\t\t\t\tprocess.env.IPFS_GATEWAY\n\t\t\t)\n\n\t\t\tconst response = await fetch(tempUrl)\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\n\t\t\tconst mediaSize = await getMediaSize({\n\t\t\t\tmime: newItem.mediaMime,\n\t\t\t\tsrc: mediaURL,\n\t\t\t})\n\n\t\t\tconst temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t\tmime: item.mediaMime,\n\t\t\t\ttempUrl: mediaURL,\n\t\t\t\twidth: mediaSize.width,\n\t\t\t\theight: mediaSize.height,\n\t\t\t}\n\n\t\t\tnewItem.temp = temp\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\t\titem: newItem,\n\t\t\t\titemType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error(err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function archiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = true\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\n\t})\n}\n\nexport function unarchiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\n\t})\n}\n\nexport function setCurrentItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.SET_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function updateCurrentItem(item, newMeta) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t\tmeta: newMeta,\n\t\t})\n\t}\n}\n\nexport function updateItems({ items, itemType }) {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\n\t\t\titems: items,\n\t\t\titemType: itemType,\n\t\t})\n\t}\n}\n\nexport const resetAllItems = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_ITEMS,\n\t\t})\n\t}\n}\n\nexport const updateTags = ({ tags }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_TAGS,\n\t\t\ttags: tags,\n\t\t})\n\t}\n}\n\nexport const addNewTag = ({ tag }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_NEW_TAG,\n\t\t\ttag: tag,\n\t\t})\n\t}\n}\n","export const addSig = ({\n\taddr = '',\n\tsig,\n\tmode,\n\texpiryTime,\n\tidentity = 'notset',\n}) => {\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\n\t\tthrow new Error('addSig - all args are required')\n\t}\n\n\tlocalStorage.setItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\n\t\tsig + '-' + expiryTime\n\t)\n}\n\nexport const getSig = ({ addr = '', identity = '', mode }) => {\n\tlet sigAndTIme = localStorage.getItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\n\t)\n\n\tif (!sigAndTIme) {\n\t\treturn null\n\t}\n\n\tsigAndTIme = sigAndTIme.split('-')\n\tlet sig = sigAndTIme[0]\n\tlet time = sigAndTIme[1]\n\n\tif (!time || parseInt(time, 10) <= Date.now()) {\n\t\treturn null\n\t} else {\n\t\treturn sig\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { addSig, getSig } from 'services/auth/auth'\nimport { getSession, checkSession } from 'services/adex-market/actions'\nimport {\n\tgetRelayerConfigData,\n\tgetQuickWallet,\n\tbackupWallet,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { updateSpinner, updateGlobalUi } from './uiActions'\nimport { translate } from 'services/translations/translations'\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\nimport {\n\tremoveLegacyKey,\n\tgetWalletHash,\n\tgenerateSalt,\n\tgetRecoveryWalletData,\n} from 'services/wallet/wallet'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport {\n\tgetAccountStats,\n\tgetOutstandingBalance,\n} from 'services/smart-contracts/actions/stats'\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\nimport { addToast, confirmAction } from './uiActions'\nimport {\n\tgetEthers,\n\tgetEthereumProvider,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n} from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\nimport {\n\tselectAccount,\n\tselectIdentity,\n\tselectAuth,\n\tselectWallet,\n\tselectSearchParams,\n\tselectAuthType,\n\tselectAccountIdentity,\n\tselectLoginDirectSide,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { getErrorMsg } from 'helpers/errors'\nimport { push } from 'connected-react-router'\nimport {\n\tCREATING_SESSION,\n\tQUICK_WALLET_BACKUP,\n\tUPDATING_ACCOUNT_IDENTITY,\n} from 'constants/spinners'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\n// MEMORY STORAGE\nexport function updateSignin(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SIGNIN,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetSignin() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SIGNIN,\n\t\t})\n\t}\n}\n\n// PERSISTENT STORAGE\nexport function createAccount(acc) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CREATE_ACCOUNT,\n\t\t\taccount: acc,\n\t\t})\n\t}\n}\n\n// LOGOUT\nexport function resetAccount() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ACCOUNT,\n\t\t})\n\t}\n}\n\nexport function updateAccount({ meta, newValues }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ACCOUNT,\n\t\t\tmeta: meta,\n\t\t\tnewValues: newValues,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithBalanceAll(channels) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\n\t\t\tchannels,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithBalanceAll() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithOutstandingBalance(channels) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\t\t\tchannels,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithOutstandingBalance() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\t\t})\n\t}\n}\n\nexport function updateGasData({ gasData }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GAS_DATA,\n\t\t\tgasData: gasData,\n\t\t})\n\t}\n}\n\nexport function updateAccountStats() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst { identity, wallet } = account\n\t\t\tconst { address } = identity\n\t\t\tconst { all, withOutstandingBalance } = await getChannelsWithOutstanding({\n\t\t\t\tidentityAddr: address,\n\t\t\t\twallet,\n\t\t\t})\n\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\n\t\t\t\twallet,\n\t\t\t\taddress,\n\t\t\t\twithBalance: withOutstandingBalance,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\n\t\t\t})\n\n\t\t\tconst { formatted, raw } = await getAccountStats({\n\t\t\t\taccount,\n\t\t\t\toutstandingBalanceMainToken,\n\t\t\t})\n\t\t\tawait updateChannelsWithBalanceAll(all)(dispatch)\n\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\n\t\t\t\tdispatch\n\t\t\t)\n\t\t\tawait updateAccount({\n\t\t\t\tnewValues: { stats: { formatted, raw } },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_STATS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountIdentityData() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t\tconst identity = selectAccountIdentity(getState())\n\n\t\ttry {\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identity.address,\n\t\t\t\t})) || {}\n\n\t\t\tconst updatedIdentity = { ...identity }\n\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\n\t\t\tupdatedIdentity.relayerData = relayerData\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { identity: updatedIdentity },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t}\n}\n\nexport function updateValidatorAuthTokens({ newAuth }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { identity } = getState().persist.account\n\n\t\tconst newIdentity = { ...identity }\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\n\n\t\t// We don't want to update account if there is no actual change\n\t\tif (\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\n\t\t\tJSON.stringify(newTokens)\n\t\t) {\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\n\t\t}\n\t}\n}\n\nexport function createSession({\n\twallet,\n\tidentity = {},\n\temail,\n\tdeleteLegacyKey,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\n\t\ttry {\n\t\t\tconst newWallet = { ...wallet }\n\t\t\tconst sessionSignature =\n\t\t\t\tgetSig({\n\t\t\t\t\taddr: newWallet.address,\n\t\t\t\t\tmode: newWallet.authType,\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t}) || null\n\n\t\t\tconst hasSession =\n\t\t\t\t!!sessionSignature &&\n\t\t\t\t(await checkSession({\n\t\t\t\t\tauthSig: sessionSignature,\n\t\t\t\t\tskipErrToast: true,\n\t\t\t\t}))\n\n\t\t\tif (hasSession) {\n\t\t\t\tnewWallet.authSig = sessionSignature\n\t\t\t} else {\n\t\t\t\tconst {\n\t\t\t\t\tsignature,\n\t\t\t\t\tmode,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\n\n\t\t\t\tconst { status, expiryTime } = await getSession({\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tsignature,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t\tsignerAddress: newWallet.address,\n\t\t\t\t})\n\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\taddSig({\n\t\t\t\t\t\taddr: wallet.address,\n\t\t\t\t\t\tsig: signature,\n\t\t\t\t\t\tmode: wallet.authType,\n\t\t\t\t\t\texpiryTime: expiryTime,\n\t\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\t})\n\t\t\t\t\tnewWallet.authSig = signature\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst account = {\n\t\t\t\temail: email,\n\t\t\t\twallet: newWallet,\n\t\t\t\tidentity: { ...identity },\n\t\t\t}\n\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taccount.identity.validatorAuthTokens = {\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\n\t\t\t}\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { ...account },\n\t\t\t})(dispatch)\n\n\t\t\tif (deleteLegacyKey) {\n\t\t\t\tawait removeLegacyKey({\n\t\t\t\t\temail: wallet.email,\n\t\t\t\t\tpassword: wallet.password,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst side = selectLoginDirectSide(getState())\n\n\t\t\tif (['advertiser', 'publisher'].includes(side)) {\n\t\t\t\tdispatch(push(`/dashboard/${side}`))\n\t\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\n\t\t\t} else {\n\t\t\t\tdispatch(push('/side-select'))\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\n\t}\n}\n\nexport function getRelayerConfig() {\n\treturn async function(dispatch) {\n\t\tconst cfg = await getRelayerConfigData()\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\n\t\t\tcfg,\n\t\t})\n\t}\n}\n\nasync function getNetworkId() {\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\n\tconst networkId = (await provider.getNetwork()).chainId\n\n\treturn networkId\n}\n\nasync function getNetworkData({ id }) {\n\tconst networkId = id || (await getNetworkId())\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\n\n\treturn network\n}\n\nexport function onMetamaskNetworkChange({ id } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst searchParams = selectSearchParams(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst isMetamaskMatters =\n\t\t\t(authType === AUTH_TYPES.METAMASK.name ||\n\t\t\t\t(!authType && searchParams.get('external') === 'metamask')) &&\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name\n\n\t\tif (\n\t\t\tisMetamaskMatters &&\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\n\t\t) {\n\t\t\tconfirmAction(\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\ttitle: translate('WARNING'),\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)(dispatch)\n\t\t} else {\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\n\t\t}\n\t}\n}\n\nexport const onMetamaskAccountChange = accountAddress => {\n\treturn async function(_, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst account = selectAccount(state)\n\t\tconst { authType, address } = account.wallet\n\n\t\tif (\n\t\t\thasAuth &&\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\n\t\t\t(!accountAddress || address !== accountAddress)\n\t\t) {\n\t\t\tlogOut()\n\t\t} else if (!hasAuth) {\n\t\t\tconst identity = selectIdentity(state)\n\t\t\tconst { identityContractOwner } = identity\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\n\t\t}\n\t}\n}\n\nexport function metamaskAccountCheck() {\n\treturn async function(_, getState) {\n\t\tconst address = await ethereumSelectedAddress()\n\t\tonMetamaskAccountChange(address)(_, getState)\n\t}\n}\n\nexport function metamaskNetworkCheck() {\n\treturn async function(_, getState) {\n\t\tconst id = await ethereumNetworkId()\n\t\tonMetamaskNetworkChange({ id })(_, getState)\n\t}\n}\n\nexport function metamaskChecks() {\n\treturn async function(_, getState) {\n\t\tmetamaskNetworkCheck()(_, getState)\n\t\tmetamaskAccountCheck()(_, getState)\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\n\t\t\t\tconsole.log('acc changed', accounts[0])\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\n\t\t\t})\n\t\t\twindow.ethereum.on('networkChanged', network => {\n\t\t\t\tconsole.log('networkChanged', network)\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\n\t\t\t})\n\t\t}\n\t}\n}\n\nasync function hasBackup({ email, password }) {\n\tconst salt = generateSalt(email)\n\tconst hash = await getWalletHash({ salt, password })\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\n\n\treturn !!encryptedWallet && encryptedWallet.wallet\n}\n\nasync function makeBackup({ email, password, authType }) {\n\tconst walletSalt = generateSalt(email)\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\n\tconst encryptedWallet = await getRecoveryWalletData({\n\t\temail,\n\t\tpassword,\n\t\tauthType,\n\t})\n\n\tawait backupWallet({\n\t\temail,\n\t\tsalt: walletSalt,\n\t\thash: walletHash,\n\t\tencryptedWallet,\n\t})\n}\n\nexport function ensureQuickWalletBackup() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\n\t\ttry {\n\t\t\tconst { email, password, authType } = selectWallet(getState())\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\n\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\n\t\t\t\tawait makeBackup({ email, password, authType })\n\t\t\t}\n\t\t} catch (err) {}\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { updateSpinner } from './uiActions'\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\nimport { translate } from 'services/translations/translations'\nimport { addToast } from './uiActions'\nimport { bigNumberify, parseUnits } from 'ethers/utils'\nimport { validations, Joi, schemas, constants } from 'adex-models'\nimport { validEmail, validPassword } from 'helpers/validators'\nimport { t, selectAuthType } from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nimport { getEmail } from 'services/adex-relayer/actions'\nconst { IdentityPrivilegeLevel } = constants\n\nconst { campaignPut } = schemas\nconst { isNumberString } = validations\n\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\n\treturn async function(dispatch, getState) {\n\t\tconst authType = selectAuthType(getState())\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await validEthAddress({\n\t\t\t\taddr,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tnonERC20,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\n\t\t\tif (validate) {\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(name, false)(dispatch)\n\t}\n}\n\nexport function updateValidationErrors(item, newErrors) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\terrors: newErrors,\n\t\t})\n\t}\n}\n\nexport function resetValidationErrors(item, key) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\tkey,\n\t\t})\n\t}\n}\n\nexport function validate(\n\tvalidateId,\n\tkey,\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n) {\n\treturn async function(dispatch, getState) {\n\t\tif (!isValid) {\n\t\t\tlet errors = {}\n\t\t\terrors[key] = {\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\n\t\t\t\tdirty: dirty,\n\t\t\t}\n\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\n\t\t} else if (removeAll) {\n\t\t\tresetValidationErrors(validateId)(dispatch)\n\t\t} else {\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\n\t\t}\n\t}\n}\n\nexport const handleAfterValidation = async ({\n\tisValid,\n\tonValid,\n\tonInvalid,\n}) => {\n\tif (isValid && typeof onValid === 'function') {\n\t\tawait onValid()\n\t}\n\tif (!isValid && typeof onInvalid === 'function') {\n\t\tawait onInvalid()\n\t}\n}\n\nexport function validateEmail(validateId, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validEmail(email)\n\t\tvalidate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\n\t\tvalidate(validateId, 'emailCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateNotExistingEmail(validateId, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst { existing } = (await getEmail({ email })) || {}\n\t\tconst isValid = existing === false\n\t\tvalidate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'EMAIL_ALREADY_USED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePassword(validateId, password, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validPassword(password)\n\t\tvalidate(validateId, 'password', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePasswordCheck(\n\tvalidateId,\n\tpasswordCheck,\n\tpassword,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\n\t\tvalidate(validateId, 'passwordCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateTOS(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'tosCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateENS({ ens, dirty, validate, name }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { authType } = getState().persist.account.wallet\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await freeAdExENS({\n\t\t\t\tens,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\t\t\tupdateSpinner(name, false)(dispatch)\n\t\t\tif (validate)\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t} catch (error) {\n\t\t\tconsole.error('ERR_VALIDATING_ENS_ADDRESS', error)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ENS_ADDRESS', { args: [error] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\nexport function validateWallet(validateId, wallet, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!wallet && !!wallet.address\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateIdentityContractOwner(\n\tvalidateId,\n\tidentityContractOwner,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!identityContractOwner\n\t\tvalidate(validateId, 'identityContractOwner', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateAccessWarning(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'accessWarningCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignUnits(validateId, adUnits, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!adUnits && adUnits.length\n\t\tvalidate(validateId, 'adUnits', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\t!!validators &&\n\t\t\tvalidators.length === 2 &&\n\t\t\t!!validators[0] &&\n\t\t\t!!validators[1] &&\n\t\t\t!!validators[0].id &&\n\t\t\t!!validators[0].url &&\n\t\t\tvalidators[0].feeNum !== undefined &&\n\t\t\tvalidators[0].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined &&\n\t\t\t!!validators[1].id &&\n\t\t\t!!validators[1].url &&\n\t\t\tvalidators[1].feeNum !== undefined &&\n\t\t\tvalidators[1].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined\n\n\t\tvalidate(validateId, 'validators', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst validateAmounts = ({\n\tmaxDeposit = bigNumberify(0),\n\tdepositAmount,\n\tminPerImpression,\n}) => {\n\tlet error = null\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\n\t\terror = {\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\n\t\t\tprop: 'depositAmount',\n\t\t}\n\t}\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\n\t}\n\tif (depositAmount.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\n\t}\n\tif (minPerImpression.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateWithdrawAmount({\n\tvalidateId,\n\tamountToWithdraw,\n\tavailableIdentityBalanceMainTokenRaw,\n\tavailableIdentityBalanceMainTokenFormatted,\n\tdecimals,\n\tsymbol,\n\terrorMsg,\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tlet isValid = isNumberString(amountToWithdraw)\n\n\t\tlet msg = errorMsg || 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet args = []\n\t\tlet amount = isValid ? parseUnits(amountToWithdraw, decimals) : null\n\t\tif (errorMsg) {\n\t\t\tisValid = false\n\t\t\tmsg = errorMsg\n\t\t} else if (isValid && amount.isZero()) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\n\t\t} else if (\n\t\t\tisValid &&\n\t\t\tamount.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))\n\t\t) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\n\t\t}\n\n\t\tawait validate(validateId, 'amountToWithdraw', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateNumberString({ validateId, prop, value, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = isNumberString(value)\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_INVALID_AMOUNT' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignAmount({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\terrMsg,\n\tdepositAmount,\n\tminPerImpression,\n\tmaxDeposit,\n\tdecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValidNumber = isNumberString(value)\n\t\tlet isValid = isValidNumber && parseUnits(value, decimals)\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\n\n\t\tif (isValid) {\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\n\t\t\tconst min = prop === 'minPerImpression' ? value : minPerImpression\n\n\t\t\tconst isValidDeposit = isNumberString(deposit)\n\t\t\tconst isValidMin = isNumberString(min)\n\n\t\t\tif (isValidDeposit && isValidMin) {\n\t\t\t\tconst result = validateAmounts({\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\n\t\t\t\t})\n\n\t\t\t\tisValid = !result.error\n\t\t\t\tmsg = result.error ? result.error.message : ''\n\t\t\t}\n\t\t}\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\n\nconst getCampaignDatesValidation = ({\n\tcreated = Date.now(),\n\twithdrawPeriodStart,\n\tactiveFrom,\n}) => {\n\tlet error = null\n\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\n\t} else if (\n\t\twithdrawPeriodStart &&\n\t\tactiveFrom &&\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\n\t) {\n\t\terror = {\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\n\t\t\targs: ['1', 'HOUR'],\n\t\t\tprop: 'withdrawPeriodStart',\n\t\t}\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\n\t} else if (activeFrom && activeFrom < created) {\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\n\t} else if (activeFrom && !withdrawPeriodStart) {\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateCampaignDates({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\twithdrawPeriodStart,\n\tactiveFrom,\n\tcreated,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst withdraw =\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\n\n\t\tconst result = getCampaignDatesValidation({\n\t\t\twithdrawPeriodStart: withdraw,\n\t\t\tactiveFrom: from,\n\t\t\tcreated,\n\t\t})\n\n\t\tvalidate(validateId, 'activeFrom', {\n\t\t\tisValid: !!from,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\n\t\t\terr: {\n\t\t\t\tmsg: result.error ? result.error.message : '',\n\t\t\t\targs: result.error && (result.error.args || []),\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tconst isValid = !result.error\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignTitle({ validateId, title, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(title, campaignPut.title)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, 'title', {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEthAddress({\n\tvalidateId,\n\tprop,\n\taddr,\n\tnonZeroAddr = true,\n\tnonERC20 = true,\n\tdirty,\n\tauthType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { msg } = await validEthAddress({\n\t\t\taddr,\n\t\t\tnonZeroAddr,\n\t\t\tnonERC20,\n\t\t\tauthType,\n\t\t})\n\n\t\tconst isValid = !msg\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePrivilegesAddress({\n\tvalidateId,\n\tsetAddr = '',\n\twalletAddr = '',\n\tprivLevel,\n\tauthType,\n\twarningAccepted,\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isCurrentAddress =\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\n\t\tlet isValid = warningAccepted || !isCurrentAddress\n\n\t\tlet msg = ''\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\n\t\tif (isCurrentAddress && privLevel === 0) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\n\t\t} else if (isCurrentAddress && privLevel === 1) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\n\t\t\tisValid = true\n\t\t} else if (!isCurrentAddress) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tawait validate(validateId, 'setAddrWarning', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn { isValid, msg }\n\t}\n}\n\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\n\t\tawait validate(validateId, 'privLevel', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(value, schema)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { getQuickWallet } from 'services/adex-relayer/actions'\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\nimport {\n\tgetOwnerIdentities,\n\tregAccount,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { translate } from 'services/translations/translations'\nimport { createSession } from './accountActions'\n\nimport {\n\tgetIdentityDeployData,\n\twithdrawFromIdentity,\n\taddIdentityENS,\n\tsetIdentityPrivilege,\n\twithdrawOtherTokensFromIdentity,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddDataToWallet,\n\tgetWalletHash,\n\tgetLocalWallet,\n\tmigrateLegacyWallet,\n\twalletInfo,\n\tcreateLocalWallet,\n\tgenerateSalt,\n} from 'services/wallet/wallet'\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\nimport { selectAccount, selectIdentity, selectAuthType } from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\nimport {\n\tvalidate,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n\tvalidateWallet,\n\tvalidateIdentityContractOwner,\n\tvalidateAccessWarning,\n\tvalidateNotExistingEmail,\n} from './validationActions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tGETTING_OWNER_IDENTITIES,\n\tUPLOADING_ACCOUNT_DATA,\n} from 'constants/spinners'\nimport { getEthers } from 'services/smart-contracts/ethers'\n\n// MEMORY STORAGE\nexport function updateIdentity(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetIdentity() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\t}\n}\n\nexport function initIdentity({ email, authType }) {\n\treturn function(dispatch) {\n\t\tdispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\n\t\tdispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'email',\n\t\t\tvalue: email,\n\t\t})\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'authType',\n\t\t\tvalue: authType,\n\t\t})\n\t}\n}\n\n// MEMORY STORAGE\nexport function updateWallet(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WALLET,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetWallet() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WALLET,\n\t\t})\n\t}\n}\n\nexport function onUploadLocalWallet(event) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = ev => {\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\n\t\t\t\tif (\n\t\t\t\t\t!obj ||\n\t\t\t\t\t!obj.key ||\n\t\t\t\t\t!obj.wallet ||\n\t\t\t\t\t!obj.wallet.data ||\n\t\t\t\t\t!obj.wallet.identity ||\n\t\t\t\t\t!obj.wallet.privileges\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\n\t\t\t\t} else {\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\n\t\t\t\t\taddToast({\n\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\n\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t})(dispatch)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\t\targs: [err.message],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\t}\n\n\t\tconst onError = err => {\n\t\t\tconsole.error('Error uploading account data.', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\n\t\t}\n\n\t\treader.onerror = ev => {\n\t\t\treader.abort()\n\t\t\tonError(translate())\n\t\t}\n\n\t\treader.onabort = ev => {\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\n\t\t}\n\n\t\treader.readAsText(file)\n\t}\n}\n\nexport function setIdentityENS({ username }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await addIdentityENS({\n\t\t\t\tusername,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('ENS_SETUP_NOTIFICATION', { args: [username] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SETTING_ENS', {\n\t\t\t\t\targs: [err],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdrawAny({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n\ttokenDecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t\ttokenDecimals,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function ownerIdentities({ owner, authType }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\n\t\t\tconst data = Object.entries(identityData).map(\n\t\t\t\tasync ([identityAddr, privLevel]) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tidentity: identityAddr,\n\t\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\t\tens,\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\n\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\n\t}\n}\n\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await setIdentityPrivilege({\n\t\t\t\taccount,\n\t\t\t\tsetAddr,\n\t\t\t\tprivLevel,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function login() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tidentityData,\n\t\t\t\tidentityTxData,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t\tregisterAccount,\n\t\t\t} = selectIdentity(getState())\n\n\t\t\tif (registerAccount) {\n\t\t\t\tawait regAccount({\n\t\t\t\t\towner: wallet.address,\n\t\t\t\t\temail: email.toLowerCase(),\n\t\t\t\t\t...identityTxData,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identityData.address,\n\t\t\t\t})) || {}\n\n\t\t\tconst identity = {\n\t\t\t\t...identityData,\n\t\t\t\taddress: relayerData.deployData._id,\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\n\t\t\t\trelayerData,\n\t\t\t}\n\n\t\t\tawait createSession({\n\t\t\t\tidentity,\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t})(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateQuickLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { password, email, authType } = identity\n\n\t\tlet wallet = {}\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\n\t\tlet actualAuthType = authType\n\n\t\ttry {\n\t\t\tif (email && password) {\n\t\t\t\tlet walletData = await getLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t})\n\n\t\t\t\tif (!walletData) {\n\t\t\t\t\tconst salt = generateSalt(email)\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\n\t\t\t\t\tconst { encryptedWallet } =\n\t\t\t\t\t\t(await getQuickWallet({\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t})) || {}\n\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbackupWallet.wallet &&\n\t\t\t\t\t\tbackupWallet.key &&\n\t\t\t\t\t\tbackupWallet.wallet.data &&\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\n\t\t\t\t\t\tbackupWallet.wallet.privileges\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\n\t\t\t\t\t\tactualAuthType = info.authType\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\n\n\t\t\t\t\t\twalletData = await getLocalWallet({\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword,\n\t\t\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\n\t\t\t\t\twallet = { ...walletData.data }\n\t\t\t\t\twallet.email = email\n\t\t\t\t\twallet.password = password\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\n\t\t\t\t\twallet.identity = {\n\t\t\t\t\t\taddress: walletData.identity,\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!authType) {\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\n\t\t\terror = err\n\t\t}\n\n\t\tconst isValid = !!wallet.address\n\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait login()(dispatch, getState)\n\t\t}\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateStandardLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst identity = selectIdentity(getState())\n\t\t\tconst { wallet, identityContractAddress } = identity\n\t\t\tconst { address } = wallet\n\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\n\t\t\tconst identityData = {\n\t\t\t\taddress: identityDataSplit[0],\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\n\t\t\t}\n\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\tconst isValid = !!identityData.address\n\n\t\t\tvalidate(validateId, 'identityContractAddress', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\n\t\t\t\tdirty: dirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\n\treturn async function(dispatch, getState) {\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, wallet } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\n\t\t\tif (!identityAddr && wallet && !!email) {\n\t\t\t\tconst walletAddr = wallet.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: txData.identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_FULL_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickDeploy({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, password } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && email && password\n\n\t\t\tif (!identityAddr && email && password) {\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\n\n\t\t\t\tconst walletData = await createLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t})\n\n\t\t\t\twalletData.email = email\n\t\t\t\twalletData.password = password\n\n\t\t\t\tconst walletAddr = walletData.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\n\t\t\t\tconst identityAddr = txData.identityAddr\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'identity',\n\t\t\t\t\tdataValue: identityAddr,\n\t\t\t\t})\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'privileges',\n\t\t\t\t\tdataValue: identityData.privileges,\n\t\t\t\t})\n\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = !!identityAddr\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\tpassword,\n\t\t\tpasswordCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t\tvalidateNotExistingEmail(validateId, email, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t}\n\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\twallet,\n\t\t\tidentityContractOwner,\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\t// validate wallet again in case of step skip\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\n\t\t\t// validate step fields\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t\tvalidateNotExistingEmail(validateId, email, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateFullDeploy({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tskipSpinnerUpdate: true,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateContractOwner({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityContractOwner, wallet } = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityWallet({\n\taddress,\n\tauthType,\n\thdWalletAddrPath,\n\thdWalletAddrIdx,\n\tpath,\n\tchainId,\n\tsignType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst wallet = {\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}\n\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\n\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t}\n}\n\nexport function handleSignupLink(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('signup-email')\n\n\t\tif (email) {\n\t\t\tupdateIdentity('email', email)(dispatch)\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\n\t\t}\n\t}\n}\n\nexport function resolveEnsAddress({ address }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst authType = selectAuthType(state)\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst name = await provider.lookupAddress(address)\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\n\t\t\t\titem: address,\n\t\t\t\tvalue: name,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_RESOLVING_ENS_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewBid({ bidId, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewBid({ bidId }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\n\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_BIDS,\n\t\t\tadvBids: advBids,\n\t\t\tpubBids: pubBids,\n\t\t\tbidsById: bidsById,\n\t\t})\n\t}\n}\nexport const resetAllBids = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_BIDS,\n\t\t})\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tupdateSpinner,\n\taddToast,\n\thandleAfterValidation,\n\tvalidate,\n\tupdateAccountIdentityData,\n\tvalidateEthAddress,\n\tvalidatePrivilegesAddress,\n\tvalidatePrivLevel,\n\tvalidateWithdrawAmount,\n} from 'actions'\nimport {\n\tselectNewTransactionById,\n\tselectWalletAddress,\n\tselectAuthType,\n\tselectAccount,\n\tselectAccountStatsFormatted,\n\tselectAccountStatsRaw,\n\tselectMainToken,\n} from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\n\nimport { withdrawFromIdentity } from 'services/smart-contracts/actions/identity'\n\n// MEMORY STORAGE\nexport function updateNewTransaction({ tx, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetAllNewTransaction() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\n\t\t})\n\t}\n}\n\nexport function resetNewTransaction({ tx }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\nexport function addWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\tif (!tx || !tx.hash || !addr) return\n\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\n\t\t\tvalue: tx,\n\t\t\ttx: tx.hash,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\n// TODO: make update multiple\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function resetWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function validatePrivilegesChange({\n\tstepsId,\n\tvalidateId,\n\ttxId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateAccountIdentityData()(dispatch, getState)\n\n\t\tconst state = getState()\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: setAddr,\n\t\t\t\tprop: 'setAddr',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidatePrivLevel({\n\t\t\t\tvalidateId,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst validation = await validatePrivilegesAddress({\n\t\t\t\tvalidateId,\n\t\t\t\tsetAddr,\n\t\t\t\twalletAddr,\n\t\t\t\twarningAccepted,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t\tauthType,\n\t\t\t})(dispatch)\n\n\t\t\tisValid = validation.isValid\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'warningMsg',\n\t\t\t\tvalue: validation.msg,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateIdentityWithdraw({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateAccountIdentityData()(dispatch, getState)\n\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\t\tconst { symbol, decimals } = selectMainToken(state)\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\n\t\t} = selectAccountStatsRaw(state)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\n\t\t} = selectAccountStatsFormatted(state)\n\n\t\t// const walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: withdrawTo,\n\t\t\t\tprop: 'withdrawTo',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateWithdrawAmount({\n\t\t\t\tvalidateId,\n\t\t\t\tamountToWithdraw,\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\n\t\t\t\tdecimals,\n\t\t\t\tsymbol,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\ttry {\n\t\t\t\tconst feesData = await withdrawFromIdentity({\n\t\t\t\t\taccount,\n\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t})\n\n\t\t\t\tawait updateNewTransaction({\n\t\t\t\t\ttx: stepsId,\n\t\t\t\t\tkey: 'feesData',\n\t\t\t\t\tvalue: feesData,\n\t\t\t\t})(dispatch, getState)\n\t\t\t} catch (err) {\n\t\t\t\tisValid = false\n\n\t\t\t\tawait validateWithdrawAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\tavailableIdentityBalanceMainTokenRaw,\n\t\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\n\t\t\t\t\tdecimals,\n\t\t\t\t\tsymbol,\n\t\t\t\t\terrorMsg: getErrorMsg(err),\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import moment from 'moment'\n\nexport const intervalsMs = () => {\n\tconst nowUTC = moment.utc()\n\n\t// TODO: Make it dynamic\n\tconst lastSixHoursPeriod = Math.floor(\n\t\t(nowUTC.clone().valueOf() - nowUTC.clone().startOf('day')) /\n\t\t\t(6 * 60 * 60 * 1000)\n\t)\n\treturn {\n\t\tlastHour: {\n\t\t\tstart: moment()\n\t\t\t\t.startOf('minute')\n\t\t\t\t.subtract(1, 'hours'),\n\t\t\tend: moment().startOf('minute'),\n\t\t},\n\t\tlast24Hours: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'day')\n\t\t\t\t.startOf('hour')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.startOf('hour')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlast7Days: {\n\t\t\tstart: nowUTC\n\t\t\t\t.clone()\n\t\t\t\t.startOf('day')\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\n\t\t\t\t.subtract(7, 'days')\n\t\t\t\t.valueOf(),\n\t\t\tend: nowUTC\n\t\t\t\t.clone()\n\t\t\t\t.startOf('day')\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\n\t\t\t\t.add(2, 'hours')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tthisWeek: {\n\t\t\tstart: moment()\n\t\t\t\t.utc()\n\t\t\t\t.startOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.utc()\n\t\t\t\t.endOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlastWeek: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'week')\n\t\t\t\t.startOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.subtract(1, 'week')\n\t\t\t\t.endOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tthisMonth: {\n\t\t\tstart: moment()\n\t\t\t\t.startOf('month')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.endOf('month')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlastMonth: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'month')\n\t\t\t\t.startOf('month')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.subtract(1, 'month')\n\t\t\t\t.endOf('month')\n\t\t\t\t.valueOf(),\n\t\t},\n\t}\n}\n\nexport const fillEmptyTime = (prevAggr, timeframe, defaultValue) => {\n\tconst intervals = intervalsMs()\n\tconst time = {\n\t\tinterval: intervals.lastHour,\n\t\tstep: { ammount: 1, unit: 'minute' },\n\t}\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\ttime.interval = intervals.lastHour\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\ttime.interval = intervals.last24Hours\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\ttime.interval = intervals.last7Days\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn prevAggr\n\t}\n\tconst newAggr = []\n\tfor (\n\t\tvar m = moment(time.interval.start);\n\t\tm.diff(time.interval.end, time.step.unit) <= 0;\n\t\tm.add(time.step.ammount, time.step.unit)\n\t) {\n\t\tnewAggr.push({ value: defaultValue, time: m.unix() * 1000 })\n\t}\n\n\tconst data = [...prevAggr, ...newAggr].reduce((data, a) => {\n\t\tconst newData = { ...data }\n\t\tconst value = data[a.time] || a.value || defaultValue\n\t\tnewData[a.time] = value\n\n\t\treturn newData\n\t}, {})\n\n\tconst result = Object.entries(data)\n\t\t.map(([key, value]) => ({\n\t\t\tvalue,\n\t\t\ttime: +key,\n\t\t}))\n\t\t.sort((a, b) => a.time - b.time)\n\n\treturn result\n}\n\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\n","import { bigNumberify } from 'ethers/utils'\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\nimport { formatTokenAmount } from 'helpers/formatters'\n\nimport { getAllCampaigns } from './actions'\n\nexport async function getUnitsStatsByType() {\n\tconst { decimals } = selectMainToken()\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst allChannels = await getAllCampaigns()\n\n\tconst channels = allChannels.filter(\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\n\t)\n\n\tconst unitsByType = channels.reduce((units, channel) => {\n\t\tconst byType = { ...units }\n\t\tchannel.spec.adUnits.forEach(unit => {\n\t\t\tbyType[unit.type] = byType[unit.type] || []\n\t\t\tbyType[unit.type].push(channel)\n\t\t})\n\n\t\treturn byType\n\t}, {})\n\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\n\t\tasync (prevStats, key) => {\n\t\t\tconst stats = await prevStats\n\t\t\tconst channelsByType = unitsByType[key]\n\n\t\t\tlet totalPerImpression = bigNumberify('0')\n\t\t\tlet totalVolume = bigNumberify('0')\n\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\n\t\t\t\tconst channel = channelsByType[index]\n\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\n\t\t\t\t})\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\n\t\t\t\t})\n\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\n\t\t\t}\n\n\t\t\tconst avgPerImpression = totalPerImpression.div(\n\t\t\t\tbigNumberify(channelsByType.length)\n\t\t\t)\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\n\n\t\t\tconst statsByType = { ...stats }\n\t\t\tstatsByType[key] = {}\n\t\t\tstatsByType[key].raw = {\n\t\t\t\ttotalVolume,\n\t\t\t\tavgPerImpression,\n\t\t\t\tavgCPM,\n\t\t\t}\n\n\t\t\tstatsByType[key].formatted = {\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\n\t\t\t\tavgPerImpression: formatTokenAmount(\n\t\t\t\t\tavgPerImpression,\n\t\t\t\t\tdecimals,\n\t\t\t\t\tfalse,\n\t\t\t\t\t2\n\t\t\t\t),\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\n\t\t\t}\n\n\t\t\treturn statsByType\n\t\t},\n\t\tPromise.resolve({})\n\t)\n\n\treturn unitsByTypeStats\n}\n","import * as types from 'constants/actionTypes'\nimport throttle from 'lodash.throttle'\nimport { addToast, removeToast, updateSpinner } from 'actions'\nimport { translate } from 'services/translations/translations'\nimport {\n\tgetValidatorAuthToken,\n\tidentityAnalytics,\n\tidentityCampaignsAnalytics,\n} from 'services/adex-validator/actions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport {\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n} from 'constants/misc'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport { getErrorMsg } from 'helpers/errors'\nimport { fillEmptyTime } from 'helpers/timeHelpers'\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\nimport {\n\tselectChannelsWithUserBalancesAll,\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectSide,\n\tselectAccount,\n\tselectAnalyticsTimeframe,\n} from 'selectors'\nimport { bigNumberify } from 'ethers/utils'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\nconst analyticsParams = (timeframe, side) => {\n\tconst callsParams = []\n\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\n\t\t\tcallsParams.push({\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tside,\n\t\t\t\teventType,\n\t\t\t\t...(side === 'publisher' &&\n\t\t\t\t\tmetric === 'eventPayouts' && { segmentByChannel: true }),\n\t\t\t})\n\t\t)\n\t)\n\n\treturn callsParams\n}\n\nconst analyticsCampaignsParams = () => {\n\tconst callsParams = []\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tcallsParams.push({ eventType })\n\t)\n\treturn callsParams\n}\n\n// getIdentityStatistics tooks to long some times\n// if the account is change we do not update the account\n// TODO: we can use something for abortable tasks\nfunction checkAccountChanged(getState, account) {\n\tconst accountCheck = getState().persist.account\n\tconst accountChanged =\n\t\t!accountCheck.wallet.address ||\n\t\taccountCheck.wallet.address !== account.wallet.address ||\n\t\t!accountCheck.identity.address ||\n\t\t!accountCheck.identity.address !== !account.identity.address\n\n\treturn accountChanged\n}\n\nfunction aggrByChannelsSegments({\n\taggr,\n\tallChannels,\n\tfeeTokens,\n\twithdrawTokens,\n}) {\n\tif (!Object.keys(allChannels).length) {\n\t\treturn []\n\t}\n\t// NOTE: No need to sort them again because fillEmptyTime\n\t// is sorting by time after adding the empty time values\n\tconst { aggregations, all } = aggr\n\t\t.sort((a, b) => b.time - a.time)\n\t\t.reduce(\n\t\t\t(data, a) => {\n\t\t\t\tconst { time } = a\n\t\t\t\tconst { aggregations, channels, all } = data\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\n\n\t\t\t\tconst { depositAmount, balanceNum, depositAsset, status } =\n\t\t\t\t\tallChannels[channelId] || {}\n\n\t\t\t\tconst { minPlatform, minFinal } = withdrawTokens[depositAsset]\n\t\t\t\tconst { min } = feeTokens[depositAsset]\n\t\t\t\tconst isExpired = status === 'Expired'\n\t\t\t\tconst minBalance = isExpired ? minFinal : minPlatform\n\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\n\n\t\t\t\tconst value = bigNumberify(a.value || 0)\n\t\t\t\t\t.mul(bigNumberify(balanceNum || 1))\n\t\t\t\t\t.div(bigNumberify(depositAmount || 1))\n\n\t\t\t\tcurrent.aggr.push({ value, time })\n\n\t\t\t\tconst currentAggr = aggregations[time] || {\n\t\t\t\t\ttime,\n\t\t\t\t\tvalue: bigNumberify(0),\n\t\t\t\t}\n\t\t\t\tconst currentChannelValue = bigNumberify(current.value || 0).add(value)\n\n\t\t\t\tconst hasMinBalance = currentChannelValue.gt(bigNumberify(minBalance))\n\t\t\t\tconst currentTimeValue = currentAggr.value\n\n\t\t\t\tcurrent.value = currentChannelValue\n\n\t\t\t\tif (hasMinBalance && !current.feeSubtracted) {\n\t\t\t\t\tcurrent.feeSubtracted = true\n\t\t\t\t\tconst currentAvailable = currentChannelValue.sub(bigNumberify(min))\n\t\t\t\t\tconst currentAdded = bigNumberify(0)\n\t\t\t\t\tconst points = current.aggr\n\n\t\t\t\t\tfor (let index = points.length - 1; index >= 0; index--) {\n\t\t\t\t\t\tconst point = points[index]\n\t\t\t\t\t\tcurrentAdded.add(point.value)\n\n\t\t\t\t\t\tconst curInnerAggr = aggregations[point.time] || {\n\t\t\t\t\t\t\ttime,\n\t\t\t\t\t\t\tvalue: bigNumberify(0),\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (currentAdded.lt(currentAvailable)) {\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(point.value)\n\t\t\t\t\t\t\taggregations[point.time] = curInnerAggr\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(\n\t\t\t\t\t\t\t\tcurrentAdded.sub(currentAvailable)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\taggregations[point.time] = curInnerAggr\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t} else if (hasMinBalance && current.feeSubtracted) {\n\t\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\n\t\t\t\t}\n\n\t\t\t\tchannels[channelId] = current\n\t\t\t\taggregations[time] = currentAggr\n\t\t\t\tall[time] = a.value || all[time]\n\n\t\t\t\treturn { aggregations, channels, all }\n\t\t\t},\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\n\t\t)\n\n\t// NOTE: force to null values when value under limits but not naturally 0\n\tconst aggrWithNullValues = Object.values(aggregations).map(\n\t\t({ time, value }) => {\n\t\t\tconst isNull =\n\t\t\t\tall[time] === undefined ||\n\t\t\t\t(bigNumberify(value).isZero() && all[time] !== '0')\n\t\t\treturn { time, value: isNull ? null : value }\n\t\t}\n\t)\n\n\treturn aggrWithNullValues\n}\n\nexport function updateAccountAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\n\t\tconst side = selectSide(state)\n\t\tconst timeframe = selectAnalyticsTimeframe(state)\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsParams(timeframe, side)\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tidentityAnalytics({\n\t\t\t\t\t...opts,\n\t\t\t\t\tleaderAuth,\n\t\t\t\t})\n\t\t\t\t\t.then(({ aggregates, metric }) => {\n\t\t\t\t\t\tconst aggrByChannelSegments =\n\t\t\t\t\t\t\tside === 'publisher' && metric === 'eventPayouts'\n\t\t\t\t\t\tlet aggr = aggrByChannelSegments\n\t\t\t\t\t\t\t? aggrByChannelsSegments({\n\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\n\t\t\t\t\t\t\t\t\tallChannels,\n\t\t\t\t\t\t\t\t\tfeeTokens,\n\t\t\t\t\t\t\t\t\twithdrawTokens,\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t: aggregates.aggr\n\n\t\t\t\t\t\tconst defaultValue = aggrByChannelSegments ? null : 0\n\n\t\t\t\t\t\taggregates.aggr = fillEmptyTime(aggr, timeframe, defaultValue)\n\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\n\n\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\n\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\tvalue: { ...aggregates },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountCampaignsAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsCampaignsParams()\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\ttry {\n\t\t\t\t\tconst value = await identityCampaignsAnalytics({\n\t\t\t\t\t\t...opts,\n\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t})\n\n\t\t\t\t\taccountChanged =\n\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\n\n\t\t\t\t\treturn { opts, value }\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\n\t\t\t\t\treturn null\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconst data = await Promise.all(allAnalytics)\n\n\t\t\tif (!accountChanged) {\n\t\t\t\tdata\n\t\t\t\t\t.filter(x => !!x)\n\t\t\t\t\t.forEach(({ opts, value }) =>\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_CAMPAIGN_ANALYTICS,\n\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAnalyticsTimeframe(timeframe) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\n\t\t\t\tvalue: timeframe,\n\t\t\t})\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function resetAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ANALYTICS,\n\t\t})\n\t}\n}\n\nexport const updateSlotsDemand = throttle(\n\tasync function(dispatch) {\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\n\t\ttry {\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\n\t\t\t\tvalue: demandAnalytics,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\n\t},\n\t5 * 60 * 1000,\n\t{ leading: true, trailing: false }\n)\n\nexport const updateSlotsDemandThrottled = () => dispatch => {\n\treturn updateSlotsDemand(dispatch)\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\texecute,\n\taddToast,\n\tupdateSpinner,\n\tupdateItems,\n\tupdateValidatorAuthTokens,\n\tupdateNewItem,\n\thandleAfterValidation,\n\tvalidateCampaignValidators,\n\tvalidateCampaignAmount,\n\tvalidateCampaignTitle,\n\tvalidateCampaignDates,\n\tvalidateCampaignUnits,\n\tconfirmAction,\n\tupdateSelectedCampaigns,\n} from 'actions'\nimport { push } from 'connected-react-router'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\nimport { getCampaigns } from 'services/adex-market/actions'\nimport {\n\topenChannel,\n\tcloseChannel,\n} from 'services/smart-contracts/actions/core'\nimport { lastApprovedState } from 'services/adex-validator/actions'\nimport { closeCampaignMarket } from 'services/adex-market/actions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectAccount,\n\tselectNewCampaign,\n\tselectAuthSig,\n\tselectAuth,\n\tselectMainToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { Campaign } from 'adex-models'\nimport {\n\tOPENING_CAMPAIGN,\n\tGETTING_CAMPAIGNS_FEES,\n\tPRINTING_CAMPAIGNS_RECEIPTS,\n} from 'constants/spinners'\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\n\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\n\nexport function openCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tawait getAllValidatorsAuthForIdentity({\n\t\t\t\twithBalance: [{ channel: campaign }],\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tconst { storeCampaign } = await openChannel({\n\t\t\t\tcampaign,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: storeCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\n\t\t\t\t\targs: [storeCampaign.id],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\n\t\treturn true\n\t}\n}\n\nexport const updateCampaignState = ({ campaign }) => {\n\treturn async dispatch => {\n\t\ttry {\n\t\t\tconst state = await lastApprovedState({ campaign })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.state = state\n\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\n// TEMP for testing in production until 4.1 is deployed\nfunction getHumanFriendlyName(campaign) {\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\n\t\treturn 'Closed'\n\tswitch ((campaign.status || {}).name) {\n\t\tcase 'Active':\n\t\tcase 'Ready':\n\t\tcase 'Pending':\n\t\tcase 'Initializing':\n\t\tcase 'Waiting':\n\t\tcase 'Offline':\n\t\tcase 'Disconnected':\n\t\tcase 'Unhealthy':\n\t\tcase 'Invalid':\n\t\t\treturn 'Active'\n\t\tcase 'Expired':\n\t\tcase 'Exhausted':\n\t\tcase 'Withdraw':\n\t\t\treturn 'Completed'\n\t\tdefault:\n\t\t\treturn 'N/A'\n\t}\n}\n\nexport function updateUserCampaigns() {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst { wallet, identity } = selectAccount(state)\n\t\tconst { authSig } = wallet\n\t\tconst { address } = identity\n\n\t\tif (hasAuth && authSig && address) {\n\t\t\ttry {\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\n\t\t\t\tlet campaignsMapped = campaigns\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => {\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\n\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn campaign\n\t\t\t\t\t})\n\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: campaignsMapped,\n\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t})(dispatch)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\n\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\n\t\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function closeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CLOSING_CAMPAIGN',\n\t\t\t\targs: [campaign.id],\n\t\t\t})\n\t\t\tupdateUserCampaigns(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\n\t}\n}\n\nexport function updateNewCampaign(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tconst currentCampaign = selectNewCampaign(getState())\n\t\tawait updateNewItem(\n\t\t\tcurrentCampaign,\n\t\t\tnewValues || { [prop]: value },\n\t\t\t'Campaign',\n\t\t\tCampaign\n\t\t)(dispatch)\n\t}\n}\n\nconst tempValidators = [\n\t{\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\n\t},\n\t{\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\n\t},\n]\n\nexport function validateNewCampaignAdUnits({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst campaign = selectNewCampaign(state)\n\t\tconst { adUnits } = campaign\n\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewCampaignFinance({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst {\n\t\t\t\tvalidators,\n\t\t\t\tdepositAmount,\n\t\t\t\tminPerImpression,\n\t\t\t\ttitle,\n\t\t\t\tactiveFrom,\n\t\t\t\twithdrawPeriodStart,\n\t\t\t\tcreated,\n\t\t\t\ttemp = {},\n\t\t\t} = campaign\n\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\n\n\t\t\tconst newCampaign = { ...campaign }\n\n\t\t\tif (!validators || !validators.length) {\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\n\t\t\t\tnewCampaign.validators = tempValidators\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\tvalue: depositAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tminPerImpression,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\tvalue: minPerImpression,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tminPerImpression,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'activeFrom',\n\t\t\t\t\tvalue: activeFrom,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'withdrawPeriodStart',\n\t\t\t\t\tvalue: withdrawPeriodStart,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (typeof maxChannelFees !== 'string') {\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\n\t\t\t\tconst account = selectAccount(state)\n\n\t\t\t\tconst {\n\t\t\t\t\tfeesFormatted,\n\t\t\t\t\tmaxAvailable,\n\t\t\t\t\tmaxAvailableFormatted,\n\t\t\t\t} = await openChannel({\n\t\t\t\t\tcampaign: { ...newCampaign },\n\t\t\t\t\taccount,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\tgetMaxFees: true,\n\t\t\t\t})\n\n\t\t\t\tconst newTemp = { ...temp }\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\n\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function getCampaignActualFees() {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst mainToken = selectMainToken(state)\n\t\t\tconst { temp = {}, depositAmount } = campaign\n\n\t\t\tconst account = selectAccount(state)\n\n\t\t\tconst { feesFormatted, fees } = await openChannel({\n\t\t\t\tcampaign: { ...campaign },\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\n\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\n\t\t\t\ttotalSpend.toString(),\n\t\t\t\tmainToken.decimals || 18,\n\t\t\t\tfalse,\n\t\t\t\ttrue\n\t\t\t)\n\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.feesFormatted = feesFormatted\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\n\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t}\n}\n\nexport function handlePrintSelectedReceipts(selected) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\n\t\tconfirmAction(\n\t\t\tasync () => {\n\t\t\t\tawait updateSelectedCampaigns(selected)(dispatch, getState)\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\n\t\t\t},\n\t\t\tasync () => {\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\n\t\t\t}\n\t\t)(dispatch, getState)\n\t}\n}\n","import {\n\tupdateSpinner,\n\tupdateNewItem,\n\thandleAfterValidation,\n\tvalidateSchemaProp,\n\tvalidateNumberString,\n} from 'actions'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { selectMainToken, selectNewAdSlot } from 'selectors'\nimport { AdSlot, schemas } from 'adex-models'\n\nconst { adSlotPost } = schemas\n\nexport function updateNewSlot(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst currentSlot = selectNewAdSlot(state)\n\t\tawait updateNewItem(\n\t\t\tcurrentSlot,\n\t\t\tnewValues || { [prop]: value },\n\t\t\t'AdSlot',\n\t\t\tAdSlot\n\t\t)(dispatch)\n\t}\n}\n\nexport function validateNewSlotBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst mainToken = selectMainToken()\n\t\tconst state = getState()\n\t\tconst slot = selectNewAdSlot(state)\n\t\tconst { title, description, type, minPerImpression = null } = slot\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: title,\n\t\t\t\tprop: 'title',\n\t\t\t\tschema: adSlotPost.title,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: description,\n\t\t\t\tprop: 'description',\n\t\t\t\tschema: adSlotPost.description,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: type,\n\t\t\t\tprop: 'type',\n\t\t\t\tschema: adSlotPost.type,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: 'minPerImpression',\n\t\t\t\tvalue: minPerImpression || '0',\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tisValid = await validateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\tprop: 'minPerImpression',\n\t\t\t\tschema: adSlotPost.minPerImpression,\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import * as common from './common'\nimport * as itemActions from './itemActions'\nimport * as uiActions from './uiActions'\nimport * as accountActions from './accountActions'\nimport * as identityActions from './identityActions'\nimport * as bidActions from './bidActions'\nimport * as transactionActions from './transactionActions'\nimport * as validationActions from './validationActions'\nimport * as analyticsActions from './analyticsActions'\nimport * as campaignActions from './campaignActions'\nimport * as newItemsActions from './newItemsActions'\n\n// keep it for class components that use connect and actions prop\n// without needing to change the code\nexport default {\n\t...common,\n\t...itemActions,\n\t...uiActions,\n\t...accountActions,\n\t...identityActions,\n\t...bidActions,\n\t...transactionActions,\n\t...validationActions,\n\t...analyticsActions,\n\t...campaignActions,\n\t...newItemsActions,\n}\n\n// used for minimal deps in hook components\n// import { execute, addTost } from 'actions'\n// execute(addTost())\nexport * from './common'\nexport * from './itemActions'\nexport * from './uiActions'\nexport * from './accountActions'\nexport * from './identityActions'\nexport * from './bidActions'\nexport * from './transactionActions'\nexport * from './validationActions'\nexport * from './analyticsActions'\nexport * from './campaignActions'\nexport * from './newItemsActions'\n","export const CREATING_SESSION = 'CREATING_SESSION'\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\n","import { ethers, utils, Contract } from 'ethers'\nimport { contracts } from './contractsCfg'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { selectRelayerConfig } from 'selectors'\n\nethers.errors.setLogLevel('error')\n\nconst { AdExCore, Identity, IdentityFactory } = contracts\n\nconst getAdexCore = provider => {\n\tconst { coreAddr } = selectRelayerConfig()\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\n}\n\nconst getMainToken = provider => {\n\tconst { mainToken = {} } = selectRelayerConfig()\n\treturn new Contract(\n\t\tmainToken.address,\n\t\tcontracts[mainToken.standard].abi,\n\t\tprovider\n\t)\n}\n\nconst getToken = ({ provider, standard, address }) => {\n\treturn new Contract(address, contracts[standard].abi, provider)\n}\n\nconst getIdentity = ({ provider, address }) => {\n\tconst identityContract = new Contract(address, Identity.abi, provider)\n\n\treturn identityContract\n}\n\nconst getIdentityFactory = provider => {\n\tconst { identityFactoryAddr } = selectRelayerConfig()\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\n}\n\nconst getEthersResult = provider => {\n\tconst adexCore = getAdexCore(provider)\n\tconst mainToken = getMainToken(provider)\n\tconst identityFactory = getIdentityFactory(provider)\n\n\tconst results = {\n\t\tprovider,\n\t\tAdExCore: adexCore,\n\t\tIdentity: Identity,\n\t\tDai: mainToken,\n\t\tMainToken: mainToken,\n\t\tIdentityFactory: identityFactory,\n\t\tgetToken: ({ standard, address }) =>\n\t\t\tgetToken({ provider, standard, address }),\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\n\t}\n\n\treturn results\n}\n\nconst localWeb3 = () => {\n\tconst provider = new ethers.providers.JsonRpcProvider(\n\t\tprocess.env.WEB3_NODE_ADDR\n\t)\n\treturn getEthersResult(provider)\n}\n\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\n\twindow.addEventListener('load', () => {\n\t\tconst ethereum = window.ethereum\n\t\tconst web3 = window.web3\n\t\treturn resolve({\n\t\t\tethereum,\n\t\t\tweb3,\n\t\t})\n\t})\n})\n\nconst injectedWeb3 = async () => {\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\n\tlet provider = null\n\n\tif (ethereum) {\n\t\ttry {\n\t\t\tawait ethereum.enable()\n\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\n\n\t\t\treturn getEthersResult(provider)\n\t\t} catch (err) {\n\t\t\tconsole.error('Err getting injected ethereum.', err)\n\t\t\tthrow new Error(err.message)\n\t\t}\n\t}\n\t// Legacy dapp browsers...\n\t// TODO: we just have to throw or show notification\n\t// At the moment if it throws it will show error toast but not always.\n\telse if (web3) {\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t} else {\n\t\tconsole.error('Non-Ethereum browser detected.')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t}\n}\n\nconst getLocalWeb3 = async () => {\n\t// console.log('getLocalWeb3')\n\treturn localWeb3()\n}\n\nconst getEthers = mode => {\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\n\t *   and this results in Trezor popup block by the browser\n\t */\n\tif (mode === AUTH_TYPES.METAMASK.name) {\n\t\treturn injectedWeb3()\n\t} else {\n\t\treturn getLocalWeb3()\n\t}\n}\n\nconst ethereumSelectedAddress = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum && ethereum.selectedAddress) {\n\t\treturn utils.getAddress(ethereum.selectedAddress)\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst ethereumNetworkId = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum) {\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\n\t\treturn id\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst getEthereumProvider = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (!ethereum) {\n\t\treturn null\n\t}\n\n\tif (ethereum.isMetaMask) {\n\t\treturn AUTH_TYPES.METAMASK.name\n\t}\n\n\treturn null\n}\n\nexport {\n\tgetEthers,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n\tgetEthereumProvider,\n}\n","import { ethers, utils } from 'ethers'\nimport pbkdf2 from 'pbkdf2'\nimport {\n\tencrypt,\n\tdecrypt,\n\tencryptLegacy,\n\tdecryptLegacy,\n} from 'services/crypto/crypto'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n\tgetKeys,\n\tremoveFromLocalStorage,\n} from 'helpers/localStorageHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\n\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\n\treturn new Promise((resolve, reject) => {\n\t\tpbkdf2.pbkdf2(\n\t\t\tpass,\n\t\t\tsalt,\n\t\t\titerations,\n\t\t\tkeylen,\n\t\t\tdigiset,\n\t\t\t(err, derivedKey) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err)\n\t\t\t\t}\n\n\t\t\t\tconst res = derivedKey.toString(encoding)\n\n\t\t\t\treturn resolve(res)\n\t\t\t}\n\t\t)\n\t})\n}\n\nasync function getCipherKey({ email, password }) {\n\tconst pass = generateSalt(password)\n\tconst salt = generateSalt(email)\n\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn key\n}\n\nfunction isLegacyCrypto(authType) {\n\treturn !authType || authType === 'legacy' || authType === 'grant'\n}\n\n// Returns 12 random words\nexport function getRandomMnemonic() {\n\tconst randomEntropy = utils.randomBytes(16)\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\n\n\treturn mnemonic\n}\n\nexport async function generateWallet(mnemonic) {\n\tconst seed = mnemonic || getRandomMnemonic()\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\n\n\treturn {\n\t\tmnemonic,\n\t\tprivateKey: wallet.privateKey,\n\t\taddress: wallet.address,\n\t\tpath: wallet.path,\n\t}\n}\n\nasync function encrKey({ email, password, authType }) {\n\tif (!authType) {\n\t\treturn await encryptLegacy(email, password)\n\t} else if (typeof authType === 'string') {\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\n\t} else {\n\t\tthrow new Error('INVALID_TYPE')\n\t}\n}\n\nexport async function encrData({ email = '', password, data, authType }) {\n\tconst isLegacy = isLegacyCrypto(authType)\n\tconst jsonData = JSON.stringify(data)\n\tif (isLegacy) {\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\n\t\treturn legacyEncrypted\n\t} else {\n\t\tconst encrypted = await encrypt(\n\t\t\tjsonData,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t\treturn encrypted\n\t}\n}\n\nexport async function decrData({ email = '', password, data, authType }) {\n\tlet decryptedStr = ''\n\tconst isLegacy = isLegacyCrypto(authType)\n\n\tif (isLegacy) {\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\n\t} else {\n\t\tdecryptedStr = await decrypt(\n\t\t\tdata,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n\n\ttry {\n\t\tconst decr = JSON.parse(decryptedStr)\n\t\treturn decr\n\t} catch (err) {\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\n\t}\n}\n\nexport async function createLocalWallet({\n\temail = '',\n\tpassword = '',\n\tmnemonic,\n\tauthType = '',\n}) {\n\tconst walletData = await generateWallet(mnemonic)\n\tconst key = await encrKey({ email, password, authType })\n\tconst data = await encrData({ data: walletData, email, password, authType })\n\tawait saveToLocalStorage({ data }, key)\n\n\twalletData.authType = authType\n\treturn walletData\n}\n\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\n\tconst wallet = await getLocalWallet({\n\t\temail,\n\t\tpassword,\n\t\tgetEncrypted: true,\n\t})\n\n\tif (wallet && wallet.data) {\n\t\tconst newKey = await encrKey({\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\n\t\t})\n\t\tsaveToLocalStorage(wallet, newKey)\n\t}\n}\n\nexport async function removeLegacyKey({ email = '', password = '' }) {\n\tconst key = await encrKey({ email, password })\n\tremoveFromLocalStorage(key)\n}\n\nexport async function addDataToWallet({\n\temail = '',\n\tpassword = '',\n\tdataKey = '',\n\tdataValue = '',\n\tauthType,\n}) {\n\tif (dataKey === 'data') {\n\t\tthrow new Error('INVALID_DATA_KEY')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (!wallet) {\n\t\tthrow new Error('WALLET_NOT_FOUND')\n\t}\n\n\tconst data = await encrData({ data: dataValue, email, password, authType })\n\twallet[dataKey] = data\n\tsaveToLocalStorage(wallet, key)\n}\n\nexport async function getRecoveryWalletData({ email, password, authType }) {\n\tif (!email || !password) {\n\t\treturn null\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\treturn {\n\t\tkey,\n\t\twallet,\n\t}\n}\n\nexport async function getLocalWallet({\n\temail,\n\tpassword,\n\tauthType,\n\tgetEncrypted,\n}) {\n\tif (!email || !password) {\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (wallet) {\n\t\tif (getEncrypted) {\n\t\t\treturn wallet\n\t\t}\n\n\t\tconst walletKeys = Object.keys(wallet)\n\n\t\tconst decrypts = walletKeys.map(async key => {\n\t\t\t// props[key] = await decrData({\n\t\t\t// \tdata: wallet[key],\n\t\t\t// \temail,\n\t\t\t// \tpassword,\n\t\t\t// \tauthType,\n\t\t\t// })\n\n\t\t\tconst decryptedData = await decrData({\n\t\t\t\tdata: wallet[key],\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\treturn decryptedData\n\t\t})\n\n\t\tconst decryptedData = await Promise.all(decrypts)\n\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\n\t\t\tprops[key] = decryptedData[index]\n\t\t\treturn props\n\t\t}, {})\n\n\t\treturn decryptedWallet\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction isWallet(item) {\n\treturn item && item.data && item.identity && item.privileges\n}\n\nexport function walletInfo(key, index, wallet) {\n\tconst split = key.split('-')\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\n\tconst authType = split[1] || 'legacy'\n\tconst name = mail || `Grant account # ${index + 1}`\n\n\tconst info = {\n\t\tkey,\n\t\twallet,\n\t\tname,\n\t\tauthType,\n\t}\n\n\treturn info\n}\n\nexport function getAllWallets() {\n\tconst walletKeys = getKeys()\n\t\t.map(key => {\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\titem: loadFromLocalStorage(key),\n\t\t\t}\n\t\t})\n\t\t.filter(({ item }) => isWallet(item))\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\n\n\treturn walletKeys\n}\n\nexport async function getWalletHash({ salt, password }) {\n\tconst passwordId = utils.id(password)\n\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn hash\n}\n\nexport function generateSalt(dataStr) {\n\tif (typeof dataStr !== 'string') {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\n\t} else if (!dataStr.length) {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\n\t}\n\n\tconst id = utils.id(dataStr)\n\tconst salt = utils.keccak256(id)\n\treturn salt\n}\n","import { Signer } from 'ethers'\nimport { ethers, utils } from 'ethers'\nimport LedgerEth from '@ledgerhq/hw-app-eth'\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\nimport HDKey from 'hdkey'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\n\nexport default class LedgerSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t\tthis._transport = TransportU2F\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\taddrsFromPubKey = async (\n\t\tpublicKey = '',\n\t\tchainCode = '',\n\t\t{ from = 0, to = 19 } = {}\n\t) => {\n\t\tconst hdKey = new HDKey()\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\n\n\t\tconst addrs = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\n\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\n\n\t\t\taddrs.push({\n\t\t\t\taddress: addr,\n\t\t\t\tpath: `${this.path}/${index}`,\n\t\t\t})\n\t\t}\n\n\t\treturn addrs\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\n\t\t\tthis.path,\n\t\t\tfalse,\n\t\t\ttrue\n\t\t)\n\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\n\t\t\tfrom,\n\t\t\tto,\n\t\t})\n\n\t\treturn addresses\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\n\n\t\tconst signature = {\n\t\t\tr: '0x' + r,\n\t\t\ts: '0x' + s,\n\t\t\tv,\n\t\t}\n\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\treturn txSigned\n\t}\n\n\t/*\n\t * TODO: may not work.\n\t * The ledger device or u2f seems to broken\n\t * Can list the addresses\n\t * Can sign messages\n\t * Signs transactions\n\t * Actually it show the tx but does not return value after\n\t * confirmation on the device\n\t */\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (!opts.hex) {\n\t\t\tif (typeof message === 'string') {\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\n\t\t\t}\n\n\t\t\tmessage = ethers.utils.hexlify(message)\n\t\t}\n\n\t\tmessage = message.substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\n\t\tsignature.r = '0x' + signature.r\n\t\tsignature.s = '0x' + signature.s\n\n\t\tconst { address } = await eth.getAddress(this.path)\n\n\t\tconst res = {\n\t\t\tsignature: ethers.utils.joinSignature(signature),\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LedgerSigner(provider, { path: this.path })\n\t}\n}\n","import base64 from 'base64url'\nimport ethers from 'ethers'\n\n// see https://github.com/ethereum/EIPs/issues/1341\n// Implements EIP 1341: Ethereum Web Tokens\n\nconst HEADER = base64.encode(\n\tJSON.stringify({\n\t\ttype: 'JWT',\n\t\talg: 'ETH',\n\t})\n)\n\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\n// .address is always checksummed\nfunction sign(signer, payload) {\n\tconst payloadEncoded = base64.encode(\n\t\tJSON.stringify({\n\t\t\t...payload,\n\t\t\taddress: signer.address,\n\t\t})\n\t)\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\n\t})\n}\n\nfunction verify(token) {\n\tconst parts = token.split('.')\n\tif (parts.length !== 3) {\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\n\t}\n\tconst msg = parts.slice(0, 2).join('.')\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\n\ttry {\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\n\t\treturn Promise.resolve({ from, payload })\n\t} catch (e) {\n\t\treturn Promise.reject(e)\n\t}\n}\n\nexport default { sign, verify }\n","module.exports = Module;","import moment from 'moment'\n\n// TODO: separate exports - not class\nclass Helper {\n\tgetGuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t}\n\n\tgetRndHash32(prefix) {\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t\tif (prefix) {\n\t\t\th = prefix + h.substring(prefix.length)\n\t\t}\n\t\treturn h\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tgetRandomBool() {\n\t\treturn !!this.getRandomInt(0, 1)\n\t}\n\n\tgetRandomPropFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\n\t}\n\n\tgetRandomKeyFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn keys[(keys.length * Math.random()) << 0]\n\t}\n\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\n\t\t// TODO: fix +/- 1 day bug\n\t\tlet initial = moment.isMoment(initialMoment)\n\t\t\t? initialMoment.valueOf()\n\t\t\t: undefined\n\n\t\treturn moment(initial)\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\n\t}\n\n\thexToRgbaColorString = (hex, alpha) => {\n\t\tif (!hex || typeof hex !== 'string') {\n\t\t\tthrow new Error('Invalid color')\n\t\t} else if (hex.length === 4) {\n\t\t\thex = hex + hex.substr(1, 4)\n\t\t}\n\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\n\t\t\talpha = 1\n\t\t}\n\n\t\tconst hexToDec = h => {\n\t\t\treturn parseInt('0x' + h, 16)\n\t\t}\n\n\t\tlet r = hexToDec(hex.substr(1, 2))\n\t\tlet g = hexToDec(hex.substr(3, 2))\n\t\tlet b = hexToDec(hex.substr(5, 2))\n\n\t\treturn `rgba(${r},${g},${b},${alpha})`\n\t}\n\n\tgetQuery(queryParams) {\n\t\tif (\n\t\t\t!queryParams ||\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\n\t\t) {\n\t\t\treturn ''\n\t\t}\n\t\treturn (\n\t\t\t'?' +\n\t\t\t\tObject.keys(queryParams)\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\n\t\t\t\t\t.map(key => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\n\t\t\t\t\t\t)\n\t\t\t\t\t}, '')\n\t\t\t\t\t.join('&') || ''\n\t\t)\n\t}\n\n\tgetErrMsg = err => {\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\n\n\t\tif (stack.length > 1) {\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\n\t\t} else {\n\t\t\treturn (err.error || err || '').toString()\n\t\t}\n\t}\n\n\tisInt = int => {\n\t\treturn typeof int === 'number' && int % 1 === 0\n\t}\n\n\tshuffleArray = array => {\n\t\treturn [...array].sort(() => Math.random() - 0.5)\n\t}\n}\n\nexport default new Helper()\n","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute } from 'actions'\r\nglobal.appVersion = packageJson.version\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA, versionB) => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst latestVersion = meta.version\r\n\t\t\t\tconst currentVersion = global.appVersion\r\n\t\t\t\tconst shouldForceRefresh = semverGreaterThan(\r\n\t\t\t\t\tlatestVersion,\r\n\t\t\t\t\tcurrentVersion\r\n\t\t\t\t)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { logOut } from 'services/store-data/auth'\nimport moment from 'moment'\n\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\n\nconst processResponse = (res, dontThrow, skipRedirect) => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\tif (res.status === 401 || res.status === 403) {\n\t\t\tlogOut(skipRedirect)\n\t\t}\n\t\tif (!dontThrow) {\n\t\t\thandleRequesterErrorRes({ res, text })\n\t\t}\n\t})\n}\n\nexport const getSession = ({\n\tidentity,\n\tmode,\n\tsignature,\n\tauthToken,\n\thash,\n\ttypedData,\n\tsignerAddress,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'auth/',\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tidentity,\n\t\t\t\tmode,\n\t\t\t\tsignature,\n\t\t\t\tauthToken,\n\t\t\t\thash,\n\t\t\t\ttypedData,\n\t\t\t\tsignerAddress,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const checkSession = ({ authSig, skipErrToast }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'session',\n\t\t\tmethod: 'GET',\n\t\t\tauthSig,\n\t\t\tskipErrToast,\n\t\t})\n\t\t.then(res => processResponse(res, true, true))\n}\n\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\n\tconst formData = new FormData()\n\tformData.append('media', imageBlob, imageName)\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'media',\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nconst convertItemToJSON = item => {\n\tconst itemToConvert = { ...item }\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\n\t}\n\n\treturn JSON.stringify(itemToConvert)\n}\n\nexport const getAdUnits = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdUnit = ({ unit, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdUnit = ({ unit, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdSlots = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdSlot = ({ slot, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdSlot = ({ slot, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `slots/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getCampaigns = ({ authSig, creator }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns/by-owner',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${campaign.id}/close`,\n\t\t\tmethod: 'PUT',\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAllCampaigns = ({ all, statuses, byEarner } = {}) => {\n\tconst queryParams = {\n\t\t...(all && { all: true }),\n\t\t...(statuses && { status: statuses.join(',') }),\n\t\tbyEarner,\n\t}\n\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateCampaign = ({ campaign, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(campaign),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetSigner,\n\tgetMultipleTxSignatures,\n} from 'services/smart-contracts/actions/ethers'\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\nimport { Contract } from 'ethers'\nimport {\n\tbigNumberify,\n\tparseUnits,\n\tgetAddress,\n\tInterface,\n\tkeccak256,\n\tid,\n} from 'ethers/utils'\nimport { generateAddress2 } from 'ethereumjs-util'\nimport { executeTx } from 'services/adex-relayer'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectFeeTokenWhitelist,\n\tselectSaiToken,\n\tt,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\nimport solc from 'solcBrowser'\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\nimport { contracts } from 'services/smart-contracts/contractsCfg'\nconst { AdExENSManager, ReverseRegistrar } = contracts\n\nconst ERC20 = new Interface(ERC20TokenABI)\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\n\nexport async function getIdentityDeployData({\n\towner,\n\trelayerRoutineAuthValidUntil = 10648454444,\n}) {\n\tconst {\n\t\tidentityFactoryAddr,\n\t\trelayerAddr,\n\t\tbaseIdentityAddr,\n\t\tidentityRecoveryAddr,\n\t\tcoreAddr,\n\t\tmainToken,\n\t} = selectRelayerConfig()\n\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\n\n\tconst routineAuthorizationsRaw = [\n\t\t{\n\t\t\trelayer: relayerAddr,\n\t\t\toutpace: coreAddr,\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tfeeTokenAmount: '0x00',\n\t\t},\n\t]\n\n\tconst bytecode = getProxyDeployBytecode(\n\t\tbaseIdentityAddr,\n\t\tprivileges,\n\t\t{\n\t\t\tprivSlot: 0,\n\t\t\troutineAuthsSlot: 1,\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\n\t\t\t\tnew RoutineAuthorization(x).hash()\n\t\t\t),\n\t\t},\n\t\tsolc\n\t)\n\n\tconst salt = keccak256(owner)\n\n\tconst identityAddr = getAddress(\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\n\t)\n\n\treturn {\n\t\tidentityFactoryAddr,\n\t\tbaseIdentityAddr,\n\t\tbytecode,\n\t\tsalt,\n\t\tidentityAddr,\n\t\tprivileges,\n\t\troutineAuthorizationsRaw,\n\t}\n}\n\nexport async function withdrawFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst mainToken = selectMainToken()\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\n\tconst { wallet, identity, stats } = account\n\tconst { authType } = wallet\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: tokenAddr,\n\t\tto: tokenAddr,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t\twithdrawTx: true,\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: toWithdraw,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\n\tif (fees.totalBN.gt(mtBalance)) {\n\t\tthrow new Error(\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\n\t\t\t\targs: [\n\t\t\t\t\t`${formatTokenAmount(\n\t\t\t\t\t\tmtBalance.toString(),\n\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t2\n\t\t\t\t\t)} ${symbol}`,\n\t\t\t\t\t`${fees.total} ${symbol}`,\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\n\t\t\t\t],\n\t\t\t})\n\t\t)\n\t}\n\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\n\n\tlet actualWithdrawAmount = toWithdraw\n\n\tif (toWithdraw.gt(maxWithdraw)) {\n\t\tactualWithdrawAmount = maxWithdraw\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\n\t\t\tif (tx.withdrawTx) {\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tactualWithdrawAmount.toString(),\n\t\t\t\t])\n\t\t\t}\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function setIdentityPrivilege({\n\taccount,\n\tsetAddr,\n\tprivLevel,\n\tgetFeesOnly,\n}) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst identityInterface = new Interface(Identity.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: identityAddr,\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t]),\n\t}\n\n\tconst txns = [tx1]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\ttxnsByFeeToken,\n\t\tidentityAddr,\n\t\twallet,\n\t\tprovider,\n\t\textraData: {\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t},\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\nfunction txnsByTokenWithSaiToDaiSwap({\n\ttxns,\n\tmainToken,\n\tdaiAddr,\n\tsaiAddr,\n\tidentityAddr,\n}) {\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\n\t\t(current, tx, i) => {\n\t\t\tconst { withdrawAmountByToken } = tx\n\n\t\t\tconst needSaiToDaiSwap =\n\t\t\t\t!!withdrawAmountByToken &&\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\n\t\t\t\tmainToken.address === daiAddr &&\n\t\t\t\tsaiAddr !== daiAddr\n\n\t\t\tlet feeTokenAddr = ''\n\n\t\t\tif (needSaiToDaiSwap) {\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\n\t\t\t\t)\n\t\t\t\tfeeTokenAddr = daiAddr\n\t\t\t}\n\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\n\t\t\t// normalize tx\n\t\t\ttx.feeTokenAddr = feeTokenAddr\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\n\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\n\t\t\t\ttx,\n\t\t\t]\n\n\t\t\treturn current\n\t\t},\n\t\t{\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\n\t\t\ttxnsByFeeToken: {},\n\t\t}\n\t)\n\n\treturn { txnsByFeeToken, saiWithdrawAmount }\n}\n\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: AdExENSManager.address,\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\n\t\t\tAdExENSManager.publicResolver,\n\t\t\tid(username),\n\t\t\tidentityAddr,\n\t\t]),\n\t}\n\n\tconst tx2 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: ReverseRegistrar.address,\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\n\t\t]),\n\t}\n\n\tconst txns = [tx1, tx2]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { total } = await getIdentityTxnsTotalFees({\n\t\ttxnsByFeeToken,\n\t\tmainToken,\n\t})\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function getIdentityTxnsWithNoncesAndFees({\n\tamountInMainTokenNeeded = '0',\n\ttxns = [],\n\tidentityAddr,\n\tprovider,\n\tIdentity,\n\taccount,\n\tgetToken,\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst saiToken = selectSaiToken()\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\n\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\n\tlet identityContract = null\n\n\tif (isDeployed) {\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\n\t}\n\n\tconst initialNonce = isDeployed\n\t\t? (await identityContract.nonce()).toNumber()\n\t\t: 0\n\n\tconst feesForMainTxns = txns.length\n\t\t? bigNumberify(\n\t\t\t\t!initialNonce\n\t\t\t\t\t? mainTokenWithFees.minDeploy\n\t\t\t\t\t: mainTokenWithFees.minRecommended\n\t\t  ).add(\n\t\t\t\tbigNumberify(mainTokenWithFees.minRecommended).mul(\n\t\t\t\t\tbigNumberify(txns.length - 1)\n\t\t\t\t)\n\t\t  )\n\t\t: bigNumberify(0)\n\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\n\t\tbigNumberify(amountInMainTokenNeeded)\n\t)\n\n\tconst {\n\t\tsweepTxns = [],\n\t\tswapAmountsByToken = {},\n\t} = await getSweepingTxnsIfNeeded({\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\n\n\t\taccount,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns: sweepTxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// 1st - always get sweeping txns (channelWithdraw)\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\n\t// 3rd - make other txns with the main token only\n\n\t// TODO: make it work with other tokens\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\n\n\tif (!saiSwapAmount.isZero()) {\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\n\t\t\t...(await swapSaiToDaiTxns({\n\t\t\t\tgetToken,\n\t\t\t\tidentityAddr,\n\t\t\t\tdaiAddr,\n\t\t\t\tsaiToken,\n\t\t\t\tswapAmount: saiSwapAmount,\n\t\t\t})),\n\t\t]\n\t}\n\n\tconst allFeeTokens = [\n\t\t...new Set([\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\n\t\t]),\n\t]\n\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\n\t\ttxns[token] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\n\t\t]\n\n\t\treturn txns\n\t}, {})\n\n\tlet currentNonce = initialNonce\n\n\tObject.keys(txnsByFeeToken).forEach(key => {\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\n\t\t\tconst txFeeAmount = isSweepTx ? feeToken.min : feeToken.minRecommended\n\n\t\t\tconst minFeeAmount = bigNumberify(\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : txFeeAmount\n\t\t\t)\n\n\t\t\tconst sweepRoutinesFeeAmount = bigNumberify(routinesSweepTxCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\n\t\t\t\tbigNumberify(feeToken.minRecommended)\n\t\t\t)\n\n\t\t\t// Total relayer fees for the transaction\n\t\t\tconst feeAmount = minFeeAmount\n\t\t\t\t.add(sweepRoutinesFeeAmount)\n\t\t\t\t.add(extraFeesAmount)\n\t\t\t\t.toString()\n\n\t\t\t// fees that are not pre calculated with in the total identity balance\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\n\t\t\t\t.toString()\n\n\t\t\tconst txWithNonce = {\n\t\t\t\t...tx,\n\t\t\t\tfeeTokenAddr: feeToken.address,\n\t\t\t\tfeeAmount,\n\t\t\t\tnonce: currentNonce,\n\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t}\n\n\t\t\tcurrentNonce += 1\n\n\t\t\treturn txWithNonce\n\t\t})\n\t})\n\n\treturn txnsByFeeToken\n}\n\nexport async function getApproveTxns({\n\tgetToken,\n\ttoken,\n\tidentityAddr,\n\tfeeTokenAddr,\n\tapproveForAddress,\n\tapproveAmount,\n}) {\n\tconst tokenContract = getToken(token)\n\n\tconst allowance = await tokenContract.allowance(\n\t\tidentityAddr,\n\t\tapproveForAddress\n\t)\n\n\tconst approveTxns = []\n\n\tif (!allowance.isZero()) {\n\t\tapproveTxns.push({\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: token.address,\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\n\t\t})\n\t}\n\n\tapproveTxns.push({\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: token.address,\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\n\t})\n\n\treturn approveTxns\n}\n\nasync function swapSaiToDaiTxns({\n\tidentityAddr,\n\tdaiAddr,\n\tsaiToken,\n\tswapAmount,\n\tgetToken,\n}) {\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: saiToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\n\t\tapproveAmount: swapAmount,\n\t})\n\n\tconst swapTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tto: SCD_MCD_MIGRATION_ADDR,\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\n\t}\n\n\treturn [...approveTxns, swapTx]\n}\n\n// TODO: use byToken where needed\n// currently works because only using SAI and DAI only\nexport async function getIdentityTxnsTotalFees({\n\ttxnsByFeeToken,\n\tmainToken = {},\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst bigZero = bigNumberify('0')\n\tconst feesData = Object.values(txnsByFeeToken)\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\n\t\t.reduce(\n\t\t\t(result, tx) => {\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\n\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\n\t\t\t\t).add(txFeeAmount)\n\n\t\t\t\treturn result\n\t\t\t},\n\t\t\t{ total: bigZero, byToken: {} }\n\t\t)\n\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\n\t\treturn {\n\t\t\taddress: key,\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\n\t\t\tsymbol,\n\t\t\tfeeFormatted: `${formatTokenAmount(\n\t\t\t\tvalue.toString(),\n\t\t\t\tdecimals,\n\t\t\t\tfalse,\n\t\t\t\t4\n\t\t\t)} ${symbol}`,\n\t\t}\n\t})\n\n\tconst fees = {\n\t\t// TODO: change to return total as BN and add totalFormatted\n\t\ttotal: formatTokenAmount(\n\t\t\tfeesData.total.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalBN: feesData.total,\n\t\tbyToken,\n\t}\n\n\treturn fees\n}\n\nexport async function processExecuteByFeeTokens({\n\ttxnsByFeeToken,\n\twallet,\n\tprovider,\n\tidentityAddr,\n\textraData = {},\n}) {\n\tconst signer = await getSigner({ wallet, provider })\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\n\t\tconst data = {\n\t\t\ttxnsRaw,\n\t\t\tsignatures,\n\t\t\tidentityAddr,\n\t\t\t...extraData,\n\t\t}\n\n\t\tif (\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\n\t\t\tprocess.env.NODE_ENV === 'development'\n\t\t) {\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\n\t\t}\n\n\t\tconst result = await executeTx(data)\n\n\t\treturn {\n\t\t\tresult,\n\t\t}\n\t})\n\n\tconst results = await Promise.all(all)\n\n\treturn results\n}\n\nexport async function withdrawOtherTokensFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\ttokenAddress,\n\ttokenDecimals,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\tconst decimals = parseInt(tokenDecimals, 10)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: mainToken.address,\n\t\tto: tokenAddress,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nconst updateCfg = (current, type, cfg) => {\n\tconst newCfg = { ...current }\n\tnewCfg[type] = { ...cfg }\n\treturn newCfg\n}\n\nexport default function uiReducer(state = initialState.config, action) {\n\tswitch (action.type) {\n\t\tcase UPDATE_RELAYER_CFG:\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import account from './accountReducer'\nimport signin from './signinReducer'\nimport identity from './identityReducer'\nimport wallet from './walletReducer'\nimport items from './itemsReducer'\nimport newItem from './newItemsReducer'\n// import currentItem from './currentItemsReducer'\nimport spinners from './spinnersReducer'\nimport ui from './uiReducer'\nimport toasts from './toastsReducer'\nimport confirm from './confirmReducer'\nimport nav from './navReducer'\nimport language from './languageReducer'\nimport validations from './validateItemsReducer'\nimport newTransactions from './newTransactionsReducer'\nimport web3Transactions from './web3TransactionsReducer'\nimport tags from './tagsReducer'\nimport ethNetwork from './ethNetworkReducer'\nimport config from './configReducer'\nimport analytics from './analyticsReducer'\nimport channels from './channelsReducer'\nimport selectedItems from './selectedItemsReducer'\nimport ensAddresses from './ensReducer'\nimport { filterActions } from 'redux-ignore'\nimport * as types from 'constants/actionTypes'\n\nexport const persistReducers = {\n\taccount,\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\n\tlanguage,\n\tweb3Transactions,\n\ttags,\n\tethNetwork,\n\tconfig,\n\tanalytics,\n\tchannels,\n\tensAddresses,\n}\n\nexport const memoryReducers = {\n\tsignin,\n\tidentity,\n\twallet,\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\n\ttoasts,\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\n\tvalidations,\n\tselectedItems,\n\tnewTransactions,\n}\n","import {\n\tCREATE_ACCOUNT,\n\tRESET_ACCOUNT,\n\tUPDATE_ACCOUNT,\n} from '../constants/actionTypes'\nimport initialState from 'store/initialState'\nimport { Base, Account } from 'adex-models'\n\nexport default function accountReducer(state = initialState.account, action) {\n\tlet newState\n\tlet newAccount\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase CREATE_ACCOUNT:\n\t\t\tnewAccount = { ...action.account }\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase RESET_ACCOUNT:\n\t\t\tnewAccount = initialState.account\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase UPDATE_ACCOUNT:\n\t\t\tnewAccount = Base.updateObject({\n\t\t\t\titem: newState,\n\t\t\t\tnewValues: { ...action.newValues },\n\t\t\t\tobjModel: Account,\n\t\t\t})\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_ITEM,\n\tDELETE_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM_FROM_ITEM,\n\tADD_ITEM_TO_ITEM,\n\tUPDATE_ALL_ITEMS,\n\tRESET_ALL_ITEMS,\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\nimport initialState from 'store/initialState'\nimport { Item } from 'adex-models'\n\nexport default function itemsReducer(state = initialState.items, action) {\n\tlet newState\n\tlet newCollection\n\tlet newItem\n\tlet collectionId\n\tlet item\n\n\tconst collection = (state = {}, action) => {\n\t\tif (!action.item) return state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[action.item.id]: action.item,\n\t\t}\n\t}\n\n\tconst removeCollectionProp = (collection = {}, prop) => {\n\t\tlet newCol = { ...collection }\n\t\tdelete newCol[prop]\n\t\treturn newCol\n\t}\n\n\tif (action.item && action.itemType) {\n\t\tnewState = { ...state }\n\t\titem = { ...action.item }\n\t\tcollectionId = action.itemType\n\t}\n\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\n\t\t\t// id is going to be set when it comes here\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase ADD_ITEM_TO_ITEM:\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase DELETE_ITEM:\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase REMOVE_ITEM_FROM_ITEM:\n\t\t\tnewItem = Item.removeItem(\n\t\t\t\tnewState[collectionId][item._id],\n\t\t\t\taction.toRemove\n\t\t\t)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ITEM:\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ALL_ITEMS:\n\t\t\tnewState = { ...state }\n\t\t\tconst newItems = action.items.reduce((items, item, index) => {\n\t\t\t\tconst currentItems = { ...items }\n\t\t\t\tconst newItem = { ...item }\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\n\t\t\t\treturn currentItems\n\t\t\t}, newState[action.itemType])\n\n\t\t\tnewState[action.itemType] = newItems\n\t\t\treturn newState\n\t\tcase RESET_ALL_ITEMS:\n\t\t\tnewState = { ...initialState.items }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_GLOBAL_UI, UPDATE_UI_BY_IDENTITY } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiReducer(state = initialState.ui, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_UI_BY_IDENTITY:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\n\t\t\tnewState.byIdentity[action.identity] = {\n\t\t\t\t...newState.byIdentity[action.identity],\n\t\t\t}\n\t\t\tif (action.category) {\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\n\t\t\t\t}\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\n\t\t\t\t\taction.value\n\t\t\t} else {\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\t\tcase UPDATE_GLOBAL_UI:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.global = { ...newState.global }\n\t\t\tif (action.category) {\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\n\t\t\t\tnewState.global[action.category][action.item] = action.value\n\t\t\t} else {\n\t\t\t\tnewState.global[action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import initialState from 'store/initialState'\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\nimport { setLang } from 'services/translations/translations'\n\nexport default function languageReducer(state = initialState.language, action) {\n\tswitch (action.type) {\n\t\tcase CHANGE_LANGUAGE:\n\t\t\tlet newLang = action.lang || state\n\t\t\tsetLang(newLang)\n\t\t\treturn newLang\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_WEB3_TRANSACTION,\n\tUPDATE_WEB3_TRANSACTION,\n\tRESET_WEB3_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function web3TransactionsReducer(\n\tstate = initialState.web3Transactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\tlet newAddrTxs\n\tlet pendingTxs\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateObj = ({ obj, key, val }) => {\n\t\tobj = obj || {}\n\t\tobj[key] = val\n\n\t\treturn obj\n\t}\n\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\n\t\t\tpTxs.push(newTx.hash)\n\t\t} else {\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\n\t\t}\n\n\t\treturn pTxs\n\t}\n\n\tif (!action.addr) {\n\t\treturn state\n\t}\n\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\n\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\n\t// If we keep the transactions on the node we can clean them from local storage on address change\n\tswitch (action.type) {\n\t\tcase ADD_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...action.value }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase UPDATE_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase RESET_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: { txHash: action.tx },\n\t\t\t})\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_TAGS:\n\t\t\tnewState = { ...state, ...action.tags }\n\t\t\treturn newState\n\t\tcase ADD_NEW_TAG:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.tag] = action.tag\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_GAS_DATA:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.gasData = { ...action.gasData }\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ANALYTICS,\n\tRESET_ANALYTICS,\n\tUPDATE_ANALYTICS_TIMEFRAME,\n\tUPDATE_ADVANCED_CAMPAIGN_ANALYTICS,\n\tUPDATE_DEMAND_ANALYTICS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function analyticsReducer(\n\tstate = initialState.analytics,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.timeframe = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.side] = { ...newState[action.side] }\n\t\t\tnewState[action.side][action.eventType] = {\n\t\t\t\t...newState[action.side][action.eventType],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][\n\t\t\t\taction.timeframe\n\t\t\t] = { ...action.value }\n\t\t\treturn newState\n\t\tcase UPDATE_ADVANCED_CAMPAIGN_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.campaigns = { ...newState.campaigns }\n\t\t\tnewState.campaigns[action.eventType] = {\n\t\t\t\t...action.value,\n\t\t\t}\n\t\t\treturn newState\n\t\tcase UPDATE_DEMAND_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.demand = action.value\n\t\t\treturn newState\n\t\tcase RESET_ANALYTICS:\n\t\t\tnewState = { ...initialState.analytics }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function channelsReducer(state = initialState.channels, action) {\n\tlet newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\n\t\t\tnewState.withBalanceAll = { ...action.channels }\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\n\t\t\treturn newState\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\n\t\t\tnewState.withOutstandingBalance =\n\t\t\t\tinitialState.channels.withOutstandingBalance\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function ensReducer(state = initialState.ensAddresses, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function signinReducer(state = initialState.signin, action) {\n\tlet newState\n\tlet newSignin\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SIGNIN:\n\t\t\tnewSignin = { ...newState }\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\n\t\t\t\tnewSignin[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewSignin[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newSignin\n\n\t\t\treturn newState\n\n\t\tcase RESET_SIGNIN:\n\t\t\tnewSignin = { ...initialState.signin }\n\t\t\tnewState = newSignin\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function identityReducer(state = initialState.identity, action) {\n\tlet newState\n\tlet newIdentity\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_IDENTITY:\n\t\t\tnewIdentity = newState\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewIdentity[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newIdentity\n\n\t\t\treturn newState\n\n\t\tcase RESET_IDENTITY:\n\t\t\tnewIdentity = { ...initialState.identity }\n\t\t\tnewState = newIdentity\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function walletReducer(state = initialState.wallet, action) {\n\tlet newState\n\tlet newWallet\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_WALLET:\n\t\t\tnewWallet = newState\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\n\t\t\t\tnewWallet[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewWallet[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newWallet\n\n\t\t\treturn newState\n\n\t\tcase RESET_WALLET:\n\t\t\tnewWallet = { ...initialState.wallet }\n\t\t\tnewState = newWallet\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newItemsReducer(state = initialState.newItem, action) {\n\tlet newState\n\tlet newItem\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...action.item }\n\t\t\tnewState[action.itemType] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\n\t\t\tnewState[action.item] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_ALL_NEW_ITEMS:\n\t\t\tnewState = { ...initialState.newItem }\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function spinnersReducer(state = initialState.spinners, action) {\n\tconst newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SPINNER:\n\t\t\tnewState[action.spinner] = action.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_ITEM:\n\t\t\tnewState['update' + action.item._id] = false\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function toastsReducer(state = initialState.toasts, action) {\n\tlet newState\n\tlet newToast\n\n\tswitch (action.type) {\n\t\tcase ADD_TOAST:\n\t\t\tnewToast = { ...action.toast }\n\t\t\tnewToast.added = Date.now()\n\t\t\tnewState = [newToast, ...state]\n\t\t\treturn newState\n\n\t\tcase REMOVE_TOAST:\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n// import Helper from './../helpers/miscHelpers'\n\nexport default function confirmReducer(state = initialState.confirm, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase CONFIRM_ACTION:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.data = { ...action.confirm.data }\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\n\t\t\tnewState.onCancel = action.confirm.onCancel\n\t\t\tnewState.active =\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\n\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\n\t\t\tnewState.calledOn = Date.now()\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_NAV } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function navReducer(state = initialState.nav, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NAV:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ITEM_VALIDATION,\n\tRESET_ITEM_VALIDATION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function validateItemsReducer(\n\tstate = initialState.validations,\n\taction\n) {\n\tlet newState\n\tlet newErrors\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tcase RESET_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item] }\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\n\t\t\t\tdelete newErrors[action.key]\n\t\t\t} else if (newErrors && !action.key) {\n\t\t\t\tnewErrors = {}\n\t\t\t}\n\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SELECTED_ITEMS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\n\tUPDATE_NEW_TRANSACTION,\n\tRESET_NEW_TRANSACTION,\n\tRESET_ALL_NEW_TRANSACTIONS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newTransactionsReducer(\n\tstate = initialState.newTransactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateTx = ({ tx, key, val }) => {\n\t\ttx = tx || {}\n\t\ttx[key] = val\n\n\t\treturn tx\n\t}\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_TRANSACTION:\n\t\t\tnewTx = {\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\n\t\t\t}\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\n\n\t\t\t// console.log('newTx', newTx)\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_NEW_TRANSACTION:\n\t\t\tnewTx = { ...initialState.newTransactions.default }\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\n\t\t\tnewState = initialState.newTransactions\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\nimport thunk from 'redux-thunk'\nimport { persistReducers, memoryReducers } from 'reducers'\nimport history from './history'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { persistStore, persistCombineReducers } from 'redux-persist'\nimport localStorage from 'redux-persist/lib/storage'\n// import session from 'redux-persist/lib/storage/session'\n\nconst reduxRouterMiddleware = routerMiddleware(history)\n\nconst persistConfig = {\n\tkey: 'persist',\n\tstorage: localStorage,\n}\n\n// const configSession = {\n//   key: 'session',\n//   storage: session,\n// }\n\n// const rootReducer = combineReducers(reducers)\n\n// TODO: make session reducer(signin) - RAM reducer (no persist)\nconst rootReducer = combineReducers({\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\n\trouter: connectRouter(history),\n})\n\nconst logger = store => next => action => {\n\t// if (action.type === 'UPDATE_NEWITEM') {\n\t//   return next(action)\n\t// }\n\n\tconsole.groupCollapsed(action.type)\n\tconsole.info('dispatching', action)\n\tlet result = next(action)\n\tconsole.log('next state', store.getState())\n\tconsole.groupEnd(action.type)\n\treturn result\n}\n\nfunction configureStoreProd(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t]\n\n\tif (process.env.BUILD_TYPE === 'staging') {\n\t\tmiddlewares.push(logger)\n\t}\n\n\tlet store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcompose(applyMiddleware(...middlewares))\n\t)\n\n\tlet persistor = persistStore(store)\n\n\treturn { persistor, store }\n}\n\nfunction configureStoreDev(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n\t\treduxImmutableStateInvariant(),\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t)\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\n\t\t\tstore.replaceReducer(nextReducer)\n\t\t})\n\t}\n\n\tlet persistor = persistStore(store)\n\treturn { persistor, store }\n}\n\nconst configureStore =\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\n\nexport default configureStore()\n","import configureStore from './configureStore'\n\nexport default configureStore\n\nexport const store = configureStore.store\nexport const persistor = configureStore.persistor\nexport const dispatch = store.dispatch\nexport const getState = store.getState\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\n\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getOwnerIdentities = ({ owner }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/by-owner/${owner}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getIdentityData = ({ identityAddr }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getRelayerConfigData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'relayer/cfg',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}/execute`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures,\n\t\t\t\tidentityAddr,\n\t\t\t\tchannel,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const regAccount = ({\n\towner,\n\temail,\n\tbytecode,\n\tidentityFactoryAddr,\n\tbaseIdentityAddr,\n\tsalt,\n\tidentityAddr,\n\tprivileges,\n\troutineAuthorizationsRaw,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner,\n\t\t\t\temail,\n\t\t\t\tbytecode,\n\t\t\t\tidentityFactoryAddr,\n\t\t\t\tbaseIdentityAddr,\n\t\t\t\tsalt,\n\t\t\t\tidentityAddr,\n\t\t\t\tprivileges,\n\t\t\t\troutineAuthorizationsRaw,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getQuickWallet = ({ hash }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tsalt,\n\t\t\t\thash,\n\t\t\t\tencryptedWallet,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getEmail = ({ email }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { constants } from 'adex-models'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport { bigNumberify, formatEther } from 'ethers/utils'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectRoutineWithdrawTokens,\n\tselectFeeTokenWhitelist,\n} from 'selectors'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\n\tif (token.address === mainToken.address) {\n\t\treturn balance\n\t}\n\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\n\n\t// approve + swap txns\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\n\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\n\treturn isAvailable ? balance : bigNumberify(0)\n}\n\nexport const getWithdrawTokensBalances = async ({\n\tauthType,\n\taddress,\n\tgetFullBalances,\n}) => {\n\tconst { getToken } = await getEthers(authType)\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\n\t\tconst tokenContract = getToken(token)\n\n\t\tconst balance = await tokenContract.balanceOf(address)\n\n\t\tconst available = getFullBalances\n\t\t\t? balance\n\t\t\t: tokenAvailableBalance({\n\t\t\t\t\ttoken,\n\t\t\t\t\tmainToken,\n\t\t\t\t\tbalance,\n\t\t\t  })\n\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: available,\n\t\t})\n\n\t\treturn { token, balance: available, balanceMainToken }\n\t})\n\n\tconst balances = await Promise.all(balancesCalls)\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\n\t\t(data, balanceData) => {\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\n\t\t\t\tbalanceData.balanceMainToken\n\t\t\t)\n\n\t\t\tif (balanceData.token.address === mainToken.address) {\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\n\t\t\t}\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\n\t\t\tmainTokenBalance: bigNumberify(0),\n\t\t}\n\t)\n\n\treturn {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t\ttotalBalanceInMainToken,\n\t}\n}\n\nexport async function getAddressBalances({\n\taddress,\n\tauthType,\n\tgetFullBalances,\n}) {\n\tconst { provider } = await getEthers(authType)\n\n\tconst calls = [\n\t\tprovider.getBalance(address.address),\n\t\tgetWithdrawTokensBalances({\n\t\t\tauthType,\n\t\t\taddress: address.address,\n\t\t\tgetFullBalances,\n\t\t}),\n\t]\n\n\tconst balances = await Promise.all(calls)\n\tconst formatted = {\n\t\taddress: address.address,\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\n\t\tbalanceEth: formatEther(balances[0].toString()),\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\n\t\t\treturn {\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\n\t\t\t\tsymbol: token.symbol,\n\t\t\t}\n\t\t}),\n\t}\n\n\treturn formatted\n}\n\nexport async function getAccountStats({\n\taccount,\n\toutstandingBalanceMainToken = {\n\t\ttotal: bigNumberify('0'),\n\t\tavailable: bigNumberify('0'),\n\t},\n}) {\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { address } = identity\n\tconst { getIdentity } = await getEthers(authType)\n\tconst { decimals } = selectMainToken()\n\n\tconst { status = {} } = identity\n\tconst identityContract = getIdentity({ address })\n\tlet privilegesAction\n\ttry {\n\t\tawait identityContract.deployed()\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\n\t} catch {\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\n\t}\n\n\tconst calls = [\n\t\tgetWithdrawTokensBalances({ authType, address }),\n\t\tprivilegesAction,\n\t]\n\n\tconst [\n\t\tidentityWithdrawTokensBalancesBalances = {},\n\t\twalletPrivileges,\n\t] = await Promise.all(\n\t\tcalls.map(c =>\n\t\t\tc\n\t\t\t\t.then(res => res)\n\t\t\t\t.catch(e => {\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t)\n\t)\n\n\tconst identityBalanceMainToken =\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\n\n\t// BigNumber values for balances\n\tconst raw = {\n\t\tidentityWithdrawTokensBalancesBalances,\n\t\twalletPrivileges,\n\t\tidentityBalanceMainToken,\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.total\n\t\t),\n\t}\n\n\tconst formatted = {\n\t\twalletAddress: wallet.address,\n\t\twalletAuthType: wallet.authType,\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\n\t\tidentityAddress: identity.address,\n\t\tidentityBalanceMainToken: formatTokenAmount(\n\t\t\tidentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t}\n\n\treturn {\n\t\traw,\n\t\tformatted,\n\t}\n}\n\n// NOTE: currently working because DAI and SAI has the same price and decimals\n// We should use getOutstandingBalanceMainToken if changed\nexport async function getOutstandingBalance({ withBalance }) {\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable } = ch\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstanding)\n\t\tcurrent.available = current.available.add(\n\t\t\tbigNumberify(outstandingAvailable)\n\t\t)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\n\tconst tokens = selectRoutineWithdrawTokens()\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\n\t\tconst { depositAsset } = channel\n\t\tconst token = tokens[depositAsset]\n\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: outstandingAvailable,\n\t\t})\n\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstandingMT)\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getAllValidatorsAuthForIdentity({\n\twithBalance,\n\taccount,\n}) {\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\n\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\n\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\tconst keys = Object.keys(allValidators)\n\n\tconst tokenCalls = keys.map(async key => {\n\t\tif (allValidators[key]) {\n\t\t\treturn allValidators[key]\n\t\t} else {\n\t\t\tconst token = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: key,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\treturn token\n\t\t}\n\t})\n\n\tconst allTokens = await Promise.all(tokenCalls)\n\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[key]: allTokens[index],\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\treturn validatorsAuth\n}\n\nconst saiDaiConversion = async ({ token, balance }) => balance\n\nconst valueInMainTokenConversions = {\n\t// SAI\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\n\t\t// DAI\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\n\t},\n\t// DAI\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\n\t\t// SAI\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\n\t},\n}\n\nexport async function tokenInMainTokenValue({ token, balance }) {\n\tconst { address } = selectMainToken()\n\n\tif (address === token.address) {\n\t\treturn balance\n\t}\n\n\tconst valueInMainToken = await valueInMainTokenConversions[\n\t\taddress.toLowerCase()\n\t][token.address.toLowerCase()]({\n\t\ttoken,\n\t\tbalance,\n\t})\n\n\treturn valueInMainToken\n}\n"],"sourceRoot":""}